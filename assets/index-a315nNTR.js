var D4=Object.defineProperty;var k4=(n,e,t)=>e in n?D4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ri=(n,e,t)=>k4(n,typeof e!="symbol"?e+"":e,t);function N4(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ce(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hk={exports:{}},Zv={},fk={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=Symbol.for("react.element"),L4=Symbol.for("react.portal"),M4=Symbol.for("react.fragment"),$4=Symbol.for("react.strict_mode"),F4=Symbol.for("react.profiler"),j4=Symbol.for("react.provider"),V4=Symbol.for("react.context"),U4=Symbol.for("react.forward_ref"),B4=Symbol.for("react.suspense"),H4=Symbol.for("react.memo"),z4=Symbol.for("react.lazy"),tO=Symbol.iterator;function K4(n){return n===null||typeof n!="object"?null:(n=tO&&n[tO]||n["@@iterator"],typeof n=="function"?n:null)}var pk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gk=Object.assign,mk={};function od(n,e,t){this.props=n,this.context=e,this.refs=mk,this.updater=t||pk}od.prototype.isReactComponent={};od.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};od.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function vk(){}vk.prototype=od.prototype;function US(n,e,t){this.props=n,this.context=e,this.refs=mk,this.updater=t||pk}var BS=US.prototype=new vk;BS.constructor=US;gk(BS,od.prototype);BS.isPureReactComponent=!0;var nO=Array.isArray,yk=Object.prototype.hasOwnProperty,HS={current:null},_k={key:!0,ref:!0,__self:!0,__source:!0};function bk(n,e,t){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yk.call(e,r)&&!_k.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Gf,type:n,key:i,ref:o,props:s,_owner:HS.current}}function W4(n,e){return{$$typeof:Gf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function zS(n){return typeof n=="object"&&n!==null&&n.$$typeof===Gf}function G4(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var rO=/\/+/g;function z_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?G4(""+n.key):e.toString(36)}function Kg(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Gf:case L4:o=!0}}if(o)return o=n,s=s(o),n=r===""?"."+z_(o,0):r,nO(s)?(t="",n!=null&&(t=n.replace(rO,"$&/")+"/"),Kg(s,e,t,"",function(u){return u})):s!=null&&(zS(s)&&(s=W4(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(rO,"$&/")+"/")+n)),e.push(s)),1;if(o=0,r=r===""?".":r+":",nO(n))for(var a=0;a<n.length;a++){i=n[a];var l=r+z_(i,a);o+=Kg(i,e,t,l,s)}else if(l=K4(n),typeof l=="function")for(n=l.call(n),a=0;!(i=n.next()).done;)i=i.value,l=r+z_(i,a++),o+=Kg(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rg(n,e,t){if(n==null)return n;var r=[],s=0;return Kg(n,r,"","",function(i){return e.call(t,i,s++)}),r}function Y4(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Fr={current:null},Wg={transition:null},q4={ReactCurrentDispatcher:Fr,ReactCurrentBatchConfig:Wg,ReactCurrentOwner:HS};function wk(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:rg,forEach:function(n,e,t){rg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return rg(n,function(){e++}),e},toArray:function(n){return rg(n,function(e){return e})||[]},only:function(n){if(!zS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ve.Component=od;Ve.Fragment=M4;Ve.Profiler=F4;Ve.PureComponent=US;Ve.StrictMode=$4;Ve.Suspense=B4;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q4;Ve.act=wk;Ve.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=gk({},n.props),s=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=HS.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)yk.call(e,l)&&!_k.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gf,type:n.type,key:s,ref:i,props:r,_owner:o}};Ve.createContext=function(n){return n={$$typeof:V4,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:j4,_context:n},n.Consumer=n};Ve.createElement=bk;Ve.createFactory=function(n){var e=bk.bind(null,n);return e.type=n,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(n){return{$$typeof:U4,render:n}};Ve.isValidElement=zS;Ve.lazy=function(n){return{$$typeof:z4,_payload:{_status:-1,_result:n},_init:Y4}};Ve.memo=function(n,e){return{$$typeof:H4,type:n,compare:e===void 0?null:e}};Ve.startTransition=function(n){var e=Wg.transition;Wg.transition={};try{n()}finally{Wg.transition=e}};Ve.unstable_act=wk;Ve.useCallback=function(n,e){return Fr.current.useCallback(n,e)};Ve.useContext=function(n){return Fr.current.useContext(n)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(n){return Fr.current.useDeferredValue(n)};Ve.useEffect=function(n,e){return Fr.current.useEffect(n,e)};Ve.useId=function(){return Fr.current.useId()};Ve.useImperativeHandle=function(n,e,t){return Fr.current.useImperativeHandle(n,e,t)};Ve.useInsertionEffect=function(n,e){return Fr.current.useInsertionEffect(n,e)};Ve.useLayoutEffect=function(n,e){return Fr.current.useLayoutEffect(n,e)};Ve.useMemo=function(n,e){return Fr.current.useMemo(n,e)};Ve.useReducer=function(n,e,t){return Fr.current.useReducer(n,e,t)};Ve.useRef=function(n){return Fr.current.useRef(n)};Ve.useState=function(n){return Fr.current.useState(n)};Ve.useSyncExternalStore=function(n,e,t){return Fr.current.useSyncExternalStore(n,e,t)};Ve.useTransition=function(){return Fr.current.useTransition()};Ve.version="18.3.1";fk.exports=Ve;var D=fk.exports;const m=Ce(D),X4=N4({__proto__:null,default:m},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q4=D,Z4=Symbol.for("react.element"),J4=Symbol.for("react.fragment"),e5=Object.prototype.hasOwnProperty,t5=Q4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n5={key:!0,ref:!0,__self:!0,__source:!0};function Ek(n,e,t){var r,s={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)e5.call(e,r)&&!n5.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Z4,type:n,key:i,ref:o,props:s,_owner:t5.current}}Zv.Fragment=J4;Zv.jsx=Ek;Zv.jsxs=Ek;hk.exports=Zv;var F=hk.exports,k0={},Sk={exports:{}},Ts={},Ck={exports:{}},Tk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,z){var B=V.length;V.push(z);e:for(;0<B;){var oe=B-1>>>1,ne=V[oe];if(0<s(ne,z))V[oe]=z,V[B]=ne,B=oe;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],B=V.pop();if(B!==z){V[0]=B;e:for(var oe=0,ne=V.length,re=ne>>>1;oe<re;){var he=2*(oe+1)-1,be=V[he],ye=he+1,me=V[ye];if(0>s(be,B))ye<ne&&0>s(me,be)?(V[oe]=me,V[ye]=B,oe=ye):(V[oe]=be,V[he]=B,oe=he);else if(ye<ne&&0>s(me,B))V[oe]=me,V[ye]=B,oe=ye;else break e}}return z}function s(V,z){var B=V.sortIndex-z.sortIndex;return B!==0?B:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,b=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var z=t(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=V)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(u)}}function S(V){if(y=!1,w(V),!b)if(t(l)!==null)b=!0,K(O);else{var z=t(u);z!==null&&ee(S,z.startTime-V)}}function O(V,z){b=!1,y&&(y=!1,v(T),T=-1),g=!0;var B=f;try{for(w(z),h=t(l);h!==null&&(!(h.expirationTime>z)||V&&!k());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var ne=oe(h.expirationTime<=z);z=n.unstable_now(),typeof ne=="function"?h.callback=ne:h===t(l)&&r(l),w(z)}else r(l);h=t(l)}if(h!==null)var re=!0;else{var he=t(u);he!==null&&ee(S,he.startTime-z),re=!1}return re}finally{h=null,f=B,g=!1}}var x=!1,I=null,T=-1,P=5,A=-1;function k(){return!(n.unstable_now()-A<P)}function M(){if(I!==null){var V=n.unstable_now();A=V;var z=!0;try{z=I(!0,V)}finally{z?N():(x=!1,I=null)}}else x=!1}var N;if(typeof E=="function")N=function(){E(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=M,N=function(){q.postMessage(null)}}else N=function(){_(M,0)};function K(V){I=V,x||(x=!0,N())}function ee(V,z){T=_(function(){V(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){b||g||(b=!0,K(O))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(V){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var B=f;f=z;try{return V()}finally{f=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var B=f;f=V;try{return z()}finally{f=B}},n.unstable_scheduleCallback=function(V,z,B){var oe=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?oe+B:oe):B=oe,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=B+ne,V={id:d++,callback:z,priorityLevel:V,startTime:B,expirationTime:ne,sortIndex:-1},B>oe?(V.sortIndex=B,e(u,V),t(l)===null&&V===t(u)&&(y?(v(T),T=-1):y=!0,ee(S,B-oe))):(V.sortIndex=ne,e(l,V),b||g||(b=!0,K(O))),V},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(V){var z=f;return function(){var B=f;f=z;try{return V.apply(this,arguments)}finally{f=B}}}})(Tk);Ck.exports=Tk;var r5=Ck.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s5=D,Es=r5;function J(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ik=new Set,Qh={};function fu(n,e){Lc(n,e),Lc(n+"Capture",e)}function Lc(n,e){for(Qh[n]=e,n=0;n<e.length;n++)Ik.add(e[n])}var Vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N0=Object.prototype.hasOwnProperty,i5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sO={},iO={};function o5(n){return N0.call(iO,n)?!0:N0.call(sO,n)?!1:i5.test(n)?iO[n]=!0:(sO[n]=!0,!1)}function a5(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function l5(n,e,t,r){if(e===null||typeof e>"u"||a5(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jr(n,e,t,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){or[n]=new jr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];or[e]=new jr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){or[n]=new jr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){or[n]=new jr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){or[n]=new jr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){or[n]=new jr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){or[n]=new jr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){or[n]=new jr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){or[n]=new jr(n,5,!1,n.toLowerCase(),null,!1,!1)});var KS=/[\-:]([a-z])/g;function WS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(KS,WS);or[e]=new jr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(KS,WS);or[e]=new jr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(KS,WS);or[e]=new jr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){or[n]=new jr(n,1,!1,n.toLowerCase(),null,!1,!1)});or.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){or[n]=new jr(n,1,!1,n.toLowerCase(),null,!0,!0)});function GS(n,e,t,r){var s=or.hasOwnProperty(e)?or[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l5(e,t,s,r)&&(t=null),r||s===null?o5(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var na=s5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sg=Symbol.for("react.element"),Ju=Symbol.for("react.portal"),ec=Symbol.for("react.fragment"),YS=Symbol.for("react.strict_mode"),L0=Symbol.for("react.profiler"),Ok=Symbol.for("react.provider"),Pk=Symbol.for("react.context"),qS=Symbol.for("react.forward_ref"),M0=Symbol.for("react.suspense"),$0=Symbol.for("react.suspense_list"),XS=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),xk=Symbol.for("react.offscreen"),oO=Symbol.iterator;function zd(n){return n===null||typeof n!="object"?null:(n=oO&&n[oO]||n["@@iterator"],typeof n=="function"?n:null)}var dn=Object.assign,K_;function ph(n){if(K_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);K_=e&&e[1]||""}return`
`+K_+n}var W_=!1;function G_(n,e){if(!n||W_)return"";W_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{W_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ph(n):""}function u5(n){switch(n.tag){case 5:return ph(n.type);case 16:return ph("Lazy");case 13:return ph("Suspense");case 19:return ph("SuspenseList");case 0:case 2:case 15:return n=G_(n.type,!1),n;case 11:return n=G_(n.type.render,!1),n;case 1:return n=G_(n.type,!0),n;default:return""}}function F0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ec:return"Fragment";case Ju:return"Portal";case L0:return"Profiler";case YS:return"StrictMode";case M0:return"Suspense";case $0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Pk:return(n.displayName||"Context")+".Consumer";case Ok:return(n._context.displayName||"Context")+".Provider";case qS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case XS:return e=n.displayName||null,e!==null?e:F0(n.type)||"Memo";case va:e=n._payload,n=n._init;try{return F0(n(e))}catch{}}return null}function c5(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F0(e);case 8:return e===YS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xa(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d5(n){var e=Rk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ig(n){n._valueTracker||(n._valueTracker=d5(n))}function Ak(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Rk(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Om(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function j0(n,e){var t=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function aO(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Xa(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dk(n,e){e=e.checked,e!=null&&GS(n,"checked",e,!1)}function V0(n,e){Dk(n,e);var t=Xa(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?U0(n,e.type,t):e.hasOwnProperty("defaultValue")&&U0(n,e.type,Xa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function lO(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function U0(n,e,t){(e!=="number"||Om(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var gh=Array.isArray;function bc(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Xa(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function B0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function uO(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(J(92));if(gh(t)){if(1<t.length)throw Error(J(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Xa(t)}}function kk(n,e){var t=Xa(e.value),r=Xa(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function cO(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Nk(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Nk(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var og,Lk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(og=og||document.createElement("div"),og.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=og.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Zh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ph={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h5=["Webkit","ms","Moz","O"];Object.keys(Ph).forEach(function(n){h5.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ph[e]=Ph[n]})});function Mk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ph.hasOwnProperty(n)&&Ph[n]?(""+e).trim():e+"px"}function $k(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=Mk(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var f5=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z0(n,e){if(e){if(f5[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function K0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W0=null;function QS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var G0=null,wc=null,Ec=null;function dO(n){if(n=Xf(n)){if(typeof G0!="function")throw Error(J(280));var e=n.stateNode;e&&(e=ry(e),G0(n.stateNode,n.type,e))}}function Fk(n){wc?Ec?Ec.push(n):Ec=[n]:wc=n}function jk(){if(wc){var n=wc,e=Ec;if(Ec=wc=null,dO(n),e)for(n=0;n<e.length;n++)dO(e[n])}}function Vk(n,e){return n(e)}function Uk(){}var Y_=!1;function Bk(n,e,t){if(Y_)return n(e,t);Y_=!0;try{return Vk(n,e,t)}finally{Y_=!1,(wc!==null||Ec!==null)&&(Uk(),jk())}}function Jh(n,e){var t=n.stateNode;if(t===null)return null;var r=ry(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(J(231,e,typeof t));return t}var Y0=!1;if(Vo)try{var Kd={};Object.defineProperty(Kd,"passive",{get:function(){Y0=!0}}),window.addEventListener("test",Kd,Kd),window.removeEventListener("test",Kd,Kd)}catch{Y0=!1}function p5(n,e,t,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var xh=!1,Pm=null,xm=!1,q0=null,g5={onError:function(n){xh=!0,Pm=n}};function m5(n,e,t,r,s,i,o,a,l){xh=!1,Pm=null,p5.apply(g5,arguments)}function v5(n,e,t,r,s,i,o,a,l){if(m5.apply(this,arguments),xh){if(xh){var u=Pm;xh=!1,Pm=null}else throw Error(J(198));xm||(xm=!0,q0=u)}}function pu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Hk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function hO(n){if(pu(n)!==n)throw Error(J(188))}function y5(n){var e=n.alternate;if(!e){if(e=pu(n),e===null)throw Error(J(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return hO(s),n;if(i===r)return hO(s),e;i=i.sibling}throw Error(J(188))}if(t.return!==r.return)t=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o)throw Error(J(189))}}if(t.alternate!==r)throw Error(J(190))}if(t.tag!==3)throw Error(J(188));return t.stateNode.current===t?n:e}function zk(n){return n=y5(n),n!==null?Kk(n):null}function Kk(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Kk(n);if(e!==null)return e;n=n.sibling}return null}var Wk=Es.unstable_scheduleCallback,fO=Es.unstable_cancelCallback,_5=Es.unstable_shouldYield,b5=Es.unstable_requestPaint,Cn=Es.unstable_now,w5=Es.unstable_getCurrentPriorityLevel,ZS=Es.unstable_ImmediatePriority,Gk=Es.unstable_UserBlockingPriority,Rm=Es.unstable_NormalPriority,E5=Es.unstable_LowPriority,Yk=Es.unstable_IdlePriority,Jv=null,qi=null;function S5(n){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(Jv,n,void 0,(n.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:I5,C5=Math.log,T5=Math.LN2;function I5(n){return n>>>=0,n===0?32:31-(C5(n)/T5|0)|0}var ag=64,lg=4194304;function mh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Am(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?r=mh(a):(i&=o,i!==0&&(r=mh(i)))}else o=t&~s,o!==0?r=mh(o):i!==0&&(r=mh(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-pi(e),s=1<<t,r|=n[t],e&=~s;return r}function O5(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P5(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-pi(i),a=1<<o,l=s[o];l===-1?(!(a&t)||a&r)&&(s[o]=O5(a,e)):l<=e&&(n.expiredLanes|=a),i&=~a}}function X0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function qk(){var n=ag;return ag<<=1,!(ag&4194240)&&(ag=64),n}function q_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Yf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-pi(e),n[e]=t}function x5(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-pi(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function JS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-pi(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var Tt=0;function Xk(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Qk,e1,Zk,Jk,eN,Q0=!1,ug=[],Ma=null,$a=null,Fa=null,ef=new Map,tf=new Map,wa=[],R5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pO(n,e){switch(n){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":ef.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(e.pointerId)}}function Wd(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xf(e),e!==null&&e1(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function A5(n,e,t,r,s){switch(e){case"focusin":return Ma=Wd(Ma,n,e,t,r,s),!0;case"dragenter":return $a=Wd($a,n,e,t,r,s),!0;case"mouseover":return Fa=Wd(Fa,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return ef.set(i,Wd(ef.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,tf.set(i,Wd(tf.get(i)||null,n,e,t,r,s)),!0}return!1}function tN(n){var e=xl(n.target);if(e!==null){var t=pu(e);if(t!==null){if(e=t.tag,e===13){if(e=Hk(t),e!==null){n.blockedOn=e,eN(n.priority,function(){Zk(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Z0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);W0=r,t.target.dispatchEvent(r),W0=null}else return e=Xf(t),e!==null&&e1(e),n.blockedOn=t,!1;e.shift()}return!0}function gO(n,e,t){Gg(n)&&t.delete(e)}function D5(){Q0=!1,Ma!==null&&Gg(Ma)&&(Ma=null),$a!==null&&Gg($a)&&($a=null),Fa!==null&&Gg(Fa)&&(Fa=null),ef.forEach(gO),tf.forEach(gO)}function Gd(n,e){n.blockedOn===e&&(n.blockedOn=null,Q0||(Q0=!0,Es.unstable_scheduleCallback(Es.unstable_NormalPriority,D5)))}function nf(n){function e(s){return Gd(s,n)}if(0<ug.length){Gd(ug[0],n);for(var t=1;t<ug.length;t++){var r=ug[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ma!==null&&Gd(Ma,n),$a!==null&&Gd($a,n),Fa!==null&&Gd(Fa,n),ef.forEach(e),tf.forEach(e),t=0;t<wa.length;t++)r=wa[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<wa.length&&(t=wa[0],t.blockedOn===null);)tN(t),t.blockedOn===null&&wa.shift()}var Sc=na.ReactCurrentBatchConfig,Dm=!0;function k5(n,e,t,r){var s=Tt,i=Sc.transition;Sc.transition=null;try{Tt=1,t1(n,e,t,r)}finally{Tt=s,Sc.transition=i}}function N5(n,e,t,r){var s=Tt,i=Sc.transition;Sc.transition=null;try{Tt=4,t1(n,e,t,r)}finally{Tt=s,Sc.transition=i}}function t1(n,e,t,r){if(Dm){var s=Z0(n,e,t,r);if(s===null)ib(n,e,r,km,t),pO(n,r);else if(A5(s,n,e,t,r))r.stopPropagation();else if(pO(n,r),e&4&&-1<R5.indexOf(n)){for(;s!==null;){var i=Xf(s);if(i!==null&&Qk(i),i=Z0(n,e,t,r),i===null&&ib(n,e,r,km,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else ib(n,e,r,null,t)}}var km=null;function Z0(n,e,t,r){if(km=null,n=QS(r),n=xl(n),n!==null)if(e=pu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Hk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return km=n,null}function nN(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w5()){case ZS:return 1;case Gk:return 4;case Rm:case E5:return 16;case Yk:return 536870912;default:return 16}default:return 16}}var Pa=null,n1=null,Yg=null;function rN(){if(Yg)return Yg;var n,e=n1,t=e.length,r,s="value"in Pa?Pa.value:Pa.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===s[i-r];r++);return Yg=s.slice(n,1<r?1-r:void 0)}function qg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function cg(){return!0}function mO(){return!1}function Is(n){function e(t,r,s,i,o){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cg:mO,this.isPropagationStopped=mO,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=cg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=cg)},persist:function(){},isPersistent:cg}),e}var ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r1=Is(ad),qf=dn({},ad,{view:0,detail:0}),L5=Is(qf),X_,Q_,Yd,ey=dn({},qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yd&&(Yd&&n.type==="mousemove"?(X_=n.screenX-Yd.screenX,Q_=n.screenY-Yd.screenY):Q_=X_=0,Yd=n),X_)},movementY:function(n){return"movementY"in n?n.movementY:Q_}}),vO=Is(ey),M5=dn({},ey,{dataTransfer:0}),$5=Is(M5),F5=dn({},qf,{relatedTarget:0}),Z_=Is(F5),j5=dn({},ad,{animationName:0,elapsedTime:0,pseudoElement:0}),V5=Is(j5),U5=dn({},ad,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),B5=Is(U5),H5=dn({},ad,{data:0}),yO=Is(H5),z5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G5(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=W5[n])?!!e[n]:!1}function s1(){return G5}var Y5=dn({},qf,{key:function(n){if(n.key){var e=z5[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=qg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?K5[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s1,charCode:function(n){return n.type==="keypress"?qg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),q5=Is(Y5),X5=dn({},ey,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_O=Is(X5),Q5=dn({},qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s1}),Z5=Is(Q5),J5=dn({},ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),eU=Is(J5),tU=dn({},ey,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nU=Is(tU),rU=[9,13,27,32],i1=Vo&&"CompositionEvent"in window,Rh=null;Vo&&"documentMode"in document&&(Rh=document.documentMode);var sU=Vo&&"TextEvent"in window&&!Rh,sN=Vo&&(!i1||Rh&&8<Rh&&11>=Rh),bO=" ",wO=!1;function iN(n,e){switch(n){case"keyup":return rU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oN(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var tc=!1;function iU(n,e){switch(n){case"compositionend":return oN(e);case"keypress":return e.which!==32?null:(wO=!0,bO);case"textInput":return n=e.data,n===bO&&wO?null:n;default:return null}}function oU(n,e){if(tc)return n==="compositionend"||!i1&&iN(n,e)?(n=rN(),Yg=n1=Pa=null,tc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sN&&e.locale!=="ko"?null:e.data;default:return null}}var aU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EO(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!aU[n.type]:e==="textarea"}function aN(n,e,t,r){Fk(r),e=Nm(e,"onChange"),0<e.length&&(t=new r1("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Ah=null,rf=null;function lU(n){yN(n,0)}function ty(n){var e=sc(n);if(Ak(e))return n}function uU(n,e){if(n==="change")return e}var lN=!1;if(Vo){var J_;if(Vo){var eb="oninput"in document;if(!eb){var SO=document.createElement("div");SO.setAttribute("oninput","return;"),eb=typeof SO.oninput=="function"}J_=eb}else J_=!1;lN=J_&&(!document.documentMode||9<document.documentMode)}function CO(){Ah&&(Ah.detachEvent("onpropertychange",uN),rf=Ah=null)}function uN(n){if(n.propertyName==="value"&&ty(rf)){var e=[];aN(e,rf,n,QS(n)),Bk(lU,e)}}function cU(n,e,t){n==="focusin"?(CO(),Ah=e,rf=t,Ah.attachEvent("onpropertychange",uN)):n==="focusout"&&CO()}function dU(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ty(rf)}function hU(n,e){if(n==="click")return ty(e)}function fU(n,e){if(n==="input"||n==="change")return ty(e)}function pU(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var _i=typeof Object.is=="function"?Object.is:pU;function sf(n,e){if(_i(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!N0.call(e,s)||!_i(n[s],e[s]))return!1}return!0}function TO(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function IO(n,e){var t=TO(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=TO(t)}}function cN(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?cN(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function dN(){for(var n=window,e=Om();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Om(n.document)}return e}function o1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function gU(n){var e=dN(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&cN(t.ownerDocument.documentElement,t)){if(r!==null&&o1(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=IO(t,i);var o=IO(t,r);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var mU=Vo&&"documentMode"in document&&11>=document.documentMode,nc=null,J0=null,Dh=null,ew=!1;function OO(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ew||nc==null||nc!==Om(r)||(r=nc,"selectionStart"in r&&o1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dh&&sf(Dh,r)||(Dh=r,r=Nm(J0,"onSelect"),0<r.length&&(e=new r1("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=nc)))}function dg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var rc={animationend:dg("Animation","AnimationEnd"),animationiteration:dg("Animation","AnimationIteration"),animationstart:dg("Animation","AnimationStart"),transitionend:dg("Transition","TransitionEnd")},tb={},hN={};Vo&&(hN=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function ny(n){if(tb[n])return tb[n];if(!rc[n])return n;var e=rc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in hN)return tb[n]=e[t];return n}var fN=ny("animationend"),pN=ny("animationiteration"),gN=ny("animationstart"),mN=ny("transitionend"),vN=new Map,PO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(n,e){vN.set(n,e),fu(e,[n])}for(var nb=0;nb<PO.length;nb++){var rb=PO[nb],vU=rb.toLowerCase(),yU=rb[0].toUpperCase()+rb.slice(1);rl(vU,"on"+yU)}rl(fN,"onAnimationEnd");rl(pN,"onAnimationIteration");rl(gN,"onAnimationStart");rl("dblclick","onDoubleClick");rl("focusin","onFocus");rl("focusout","onBlur");rl(mN,"onTransitionEnd");Lc("onMouseEnter",["mouseout","mouseover"]);Lc("onMouseLeave",["mouseout","mouseover"]);Lc("onPointerEnter",["pointerout","pointerover"]);Lc("onPointerLeave",["pointerout","pointerover"]);fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_U=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function xO(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,v5(r,e,void 0,n),n.currentTarget=null}function yN(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;xO(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;xO(s,a,u),i=l}}}if(xm)throw n=q0,xm=!1,q0=null,n}function Kt(n,e){var t=e[iw];t===void 0&&(t=e[iw]=new Set);var r=n+"__bubble";t.has(r)||(_N(e,n,2,!1),t.add(r))}function sb(n,e,t){var r=0;e&&(r|=4),_N(t,n,r,e)}var hg="_reactListening"+Math.random().toString(36).slice(2);function of(n){if(!n[hg]){n[hg]=!0,Ik.forEach(function(t){t!=="selectionchange"&&(_U.has(t)||sb(t,!1,n),sb(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[hg]||(e[hg]=!0,sb("selectionchange",!1,e))}}function _N(n,e,t,r){switch(nN(e)){case 1:var s=k5;break;case 4:s=N5;break;default:s=t1}t=s.bind(null,e,t,n),s=void 0,!Y0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function ib(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xl(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Bk(function(){var u=i,d=QS(t),h=[];e:{var f=vN.get(n);if(f!==void 0){var g=r1,b=n;switch(n){case"keypress":if(qg(t)===0)break e;case"keydown":case"keyup":g=q5;break;case"focusin":b="focus",g=Z_;break;case"focusout":b="blur",g=Z_;break;case"beforeblur":case"afterblur":g=Z_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=vO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Z5;break;case fN:case pN:case gN:g=V5;break;case mN:g=eU;break;case"scroll":g=L5;break;case"wheel":g=nU;break;case"copy":case"cut":case"paste":g=B5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_O}var y=(e&4)!==0,_=!y&&n==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var E=u,w;E!==null;){w=E;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Jh(E,v),S!=null&&y.push(af(E,S,w)))),_)break;E=E.return}0<y.length&&(f=new g(f,b,null,t,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",f&&t!==W0&&(b=t.relatedTarget||t.fromElement)&&(xl(b)||b[Uo]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(b=t.relatedTarget||t.toElement,g=u,b=b?xl(b):null,b!==null&&(_=pu(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(y=vO,S="onMouseLeave",v="onMouseEnter",E="mouse",(n==="pointerout"||n==="pointerover")&&(y=_O,S="onPointerLeave",v="onPointerEnter",E="pointer"),_=g==null?f:sc(g),w=b==null?f:sc(b),f=new y(S,E+"leave",g,t,d),f.target=_,f.relatedTarget=w,S=null,xl(d)===u&&(y=new y(v,E+"enter",b,t,d),y.target=w,y.relatedTarget=_,S=y),_=S,g&&b)t:{for(y=g,v=b,E=0,w=y;w;w=Lu(w))E++;for(w=0,S=v;S;S=Lu(S))w++;for(;0<E-w;)y=Lu(y),E--;for(;0<w-E;)v=Lu(v),w--;for(;E--;){if(y===v||v!==null&&y===v.alternate)break t;y=Lu(y),v=Lu(v)}y=null}else y=null;g!==null&&RO(h,f,g,y,!1),b!==null&&_!==null&&RO(h,_,b,y,!0)}}e:{if(f=u?sc(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var O=uU;else if(EO(f))if(lN)O=fU;else{O=dU;var x=cU}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=hU);if(O&&(O=O(n,u))){aN(h,O,t,d);break e}x&&x(n,f,u),n==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&U0(f,"number",f.value)}switch(x=u?sc(u):window,n){case"focusin":(EO(x)||x.contentEditable==="true")&&(nc=x,J0=u,Dh=null);break;case"focusout":Dh=J0=nc=null;break;case"mousedown":ew=!0;break;case"contextmenu":case"mouseup":case"dragend":ew=!1,OO(h,t,d);break;case"selectionchange":if(mU)break;case"keydown":case"keyup":OO(h,t,d)}var I;if(i1)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else tc?iN(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(sN&&t.locale!=="ko"&&(tc||T!=="onCompositionStart"?T==="onCompositionEnd"&&tc&&(I=rN()):(Pa=d,n1="value"in Pa?Pa.value:Pa.textContent,tc=!0)),x=Nm(u,T),0<x.length&&(T=new yO(T,n,null,t,d),h.push({event:T,listeners:x}),I?T.data=I:(I=oN(t),I!==null&&(T.data=I)))),(I=sU?iU(n,t):oU(n,t))&&(u=Nm(u,"onBeforeInput"),0<u.length&&(d=new yO("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=I))}yN(h,e)})}function af(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Nm(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jh(n,t),i!=null&&r.unshift(af(n,i,s)),i=Jh(n,e),i!=null&&r.push(af(n,i,s))),n=n.return}return r}function Lu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function RO(n,e,t,r,s){for(var i=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Jh(t,i),l!=null&&o.unshift(af(t,l,a))):s||(l=Jh(t,i),l!=null&&o.push(af(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var bU=/\r\n?/g,wU=/\u0000|\uFFFD/g;function AO(n){return(typeof n=="string"?n:""+n).replace(bU,`
`).replace(wU,"")}function fg(n,e,t){if(e=AO(e),AO(n)!==e&&t)throw Error(J(425))}function Lm(){}var tw=null,nw=null;function rw(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sw=typeof setTimeout=="function"?setTimeout:void 0,EU=typeof clearTimeout=="function"?clearTimeout:void 0,DO=typeof Promise=="function"?Promise:void 0,SU=typeof queueMicrotask=="function"?queueMicrotask:typeof DO<"u"?function(n){return DO.resolve(null).then(n).catch(CU)}:sw;function CU(n){setTimeout(function(){throw n})}function ob(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),nf(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);nf(e)}function ja(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function kO(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ld=Math.random().toString(36).slice(2),ji="__reactFiber$"+ld,lf="__reactProps$"+ld,Uo="__reactContainer$"+ld,iw="__reactEvents$"+ld,TU="__reactListeners$"+ld,IU="__reactHandles$"+ld;function xl(n){var e=n[ji];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Uo]||t[ji]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=kO(n);n!==null;){if(t=n[ji])return t;n=kO(n)}return e}n=t,t=n.parentNode}return null}function Xf(n){return n=n[ji]||n[Uo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function sc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(J(33))}function ry(n){return n[lf]||null}var ow=[],ic=-1;function sl(n){return{current:n}}function Yt(n){0>ic||(n.current=ow[ic],ow[ic]=null,ic--)}function Ft(n,e){ic++,ow[ic]=n.current,n.current=e}var Qa={},Pr=sl(Qa),Jr=sl(!1),Gl=Qa;function Mc(n,e){var t=n.type.contextTypes;if(!t)return Qa;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function es(n){return n=n.childContextTypes,n!=null}function Mm(){Yt(Jr),Yt(Pr)}function NO(n,e,t){if(Pr.current!==Qa)throw Error(J(168));Ft(Pr,e),Ft(Jr,t)}function bN(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(J(108,c5(n)||"Unknown",s));return dn({},t,r)}function $m(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Qa,Gl=Pr.current,Ft(Pr,n),Ft(Jr,Jr.current),!0}function LO(n,e,t){var r=n.stateNode;if(!r)throw Error(J(169));t?(n=bN(n,e,Gl),r.__reactInternalMemoizedMergedChildContext=n,Yt(Jr),Yt(Pr),Ft(Pr,n)):Yt(Jr),Ft(Jr,t)}var Co=null,sy=!1,ab=!1;function wN(n){Co===null?Co=[n]:Co.push(n)}function OU(n){sy=!0,wN(n)}function il(){if(!ab&&Co!==null){ab=!0;var n=0,e=Tt;try{var t=Co;for(Tt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Co=null,sy=!1}catch(s){throw Co!==null&&(Co=Co.slice(n+1)),Wk(ZS,il),s}finally{Tt=e,ab=!1}}return null}var oc=[],ac=0,Fm=null,jm=0,js=[],Vs=0,Yl=null,Oo=1,Po="";function bl(n,e){oc[ac++]=jm,oc[ac++]=Fm,Fm=n,jm=e}function EN(n,e,t){js[Vs++]=Oo,js[Vs++]=Po,js[Vs++]=Yl,Yl=n;var r=Oo;n=Po;var s=32-pi(r)-1;r&=~(1<<s),t+=1;var i=32-pi(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Oo=1<<32-pi(e)+s|t<<s|r,Po=i+n}else Oo=1<<i|t<<s|r,Po=n}function a1(n){n.return!==null&&(bl(n,1),EN(n,1,0))}function l1(n){for(;n===Fm;)Fm=oc[--ac],oc[ac]=null,jm=oc[--ac],oc[ac]=null;for(;n===Yl;)Yl=js[--Vs],js[Vs]=null,Po=js[--Vs],js[Vs]=null,Oo=js[--Vs],js[Vs]=null}var ws=null,ys=null,en=!1,ci=null;function SN(n,e){var t=Ks(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function MO(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ws=n,ys=ja(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ws=n,ys=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Yl!==null?{id:Oo,overflow:Po}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ks(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ws=n,ys=null,!0):!1;default:return!1}}function aw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lw(n){if(en){var e=ys;if(e){var t=e;if(!MO(n,e)){if(aw(n))throw Error(J(418));e=ja(t.nextSibling);var r=ws;e&&MO(n,e)?SN(r,t):(n.flags=n.flags&-4097|2,en=!1,ws=n)}}else{if(aw(n))throw Error(J(418));n.flags=n.flags&-4097|2,en=!1,ws=n}}}function $O(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ws=n}function pg(n){if(n!==ws)return!1;if(!en)return $O(n),en=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!rw(n.type,n.memoizedProps)),e&&(e=ys)){if(aw(n))throw CN(),Error(J(418));for(;e;)SN(n,e),e=ja(e.nextSibling)}if($O(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(J(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ys=ja(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ys=null}}else ys=ws?ja(n.stateNode.nextSibling):null;return!0}function CN(){for(var n=ys;n;)n=ja(n.nextSibling)}function $c(){ys=ws=null,en=!1}function u1(n){ci===null?ci=[n]:ci.push(n)}var PU=na.ReactCurrentBatchConfig;function qd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(J(309));var r=t.stateNode}if(!r)throw Error(J(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(J(284));if(!t._owner)throw Error(J(290,n))}return n}function gg(n,e){throw n=Object.prototype.toString.call(e),Error(J(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function FO(n){var e=n._init;return e(n._payload)}function TN(n){function e(v,E){if(n){var w=v.deletions;w===null?(v.deletions=[E],v.flags|=16):w.push(E)}}function t(v,E){if(!n)return null;for(;E!==null;)e(v,E),E=E.sibling;return null}function r(v,E){for(v=new Map;E!==null;)E.key!==null?v.set(E.key,E):v.set(E.index,E),E=E.sibling;return v}function s(v,E){return v=Ha(v,E),v.index=0,v.sibling=null,v}function i(v,E,w){return v.index=w,n?(w=v.alternate,w!==null?(w=w.index,w<E?(v.flags|=2,E):w):(v.flags|=2,E)):(v.flags|=1048576,E)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,E,w,S){return E===null||E.tag!==6?(E=pb(w,v.mode,S),E.return=v,E):(E=s(E,w),E.return=v,E)}function l(v,E,w,S){var O=w.type;return O===ec?d(v,E,w.props.children,S,w.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===va&&FO(O)===E.type)?(S=s(E,w.props),S.ref=qd(v,E,w),S.return=v,S):(S=nm(w.type,w.key,w.props,null,v.mode,S),S.ref=qd(v,E,w),S.return=v,S)}function u(v,E,w,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=gb(w,v.mode,S),E.return=v,E):(E=s(E,w.children||[]),E.return=v,E)}function d(v,E,w,S,O){return E===null||E.tag!==7?(E=jl(w,v.mode,S,O),E.return=v,E):(E=s(E,w),E.return=v,E)}function h(v,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=pb(""+E,v.mode,w),E.return=v,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case sg:return w=nm(E.type,E.key,E.props,null,v.mode,w),w.ref=qd(v,null,E),w.return=v,w;case Ju:return E=gb(E,v.mode,w),E.return=v,E;case va:var S=E._init;return h(v,S(E._payload),w)}if(gh(E)||zd(E))return E=jl(E,v.mode,w,null),E.return=v,E;gg(v,E)}return null}function f(v,E,w,S){var O=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(v,E,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sg:return w.key===O?l(v,E,w,S):null;case Ju:return w.key===O?u(v,E,w,S):null;case va:return O=w._init,f(v,E,O(w._payload),S)}if(gh(w)||zd(w))return O!==null?null:d(v,E,w,S,null);gg(v,w)}return null}function g(v,E,w,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,a(E,v,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sg:return v=v.get(S.key===null?w:S.key)||null,l(E,v,S,O);case Ju:return v=v.get(S.key===null?w:S.key)||null,u(E,v,S,O);case va:var x=S._init;return g(v,E,w,x(S._payload),O)}if(gh(S)||zd(S))return v=v.get(w)||null,d(E,v,S,O,null);gg(E,S)}return null}function b(v,E,w,S){for(var O=null,x=null,I=E,T=E=0,P=null;I!==null&&T<w.length;T++){I.index>T?(P=I,I=null):P=I.sibling;var A=f(v,I,w[T],S);if(A===null){I===null&&(I=P);break}n&&I&&A.alternate===null&&e(v,I),E=i(A,E,T),x===null?O=A:x.sibling=A,x=A,I=P}if(T===w.length)return t(v,I),en&&bl(v,T),O;if(I===null){for(;T<w.length;T++)I=h(v,w[T],S),I!==null&&(E=i(I,E,T),x===null?O=I:x.sibling=I,x=I);return en&&bl(v,T),O}for(I=r(v,I);T<w.length;T++)P=g(I,v,T,w[T],S),P!==null&&(n&&P.alternate!==null&&I.delete(P.key===null?T:P.key),E=i(P,E,T),x===null?O=P:x.sibling=P,x=P);return n&&I.forEach(function(k){return e(v,k)}),en&&bl(v,T),O}function y(v,E,w,S){var O=zd(w);if(typeof O!="function")throw Error(J(150));if(w=O.call(w),w==null)throw Error(J(151));for(var x=O=null,I=E,T=E=0,P=null,A=w.next();I!==null&&!A.done;T++,A=w.next()){I.index>T?(P=I,I=null):P=I.sibling;var k=f(v,I,A.value,S);if(k===null){I===null&&(I=P);break}n&&I&&k.alternate===null&&e(v,I),E=i(k,E,T),x===null?O=k:x.sibling=k,x=k,I=P}if(A.done)return t(v,I),en&&bl(v,T),O;if(I===null){for(;!A.done;T++,A=w.next())A=h(v,A.value,S),A!==null&&(E=i(A,E,T),x===null?O=A:x.sibling=A,x=A);return en&&bl(v,T),O}for(I=r(v,I);!A.done;T++,A=w.next())A=g(I,v,T,A.value,S),A!==null&&(n&&A.alternate!==null&&I.delete(A.key===null?T:A.key),E=i(A,E,T),x===null?O=A:x.sibling=A,x=A);return n&&I.forEach(function(M){return e(v,M)}),en&&bl(v,T),O}function _(v,E,w,S){if(typeof w=="object"&&w!==null&&w.type===ec&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case sg:e:{for(var O=w.key,x=E;x!==null;){if(x.key===O){if(O=w.type,O===ec){if(x.tag===7){t(v,x.sibling),E=s(x,w.props.children),E.return=v,v=E;break e}}else if(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===va&&FO(O)===x.type){t(v,x.sibling),E=s(x,w.props),E.ref=qd(v,x,w),E.return=v,v=E;break e}t(v,x);break}else e(v,x);x=x.sibling}w.type===ec?(E=jl(w.props.children,v.mode,S,w.key),E.return=v,v=E):(S=nm(w.type,w.key,w.props,null,v.mode,S),S.ref=qd(v,E,w),S.return=v,v=S)}return o(v);case Ju:e:{for(x=w.key;E!==null;){if(E.key===x)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){t(v,E.sibling),E=s(E,w.children||[]),E.return=v,v=E;break e}else{t(v,E);break}else e(v,E);E=E.sibling}E=gb(w,v.mode,S),E.return=v,v=E}return o(v);case va:return x=w._init,_(v,E,x(w._payload),S)}if(gh(w))return b(v,E,w,S);if(zd(w))return y(v,E,w,S);gg(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(t(v,E.sibling),E=s(E,w),E.return=v,v=E):(t(v,E),E=pb(w,v.mode,S),E.return=v,v=E),o(v)):t(v,E)}return _}var Fc=TN(!0),IN=TN(!1),Vm=sl(null),Um=null,lc=null,c1=null;function d1(){c1=lc=Um=null}function h1(n){var e=Vm.current;Yt(Vm),n._currentValue=e}function uw(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Cc(n,e){Um=n,c1=lc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Xr=!0),n.firstContext=null)}function Js(n){var e=n._currentValue;if(c1!==n)if(n={context:n,memoizedValue:e,next:null},lc===null){if(Um===null)throw Error(J(308));lc=n,Um.dependencies={lanes:0,firstContext:n}}else lc=lc.next=n;return e}var Rl=null;function f1(n){Rl===null?Rl=[n]:Rl.push(n)}function ON(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,f1(e)):(t.next=s.next,s.next=t),e.interleaved=t,Bo(n,r)}function Bo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ya=!1;function p1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PN(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ko(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Va(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Bo(n,t)}return s=r.interleaved,s===null?(e.next=e,f1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Bo(n,t)}function Xg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,JS(n,t)}}function jO(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Bm(n,e,t,r){var s=n.updateQueue;ya=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=n,y=a;switch(f=e,g=t,y.tag){case 1:if(b=y.payload,typeof b=="function"){h=b.call(g,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,f=typeof b=="function"?b.call(g,h,f):b,f==null)break e;h=dn({},h,f);break e;case 2:ya=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xl|=o,n.lanes=o,n.memoizedState=h}}function VO(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var Qf={},Xi=sl(Qf),uf=sl(Qf),cf=sl(Qf);function Al(n){if(n===Qf)throw Error(J(174));return n}function g1(n,e){switch(Ft(cf,e),Ft(uf,n),Ft(Xi,Qf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:H0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=H0(e,n)}Yt(Xi),Ft(Xi,e)}function jc(){Yt(Xi),Yt(uf),Yt(cf)}function xN(n){Al(cf.current);var e=Al(Xi.current),t=H0(e,n.type);e!==t&&(Ft(uf,n),Ft(Xi,t))}function m1(n){uf.current===n&&(Yt(Xi),Yt(uf))}var ln=sl(0);function Hm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lb=[];function v1(){for(var n=0;n<lb.length;n++)lb[n]._workInProgressVersionPrimary=null;lb.length=0}var Qg=na.ReactCurrentDispatcher,ub=na.ReactCurrentBatchConfig,ql=0,cn=null,$n=null,Wn=null,zm=!1,kh=!1,df=0,xU=0;function gr(){throw Error(J(321))}function y1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!_i(n[t],e[t]))return!1;return!0}function _1(n,e,t,r,s,i){if(ql=i,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qg.current=n===null||n.memoizedState===null?kU:NU,n=t(r,s),kh){i=0;do{if(kh=!1,df=0,25<=i)throw Error(J(301));i+=1,Wn=$n=null,e.updateQueue=null,Qg.current=LU,n=t(r,s)}while(kh)}if(Qg.current=Km,e=$n!==null&&$n.next!==null,ql=0,Wn=$n=cn=null,zm=!1,e)throw Error(J(300));return n}function b1(){var n=df!==0;return df=0,n}function Fi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?cn.memoizedState=Wn=n:Wn=Wn.next=n,Wn}function ei(){if($n===null){var n=cn.alternate;n=n!==null?n.memoizedState:null}else n=$n.next;var e=Wn===null?cn.memoizedState:Wn.next;if(e!==null)Wn=e,$n=n;else{if(n===null)throw Error(J(310));$n=n,n={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Wn===null?cn.memoizedState=Wn=n:Wn=Wn.next=n}return Wn}function hf(n,e){return typeof e=="function"?e(n):e}function cb(n){var e=ei(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=$n,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((ql&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,cn.lanes|=d,Xl|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,_i(r,e.memoizedState)||(Xr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,cn.lanes|=i,Xl|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function db(n){var e=ei(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do i=n(i,o.action),o=o.next;while(o!==s);_i(i,e.memoizedState)||(Xr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function RN(){}function AN(n,e){var t=cn,r=ei(),s=e(),i=!_i(r.memoizedState,s);if(i&&(r.memoizedState=s,Xr=!0),r=r.queue,w1(NN.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Wn!==null&&Wn.memoizedState.tag&1){if(t.flags|=2048,ff(9,kN.bind(null,t,r,s,e),void 0,null),Xn===null)throw Error(J(349));ql&30||DN(t,e,s)}return s}function DN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function kN(n,e,t,r){e.value=t,e.getSnapshot=r,LN(e)&&MN(n)}function NN(n,e,t){return t(function(){LN(e)&&MN(n)})}function LN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!_i(n,t)}catch{return!0}}function MN(n){var e=Bo(n,1);e!==null&&gi(e,n,1,-1)}function UO(n){var e=Fi();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:n},e.queue=n,n=n.dispatch=DU.bind(null,cn,n),[e.memoizedState,n]}function ff(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function $N(){return ei().memoizedState}function Zg(n,e,t,r){var s=Fi();cn.flags|=n,s.memoizedState=ff(1|e,t,void 0,r===void 0?null:r)}function iy(n,e,t,r){var s=ei();r=r===void 0?null:r;var i=void 0;if($n!==null){var o=$n.memoizedState;if(i=o.destroy,r!==null&&y1(r,o.deps)){s.memoizedState=ff(e,t,i,r);return}}cn.flags|=n,s.memoizedState=ff(1|e,t,i,r)}function BO(n,e){return Zg(8390656,8,n,e)}function w1(n,e){return iy(2048,8,n,e)}function FN(n,e){return iy(4,2,n,e)}function jN(n,e){return iy(4,4,n,e)}function VN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function UN(n,e,t){return t=t!=null?t.concat([n]):null,iy(4,4,VN.bind(null,e,n),t)}function E1(){}function BN(n,e){var t=ei();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&y1(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function HN(n,e){var t=ei();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&y1(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function zN(n,e,t){return ql&21?(_i(t,e)||(t=qk(),cn.lanes|=t,Xl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Xr=!0),n.memoizedState=t)}function RU(n,e){var t=Tt;Tt=t!==0&&4>t?t:4,n(!0);var r=ub.transition;ub.transition={};try{n(!1),e()}finally{Tt=t,ub.transition=r}}function KN(){return ei().memoizedState}function AU(n,e,t){var r=Ba(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},WN(n))GN(e,t);else if(t=ON(n,e,t,r),t!==null){var s=$r();gi(t,n,r,s),YN(t,e,r)}}function DU(n,e,t){var r=Ba(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(WN(n))GN(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(s.hasEagerState=!0,s.eagerState=a,_i(a,o)){var l=e.interleaved;l===null?(s.next=s,f1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=ON(n,e,s,r),t!==null&&(s=$r(),gi(t,n,r,s),YN(t,e,r))}}function WN(n){var e=n.alternate;return n===cn||e!==null&&e===cn}function GN(n,e){kh=zm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function YN(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,JS(n,t)}}var Km={readContext:Js,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},kU={readContext:Js,useCallback:function(n,e){return Fi().memoizedState=[n,e===void 0?null:e],n},useContext:Js,useEffect:BO,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Zg(4194308,4,VN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Zg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Zg(4,2,n,e)},useMemo:function(n,e){var t=Fi();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Fi();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=AU.bind(null,cn,n),[r.memoizedState,n]},useRef:function(n){var e=Fi();return n={current:n},e.memoizedState=n},useState:UO,useDebugValue:E1,useDeferredValue:function(n){return Fi().memoizedState=n},useTransition:function(){var n=UO(!1),e=n[0];return n=RU.bind(null,n[1]),Fi().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=cn,s=Fi();if(en){if(t===void 0)throw Error(J(407));t=t()}else{if(t=e(),Xn===null)throw Error(J(349));ql&30||DN(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,BO(NN.bind(null,r,i,n),[n]),r.flags|=2048,ff(9,kN.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Fi(),e=Xn.identifierPrefix;if(en){var t=Po,r=Oo;t=(r&~(1<<32-pi(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=df++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=xU++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},NU={readContext:Js,useCallback:BN,useContext:Js,useEffect:w1,useImperativeHandle:UN,useInsertionEffect:FN,useLayoutEffect:jN,useMemo:HN,useReducer:cb,useRef:$N,useState:function(){return cb(hf)},useDebugValue:E1,useDeferredValue:function(n){var e=ei();return zN(e,$n.memoizedState,n)},useTransition:function(){var n=cb(hf)[0],e=ei().memoizedState;return[n,e]},useMutableSource:RN,useSyncExternalStore:AN,useId:KN,unstable_isNewReconciler:!1},LU={readContext:Js,useCallback:BN,useContext:Js,useEffect:w1,useImperativeHandle:UN,useInsertionEffect:FN,useLayoutEffect:jN,useMemo:HN,useReducer:db,useRef:$N,useState:function(){return db(hf)},useDebugValue:E1,useDeferredValue:function(n){var e=ei();return $n===null?e.memoizedState=n:zN(e,$n.memoizedState,n)},useTransition:function(){var n=db(hf)[0],e=ei().memoizedState;return[n,e]},useMutableSource:RN,useSyncExternalStore:AN,useId:KN,unstable_isNewReconciler:!1};function li(n,e){if(n&&n.defaultProps){e=dn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function cw(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:dn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var oy={isMounted:function(n){return(n=n._reactInternals)?pu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=$r(),s=Ba(n),i=ko(r,s);i.payload=e,t!=null&&(i.callback=t),e=Va(n,i,s),e!==null&&(gi(e,n,s,r),Xg(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=$r(),s=Ba(n),i=ko(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Va(n,i,s),e!==null&&(gi(e,n,s,r),Xg(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=$r(),r=Ba(n),s=ko(t,r);s.tag=2,e!=null&&(s.callback=e),e=Va(n,s,r),e!==null&&(gi(e,n,r,t),Xg(e,n,r))}};function HO(n,e,t,r,s,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!sf(t,r)||!sf(s,i):!0}function qN(n,e,t){var r=!1,s=Qa,i=e.contextType;return typeof i=="object"&&i!==null?i=Js(i):(s=es(e)?Gl:Pr.current,r=e.contextTypes,i=(r=r!=null)?Mc(n,s):Qa),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oy,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function zO(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&oy.enqueueReplaceState(e,e.state,null)}function dw(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},p1(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Js(i):(i=es(e)?Gl:Pr.current,s.context=Mc(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cw(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&oy.enqueueReplaceState(s,s.state,null),Bm(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Vc(n,e){try{var t="",r=e;do t+=u5(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function hb(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function hw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var MU=typeof WeakMap=="function"?WeakMap:Map;function XN(n,e,t){t=ko(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Gm||(Gm=!0,Ew=r),hw(n,e)},t}function QN(n,e,t){t=ko(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){hw(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){hw(n,e),typeof r!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function KO(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new MU;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=XU.bind(null,n,e,t),e.then(n,n))}function WO(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function GO(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ko(-1,1),e.tag=2,Va(t,e,1))),t.lanes|=1),n)}var $U=na.ReactCurrentOwner,Xr=!1;function kr(n,e,t,r){e.child=n===null?IN(e,null,t,r):Fc(e,n.child,t,r)}function YO(n,e,t,r,s){t=t.render;var i=e.ref;return Cc(e,s),r=_1(n,e,t,r,i,s),t=b1(),n!==null&&!Xr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ho(n,e,s)):(en&&t&&a1(e),e.flags|=1,kr(n,e,r,s),e.child)}function qO(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!R1(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,ZN(n,e,i,r,s)):(n=nm(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:sf,t(o,r)&&n.ref===e.ref)return Ho(n,e,s)}return e.flags|=1,n=Ha(i,r),n.ref=e.ref,n.return=e,e.child=n}function ZN(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(sf(i,r)&&n.ref===e.ref)if(Xr=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(Xr=!0);else return e.lanes=n.lanes,Ho(n,e,s)}return fw(n,e,t,r,s)}function JN(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(cc,gs),gs|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ft(cc,gs),gs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Ft(cc,gs),gs|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Ft(cc,gs),gs|=r;return kr(n,e,s,t),e.child}function e2(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function fw(n,e,t,r,s){var i=es(t)?Gl:Pr.current;return i=Mc(e,i),Cc(e,s),t=_1(n,e,t,r,i,s),r=b1(),n!==null&&!Xr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ho(n,e,s)):(en&&r&&a1(e),e.flags|=1,kr(n,e,t,s),e.child)}function XO(n,e,t,r,s){if(es(t)){var i=!0;$m(e)}else i=!1;if(Cc(e,s),e.stateNode===null)Jg(n,e),qN(e,t,r),dw(e,t,r,s),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Js(u):(u=es(t)?Gl:Pr.current,u=Mc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&zO(e,o,r,u),ya=!1;var f=e.memoizedState;o.state=f,Bm(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Jr.current||ya?(typeof d=="function"&&(cw(e,t,d,r),l=e.memoizedState),(a=ya||HO(e,t,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PN(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:li(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Js(l):(l=es(t)?Gl:Pr.current,l=Mc(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&zO(e,o,r,l),ya=!1,f=e.memoizedState,o.state=f,Bm(e,r,o,s);var b=e.memoizedState;a!==h||f!==b||Jr.current||ya?(typeof g=="function"&&(cw(e,t,g,r),b=e.memoizedState),(u=ya||HO(e,t,u,r,f,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return pw(n,e,t,r,i,s)}function pw(n,e,t,r,s,i){e2(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&LO(e,t,!1),Ho(n,e,i);r=e.stateNode,$U.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Fc(e,n.child,null,i),e.child=Fc(e,null,a,i)):kr(n,e,a,i),e.memoizedState=r.state,s&&LO(e,t,!0),e.child}function t2(n){var e=n.stateNode;e.pendingContext?NO(n,e.pendingContext,e.pendingContext!==e.context):e.context&&NO(n,e.context,!1),g1(n,e.containerInfo)}function QO(n,e,t,r,s){return $c(),u1(s),e.flags|=256,kr(n,e,t,r),e.child}var gw={dehydrated:null,treeContext:null,retryLane:0};function mw(n){return{baseLanes:n,cachePool:null,transitions:null}}function n2(n,e,t){var r=e.pendingProps,s=ln.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Ft(ln,s&1),n===null)return lw(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uy(o,r,0,null),n=jl(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=mw(t),e.memoizedState=gw,n):S1(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return FU(n,e,o,r,a,s,t);if(i){i=r.fallback,o=e.mode,s=n.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ha(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ha(a,i):(i=jl(i,o,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=n.child.memoizedState,o=o===null?mw(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=gw,r}return i=n.child,n=i.sibling,r=Ha(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function S1(n,e){return e=uy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function mg(n,e,t,r){return r!==null&&u1(r),Fc(e,n.child,null,t),n=S1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function FU(n,e,t,r,s,i,o){if(t)return e.flags&256?(e.flags&=-257,r=hb(Error(J(422))),mg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=uy({mode:"visible",children:r.children},s,0,null),i=jl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fc(e,n.child,null,o),e.child.memoizedState=mw(o),e.memoizedState=gw,i);if(!(e.mode&1))return mg(n,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(J(419)),r=hb(i,r,void 0),mg(n,e,o,r)}if(a=(o&n.childLanes)!==0,Xr||a){if(r=Xn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bo(n,s),gi(r,n,s,-1))}return x1(),r=hb(Error(J(421))),mg(n,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=QU.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,ys=ja(s.nextSibling),ws=e,en=!0,ci=null,n!==null&&(js[Vs++]=Oo,js[Vs++]=Po,js[Vs++]=Yl,Oo=n.id,Po=n.overflow,Yl=e),e=S1(e,r.children),e.flags|=4096,e)}function ZO(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),uw(n.return,e,t)}function fb(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function r2(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(kr(n,e,r.children,t),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ZO(n,t,e);else if(n.tag===19)ZO(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ft(ln,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&Hm(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),fb(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Hm(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}fb(e,!0,t,null,i);break;case"together":fb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ho(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Xl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(J(153));if(e.child!==null){for(n=e.child,t=Ha(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ha(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function jU(n,e,t){switch(e.tag){case 3:t2(e),$c();break;case 5:xN(e);break;case 1:es(e.type)&&$m(e);break;case 4:g1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ft(Vm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ft(ln,ln.current&1),e.flags|=128,null):t&e.child.childLanes?n2(n,e,t):(Ft(ln,ln.current&1),n=Ho(n,e,t),n!==null?n.sibling:null);Ft(ln,ln.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return r2(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ft(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,JN(n,e,t)}return Ho(n,e,t)}var s2,vw,i2,o2;s2=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};vw=function(){};i2=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,Al(Xi.current);var i=null;switch(t){case"input":s=j0(n,s),r=j0(n,r),i=[];break;case"select":s=dn({},s,{value:void 0}),r=dn({},r,{value:void 0}),i=[];break;case"textarea":s=B0(n,s),r=B0(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Lm)}z0(t,r);var o;t=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(i||(i=[]),i.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Kt("scroll",n),i||a===l||(i=[])):(i=i||[]).push(u,l))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};o2=function(n,e,t,r){t!==r&&(e.flags|=4)};function Xd(n,e){if(!en)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function mr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function VU(n,e,t){var r=e.pendingProps;switch(l1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(e),null;case 1:return es(e.type)&&Mm(),mr(e),null;case 3:return r=e.stateNode,jc(),Yt(Jr),Yt(Pr),v1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(pg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(Tw(ci),ci=null))),vw(n,e),mr(e),null;case 5:m1(e);var s=Al(cf.current);if(t=e.type,n!==null&&e.stateNode!=null)i2(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return mr(e),null}if(n=Al(Xi.current),pg(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[ji]=e,r[lf]=i,n=(e.mode&1)!==0,t){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(s=0;s<vh.length;s++)Kt(vh[s],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":aO(r,i),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Kt("invalid",r);break;case"textarea":uO(r,i),Kt("invalid",r)}z0(t,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&fg(r.textContent,a,n),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&fg(r.textContent,a,n),s=["children",""+a]):Qh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kt("scroll",r)}switch(t){case"input":ig(r),lO(r,i,!0);break;case"textarea":ig(r),cO(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Lm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Nk(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[ji]=e,n[lf]=r,s2(n,e,!1,!1),e.stateNode=n;e:{switch(o=K0(t,r),t){case"dialog":Kt("cancel",n),Kt("close",n),s=r;break;case"iframe":case"object":case"embed":Kt("load",n),s=r;break;case"video":case"audio":for(s=0;s<vh.length;s++)Kt(vh[s],n);s=r;break;case"source":Kt("error",n),s=r;break;case"img":case"image":case"link":Kt("error",n),Kt("load",n),s=r;break;case"details":Kt("toggle",n),s=r;break;case"input":aO(n,r),s=j0(n,r),Kt("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=dn({},r,{value:void 0}),Kt("invalid",n);break;case"textarea":uO(n,r),s=B0(n,r),Kt("invalid",n);break;default:s=r}z0(t,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?$k(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lk(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Zh(n,l):typeof l=="number"&&Zh(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Kt("scroll",n):l!=null&&GS(n,i,l,o))}switch(t){case"input":ig(n),lO(n,r,!1);break;case"textarea":ig(n),cO(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Xa(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?bc(n,!!r.multiple,i,!1):r.defaultValue!=null&&bc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Lm)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mr(e),null;case 6:if(n&&e.stateNode!=null)o2(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(t=Al(cf.current),Al(Xi.current),pg(e)){if(r=e.stateNode,t=e.memoizedProps,r[ji]=e,(i=r.nodeValue!==t)&&(n=ws,n!==null))switch(n.tag){case 3:fg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fg(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ji]=e,e.stateNode=r}return mr(e),null;case 13:if(Yt(ln),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(en&&ys!==null&&e.mode&1&&!(e.flags&128))CN(),$c(),e.flags|=98560,i=!1;else if(i=pg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[ji]=e}else $c(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mr(e),i=!1}else ci!==null&&(Tw(ci),ci=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ln.current&1?jn===0&&(jn=3):x1())),e.updateQueue!==null&&(e.flags|=4),mr(e),null);case 4:return jc(),vw(n,e),n===null&&of(e.stateNode.containerInfo),mr(e),null;case 10:return h1(e.type._context),mr(e),null;case 17:return es(e.type)&&Mm(),mr(e),null;case 19:if(Yt(ln),i=e.memoizedState,i===null)return mr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xd(i,!1);else{if(jn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Hm(n),o!==null){for(e.flags|=128,Xd(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ft(ln,ln.current&1|2),e.child}n=n.sibling}i.tail!==null&&Cn()>Uc&&(e.flags|=128,r=!0,Xd(i,!1),e.lanes=4194304)}else{if(!r)if(n=Hm(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Xd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!en)return mr(e),null}else 2*Cn()-i.renderingStartTime>Uc&&t!==1073741824&&(e.flags|=128,r=!0,Xd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Cn(),e.sibling=null,t=ln.current,Ft(ln,r?t&1|2:t&1),e):(mr(e),null);case 22:case 23:return P1(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gs&1073741824&&(mr(e),e.subtreeFlags&6&&(e.flags|=8192)):mr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function UU(n,e){switch(l1(e),e.tag){case 1:return es(e.type)&&Mm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return jc(),Yt(Jr),Yt(Pr),v1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return m1(e),null;case 13:if(Yt(ln),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(J(340));$c()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Yt(ln),null;case 4:return jc(),null;case 10:return h1(e.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var vg=!1,Er=!1,BU=typeof WeakSet=="function"?WeakSet:Set,de=null;function uc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){gn(n,e,r)}else t.current=null}function yw(n,e,t){try{t()}catch(r){gn(n,e,r)}}var JO=!1;function HU(n,e){if(tw=Dm,n=dN(),o1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var g;h!==t||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===n)break t;if(f===t&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(nw={focusedElem:n,selectionRange:t},Dm=!1,de=e;de!==null;)if(e=de,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,de=n;else for(;de!==null;){e=de;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,_=b.memoizedState,v=e.stateNode,E=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:li(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){gn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}return b=JO,JO=!1,b}function Nh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&yw(e,t,i)}s=s.next}while(s!==r)}}function ay(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function _w(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function a2(n){var e=n.alternate;e!==null&&(n.alternate=null,a2(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ji],delete e[lf],delete e[iw],delete e[TU],delete e[IU])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function l2(n){return n.tag===5||n.tag===3||n.tag===4}function eP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||l2(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Lm));else if(r!==4&&(n=n.child,n!==null))for(bw(n,e,t),n=n.sibling;n!==null;)bw(n,e,t),n=n.sibling}function ww(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(ww(n,e,t),n=n.sibling;n!==null;)ww(n,e,t),n=n.sibling}var er=null,ui=!1;function ca(n,e,t){for(t=t.child;t!==null;)u2(n,e,t),t=t.sibling}function u2(n,e,t){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(Jv,t)}catch{}switch(t.tag){case 5:Er||uc(t,e);case 6:var r=er,s=ui;er=null,ca(n,e,t),er=r,ui=s,er!==null&&(ui?(n=er,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):er.removeChild(t.stateNode));break;case 18:er!==null&&(ui?(n=er,t=t.stateNode,n.nodeType===8?ob(n.parentNode,t):n.nodeType===1&&ob(n,t),nf(n)):ob(er,t.stateNode));break;case 4:r=er,s=ui,er=t.stateNode.containerInfo,ui=!0,ca(n,e,t),er=r,ui=s;break;case 0:case 11:case 14:case 15:if(!Er&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yw(t,e,o),s=s.next}while(s!==r)}ca(n,e,t);break;case 1:if(!Er&&(uc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){gn(t,e,a)}ca(n,e,t);break;case 21:ca(n,e,t);break;case 22:t.mode&1?(Er=(r=Er)||t.memoizedState!==null,ca(n,e,t),Er=r):ca(n,e,t);break;default:ca(n,e,t)}}function tP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new BU),e.forEach(function(r){var s=ZU.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function si(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:er=a.stateNode,ui=!1;break e;case 3:er=a.stateNode.containerInfo,ui=!0;break e;case 4:er=a.stateNode.containerInfo,ui=!0;break e}a=a.return}if(er===null)throw Error(J(160));u2(i,o,s),er=null,ui=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){gn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)c2(e,n),e=e.sibling}function c2(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(si(e,n),ki(n),r&4){try{Nh(3,n,n.return),ay(3,n)}catch(y){gn(n,n.return,y)}try{Nh(5,n,n.return)}catch(y){gn(n,n.return,y)}}break;case 1:si(e,n),ki(n),r&512&&t!==null&&uc(t,t.return);break;case 5:if(si(e,n),ki(n),r&512&&t!==null&&uc(t,t.return),n.flags&32){var s=n.stateNode;try{Zh(s,"")}catch(y){gn(n,n.return,y)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Dk(s,i),K0(a,o);var u=K0(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?$k(s,h):d==="dangerouslySetInnerHTML"?Lk(s,h):d==="children"?Zh(s,h):GS(s,d,h,u)}switch(a){case"input":V0(s,i);break;case"textarea":kk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?bc(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?bc(s,!!i.multiple,i.defaultValue,!0):bc(s,!!i.multiple,i.multiple?[]:"",!1))}s[lf]=i}catch(y){gn(n,n.return,y)}}break;case 6:if(si(e,n),ki(n),r&4){if(n.stateNode===null)throw Error(J(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(y){gn(n,n.return,y)}}break;case 3:if(si(e,n),ki(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{nf(e.containerInfo)}catch(y){gn(n,n.return,y)}break;case 4:si(e,n),ki(n);break;case 13:si(e,n),ki(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(I1=Cn())),r&4&&tP(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Er=(u=Er)||d,si(e,n),Er=u):si(e,n),ki(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(de=n,d=n.child;d!==null;){for(h=de=d;de!==null;){switch(f=de,g=f.child,f.tag){case 0:case 11:case 14:case 15:Nh(4,f,f.return);break;case 1:uc(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){gn(r,t,y)}}break;case 5:uc(f,f.return);break;case 22:if(f.memoizedState!==null){rP(h);continue}}g!==null?(g.return=f,de=g):rP(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mk("display",o))}catch(y){gn(n,n.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){gn(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:si(e,n),ki(n),r&4&&tP(n);break;case 21:break;default:si(e,n),ki(n)}}function ki(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(l2(t)){var r=t;break e}t=t.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zh(s,""),r.flags&=-33);var i=eP(n);ww(n,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=eP(n);bw(n,a,o);break;default:throw Error(J(161))}}catch(l){gn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function zU(n,e,t){de=n,d2(n)}function d2(n,e,t){for(var r=(n.mode&1)!==0;de!==null;){var s=de,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vg;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Er;a=vg;var u=Er;if(vg=o,(Er=l)&&!u)for(de=s;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?sP(s):l!==null?(l.return=o,de=l):sP(s);for(;i!==null;)de=i,d2(i),i=i.sibling;de=s,vg=a,Er=u}nP(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,de=i):nP(n)}}function nP(n){for(;de!==null;){var e=de;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||ay(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Er)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:li(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&VO(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}VO(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&nf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Er||e.flags&512&&_w(e)}catch(f){gn(e,e.return,f)}}if(e===n){de=null;break}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}}function rP(n){for(;de!==null;){var e=de;if(e===n){de=null;break}var t=e.sibling;if(t!==null){t.return=e.return,de=t;break}de=e.return}}function sP(n){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ay(4,e)}catch(l){gn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){gn(e,s,l)}}var i=e.return;try{_w(e)}catch(l){gn(e,i,l)}break;case 5:var o=e.return;try{_w(e)}catch(l){gn(e,o,l)}}}catch(l){gn(e,e.return,l)}if(e===n){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var KU=Math.ceil,Wm=na.ReactCurrentDispatcher,C1=na.ReactCurrentOwner,Xs=na.ReactCurrentBatchConfig,Je=0,Xn=null,Dn=null,sr=0,gs=0,cc=sl(0),jn=0,pf=null,Xl=0,ly=0,T1=0,Lh=null,Yr=null,I1=0,Uc=1/0,So=null,Gm=!1,Ew=null,Ua=null,yg=!1,xa=null,Ym=0,Mh=0,Sw=null,em=-1,tm=0;function $r(){return Je&6?Cn():em!==-1?em:em=Cn()}function Ba(n){return n.mode&1?Je&2&&sr!==0?sr&-sr:PU.transition!==null?(tm===0&&(tm=qk()),tm):(n=Tt,n!==0||(n=window.event,n=n===void 0?16:nN(n.type)),n):1}function gi(n,e,t,r){if(50<Mh)throw Mh=0,Sw=null,Error(J(185));Yf(n,t,r),(!(Je&2)||n!==Xn)&&(n===Xn&&(!(Je&2)&&(ly|=t),jn===4&&Ea(n,sr)),ts(n,r),t===1&&Je===0&&!(e.mode&1)&&(Uc=Cn()+500,sy&&il()))}function ts(n,e){var t=n.callbackNode;P5(n,e);var r=Am(n,n===Xn?sr:0);if(r===0)t!==null&&fO(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&fO(t),e===1)n.tag===0?OU(iP.bind(null,n)):wN(iP.bind(null,n)),SU(function(){!(Je&6)&&il()}),t=null;else{switch(Xk(r)){case 1:t=ZS;break;case 4:t=Gk;break;case 16:t=Rm;break;case 536870912:t=Yk;break;default:t=Rm}t=_2(t,h2.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function h2(n,e){if(em=-1,tm=0,Je&6)throw Error(J(327));var t=n.callbackNode;if(Tc()&&n.callbackNode!==t)return null;var r=Am(n,n===Xn?sr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=qm(n,r);else{e=r;var s=Je;Je|=2;var i=p2();(Xn!==n||sr!==e)&&(So=null,Uc=Cn()+500,Fl(n,e));do try{YU();break}catch(a){f2(n,a)}while(!0);d1(),Wm.current=i,Je=s,Dn!==null?e=0:(Xn=null,sr=0,e=jn)}if(e!==0){if(e===2&&(s=X0(n),s!==0&&(r=s,e=Cw(n,s))),e===1)throw t=pf,Fl(n,0),Ea(n,r),ts(n,Cn()),t;if(e===6)Ea(n,r);else{if(s=n.current.alternate,!(r&30)&&!WU(s)&&(e=qm(n,r),e===2&&(i=X0(n),i!==0&&(r=i,e=Cw(n,i))),e===1))throw t=pf,Fl(n,0),Ea(n,r),ts(n,Cn()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:wl(n,Yr,So);break;case 3:if(Ea(n,r),(r&130023424)===r&&(e=I1+500-Cn(),10<e)){if(Am(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){$r(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=sw(wl.bind(null,n,Yr,So),e);break}wl(n,Yr,So);break;case 4:if(Ea(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var o=31-pi(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KU(r/1960))-r,10<r){n.timeoutHandle=sw(wl.bind(null,n,Yr,So),r);break}wl(n,Yr,So);break;case 5:wl(n,Yr,So);break;default:throw Error(J(329))}}}return ts(n,Cn()),n.callbackNode===t?h2.bind(null,n):null}function Cw(n,e){var t=Lh;return n.current.memoizedState.isDehydrated&&(Fl(n,e).flags|=256),n=qm(n,e),n!==2&&(e=Yr,Yr=t,e!==null&&Tw(e)),n}function Tw(n){Yr===null?Yr=n:Yr.push.apply(Yr,n)}function WU(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!_i(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ea(n,e){for(e&=~T1,e&=~ly,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-pi(e),r=1<<t;n[t]=-1,e&=~r}}function iP(n){if(Je&6)throw Error(J(327));Tc();var e=Am(n,0);if(!(e&1))return ts(n,Cn()),null;var t=qm(n,e);if(n.tag!==0&&t===2){var r=X0(n);r!==0&&(e=r,t=Cw(n,r))}if(t===1)throw t=pf,Fl(n,0),Ea(n,e),ts(n,Cn()),t;if(t===6)throw Error(J(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,wl(n,Yr,So),ts(n,Cn()),null}function O1(n,e){var t=Je;Je|=1;try{return n(e)}finally{Je=t,Je===0&&(Uc=Cn()+500,sy&&il())}}function Ql(n){xa!==null&&xa.tag===0&&!(Je&6)&&Tc();var e=Je;Je|=1;var t=Xs.transition,r=Tt;try{if(Xs.transition=null,Tt=1,n)return n()}finally{Tt=r,Xs.transition=t,Je=e,!(Je&6)&&il()}}function P1(){gs=cc.current,Yt(cc)}function Fl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,EU(t)),Dn!==null)for(t=Dn.return;t!==null;){var r=t;switch(l1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mm();break;case 3:jc(),Yt(Jr),Yt(Pr),v1();break;case 5:m1(r);break;case 4:jc();break;case 13:Yt(ln);break;case 19:Yt(ln);break;case 10:h1(r.type._context);break;case 22:case 23:P1()}t=t.return}if(Xn=n,Dn=n=Ha(n.current,null),sr=gs=e,jn=0,pf=null,T1=ly=Xl=0,Yr=Lh=null,Rl!==null){for(e=0;e<Rl.length;e++)if(t=Rl[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}t.pending=r}Rl=null}return n}function f2(n,e){do{var t=Dn;try{if(d1(),Qg.current=Km,zm){for(var r=cn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zm=!1}if(ql=0,Wn=$n=cn=null,kh=!1,df=0,C1.current=null,t===null||t.return===null){jn=1,pf=e,Dn=null;break}e:{var i=n,o=t.return,a=t,l=e;if(e=sr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=WO(o);if(g!==null){g.flags&=-257,GO(g,o,a,i,e),g.mode&1&&KO(i,u,e),e=g,l=u;var b=e.updateQueue;if(b===null){var y=new Set;y.add(l),e.updateQueue=y}else b.add(l);break e}else{if(!(e&1)){KO(i,u,e),x1();break e}l=Error(J(426))}}else if(en&&a.mode&1){var _=WO(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),GO(_,o,a,i,e),u1(Vc(l,a));break e}}i=l=Vc(l,a),jn!==4&&(jn=2),Lh===null?Lh=[i]:Lh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=XN(i,l,e);jO(i,v);break e;case 1:a=l;var E=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ua===null||!Ua.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=QN(i,a,e);jO(i,S);break e}}i=i.return}while(i!==null)}m2(t)}catch(O){e=O,Dn===t&&t!==null&&(Dn=t=t.return);continue}break}while(!0)}function p2(){var n=Wm.current;return Wm.current=Km,n===null?Km:n}function x1(){(jn===0||jn===3||jn===2)&&(jn=4),Xn===null||!(Xl&268435455)&&!(ly&268435455)||Ea(Xn,sr)}function qm(n,e){var t=Je;Je|=2;var r=p2();(Xn!==n||sr!==e)&&(So=null,Fl(n,e));do try{GU();break}catch(s){f2(n,s)}while(!0);if(d1(),Je=t,Wm.current=r,Dn!==null)throw Error(J(261));return Xn=null,sr=0,jn}function GU(){for(;Dn!==null;)g2(Dn)}function YU(){for(;Dn!==null&&!_5();)g2(Dn)}function g2(n){var e=y2(n.alternate,n,gs);n.memoizedProps=n.pendingProps,e===null?m2(n):Dn=e,C1.current=null}function m2(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=UU(t,e),t!==null){t.flags&=32767,Dn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{jn=6,Dn=null;return}}else if(t=VU(t,e,gs),t!==null){Dn=t;return}if(e=e.sibling,e!==null){Dn=e;return}Dn=e=n}while(e!==null);jn===0&&(jn=5)}function wl(n,e,t){var r=Tt,s=Xs.transition;try{Xs.transition=null,Tt=1,qU(n,e,t,r)}finally{Xs.transition=s,Tt=r}return null}function qU(n,e,t,r){do Tc();while(xa!==null);if(Je&6)throw Error(J(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(J(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(x5(n,i),n===Xn&&(Dn=Xn=null,sr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||yg||(yg=!0,_2(Rm,function(){return Tc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Xs.transition,Xs.transition=null;var o=Tt;Tt=1;var a=Je;Je|=4,C1.current=null,HU(n,t),c2(t,n),gU(nw),Dm=!!tw,nw=tw=null,n.current=t,zU(t),b5(),Je=a,Tt=o,Xs.transition=i}else n.current=t;if(yg&&(yg=!1,xa=n,Ym=s),i=n.pendingLanes,i===0&&(Ua=null),S5(t.stateNode),ts(n,Cn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gm)throw Gm=!1,n=Ew,Ew=null,n;return Ym&1&&n.tag!==0&&Tc(),i=n.pendingLanes,i&1?n===Sw?Mh++:(Mh=0,Sw=n):Mh=0,il(),null}function Tc(){if(xa!==null){var n=Xk(Ym),e=Xs.transition,t=Tt;try{if(Xs.transition=null,Tt=16>n?16:n,xa===null)var r=!1;else{if(n=xa,xa=null,Ym=0,Je&6)throw Error(J(331));var s=Je;for(Je|=4,de=n.current;de!==null;){var i=de,o=i.child;if(de.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:Nh(8,d,i)}var h=d.child;if(h!==null)h.return=d,de=h;else for(;de!==null;){d=de;var f=d.sibling,g=d.return;if(a2(d),d===u){de=null;break}if(f!==null){f.return=g,de=f;break}de=g}}}var b=i.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}de=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,de=o;else e:for(;de!==null;){if(i=de,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nh(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,de=v;break e}de=i.return}}var E=n.current;for(de=E;de!==null;){o=de;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,de=w;else e:for(o=E;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ay(9,a)}}catch(O){gn(a,a.return,O)}if(a===o){de=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,de=S;break e}de=a.return}}if(Je=s,il(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(Jv,n)}catch{}r=!0}return r}finally{Tt=t,Xs.transition=e}}return!1}function oP(n,e,t){e=Vc(t,e),e=XN(n,e,1),n=Va(n,e,1),e=$r(),n!==null&&(Yf(n,1,e),ts(n,e))}function gn(n,e,t){if(n.tag===3)oP(n,n,t);else for(;e!==null;){if(e.tag===3){oP(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ua===null||!Ua.has(r))){n=Vc(t,n),n=QN(e,n,1),e=Va(e,n,1),n=$r(),e!==null&&(Yf(e,1,n),ts(e,n));break}}e=e.return}}function XU(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=$r(),n.pingedLanes|=n.suspendedLanes&t,Xn===n&&(sr&t)===t&&(jn===4||jn===3&&(sr&130023424)===sr&&500>Cn()-I1?Fl(n,0):T1|=t),ts(n,e)}function v2(n,e){e===0&&(n.mode&1?(e=lg,lg<<=1,!(lg&130023424)&&(lg=4194304)):e=1);var t=$r();n=Bo(n,e),n!==null&&(Yf(n,e,t),ts(n,t))}function QU(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),v2(n,t)}function ZU(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),v2(n,t)}var y2;y2=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Jr.current)Xr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Xr=!1,jU(n,e,t);Xr=!!(n.flags&131072)}else Xr=!1,en&&e.flags&1048576&&EN(e,jm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jg(n,e),n=e.pendingProps;var s=Mc(e,Pr.current);Cc(e,t),s=_1(null,e,r,n,s,t);var i=b1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,es(r)?(i=!0,$m(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,p1(e),s.updater=oy,e.stateNode=s,s._reactInternals=e,dw(e,r,n,t),e=pw(null,e,r,!0,i,t)):(e.tag=0,en&&i&&a1(e),kr(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Jg(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=e6(r),n=li(r,n),s){case 0:e=fw(null,e,r,n,t);break e;case 1:e=XO(null,e,r,n,t);break e;case 11:e=YO(null,e,r,n,t);break e;case 14:e=qO(null,e,r,li(r.type,n),t);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),fw(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),XO(n,e,r,s,t);case 3:e:{if(t2(e),n===null)throw Error(J(387));r=e.pendingProps,i=e.memoizedState,s=i.element,PN(n,e),Bm(e,r,null,t);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vc(Error(J(423)),e),e=QO(n,e,r,t,s);break e}else if(r!==s){s=Vc(Error(J(424)),e),e=QO(n,e,r,t,s);break e}else for(ys=ja(e.stateNode.containerInfo.firstChild),ws=e,en=!0,ci=null,t=IN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if($c(),r===s){e=Ho(n,e,t);break e}kr(n,e,r,t)}e=e.child}return e;case 5:return xN(e),n===null&&lw(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,o=s.children,rw(r,s)?o=null:i!==null&&rw(r,i)&&(e.flags|=32),e2(n,e),kr(n,e,o,t),e.child;case 6:return n===null&&lw(e),null;case 13:return n2(n,e,t);case 4:return g1(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Fc(e,null,r,t):kr(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),YO(n,e,r,s,t);case 7:return kr(n,e,e.pendingProps,t),e.child;case 8:return kr(n,e,e.pendingProps.children,t),e.child;case 12:return kr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ft(Vm,r._currentValue),r._currentValue=o,i!==null)if(_i(i.value,o)){if(i.children===s.children&&!Jr.current){e=Ho(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ko(-1,t&-t),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),uw(i.return,t,e),a.lanes|=t;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),uw(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kr(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Cc(e,t),s=Js(s),r=r(s),e.flags|=1,kr(n,e,r,t),e.child;case 14:return r=e.type,s=li(r,e.pendingProps),s=li(r.type,s),qO(n,e,r,s,t);case 15:return ZN(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:li(r,s),Jg(n,e),e.tag=1,es(r)?(n=!0,$m(e)):n=!1,Cc(e,t),qN(e,r,s),dw(e,r,s,t),pw(null,e,r,!0,n,t);case 19:return r2(n,e,t);case 22:return JN(n,e,t)}throw Error(J(156,e.tag))};function _2(n,e){return Wk(n,e)}function JU(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(n,e,t,r){return new JU(n,e,t,r)}function R1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function e6(n){if(typeof n=="function")return R1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===qS)return 11;if(n===XS)return 14}return 2}function Ha(n,e){var t=n.alternate;return t===null?(t=Ks(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function nm(n,e,t,r,s,i){var o=2;if(r=n,typeof n=="function")R1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ec:return jl(t.children,s,i,e);case YS:o=8,s|=8;break;case L0:return n=Ks(12,t,e,s|2),n.elementType=L0,n.lanes=i,n;case M0:return n=Ks(13,t,e,s),n.elementType=M0,n.lanes=i,n;case $0:return n=Ks(19,t,e,s),n.elementType=$0,n.lanes=i,n;case xk:return uy(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ok:o=10;break e;case Pk:o=9;break e;case qS:o=11;break e;case XS:o=14;break e;case va:o=16,r=null;break e}throw Error(J(130,n==null?n:typeof n,""))}return e=Ks(o,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function jl(n,e,t,r){return n=Ks(7,n,r,e),n.lanes=t,n}function uy(n,e,t,r){return n=Ks(22,n,r,e),n.elementType=xk,n.lanes=t,n.stateNode={isHidden:!1},n}function pb(n,e,t){return n=Ks(6,n,null,e),n.lanes=t,n}function gb(n,e,t){return e=Ks(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function t6(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=q_(0),this.expirationTimes=q_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=q_(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function A1(n,e,t,r,s,i,o,a,l){return n=new t6(n,e,t,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ks(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},p1(i),n}function n6(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ju,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function b2(n){if(!n)return Qa;n=n._reactInternals;e:{if(pu(n)!==n||n.tag!==1)throw Error(J(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(es(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(n.tag===1){var t=n.type;if(es(t))return bN(n,t,e)}return e}function w2(n,e,t,r,s,i,o,a,l){return n=A1(t,r,!0,n,s,i,o,a,l),n.context=b2(null),t=n.current,r=$r(),s=Ba(t),i=ko(r,s),i.callback=e??null,Va(t,i,s),n.current.lanes=s,Yf(n,s,r),ts(n,r),n}function cy(n,e,t,r){var s=e.current,i=$r(),o=Ba(s);return t=b2(t),e.context===null?e.context=t:e.pendingContext=t,e=ko(i,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Va(s,e,o),n!==null&&(gi(n,s,o,i),Xg(n,s,o)),o}function Xm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function aP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function D1(n,e){aP(n,e),(n=n.alternate)&&aP(n,e)}var E2=typeof reportError=="function"?reportError:function(n){console.error(n)};function k1(n){this._internalRoot=n}dy.prototype.render=k1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(J(409));cy(n,e,null,null)};dy.prototype.unmount=k1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ql(function(){cy(null,n,null,null)}),e[Uo]=null}};function dy(n){this._internalRoot=n}dy.prototype.unstable_scheduleHydration=function(n){if(n){var e=Jk();n={blockedOn:null,target:n,priority:e};for(var t=0;t<wa.length&&e!==0&&e<wa[t].priority;t++);wa.splice(t,0,n),t===0&&tN(n)}};function N1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function lP(){}function r6(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Xm(o);i.call(u)}}var o=w2(e,r,n,0,null,!1,!1,"",lP);return n._reactRootContainer=o,n[Uo]=o.current,of(n.nodeType===8?n.parentNode:n),Ql(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Xm(l);a.call(u)}}var l=A1(n,0,!1,null,null,!1,!1,"",lP);return n._reactRootContainer=l,n[Uo]=l.current,of(n.nodeType===8?n.parentNode:n),Ql(function(){cy(e,l,t,r)}),l}function fy(n,e,t,r,s){var i=t._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Xm(o);a.call(l)}}cy(e,o,n,s)}else o=r6(t,e,n,s,r);return Xm(o)}Qk=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=mh(e.pendingLanes);t!==0&&(JS(e,t|1),ts(e,Cn()),!(Je&6)&&(Uc=Cn()+500,il()))}break;case 13:Ql(function(){var r=Bo(n,1);if(r!==null){var s=$r();gi(r,n,1,s)}}),D1(n,1)}};e1=function(n){if(n.tag===13){var e=Bo(n,134217728);if(e!==null){var t=$r();gi(e,n,134217728,t)}D1(n,134217728)}};Zk=function(n){if(n.tag===13){var e=Ba(n),t=Bo(n,e);if(t!==null){var r=$r();gi(t,n,e,r)}D1(n,e)}};Jk=function(){return Tt};eN=function(n,e){var t=Tt;try{return Tt=n,e()}finally{Tt=t}};G0=function(n,e,t){switch(e){case"input":if(V0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=ry(r);if(!s)throw Error(J(90));Ak(r),V0(r,s)}}}break;case"textarea":kk(n,t);break;case"select":e=t.value,e!=null&&bc(n,!!t.multiple,e,!1)}};Vk=O1;Uk=Ql;var s6={usingClientEntryPoint:!1,Events:[Xf,sc,ry,Fk,jk,O1]},Qd={findFiberByHostInstance:xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i6={bundleType:Qd.bundleType,version:Qd.version,rendererPackageName:Qd.rendererPackageName,rendererConfig:Qd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:na.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=zk(n),n===null?null:n.stateNode},findFiberByHostInstance:Qd.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_g.isDisabled&&_g.supportsFiber)try{Jv=_g.inject(i6),qi=_g}catch{}}Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s6;Ts.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N1(e))throw Error(J(200));return n6(n,e,null,t)};Ts.createRoot=function(n,e){if(!N1(n))throw Error(J(299));var t=!1,r="",s=E2;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=A1(n,1,!1,null,null,t,!1,r,s),n[Uo]=e.current,of(n.nodeType===8?n.parentNode:n),new k1(e)};Ts.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(J(188)):(n=Object.keys(n).join(","),Error(J(268,n)));return n=zk(e),n=n===null?null:n.stateNode,n};Ts.flushSync=function(n){return Ql(n)};Ts.hydrate=function(n,e,t){if(!hy(e))throw Error(J(200));return fy(null,n,e,!0,t)};Ts.hydrateRoot=function(n,e,t){if(!N1(n))throw Error(J(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",o=E2;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=w2(e,null,n,1,t??null,s,!1,i,o),n[Uo]=e.current,of(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new dy(e)};Ts.render=function(n,e,t){if(!hy(e))throw Error(J(200));return fy(null,n,e,!1,t)};Ts.unmountComponentAtNode=function(n){if(!hy(n))throw Error(J(40));return n._reactRootContainer?(Ql(function(){fy(null,null,n,!1,function(){n._reactRootContainer=null,n[Uo]=null})}),!0):!1};Ts.unstable_batchedUpdates=O1;Ts.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!hy(t))throw Error(J(200));if(n==null||n._reactInternals===void 0)throw Error(J(38));return fy(n,e,t,!1,r)};Ts.version="18.3.1-next-f1338f8080-20240426";function S2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S2)}catch(n){console.error(n)}}S2(),Sk.exports=Ts;var Ws=Sk.exports;const Mr=Ce(Ws);var uP=Ws;k0.createRoot=uP.createRoot,k0.hydrateRoot=uP.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gf.apply(this,arguments)}var Ra;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ra||(Ra={}));const cP="popstate";function o6(n){n===void 0&&(n={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=gu(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Iw("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:C2(i))}function r(s,i){L1(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return l6(e,t,r,n)}function Nn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function L1(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a6(){return Math.random().toString(36).substr(2,8)}function dP(n,e){return{usr:n.state,key:n.key,idx:e}}function Iw(n,e,t,r){return t===void 0&&(t=null),gf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?gu(e):e,{state:t,key:e&&e.key||r||a6()})}function C2(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function l6(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ra.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(gf({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ra.Pop;let _=d(),v=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:v})}function f(_,v){a=Ra.Push;let E=Iw(y.location,_,v);t(E,_),u=d()+1;let w=dP(E,u),S=y.createHref(E);try{o.pushState(w,"",S)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(S)}i&&l&&l({action:a,location:y.location,delta:1})}function g(_,v){a=Ra.Replace;let E=Iw(y.location,_,v);t(E,_),u=d();let w=dP(E,u),S=y.createHref(E);o.replaceState(w,"",S),i&&l&&l({action:a,location:y.location,delta:0})}function b(_){let v=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof _=="string"?_:C2(_);return E=E.replace(/ $/,"%20"),Nn(v,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,v)}let y={get action(){return a},get location(){return n(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(cP,h),l=_,()=>{s.removeEventListener(cP,h),l=null}},createHref(_){return e(s,_)},createURL:b,encodeLocation(_){let v=b(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:g,go(_){return o.go(_)}};return y}var hP;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(hP||(hP={}));function u6(n,e,t){return t===void 0&&(t="/"),c6(n,e,t)}function c6(n,e,t,r){let s=typeof e=="string"?gu(e):e,i=O2(s.pathname||"/",t);if(i==null)return null;let o=T2(n);d6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=S6(i);a=b6(o[l],u)}return a}function T2(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Nn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Vl([r,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(Nn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),T2(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:y6(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of I2(i.path))s(i,o,l)}),e}function I2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=I2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function d6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_6(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const h6=/^:[\w-]+$/,f6=3,p6=2,g6=1,m6=10,v6=-2,fP=n=>n==="*";function y6(n,e){let t=n.split("/"),r=t.length;return t.some(fP)&&(r+=v6),e&&(r+=p6),t.filter(s=>!fP(s)).reduce((s,i)=>s+(h6.test(i)?f6:i===""?g6:m6),r)}function _6(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function b6(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=w6({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Vl([i,h.pathname]),pathnameBase:O6(Vl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Vl([i,h.pathnameBase]))}return o}function w6(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=E6(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=a[h];return g&&!b?u[f]=void 0:u[f]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function E6(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),L1(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function S6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return L1(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function O2(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function C6(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?gu(n):n;return{pathname:t?t.startsWith("/")?t:T6(t,e):e,search:P6(r),hash:x6(s)}}function T6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function mb(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function P2(n,e){let t=I6(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function x2(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=gu(n):(s=gf({},n),Nn(!s.pathname||!s.pathname.includes("?"),mb("?","pathname","search",s)),Nn(!s.pathname||!s.pathname.includes("#"),mb("#","pathname","hash",s)),Nn(!s.search||!s.search.includes("#"),mb("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=C6(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Vl=n=>n.join("/").replace(/\/\/+/g,"/"),O6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),P6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,x6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function R6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const R2=["post","put","patch","delete"];new Set(R2);const A6=["get",...R2];new Set(A6);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mf.apply(this,arguments)}const M1=D.createContext(null),D6=D.createContext(null),Zf=D.createContext(null),py=D.createContext(null),ol=D.createContext({outlet:null,matches:[],isDataRoute:!1}),A2=D.createContext(null);function Jf(){return D.useContext(py)!=null}function gy(){return Jf()||Nn(!1),D.useContext(py).location}function D2(n){D.useContext(Zf).static||D.useLayoutEffect(n)}function mu(){let{isDataRoute:n}=D.useContext(ol);return n?W6():k6()}function k6(){Jf()||Nn(!1);let n=D.useContext(M1),{basename:e,future:t,navigator:r}=D.useContext(Zf),{matches:s}=D.useContext(ol),{pathname:i}=gy(),o=JSON.stringify(P2(s,t.v7_relativeSplatPath)),a=D.useRef(!1);return D2(()=>{a.current=!0}),D.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=x2(u,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vl([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,n])}function N6(){let{matches:n}=D.useContext(ol),e=n[n.length-1];return e?e.params:{}}function L6(n,e){return M6(n,e)}function M6(n,e,t,r){Jf()||Nn(!1);let{navigator:s}=D.useContext(Zf),{matches:i}=D.useContext(ol),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=gy(),d;if(e){var h;let _=typeof e=="string"?gu(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||Nn(!1),d=_}else d=u;let f=d.pathname||"/",g=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=u6(n,{pathname:g}),y=U6(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Vl([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Vl([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,t,r);return e&&y?D.createElement(py.Provider,{value:{location:mf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ra.Pop}},y):y}function $6(){let n=K6(),e=R6(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:s},t):null,null)}const F6=D.createElement($6,null);class j6 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(ol.Provider,{value:this.props.routeContext},D.createElement(A2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V6(n){let{routeContext:e,match:t,children:r}=n,s=D.useContext(M1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(ol.Provider,{value:e},r)}function U6(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(s=t)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Nn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=t,b=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,b=!1,y=null,_=null;t&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||F6,l&&(u<0&&f===0?(b=!0,_=null):u===f&&(b=!0,_=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),E=()=>{let w;return g?w=y:b?w=_:h.route.Component?w=D.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,D.createElement(V6,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?D.createElement(j6,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:E(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):E()},null)}var k2=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(k2||{}),Qm=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Qm||{});function B6(n){let e=D.useContext(M1);return e||Nn(!1),e}function H6(n){let e=D.useContext(D6);return e||Nn(!1),e}function z6(n){let e=D.useContext(ol);return e||Nn(!1),e}function N2(n){let e=z6(),t=e.matches[e.matches.length-1];return t.route.id||Nn(!1),t.route.id}function K6(){var n;let e=D.useContext(A2),t=H6(Qm.UseRouteError),r=N2(Qm.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function W6(){let{router:n}=B6(k2.UseNavigateStable),e=N2(Qm.UseNavigateStable),t=D.useRef(!1);return D2(()=>{t.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,mf({fromRouteId:e},i)))},[n,e])}const pP={};function G6(n,e){pP[e]||(pP[e]=!0,console.warn(e))}const gP=(n,e,t)=>G6(n," React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function Y6(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&gP("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&!e&&gP("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function $h(n){let{to:e,replace:t,state:r,relative:s}=n;Jf()||Nn(!1);let{future:i,static:o}=D.useContext(Zf),{matches:a}=D.useContext(ol),{pathname:l}=gy(),u=mu(),d=x2(e,P2(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return D.useEffect(()=>u(JSON.parse(h),{replace:t,state:r,relative:s}),[u,h,s,t,r]),null}function ps(n){Nn(!1)}function q6(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Ra.Pop,navigator:i,static:o=!1,future:a}=n;Jf()&&Nn(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:i,static:o,future:mf({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=gu(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:b="default"}=r,y=D.useMemo(()=>{let _=O2(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:g,key:b},navigationType:s}},[l,d,h,f,g,b,s]);return y==null?null:D.createElement(Zf.Provider,{value:u},D.createElement(py.Provider,{children:t,value:y}))}function vb(n){let{children:e,location:t}=n;return L6(Ow(e),t)}new Promise(()=>{});function Ow(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){t.push.apply(t,Ow(r.props.children,i));return}r.type!==ps&&Nn(!1),!r.props.index||!r.props.children||Nn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ow(r.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const X6="6";try{window.__reactRouterVersion=X6}catch{}const Q6="startTransition",mP=X4[Q6];function Z6(n){let{basename:e,children:t,future:r,window:s}=n,i=D.useRef();i.current==null&&(i.current=o6({window:s,v5Compat:!0}));let o=i.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=D.useCallback(h=>{u&&mP?mP(()=>l(h)):l(h)},[l,u]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.useEffect(()=>Y6(r),[r]),D.createElement(q6,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var vP;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(vP||(vP={}));var yP;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(yP||(yP={}));function et(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var J6={};function my(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:J6}var L2=Object.assign,Zm=Object.getOwnPropertyDescriptor,Qi=Object.defineProperty,vy=Object.prototype,Pw=[];Object.freeze(Pw);var M2={};Object.freeze(M2);var eB=typeof Proxy<"u",tB=Object.toString();function $2(){eB||et("Proxy not available")}function F2(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var dc=function(){};function bi(n){return typeof n=="function"}function Zl(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function yy(n){return n!==null&&typeof n=="object"}function zo(n){if(!yy(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===tB}function j2(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function ep(n,e,t){Qi(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function V2(n,e,t){Qi(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function vu(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(r){return yy(r)&&r[t]===!0}}function ud(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function nB(n){var e=Object.getPrototypeOf(n),t=Object.getPrototypeOf(e),r=Object.getPrototypeOf(t);return r===null}function To(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var U2=typeof Object.getOwnPropertySymbols<"u";function rB(n){var e=Object.keys(n);if(!U2)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(r){return vy.propertyIsEnumerable.call(n,r)})):e}var Bc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:U2?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function B2(n){return n===null?null:typeof n=="object"?""+n:n}function No(n,e){return vy.hasOwnProperty.call(n,e)}var sB=Object.getOwnPropertyDescriptors||function(e){var t={};return Bc(e).forEach(function(r){t[r]=Zm(e,r)}),t};function ms(n,e){return!!(n&e)}function vs(n,e,t){return t?n|=e:n&=~e,n}function _P(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function iB(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,aB(r.key),r)}}function cd(n,e,t){return e&&iB(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function hc(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=lB(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jl.apply(null,arguments)}function H2(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,xw(n,e)}function xw(n,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},xw(n,e)}function oB(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function aB(n){var e=oB(n,"string");return typeof e=="symbol"?e:e+""}function lB(n,e){if(n){if(typeof n=="string")return _P(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_P(n,e):void 0}}var Ki=Symbol("mobx-stored-annotations");function Zi(n){function e(t,r){if(np(r))return n.decorate_20223_(t,r);tp(t,r,n)}return Object.assign(e,n)}function tp(n,e,t){No(n,Ki)||ep(n,Ki,Jl({},n[Ki])),vB(t)||(n[Ki][e]=t)}function uB(n){return No(n,Ki)||ep(n,Ki,Jl({},n[Ki])),n[Ki]}function np(n){return typeof n=="object"&&typeof n.kind=="string"}var Se=Symbol("mobx administration"),al=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=dt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return oL(this)},e.reportChanged=function(){Gs(),aL(this),Ys()},e.toString=function(){return this.name_},cd(n,[{key:"isBeingObserved",get:function(){return ms(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=vs(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ms(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=vs(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ms(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=vs(this.flags_,n.diffValueMask_,r===1)}}])}();al.isBeingObservedMask_=1;al.isPendingUnobservationMask_=2;al.diffValueMask_=4;var $1=vu("Atom",al);function z2(n,e,t){e===void 0&&(e=dc),t===void 0&&(t=dc);var r=new al(n);return e!==dc&&_9(r,e),t!==dc&&fL(r,t),r}function cB(n,e){return n===e}function dB(n,e){return K1(n,e)}function hB(n,e){return K1(n,e,1)}function fB(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Jm={identity:cB,structural:dB,default:fB,shallow:hB};function eu(n,e,t){return yL(n)?n:Array.isArray(n)?nr.array(n,{name:t}):zo(n)?nr.object(n,void 0,{name:t}):ud(n)?nr.map(n,{name:t}):To(n)?nr.set(n,{name:t}):typeof n=="function"&&!yf(n)&&!_f(n)?j2(n)?zc(n):vf(t,n):n}function pB(n,e,t){if(n==null||Sy(n)||Ey(n)||_u(n)||Vi(n))return n;if(Array.isArray(n))return nr.array(n,{name:t,deep:!1});if(zo(n))return nr.object(n,void 0,{name:t,deep:!1});if(ud(n))return nr.map(n,{name:t,deep:!1});if(To(n))return nr.set(n,{name:t,deep:!1})}function _y(n){return n}function gB(n,e){return K1(n,e)?e:n}var mB="override";function vB(n){return n.annotationType_===mB}function rp(n,e){return{annotationType_:n,options_:e,make_:yB,extend_:_B,decorate_20223_:bB}}function yB(n,e,t,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(n,e,t,!1)===null?0:1;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(yf(t.value))return 1;var i=K2(n,this,e,t,!1);return Qi(r,e,i),2}function _B(n,e,t,r){var s=K2(n,this,e,t);return n.defineProperty_(e,s,r)}function bB(n,e){var t=e.kind,r=e.name,s=e.addInitializer,i=this,o=function(u){var d,h,f,g;return tu((d=(h=i.options_)==null?void 0:h.name)!=null?d:r.toString(),u,(f=(g=i.options_)==null?void 0:g.autoAction)!=null?f:!1)};if(t=="field")return function(l){var u,d=l;return yf(d)||(d=o(d)),(u=i.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(t=="method"){var a;return yf(n)||(n=o(n)),(a=this.options_)!=null&&a.bound&&s(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),n}et("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+t+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function wB(n,e,t,r){e.annotationType_,r.value}function K2(n,e,t,r,s){var i,o,a,l,u,d,h;s===void 0&&(s=ie.safeDescriptors),wB(n,e,t,r);var f=r.value;if((i=e.options_)!=null&&i.bound){var g;f=f.bind((g=n.proxy_)!=null?g:n.target_)}return{value:tu((o=(a=e.options_)==null?void 0:a.name)!=null?o:t.toString(),f,(l=(u=e.options_)==null?void 0:u.autoAction)!=null?l:!1,(d=e.options_)!=null&&d.bound?(h=n.proxy_)!=null?h:n.target_:void 0),configurable:s?n.isPlainObject_:!0,enumerable:!1,writable:!s}}function W2(n,e){return{annotationType_:n,options_:e,make_:EB,extend_:SB,decorate_20223_:CB}}function EB(n,e,t,r){var s;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!No(n.target_,e)||!_f(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(_f(t.value))return 1;var i=G2(n,this,e,t,!1,!1);return Qi(r,e,i),2}function SB(n,e,t,r){var s,i=G2(n,this,e,t,(s=this.options_)==null?void 0:s.bound);return n.defineProperty_(e,i,r)}function CB(n,e){var t,r=e.name,s=e.addInitializer;return _f(n)||(n=zc(n)),(t=this.options_)!=null&&t.bound&&s(function(){var i=this,o=i[r].bind(i);o.isMobXFlow=!0,i[r]=o}),n}function TB(n,e,t,r){e.annotationType_,r.value}function G2(n,e,t,r,s,i){i===void 0&&(i=ie.safeDescriptors),TB(n,e,t,r);var o=r.value;if(_f(o)||(o=zc(o)),s){var a;o=o.bind((a=n.proxy_)!=null?a:n.target_),o.isMobXFlow=!0}return{value:o,configurable:i?n.isPlainObject_:!0,enumerable:!1,writable:!i}}function F1(n,e){return{annotationType_:n,options_:e,make_:IB,extend_:OB,decorate_20223_:PB}}function IB(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function OB(n,e,t,r){return xB(n,this,e,t),n.defineComputedProperty_(e,Jl({},this.options_,{get:t.get,set:t.set}),r)}function PB(n,e){var t=this,r=e.name,s=e.addInitializer;return s(function(){var i=bu(this)[Se],o=Jl({},t.options_,{get:n,context:this});o.name||(o.name="ObservableObject."+r.toString()),i.values_.set(r,new wi(o))}),function(){return this[Se].getObservablePropValue_(r)}}function xB(n,e,t,r){e.annotationType_,r.get}function by(n,e){return{annotationType_:n,options_:e,make_:RB,extend_:AB,decorate_20223_:DB}}function RB(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function AB(n,e,t,r){var s,i;return kB(n,this),n.defineObservableProperty_(e,t.value,(s=(i=this.options_)==null?void 0:i.enhancer)!=null?s:eu,r)}function DB(n,e){var t=this,r=e.kind,s=e.name,i=new WeakSet;function o(a,l){var u,d,h=bu(a)[Se],f=new Ul(l,(u=(d=t.options_)==null?void 0:d.enhancer)!=null?u:eu,"ObservableObject."+s.toString(),!1);h.values_.set(s,f),i.add(a)}if(r=="accessor")return{get:function(){return i.has(this)||o(this,n.get.call(this)),this[Se].getObservablePropValue_(s)},set:function(l){return i.has(this)||o(this,l),this[Se].setObservablePropValue_(s,l)},init:function(l){return i.has(this)||o(this,l),l}}}function kB(n,e,t,r){e.annotationType_}var NB="true",LB=Y2();function Y2(n){return{annotationType_:NB,options_:n,make_:MB,extend_:$B,decorate_20223_:FB}}function MB(n,e,t,r){var s,i;if(t.get)return Hc.make_(n,e,t,r);if(t.set){var o=tu(e.toString(),t.set);return r===n.target_?n.defineProperty_(e,{configurable:ie.safeDescriptors?n.isPlainObject_:!0,set:o})===null?0:2:(Qi(r,e,{configurable:!0,set:o}),2)}if(r!==n.target_&&typeof t.value=="function"){var a;if(j2(t.value)){var l,u=(l=this.options_)!=null&&l.autoBind?zc.bound:zc;return u.make_(n,e,t,r)}var d=(a=this.options_)!=null&&a.autoBind?vf.bound:vf;return d.make_(n,e,t,r)}var h=((s=this.options_)==null?void 0:s.deep)===!1?nr.ref:nr;if(typeof t.value=="function"&&(i=this.options_)!=null&&i.autoBind){var f;t.value=t.value.bind((f=n.proxy_)!=null?f:n.target_)}return h.make_(n,e,t,r)}function $B(n,e,t,r){var s,i;if(t.get)return Hc.extend_(n,e,t,r);if(t.set)return n.defineProperty_(e,{configurable:ie.safeDescriptors?n.isPlainObject_:!0,set:tu(e.toString(),t.set)},r);if(typeof t.value=="function"&&(s=this.options_)!=null&&s.autoBind){var o;t.value=t.value.bind((o=n.proxy_)!=null?o:n.target_)}var a=((i=this.options_)==null?void 0:i.deep)===!1?nr.ref:nr;return a.extend_(n,e,t,r)}function FB(n,e){et("'"+this.annotationType_+"' cannot be used as a decorator")}var jB="observable",VB="observable.ref",UB="observable.shallow",BB="observable.struct",q2={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(q2);function bg(n){return n||q2}var Rw=by(jB),HB=by(VB,{enhancer:_y}),zB=by(UB,{enhancer:pB}),KB=by(BB,{enhancer:gB}),X2=Zi(Rw);function wg(n){return n.deep===!0?eu:n.deep===!1?_y:GB(n.defaultDecorator)}function WB(n){var e;return n?(e=n.defaultDecorator)!=null?e:Y2(n):void 0}function GB(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:eu}function Q2(n,e,t){if(np(e))return Rw.decorate_20223_(n,e);if(Zl(e)){tp(n,e,Rw);return}return yL(n)?n:zo(n)?nr.object(n,e,t):Array.isArray(n)?nr.array(n,e):ud(n)?nr.map(n,e):To(n)?nr.set(n,e):typeof n=="object"&&n!==null?n:nr.box(n,e)}L2(Q2,X2);var YB={box:function(e,t){var r=bg(t);return new Ul(e,wg(r),r.name,!0,r.equals)},array:function(e,t){var r=bg(t);return(ie.useProxies===!1||r.proxy===!1?H9:k9)(e,wg(r),r.name)},map:function(e,t){var r=bg(t);return new bL(e,wg(r),r.name)},set:function(e,t){var r=bg(t);return new wL(e,wg(r),r.name)},object:function(e,t,r){return ll(function(){return gL(ie.useProxies===!1||(r==null?void 0:r.proxy)===!1?bu({},r):x9({},r),e,t)})},ref:Zi(HB),shallow:Zi(zB),deep:X2,struct:Zi(KB)},nr=L2(Q2,YB),Z2="computed",qB="computed.struct",Aw=F1(Z2),XB=F1(qB,{equals:Jm.structural}),Hc=function(e,t){if(np(t))return Aw.decorate_20223_(e,t);if(Zl(t))return tp(e,t,Aw);if(zo(e))return Zi(F1(Z2,e));var r=zo(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new wi(r)};Object.assign(Hc,Aw);Hc.struct=Zi(XB);var bP,wP,ev=0,QB=1,ZB=(bP=(wP=Zm(function(){},"name"))==null?void 0:wP.configurable)!=null?bP:!1,EP={value:"action",configurable:!0,writable:!1,enumerable:!1};function tu(n,e,t,r){t===void 0&&(t=!1);function s(){return J2(n,t,e,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return e.toString()},ZB&&(EP.value=n,Qi(s,"name",EP)),s}function J2(n,e,t,r,s){var i=JB(n,e);try{return t.apply(r,s)}catch(o){throw i.error_=o,o}finally{e9(i)}}function JB(n,e,t,r){var s=!1,i=0,o=ie.trackingDerivation,a=!e||!o;Gs();var l=ie.allowStateChanges;a&&(yu(),l=j1(!0));var u=U1(!0),d={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:s,startTime_:i,actionId_:QB++,parentActionId_:ev};return ev=d.actionId_,d}function e9(n){ev!==n.actionId_&&et(30),ev=n.parentActionId_,n.error_!==void 0&&(ie.suppressReactionErrors=!0),V1(n.prevAllowStateChanges_),Fh(n.prevAllowStateReads_),Ys(),n.runAsAction_&&Lo(n.prevDerivation_),ie.suppressReactionErrors=!1}function j1(n){var e=ie.allowStateChanges;return ie.allowStateChanges=n,e}function V1(n){ie.allowStateChanges=n}var Ul=function(n){function e(r,s,i,o,a){var l;return i===void 0&&(i="ObservableValue"),a===void 0&&(a=Jm.default),l=n.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=s,l.name_=i,l.equals=a,l.value_=s(r,void 0,i),l}H2(e,n);var t=e.prototype;return t.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==ie.UNCHANGED&&this.setNewValue_(s)},t.prepareNewValue_=function(s){if(Us(this)){var i=Bs(this,{object:this,type:Ji,newValue:s});if(!i)return ie.UNCHANGED;s=i.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?ie.UNCHANGED:s},t.setNewValue_=function(s){var i=this.value_;this.value_=s,this.reportChanged(),mi(this)&&vi(this,{type:Ji,object:this,newValue:s,oldValue:i})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(s){return sp(this,s)},t.observe_=function(s,i){return i&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:Ji,newValue:this.value_,oldValue:void 0}),ip(this,s)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return B2(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},e}(al),wi=function(){function n(t){this.dependenciesState_=dt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=dt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new nv(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=tv.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||et(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=tu("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Jm.structural:Jm.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){i9(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&et(32,this.name_,this.derivation),ie.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Dw(this)&&(this.warnAboutUntrackedRead_(),Gs(),this.value_=this.computeValue_(!1),Ys());else if(oL(this),Dw(this)){var r=ie.trackingContext;this.keepAlive_&&!r&&(ie.trackingContext=this),this.trackAndCompute()&&s9(this),ie.trackingContext=r}var s=this.value_;if(rm(s))throw s.cause;return s},e.set=function(r){if(this.setter_){this.isRunningSetter&&et(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else et(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===dt.NOT_TRACKING_,i=this.computeValue_(!0),o=s||rm(r)||rm(i)||!this.equals_(r,i);return o&&(this.value_=i),o},e.computeValue_=function(r){this.isComputing=!0;var s=j1(!1),i;if(r)i=eL(this,this.derivation,this.scope_);else if(ie.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(o){i=new nv(o)}return V1(s),this.isComputing=!1,i},e.suspend_=function(){this.keepAlive_||(kw(this),this.value_=void 0)},e.observe_=function(r,s){var i=this,o=!0,a=void 0;return p9(function(){var l=i.get();if(!o||s){var u=yu();r({observableKind:"computed",debugObjectName:i.name_,type:Ji,object:i,newValue:l,oldValue:a}),Lo(u)}o=!1,a=l})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return B2(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},cd(n,[{key:"isComputing",get:function(){return ms(this.flags_,n.isComputingMask_)},set:function(r){this.flags_=vs(this.flags_,n.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return ms(this.flags_,n.isRunningSetterMask_)},set:function(r){this.flags_=vs(this.flags_,n.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return ms(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=vs(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ms(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=vs(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ms(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=vs(this.flags_,n.diffValueMask_,r===1)}}])}();wi.isComputingMask_=1;wi.isRunningSetterMask_=2;wi.isBeingObservedMask_=4;wi.isPendingUnobservationMask_=8;wi.diffValueMask_=16;var wy=vu("ComputedValue",wi),dt;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(dt||(dt={}));var tv;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(tv||(tv={}));var nv=function(e){this.cause=void 0,this.cause=e};function rm(n){return n instanceof nv}function Dw(n){switch(n.dependenciesState_){case dt.UP_TO_DATE_:return!1;case dt.NOT_TRACKING_:case dt.STALE_:return!0;case dt.POSSIBLY_STALE_:{for(var e=U1(!0),t=yu(),r=n.observing_,s=r.length,i=0;i<s;i++){var o=r[i];if(wy(o)){if(ie.disableErrorBoundaries)o.get();else try{o.get()}catch{return Lo(t),Fh(e),!0}if(n.dependenciesState_===dt.STALE_)return Lo(t),Fh(e),!0}}return nL(n),Lo(t),Fh(e),!1}}}function eL(n,e,t){var r=U1(!0);nL(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++ie.runId;var s=ie.trackingDerivation;ie.trackingDerivation=n,ie.inBatch++;var i;if(ie.disableErrorBoundaries===!0)i=e.call(t);else try{i=e.call(t)}catch(o){i=new nv(o)}return ie.inBatch--,ie.trackingDerivation=s,t9(n),Fh(r),i}function t9(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,r=dt.UP_TO_DATE_,s=0,i=n.unboundDepsCount_,o=0;o<i;o++){var a=t[o];a.diffValue===0&&(a.diffValue=1,s!==o&&(t[s]=a),s++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(t.length=s,n.newObserving_=null,i=e.length;i--;){var l=e[i];l.diffValue===0&&sL(l,n),l.diffValue=0}for(;s--;){var u=t[s];u.diffValue===1&&(u.diffValue=0,r9(u,n))}r!==dt.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function kw(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)sL(e[t],n);n.dependenciesState_=dt.NOT_TRACKING_}function tL(n){var e=yu();try{return n()}finally{Lo(e)}}function yu(){var n=ie.trackingDerivation;return ie.trackingDerivation=null,n}function Lo(n){ie.trackingDerivation=n}function U1(n){var e=ie.allowStateReads;return ie.allowStateReads=n,e}function Fh(n){ie.allowStateReads=n}function nL(n){if(n.dependenciesState_!==dt.UP_TO_DATE_){n.dependenciesState_=dt.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=dt.UP_TO_DATE_}}var sm=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},im=!0,rL=!1,ie=function(){var n=my();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(im=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new sm().version&&(im=!1),im?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new sm):(setTimeout(function(){rL||et(35)},1),new sm)}();function n9(){if((ie.pendingReactions.length||ie.inBatch||ie.isRunningReactions)&&et(36),rL=!0,im){var n=my();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),ie=new sm}}function r9(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function sL(n,e){n.observers_.delete(e),n.observers_.size===0&&iL(n)}function iL(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,ie.pendingUnobservations.push(n))}function Gs(){ie.inBatch++}function Ys(){if(--ie.inBatch===0){lL();for(var n=ie.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation=!1,t.observers_.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBUO()),t instanceof wi&&t.suspend_())}ie.pendingUnobservations=[]}}function oL(n){var e=ie.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved&&ie.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&ie.inBatch>0&&iL(n),!1)}function aL(n){n.lowestObserverState_!==dt.STALE_&&(n.lowestObserverState_=dt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===dt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=dt.STALE_}))}function s9(n){n.lowestObserverState_!==dt.STALE_&&(n.lowestObserverState_=dt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===dt.POSSIBLY_STALE_?e.dependenciesState_=dt.STALE_:e.dependenciesState_===dt.UP_TO_DATE_&&(n.lowestObserverState_=dt.UP_TO_DATE_)}))}function i9(n){n.lowestObserverState_===dt.UP_TO_DATE_&&(n.lowestObserverState_=dt.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===dt.UP_TO_DATE_&&(e.dependenciesState_=dt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Ko=function(){function n(t,r,s,i){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=dt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=tv.NONE,this.name_=t,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=i}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ie.pendingReactions.push(this),lL())},e.runReaction_=function(){if(!this.isDisposed){Gs(),this.isScheduled=!1;var r=ie.trackingContext;if(ie.trackingContext=this,Dw(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}ie.trackingContext=r,Ys()}},e.track=function(r){if(!this.isDisposed){Gs(),this.isRunning=!0;var s=ie.trackingContext;ie.trackingContext=this;var i=eL(this,r,void 0);ie.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&kw(this),rm(i)&&this.reportExceptionInDerivation_(i.cause),Ys()}},e.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ie.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";ie.suppressReactionErrors||console.error(i,r),ie.globalReactionErrorHandlers.forEach(function(o){return o(r,s)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Gs(),kw(this),Ys()))},e.getDisposer_=function(r){var s=this,i=function o(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[Se]=this,i},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},cd(n,[{key:"isDisposed",get:function(){return ms(this.flags_,n.isDisposedMask_)},set:function(r){this.flags_=vs(this.flags_,n.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return ms(this.flags_,n.isScheduledMask_)},set:function(r){this.flags_=vs(this.flags_,n.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return ms(this.flags_,n.isTrackPendingMask_)},set:function(r){this.flags_=vs(this.flags_,n.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return ms(this.flags_,n.isRunningMask_)},set:function(r){this.flags_=vs(this.flags_,n.isRunningMask_,r)}},{key:"diffValue",get:function(){return ms(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=vs(this.flags_,n.diffValueMask_,r===1)}}])}();Ko.isDisposedMask_=1;Ko.isScheduledMask_=2;Ko.isTrackPendingMask_=4;Ko.isRunningMask_=8;Ko.diffValueMask_=16;var o9=100,Nw=function(e){return e()};function lL(){ie.inBatch>0||ie.isRunningReactions||Nw(a9)}function a9(){ie.isRunningReactions=!0;for(var n=ie.pendingReactions,e=0;n.length>0;){++e===o9&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),r=0,s=t.length;r<s;r++)t[r].runReaction_()}ie.isRunningReactions=!1}var rv=vu("Reaction",Ko);function l9(n){var e=Nw;Nw=function(r){return n(function(){return e(r)})}}function jh(){return!1}function u9(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var uL="action",c9="action.bound",cL="autoAction",d9="autoAction.bound",dL="<unnamed action>",Lw=rp(uL),h9=rp(c9,{bound:!0}),Mw=rp(cL,{autoAction:!0}),f9=rp(d9,{autoAction:!0,bound:!0});function hL(n){var e=function(r,s){if(bi(r))return tu(r.name||dL,r,n);if(bi(s))return tu(r,s,n);if(np(s))return(n?Mw:Lw).decorate_20223_(r,s);if(Zl(s))return tp(r,s,n?Mw:Lw);if(Zl(r))return Zi(rp(n?cL:uL,{name:r,autoAction:n}))};return e}var fc=hL(!1);Object.assign(fc,Lw);var vf=hL(!0);Object.assign(vf,Mw);fc.bound=Zi(h9);vf.bound=Zi(f9);function _a(n){return J2(n.name||dL,!1,n,this,void 0)}function yf(n){return bi(n)&&n.isMobxAction===!0}function p9(n,e){var t,r,s,i;e===void 0&&(e=M2);var o=(t=(r=e)==null?void 0:r.name)!=null?t:"Autorun",a=!e.scheduler&&!e.delay,l;if(a)l=new Ko(o,function(){this.track(h)},e.onError,e.requiresObservable);else{var u=m9(e),d=!1;l=new Ko(o,function(){d||(d=!0,u(function(){d=!1,l.isDisposed||l.track(h)}))},e.onError,e.requiresObservable)}function h(){n(l)}return(s=e)!=null&&(s=s.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((i=e)==null?void 0:i.signal)}var g9=function(e){return e()};function m9(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:g9}var v9="onBO",y9="onBUO";function _9(n,e,t){return pL(v9,n,e,t)}function fL(n,e,t){return pL(y9,n,e,t)}function pL(n,e,t,r){var s=ov(e),i=bi(r)?r:t,o=n+"L";return s[o]?s[o].add(i):s[o]=new Set([i]),function(){var a=s[o];a&&(a.delete(i),a.size===0&&delete s[o])}}var b9="never",Eg="always",w9="observed";function E9(n){n.isolateGlobalState===!0&&n9();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(ie.useProxies=e===Eg?!0:e===b9?!1:typeof Proxy<"u"),e==="ifavailable"&&(ie.verifyProxies=!0),t!==void 0){var r=t===Eg?Eg:t===w9;ie.enforceActions=r,ie.allowStateChanges=!(r===!0||r===Eg)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in n&&(ie[s]=!!n[s])}),ie.allowStateReads=!ie.observableRequiresReaction,n.reactionScheduler&&l9(n.reactionScheduler)}function gL(n,e,t,r){var s=sB(e);return ll(function(){var i=bu(n,r)[Se];Bc(s).forEach(function(o){i.extend_(o,s[o],t&&o in t?t[o]:!0)})}),n}function S9(n,e){return mL(ov(n,e))}function mL(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=C9(n.observing_).map(mL)),e}function C9(n){return Array.from(new Set(n))}var T9=0;function vL(){this.message="FLOW_CANCELLED"}vL.prototype=Object.create(Error.prototype);var yb=W2("flow"),I9=W2("flow.bound",{bound:!0}),zc=Object.assign(function(e,t){if(np(t))return yb.decorate_20223_(e,t);if(Zl(t))return tp(e,t,yb);var r=e,s=r.name||"<unnamed flow>",i=function(){var a=this,l=arguments,u=++T9,d=fc(s+" - runid: "+u+" - init",r).apply(a,l),h,f=void 0,g=new Promise(function(b,y){var _=0;h=y;function v(S){f=void 0;var O;try{O=fc(s+" - runid: "+u+" - yield "+_++,d.next).call(d,S)}catch(x){return y(x)}w(O)}function E(S){f=void 0;var O;try{O=fc(s+" - runid: "+u+" - yield "+_++,d.throw).call(d,S)}catch(x){return y(x)}w(O)}function w(S){if(bi(S==null?void 0:S.then)){S.then(w,y);return}return S.done?b(S.value):(f=Promise.resolve(S.value),f.then(v,E))}v(void 0)});return g.cancel=fc(s+" - runid: "+u+" - cancel",function(){try{f&&SP(f);var b=d.return(void 0),y=Promise.resolve(b.value);y.then(dc,dc),SP(y),h(new vL)}catch(_){h(_)}}),g};return i.isMobXFlow=!0,i},yb);zc.bound=Zi(I9);function SP(n){bi(n.cancel)&&n.cancel()}function _f(n){return(n==null?void 0:n.isMobXFlow)===!0}function O9(n,e){return n?Sy(n)||!!n[Se]||$1(n)||rv(n)||wy(n):!1}function yL(n){return O9(n)}function Io(n,e){e===void 0&&(e=void 0),Gs();try{return n.apply(e)}finally{Ys()}}function Mu(n){return n[Se]}var P9={has:function(e,t){return Mu(e).has_(t)},get:function(e,t){return Mu(e).get_(t)},set:function(e,t,r){var s;return Zl(t)?(s=Mu(e).set_(t,r,!0))!=null?s:!0:!1},deleteProperty:function(e,t){var r;return Zl(t)?(r=Mu(e).delete_(t,!0))!=null?r:!0:!1},defineProperty:function(e,t,r){var s;return(s=Mu(e).defineProperty_(t,r))!=null?s:!0},ownKeys:function(e){return Mu(e).ownKeys_()},preventExtensions:function(e){et(13)}};function x9(n,e){var t,r;return $2(),n=bu(n,e),(r=(t=n[Se]).proxy_)!=null?r:t.proxy_=new Proxy(n,P9)}function Us(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function sp(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),F2(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function Bs(n,e){var t=yu();try{for(var r=[].concat(n.interceptors_||[]),s=0,i=r.length;s<i&&(e=r[s](e),e&&!e.type&&et(14),!!e);s++);return e}finally{Lo(t)}}function mi(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function ip(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),F2(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function vi(n,e){var t=yu(),r=n.changeListeners_;if(r){r=r.slice();for(var s=0,i=r.length;s<i;s++)r[s](e);Lo(t)}}function R9(n,e,t){return ll(function(){var r,s=bu(n,t)[Se];(r=e)!=null||(e=uB(n)),Bc(e).forEach(function(i){return s.make_(i,e[i])})}),n}var _b=Symbol("mobx-keys");function B1(n,e,t){return zo(n)?gL(n,n,e,t):(ll(function(){var r=bu(n,t)[Se];if(!n[_b]){var s=Object.getPrototypeOf(n),i=new Set([].concat(Bc(n),Bc(s)));i.delete("constructor"),i.delete(Se),ep(s,_b,i)}n[_b].forEach(function(o){return r.make_(o,e&&o in e?e[o]:!0)})}),n)}var CP="splice",Ji="update",A9=1e4,D9={get:function(e,t){var r=e[Se];return t===Se?r:t==="length"?r.getArrayLength_():typeof t=="string"&&!isNaN(t)?r.get_(parseInt(t)):No(sv,t)?sv[t]:e[t]},set:function(e,t,r){var s=e[Se];return t==="length"&&s.setArrayLength_(r),typeof t=="symbol"||isNaN(t)?e[t]=r:s.set_(parseInt(t),r),!0},preventExtensions:function(){et(15)}},H1=function(){function n(t,r,s,i){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=i,this.atom_=new al(t),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return sp(this,r)},e.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),ip(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&et("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var i=new Array(r-s),o=0;o<r-s;o++)i[o]=void 0;this.spliceWithArray_(s,0,i)}else this.spliceWithArray_(r,s-r)},e.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&et(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&TL(r+s+1)},e.spliceWithArray_=function(r,s,i){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?s=a-r:s==null?s=0:s=Math.max(0,Math.min(s,a-r)),i===void 0&&(i=Pw),Us(this)){var l=Bs(this,{object:this.proxy_,type:CP,index:r,removedCount:s,added:i});if(!l)return Pw;s=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(h){return o.enhancer_(h,void 0)}),this.legacyMode_){var u=i.length-s;this.updateArrayLength_(a,u)}var d=this.spliceItemsIntoValues_(r,s,i);return(s!==0||i.length!==0)&&this.notifyArraySplice_(r,i,d),this.dehanceValues_(d)},e.spliceItemsIntoValues_=function(r,s,i){if(i.length<A9){var o;return(o=this.values_).splice.apply(o,[r,s].concat(i))}else{var a=this.values_.slice(r,r+s),l=this.values_.slice(r+s);this.values_.length+=i.length-s;for(var u=0;u<i.length;u++)this.values_[r+u]=i[u];for(var d=0;d<l.length;d++)this.values_[r+i.length+d]=l[d];return a}},e.notifyArrayChildUpdate_=function(r,s,i){var o=!this.owned_&&jh(),a=mi(this),l=a||o?{observableKind:"array",object:this.proxy_,type:Ji,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:i}:null;this.atom_.reportChanged(),a&&vi(this,l)},e.notifyArraySplice_=function(r,s,i){var o=!this.owned_&&jh(),a=mi(this),l=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:CP,index:r,removed:i,added:s,removedCount:i.length,addedCount:s.length}:null;this.atom_.reportChanged(),a&&vi(this,l)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,s){var i=this.values_;if(this.legacyMode_&&r>i.length&&et(17,r,i.length),r<i.length){this.atom_;var o=i[r];if(Us(this)){var a=Bs(this,{type:Ji,object:this.proxy_,index:r,newValue:s});if(!a)return;s=a.newValue}s=this.enhancer_(s,o);var l=s!==o;l&&(i[r]=s,this.notifyArrayChildUpdate_(r,s,o))}else{for(var u=new Array(r+1-i.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=s,this.spliceWithArray_(i.length,0,u)}},n}();function k9(n,e,t,r){return t===void 0&&(t="ObservableArray"),r===void 0&&(r=!1),$2(),ll(function(){var s=new H1(t,e,r,!1);V2(s.values_,Se,s);var i=new Proxy(s.values_,D9);return s.proxy_=i,n&&n.length&&s.spliceWithArray_(0,0,n),i})}var sv={clear:function(){return this.splice(0)},replace:function(e){var t=this[Se];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];var o=this[Se];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,s)},spliceWithArray:function(e,t,r){return this[Se].spliceWithArray_(e,t,r)},push:function(){for(var e=this[Se],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[Se].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Se],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return ie.trackingDerivation&&et(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ie.trackingDerivation&&et(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[Se],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};Vt("at",Os);Vt("concat",Os);Vt("flat",Os);Vt("includes",Os);Vt("indexOf",Os);Vt("join",Os);Vt("lastIndexOf",Os);Vt("slice",Os);Vt("toString",Os);Vt("toLocaleString",Os);Vt("toSorted",Os);Vt("toSpliced",Os);Vt("with",Os);Vt("every",Ii);Vt("filter",Ii);Vt("find",Ii);Vt("findIndex",Ii);Vt("findLast",Ii);Vt("findLastIndex",Ii);Vt("flatMap",Ii);Vt("forEach",Ii);Vt("map",Ii);Vt("some",Ii);Vt("toReversed",Ii);Vt("reduce",_L);Vt("reduceRight",_L);function Vt(n,e){typeof Array.prototype[n]=="function"&&(sv[n]=e(n))}function Os(n){return function(){var e=this[Se];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function Ii(n){return function(e,t){var r=this,s=this[Se];s.atom_.reportObserved();var i=s.dehanceValues_(s.values_);return i[n](function(o,a){return e.call(t,o,a,r)})}}function _L(n){return function(){var e=this,t=this[Se];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_),s=arguments[0];return arguments[0]=function(i,o,a){return s(i,o,a,e)},r[n].apply(r,arguments)}}var N9=vu("ObservableArrayAdministration",H1);function Ey(n){return yy(n)&&N9(n[Se])}var L9={},Aa="add",iv="delete",bL=function(){function n(t,r,s){var i=this;r===void 0&&(r=eu),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Se]=L9,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,bi(Map)||et(18),ll(function(){i.keysAtom_=z2("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,t&&i.merge(t)})}var e=n.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var s=this;if(!ie.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var o=i=new Ul(this.has_(r),_y,"ObservableMap.key?",!1);this.hasMap_.set(r,o),fL(o,function(){return s.hasMap_.delete(r)})}return i.get()},e.set=function(r,s){var i=this.has_(r);if(Us(this)){var o=Bs(this,{type:i?Ji:Aa,object:this,newValue:s,name:r});if(!o)return this;s=o.newValue}return i?this.updateValue_(r,s):this.addValue_(r,s),this},e.delete=function(r){var s=this;if(this.keysAtom_,Us(this)){var i=Bs(this,{type:iv,object:this,name:r});if(!i)return!1}if(this.has_(r)){var o=jh(),a=mi(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:iv,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Io(function(){var u;s.keysAtom_.reportChanged(),(u=s.hasMap_.get(r))==null||u.setNewValue_(!1);var d=s.data_.get(r);d.setNewValue_(void 0),s.data_.delete(r)}),a&&vi(this,l),!0}return!1},e.updateValue_=function(r,s){var i=this.data_.get(r);if(s=i.prepareNewValue_(s),s!==ie.UNCHANGED){var o=jh(),a=mi(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Ji,object:this,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),a&&vi(this,l)}},e.addValue_=function(r,s){var i=this;this.keysAtom_,Io(function(){var u,d=new Ul(s,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,d),s=d.value_,(u=i.hasMap_.get(r))==null||u.setNewValue_(!0),i.keysAtom_.reportChanged()});var o=jh(),a=mi(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Aa,object:this,name:r,newValue:s}:null;a&&vi(this,l)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,s=this.keys();return TP({next:function(){var o=s.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:r.get(l)}}})},e.entries=function(){var r=this,s=this.keys();return TP({next:function(){var o=s.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,s){for(var i=hc(this),o;!(o=i()).done;){var a=o.value,l=a[0],u=a[1];r.call(s,u,l,this)}},e.merge=function(r){var s=this;return _u(r)&&(r=new Map(r)),Io(function(){zo(r)?rB(r).forEach(function(i){return s.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var o=i[0],a=i[1];return s.set(o,a)}):ud(r)?(nB(r)||et(19,r),r.forEach(function(i,o){return s.set(o,i)})):r!=null&&et(20,r)}),this},e.clear=function(){var r=this;Io(function(){tL(function(){for(var s=hc(r.keys()),i;!(i=s()).done;){var o=i.value;r.delete(o)}})})},e.replace=function(r){var s=this;return Io(function(){for(var i=M9(r),o=new Map,a=!1,l=hc(s.data_.keys()),u;!(u=l()).done;){var d=u.value;if(!i.has(d)){var h=s.delete(d);if(h)a=!0;else{var f=s.data_.get(d);o.set(d,f)}}}for(var g=hc(i.entries()),b;!(b=g()).done;){var y=b.value,_=y[0],v=y[1],E=s.data_.has(_);if(s.set(_,v),s.data_.has(_)){var w=s.data_.get(_);o.set(_,w),E||(a=!0)}}if(!a)if(s.data_.size!==o.size)s.keysAtom_.reportChanged();else for(var S=s.data_.keys(),O=o.keys(),x=S.next(),I=O.next();!x.done;){if(x.value!==I.value){s.keysAtom_.reportChanged();break}x=S.next(),I=O.next()}s.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,s){return ip(this,r)},e.intercept_=function(r){return sp(this,r)},cd(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),_u=vu("ObservableMap",bL);function TP(n){return n[Symbol.toStringTag]="MapIterator",W1(n)}function M9(n){if(ud(n)||_u(n))return n;if(Array.isArray(n))return new Map(n);if(zo(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return et(21,n)}var $9={},wL=function(){function n(t,r,s){var i=this;r===void 0&&(r=eu),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[Se]=$9,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,bi(Set)||et(22),this.enhancer_=function(o,a){return r(o,a,s)},ll(function(){i.atom_=z2(i.name_),t&&i.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Io(function(){tL(function(){for(var s=hc(r.data_.values()),i;!(i=s()).done;){var o=i.value;r.delete(o)}})})},e.forEach=function(r,s){for(var i=hc(this),o;!(o=i()).done;){var a=o.value;r.call(s,a,a,this)}},e.add=function(r){var s=this;if(this.atom_,Us(this)){var i=Bs(this,{type:Aa,object:this,newValue:r});if(!i)return this}if(!this.has(r)){Io(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var o=!1,a=mi(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:Aa,object:this,newValue:r}:null;a&&vi(this,l)}return this},e.delete=function(r){var s=this;if(Us(this)){var i=Bs(this,{type:iv,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var o=!1,a=mi(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:iv,object:this,oldValue:r}:null;return Io(function(){s.atom_.reportChanged(),s.data_.delete(r)}),a&&vi(this,l),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,s=Array.from(this.keys()),i=Array.from(this.values());return IP({next:function(){var a=r;return r+=1,a<i.length?{value:[s[a],i[a]],done:!1}:{value:void 0,done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,s=0,i=Array.from(this.data_.values());return IP({next:function(){return s<i.length?{value:r.dehanceValue_(i[s++]),done:!1}:{value:void 0,done:!0}}})},e.intersection=function(r){if(To(r)&&!Vi(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},e.union=function(r){if(To(r)&&!Vi(r))return r.union(this);var s=new Set(this);return s.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(To(r)&&!Vi(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(To(r)&&!Vi(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},e.replace=function(r){var s=this;return Vi(r)&&(r=new Set(r)),Io(function(){Array.isArray(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):To(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):r!=null&&et("Cannot initialize set from "+r)}),this},e.observe_=function(r,s){return ip(this,r)},e.intercept_=function(r){return sp(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},cd(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Vi=vu("ObservableSet",wL);function IP(n){return n[Symbol.toStringTag]="SetIterator",W1(n)}var OP=Object.create(null),PP="remove",EL=function(){function n(t,r,s,i){r===void 0&&(r=new Map),i===void 0&&(i=LB),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=r,this.name_=s,this.defaultAnnotation_=i,this.keysAtom_=new al("ObservableObject.keys"),this.isPlainObject_=zo(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,s){var i=this.values_.get(r);if(i instanceof wi)return i.set(s),!0;if(Us(this)){var o=Bs(this,{type:Ji,object:this.proxy_||this.target_,name:r,newValue:s});if(!o)return null;s=o.newValue}if(s=i.prepareNewValue_(s),s!==ie.UNCHANGED){var a=mi(this),l=!1,u=a||l?{type:Ji,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),a&&vi(this,u)}return!0},e.get_=function(r){return ie.trackingDerivation&&!No(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,s,i){return i===void 0&&(i=!1),No(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):i?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},e.has_=function(r){if(!ie.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Ul(r in this.target_,_y,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},e.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var i;if((i=this.target_[Ki])!=null&&i[r])return;et(1,s.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==vy;){var a=Zm(o,r);if(a){var l=s.make_(this,r,a,o);if(l===0)return;if(l===1)break}o=Object.getPrototypeOf(o)}RP(this,s,r)}},e.extend_=function(r,s,i,o){if(o===void 0&&(o=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,s,o);var a=i.extend_(this,r,s,o);return a&&RP(this,i,r),a},e.defineProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Gs();var o=this.delete_(r);if(!o)return o;if(Us(this)){var a=Bs(this,{object:this.proxy_||this.target_,name:r,type:Aa,newValue:s.value});if(!a)return null;var l=a.newValue;s.value!==l&&(s=Jl({},s,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,s))return!1}else Qi(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{Ys()}return!0},e.defineObservableProperty_=function(r,s,i,o){o===void 0&&(o=!1),this.keysAtom_;try{Gs();var a=this.delete_(r);if(!a)return a;if(Us(this)){var l=Bs(this,{object:this.proxy_||this.target_,name:r,type:Aa,newValue:s});if(!l)return null;s=l.newValue}var u=xP(r),d={configurable:ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,r,d))return!1}else Qi(this.target_,r,d);var h=new Ul(s,i,"ObservableObject.key",!1);this.values_.set(r,h),this.notifyPropertyAddition_(r,h.value_)}finally{Ys()}return!0},e.defineComputedProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Gs();var o=this.delete_(r);if(!o)return o;if(Us(this)){var a=Bs(this,{object:this.proxy_||this.target_,name:r,type:Aa,newValue:void 0});if(!a)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var l=xP(r),u={configurable:ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Qi(this.target_,r,u);this.values_.set(r,new wi(s)),this.notifyPropertyAddition_(r,void 0)}finally{Ys()}return!0},e.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!No(this.target_,r))return!0;if(Us(this)){var i=Bs(this,{object:this.proxy_||this.target_,name:r,type:PP});if(!i)return null}try{var o;Gs();var a=mi(this),l=!1,u=this.values_.get(r),d=void 0;if(!u&&(a||l)){var h;d=(h=Zm(this.target_,r))==null?void 0:h.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Ul&&(d=u.value_),aL(u)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||l){var f={type:PP,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};a&&vi(this,f)}}finally{Ys()}return!0},e.observe_=function(r,s){return ip(this,r)},e.intercept_=function(r){return sp(this,r)},e.notifyPropertyAddition_=function(r,s){var i,o=mi(this),a=!1;if(o||a){var l=o||a?{type:Aa,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;o&&vi(this,l)}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Bc(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function bu(n,e){var t;if(No(n,Se))return n;var r=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",s=new EL(n,new Map,String(r),WB(e));return ep(n,Se,s),n}var F9=vu("ObservableObjectAdministration",EL);function xP(n){return OP[n]||(OP[n]={get:function(){return this[Se].getObservablePropValue_(n)},set:function(t){return this[Se].setObservablePropValue_(n,t)}})}function Sy(n){return yy(n)?F9(n[Se]):!1}function RP(n,e,t){var r;(r=n.target_[Ki])==null||delete r[t]}var j9=CL(0),V9=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1}(),bb=0,SL=function(){};function U9(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}U9(SL,Array.prototype);var z1=function(n){function e(r,s,i,o){var a;return i===void 0&&(i="ObservableArray"),o===void 0&&(o=!1),a=n.call(this)||this,ll(function(){var l=new H1(i,s,o,!0);l.proxy_=a,V2(a,Se,l),r&&r.length&&a.spliceWithArray(0,0,r),V9&&Object.defineProperty(a,"0",j9)}),a}H2(e,n);var t=e.prototype;return t.concat=function(){this[Se].atom_.reportObserved();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),i.map(function(a){return Ey(a)?a.slice():a}))},t[Symbol.iterator]=function(){var r=this,s=0;return W1({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},cd(e,[{key:"length",get:function(){return this[Se].getArrayLength_()},set:function(s){this[Se].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(SL);Object.entries(sv).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&ep(z1.prototype,e,t)});function CL(n){return{enumerable:!1,configurable:!0,get:function(){return this[Se].get_(n)},set:function(t){this[Se].set_(n,t)}}}function B9(n){Qi(z1.prototype,""+n,CL(n))}function TL(n){if(n>bb){for(var e=bb;e<n+100;e++)B9(e);bb=n}}TL(1e3);function H9(n,e,t){return new z1(n,e,t)}function ov(n,e){if(typeof n=="object"&&n!==null){if(Ey(n))return e!==void 0&&et(23),n[Se].atom_;if(Vi(n))return n.atom_;if(_u(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||et(25,e,$w(n)),t}if(Sy(n)){if(!e)return et(26);var r=n[Se].values_.get(e);return r||et(27,e,$w(n)),r}if($1(n)||wy(n)||rv(n))return n}else if(bi(n)&&rv(n[Se]))return n[Se];et(28)}function z9(n,e){if(n||et(29),$1(n)||wy(n)||rv(n)||_u(n)||Vi(n))return n;if(n[Se])return n[Se];et(24,n)}function $w(n,e){var t;if(e!==void 0)t=ov(n,e);else{if(yf(n))return n.name;Sy(n)||_u(n)||Vi(n)?t=z9(n):t=ov(n)}return t.name_}function ll(n){var e=yu(),t=j1(!0);Gs();try{return n()}finally{Ys(),V1(t),Lo(e)}}var AP=vy.toString;function K1(n,e,t){return t===void 0&&(t=-1),Fw(n,e,t)}function Fw(n,e,t,r,s){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var i=typeof n;if(i!=="function"&&i!=="object"&&typeof e!="object")return!1;var o=AP.call(n);if(o!==AP.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=DP(n),e=DP(e);var a=o==="[object Array]";if(!a){if(typeof n!="object"||typeof e!="object")return!1;var l=n.constructor,u=e.constructor;if(l!==u&&!(bi(l)&&l instanceof l&&bi(u)&&u instanceof u)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),r=r||[],s=s||[];for(var d=r.length;d--;)if(r[d]===n)return s[d]===e;if(r.push(n),s.push(e),a){if(d=n.length,d!==e.length)return!1;for(;d--;)if(!Fw(n[d],e[d],t-1,r,s))return!1}else{var h=Object.keys(n),f;if(d=h.length,Object.keys(e).length!==d)return!1;for(;d--;)if(f=h[d],!(No(e,f)&&Fw(n[f],e[f],t-1,r,s)))return!1}return r.pop(),s.pop(),!0}function DP(n){return Ey(n)?n.slice():ud(n)||_u(n)||To(n)||Vi(n)?Array.from(n.entries()):n}var kP,K9=((kP=my().Iterator)==null?void 0:kP.prototype)||{};function W1(n){return n[Symbol.iterator]=W9,Object.assign(Object.create(K9),n)}function W9(){return this}["Symbol","Map","Set"].forEach(function(n){var e=my();typeof e[n]>"u"&&et("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:u9,extras:{getDebugName:$w},$mobx:Se});if(!D.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!R9)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function G9(n){n()}function Y9(n){n||(n=G9),E9({reactionScheduler:n})}function q9(n){return S9(n)}var X9=1e4,Q9=1e4,Z9=function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=X9),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var s=Date.now();t.registrations.forEach(function(i,o){s-i.registeredAt>=r&&(t.finalize(i.value),t.registrations.delete(o))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){this.registrations.set(r,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Q9))}}),n}(),J9=typeof FinalizationRegistry<"u"?FinalizationRegistry:Z9,jw=new J9(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),IL={exports:{}},OL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=D;function eH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var tH=typeof Object.is=="function"?Object.is:eH,nH=Kc.useState,rH=Kc.useEffect,sH=Kc.useLayoutEffect,iH=Kc.useDebugValue;function oH(n,e){var t=e(),r=nH({inst:{value:t,getSnapshot:e}}),s=r[0].inst,i=r[1];return sH(function(){s.value=t,s.getSnapshot=e,wb(s)&&i({inst:s})},[n,t,e]),rH(function(){return wb(s)&&i({inst:s}),n(function(){wb(s)&&i({inst:s})})},[n]),iH(t),t}function wb(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!tH(n,t)}catch{return!0}}function aH(n,e){return e()}var lH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aH:oH;OL.useSyncExternalStore=Kc.useSyncExternalStore!==void 0?Kc.useSyncExternalStore:lH;IL.exports=OL;var uH=IL.exports;function NP(n){n.reaction=new Ko("observer".concat(n.name),function(){var e;n.stateVersion=Symbol(),(e=n.onStoreChange)===null||e===void 0||e.call(n)})}function cH(n,e){e===void 0&&(e="observed");var t=m.useRef(null);if(!t.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(a){return jw.unregister(r),r.onStoreChange=a,r.reaction||(NP(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};t.current=r}var s=t.current;s.reaction||(NP(s),jw.register(t,s,s)),m.useDebugValue(s.reaction,q9),uH.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var i,o;if(s.reaction.track(function(){try{i=n()}catch(a){o=a}}),o)throw o;return i}var Eb,Sb,PL=typeof Symbol=="function"&&Symbol.for,dH=(Sb=(Eb=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Eb===void 0?void 0:Eb.configurable)!==null&&Sb!==void 0?Sb:!1,LP=PL?Symbol.for("react.forward_ref"):typeof D.forwardRef=="function"&&D.forwardRef(function(n){return null}).$$typeof,MP=PL?Symbol.for("react.memo"):typeof D.memo=="function"&&D.memo(function(n){return null}).$$typeof;function Oi(n,e){var t;if(MP&&n.$$typeof===MP)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(t=void 0)!==null&&t!==void 0?t:!1,s=n,i=n.displayName||n.name;if(LP&&n.$$typeof===LP&&(r=!0,s=n.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(a,l){return cH(function(){return s(a,l)},i)};return o.displayName=n.displayName,dH&&Object.defineProperty(o,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(o.contextTypes=n.contextTypes),r&&(o=D.forwardRef(o)),o=D.memo(o),fH(n,o),o}var hH={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function fH(n,e){Object.keys(n).forEach(function(t){hH[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}var Cb;Y9(Ws.unstable_batchedUpdates);Cb=jw.finalizeAllImmediately;function pH(){}var xL=pH;const j=Ce(xL);var gH=Array.isArray,lr=gH;const G1=Ce(lr);var mH=typeof ng=="object"&&ng&&ng.Object===Object&&ng,RL=mH,vH=RL,yH=typeof self=="object"&&self&&self.Object===Object&&self,_H=vH||yH||Function("return this")(),Pi=_H,bH=Pi,wH=bH.Symbol,dd=wH,$P=dd,AL=Object.prototype,EH=AL.hasOwnProperty,SH=AL.toString,Zd=$P?$P.toStringTag:void 0;function CH(n){var e=EH.call(n,Zd),t=n[Zd];try{n[Zd]=void 0;var r=!0}catch{}var s=SH.call(n);return r&&(e?n[Zd]=t:delete n[Zd]),s}var TH=CH,IH=Object.prototype,OH=IH.toString;function PH(n){return OH.call(n)}var xH=PH,FP=dd,RH=TH,AH=xH,DH="[object Null]",kH="[object Undefined]",jP=FP?FP.toStringTag:void 0;function NH(n){return n==null?n===void 0?kH:DH:jP&&jP in Object(n)?RH(n):AH(n)}var xi=NH;function LH(n){return n!=null&&typeof n=="object"}var rs=LH,MH=xi,$H=rs,FH="[object Symbol]";function jH(n){return typeof n=="symbol"||$H(n)&&MH(n)==FH}var hd=jH,VH=lr,UH=hd,BH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HH=/^\w*$/;function zH(n,e){if(VH(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||UH(n)?!0:HH.test(n)||!BH.test(n)||e!=null&&n in Object(e)}var Y1=zH;function KH(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var ss=KH;const Wo=Ce(ss);var WH=xi,GH=ss,YH="[object AsyncFunction]",qH="[object Function]",XH="[object GeneratorFunction]",QH="[object Proxy]";function ZH(n){if(!GH(n))return!1;var e=WH(n);return e==qH||e==XH||e==YH||e==QH}var Cy=ZH;const De=Ce(Cy);var JH=Pi,ez=JH["__core-js_shared__"],tz=ez,Tb=tz,VP=function(){var n=/[^.]+$/.exec(Tb&&Tb.keys&&Tb.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function nz(n){return!!VP&&VP in n}var rz=nz,sz=Function.prototype,iz=sz.toString;function oz(n){if(n!=null){try{return iz.call(n)}catch{}try{return n+""}catch{}}return""}var DL=oz,az=Cy,lz=rz,uz=ss,cz=DL,dz=/[\\^$.*+?()[\]{}|]/g,hz=/^\[object .+?Constructor\]$/,fz=Function.prototype,pz=Object.prototype,gz=fz.toString,mz=pz.hasOwnProperty,vz=RegExp("^"+gz.call(mz).replace(dz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yz(n){if(!uz(n)||lz(n))return!1;var e=az(n)?vz:hz;return e.test(cz(n))}var _z=yz;function bz(n,e){return n==null?void 0:n[e]}var wz=bz,Ez=_z,Sz=wz;function Cz(n,e){var t=Sz(n,e);return Ez(t)?t:void 0}var wu=Cz,Tz=wu,Iz=Tz(Object,"create"),Ty=Iz,UP=Ty;function Oz(){this.__data__=UP?UP(null):{},this.size=0}var Pz=Oz;function xz(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Rz=xz,Az=Ty,Dz="__lodash_hash_undefined__",kz=Object.prototype,Nz=kz.hasOwnProperty;function Lz(n){var e=this.__data__;if(Az){var t=e[n];return t===Dz?void 0:t}return Nz.call(e,n)?e[n]:void 0}var Mz=Lz,$z=Ty,Fz=Object.prototype,jz=Fz.hasOwnProperty;function Vz(n){var e=this.__data__;return $z?e[n]!==void 0:jz.call(e,n)}var Uz=Vz,Bz=Ty,Hz="__lodash_hash_undefined__";function zz(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Bz&&e===void 0?Hz:e,this}var Kz=zz,Wz=Pz,Gz=Rz,Yz=Mz,qz=Uz,Xz=Kz;function fd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}fd.prototype.clear=Wz;fd.prototype.delete=Gz;fd.prototype.get=Yz;fd.prototype.has=qz;fd.prototype.set=Xz;var Qz=fd;function Zz(){this.__data__=[],this.size=0}var Jz=Zz;function eK(n,e){return n===e||n!==n&&e!==e}var op=eK,tK=op;function nK(n,e){for(var t=n.length;t--;)if(tK(n[t][0],e))return t;return-1}var Iy=nK,rK=Iy,sK=Array.prototype,iK=sK.splice;function oK(n){var e=this.__data__,t=rK(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():iK.call(e,t,1),--this.size,!0}var aK=oK,lK=Iy;function uK(n){var e=this.__data__,t=lK(e,n);return t<0?void 0:e[t][1]}var cK=uK,dK=Iy;function hK(n){return dK(this.__data__,n)>-1}var fK=hK,pK=Iy;function gK(n,e){var t=this.__data__,r=pK(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var mK=gK,vK=Jz,yK=aK,_K=cK,bK=fK,wK=mK;function pd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}pd.prototype.clear=vK;pd.prototype.delete=yK;pd.prototype.get=_K;pd.prototype.has=bK;pd.prototype.set=wK;var Oy=pd,EK=wu,SK=Pi,CK=EK(SK,"Map"),q1=CK,BP=Qz,TK=Oy,IK=q1;function OK(){this.size=0,this.__data__={hash:new BP,map:new(IK||TK),string:new BP}}var PK=OK;function xK(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var RK=xK,AK=RK;function DK(n,e){var t=n.__data__;return AK(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Py=DK,kK=Py;function NK(n){var e=kK(this,n).delete(n);return this.size-=e?1:0,e}var LK=NK,MK=Py;function $K(n){return MK(this,n).get(n)}var FK=$K,jK=Py;function VK(n){return jK(this,n).has(n)}var UK=VK,BK=Py;function HK(n,e){var t=BK(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var zK=HK,KK=PK,WK=LK,GK=FK,YK=UK,qK=zK;function gd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}gd.prototype.clear=KK;gd.prototype.delete=WK;gd.prototype.get=GK;gd.prototype.has=YK;gd.prototype.set=qK;var X1=gd,kL=X1,XK="Expected a function";function Q1(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(XK);var t=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=t.cache;if(i.has(s))return i.get(s);var o=n.apply(this,r);return t.cache=i.set(s,o)||i,o};return t.cache=new(Q1.Cache||kL),t}Q1.Cache=kL;var QK=Q1,ZK=QK,JK=500;function e8(n){var e=ZK(n,function(r){return t.size===JK&&t.clear(),r}),t=e.cache;return e}var t8=e8,n8=t8,r8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s8=/\\(\\)?/g,i8=n8(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(r8,function(t,r,s,i){e.push(s?i.replace(s8,"$1"):r||t)}),e}),NL=i8;function o8(n,e){for(var t=-1,r=n==null?0:n.length,s=Array(r);++t<r;)s[t]=e(n[t],t,n);return s}var md=o8,HP=dd,a8=md,l8=lr,u8=hd,c8=1/0,zP=HP?HP.prototype:void 0,KP=zP?zP.toString:void 0;function LL(n){if(typeof n=="string")return n;if(l8(n))return a8(n,LL)+"";if(u8(n))return KP?KP.call(n):"";var e=n+"";return e=="0"&&1/n==-c8?"-0":e}var ML=LL,d8=ML;function h8(n){return n==null?"":d8(n)}var xy=h8;const $u=Ce(xy);var f8=lr,p8=Y1,g8=NL,m8=xy;function v8(n,e){return f8(n)?n:p8(n,e)?[n]:g8(m8(n))}var vd=v8,y8=hd,_8=1/0;function b8(n){if(typeof n=="string"||y8(n))return n;var e=n+"";return e=="0"&&1/n==-_8?"-0":e}var Eu=b8,w8=vd,E8=Eu;function S8(n,e){e=w8(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[E8(e[t++])];return t&&t==r?n:void 0}var Ry=S8,C8=Ry;function T8(n,e,t){var r=n==null?void 0:C8(n,e);return r===void 0?t:r}var $L=T8;const Z=Ce($L),FL=function(n){if(Z(process,"env.NODE_ENV")==="development"){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console.log(n,...t)}};class Ne{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:j,getProps:j,getState:j,getStates:j,setState:j,getContext:j,getContexts:j,getCache:j,setCache:j,getCaches:j,stopPropagation:j,persistEvent:j}}constructor(e){this._adapter=Object.assign(Object.assign({},Ne.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,t){return this._adapter.setState(Object.assign({},e),t)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,t){return e&&this._adapter.setCache(e,t)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const t=this.getProps();return e in t}_isInProps(e){const t=this.getProps();return e in t}init(e){}destroy(){}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];FL(e,...r)}_persistEvent(e){this._adapter.persistEvent(e)}}function bf(n){return Object.keys(n).reduce((e,t)=>(t.substr(0,5)==="data-"&&(e[t]=n[t]),e),{})}const{hasOwnProperty:I8}=Object.prototype;class xe extends D.Component{constructor(e){super(e),this.isControlled=t=>!!(t&&this.props&&typeof this.props=="object"&&I8.call(this.props,t)),this.setStateAsync=t=>new Promise(r=>{this.setState(t,r)}),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&typeof this.foundation.init=="function"&&this.foundation.init()}componentWillUnmount(){this.foundation&&typeof this.foundation.destroy=="function"&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,t)=>this.setState(Object.assign({},e),t),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,t)=>e&&(this.cache[e]=t),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch{}},persistEvent:e=>{e&&e.persist&&typeof e.persist=="function"&&e.persist()}}}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return FL(e,...r)}getDataAttr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return bf(e)}}xe.propTypes={};xe.defaultProps={};var O8=Pi,P8=function(){return O8.Date.now()},x8=P8,R8=/\s/;function A8(n){for(var e=n.length;e--&&R8.test(n.charAt(e)););return e}var D8=A8,k8=D8,N8=/^\s+/;function L8(n){return n&&n.slice(0,k8(n)+1).replace(N8,"")}var M8=L8,$8=M8,WP=ss,F8=hd,GP=NaN,j8=/^[-+]0x[0-9a-f]+$/i,V8=/^0b[01]+$/i,U8=/^0o[0-7]+$/i,B8=parseInt;function H8(n){if(typeof n=="number")return n;if(F8(n))return GP;if(WP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=WP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=$8(n);var t=V8.test(n);return t||U8.test(n)?B8(n.slice(2),t?2:8):j8.test(n)?GP:+n}var Z1=H8;const Hs=Ce(Z1);var z8=ss,Ib=x8,YP=Z1,K8="Expected a function",W8=Math.max,G8=Math.min;function Y8(n,e,t){var r,s,i,o,a,l,u=0,d=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(K8);e=YP(e)||0,z8(t)&&(d=!!t.leading,h="maxWait"in t,i=h?W8(YP(t.maxWait)||0,e):i,f="trailing"in t?!!t.trailing:f);function g(x){var I=r,T=s;return r=s=void 0,u=x,o=n.apply(T,I),o}function b(x){return u=x,a=setTimeout(v,e),d?g(x):o}function y(x){var I=x-l,T=x-u,P=e-I;return h?G8(P,i-T):P}function _(x){var I=x-l,T=x-u;return l===void 0||I>=e||I<0||h&&T>=i}function v(){var x=Ib();if(_(x))return E(x);a=setTimeout(v,y(x))}function E(x){return a=void 0,f&&r?g(x):(r=s=void 0,o)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function S(){return a===void 0?o:E(Ib())}function O(){var x=Ib(),I=_(x);if(r=arguments,s=this,l=x,I){if(a===void 0)return b(l);if(h)return clearTimeout(a),a=setTimeout(v,e),g(l)}return a===void 0&&(a=setTimeout(v,e)),o}return O.cancel=w,O.flush=S,O}var jL=Y8;const VL=Ce(jL);var q8=jL,X8=ss,Q8="Expected a function";function Z8(n,e,t){var r=!0,s=!0;if(typeof n!="function")throw new TypeError(Q8);return X8(t)&&(r="leading"in t?!!t.leading:r,s="trailing"in t?!!t.trailing:s),q8(n,e,{leading:r,maxWait:e,trailing:s})}var J8=Z8;const av=Ce(J8);var UL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)e.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(UL);var e7=UL.exports;const $=Ce(e7);var BL={exports:{}},t7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",n7=t7,r7=n7;function HL(){}function zL(){}zL.resetWarningCache=HL;var s7=function(){function n(r,s,i,o,a,l){if(l!==r7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zL,resetWarningCache:HL};return t.PropTypes=t,t};BL.exports=s7();var i7=BL.exports;const c=Ce(i7),G="semi",yd=["default","error","warning","success"];function qP(n){return typeof n=="object"&&n!=null&&n.nodeType===1}function XP(n,e){return(!e||n!=="hidden")&&n!=="visible"&&n!=="clip"}function Ob(n,e){if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){var t=getComputedStyle(n,null);return XP(t.overflowY,e)||XP(t.overflowX,e)||function(r){var s=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!s&&(s.clientHeight<r.scrollHeight||s.clientWidth<r.scrollWidth)}(n)}return!1}function Sg(n,e,t,r,s,i,o,a){return i<n&&o>e||i>n&&o<e?0:i<=n&&a<=t||o>=e&&a>=t?i-n-r:o>e&&a<t||i<n&&a>t?o-e+s:0}var QP=function(n,e){var t=window,r=e.scrollMode,s=e.block,i=e.inline,o=e.boundary,a=e.skipOverflowHiddenElements,l=typeof o=="function"?o:function(yt){return yt!==o};if(!qP(n))throw new TypeError("Invalid target");for(var u,d,h=document.scrollingElement||document.documentElement,f=[],g=n;qP(g)&&l(g);){if((g=(d=(u=g).parentElement)==null?u.getRootNode().host||null:d)===h){f.push(g);break}g!=null&&g===document.body&&Ob(g)&&!Ob(document.documentElement)||g!=null&&Ob(g,a)&&f.push(g)}for(var b=t.visualViewport?t.visualViewport.width:innerWidth,y=t.visualViewport?t.visualViewport.height:innerHeight,_=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,E=n.getBoundingClientRect(),w=E.height,S=E.width,O=E.top,x=E.right,I=E.bottom,T=E.left,P=s==="start"||s==="nearest"?O:s==="end"?I:O+w/2,A=i==="center"?T+S/2:i==="end"?x:T,k=[],M=0;M<f.length;M++){var N=f[M],W=N.getBoundingClientRect(),q=W.height,K=W.width,ee=W.top,V=W.right,z=W.bottom,B=W.left;if(r==="if-needed"&&O>=0&&T>=0&&I<=y&&x<=b&&O>=ee&&I<=z&&T>=B&&x<=V)return k;var oe=getComputedStyle(N),ne=parseInt(oe.borderLeftWidth,10),re=parseInt(oe.borderTopWidth,10),he=parseInt(oe.borderRightWidth,10),be=parseInt(oe.borderBottomWidth,10),ye=0,me=0,ge="offsetWidth"in N?N.offsetWidth-N.clientWidth-ne-he:0,te="offsetHeight"in N?N.offsetHeight-N.clientHeight-re-be:0,le="offsetWidth"in N?N.offsetWidth===0?0:K/N.offsetWidth:0,ft="offsetHeight"in N?N.offsetHeight===0?0:q/N.offsetHeight:0;if(h===N)ye=s==="start"?P:s==="end"?P-y:s==="nearest"?Sg(v,v+y,y,re,be,v+P,v+P+w,w):P-y/2,me=i==="start"?A:i==="center"?A-b/2:i==="end"?A-b:Sg(_,_+b,b,ne,he,_+A,_+A+S,S),ye=Math.max(0,ye+v),me=Math.max(0,me+_);else{ye=s==="start"?P-ee-re:s==="end"?P-z+be+te:s==="nearest"?Sg(ee,z,q,re,be+te,P,P+w,w):P-(ee+q/2)+te/2,me=i==="start"?A-B-ne:i==="center"?A-(B+K/2)+ge/2:i==="end"?A-V+he+ge:Sg(B,V,K,ne,he+ge,A,A+S,S);var Ot=N.scrollLeft,nn=N.scrollTop;P+=nn-(ye=Math.max(0,Math.min(nn+ye/ft,N.scrollHeight-q/ft+te))),A+=Ot-(me=Math.max(0,Math.min(Ot+me/le,N.scrollWidth-K/le+ge)))}k.push({el:N,top:ye,left:me})}return k};function KL(n){return n===Object(n)&&Object.keys(n).length!==0}function o7(n,e){e===void 0&&(e="auto");var t="scrollBehavior"in document.body.style;n.forEach(function(r){var s=r.el,i=r.top,o=r.left;s.scroll&&t?s.scroll({top:i,left:o,behavior:e}):(s.scrollTop=i,s.scrollLeft=o)})}function a7(n){return n===!1?{block:"end",inline:"nearest"}:KL(n)?n:{block:"start",inline:"nearest"}}function Pb(n,e){var t=n.isConnected||n.ownerDocument.documentElement.contains(n);if(KL(e)&&typeof e.behavior=="function")return e.behavior(t?QP(n,e):[]);if(t){var r=a7(e);return o7(QP(n,r),r.behavior)}}const Ay={PREFIX:`${G}-typography`},Tr={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small","inherit"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]};var l7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const u7=Ay.PREFIX;let Dy=class extends D.PureComponent{render(){const e=this.props,{component:t,className:r,children:s,forwardRef:i}=e,o=l7(e,["component","className","children","forwardRef"]),a=t,l=$(u7,r);return m.createElement(a,Object.assign({className:l,ref:i},o),s)}};Dy.defaultProps={component:"article",style:{},className:""};Dy.propTypes={component:c.string,style:c.object,className:c.string};function c7(n){return n===null}var d7=c7;const nu=Ce(d7);var h7=xi,f7=lr,p7=rs,g7="[object String]";function m7(n){return typeof n=="string"||!f7(n)&&p7(n)&&h7(n)==g7}var WL=m7;const ke=Ce(WL);var v7=Oy;function y7(){this.__data__=new v7,this.size=0}var _7=y7;function b7(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var w7=b7;function E7(n){return this.__data__.get(n)}var S7=E7;function C7(n){return this.__data__.has(n)}var T7=C7,I7=Oy,O7=q1,P7=X1,x7=200;function R7(n,e){var t=this.__data__;if(t instanceof I7){var r=t.__data__;if(!O7||r.length<x7-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new P7(r)}return t.set(n,e),this.size=t.size,this}var A7=R7,D7=Oy,k7=_7,N7=w7,L7=S7,M7=T7,$7=A7;function _d(n){var e=this.__data__=new D7(n);this.size=e.size}_d.prototype.clear=k7;_d.prototype.delete=N7;_d.prototype.get=L7;_d.prototype.has=M7;_d.prototype.set=$7;var ky=_d,F7=wu,j7=function(){try{var n=F7(Object,"defineProperty");return n({},"",{}),n}catch{}}(),GL=j7,ZP=GL;function V7(n,e,t){e=="__proto__"&&ZP?ZP(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var J1=V7,U7=J1,B7=op;function H7(n,e,t){(t!==void 0&&!B7(n[e],t)||t===void 0&&!(e in n))&&U7(n,e,t)}var YL=H7;function z7(n){return function(e,t,r){for(var s=-1,i=Object(e),o=r(e),a=o.length;a--;){var l=o[n?a:++s];if(t(i[l],l,i)===!1)break}return e}}var K7=z7,W7=K7,G7=W7(),qL=G7,lv={exports:{}};lv.exports;(function(n,e){var t=Pi,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,o=i?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var h=u.length,f=a?a(h):new u.constructor(h);return u.copy(f),f}n.exports=l})(lv,lv.exports);var XL=lv.exports,Y7=Pi,q7=Y7.Uint8Array,QL=q7,JP=QL;function X7(n){var e=new n.constructor(n.byteLength);return new JP(e).set(new JP(n)),e}var eC=X7,Q7=eC;function Z7(n,e){var t=e?Q7(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var ZL=Z7;function J7(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var tC=J7,eW=ss,ex=Object.create,tW=function(){function n(){}return function(e){if(!eW(e))return{};if(ex)return ex(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),nW=tW;function rW(n,e){return function(t){return n(e(t))}}var JL=rW,sW=JL,iW=sW(Object.getPrototypeOf,Object),nC=iW,oW=Object.prototype;function aW(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||oW;return n===t}var ap=aW,lW=nW,uW=nC,cW=ap;function dW(n){return typeof n.constructor=="function"&&!cW(n)?lW(uW(n)):{}}var eM=dW,hW=xi,fW=rs,pW="[object Arguments]";function gW(n){return fW(n)&&hW(n)==pW}var mW=gW,tx=mW,vW=rs,tM=Object.prototype,yW=tM.hasOwnProperty,_W=tM.propertyIsEnumerable,bW=tx(function(){return arguments}())?tx:function(n){return vW(n)&&yW.call(n,"callee")&&!_W.call(n,"callee")},lp=bW,wW=9007199254740991;function EW(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=wW}var rC=EW,SW=Cy,CW=rC;function TW(n){return n!=null&&CW(n.length)&&!SW(n)}var ho=TW,IW=ho,OW=rs;function PW(n){return OW(n)&&IW(n)}var sC=PW,uv={exports:{}};function xW(){return!1}var nM=xW;const wf=Ce(nM);uv.exports;(function(n,e){var t=Pi,r=nM,s=e&&!e.nodeType&&e,i=s&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===s,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;n.exports=u})(uv,uv.exports);var up=uv.exports,RW=xi,AW=nC,DW=rs,kW="[object Object]",NW=Function.prototype,LW=Object.prototype,rM=NW.toString,MW=LW.hasOwnProperty,$W=rM.call(Object);function FW(n){if(!DW(n)||RW(n)!=kW)return!1;var e=AW(n);if(e===null)return!0;var t=MW.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&rM.call(t)==$W}var iC=FW;const jW=Ce(iC);var VW=xi,UW=rC,BW=rs,HW="[object Arguments]",zW="[object Array]",KW="[object Boolean]",WW="[object Date]",GW="[object Error]",YW="[object Function]",qW="[object Map]",XW="[object Number]",QW="[object Object]",ZW="[object RegExp]",JW="[object Set]",eG="[object String]",tG="[object WeakMap]",nG="[object ArrayBuffer]",rG="[object DataView]",sG="[object Float32Array]",iG="[object Float64Array]",oG="[object Int8Array]",aG="[object Int16Array]",lG="[object Int32Array]",uG="[object Uint8Array]",cG="[object Uint8ClampedArray]",dG="[object Uint16Array]",hG="[object Uint32Array]",Wt={};Wt[sG]=Wt[iG]=Wt[oG]=Wt[aG]=Wt[lG]=Wt[uG]=Wt[cG]=Wt[dG]=Wt[hG]=!0;Wt[HW]=Wt[zW]=Wt[nG]=Wt[KW]=Wt[rG]=Wt[WW]=Wt[GW]=Wt[YW]=Wt[qW]=Wt[XW]=Wt[QW]=Wt[ZW]=Wt[JW]=Wt[eG]=Wt[tG]=!1;function fG(n){return BW(n)&&UW(n.length)&&!!Wt[VW(n)]}var pG=fG;function gG(n){return function(e){return n(e)}}var bd=gG,cv={exports:{}};cv.exports;(function(n,e){var t=RL,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,o=i&&t.process,a=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();n.exports=a})(cv,cv.exports);var cp=cv.exports,mG=pG,vG=bd,nx=cp,rx=nx&&nx.isTypedArray,yG=rx?vG(rx):mG,Ny=yG;function _G(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var sM=_G,bG=J1,wG=op,EG=Object.prototype,SG=EG.hasOwnProperty;function CG(n,e,t){var r=n[e];(!(SG.call(n,e)&&wG(r,t))||t===void 0&&!(e in n))&&bG(n,e,t)}var Ly=CG,TG=Ly,IG=J1;function OG(n,e,t,r){var s=!t;t||(t={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),s?IG(t,a,l):TG(t,a,l)}return t}var Su=OG;function PG(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var iM=PG,xG=9007199254740991,RG=/^(?:0|[1-9]\d*)$/;function AG(n,e){var t=typeof n;return e=e??xG,!!e&&(t=="number"||t!="symbol"&&RG.test(n))&&n>-1&&n%1==0&&n<e}var My=AG,DG=iM,kG=lp,NG=lr,LG=up,MG=My,$G=Ny,FG=Object.prototype,jG=FG.hasOwnProperty;function VG(n,e){var t=NG(n),r=!t&&kG(n),s=!t&&!r&&LG(n),i=!t&&!r&&!s&&$G(n),o=t||r||s||i,a=o?DG(n.length,String):[],l=a.length;for(var u in n)(e||jG.call(n,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||MG(u,l)))&&a.push(u);return a}var oM=VG;function UG(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var BG=UG,HG=ss,zG=ap,KG=BG,WG=Object.prototype,GG=WG.hasOwnProperty;function YG(n){if(!HG(n))return KG(n);var e=zG(n),t=[];for(var r in n)r=="constructor"&&(e||!GG.call(n,r))||t.push(r);return t}var qG=YG,XG=oM,QG=qG,ZG=ho;function JG(n){return ZG(n)?XG(n,!0):QG(n)}var dp=JG,eY=Su,tY=dp;function nY(n){return eY(n,tY(n))}var rY=nY,sx=YL,sY=XL,iY=ZL,oY=tC,aY=eM,ix=lp,ox=lr,lY=sC,uY=up,cY=Cy,dY=ss,hY=iC,fY=Ny,ax=sM,pY=rY;function gY(n,e,t,r,s,i,o){var a=ax(n,t),l=ax(e,t),u=o.get(l);if(u){sx(n,t,u);return}var d=i?i(a,l,t+"",n,e,o):void 0,h=d===void 0;if(h){var f=ox(l),g=!f&&uY(l),b=!f&&!g&&fY(l);d=l,f||g||b?ox(a)?d=a:lY(a)?d=oY(a):g?(h=!1,d=sY(l,!0)):b?(h=!1,d=iY(l,!0)):d=[]:hY(l)||ix(l)?(d=a,ix(a)?d=pY(a):(!dY(a)||cY(a))&&(d=aY(l))):h=!1}h&&(o.set(l,d),s(d,l,r,i,o),o.delete(l)),sx(n,t,d)}var mY=gY,vY=ky,yY=YL,_Y=qL,bY=mY,wY=ss,EY=dp,SY=sM;function aM(n,e,t,r,s){n!==e&&_Y(e,function(i,o){if(s||(s=new vY),wY(i))bY(n,e,o,t,aM,r,s);else{var a=r?r(SY(n,o),i,o+"",n,e,s):void 0;a===void 0&&(a=i),yY(n,o,a)}},EY)}var CY=aM;function TY(n){return n}var hp=TY;function IY(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var OY=IY,PY=OY,lx=Math.max;function xY(n,e,t){return e=lx(e===void 0?n.length-1:e,0),function(){for(var r=arguments,s=-1,i=lx(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=r[s];return a[e]=t(o),PY(n,this,a)}}var lM=xY;function RY(n){return function(){return n}}var AY=RY,DY=AY,ux=GL,kY=hp,NY=ux?function(n,e){return ux(n,"toString",{configurable:!0,enumerable:!1,value:DY(e),writable:!0})}:kY,LY=NY,MY=800,$Y=16,FY=Date.now;function jY(n){var e=0,t=0;return function(){var r=FY(),s=$Y-(r-t);if(t=r,s>0){if(++e>=MY)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var VY=jY,UY=LY,BY=VY,HY=BY(UY),uM=HY,zY=hp,KY=lM,WY=uM;function GY(n,e){return WY(KY(n,e,zY),n+"")}var oC=GY,YY=op,qY=ho,XY=My,QY=ss;function ZY(n,e,t){if(!QY(t))return!1;var r=typeof e;return(r=="number"?qY(t)&&XY(e,t.length):r=="string"&&e in t)?YY(t[e],n):!1}var aC=ZY,JY=oC,eq=aC;function tq(n){return JY(function(e,t){var r=-1,s=t.length,i=s>1?t[s-1]:void 0,o=s>2?t[2]:void 0;for(i=n.length>3&&typeof i=="function"?(s--,i):void 0,o&&eq(t[0],t[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var a=t[r];a&&n(e,a,r,i)}return e})}var cM=tq,nq=CY,rq=cM,sq=rq(function(n,e,t){nq(n,e,t)}),iq=sq;const oq=Ce(iq);function aq(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var dM=aq,lq=JL,uq=lq(Object.keys,Object),cq=uq,dq=ap,hq=cq,fq=Object.prototype,pq=fq.hasOwnProperty;function gq(n){if(!dq(n))return hq(n);var e=[];for(var t in Object(n))pq.call(n,t)&&t!="constructor"&&e.push(t);return e}var hM=gq,mq=oM,vq=hM,yq=ho;function _q(n){return yq(n)?mq(n):vq(n)}var ul=_q,bq=Su,wq=ul;function Eq(n,e){return n&&bq(e,wq(e),n)}var Sq=Eq,Cq=Su,Tq=dp;function Iq(n,e){return n&&Cq(e,Tq(e),n)}var Oq=Iq;function Pq(n,e){for(var t=-1,r=n==null?0:n.length,s=0,i=[];++t<r;){var o=n[t];e(o,t,n)&&(i[s++]=o)}return i}var xq=Pq;function Rq(){return[]}var fM=Rq,Aq=xq,Dq=fM,kq=Object.prototype,Nq=kq.propertyIsEnumerable,cx=Object.getOwnPropertySymbols,Lq=cx?function(n){return n==null?[]:(n=Object(n),Aq(cx(n),function(e){return Nq.call(n,e)}))}:Dq,lC=Lq,Mq=Su,$q=lC;function Fq(n,e){return Mq(n,$q(n),e)}var jq=Fq;function Vq(n,e){for(var t=-1,r=e.length,s=n.length;++t<r;)n[s+t]=e[t];return n}var uC=Vq,Uq=uC,Bq=nC,Hq=lC,zq=fM,Kq=Object.getOwnPropertySymbols,Wq=Kq?function(n){for(var e=[];n;)Uq(e,Hq(n)),n=Bq(n);return e}:zq,pM=Wq,Gq=Su,Yq=pM;function qq(n,e){return Gq(n,Yq(n),e)}var Xq=qq,Qq=uC,Zq=lr;function Jq(n,e,t){var r=e(n);return Zq(n)?r:Qq(r,t(n))}var gM=Jq,eX=gM,tX=lC,nX=ul;function rX(n){return eX(n,nX,tX)}var mM=rX,sX=gM,iX=pM,oX=dp;function aX(n){return sX(n,oX,iX)}var vM=aX,lX=wu,uX=Pi,cX=lX(uX,"DataView"),dX=cX,hX=wu,fX=Pi,pX=hX(fX,"Promise"),gX=pX,mX=wu,vX=Pi,yX=mX(vX,"Set"),yM=yX,_X=wu,bX=Pi,wX=_X(bX,"WeakMap"),EX=wX,Vw=dX,Uw=q1,Bw=gX,Hw=yM,zw=EX,_M=xi,wd=DL,dx="[object Map]",SX="[object Object]",hx="[object Promise]",fx="[object Set]",px="[object WeakMap]",gx="[object DataView]",CX=wd(Vw),TX=wd(Uw),IX=wd(Bw),OX=wd(Hw),PX=wd(zw),El=_M;(Vw&&El(new Vw(new ArrayBuffer(1)))!=gx||Uw&&El(new Uw)!=dx||Bw&&El(Bw.resolve())!=hx||Hw&&El(new Hw)!=fx||zw&&El(new zw)!=px)&&(El=function(n){var e=_M(n),t=e==SX?n.constructor:void 0,r=t?wd(t):"";if(r)switch(r){case CX:return gx;case TX:return dx;case IX:return hx;case OX:return fx;case PX:return px}return e});var fp=El,xX=Object.prototype,RX=xX.hasOwnProperty;function AX(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&RX.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var DX=AX,kX=eC;function NX(n,e){var t=e?kX(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var LX=NX,MX=/\w*$/;function $X(n){var e=new n.constructor(n.source,MX.exec(n));return e.lastIndex=n.lastIndex,e}var FX=$X,mx=dd,vx=mx?mx.prototype:void 0,yx=vx?vx.valueOf:void 0;function jX(n){return yx?Object(yx.call(n)):{}}var VX=jX,UX=eC,BX=LX,HX=FX,zX=VX,KX=ZL,WX="[object Boolean]",GX="[object Date]",YX="[object Map]",qX="[object Number]",XX="[object RegExp]",QX="[object Set]",ZX="[object String]",JX="[object Symbol]",eQ="[object ArrayBuffer]",tQ="[object DataView]",nQ="[object Float32Array]",rQ="[object Float64Array]",sQ="[object Int8Array]",iQ="[object Int16Array]",oQ="[object Int32Array]",aQ="[object Uint8Array]",lQ="[object Uint8ClampedArray]",uQ="[object Uint16Array]",cQ="[object Uint32Array]";function dQ(n,e,t){var r=n.constructor;switch(e){case eQ:return UX(n);case WX:case GX:return new r(+n);case tQ:return BX(n,t);case nQ:case rQ:case sQ:case iQ:case oQ:case aQ:case lQ:case uQ:case cQ:return KX(n,t);case YX:return new r;case qX:case ZX:return new r(n);case XX:return HX(n);case QX:return new r;case JX:return zX(n)}}var hQ=dQ,fQ=fp,pQ=rs,gQ="[object Map]";function mQ(n){return pQ(n)&&fQ(n)==gQ}var vQ=mQ,yQ=vQ,_Q=bd,_x=cp,bx=_x&&_x.isMap,bQ=bx?_Q(bx):yQ,wQ=bQ,EQ=fp,SQ=rs,CQ="[object Set]";function TQ(n){return SQ(n)&&EQ(n)==CQ}var IQ=TQ,OQ=IQ,PQ=bd,wx=cp,Ex=wx&&wx.isSet,xQ=Ex?PQ(Ex):OQ,bM=xQ;const wM=Ce(bM);var RQ=ky,AQ=dM,DQ=Ly,kQ=Sq,NQ=Oq,LQ=XL,MQ=tC,$Q=jq,FQ=Xq,jQ=mM,VQ=vM,UQ=fp,BQ=DX,HQ=hQ,zQ=eM,KQ=lr,WQ=up,GQ=wQ,YQ=ss,qQ=bM,XQ=ul,QQ=dp,ZQ=1,JQ=2,eZ=4,EM="[object Arguments]",tZ="[object Array]",nZ="[object Boolean]",rZ="[object Date]",sZ="[object Error]",SM="[object Function]",iZ="[object GeneratorFunction]",oZ="[object Map]",aZ="[object Number]",CM="[object Object]",lZ="[object RegExp]",uZ="[object Set]",cZ="[object String]",dZ="[object Symbol]",hZ="[object WeakMap]",fZ="[object ArrayBuffer]",pZ="[object DataView]",gZ="[object Float32Array]",mZ="[object Float64Array]",vZ="[object Int8Array]",yZ="[object Int16Array]",_Z="[object Int32Array]",bZ="[object Uint8Array]",wZ="[object Uint8ClampedArray]",EZ="[object Uint16Array]",SZ="[object Uint32Array]",$t={};$t[EM]=$t[tZ]=$t[fZ]=$t[pZ]=$t[nZ]=$t[rZ]=$t[gZ]=$t[mZ]=$t[vZ]=$t[yZ]=$t[_Z]=$t[oZ]=$t[aZ]=$t[CM]=$t[lZ]=$t[uZ]=$t[cZ]=$t[dZ]=$t[bZ]=$t[wZ]=$t[EZ]=$t[SZ]=!0;$t[sZ]=$t[SM]=$t[hZ]=!1;function om(n,e,t,r,s,i){var o,a=e&ZQ,l=e&JQ,u=e&eZ;if(t&&(o=s?t(n,r,s,i):t(n)),o!==void 0)return o;if(!YQ(n))return n;var d=KQ(n);if(d){if(o=BQ(n),!a)return MQ(n,o)}else{var h=UQ(n),f=h==SM||h==iZ;if(WQ(n))return LQ(n,a);if(h==CM||h==EM||f&&!s){if(o=l||f?{}:zQ(n),!a)return l?FQ(n,NQ(o,n)):$Q(n,kQ(o,n))}else{if(!$t[h])return s?n:{};o=HQ(n,h,a)}}i||(i=new RQ);var g=i.get(n);if(g)return g;i.set(n,o),qQ(n)?n.forEach(function(_){o.add(om(_,e,t,_,n,i))}):GQ(n)&&n.forEach(function(_,v){o.set(v,om(_,e,t,v,n,i))});var b=u?l?VQ:jQ:l?QQ:XQ,y=d?void 0:b(n);return AQ(y||n,function(_,v){y&&(v=_,_=n[v]),DQ(o,v,om(_,e,t,v,n,i))}),o}var TM=om;function CZ(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var TZ=CZ;function IZ(n,e,t){var r=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=n[r+e];return i}var cC=IZ,OZ=Ry,PZ=cC;function xZ(n,e){return e.length<2?n:OZ(n,PZ(e,0,-1))}var RZ=xZ,AZ=vd,DZ=TZ,kZ=RZ,NZ=Eu;function LZ(n,e){return e=AZ(e,n),n=kZ(n,e),n==null||delete n[NZ(DZ(e))]}var IM=LZ,MZ=iC;function $Z(n){return MZ(n)?void 0:n}var FZ=$Z,Sx=dd,jZ=lp,VZ=lr,Cx=Sx?Sx.isConcatSpreadable:void 0;function UZ(n){return VZ(n)||jZ(n)||!!(Cx&&n&&n[Cx])}var BZ=UZ,HZ=uC,zZ=BZ;function OM(n,e,t,r,s){var i=-1,o=n.length;for(t||(t=zZ),s||(s=[]);++i<o;){var a=n[i];e>0&&t(a)?e>1?OM(a,e-1,t,r,s):HZ(s,a):r||(s[s.length]=a)}return s}var PM=OM,KZ=PM;function WZ(n){var e=n==null?0:n.length;return e?KZ(n,1):[]}var GZ=WZ,YZ=GZ,qZ=lM,XZ=uM;function QZ(n){return XZ(qZ(n,void 0,YZ),n+"")}var xM=QZ,ZZ=md,JZ=TM,eJ=IM,tJ=vd,nJ=Su,rJ=FZ,sJ=xM,iJ=vM,oJ=1,aJ=2,lJ=4,uJ=sJ(function(n,e){var t={};if(n==null)return t;var r=!1;e=ZZ(e,function(i){return i=tJ(i,n),r||(r=i.length>1),i}),nJ(n,iJ(n),t),r&&(t=JZ(t,oJ|aJ|lJ,rJ));for(var s=e.length;s--;)eJ(t,e[s]);return t}),cJ=uJ;const cl=Ce(cJ);function dJ(n){return n===void 0}var hJ=dJ;const Ct=Ce(hJ);var fJ="__lodash_hash_undefined__";function pJ(n){return this.__data__.set(n,fJ),this}var gJ=pJ;function mJ(n){return this.__data__.has(n)}var vJ=mJ,yJ=X1,_J=gJ,bJ=vJ;function dv(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new yJ;++e<t;)this.add(n[e])}dv.prototype.add=dv.prototype.push=_J;dv.prototype.has=bJ;var dC=dv;function wJ(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var EJ=wJ;function SJ(n,e){return n.has(e)}var hC=SJ,CJ=dC,TJ=EJ,IJ=hC,OJ=1,PJ=2;function xJ(n,e,t,r,s,i){var o=t&OJ,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=i.get(n),d=i.get(e);if(u&&d)return u==e&&d==n;var h=-1,f=!0,g=t&PJ?new CJ:void 0;for(i.set(n,e),i.set(e,n);++h<a;){var b=n[h],y=e[h];if(r)var _=o?r(y,b,h,e,n,i):r(b,y,h,n,e,i);if(_!==void 0){if(_)continue;f=!1;break}if(g){if(!TJ(e,function(v,E){if(!IJ(g,E)&&(b===v||s(b,v,t,r,i)))return g.push(E)})){f=!1;break}}else if(!(b===y||s(b,y,t,r,i))){f=!1;break}}return i.delete(n),i.delete(e),f}var RM=xJ;function RJ(n){var e=-1,t=Array(n.size);return n.forEach(function(r,s){t[++e]=[s,r]}),t}var AJ=RJ;function DJ(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var fC=DJ,Tx=dd,Ix=QL,kJ=op,NJ=RM,LJ=AJ,MJ=fC,$J=1,FJ=2,jJ="[object Boolean]",VJ="[object Date]",UJ="[object Error]",BJ="[object Map]",HJ="[object Number]",zJ="[object RegExp]",KJ="[object Set]",WJ="[object String]",GJ="[object Symbol]",YJ="[object ArrayBuffer]",qJ="[object DataView]",Ox=Tx?Tx.prototype:void 0,xb=Ox?Ox.valueOf:void 0;function XJ(n,e,t,r,s,i,o){switch(t){case qJ:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case YJ:return!(n.byteLength!=e.byteLength||!i(new Ix(n),new Ix(e)));case jJ:case VJ:case HJ:return kJ(+n,+e);case UJ:return n.name==e.name&&n.message==e.message;case zJ:case WJ:return n==e+"";case BJ:var a=LJ;case KJ:var l=r&$J;if(a||(a=MJ),n.size!=e.size&&!l)return!1;var u=o.get(n);if(u)return u==e;r|=FJ,o.set(n,e);var d=NJ(a(n),a(e),r,s,i,o);return o.delete(n),d;case GJ:if(xb)return xb.call(n)==xb.call(e)}return!1}var QJ=XJ,Px=mM,ZJ=1,JJ=Object.prototype,eee=JJ.hasOwnProperty;function tee(n,e,t,r,s,i){var o=t&ZJ,a=Px(n),l=a.length,u=Px(e),d=u.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in e:eee.call(e,f)))return!1}var g=i.get(n),b=i.get(e);if(g&&b)return g==e&&b==n;var y=!0;i.set(n,e),i.set(e,n);for(var _=o;++h<l;){f=a[h];var v=n[f],E=e[f];if(r)var w=o?r(E,v,f,e,n,i):r(v,E,f,n,e,i);if(!(w===void 0?v===E||s(v,E,t,r,i):w)){y=!1;break}_||(_=f=="constructor")}if(y&&!_){var S=n.constructor,O=e.constructor;S!=O&&"constructor"in n&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(y=!1)}return i.delete(n),i.delete(e),y}var nee=tee,Rb=ky,ree=RM,see=QJ,iee=nee,xx=fp,Rx=lr,Ax=up,oee=Ny,aee=1,Dx="[object Arguments]",kx="[object Array]",Cg="[object Object]",lee=Object.prototype,Nx=lee.hasOwnProperty;function uee(n,e,t,r,s,i){var o=Rx(n),a=Rx(e),l=o?kx:xx(n),u=a?kx:xx(e);l=l==Dx?Cg:l,u=u==Dx?Cg:u;var d=l==Cg,h=u==Cg,f=l==u;if(f&&Ax(n)){if(!Ax(e))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new Rb),o||oee(n)?ree(n,e,t,r,s,i):see(n,e,l,t,r,s,i);if(!(t&aee)){var g=d&&Nx.call(n,"__wrapped__"),b=h&&Nx.call(e,"__wrapped__");if(g||b){var y=g?n.value():n,_=b?e.value():e;return i||(i=new Rb),s(y,_,t,r,i)}}return f?(i||(i=new Rb),iee(n,e,t,r,s,i)):!1}var cee=uee,dee=cee,Lx=rs;function AM(n,e,t,r,s){return n===e?!0:n==null||e==null||!Lx(n)&&!Lx(e)?n!==n&&e!==e:dee(n,e,t,r,AM,s)}var pC=AM,hee=pC;function fee(n,e){return hee(n,e)}var pee=fee;const je=Ce(pee);var gee=hM,mee=fp,vee=lp,yee=lr,_ee=ho,bee=up,wee=ap,Eee=Ny,See="[object Map]",Cee="[object Set]",Tee=Object.prototype,Iee=Tee.hasOwnProperty;function Oee(n){if(n==null)return!0;if(_ee(n)&&(yee(n)||typeof n=="string"||typeof n.splice=="function"||bee(n)||Eee(n)||vee(n)))return!n.length;var e=mee(n);if(e==See||e==Cee)return!n.size;if(wee(n))return!gee(n).length;for(var t in n)if(Iee.call(n,t))return!1;return!0}var Pee=Oee;const At=Ce(Pee);var xee=qL,Ree=ul;function Aee(n,e){return n&&xee(n,e,Ree)}var Dee=Aee,kee=ho;function Nee(n,e){return function(t,r){if(t==null)return t;if(!kee(t))return n(t,r);for(var s=t.length,i=e?s:-1,o=Object(t);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return t}}var Lee=Nee,Mee=Dee,$ee=Lee,Fee=$ee(Mee),DM=Fee,jee=hp;function Vee(n){return typeof n=="function"?n:jee}var kM=Vee,Uee=dM,Bee=DM,Hee=kM,zee=lr;function Kee(n,e){var t=zee(n)?Uee:Bee;return t(n,Hee(e))}var Wee=Kee,Gee=Wee;const Yee=Ce(Gee);function qt(n,e){n&&console.warn(`Warning: ${e}`)}function St(n){return n==null}let NM=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else St(t)&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?([...this._eventMap.get(e)].forEach(o=>o(...r)),!0):!1}};function Ze(n){try{return n instanceof HTMLElement}catch{return typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function LM(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(const s of t)n.appendChild(s);return n}function qee(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];if(n.children&&n.children.length){const s=n.children[0];for(const i of t)n.insertBefore(i,s)}else LM(n,...t);return n}function Xee(n){if(n&&typeof n=="object")return typeof n.toJSON=="function"?n.toJSON():["left","top","right","bottom","width","height"].reduce((t,r)=>(t[r]=n[r],t),{})}function di(n){n.stopPropagation(),n.preventDefault()}const Tg={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},Fu={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};let Qee=class extends Ne{constructor(e){var t;super(Object.assign({},e)),t=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(r,s)=>{this._adapter.setDisplayNone(r,s)},this.updateStateIfCursorOnTrigger=r=>{var s,i;if(!((s=r==null?void 0:r.matches)===null||s===void 0)&&s.call(r,":hover")){const o=this._adapter.getEventName(),a=this.getState("triggerEventSet");(i=a[o.mouseEnter])===null||i===void 0||i.call(a)}},this.onResize=()=>{this.getState("visible")&&this.calcPosition()},this.delayShow=()=>{const r=this.getProp("mouseEnterDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},r):this.show()},this.show=()=>{if(this._adapter.getAnimatingState())return;const r=this.getProp("content"),s=this.getProp("trigger"),i=this.getProp("clickTriggerToHide"),{visible:o,displayNone:a}=this.getStates();if(a&&this.setDisplayNone(!1),!o){if(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),s==="hover"){const l=()=>{var u;const d=this._adapter.getTriggerDOM();s&&!(!((u=d==null?void 0:d.matches)===null||u===void 0)&&u.call(d,":hover"))&&this.hide(),this._adapter.off("portalInserted",l)};this._adapter.on("portalInserted",l)}this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(r,{left:-9999,top:-9999}),s==="custom"&&this._adapter.registerClickOutsideHandler(()=>{}),(s==="click"||i||s==="contextMenu")&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent()}},this.calcPosition=function(r,s,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;r=(At(r)?t._adapter.getTriggerBounding():r)||Object.assign({},Fu),i=(At(i)?t._adapter.getPopupContainerRect():i)||Object.assign({},Fu),s=(At(s)?t._adapter.getWrapperBounding():s)||Object.assign({},Fu);let a=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i}),l=t.getProp("position");if(t.getProp("autoAdjustOverflow")){const{position:u,isHeightOverFlow:d,isWidthOverFlow:h}=t.adjustPosIfNeed(l,a,r,s,i);(l!==u||d||h)&&(l=u,a=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i,position:l,spacing:null,isOverFlow:[d,h]}))}return o&&t._mounted&&t._adapter.setPosition(Object.assign(Object.assign({},a),{position:l})),a},this.delayHide=()=>{const r=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},r):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=r=>{const{guardFocus:s,closeOnEsc:i}=this.getProps();switch(r&&r.key){case"Escape":i&&this._handleEscKeyDown(r);break;case"Tab":if(s){const o=this._adapter.getContainer(),a=this._adapter.getFocusableElements(o);a.length&&(r.shiftKey?this._handleContainerShiftTabKeyDown(a,r):this._handleContainerTabKeyDown(a,r))}break}},this._timer=null}init(){const{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),e||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){const e=this.getProp("trigger"),{triggerEventSet:t,portalEventSet:r}=this._generateEvent(e);this._bindTriggerEvent(t),this._bindPortalEvent(r),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"reverse",s=arguments.length>3?arguments[3]:void 0;switch(r){case"reverse":return this._reversePos(e,t);case"expand":return this._expandPos(e,s);case"reduce":return this._reducePos(e);default:return this._reversePos(e,t)}}_reversePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){if(Tg.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(Tg.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else{if(Tg.LEFT.test(e))return e.replace("left","right").replace("Left","Right");if(Tg.RIGHT.test(e))return e.replace("right","left").replace("Right","Left")}return e}_expandPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}_reducePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=["Top","Bottom","Left","Right"].find(r=>e.endsWith(r));return t?e.replace(t,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){const t=this._adapter.getEventName(),r={[t.keydown]:i=>{this._handleTriggerKeydown(i)}};let s={};switch(e){case"focus":r[t.focus]=()=>{this.delayShow()},r[t.blur]=()=>{this.delayHide()},s=r;break;case"click":r[t.click]=()=>{this.show()},s={};break;case"hover":r[t.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},r[t.mouseLeave]=()=>{this.delayHide()},r[t.focus]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayShow()},r[t.blur]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayHide()},s=Object.assign({},r),this.getProp("clickToHide")&&(s[t.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},s[t.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":break;case"contextMenu":r[t.contextMenu]=i=>{i.preventDefault(),this.show()};break}return{triggerEventSet:r,portalEventSet:s}}_shouldShow(){this.getProp("visible")&&this.show()}_togglePortalVisible(e){const t=this.getState("visible"),r=this.getState("isInsert");(t!==e||r!==e)&&this._adapter.togglePortalVisible(e,()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)})}_roundPixel(e){return typeof e=="number"?Math.round(e):e}calcTransformOrigin(e,t,r,s){if(e&&t&&r!=null&&s!=null){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(t.width/2)}px ${-s*100}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(t.width/2)}px) ${-s*100}%`;if(["leftTop","rightTop"].includes(e))return`${-r*100}% ${this._roundPixel(t.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${-r*100}% calc(100% - ${this._roundPixel(t.height/2)}px)`}return`${-r*100}% ${-s*100}%`}return null}calcPosStyle(e){var t;const{spacing:r,isOverFlow:s}=e,{innerWidth:i}=window,o=(At(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},Fu),a=(At(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},Fu),l=(At(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},Fu),u=e.position!=null?e.position:this.getProp("position"),d=r??this.getProp("spacing"),{arrowPointAtCenter:h,showArrow:f,arrowBounding:g}=this.getProps(),b=f&&h;let y=d,_=0;if(typeof d!="number"){const te=u.includes("top")||u.includes("bottom");y=te?d.y:d.x,_=te?d.x:d.y}const v=Z(g,"width",24),E=Z(g,"width",24),w=Z(g,"offsetY",0),S=6,O=6;let x,I,T=0,P=0;const A=o.left+o.width/2,k=o.top+o.height/2,M=S+v/2,N=O+E/2,W=l.height-a.height,q=l.width-a.width,K=W>0?W:0,ee=q>0?q:0,V=s&&s[0],z=s&&s[1],B=A-a.left<a.right-A,oe=k-a.top<a.bottom-k,ne=l.width>i,re=Math.abs((l==null?void 0:l.width)-((t=this._adapter.getContainer())===null||t===void 0?void 0:t.clientWidth))>1;switch(re&&(y=y*l.width/this._adapter.getContainer().clientWidth),u){case"top":x=z?B?a.left+l.width/2:a.right-l.width/2+ee:A+_,I=V?a.bottom+K:o.top-y,T=-.5,P=-1;break;case"topLeft":x=z?ne?a.left:a.right-l.width:b?A-M+_:o.left+_,I=V?a.bottom+K:o.top-y,P=-1;break;case"topRight":x=z?a.right+ee:b?A+M+_:o.right+_,I=V?a.bottom+K:o.top-y,P=-1,T=-1;break;case"left":x=z?a.right+ee-y+M:o.left-y,I=V?oe?a.top+l.height/2:a.bottom-l.height/2+K:k+_,T=-1,P=-.5;break;case"leftTop":x=z?a.right+ee-y+M:o.left-y,I=V?a.top:b?k-N+_:o.top+_,T=-1;break;case"leftBottom":x=z?a.right+ee-y+M:o.left-y,I=V?a.bottom+K:b?k+N+_:o.bottom+_,T=-1,P=-1;break;case"bottom":x=z?B?a.left+l.width/2:a.right-l.width/2+ee:A+_,I=V?a.top+N-y:o.top+o.height+y,T=-.5;break;case"bottomLeft":x=z?ne?a.left:a.right-l.width:b?A-M+_:o.left+_,I=V?a.top+N-y:o.top+o.height+y;break;case"bottomRight":x=z?a.right+ee:b?A+M+_:o.right+_,I=V?a.top+N-y:o.top+o.height+y,T=-1;break;case"right":x=z?a.left-y+M:o.right+y,I=V?oe?a.top+l.height/2:a.bottom-l.height/2+K:k+_,P=-.5;break;case"rightTop":x=z?a.left-y+M:o.right+y,I=V?a.top:b?k-N+_:o.top+_;break;case"rightBottom":x=z?a.left-y+M:o.right+y,I=V?a.bottom+K:b?k+N+_:o.bottom+_,P=-1;break;case"leftTopOver":x=o.left-y,I=o.top-y;break;case"rightTopOver":x=o.right+y,I=o.top-y,T=-1;break;case"leftBottomOver":x=o.left-y,I=o.bottom+y,P=-1;break;case"rightBottomOver":x=o.right+y,I=o.bottom+y,T=-1,P=-1;break}const he=this.calcTransformOrigin(u,o,T,P),be=this._adapter.containerIsBody();if(x=x-a.left,I=I-a.top,re&&(x/=l.width/this._adapter.getContainer().clientWidth),re&&(I/=l.height/this._adapter.getContainer().clientHeight),be&&!this._adapter.containerIsRelativeOrAbsolute()){const te=this._adapter.getDocumentElementBounding();x+=a.left-te.left,I+=a.top-te.top}x=be?x:x+a.scrollLeft,I=be?I:I+a.scrollTop;const ye=o.height;if(this.getProp("showArrow")&&!h&&ye<=(E/2+w)*2){const te=ye/2-(w+E/2);(u.includes("Top")||u.includes("Bottom"))&&!u.includes("Over")&&(I=u.includes("Top")?I+te:I-te)}const me={left:this._roundPixel(x),top:this._roundPixel(I)};let ge="";return T!=null&&(ge+=`translateX(${T*100}%) `,Object.defineProperty(me,"translateX",{enumerable:!1,value:T})),P!=null&&(ge+=`translateY(${P*100}%) `,Object.defineProperty(me,"translateY",{enumerable:!1,value:P})),he!=null&&(me.transformOrigin=he),ge&&(me.transform=ge),me}isLR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,t,r){return e<r&&t>r}isOverFlow(e,t,r){return e<r&&t<r}isHalfOverFlow(e,t,r){return e<r||t<r}isHalfAllEnough(e,t,r){return e>=r||t>=r}getReverse(e,t,r,s){return e&&s||r}adjustPosIfNeed(e,t,r,s,i){const{innerWidth:o,innerHeight:a}=window,{margin:l}=this.getProps(),u=typeof l=="number"?l:l.marginLeft,d=typeof l=="number"?l:l.marginTop,h=typeof l=="number"?l:l.marginRight,f=typeof l=="number"?l:l.marginBottom;let g=!1,b=!1;const y=this.getProp("spacing");let _=y,v=0;if(typeof y!="number"){const E=e.includes("top")||e.includes("bottom");_=E?y.y:y.x,v=E?y.x:y.y}if(s.width>0&&s.height>0){const E=r.left,w=r.right,S=r.top,O=r.bottom,x=o-E,I=a-S,T=o-w,P=a-O,A=s.width>r.width,k=s.height>r.height,M=S-d<s.height+_&&P-f>s.height+_,N=E-u<s.width+_&&T-h>s.width+_,W=P-f<s.height+_&&S-d>s.height+_,q=T-h<s.width+_&&E-u>s.width+_;I-f<s.height+_&&O-d>s.height+_,O-d<s.height+_&&I-f>s.height+_;const K=I<s.height+v&&O>s.height+v,ee=O<s.height+v&&I>s.height+v,V=x<s.width+v&&w>s.width+v,z=w<s.width+v&&x>s.width+v,B=I<s.height+_&&O>s.height+_,oe=O<s.height+_&&I>s.height+_,ne=x<s.width&&w>s.width,re=w<s.width&&x>s.width,he=S-i.top,be=E-i.left,ye=he+r.height,me=be+r.width,ge=i.bottom-O,te=i.right-w,le=ge+r.height,ft=te+r.width,Ot=this.isReverse(he-d,ge-f,s.height+_),nn=this.isReverse(be-u,te-h,s.width+_),yt=this.isReverse(ge-f,he-d,s.height+_),yn=this.isReverse(te-h,be-u,s.width+_);this.isReverse(le-f,ye-d,s.height+_),this.isReverse(ye-d,le-f,s.height+_);const _t=this.isReverse(le,ye,s.height+v),Zn=this.isReverse(ye,le,s.height+v),Hr=this.isReverse(ft,me,s.width+v),Ri=this.isReverse(me,ft,s.width+v),Ut=r.height/2,Bn=r.width/2,xs=this.isOverFlow(S-d,P-f,s.height+_),zr=this.isOverFlow(E-u,T-h,s.width+_),Rs=this.isOverFlow(O-d,I-f,s.height+_),mo=this.isOverFlow(w-u,x-h,s.width+_),rn=this.isHalfOverFlow(O-Ut,I-Ut,(s.height+v)/2),Mt=this.isHalfOverFlow(w-Bn,x-Bn,(s.width+v)/2),_n=this.isHalfAllEnough(O-Ut,I-Ut,(s.height+v)/2),xn=this.isHalfAllEnough(w-Bn,x-Bn,(s.width+v)/2),cr=this.isOverFlow(he-d,ge-f,s.height+_),Hn=this.isOverFlow(be-u,te-h,s.width+_),dr=this.isOverFlow(ye-d,le-f,s.height+_),Kr=this.isOverFlow(me-u,ft-h,s.width+_),As=this.isHalfOverFlow(ye-Ut,le-Ut,(s.height+v)/2),bn=this.isHalfOverFlow(me-Bn,ft-Bn,(s.width+v)/2),os=this.isHalfAllEnough(ye-Ut,le-Ut,(s.height+v)/2),Ai=this.isHalfAllEnough(me-Bn,ft-Bn,(s.width+v)/2),Ds=this.getReverse(xs,cr,M,Ot),Di=this.getReverse(zr,Hn,N,nn),as=this.getReverse(xs,cr,W,yt),ls=this.getReverse(zr,Hn,q,yn),bt=this.getReverse(Rs,dr,K,_t),Xt=this.getReverse(Rs,dr,ee,Zn),mt=this.getReverse(mo,Kr,V,Hr),sn=this.getReverse(mo,Kr,z,Ri),Bt=rn&&As,Qt=Mt&&bn;switch(e){case"top":Ds&&(e=this._adjustPos(e,!0)),Qt&&(mt||sn)&&(e=this._adjustPos(e,!0,"expand",mt?"Right":"Left"));break;case"topLeft":Ds&&(e=this._adjustPos(e,!0)),mt&&A&&(e=this._adjustPos(e)),b&&(xn||Ai)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":Ds&&(e=this._adjustPos(e,!0)),sn&&A&&(e=this._adjustPos(e)),b&&(xn||Ai)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":Di&&(e=this._adjustPos(e)),Bt&&(bt||Xt)&&(e=this._adjustPos(e,!1,"expand",bt?"Bottom":"Top"));break;case"leftTop":Di&&(e=this._adjustPos(e)),bt&&k&&(e=this._adjustPos(e,!0)),g&&(_n||os)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":Di&&(e=this._adjustPos(e)),Xt&&k&&(e=this._adjustPos(e,!0)),g&&(_n||os)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":as&&(e=this._adjustPos(e,!0)),Qt&&(mt||sn)&&(e=this._adjustPos(e,!0,"expand",mt?"Right":"Left"));break;case"bottomLeft":as&&(e=this._adjustPos(e,!0)),mt&&A&&(e=this._adjustPos(e)),b&&(xn||Ai)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":as&&(e=this._adjustPos(e,!0)),sn&&A&&(e=this._adjustPos(e)),b&&(xn||Ai)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":ls&&(e=this._adjustPos(e)),Bt&&(bt||Xt)&&(e=this._adjustPos(e,!1,"expand",bt?"Bottom":"Top"));break;case"rightTop":ls&&(e=this._adjustPos(e)),bt&&k&&(e=this._adjustPos(e,!0)),g&&(_n||os)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":ls&&(e=this._adjustPos(e)),Xt&&k&&(e=this._adjustPos(e,!0)),g&&(_n||os)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":B&&(e=this._adjustPos(e,!0)),ne&&(e=this._adjustPos(e));break;case"leftBottomOver":oe&&(e=this._adjustPos(e,!0)),ne&&(e=this._adjustPos(e));break;case"rightTopOver":B&&(e=this._adjustPos(e,!0)),re&&(e=this._adjustPos(e));break;case"rightBottomOver":oe&&(e=this._adjustPos(e,!0)),re&&(e=this._adjustPos(e));break}this.isTB(e)&&(g=xs&&cr,e==="top"||e==="bottom"?b=Mt&&bn||w<0||T<0:b=mo&&Kr||w<0||T<0),this.isLR(e)&&(b=zr&&Hn,e==="left"||e==="right"?g=rn&&As||S<0||I<0:g=Rs&&dr||S<0||I<0)}return{position:e,isHeightOverFlow:g,isWidthOverFlow:b}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){const{closeOnEsc:t,disableArrowKeyDown:r}=this.getProps(),s=this._adapter.getContainer(),i=this._adapter.getFocusableElements(s),o=i.length;switch(e&&e.key){case"Escape":di(e),t&&this._handleEscKeyDown(e);break;case"ArrowUp":!r&&o&&this._handleTriggerArrowUpKeydown(i,e);break;case"ArrowDown":!r&&o&&this._handleTriggerArrowDownKeydown(i,e);break}}focusTrigger(){const{trigger:e,returnFocusOnClose:t,preventScroll:r}=this.getProps();if(t&&e!=="custom"){const s=this._adapter.getTriggerNode();s&&"focus"in s&&s.focus({preventScroll:r})}}_handleEscKeyDown(e){const{trigger:t}=this.getProps();t!=="custom"&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[e.length-1]===s&&(e[0].focus({preventScroll:r}),t.preventDefault())}_handleContainerShiftTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[0]===s&&(e[e.length-1].focus({preventScroll:r}),t.preventDefault())}_handleTriggerArrowDownKeydown(e,t){const{preventScroll:r}=this.getProps();e[0].focus({preventScroll:r}),t.preventDefault()}_handleTriggerArrowUpKeydown(e,t){const{preventScroll:r}=this.getProps();e[e.length-1].focus({preventScroll:r}),t.preventDefault()}};const Zee={PREFIX:`${G}-tooltip`},Bl={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},Sl={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0};function hv(n){return`${n}-${new Date().getTime()}-${Math.random()}`}function am(){var n,e;try{return(e=(n=crypto==null?void 0:crypto.randomUUID)===null||n===void 0?void 0:n.call(crypto))!==null&&e!==void 0?e:String(9987e3+-1e11).replace(/[018]/g,t=>(Number(t)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(t)/4).toString(16))}catch{return hv("semi")}}function Go(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefix:e="",length:t=7}=n,r="0123456789abcdefghijklmnopqrstuvwxyz",s=r.length;let i="";for(let o=0;o<t;o++){const a=Math.floor(Math.random()*s);i+=r.charAt(a)}return e?`${e}-${i}`:i}function Kw(n){return m.isValidElement(n)}function Mx(n){return m.Children.count(n)===0}var Jee=Ly,ete=vd,tte=My,$x=ss,nte=Eu;function rte(n,e,t,r){if(!$x(n))return n;e=ete(e,n);for(var s=-1,i=e.length,o=i-1,a=n;a!=null&&++s<i;){var l=nte(e[s]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=o){var d=a[l];u=r?r(d,l,a):void 0,u===void 0&&(u=$x(d)?d:tte(e[s+1])?[]:{})}Jee(a,l,u),a=a[l]}return n}var MM=rte,ste=MM;function ite(n,e,t){return n==null?n:ste(n,e,t)}var ote=ite;const Ic=Ce(ote);var ate=TM,lte=1,ute=4;function cte(n,e){return e=typeof e=="function"?e:void 0,ate(n,lte|ute,e)}var dte=cte;const $M=Ce(dte);class hte{constructor(){this.config={}}}const Ab=new hte;var Fx=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};function Ig(n,e){n&&typeof n.stopPropagation=="function"&&n.stopPropagation(),n.nativeEvent&&typeof n.nativeEvent.stopImmediatePropagation=="function"&&n.nativeEvent.stopImmediatePropagation()}function fte(n,e){return $M(n,t=>{if(typeof e=="function")return e(t);if(typeof t=="function"||m.isValidElement(t)||Object.prototype.toString.call(t)==="[object Error]")return t;if(Array.isArray(t)&&t.length===0){const r=Object.keys(t);if(r.length){const s=[];r.forEach(i=>{Ic(s,i,t[i])});try{qt(Z(process,"env.NODE_ENV")!=="production",`[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.
                    The maximum length of an array is 4294967295.
                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript`)}catch{}return s}else return}})}const pte=(n,e)=>{let{match:t,unmatch:r,callInInit:s=!0}=e;if(typeof window<"u"){let a=function(l){l.matches?t&&t(l):r&&r(l)};var i=a;const o=window.matchMedia(n);return s&&a(o),Object.prototype.hasOwnProperty.call(o,"addEventListener")?(o.addEventListener("change",a),()=>o.removeEventListener("change",a)):(o.addListener(a),()=>o.removeListener(a))}return()=>{}},Cr=n=>m.isValidElement(n)&&Z(n.type,"elementType")==="Icon";function FM(){return document?document.activeElement:null}function jM(n){if(!Ze(n))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(n.querySelectorAll(t))}function gC(n,e){return Fx(this,void 0,void 0,function*(){if(e===0){yield n();return}else{yield new Promise(t=>{setTimeout(()=>Fx(this,void 0,void 0,function*(){yield gC(n,e-1),t()}),0)});return}})}function gte(){return globalThis&&Object.prototype.toString.call(globalThis)==="[object Window]"?window.innerWidth-document.documentElement.clientWidth:0}function Ps(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=()=>{var r,s;return((s=(r=Ab==null?void 0:Ab.config)===null||r===void 0?void 0:r.overrideDefaultProps)===null||s===void 0?void 0:s[n])||{}};return new Proxy(Object.assign({},e),{get(r,s,i){const o=t();return s in o?o[s]:Reflect.get(r,s,i)},set(r,s,i,o){return Reflect.set(r,s,i,o)},ownKeys(){const r=t();return Array.from(new Set([...Reflect.ownKeys(e),...Object.keys(r)]))},getOwnPropertyDescriptor(r,s){const i=t();return s in i?Reflect.getOwnPropertyDescriptor(i,s):Reflect.getOwnPropertyDescriptor(r,s)}})}const Vr=m.createContext({}),mte=()=>document.body;class pp extends D.PureComponent{constructor(e,t){var r;super(e),r=this,this.initContainer=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var o,a;try{let l;if(!r.el||!(!((o=r.state)===null||o===void 0)&&o.container)||!Array.from(r.state.container.childNodes).includes(r.el)){r.el=document.createElement("div");const d=(r.props.getPopupContainer||s.getPopupContainer||mte)();return d.appendChild(r.el),r.addStyle(r.props.style),r.addClass(r.props.prefixCls,s,r.props.className),l=d,l}}catch(l){if(!i)throw l}return(a=r.state)===null||a===void 0?void 0:a.container},this.addStyle=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.el)for(const i of Object.keys(s))r.el.style[i]=s[i]},this.addClass=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.context;const{direction:o}=i;for(var a=arguments.length,l=new Array(a>2?a-2:0),u=2;u<a;u++)l[u-2]=arguments[u];const d=$(s,...l,{[`${s}-rtl`]:o==="rtl"});r.el&&(r.el.className=d)},this.state={container:this.initContainer(t,!0)}}componentDidMount(){const e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){const{didUpdate:t}=this.props;t&&t(e)}componentWillUnmount(){const{container:e}=this.state;e&&e.removeChild(this.el)}render(){const{state:e,props:t}=this;return e.container?Ws.createPortal(t.children,this.el):null}}pp.contextType=Vr;pp.defaultProps={prefixCls:`${G}-portal`};pp.propTypes={children:c.node,prefixCls:c.string,getPopupContainer:c.func,className:c.string,didUpdate:c.func};var vte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const yte=n=>{const{className:e,style:t}=n,r=vte(n,["className","style"]);return m.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),m.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))};var _te=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const bte=n=>{const{className:e,style:t}=n,r=_te(n,["className","style"]);return m.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),m.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},wte=c.shape({offsetX:c.number,offsetY:c.number,width:c.number,height:c.number});class Ef extends m.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var t,r;(r=(t=this.props).onAnimationStart)===null||r===void 0||r.call(t)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var t,r;(r=(t=this.props).onAnimationEnd)===null||r===void 0||r.call(t,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,t,r,s;(t=(e=this.props).onAnimationStart)===null||t===void 0||t.call(e),this.props.motion||((s=(r=this.props).onAnimationEnd)===null||s===void 0||s.call(r,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,t,r){const s=Object.keys(this.props).filter(i=>!je(this.props[i],e[i]));s.includes("animationState"),(s.includes("startClassName")||s.includes("replayKey")||s.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var i,o,a,l;(o=(i=this.props).onAnimationStart)===null||o===void 0||o.call(i),this.props.motion||((l=(a=this.props).onAnimationEnd)===null||l===void 0||l.call(a,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var e;return this.props.motion?this.props.children({animationClassName:(e=this.state.currentClassName)!==null&&e!==void 0?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}Ef.defaultProps={motion:!0,replayKey:""};var jx=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const lm=Zee.PREFIX,Ete=Bl.POSITION_SET,Ste=Bl.TRIGGER_SET,Cte=["flex","block","table","flow-root","grid"],Tte=()=>document.body;class Ir extends xe{constructor(e){super(e),this.isAnimating=!1,this.setContainerEl=t=>this.containerEl={current:t},this.isSpecial=t=>{if(Ze(t))return!!t.disabled;if(D.isValidElement(t)){if(Z(t,"props.disabled"))return Bl.STATUS_DISABLED;const s=Z(t,"props.loading"),i=!At(t)&&!At(t.type)&&(Z(t,"type.elementType")==="Button"||Z(t,"type.elementType")==="IconButton");if(s&&i)return Bl.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{const{placement:t}=this.state,{showArrow:r,prefixCls:s,style:i}=this.props;let o=null;const a=$([`${s}-icon-arrow`]),l=Z(i,"backgroundColor"),u=t!=null&&t.includes("left")||t!=null&&t.includes("right")?m.createElement(bte,null):m.createElement(yte,null);return r&&(D.isValidElement(r)?o=r:o=m.cloneElement(u,{className:a,style:{color:l,fill:"currentColor"}})),o},this.handlePortalInnerClick=t=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&Ig(t)},this.handlePortalMouseDown=t=>{this.props.stopPropagation&&Ig(t)},this.handlePortalFocus=t=>{this.props.stopPropagation&&Ig(t)},this.handlePortalBlur=t=>{this.props.stopPropagation&&Ig(t)},this.handlePortalInnerKeyDown=t=>{this.foundation.handleContainerKeydown(t)},this.renderContentNode=t=>{const r={initialFocusRef:this.initialFocusRef};return De(t)?t(r):t},this.renderPortal=()=>{const{containerStyle:t={},visible:r,portalEventSet:s,placement:i,displayNone:o,transitionState:a,id:l,isPositionUpdated:u}=this.state,{prefixCls:d,content:h,showArrow:f,style:g,motion:b,role:y,zIndex:_}=this.props,v=this.renderContentNode(h),{className:E}=this.props,w=this.context.direction,S=$(E,{[`${d}-wrapper`]:!0,[`${d}-wrapper-show`]:r,[`${d}-with-arrow`]:!!f,[`${d}-rtl`]:w==="rtl"}),O=this.renderIcon(),x=cl(t,b?["transformOrigin"]:void 0),I=Z(t,"transformOrigin"),T=Z(g,"opacity",null),P=T||1,A=m.createElement(Ef,{fillMode:"forwards",animationState:a,motion:b&&u,startClassName:a==="enter"?`${lm}-animation-show`:`${lm}-animation-hide`,onAnimationStart:()=>this.isAnimating=!0,onAnimationEnd:()=>{var k,M;a==="leave"&&(this.didLeave(),(M=(k=this.props).afterClose)===null||M===void 0||M.call(k)),this.isAnimating=!1}},k=>{let{animationStyle:M,animationClassName:N,animationEventsNeedBind:W}=k;return m.createElement("div",Object.assign({className:$(S,N),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},M),o?{display:"none"}:{}),{transformOrigin:I}),g),T?{opacity:u?P:"0"}:{})},s,W,{role:y,"x-placement":i,id:l}),m.createElement("div",{className:`${lm}-content`},v),O)});return m.createElement(pp,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:_}},m.createElement("div",{tabIndex:-1,className:`${G}-portal-inner`,style:x,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},A))},this.wrapSpan=t=>{const{wrapperClassName:r}=this.props,s=Z(t,"props.style.display"),i=Z(t,"props.block"),o=typeof t=="string",a={};return o||(a.display="inline-block"),(i||Cte.includes(s))&&(a.width="100%"),m.createElement("span",{className:r,style:a},t)},this.mergeEvents=(t,r)=>{const s={};return Yee(r,(i,o)=>{typeof i=="function"&&(s[o]=function(){i(...arguments),t&&typeof t[o]=="function"&&t[o](...arguments)})}),s},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new Qee(this.adapter),this.eventManager=new NM,this.triggerEl=m.createRef(),this.containerEl=m.createRef(),this.initialFocusRef=m.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},getAnimatingState:()=>this.isAnimating,insertPortal:(t,r)=>{var s=jx(r,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),s)},()=>{setTimeout(()=>{this.setState(i=>(i.transitionState==="enter"&&this.eventManager.emit("portalInserted"),{}))},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:t=>{this.setState({triggerEventSet:t})},registerPortalEvent:t=>{this.setState({portalEventSet:t})},getTriggerBounding:()=>{const t=this.adapter.getTriggerNode();return this.triggerEl.current=t,t&&t.getBoundingClientRect()},getPopupContainerRect:()=>{const t=this.getPopupContainer();let r=null;if(t&&Ze(t)){const s=Xee(t.getBoundingClientRect());r=Object.assign(Object.assign({},s),{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})}return r},containerIsBody:()=>this.getPopupContainer()===document.body,containerIsRelative:()=>{const t=this.getPopupContainer();return window.getComputedStyle(t).getPropertyValue("position")==="relative"},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{const t=this.containerEl&&this.containerEl.current;return t&&t.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:t=>{var{position:r}=t,s=jx(t,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),s),placement:r,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(t,r)=>{this.setState({displayNone:t},r)},updatePlacementAttr:t=>{this.setState({placement:t})},togglePortalVisible:(t,r)=>{const s={};s.transitionState=t?"enter":"leave",s.visible=t,this.mounted&&this.setState(s,()=>{r()})},registerClickOutsideHandler:t=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=r=>{if(!this.mounted)return!1;let s=this.triggerEl&&this.triggerEl.current,i=this.containerEl&&this.containerEl.current;s=Mr.findDOMNode(s),i=Mr.findDOMNode(i);const o=r.target,a=r.composedPath&&r.composedPath()||[o],l=this.props.clickTriggerToHide?s&&s.contains(o)||a.includes(s):!1;(s&&!s.contains(o)&&i&&!i.contains(o)&&!(a.includes(i)||a.includes(s))||l)&&(this.props.onClickOutSide(r),t())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:t=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=av(r=>{if(!this.mounted)return!1;t(r)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:t=>{this.props.onVisibleChange(t)},registerScrollHandler:t=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=av(r=>{if(!this.mounted)return!1;const s=this.adapter.getTriggerNode();if(r.target.contains(s)){const o={x:r.target.scrollLeft,y:r.target.scrollTop};t(o)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{const t=this.getPopupContainer();if(t&&Ze(t)){const s=window.getComputedStyle(t).getPropertyValue("position");this.containerPosition=s}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let t=this.triggerEl.current;return Ze(this.triggerEl.current)||(t=Mr.findDOMNode(this.triggerEl.current)),t},getFocusableElements:t=>jM(t),getActiveElement:()=>FM(),setInitialFocus:()=>{const{preventScroll:t}=this.props,r=Z(this,"initialFocusRef.current");r&&"focus"in r&&r.focus({preventScroll:t})},notifyEscKeydown:t=>{this.props.onEscKeyDown(t)},setId:()=>{this.setState({id:Go()})},getTriggerDOM:()=>this.triggerEl.current?Mr.findDOMNode(this.triggerEl.current):null})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||Tte,this.foundation.init(),gC(()=>{let e=this.triggerEl.current;e&&(e instanceof HTMLElement||(e=Ws.findDOMNode(e))),this.foundation.updateStateIfCursorOnTrigger(e)},1)}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,t){qt(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),je(e.rePosKey,this.props.rePosKey)||this.rePosition()}render(){const{isInsert:e,triggerEventSet:t,visible:r,id:s}=this.state,{wrapWhenSpecial:i,role:o,trigger:a}=this.props;let{children:l}=this.props;const u=Object.assign({},Z(l,"props.style")),d={};if(i){const g=this.isSpecial(l);g?(u.pointerEvents="none",g===Bl.STATUS_DISABLED&&(d.cursor="not-allowed"),l=D.cloneElement(l,{style:u}),a!=="custom"&&(l=this.wrapSpan(l)),this.isWrapped=!0):D.isValidElement(l)||(l=this.wrapSpan(l),this.isWrapped=!0)}let h={};o==="dialog"?(h["aria-expanded"]=r?"true":"false",h["aria-haspopup"]="dialog",h["aria-controls"]=s):h["aria-describedby"]=s;const f=m.cloneElement(l,Object.assign(Object.assign(Object.assign(Object.assign({},h),l.props),this.mergeEvents(l.props,t)),{style:Object.assign(Object.assign({},Z(l,"props.style")),d),className:$(Z(l,"props.className")),ref:g=>{this.triggerEl.current=g;const{ref:b}=l;typeof b=="function"?b(g):b&&typeof b=="object"&&(b.current=g)},tabIndex:l.props.tabIndex||0,"data-popupid":s}));return m.createElement(m.Fragment,null,e?this.renderPortal():null,f)}}Ir.contextType=Vr;Ir.propTypes={children:c.node,motion:c.bool,autoAdjustOverflow:c.bool,position:c.oneOf(Ete),getPopupContainer:c.func,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(Ste).isRequired,className:c.string,wrapperClassName:c.string,clickToHide:c.bool,clickTriggerToHide:c.bool,visible:c.bool,style:c.object,content:c.oneOfType([c.node,c.func]),prefixCls:c.string,onVisibleChange:c.func,onClickOutSide:c.func,spacing:c.oneOfType([c.number,c.object]),margin:c.oneOfType([c.number,c.object]),showArrow:c.oneOfType([c.bool,c.node]),zIndex:c.number,rePosKey:c.oneOfType([c.string,c.number]),arrowBounding:wte,transformFromCenter:c.bool,arrowPointAtCenter:c.bool,stopPropagation:c.bool,role:c.string,wrapWhenSpecial:c.bool,guardFocus:c.bool,returnFocusOnClose:c.bool,preventScroll:c.bool,keepDOM:c.bool};Ir.__SemiComponentName__="Tooltip";Ir.defaultProps=Ps(Ir.__SemiComponentName__,{arrowBounding:Sl.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:lm,role:"tooltip",mouseEnterDelay:Sl.MOUSE_ENTER_DELAY,mouseLeaveDelay:Sl.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:j,onClickOutSide:j,spacing:Sl.SPACING,margin:Sl.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:Sl.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:j,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1});var mC={exports:{}};const VM=(n,{target:e=document.body}={})=>{const t=document.createElement("textarea"),r=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const s=document.getSelection();let i=!1;s.rangeCount>0&&(i=s.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;let o=!1;try{o=document.execCommand("copy")}catch{}return t.remove(),i&&(s.removeAllRanges(),s.addRange(i)),r&&r.focus(),o};mC.exports=VM;mC.exports.default=VM;var Ite=mC.exports;const Ote=Ce(Ite);function Dt(){}const Pte=m.createContext(null);function Oc(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}function Ui(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",s;if(r==="formatting"&&n.formattingValues){var i=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):i;s=n.formattingValues[o]||n.formattingValues[i]}else{var a=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[l]||n.values[a]}var u=n.argumentCallback?n.argumentCallback(e):e;return s[u]}}function Bi(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?Rte(a,function(h){return h.test(o)}):xte(a,function(h){return h.test(o)}),u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var d=e.slice(o.length);return{value:u,rest:d}}}function xte(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function Rte(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function UM(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var s=r[0],i=e.match(n.parsePattern);if(!i)return null;var o=n.valueCallback?n.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}function lo(n){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(n)}function jt(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Re(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Le(n){Re(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||lo(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Da(n,e){Re(2,arguments);var t=Le(n),r=jt(e);if(isNaN(r))return new Date(NaN);if(!r)return t;var s=t.getDate(),i=new Date(t.getTime());i.setMonth(t.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),s),t)}function Ate(n,e){Re(2,arguments);var t=Le(n).getTime(),r=jt(e);return new Date(t+r)}var Dte={};function Ed(){return Dte}function BM(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function Vx(n){Re(1,arguments);var e=Le(n);return e.setHours(0,0,0,0),e}function fv(n,e){Re(2,arguments);var t=jt(e);return Da(n,t*12)}var vC=6e4,yC=36e5,kte=1e3;function _C(n,e){Re(2,arguments);var t=Vx(n),r=Vx(e);return t.getTime()===r.getTime()}function Ww(n){return Re(1,arguments),n instanceof Date||lo(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function zs(n){if(Re(1,arguments),!Ww(n)&&typeof n!="number")return!1;var e=Le(n);return!isNaN(Number(e))}function Cl(n,e){Re(2,arguments);var t=Le(n),r=Le(e),s=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return s*12+i}function Nte(n,e){Re(2,arguments);var t=Le(n),r=Le(e);return t.getFullYear()-r.getFullYear()}function Lte(n){Re(1,arguments);var e=Le(n);return e.setDate(1),e.setHours(0,0,0,0),e}function HM(n,e){Re(2,arguments);var t=jt(e);return Ate(n,-t)}var Mte=864e5;function $te(n){Re(1,arguments);var e=Le(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=t-r;return Math.floor(s/Mte)+1}function Wc(n){Re(1,arguments);var e=1,t=Le(n),r=t.getUTCDay(),s=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-s),t.setUTCHours(0,0,0,0),t}function zM(n){Re(1,arguments);var e=Le(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var s=Wc(r),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=Wc(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function Fte(n){Re(1,arguments);var e=zM(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=Wc(t);return r}var jte=6048e5;function KM(n){Re(1,arguments);var e=Le(n),t=Wc(e).getTime()-Fte(e).getTime();return Math.round(t/jte)+1}function Yo(n,e){var t,r,s,i,o,a,l,u;Re(1,arguments);var d=Ed(),h=jt((t=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Le(n),g=f.getUTCDay(),b=(g<h?7:0)+g-h;return f.setUTCDate(f.getUTCDate()-b),f.setUTCHours(0,0,0,0),f}function bC(n,e){var t,r,s,i,o,a,l,u;Re(1,arguments);var d=Le(n),h=d.getUTCFullYear(),f=Ed(),g=jt((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(h+1,0,g),b.setUTCHours(0,0,0,0);var y=Yo(b,e),_=new Date(0);_.setUTCFullYear(h,0,g),_.setUTCHours(0,0,0,0);var v=Yo(_,e);return d.getTime()>=y.getTime()?h+1:d.getTime()>=v.getTime()?h:h-1}function Vte(n,e){var t,r,s,i,o,a,l,u;Re(1,arguments);var d=Ed(),h=jt((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=bC(n,e),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var b=Yo(g,e);return b}var Ute=6048e5;function WM(n,e){Re(1,arguments);var t=Le(n),r=Yo(t,e).getTime()-Vte(t,e).getTime();return Math.round(r/Ute)+1}function Et(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}var da={y:function(e,t){var r=e.getUTCFullYear(),s=r>0?r:1-r;return Et(t==="yy"?s%100:s,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):Et(r+1,2)},d:function(e,t){return Et(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return Et(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Et(e.getUTCHours(),t.length)},m:function(e,t){return Et(e.getUTCMinutes(),t.length)},s:function(e,t){return Et(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return Et(i,t.length)}},ju={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bte={G:function(e,t,r){var s=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return da.y(e,t)},Y:function(e,t,r,s){var i=bC(e,s),o=i>0?i:1-i;if(t==="YY"){var a=o%100;return Et(a,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Et(o,t.length)},R:function(e,t){var r=zM(e);return Et(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return Et(r,t.length)},Q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Et(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Et(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){var s=e.getUTCMonth();switch(t){case"M":case"MM":return da.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){var s=e.getUTCMonth();switch(t){case"L":return String(s+1);case"LL":return Et(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){var i=WM(e,s);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Et(i,t.length)},I:function(e,t,r){var s=KM(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Et(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):da.d(e,t)},D:function(e,t,r){var s=$te(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Et(s,t.length)},E:function(e,t,r){var s=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Et(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Et(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var s=e.getUTCDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return Et(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var s=e.getUTCHours(),i;switch(s===12?i=ju.noon:s===0?i=ju.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var s=e.getUTCHours(),i;switch(s>=17?i=ju.evening:s>=12?i=ju.afternoon:s>=4?i=ju.morning:i=ju.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return da.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):da.H(e,t)},K:function(e,t,r){var s=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Et(s,t.length)},k:function(e,t,r){var s=e.getUTCHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Et(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):da.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):da.s(e,t)},S:function(e,t){return da.S(e,t)},X:function(e,t,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Bx(o);case"XXXX":case"XX":return Tl(o);case"XXXXX":case"XXX":default:return Tl(o,":")}},x:function(e,t,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return Bx(o);case"xxxx":case"xx":return Tl(o);case"xxxxx":case"xxx":default:return Tl(o,":")}},O:function(e,t,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ux(o,":");case"OOOO":default:return"GMT"+Tl(o,":")}},z:function(e,t,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ux(o,":");case"zzzz":default:return"GMT"+Tl(o,":")}},t:function(e,t,r,s){var i=s._originalDate||e,o=Math.floor(i.getTime()/1e3);return Et(o,t.length)},T:function(e,t,r,s){var i=s._originalDate||e,o=i.getTime();return Et(o,t.length)}};function Ux(n,e){var t=n>0?"-":"+",r=Math.abs(n),s=Math.floor(r/60),i=r%60;if(i===0)return t+String(s);var o=e;return t+String(s)+o+Et(i,2)}function Bx(n,e){if(n%60===0){var t=n>0?"-":"+";return t+Et(Math.abs(n)/60,2)}return Tl(n,e)}function Tl(n,e){var t=e||"",r=n>0?"-":"+",s=Math.abs(n),i=Et(Math.floor(s/60),2),o=Et(s%60,2);return r+i+t+o}var Hx=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},GM=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Hte=function(e,t){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Hx(e,t);var o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Hx(s,t)).replace("{{time}}",GM(i,t))},Gw={p:GM,P:Hte},zte=["D","DD"],Kte=["YY","YYYY"];function YM(n){return zte.indexOf(n)!==-1}function qM(n){return Kte.indexOf(n)!==-1}function pv(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Wte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gte=function(e,t,r){var s,i=Wte[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s},Yte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qte={date:Oc({formats:Yte,defaultWidth:"full"}),time:Oc({formats:qte,defaultWidth:"full"}),dateTime:Oc({formats:Xte,defaultWidth:"full"})},Zte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jte=function(e,t,r,s){return Zte[e]},ene={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ine={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},one=function(e,t){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ane={ordinalNumber:one,era:Ui({values:ene,defaultWidth:"wide"}),quarter:Ui({values:tne,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ui({values:nne,defaultWidth:"wide"}),day:Ui({values:rne,defaultWidth:"wide"}),dayPeriod:Ui({values:sne,defaultWidth:"wide",formattingValues:ine,defaultFormattingWidth:"wide"})},lne=/^(\d+)(th|st|nd|rd)?/i,une=/\d+/i,cne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dne={any:[/^b/i,/^(a|c)/i]},hne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fne={any:[/1/i,/2/i,/3/i,/4/i]},pne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_ne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bne={ordinalNumber:UM({matchPattern:lne,parsePattern:une,valueCallback:function(e){return parseInt(e,10)}}),era:Bi({matchPatterns:cne,defaultMatchWidth:"wide",parsePatterns:dne,defaultParseWidth:"any"}),quarter:Bi({matchPatterns:hne,defaultMatchWidth:"wide",parsePatterns:fne,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Bi({matchPatterns:pne,defaultMatchWidth:"wide",parsePatterns:gne,defaultParseWidth:"any"}),day:Bi({matchPatterns:mne,defaultMatchWidth:"wide",parsePatterns:vne,defaultParseWidth:"any"}),dayPeriod:Bi({matchPatterns:yne,defaultMatchWidth:"any",parsePatterns:_ne,defaultParseWidth:"any"})},XM={code:"en-US",formatDistance:Gte,formatLong:Qte,formatRelative:Jte,localize:ane,match:bne,options:{weekStartsOn:0,firstWeekContainsDate:1}},wne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ene=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sne=/^'([^]*?)'?$/,Cne=/''/g,Tne=/[a-zA-Z]/;function ct(n,e,t){var r,s,i,o,a,l,u,d,h,f,g,b,y,_,v,E,w,S;Re(2,arguments);var O=String(e),x=Ed(),I=(r=(s=t==null?void 0:t.locale)!==null&&s!==void 0?s:x.locale)!==null&&r!==void 0?r:XM,T=jt((i=(o=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:x.firstWeekContainsDate)!==null&&o!==void 0?o:(h=x.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=jt((g=(b=(y=(_=t==null?void 0:t.weekStartsOn)!==null&&_!==void 0?_:t==null||(v=t.locale)===null||v===void 0||(E=v.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&y!==void 0?y:x.weekStartsOn)!==null&&b!==void 0?b:(w=x.locale)===null||w===void 0||(S=w.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&g!==void 0?g:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var A=Le(n);if(!zs(A))throw new RangeError("Invalid time value");var k=BM(A),M=HM(A,k),N={firstWeekContainsDate:T,weekStartsOn:P,locale:I,_originalDate:A},W=O.match(Ene).map(function(q){var K=q[0];if(K==="p"||K==="P"){var ee=Gw[K];return ee(q,I.formatLong)}return q}).join("").match(wne).map(function(q){if(q==="''")return"'";var K=q[0];if(K==="'")return Ine(q);var ee=Bte[K];if(ee)return!(t!=null&&t.useAdditionalWeekYearTokens)&&qM(q)&&pv(q,e,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&YM(q)&&pv(q,e,String(n)),ee(M,q,I.localize,N);if(K.match(Tne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return q}).join("");return W}function Ine(n){var e=n.match(Sne);return e?e[1].replace(Cne,"'"):n}function One(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function QM(n){Re(1,arguments);var e=Le(n),t=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Pne(n){Re(1,arguments);var e=Le(n),t=e.getHours();return t}function xne(n){Re(1,arguments);var e=Le(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function Rne(n,e){Re(2,arguments);var t=Le(n),r=Le(e);return t.getTime()>r.getTime()}function ZM(n,e){Re(2,arguments);var t=Le(n),r=Le(e);return t.getTime()<r.getTime()}function gv(n,e){Re(2,arguments);var t=Le(n),r=Le(e);return t.getTime()===r.getTime()}function zx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Ane(n,e){if(n){if(typeof n=="string")return zx(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zx(n,e):void 0}}function Kx(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Ane(n))||e){t&&(n=t);var r=0,s=function(){};return{s,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return o=u.done,u},e:function(u){a=!0,i=u},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw i}}}}function ue(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function mv(n,e){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},mv(n,e)}function nt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&mv(n,e)}function vv(n){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vv(n)}function JM(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!n})()}function Dne(n,e){if(e&&(lo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ue(n)}function rt(n){var e=JM();return function(){var t,r=vv(n);if(e){var s=vv(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return Dne(this,t)}}function Ke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kne(n,e){if(lo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(lo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function e$(n){var e=kne(n,"string");return lo(e)=="symbol"?e:e+""}function Nne(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,e$(r.key),r)}}function We(n,e,t){return e&&Nne(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ae(n,e,t){return(e=e$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Lne=10,t$=function(){function n(){Ke(this,n),ae(this,"priority",void 0),ae(this,"subPriority",0)}return We(n,[{key:"validate",value:function(t,r){return!0}}]),n}(),Mne=function(n){nt(t,n);var e=rt(t);function t(r,s,i,o,a){var l;return Ke(this,t),l=e.call(this),l.value=r,l.validateValue=s,l.setValue=i,l.priority=o,a&&(l.subPriority=a),l}return We(t,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,o){return this.setValue(s,i,this.value,o)}}]),t}(t$),$ne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",Lne),ae(ue(r),"subPriority",-1),r}return We(t,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}}]),t}(t$),gt=function(){function n(){Ke(this,n),ae(this,"incompatibleTokens",void 0),ae(this,"priority",void 0),ae(this,"subPriority",void 0)}return We(n,[{key:"run",value:function(t,r,s,i){var o=this.parse(t,r,s,i);return o?{setter:new Mne(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(t,r,s){return!0}}]),n}(),Fne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",140),ae(ue(r),"incompatibleTokens",["R","u","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"G":case"GG":case"GGG":return o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"});case"GGGGG":return o.era(s,{width:"narrow"});case"GGGG":default:return o.era(s,{width:"wide"})||o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,o){return i.era=o,s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(gt),In={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Hi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function On(n,e){return n&&{value:e(n.value),rest:n.rest}}function un(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function zi(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(s*yC+i*vC+o*kte),rest:e.slice(t[0].length)}}function n$(n){return un(In.anyDigitsSigned,n)}function vn(n,e){switch(n){case 1:return un(In.singleDigit,e);case 2:return un(In.twoDigits,e);case 3:return un(In.threeDigits,e);case 4:return un(In.fourDigits,e);default:return un(new RegExp("^\\d{1,"+n+"}"),e)}}function yv(n,e){switch(n){case 1:return un(In.singleDigitSigned,e);case 2:return un(In.twoDigitsSigned,e);case 3:return un(In.threeDigitsSigned,e);case 4:return un(In.fourDigitsSigned,e);default:return un(new RegExp("^-?\\d{1,"+n+"}"),e)}}function wC(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function r$(n,e){var t=e>0,r=t?e:1-e,s;if(r<=50)s=n||100;else{var i=r+50,o=Math.floor(i/100)*100,a=n>=i%100;s=n+o-(a?100:0)}return t?s:1-s}function s$(n){return n%400===0||n%4===0&&n%100!==0}var jne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",130),ae(ue(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return On(vn(4,s),a);case"yo":return On(o.ordinalNumber(s,{unit:"year"}),a);default:return On(vn(i.length,s),a)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,o){var a=s.getUTCFullYear();if(o.isTwoDigitYear){var l=r$(o.year,a);return s.setUTCFullYear(l,0,1),s.setUTCHours(0,0,0,0),s}var u=!("era"in i)||i.era===1?o.year:1-o.year;return s.setUTCFullYear(u,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(gt),Vne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",130),ae(ue(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return On(vn(4,s),a);case"Yo":return On(o.ordinalNumber(s,{unit:"year"}),a);default:return On(vn(i.length,s),a)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,o,a){var l=bC(s,a);if(o.isTwoDigitYear){var u=r$(o.year,l);return s.setUTCFullYear(u,0,a.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Yo(s,a)}var d=!("era"in i)||i.era===1?o.year:1-o.year;return s.setUTCFullYear(d,0,a.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Yo(s,a)}}]),t}(gt),Une=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",130),ae(ue(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i){return yv(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Wc(a)}}]),t}(gt),Bne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",130),ae(ue(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i){return yv(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,o){return s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(gt),Hne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",120),ae(ue(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"Q":case"QQ":return vn(i.length,s);case"Qo":return o.ordinalNumber(s,{unit:"quarter"});case"QQQ":return o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(s,{width:"wide",context:"formatting"})||o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(gt),zne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",120),ae(ue(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"q":case"qq":return vn(i.length,s);case"qo":return o.ordinalNumber(s,{unit:"quarter"});case"qqq":return o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(s,{width:"wide",context:"standalone"})||o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(gt),Kne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ae(ue(r),"priority",110),r}return We(t,[{key:"parse",value:function(s,i,o){var a=function(u){return u-1};switch(i){case"M":return On(un(In.month,s),a);case"MM":return On(vn(2,s),a);case"Mo":return On(o.ordinalNumber(s,{unit:"month"}),a);case"MMM":return o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(s,{width:"wide",context:"formatting"})||o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),t}(gt),Wne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",110),ae(ue(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){var a=function(u){return u-1};switch(i){case"L":return On(un(In.month,s),a);case"LL":return On(vn(2,s),a);case"Lo":return On(o.ordinalNumber(s,{unit:"month"}),a);case"LLL":return o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(s,{width:"wide",context:"standalone"})||o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),t}(gt);function Gne(n,e,t){Re(2,arguments);var r=Le(n),s=jt(e),i=WM(r,t)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var Yne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",100),ae(ue(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"w":return un(In.week,s);case"wo":return o.ordinalNumber(s,{unit:"week"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,o,a){return Yo(Gne(s,o,a),a)}}]),t}(gt);function qne(n,e){Re(2,arguments);var t=Le(n),r=jt(e),s=KM(t)-r;return t.setUTCDate(t.getUTCDate()-s*7),t}var Xne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",100),ae(ue(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"I":return un(In.week,s);case"Io":return o.ordinalNumber(s,{unit:"week"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,o){return Wc(qne(s,o))}}]),t}(gt),Qne=[31,28,31,30,31,30,31,31,30,31,30,31],Zne=[31,29,31,30,31,30,31,31,30,31,30,31],Jne=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"subPriority",1),ae(ue(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"d":return un(In.date,s);case"do":return o.ordinalNumber(s,{unit:"date"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){var o=s.getUTCFullYear(),a=s$(o),l=s.getUTCMonth();return a?i>=1&&i<=Zne[l]:i>=1&&i<=Qne[l]}},{key:"set",value:function(s,i,o){return s.setUTCDate(o),s.setUTCHours(0,0,0,0),s}}]),t}(gt),ere=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"subpriority",1),ae(ue(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"D":case"DD":return un(In.dayOfYear,s);case"Do":return o.ordinalNumber(s,{unit:"date"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){var o=s.getUTCFullYear(),a=s$(o);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,o){return s.setUTCMonth(0,o),s.setUTCHours(0,0,0,0),s}}]),t}(gt);function EC(n,e,t){var r,s,i,o,a,l,u,d;Re(2,arguments);var h=Ed(),f=jt((r=(s=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&s!==void 0?s:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Le(n),b=jt(e),y=g.getUTCDay(),_=b%7,v=(_+7)%7,E=(v<f?7:0)+b-y;return g.setUTCDate(g.getUTCDate()+E),g}var tre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"E":case"EE":case"EEE":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,a){return s=EC(s,o,a),s.setUTCHours(0,0,0,0),s}}]),t}(gt),nre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o,a){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+h};switch(i){case"e":case"ee":return On(vn(i.length,s),l);case"eo":return On(o.ordinalNumber(s,{unit:"day"}),l);case"eee":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeeee":return o.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,a){return s=EC(s,o,a),s.setUTCHours(0,0,0,0),s}}]),t}(gt),rre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o,a){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+h};switch(i){case"c":case"cc":return On(vn(i.length,s),l);case"co":return On(o.ordinalNumber(s,{unit:"day"}),l);case"ccc":return o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"ccccc":return o.day(s,{width:"narrow",context:"standalone"});case"cccccc":return o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(s,{width:"wide",context:"standalone"})||o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,a){return s=EC(s,o,a),s.setUTCHours(0,0,0,0),s}}]),t}(gt);function sre(n,e){Re(2,arguments);var t=jt(e);t%7===0&&(t=t-7);var r=1,s=Le(n),i=s.getUTCDay(),o=t%7,a=(o+7)%7,l=(a<r?7:0)+t-i;return s.setUTCDate(s.getUTCDate()+l),s}var ire=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return vn(i.length,s);case"io":return o.ordinalNumber(s,{unit:"day"});case"iii":return On(o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),a);case"iiiii":return On(o.day(s,{width:"narrow",context:"formatting"}),a);case"iiiiii":return On(o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),a);case"iiii":default:return On(o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,o){return s=sre(s,o),s.setUTCHours(0,0,0,0),s}}]),t}(gt),ore=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",80),ae(ue(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"a":case"aa":case"aaa":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(wC(o),0,0,0),s}}]),t}(gt),are=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",80),ae(ue(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"b":case"bb":case"bbb":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(wC(o),0,0,0),s}}]),t}(gt),lre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",80),ae(ue(r),"incompatibleTokens",["a","b","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"B":case"BB":case"BBB":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(wC(o),0,0,0),s}}]),t}(gt),ure=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",70),ae(ue(r),"incompatibleTokens",["H","K","k","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"h":return un(In.hour12h,s);case"ho":return o.ordinalNumber(s,{unit:"hour"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,o){var a=s.getUTCHours()>=12;return a&&o<12?s.setUTCHours(o+12,0,0,0):!a&&o===12?s.setUTCHours(0,0,0,0):s.setUTCHours(o,0,0,0),s}}]),t}(gt),cre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",70),ae(ue(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"H":return un(In.hour23h,s);case"Ho":return o.ordinalNumber(s,{unit:"hour"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,o){return s.setUTCHours(o,0,0,0),s}}]),t}(gt),dre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",70),ae(ue(r),"incompatibleTokens",["h","H","k","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"K":return un(In.hour11h,s);case"Ko":return o.ordinalNumber(s,{unit:"hour"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){var a=s.getUTCHours()>=12;return a&&o<12?s.setUTCHours(o+12,0,0,0):s.setUTCHours(o,0,0,0),s}}]),t}(gt),hre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",70),ae(ue(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"k":return un(In.hour24h,s);case"ko":return o.ordinalNumber(s,{unit:"hour"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,o){var a=o<=24?o%24:o;return s.setUTCHours(a,0,0,0),s}}]),t}(gt),fre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",60),ae(ue(r),"incompatibleTokens",["t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"m":return un(In.minute,s);case"mo":return o.ordinalNumber(s,{unit:"minute"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,o){return s.setUTCMinutes(o,0,0),s}}]),t}(gt),pre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",50),ae(ue(r),"incompatibleTokens",["t","T"]),r}return We(t,[{key:"parse",value:function(s,i,o){switch(i){case"s":return un(In.second,s);case"so":return o.ordinalNumber(s,{unit:"second"});default:return vn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,o){return s.setUTCSeconds(o,0),s}}]),t}(gt),gre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",30),ae(ue(r),"incompatibleTokens",["t","T"]),r}return We(t,[{key:"parse",value:function(s,i){var o=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return On(vn(i.length,s),o)}},{key:"set",value:function(s,i,o){return s.setUTCMilliseconds(o),s}}]),t}(gt),mre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",10),ae(ue(r),"incompatibleTokens",["t","T","x"]),r}return We(t,[{key:"parse",value:function(s,i){switch(i){case"X":return zi(Hi.basicOptionalMinutes,s);case"XX":return zi(Hi.basic,s);case"XXXX":return zi(Hi.basicOptionalSeconds,s);case"XXXXX":return zi(Hi.extendedOptionalSeconds,s);case"XXX":default:return zi(Hi.extended,s)}}},{key:"set",value:function(s,i,o){return i.timestampIsSet?s:new Date(s.getTime()-o)}}]),t}(gt),vre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",10),ae(ue(r),"incompatibleTokens",["t","T","X"]),r}return We(t,[{key:"parse",value:function(s,i){switch(i){case"x":return zi(Hi.basicOptionalMinutes,s);case"xx":return zi(Hi.basic,s);case"xxxx":return zi(Hi.basicOptionalSeconds,s);case"xxxxx":return zi(Hi.extendedOptionalSeconds,s);case"xxx":default:return zi(Hi.extended,s)}}},{key:"set",value:function(s,i,o){return i.timestampIsSet?s:new Date(s.getTime()-o)}}]),t}(gt),yre=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",40),ae(ue(r),"incompatibleTokens","*"),r}return We(t,[{key:"parse",value:function(s){return n$(s)}},{key:"set",value:function(s,i,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),t}(gt),_re=function(n){nt(t,n);var e=rt(t);function t(){var r;Ke(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",20),ae(ue(r),"incompatibleTokens","*"),r}return We(t,[{key:"parse",value:function(s){return n$(s)}},{key:"set",value:function(s,i,o){return[new Date(o),{timestampIsSet:!0}]}}]),t}(gt),bre={G:new Fne,y:new jne,Y:new Vne,R:new Une,u:new Bne,Q:new Hne,q:new zne,M:new Kne,L:new Wne,w:new Yne,I:new Xne,d:new Jne,D:new ere,E:new tre,e:new nre,c:new rre,i:new ire,a:new ore,b:new are,B:new lre,h:new ure,H:new cre,K:new dre,k:new hre,m:new fre,s:new pre,S:new gre,X:new mre,x:new vre,t:new yre,T:new _re},wre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ere=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sre=/^'([^]*?)'?$/,Cre=/''/g,Tre=/\S/,Ire=/[a-zA-Z]/;function i$(n,e,t,r){var s,i,o,a,l,u,d,h,f,g,b,y,_,v,E,w,S,O;Re(3,arguments);var x=String(n),I=String(e),T=Ed(),P=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:T.locale)!==null&&s!==void 0?s:XM;if(!P.match)throw new RangeError("locale must contain match property");var A=jt((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&a!==void 0?a:(f=T.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=jt((b=(y=(_=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(E=r.locale)===null||E===void 0||(w=E.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&_!==void 0?_:T.weekStartsOn)!==null&&y!==void 0?y:(S=T.locale)===null||S===void 0||(O=S.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&b!==void 0?b:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(I==="")return x===""?Le(t):new Date(NaN);var M={firstWeekContainsDate:A,weekStartsOn:k,locale:P},N=[new $ne],W=I.match(Ere).map(function(ge){var te=ge[0];if(te in Gw){var le=Gw[te];return le(ge,P.formatLong)}return ge}).join("").match(wre),q=[],K=Kx(W),ee;try{var V=function(){var te=ee.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&qM(te)&&pv(te,I,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&YM(te)&&pv(te,I,n);var le=te[0],ft=bre[le];if(ft){var Ot=ft.incompatibleTokens;if(Array.isArray(Ot)){var nn=q.find(function(yn){return Ot.includes(yn.token)||yn.token===le});if(nn)throw new RangeError("The format string mustn't contain `".concat(nn.fullToken,"` and `").concat(te,"` at the same time"))}else if(ft.incompatibleTokens==="*"&&q.length>0)throw new RangeError("The format string mustn't contain `".concat(te,"` and any other token at the same time"));q.push({token:le,fullToken:te});var yt=ft.run(x,te,P.match,M);if(!yt)return{v:new Date(NaN)};N.push(yt.setter),x=yt.rest}else{if(le.match(Ire))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");if(te==="''"?te="'":le==="'"&&(te=Ore(te)),x.indexOf(te)===0)x=x.slice(te.length);else return{v:new Date(NaN)}}};for(K.s();!(ee=K.n()).done;){var z=V();if(lo(z)==="object")return z.v}}catch(ge){K.e(ge)}finally{K.f()}if(x.length>0&&Tre.test(x))return new Date(NaN);var B=N.map(function(ge){return ge.priority}).sort(function(ge,te){return te-ge}).filter(function(ge,te,le){return le.indexOf(ge)===te}).map(function(ge){return N.filter(function(te){return te.priority===ge}).sort(function(te,le){return le.subPriority-te.subPriority})}).map(function(ge){return ge[0]}),oe=Le(t);if(isNaN(oe.getTime()))return new Date(NaN);var ne=HM(oe,BM(oe)),re={},he=Kx(B),be;try{for(he.s();!(be=he.n()).done;){var ye=be.value;if(!ye.validate(ne,M))return new Date(NaN);var me=ye.set(ne,re,M);Array.isArray(me)?(ne=me[0],One(re,me[1])):ne=me}}catch(ge){he.e(ge)}finally{he.f()}return ne}function Ore(n){return n.match(Sre)[1].replace(Cre,"'")}function Wx(n){Re(1,arguments);var e=Le(n);return e.setMilliseconds(0),e}function Gx(n,e){Re(2,arguments);var t=Wx(n),r=Wx(e);return t.getTime()===r.getTime()}function Pre(n,e){Re(2,arguments);var t=Le(n).getTime(),r=Le(e.start).getTime(),s=Le(e.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return t>=r&&t<=s}function Qs(n,e){var t;Re(1,arguments);var r=jt((t=void 0)!==null&&t!==void 0?t:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var s=Dre(n),i;if(s.date){var o=kre(s.date,r);i=Nre(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),l=0,u;if(s.time&&(l=Lre(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(u=Mre(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(a+l+u)}var Og={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},xre=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Rre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Are=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dre(n){var e={},t=n.split(Og.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Og.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Og.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var s=Og.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function kre(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function Nre(n,e){if(e===null)return new Date(NaN);var t=n.match(xre);if(!t)return new Date(NaN);var r=!!t[4],s=Jd(t[1]),i=Jd(t[2])-1,o=Jd(t[3]),a=Jd(t[4]),l=Jd(t[5])-1;if(r)return Ure(e,a,l)?$re(e,a,l):new Date(NaN);var u=new Date(0);return!jre(e,i,o)||!Vre(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,o)),u)}function Jd(n){return n?parseInt(n):1}function Lre(n){var e=n.match(Rre);if(!e)return NaN;var t=Db(e[1]),r=Db(e[2]),s=Db(e[3]);return Bre(t,r,s)?t*yC+r*vC+s*1e3:NaN}function Db(n){return n&&parseFloat(n.replace(",","."))||0}function Mre(n){if(n==="Z")return 0;var e=n.match(Are);if(!e)return 0;var t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Hre(r,s)?t*(r*yC+s*vC):NaN}function $re(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var Fre=[31,null,31,30,31,30,31,31,30,31,30,31];function o$(n){return n%400===0||n%4===0&&n%100!==0}function jre(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(Fre[e]||(o$(n)?29:28))}function Vre(n,e){return e>=1&&e<=(o$(n)?366:365)}function Ure(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Bre(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Hre(n,e){return e>=0&&e<=59}function Dl(n,e){Re(2,arguments);var t=Le(n),r=jt(e),s=t.getFullYear(),i=t.getDate(),o=new Date(0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);var a=QM(o);return t.setMonth(r,Math.min(i,a)),t}function a$(n,e){if(Re(2,arguments),lo(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=Le(n);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Dl(t,e.month)),e.date!=null&&t.setDate(jt(e.date)),e.hours!=null&&t.setHours(jt(e.hours)),e.minutes!=null&&t.setMinutes(jt(e.minutes)),e.seconds!=null&&t.setSeconds(jt(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(jt(e.milliseconds)),t)}function Yw(n,e){Re(2,arguments);var t=Le(n),r=jt(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function zre(n,e){Re(2,arguments);var t=jt(e);return Da(n,-t)}function Kre(n,e){Re(2,arguments);var t=jt(e);return fv(n,-t)}function Wre(n,e,t){Re(2,arguments);var r=Yo(n,t),s=Yo(e,t);return r.getTime()===s.getTime()}var Gre={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},Yre=function(e,t,r){var s,i=Gre[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?s+"":s+"":s},qre={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},Xre={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},Qre={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Zre={date:Oc({formats:qre,defaultWidth:"full"}),time:Oc({formats:Xre,defaultWidth:"full"}),dateTime:Oc({formats:Qre,defaultWidth:"full"})};function Yx(n,e,t){var r="eeee p";return Wre(n,e,t)?r:n.getTime()>e.getTime()?"''"+r:"''"+r}var Jre={lastWeek:Yx,yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:Yx,other:"PP p"},ese=function(e,t,r,s){var i=Jre[e];return typeof i=="function"?i(t,r,s):i},tse={narrow:["",""],abbreviated:["",""],wide:["",""]},nse={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},rse={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},sse={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},ise={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},ose={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},ase=function(e,t){var r=Number(e);switch(t==null?void 0:t.unit){case"date":return r.toString()+"";case"hour":return r.toString()+"";case"minute":return r.toString()+"";case"second":return r.toString()+"";default:return" "+r.toString()}},lse={ordinalNumber:ase,era:Ui({values:tse,defaultWidth:"wide"}),quarter:Ui({values:nse,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ui({values:rse,defaultWidth:"wide"}),day:Ui({values:sse,defaultWidth:"wide"}),dayPeriod:Ui({values:ise,defaultWidth:"wide",formattingValues:ose,defaultFormattingWidth:"wide"})},use=/^(\s*)?\d+(|||)?/i,cse=/\d+/i,dse={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},hse={any:[/^()/i,/^()/i]},fse={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},pse={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},gse={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},mse={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},vse={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},yse={any:[//i,//i,//i,//i,//i,//i,//i]},_se={any:/^(?|?||[]|?||?||)/i},bse={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},wse={ordinalNumber:UM({matchPattern:use,parsePattern:cse,valueCallback:function(e){return parseInt(e,10)}}),era:Bi({matchPatterns:dse,defaultMatchWidth:"wide",parsePatterns:hse,defaultParseWidth:"any"}),quarter:Bi({matchPatterns:fse,defaultMatchWidth:"wide",parsePatterns:pse,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Bi({matchPatterns:gse,defaultMatchWidth:"wide",parsePatterns:mse,defaultParseWidth:"any"}),day:Bi({matchPatterns:vse,defaultMatchWidth:"wide",parsePatterns:yse,defaultParseWidth:"any"}),dayPeriod:Bi({matchPatterns:_se,defaultMatchWidth:"any",parsePatterns:bse,defaultParseWidth:"any"})},SC={code:"zh-CN",formatDistance:Yre,formatLong:Zre,formatRelative:ese,localize:lse,match:wse,options:{weekStartsOn:1,firstWeekContainsDate:4}};const qx={code:"zh-CN",dateFnsLocale:SC,Pagination:{pageSize:"${pageSize}",total:"${total}",jumpTo:"",page:""},Modal:{confirm:"",cancel:""},Tabs:{more:""},TimePicker:{placeholder:{time:"",timeRange:""},begin:"",end:"",hour:"",minute:"",second:"",AM:"",PM:""},DatePicker:{placeholder:{date:"",dateTime:"",dateRange:["",""],dateTimeRange:["",""],monthRange:["",""]},presets:"",footer:{confirm:"",cancel:""},selectDate:"",selectTime:"",year:"",month:"",day:"",monthText:"${year} ${month}",months:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",Sun:""},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"",expandText:""},Popconfirm:{confirm:"",cancel:""},Table:{emptyText:"",pageText:" ${currentStart} - ${currentEnd}  ${total} ",descend:"",ascend:"",cancelSort:""},Select:{emptyText:"",createText:""},Cascader:{emptyText:""},Tree:{emptyText:"",searchPlaceholder:""},List:{emptyText:""},Calendar:{allDay:"",AM:"${time}",PM:"${time}",datestring:"",remaining:"${remained}"},Upload:{mainText:"",illegalTips:"",legalTips:"",retry:"",replace:"",clear:"",selectedFiles:"",illegalSize:"",fail:""},TreeSelect:{searchPlaceholder:""},Typography:{copy:"",copied:"",expand:"",collapse:""},Transfer:{emptyLeft:"",emptySearch:"",emptyRight:"",placeholder:"",clear:"",selectAll:"",clearSelectAll:"",total:"${total}",selected:"${total}"},Form:{optional:""},Image:{preview:"",loading:"",loadError:"",prevTip:"",nextTip:"",zoomInTip:"",zoomOutTip:"",rotateTip:"",downloadTip:"",adaptiveTip:"",originTip:""},Chat:{deleteConfirm:"",clearContext:"",copySuccess:"",stop:"",copy:"",copied:"",dropAreaText:""}};class Pn extends D.Component{renderChildren(e,t){const{componentName:r}=this.props;let s=e;e!=null&&e.code||(s=qx);const i=Z(qx,"dateFnsLocale"),o=Z(s,"dateFnsLocale",i);return t(s[r],s.code,o)}render(){const{children:e}=this.props;return m.createElement(Vr.Consumer,null,t=>{let{locale:r}=t;return m.createElement(Pte.Consumer,null,s=>this.renderChildren(r||s,e))})}}Pn.propTypes={componentName:c.string.isRequired,children:c.any};Pn.defaultProps={componentName:""};const Ese="semi";var Sse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const l$=m.forwardRef((n,e)=>{const{svg:t,spin:r=!1,rotate:s,style:i,className:o,prefixCls:a=Ese,type:l,size:u="default"}=n,d=Sse(n,["svg","spin","rotate","style","className","prefixCls","type","size"]),h=$(`${a}-icon`,{[`${a}-icon-extra-small`]:u==="extra-small",[`${a}-icon-small`]:u==="small",[`${a}-icon-default`]:u==="default",[`${a}-icon-large`]:u==="large",[`${a}-icon-extra-large`]:u==="extra-large",[`${a}-icon-spinning`]:r===!0,[`${a}-icon-${l}`]:!!l},o),f={};return Number.isSafeInteger(s)&&(f.transform=`rotate(${s}deg)`),Object.assign(f,i),m.createElement("span",Object.assign({role:"img",ref:e,"aria-label":l,className:h,style:f},d),t)});l$.elementType="Icon";const ht=(n,e)=>{const t=m.forwardRef((r,s)=>m.createElement(l$,Object.assign({svg:m.createElement(n),type:e,ref:s},r)));return t.elementType="Icon",t};function Cse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z",fill:"currentColor"}))}const Sf=ht(Cse,"alert_circle");function Tse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.23 2.4-8.7 16.67A2 2 0 0 0 3.3 22h17.4a2 2 0 0 0 1.77-2.93L13.77 2.4a2 2 0 0 0-3.54 0ZM13.14 14a1.15 1.15 0 0 1-2.28 0l-.58-4.03a1.73 1.73 0 1 1 3.44 0l-.58 4.03Zm.36 4.49a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const CC=ht(Tse,"alert_triangle");function Ise(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20V8h16v12H4ZM2 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm4 6.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2ZM11 15a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Z",fill:"currentColor"}))}const u$=ht(Ise,"calendar");function Ose(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M2 5v14a3 3 0 0 0 3 3h7.1a7.02 7.02 0 0 1-1.43-2H6a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2.67c.75.36 1.43.85 2 1.43V5a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3Z",fill:"currentColor"}),D.createElement("path",{d:"M16 10h1c-.54 0-1.06.06-1.57.18A1 1 0 0 1 16 10Z",fill:"currentColor"}),D.createElement("path",{d:"M13.5 10.94a1 1 0 0 0-1-.94h-1a1 1 0 0 0-1 1v1a1 1 0 0 0 .77.97 7.03 7.03 0 0 1 2.23-2.03Z",fill:"currentColor"}),D.createElement("path",{d:"M7 10a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H7Z",fill:"currentColor"}),D.createElement("path",{d:"M6 16a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-1Z",fill:"currentColor"}),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-4-2a1 1 0 1 0-2 0v2c0 .27.1.52.3.7l1.5 1.5a1 1 0 0 0 1.4-1.4L18 16.58V15Z",fill:"currentColor"}))}const Pse=ht(Ose,"calendar_clock");function xse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M5 12.5c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 5 12.5Z",fill:"currentColor"}))}const Rse=ht(xse,"checkbox_indeterminate");function Ase(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.41 7.3c.66.51.78 1.45.28 2.11l-6.5 8.5a1.5 1.5 0 0 1-2.37.01l-3.5-4.5a1.5 1.5 0 1 1 2.36-1.84L10 14.54l5.32-6.95a1.5 1.5 0 0 1 2.1-.28Z",fill:"currentColor"}))}const Dse=ht(Ase,"checkbox_tick");function kse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08 7.6a1.5 1.5 0 0 1 2.12 0l5.66 5.65 5.66-5.65a1.5 1.5 0 1 1 2.12 2.12l-6.72 6.72a1.5 1.5 0 0 1-2.12 0L4.08 9.72a1.5 1.5 0 0 1 0-2.12Z",fill:"currentColor"}))}const $y=ht(kse,"chevron_down");function Nse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.28 4.24a1.5 1.5 0 0 1 0 2.12l-5.66 5.66 5.66 5.65a1.5 1.5 0 1 1-2.12 2.13l-6.72-6.72a1.5 1.5 0 0 1 0-2.12l6.72-6.72a1.5 1.5 0 0 1 2.12 0Z",fill:"currentColor"}))}const c$=ht(Nse,"chevron_left");function Lse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.44 19.8a1.5 1.5 0 0 1 0-2.13l5.66-5.65-5.66-5.66a1.5 1.5 0 1 1 2.12-2.12l6.72 6.72a1.5 1.5 0 0 1 0 2.12L9.56 19.8a1.5 1.5 0 0 1-2.12 0Z",fill:"currentColor"}))}const d$=ht(Lse,"chevron_right");function Mse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.64 16.44a1.5 1.5 0 0 1-2.12 0l-5.66-5.66-5.66 5.66a1.5 1.5 0 1 1-2.12-2.12L10.8 7.6a1.5 1.5 0 0 1 2.12 0l6.72 6.72a1.5 1.5 0 0 1 0 2.12Z",fill:"currentColor"}))}const $se=ht(Mse,"chevron_up");function Fse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.04-6.14a1.5 1.5 0 0 1-2.13.04l-2.87-2.78L9.26 17A1.5 1.5 0 0 1 7.1 14.9l2.78-2.87L7 9.26A1.5 1.5 0 1 1 9.1 7.1l2.87 2.78L14.74 7A1.5 1.5 0 0 1 16.9 9.1l-2.78 2.87L17 14.74c.6.58.61 1.53.04 2.12Z",fill:"currentColor"}))}const dl=ht(Fse,"clear");function jse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm1.5-16.5v4.88l3.56 3.56a1.5 1.5 0 0 1-2.12 2.12l-4-4A1.5 1.5 0 0 1 10.5 12V6.5a1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const h$=ht(jse,"clock");function Vse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M17.66 19.78a1.5 1.5 0 0 0 2.12-2.12L14.12 12l5.66-5.66a1.5 1.5 0 0 0-2.12-2.12L12 9.88 6.34 4.22a1.5 1.5 0 1 0-2.12 2.12L9.88 12l-5.66 5.66a1.5 1.5 0 0 0 2.12 2.12L12 14.12l5.66 5.66Z",fill:"currentColor"}))}const Fy=ht(Vse,"close");function Use(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M7 4c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-1V8c0-2-1-3-3-3H7V4Z",fill:"currentColor"}),D.createElement("path",{d:"M5 7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H5Z",fill:"currentColor"}))}const Bse=ht(Use,"copy");function Hse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.62 4.4c.5.53.5 1.38 0 1.91L7.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.33.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.62 4.4c.5.53.5 1.38 0 1.91L14.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.34.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}))}const zse=ht(Hse,"double_chevron_left");function Kse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.38 4.4c.51-.53 1.34-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L9.86 12 4.38 6.31a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.38 4.4c.51-.53 1.33-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L16.86 12l-5.48-5.69a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}))}const Wse=ht(Kse,"double_chevron_right");function Gse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7 3.7a1 1 0 0 0-1.4-1.4L17.3 5.26A11.59 11.59 0 0 0 12 4C5 4 1 10 1 12c0 1.18 1.38 3.73 3.94 5.64L2.3 20.3a1 1 0 1 0 1.42 1.42l18-18ZM7.84 14.77l1.46-1.47a3 3 0 0 1 4-4l1.47-1.46a5 5 0 0 0-6.93 6.93Z",fill:"currentColor"}),D.createElement("path",{d:"M12 20c-1.22 0-2.35-.18-3.38-.5l2.57-2.57a5 5 0 0 0 5.75-5.75l3.56-3.56C22.13 9.27 23 11.07 23 12c0 2-4 8-11 8Z",fill:"currentColor"}))}const Yse=ht(Gse,"eye_closed_solid");function qse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12s4 8 11 8 11-6 11-8-4-8-11-8Zm5 8a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-5 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",fill:"currentColor"}))}const Xse=ht(qse,"eye_opened");function Qse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a1 1 0 0 0-1-1H6a2 2 0 0 0-2 2v18c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V10a1 1 0 0 0-1-1h-5a2 2 0 0 1-2-2V2ZM7 8a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H8a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm1 4a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2H8Zm11.07-9.5H14.5a1 1 0 0 1-1-1V1.93a.8.8 0 0 1 1.37-.56l4.76 4.76a.8.8 0 0 1-.56 1.37Z",fill:"currentColor"}))}const qw=ht(Qse,"file");function Zse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M5 2a3 3 0 0 0-3 3v3h20c0-2-1-4-3-4h-6.45a3 3 0 0 1-1.87-.66l-1.13-.9A2 2 0 0 0 8.3 2H5Z",fill:"currentColor"}),D.createElement("path",{d:"M22 10H2v9a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-9Z",fill:"currentColor"}))}const Jse=ht(Zse,"folder");function eie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h3.3a2 2 0 0 1 1.25.44l1.13.9a3 3 0 0 0 1.87.66H18c2 0 3 2 3 4H7.53A2 2 0 0 0 5.6 9.48L2.57 20.76C2.21 20.26 2 19.66 2 19V5Zm20.17 5H9.5a2 2 0 0 0-1.92 1.44l-2.7 9.28A1 1 0 0 0 5.82 22H18.5a2 2 0 0 0 1.92-1.44l2.7-9.28a1 1 0 0 0-.95-1.28Z",fill:"currentColor"}))}const tie=ht(eie,"folder_open");function nie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M9 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),D.createElement("path",{d:"M9 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),D.createElement("path",{d:"M11 19a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),D.createElement("path",{d:"M15 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),D.createElement("path",{d:"M17 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),D.createElement("path",{d:"M15 21a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}))}const rie=ht(nie,"handle");function sie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm-.17-8.4c-.86 0-1.3-.53-1.3-1.23 0-1.05.53-1.72 1.74-2.64l.06-.05c.83-.62 1.4-1.06 1.4-1.85 0-.9-.83-1.4-1.76-1.4-.76 0-1.34.28-1.8.87-.33.34-.6.53-1.05.53C8.38 8.83 8 8.3 8 7.7c0-.6.34-1.22.88-1.68A5.15 5.15 0 0 1 12.28 5c2.71 0 4.62 1.34 4.62 3.64 0 1.68-1 2.5-2.2 3.31-.8.59-1.17.93-1.48 1.62-.33.6-.58 1.04-1.4 1.04Zm-.02 4.17c-.94 0-1.71-.6-1.71-1.54 0-.94.77-1.55 1.7-1.55.95 0 1.7.6 1.7 1.55 0 .93-.75 1.54-1.7 1.54Z",fill:"currentColor"}))}const iie=ht(sie,"help_circle");function oie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm2-16a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-5 3.75c0-.41.34-.75.75-.75h2.75a1 1 0 0 1 1 1v5.5h.75a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h.75v-5h-.75a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}const f$=ht(oie,"info_circle");function aie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))}const lie=ht(aie,"radio");function uie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 12a7.5 7.5 0 0 1 13.8-4.07l-2-.4a1.5 1.5 0 0 0-.6 2.94l5 1c.76.15 1.51-.3 1.74-1.04l1.5-5a1.5 1.5 0 1 0-2.88-.86l-.43 1.45A10.49 10.49 0 0 0 1.5 12a10.5 10.5 0 0 0 20.4 3.5 1.5 1.5 0 1 0-2.83-1A7.5 7.5 0 0 1 4.5 12Z",fill:"currentColor"}))}const cie=ht(uie,"refresh");function die(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2a8.5 8.5 0 1 0 4.86 15.48l4.08 4.08a1.5 1.5 0 1 0 2.12-2.12l-4.08-4.08A8.5 8.5 0 0 0 10.5 2ZM5 10.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0Z",fill:"currentColor"}))}const p$=ht(die,"search");function hie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M10.75 1.9c.4-1.2 2.1-1.2 2.5 0l1.99 6.12h6.45a1.3 1.3 0 0 1 .77 2.37l-5.22 3.78 2 6.11c.39 1.2-1 2.2-2.02 1.46L12 17.96l-5.22 3.78c-1.02.75-2.4-.25-2.01-1.46l1.99-6.11-5.22-3.78a1.3 1.3 0 0 1 .77-2.37h6.45l2-6.12Z",fill:"currentColor"}))}const fie=ht(hie,"star");function pie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.35 4.27c.68.47.86 1.4.38 2.08l-10 14.5a1.5 1.5 0 0 1-2.33.17l-6.5-7a1.5 1.5 0 0 1 2.2-2.04l5.23 5.63 8.94-12.96a1.5 1.5 0 0 1 2.08-.38Z",fill:"currentColor"}))}const jy=ht(pie,"tick");function gie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.88-13.18-6.2 7.6a1.5 1.5 0 0 1-2.37 0l-3.5-4a1.5 1.5 0 1 1 2.37-1.84l2.3 2.46L15.5 8a1.5 1.5 0 1 1 2.38 1.82Z",fill:"currentColor"}))}const g$=ht(gie,"tick_circle");function mie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"m20.56 9.66-7.8 8.97a1 1 0 0 1-1.51 0L3.44 9.66A1 1 0 0 1 4.19 8h15.62a1 1 0 0 1 .75 1.66Z",fill:"currentColor"}))}const vie=ht(mie,"tree_triangle_down");function yie(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.84 8.06A6.5 6.5 0 1 0 5.18 11 4.5 4.5 0 0 0 5.5 20H17a6 6 0 0 0 .84-11.94Zm-5.52.2a.5.5 0 0 0-.64 0l-5.15 4.3a.25.25 0 0 0 .16.44H10v4.5c0 .28.22.5.5.5h3a.5.5 0 0 0 .5-.5V13h3.31c.23 0 .34-.3.16-.44l-5.15-4.3Z",fill:"currentColor"}))}const _ie=ht(yie,"upload"),Yn={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229},TC="Enter",m$="Escape";function ti(n){return Z(n,"key")===TC}const kb=Ay.PREFIX;class IC extends m.PureComponent{constructor(e){super(e),this.copy=t=>{const{content:r,duration:s,onCopy:i}=this.props,o=Ote(r);i&&i(t,r,o),this.setCopied(r,s)},this.setCopied=(t,r)=>{this.setState({copied:!0,item:t}),this._timeId=setTimeout(()=>{this.resetCopied()},r*1e3)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:t}=this.props;return typeof t<"u"?t:m.createElement(Pn,{componentName:"Typography"},r=>m.createElement("span",null,m.createElement(jy,null),r.copied))},this.renderCopyIcon=()=>{const{icon:t}=this.props,r={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:i=>ti(i)&&this.copy(i)},s=m.createElement("a",{className:`${kb}-action-copy-icon`},m.createElement(Bse,Object.assign({onClick:this.copy},r)));return m.isValidElement(t)?m.cloneElement(t,r):s},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:r,copyTip:s,render:i}=this.props,{copied:o}=this.state,a=$(t,{[`${kb}-action-copy`]:!o,[`${kb}-action-copied`]:o});return i?i(o,this.copy,this.props):m.createElement(Pn,{componentName:"Typography"},l=>m.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:a,ref:r},o?this.renderSuccessTip():m.createElement(Ir,{content:typeof s<"u"?s:l.copy},this.renderCopyIcon())))}}IC.propTypes={content:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node,duration:c.number,style:c.object,className:c.string,icon:c.node};IC.defaultProps={content:"",onCopy:Dt,duration:3,style:{},className:""};const v$={PREFIX:`${G}-popover`,ARROW:`${G}-popover-icon-arrow`},Hl={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},Ss={ARROW_BOUNDING:Object.assign(Object.assign({},Sl.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030};var bie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const y$=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{position:e="",className:t,arrowStyle:r,popStyle:s}=n,i=bie(n,["position","className","arrowStyle","popStyle"]),o=e.indexOf("top")===0||e.indexOf("bottom")===0,a=$(t,v$.ARROW),l=Z(r,"borderOpacity",Hl.DEFAULT_ARROW_STYLE.borderOpacity),u=Z(r,"backgroundColor",Z(s,"backgroundColor",Hl.DEFAULT_ARROW_STYLE.backgroundColor)),d=Z(r,"borderColor",Z(s,"borderColor",Hl.DEFAULT_ARROW_STYLE.borderColor)),h=Object.assign(Object.assign({},i),{width:Ss.ARROW_BOUNDING.width,height:Ss.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:a});return o?m.createElement("svg",Object.assign({},h),m.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:d,opacity:l}),m.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:u})):m.createElement("svg",Object.assign({},h),m.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:d,opacity:l}),m.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:u}))};y$.propTypes={position:c.string,className:c.string,arrowStyle:c.object,popStyle:c.object};var wie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Eie=Hl.POSITION_SET,Sie=Hl.TRIGGER_SET;class xr extends m.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var t;(t=this.tooltipRef.current)===null||t===void 0||t.focusTrigger()},this.renderPopCard=t=>{let{initialFocusRef:r}=t;const{content:s,contentClassName:i,prefixCls:o}=this.props,{direction:a}=this.context,l=$(o,i,{[`${o}-rtl`]:a==="rtl"}),u=this.renderContentNode({initialFocusRef:r,content:s});return m.createElement("div",{className:l},m.createElement("div",{className:`${o}-content`},u))},this.renderContentNode=t=>{const{initialFocusRef:r,content:s}=t,i={initialFocusRef:r};return De(s)?s(i):s},this.tooltipRef=m.createRef()}render(){const e=this.props,{children:t,prefixCls:r,showArrow:s,arrowStyle:i={},arrowBounding:o,position:a,style:l,trigger:u}=e,d=wie(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:h}=this.props;const f={position:a,className:"",popStyle:l,arrowStyle:i},g=s?m.createElement(y$,Object.assign({},f)):!1;St(h)&&(h=s?Ss.SPACING_WITH_ARROW:Ss.SPACING);const b=u==="click"||u==="custom"?"dialog":"tooltip";return m.createElement(Ir,Object.assign({guardFocus:!0,ref:this.tooltipRef},d,{trigger:u,position:a,style:l,content:this.renderPopCard,prefixCls:r,spacing:h,showArrow:g,arrowBounding:o,role:b}),t)}}xr.contextType=Vr;xr.propTypes={children:c.node,content:c.oneOfType([c.node,c.func]),visible:c.bool,autoAdjustOverflow:c.bool,motion:c.bool,position:c.oneOf(Eie),margin:c.oneOfType([c.number,c.object]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(Sie).isRequired,contentClassName:c.oneOfType([c.string,c.array]),onVisibleChange:c.func,onClickOutSide:c.func,style:c.object,spacing:c.oneOfType([c.number,c.object]),zIndex:c.number,showArrow:c.bool,arrowStyle:c.shape({borderColor:c.string,backgroundColor:c.string,borderOpacity:c.oneOfType([c.string,c.number])}),arrowPointAtCenter:c.bool,arrowBounding:c.object,prefixCls:c.string,guardFocus:c.bool,disableArrowKeyDown:c.bool};xr.__SemiComponentName__="Popover";xr.defaultProps=Ps(xr.__SemiComponentName__,{arrowBounding:Ss.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:Ss.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:v$.PREFIX,onClickOutSide:j,onEscKeyDown:j,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});let Zt;function Nb(n){if(!n)return 0;const e=n.match(/^\d*(\.\d*)?/);return e?Number(e[0]):0}function Cie(n){return Array.prototype.slice.apply(n).map(t=>`${t}: ${n.getPropertyValue(t)};`).join("")}const Tie=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;if(t.length===0)return"";Zt||(Zt=document.createElement("div"),Zt.setAttribute("aria-hidden","true"),document.body.appendChild(Zt));const l=window.getComputedStyle(n),u=Cie(l),d=Nb(l.lineHeight),h=Math.round(d*(e+1)+Nb(l.paddingTop)+Nb(l.paddingBottom));Zt.setAttribute("style",u),Zt.style.position="fixed",Zt.style.left="0",l.getPropertyValue("width")==="auto"&&(Zt.style.width=`${n.offsetWidth}px`),Zt.style.height="auto",Zt.style.top="-999999px",Zt.style.zIndex="-1000",a&&(Zt.style.fontWeight="600"),Zt.style.textOverflow="clip",Zt.style.webkitLineClamp="none",Mr.render(m.createElement(m.Fragment,null),Zt);function f(){const w=Zt.scrollWidth<=Zt.offsetWidth,S=Zt.scrollHeight<h;return e===1?w&&S:S}const g=document.createElement("span"),b=document.createTextNode(t);if(g.appendChild(b),i.length>0){const w=document.createTextNode(i);g.appendChild(w)}Zt.appendChild(g),Object.values(cl(r,"expand")).map(w=>w&&Zt.appendChild(w.cloneNode(!0)));function y(){Zt.innerHTML="",Zt.appendChild(g),Object.values(r).map(w=>w&&Zt.appendChild(w.cloneNode(!0)))}function _(w,S){const O=w.length;return S?o==="end"?w.slice(0,S)+s:w.slice(0,S)+s+w.slice(O-S,O):s}function v(w,S){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S.length,I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const T=Math.floor((O+x)/2),P=_(S,T);if(w.textContent=P,O>=x-1&&x>0)for(let A=x;A>=O;A-=1){const k=_(S,A);if(w.textContent=k,f())return k}else if(x===0)return s;return f()?v(w,S,T,x,T):v(w,S,O,T,I)}let E=t;return f()||(y(),E=v(b,t,0,o==="middle"?Math.floor(t.length/2):t.length)),Zt.innerHTML="",E},_$=m.createContext("normal");var _v;(function(n){n.Width="width",n.Height="height",n.All="all"})(_v||(_v={}));class za extends xe{constructor(e){var t;super(e),t=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return Ws.findDOMNode(this.childNode||this)}catch{return null}},this.handleResizeEventTriggered=r=>{var s,i,o,a;if(this.props.observerProperty===_v.All)(i=(s=this.props).onResize)===null||i===void 0||i.call(s,r);else{const l=[];for(const u of r)this.formerPropertyValue.has(u.target)?u.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(u.target)&&(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u)):(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u));l.length>0&&((a=(o=this.props).onResize)===null||a===void 0||a.call(o,l))}},this.observeElement=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const s=t.getElement();if(t.observer||(t.observer=new ResizeObserver(t.handleResizeEventTriggered)),!(s&&s instanceof Element)){t.observer.disconnect();return}s===t.element&&!r||(t.observer.disconnect(),t.element=s,t.observer.observe(s),t.props.observeParent&&s.parentNode&&s.parentNode.ownerDocument&&s.parentNode.ownerDocument.defaultView&&s.parentNode instanceof s.parentNode.ownerDocument.defaultView.HTMLElement&&(t._parentNode=s.parentNode,t.observer.observe(t._parentNode)))},this.mergeRef=(r,s)=>{this.childNode=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;(e=this.observeElement)===null||e===void 0||e.call(this)}componentDidUpdate(e){var t;(t=this.observeElement)===null||t===void 0||t.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){const e=m.Children.only(this.props.children),{ref:t}=e;return m.cloneElement(e,{ref:r=>this.mergeRef(t,r)})}}za.propTypes={onResize:c.func,observeParent:c.bool,observerProperty:c.string,delayTick:c.number};za.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0};var Lb=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},Iie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const zn=Ay.PREFIX,Oie="...",Pie=(n,e)=>{const{mark:t,code:r,underline:s,strong:i,link:o,disabled:a}=n;let l=e;const u=(d,h)=>{let f={};d&&(typeof d=="object"&&(f=Object.assign({},d)),l=m.createElement(h,f,l))};return u(t,"mark"),u(r,"code"),u(s&&!o,"u"),u(i,"strong"),u(n.delete,"del"),u(o,a?"span":"a"),l};class Cu extends D.Component{constructor(e){super(e),this.observerTakingEffect=!1,this.onResize=t=>Lb(this,void 0,void 0,function*(){return this.rafId&&window.cancelAnimationFrame(this.rafId),new Promise(r=>{this.rafId=window.requestAnimationFrame(()=>Lb(this,void 0,void 0,function*(){yield this.getEllipsisState(),r()}))})}),this.canUseCSSEllipsis=()=>{const{copyable:t}=this.props,{expandable:r,expandText:s,pos:i,suffix:o}=this.getEllipsisOpt();return!r&&Ct(s)&&!t&&i==="end"&&!o.length},this.shouldTruncated=t=>!t||t<1?!1:t<=1?this.compareSingleRow():this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight,this.compareSingleRow=()=>{if(!(document&&document.createRange))return!1;const t=this.wrapperRef.current,r=t.getBoundingClientRect().width,s=Array.from(t.childNodes),i=document.createRange(),o=s.reduce((a,l)=>{var u;return i.selectNodeContents(l),a+((u=i.getBoundingClientRect().width)!==null&&u!==void 0?u:0)},0);return i.detach(),o>r},this.showTooltip=()=>{var t,r;const{isOverflowed:s,isTruncated:i,expanded:o}=this.state,{showTooltip:a,expandable:l,expandText:u}=this.getEllipsisOpt(),d=this.canUseCSSEllipsis(),h=!o&&(d?s:i),g=!l&&Ct(u)&&h&&a;if(!g)return g;const b={type:"tooltip"};return typeof a=="object"?a.type&&a.type.toLowerCase()==="popover"?oq({opts:{showArrow:!0}},a,{opts:{className:$({[`${zn}-ellipsis-popover`]:!0,[(t=a==null?void 0:a.opts)===null||t===void 0?void 0:t.className]:!!(!((r=a==null?void 0:a.opts)===null||r===void 0)&&r.className)})}}):Object.assign(Object.assign({},b),a):b},this.onHover=()=>{if(this.canUseCSSEllipsis()){const{rows:r,suffix:s,pos:i}=this.getEllipsisOpt(),o=this.shouldTruncated(r);this.setState({isOverflowed:o,isTruncated:!1});return}},this.getEllipsisState=()=>Lb(this,void 0,void 0,function*(){const{rows:t,suffix:r,pos:s}=this.getEllipsisOpt(),{children:i,strong:o}=this.props;if(!this.wrapperRef||!this.wrapperRef.current){yield this.onResize();return}const{expanded:a}=this.state;if(this.canUseCSSEllipsis())return;if(nu(i))return new Promise(f=>{this.setState({isTruncated:!1,isOverflowed:!1},f)});if(qt("children"in this.props&&typeof i!="string","[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!t||t<0||a)return;const u={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},d=Array.isArray(i)?i.join(""):String(i),h=Tie(this.wrapperRef.current,t,d,u,Oie,r,s,o);return new Promise(f=>{this.setState({isOverflowed:!1,ellipsisContent:h,isTruncated:d!==h},f)})}),this.toggleOverflow=t=>{const{onExpand:r,expandable:s,collapsible:i}=this.getEllipsisOpt(),{expanded:o}=this.state;r&&r(!o,t),(s&&!o||i&&o)&&this.setState({expanded:!o})},this.getEllipsisOpt=()=>{const{ellipsis:t}=this.props;return t?Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:t.expandable?this.expandStr:void 0,collapseText:t.collapsible?this.collapseStr:void 0},typeof t=="object"?t:null):{}},this.renderExpandable=()=>{const{expanded:t,isTruncated:r}=this.state;if(!r)return null;const{expandText:s,expandable:i,collapseText:o,collapsible:a}=this.getEllipsisOpt(),l=!i&&Ct(s),u=!a&&Ct(o);let d;return!t&&!l?d=s:t&&!u&&(d=o),!l||!u?m.createElement("a",{role:"button",tabIndex:0,className:`${zn}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":d,onClick:this.toggleOverflow,onKeyPress:h=>ti(h)&&this.toggleOverflow(h)},d):null},this.getEllipsisStyle=()=>{const{ellipsis:t,component:r}=this.props;if(!t)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:s}=this.getEllipsisOpt(),{expanded:i}=this.state,o=!i&&this.canUseCSSEllipsis(),a=$({[`${zn}-ellipsis`]:!0,[`${zn}-ellipsis-single-line`]:s===1,[`${zn}-ellipsis-multiple-line`]:s>1,[`${zn}-ellipsis-multiple-line-text`]:s>1&&r==="span",[`${zn}-ellipsis-overflow-ellipsis`]:s===1&&o,[`${zn}-ellipsis-overflow-ellipsis-text`]:s===1&&o&&r==="span"}),l=o&&s>1?{WebkitLineClamp:s}:{};return{ellipsisCls:a,ellipsisStyle:l}},this.renderEllipsisText=t=>{const{suffix:r}=t,{children:s}=this.props,{isTruncated:i,expanded:o,ellipsisContent:a}=this.state;return o||!i?m.createElement("span",{onMouseEnter:this.onHover},s,r&&r.length?r:null):m.createElement("span",{onMouseEnter:this.onHover},a,r)},this.state={editable:!1,copied:!1,isOverflowed:!1,ellipsisContent:e.children,expanded:!1,isTruncated:!1,prevChildren:null},this.wrapperRef=m.createRef(),this.expandRef=m.createRef(),this.copyRef=m.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize().then(()=>gC(()=>this.observerTakingEffect=!0,1))}static getDerivedStateFromProps(e,t){const{prevChildren:r}=t,s={};return s.prevChildren=e.children,e.ellipsis&&r!==e.children&&(s.isOverflowed=!1,s.ellipsisContent=e.children,s.expanded=!1,s.isTruncated=!0),s}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}renderOperations(){return m.createElement(m.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:r}=this.props;if(!t)return null;const s=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:r;let i,o=!1;Array.isArray(s)?(i="",s.forEach(l=>{typeof l=="object"&&(o=!0),i+=String(l)})):(typeof s!="object"||(o=!0),i=String(s)),qt(o,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const a=Object.assign({content:i,duration:3},typeof t=="object"?t:null);return m.createElement(IC,Object.assign({},a,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props,r=t==="inherit"?this.context:t;if(!e)return null;const s=r==="small"?"small":"default";return m.createElement("span",{className:`${zn}-icon`,"x-semi-prop":"icon"},Cr(e)?m.cloneElement(e,{size:s}):e)}renderContent(){const e=this.props,{component:t,children:r,className:s,type:i,spacing:o,disabled:a,style:l,ellipsis:u,icon:d,size:h,link:f,heading:g,weight:b}=e,y=Iie(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),_=cl(y,["strong","editable","mark","copyable","underline","code","delete"]),v=h==="inherit"?this.context:h,E=this.renderIcon(),w=this.getEllipsisOpt(),{ellipsisCls:S,ellipsisStyle:O}=this.getEllipsisStyle();let x=u?this.renderEllipsisText(w):r;const I=$({[`${zn}-link-text`]:f,[`${zn}-link-underline`]:this.props.underline&&f});x=Pie(this.props,m.createElement(m.Fragment,null,E,this.props.link?m.createElement("span",{className:I},x):x));const T=/^h[1-6]$/,P=ke(g)&&T.test(g),A=$(s,S,{[`${zn}-${i}`]:i&&!f,[`${zn}-${v}`]:v,[`${zn}-link`]:f,[`${zn}-disabled`]:a,[`${zn}-${o}`]:o,[`${zn}-${g}`]:P,[`${zn}-${g}-weight-${b}`]:P&&b&&isNaN(Number(b))}),k=Object.assign(Object.assign({},isNaN(Number(b))?{}:{fontWeight:b}),l);return m.createElement(Dy,Object.assign({className:A,style:Object.assign(Object.assign({},k),O),component:t,forwardRef:this.wrapperRef},_),x,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),r=this.renderContent();if(t){const{type:s,opts:i,renderTooltip:o}=t;return De(o)?o(e,r):s.toLowerCase()==="popover"?m.createElement(xr,Object.assign({content:e,position:"top"},i),r):m.createElement(Ir,Object.assign({content:e,position:"top"},i),r)}else return r}render(){var e=this;const{size:t}=this.props,r=t==="inherit"?this.context:t,s=m.createElement(_$.Provider,{value:r},m.createElement(Pn,{componentName:"Typography"},i=>(this.expandStr=i.expand,this.collapseStr=i.collapse,this.renderTipWrapper())));return this.props.ellipsis?m.createElement(za,{onResize:function(){e.observerTakingEffect&&e.onResize(...arguments)},observeParent:!0,observerProperty:_v.Width},s):s}}Cu.propTypes={children:c.node,copyable:c.oneOfType([c.shape({text:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node}),c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.shape({rows:c.number,expandable:c.bool,expandText:c.string,onExpand:c.func,suffix:c.string,showTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),collapsible:c.bool,collapseText:c.string,pos:c.oneOf(["end","middle"])}),c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),spacing:c.oneOf(Tr.SPACING),strong:c.bool,size:c.oneOf(Tr.SIZE),type:c.oneOf(Tr.TYPE),style:c.object,className:c.string,icon:c.oneOfType([c.node,c.string]),heading:c.string,component:c.string};Cu.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""};Cu.contextType=_$;let Vy=class extends D.PureComponent{render(){return m.createElement(Cu,Object.assign({component:"span"},this.props))}};Vy.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(Tr.TYPE),size:c.oneOf(Tr.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string,weight:c.number};Vy.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};var xie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let OC=class extends D.PureComponent{render(){const e=this.props,{heading:t}=e,r=xie(e,["heading"]),s=Tr.HEADING.indexOf(t)!==-1?`h${t}`:"h1";return m.createElement(Cu,Object.assign({component:s,heading:s},r))}};OC.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(Tr.TYPE),heading:c.oneOf(Tr.HEADING),style:c.object,className:c.string,component:c.string,weight:c.oneOfType([c.oneOf(Tr.WEIGHT),c.number])};OC.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};const Rie=Ay.PREFIX;class Uy extends D.PureComponent{render(){const{className:e}=this.props,t=$(e,`${Rie}-paragraph`);return m.createElement(Cu,Object.assign({component:"p"},this.props,{className:t}))}}Uy.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(Tr.TYPE),size:c.oneOf(Tr.SIZE),spacing:c.oneOf(Tr.SPACING),style:c.object,className:c.string,component:c.string};Uy.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};class Aie{constructor(e,t,r,s,i){this.ruleMethods={"bytes-decimal":o=>{const a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let l=0;for(;o>=1e3;)o/=1e3,l++;return`${this.truncatePrecision(o)} ${a[l]}`},"bytes-binary":o=>{const a=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let l=0;for(;o>=1024;)o/=1024,l++;return`${this.truncatePrecision(o)} ${a[l]}`},percentages:o=>`${this.truncatePrecision(o*100)}%`,exponential:o=>{const l=o.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(l[0]))}e${l[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=typeof i<"u",this.content=e,this.rule=t,this.precision=r,this.truncate=s,this.parser=i}format(){return this.isDiyParser?this.parser(this.content):this.rule==="text"?Mb(this.content).map(e=>$b(e)?this.truncatePrecision(e):e).join(""):this.rule==="numbers"?Mb(this.content).filter(e=>$b(e)).map(e=>this.truncatePrecision(e)).join(","):Mb(this.content).map(e=>$b(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=t.toString().split(".");if(r.length===1)return t.toFixed(this.precision);const s=r[1].length;return s<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-s)}`:t.toString()}}function Mb(n){const e=/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g;return n.match(e)||[]}function $b(n){return!(isNaN(Number(n))||n.replace(/\s+/g,"")==="")}class PC extends D.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),e=e.map(t=>typeof t=="string"||typeof t=="number"?new Aie(String(t),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():typeof t=="function"?this.formatNodeDFS(t()):typeof t=="object"&&"children"in t.props?Object.assign(Object.assign({},t),{props:Object.assign(Object.assign({},t.props),{children:this.formatNodeDFS(t.props.children)})}):t),e.length===1?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),m.createElement(Cu,Object.assign({component:"span"},e))}}PC.propTypes={rule:c.oneOf(Tr.RULE),precision:c.number,truncate:c.oneOf(Tr.TRUNCATE),parser:c.func,copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(Tr.TYPE),size:c.oneOf(Tr.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string};PC.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const is=Dy;is.Text=Vy;is.Title=OC;is.Paragraph=Uy;is.Numeral=PC;const b$={PREFIX:`${G}-autocomplete`,PREFIX_OPTION:`${G}-autocomplete-option`,PREFIX_GROUP:`${G}-autocomplete-group`},xC={SIZE:["small","large","default"],POSITION:Bl.POSITION_SET,OPTIONS:["children","value"],STATUS:yd};var Die=xi,kie=rs,Nie="[object Number]";function Lie(n){return typeof n=="number"||kie(n)&&Die(n)==Nie}var w$=Lie;const tn=Ce(w$);class Mie extends Ne{constructor(e){super(Object.assign({},e)),this.isPanelOpen=!1}init(){this._setDropdownWidth();const{defaultOpen:e,data:t,defaultValue:r,value:s}=this.getProps();if(t&&t.length){const o=this._generateList(t);this._adapter.updateOptionList(o)}e&&this.openDropdown();let i;typeof r<"u"&&(i=r),typeof s<"u"&&(i=s),typeof i<"u"&&this.handleValueChange(i)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&tn(e.width)||e&&ke(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}handleInputClick(e){this.getStates();const{disabled:t}=this.getProps();t||(this.isPanelOpen?this.closeDropdown():this.openDropdown())}openDropdown(){this.isPanelOpen=!0,this._adapter.toggleListVisible(!0),this._setDropdownWidth(),this._adapter.registerClickOutsideHandler(e=>this.closeDropdown(e)),this._adapter.notifyDropdownVisibleChange(!0),this._modifyFocusIndexOnPanelOpen()}closeDropdown(e){this.isPanelOpen=!1,this._adapter.toggleListVisible(!1),this._adapter.unregisterClickOutsideHandler(),this._adapter.notifyDropdownVisibleChange(!1)}_generateList(e){const{renderItem:t}=this.getProps(),r=[];return e&&e.length&&e.forEach((s,i)=>{const o=String(new Date().getTime())+i;let a={};ke(s)||tn(s)?a={value:s,key:o,label:s,show:!0}:Wo(s)&&!Ct(s.value)&&(a=Object.assign({show:!0},s)),t&&typeof t=="function"&&(a.label=t(s)),r.push(a)}),r}handleSearch(e){this._adapter.updateInputValue(e),this._adapter.notifySearch(e),this._adapter.notifyChange(e),this._modifyFocusIndex(e),this.isPanelOpen||this.openDropdown()}handleSelect(e,t){const{renderSelectedItem:r}=this.getProps();let s="";r&&typeof r=="function"?(s=r(e),qt(typeof s!="string","Warning: [Semi AutoComplete] renderSelectedItem must return string, please check your function return")):s=e.value,this._isControlledComponent()?(this.closeDropdown(),this.notifySelect(e)):(this._adapter.updateInputValue(s),this.updateSelection(e),this.notifySelect(e),this.closeDropdown()),this._adapter.notifyChange(s),this._adapter.updateFocusIndex(t)}updateSelection(e){const t=new Map;e&&t.set(e.label,e),this._adapter.updateSelection(t)}notifySelect(e){this._backwardLabelInValue()?this._adapter.notifySelect(e):this._adapter.notifySelect(e.value)}_backwardLabelInValue(){const e=this.getProps();let{onSelectWithObject:t}=e;return t}handleDataChange(e){const t=this._generateList(e);this._adapter.updateOptionList(t),this._adapter.rePositionDropdown()}handleValueChange(e){let{data:t,defaultActiveFirstOption:r}=this.getProps(),s="";this._backwardLabelInValue()&&Object.prototype.toString.call(e)==="[object Object]"?s=e.value:s=e;let i=this._getRenderSelectedItem();const o=this._generateList(t);let a=o.length?o.filter(h=>i(h)===s):[];const l=a.length,u=o.findIndex(h=>i(h)===s);let d="";if(l)a=a[0],d=i(a);else{const h=this._backwardLabelInValue()?e:{label:s,value:s};d=i(h)}this._adapter.updateInputValue(d),this.updateSelection(l?a:null),u===-1&&r?this._adapter.updateFocusIndex(0):this._adapter.updateFocusIndex(u)}_modifyFocusIndex(e){let{focusIndex:t}=this.getStates(),{data:r,defaultActiveFirstOption:s}=this.getProps(),i=-1;if(e){let o=this._getRenderSelectedItem();i=this._generateList(r).findIndex(l=>o(l)===e)}i===-1&&s?t!==0&&this._adapter.updateFocusIndex(0):i!==t&&this._adapter.updateFocusIndex(i)}_modifyFocusIndexOnPanelOpen(){let{inputValue:e}=this.getStates();this._modifyFocusIndex(e)}_getRenderSelectedItem(){let{renderSelectedItem:e}=this.getProps();return typeof e>"u"&&(e=t=>t==null?void 0:t.value),e}handleClear(){this._adapter.notifyClear()}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}_handleKeyDown(e){const t=e.keyCode;switch(this.getStates(),t){case Yn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Yn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Yn.ENTER:e.preventDefault(),this._handleEnterKeyDown();break;case Yn.ESC:this.closeDropdown();break;case Yn.TAB:this.closeDropdown();break}this._adapter.notifyKeyDown(e)}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(a=>a.show),i=s.length;let o=t+e;if(o<0&&(o=i-1),o>=i&&(o=0),e>0){let a=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(a=l),!(a>=o));l++);o=a}else{let a=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(a=l),!(a<=o));l--);o=a}this._adapter.updateFocusIndex(o),this._adapter.updateScrollTop(o)}_handleArrowKeyDown(e){const{visible:t}=this.getStates();t?this._getEnableFocusIndex(e):this.openDropdown()}_handleEnterKeyDown(){const{visible:e,options:t,focusIndex:r}=this.getStates();if(!e)this.openDropdown();else if(r!==void 0&&r!==-1&&t.length!==0){const i=t.filter(o=>o.show)[r];this.handleSelect(i,r)}else this.closeDropdown()}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleFocus(e){this.bindKeyBoardEvent(),this._adapter.notifyFocus(e)}handleBlur(e){this._persistEvent(e),this._adapter.notifyBlur(e)}}const $ie=`${G}-spin`,Fie={PREFIX:$ie},jie={SIZE:["small","middle","large"]};class RC extends Ne{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},RC.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:r}=this._adapter.getStates();if(r){const s=this;this._timer=setTimeout(()=>{s._adapter.setState({loading:e,delay:0})},t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var Vie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let Xx=-1;function E$(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:e,className:t}=n,r=Vie(n,["id","className"]);let s=e;St(s)&&(Xx++,s=Xx);const i=`linearGradient-${s}`;return m.createElement("svg",Object.assign({},r,{className:t,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),m.createElement("defs",null,m.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:i},m.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),m.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),m.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),m.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},m.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),m.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${i})`,strokeWidth:"4",strokeLinecap:"round"})))}var Uie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const vl=Fie.PREFIX;class uo extends xe{constructor(e){super(e),this.foundation=new RC(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?e.spinning===!1?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:r}=this.state;return r?m.createElement("div",{className:`${vl}-wrapper`},e?m.createElement("div",{className:`${vl}-animate`,"x-semi-prop":"indicator"},e):m.createElement(E$,null),t?m.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:r,wrapperClassName:s,childStyle:i,size:o}=e,a=Uie(e,["children","style","wrapperClassName","childStyle","size"]),{loading:l}=this.state,u=$(vl,s,{[`${vl}-${o}`]:o,[`${vl}-block`]:t,[`${vl}-hidden`]:!l});return m.createElement("div",Object.assign({className:u,style:r},this.getDataAttr(a)),this.renderSpin(),m.createElement("div",{className:`${vl}-children`,style:i,"x-semi-prop":"children"},t))}}uo.propTypes={size:c.oneOf(jie.SIZE),spinning:c.bool,children:c.node,indicator:c.node,delay:c.number,tip:c.node,wrapperClassName:c.string,childStyle:c.object,style:c.object};uo.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};const By={PREFIX:`${G}-input`},hl={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},Bie={};function S$(n){const{value:e,maxLength:t,getValueLength:r}=n;if(De(r)){let s=0,i=e.length;for(;s<i;){const o=s+Math.floor((i-s)/2),a=e.slice(0,o+1);r(a)>t?i=o:s=o+1}return e.slice(0,s)}else return e.slice(0,t)}let Hie=class C$ extends Ne{static get inputDefaultAdapter(){return{notifyChange:j,setValue:j}}constructor(e){super(Object.assign(Object.assign({},C$.inputDefaultAdapter),e))}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}setValue(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let o=e;r&&De(i)&&(o=this.handleVisibleMaxLength(e)),s&&De(i)&&this.handleVisibleMinLength(o),this._isControlledComponent()?this._adapter.notifyChange(o,t):(this._adapter.setValue(o),this._adapter.notifyChange(o,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(tn(t)&&t>=0&&De(r)&&ke(e)){const i=r(e);if(i<t){const o=e.length+(t-i);o!==s&&this._adapter.setMinLength(o)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();return tn(t)&&t>=0&&De(r)&&ke(e)&&r(e)>t?(console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)):e}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return S$({value:e,maxLength:t,getValueLength:r})}handleClear(e){let t=e;const r="";this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),(!t||typeof t!="object")&&(t={}),Ic(t,hl.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange(r,t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){e==="password"?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),r=this._adapter.getState("eyeClosed");return t==="password"?r?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===TC&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:r}=this._adapter.getStates(),{showClear:s,disabled:i,showClearIgnoreDisabled:o}=this._adapter.getProps();return e&&s&&(!i||o)&&(t||r)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&De(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(e==null?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}};var zie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ot=By.PREFIX,Kie=hl.SIZE,Wie=hl.STATUS,Gie=hl.MODE;class AC extends xe{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.handleClick=r=>{this.foundation.handleClick(r)},this.handleMouseOver=r=>{this.setState({isHovering:!0})},this.handleMouseLeave=r=>{this.setState({isHovering:!1})},this.handleModeChange=r=>{this.foundation.handleModeChange(r)},this.handleClickEye=r=>{this.foundation.handleClickEye(r)},this.handleMouseDown=r=>{this.foundation.handleMouseDown(r)},this.handleMouseUp=r=>{this.foundation.handleMouseUp(r)},this.handleModeEnterPress=r=>{this.foundation.handleModeEnterPress(r)},this.handleClickPrefixOrSuffix=r=>{this.foundation.handleClickPrefixOrSuffix(r)},this.handlePreventMouseDown=r=>{this.foundation.handlePreventMouseDown(r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,cachedValue:e.value,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:e.mode==="password",minLength:e.minLength},this.inputRef=m.createRef(),this.prefixRef=m.createRef(),this.suffixRef=m.createRef(),this.foundation=new Hie(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&(t||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:r})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=$({[`${ot}-prepend`]:!0,[`${ot}-prepend-text`]:e&&ke(e),[`${ot}-prepend-icon`]:Cr(e)});return m.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=$({[`${ot}-append`]:!0,[`${ot}-append-text`]:e&&ke(e),[`${ot}-append-icon`]:Cr(e)});return m.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=$(`${ot}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?m.createElement("div",{className:e,onMouseDown:this.handleClear},t||m.createElement(dl,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:r}=this.props,s=$(`${ot}-modebtn`),i=e?m.createElement(Yse,null):m.createElement(Xse,null),o=t==="password"&&!r,a=e?"Show password":"Hidden password";return o?m.createElement("div",{role:"button",tabIndex:0,"aria-label":a,className:s,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},i):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(!s)return null;const i=$({[`${ot}-prefix`]:!0,[`${ot}-inset-label`]:t,[`${ot}-prefix-text`]:s&&ke(s),[`${ot}-prefix-icon`]:Cr(s)});return m.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSuffix(e){const{suffix:t,hideSuffix:r}=this.props;if(!t)return null;const s=$({[`${ot}-suffix`]:!0,[`${ot}-suffix-text`]:t&&ke(t),[`${ot}-suffix-icon`]:Cr(t),[`${ot}-suffix-hidden`]:e&&!!r});return m.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!Ct(e)){if(typeof e=="function")return t=>{e(t),this.inputRef={current:t}};if(Object.prototype.toString.call(e)==="[object Object]")return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:r,autoFocus:s,clearIcon:i,className:o,disabled:a,defaultValue:l,placeholder:u,prefix:d,mode:h,insetLabel:f,insetLabelId:g,validateStatus:b,type:y,readonly:_,size:v,suffix:E,style:w,showClear:S,onEnterPress:O,onClear:x,hideSuffix:I,inputStyle:T,forwardRef:P,maxLength:A,getValueLength:k,preventScroll:M,borderless:N,showClearIgnoreDisabled:W,onlyBorder:q}=e,K=zie(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:ee,isFocus:V,minLength:z}=this.state,B=this.foundation.isAllowClear(),oe=Cr(E),ne=this.getInputRef(),re=`${ot}-wrapper`,he=$(re,o,{[`${ot}-wrapper__with-prefix`]:d||f,[`${ot}-wrapper__with-suffix`]:E,[`${ot}-wrapper__with-suffix-hidden`]:B&&!!I,[`${ot}-wrapper__with-suffix-icon`]:oe,[`${ot}-wrapper__with-append`]:r,[`${ot}-wrapper__with-prepend`]:t,[`${ot}-wrapper__with-append-only`]:r&&!t,[`${ot}-wrapper__with-prepend-only`]:!r&&t,[`${re}-readonly`]:_,[`${re}-disabled`]:a,[`${re}-warning`]:b==="warning",[`${re}-error`]:b==="error",[`${re}-focus`]:V,[`${re}-clearable`]:S,[`${re}-modebtn`]:h==="password",[`${re}-hidden`]:y==="hidden",[`${re}-${v}`]:v,[`${ot}-borderless`]:N,[`${ot}-only_border`]:q!=null}),be=$(ot,{[`${ot}-${v}`]:v,[`${ot}-disabled`]:a,[`${ot}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${ot}-sibling-modebtn`]:h==="password"}),ye=ee??"",me=Object.assign(Object.assign({},K),{style:T,className:be,disabled:a,readOnly:_,type:this.foundation.handleInputType(y),placeholder:u,onInput:te=>this.foundation.handleInput(te),onChange:te=>this.foundation.handleChange(te.target.value,te),onFocus:te=>this.foundation.handleFocus(te),onBlur:te=>this.foundation.handleBlur(te),onKeyUp:te=>this.foundation.handleKeyUp(te),onKeyDown:te=>this.foundation.handleKeyDown(te),onKeyPress:te=>this.foundation.handleKeyPress(te),value:ye});De(k)||(me.maxLength=A),z&&(me.minLength=z),b==="error"&&(me["aria-invalid"]="true");let ge=Object.assign({},w);return q!==void 0&&(ge=Object.assign({borderWidth:q},w)),m.createElement("div",{className:he,style:ge,onMouseEnter:te=>this.handleMouseOver(te),onMouseLeave:te=>this.handleMouseLeave(te),onClick:te=>this.handleClick(te)},this.renderPrepend(),this.renderPrefix(),m.createElement("input",Object.assign({},me,{ref:ne})),this.renderClearBtn(),this.renderSuffix(B),this.renderModeBtn(),this.renderAppend())}}AC.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,addonBefore:c.node,addonAfter:c.node,clearIcon:c.node,prefix:c.node,suffix:c.node,mode:c.oneOf(Gie),value:c.any,defaultValue:c.any,disabled:c.bool,readonly:c.bool,autoFocus:c.bool,type:c.string,showClear:c.bool,hideSuffix:c.bool,placeholder:c.any,size:c.oneOf(Kie),className:c.string,style:c.object,validateStatus:c.oneOf(Wie),onClear:c.func,onChange:c.func,onBlur:c.func,onFocus:c.func,onInput:c.func,onKeyDown:c.func,onKeyUp:c.func,onKeyPress:c.func,onEnterPress:c.func,insetLabel:c.node,insetLabelId:c.string,inputStyle:c.object,getValueLength:c.func,preventScroll:c.bool,borderless:c.bool};AC.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:j,onChange:j,onBlur:j,onFocus:j,onInput:j,onKeyDown:j,onKeyUp:j,onKeyPress:j,onEnterPress:j,validateStatus:"default",borderless:!1};const Ln=m.forwardRef((n,e)=>m.createElement(AC,Object.assign({},n,{forwardRef:e})));var Yie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Tu extends m.PureComponent{render(){const e=this.props,{triggerRender:t,componentName:r}=e,s=Yie(e,["triggerRender","componentName"]);return t(Object.assign({},s))}}Tu.propTypes={triggerRender:c.func.isRequired,componentName:c.string,componentProps:c.object,value:c.any,inputValue:c.string,placeholder:c.oneOfType([c.string,c.array]),className:c.string,style:c.object};const qie={PREFIX:`${G}-highlight`},Xie=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");class Qie extends Ne{constructor(e){super(Object.assign({},e)),this.findAll=t=>{let{autoEscape:r=!0,caseSensitive:s=!1,searchWords:i,sourceString:o}=t;ke(i)&&(i=[i]);const a=this.findChunks({autoEscape:r,caseSensitive:s,searchWords:i,sourceString:o}),l=this.combineChunks({chunks:a});return this.fillInChunks({chunksToHighlight:l,totalLength:o?o.length:0})},this.findChunks=t=>{let{autoEscape:r,caseSensitive:s,searchWords:i,sourceString:o}=t;return i.map(a=>typeof a=="string"?{text:a}:a).filter(a=>a.text).reduce((a,l)=>{let u=l.text;r&&(u=Xie(u));const d=new RegExp(u,s?"g":"gi");let h;for(;h=d.exec(o);){const f=h.index,g=d.lastIndex;g>f&&a.push({highlight:!0,start:f,end:g,className:l.className,style:l.style}),h.index===d.lastIndex&&d.lastIndex++}return a},[])},this.combineChunks=t=>{let{chunks:r}=t;return r.sort((s,i)=>s.start-i.start).reduce((s,i)=>{if(s.length===0)return[i];{const o=s.pop();if(i.start<=o.end){const a=Math.max(o.end,i.end);s.push({highlight:!0,start:o.start,end:a,className:o.className||i.className,style:Object.assign(Object.assign({},o.style),i.style)})}else s.push(o,i);return s}},[])},this.fillInChunks=t=>{let{chunksToHighlight:r,totalLength:s}=t;const i=[],o=(a,l,u,d,h)=>{l-a>0&&i.push({start:a,end:l,highlight:u,className:d,style:h})};if(r.length===0)o(0,s,!1);else{let a=0;r.forEach(l=>{o(a,l.start,!1),o(l.start,l.end,!0,l.className,l.style),a=l.end}),o(a,s,!1)}return i}}}const Zie=qie.PREFIX;class gp extends D.PureComponent{constructor(){super(...arguments),this.getHighLightTextHTML=e=>{let{sourceString:t="",searchWords:r=[],option:s={autoEscape:!0,caseSensitive:!1}}=e;const i=new Qie().findAll(Object.assign({sourceString:t,searchWords:r},s)),o=s.highlightTag||"mark",a=s.highlightClassName||"",l=s.highlightStyle||{};return i.map((u,d)=>{const{end:h,start:f,highlight:g,style:b,className:y}=u,_=t.substr(f,h-f);return g?m.createElement(o,{style:Object.assign(Object.assign({},l),b),className:`${a} ${y||""}`.trim(),key:_+d},_):_})}}render(){const{searchWords:e,sourceString:t,component:r,highlightClassName:s,highlightStyle:i,caseSensitive:o,autoEscape:a}=this.props,l=$({[`${Zie}-tag`]:!0},s),u={highlightTag:r,highlightClassName:l,highlightStyle:i,caseSensitive:o,autoEscape:a};return this.getHighLightTextHTML({sourceString:t,searchWords:e,option:u})}}gp.propTypes={style:c.object,className:c.string,autoEscape:c.bool,caseSensitive:c.bool,sourceString:c.string,searchWords:c.arrayOf(c.string),highlightStyle:c.object,highlightClassName:c.string,component:c.string};gp.defaultProps={component:"mark",autoEscape:!0,caseSensitive:!1,sourceString:""};var Qx=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let mp=class extends D.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,o=Qx(e,["value","label","children"]);const{props:a}=this;a.disabled||a.onSelect(Object.assign(Object.assign({},o),{value:r,label:s||i}),t)}renderOptionContent(e){let{children:t,inputValue:r,prefixCls:s}=e;return ke(t)&&r?m.createElement(gp,{searchWords:[r],sourceString:t,highlightClassName:`${s}-keyword`}):t}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:o,empty:a,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:g,onMouseEnter:b,prefixCls:y,renderOptionItem:_,inputValue:v}=e,E=Qx(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue"]),w=$(y,{[`${y}-disabled`]:r,[`${y}-selected`]:i,[`${y}-focused`]:d,[`${y}-empty`]:a,[f]:f}),S=$([`${y}-icon`]);return a?l===null?null:m.createElement(Pn,{componentName:"Select"},O=>m.createElement("div",{className:w,"x-semi-prop":"emptyContent"},l||O.emptyText)):typeof _=="function"?_(Object.assign({disabled:r,focused:d,selected:i,style:g,label:o,value:s,inputValue:v,onMouseEnter:O=>b(O),onClick:O=>this.onClick(Object.assign({value:s,label:o,children:t},E),O)},E)):m.createElement("div",{className:w,onClick:O=>{this.onClick(Object.assign({value:s,label:o,children:t},E),O)},onMouseEnter:O=>b&&b(O),role:"option","aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:g},h?m.createElement("div",{className:S},m.createElement(jy,null)):null,ke(t)?m.createElement("div",{className:`${y}-text`},this.renderOptionContent({children:t,inputValue:v,prefixCls:y})):t)}};mp.isSelectOption=!0;mp.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};mp.defaultProps={prefixCls:b$.PREFIX_OPTION};const ha=b$.PREFIX,Jie=xC.SIZE,eoe=xC.POSITION,toe=xC.STATUS;class Gc extends xe{constructor(e){super(e),this.onSelect=(r,s,i)=>{this.foundation.handleSelect(r,s)},this.onSearch=r=>{this.foundation.handleSearch(r)},this.onBlur=r=>this.foundation.handleBlur(r),this.onFocus=r=>this.foundation.handleFocus(r),this.onInputClear=()=>this.foundation.handleClear(),this.handleInputClick=r=>this.foundation.handleInputClick(r),this.foundation=new Mie(this.adapter);const t=1;this.state={dropdownMinWidth:null,inputValue:"",options:[],visible:!1,focusIndex:e.defaultActiveFirstOption?0:-1,selection:new Map,rePosKey:t},this.triggerRef=m.createRef(),this.optionsRef=m.createRef(),this.clickOutsideHandler=null,this.optionListId="",qt("triggerRender"in this.props&&typeof this.props.triggerRender=="function",`[Semi AutoComplete]
            - If you are using the following props: 'suffix', 'prefix', 'showClear', 'validateStatus', and 'size',
            please notice that they will be removed in the next major version.
            Please use 'componentProps' to retrieve these props instead.
            - If you are using 'onBlur', 'onFocus', please try to avoid using them and look for changes in the future.`)}get adapter(){const e={registerKeyDown:t=>{const r={onKeyDown:t};this.setState({keyboardEventSet:r})},unregisterKeyDown:t=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:t=>{this.setState({focusIndex:t})},updateScrollTop:t=>{let r;r=`.${ha}-option-selected`,t!==void 0&&(r=`.${ha}-option:nth-child(${t+1})`);let s=document.querySelector(`#${ha}-${this.optionListId} ${r}`);if(Array.isArray(s)&&(s=s[0]),s){const i=s.parentNode;i.scrollTop=s.offsetTop-i.offsetTop-i.clientHeight/2+s.clientHeight/2}}};return Object.assign(Object.assign(Object.assign({},super.adapter),e),{getTriggerWidth:()=>{const t=this.triggerRef.current;return t&&t.getBoundingClientRect().width},setOptionWrapperWidth:t=>{this.setState({dropdownMinWidth:t})},updateInputValue:t=>{this.setState({inputValue:t})},toggleListVisible:t=>{this.setState({visible:t})},updateOptionList:t=>{this.setState({options:t})},updateSelection:t=>{this.setState({selection:t})},notifySearch:t=>{this.props.onSearch(t)},notifyChange:t=>{this.props.onChange(t)},notifySelect:t=>{this.props.onSelect(t)},notifyDropdownVisibleChange:t=>{this.props.onDropdownVisibleChange(t)},notifyClear:()=>{this.props.onClear()},notifyFocus:t=>{this.props.onFocus(t)},notifyBlur:t=>{this.props.onBlur(t)},notifyKeyDown:t=>{this.props.onKeyDown(t)},rePositionDropdown:()=>{let{rePosKey:t}=this.state;t=t+1,this.setState({rePosKey:t})},registerClickOutsideHandler:t=>{const r=s=>{const i=this.optionsRef&&this.optionsRef.current,o=this.triggerRef&&this.triggerRef.current,a=Mr.findDOMNode(i),l=s.target,u=s.composedPath&&s.composedPath()||[l];a&&(!a.contains(l)||!a.contains(l.parentNode))&&o&&!o.contains(l)&&!(u.includes(o)||u.includes(a))&&t(s)};this.clickOutsideHandler=r,document.addEventListener("mousedown",r,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&document.removeEventListener("mousedown",this.clickOutsideHandler,!1)}})}componentDidMount(){this.foundation.init(),this.optionListId=Go()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){je(this.props.data,e.data)||this.foundation.handleDataChange(this.props.data),this.props.value!==e.value&&this.foundation.handleValueChange(this.props.value)}renderInput(){const{size:e,prefix:t,insetLabel:r,insetLabelId:s,suffix:i,placeholder:o,style:a,className:l,showClear:u,disabled:d,triggerRender:h,validateStatus:f,autoFocus:g,value:b,id:y,clearIcon:_}=this.props,{inputValue:v,keyboardEventSet:E,selection:w}=this.state,O=Object.assign(Object.assign(Object.assign({style:a,className:typeof h=="function"?$(l):$({[ha]:!0,[`${ha}-disabled`]:d},l),onClick:this.handleInputClick,ref:this.triggerRef,id:y},E),{tabIndex:-1}),this.getDataAttr(this.props)),x={disabled:d,placeholder:o,autoFocus:g,onChange:this.onSearch,onClear:this.onInputClear,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],suffix:i,prefix:t||r,insetLabelId:s,showClear:u,validateStatus:f,size:e,onBlur:this.onBlur,onFocus:this.onFocus,clearIcon:_};return m.createElement("div",Object.assign({},O),typeof h=="function"?m.createElement(Tu,Object.assign({},x,{inputValue:typeof b<"u"?b:v,value:Array.from(w.values()),triggerRender:h,componentName:"AutoComplete",componentProps:Object.assign({},this.props)})):m.createElement(Ln,Object.assign({},x,{value:typeof b<"u"?b:v})))}renderLoading(){const e=`${ha}-loading-wrapper`;return m.createElement("div",{className:e},m.createElement(uo,null))}renderOption(e,t){const{focusIndex:r}=this.state,s=t===r;return m.createElement(mp,Object.assign({showTick:!1,onSelect:(i,o)=>this.onSelect(i,t,o),focused:s,onMouseEnter:()=>this.foundation.handleOptionMouseEnter(t),key:e.key||e.label+e.value+t},e),e.label)}renderOptionList(){const{maxHeight:e,dropdownStyle:t,dropdownClassName:r,loading:s,emptyContent:i}=this.props,{options:o,dropdownMinWidth:a}=this.state,l=$({[`${ha}-option-list`]:!0},r);let u;o.length===0?u=i:u=o.filter(h=>h.show).map((h,f)=>this.renderOption(h,f));const d=Object.assign({maxHeight:e,minWidth:a},t);return m.createElement("div",{className:l,role:"listbox",style:d,id:`${ha}-${this.optionListId}`},s?this.renderLoading():u)}render(){const{position:e,motion:t,zIndex:r,mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:o,stopPropagation:a,getPopupContainer:l}=this.props,{visible:u,rePosKey:d}=this.state,h=this.renderInput(),f=this.renderOptionList();return m.createElement(xr,{mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:o,trigger:"custom",motion:t,visible:u,content:f,position:e,ref:this.optionsRef,zIndex:r,stopPropagation:a,getPopupContainer:l,rePosKey:d},h)}}Gc.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoAdjustOverflow:c.bool,className:c.string,clearIcon:c.node,children:c.node,data:c.array,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.number]),defaultActiveFirstOption:c.bool,disabled:c.bool,dropdownMatchSelectWidth:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,emptyContent:c.node,id:c.string,insetLabel:c.node,insetLabelId:c.string,onSearch:c.func,onSelect:c.func,onClear:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onKeyDown:c.func,position:c.oneOf(eoe),placeholder:c.string,prefix:c.node,onChangeWithObject:c.bool,onSelectWithObject:c.bool,renderItem:c.func,renderSelectedItem:c.func,suffix:c.node,showClear:c.bool,size:c.oneOf(Jie),style:c.object,stopPropagation:c.oneOfType([c.bool,c.string]),maxHeight:c.oneOfType([c.string,c.number]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,motion:c.oneOfType([c.bool,c.func,c.object]),getPopupContainer:c.func,triggerRender:c.func,value:c.oneOfType([c.string,c.number]),validateStatus:c.oneOf(toe),zIndex:c.number};Gc.Option=mp;Gc.__SemiComponentName__="AutoComplete";Gc.defaultProps=Ps(Gc.__SemiComponentName__,{stopPropagation:!0,motion:!0,zIndex:Ss.DEFAULT_Z_INDEX,position:"bottomLeft",data:[],showClear:!1,size:"default",onFocus:j,onSearch:j,onClear:j,onBlur:j,onSelect:j,onChange:j,onSelectWithObject:!1,onDropdownVisibleChange:j,defaultActiveFirstOption:!1,dropdownMatchSelectWidth:!0,loading:!1,maxHeight:300,validateStatus:"default",autoFocus:!1,emptyContent:null,onKeyDown:j});const noe={PREFIX:`${G}-avatar`},Hy={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],OVERLAP_FROM:["start","end"]};class roe extends Ne{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{qt(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:t}=this.getProps(),r=this._adapter.getAvatarNode(),s=r==null?void 0:r.firstChild,[i,o]=[(r==null?void 0:r.offsetWidth)||0,(s==null?void 0:s.offsetWidth)||0];if(i!==0&&o!==0&&t*2<i){const a=i-t*2>o?1:(i-t*2)/o;this._adapter.setScale(a)}}}init(){const{children:e}=this.getProps();typeof e=="string"&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();(e?e():void 0)!==!1&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}const soe=n=>{let{gradientStart:e,gradientEnd:t}=n;const r=Go();return m.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none"},m.createElement("g",{filter:"url(#filter0_d_6_2)"},m.createElement("path",{d:"M40.4918 46.5592C44.6795 43.176 46.261 34.1333 47.5301 25.6141C49.5854 11.8168 39.6662 1 25.8097 1C11.2857 1 3 11.4279 3 25.3518C3 33.7866 6.29361 43.8947 10.4602 46.5592C12.5868 47.9192 12.5868 47.9051 25.8097 47.9192C38.3651 47.9282 38.5352 48.14 40.4918 46.5592Z",fill:`url(#${r})`})),m.createElement("defs",null,m.createElement("filter",{id:"filter0_d_6_2",x:"0.789215",y:"0.447304",width:"49.2216",height:"51.3549",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},m.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),m.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m.createElement("feOffset",{dy:"1.65809"}),m.createElement("feGaussianBlur",{stdDeviation:"1.10539"}),m.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),m.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_6_2"}),m.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_6_2",result:"shape"})),m.createElement("linearGradient",{id:r,x1:"17.671",y1:"31.7392",x2:"17.671",y2:"47.9333",gradientUnits:"userSpaceOnUse"},m.createElement("stop",{stopColor:e}),m.createElement("stop",{offset:"1",stopColor:t}))))};var ioe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ooe=Hy.SIZE,aoe=Hy.SHAPE,loe=Hy.COLOR,at=noe.PREFIX;class Yc extends xe{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:t,onClick:r,imgAttr:s,src:i,srcSet:o,alt:a}=this.props,{isImgExist:l}=this.state;let u=t;const d=r!==Dt,h=i&&l,f={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(h){const g=d?`clickable Avatar: ${a}`:a,b=Object.assign(Object.assign({src:i,srcSet:o,onError:this.handleError},s),{className:$({[`${at}-no-focus-visible`]:d})}),y=d?Object.assign(Object.assign({},b),f):b;u=m.createElement("img",Object.assign({alt:g},y))}else if(typeof t=="string"){const g=a??t,y={role:"img","aria-label":d?`clickable Avatar: ${g}`:g,className:$(`${at}-label`,{[`${at}-no-focus-visible`]:d})},_=d?Object.assign(Object.assign({},y),f):y,v={transform:`scale(${this.state.scale})`};u=m.createElement("span",{className:`${at}-content`,style:v},m.createElement("span",Object.assign({},_,{"x-semi-prop":"children"}),t))}return u},this.renderBottomSlot=()=>{var t,r;if(!this.props.bottomSlot)return null;if(this.props.bottomSlot.render)return this.props.bottomSlot.render();const s=(t=this.props.bottomSlot.render)!==null&&t!==void 0?t:()=>{var i;const o={};return this.props.bottomSlot.bgColor&&(o.backgroundColor=this.props.bottomSlot.bgColor),this.props.bottomSlot.textColor&&(o.color=this.props.bottomSlot.textColor),m.createElement("span",{style:o,className:$(`${at}-bottom_slot-shape_${this.props.bottomSlot.shape}`,`${at}-bottom_slot-shape_${this.props.bottomSlot.shape}-${this.props.size}`,(i=this.props.bottomSlot.className)!==null&&i!==void 0?i:"")},this.props.bottomSlot.text)};return m.createElement("div",{className:$([`${at}-bottom_slot`]),style:(r=this.props.bottomSlot.style)!==null&&r!==void 0?r:{}},s())},this.renderTopSlot=()=>{var t,r,s,i;if(!this.props.topSlot)return null;if(this.props.topSlot.render)return this.props.topSlot.render();const o={};return this.props.topSlot.textColor&&(o.color=this.props.topSlot.textColor),m.createElement("div",{style:(t=this.props.topSlot.style)!==null&&t!==void 0?t:{},className:$([`${at}-top_slot-wrapper`,(r=this.props.topSlot.className)!==null&&r!==void 0?r:"",{[`${at}-animated`]:this.props.contentMotion}])},m.createElement("div",{className:$([`${at}-top_slot-bg`,`${at}-top_slot-bg-${this.props.size}`])},m.createElement("div",{className:$([`${at}-top_slot-bg-svg`,`${at}-top_slot-bg-svg-${this.props.size}`])},m.createElement(soe,{gradientStart:(s=this.props.topSlot.gradientStart)!==null&&s!==void 0?s:"var(--semi-color-primary)",gradientEnd:(i=this.props.topSlot.gradientEnd)!==null&&i!==void 0?i:"var(--semi-color-primary)"}))),m.createElement("div",{className:$([`${at}-top_slot`])},m.createElement("div",{style:o,className:$([`${at}-top_slot-content`,`${at}-top_slot-content-${this.props.size}`])},this.props.topSlot.text)))},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=m.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,r=t;this.setState({hoverContent:r},()=>{const{onMouseEnter:s}=this.props;s&&s(e)})},notifyLeave:e=>{this.setState({hoverContent:""},()=>{const{onMouseLeave:t}=this.props;t&&t(e)})},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return(e=this.avatarRef)===null||e===void 0?void 0:e.current}})}componentDidMount(){this.foundation=new roe(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const t=new Image(0,0);t.src=this.props.src,t.onload=()=>{this.setState({isImgExist:!0})},t.onerror=()=>{this.setState({isImgExist:!1})},t.onabort=()=>{this.setState({isImgExist:!1})}}typeof this.props.children=="string"&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),di(e);break;case"Escape":e.target.blur();break}}render(){var e;const t=this.props,{shape:r,children:s,size:i,color:o,className:a,hoverMask:l,onClick:u,imgAttr:d,src:h,srcSet:f,style:g,alt:b,gap:y,bottomSlot:_,topSlot:v,border:E,contentMotion:w}=t,S=ioe(t,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap","bottomSlot","topSlot","border","contentMotion"]),{isImgExist:O,hoverContent:x,focusVisible:I}=this.state;let T={};Hy.SIZE.includes(i)||(T={width:i,height:i}),T=Object.assign(Object.assign({},T),g);const P=_||v||E,A={onClick:u,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},k=h&&O,M=$(at,{[`${at}-${r}`]:r,[`${at}-${i}`]:i,[`${at}-${o}`]:o&&!k,[`${at}-img`]:k,[`${at}-focus`]:I,[`${at}-animated`]:w},a),N=x?m.createElement("div",{className:`${at}-hover`,"x-semi-prop":"hoverContent"},x):null;let W=m.createElement("span",Object.assign({},S,{style:P?{}:T,className:M},P?{}:A,{role:"listitem",ref:this.avatarRef}),this.getContent(),N);if(E){const q={};typeof E=="object"&&(E!=null&&E.color)&&(q.borderColor=E==null?void 0:E.color),W=m.createElement("div",{style:Object.assign({position:"relative"},T)},W,m.createElement("span",{style:q,className:$([`${at}-additionalBorder`,`${at}-additionalBorder-${i}`,{[`${at}-${r}`]:r}])}),typeof this.props.border=="object"&&this.props.border.motion&&m.createElement("span",{style:q,className:$([`${at}-additionalBorder`,`${at}-additionalBorder-${i}`,{[`${at}-${r}`]:r,[`${at}-additionalBorder-animated`]:typeof this.props.border=="object"&&((e=this.props.border)===null||e===void 0?void 0:e.motion)}])}))}return P?m.createElement("span",Object.assign({className:$([`${at}-wrapper`]),style:T},A),W,v&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&r==="circle"&&this.renderTopSlot(),_&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&this.renderBottomSlot()):W}}Yc.__SemiComponentName__="Avatar";Yc.defaultProps=Ps(Yc.__SemiComponentName__,{size:"medium",color:"grey",shape:"circle",gap:3,onClick:Dt,onMouseEnter:Dt,onMouseLeave:Dt});Yc.propTypes={children:c.node,color:c.oneOf(loe),shape:c.oneOf(aoe),size:c.oneOf(ooe),hoverMask:c.node,className:c.string,style:c.object,gap:c.number,imgAttr:c.object,src:c.string,srcSet:c.string,alt:c.string,onError:c.func,onClick:c.func,onMouseEnter:c.func,onMouseLeave:c.func,bottomSlot:c.shape({render:c.func,shape:c.oneOf(["circle","square"]),text:c.node,bgColor:c.string,textColor:c.string,className:c.string,style:c.object}),topSlot:c.shape({render:c.func,gradientStart:c.string,gradientEnd:c.string,text:c.node,textColor:c.string,className:c.string,style:c.object}),border:c.oneOfType([c.shape({color:c.string,motion:c.bool}),c.bool]),contentMotion:c.bool};Yc.elementType="Avatar";var uoe=4,coe=.001,doe=1e-7,hoe=10,yh=11,Pg=1/(yh-1),foe=typeof Float32Array=="function";function T$(n,e){return 1-3*e+3*n}function I$(n,e){return 3*e-6*n}function O$(n){return 3*n}function bv(n,e,t){return((T$(e,t)*n+I$(e,t))*n+O$(e))*n}function P$(n,e,t){return 3*T$(e,t)*n*n+2*I$(e,t)*n+O$(e)}function poe(n,e,t,r,s){var i,o,a=0;do o=e+(t-e)/2,i=bv(o,r,s)-n,i>0?t=o:e=o;while(Math.abs(i)>doe&&++a<hoe);return o}function goe(n,e,t,r){for(var s=0;s<uoe;++s){var i=P$(e,t,r);if(i===0)return e;var o=bv(e,t,r)-n;e-=o/i}return e}function moe(n){return n}var voe=function(e,t,r,s){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===s)return moe;for(var i=foe?new Float32Array(yh):new Array(yh),o=0;o<yh;++o)i[o]=bv(o*Pg,e,r);function a(l){for(var u=0,d=1,h=yh-1;d!==h&&i[d]<=l;++d)u+=Pg;--d;var f=(l-i[d])/(i[d+1]-i[d]),g=u+f*Pg,b=P$(g,e,r);return b>=coe?goe(l,g,e,r):b===0?g:poe(l,u,u+Pg,e,r)}return function(u){return u===0?0:u===1?1:bv(a(u),t,s)}};const Fb=Ce(voe);function Zx(n,e,t){return Math.min(Math.max(n,e),t)}function yoe(n){const e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(t=>parseFloat(t)):[]}function xg(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;const t=Zx(n,1,10),r=Zx(e,.1,2);return s=>s===0||s===1?s:-t*Math.pow(2,10*(s-1))*Math.sin((s-1-r/(Math.PI*2)*Math.asin(1/t))*(Math.PI*2)/r)}const jb=(()=>{const n=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],xg],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(r,s)=>i=>1-xg(r,s)(1-i)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(r,s)=>i=>i<.5?xg(r,s)(i*2)/2:1-xg(r,s)(i*-2+2)/2]},t={linear:[.25,.25,.75,.75]};for(const r of Object.keys(e))e[r].forEach((s,i)=>{t["ease"+r+n[i]]=s});return t})();function Jx(n){if(typeof n=="function")return n;!n||typeof n!="string"?n="linear":n=n.trim();let e=n.split("(")[0];const t=yoe(n);let r;return e==="cubic-bezier"||e==="cubicBezier"?Fb(...t.length?t:jb.linear):((!e||typeof e!="string"||typeof e=="string"&&jb[e]==null)&&(e="linear"),r=jb[e],typeof r=="function"?r(...t):t.length?Fb(...t):Fb(...r))}let _oe=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else t==null&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?(this._eventMap.get(e).forEach(i=>i(...r)),!0):!1}};function Cf(n){return!!(n&&typeof n=="object"&&(n.duration>0||typeof n.easing=="string"||typeof n.easing=="function"))}function boe(n,e,t,r,s){for(const i of Object.keys(e)){const o=e[i],a=typeof o=="number"?o:o.val;if(!(typeof o=="object"&&o.done)){if(Cf(o)&&r&&s&&o.duration){if(o.duration+r<=s||a!==n[i])return!1}else if(typeof t[i]=="number"&&t[i]!==0)return!1;if(n[i]!==a)return!1}}return!0}function Rg(n){const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=typeof n[t]=="number"?n[t]:n[t].val);return e}const Vu=[0,0];function eR(n,e,t,r,s,i,o){const a=-s*(e-r),l=-i*t,u=a+l,d=t+u*n,h=e+d*n;return Math.abs(d)<o&&Math.abs(h-r)<o?(Vu[0]=r,Vu[1]=0,Vu):(Vu[0]=h,Vu[1]=d,Vu)}function woe(n){const e={},t=n&&Object.keys(n)||[];for(const r of t)e[r]=0;return e}const Eoe={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Soe=Object.assign(Object.assign({},Eoe.default),{precision:.01});function Coe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Cf(e)){const r=Jx(e.easing),s=typeof e.duration=="number"&&e.duration>0?e.duration:1e3;e=Object.assign(Object.assign({},e),{easing:r,duration:s})}let t=Object.assign(Object.assign(Object.assign({},Soe),e),{done:!1});if(n&&typeof n=="object"&&"val"in n){if(Cf(n)){const r=Jx(n.easing),s=typeof n.duration=="number"&&n.duration>0?n.duration:parseInt(e.duration)||1e3;n=Object.assign(Object.assign({},n),{easing:r,duration:s})}t=Object.assign(Object.assign({},t),n)}else t=Object.assign(Object.assign({},t),{val:n});return t}const eh=()=>Date.now(),fa=1e3/60;class x$ extends _oe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this._props=Object.assign({},e),this._config=Object.assign({},t),this.initStates()}_wrapConfig(e,t){t=t&&typeof t=="object"?t:this._config;const r={};for(const s of Object.keys(e))r[s]=Coe(e[s],t);return r}initStates(e,t){e=e&&typeof e=="object"?e:this._props,t=t&&typeof t=="object"?t:this._config;const{from:r,to:s}=e;if(this._from={},r)for(const a of Object.keys(r))this._from[a]=typeof r[a]=="object"&&r[a].val?r[a].val:r[a];this._to=this._wrapConfig(s,t),this._delay=parseInt(t.delay)||0;const i=this._from&&Rg(this._from)||Rg(this._to),o=woe(i);this._currentStyle=Object.assign({},i),this._currentVelocity=Object.assign({},o),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},o),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){this._timer==null&&(this._timer=requestAnimationFrame(e=>{const t=eh();if(boe(this._currentStyle,this._to,this._currentVelocity,this._startedTime||t,t)||this._ended||this._stopped){this._wasAnimating&&!this._ended&&!this._stopped&&(this._timer=setTimeout(()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())},fa)),this.resetPlayStates();return}this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,this._startedTime===0&&(this._startedTime=t);const r=t,s=r-this._prevTime;this._prevTime=r,r-this._startedTime<this._delay&&(this._timer=null,this.animate());const i={},o={},a={},l={},u=this._to&&Object.keys(this._to)||[];for(const d of u){const h=this._to[d];this._accumulatedTime[d]=typeof this._accumulatedTime[d]!="number"?s:this._accumulatedTime[d]+s;const f=this._from[d]!=null&&typeof this._from[d]=="object"?this._from[d].val:this._from[d],g=h.val;if(typeof h=="number")a[d]=h,l[d]=0,i[d]=h,o[d]=0;else{let b=this._lastIdealStyle[d],y=this._lastIdealVelocity[d];if(Cf(this._config)||Cf(h)){const{easing:_,duration:v}=h;b=f+_((r-this._startedTime)/v)*(g-f),r>=this._startedTime+v&&(b=g,h.done=!0),i[d]=b,a[d]=b}else if(g!=null&&g===this._currentStyle[d])a[d]=g,l[d]=0,i[d]=g,o[d]=0;else{const _=(this._accumulatedTime[d]-Math.floor(this._accumulatedTime[d]/fa)*fa)/fa,v=Math.floor(this._accumulatedTime[d]/fa);for(let S=0;S<v;S++)[b,y]=eR(fa/1e3,b,y,h.val,h.tension,h.friction,h.precision);const[E,w]=eR(fa/1e3,b,y,h.val,h.tension,h.friction,h.precision);a[d]=b+(E-b)*_,l[d]=y+(w-y)*_,i[d]=b,o[d]=y,this._accumulatedTime[d]-=v*fa}}}this._timer=null,this._currentStyle=Object.assign({},a),this._currentVelocity=Object.assign({},l),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},o),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())}))}start(){this._prevTime=eh(),this._startedTime=eh(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=eh(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){const t=eh()-this._pausedTime;this._paused=!1,this._startedTime+=t,this._prevTime+=t,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();const e=Object.assign({},this._props),[t,r]=[e.to,e.from];e.from=t,e.to=r,this._props=Object.assign({},e),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},Rg(this._props.from))}getFinalStates(){return Object.assign({},Rg(this._props.to))}}const R$={PREFIX:`${G}-button`},vp={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light","outline"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"},Toe={SIZE:["extra-small","small","default","large","extra-large","custom"],ICON_PREFIX:"semi-icon-"};var Ioe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ooe=vp.sizes,{htmlTypes:Poe,btnTypes:xoe}=vp;let yp=class extends D.PureComponent{render(){const e=this.props,{children:t,block:r,htmlType:s,loading:i,circle:o,className:a,style:l,disabled:u,size:d,theme:h,type:f,prefixCls:g,iconPosition:b}=e,y=Ioe(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),_=Object.assign(Object.assign({disabled:u},cl(y,["x-semi-children-alias"])),{className:$(g,{[`${g}-${f}`]:!u&&f,[`${g}-disabled`]:u,[`${g}-size-large`]:d==="large",[`${g}-size-small`]:d==="small",[`${g}-light`]:h==="light",[`${g}-block`]:r,[`${g}-circle`]:o,[`${g}-borderless`]:h==="borderless",[`${g}-outline`]:h==="outline",[`${g}-${f}-disabled`]:u&&f},a),type:s,"aria-disabled":u}),v={};return a&&a.includes("-with-icon")||(v["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),m.createElement("button",Object.assign({},_,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:l}),m.createElement("span",Object.assign({className:$(`${g}-content`,this.props.contentClassName),onClick:E=>u&&E.stopPropagation()},v),t))}};yp.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:Dt,onClick:Dt,onMouseEnter:Dt,onMouseLeave:Dt,prefixCls:R$.PREFIX};yp.propTypes={children:c.node,disabled:c.bool,prefixCls:c.string,style:c.object,size:c.oneOf(Ooe),type:c.oneOf(xoe),block:c.bool,onClick:c.func,onMouseDown:c.func,circle:c.bool,loading:c.bool,htmlType:c.oneOf(Poe),theme:c.oneOf(vp.themes),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func,"aria-label":c.string,contentClassName:c.string};var Roe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Aoe=Toe.SIZE;class qs extends D.PureComponent{render(){const e=this.props,{children:t,iconPosition:r,iconSize:s,iconStyle:i,style:o,icon:a,noHorizontalPadding:l,theme:u,className:d,prefixCls:h,loading:f}=e,g=Roe(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),b=Object.assign({},o);Array.isArray(l)?(l.includes("left")&&(b.paddingLeft=0),l.includes("right")&&(b.paddingRight=0)):l===!0?(b.paddingLeft=0,b.paddingRight=0):typeof l=="string"&&(l==="left"&&(b.paddingLeft=0),l==="right"&&(b.paddingRight=0));let y=null,_=null;f&&!g.disabled?_=m.createElement(E$,null):m.isValidElement(a)&&(_=a);const v=$({[`${h}-content-left`]:r==="right",[`${h}-content-right`]:r==="left"}),E=this.props["x-semi-children-alias"]||"children",w=t!=null?m.createElement("span",{className:v,"x-semi-prop":E},t):null;r==="left"?y=m.createElement(m.Fragment,null,_,w):y=m.createElement(m.Fragment,null,w,_);const S=$(d,`${h}-with-icon`,{[`${h}-with-icon-only`]:w==null||w==="",[`${h}-loading`]:f});return m.createElement(yp,Object.assign({},g,{className:S,theme:u,style:b}),y)}}qs.defaultProps={iconPosition:vp.DEFAULT_ICON_POSITION,prefixCls:R$.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:j,onMouseLeave:j};qs.elementType="IconButton";qs.propTypes={iconStyle:c.object,style:c.object,loading:c.bool,prefixCls:c.string,icon:c.oneOfType([c.object,c.string,c.node]),iconSize:c.oneOf(Aoe),noHorizontalPadding:c.oneOfType([c.bool,c.string,c.array]),children:c.node,theme:c.string,iconPosition:c.oneOf(vp.iconPositions),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func};class ze extends m.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e)}render(){const e=Object.assign({},this.props),t=!!e.icon,r=!!e.loading,s=!!e.disabled;return t||r&&!s?m.createElement(qs,Object.assign({},e)):m.createElement(yp,Object.assign({},e))}}ze.__SemiComponentName__="Button";ze.propTypes=Object.assign(Object.assign({},yp.propTypes),qs.propTypes);ze.defaultProps=Ps(ze.__SemiComponentName__);ze.elementType="Button";const Doe={PREFIX:`${G}-space`},Il={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"},koe="Symbol(react.fragment)",Xw=n=>{let e=[];return m.Children.forEach(n,t=>{t!=null&&(Array.isArray(t)?e=e.concat(Xw(t)):D.isValidElement(t)&&t.type&&t.type.toString()===koe&&t.props?e=e.concat(Xw(t.props.children)):e.push(t))}),e},ii=Doe.PREFIX;class eo extends D.PureComponent{render(){const{children:e=null,style:t,className:r,spacing:s,wrap:i,align:o,vertical:a}=this.props,l=i&&a?!1:i,u=Object.assign({},t);let d="",h="";ke(s)?(d=s,h=s):tn(s)?(u.rowGap=s,u.columnGap=s):G1(s)&&(ke(s[0])?d=s[0]:tn(s[0])&&(u.columnGap=`${s[0]}px`),ke(s[1])?h=s[1]:tn(s[1])&&(u.rowGap=`${s[1]}px`));const f=$(ii,r,{[`${ii}-align-${o}`]:o,[`${ii}-vertical`]:a,[`${ii}-horizontal`]:!a,[`${ii}-wrap`]:l,[`${ii}-tight-horizontal`]:d===Il.SPACING_TIGHT,[`${ii}-tight-vertical`]:h===Il.SPACING_TIGHT,[`${ii}-medium-horizontal`]:d===Il.SPACING_MEDIUM,[`${ii}-medium-vertical`]:h===Il.SPACING_MEDIUM,[`${ii}-loose-horizontal`]:d===Il.SPACING_LOOSE,[`${ii}-loose-vertical`]:h===Il.SPACING_LOOSE}),g=Xw(e),b=bf(this.props);return m.createElement("div",Object.assign({},b,{className:f,style:u,"x-semi-prop":"children"}),g)}}eo.propTypes={wrap:c.bool,align:c.oneOf(Il.ALIGN_SET),vertical:c.bool,spacing:c.oneOfType([c.string,c.number,c.array]),children:c.node,style:c.object,className:c.string};eo.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};function Noe(n,e,t,r){for(var s=n.length,i=t+(r?1:-1);r?i--:++i<s;)if(e(n[i],i,n))return i;return-1}var A$=Noe;function Loe(n){return n!==n}var Moe=Loe;function $oe(n,e,t){for(var r=t-1,s=n.length;++r<s;)if(n[r]===e)return r;return-1}var Foe=$oe,joe=A$,Voe=Moe,Uoe=Foe;function Boe(n,e,t){return e===e?Uoe(n,e,t):joe(n,Voe,t)}var D$=Boe,Hoe=Z1,tR=1/0,zoe=17976931348623157e292;function Koe(n){if(!n)return n===0?n:0;if(n=Hoe(n),n===tR||n===-tR){var e=n<0?-1:1;return e*zoe}return n===n?n:0}var Woe=Koe,Goe=Woe;function Yoe(n){var e=Goe(n),t=e%1;return e===e?t?e-t:e:0}var zy=Yoe,qoe=md;function Xoe(n,e){return qoe(e,function(t){return n[t]})}var Qoe=Xoe,Zoe=Qoe,Joe=ul;function eae(n){return n==null?[]:Zoe(n,Joe(n))}var k$=eae;const N$=Ce(k$);var tae=D$,nae=ho,rae=WL,sae=zy,iae=k$,oae=Math.max;function aae(n,e,t,r){n=nae(n)?n:iae(n),t=t&&!r?sae(t):0;var s=n.length;return t<0&&(t=oae(s+t,0)),rae(n)?t<=s&&n.indexOf(e,t)>-1:!!s&&tae(n,e,t)>-1}var lae=aae;const pc=Ce(lae);var uae=Ly,cae=Su,dae=cM,hae=ho,fae=ap,pae=ul,gae=Object.prototype,mae=gae.hasOwnProperty,vae=dae(function(n,e){if(fae(e)||hae(e)){cae(e,pae(e),n);return}for(var t in e)mae.call(e,t)&&uae(n,t,e[t])}),yae=vae;const _ae=Ce(yae);var bae=D$;function wae(n,e){var t=n==null?0:n.length;return!!t&&bae(n,e,0)>-1}var L$=wae;function Eae(n,e,t){for(var r=-1,s=n==null?0:n.length;++r<s;)if(t(e,n[r]))return!0;return!1}var M$=Eae,Sae=dC,Cae=L$,Tae=M$,Iae=md,Oae=bd,Pae=hC,xae=200;function Rae(n,e,t,r){var s=-1,i=Cae,o=!0,a=n.length,l=[],u=e.length;if(!a)return l;t&&(e=Iae(e,Oae(t))),r?(i=Tae,o=!1):e.length>=xae&&(i=Pae,o=!1,e=new Sae(e));e:for(;++s<a;){var d=n[s],h=t==null?d:t(d);if(d=r||d!==0?d:0,o&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;l.push(d)}else i(e,h,r)||l.push(d)}return l}var $$=Rae,Aae=$$,Dae=PM,kae=oC,nR=sC,Nae=kae(function(n,e){return nR(n)?Aae(n,Dae(e,1,nR,!0)):[]}),Lae=Nae;const wv=Ce(Lae);var Mae=Ry,$ae=MM,Fae=vd;function jae(n,e,t){for(var r=-1,s=e.length,i={};++r<s;){var o=e[r],a=Mae(n,o);t(a,o)&&$ae(i,Fae(o,n),a)}return i}var Vae=jae;function Uae(n,e){return n!=null&&e in Object(n)}var Bae=Uae,Hae=vd,zae=lp,Kae=lr,Wae=My,Gae=rC,Yae=Eu;function qae(n,e,t){e=Hae(e,n);for(var r=-1,s=e.length,i=!1;++r<s;){var o=Yae(e[r]);if(!(i=n!=null&&t(n,o)))break;n=n[o]}return i||++r!=s?i:(s=n==null?0:n.length,!!s&&Gae(s)&&Wae(o,s)&&(Kae(n)||zae(n)))}var Xae=qae,Qae=Bae,Zae=Xae;function Jae(n,e){return n!=null&&Zae(n,e,Qae)}var F$=Jae,ele=Vae,tle=F$;function nle(n,e){return ele(n,e,function(t,r){return tle(n,r)})}var rle=nle,sle=rle,ile=xM,ole=ile(function(n,e){return n==null?{}:sle(n,e)}),ale=ole;const ru=Ce(ale);var lle=hd;function ule(n,e,t){for(var r=-1,s=n.length;++r<s;){var i=n[r],o=e(i);if(o!=null&&(a===void 0?o===o&&!lle(o):t(o,a)))var a=o,l=i}return l}var cle=ule;function dle(n,e){return n>e}var hle=dle,fle=cle,ple=hle,gle=hp;function mle(n){return n&&n.length?fle(n,gle,ple):void 0}var vle=mle;const yle=Ce(vle);var Vb=yM,_le=xL,ble=fC,wle=1/0,Ele=Vb&&1/ble(new Vb([,-0]))[1]==wle?function(n){return new Vb(n)}:_le,Sle=Ele,Cle=dC,Tle=L$,Ile=M$,Ole=hC,Ple=Sle,xle=fC,Rle=200;function Ale(n,e,t){var r=-1,s=Tle,i=n.length,o=!0,a=[],l=a;if(t)o=!1,s=Ile;else if(i>=Rle){var u=e?null:Ple(n);if(u)return xle(u);o=!1,s=Ole,l=new Cle}else l=e?[]:a;e:for(;++r<i;){var d=n[r],h=e?e(d):d;if(d=t||d!==0?d:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),a.push(d)}else s(l,h,t)||(l!==a&&l.push(h),a.push(d))}return a}var Dle=Ale,kle=Dle;function Nle(n){return n&&n.length?kle(n):[]}var Lle=Nle;const Mle=Ce(Lle),j$={PREFIX:`${G}-tree`,PREFIX_OPTION:`${G}-tree-option`};function V$(n,e){return`${n}-${e}`}function Ky(n){return!nu(n)&&!Ct(n)}function Sa(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const s=[],i=!!r,o=Z(t,"key","key"),a=Z(t,"children","children");function l(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map((h,f)=>{const g=V$(d?d.pos:"0",f),b=h[o],y={};t&&Object.entries(cl(t,"children")).forEach(E=>{let[w,S]=E;const O=h[S];!Ct(O)&&(y[w]=O)});const _=Object.assign(Object.assign(Object.assign({},ru(h,["key","label","value","icon","disabled","isLeaf"])),y),{parent:d,pos:g,children:null,data:h,_innerDataTag:!0,isEnd:[...d?d.isEnd:[],f===u.length-1]}),v=typeof r=="boolean";return(!i||!v&&r.has(b))&&s.push(_),e.has(b)&&(!i||!v&&r.has(b))?_.children=l(h[a]||[],_):_.children=[],_})}return l(n),s}function $le(n,e,t){const r=Z(t,"key","key"),s=Z(t,"children","children"),i=(o,a,l)=>{const u=o?o[s]:n,d=o?V$(l.pos,a):"0";if(o){const h=Z(o,r,null),f={data:Object.assign({},o),ind:a,pos:d,key:h!==null?h:d,parentPos:l.node?l.pos:null,level:Number(l.level)+1};e(f)}u&&u.forEach((h,f)=>{i(h,f,{node:o,pos:d,level:l?Number(l.level)+1:-1})})};i(null)}function Fle(n,e){const t={},r={},s={},i={posEntities:t,keyEntities:r,valueEntities:s},o=Z(e,"value","value");return $le(n,a=>{const{pos:l,key:u,parentPos:d}=a,h=Object.assign({},a),f=Z(h,`data.${o}`,null);f!==null&&(s[f]=u),t[l]=h,r[u]=h,h.parent=t[d],h.parent&&(h.parent.children=h.parent.children||[],h.parent.children.push(h))},e),i}function Ol(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!Ky(n))return[];if(!t&&Array.isArray(n)?n=n.length?[n[0]]:[]:Array.isArray(n)||(n=[n]),At(e))return n;const r=[];return n.forEach(s=>{s in e?r.push(e[s]):s&&r.push(s)}),r}function to(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{if(!i)return;const{children:o}=i;Ky(o)&&o.forEach(l=>{r.push(l.key),s(e[l.key])})};return n.forEach(i=>{t&&r.push(i),s(e[i])}),r}function jle(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=[];return n&&n.forEach(s=>{const i=e[s];i&&i.children&&i.children.forEach(o=>{(!t.length||!t.includes(o.key))&&r.push(o.key)})}),r}function DC(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[];return n.forEach(i=>{e[i]&&e[i].parent&&r.push(e[i].parent.key)}),jle(Mle(r),e,t?[]:n)}function no(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{i.parent&&(r.push(i.parent.key),s(i.parent))};return n.forEach(i=>{e[i]&&s(e[i]),t&&r.push(i)}),r}function Vle(n,e){const t={};return n.forEach(r=>{if(!e[r])return;const{level:s}=e[r];t[s]?t[s].push(r):t[s]=[r]}),t}function _p(n,e){const t=Array.isArray(n)?n:[n],r=to(t,e,!0),s=new Set([...r]);let i=new Set([]),o=[];const a=Vle(t,e),l=u=>{const{key:d,parent:h,level:f}=u;if(!h||o.includes(d))return;const g=DC([d],e);if(o=[...o,...g],g.every(y=>s.has(y)))s.add(h.key),f-1 in a&&f?a[f-1].push(h.key):a[f-1]=[h.key];else{const y=no([d],e,!1);i=new Set([...i,...y])}};for(;!At(a);){const u=yle(Object.keys(a).map(d=>Number(d)));a[u].forEach(d=>l(e[d])),delete a[u]}return{checkedKeys:s,halfCheckedKeys:i}}function Ub(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Array.isArray(n)||(n=[n]),t){const r=no(n,e,!0);return new Set(r)}return new Set(n)}function rR(n,e,t,r){const s=Ol(n,r,t);return new Set(no(s,e,!1))}function sR(n,e,t){let r="show";const s=[...n],i=[...e];if(Math.abs(s.length-i.length)!==1)return{motionType:r,motionKeys:[]};let o=[];return s.length>i.length?(r="hide",o=wv(s,i)):o=wv(i,s),{motionType:o.length===1?r:"show",motionKeys:o.length===1?to(o,t,!1):[]}}function U$(n,e,t,r){if(!t)return!0;let s=t,i=e;return typeof t=="boolean"&&(s=(o,a)=>{const l=o.toLowerCase();return a.toString().toLowerCase().includes(l)}),r&&(i=e[r]),s(n,i,e)}function hi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3?arguments[3]:void 0;const s=[],i=new Set(n);return t?n.forEach(o=>{e[o]&&!Ky(e[o].children)&&s.push(o),!e[o]&&r&&s.push(o)}):n.forEach(o=>{if(!e[o]){r&&s.push(o);return}const{parent:a}=e[o];a&&i.has(a.key)||s.push(o)}),s}function iR(n,e,t){const r=[],s=i=>{t[i].children&&t[i].children.forEach(o=>{const{key:a}=o;r.push(a),e.has(a)&&s(a)})};return s(n),r}function B$(n,e,t,r){const s=to([n],e,!0),i=e[n];t=new Set([...t,n]);const o=a=>{if(!a.parent)return;const{key:l}=a;if(DC([l],e).every(h=>t.has(h))){const h=a.parent;t.add(h.key),o(h)}else{const h=no([l],e,!1);r=new Set([...r,...h])}};return o(i),{checkedKeys:new Set([...t,...s]),halfCheckedKeys:r}}function H$(n,e,t,r){const s=to([n],e,!0),i=e[n];s.forEach(a=>{t.has(a)&&t.delete(a),r.has(a)&&r.delete(a)});const o=a=>{const l=a.parent;if(!l||!t.has(l.key)&&!r.has(l.key))return;const{key:u}=a,h=DC([u],e).some(g=>t.has(g)||r.has(g)),f=no([u],e,!1);h?f.forEach(g=>{t.has(g)&&(t.delete(g),r.add(g))}):(t.has(l.key)&&t.delete(l.key),r.has(l.key)&&r.delete(l.key),o(l))};return i&&o(i),{checkedKeys:t,halfCheckedKeys:r}}function Ule(n){const{showFilteredOnly:e,keyEntities:t,inputValue:r,treeData:s,filterTreeNode:i,filterProps:o,prevExpandedKeys:a,keyMaps:l}=n;let u=[];u=Object.values(t).filter(b=>U$(r,b.data,i,o)).map(b=>b.key);let d=no(u,t,!1);if(a.length){const b=a.filter(y=>!!t[y]);d=d.concat(b)}const h=to(u,t,!0),f=new Set([...h,...d]);return{flattenNodes:Sa(s,new Set(d),l,e&&f),filteredKeys:new Set(u),filteredExpandedKeys:new Set(d),filteredShownKeys:f}}function Ev(n,e){const t=Z(e,"value","value"),r=Z(e,"key","key");return Array.isArray(n)?n.map(s=>Z(s,t,s[r])):Z(n,t,n[r])}function pa(n,e,t){return e&&Ky(n)?Ev(n,t):n}function oR(n,e){return[...n].filter(r=>r in e)}function z$(n,e){const t=Z(e,"disabled","disabled"),r=Object.keys(n).filter(i=>n[i].data[t]),{checkedKeys:s}=_p(r,n);return s}const K$={PREFIX:`${G}-cascader`,PREFIX_OPTION:`${G}-cascader-option`},Jt={SIZE_SET:["small","large","default"],VALIDATE_STATUS:["success","default","error","warning"],IS_KEY:"isKey",IS_VALUE:"isValue",SHOW_NEXT_BY_CLICK:"click",SHOW_NEXT_BY_HOVER:"hover",LEAF_ONLY_MERGE_TYPE:"leafOnly",AUTO_MERGE_VALUE_MERGE_TYPE:"autoMergeValue",NONE_MERGE_TYPE:"none",SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_CUSTOM:"custom",RELATED:"related",UN_RELATED:"unRelated"},W$="_SEMI_CASCADER_SPLIT_";function Ble(n,e){return`${n}-${e}`}function Hle(n){return!nu(n)&&!Ct(n)}function zle(n){return Array.isArray(n)?n:[n]}function Kle(n,e,t,r){if(!t)return!0;let s=t,i;return typeof t=="boolean"?(s=(o,a)=>{const l=o.toLowerCase();return a.toLowerCase().includes(l)},i=r.join("")):i=r.join(),s(n,i,e)}function Wle(n,e){const t=(r,s,i)=>{const o=r?r.children:n;let a=null;if(r){const l=i?`${i.key}${W$}${r.value}`:`${r.value}`,u=i?Ble(i.pos,s):`${s}`;a={data:Object.assign({},r),ind:s,key:l,pos:u,level:i?i.level+1:0,parentKey:i?i.key:null,path:i?[...i.path,l]:[l],valuePath:i?[...i.valuePath,r.value]:[r.value]},e(a)}o&&o.forEach((l,u)=>{t(l,u,a)})};t(null)}function Gle(n){return n!=null&&n.length?Array.isArray(n[0])?n.map(e=>Sv(e)):[Sv(n)]:[]}function Sv(n){return n.join(W$)}function Yle(n,e){const t=n.split("-").map(i=>Number(i));let r=e,s=[];return t.forEach((i,o)=>{var a;r=o===0?r[i]:(a=r==null?void 0:r.children)===null||a===void 0?void 0:a[i],s.push(r==null?void 0:r.value)}),Sv(s)}function G$(n){const e={};return Wle(n,t=>{const{key:r,parentKey:s}=t,i=Object.assign({},t);e[r]=i,i.parent=e[s],i.parent&&(i.parent.children=i.parent.children||[],i.parent.children.push(i))}),e}function Qw(n,e){let t;return e?t=Jt.LEAF_ONLY_MERGE_TYPE:n?t=Jt.AUTO_MERGE_VALUE_MERGE_TYPE:t=Jt.NONE_MERGE_TYPE,t}class qle extends Ne{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===m$&&this.getState("isOpen")&&this.close(t)},this.updateSearching=t=>{this._adapter.updateStates({isSearching:!1})},this.handleTagRemoveByKey=t=>{var r,s;const{keyEntities:i}=this.getStates(),{disabled:o}=this.getProps();if(o)return;const a=(r=i[t])!==null&&r!==void 0?r:{};!(!((s=a==null?void 0:a.data)===null||s===void 0)&&s.disable)&&this._handleMultipleSelect(a),this._adapter.rePositionDropdown()},this.handleTagRemoveInTrigger=t=>{const{treeData:r}=this.getStates(),s=Yle(t,r);this.handleTagRemoveByKey(s)}}init(){const e=this.getProp("open")||this.getProp("defaultOpen");this.collectOptions(!0),this._adapter.updateLoadingKeyRefValue(new Set),this._adapter.updateLoadedKeyRefValue(new Set),e&&!this._isDisabled()&&this.open()}destroy(){this._adapter.unregisterClickOutsideHandler()}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filterTreeNode")}_notifyChange(e){const{onChangeWithObject:t,multiple:r}=this.getProps(),s=t?[]:"value";if(r){const i=[];e.forEach(o=>{const a=this.getItemPropPath(o,s);i.push(a)}),this._adapter.notifyChange(i)}else{const i=Ct(e)||!("key"in e)?[]:this.getItemPropPath(e.key,s);this._adapter.notifyChange(i)}}_isLeaf(e){return this.getProp("loadData")?!!e.isLeaf:!e.children||!e.children.length}_clearInput(){this._adapter.updateInputValue("")}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}_isOptionDisabled(e,t){return no([e],t,!0).some(s=>t[s].data.disabled)}getItemPropPath(e,t,r){const s=r||this.getState("keyEntities"),i=s[e];let o=[];if(i)if(i._notExist)o=i.path;else{const a=i.path;o=Array.isArray(t)?a.map(l=>s[l].data):a.map(l=>s[l].data[t])}return o}_getCacheValue(e){const{selectedKeys:t}=this.getStates(),r=Array.from(t)[0];let s;if(At(e[r]))if(pc(r,"not-exist-")){const i=r.match(/not-exist-(\S*)/)[1];At(e[i])?s=i:s=e[i].valuePath}else s=r;else s=e[r].valuePath;return s}collectOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{treeData:t,value:r,defaultValue:s}=this.getProps(),i=G$(t);this._adapter.rePositionDropdown();let o;e?o=s:At(i)||(o=this._getCacheValue(i));const a=this._isControlledComponent()?Ct(r)?[]:r:o;Hle(a)?this.updateSelectedKey(a,i):this._adapter.updateStates({keyEntities:i})}handleValueChange(e){const{keyEntities:t}=this.getStates();this.updateSelectedKey(e,t)}_getClearSelectedKey(e){const t={},{searchPlaceholder:r,placeholder:s,multiple:i}=this.getProps();return t.selectedKeys=new Set([]),t.activeKeys=new Set([]),t.filteredKeys=new Set([]),e&&!i&&(t.inputPlaceHolder=r||s||"",t.inputValue=""),t}updateSelectedKey(e,t){const{changeOnSelect:r,onChangeWithObject:s,multiple:i}=this.getProps(),{activeKeys:o,loading:a,keyEntities:l,selectedKeys:u}=this.getStates(),d=this._adapter.getLoadingKeyRefValue(),h=this._isFilterable(),f=[...o].filter(w=>d.has(w)),g=zle(e),b=s&&Wo(g[0])?g.map(w=>w.value):g,y=Gle(b);let _={};const v=y.length>0?y[0]:void 0,E=v?t[v]:void 0;if(E)if(r||this._isLeaf(E.data)){if(_.selectedKeys=new Set([v]),f.length||(_.activeKeys=new Set(E.path)),h&&!i){const w=this.renderDisplayText(v,t);_.inputPlaceHolder=w}}else je(y,Array.from(u))&&(_=this._getClearSelectedKey(h));else if(e&&e.length){const w=b[b.length-1],S=`not-exist-${w}`,O={data:{label:w,value:w},key:S,path:b,_notExist:!0};if(_.selectedKeys=new Set([S]),h&&!i){const x=this._defaultRenderText(b);_.inputPlaceHolder=x}t[S]=O}else if(a){_.keyEntities=_ae(l,t),this._adapter.updateStates(_);return}else _=this._getClearSelectedKey(h);_.keyEntities=t,this._adapter.updateStates(_)}open(){const e=this._isFilterable(),{multiple:t}=this.getProps();this._adapter.openMenu(),e&&(this._clearInput(),!t&&this.toggle2SearchInput(!0)),this._isControlledComponent()&&this.reCalcActiveKeys(),this._adapter.notifyDropdownVisibleChange(!0),this._adapter.registerClickOutsideHandler(r=>this.close(r))}reCalcActiveKeys(){const{selectedKeys:e,activeKeys:t,keyEntities:r}=this.getStates(),s=[...e][0],i=r[s];if(!i)return;const o=new Set(i.path);je(o,t)||this._adapter.updateStates({activeKeys:o})}close(e,t){const{multiple:r}=this.getProps();if(this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.unregisterClickOutsideHandler(),this._isFilterable()){const{selectedKeys:s,isSearching:i}=this.getStates();let o="";t&&!r?o=this.renderDisplayText(t):s.size&&!r&&(o=this.renderDisplayText([...s][0])),this._adapter.updateStates({inputValue:o}),!r&&this.toggle2SearchInput(!1),!r&&this._adapter.updateFocusState(!1)}this._notifyBlur(e)}focus(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.focusInput(),this._adapter.updateFocusState(!0)}blur(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.blurInput(),this._adapter.updateFocusState(!1)}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focus()):this._adapter.toggleInputShow(e,()=>{})}handleItemClick(e,t){this._isDisabled()||(this.handleSingleSelect(e,t),this._adapter.rePositionDropdown())}handleItemHover(e,t){this._isDisabled()||this.handleShowNextByHover(t)}handleShowNextByHover(e){const{keyEntities:t}=this.getStates(),{data:r,key:s}=e,i=this._isLeaf(r),o=t[s].path;this._adapter.updateStates({activeKeys:new Set(o)}),i||this.notifyIfLoadData(e)}onItemCheckboxClick(e){this._isDisabled()||(this._handleMultipleSelect(e),this._adapter.rePositionDropdown())}handleClick(e){const t=this._isDisabled(),r=this._isFilterable(),{isOpen:s}=this.getStates();t||(s?s&&!r&&this.close(e):(this.open(),this._notifyFocus(e)))}handleSelectionEnterPress(e){ti(e)&&this.handleClick(e)}toggleHoverState(e){this._adapter.toggleHovering(e)}_defaultRenderText(e,t){const r=this.getProp("separator");return t&&typeof t=="function"?t(e):e.join(r)}renderDisplayText(e,t){const r=this.getProp("displayRender"),s=this.getProp("displayProp"),i=this.getItemPropPath(e,s,t);return this._defaultRenderText(i,r)}handleNodeLoad(e){const{data:t,key:r}=e,s=new Set(this._adapter.getLoadingKeyRefValue()),o=new Set(this._adapter.getLoadedKeyRefValue()).add(r),a=new Set([...s]);a.delete(r),this._adapter.notifyOnLoad(o,t),this._adapter.updateLoadingKeyRefValue(a),this._adapter.updateLoadedKeyRefValue(o),this._adapter.updateStates({loadingKeys:a,loadedKeys:o})}notifyIfLoadData(e){const{data:t,key:r}=e;if(this._adapter.updateStates({loading:!1}),!t.isLeaf&&!t.children&&this.getProp("loadData")){const s=this._adapter.getLoadedKeyRefValue(),i=new Set(this._adapter.getLoadingKeyRefValue());if(s.has(r)||i.has(r))return;this._adapter.updateStates({loading:!0});const{keyEntities:o}=this.getStates(),a=this.getItemPropPath(r,[],o),l=i.add(r);this._adapter.updateLoadingKeyRefValue(l),this._adapter.updateStates({loadingKeys:l}),this._adapter.notifyLoadData(a,this.handleNodeLoad.bind(this,e))}}handleSingleSelect(e,t){const{changeOnSelect:r,filterLeafOnly:s,multiple:i,enableLeafClick:o}=this.getProps(),{keyEntities:a,selectedKeys:l,isSearching:u}=this.getStates(),d=this._isFilterable(),{data:h,key:f}=t,g=this._isLeaf(h),b=a[f].path,y=[f],_=f!==[...l][0];if(!g&&!r&&!u){this._adapter.updateStates({activeKeys:new Set(b)}),this.notifyIfLoadData(t);return}if(i)this._adapter.updateStates({activeKeys:new Set(b)}),g&&o&&this.onItemCheckboxClick(t);else if(this._adapter.notifySelect(h.value),_){if(this._notifyChange(t),this.notifyIfLoadData(t),this._isControlledComponent()){this._adapter.updateStates({activeKeys:new Set(b)}),g&&this.close(e);return}this._adapter.updateStates({activeKeys:new Set(b),selectedKeys:new Set(y)});const v=this.renderDisplayText(f);d&&this._adapter.updateInputPlaceHolder(v),g?this.close(e,f):!s&&u&&this.close(e,f)}else this.close(e)}_handleMultipleSelect(e){const{checkRelation:t}=this.getProps();t===Jt.RELATED?this._handleRelatedMultipleSelect(e):t==="unRelated"&&this._handleUnRelatedMultipleSelect(e),this._adapter.updateStates({inputValue:""})}_handleRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s,resolvedCheckedKeys:i}=this.getStates(),{autoMergeValue:o,max:a,disableStrictly:l,leafOnly:u}=this.getProps(),d=r.has(t),h=l?this.calcCheckedStatus(!d,t):!d,{checkedKeys:f,halfCheckedKeys:g}=l?this.calcNonDisabledCheckedKeys(t,h):this.calcCheckedKeys(t,h),b=Qw(o,u),y=b===Jt.LEAF_ONLY_MERGE_TYPE,_=b===Jt.NONE_MERGE_TYPE,v=new Set(hi(f,s,y)),E=_?f:v;if(tn(a)){if(_){if(r.size<f.size&&f.size>a){const w=[];f.forEach(S=>{w.push(s[S])}),this._adapter.notifyOnExceed(w);return}}else if(i.size<v.size&&v.size>a){const w=[];v.forEach(S=>{w.push(s[S])}),this._adapter.notifyOnExceed(w);return}}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:f,halfCheckedKeys:g,resolvedCheckedKeys:v}),this._notifyChange(E),h&&this._notifySelect(E)}_handleUnRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s}=this.getStates(),{max:i}=this.getProps(),o=new Set(r);let a;if(r.has(t))o.delete(t),a=!1;else{if(tn(i)&&r.size>=i){const u=[];r.forEach(d=>{u.push(s[d])}),this._adapter.notifyOnExceed(u);return}o.add(t),a=!0}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:o}),this._notifyChange(o),a&&this._notifySelect(o)}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),o=hi(to([e],r,!1),r,!0);if(!o.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=o.filter(d=>!s.has(d)),u=t?[...l,...i]:wv(hi([...i],r,!0),l);return _p(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),o=hi(to([t],s,!1),s,!0);return o.some(d=>i.has(d))?!o.filter(d=>!i.has(d)).every(d=>r.has(d)):e}_notifySelect(e){const{keyEntities:t}=this.getStates(),r=[];e.forEach(i=>{var o,a;const l=(a=(o=t[i])===null||o===void 0?void 0:o.data)===null||a===void 0?void 0:a.value;l!==void 0&&r.push(l)});const s=r.length===1?r[0]:r;this._adapter.notifySelect(s)}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?B$(e,r,s,i):H$(e,r,s,i)}handleInputChange(e){this._adapter.updateInputValue(e);const{keyEntities:t}=this.getStates(),{treeNodeFilterProp:r,filterTreeNode:s,filterLeafOnly:i}=this.getProps();let o=[];e&&(o=Object.values(t).filter(a=>{const{key:l,_notExist:u,data:d}=a;if(u)return!1;const h=this.getItemPropPath(l,r);return Kle(e,d,s,h)}).filter(a=>s&&!i||this._isLeaf(a)).map(a=>a.key)),this._adapter.updateStates({isSearching:!!e,filteredKeys:new Set(o)}),this._adapter.notifyOnSearch(e),this._adapter.rePositionDropdown()}handleClear(){const{isSearching:e}=this.getStates(),{searchPlaceholder:t,placeholder:r,multiple:s}=this.getProps(),i=this._isFilterable(),o=this._isControlledComponent(),a={};s?(a.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch(""),a.checkedKeys=new Set([]),a.halfCheckedKeys=new Set([]),a.selectedKeys=new Set([]),a.activeKeys=new Set([]),a.resolvedCheckedKeys=new Set([]),this._adapter.notifyChange([])):i&&e?(a.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")):(i&&(a.inputValue="",a.inputPlaceHolder=t||r||"",this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")),o||(a.selectedKeys=new Set([])),a.activeKeys=new Set([]),a.filteredKeys=new Set([]),this._adapter.notifyChange([])),this._adapter.updateStates(a),this._adapter.notifyClear(),this._adapter.rePositionDropdown()}handleClearEnterPress(e){ti(e)&&this.handleClear()}getRenderData(){const{keyEntities:e,isSearching:t}=this.getStates(),r=this._isFilterable();return t&&r?this.getFilteredData():Object.values(e).filter(s=>s.parentKey===null&&!s._notExist).sort((s,i)=>parseInt(s.ind,10)-parseInt(i.ind,10))}getFilteredData(){const{treeNodeFilterProp:e,filterSorter:t}=this.getProps(),{filteredKeys:r,keyEntities:s,inputValue:i}=this.getStates(),o=[];return[...r].forEach(l=>{const u=s[l];if(!u)return;const d=this.getItemPropPath(l,[]),h=d.map(g=>g[e]),f=this._isOptionDisabled(l,s);o.push({data:u.data,pathData:d,key:l,disabled:f,searchText:h})}),De(t)&&o.sort((l,u)=>t(l.pathData,u.pathData,i)),o}handleListScroll(e,t){const{activeKeys:r,keyEntities:s}=this.getStates(),i=[...r][r.size-1],o=i?Z(s,[i,"data"],null):null;this._adapter.notifyListScroll(e,{panelIndex:t,activeNode:o})}}var Xle=xi,Qle=rs,Zle="[object Boolean]";function Jle(n){return n===!0||n===!1||Qle(n)&&Xle(n)==Zle}var eue=Jle;const Y$=Ce(eue),um={PREFIX:`${G}-checkbox`,INNER:`${G}-checkbox-inner`,TEXT:`${G}-checkbox-text`,INPUT:`${G}-checkbox-input`,CHECKED:`${G}-checkbox-checked`,DISABLED:`${G}-checkbox-disabled`,BUTTON:`${G}-checkbox-button`,WRAPPER:""},tue={PREFIX:`${G}-checkboxGroup`,INNER:`${G}-checkboxGroup-inner`,TEXT:`${G}-checkboxGroup-text`,INPUT:`${G}-checkboxGroup-input`,CHECKED:`${G}-checkboxGroup-checked`,DISABLED:`${G}-checkboxGroup-disabled`},Wi={DIRECTION_SET:["horizontal","vertical"],TYPE_DEFAULT:"default",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",DEFAULT_DIRECTION:"vertical"};class nue extends Ne{constructor(e){super(Object.assign({},e)),this.clickState=!1,this.handleFocusVisible=t=>{const{target:r}=t;try{if(this.clickState){this.clickState=!1;return}r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{qt(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}notifyChange(e,t){const r=this._adapter.generateEvent(e,t);this._adapter.notifyChange(r)}handleChange(e){if(this.getProp("disabled"))return;if((e==null?void 0:e.type)==="click"&&(this.clickState=!0),this._adapter.focusCheckboxEntity(),this._adapter.getIsInGroup()){this._adapter.getGroupDisabled()||this.handleChangeInGroup(e);return}const i=!this.getState("checked");this._isControlledComponent("checked")?this.notifyChange(i,e):(this.setChecked(i),this.notifyChange(i,e))}handleChangeInGroup(e){const{value:t}=this.getProps(),i=!this._adapter.getGroupValue().includes(t),o=this._adapter.generateEvent(i,e);this._adapter.notifyChange(o),this._adapter.notifyGroupChange(o)}handleEnterPress(e){ti(e)&&this.handleChange(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}destroy(){}}const kC=m.createContext({});class Wy extends D.PureComponent{blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){const{indeterminate:e,checked:t,disabled:r,prefixCls:s,name:i,isPureCardType:o,addonId:a,extraId:l,focusInner:u,onInputFocus:d,onInputBlur:h}=this.props,f=s||um.PREFIX,g=$({[`${f}-inner`]:!0,[`${f}-inner-checked`]:!!t,[`${f}-inner-pureCardType`]:o},um.WRAPPER),b=$({[`${f}-inner-display`]:!0,[`${f}-focus`]:u,[`${f}-focus-border`]:u&&!t}),y=t?m.createElement(Dse,null):e?m.createElement(Rse,null):null,_={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":r,"aria-checked":t,"aria-labelledby":a,"aria-describedby":l||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:um.INPUT,onChange:j,checked:t,disabled:r,onFocus:d,onBlur:h};return i&&(_.name=i),m.createElement("span",{className:g},m.createElement("input",Object.assign({},_,{ref:v=>{this.inputEntity=v}})),m.createElement("span",{className:b},y))}}Wy.contextType=kC;Wy.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,disabled:c.bool,onChange:c.func,children:c.node,grouped:c.bool,value:c.any,isPureCardType:c.bool,addonId:c.string,extraId:c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};Wy.defaultProps={onChange:j};class qo extends xe{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{const{onChange:t}=this.props;t&&t(e)},generateEvent:(e,t)=>{const{props:r}=this;return{target:Object.assign(Object.assign({},r),{checked:e}),stopPropagation:()=>{t.stopPropagation()},preventDefault:()=>{t.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation()}}}},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:e=>{this.context.checkboxGroup.onChange(e)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:Go({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:Go({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})},focusCheckboxEntity:()=>{this.focus()}})}constructor(e){super(e),this.handleChange=r=>this.foundation.handleChange(r),this.handleEnterPress=r=>this.foundation.handleEnterPress(r),this.handleFocusVisible=r=>{this.foundation.handleFocusVisible(r)},this.handleBlur=r=>{this.foundation.handleBlur()};const t=!1;this.state={checked:e.checked||e.defaultChecked||t,addonId:e.addonId,extraId:e.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new nue(this.adapter)}componentDidUpdate(e){this.props.checked!==e.checked&&(Ct(this.props.checked)?this.foundation.setChecked(!1):Y$(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return!!(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){const{disabled:e,style:t,prefixCls:r,className:s,indeterminate:i,children:o,onMouseEnter:a,onMouseLeave:l,extra:u,value:d,role:h,tabIndex:f,id:g,type:b}=this.props,{checked:y,addonId:_,extraId:v,focusVisible:E}=this.state,w={checked:y,disabled:e},S=this.isInGroup();if(S){if(this.context.checkboxGroup.value){const N=(this.context.checkboxGroup.value||[]).includes(d);w.checked=N}this.context.checkboxGroup.disabled&&(w.disabled=this.context.checkboxGroup.disabled||this.props.disabled);const{isCardType:k,isPureCardType:M}=this.context.checkboxGroup;w.isCardType=k,w.isPureCardType=M,w.name=this.context.checkboxGroup.name}else w.isPureCardType=b===Wi.TYPE_PURECARD,w.isCardType=b===Wi.TYPE_CARD||w.isPureCardType;const O=r||um.PREFIX,x=w.isCardType||w.isPureCardType,I=$(O,{[`${O}-disabled`]:w.disabled,[`${O}-indeterminate`]:i,[`${O}-checked`]:w.checked,[`${O}-unChecked`]:!w.checked,[`${O}-cardType`]:w.isCardType,[`${O}-cardType_disabled`]:w.disabled&&w.isCardType,[`${O}-cardType_enable`]:!(w.disabled&&w.isCardType),[`${O}-cardType_checked`]:w.isCardType&&w.checked&&!w.disabled,[`${O}-cardType_checked_disabled`]:w.isCardType&&w.checked&&w.disabled,[s]:!!s,[`${O}-focus`]:E&&x}),T=$(`${O}-extra`,{[`${O}-cardType_extra_noChildren`]:w.isCardType&&!o});S&&this.context.checkboxGroup.name;const P=this.props["x-semi-children-alias"]||"children",A=()=>!o&&!u?null:m.createElement("div",{className:`${O}-content`},o?m.createElement("span",{id:_,className:`${O}-addon`,"x-semi-prop":P},o):null,u?m.createElement("div",{id:v,className:T,"x-semi-prop":"extra"},u):null);return m.createElement("span",Object.assign({role:h,tabIndex:f,style:t,className:I,id:g,onMouseEnter:a,onMouseLeave:l,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),m.createElement(Wy,Object.assign({},this.props,w,{addonId:o&&_,extraId:u&&v,isPureCardType:w.isPureCardType,ref:k=>{this.checkboxEntity=k},focusInner:E&&!x,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),A())}}qo.contextType=kC;qo.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,defaultChecked:c.bool,disabled:c.bool,indeterminate:c.bool,onChange:c.func,value:c.any,style:c.object,className:c.string,prefixCls:c.string,onMouseEnter:c.func,onMouseLeave:c.func,extra:c.node,index:c.number,"aria-label":c.string,tabIndex:c.number,preventScroll:c.bool,type:c.string};qo.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:j,onMouseEnter:j,onMouseLeave:j,type:"default"};qo.elementType="Checkbox";class NC extends Ne{static get checkboxGroupDefaultAdapter(){return{}}constructor(e){super(Object.assign(Object.assign({},NC.checkboxGroupDefaultAdapter),e))}init(){const{defaultValue:e,value:t}=this.getProps();typeof e<"u"&&!Array.isArray(e)&&qt(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),typeof t<"u"&&!Array.isArray(t)&&qt(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(e){this._adapter.notifyChange(e)}handleChange(e){const t=this.getState("value");let r=[];Array.isArray(t)||(r=[t]),e.target.checked?r=[...t,e.target.value]:r=t.filter((i,o)=>i!==e.target.value),"value"in this.getProps()?this.notifyChange(r):(this._adapter.updateGroupValue(r),this.notifyChange(r))}getFormatName(){return this.getProp("name")||"default"}handlePropValueChange(e){Array.isArray(e)?this._adapter.updateGroupValue(e):(typeof e>"u"&&this._adapter.updateGroupValue([]),qt(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}}class bp extends xe{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:e=>{this.setState({value:e})},notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}constructor(e){super(e),this.state={value:e.value||e.defaultValue},this.foundation=new NC(this.adapter),this.onChange=this.onChange.bind(this)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){je(e.value,this.props.value)||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(e){this.foundation.handleChange(e)}render(){const{children:e,options:t,prefixCls:r,direction:s,className:i,id:o,style:a,type:l,disabled:u}=this.props,d=l===Wi.TYPE_PURECARD,h=l===Wi.TYPE_CARD||d,f=r||tue.PREFIX,g=$({[f]:!0,[`${f}-wrapper`]:!0,[`${f}-${s}`]:s,[`${f}-${s}-cardType`]:s&&h,[`${f}-${s}-pureCardType`]:s&&d},i),b=this.state.value.slice();let y;return t?y=(t||[]).map((_,v)=>typeof _=="string"?m.createElement(qo,{role:"listitem",key:v,disabled:this.props.disabled,value:_,prefixCls:r},_):m.createElement(qo,{role:"listitem",key:v,disabled:_.disabled||this.props.disabled,value:_.value,prefixCls:r,extra:_.extra,className:_.className,style:_.style,onChange:_.onChange},_.label)):e&&(y=m.Children.toArray(e).map((_,v)=>m.cloneElement(_,{key:v,role:"listitem"}))),m.createElement("div",Object.assign({id:o,role:"list","aria-label":this.props["aria-label"],className:g,style:a,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),m.createElement(kC.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:b,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:h,isPureCardType:d}}},y))}}bp.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,defaultValue:c.array,disabled:c.bool,name:c.string,options:c.array,value:c.array,onChange:c.func,children:c.node,prefixCls:c.string,direction:c.oneOf(Wi.DIRECTION_SET),className:c.string,type:c.oneOf([Wi.TYPE_DEFAULT,Wi.TYPE_CARD,Wi.TYPE_PURECARD]),style:c.object};bp.defaultProps={disabled:!1,onChange:()=>{},type:Wi.TYPE_DEFAULT,defaultValue:[],direction:Wi.DEFAULT_DIRECTION};class Zw extends qo{}Zw.Group=bp;function Jw(){return Jw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jw.apply(null,arguments)}function rue(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,mv(n,e)}var aR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function sue(n,e){return!!(n===e||aR(n)&&aR(e))}function iue(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!sue(n[t],e[t]))return!1;return!0}function Bb(n,e){e===void 0&&(e=iue);var t,r=[],s,i=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return i&&t===this&&e(a,r)||(s=n.apply(this,a),i=!0,t=this,r=a),s}return o}var oue=typeof performance=="object"&&typeof performance.now=="function",lR=oue?function(){return performance.now()}:function(){return Date.now()};function uR(n){cancelAnimationFrame(n.id)}function aue(n,e){var t=lR();function r(){lR()-t>=e?n.call(null):s.id=requestAnimationFrame(r)}var s={id:requestAnimationFrame(r)};return s}var Hb=-1;function cR(n){if(n===void 0&&(n=!1),Hb===-1||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),Hb=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Hb}var Uu=null;function dR(n){if(n===void 0&&(n=!1),Uu===null||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Uu="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Uu="negative":Uu="positive-ascending"),document.body.removeChild(e),Uu}return Uu}var lue=150,uue=function(e,t){return e};function cue(n){var e,t=n.getItemOffset,r=n.getEstimatedTotalSize,s=n.getItemSize,i=n.getOffsetForIndexAndAlignment,o=n.getStartIndexForOffset,a=n.getStopIndexForStartIndex,l=n.initInstanceProps,u=n.shouldResetStyleCacheOnItemSizeChange,d=n.validateProps;return e=function(h){rue(f,h);function f(b){var y;return y=h.call(this,b)||this,y._instanceProps=l(y.props,ue(y)),y._outerRef=void 0,y._resetIsScrollingTimeoutId=null,y.state={instance:ue(y),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof y.props.initialScrollOffset=="number"?y.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},y._callOnItemsRendered=void 0,y._callOnItemsRendered=Bb(function(_,v,E,w){return y.props.onItemsRendered({overscanStartIndex:_,overscanStopIndex:v,visibleStartIndex:E,visibleStopIndex:w})}),y._callOnScroll=void 0,y._callOnScroll=Bb(function(_,v,E){return y.props.onScroll({scrollDirection:_,scrollOffset:v,scrollUpdateWasRequested:E})}),y._getItemStyle=void 0,y._getItemStyle=function(_){var v=y.props,E=v.direction,w=v.itemSize,S=v.layout,O=y._getItemStyleCache(u&&w,u&&S,u&&E),x;if(O.hasOwnProperty(_))x=O[_];else{var I=t(y.props,_,y._instanceProps),T=s(y.props,_,y._instanceProps),P=E==="horizontal"||S==="horizontal",A=E==="rtl",k=P?I:0;O[_]=x={position:"absolute",left:A?void 0:k,right:A?k:void 0,top:P?0:I,height:P?"100%":T,width:P?T:"100%"}}return x},y._getItemStyleCache=void 0,y._getItemStyleCache=Bb(function(_,v,E){return{}}),y._onScrollHorizontal=function(_){var v=_.currentTarget,E=v.clientWidth,w=v.scrollLeft,S=v.scrollWidth;y.setState(function(O){if(O.scrollOffset===w)return null;var x=y.props.direction,I=w;if(x==="rtl")switch(dR()){case"negative":I=-w;break;case"positive-descending":I=S-E-w;break}return I=Math.max(0,Math.min(I,S-E)),{isScrolling:!0,scrollDirection:O.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._onScrollVertical=function(_){var v=_.currentTarget,E=v.clientHeight,w=v.scrollHeight,S=v.scrollTop;y.setState(function(O){if(O.scrollOffset===S)return null;var x=Math.max(0,Math.min(S,w-E));return{isScrolling:!0,scrollDirection:O.scrollOffset<x?"forward":"backward",scrollOffset:x,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._outerRefSetter=function(_){var v=y.props.outerRef;y._outerRef=_,typeof v=="function"?v(_):v!=null&&typeof v=="object"&&v.hasOwnProperty("current")&&(v.current=_)},y._resetIsScrollingDebounced=function(){y._resetIsScrollingTimeoutId!==null&&uR(y._resetIsScrollingTimeoutId),y._resetIsScrollingTimeoutId=aue(y._resetIsScrolling,lue)},y._resetIsScrolling=function(){y._resetIsScrollingTimeoutId=null,y.setState({isScrolling:!1},function(){y._getItemStyleCache(-1,null)})},y}f.getDerivedStateFromProps=function(y,_){return due(y,_),d(y),null};var g=f.prototype;return g.scrollTo=function(y){y=Math.max(0,y),this.setState(function(_){return _.scrollOffset===y?null:{scrollDirection:_.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},g.scrollToItem=function(y,_){_===void 0&&(_="auto");var v=this.props,E=v.itemCount,w=v.layout,S=this.state.scrollOffset;y=Math.max(0,Math.min(y,E-1));var O=0;if(this._outerRef){var x=this._outerRef;w==="vertical"?O=x.scrollWidth>x.clientWidth?cR():0:O=x.scrollHeight>x.clientHeight?cR():0}this.scrollTo(i(this.props,y,_,S,this._instanceProps,O))},g.componentDidMount=function(){var y=this.props,_=y.direction,v=y.initialScrollOffset,E=y.layout;if(typeof v=="number"&&this._outerRef!=null){var w=this._outerRef;_==="horizontal"||E==="horizontal"?w.scrollLeft=v:w.scrollTop=v}this._callPropsCallbacks()},g.componentDidUpdate=function(){var y=this.props,_=y.direction,v=y.layout,E=this.state,w=E.scrollOffset,S=E.scrollUpdateWasRequested;if(S&&this._outerRef!=null){var O=this._outerRef;if(_==="horizontal"||v==="horizontal")if(_==="rtl")switch(dR()){case"negative":O.scrollLeft=-w;break;case"positive-ascending":O.scrollLeft=w;break;default:var x=O.clientWidth,I=O.scrollWidth;O.scrollLeft=I-x-w;break}else O.scrollLeft=w;else O.scrollTop=w}this._callPropsCallbacks()},g.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&uR(this._resetIsScrollingTimeoutId)},g.render=function(){var y=this.props,_=y.children,v=y.className,E=y.direction,w=y.height,S=y.innerRef,O=y.innerElementType,x=y.innerTagName,I=y.itemCount,T=y.itemData,P=y.itemKey,A=P===void 0?uue:P,k=y.layout,M=y.outerElementType,N=y.outerTagName,W=y.style,q=y.useIsScrolling,K=y.width,ee=this.state.isScrolling,V=E==="horizontal"||k==="horizontal",z=V?this._onScrollHorizontal:this._onScrollVertical,B=this._getRangeToRender(),oe=B[0],ne=B[1],re=[];if(I>0)for(var he=oe;he<=ne;he++)re.push(D.createElement(_,{data:T,key:A(he,T),index:he,isScrolling:q?ee:void 0,style:this._getItemStyle(he)}));var be=r(this.props,this._instanceProps);return D.createElement(M||N||"div",{className:v,onScroll:z,ref:this._outerRefSetter,style:Jw({position:"relative",height:w,width:K,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:E},W)},D.createElement(O||x||"div",{children:re,ref:S,style:{height:V?"100%":be,pointerEvents:ee?"none":void 0,width:V?be:"100%"}}))},g._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var y=this.props.itemCount;if(y>0){var _=this._getRangeToRender(),v=_[0],E=_[1],w=_[2],S=_[3];this._callOnItemsRendered(v,E,w,S)}}if(typeof this.props.onScroll=="function"){var O=this.state,x=O.scrollDirection,I=O.scrollOffset,T=O.scrollUpdateWasRequested;this._callOnScroll(x,I,T)}},g._getRangeToRender=function(){var y=this.props,_=y.itemCount,v=y.overscanCount,E=this.state,w=E.isScrolling,S=E.scrollDirection,O=E.scrollOffset;if(_===0)return[0,0,0,0];var x=o(this.props,O,this._instanceProps),I=a(this.props,x,O,this._instanceProps),T=!w||S==="backward"?Math.max(1,v):1,P=!w||S==="forward"?Math.max(1,v):1;return[Math.max(0,x-T),Math.max(0,Math.min(_-1,I+P)),x,I]},f}(D.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var due=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},LC=cue({getItemOffset:function(e,t){var r=e.itemSize;return t*r},getItemSize:function(e,t){var r=e.itemSize;return r},getEstimatedTotalSize:function(e){var t=e.itemCount,r=e.itemSize;return r*t},getOffsetForIndexAndAlignment:function(e,t,r,s,i,o){var a=e.direction,l=e.height,u=e.itemCount,d=e.itemSize,h=e.layout,f=e.width,g=a==="horizontal"||h==="horizontal",b=g?f:l,y=Math.max(0,u*d-b),_=Math.min(y,t*d),v=Math.max(0,t*d-b+d+o);switch(r==="smart"&&(s>=v-b&&s<=_+b?r="auto":r="center"),r){case"start":return _;case"end":return v;case"center":{var E=Math.round(v+(_-v)/2);return E<Math.ceil(b/2)?0:E>y+Math.floor(b/2)?y:E}case"auto":default:return s>=v&&s<=_?s:s<v?v:_}},getStartIndexForOffset:function(e,t){var r=e.itemCount,s=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/s)))},getStopIndexForStartIndex:function(e,t,r){var s=e.direction,i=e.height,o=e.itemCount,a=e.itemSize,l=e.layout,u=e.width,d=s==="horizontal"||l==="horizontal",h=t*a,f=d?u:i,g=Math.ceil((f+r-h)/a);return Math.max(0,Math.min(o-1,t+g-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const hue=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,o=s[e];return i(o,e,r)},wt=K$.PREFIX_OPTION;let Gy=class extends D.PureComponent{constructor(){var e;super(...arguments),e=this,this.onClick=(t,r)=>{const{onItemClick:s}=this.props;r.data.disabled||"disabled"in r&&r.disabled||s(t,r)},this.handleItemEnterPress=(t,r)=>{ti(t)&&this.onClick(t,r)},this.onHover=(t,r)=>{const{showNext:s,onItemHover:i}=this.props;r.data.disabled||s===Jt.SHOW_NEXT_BY_HOVER&&i(t,r)},this.onCheckboxChange=(t,r)=>{const{onItemCheckboxClick:s}=this.props;t.stopPropagation(),t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation(),s(r)},this.getItemStatus=t=>{const{activeKeys:r,selectedKeys:s,loadedKeys:i,loadingKeys:o}=this.props,a={active:!1,selected:!1,loading:!1};return r.has(t)&&(a.active=!0),s.has(t)&&(a.selected=!0),o.has(t)&&!i.has(t)&&(a.loading=!0),a},this.renderIcon=function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=i=>i+(r?` ${wt}-icon-left`:"");switch(t){case"child":const{expandIcon:i}=e.props;return i||m.createElement(d$,{className:s(`${wt}-icon ${wt}-icon-expand`)});case"tick":return m.createElement(jy,{className:s(`${wt}-icon ${wt}-icon-active`)});case"loading":return m.createElement(uo,{wrapperClassName:s(`${wt}-spin-icon`)});case"empty":return m.createElement("span",{"aria-hidden":!0,className:s(`${wt}-icon ${wt}-icon-empty`)});default:return null}},this.highlight=t=>{const r=[],{keyword:s,separator:i}=this.props;return t.forEach((o,a)=>{typeof o=="string"&&pc(o,s)?o.split(s).forEach((l,u)=>{u>0&&r.push(m.createElement("span",{className:`${wt}-label-highlight`,key:`${u}-${a}`},s)),r.push(l)}):r.push(o),a!==t.length-1&&r.push(i)}),r},this.renderFlattenOptionItem=(t,r,s)=>{var i;const{multiple:o,selectedKeys:a,checkedKeys:l,halfCheckedKeys:u,keyword:d,filterRender:h,virtualize:f}=this.props,{searchText:g,key:b,disabled:y,pathData:_}=t,v=a.has(b),E=$(wt,{[`${wt}-flatten`]:!h,[`${wt}-disabled`]:y,[`${wt}-select`]:v&&!o}),w=x=>{this.onClick(x,t)},S=x=>this.handleItemEnterPress(x,t),O=x=>this.onCheckboxChange(x,t);if(h){const x={className:E,inputValue:d,disabled:y,data:_,checkStatus:{checked:l.has(t.key),halfChecked:u.has(t.key)},selected:v,onClick:w,onCheck:O},I=h(x),T=f?{key:b,style:Object.assign(Object.assign({},(i=I.props.style)!==null&&i!==void 0?i:{}),s)}:{key:b};return m.cloneElement(I,T)}return m.createElement("li",{role:"menuitem",className:E,style:s,key:b,onClick:w,onKeyPress:S},m.createElement("span",{className:`${wt}-label`},!o&&this.renderIcon("empty"),o&&m.createElement(Zw,{onChange:O,disabled:y,indeterminate:u.has(t.key),checked:l.has(t.key),className:`${wt}-label-checkbox`}),this.highlight(g)))},this.renderFlattenOption=t=>{const{virtualize:r}=this.props;return m.createElement("ul",{className:`${wt}-list`,key:"flatten-list"},r?this.renderVirtualizeList(t):t.map(i=>this.renderFlattenOptionItem(i)))},this.renderVirtualizeList=t=>{var r;const{direction:s}=this.context,{virtualize:i}=this.props;return m.createElement(LC,{height:i.height,itemCount:t.length,itemSize:i.itemSize,itemData:{visibleOptions:t,renderOption:this.renderFlattenOptionItem},width:(r=i.width)!==null&&r!==void 0?r:"100%",style:{direction:s}},hue)}}renderItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const{multiple:r,checkedKeys:s,halfCheckedKeys:i}=this.props;let o;const a=t.length;return t.push(m.createElement("ul",{role:"menu",className:`${wt}-list`,key:e[0].key,onScroll:l=>this.props.onListScroll(l,a)},e.map(l=>{const{data:u,key:d,parentKey:h}=l,{children:f,label:g,disabled:b,isLeaf:y}=u,{active:_,selected:v,loading:E}=this.getItemStatus(d),w=!!f&&f.length,S=w||this.props.loadData&&!y;_&&w&&(o=l);const O=$(wt,{[`${wt}-active`]:_&&!v,[`${wt}-select`]:v&&!r,[`${wt}-disabled`]:b}),x=h?{"aria-owns":`cascaderItem-${h}`}:{};return m.createElement("li",Object.assign({role:"menuitem",id:`cascaderItem-${d}`,"aria-expanded":_,"aria-haspopup":!!S,"aria-disabled":b},x,{className:O,key:d,onClick:I=>{this.onClick(I,l)},onKeyPress:I=>this.handleItemEnterPress(I,l),onMouseEnter:I=>{this.onHover(I,l)}}),m.createElement("span",{className:`${wt}-label`},v&&!r&&this.renderIcon("tick"),!v&&!r&&this.renderIcon("empty"),r&&m.createElement(Zw,{onChange:I=>this.onCheckboxChange(I,l),disabled:b,indeterminate:i.has(l.key),checked:s.has(l.key),className:`${wt}-label-checkbox`}),m.createElement("span",null,g)),S?this.renderIcon(E?"loading":"child",!0):null)}))),o&&t.concat(this.renderItem(o.children,t)),t}renderEmpty(){const{emptyContent:e}=this.props;return e===null?null:m.createElement(Pn,{componentName:"Cascader"},t=>m.createElement("ul",{className:`${wt} ${wt}-empty`,key:"empty-list"},m.createElement("span",{className:`${wt}-label`,"x-semi-prop":"emptyContent"},e||t.emptyText)))}render(){const{data:e,searchable:t}=this.props,{direction:r}=this.context,s=!e||!e.length;let i;const o=$({[`${wt}-lists`]:!0,[`${wt}-lists-rtl`]:r==="rtl",[`${wt}-lists-empty`]:s});return s?i=this.renderEmpty():i=t?this.renderFlattenOption(e):this.renderItem(e),m.createElement("div",{className:o},i)}};Gy.contextType=Vr;Gy.propTypes={data:c.array,emptyContent:c.node,searchable:c.bool,onItemClick:c.func,onItemHover:c.func,multiple:c.bool,showNext:c.oneOf([Jt.SHOW_NEXT_BY_CLICK,Jt.SHOW_NEXT_BY_HOVER]),checkedKeys:c.object,halfCheckedKeys:c.object,onItemCheckboxClick:c.func,separator:c.string,keyword:c.string,virtualize:c.object,expandIcon:c.node};Gy.defaultProps={empty:!1};const q$={PREFIX:`${G}-tag`},Sd={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]};var fue=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const vr=q$.PREFIX,X$=Sd.TAG_COLOR,Q$=Sd.TAG_SIZE,Z$=Sd.TAG_TYPE,pue=Sd.AVATAR_SHAPE;class Or extends D.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,r){const{onClose:s}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),s&&s(t,e,r),!e.defaultPrevented&&this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:r,onKeyDown:s}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),di(e);break;case"Enter":r(e),di(e);break;case"Escape":e.target.blur();break}s&&s(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return m.createElement(Yc,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:r,size:s,color:i,closable:o,visible:a,onClose:l,onClick:u,className:d,type:h,shape:f,avatarSrc:g,avatarShape:b,tabIndex:y,prefixIcon:_,suffixIcon:v}=e,E=fue(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:w}=this.state,S=u!==Or.defaultProps.onClick||o,O={role:"button",tabIndex:y||0,onKeyDown:this.handleKeyDown},x=Object.assign(Object.assign({},E),{onClick:u,tabIndex:y,className:$(vr,{[`${vr}-default`]:s==="default",[`${vr}-small`]:s==="small",[`${vr}-large`]:s==="large",[`${vr}-square`]:f==="square",[`${vr}-circle`]:f==="circle",[`${vr}-${h}`]:h,[`${vr}-${i}-${h}`]:i&&h,[`${vr}-closable`]:o,[`${vr}-invisible`]:!w,[`${vr}-avatar-${b}`]:g},d)}),I=S?Object.assign(Object.assign({},x),O):x,T=o?m.createElement("div",{className:`${vr}-close`,onClick:k=>this.close(k,r,t)},m.createElement(Fy,{size:"small"})):null,P=ke(r),A=$(`${vr}-content`,`${vr}-content-${P?"ellipsis":"center"}`);return m.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${o?"Closable ":""}Tag: ${r}`:""},I),_?m.createElement("div",{className:`${vr}-prefix-icon`},_):null,g?this.renderAvatar():null,m.createElement("div",{className:A},r),v?m.createElement("div",{className:`${vr}-suffix-icon`},v):null,T)}}Or.defaultProps={size:Q$[0],color:X$[0],closable:!1,type:Z$[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null};Or.propTypes={children:c.node,tagKey:c.oneOfType([c.string,c.number]),size:c.oneOf(Q$),color:c.oneOf(X$),type:c.oneOf(Z$),closable:c.bool,visible:c.bool,onClose:c.func,onClick:c.func,prefixIcon:c.node,suffixIcon:c.node,style:c.object,className:c.string,avatarSrc:c.string,avatarShape:c.oneOf(pue),"aria-label":c.string};const gue={PREFIX:`${G}-tagInput`},hR={SIZE_SET:["large","default","small"],STATUS:["success","default","error","warning"]},Ag=(n,e)=>{let t=[];if(ke(e)||tn(e))t=n.split(e);else if(G1(e)){const r=e[0];t=n;for(let s=1;s<e.length;s++)t=t.split(e[s]).join(r);t=t.split(r)}else t.push(n);return t};function mue(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}class vue extends Ne{constructor(e){super(Object.assign({},e)),this.handleInputChange=t=>{const{value:r}=t.target,{entering:s}=this.getStates();s?this._onInputChange(r,t):this._checkInputChangeValid(r)&&this._onInputChange(r,t)},this.handleInputCompositionStart=t=>{const{maxLength:r}=this.getProps();tn(r)&&this._adapter.setEntering(!0)},this.handleInputCompositionEnd=t=>{const{value:r}=t.target,{maxLength:s,onInputExceed:i,separator:o}=this.getProps();if(!tn(s))return;this._adapter.setEntering(!1);let a=!0;const l=Ag(r,o);let u=0;for(;u<l.length;u++)if(l[u].length>s){a=!1,De(i)&&i(r);break}if(a)this._adapter.setInputValue(r);else{const d=l.slice(0,u);u<l.length&&d.push(l[u].slice(0,s)),this._adapter.setInputValue(d.join(o))}},this._checkInputChangeValid=t=>{const{maxLength:r,onInputExceed:s,separator:i}=this._adapter.getProps(),{inputValue:o}=this._adapter.getStates();let a=!0;if(tn(r)){const l=Ag(t,i),u=Ag(o,i),d=Math.max(l.length,u.length);for(let h=0;h<d;h++)if(!Ct(l[h])&&(Ct(u[h])||l[h].length>u[h].length)&&l[h].length>r){a=!1,De(s)&&s(t);break}}return a},this.handleKeyDown=t=>{const{inputValue:r,tagsArray:s}=this._adapter.getStates(),i=t.keyCode;i===Yn.ENTER&&(t.preventDefault(),r!==""&&this._handleAddTags(t));const{length:o}=s;if(i===Yn.BACKSPACE&&r===""&&o>0){const a=s.slice(0,o-1),l=s[o-1];this._onRemove(a,l,o-1)}this._adapter.notifyKeyDown(t)}}_handleAddTags(e){const{separator:t,max:r,onExceed:s,allowDuplicates:i}=this._adapter.getProps(),{inputValue:o,tagsArray:a}=this._adapter.getStates();let l=Ag(o,t);l=l.filter((d,h)=>!i&&(a.includes(d)||l.indexOf(d)!==h)?!1:ke(d)&&d.trim()!=="");let u=a.concat(l);tn(r)&&u.length>r&&(De(s)&&s(u),u=u.slice(0,r),l=l.slice(0,r-a.length)),l.length>0&&this._onAdd(u,l),this._onInputChange("",e)}handleInputBlur(e){const{addOnBlur:t}=this._adapter.getProps();t===!0&&this._handleAddTags(e),this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputFocus(e){this._adapter.setFocusing(!0),this._adapter.notifyFocus(e)}handleClearEnterPress(e){ti(e)&&this.handleClearBtn(e)}handleClearBtn(e){const{inputValue:t,tagsArray:r}=this._adapter.getStates();r.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),t.length>0&&this._onInputChange("",e),e.stopPropagation()}handleTagClose(e){const{tagsArray:t}=this._adapter.getStates(),r=[...t];r.splice(e,1);const s=t[e];this._onRemove(r,s,e)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(e){const{disabled:t}=this.getProps();if(t)return;this._adapter.getClickOutsideHandler()||(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(s=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&this._adapter.toggleFocusing(!0)}handlePreventMouseDown(e){e&&De(e.preventDefault)&&e.preventDefault()}_onRemove(e,t,r){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagRemove(t,r)}_onAdd(e,t){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagAdd(t)}_onInputChange(e,t){this._adapter.setInputValue(e),this._adapter.notifyInputChange(e,t)}handleSortEnd(e){const{oldIndex:t,newIndex:r}=e,{tagsArray:s}=this.getStates(),i=mue(s,t,r);this._isControlledComponent()||this._adapter.setTagsArray(i),this._adapter.notifyTagChange(i)}}function yue(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return D.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Yy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cd(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function MC(n){return"nodeType"in n}function Ur(n){var e,t;return n?Cd(n)?n:MC(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function $C(n){const{Document:e}=Ur(n);return n instanceof e}function wp(n){return Cd(n)?!1:n instanceof Ur(n).HTMLElement}function J$(n){return n instanceof Ur(n).SVGElement}function Td(n){return n?Cd(n)?n.document:MC(n)?$C(n)?n:wp(n)||J$(n)?n.ownerDocument:document:document:document}const Ei=Yy?D.useLayoutEffect:D.useEffect;function qy(n){const e=D.useRef(n);return Ei(()=>{e.current=n}),D.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function _ue(){const n=D.useRef(null),e=D.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=D.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Tf(n,e){e===void 0&&(e=[n]);const t=D.useRef(n);return Ei(()=>{t.current!==n&&(t.current=n)},e),t}function Ep(n,e){const t=D.useRef();return D.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Cv(n){const e=qy(n),t=D.useRef(null),r=D.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function Tv(n){const e=D.useRef();return D.useEffect(()=>{e.current=n},[n]),e.current}let zb={};function Sp(n,e){return D.useMemo(()=>{if(e)return e;const t=zb[n]==null?0:zb[n]+1;return zb[n]=t,n+"-"+t},[n,e])}function eF(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,u]of a){const d=i[l];d!=null&&(i[l]=d+n*u)}return i},{...e})}}const Pc=eF(1),If=eF(-1);function bue(n){return"clientX"in n&&"clientY"in n}function Xy(n){if(!n)return!1;const{KeyboardEvent:e}=Ur(n.target);return e&&n instanceof e}function wue(n){if(!n)return!1;const{TouchEvent:e}=Ur(n.target);return e&&n instanceof e}function Iv(n){if(wue(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return bue(n)?{x:n.clientX,y:n.clientY}:null}const Za=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Za.Translate.toString(n),Za.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),fR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Eue(n){return n.matches(fR)?n:n.querySelector(fR)}const Sue={display:"none"};function Cue(n){let{id:e,value:t}=n;return m.createElement("div",{id:e,style:Sue},t)}function Tue(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return m.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function Iue(){const[n,e]=D.useState("");return{announce:D.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const tF=D.createContext(null);function Oue(n){const e=D.useContext(tF);D.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Pue(){const[n]=D.useState(()=>new Set),e=D.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[D.useCallback(r=>{let{type:s,event:i}=r;n.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[n]),e]}const xue={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Rue={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Aue(n){let{announcements:e=Rue,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=xue}=n;const{announce:i,announcement:o}=Iue(),a=Sp("DndLiveRegion"),[l,u]=D.useState(!1);if(D.useEffect(()=>{u(!0)},[]),Oue(D.useMemo(()=>({onDragStart(h){let{active:f}=h;i(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:g}=h;e.onDragMove&&i(e.onDragMove({active:f,over:g}))},onDragOver(h){let{active:f,over:g}=h;i(e.onDragOver({active:f,over:g}))},onDragEnd(h){let{active:f,over:g}=h;i(e.onDragEnd({active:f,over:g}))},onDragCancel(h){let{active:f,over:g}=h;i(e.onDragCancel({active:f,over:g}))}}),[i,e])),!l)return null;const d=m.createElement(m.Fragment,null,m.createElement(Cue,{id:r,value:s.draggable}),m.createElement(Tue,{id:a,announcement:o}));return t?Ws.createPortal(d,t):d}var Fn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Fn||(Fn={}));function Ov(){}function Kb(n,e){return D.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Due(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return D.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Si=Object.freeze({x:0,y:0});function nF(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function kue(n,e){const t=Iv(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function rF(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function Nue(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function pR(n){let{left:e,top:t,height:r,width:s}=n;return[{x:e,y:t},{x:e+s,y:t},{x:e,y:t+r},{x:e+s,y:t+r}]}function sF(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function gR(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Lue=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=gR(e,e.left,e.top),i=[];for(const o of r){const{id:a}=o,l=t.get(a);if(l){const u=nF(gR(l),s);i.push({id:a,data:{droppableContainer:o,value:u}})}}return i.sort(rF)},Mue=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=pR(e),i=[];for(const o of r){const{id:a}=o,l=t.get(a);if(l){const u=pR(l),d=s.reduce((f,g,b)=>f+nF(u[b],g),0),h=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:o,value:h}})}}return i.sort(rF)};function $ue(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),i=Math.min(e.top+e.height,n.top+n.height),o=s-r,a=i-t;if(r<s&&t<i){const l=e.width*e.height,u=n.width*n.height,d=o*a,h=d/(l+u-d);return Number(h.toFixed(4))}return 0}const Fue=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const i of r){const{id:o}=i,a=t.get(o);if(a){const l=$ue(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(Nue)};function jue(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function iF(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Si}function Vue(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+n*a.y,bottom:o.bottom+n*a.y,left:o.left+n*a.x,right:o.right+n*a.x}),{...t})}}const Uue=Vue(1);function oF(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Bue(n,e,t){const r=oF(e);if(!r)return n;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=n.left-o-(1-s)*parseFloat(t),u=n.top-a-(1-i)*parseFloat(t.slice(t.indexOf(" ")+1)),d=s?n.width/s:n.width,h=i?n.height/i:n.height;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l}}const Hue={ignoreTransform:!1};function Id(n,e){e===void 0&&(e=Hue);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=Ur(n).getComputedStyle(n);u&&(t=Bue(t,u,d))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=t;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function mR(n){return Id(n,{ignoreTransform:!0})}function zue(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Kue(n,e){return e===void 0&&(e=Ur(n).getComputedStyle(n)),e.position==="fixed"}function Wue(n,e){e===void 0&&(e=Ur(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?t.test(i):!1})}function Qy(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if($C(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!wp(s)||J$(s)||t.includes(s))return t;const i=Ur(n).getComputedStyle(s);return s!==n&&Wue(s,i)&&t.push(s),Kue(s,i)?t:r(s.parentNode)}return n?r(n):t}function aF(n){const[e]=Qy(n,1);return e??null}function Wb(n){return!Yy||!n?null:Cd(n)?n:MC(n)?$C(n)||n===Td(n).scrollingElement?window:wp(n)?n:null:null}function lF(n){return Cd(n)?n.scrollX:n.scrollLeft}function uF(n){return Cd(n)?n.scrollY:n.scrollTop}function eE(n){return{x:lF(n),y:uF(n)}}var Gn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Gn||(Gn={}));function cF(n){return!Yy||!n?!1:n===document.scrollingElement}function dF(n){const e={x:0,y:0},t=cF(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,i=n.scrollLeft<=e.x,o=n.scrollTop>=r.y,a=n.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const Gue={x:.2,y:.2};function Yue(n,e,t,r,s){let{top:i,left:o,right:a,bottom:l}=t;r===void 0&&(r=10),s===void 0&&(s=Gue);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=dF(n),g={x:0,y:0},b={x:0,y:0},y={height:e.height*s.y,width:e.width*s.x};return!u&&i<=e.top+y.height?(g.y=Gn.Backward,b.y=r*Math.abs((e.top+y.height-i)/y.height)):!d&&l>=e.bottom-y.height&&(g.y=Gn.Forward,b.y=r*Math.abs((e.bottom-y.height-l)/y.height)),!f&&a>=e.right-y.width?(g.x=Gn.Forward,b.x=r*Math.abs((e.right-y.width-a)/y.width)):!h&&o<=e.left+y.width&&(g.x=Gn.Backward,b.x=r*Math.abs((e.left+y.width-o)/y.width)),{direction:g,speed:b}}function que(n){if(n===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function hF(n){return n.reduce((e,t)=>Pc(e,eE(t)),Si)}function Xue(n){return n.reduce((e,t)=>e+lF(t),0)}function Que(n){return n.reduce((e,t)=>e+uF(t),0)}function fF(n,e){if(e===void 0&&(e=Id),!n)return;const{top:t,left:r,bottom:s,right:i}=e(n);aF(n)&&(s<=0||i<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Zue=[["x",["left","right"],Xue],["y",["top","bottom"],Que]];class FC{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Qy(t),s=hF(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of Zue)for(const l of o)Object.defineProperty(this,l,{get:()=>{const u=a(r),d=s[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Jue(n){const{EventTarget:e}=Ur(n);return n instanceof e?n:Td(n)}function Gb(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Fs;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Fs||(Fs={}));function vR(n){n.preventDefault()}function ece(n){n.stopPropagation()}var qe;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(qe||(qe={}));const pF={start:[qe.Space,qe.Enter],cancel:[qe.Esc],end:[qe.Space,qe.Enter,qe.Tab]},tce=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case qe.Right:return{...t,x:t.x+25};case qe.Left:return{...t,x:t.x-25};case qe.Down:return{...t,y:t.y+25};case qe.Up:return{...t,y:t.y-25}}};class jC{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Vh(Td(t)),this.windowListeners=new Vh(Ur(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Fs.Resize,this.handleCancel),this.windowListeners.add(Fs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Fs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&fF(r),t(Si)}handleKeyDown(e){if(Xy(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:i=pF,coordinateGetter:o=tce,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Si;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(e,{active:t,context:r.current,currentCoordinates:d});if(h){const f=If(h,d),g={x:0,y:0},{scrollableAncestors:b}=r.current;for(const y of b){const _=e.code,{isTop:v,isRight:E,isLeft:w,isBottom:S,maxScroll:O,minScroll:x}=dF(y),I=que(y),T={x:Math.min(_===qe.Right?I.right-I.width/2:I.right,Math.max(_===qe.Right?I.left:I.left+I.width/2,h.x)),y:Math.min(_===qe.Down?I.bottom-I.height/2:I.bottom,Math.max(_===qe.Down?I.top:I.top+I.height/2,h.y))},P=_===qe.Right&&!E||_===qe.Left&&!w,A=_===qe.Down&&!S||_===qe.Up&&!v;if(P&&T.x!==h.x){const k=y.scrollLeft+f.x,M=_===qe.Right&&k<=O.x||_===qe.Left&&k>=x.x;if(M&&!f.y){y.scrollTo({left:k,behavior:a});return}M?g.x=y.scrollLeft-k:g.x=_===qe.Right?y.scrollLeft-O.x:y.scrollLeft-x.x,g.x&&y.scrollBy({left:-g.x,behavior:a});break}else if(A&&T.y!==h.y){const k=y.scrollTop+f.y,M=_===qe.Down&&k<=O.y||_===qe.Up&&k>=x.y;if(M&&!f.x){y.scrollTo({top:k,behavior:a});return}M?g.y=y.scrollTop-k:g.y=_===qe.Down?y.scrollTop-O.y:y.scrollTop-x.y,g.y&&y.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(e,Pc(If(h,this.referenceCoordinates),g))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}jC.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=pF,onActivation:s}=e,{active:i}=t;const{code:o}=n.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&n.target!==a?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function yR(n){return!!(n&&"distance"in n)}function _R(n){return!!(n&&"delay"in n)}class VC{constructor(e,t,r){var s;r===void 0&&(r=Jue(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:o}=i;this.props=e,this.events=t,this.document=Td(o),this.documentListeners=new Vh(this.document),this.listeners=new Vh(r),this.windowListeners=new Vh(Ur(o)),this.initialCoordinates=(s=Iv(i))!=null?s:Si,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Fs.Resize,this.handleCancel),this.windowListeners.add(Fs.DragStart,vR),this.windowListeners.add(Fs.VisibilityChange,this.handleCancel),this.windowListeners.add(Fs.ContextMenu,vR),this.documentListeners.add(Fs.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_R(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(yR(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Fs.Click,ece,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Fs.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(t=Iv(e))!=null?t:Si,u=If(s,l);if(!r&&a){if(yR(a)){if(a.tolerance!=null&&Gb(u,a.tolerance))return this.handleCancel();if(Gb(u,a.distance))return this.handleStart()}if(_R(a)&&Gb(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===qe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const nce={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gF extends VC{constructor(e){const{event:t}=e,r=Td(t.target);super(e,nce,r)}}gF.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const rce={move:{name:"mousemove"},end:{name:"mouseup"}};var tE;(function(n){n[n.RightClick=2]="RightClick"})(tE||(tE={}));class mF extends VC{constructor(e){super(e,rce,Td(e.event.target))}}mF.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===tE.RightClick?!1:(r==null||r({event:t}),!0)}}];const Yb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vF extends VC{constructor(e){super(e,Yb)}static setup(){return window.addEventListener(Yb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Yb.move.name,e)};function e(){}}}vF.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var Uh;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Uh||(Uh={}));var Of;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Of||(Of={}));function sce(n){let{acceleration:e,activator:t=Uh.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Of.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=n;const g=oce({delta:h,disabled:!i}),[b,y]=_ue(),_=D.useRef({x:0,y:0}),v=D.useRef({x:0,y:0}),E=D.useMemo(()=>{switch(t){case Uh.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Uh.DraggableRect:return s}},[t,s,l]),w=D.useRef(null),S=D.useCallback(()=>{const x=w.current;if(!x)return;const I=_.current.x*v.current.x,T=_.current.y*v.current.y;x.scrollBy(I,T)},[]),O=D.useMemo(()=>a===Of.TreeOrder?[...u].reverse():u,[a,u]);D.useEffect(()=>{if(!i||!u.length||!E){y();return}for(const x of O){if((r==null?void 0:r(x))===!1)continue;const I=u.indexOf(x),T=d[I];if(!T)continue;const{direction:P,speed:A}=Yue(x,T,E,e,f);for(const k of["x","y"])g[k][P[k]]||(A[k]=0,P[k]=0);if(A.x>0||A.y>0){y(),w.current=x,b(S,o),_.current=A,v.current=P;return}}_.current={x:0,y:0},v.current={x:0,y:0},y()},[e,S,r,y,i,o,JSON.stringify(E),JSON.stringify(g),b,u,O,d,JSON.stringify(f)])}const ice={x:{[Gn.Backward]:!1,[Gn.Forward]:!1},y:{[Gn.Backward]:!1,[Gn.Forward]:!1}};function oce(n){let{delta:e,disabled:t}=n;const r=Tv(e);return Ep(s=>{if(t||!r||!s)return ice;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Gn.Backward]:s.x[Gn.Backward]||i.x===-1,[Gn.Forward]:s.x[Gn.Forward]||i.x===1},y:{[Gn.Backward]:s.y[Gn.Backward]||i.y===-1,[Gn.Forward]:s.y[Gn.Forward]||i.y===1}}},[t,e,r])}function ace(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Ep(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function lce(n,e){return D.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...t,...i]},[]),[n,e])}var Pf;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Pf||(Pf={}));var nE;(function(n){n.Optimized="optimized"})(nE||(nE={}));const bR=new Map;function uce(n,e){let{dragging:t,dependencies:r,config:s}=e;const[i,o]=D.useState(null),{frequency:a,measure:l,strategy:u}=s,d=D.useRef(n),h=_(),f=Tf(h),g=D.useCallback(function(v){v===void 0&&(v=[]),!f.current&&o(E=>E===null?v:E.concat(v.filter(w=>!E.includes(w))))},[f]),b=D.useRef(null),y=Ep(v=>{if(h&&!t)return bR;if(!v||v===bR||d.current!==n||i!=null){const E=new Map;for(let w of n){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){E.set(w.id,w.rect.current);continue}const S=w.node.current,O=S?new FC(l(S),S):null;w.rect.current=O,O&&E.set(w.id,O)}return E}return v},[n,i,t,h,l]);return D.useEffect(()=>{d.current=n},[n]),D.useEffect(()=>{h||g()},[t,h]),D.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),D.useEffect(()=>{h||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{g(),b.current=null},a))},[a,h,g,...r]),{droppableRects:y,measureDroppableContainers:g,measuringScheduled:i!=null};function _(){switch(u){case Pf.Always:return!1;case Pf.BeforeDragging:return t;default:return!t}}}function UC(n,e){return Ep(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function cce(n,e){return UC(n,e)}function dce(n){let{callback:e,disabled:t}=n;const r=qy(e),s=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,t]);return D.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Zy(n){let{callback:e,disabled:t}=n;const r=qy(e),s=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[t]);return D.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function hce(n){return new FC(Id(n),n)}function wR(n,e,t){e===void 0&&(e=hce);const[r,s]=D.useState(null);function i(){s(l=>{if(!n)return null;if(n.isConnected===!1){var u;return(u=l??t)!=null?u:null}const d=e(n);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const o=dce({callback(l){if(n)for(const u of l){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(n)){i();break}}}}),a=Zy({callback:i});return Ei(()=>{i(),n?(a==null||a.observe(n),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[n]),r}function fce(n){const e=UC(n);return iF(n,e)}const ER=[];function pce(n){const e=D.useRef(n),t=Ep(r=>n?r&&r!==ER&&n&&e.current&&n.parentNode===e.current.parentNode?r:Qy(n):ER,[n]);return D.useEffect(()=>{e.current=n},[n]),t}function gce(n){const[e,t]=D.useState(null),r=D.useRef(n),s=D.useCallback(i=>{const o=Wb(i.target);o&&t(a=>a?(a.set(o,eE(o)),new Map(a)):null)},[]);return D.useEffect(()=>{const i=r.current;if(n!==i){o(i);const a=n.map(l=>{const u=Wb(l);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,eE(u)]):null}).filter(l=>l!=null);t(a.length?new Map(a):null),r.current=n}return()=>{o(n),o(i)};function o(a){a.forEach(l=>{const u=Wb(l);u==null||u.removeEventListener("scroll",s)})}},[s,n]),D.useMemo(()=>n.length?e?Array.from(e.values()).reduce((i,o)=>Pc(i,o),Si):hF(n):Si,[n,e])}function SR(n,e){e===void 0&&(e=[]);const t=D.useRef(null);return D.useEffect(()=>{t.current=null},e),D.useEffect(()=>{const r=n!==Si;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?If(n,t.current):Si}function mce(n){D.useEffect(()=>{if(!Yy)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function vce(n,e){return D.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:i}=r;return t[s]=o=>{i(o,e)},t},{}),[n,e])}function yF(n){return D.useMemo(()=>n?zue(n):null,[n])}const CR=[];function yce(n,e){e===void 0&&(e=Id);const[t]=n,r=yF(t?Ur(t):null),[s,i]=D.useState(CR);function o(){i(()=>n.length?n.map(l=>cF(l)?r:new FC(e(l),l)):CR)}const a=Zy({callback:o});return Ei(()=>{a==null||a.disconnect(),o(),n.forEach(l=>a==null?void 0:a.observe(l))},[n]),s}function _F(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return wp(e)?e:n}function _ce(n){let{measure:e}=n;const[t,r]=D.useState(null),s=D.useCallback(u=>{for(const{target:d}of u)if(wp(d)){r(h=>{const f=e(d);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),i=Zy({callback:s}),o=D.useCallback(u=>{const d=_F(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?e(d):null)},[e,i]),[a,l]=Cv(o);return D.useMemo(()=>({nodeRef:a,rect:t,setRef:l}),[t,a,l])}const bce=[{sensor:gF,options:{}},{sensor:jC,options:{}}],wce={current:{}},cm={draggable:{measure:mR},droppable:{measure:mR,strategy:Pf.WhileDragging,frequency:nE.Optimized},dragOverlay:{measure:Id}};class Bh extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const Ece={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ov},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:cm,measureDroppableContainers:Ov,windowRect:null,measuringScheduled:!1},bF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ov,draggableNodes:new Map,over:null,measureDroppableContainers:Ov},Cp=D.createContext(bF),wF=D.createContext(Ece);function Sce(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bh}}}function Cce(n,e){switch(e.type){case Fn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Fn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Fn.DragEnd:case Fn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fn.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new Bh(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case Fn.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const o=new Bh(n.droppable.containers);return o.set(t,{...i,disabled:s}),{...n,droppable:{...n.droppable,containers:o}}}case Fn.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const i=new Bh(n.droppable.containers);return i.delete(t),{...n,droppable:{...n.droppable,containers:i}}}default:return n}}function Tce(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=D.useContext(Cp),i=Tv(r),o=Tv(t==null?void 0:t.id);return D.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!Xy(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const h=Eue(d);if(h){h.focus();break}}})}},[r,e,s,o,i]),null}function EF(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,i)=>i({transform:s,...r}),t):t}function Ice(n){return D.useMemo(()=>({draggable:{...cm.draggable,...n==null?void 0:n.draggable},droppable:{...cm.droppable,...n==null?void 0:n.droppable},dragOverlay:{...cm.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function Oce(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const i=D.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Ei(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=t(u),h=iF(d,r);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=aF(u);f&&f.scrollBy({top:h.y,left:h.x})}},[e,o,a,r,t])}const Jy=D.createContext({...Si,scaleX:1,scaleY:1});var ba;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(ba||(ba={}));const Pce=D.memo(function(e){var t,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:u,sensors:d=bce,collisionDetection:h=Fue,measuring:f,modifiers:g,...b}=e;const y=D.useReducer(Cce,void 0,Sce),[_,v]=y,[E,w]=Pue(),[S,O]=D.useState(ba.Uninitialized),x=S===ba.Initialized,{draggable:{active:I,nodes:T,translate:P},droppable:{containers:A}}=_,k=I!=null?T.get(I):null,M=D.useRef({initial:null,translated:null}),N=D.useMemo(()=>{var bt;return I!=null?{id:I,data:(bt=k==null?void 0:k.data)!=null?bt:wce,rect:M}:null},[I,k]),W=D.useRef(null),[q,K]=D.useState(null),[ee,V]=D.useState(null),z=Tf(b,Object.values(b)),B=Sp("DndDescribedBy",o),oe=D.useMemo(()=>A.getEnabled(),[A]),ne=Ice(f),{droppableRects:re,measureDroppableContainers:he,measuringScheduled:be}=uce(oe,{dragging:x,dependencies:[P.x,P.y],config:ne.droppable}),ye=ace(T,I),me=D.useMemo(()=>ee?Iv(ee):null,[ee]),ge=ls(),te=cce(ye,ne.draggable.measure);Oce({activeNode:I!=null?T.get(I):null,config:ge.layoutShiftCompensation,initialRect:te,measure:ne.draggable.measure});const le=wR(ye,ne.draggable.measure,te),ft=wR(ye?ye.parentElement:null),Ot=D.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),nn=A.getNodeFor((t=Ot.current.over)==null?void 0:t.id),yt=_ce({measure:ne.dragOverlay.measure}),yn=(r=yt.nodeRef.current)!=null?r:ye,_t=x?(s=yt.rect)!=null?s:le:null,Zn=!!(yt.nodeRef.current&&yt.rect),Hr=fce(Zn?null:le),Ri=yF(yn?Ur(yn):null),Ut=pce(x?nn??ye:null),Bn=yce(Ut),xs=EF(g,{transform:{x:P.x-Hr.x,y:P.y-Hr.y,scaleX:1,scaleY:1},activatorEvent:ee,active:N,activeNodeRect:le,containerNodeRect:ft,draggingNodeRect:_t,over:Ot.current.over,overlayNodeRect:yt.rect,scrollableAncestors:Ut,scrollableAncestorRects:Bn,windowRect:Ri}),zr=me?Pc(me,P):null,Rs=gce(Ut),mo=SR(Rs),rn=SR(Rs,[le]),Mt=Pc(xs,mo),_n=_t?Uue(_t,xs):null,xn=N&&_n?h({active:N,collisionRect:_n,droppableRects:re,droppableContainers:oe,pointerCoordinates:zr}):null,cr=sF(xn,"id"),[Hn,dr]=D.useState(null),Kr=Zn?xs:Pc(xs,rn),As=jue(Kr,(i=Hn==null?void 0:Hn.rect)!=null?i:null,le),bn=D.useRef(null),os=D.useCallback((bt,Xt)=>{let{sensor:mt,options:sn}=Xt;if(W.current==null)return;const Bt=T.get(W.current);if(!Bt)return;const Qt=bt.nativeEvent,wn=new mt({active:W.current,activeNode:Bt,event:Qt,options:sn,context:Ot,onAbort(Ue){if(!T.get(Ue))return;const{onDragAbort:_e}=z.current,Me={id:Ue};_e==null||_e(Me),E({type:"onDragAbort",event:Me})},onPending(Ue,us,_e,Me){if(!T.get(Ue))return;const{onDragPending:st}=z.current,Pt={id:Ue,constraint:us,initialCoordinates:_e,offset:Me};st==null||st(Pt),E({type:"onDragPending",event:Pt})},onStart(Ue){const us=W.current;if(us==null)return;const _e=T.get(us);if(!_e)return;const{onDragStart:Me}=z.current,Ht={activatorEvent:Qt,active:{id:us,data:_e.data,rect:M}};Ws.unstable_batchedUpdates(()=>{Me==null||Me(Ht),O(ba.Initializing),v({type:Fn.DragStart,initialCoordinates:Ue,active:us}),E({type:"onDragStart",event:Ht}),K(bn.current),V(Qt)})},onMove(Ue){v({type:Fn.DragMove,coordinates:Ue})},onEnd:ks(Fn.DragEnd),onCancel:ks(Fn.DragCancel)});bn.current=wn;function ks(Ue){return async function(){const{active:_e,collisions:Me,over:Ht,scrollAdjustedTranslate:st}=Ot.current;let Pt=null;if(_e&&st){const{cancelDrop:xt}=z.current;Pt={activatorEvent:Qt,active:_e,collisions:Me,delta:st,over:Ht},Ue===Fn.DragEnd&&typeof xt=="function"&&await Promise.resolve(xt(Pt))&&(Ue=Fn.DragCancel)}W.current=null,Ws.unstable_batchedUpdates(()=>{v({type:Ue}),O(ba.Uninitialized),dr(null),K(null),V(null),bn.current=null;const xt=Ue===Fn.DragEnd?"onDragEnd":"onDragCancel";if(Pt){const kt=z.current[xt];kt==null||kt(Pt),E({type:xt,event:Pt})}})}}},[T]),Ai=D.useCallback((bt,Xt)=>(mt,sn)=>{const Bt=mt.nativeEvent,Qt=T.get(sn);if(W.current!==null||!Qt||Bt.dndKit||Bt.defaultPrevented)return;const wn={active:Qt};bt(mt,Xt.options,wn)===!0&&(Bt.dndKit={capturedBy:Xt.sensor},W.current=sn,os(mt,Xt))},[T,os]),Ds=lce(d,Ai);mce(d),Ei(()=>{le&&S===ba.Initializing&&O(ba.Initialized)},[le,S]),D.useEffect(()=>{const{onDragMove:bt}=z.current,{active:Xt,activatorEvent:mt,collisions:sn,over:Bt}=Ot.current;if(!Xt||!mt)return;const Qt={active:Xt,activatorEvent:mt,collisions:sn,delta:{x:Mt.x,y:Mt.y},over:Bt};Ws.unstable_batchedUpdates(()=>{bt==null||bt(Qt),E({type:"onDragMove",event:Qt})})},[Mt.x,Mt.y]),D.useEffect(()=>{const{active:bt,activatorEvent:Xt,collisions:mt,droppableContainers:sn,scrollAdjustedTranslate:Bt}=Ot.current;if(!bt||W.current==null||!Xt||!Bt)return;const{onDragOver:Qt}=z.current,wn=sn.get(cr),ks=wn&&wn.rect.current?{id:wn.id,rect:wn.rect.current,data:wn.data,disabled:wn.disabled}:null,Ue={active:bt,activatorEvent:Xt,collisions:mt,delta:{x:Bt.x,y:Bt.y},over:ks};Ws.unstable_batchedUpdates(()=>{dr(ks),Qt==null||Qt(Ue),E({type:"onDragOver",event:Ue})})},[cr]),Ei(()=>{Ot.current={activatorEvent:ee,active:N,activeNode:ye,collisionRect:_n,collisions:xn,droppableRects:re,draggableNodes:T,draggingNode:yn,draggingNodeRect:_t,droppableContainers:A,over:Hn,scrollableAncestors:Ut,scrollAdjustedTranslate:Mt},M.current={initial:_t,translated:_n}},[N,ye,xn,_n,T,yn,_t,re,A,Hn,Ut,Mt]),sce({...ge,delta:P,draggingRect:_n,pointerCoordinates:zr,scrollableAncestors:Ut,scrollableAncestorRects:Bn});const Di=D.useMemo(()=>({active:N,activeNode:ye,activeNodeRect:le,activatorEvent:ee,collisions:xn,containerNodeRect:ft,dragOverlay:yt,draggableNodes:T,droppableContainers:A,droppableRects:re,over:Hn,measureDroppableContainers:he,scrollableAncestors:Ut,scrollableAncestorRects:Bn,measuringConfiguration:ne,measuringScheduled:be,windowRect:Ri}),[N,ye,le,ee,xn,ft,yt,T,A,re,Hn,he,Ut,Bn,ne,be,Ri]),as=D.useMemo(()=>({activatorEvent:ee,activators:Ds,active:N,activeNodeRect:le,ariaDescribedById:{draggable:B},dispatch:v,draggableNodes:T,over:Hn,measureDroppableContainers:he}),[ee,Ds,N,le,v,B,T,Hn,he]);return m.createElement(tF.Provider,{value:w},m.createElement(Cp.Provider,{value:as},m.createElement(wF.Provider,{value:Di},m.createElement(Jy.Provider,{value:As},u)),m.createElement(Tce,{disabled:(a==null?void 0:a.restoreFocus)===!1})),m.createElement(Aue,{...a,hiddenTextDescribedById:B}));function ls(){const bt=(q==null?void 0:q.autoScrollEnabled)===!1,Xt=typeof l=="object"?l.enabled===!1:l===!1,mt=x&&!bt&&!Xt;return typeof l=="object"?{...l,enabled:mt}:{enabled:mt}}}),xce=D.createContext(null),TR="button",Rce="Draggable";function Ace(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const i=Sp(Rce),{activators:o,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=D.useContext(Cp),{role:g=TR,roleDescription:b="draggable",tabIndex:y=0}=s??{},_=(l==null?void 0:l.id)===e,v=D.useContext(_?Jy:xce),[E,w]=Cv(),[S,O]=Cv(),x=vce(o,e),I=Tf(t);Ei(()=>(h.set(e,{id:e,key:i,node:E,activatorNode:S,data:I}),()=>{const P=h.get(e);P&&P.key===i&&h.delete(e)}),[h,e]);const T=D.useMemo(()=>({role:g,tabIndex:y,"aria-disabled":r,"aria-pressed":_&&g===TR?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[r,g,y,_,b,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:T,isDragging:_,listeners:r?void 0:x,node:E,over:f,setNodeRef:w,setActivatorNodeRef:O,transform:v}}function SF(){return D.useContext(wF)}const Dce="Droppable",kce={timeout:25};function Nce(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const i=Sp(Dce),{active:o,dispatch:a,over:l,measureDroppableContainers:u}=D.useContext(Cp),d=D.useRef({disabled:t}),h=D.useRef(!1),f=D.useRef(null),g=D.useRef(null),{disabled:b,updateMeasurementsFor:y,timeout:_}={...kce,...s},v=Tf(y??r),E=D.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),g.current=null},_)},[_]),w=Zy({callback:E,disabled:b||!o}),S=D.useCallback((T,P)=>{w&&(P&&(w.unobserve(P),h.current=!1),T&&w.observe(T))},[w]),[O,x]=Cv(S),I=Tf(e);return D.useEffect(()=>{!w||!O.current||(w.disconnect(),h.current=!1,w.observe(O.current))},[O,w]),D.useEffect(()=>(a({type:Fn.RegisterDroppable,element:{id:r,key:i,disabled:t,node:O,rect:f,data:I}}),()=>a({type:Fn.UnregisterDroppable,key:i,id:r})),[r]),D.useEffect(()=>{t!==d.current.disabled&&(a({type:Fn.SetDroppableDisabled,id:r,key:i,disabled:t}),d.current.disabled=t)},[r,i,t,a]),{active:o,rect:f,isOver:(l==null?void 0:l.id)===r,node:O,over:l,setNodeRef:x}}function Lce(n){let{animation:e,children:t}=n;const[r,s]=D.useState(null),[i,o]=D.useState(null),a=Tv(t);return!t&&!r&&a&&s(a),Ei(()=>{if(!i)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){s(null);return}Promise.resolve(e(u,i)).then(()=>{s(null)})},[e,r,i]),m.createElement(m.Fragment,null,t,r?D.cloneElement(r,{ref:o}):null)}const Mce={x:0,y:0,scaleX:1,scaleY:1};function $ce(n){let{children:e}=n;return m.createElement(Cp.Provider,{value:bF},m.createElement(Jy.Provider,{value:Mce},e))}const Fce={position:"fixed",touchAction:"none"},jce=n=>Xy(n)?"transform 250ms ease":void 0,Vce=D.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:l,transform:u,transition:d=jce}=n;if(!a)return null;const h=s?u:{...u,scaleX:1,scaleY:1},f={...Fce,width:a.width,height:a.height,top:a.top,left:a.left,transform:Za.Transform.toString(h),transformOrigin:s&&r?kue(r,a):void 0,transition:typeof d=="function"?d(r):d,...l};return m.createElement(t,{className:o,style:f,ref:e},i)}),Uce=n=>e=>{let{active:t,dragOverlay:r}=e;const s={},{styles:i,className:o}=n;if(i!=null&&i.active)for(const[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=t.node.style.getPropertyValue(a),t.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(const[a,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&t.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,u]of Object.entries(s))t.node.style.setProperty(l,u);o!=null&&o.active&&t.node.classList.remove(o.active)}},Bce=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Za.Transform.toString(e)},{transform:Za.Transform.toString(t)}]},Hce={duration:250,easing:"ease",keyframes:Bce,sideEffects:Uce({styles:{active:{opacity:"0"}}})};function zce(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:s}=n;return qy((i,o)=>{if(e===null)return;const a=t.get(i);if(!a)return;const l=a.node.current;if(!l)return;const u=_F(o);if(!u)return;const{transform:d}=Ur(o).getComputedStyle(o),h=oF(d);if(!h)return;const f=typeof e=="function"?e:Kce(e);return fF(l,s.draggable.measure),f({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:o,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function Kce(n){const{duration:e,easing:t,sideEffects:r,keyframes:s}={...Hce,...n};return i=>{let{active:o,dragOverlay:a,transform:l,...u}=i;if(!e)return;const d={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},h={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},f={x:l.x-d.x,y:l.y-d.y,...h},g=s({...u,active:o,dragOverlay:a,transform:{initial:l,final:f}}),[b]=g,y=g[g.length-1];if(JSON.stringify(b)===JSON.stringify(y))return;const _=r==null?void 0:r({active:o,dragOverlay:a,...u}),v=a.node.animate(g,{duration:e,easing:t,fill:"forwards"});return new Promise(E=>{v.onfinish=()=>{_==null||_(),E()}})}}let IR=0;function Wce(n){return D.useMemo(()=>{if(n!=null)return IR++,IR},[n])}const Gce=m.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:u=999}=n;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:g,draggableNodes:b,droppableContainers:y,dragOverlay:_,over:v,measuringConfiguration:E,scrollableAncestors:w,scrollableAncestorRects:S,windowRect:O}=SF(),x=D.useContext(Jy),I=Wce(h==null?void 0:h.id),T=EF(o,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:g,draggingNodeRect:_.rect,over:v,overlayNodeRect:_.rect,scrollableAncestors:w,scrollableAncestorRects:S,transform:x,windowRect:O}),P=UC(f),A=zce({config:r,draggableNodes:b,droppableContainers:y,measuringConfiguration:E}),k=P?_.setRef:void 0;return m.createElement($ce,null,m.createElement(Lce,{animation:A},h&&I?m.createElement(Vce,{key:I,id:h.id,ref:k,as:a,activatorEvent:d,adjustScale:e,className:l,transition:i,rect:P,style:{zIndex:u,...s},transform:T},t):null))});function CF(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function Yce(n,e){return n.reduce((t,r,s)=>{const i=e.get(r);return i&&(t[s]=i),t},Array(n.length))}function Dg(n){return n!==null&&n>=0}function qce(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Xce(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const BC=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const i=CF(e,r,t),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},TF="Sortable",IF=m.createContext({activeIndex:-1,containerId:TF,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:BC,disabled:{draggable:!1,droppable:!1}});function Qce(n){let{children:e,id:t,items:r,strategy:s=BC,disabled:i=!1}=n;const{active:o,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:d}=SF(),h=Sp(TF,t),f=a.rect!==null,g=D.useMemo(()=>r.map(x=>typeof x=="object"&&"id"in x?x.id:x),[r]),b=o!=null,y=o?g.indexOf(o.id):-1,_=u?g.indexOf(u.id):-1,v=D.useRef(g),E=!qce(g,v.current),w=_!==-1&&y===-1||E,S=Xce(i);Ei(()=>{E&&b&&d(g)},[E,g,b,d]),D.useEffect(()=>{v.current=g},[g]);const O=D.useMemo(()=>({activeIndex:y,containerId:h,disabled:S,disableTransforms:w,items:g,overIndex:_,useDragOverlay:f,sortedRects:Yce(g,l),strategy:s}),[y,h,S.draggable,S.droppable,w,g,_,l,f,s]);return m.createElement(IF.Provider,{value:O},e)}const Zce=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return CF(t,r,s).indexOf(e)},Jce=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:u}=n;return!u||!r||a!==i&&s===o?!1:t?!0:o!==s&&e===l},ede={duration:200,easing:"ease"},OF="transform",tde=Za.Transition.toString({property:OF,duration:0,easing:"linear"}),nde={roleDescription:"sortable"};function rde(n){let{disabled:e,index:t,node:r,rect:s}=n;const[i,o]=D.useState(null),a=D.useRef(t);return Ei(()=>{if(!e&&t!==a.current&&r.current){const l=s.current;if(l){const u=Id(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&o(d)}}t!==a.current&&(a.current=t)},[e,t,r,s]),D.useEffect(()=>{i&&o(null)},[i]),i}function sde(n){let{animateLayoutChanges:e=Jce,attributes:t,disabled:r,data:s,getNewIndex:i=Zce,id:o,strategy:a,resizeObserverConfig:l,transition:u=ede}=n;const{items:d,containerId:h,activeIndex:f,disabled:g,disableTransforms:b,sortedRects:y,overIndex:_,useDragOverlay:v,strategy:E}=D.useContext(IF),w=ide(r,g),S=d.indexOf(o),O=D.useMemo(()=>({sortable:{containerId:h,index:S,items:d},...s}),[h,s,S,d]),x=D.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:I,node:T,isOver:P,setNodeRef:A}=Nce({id:o,data:O,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...l}}),{active:k,activatorEvent:M,activeNodeRect:N,attributes:W,setNodeRef:q,listeners:K,isDragging:ee,over:V,setActivatorNodeRef:z,transform:B}=Ace({id:o,data:O,attributes:{...nde,...t},disabled:w.draggable}),oe=yue(A,q),ne=!!k,re=ne&&!b&&Dg(f)&&Dg(_),he=!v&&ee,be=he&&re?B:null,me=re?be??(a??E)({rects:y,activeNodeRect:N,activeIndex:f,overIndex:_,index:S}):null,ge=Dg(f)&&Dg(_)?i({id:o,items:d,activeIndex:f,overIndex:_}):S,te=k==null?void 0:k.id,le=D.useRef({activeId:te,items:d,newIndex:ge,containerId:h}),ft=d!==le.current.items,Ot=e({active:k,containerId:h,isDragging:ee,isSorting:ne,id:o,index:S,items:d,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:u,wasDragging:le.current.activeId!=null}),nn=rde({disabled:!Ot,index:S,node:T,rect:I});return D.useEffect(()=>{ne&&le.current.newIndex!==ge&&(le.current.newIndex=ge),h!==le.current.containerId&&(le.current.containerId=h),d!==le.current.items&&(le.current.items=d)},[ne,ge,h,d]),D.useEffect(()=>{if(te===le.current.activeId)return;if(te&&!le.current.activeId){le.current.activeId=te;return}const yn=setTimeout(()=>{le.current.activeId=te},50);return()=>clearTimeout(yn)},[te]),{active:k,activeIndex:f,attributes:W,data:O,rect:I,index:S,newIndex:ge,items:d,isOver:P,isSorting:ne,isDragging:ee,listeners:K,node:T,overIndex:_,over:V,setNodeRef:oe,setActivatorNodeRef:z,setDroppableNodeRef:A,setDraggableNodeRef:q,transform:nn??me,transition:yt()};function yt(){if(nn||ft&&le.current.newIndex===S)return tde;if(!(he&&!Xy(M)||!u)&&(ne||Ot))return Za.Transition.toString({...u,property:OF})}}function ide(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}function Pv(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const ode=[qe.Down,qe.Right,qe.Up,qe.Left],ade=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:a}}=e;if(ode.includes(n.code)){if(n.preventDefault(),!t||!r)return;const l=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const f=s.get(h.id);if(f)switch(n.code){case qe.Down:r.top<f.top&&l.push(h);break;case qe.Up:r.top>f.top&&l.push(h);break;case qe.Left:r.left>f.left&&l.push(h);break;case qe.Right:r.left<f.left&&l.push(h);break}});const u=Mue({active:t,collisionRect:r,droppableRects:s,droppableContainers:l,pointerCoordinates:null});let d=sF(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const h=i.get(t.id),f=i.get(d),g=f?s.get(f.id):null,b=f==null?void 0:f.node.current;if(b&&g&&h&&f){const _=Qy(b).some((x,I)=>a[I]!==x),v=PF(h,f),E=lde(h,f),w=_||!v?{x:0,y:0}:{x:E?r.width-g.width:0,y:E?r.height-g.height:0},S={x:g.left,y:g.top};return w.x&&w.y?S:If(S,w)}}}};function PF(n,e){return!Pv(n)||!Pv(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function lde(n,e){return!Pv(n)||!Pv(e)||!PF(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const ude="semi-sortable";function cde(n){return m.createElement("div",Object.assign({style:{overflow:"auto"}},n))}const dde={coordinateGetter:ade};function hde(n){let{items:e,onSortEnd:t,adjustScale:r,renderItem:s,transition:i,collisionDetection:o=Lue,strategy:a=BC,useDragOverlay:l=!0,dragOverlayCls:u,container:d=cde,prefix:h=ude}=n;const[f,g]=D.useState(null),b=Due(Kb(mF),Kb(vF),Kb(jC,dde)),y=D.useCallback(S=>e.indexOf(S),[e]),_=D.useMemo(()=>f?y(f):-1,[y,f]),v=D.useCallback(S=>{let{active:O}=S;O&&g(O.id)},[]),E=D.useCallback(S=>{let{over:O}=S;if(g(null),O){const x=y(O.id);_!==x&&t({oldIndex:_,newIndex:x})}},[_,y,t]),w=D.useCallback(()=>{g(null)},[]);return m.createElement(Pce,{sensors:b,collisionDetection:o,onDragStart:v,onDragEnd:E,onDragCancel:w,autoScroll:{order:Of.ReversedTreeOrder}},m.createElement(Qce,{items:e,strategy:a},m.createElement(d,null,e.map((S,O)=>m.createElement(fde,{key:S,id:S,index:O,renderItem:s,useDragOverlay:l,prefix:h,transition:i})))),l?Ws.createPortal(m.createElement(Gce,{adjustScale:r,style:{zIndex:void 0},className:u},f?s({id:f,sortableHandle:S=>S}):null),document.body):null)}function fde(n){let{animateLayoutChanges:e,id:t,renderItem:r,prefix:s,transition:i}=n;const{listeners:o,setNodeRef:a,transform:l,transition:u,active:d,isOver:h,attributes:f}=sde({id:t,animateLayoutChanges:e,transition:i}),g=D.useCallback(_=>()=>m.createElement("span",Object.assign({},o,{style:{lineHeight:0},onMouseDown:v=>{o.onMouseDown(v),v.preventDefault(),v.stopPropagation()}}),m.createElement(_,null)),[o]),b=$(`${s}-sortable-item`,{[`${s}-sortable-item-over`]:h,[`${s}-sortable-item-active`]:(d==null?void 0:d.id)===t}),y=D.useMemo(()=>nu(i)?void 0:{transform:Za.Transform.toString(Object.assign(Object.assign({},l),{scaleX:1,scaleY:1})),transition:u},[i,l,u]);return m.createElement("div",Object.assign({ref:a,style:y,className:b},f),r({id:t,sortableHandle:g}))}var pde=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ge=gue.PREFIX;function gde(n){return m.createElement("div",Object.assign({className:`${Ge}-sortable-list`},n))}class Tp extends xe{constructor(e){super(e),this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleKeyDown=t=>{this.foundation.handleKeyDown(t)},this.handleInputFocus=t=>{this.foundation.handleInputFocus(t)},this.handleInputBlur=t=>{this.foundation.handleInputBlur(t)},this.handleClearBtn=t=>{this.foundation.handleClearBtn(t)},this.handleClearEnterPress=t=>{this.foundation.handleClearEnterPress(t)},this.handleTagClose=t=>{this.foundation.handleTagClose(t)},this.handleInputMouseLeave=t=>{this.foundation.handleInputMouseLeave()},this.handleClick=t=>{this.foundation.handleClick(t)},this.handleInputMouseEnter=t=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=t=>{this.foundation.handleClickPrefixOrSuffix(t)},this.handlePreventMouseDown=t=>{this.foundation.handlePreventMouseDown(t)},this.getAllTags=()=>{const{tagsArray:t}=this.state;return t.map((r,s)=>this.renderTag(r,s))},this.renderTag=(t,r,s)=>{const{size:i,disabled:o,renderTagItem:a,showContentTooltip:l,draggable:u}=this.props,{active:d}=this.state,h=d&&u,f=$(`${Ge}-wrapper-tag`,{[`${Ge}-wrapper-tag-size-${i}`]:i,[`${Ge}-wrapper-tag-icon`]:h}),g=$(`${Ge}-wrapper-typo`,{[`${Ge}-wrapper-typo-disabled`]:o}),b=$({[`${Ge}-drag-item`]:h,[`${Ge}-wrapper-tag-icon`]:h}),y=s&&s(()=>m.createElement(rie,{className:`${Ge}-drag-handler`})),_=h?t:`${r}${t}`,v=()=>{!o&&this.handleTagClose(r)};return De(a)?m.createElement("div",{className:b,key:_},h&&s?m.createElement(y,null):null,a(t,r,v)):m.createElement(Or,{className:f,color:"white",size:i==="small"?"small":"large",type:"light",onClose:v,closable:!o,key:_,visible:!0,"aria-label":`${o?"":"Closable "}Tag: ${t}`},h&&s?m.createElement(y,null):null,m.createElement(Uy,{className:g,ellipsis:{showTooltip:l,rows:1}},t))},this.renderSortTag=t=>{const{id:r,sortableHandle:s}=t,{tagsArray:i}=this.state,o=i.indexOf(r);return this.renderTag(r,o,s)},this.onSortEnd=t=>{this.foundation.handleSortEnd(t)},this.handleInputCompositionStart=t=>{this.foundation.handleInputCompositionStart(t)},this.handleInputCompositionEnd=t=>{this.foundation.handleInputCompositionEnd(t)},this.foundation=new vue(this.adapter),this.state={tagsArray:e.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=m.createRef(),this.tagInputRef=m.createRef(),this.clickOutsideHandler=null}static getDerivedStateFromProps(e,t){const{value:r,inputValue:s}=e,{tagsArray:i}=t;let o;return G1(r)?o=r:"value"in e&&!r?o=[]:o=i,{tagsArray:o,inputValue:ke(s)?s:t.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:e=>{this.setState({inputValue:e})},setTagsArray:e=>{this.setState({tagsArray:e})},setFocusing:e=>{this.setState({focusing:e})},toggleFocusing:e=>{const{preventScroll:t}=this.props,r=this.inputRef&&this.inputRef.current;e?r&&r.focus({preventScroll:t}):r&&r.blur(),this.setState({focusing:e})},setHovering:e=>{this.setState({hovering:e})},setActive:e=>{this.setState({active:e})},setEntering:e=>{this.setState({entering:e})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:e=>{this.props.onBlur(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyInputChange:(e,t)=>{this.props.onInputChange(e,t)},notifyTagChange:e=>{this.props.onChange(e)},notifyTagAdd:e=>{this.props.onAdd(e)},notifyTagRemove:(e,t)=>{this.props.onRemove(e,t)},notifyKeyDown:e=>{this.props.onKeyDown(e)},registerClickOutsideHandler:e=>{const t=r=>{const s=this.tagInputRef&&this.tagInputRef.current,i=r.target,o=r.composedPath&&r.composedPath()||[i];s&&!s.contains(i)&&!o.includes(s)&&e(r)};this.clickOutsideHandler=t,document.addEventListener("click",t,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&t&&(this.inputRef.current.focus({preventScroll:r}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){const{hovering:e,tagsArray:t,inputValue:r}=this.state,{showClear:s,disabled:i,clearIcon:o}=this.props,a=$(`${Ge}-clearBtn`,{[`${Ge}-clearBtn-invisible`]:!e||r===""&&t.length===0||i});return s?m.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:a,onClick:l=>this.handleClearBtn(l),onKeyPress:l=>this.handleClearEnterPress(l)},o||m.createElement(dl,null)):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(nu(s)||Ct(s))return null;const i=$(`${Ge}-prefix`,{[`${Ge}-inset-label`]:t,[`${Ge}-prefix-text`]:s&&ke(s),[`${Ge}-prefix-icon`]:Cr(s)});return m.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix"},s)}renderSuffix(){const{suffix:e}=this.props;if(nu(e)||Ct(e))return null;const t=$(`${Ge}-suffix`,{[`${Ge}-suffix-text`]:e&&ke(e),[`${Ge}-suffix-icon`]:Cr(e)});return m.createElement("div",{className:t,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},e)}renderTags(){const{disabled:e,maxTagCount:t,showRestTagsPopover:r,restTagsPopoverProps:s={},draggable:i,expandRestTagsOnClick:o}=this.props,{tagsArray:a,active:l}=this.state,u=$(`${Ge}-wrapper-n`,{[`${Ge}-wrapper-n-disabled`]:e}),d=this.getAllTags();let h=[],f=[...d];(!l||!o)&&t&&t<d.length&&(f=d.slice(0,t),h=d.slice(t));const g=m.createElement("span",{className:u},"+",a.length-t),b=d.map((y,_)=>({item:y,key:a[_]}));return l&&i&&b.length>0?m.createElement(hde,{items:a,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:gde,prefix:Ge,transition:null,dragOverlayCls:`${Ge}-right-item-drag-item-move`}):m.createElement(m.Fragment,null,f,h.length>0&&(r?m.createElement(xr,Object.assign({content:h,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},s),g):g))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){const{preventScroll:e,disabled:t}=this.props;this.inputRef.current.focus({preventScroll:e}),t||this.foundation.handleClick()}render(){const e=this.props,{size:t,style:r,className:s,disabled:i,placeholder:o,validateStatus:a,prefix:l,insetLabel:u,suffix:d}=e,h=pde(e,["size","style","className","disabled","placeholder","validateStatus","prefix","insetLabel","suffix"]),{focusing:f,hovering:g,tagsArray:b,inputValue:y,active:_}=this.state,v=$(Ge,s,{[`${Ge}-focus`]:f||_,[`${Ge}-disabled`]:i,[`${Ge}-hover`]:g&&!i,[`${Ge}-error`]:a==="error",[`${Ge}-warning`]:a==="warning",[`${Ge}-small`]:t==="small",[`${Ge}-large`]:t==="large",[`${Ge}-with-prefix`]:!!l||!!u,[`${Ge}-with-suffix`]:!!d}),E=$(`${Ge}-wrapper-input`,`${Ge}-wrapper-input-${t}`),w=$(`${Ge}-wrapper`);return m.createElement("div",Object.assign({ref:this.tagInputRef,style:r,className:v,"aria-disabled":i,"aria-label":this.props["aria-label"],"aria-invalid":a==="error",onMouseEnter:S=>{this.handleInputMouseEnter(S)},onMouseLeave:S=>{this.handleInputMouseLeave(S)},onClick:S=>{this.handleClick(S)}},this.getDataAttr(h)),this.renderPrefix(),m.createElement("div",{className:w},this.renderTags(),m.createElement(Ln,{"aria-label":"input value",ref:this.inputRef,className:E,disabled:i,value:y,size:t,placeholder:b.length===0?o:"",onKeyDown:S=>{this.handleKeyDown(S)},onChange:(S,O)=>{this.handleInputChange(O)},onBlur:S=>{this.handleInputBlur(S)},onFocus:S=>{this.handleInputFocus(S)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}}Tp.propTypes={children:c.node,clearIcon:c.node,style:c.object,className:c.string,disabled:c.bool,allowDuplicates:c.bool,max:c.number,maxTagCount:c.number,maxLength:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,showContentTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),defaultValue:c.array,value:c.array,inputValue:c.string,placeholder:c.string,separator:c.oneOfType([c.string,c.array]),showClear:c.bool,addOnBlur:c.bool,draggable:c.bool,expandRestTagsOnClick:c.bool,autoFocus:c.bool,renderTagItem:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onInputChange:c.func,onExceed:c.func,onInputExceed:c.func,onAdd:c.func,onRemove:c.func,onKeyDown:c.func,size:c.oneOf(hR.SIZE_SET),validateStatus:c.oneOf(hR.STATUS),prefix:c.oneOfType([c.string,c.node]),suffix:c.oneOfType([c.string,c.node]),"aria-label":c.string,preventScroll:c.bool};Tp.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:j,onFocus:j,onChange:j,onInputChange:j,onExceed:j,onInputExceed:j,onAdd:j,onRemove:j,onKeyDown:j};const $e=K$.PREFIX,mde=0;class qc extends xe{constructor(e){super(e),this.search=t=>{this.handleInputChange(t)},this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleTagRemoveInTrigger=t=>{this.foundation.handleTagRemoveInTrigger(t)},this.handleTagClose=(t,r,s)=>{r.preventDefault(),this.foundation.handleTagRemoveByKey(s)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:o,disabled:a,displayProp:l,displayRender:u,disableStrictly:d}=this.props;if(s[t]){const h=a||s[t].data.disabled||d&&i.has(t),f=$(`${$e}-selection-tag`,{[`${$e}-selection-tag-disabled`]:h});return De(u)?u(s[t],r):m.createElement(Or,{size:o==="default"?"large":o,key:`tag-${t}-${r}`,color:"white",tagKey:t,className:f,closable:!0,onClose:this.handleTagClose},s[t].data[l])}return null},this.onRemoveInTagInput=t=>{this.foundation.handleTagRemoveByKey(t)},this.handleItemClick=(t,r)=>{this.foundation.handleItemClick(t,r)},this.handleItemHover=(t,r)=>{this.foundation.handleItemHover(t,r)},this.onItemCheckboxClick=t=>{this.foundation.onItemCheckboxClick(t)},this.handleListScroll=(t,r)=>{this.foundation.handleListScroll(t,r)},this.renderContent=()=>{const{inputValue:t,isSearching:r,activeKeys:s,selectedKeys:i,checkedKeys:o,halfCheckedKeys:a,loadedKeys:l,loadingKeys:u}=this.state,{filterTreeNode:d,dropdownClassName:h,dropdownStyle:f,loadData:g,emptyContent:b,separator:y,topSlot:_,bottomSlot:v,showNext:E,multiple:w,filterRender:S,virtualizeInSearch:O,expandIcon:x}=this.props,I=!!d&&r,T=$(h,`${$e}-popover`),P=this.foundation.getRenderData();return m.createElement("div",{className:T,role:"listbox",style:f,onKeyDown:this.foundation.handleKeyDown},_,m.createElement(Gy,{activeKeys:s,selectedKeys:i,separator:y,loadedKeys:l,loadingKeys:u,onItemClick:this.handleItemClick,onItemHover:this.handleItemHover,showNext:E,onItemCheckboxClick:this.onItemCheckboxClick,onListScroll:this.handleListScroll,searchable:I,keyword:t,emptyContent:b,loadData:g,data:P,multiple:w,checkedKeys:o,halfCheckedKeys:a,filterRender:S,virtualize:O,expandIcon:x}),v)},this.renderPlusN=t=>{const{disabled:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props,o=$(`${$e}-selection-n`,{[`${$e}-selection-n-disabled`]:r}),a=m.createElement("span",{className:o},"+",t.length);return s?m.createElement(xr,Object.assign({content:t,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},i),a):a},this.renderMultipleTags=()=>{const{autoMergeValue:t,maxTagCount:r,checkRelation:s}=this.props,{checkedKeys:i,resolvedCheckedKeys:o}=this.state,a=this.mergeType===Jt.NONE_MERGE_TYPE||s===Jt.UN_RELATED?i:o,l=[],u=[];return[...a].forEach((d,h)=>{const f=!tn(r)||r>=h+1,g=this.renderTagItem(d,h);f?l.push(g):u.push(g)}),m.createElement(m.Fragment,null,l,!At(u)&&this.renderPlusN(u))},this.renderDisplayText=()=>{const{displayProp:t,separator:r,displayRender:s}=this.props,{selectedKeys:i}=this.state;let o="";if(i.size){const a=this.foundation.getItemPropPath([...i][0],t);s&&typeof s=="function"?o=s(a):o=a.map((l,u)=>m.createElement(D.Fragment,{key:`${l}-${u}`},u<a.length-1?m.createElement(m.Fragment,null,l,r):l))}return o},this.renderSelectContent=()=>{const{placeholder:t,filterTreeNode:r,multiple:s,searchPosition:i}=this.props,{checkedKeys:o}=this.state;if(!(!!r&&i===Jt.SEARCH_POSITION_TRIGGER)){if(s)return o.size===0?m.createElement("span",{className:`${$e}-selection-placeholder`},t):this.renderMultipleTags();{const u=this.renderDisplayText(),d=$({[`${$e}-selection-placeholder`]:!u});return m.createElement("span",{className:d},u||t)}}return s?this.renderTagInput():this.renderInput()},this.renderSuffix=()=>{const{suffix:t}=this.props,r=$({[`${$e}-suffix`]:!0,[`${$e}-suffix-text`]:t&&ke(t),[`${$e}-suffix-icon`]:Cr(t)});return m.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,o=$({[`${$e}-prefix`]:!0,[`${$e}-inset-label`]:r,[`${$e}-prefix-text`]:i&&ke(i),[`${$e}-prefix-icon`]:Cr(i)});return m.createElement("div",{className:o,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderCustomTrigger=()=>{var t;const{disabled:r,triggerRender:s,multiple:i}=this.props,{selectedKeys:o,inputValue:a,inputPlaceHolder:l,resolvedCheckedKeys:u,checkedKeys:d,keyEntities:h}=this.state;let f;return i?this.mergeType===Jt.NONE_MERGE_TYPE?(f=new Set,d.forEach(g=>{var b;f.add((b=h[g])===null||b===void 0?void 0:b.pos)})):(f=new Set,u.forEach(g=>{var b;f.add((b=h[g])===null||b===void 0?void 0:b.pos)})):f=(t=h[[...o][0]])===null||t===void 0?void 0:t.pos,m.createElement(Tu,{value:f,inputValue:a,onChange:this.handleInputChange,onClear:this.handleClear,placeholder:l,disabled:r,triggerRender:s,componentName:"Cascader",componentProps:Object.assign({},this.props),onSearch:this.handleInputChange,onRemove:this.handleTagRemoveInTrigger})},this.handleMouseOver=()=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=()=>{this.foundation.toggleHoverState(!1)},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear()},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.showClearBtn=()=>{const{showClear:t,disabled:r,multiple:s}=this.props,{selectedKeys:i,isOpen:o,isHovering:a,checkedKeys:l,inputValue:u}=this.state,d=i.size,h=s&&l.size;return t&&(u||d||h)&&!r&&(o||a)},this.renderClearBtn=()=>{const t=$(`${$e}-clearbtn`),{clearIcon:r}=this.props;return this.showClearBtn()?m.createElement("div",{className:t,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress,role:"button",tabIndex:0},r||m.createElement(dl,null)):null},this.renderArrow=()=>{const{arrowIcon:t}=this.props;return this.showClearBtn()?null:t?m.createElement("div",{className:$(`${$e}-arrow`),"x-semi-prop":"arrowIcon"},t):null},this.renderSelection=()=>{const{disabled:t,multiple:r,filterTreeNode:s,style:i,size:o,className:a,validateStatus:l,prefix:u,suffix:d,insetLabel:h,triggerRender:f,showClear:g,id:b,borderless:y}=this.props,{isOpen:_,isFocus:v,isInput:E,checkedKeys:w}=this.state,S=!!s,O=typeof f=="function",x=O?$(a):$($e,a,{[`${$e}-borderless`]:y,[`${$e}-focus`]:v||_&&!E,[`${$e}-disabled`]:t,[`${$e}-single`]:!0,[`${$e}-filterable`]:S,[`${$e}-error`]:l==="error",[`${$e}-warning`]:l==="warning",[`${$e}-small`]:o==="small",[`${$e}-large`]:o==="large",[`${$e}-with-prefix`]:u||h,[`${$e}-with-suffix`]:d}),I=g?{onMouseEnter:()=>this.handleMouseOver(),onMouseLeave:()=>this.handleMouseLeave()}:{},T=$(`${$e}-selection`,{[`${$e}-selection-multiple`]:r&&!At(w)}),P=O?this.renderCustomTrigger():[m.createElement(D.Fragment,{key:"prefix"},u||h?this.renderPrefix():null),m.createElement(D.Fragment,{key:"selection"},m.createElement("div",{className:T},this.renderSelectContent())),m.createElement(D.Fragment,{key:"suffix"},d?this.renderSuffix():null),m.createElement(D.Fragment,{key:"clearbtn"},this.renderClearBtn()),m.createElement(D.Fragment,{key:"arrow"},this.renderArrow())];return m.createElement("div",Object.assign({className:x,style:i,ref:this.triggerRef,onClick:A=>this.foundation.handleClick(A),onKeyPress:A=>this.foundation.handleSelectionEnterPress(A),"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],id:b,onKeyDown:this.foundation.handleKeyDown},I,{role:"combobox",tabIndex:0},this.getDataAttr(this.props)),P)},this.state={disabledKeys:new Set,isOpen:e.defaultOpen,rePosKey:mde,keyEntities:{},selectedKeys:new Set([]),activeKeys:new Set([]),filteredKeys:new Set([]),inputValue:"",isSearching:!1,inputPlaceHolder:e.searchPlaceholder||e.placeholder,prevProps:{},isHovering:!1,checkedKeys:new Set([]),halfCheckedKeys:new Set([]),resolvedCheckedKeys:new Set([]),loadedKeys:new Set,loadingKeys:new Set,loading:!1,showInput:!1},this.options={},this.isEmpty=!1,this.mergeType=Qw(e.autoMergeValue,e.leafOnly),this.inputRef=m.createRef(),this.triggerRef=m.createRef(),this.optionsRef=m.createRef(),this.clickOutsideHandler=null,this.foundation=new qle(this.adapter),this.loadingKeysRef=m.createRef(),this.loadedKeysRef=m.createRef()}get adapter(){var e=this;const t={updateInputValue:s=>{this.setState({inputValue:s})},updateInputPlaceHolder:s=>{this.setState({inputPlaceHolder:s})},focusInput:()=>{const{preventScroll:s}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:s})},blurInput:()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.blur()}},r={registerClickOutsideHandler:s=>{const i=o=>{const a=this.optionsRef&&this.optionsRef.current,l=this.triggerRef&&this.triggerRef.current,u=Mr.findDOMNode(a),d=o.target,h=o.composedPath&&o.composedPath()||[d];u&&(!u.contains(d)||!u.contains(d.parentNode))&&l&&!l.contains(d)&&!(h.includes(l)||h.includes(u))&&s(o)};this.clickOutsideHandler=i,document.addEventListener("mousedown",i,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1)},rePositionDropdown:()=>{let{rePosKey:s}=this.state;s=s+1,this.setState({rePosKey:s})}};return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),{updateStates:s=>{this.setState(Object.assign({},s))},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:s=>{this.setState({isOpen:!1},()=>{s&&s()})},updateSelection:s=>this.setState({selectedKeys:s}),notifyChange:s=>{this.props.onChange&&this.props.onChange(s)},notifySelect:s=>{this.props.onSelect&&this.props.onSelect(s)},notifyOnSearch:s=>{this.props.onSearch&&this.props.onSearch(s)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},notifyDropdownVisibleChange:s=>{this.props.onDropdownVisibleChange(s)},toggleHovering:s=>{this.setState({isHovering:s})},notifyLoadData:(s,i)=>{const{loadData:o}=this.props;o&&new Promise(a=>{o(s).then(()=>{setTimeout(()=>{i(),this.setState({loading:!1}),a()})})})},notifyOnLoad:(s,i)=>{const{onLoad:o}=this.props;o&&o(s,i)},notifyListScroll:(s,i)=>{let{panelIndex:o,activeNode:a}=i;this.props.onListScroll(s,{panelIndex:o,activeNode:a})},notifyOnExceed:s=>this.props.onExceed(s),notifyClear:()=>this.props.onClear(),toggleInputShow:(s,i)=>{this.setState({showInput:s},()=>{i()})},updateFocusState:s=>{this.setState({isFocus:s})},updateLoadingKeyRefValue:s=>{this.loadingKeysRef.current=s},getLoadingKeyRefValue:()=>this.loadingKeysRef.current,updateLoadedKeyRefValue:s=>{this.loadedKeysRef.current=s},getLoadedKeyRefValue:()=>this.loadedKeysRef.current})}static getDerivedStateFromProps(e,t){const{multiple:r,value:s,defaultValue:i,onChangeWithObject:o,leafOnly:a,autoMergeValue:l,checkRelation:u}=e,{prevProps:d}=t;let h=t.keyEntities||{};const f={},g=_=>{const v=At(d)&&_ in e,E=d&&!je(d[_],e[_]);return v||E},b=()=>{const _=!d&&"treeData"in e,v=d&&d.treeData!==e.treeData;return _||v},y=(_,v)=>{let E=[];Array.isArray(_)?E=Array.isArray(_[0])?_:[_]:_!==void 0&&(E=[[_]]);const w=[];return E.forEach(O=>{const x=o&&Wo(O[0])?O.map(I=>I==null?void 0:I.value):O;x.length>0&&w.push(x)}),w.reduce((O,x)=>{const I=Sv(x);return v[I]&&O.push(I),O},[])};if(r){const _=g("treeData")||b(),v=g("value")||At(d)&&i;if(_||v){_&&(f.treeData=e.treeData,h=G$(e.treeData),f.keyEntities=h);let E=t.checkedKeys;if(v){const w=g("value")?s:i;E=y(w,h)}else _&&"value"in e&&(E=y(s,h));if(wM(E)&&(E=[...E]),u===Jt.RELATED){const w=_p(E,h),S=new Set(w.checkedKeys),O=new Set(w.halfCheckedKeys);e.disableStrictly&&(f.disabledKeys=z$(h));const x=Qw(l,a)===Jt.LEAF_ONLY_MERGE_TYPE;f.checkedKeys=S,f.halfCheckedKeys=O,f.resolvedCheckedKeys=new Set(hi(S,h,x))}else f.checkedKeys=new Set(E);f.prevProps=e}}return f}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e){if(this.props.multiple)return;let t=!1;je(e.treeData,this.props.treeData)||(t=!0,this.foundation.collectOptions()),e.value!==this.props.value&&!t&&this.foundation.handleValueChange(this.props.value)}renderTagInput(){const{size:e,disabled:t,placeholder:r,maxTagCount:s,showRestTagsPopover:i,restTagsPopoverProps:o,checkRelation:a}=this.props,{inputValue:l,checkedKeys:u,keyEntities:d,resolvedCheckedKeys:h}=this.state,f=$(`${$e}-tagInput-wrapper`),g=this.mergeType===Jt.NONE_MERGE_TYPE||a===Jt.UN_RELATED?u:h;return m.createElement(Tp,{className:f,ref:this.inputRef,disabled:t,size:e,value:[...g],showRestTagsPopover:i,restTagsPopoverProps:o,maxTagCount:s,renderTagItem:this.renderTagItem,inputValue:l,onInputChange:this.handleInputChange,onRemove:this.onRemoveInTagInput,placeholder:r,expandRestTagsOnClick:!1})}renderInput(){const{size:e,disabled:t}=this.props,r=$(`${$e}-input`),{inputValue:s,inputPlaceHolder:i,showInput:o}=this.state,a={disabled:t,value:s,className:r,onChange:this.handleInputChange},l=$({[`${$e}-search-wrapper`]:!0,[`${$e}-search-wrapper-${e}`]:e!=="default"}),u=this.renderDisplayText(),d=$({[`${$e}-selection-placeholder`]:!u,[`${$e}-selection-text-hide`]:o&&s,[`${$e}-selection-text-inactive`]:o&&!s});return m.createElement("div",{className:l},m.createElement("span",{className:d},u||i),o&&m.createElement(Ln,Object.assign({ref:this.inputRef,size:e},a)))}close(){this.foundation.close()}open(){this.foundation.open()}focus(){this.foundation.focus()}blur(){this.foundation.blur()}render(){const{zIndex:e,getPopupContainer:t,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:o,position:a,motion:l,dropdownMargin:u}=this.props,{isOpen:d,rePosKey:h}=this.state,{direction:f}=this.context,g=this.renderContent(),b=this.renderSelection(),y=a??(f==="rtl"?"bottomRight":"bottomLeft");return m.createElement(xr,{getPopupContainer:t,zIndex:e,motion:l,margin:u,ref:this.optionsRef,content:g,visible:d,trigger:"custom",rePosKey:h,position:y,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:o,afterClose:()=>this.foundation.updateSearching(!1)},b)}}qc.__SemiComponentName__="Cascader";qc.contextType=Vr;qc.propTypes={"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,"aria-label":c.string,arrowIcon:c.node,borderless:c.bool,clearIcon:c.node,changeOnSelect:c.bool,defaultValue:c.oneOfType([c.string,c.array]),disabled:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),emptyContent:c.node,motion:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),filterLeafOnly:c.bool,placeholder:c.string,searchPlaceholder:c.string,size:c.oneOf(Jt.SIZE_SET),style:c.object,className:c.string,treeData:c.arrayOf(c.shape({value:c.oneOfType([c.string,c.number]),label:c.any})),treeNodeFilterProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,id:c.string,displayProp:c.string,displayRender:c.func,onChange:c.func,onSearch:c.func,onSelect:c.func,onBlur:c.func,onFocus:c.func,children:c.node,getPopupContainer:c.func,zIndex:c.number,value:c.oneOfType([c.string,c.number,c.array]),validateStatus:c.oneOf(Jt.VALIDATE_STATUS),showNext:c.oneOf([Jt.SHOW_NEXT_BY_CLICK,Jt.SHOW_NEXT_BY_HOVER]),stopPropagation:c.oneOfType([c.bool,c.string]),showClear:c.bool,defaultOpen:c.bool,autoAdjustOverflow:c.bool,onDropdownVisibleChange:c.func,triggerRender:c.func,onListScroll:c.func,onChangeWithObject:c.bool,bottomSlot:c.node,topSlot:c.node,multiple:c.bool,autoMergeValue:c.bool,maxTagCount:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,max:c.number,separator:c.string,onExceed:c.func,onClear:c.func,loadData:c.func,onLoad:c.func,loadedKeys:c.array,disableStrictly:c.bool,leafOnly:c.bool,enableLeafClick:c.bool,preventScroll:c.bool,position:c.string,searchPosition:c.string};qc.defaultProps=Ps(qc.__SemiComponentName__,{borderless:!1,leafOnly:!1,arrowIcon:m.createElement($y,null),stopPropagation:!0,motion:!0,defaultOpen:!1,zIndex:Ss.DEFAULT_Z_INDEX,showClear:!1,autoClearSearchValue:!0,changeOnSelect:!1,disableStrictly:!1,autoMergeValue:!0,multiple:!1,filterTreeNode:!1,filterLeafOnly:!0,showRestTagsPopover:!1,restTagsPopoverProps:{},separator:" / ",size:"default",treeNodeFilterProp:"label",displayProp:"label",treeData:[],showNext:Jt.SHOW_NEXT_BY_CLICK,onExceed:j,onClear:j,onDropdownVisibleChange:j,onListScroll:j,enableLeafClick:!1,"aria-label":"Cascader",searchPosition:Jt.SEARCH_POSITION_TRIGGER,checkRelation:Jt.RELATED});class vde extends Ne{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=t=>{this._adapter.setDOMInRenderTree(t)},this.updateDOMHeight=t=>{this._adapter.setDOMHeight(t)},this.updateVisible=t=>{this._adapter.setVisible(t)},this.updateIsTransitioning=t=>{this._adapter.setIsTransitioning(t)}}}const OR={PREFIX:`${G}-collapsible`};class Ja extends xe{constructor(e){super(e),this.domRef=m.createRef(),this.hasBeenRendered=!1,this.handleResize=t=>{const r=t[0];if(r){const s=Ja.getEntryInfo(r);this.foundation.updateDOMHeight(s.height),this.foundation.updateDOMInRenderTree(s.isShown)}},this.isChildrenInRenderTree=()=>this.domRef.current?this.domRef.current.offsetHeight>0:!1,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new vde(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);const e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(e,t,r){const s=Object.keys(ru(this.props,["reCalcKey","isOpen"])).filter(o=>!je(this.props[o],e[o])),i=Object.keys(ru(this.state,["domInRenderTree"])).filter(o=>!je(this.state[o],t[o]));s.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),i.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),s.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&e.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){const e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||this.props.collapseHeight!==0?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),t=$(`${OR.PREFIX}-wrapper`,{[`${OR.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),r=this.props.keepDOM&&(this.props.lazyRender?this.hasBeenRendered:!0)||this.props.collapseHeight!==0||this.state.visible||this.props.isOpen;return r&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),m.createElement("div",Object.assign({className:t,style:e,onTransitionEnd:()=>{var s,i;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),(i=(s=this.props).onMotionEnd)===null||i===void 0||i.call(s)}},this.getDataAttr(this.props)),m.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},r&&this.props.children))}}Ja.__SemiComponentName__="Collapsible";Ja.defaultProps=Ps(Ja.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1});Ja.getEntryInfo=n=>{let e;n.borderBoxSize?e=!(n.borderBoxSize[0].blockSize===0&&n.borderBoxSize[0].inlineSize===0):e=!(n.contentRect.height===0&&n.contentRect.width===0);let t=0;return n.borderBoxSize?t=Math.ceil(n.borderBoxSize[0].blockSize):t=n.target.clientHeight,{isShown:e,height:t}};Ja.propTypes={motion:c.bool,children:c.node,isOpen:c.bool,duration:c.number,keepDOM:c.bool,collapseHeight:c.number,style:c.object,className:c.string,reCalcKey:c.oneOfType([c.string,c.number])};var yde=IM;function _de(n,e){return n==null?!0:yde(n,e)}var bde=_de;const rE=Ce(bde);var wde=md,Ede=tC,Sde=lr,Cde=hd,Tde=NL,Ide=Eu,Ode=xy;function Pde(n){return Sde(n)?wde(n,Ide):Cde(n)?[n]:Ede(Tde(Ode(n)))}var xde=Pde;const xf=Ce(xde),PR=n=>{const e=xf(n);return tn(n)&&e.length===1?!1:Number.isInteger(+e[e.length-1])};function Rde(n){if(Wo(n)){const e=N$(n);return e.length?e.every(t=>typeof t>"u"):!0}else return!1}function HC(n,e){if(e.length===0)return;const t=Z(n,e);(Array.isArray(t)&&t.every(r=>r==null)||Rde(t))&&rE(n,e),HC(n,e.slice(0,e.length-1))}function Ade(n){return N$(n).length===0}function Dr(n,e){return Z(n,e)}function dm(n,e){rE(n,e);let t=xf(e);t=t.slice(0,t.length-1),HC(n,t)}function qb(n,e,t,r){if(r||t!==void 0)return Ic(n,e,t);if(PR(e)&&Dr(n,e)!==void 0){Ic(n,e,void 0);let s=xf(e);s=s.slice(0,s.length-1),HC(n,s)}else!PR(e)&&Dr(n,e)!==void 0&&dm(n,e)}function xF(n,e){return n&&(typeof n=="function"||typeof n=="object")&&e&&(typeof e=="function"||typeof e=="object")&&Object.entries(e).forEach(t=>{let[r,s]=t;n[r]=s}),n}const Dde={DAY_TODAY:`${G}-datepicker-day-today`,DAY_IN_RANGE:`${G}-datepicker-day-inrange`,DAY_HOVER:`${G}-datepicker-day-inhover`,DAY_SELECTED:`${G}-datepicker-day-selected`,DAY_SELECTED_START:`${G}-datepicker-day-selected-start`,DAY_SELECTED_END:`${G}-datepicker-day-selected-end`,DAY_DISABLED:`${G}-datepicker-day-disabled`,DAY_HOVER_DAY:`${G}-datepicker-day-hoverday`,DAY_HOVER_DAY_OFFSET:`${G}-datepicker-day-hoverday-offset`,DAY_IN_OFFSET_RANGE:`${G}-datepicker-day-inoffsetrange`,DAY_SELECTED_RANGE_HOVER:`${G}-datepicker-day-selectedrange-hover`,DAY_OFFSET_RANGE_START:`${G}-datepicker-day-offsetrange-start`,DAY_OFFSET_RANGE_END:`${G}-datepicker-day-offsetrange-end`,DAY_SELECTED_START_AFTER_HOVER:`${G}-datepicker-day-selected-start-afterhover`,DAY_SELECTED_END_BEFORE_HOVER:`${G}-datepicker-day-selected-end-beforehover`,DAY_HOVER_DAY_BEFORE_RANGE:`${G}-datepicker-day-hoverday-beforerange`,DAY_HOVER_DAY_AFTER_RANGE:`${G}-datepicker-day-hoverday-afterrange`,DAY_HOVER_DAY_IN_RANGE:`${G}-datepicker-day-hoverday-inrange`,DAY_HOVER_DAY_AROUND_SINGLE_SELECTED:`${G}-datepicker-day-hoverday-around-singleselected`},we=Object.assign({PREFIX:`${G}-datepicker`,NAVIGATION:`${G}-datepicker-navigation`,PANEL_YAM:`${G}-datepicker-panel-yam`,MONTH:`${G}-datepicker-month`,WEEKDAY:`${G}-datepicker-weekday`,WEEKS:`${G}-datepicker-weeks`,WEEK:`${G}-datepicker-week`,DAY:`${G}-datepicker-day`},Dde),kde={FORMAT_FULL_DATE:"yyyy-MM-dd",FORMAT_TIME_PICKER:"HH:mm:ss",FORMAT_DATE_TIME:"yyyy-MM-dd HH:mm:ss",FORMAT_YEAR_MONTH:"yyyy-MM"},Q=Object.assign({DEFAULT_SEPARATOR_MULTIPLE:",",DEFAULT_SEPARATOR_RANGE:" ~ ",SIZE_SET:["small","default","large"],TYPE_SET:["date","dateRange","year","month","monthRange","dateTime","dateTimeRange"],PRESET_POSITION_SET:["left","right","top","bottom"],DENSITY_SET:["default","compact"],PANEL_TYPE_LEFT:"left",PANEL_TYPE_RIGHT:"right",STATUS:yd,POSITION_SET:Hl.POSITION_SET,POSITION_INLINE_INPUT:"leftTopOver"},kde),Xc={WEEK_START_ON:0,WEEK_HEIGHT:36,SPACING:Ss.SPACING,SPACING_INSET_INPUT:1};var Nde=xi,Lde=rs,Mde="[object Date]";function $de(n){return Lde(n)&&Nde(n)==Mde}var Fde=$de,jde=Fde,Vde=bd,xR=cp,RR=xR&&xR.isDate,Ude=RR?Vde(RR):jde,Bde=Ude;const AR=Ce(Bde);function Mo(n){return typeof n=="string"}function DR(n,e){const t=Mo(n)?Qs(n):n,r=Mo(e)?Qs(e):e;return Rne(t,r)}function gc(n,e){const t=Mo(n)?Qs(n):n,r=Mo(e)?Qs(e):e;return ZM(t,r)}function Bu(n,e){let{start:t,end:r}=e;const s=Mo(n)?Qs(n):n,i=Mo(t)?Qs(t):t,o=Mo(r)?Qs(r):r;return ZM(i,o)&&Pre(s,{start:i,end:o})&&!gv(s,i)&&!gv(s,o)}function ga(n,e){const t=Mo(n)?Qs(n):n,r=Mo(e)?Qs(e):e;return _C(t,r)}function Zs(n){return n&&Object.prototype.toString.call(n)==="[object Date]"&&!isNaN(n)}function Hde(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function sE(n){return Hde(n)&&Zs(new Date(n))}const RF={date:Q.FORMAT_FULL_DATE,dateTime:Q.FORMAT_DATE_TIME,dateRange:Q.FORMAT_FULL_DATE,dateTimeRange:Q.FORMAT_DATE_TIME,month:Q.FORMAT_YEAR_MONTH,monthRange:Q.FORMAT_YEAR_MONTH},zde=n=>RF;function ka(n){return n&&RF[n]}const Kde=(n,e)=>{const t=new Date().getFullYear();let r=typeof n=="number"?n:t-100,s=typeof e=="number"?e:t+100;return s<r&&([r,s]=[s,r]),Array.from({length:s-r+1},(i,o)=>r+o)},kg=(n,e)=>{if(!e)return"";const t=new Date(e),r=De(n)?n(t):t;return ct(new Date(r),Q.FORMAT_FULL_DATE)};function kR(n,e){const t=new Date().getFullYear(),r=new Date().getMonth(),s=e.right||r+2,i=n.right||(s<=12?t:t+1);return{year:{left:n.left||t,right:i},month:{left:e.left||r+1,right:s<=12?s:1}}}var iE={exports:{}},oE={exports:{}},AF={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(AF);var fn=AF.exports,aE={exports:{}},lE={exports:{}},DF={exports:{}};(function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(DF);var kF=DF.exports,uE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(s.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+s.length+" present")}n.exports=e.default})(uE,uE.exports);var Br=uE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(kF),s=t(Br);function i(o){return(0,s.default)(1,arguments),o instanceof Date||(0,r.default)(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"}n.exports=e.default})(lE,lE.exports);var Wde=lE.exports,cE={exports:{}};(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(kF),s=t(Br);function i(o){(0,s.default)(1,arguments);var a=Object.prototype.toString.call(o);return o instanceof Date||(0,r.default)(o)==="object"&&a==="[object Date]"?new Date(o.getTime()):typeof o=="number"||a==="[object Number]"?new Date(o):((typeof o=="string"||a==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}n.exports=e.default})(cE,cE.exports);var fo=cE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(Wde),s=t(fo),i=t(Br);function o(a){if((0,i.default)(1,arguments),!(0,r.default)(a)&&typeof a!="number")return!1;var l=(0,s.default)(a);return!isNaN(Number(l))}n.exports=e.default})(aE,aE.exports);var Gde=aE.exports,dE={exports:{}},hE={exports:{}},fE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}n.exports=e.default})(fE,fE.exports);var Iu=fE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(Iu),s=t(fo),i=t(Br);function o(a,l){(0,i.default)(2,arguments);var u=(0,s.default)(a).getTime(),d=(0,r.default)(l);return new Date(u+d)}n.exports=e.default})(hE,hE.exports);var Yde=hE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(Yde),s=t(Br),i=t(Iu);function o(a,l){(0,s.default)(2,arguments);var u=(0,i.default)(l);return(0,r.default)(a,-u)}n.exports=e.default})(dE,dE.exports);var qde=dE.exports,pE={exports:{}},gE={exports:{}};(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(fo),s=t(Br),i=864e5;function o(a){(0,s.default)(1,arguments);var l=(0,r.default)(a),u=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var d=l.getTime(),h=u-d;return Math.floor(h/i)+1}n.exports=e.default})(gE,gE.exports);var Xde=gE.exports,mE={exports:{}},vE={exports:{}};(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(fo),s=t(Br);function i(o){(0,s.default)(1,arguments);var a=1,l=(0,r.default)(o),u=l.getUTCDay(),d=(u<a?7:0)+u-a;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}n.exports=e.default})(vE,vE.exports);var zC=vE.exports,yE={exports:{}},_E={exports:{}};(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(fo),s=t(Br),i=t(zC);function o(a){(0,s.default)(1,arguments);var l=(0,r.default)(a),u=l.getUTCFullYear(),d=new Date(0);d.setUTCFullYear(u+1,0,4),d.setUTCHours(0,0,0,0);var h=(0,i.default)(d),f=new Date(0);f.setUTCFullYear(u,0,4),f.setUTCHours(0,0,0,0);var g=(0,i.default)(f);return l.getTime()>=h.getTime()?u+1:l.getTime()>=g.getTime()?u:u-1}n.exports=e.default})(_E,_E.exports);var NF=_E.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(NF),s=t(zC),i=t(Br);function o(a){(0,i.default)(1,arguments);var l=(0,r.default)(a),u=new Date(0);u.setUTCFullYear(l,0,4),u.setUTCHours(0,0,0,0);var d=(0,s.default)(u);return d}n.exports=e.default})(yE,yE.exports);var Qde=yE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(fo),s=t(zC),i=t(Qde),o=t(Br),a=6048e5;function l(u){(0,o.default)(1,arguments);var d=(0,r.default)(u),h=(0,s.default)(d).getTime()-(0,i.default)(d).getTime();return Math.round(h/a)+1}n.exports=e.default})(mE,mE.exports);var Zde=mE.exports,bE={exports:{}},wE={exports:{}},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.getDefaultOptions=Jde;Ou.setDefaultOptions=ehe;var LF={};function Jde(){return LF}function ehe(n){LF=n}(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(fo),s=t(Br),i=t(Iu),o=Ou;function a(l,u){var d,h,f,g,b,y,_,v;(0,s.default)(1,arguments);var E=(0,o.getDefaultOptions)(),w=(0,i.default)((d=(h=(f=(g=u==null?void 0:u.weekStartsOn)!==null&&g!==void 0?g:u==null||(b=u.locale)===null||b===void 0||(y=b.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&f!==void 0?f:E.weekStartsOn)!==null&&h!==void 0?h:(_=E.locale)===null||_===void 0||(v=_.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&d!==void 0?d:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=(0,r.default)(l),O=S.getUTCDay(),x=(O<w?7:0)+O-w;return S.setUTCDate(S.getUTCDate()-x),S.setUTCHours(0,0,0,0),S}n.exports=e.default})(wE,wE.exports);var KC=wE.exports,EE={exports:{}},SE={exports:{}};(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(fo),s=t(Br),i=t(KC),o=t(Iu),a=Ou;function l(u,d){var h,f,g,b,y,_,v,E;(0,s.default)(1,arguments);var w=(0,r.default)(u),S=w.getUTCFullYear(),O=(0,a.getDefaultOptions)(),x=(0,o.default)((h=(f=(g=(b=d==null?void 0:d.firstWeekContainsDate)!==null&&b!==void 0?b:d==null||(y=d.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&g!==void 0?g:O.firstWeekContainsDate)!==null&&f!==void 0?f:(v=O.locale)===null||v===void 0||(E=v.options)===null||E===void 0?void 0:E.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=new Date(0);I.setUTCFullYear(S+1,0,x),I.setUTCHours(0,0,0,0);var T=(0,i.default)(I,d),P=new Date(0);P.setUTCFullYear(S,0,x),P.setUTCHours(0,0,0,0);var A=(0,i.default)(P,d);return w.getTime()>=T.getTime()?S+1:w.getTime()>=A.getTime()?S:S-1}n.exports=e.default})(SE,SE.exports);var MF=SE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(MF),s=t(Br),i=t(KC),o=t(Iu),a=Ou;function l(u,d){var h,f,g,b,y,_,v,E;(0,s.default)(1,arguments);var w=(0,a.getDefaultOptions)(),S=(0,o.default)((h=(f=(g=(b=d==null?void 0:d.firstWeekContainsDate)!==null&&b!==void 0?b:d==null||(y=d.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&g!==void 0?g:w.firstWeekContainsDate)!==null&&f!==void 0?f:(v=w.locale)===null||v===void 0||(E=v.options)===null||E===void 0?void 0:E.firstWeekContainsDate)!==null&&h!==void 0?h:1),O=(0,r.default)(u,d),x=new Date(0);x.setUTCFullYear(O,0,S),x.setUTCHours(0,0,0,0);var I=(0,i.default)(x,d);return I}n.exports=e.default})(EE,EE.exports);var the=EE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(fo),s=t(KC),i=t(the),o=t(Br),a=6048e5;function l(u,d){(0,o.default)(1,arguments);var h=(0,r.default)(u),f=(0,s.default)(h,d).getTime()-(0,i.default)(h,d).getTime();return Math.round(f/a)+1}n.exports=e.default})(bE,bE.exports);var nhe=bE.exports,CE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){for(var i=r<0?"-":"",o=Math.abs(r).toString();o.length<s;)o="0"+o;return i+o}n.exports=e.default})(CE,CE.exports);var $F=CE.exports,TE={exports:{}};(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t($F),s={y:function(a,l){var u=a.getUTCFullYear(),d=u>0?u:1-u;return(0,r.default)(l==="yy"?d%100:d,l.length)},M:function(a,l){var u=a.getUTCMonth();return l==="M"?String(u+1):(0,r.default)(u+1,2)},d:function(a,l){return(0,r.default)(a.getUTCDate(),l.length)},a:function(a,l){var u=a.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(a,l){return(0,r.default)(a.getUTCHours()%12||12,l.length)},H:function(a,l){return(0,r.default)(a.getUTCHours(),l.length)},m:function(a,l){return(0,r.default)(a.getUTCMinutes(),l.length)},s:function(a,l){return(0,r.default)(a.getUTCSeconds(),l.length)},S:function(a,l){var u=l.length,d=a.getUTCMilliseconds(),h=Math.floor(d*Math.pow(10,u-3));return(0,r.default)(h,l.length)}},i=s;e.default=i,n.exports=e.default})(TE,TE.exports);var rhe=TE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Xde),s=t(Zde),i=t(NF),o=t(nhe),a=t(MF),l=t($F),u=t(rhe),d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h={G:function(v,E,w){var S=v.getUTCFullYear()>0?1:0;switch(E){case"G":case"GG":case"GGG":return w.era(S,{width:"abbreviated"});case"GGGGG":return w.era(S,{width:"narrow"});case"GGGG":default:return w.era(S,{width:"wide"})}},y:function(v,E,w){if(E==="yo"){var S=v.getUTCFullYear(),O=S>0?S:1-S;return w.ordinalNumber(O,{unit:"year"})}return u.default.y(v,E)},Y:function(v,E,w,S){var O=(0,a.default)(v,S),x=O>0?O:1-O;if(E==="YY"){var I=x%100;return(0,l.default)(I,2)}return E==="Yo"?w.ordinalNumber(x,{unit:"year"}):(0,l.default)(x,E.length)},R:function(v,E){var w=(0,i.default)(v);return(0,l.default)(w,E.length)},u:function(v,E){var w=v.getUTCFullYear();return(0,l.default)(w,E.length)},Q:function(v,E,w){var S=Math.ceil((v.getUTCMonth()+1)/3);switch(E){case"Q":return String(S);case"QQ":return(0,l.default)(S,2);case"Qo":return w.ordinalNumber(S,{unit:"quarter"});case"QQQ":return w.quarter(S,{width:"abbreviated",context:"formatting"});case"QQQQQ":return w.quarter(S,{width:"narrow",context:"formatting"});case"QQQQ":default:return w.quarter(S,{width:"wide",context:"formatting"})}},q:function(v,E,w){var S=Math.ceil((v.getUTCMonth()+1)/3);switch(E){case"q":return String(S);case"qq":return(0,l.default)(S,2);case"qo":return w.ordinalNumber(S,{unit:"quarter"});case"qqq":return w.quarter(S,{width:"abbreviated",context:"standalone"});case"qqqqq":return w.quarter(S,{width:"narrow",context:"standalone"});case"qqqq":default:return w.quarter(S,{width:"wide",context:"standalone"})}},M:function(v,E,w){var S=v.getUTCMonth();switch(E){case"M":case"MM":return u.default.M(v,E);case"Mo":return w.ordinalNumber(S+1,{unit:"month"});case"MMM":return w.month(S,{width:"abbreviated",context:"formatting"});case"MMMMM":return w.month(S,{width:"narrow",context:"formatting"});case"MMMM":default:return w.month(S,{width:"wide",context:"formatting"})}},L:function(v,E,w){var S=v.getUTCMonth();switch(E){case"L":return String(S+1);case"LL":return(0,l.default)(S+1,2);case"Lo":return w.ordinalNumber(S+1,{unit:"month"});case"LLL":return w.month(S,{width:"abbreviated",context:"standalone"});case"LLLLL":return w.month(S,{width:"narrow",context:"standalone"});case"LLLL":default:return w.month(S,{width:"wide",context:"standalone"})}},w:function(v,E,w,S){var O=(0,o.default)(v,S);return E==="wo"?w.ordinalNumber(O,{unit:"week"}):(0,l.default)(O,E.length)},I:function(v,E,w){var S=(0,s.default)(v);return E==="Io"?w.ordinalNumber(S,{unit:"week"}):(0,l.default)(S,E.length)},d:function(v,E,w){return E==="do"?w.ordinalNumber(v.getUTCDate(),{unit:"date"}):u.default.d(v,E)},D:function(v,E,w){var S=(0,r.default)(v);return E==="Do"?w.ordinalNumber(S,{unit:"dayOfYear"}):(0,l.default)(S,E.length)},E:function(v,E,w){var S=v.getUTCDay();switch(E){case"E":case"EE":case"EEE":return w.day(S,{width:"abbreviated",context:"formatting"});case"EEEEE":return w.day(S,{width:"narrow",context:"formatting"});case"EEEEEE":return w.day(S,{width:"short",context:"formatting"});case"EEEE":default:return w.day(S,{width:"wide",context:"formatting"})}},e:function(v,E,w,S){var O=v.getUTCDay(),x=(O-S.weekStartsOn+8)%7||7;switch(E){case"e":return String(x);case"ee":return(0,l.default)(x,2);case"eo":return w.ordinalNumber(x,{unit:"day"});case"eee":return w.day(O,{width:"abbreviated",context:"formatting"});case"eeeee":return w.day(O,{width:"narrow",context:"formatting"});case"eeeeee":return w.day(O,{width:"short",context:"formatting"});case"eeee":default:return w.day(O,{width:"wide",context:"formatting"})}},c:function(v,E,w,S){var O=v.getUTCDay(),x=(O-S.weekStartsOn+8)%7||7;switch(E){case"c":return String(x);case"cc":return(0,l.default)(x,E.length);case"co":return w.ordinalNumber(x,{unit:"day"});case"ccc":return w.day(O,{width:"abbreviated",context:"standalone"});case"ccccc":return w.day(O,{width:"narrow",context:"standalone"});case"cccccc":return w.day(O,{width:"short",context:"standalone"});case"cccc":default:return w.day(O,{width:"wide",context:"standalone"})}},i:function(v,E,w){var S=v.getUTCDay(),O=S===0?7:S;switch(E){case"i":return String(O);case"ii":return(0,l.default)(O,E.length);case"io":return w.ordinalNumber(O,{unit:"day"});case"iii":return w.day(S,{width:"abbreviated",context:"formatting"});case"iiiii":return w.day(S,{width:"narrow",context:"formatting"});case"iiiiii":return w.day(S,{width:"short",context:"formatting"});case"iiii":default:return w.day(S,{width:"wide",context:"formatting"})}},a:function(v,E,w){var S=v.getUTCHours(),O=S/12>=1?"pm":"am";switch(E){case"a":case"aa":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"});case"aaa":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return w.dayPeriod(O,{width:"narrow",context:"formatting"});case"aaaa":default:return w.dayPeriod(O,{width:"wide",context:"formatting"})}},b:function(v,E,w){var S=v.getUTCHours(),O;switch(S===12?O=d.noon:S===0?O=d.midnight:O=S/12>=1?"pm":"am",E){case"b":case"bb":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"});case"bbb":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return w.dayPeriod(O,{width:"narrow",context:"formatting"});case"bbbb":default:return w.dayPeriod(O,{width:"wide",context:"formatting"})}},B:function(v,E,w){var S=v.getUTCHours(),O;switch(S>=17?O=d.evening:S>=12?O=d.afternoon:S>=4?O=d.morning:O=d.night,E){case"B":case"BB":case"BBB":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"});case"BBBBB":return w.dayPeriod(O,{width:"narrow",context:"formatting"});case"BBBB":default:return w.dayPeriod(O,{width:"wide",context:"formatting"})}},h:function(v,E,w){if(E==="ho"){var S=v.getUTCHours()%12;return S===0&&(S=12),w.ordinalNumber(S,{unit:"hour"})}return u.default.h(v,E)},H:function(v,E,w){return E==="Ho"?w.ordinalNumber(v.getUTCHours(),{unit:"hour"}):u.default.H(v,E)},K:function(v,E,w){var S=v.getUTCHours()%12;return E==="Ko"?w.ordinalNumber(S,{unit:"hour"}):(0,l.default)(S,E.length)},k:function(v,E,w){var S=v.getUTCHours();return S===0&&(S=24),E==="ko"?w.ordinalNumber(S,{unit:"hour"}):(0,l.default)(S,E.length)},m:function(v,E,w){return E==="mo"?w.ordinalNumber(v.getUTCMinutes(),{unit:"minute"}):u.default.m(v,E)},s:function(v,E,w){return E==="so"?w.ordinalNumber(v.getUTCSeconds(),{unit:"second"}):u.default.s(v,E)},S:function(v,E){return u.default.S(v,E)},X:function(v,E,w,S){var O=S._originalDate||v,x=O.getTimezoneOffset();if(x===0)return"Z";switch(E){case"X":return g(x);case"XXXX":case"XX":return b(x);case"XXXXX":case"XXX":default:return b(x,":")}},x:function(v,E,w,S){var O=S._originalDate||v,x=O.getTimezoneOffset();switch(E){case"x":return g(x);case"xxxx":case"xx":return b(x);case"xxxxx":case"xxx":default:return b(x,":")}},O:function(v,E,w,S){var O=S._originalDate||v,x=O.getTimezoneOffset();switch(E){case"O":case"OO":case"OOO":return"GMT"+f(x,":");case"OOOO":default:return"GMT"+b(x,":")}},z:function(v,E,w,S){var O=S._originalDate||v,x=O.getTimezoneOffset();switch(E){case"z":case"zz":case"zzz":return"GMT"+f(x,":");case"zzzz":default:return"GMT"+b(x,":")}},t:function(v,E,w,S){var O=S._originalDate||v,x=Math.floor(O.getTime()/1e3);return(0,l.default)(x,E.length)},T:function(v,E,w,S){var O=S._originalDate||v,x=O.getTime();return(0,l.default)(x,E.length)}};function f(_,v){var E=_>0?"-":"+",w=Math.abs(_),S=Math.floor(w/60),O=w%60;if(O===0)return E+String(S);var x=v;return E+String(S)+x+(0,l.default)(O,2)}function g(_,v){if(_%60===0){var E=_>0?"-":"+";return E+(0,l.default)(Math.abs(_)/60,2)}return b(_,v)}function b(_,v){var E=v||"",w=_>0?"-":"+",S=Math.abs(_),O=(0,l.default)(Math.floor(S/60),2),x=(0,l.default)(S%60,2);return w+O+E+x}var y=h;e.default=y,n.exports=e.default})(pE,pE.exports);var she=pE.exports,IE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},r=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},s=function(l,u){var d=l.match(/(P+)(p+)?/)||[],h=d[1],f=d[2];if(!f)return t(l,u);var g;switch(h){case"P":g=u.dateTime({width:"short"});break;case"PP":g=u.dateTime({width:"medium"});break;case"PPP":g=u.dateTime({width:"long"});break;case"PPPP":default:g=u.dateTime({width:"full"});break}return g.replace("{{date}}",t(h,u)).replace("{{time}}",r(f,u))},i={p:r,P:s},o=i;e.default=o,n.exports=e.default})(IE,IE.exports);var ihe=IE.exports,OE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}n.exports=e.default})(OE,OE.exports);var FF=OE.exports,Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.isProtectedDayOfYearToken=lhe;Ip.isProtectedWeekYearToken=uhe;Ip.throwProtectedError=che;var ohe=["D","DD"],ahe=["YY","YYYY"];function lhe(n){return ohe.indexOf(n)!==-1}function uhe(n){return ahe.indexOf(n)!==-1}function che(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var PE={exports:{}},xE={exports:{}},RE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(o,a,l){var u,d=t[o];return typeof d=="string"?u=d:a===1?u=d.one:u=d.other.replace("{{count}}",a.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+u:u+" ago":u},s=r;e.default=s,n.exports=e.default})(RE,RE.exports);var dhe=RE.exports,AE={exports:{}},DE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.width?String(s.width):r.defaultWidth,o=r.formats[i]||r.formats[r.defaultWidth];return o}}n.exports=e.default})(DE,DE.exports);var hhe=DE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(hhe),s={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a={date:(0,r.default)({formats:s,defaultWidth:"full"}),time:(0,r.default)({formats:i,defaultWidth:"full"}),dateTime:(0,r.default)({formats:o,defaultWidth:"full"})},l=a;e.default=l,n.exports=e.default})(AE,AE.exports);var fhe=AE.exports,kE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(o,a,l,u){return t[o]},s=r;e.default=s,n.exports=e.default})(kE,kE.exports);var phe=kE.exports,NE={exports:{}},LE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s,i){var o=i!=null&&i.context?String(i.context):"standalone",a;if(o==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,u=i!=null&&i.width?String(i.width):l;a=r.formattingValues[u]||r.formattingValues[l]}else{var d=r.defaultWidth,h=i!=null&&i.width?String(i.width):r.defaultWidth;a=r.values[h]||r.values[d]}var f=r.argumentCallback?r.argumentCallback(s):s;return a[f]}}n.exports=e.default})(LE,LE.exports);var ghe=LE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(ghe),s={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},a={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d=function(b,y){var _=Number(b),v=_%100;if(v>20||v<10)switch(v%10){case 1:return _+"st";case 2:return _+"nd";case 3:return _+"rd"}return _+"th"},h={ordinalNumber:d,era:(0,r.default)({values:s,defaultWidth:"wide"}),quarter:(0,r.default)({values:i,defaultWidth:"wide",argumentCallback:function(b){return b-1}}),month:(0,r.default)({values:o,defaultWidth:"wide"}),day:(0,r.default)({values:a,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},f=h;e.default=f,n.exports=e.default})(NE,NE.exports);var mhe=NE.exports,ME={exports:{}},$E={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){return function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=a.width,u=l&&i.matchPatterns[l]||i.matchPatterns[i.defaultMatchWidth],d=o.match(u);if(!d)return null;var h=d[0],f=l&&i.parsePatterns[l]||i.parsePatterns[i.defaultParseWidth],g=Array.isArray(f)?s(f,function(_){return _.test(h)}):r(f,function(_){return _.test(h)}),b;b=i.valueCallback?i.valueCallback(g):g,b=a.valueCallback?a.valueCallback(b):b;var y=o.slice(h.length);return{value:b,rest:y}}}function r(i,o){for(var a in i)if(i.hasOwnProperty(a)&&o(i[a]))return a}function s(i,o){for(var a=0;a<i.length;a++)if(o(i[a]))return a}n.exports=e.default})($E,$E.exports);var vhe=$E.exports,FE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.match(r.matchPattern);if(!o)return null;var a=o[0],l=s.match(r.parsePattern);if(!l)return null;var u=r.valueCallback?r.valueCallback(l[0]):l[0];u=i.valueCallback?i.valueCallback(u):u;var d=s.slice(a.length);return{value:u,rest:d}}}n.exports=e.default})(FE,FE.exports);var yhe=FE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(vhe),s=t(yhe),i=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,a={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},g={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v={ordinalNumber:(0,s.default)({matchPattern:i,parsePattern:o,valueCallback:function(S){return parseInt(S,10)}}),era:(0,r.default)({matchPatterns:a,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any",valueCallback:function(S){return S+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:g,defaultMatchWidth:"wide",parsePatterns:b,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:y,defaultMatchWidth:"any",parsePatterns:_,defaultParseWidth:"any"})},E=v;e.default=E,n.exports=e.default})(ME,ME.exports);var _he=ME.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(dhe),s=t(fhe),i=t(phe),o=t(mhe),a=t(_he),l={code:"en-US",formatDistance:r.default,formatLong:s.default,formatRelative:i.default,localize:o.default,match:a.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;e.default=u,n.exports=e.default})(xE,xE.exports);var bhe=xE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(bhe),s=r.default;e.default=s,n.exports=e.default})(PE,PE.exports);var whe=PE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=w;var r=t(Gde),s=t(qde),i=t(fo),o=t(she),a=t(ihe),l=t(FF),u=Ip,d=t(Iu),h=t(Br),f=Ou,g=t(whe),b=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_=/^'([^]*?)'?$/,v=/''/g,E=/[a-zA-Z]/;function w(O,x,I){var T,P,A,k,M,N,W,q,K,ee,V,z,B,oe,ne,re,he,be;(0,h.default)(2,arguments);var ye=String(x),me=(0,f.getDefaultOptions)(),ge=(T=(P=I==null?void 0:I.locale)!==null&&P!==void 0?P:me.locale)!==null&&T!==void 0?T:g.default,te=(0,d.default)((A=(k=(M=(N=I==null?void 0:I.firstWeekContainsDate)!==null&&N!==void 0?N:I==null||(W=I.locale)===null||W===void 0||(q=W.options)===null||q===void 0?void 0:q.firstWeekContainsDate)!==null&&M!==void 0?M:me.firstWeekContainsDate)!==null&&k!==void 0?k:(K=me.locale)===null||K===void 0||(ee=K.options)===null||ee===void 0?void 0:ee.firstWeekContainsDate)!==null&&A!==void 0?A:1);if(!(te>=1&&te<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var le=(0,d.default)((V=(z=(B=(oe=I==null?void 0:I.weekStartsOn)!==null&&oe!==void 0?oe:I==null||(ne=I.locale)===null||ne===void 0||(re=ne.options)===null||re===void 0?void 0:re.weekStartsOn)!==null&&B!==void 0?B:me.weekStartsOn)!==null&&z!==void 0?z:(he=me.locale)===null||he===void 0||(be=he.options)===null||be===void 0?void 0:be.weekStartsOn)!==null&&V!==void 0?V:0);if(!(le>=0&&le<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ge.localize)throw new RangeError("locale must contain localize property");if(!ge.formatLong)throw new RangeError("locale must contain formatLong property");var ft=(0,i.default)(O);if(!(0,r.default)(ft))throw new RangeError("Invalid time value");var Ot=(0,l.default)(ft),nn=(0,s.default)(ft,Ot),yt={firstWeekContainsDate:te,weekStartsOn:le,locale:ge,_originalDate:ft},yn=ye.match(y).map(function(_t){var Zn=_t[0];if(Zn==="p"||Zn==="P"){var Hr=a.default[Zn];return Hr(_t,ge.formatLong)}return _t}).join("").match(b).map(function(_t){if(_t==="''")return"'";var Zn=_t[0];if(Zn==="'")return S(_t);var Hr=o.default[Zn];if(Hr)return!(I!=null&&I.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(_t)&&(0,u.throwProtectedError)(_t,x,String(O)),!(I!=null&&I.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(_t)&&(0,u.throwProtectedError)(_t,x,String(O)),Hr(nn,_t,ge.localize,yt);if(Zn.match(E))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Zn+"`");return _t}).join("");return yn}function S(O){var x=O.match(_);return x?x[1].replace(v,"'"):O}n.exports=e.default})(oE,oE.exports);var Ehe=oE.exports,jE={exports:{}},VE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(o,a,l){var u=i(o,l.timeZone,l.locale);return u.formatToParts?r(u,a):s(u,a)}function r(o,a){for(var l=o.formatToParts(a),u=l.length-1;u>=0;--u)if(l[u].type==="timeZoneName")return l[u].value}function s(o,a){var l=o.format(a).replace(/\u200E/g,""),u=/ [\w-+ ]+$/.exec(l);return u?u[0].substr(1):""}function i(o,a,l){if(l&&!l.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(l?[l.code,"en-US"]:void 0,{timeZone:a,timeZoneName:o})}n.exports=e.default})(VE,VE.exports);var She=VE.exports,UE={exports:{}},BE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l,u){var d=a(u);return d.formatToParts?s(d,l):i(d,l)}var r={year:0,month:1,day:2,hour:3,minute:4,second:5};function s(l,u){try{for(var d=l.formatToParts(u),h=[],f=0;f<d.length;f++){var g=r[d[f].type];g>=0&&(h[g]=parseInt(d[f].value,10))}return h}catch(b){if(b instanceof RangeError)return[NaN];throw b}}function i(l,u){var d=l.format(u).replace(/\u200E/g,""),h=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(d);return[h[3],h[1],h[2],h[4],h[5],h[6]]}var o={};function a(l){if(!o[l]){var u=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),d=u==="06/25/2014, 00:00:00"||u==="06/25/2014 00:00:00";o[l]=d?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return o[l]}n.exports=e.default})(BE,BE.exports);var Che=BE.exports,HE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s,i,o,a,l,u){var d=new Date(0);return d.setUTCFullYear(r,s,i),d.setUTCHours(o,a,l,u),d}n.exports=e.default})(HE,HE.exports);var jF=HE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(Che),r=s(jF);function s(y){return y&&y.__esModule?y:{default:y}}var i=36e5,o=6e4,a={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function l(y,_,v){var E,w;if(!y||(E=a.timezoneZ.exec(y),E))return 0;var S;if(E=a.timezoneHH.exec(y),E)return S=parseInt(E[1],10),f(S)?-(S*i):NaN;if(E=a.timezoneHHMM.exec(y),E){S=parseInt(E[1],10);var O=parseInt(E[2],10);return f(S,O)?(w=Math.abs(S)*i+O*o,S>0?-w:w):NaN}if(b(y)){_=new Date(_||Date.now());var x=v?_:u(_),I=d(x,y),T=v?I:h(_,I,y);return-T}return NaN}function u(y){return(0,r.default)(y.getFullYear(),y.getMonth(),y.getDate(),y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}function d(y,_){var v=(0,t.default)(y,_),E=(0,r.default)(v[0],v[1]-1,v[2],v[3]%24,v[4],v[5],0).getTime(),w=y.getTime(),S=w%1e3;return w-=S>=0?S:1e3+S,E-w}function h(y,_,v){var E=y.getTime(),w=E-_,S=d(new Date(w),v);if(_===S)return _;w-=S-_;var O=d(new Date(w),v);return S===O?S:Math.max(S,O)}function f(y,_){return-23<=y&&y<=23&&(_==null||0<=_&&_<=59)}var g={};function b(y){if(g[y])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:y}),g[y]=!0,!0}catch{return!1}}n.exports=e.default})(UE,UE.exports);var Op=UE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(She),r=s(Op);function s(g){return g&&g.__esModule?g:{default:g}}var i=60*1e3,o={X:function(g,b,y,_){var v=a(_.timeZone,_._originalDate||g);if(v===0)return"Z";switch(b){case"X":return d(v);case"XXXX":case"XX":return u(v);case"XXXXX":case"XXX":default:return u(v,":")}},x:function(g,b,y,_){var v=a(_.timeZone,_._originalDate||g);switch(b){case"x":return d(v);case"xxxx":case"xx":return u(v);case"xxxxx":case"xxx":default:return u(v,":")}},O:function(g,b,y,_){var v=a(_.timeZone,_._originalDate||g);switch(b){case"O":case"OO":case"OOO":return"GMT"+h(v,":");case"OOOO":default:return"GMT"+u(v,":")}},z:function(g,b,y,_){var v=_._originalDate||g;switch(b){case"z":case"zz":case"zzz":return(0,t.default)("short",v,_);case"zzzz":default:return(0,t.default)("long",v,_)}}};function a(g,b){var y=g?(0,r.default)(g,b,!0)/i:b.getTimezoneOffset();if(Number.isNaN(y))throw new RangeError("Invalid time zone specified: "+g);return y}function l(g,b){for(var y=g<0?"-":"",_=Math.abs(g).toString();_.length<b;)_="0"+_;return y+_}function u(g,b){var y=b||"",_=g>0?"-":"+",v=Math.abs(g),E=l(Math.floor(v/60),2),w=l(Math.floor(v%60),2);return _+E+y+w}function d(g,b){if(g%60===0){var y=g>0?"-":"+";return y+l(Math.abs(g)/60,2)}return u(g,b)}function h(g,b){var y=g>0?"-":"+",_=Math.abs(g),v=Math.floor(_/60),E=_%60;if(E===0)return y+String(v);var w=b;return y+String(v)+w+l(E,2)}var f=o;e.default=f,n.exports=e.default})(jE,jE.exports);var The=jE.exports,zE={exports:{}},KE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,r=t;e.default=r,n.exports=e.default})(KE,KE.exports);var VF=KE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=o(Iu),r=o(FF),s=o(Op),i=o(VF);function o(T){return T&&T.__esModule?T:{default:T}}var a=36e5,l=6e4,u=2,d={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:i.default};function h(T,P){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(T===null)return new Date(NaN);var A=P||{},k=A.additionalDigits==null?u:(0,t.default)(A.additionalDigits);if(k!==2&&k!==1&&k!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(T instanceof Date||typeof T=="object"&&Object.prototype.toString.call(T)==="[object Date]")return new Date(T.getTime());if(typeof T=="number"||Object.prototype.toString.call(T)==="[object Number]")return new Date(T);if(!(typeof T=="string"||Object.prototype.toString.call(T)==="[object String]"))return new Date(NaN);var M=f(T),N=g(M.date,k),W=N.year,q=N.restDateString,K=b(q,W);if(isNaN(K))return new Date(NaN);if(K){var ee=K.getTime(),V=0,z;if(M.time&&(V=y(M.time),isNaN(V)))return new Date(NaN);if(M.timeZone||A.timeZone){if(z=(0,s.default)(M.timeZone||A.timeZone,new Date(ee+V)),isNaN(z))return new Date(NaN)}else z=(0,r.default)(new Date(ee+V)),z=(0,r.default)(new Date(ee+V+z));return new Date(ee+V+z)}else return new Date(NaN)}function f(T){var P={},A=d.dateTimePattern.exec(T),k;if(A?(P.date=A[1],k=A[3]):(A=d.datePattern.exec(T),A?(P.date=A[1],k=A[2]):(P.date=null,k=T)),k){var M=d.timeZone.exec(k);M?(P.time=k.replace(M[1],""),P.timeZone=M[1].trim()):P.time=k}return P}function g(T,P){var A=d.YYY[P],k=d.YYYYY[P],M;if(M=d.YYYY.exec(T)||k.exec(T),M){var N=M[1];return{year:parseInt(N,10),restDateString:T.slice(N.length)}}if(M=d.YY.exec(T)||A.exec(T),M){var W=M[1];return{year:parseInt(W,10)*100,restDateString:T.slice(W.length)}}return{year:null}}function b(T,P){if(P===null)return null;var A,k,M,N;if(T.length===0)return k=new Date(0),k.setUTCFullYear(P),k;if(A=d.MM.exec(T),A)return k=new Date(0),M=parseInt(A[1],10)-1,S(P,M)?(k.setUTCFullYear(P,M),k):new Date(NaN);if(A=d.DDD.exec(T),A){k=new Date(0);var W=parseInt(A[1],10);return O(P,W)?(k.setUTCFullYear(P,0,W),k):new Date(NaN)}if(A=d.MMDD.exec(T),A){k=new Date(0),M=parseInt(A[1],10)-1;var q=parseInt(A[2],10);return S(P,M,q)?(k.setUTCFullYear(P,M,q),k):new Date(NaN)}if(A=d.Www.exec(T),A)return N=parseInt(A[1],10)-1,x(P,N)?_(P,N):new Date(NaN);if(A=d.WwwD.exec(T),A){N=parseInt(A[1],10)-1;var K=parseInt(A[2],10)-1;return x(P,N,K)?_(P,N,K):new Date(NaN)}return null}function y(T){var P,A,k;if(P=d.HH.exec(T),P)return A=parseFloat(P[1].replace(",",".")),I(A)?A%24*a:NaN;if(P=d.HHMM.exec(T),P)return A=parseInt(P[1],10),k=parseFloat(P[2].replace(",",".")),I(A,k)?A%24*a+k*l:NaN;if(P=d.HHMMSS.exec(T),P){A=parseInt(P[1],10),k=parseInt(P[2],10);var M=parseFloat(P[3].replace(",","."));return I(A,k,M)?A%24*a+k*l+M*1e3:NaN}return null}function _(T,P,A){P=P||0,A=A||0;var k=new Date(0);k.setUTCFullYear(T,0,4);var M=k.getUTCDay()||7,N=P*7+A+1-M;return k.setUTCDate(k.getUTCDate()+N),k}var v=[31,28,31,30,31,30,31,31,30,31,30,31],E=[31,29,31,30,31,30,31,31,30,31,30,31];function w(T){return T%400===0||T%4===0&&T%100!==0}function S(T,P,A){if(P<0||P>11)return!1;if(A!=null){if(A<1)return!1;var k=w(T);if(k&&A>E[P]||!k&&A>v[P])return!1}return!0}function O(T,P){if(P<1)return!1;var A=w(T);return!(A&&P>366||!A&&P>365)}function x(T,P,A){return!(P<0||P>52||A!=null&&(A<0||A>6))}function I(T,P,A){return!(T!=null&&(T<0||T>=25)||P!=null&&(P<0||P>=60)||A!=null&&(A<0||A>=60))}n.exports=e.default})(zE,zE.exports);var e_=zE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(Ehe),r=i(The),s=i(e_);function i(l){return l&&l.__esModule?l:{default:l}}var o=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function a(l,u,d){var h=String(u),f=d||{},g=h.match(o);if(g){var b=(0,s.default)(l,f);h=g.reduce(function(y,_){if(_[0]==="'")return y;var v=y.indexOf(_),E=y[v-1]==="'",w=y.replace(_,"'"+r.default[_[0]](b,_,null,f)+"'");return E?w.substring(0,v-1)+w.substring(v+1):w},h)}return(0,t.default)(l,h,f)}n.exports=e.default})(iE,iE.exports);var UF=iE.exports,WE={exports:{}},GE={exports:{}},YE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r}n.exports=e.default})(YE,YE.exports);var Ihe=YE.exports;(function(n,e){var t=fn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=t(Ihe);function s(i){return(0,r.default)({},i)}n.exports=e.default})(GE,GE.exports);var BF=GE.exports,qE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(Op),r=s(e_);function s(o){return o&&o.__esModule?o:{default:o}}function i(o,a,l){var u=(0,r.default)(o,l),d=(0,t.default)(a,u,!0),h=new Date(u.getTime()-d),f=new Date(0);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}n.exports=e.default})(qE,qE.exports);var HF=qE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(BF),r=i(UF),s=i(HF);function i(a){return a&&a.__esModule?a:{default:a}}function o(a,l,u,d){var h=(0,t.default)(d);return h.timeZone=l,(0,r.default)((0,s.default)(a,l),u,h)}n.exports=e.default})(WE,WE.exports);var Ohe=WE.exports,XE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(Op);function r(i){return i&&i.__esModule?i:{default:i}}function s(i,o){return-(0,t.default)(i,o)}n.exports=e.default})(XE,XE.exports);var Phe=XE.exports,QE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=a(BF),r=a(e_),s=a(VF),i=a(Op),o=a(jF);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,d,h){if(typeof u=="string"&&!u.match(s.default)){var f=(0,t.default)(h);return f.timeZone=d,(0,r.default)(u,f)}var g=(0,r.default)(u,h),b=(0,o.default)(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds()).getTime(),y=(0,i.default)(d,new Date(b));return new Date(b+y)}n.exports=e.default})(QE,QE.exports);var xhe=QE.exports,zF={format:UF,formatInTimeZone:Ohe,getTimezoneOffset:Phe,toDate:e_,utcToZonedTime:HF,zonedTimeToUtc:xhe};const Rhe=[[-11,["Pacific/Midway"]],[-10,["Pacific/Honolulu"]],[-9.5,["Pacific/Marquesas"]],[-9,["Pacific/Gambier"]],[-8,["Pacific/Pitcairn"]],[-7,["America/Phoenix"]],[-6,["America/Tegucigalpa"]],[-5,["America/Bogota"]],[-4,["America/Puerto_Rico"]],[-3.5,["America/St_Johns"]],[-3,["America/Montevideo"]],[-2,["Atlantic/South_Georgia"]],[-1,["Atlantic/Cape_Verde"]],[0,["Africa/Accra"]],[1,["Africa/Bangui"]],[2,["Africa/Cairo"]],[3,["Asia/Bahrain","Indian/Antananarivo"]],[3.5,["Asia/Tehran"]],[4,["Asia/Dubai","Asia/Muscat"]],[4.5,["Asia/Kabul"]],[5,["Asia/Samarkand","Asia/Karachi"]],[5.5,["Asia/Kolkata"]],[5.75,["Asia/Kathmandu"]],[6,["Asia/Dhaka"]],[6.5,["Asia/Rangoon","Asia/Rangoon"]],[7,["Asia/Jakarta","Asia/Phnom_Penh","Asia/Bangkok"]],[8,["Asia/Shanghai","Asia/Singapore"]],[8.75,["Australia/Eucla"]],[9,["Asia/Tokyo","Asia/Seoul","Asia/Pyongyang"]],[9.5,["Australia/Darwin"]],[10,["Pacific/Guam"]],[10.5,["Australia/Adelaide"]],[11,["Pacific/Guadalcanal"]],[12,["Pacific/Funafuti"]],[13,["Pacific/Enderbury"]],[13.75,["Pacific/Chatham"]],[14,["Pacific/Kiritimati"]]],NR={0:"Etc/GMT",1:"Etc/GMT-1",2:"Etc/GMT-2",3:"Etc/GMT-3",4:"Etc/GMT-4",5:"Etc/GMT-5",6:"Etc/GMT-6",7:"Etc/GMT-7",8:"Etc/GMT-8",9:"Etc/GMT-9",10:"Etc/GMT-10",11:"Etc/GMT-11",12:"Etc/GMT-12",13:"Etc/GMT-13",14:"Etc/GMT-14","-1":"Etc/GMT+1","-2":"Etc/GMT+2","-3":"Etc/GMT+3","-4":"Etc/GMT+4","-5":"Etc/GMT+5","-6":"Etc/GMT+6","-7":"Etc/GMT+7","-8":"Etc/GMT+8","-9":"Etc/GMT+9","-10":"Etc/GMT+10","-11":"Etc/GMT+11","-12":"Etc/GMT+12"},Ahe=/([\-\+]{1})(\d{2})\:(\d{2})/,KF=n=>{let e=null;if(typeof n=="string"){if(e=n.match(Ahe),!e)return n;const t=parseInt(e[1]+1,10),r=parseInt(e[2],10),s=parseInt(e[3],10);n=t*(r+s/60)}if(typeof n=="number"){if(n in NR){const r=NR[n];if(Dhe(r))return r}const t=Rhe.find(r=>r[0]===n);return t&&t[1][0]}},LR={};function Dhe(n){if(LR[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),LR[n]=!0,!0}catch{return!1}}const ZE=(n,e,t)=>zF.utcToZonedTime(n,KF(e),t),xc=(n,e,t)=>zF.zonedTimeToUtc(n,KF(e),t);function an(n,e,t,r){let s=null;if(n){e&&(t=t||new Date,s=i$(n,e,t,{locale:r})),zs(s)||(s=Qs(n)),zs(s)||(s=new Date(Date.parse(n)));const i=zs(s)&&String(s.getFullYear()).length>4;(!zs(s)||i)&&(s=null)}return s}function hm(n){const{format:e,type:t}=n,r=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4})/i,s=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4}) (H{0,2}[^a-z\s]*m{0,2}[^a-z\s]*s{0,2})/i,i=ka(t);let o;switch(t){case"dateTime":case"dateTimeRange":const a=s.exec(e);o=a&&a[1]&&a[2]?`${a[1]} ${a[2]}`:i;break;case"date":case"month":case"monthRange":case"dateRange":default:const l=r.exec(e);o=l&&l[1]||i;break}return o}function JE(n){const e=" ",{inputValue:t="",rangeSeparator:r,type:s}=n;let i,o,a,l;const u={monthLeft:{dateInput:"",timeInput:""},monthRight:{dateInput:"",timeInput:""}};switch(s){case"date":case"month":case"monthRange":u.monthLeft.dateInput=t;break;case"dateRange":[i="",a=""]=t.split(r),u.monthLeft.dateInput=i,u.monthRight.dateInput=a;break;case"dateTime":[i="",o=""]=t.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=o;break;case"dateTimeRange":const[d="",h=""]=t.split(r);[i="",o=""]=d.split(e),[a="",l=""]=h.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=o,u.monthRight.dateInput=a,u.monthRight.timeInput=l;break}return u}function fm(n){return["string","number"].includes(typeof n)&&n!==""}class khe extends Ne{constructor(e){super(Object.assign({},e)),this.clearRangeInputFocus=()=>{const{type:t}=this._adapter.getProps(),{rangeInputFocus:r}=this._adapter.getStates();t==="dateTimeRange"&&r&&this._adapter.setRangeInputFocus(!1)},this._isRangeType=()=>{const t=this._adapter.getProp("type");return/range/i.test(t)},this._isRangeValueComplete=t=>{let r=!1;return Array.isArray(t)&&(r=!t.some(s=>St(s))),r}}init(){const e=this.getProp("timeZone");this._isControlledComponent()?this.initFromProps({timeZone:e,value:this.getProp("value")}):this._isInProps("defaultValue")&&this.initFromProps({timeZone:e,value:this.getProp("defaultValue")}),this.initPanelOpenStatus(this.getProp("defaultOpen"))}initFromProps(e){let{value:t,timeZone:r,prevTimeZone:s}=e;const i=(Array.isArray(t)?[...t]:(t||t===0)&&[t])||[],o=this.parseWithTimezone(i,r,s);this._adapter.updatePrevTimezone(s),this.clearInputValue(),this._adapter.updateValue(o),this.resetCachedSelectedValue(o),this.initRangeInputFocus(o),this._adapter.needConfirm()&&this._adapter.updateCachedSelectedValue(o)}initRangeInputFocus(e){const{triggerRender:t}=this.getProps();this._isRangeType()&&De(t)&&e.length===0&&this._adapter.setRangeInputFocus("rangeStart")}parseWithTimezone(e,t,r){const s=[];if(Array.isArray(e)&&e.length)for(const i of e){let o=(i||i===0)&&this._parseValue(i);o?(fm(r)&&(o=xc(o,r)),s.push(fm(t)?ZE(o,t):o)):qt(!0,`[Semi DatePicker] value cannot be parsed, value: ${String(i)}`)}return s}_isMultiple(){return!!this.getProp("multiple")}_parseValue(e){const t=this._adapter.getProp("dateFnsLocale");let r;if(!e&&e!==0)return new Date;if(Zs(e))r=e;else if(ke(e))r=an(e,this.getProp("format"),void 0,t);else if(sE(e))r=new Date(e);else throw new TypeError("defaultValue should be valid Date object/timestamp or string");return r}destroy(){this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide()}initPanelOpenStatus(e){(this.getProp("open")||e)&&!this.getProp("disabled")?(this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()):(this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide())}openPanel(){this.getProp("disabled")||(this._isControlledComponent("open")||this.open(),this._adapter.notifyOpenChange(!0))}clearInsetInputValue(){const{insetInput:e}=this._adapter.getProps();e&&this._adapter.updateInsetInputValue(null)}resetCachedSelectedValue(e){const{value:t,cachedSelectedValue:r}=this._adapter.getStates(),s=Array.isArray(e)?e:t;je(s,r)||this._adapter.updateCachedSelectedValue(s)}closePanel(){this._isControlledComponent("open")?this.resetInnerSelectedStates():this.close(),this._adapter.notifyOpenChange(!1)}open(){this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()}close(){this._adapter.togglePanel(!1),this.resetInnerSelectedStates(),this._adapter.unregisterClickOutSide()}focus(e){if(this._isRangeType()){const t=e??"rangeStart";this._adapter.setRangeInputFocus(t)}else this._adapter.setInputFocus()}blur(){this._isRangeType()?this._adapter.setRangeInputBlur():this._adapter.setInputBlur()}resetInnerSelectedStates(){setTimeout(()=>{const{value:e,cachedSelectedValue:t}=this._adapter.getStates();je(e,t)||this.resetCachedSelectedValue(e)},0),this.resetFocus(),this.clearInputValue()}resetFocus(e){this._adapter.setRangeInputFocus(!1),this._adapter.notifyBlur(e)}isCachedSelectedValueValid(e){const t=e||this._adapter.getState("cachedSelectedValue"),{type:r}=this._adapter.getProps();let s=!0;switch(!0){case r==="dateRange":case r==="dateTimeRange":this._isRangeValueComplete(t)||(s=!1);break;default:const i=t==null?void 0:t.filter(o=>o);Array.isArray(i)&&i.length||(s=!1);break}return s}clearInputValue(){this._adapter.updateInputValue(null),this._adapter.updateInsetInputValue(null)}handleInputChange(e,t){const r=this._isMultiple()?this.parseMultipleInput(e):this.parseInput(e),{value:s}=this.getStates();if(this._updateCachedSelectedValueFromInput(e),r&&r.length||e===""){if(Z(t,hl.CLEARBTN_CLICKED_EVENT_FLAG)&&this._isControlledComponent("value")){this._notifyChange(r);return}this._updateValueAndInput(r,e==="",e);const i=this._getChangedDates(r);this._someDateDisabled(i,r)||je(r,s)||this._notifyChange(r)}else this._adapter.updateInputValue(e)}handleInsetInputChange(e){const{insetInputStr:t,format:r,insetInputValue:s}=e,i=this._isMultiple(),o=i?this.parseMultipleInput(t,r):this.parseInput(t,r),{value:a}=this.getStates();if(this._updateCachedSelectedValueFromInput(t),o&&o.length){const l=this._getChangedDates(o);if(!this._someDateDisabled(l,o)){je(o,a)||(!this._isControlledComponent()&&!this._adapter.needConfirm()&&this._adapter.updateValue(o),this._notifyChange(o));const u=i?this.formatMultipleDates(o):this.formatDates(o);this._adapter.updateInputValue(u)}}this._adapter.updateInsetInputValue(s)}_updateCachedSelectedValueFromInput(e){const t=this.getLooseDateFromInput(e),r=this._getChangedDates(t);this._someDateDisabled(r,t)||this.resetCachedSelectedValue(t)}handleInputBlur(){}handleRangeEndTabPress(e){this._adapter.setRangeInputFocus(!1)}handleInputFocus(e,t){const r=this._adapter.getState("rangeInputFocus");t&&this._adapter.setRangeInputFocus(t),(!t||!["rangeStart","rangeEnd"].includes(r))&&this._adapter.notifyFocus(e,t)}handleSetRangeFocus(e){this._adapter.setRangeInputFocus(e)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){const t=[];this._isControlledComponent("value")||(this._updateValueAndInput(t,!0,""),this._adapter.updateInsetInputValue(null),this.resetCachedSelectedValue(t)),this._notifyChange(t),this._adapter.setRangeInputFocus(!1),this._adapter.notifyClear(e)}handleRangeInputBlur(e,t){}handleInputComplete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e?this._isMultiple()?this.parseMultipleInput(e,",",!0):this.parseInput(e):[];if(t=t&&t.length?t:this.getState("value"),!t||!t.length){const i=new Date;this._isRangeType()?t=[i,i]:t=[i]}this._updateValueAndInput(t);const{value:r}=this.getStates(),s=this._getChangedDates(t);!this._someDateDisabled(s,t)&&!je(t,r)&&this._notifyChange(t)}parseInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=[];const{dateFnsLocale:s,rangeSeparator:i}=this.getProps();if(e&&e.length){const o=this.getProp("type"),a=t||this.getProp("format")||ka(o);let l,u;const d=new Date;switch(o){case"date":case"dateTime":case"month":l=e?an(e,a,d,s):"",u=l&&zs(l)&&this.localeFormat(l,a),l&&u===e&&(r=[l]);break;case"dateRange":case"dateTimeRange":case"monthRange":const h=i,f=e.split(h);l=f&&f.reduce((g,b)=>{const y=b&&an(b,a,d,s);return y&&g.push(y),g},[]),u=l&&l.map(g=>g&&zs(g)&&this.localeFormat(g,a)).join(h),l&&u===e&&(l.sort((g,b)=>g.getTime()-b.getTime()),r=l);break}}return r}getLooseDateFromInput(e){return this._isMultiple()?this.parseMultipleInputLoose(e):this.parseInputLoose(e)}parseInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=[];const{dateFnsLocale:r,rangeSeparator:s,type:i,format:o}=this.getProps();if(e&&e.length){const a=o||ka(i);let l,u;const d=new Date;switch(i){case"date":case"dateTime":case"month":const h=an(e,a,d,r);Zs(h)?(u=this.localeFormat(h,a),u===e&&(l=h)):l=null,t=[l];break;case"dateRange":case"dateTimeRange":const f=s,g=e.split(f);l=g&&g.reduce((b,y)=>{let _=null;const v=an(y,a,d,r);return Zs(v)&&(u=this.localeFormat(v,a),u===y&&(_=v)),b.push(_),b},[]),Array.isArray(l)&&l.every(b=>zs(b))&&l.sort((b,y)=>b.getTime()-y.getTime()),t=l;break}}return t}parseMultipleInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),o=[];for(const a of i){let l=a&&this.parseInputLoose(a);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!o.filter(u=>!!l.find(d=>Gx(u,d)))&&o.push(...l):o.push(...l);else return[];if(s&&s>0&&o.length>s)return[]}return o}parseMultipleInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),o=[];for(const a of i){let l=a&&this.parseInput(a);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!o.filter(u=>!!l.find(d=>Gx(u,d)))&&o.push(...l):o.push(...l);else return[];if(s&&s>0&&o.length>s)return[]}return o}formatDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r="";const s=this.getProp("rangeSeparator");if(Array.isArray(e)&&e.length){const i=this.getProp("type"),o=t||this.getProp("format")||ka(i);switch(i){case"date":case"dateTime":case"month":r=this.localeFormat(e[0],o);break;case"dateRange":case"dateTimeRange":case"monthRange":const a=!St(e[0]),l=!St(e[1]);a&&l?r=`${this.localeFormat(e[0],o)}${s}${this.localeFormat(e[1],o)}`:a?r=`${this.localeFormat(e[0],o)}${s}`:l&&(r=`${s}${this.localeFormat(e[1],o)}`);break}}return r}formatMultipleDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2?arguments[2]:void 0;const s=[];if(Array.isArray(e)&&e.length)switch(this.getProp("type")){case"date":case"dateTime":case"month":e.forEach(o=>s.push(this.formatDates([o],r)));break;case"dateRange":case"dateTimeRange":case"monthRange":for(let o=0;o<e.length;o+=2)s.push(this.formatDates(e.slice(o,o+2),r));break}return s.join(t)}_updateValueAndInput(e,t,r){let s;if(t||e){Array.isArray(e)?s=e:s=e?[e]:[];const i=this._getChangedDates(s);!this._isControlledComponent()&&!this._someDateDisabled(i,s)&&!this._adapter.needConfirm()&&this._adapter.updateValue(s)}this._adapter.updateInputValue(r)}handleSelectedChange(e,t){const{type:r,format:s,rangeSeparator:i,insetInput:o}=this._adapter.getProps(),{value:a}=this.getStates(),l=this._isControlledComponent(),u=Wo(t)?t.fromPreset:t,d=Z(t,"closePanel",!0),h=Z(t,"needCheckFocusRecord",!0),f=Array.isArray(e)?[...e]:e?[e]:[],g=this._getChangedDates(f);let b,y;if(!this._someDateDisabled(g,f)){if(this.resetCachedSelectedValue(f),b=this._isMultiple()?this.formatMultipleDates(f):this.formatDates(f),o){const E=hm({format:s,type:r}),w=this._isMultiple()?this.formatMultipleDates(f,void 0,E):this.formatDates(f,E);y=JE({inputValue:w,type:r,rangeSeparator:i})}if(this._isRangeType()&&!this._isRangeValueComplete(f)){this._adapter.updateInputValue(b),this._adapter.updateInsetInputValue(y);return}else(!l||u)&&(this._updateValueAndInput(f,!0,b),this._adapter.updateInsetInputValue(y));je(e,a)||this._notifyChange(e)}const _=!h||h&&this._adapter.couldPanelClosed();(r==="date"&&!this._isMultiple()&&d||r==="dateRange"&&this._isRangeValueComplete(f)&&d&&_)&&this.closePanel()}handleYMSelectedChange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{currentMonth:t,currentYear:r}=e,{type:s}=this.getProps();if(s==="month"){const i=new Date(r.left,t.left-1);this.handleSelectedChange([i])}else{const i=new Date(r.left,t.left-1),o=new Date(r.right,t.right-1);this.handleSelectedChange([i,o])}}handleConfirm(){const{cachedSelectedValue:e,value:t}=this._adapter.getStates(),r=this._isRangeValueComplete(e),s=r?e:t;if(this._adapter.needConfirm()&&!this._isControlledComponent()&&this._adapter.updateValue(s),this.closePanel(),r){const{notifyValue:i,notifyDate:o}=this.disposeCallbackArgs(e);this._adapter.notifyConfirm(o,i)}}handleCancel(){this.closePanel();const e=this.getState("value"),{notifyValue:t,notifyDate:r}=this.disposeCallbackArgs(e);this._adapter.notifyCancel(r,t)}handlePresetClick(e,t){const{type:r,timeZone:s}=this.getProps(),i=this.getState("prevTimezone"),o=typeof e.start=="function"?e.start():e.start,a=typeof e.end=="function"?e.end():e.end;let l;switch(r){case"month":case"dateTime":case"date":l=this.parseWithTimezone([o],s,i),this.handleSelectedChange(l);break;case"dateTimeRange":case"dateRange":l=this.parseWithTimezone([o,a],s,i),this.handleSelectedChange(l,{needCheckFocusRecord:!1});break}this._adapter.notifyPresetsClick(e,t)}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");fm(r)&&(t=t.map(l=>xc(l,r)));const s=this.getProp("type"),i=this.getProp("format")||ka(s);let o,a;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(o=t.map(l=>l&&this.localeFormat(l,i)),a=[...t]):(o=t[0]&&this.localeFormat(t[0],i),[a]=t);break;case"dateRange":case"dateTimeRange":case"monthRange":o=t.map(l=>l&&this.localeFormat(l,i)),a=[...t];break}return{notifyValue:o,notifyDate:a}}_notifyChange(e){if(this._isRangeType()&&!this._isRangeValueComplete(e))return;const{onChangeWithDateFirst:t}=this.getProps(),{notifyValue:r,notifyDate:s}=this.disposeCallbackArgs(e);t?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_getChangedDates(e){const t=this._adapter.getProp("type"),{cachedSelectedValue:r}=this._adapter.getStates(),s=[];switch(t){case"dateRange":case"dateTimeRange":const[i,o]=r,[a,l]=e;gv(a,i)||s.push(a),gv(l,o)||s.push(l);break;default:const u=new Set;r.forEach(d=>u.add(Ww(d)&&d.valueOf()));for(const d of e)u.has(Ww(d)&&d.valueOf())||s.push(d)}return s}_someDateDisabled(e,t){const{rangeInputFocus:r}=this.getStates(),s={rangeStart:"",rangeEnd:"",rangeInputFocus:r};if(this._isRangeType()&&Array.isArray(t)){if(zs(t[0])){const o=ct(t[0],"yyyy-MM-dd");s.rangeStart=o}if(zs(t[1])){const o=ct(t[1],"yyyy-MM-dd");s.rangeEnd=o}}let i=!1;for(const o of e)if(!St(o)&&this.disabledDisposeDate(o,s)){i=!0;break}return i}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return ct(e,t,{locale:r})}disposeDateFn(e,t){const{notifyDate:r}=this.disposeCallbackArgs(t),s=Array.isArray(t),i=Array.isArray(r);let o;s===i?o=r:o=s?[r]:r[0];for(var a=arguments.length,l=new Array(a>2?a-2:0),u=2;u<a;u++)l[u-2]=arguments[u];return e(o,...l)}disabledDisposeDate(e){const{disabledDate:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}disabledDisposeTime(e){const{disabledTime:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}handleTriggerWrapperClick(e){const{disabled:t,triggerRender:r}=this._adapter.getProps(),{rangeInputFocus:s}=this._adapter.getStates();t||(this._isRangeType()&&!s?(this._adapter.isEventTarget(e)?setTimeout(()=>{this.handleInputFocus(e,"rangeStart")},0):De(r)&&this._adapter.setRangeInputFocus("rangeStart"),this.openPanel()):this.openPanel())}handlePanelVisibleChange(e){e?(this._adapter.setInsetInputFocus(),setTimeout(()=>{this._adapter.setTriggerDisabled(!0)},0)):this._adapter.setTriggerDisabled(!1)}}function Hu(n,e){let{groupInnerSeparator:t=Q.DEFAULT_SEPARATOR_RANGE,groupSize:r=1,groupSeparator:s=Q.DEFAULT_SEPARATOR_MULTIPLE}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,o="";if((r<=0||typeof r!="number")&&(r=1),Array.isArray(n)&&n.length){const a=[],{length:l}=n;for(let u=0;u<l;u++){u%r===0&&a.push([]);const d=Math.floor(u/r);a[d].push(n[u])}o=a.map(u=>u.map(d=>d?ct(d,e,{locale:i}):"").join(t)).join(s)}return o}function WF(n){const{defaultPickerValue:e,format:t,dateFnsLocale:r}=n;let s=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:void 0;switch(!0){case Zs(s):break;case sE(s):s=new Date(s);break;case typeof s=="string":s=an(s,t,void 0,r);break;default:s=new Date;break}switch(!0){case Zs(i):break;case sE(i):i=new Date(i);break;case typeof i=="string":i=an(i,t,void 0,r);break;default:i=Da(s,1);break}return{nowDate:s,nextDate:i}}var Nhe=Function.prototype.toString,Xb=Object.create,Lhe=Object.prototype.toString,Mhe=function(){function n(){this._keys=[],this._values=[]}return n.prototype.has=function(e){return!!~this._keys.indexOf(e)},n.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},n.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},n}();function $he(){return new Mhe}function Fhe(){return new WeakMap}var jhe=typeof WeakMap<"u"?Fhe:$he;function WC(n){if(!n)return Xb(null);var e=n.constructor;if(e===Object)return n===Object.prototype?{}:Xb(n);if(e&&~Nhe.call(e).indexOf("[native code]"))try{return new e}catch{}return Xb(n)}function Vhe(n){var e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}function Uhe(n){return n.flags}var Bhe=/test/g.flags==="g"?Uhe:Vhe;function GF(n){var e=Lhe.call(n);return e.substring(8,e.length-1)}function Hhe(n){return n[Symbol.toStringTag]||GF(n)}var zhe=typeof Symbol<"u"?Hhe:GF,Khe=Object.defineProperty,Whe=Object.getOwnPropertyDescriptor,YF=Object.getOwnPropertyNames,GC=Object.getOwnPropertySymbols,qF=Object.prototype,XF=qF.hasOwnProperty,Ghe=qF.propertyIsEnumerable,QF=typeof GC=="function";function Yhe(n){return YF(n).concat(GC(n))}var qhe=QF?Yhe:YF;function t_(n,e,t){for(var r=qhe(n),s=0,i=r.length,o=void 0,a=void 0;s<i;++s)if(o=r[s],!(o==="callee"||o==="caller")){if(a=Whe(n,o),!a){e[o]=t.copier(n[o],t);continue}!a.get&&!a.set&&(a.value=t.copier(a.value,t));try{Khe(e,o,a)}catch{e[o]=a.value}}return e}function Xhe(n,e){var t=new e.Constructor;e.cache.set(n,t);for(var r=0,s=n.length;r<s;++r)t[r]=e.copier(n[r],e);return t}function Qhe(n,e){var t=new e.Constructor;return e.cache.set(n,t),t_(n,t,e)}function ZF(n,e){return n.slice(0)}function Zhe(n,e){return n.slice(0,n.size,n.type)}function Jhe(n,e){return new e.Constructor(ZF(n.buffer))}function efe(n,e){return new e.Constructor(n.getTime())}function JF(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r,s){t.set(s,e.copier(r,e))}),t}function tfe(n,e){return t_(n,JF(n,e),e)}function nfe(n,e){var t=WC(e.prototype);e.cache.set(n,t);for(var r in n)XF.call(n,r)&&(t[r]=e.copier(n[r],e));return t}function rfe(n,e){var t=WC(e.prototype);e.cache.set(n,t);for(var r in n)XF.call(n,r)&&(t[r]=e.copier(n[r],e));for(var s=GC(n),i=0,o=s.length,a=void 0;i<o;++i)a=s[i],Ghe.call(n,a)&&(t[a]=e.copier(n[a],e));return t}var sfe=QF?rfe:nfe;function ife(n,e){var t=WC(e.prototype);return e.cache.set(n,t),t_(n,t,e)}function Qb(n,e){return new e.Constructor(n.valueOf())}function ofe(n,e){var t=new e.Constructor(n.source,Bhe(n));return t.lastIndex=n.lastIndex,t}function pm(n,e){return n}function ej(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r){t.add(e.copier(r,e))}),t}function afe(n,e){return t_(n,ej(n,e),e)}var lfe=Array.isArray,YC=Object.assign,ufe=Object.getPrototypeOf||function(n){return n.__proto__},tj={array:Xhe,arrayBuffer:ZF,blob:Zhe,dataView:Jhe,date:efe,error:pm,map:JF,object:sfe,regExp:ofe,set:ej},cfe=YC({},tj,{array:Qhe,map:tfe,object:ife,set:afe});function dfe(n){return{Arguments:n.object,Array:n.array,ArrayBuffer:n.arrayBuffer,Blob:n.blob,Boolean:Qb,DataView:n.dataView,Date:n.date,Error:n.error,Float32Array:n.arrayBuffer,Float64Array:n.arrayBuffer,Int8Array:n.arrayBuffer,Int16Array:n.arrayBuffer,Int32Array:n.arrayBuffer,Map:n.map,Number:Qb,Object:n.object,Promise:pm,RegExp:n.regExp,Set:n.set,String:Qb,WeakMap:pm,WeakSet:pm,Uint8Array:n.arrayBuffer,Uint8ClampedArray:n.arrayBuffer,Uint16Array:n.arrayBuffer,Uint32Array:n.arrayBuffer,Uint64Array:n.arrayBuffer}}function nj(n){var e=YC({},tj,n),t=dfe(e),r=t.Array,s=t.Object;function i(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=ufe(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return s(o,a);if(lfe(o))return r(o,a);var l=t[zhe(o)];return l?l(o,a):typeof o.then=="function"?o:s(o,a)}return function(a){return i(a,{Constructor:void 0,cache:jhe(),copier:i,prototype:void 0})}}function hfe(n){return nj(YC({},cfe,n))}hfe({});var Xo=nj({});const MR="Enter",ffe="Tab";class pfe extends Ne{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleClick(e){this._adapter.notifyClick(e)}handleChange(e,t){this._adapter.notifyChange(e,t)}handleInputComplete(e){e.key===MR&&this._adapter.notifyEnter(e.target.value)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){this.stopPropagation(e),this._adapter.notifyRangeInputClear(e)}handleRangeInputEnterPress(e,t){e.key===MR&&this._adapter.notifyEnter(t)}handleRangeInputEndKeyPress(e){e.key===ffe&&this._adapter.notifyTabPress(e)}handleRangeInputFocus(e,t){this._adapter.notifyRangeInputFocus(e,t)}formatShowText(e,t){const{type:r,dateFnsLocale:s,format:i,rangeSeparator:o}=this._adapter.getProps(),a=t||i||ka(r);let l="";switch(r){case"date":l=Hu(e,a,void 0,s);break;case"dateRange":l=Hu(e,a,{groupSize:2,groupInnerSeparator:o},s);break;case"dateTime":l=Hu(e,a,void 0,s);break;case"dateTimeRange":l=Hu(e,a,{groupSize:2,groupInnerSeparator:o},s);break;case"month":l=Hu(e,a,void 0,s);break;case"monthRange":l=Hu(e,a,{groupSize:2,groupInnerSeparator:o},s);break}return l}handleInsetInputChange(e){const{value:t,valuePath:r,insetInputValue:s}=e,{format:i,type:o,rangeSeparator:a}=this._adapter.getProps(),l=hm({type:o,format:i}),u=Ic(Xo(s),r,t),d=this.concatInsetInputValue({insetInputValue:u}),h=JE({inputValue:d,type:o,rangeSeparator:a}),f=this._autoFillTimeToInsetInputValue({insetInputValue:h,valuePath:r,format:l}),g=this.concatInsetInputValue({insetInputValue:f});this._adapter.notifyInsetInputChange({insetInputValue:f,format:l,insetInputStr:g})}_autoFillTimeToInsetInputValue(e){const{valuePath:t,insetInputValue:r,format:s}=e,{type:i,defaultPickerValue:o,dateFnsLocale:a}=this._adapter.getProps(),l=Xo(r),{nowDate:u,nextDate:d}=WF({defaultPickerValue:o,format:s,dateFnsLocale:a});if(i.includes("Time")){let h="";const f=Z(s.split(" "),"0",Q.FORMAT_FULL_DATE),g=Z(s.split(" "),"1",Q.FORMAT_TIME_PICKER);switch(t){case"monthLeft.dateInput":const b=l.monthLeft.dateInput;if(!l.monthLeft.timeInput&&b.length===f.length){const _=an(l.monthLeft.dateInput,f);Zs(_)&&(h=ct(u,g),l.monthLeft.timeInput=h)}break;case"monthRight.dateInput":const y=l.monthRight.dateInput;if(!l.monthRight.timeInput&&y.length===f.length){const _=an(y,f);Zs(_)&&(h=ct(d,g),l.monthRight.timeInput=h)}break}}return l}getInsetInputPlaceholder(){const{type:e,format:t,rangeSeparator:r}=this._adapter.getProps(),s=hm({type:e,format:t});let i,o;switch(e){case"date":case"month":case"dateRange":i=s;break;case"dateTime":case"dateTimeRange":[i,o]=s.split(" ");break;case"monthRange":i=s+r+s;break}return{datePlaceholder:i,timePlaceholder:o}}getInsetInputValue(e){let{value:t,insetInputValue:r}=e;const{type:s,rangeSeparator:i,format:o}=this._adapter.getProps();let a="";if(Wo(r))a=this.concatInsetInputValue({insetInputValue:r});else{const u=hm({format:o,type:s});a=this.formatShowText(t,u)}return JE({inputValue:a,type:s,rangeSeparator:i})}concatInsetDateAndTime(e){let{date:t,time:r}=e;return`${t} ${r}`}concatInsetDateRange(e){let{rangeStart:t,rangeEnd:r}=e;const{rangeSeparator:s}=this._adapter.getProps();return`${t}${s}${r}`}concatInsetInputValue(e){let{insetInputValue:t}=e;const{type:r}=this._adapter.getProps();let s="";switch(r){case"date":case"month":case"monthRange":s=t.monthLeft.dateInput;break;case"dateRange":s=this.concatInsetDateRange({rangeStart:t.monthLeft.dateInput,rangeEnd:t.monthRight.dateInput});break;case"dateTime":s=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput});break;case"dateTimeRange":const i=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput}),o=this.concatInsetDateAndTime({date:t.monthRight.dateInput,time:t.monthRight.timeInput});s=this.concatInsetDateRange({rangeStart:i,rangeEnd:o});break}return s}}function $R(n){const{insetInputValue:e,valuePath:t,onFocus:r,onChange:s,placeholder:i,forwardRef:o}=n,a=Z(e,t);return m.createElement(Ln,{value:a,onChange:(l,u)=>{s({value:l,event:u,insetInputValue:e,valuePath:t})},onFocus:r,placeholder:i,ref:o})}function FR(n){const{insetInputValue:e,valuePath:t,type:r,onFocus:s,onChange:i,placeholder:o,disabled:a}=n;if(!r.includes("Time"))return null;const u=Z(e,t);return m.createElement(Ln,{value:u,onChange:(d,h)=>{i({value:d,event:h,insetInputValue:e,valuePath:t})},onFocus:s,placeholder:o,disabled:a})}var gfe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class xv extends xe{constructor(e){super(e),this.handleChange=(t,r)=>this.foundation.handleChange(t,r),this.handleEnterPress=t=>this.foundation.handleInputComplete(t),this.handleInputClear=t=>this.foundation.handleInputClear(t),this.handleRangeInputChange=(t,r,s)=>{const i=this.getRangeInputValue(t,r);this.foundation.handleChange(i,s)},this.handleRangeInputClear=t=>{this.foundation.handleRangeInputClear(t)},this.handleRangeInputEnterPress=(t,r,s)=>{const i=this.getRangeInputValue(r,s);this.foundation.handleRangeInputEnterPress(t,i)},this.handleRangeInputEndKeyPress=t=>{this.foundation.handleRangeInputEndKeyPress(t)},this.handleRangeInputFocus=(t,r)=>{this.foundation.handleRangeInputFocus(t,r)},this.handleRangeStartFocus=t=>{this.handleRangeInputFocus(t,"rangeStart")},this.handleInsetInputChange=t=>{this.foundation.handleInsetInputChange(t)},this.getRangeInputValue=(t,r)=>{const{rangeSeparator:s}=this.props;return`${t}${s}${r}`},this.foundation=new pfe(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateIsFocusing:t=>this.setState({isFocusing:t}),notifyClick:function(){return e.props.onClick(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyEnter:function(){return e.props.onEnterPress(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyRangeInputClear:function(){return e.props.onRangeClear(...arguments)},notifyRangeInputFocus:function(){return e.props.onFocus(...arguments)},notifyTabPress:function(){return e.props.onRangeEndTabPress(...arguments)},notifyInsetInputChange:t=>this.props.onInsetInputChange(t)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}formatText(e){return e&&e.length?this.foundation.formatShowText(e):""}renderRangePrefix(){const{prefix:e,insetLabel:t,prefixCls:r,disabled:s,rangeInputFocus:i}=this.props,o=e||t;return o?m.createElement("div",{className:`${r}-range-input-prefix`,onClick:a=>!s&&!i&&this.handleRangeStartFocus(a),"x-semi-prop":"prefix,insetLabel"},o):null}renderRangeSeparator(e,t){const{disabled:r,rangeSeparator:s}=this.props,i=$({[`${we.PREFIX}-range-input-separator`]:!0,[`${we.PREFIX}-range-input-separator-active`]:(e||t)&&!r});return m.createElement("span",{onClick:o=>!r&&this.handleRangeStartFocus(o),className:i},s)}renderRangeClearBtn(e,t){const{showClear:r,prefixCls:s,disabled:i,clearIcon:o,showClearIgnoreDisabled:a}=this.props;return(e||t)&&r&&!(i&&!a)?m.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear range input value",className:`${s}-range-input-clearbtn`,onMouseDown:d=>this.handleRangeInputClear(d)},o||m.createElement(dl,{"aria-hidden":!0})):null}renderRangeSuffix(e){const{prefixCls:t,disabled:r,rangeInputFocus:s}=this.props;return e?m.createElement("div",{className:`${t}-range-input-suffix`,onClick:o=>!r&&!s&&this.handleRangeStartFocus(o)},e):null}renderRangeInput(e){const{placeholder:t,inputStyle:r,disabled:s,inputReadOnly:i,autofocus:o,size:a,text:l,suffix:u,inputCls:d,rangeInputStartRef:h,rangeInputEndRef:f,rangeInputFocus:g,prefixCls:b,rangeSeparator:y,borderless:_}=e,[v,E=""]=l.split(y)||[],w=a==="large"?"default":"small",S=Array.isArray(t)?t:[t,t],[O,x]=S,I=$(`${b}-range-input-wrapper-start`,`${b}-range-input-wrapper`,{[`${b}-range-input-wrapper-active`]:g==="rangeStart"&&!s,[`${b}-range-input-wrapper-start-with-prefix`]:this.props.prefix||this.props.insetLabel,[`${b}-borderless`]:_}),T=$(`${b}-range-input-wrapper-end`,`${b}-range-input-wrapper`,{[`${b}-range-input-wrapper-active`]:g==="rangeEnd"&&!s,[`${b}-borderless`]:_});return m.createElement(m.Fragment,null,this.renderRangePrefix(),m.createElement("div",{onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeStart"),className:`${d} ${I}`},m.createElement(Ln,{borderless:_,size:w,style:r,disabled:s,readonly:i,placeholder:O,value:v,onChange:(P,A)=>this.handleRangeInputChange(P,E,A),onEnterPress:P=>this.handleRangeInputEnterPress(P,v,E),onFocus:P=>this.handleRangeInputFocus(P,"rangeStart"),autoFocus:o,ref:h})),this.renderRangeSeparator(v,E),m.createElement("div",{className:`${d} ${T}`,onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeEnd")},m.createElement(Ln,{borderless:_,size:w,style:r,disabled:s,readonly:i,placeholder:x,value:E,onChange:(P,A)=>this.handleRangeInputChange(v,P,A),onEnterPress:P=>this.handleRangeInputEnterPress(P,v,E),onFocus:P=>this.handleRangeInputFocus(P,"rangeEnd"),onKeyDown:this.handleRangeInputEndKeyPress,ref:f})),this.renderRangeClearBtn(v,E),this.renderRangeSuffix(u))}isRenderMultipleInputs(){const{type:e}=this.props;return e.includes("Range")&&e!=="monthRange"}renderInputInset(){const{type:e,handleInsetDateFocus:t,handleInsetTimeFocus:r,value:s,insetInputValue:i,prefixCls:o,rangeInputStartRef:a,rangeInputEndRef:l,density:u,insetInput:d}=this.props,h=this.foundation.getInsetInputValue({value:s,insetInputValue:i}),{dateStart:f,dateEnd:g,timeStart:b,timeEnd:y}=Z(d,"placeholder",{}),{datePlaceholder:_,timePlaceholder:v}=this.foundation.getInsetInputPlaceholder(),E=`${o}-inset-input-wrapper`,w=`${o}-inset-input-separator`;return m.createElement("div",{className:E,"x-type":e},m.createElement($R,{forwardRef:a,insetInputValue:h,placeholder:f??_,valuePath:"monthLeft.dateInput",onChange:this.handleInsetInputChange,onFocus:S=>t(S,"rangeStart")}),m.createElement(FR,{disabled:!h.monthLeft.dateInput,insetInputValue:h,placeholder:b??v,type:e,valuePath:"monthLeft.timeInput",onChange:this.handleInsetInputChange,onFocus:r}),this.isRenderMultipleInputs()&&m.createElement(m.Fragment,null,m.createElement("div",{className:w},u==="compact"?null:"-"),m.createElement($R,{forwardRef:l,insetInputValue:h,placeholder:g??_,valuePath:"monthRight.dateInput",onChange:this.handleInsetInputChange,onFocus:S=>t(S,"rangeEnd")}),m.createElement(FR,{disabled:!h.monthRight.dateInput,insetInputValue:h,placeholder:y??v,type:e,valuePath:"monthRight.timeInput",onChange:this.handleInsetInputChange,onFocus:r})))}renderTriggerInput(){const e=this.props,{placeholder:t,type:r,value:s,inputValue:i,inputStyle:o,disabled:a,showClear:l,inputReadOnly:u,insetLabel:d,validateStatus:h,block:f,prefixCls:g,multiple:b,dateFnsLocale:y,onBlur:_,onClear:v,onFocus:E,prefix:w,autofocus:S,size:O,inputRef:x,rangeInputStartRef:I,rangeInputEndRef:T,onRangeClear:P,onRangeBlur:A,onRangeEndTabPress:k,rangeInputFocus:M,rangeSeparator:N,insetInput:W,insetInputValue:q,defaultPickerValue:K,showClearIgnoreDisabled:ee}=e,V=gfe(e,["placeholder","type","value","inputValue","inputStyle","disabled","showClear","inputReadOnly","insetLabel","validateStatus","block","prefixCls","multiple","dateFnsLocale","onBlur","onClear","onFocus","prefix","autofocus","size","inputRef","rangeInputStartRef","rangeInputEndRef","onRangeClear","onRangeBlur","onRangeEndTabPress","rangeInputFocus","rangeSeparator","insetInput","insetInputValue","defaultPickerValue","showClearIgnoreDisabled"]),z=m.createElement(u$,{"aria-hidden":!0}),B=m.createElement(Pse,{"aria-hidden":!0}),oe=r.includes("Time")?B:z;let ne="";St(i)?s&&(ne=this.formatText(s)):ne=i;const re=$({[`${g}-input-readonly`]:u,[`${g}-monthRange-input`]:r==="monthRange"}),he=Object.assign(Object.assign({},this.props),{text:ne,suffix:oe,inputCls:re});return this.isRenderMultipleInputs()?this.renderRangeInput(he):m.createElement(Ln,Object.assign({},V,{ref:x,insetLabel:d,disabled:a,showClearIgnoreDisabled:ee,readonly:u,className:re,style:o,hideSuffix:l,placeholder:r==="monthRange"&&Array.isArray(t)?t[0]+N+t[1]:t,onEnterPress:this.handleEnterPress,onChange:this.handleChange,onClear:this.handleInputClear,suffix:oe,showClear:l,value:ne,validateStatus:h,prefix:w,autoFocus:S,size:O,onBlur:_,onFocus:E}))}render(){const{insetInput:e}=this.props;return e?this.renderInputInset():this.renderTriggerInput()}}xv.propTypes={borderless:c.bool,onClick:c.func,onChange:c.func,onEnterPress:c.func,onBlur:c.func,onClear:c.func,onFocus:c.func,value:c.array,disabled:c.bool,type:c.oneOf(Q.TYPE_SET),showClear:c.bool,format:c.string,inputStyle:c.object,inputReadOnly:c.bool,insetLabel:c.node,validateStatus:c.string,prefix:c.node,prefixCls:c.string,dateFnsLocale:c.object.isRequired,placeholder:c.oneOfType([c.string,c.array]),rangeInputFocus:c.oneOfType([c.string,c.bool]),rangeInputStartRef:c.object,rangeInputEndRef:c.object,rangeSeparator:c.string,insetInput:c.oneOfType([c.bool,c.object]),insetInputValue:c.object,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array])};xv.defaultProps={borderless:!1,showClear:!0,onClick:Dt,onChange:Dt,onEnterPress:Dt,onBlur:Dt,onClear:Dt,onFocus:Dt,type:"date",inputStyle:{},inputReadOnly:!1,prefixCls:we.PREFIX,rangeSeparator:Q.DEFAULT_SEPARATOR_RANGE};function rj(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r="";const s=typeof e=="number"&&e<10?`0${e}`:e.toString(),i=typeof t=="number"&&t<10?`0${t}`:t.toString();return r=`${String(n)}-${s}-${i}`,r}function mfe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const t={dayNumber:"",dateNumberFull:"",fullDate:""},r=QM(n),s=ct(n,"yyyy"),i=ct(n,"MM"),o=xne(n),a=Lte(n),l=Number(ct(a,"e",{weekStartsOn:e})),u=[];let d=[];for(let h=1;h<l;h++)d.push(t);for(let h=0;h<r;h++){const f=h+1,g=f<10?`0${f}`:f.toString(),b=rj(s,i,f);d.push({dayNumber:f,dayNumberFull:g,fullDate:b}),d.length===7?(u.push(d),d=[]):b===ct(o,"yyyy-MM-dd")&&(u.push(d),d=[])}return u}const vfe=(n,e)=>{const t=mfe(n,e);return{monthText:ct(n,"yyyy-MM"),weeks:t,month:n}},jR={month:Cl,year:Nte},yfe={prevMonth:zre,nextMonth:Da,prevYear:Kre,nextYear:fv};class _fe extends Ne{constructor(e){super(Object.assign({},e)),this.newBiMonthPanelDate=[this.getState("monthLeft").pickerDate,this.getState("monthRight").pickerDate]}init(){const e=this.getProp("defaultValue");this.initDefaultPickerValue(),this.updateSelectedFromProps(e)}initDefaultPickerValue(){const e=an(this.getProp("defaultPickerValue"));e&&Zs(e)&&(this._updatePanelDetail(Q.PANEL_TYPE_LEFT,{pickerDate:e}),this._updatePanelDetail(Q.PANEL_TYPE_RIGHT,{pickerDate:Da(e,1)}))}updateSelectedFromProps(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.getProp("type"),{selected:s,rangeStart:i,rangeEnd:o}=this.getStates();if(e&&(e!=null&&e.length))switch(r){case"date":this._initDatePickerFromValue(e,t);break;case"dateRange":this._initDateRangePickerFromValue(e);break;case"dateTime":this._initDateTimePickerFromValue(e);break;case"dateTimeRange":this._initDateTimeRangePickerFormValue(e);break}else(Array.isArray(e)&&!e.length||!e)&&(wM(s)&&s.size&&this._adapter.updateDaySelected(new Set),i&&this._adapter.setRangeStart(""),o&&this._adapter.setRangeEnd(""))}calcDisabledTime(e){const{disabledTime:t,type:r}=this.getProps();if(typeof t=="function"&&e&&["dateTime","dateTimeRange"].includes(r)){const{rangeStart:s,rangeEnd:i,monthLeft:o}=this.getStates(),a=[];r==="dateTimeRange"?(s&&a.push(s),s&&i&&a.push(i)):o&&o.showDate&&a.push(o.showDate);const l=a.map(d=>d instanceof Date?d:Qs(d)),u=r==="dateTimeRange"?l:l[0];return t(u,e)}}_initDatePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{monthLeft:r}=this._adapter.getStates(),s=Object.assign({},r);this._adapter.updateMonthOnLeft(s);const i=new Set,o=this._isMultiple();o?e.forEach(a=>{a&&i.add(ct(a,Q.FORMAT_FULL_DATE))}):e[0]&&i.add(ct(e[0],Q.FORMAT_FULL_DATE)),t?o?!(e!=null&&e.some(l=>l&&Cl(l,r.pickerDate)===0))&&this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,s.pickerDate),this._adapter.updateDaySelected(i)}_initDateRangePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.getState("monthLeft"),s=this.getState("monthRight"),i=this._autoAdjustMonth(Object.assign(Object.assign({},r),{pickerDate:e[0]||r.pickerDate}),Object.assign(Object.assign({},s),{pickerDate:e[1]||s.pickerDate}));if(Array.isArray(e)&&e.filter(d=>d).length>1)this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(Q.PANEL_TYPE_RIGHT,i.monthRight.pickerDate);else{const d=e.find(h=>h);if(d){const h=Math.abs(Cl(d,r.pickerDate))>0,f=Math.abs(Cl(d,s.pickerDate))>0;h&&f&&(this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(Q.PANEL_TYPE_RIGHT,i.monthRight.pickerDate))}}const a=t?Q.FORMAT_DATE_TIME:Q.FORMAT_FULL_DATE;let l=e[0]&&ct(e[0],a),u=e[1]&&ct(e[1],a);this._isNeedSwap(l,u)&&([l,u]=[u,l]),this._adapter.setRangeStart(l),this._adapter.setRangeEnd(u),this._adapter.setHoverDay(u)}_initDateTimePickerFromValue(e){this._initDatePickerFromValue(e)}_initDateTimeRangePickerFormValue(e){this._initDateRangePickerFromValue(e,!0)}destroy(){}handleSyncChangeMonths(e){const{panelType:t,target:r}=e,{type:s}=this._adapter.getProps(),{monthLeft:i,monthRight:o}=this._adapter.getStates();this.isRangeType(s)&&(t==="right"&&Cl(r,i.pickerDate)===0?this.handleYearOrMonthChange("prevMonth","left",1,!0):t==="left"&&Cl(o.pickerDate,r)===0&&this.handleYearOrMonthChange("nextMonth","right",1,!0))}getTargetChangeDate(e){const{panelType:t,switchType:r}=e,{monthRight:s,monthLeft:i}=this._adapter.getStates(),o=t==="left"?i.pickerDate:s.pickerDate;let a;switch(r){case"prevMonth":a=Da(o,-1);break;case"nextMonth":a=Da(o,1);break;case"prevYear":a=fv(o,-1);break;case"nextYear":a=fv(o,1);break}return a}toMonth(e,t){const{type:r}=this._adapter.getProps(),s=this._getDiff("month",t,e);this.handleYearOrMonthChange(s<0?"prevMonth":"nextMonth",e,Math.abs(s),!1),this.isRangeType(r)&&this.handleSyncChangeMonths({panelType:e,target:t})}toYear(e,t){const r=this._getDiff("year",t,e);this.handleYearOrMonthChange(r<0?"prevYear":"nextYear",e,Math.abs(r),!1)}toYearMonth(e,t){this.toYear(e,t),this.toMonth(e,t)}isRangeType(e){const{type:t}=this.getProps(),r=e||t;return typeof r=="string"&&/range/i.test(r)}handleSwitchMonthOrYear(e,t){const{type:r,syncSwitchMonth:s}=this.getProps(),i=this.isRangeType(r);if(i&&s)this.handleYearOrMonthChange(e,"left",1,!0),this.handleYearOrMonthChange(e,"right",1,!0);else if(this.handleYearOrMonthChange(e,t),i){const o=this.getTargetChangeDate({panelType:t,switchType:e});this.handleSyncChangeMonths({panelType:t,target:o})}}prevMonth(e){this.handleSwitchMonthOrYear("prevMonth",e)}nextMonth(e){this.handleSwitchMonthOrYear("nextMonth",e)}prevYear(e){this.handleSwitchMonthOrYear("prevYear",e)}nextYear(e){this.handleSwitchMonthOrYear("nextYear",e)}_getDiff(e,t,r){const s=this._getPanelDetail(r);return jR[e]&&jR[e](t,s.pickerDate)}_getPanelDetail(e){return e===Q.PANEL_TYPE_RIGHT?this.getState("monthRight"):this.getState("monthLeft")}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return ct(e,t,{locale:r})}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");fm(r)&&(t=t.map(l=>xc(l,r)));const s=this.getProp("type"),i=this.getProp("format")||ka(s);let o,a;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(o=t.map(l=>l&&this.localeFormat(l,i)),a=[...t]):(o=t[0]&&this.localeFormat(t[0],i),[a]=t);break;case"dateRange":case"dateTimeRange":o=t.map(l=>l&&this.localeFormat(l,i)),a=[...t];break}return{notifyValue:o,notifyDate:a}}handleYearOrMonthChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q.PANEL_TYPE_LEFT,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{autoSwitchDate:i,type:o}=this.getProps(),{monthLeft:a,monthRight:l}=this.getStates(),u=this.isRangeType(o),d=u&&t===Q.PANEL_TYPE_LEFT,h=this._getPanelDetail(t),{pickerDate:f}=h,g=yfe[e],b=g(f,r),y=t===Q.PANEL_TYPE_LEFT&&!je(b,a.pickerDate)||t===Q.PANEL_TYPE_RIGHT&&!je(b,l.pickerDate);if(this._updatePanelDetail(t,{pickerDate:b}),y)if(u){if(d?this.newBiMonthPanelDate[0]=b:this.newBiMonthPanelDate[1]=b,!(d&&s)){const{notifyValue:_,notifyDate:v}=this.disposeCallbackArgs(this.newBiMonthPanelDate);this._adapter.notifyPanelChange(v,_)}}else{const{notifyValue:_,notifyDate:v}=this.disposeCallbackArgs(b);this._adapter.notifyPanelChange(v,_)}i&&this.updateDateAfterChangeYM(e,b)}updateDateAfterChangeYM(e,t){const{multiple:r,disabledDate:s,type:i}=this.getProps(),{selected:o,rangeStart:a,rangeEnd:l,monthLeft:u}=this.getStates(),d=["dateRange","dateTimeRange"].includes(e),h={closePanel:!1};if(!r&&!d&&o.size){const f=Array.from(o)[0],g=new Date(f),b=t.getFullYear(),y=t.getMonth();let _=a$(g,{year:b,month:y});if(i==="dateTime"&&(_=this._mergeDateAndTime(_,u.pickerDate)),s(_,{rangeStart:a,rangeEnd:l}))return;this._adapter.notifySelectedChange([_],h)}}_isMultiple(){return!!this.getProp("multiple")&&this.getProp("type")==="date"}_isRange(){}handleDayClick(e,t){const r=this.getProp("type");switch(!0){case(r==="date"||r==="dateTime"):this.handleDateSelected(e,t);break;case(r==="dateRange"||r==="dateTimeRange"):this.handleRangeSelected(e);break}}handleDateSelected(e,t){const{max:r,type:s,isControlledComponent:i,dateFnsLocale:o}=this.getProps(),a=this._isMultiple(),{selected:l}=this.getStates(),u=this._getPanelDetail(t),d=new Set(a?[...l]:[]),{fullDate:h}=e,f=u.pickerDate,g=h;a?d.has(g)?d.delete(g):r&&d.size===r?this._adapter.notifyMaxLimit():d.add(g):d.add(g);const b=[...d].map(y=>s==="dateTime"?this._mergeDateAndTime(y,f):an(y,Q.FORMAT_FULL_DATE,void 0,o));this.handleShowDateAndTime(t,f),i||this._adapter.updateDaySelected(d),this._adapter.notifySelectedChange(b)}handleShowDateAndTime(e,t,r){const s=r||t;this._updatePanelDetail(e,{showDate:s,pickerDate:t})}_mergeDateAndTime(e,t){const r=this._adapter.getProp("dateFnsLocale"),s=ct(Zs(e)?e:an(e,Q.FORMAT_FULL_DATE,void 0,r),Q.FORMAT_FULL_DATE),i=ct(Zs(t)?t:an(t,Q.FORMAT_TIME_PICKER,void 0,r),Q.FORMAT_TIME_PICKER),o=this.getValidTimeFormat();return an(`${s} ${i}`,o,void 0,r)}handleRangeSelected(e){let{rangeStart:t,rangeEnd:r}=this.getStates();const{startDateOffset:s,endDateOffset:i,type:o,dateFnsLocale:a,rangeInputFocus:l,triggerRender:u}=this._adapter.getProps(),{fullDate:d}=e;let h=!1,f=!1;const g=(s||i)&&o==="dateRange";g?(t=kg(s,d),r=kg(i,d)):l==="rangeEnd"?(r=d,t&&r&&gc(r,t.trim().split(/\s+/)[0])&&(t=null,h=!0)):(l==="rangeStart"||!l)&&(t=d,t&&r&&gc(r.trim().split(/\s+/)[0],t)&&(r=null,f=!0)),/range/i.test(o)&&(g?(this._adapter.setRangeStart(t),this._adapter.setRangeEnd(r)):l==="rangeEnd"?(this._adapter.setRangeEnd(r),h&&this._adapter.setRangeStart(t),(!this._adapter.isAnotherPanelHasOpened("rangeEnd")||!t)&&this._adapter.setRangeInputFocus("rangeStart")):(l==="rangeStart"||!l)&&(this._adapter.setRangeStart(t),f&&this._adapter.setRangeEnd(r),(!this._adapter.isAnotherPanelHasOpened("rangeStart")||!r)&&this._adapter.setRangeInputFocus("rangeEnd")));const y=this.getValidDateFormat();if(t||r){const[_,v]=[an(t,y,void 0,a),an(r,y,void 0,a)];let E=[_,v];if(o==="dateTimeRange"){const S=this.getState("monthLeft").pickerDate,O=this.getState("monthRight").pickerDate,x=t?this._mergeDateAndTime(t,S):null,I=r?this._mergeDateAndTime(r,O):null;_C(_,v)&&gc(I,x)?E=[x,x]:E=[x,I]}const w=!(o==="dateRange"&&g);this._adapter.notifySelectedChange(E,{needCheckFocusRecord:w})}}_isNeedSwap(e,t){return e&&t&&gc(t,e)}handleDayHover(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fullDate:""};const{fullDate:t}=e,{startDateOffset:r,endDateOffset:s,type:i}=this.getProps();if(this._adapter.setHoverDay(t),(r||s)&&i==="dateRange"){const o=kg(r,t),a=kg(s,t);this._adapter.setOffsetRangeStart(o),this._adapter.setOffsetRangeEnd(a)}}_autoAdjustMonth(e,t){let r=e,s=t;const i=Cl(e.pickerDate,t.pickerDate);return i>0?(r=Object.assign({},t),s=Object.assign({},e)):i===0&&(r=e,s=Object.assign(Object.assign({},t),{pickerDate:Da(t.pickerDate,1)})),{monthLeft:r,monthRight:s}}getValidTimeFormat(){const e=this.getProp("format")||Q.FORMAT_TIME_PICKER,t=[];return(pc(e,"h")||pc(e,"H"))&&t.push("HH"),pc(e,"m")&&t.push("mm"),pc(e,"s")&&t.push("ss"),t.join(":")}getValidDateFormat(){return this.getProp("format")||zde(this.getProp("type"))}handleTimeChange(e,t){const{rangeEnd:r,rangeStart:s}=this.getStates(),i=this.getProp("dateFnsLocale"),o=e.timeStampValue,a=this.getProp("type"),l=this._getPanelDetail(t),{showDate:u}=l,d=new Date(o),h=this.getValidDateFormat(),f=t===Q.PANEL_TYPE_RIGHT?r:s;let g,b,y;if(a==="dateTimeRange"&&f){const x=an(f,h,void 0,i);g=x.getFullYear(),b=x.getMonth(),y=x.getDate()}else g=u.getFullYear(),b=u.getMonth(),y=u.getDate();const _=d.getHours(),v=d.getMinutes(),E=d.getSeconds(),w=d.getMilliseconds(),S=[g,b,y,_,v,E,w],O=new Date(...S);if(a==="dateTimeRange")this.handleShowDateAndTime(t,O,u),this._updateTimeInDateRange(t,O);else{const x=rj(g,b+1,y);this.handleDateSelected({fullDate:x,fullValidDate:O},t),this.handleShowDateAndTime(t,O),this._adapter.notifySelectedChange([O])}}_updateTimeInDateRange(e,t){const{isControlledComponent:r,dateFnsLocale:s}=this.getProps();let i=this.getState("rangeStart"),o=this.getState("rangeEnd");const a=this.getValidDateFormat();if(i&&o){let l=an(i,a,void 0,s),u=an(o,a,void 0,s);e===Q.PANEL_TYPE_RIGHT?(u=this._mergeDateAndTime(t,t),o=ct(u,Q.FORMAT_DATE_TIME),this._isNeedSwap(i,o)&&([i,o]=[o,i],[l,u]=[u,l]),r||this._adapter.setRangeEnd(o)):(l=this._mergeDateAndTime(t,t),i=ct(l,Q.FORMAT_DATE_TIME),this._isNeedSwap(i,o)&&([i,o]=[o,i],[l,u]=[u,l]),r||this._adapter.setRangeStart(i)),this._adapter.notifySelectedChange([l,u])}}_updatePanelDetail(e,t){const{monthLeft:r,monthRight:s}=this.getStates();e===Q.PANEL_TYPE_RIGHT?this._adapter.updateMonthOnRight(Object.assign(Object.assign({},s),t)):this._adapter.updateMonthOnLeft(Object.assign(Object.assign({},r),t))}showYearPicker(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!0})}showTimePicker(e,t){this.getProp("disabledTimePicker")||this._updatePanelDetail(e,{isTimePickerOpen:!0,isYearPickerOpen:!1})}showDatePanel(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!1})}getYAMOpenType(){const{monthLeft:e,monthRight:t}=this._adapter.getStates(),r=e.isYearPickerOpen,s=t.isYearPickerOpen;return r&&s?"both":r?"left":s?"right":"none"}}const VR=we.NAVIGATION;class qC extends D.PureComponent{constructor(e){super(e),this.navRef=m.createRef()}render(){const{forwardRef:e,monthText:t,onMonthClick:r,onNextMonth:s,onPrevMonth:i,onPrevYear:o,onNextYear:a,density:l,shouldBimonthSwitch:u,panelType:d}=this.props,h="borderless",f=l==="compact"?"default":"large",g=!0,b=l==="compact"?"small":"default",y=d===Q.PANEL_TYPE_LEFT,_=d===Q.PANEL_TYPE_RIGHT,v=u&&y,E=u&&_,w={},S={};E&&(w.visibility="hidden"),v&&(S.visibility="hidden");const O=e||this.navRef;return m.createElement("div",{className:VR,ref:O},m.createElement(qs,{key:"double-chevron-left","aria-label":"Previous year",icon:m.createElement(zse,{"aria-hidden":!0,size:f}),size:b,theme:h,noHorizontalPadding:g,onClick:o,style:w}),m.createElement(qs,{key:"chevron-left","aria-label":"Previous month",icon:m.createElement(c$,{"aria-hidden":!0,size:f}),size:b,onClick:i,theme:h,noHorizontalPadding:g,style:w}),m.createElement("div",{className:`${VR}-month`},m.createElement(ze,{onClick:r,theme:h,size:b},m.createElement("span",null,t))),m.createElement(qs,{key:"chevron-right","aria-label":"Next month",icon:m.createElement(d$,{"aria-hidden":!0,size:f}),size:b,onClick:s,theme:h,noHorizontalPadding:g,style:S}),m.createElement(qs,{key:"double-chevron-right","aria-label":"Next year",icon:m.createElement(Wse,{"aria-hidden":!0,size:f}),size:b,theme:h,noHorizontalPadding:g,onClick:a,style:S}))}}qC.propTypes={monthText:c.string,density:c.string,onMonthClick:c.func,onNextMonth:c.func,onPrevMonth:c.func,onNextYear:c.func,onPrevYear:c.func,navPrev:c.node,navNext:c.node,shouldBimonthSwitch:c.bool,panelType:c.oneOf([Q.PANEL_TYPE_LEFT,Q.PANEL_TYPE_RIGHT])};qC.defaultProps={monthText:"",onMonthClick:j,onNextMonth:j,onPrevMonth:j,onNextYear:j,onPrevYear:j};const bfe=n=>{let{weekStartsOn:e=0}=n;const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let r=0;r<e;r++)t.push(t.shift());return t};class wfe extends Ne{constructor(e){super(Object.assign({},e))}init(){this._getToday(),this.getMonthTable()}_getToday(){const t=ct(new Date,"yyyy-MM-dd");this._adapter.updateToday(t)}getMonthTable(){const e=this._adapter.getProp("month"),t=this.getState("weeksRowNum");if(e){this.updateWeekDays();const r=this._adapter.getProp("weekStartsOn"),s=vfe(e,r),{weeks:i}=s;this._adapter.updateMonthTable(s),St(t)?this._adapter.setWeeksRowNum(i.length):Array.isArray(i)&&i.length!==t&&this._adapter.setWeeksRowNum(i.length,()=>{this._adapter.notifyWeeksRowNumChange(i.length)})}}updateWeekDays(){const e=this._adapter.getProp("weekStartsOn"),t=bfe({weekStartsOn:e});this._adapter.setWeekDays(t)}destroy(){}handleClick(e){this._adapter.notifyDayClick(e)}handleHover(e){this._adapter.notifyDayHover(e)}}const Efe=we.PREFIX;class XC extends xe{constructor(e){super(e),this.state={weekdays:[],month:{weeks:[],monthText:""},todayText:"",weeksRowNum:e.weeksRowNum},this.monthRef=m.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToday:e=>this.setState({todayText:e}),setWeekDays:e=>this.setState({weekdays:e}),setWeeksRowNum:(e,t)=>this.setState({weeksRowNum:e},t),updateMonthTable:e=>this.setState({month:e}),notifyDayClick:e=>this.props.onDayClick(e),notifyDayHover:e=>this.props.onDayHover(e),notifyWeeksRowNumChange:e=>this.props.onWeeksRowNumChange(e)})}componentDidMount(){this.foundation=new wfe(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){e.month!==this.props.month&&this.foundation.getMonthTable()}getSingleDayStatus(e){const{rangeInputFocus:t}=this.props,{fullDate:r,todayText:s,selected:i,disabledDate:o,rangeStart:a,rangeEnd:l}=e,u={rangeStart:a,rangeEnd:l,rangeInputFocus:t},d=r===s,h=i.has(r);let f=o&&o(Qs(r),u);return!f&&this.props.rangeInputFocus==="rangeStart"&&l&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeEnd&&(f=DR(r,l.trim().split(/\s+/)[0])),!f&&this.props.rangeInputFocus==="rangeEnd"&&a&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeStart&&(f=gc(r,a.trim().split(/\s+/)[0])),{isToday:d,isSelected:h,isDisabled:f}}getDateRangeStatus(e){const{rangeStart:t,rangeEnd:r,fullDate:s,hoverDay:i,offsetRangeStart:o,offsetRangeEnd:a,rangeInputFocus:l}=e,u=!!(t||r),d=!!(t&&r),h=o||a;if(!u)return{};const f=ga(i,s);let g,b,y,_,v;t&&(y=ga(s,t),l==="rangeEnd"&&(g=Bu(s,{start:t,end:i}))),r&&(_=ga(s,r),l==="rangeStart"&&(b=Bu(s,{start:i,end:r}))),!d&&u&&(v=f);let E;h||(E=g||b||f);let w,S,O,x,I,T;return d&&(w=Bu(s,{start:t,end:r}),h||(S=y&&DR(t,i),O=_&&gc(r,i),x=f&&l==="rangeStart",I=f&&l==="rangeEnd",T=f&&Bu(i,{start:t,end:r}))),{isHoverDay:f,isSelectedStart:y,isSelectedEnd:_,isInRange:w,isHover:E,isSelectedStartAfterHover:S,isSelectedEndBeforeHover:O,isHoverDayInRange:T,isHoverDayInStartSelection:x,isHoverDayInEndSelection:I,isHoverDayAroundOneSelected:v}}getOffsetDateStatus(e){const{offsetRangeStart:t,offsetRangeEnd:r,rangeStart:s,rangeEnd:i,fullDate:o,hoverDay:a}=e;if(!(t||r))return{};const u=Bu(o,{start:s,end:i}),d=ga(a,o),h=s&&ga(o,s),f=i&&ga(o,i),g=!!(s&&i),b=ga(o,t),y=ga(o,r),_=d;let v,E;return g&&(v=u&&d),!!(t&&r)&&(E=h||Bu(o,{start:t,end:r})||f),{isOffsetRangeStart:b,isOffsetRangeEnd:y,isHoverInOffsetRange:v,isHoverDayOffset:_,isInOffsetRange:E}}getDayStatus(e,t){const{fullDate:r}=e,{hoverDay:s,rangeStart:i,rangeEnd:o,todayText:a,offsetRangeStart:l,offsetRangeEnd:u,disabledDate:d,selected:h,rangeInputFocus:f}=t,g=this.getSingleDayStatus({fullDate:r,todayText:a,hoverDay:s,selected:h,disabledDate:d,rangeStart:i,rangeEnd:o}),b=this.getDateRangeStatus(Object.assign({fullDate:r,rangeStart:i,rangeEnd:o,hoverDay:s,offsetRangeStart:l,offsetRangeEnd:u,rangeInputFocus:f},g)),y=this.getOffsetDateStatus(Object.assign(Object.assign({offsetRangeStart:l,offsetRangeEnd:u,rangeStart:i,rangeEnd:o,fullDate:r,hoverDay:s},g),b));return Object.assign(Object.assign(Object.assign({},g),b),y)}renderDayOfWeek(){const{locale:e}=this.props,t=$(we.WEEKDAY),r=$(`${Efe}-weekday-item`),{weekdays:s}=this.state,i=s.map(o=>e.weeks[o]);return m.createElement("div",{role:"row",className:t},i.map((o,a)=>m.createElement("div",{role:"columnheader",key:o+a,className:r},o)))}renderWeeks(){const{month:e}=this.state,{weeks:t}=e,{weeksRowNum:r}=this.props;let s={};r&&(s={height:r*Xc.WEEK_HEIGHT});const i=$(we.WEEKS);return m.createElement("div",{className:i,style:s},t.map((o,a)=>this.renderWeek(o,a)))}renderWeek(e,t){const r=we.WEEK;return m.createElement("div",{role:"row",className:r,key:t},e.map((s,i)=>this.renderDay(s,i)))}renderDay(e,t){const{todayText:r}=this.state,{renderFullDate:s,renderDate:i}=this.props,{fullDate:o,dayNumber:a}=e;if(!o)return m.createElement("div",{role:"gridcell",tabIndex:-1,key:a+t,className:we.DAY},m.createElement("span",null));const l=this.getDayStatus(e,Object.assign({todayText:r},this.props)),u=$(we.DAY,{[we.DAY_TODAY]:l.isToday,[we.DAY_IN_RANGE]:l.isInRange,[we.DAY_HOVER]:l.isHover,[we.DAY_SELECTED]:l.isSelected,[we.DAY_SELECTED_START]:l.isSelectedStart,[we.DAY_SELECTED_END]:l.isSelectedEnd,[we.DAY_DISABLED]:l.isDisabled,[we.DAY_HOVER_DAY]:l.isHoverDayOffset,[we.DAY_IN_OFFSET_RANGE]:l.isInOffsetRange,[we.DAY_SELECTED_RANGE_HOVER]:l.isHoverInOffsetRange,[we.DAY_OFFSET_RANGE_START]:l.isOffsetRangeStart,[we.DAY_OFFSET_RANGE_END]:l.isOffsetRangeEnd,[we.DAY_SELECTED_START_AFTER_HOVER]:l.isSelectedStartAfterHover,[we.DAY_SELECTED_END_BEFORE_HOVER]:l.isSelectedEndBeforeHover,[we.DAY_HOVER_DAY_BEFORE_RANGE]:l.isHoverDayInStartSelection,[we.DAY_HOVER_DAY_AFTER_RANGE]:l.isHoverDayInEndSelection,[we.DAY_HOVER_DAY_AROUND_SINGLE_SELECTED]:l.isHoverDayAroundOneSelected}),d=$({[`${we.DAY}-main`]:!0}),h=[a,o,l],f=De(s);return m.createElement("div",{role:"gridcell",tabIndex:l.isDisabled?-1:0,"aria-disabled":l.isDisabled,"aria-selected":l.isSelected,"aria-label":o,className:f?we.DAY:u,title:o,key:a+t,onClick:g=>!l.isDisabled&&this.foundation.handleClick(e),onMouseEnter:()=>this.foundation.handleHover(e),onMouseLeave:()=>this.foundation.handleHover()},f?s(...h):m.createElement("div",{className:d},De(i)?i(a,o):m.createElement("span",null,a)))}render(){const{forwardRef:e,multiple:t}=this.props,r=this.renderDayOfWeek(),s=this.renderWeeks(),i=$(we.MONTH),o=e||this.monthRef;return m.createElement("div",{role:"grid","aria-multiselectable":t,ref:o,className:i},r,s)}}XC.propTypes={month:c.object,selected:c.object,rangeStart:c.string,rangeEnd:c.string,offsetRangeStart:c.string,offsetRangeEnd:c.string,onDayClick:c.func,onDayHover:c.func,weekStartsOn:c.number,disabledDate:c.func,weeksRowNum:c.number,onWeeksRowNumChange:c.func,renderDate:c.func,renderFullDate:c.func,hoverDay:c.string,startDateOffset:c.func,endDateOffset:c.func,rangeInputFocus:c.oneOfType([c.string,c.bool]),focusRecordsRef:c.object,multiple:c.bool};XC.defaultProps={month:new Date,selected:new Set,rangeStart:"",rangeEnd:"",onDayClick:j,onDayHover:j,onWeeksRowNumChange:j,weekStartsOn:Xc.WEEK_START_ON,disabledDate:wf,weeksRowNum:0};const Ng="time",Zb="timeRange",Sfe=" ~ ",Cfe=",",eS={PREFIX:`${G}-timepicker`,RANGE_PICKER:`${G}-timepicker-range-panel`,RANGE_PANEL_LISTS:`${G}-timepicker-lists`},mn={TYPES:[Ng,Zb],TYPE_TIME_PICKER:Ng,TYPE_TIME_RANGE_PICKER:Zb,DEFAULT_TYPE:Ng,DEFAULT_RANGE_SEPARATOR:Sfe,DEFAULT_MULTIPLE_SEPARATOR:Cfe,SIZE:hl.SIZE,DEFAULT_FORMAT:"HH:mm:ss",DEFAULT_FORMAT_A:"a h:mm:ss",STATUS:yd,DEFAULT_POSITION:{[Ng]:"bottomLeft",[Zb]:"bottomLeft"}},Gr={PREFIX:`${G}-scrolllist`,SELECTED:`${G}-scrolllist-item-selected`},Tfe={MODE:["normal","wheel"]},Lg={DEFAULT_ITEM_HEIGHT:36,DEFAULT_SCROLL_DURATION:120};var Ife=iM,Ofe=kM,Pfe=zy,xfe=9007199254740991,Jb=4294967295,Rfe=Math.min;function Afe(n,e){if(n=Pfe(n),n<1||n>xfe)return[];var t=Jb,r=Rfe(n,Jb);e=Ofe(e),n-=Jb;for(var s=Ife(r,e);++t<n;)e(t);return s}var Dfe=Afe;const UR=Ce(Dfe);var kfe=ky,Nfe=pC,Lfe=1,Mfe=2;function $fe(n,e,t,r){var s=t.length,i=s,o=!r;if(n==null)return!i;for(n=Object(n);s--;){var a=t[s];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++s<i;){a=t[s];var l=a[0],u=n[l],d=a[1];if(o&&a[2]){if(u===void 0&&!(l in n))return!1}else{var h=new kfe;if(r)var f=r(u,d,l,n,e,h);if(!(f===void 0?Nfe(d,u,Lfe|Mfe,r,h):f))return!1}}return!0}var Ffe=$fe,jfe=ss;function Vfe(n){return n===n&&!jfe(n)}var sj=Vfe,Ufe=sj,Bfe=ul;function Hfe(n){for(var e=Bfe(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,Ufe(s)]}return e}var zfe=Hfe;function Kfe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var ij=Kfe,Wfe=Ffe,Gfe=zfe,Yfe=ij;function qfe(n){var e=Gfe(n);return e.length==1&&e[0][2]?Yfe(e[0][0],e[0][1]):function(t){return t===n||Wfe(t,n,e)}}var Xfe=qfe,Qfe=pC,Zfe=$L,Jfe=F$,epe=Y1,tpe=sj,npe=ij,rpe=Eu,spe=1,ipe=2;function ope(n,e){return epe(n)&&tpe(e)?npe(rpe(n),e):function(t){var r=Zfe(t,n);return r===void 0&&r===e?Jfe(t,n):Qfe(e,r,spe|ipe)}}var ape=ope;function lpe(n){return function(e){return e==null?void 0:e[n]}}var upe=lpe,cpe=Ry;function dpe(n){return function(e){return cpe(e,n)}}var hpe=dpe,fpe=upe,ppe=hpe,gpe=Y1,mpe=Eu;function vpe(n){return gpe(n)?fpe(mpe(n)):ppe(n)}var ype=vpe,_pe=Xfe,bpe=ape,wpe=hp,Epe=lr,Spe=ype;function Cpe(n){return typeof n=="function"?n:n==null?wpe:typeof n=="object"?Epe(n)?bpe(n[0],n[1]):_pe(n):Spe(n)}var QC=Cpe,Tpe=A$,Ipe=QC,Ope=zy,Ppe=Math.max;function xpe(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var s=t==null?0:Ope(t);return s<0&&(s=Ppe(r+s,0)),Tpe(n,Ipe(e),s)}var oj=xpe;const mc=Ce(oj);var Rpe=DM,Ape=ho;function Dpe(n,e){var t=-1,r=Ape(n)?Array(n.length):[];return Rpe(n,function(s,i,o){r[++t]=e(s,i,o)}),r}var kpe=Dpe,Npe=md,Lpe=QC,Mpe=kpe,$pe=lr;function Fpe(n,e){var t=$pe(n)?Npe:Mpe;return t(n,Lpe(e))}var jpe=Fpe;const Vpe=Ce(jpe);var Upe=QC,Bpe=ho,Hpe=ul;function zpe(n){return function(e,t,r){var s=Object(e);if(!Bpe(e)){var i=Upe(t);e=Hpe(e),t=function(a){return i(s[a],a,s)}}var o=n(e,t,r);return o>-1?s[i?e[o]:o]:void 0}}var Kpe=zpe,Wpe=Kpe,Gpe=oj,Ype=Wpe(Gpe),qpe=Ype;const tS=Ce(qpe);var Xpe=cC,Qpe=aC,BR=zy;function Zpe(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&Qpe(n,e,t)?(e=0,t=r):(e=e==null?0:BR(e),t=t===void 0?r:BR(t)),Xpe(n,e,t)):[]}var Jpe=Zpe;const e0=Ce(Jpe);class ege extends Ne{constructor(){super(...arguments),this._cachedSelectedNode=null}selectIndex(e,t){const{type:r,list:s}=this.getProps();if(e>-1&&Array.isArray(s)&&s.length&&Ze(t)){const i=e%s.length,o=s[i],a=t.children[e];this._adapter.setSelectedNode(a),this._adapter.notifySelectItem(Object.assign(Object.assign({},o),{value:o.value,type:r,index:i}))}}selectNode(e,t){const{type:r,list:s}=this.getProps();if(Ze(e)&&Ze(t)){const o=mc(t.children,d=>d===e)%s.length,l=mc(t.children,d=>d===this._cachedSelectedNode)%s.length,u=s[o];this._adapter.setSelectedNode(e),this._adapter.scrollToCenter(e),this._cachedSelectedNode!==e&&(this._cachedSelectedNode=e,l!==o&&this._adapter.notifySelectItem(Object.assign(Object.assign({},u),{value:u.value,type:r,index:o})))}}shouldAppend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(Ze(e)&&Ze(t)){const i=e.querySelectorAll(s),o=i[i.length-1],{list:a}=this.getProps();if(o){const l=t.getBoundingClientRect(),u=o.getBoundingClientRect(),d=u.height*a.length;let h=u.top,f=0;for(;h<=l.top+l.height*r;)f+=1,h+=d;return f}}return!1}shouldPrepend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(Ze(e)&&Ze(t)){const o=e.querySelectorAll(s)[0],{list:a}=this.getProps();if(o){const l=t.getBoundingClientRect(),u=o.getBoundingClientRect(),d=u.height*a.length;let h=u.top,f=0;for(;h+u.height>=l.top-l.height*r;)f+=1,h-=d;return f}}return 0}initWheelList(e,t,r){const{list:s}=this.getProps();if(Ze(t)&&Ze(e)&&s&&s.length){const i=e.children;e0(i,0,s.length);const o=this.shouldPrepend(e,t),a=this.shouldAppend(e,t);this._adapter.setState({prependCount:o,appendCount:a},r)}}adjustInfiniteList(e,t,r){const{list:s}=this.getProps(),i="li";if(Ze(t)&&Ze(e)&&s&&s.length){const o=e.querySelectorAll(i),a=o.length,l=1,u=this.shouldPrepend(e,t,l),d=this.shouldAppend(e,t,l);if(u)for(let h=0;h<u;h++){const f=e0(o,a-s.length*(h+1),a-s.length*h);qee(e,...f)}if(d)for(let h=0;h<d;h++){const f=e0(o,h*s.length,(h+1)*s.length);LM(e,...f)}}}getNearestNodeInfo(e,t){if(Ze(e)&&Ze(t)){const s=t.getBoundingClientRect().top,i=e.querySelectorAll("li");let o=null,a=-1,l=1/0;return Array.from(i).map((u,d)=>{const f=u.getBoundingClientRect().top,g=Math.abs(f-s);g<l&&!this._adapter.isDisabledIndex(d)&&(l=g,o=u,a=d)}),{nearestNode:o,nearestIndex:a}}}getTargetNode(e,t){if(e&&Ze(t)){const r="li",s=e.target,i=t.querySelectorAll(r),o=this.getProp("list"),a=Array.isArray(o)?o.length:0;let l=-1,u=-1,d=null;const h=tS(i,(f,g)=>{if(f===s||f.contains(s))return l=g,a>0&&(u=g%a),!0});return u>-1&&(d=o[u]),{targetNode:h,targetIndex:l,indexInList:u,infoInList:d}}return null}}const tge=(n,e,t)=>{const r=new x$({from:{scrollTop:n.scrollTop},to:{scrollTop:e}},{duration:t});return r.on("frame",s=>{let{scrollTop:i}=s;n.scrollTop=i}),r},HR=1e3/60,zR=/^\s*$/,gm="wheel";class xo extends xe{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),e=this,this._cacheNode=(r,s)=>r&&s&&Object.prototype.hasOwnProperty.call(this,r)&&(this[r]=s),this._cacheSelectedNode=r=>this._cacheNode("selectedNode",r),this._cacheWillSelectNode=r=>this._cacheNode("willSelectNode",r),this._cacheListNode=r=>this._cacheNode("list",r),this._cacheSelectorNode=r=>this._cacheNode("selector",r),this._cacheWrapperNode=r=>this._cacheNode("wrapper",r),this._isFirst=r=>{const{list:s}=this;if(Ze(r)&&Ze(s)){const i=s.children;return mc(i,r)===0}return!1},this._isLast=r=>{const{list:s}=this;if(Ze(r)&&Ze(s)){const{children:i}=s;return mc(i,r)===i.length-1}return!1},this.indexIsSame=(r,s)=>{const{list:i}=this.props;if(i.length)return r%i.length===s%i.length},this.isDisabledIndex=r=>{const{list:s}=this.props;if(Array.isArray(s)&&s.length&&r>-1){const i=s.length,o=r%i;return this.isDisabledData(s[o])}return!1},this.isDisabledNode=r=>{const s=this.list;if(Ze(r)&&Ze(s)){const i=mc(s.children,o=>o===r);return this.isDisabledIndex(i)}return!1},this.isDisabledData=r=>r&&typeof r=="object"&&r.disabled,this.isWheelMode=()=>this.props.mode===gm,this.addClassToNode=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gr.SELECTED;const{list:i}=e;if(r=r||e.selectedNode,Ze(r)&&Ze(i)){const{children:o}=i,a=new RegExp(`\\s*${s}\\s*`,"g");Vpe(o,l=>{l.className=l.className&&l.className.replace(a," "),zR.test(l.className)&&(l.className="")}),r.className&&!zR.test(r.className)?r.className+=` ${s}`:r.className=s}},this.getIndexByNode=r=>mc(this.list.children,r),this.getNodeByIndex=r=>r>-1?tS(this.list.children,(i,o)=>o===r):tS(this.list.children,i=>!this.isDisabledNode(i)),this.scrollToIndex=(r,s)=>{s=typeof s=="number"?s:Lg.DEFAULT_SCROLL_DURATION,r=r??this.props.selectedIndex,this.scrollToNode(this.selectedNode,s)},this.scrollToNode=(r,s)=>{const{wrapper:i}=this,o=i.offsetHeight,a=this.getItmHeight(r),l=(r.offsetTop||this.list.children.length*a/2)-(o-a)/2;this.scrollToPos(l,s)},this.scrollToPos=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lg.DEFAULT_SCROLL_DURATION;const{wrapper:i}=e;if(s&&e.props.motion)if(e.scrollAnimation&&(e.scrollAnimation.destroy(),e.scrolling=!1),i.scrollTop===r){if(e.isWheelMode()){const o=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(o.nearestNode)}}else e.scrollAnimation=tge(i,r,s),e.scrollAnimation.on("rest",()=>{if(e.isWheelMode()){const o=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(o.nearestNode)}}),e.scrollAnimation.start();else i.scrollTop=r},this.scrollToSelectItem=r=>{const{nearestNode:s}=this.foundation.getNearestNodeInfo(this.list,this.selector);this.props.cycled&&this.throttledAdjustList(r,s),this.debouncedSelect(r,s)},this.scrollToCenter=(r,s,i)=>{if(r=r||this.selectedNode,s=s||this.wrapper,Ze(r)&&Ze(s)){const o=s.getBoundingClientRect(),a=r.getBoundingClientRect(),l=s.scrollTop+(a.top-(o.top+o.height/2-a.height/2));this.scrollToPos(l,typeof i=="number"?i:Lg.DEFAULT_SCROLL_DURATION)}},this.clickToSelectItem=r=>{r&&r.nativeEvent&&r.nativeEvent.stopImmediatePropagation();const{targetNode:s,infoInList:i}=this.foundation.getTargetNode(r,this.list);s&&i&&!i.disabled&&this.debouncedSelect(null,s)},this.getItmHeight=r=>r&&r.offsetHeight||Lg.DEFAULT_ITEM_HEIGHT,this.renderItemList=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{selectedIndex:s,mode:i,transform:o,list:a}=e.props;return a.map((l,u)=>{const{transform:d}=l,h=typeof d=="function"?d:o,f=s===u,g=$({[`${Gr.PREFIX}-item-sel`]:f&&i!==gm,[`${Gr.PREFIX}-item-disabled`]:!!l.disabled});let b="";f&&typeof h=="function"?b=h(l.value,l.text):b=l.text==null?l.value:l.text;const y={};return!e.isWheelMode()&&!l.disabled&&(y.onClick=()=>e.foundation.selectIndex(u,e.list)),m.createElement("li",Object.assign({key:r+u},y,{className:g,role:"option","aria-selected":f,"aria-disabled":l.disabled}),b)})},this.renderNormalList=()=>{const{list:r,className:s,style:i}=this.props,o=this.renderItemList(),a=$(`${Gr.PREFIX}-item`,s);return m.createElement("div",{style:i,className:a,ref:this._cacheWrapperNode},m.createElement("ul",{role:"listbox","aria-multiselectable":!1,"aria-label":this.props["aria-label"],ref:this._cacheListNode},o))},this.renderInfiniteList=()=>{const{list:r,cycled:s,className:i,style:o}=this.props,{prependCount:a,appendCount:l}=this.state,u=UR(a).reduce((v,E)=>{const w=this.renderItemList(`pre_${E}_`);return v.unshift(...w),v},[]),d=UR(l).reduce((v,E)=>{const w=this.renderItemList(`app_${E}_`);return v.push(...w),v},[]),h=this.renderItemList(),f=$(`${Gr.PREFIX}-list-outer`,{[`${Gr.PREFIX}-list-outer-nocycle`]:!s}),g=$(`${Gr.PREFIX}-item-wheel`,i),b=$(`${Gr.PREFIX}-selector`),y=$(`${Gr.PREFIX}-shade`,`${Gr.PREFIX}-shade-pre`),_=$(`${Gr.PREFIX}-shade`,`${Gr.PREFIX}-shade-post`);return m.createElement("div",{className:g,style:o},m.createElement("div",{className:y}),m.createElement("div",{className:b,ref:this._cacheSelectorNode}),m.createElement("div",{className:_}),m.createElement("div",{className:f,ref:this._cacheWrapperNode,onScroll:this.scrollToSelectItem},m.createElement("ul",{role:"listbox","aria-label":this.props["aria-label"],"aria-multiselectable":!1,ref:this._cacheListNode,onClick:this.clickToSelectItem},u,h,d)))},this.state={prependCount:0,appendCount:0},this.selectedNode=null,this.willSelectNode=null,this.list=null,this.wrapper=null,this.selector=null,this.scrollAnimation=null,this.foundation=new ege(this.adapter),this.throttledAdjustList=av((r,s)=>{this.foundation.adjustInfiniteList(this.list,this.wrapper,s)},HR),this.debouncedSelect=VL((r,s)=>{this._cacheSelectedNode(s),this.foundation.selectNode(s,this.list)},HR*2)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setState:(t,r)=>this.setState(Object.assign({},t),r),setPrependCount:t=>this.setState({prependCount:t}),setAppendCount:t=>this.setState({appendCount:t}),isDisabledIndex:this.isDisabledIndex,setSelectedNode:t=>this._cacheWillSelectNode(t),notifySelectItem:function(){return e.props.onSelect(...arguments)},scrollToCenter:this.scrollToCenter})}componentWillUnmount(){this.props.cycled&&(this.throttledAdjustList.cancel(),this.debouncedSelect.cancel())}componentDidMount(){this.foundation.init();const{mode:e,cycled:t,selectedIndex:r,list:s}=this.props,i=this.getNodeByIndex(typeof r=="number"&&r>-1?r:0);this._cacheSelectedNode(i),this._cacheWillSelectNode(i),e===gm&&t?this.foundation.initWheelList(this.list,this.wrapper,()=>{this.scrollToNode(i,0)}):this.scrollToNode(i,0)}componentDidUpdate(e){const{selectedIndex:t}=this.props;if(e.selectedIndex!==t){const r=this.getIndexByNode(this.willSelectNode);if(!this.indexIsSame(r,t)){const s=this.getNodeByOffset(this.selectedNode,t-e.selectedIndex,this.list);this._cacheWillSelectNode(s)}this._cacheSelectedNode(this.willSelectNode),this.scrollToIndex(t)}}getNodeByOffset(e,t,r){const{list:s}=this.props;if(Ze(e)&&Ze(r)&&typeof t=="number"&&Array.isArray(s)&&s.length){t=t%s.length;let o=this.getIndexByNode(e)+t;for(;o<0;)o+=s.length;if(t)return this.getNodeByIndex(o)}return e}render(){return this.isWheelMode()?this.renderInfiniteList():this.renderNormalList()}}xo.propTypes={mode:c.oneOf(Tfe.MODE),cycled:c.bool,list:c.array,selectedIndex:c.number,onSelect:c.func,transform:c.func,className:c.string,style:c.object,motion:c.oneOfType([c.func,c.bool]),type:c.oneOfType([c.string,c.number])};xo.defaultProps={selectedIndex:0,motion:!0,list:[],onSelect:j,cycled:!1,mode:gm};class nge extends Ne{}var rge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class n_ extends xe{constructor(e){super(e),this.foundation=new nge(this.adapter)}render(){const e=this.props,{children:t,header:r,footer:s,prefixCls:i,bodyHeight:o,className:a,style:l}=e,u=rge(e,["children","header","footer","prefixCls","bodyHeight","className","style"]),d=$(a,{[i||Gr.PREFIX]:!0}),h=$({[`${i||Gr.PREFIX}-header`]:!0});return m.createElement("div",Object.assign({className:d,style:l},this.getDataAttr(u)),r?m.createElement("div",{className:h},m.createElement("div",{className:`${h}-title`,"x-semi-prop":this.props["x-semi-header-alias"]||"header"},r),m.createElement("div",{className:`${d}-line`})):null,m.createElement("div",{className:`${d}-body`,style:{height:o||""},"x-semi-prop":"children"},t),s?m.createElement("div",{className:`${d}-footer`,"x-semi-prop":this.props["x-semi-footer-alias"]||"footer"},s):null)}}n_.Item=xo;n_.propTypes={className:c.string,header:c.node,footer:c.node,children:c.node,bodyHeight:c.oneOfType([c.number,c.string])};const aj=1e3*60*60,KR=24*aj,t0=(n,e)=>{let t=`${n}`;n<10&&(t=`0${n}`);let r=!1;return e&&e.indexOf(n)>=0&&(r=!0),{value:t,disabled:r}};function n0(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const s=[];for(let i=0;i<n;i+=r)(!e||e.indexOf(i)<0||!t)&&s.push(i);return s}class sge extends Ne{constructor(e){super(Object.assign({},e))}isAM(){return this.getProp("isAM")}initData(){const{timeStampValue:e,hourStep:t,disabledMinutes:r,disabledSeconds:s,hideDisabledOptions:i,minuteStep:o,secondStep:a}=this.getProps(),l=this.getValidFormat(),u=this.getDisplayDateFromTimeStamp(e),d=this.disabledHours(),h=r(u?u.getHours():null),f=s(u?u.getHours():null,u?u.getMinutes():null),g=n0(24,d,i,t),b=n0(60,h,i,o),y=n0(60,f,i,a);return{showHour:!!l.match(/HH|hh|H|h/g),showMinute:!!l.match(/mm/g),showSecond:!!l.match(/ss/g),hourOptions:g,minuteOptions:b,secondOptions:y}}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||mn.DEFAULT_TYPE;return e||mn.DEFAULT_POSITION[t]}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?mn.DEFAULT_FORMAT_A:mn.DEFAULT_FORMAT}disabledHours(){const{use12Hours:e,disabledHours:t}=this.getProps();let r=t&&t();return e&&Array.isArray(r)&&(this.isAM()?r=r.filter(s=>s<12).map(s=>s===0?12:s):r=r.map(s=>s===12?12:s-12)),r}getValidFormat(e){let t=St(e)?this.getProp("format"):e;return t=this.getDefaultFormatIfNeed(),t=typeof t=="string"?t:mn.DEFAULT_FORMAT,t}getDisplayDateFromTimeStamp(e){let t;return e&&(t=new Date(e)),!e||!Zs(t)?this.createDateDefault():t}createDateDefault(){return new Date(parseInt(String(Date.now()/KR),10)*KR-8*aj)}}class Rf extends xe{constructor(e){super(e),this.cacheRefCurrent=(t,r)=>{t&&typeof t=="string"&&this.adapter.setCache(t,r)},this.reselect=()=>{["ampm","hour","minute","second"].forEach(r=>{const s=this.adapter.getCache(r);s&&s.scrollToIndex&&s.scrollToIndex()})},this.onItemChange=t=>{let{type:r,value:s,disabled:i}=t,{onChange:o,use12Hours:a,isAM:l,format:u,timeStampValue:d}=this.props;const h=this.foundation.getDisplayDateFromTimeStamp(d);if(r==="hour")a?l?h.setHours(Number(s)%12):h.setHours(Number(s)%12+12):h.setHours(Number(s));else if(r==="minute")h.setMinutes(Number(s));else if(r==="ampm"){const f=s.toUpperCase();a&&(f==="PM"&&(l=!1,h.getHours()<12&&h.setHours(h.getHours()%12+12)),f==="AM"&&(l=!0,h.getHours()>=12&&h.setHours(h.getHours()-12)))}else h.setSeconds(Number(s));o&&o({isAM:l,value:ct(h,u&&u.replace(/(\s+)A/g,"$1a")),timeStampValue:Number(h)})},this.onEnterSelectPanel=t=>{const{onCurrentSelectPanelChange:r}=this.props;r(t)},this.getDisplayDateFromTimeStamp=t=>this.foundation.getDisplayDateFromTimeStamp(t),this.foundation=new sge(this.adapter),this.state=Object.assign({},this.foundation.initData())}componentDidUpdate(e,t){(e.timeStampValue!==this.props.timeStampValue||e.format!==this.props.format)&&this.setState(Object.assign({},this.foundation.initData()))}componentWillUnmount(){}componentDidMount(){}renderHourSelect(e,t){const{prefixCls:r,disabledHours:s,use12Hours:i,scrollItemProps:o}=this.props,{showHour:a,hourOptions:l}=this.state;if(!a)return null;const u=s();let d,h;i?(d=[12].concat(l.filter(b=>b<12&&b>0)),h=e%12||12):(d=l,h=e);const f=b=>b+t.hour,g=`${r}-list-hour`;return m.createElement(xo,Object.assign({ref:b=>this.cacheRefCurrent("hour",b),mode:"normal",transform:f,className:g,list:d.map(b=>t0(b,u)),selectedIndex:d.indexOf(h),type:"hour",onSelect:this.onItemChange},o))}renderMinuteSelect(e,t){const{prefixCls:r,disabledMinutes:s,timeStampValue:i,scrollItemProps:o}=this.props,{showMinute:a,minuteOptions:l}=this.state;if(!a)return null;const u=new Date(i),d=s&&s(u.getHours()),h=`${r}-list-minute`,f=g=>g+t.minute;return m.createElement(xo,Object.assign({ref:g=>this.cacheRefCurrent("minute",g),mode:"normal",transform:f,list:l.map(g=>t0(g,d)),selectedIndex:l.indexOf(e),type:"minute",onSelect:this.onItemChange,className:h},o))}renderSecondSelect(e,t){const{prefixCls:r,disabledSeconds:s,timeStampValue:i,scrollItemProps:o}=this.props,{showSecond:a,secondOptions:l}=this.state;if(!a)return null;const u=new Date(i),d=s&&s(u.getHours(),u.getMinutes()),h=`${r}-list-second`,f=g=>String(g)+t.second;return m.createElement(xo,Object.assign({ref:g=>this.cacheRefCurrent("second",g),mode:"normal",transform:f,list:l.map(g=>t0(g,d)),selectedIndex:l.indexOf(e),className:h,type:"second",onSelect:this.onItemChange},o))}renderAMPMSelect(e,t){const{prefixCls:r,use12Hours:s,isAM:i,scrollItemProps:o}=this.props;if(!s)return null;const a=[{value:"AM",text:e.AM||""},{value:"PM",text:e.PM||""}],l=i?0:1,u=`${r}-list-ampm`;return m.createElement(xo,Object.assign({ref:d=>this.cacheRefCurrent("ampm",d),mode:"normal",className:u,list:a,selectedIndex:l,type:"ampm",onSelect:this.onItemChange},o))}render(){const{timeStampValue:e,panelHeader:t,panelFooter:r}=this.props,s=this.getDisplayDateFromTimeStamp(e);return m.createElement(Pn,{componentName:"TimePicker"},(i,o)=>m.createElement(n_,{header:t,footer:r,"x-semi-header-alias":"panelHeader","x-semi-footer-alias":"panelFooter"},this.renderAMPMSelect(i,o),this.renderHourSelect(s.getHours(),i),this.renderMinuteSelect(s.getMinutes(),i),this.renderSecondSelect(s.getSeconds(),i)))}}Rf.propTypes={format:c.string,defaultOpenValue:c.object,prefixCls:c.string,onChange:c.func,showHour:c.bool,showMinute:c.bool,showSecond:c.bool,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,hideDisabledOptions:c.bool,onCurrentSelectPanelChange:c.func,use12Hours:c.bool,isAM:c.bool,timeStampValue:c.any,scrollItemProps:c.object};Rf.defaultProps={disabledHours:j,disabledMinutes:j,disabledSeconds:j,format:mn.DEFAULT_FORMAT};class ige extends Ne{constructor(e){super(Object.assign({},e))}init(){}destroy(){}selectYear(e,t){const{currentYear:r,currentMonth:s}=this.getStates(),{type:i}=this.getProps(),o=Q.PANEL_TYPE_LEFT,a=Q.PANEL_TYPE_RIGHT,l=Xo(r);if(l[t]=e.value,i==="monthRange"){const u=l[o]===l[a]&&s[o]>s[a];t===o&&e.value>l[a]||t===o&&u?l[a]=e.value+1:t===a&&u&&(l[o]=e.value-1)}this._adapter.setCurrentYear(l,()=>this.autoSelectMonth(e,t,l)),this._adapter.notifySelectYear(l)}selectMonth(e,t){const{currentMonth:r,currentYear:s}=this.getStates(),{type:i}=this.getProps(),o=Q.PANEL_TYPE_LEFT,a=Q.PANEL_TYPE_RIGHT,l=Xo(r);l[t]=e.month,i==="monthRange"&&t===o&&s[o]===s[a]&&e.value>l[a]&&(l[a]=e.month),this._adapter.setCurrentMonth(l),this._adapter.notifySelectMonth(l)}autoSelectMonth(e,t,r){const{disabledDate:s,locale:i}=this._adapter.getProps(),{months:o,currentMonth:a}=this._adapter.getStates(),l=t===Q.PANEL_TYPE_LEFT?"right":"left",u=Yw(Date.now(),e.year),d=s(Dl(u,a[t]-1)),h=s(Dl(Yw(Date.now(),r[l]),a[l]-1));if(!d&&!h)return;let f=r,g=a;if(d){const b=o.findIndex(_=>{let{month:v}=_;return v===a[t]});let y;y=o.slice(b).find(_=>{let{month:v}=_;return!s(Dl(u,v-1))}),y||(y=o.slice(0,b).find(_=>{let{month:v}=_;return!s(Dl(u,v-1))})),y&&!h?g[t]=y.month:y&&h&&(f={left:e.year,right:e.year},g={left:y.month,right:y.month})}else!d&&h&&(f={left:e.year,right:e.year},g={left:a[t],right:a[t]});this._adapter.setCurrentYearAndMonth(f,g),this._adapter.notifySelectYearAndMonth(f,g)}backToMain(){this._adapter.notifyBackToMain()}}const WR=`${G}-datepicker`;class r_ extends xe{constructor(e){super(e),this.selectYear=(o,a)=>{this.foundation.selectYear(o,a)},this.selectMonth=(o,a)=>{this.foundation.selectMonth(o,a)},this.reselect=()=>{["yearRef","monthRef"].forEach(a=>{const l=this[a];l&&l.current&&l.current.scrollToIndex&&l.current.scrollToIndex()})},this.backToMain=o=>{o.nativeEvent.stopImmediatePropagation(),this.foundation.backToMain()};let{currentYear:t,currentMonth:r}=e;const{year:s,month:i}=kR(t,r);this.state={years:Kde(e.startYear,e.endYear).map(o=>({value:o,year:o})),months:Array(12).fill(0).map((o,a)=>({value:a+1,month:a+1})),currentYear:s,currentMonth:i},this.yearRef=m.createRef(),this.monthRef=m.createRef(),this.foundation=new ige(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setCurrentYear:(e,t)=>this.setState({currentYear:e},t),setCurrentMonth:e=>this.setState({currentMonth:e}),setCurrentYearAndMonth:(e,t)=>this.setState({currentYear:e,currentMonth:t}),notifySelectYear:e=>this.props.onSelect({currentMonth:this.state.currentMonth,currentYear:e}),notifySelectMonth:e=>this.props.onSelect({currentYear:this.state.currentYear,currentMonth:e}),notifySelectYearAndMonth:(e,t)=>this.props.onSelect({currentYear:e,currentMonth:t}),notifyBackToMain:()=>this.props.onBackToMain()})}static getDerivedStateFromProps(e,t){const r={},{year:s,month:i}=kR(e.currentYear,e.currentMonth);return je(e.currentYear,t.currentYear)||(r.currentYear=s),je(e.currentMonth,t.currentMonth)||(r.currentMonth=i),r}renderColYear(e){const{years:t,currentYear:r,currentMonth:s,months:i}=this.state,{disabledDate:o,localeCode:a,yearCycled:l,yearAndMonthOpts:u}=this.props,d=Dl(Date.now(),s[e]-1),h=Q.PANEL_TYPE_LEFT,f=Q.PANEL_TYPE_RIGHT,g=_=>e===f&&r[h]?r[h]>_:!1,b=t.map(_=>{let{value:v,year:E}=_;const w=i.every(O=>{let{month:x}=O;return o(a$(d,{year:E,month:x-1}))}),S=g(E);return{year:E,value:v,disabled:w||S}});let y=_=>_;return(a==="zh-CN"||a==="zh-TW")&&(y=_=>`${_}`),m.createElement(xo,Object.assign({ref:this.yearRef,cycled:l,list:b,transform:y,selectedIndex:t.findIndex(_=>_.value===r[e]),type:"year",onSelect:_=>this.selectYear(_,e),mode:"normal"},u))}renderColMonth(e){const{months:t,currentMonth:r,currentYear:s}=this.state,{locale:i,localeCode:o,monthCycled:a,disabledDate:l,yearAndMonthOpts:u}=this.props;let d=_=>_;const h=Yw(Date.now(),s[e]),f=Q.PANEL_TYPE_LEFT,g=Q.PANEL_TYPE_RIGHT;(o==="zh-CN"||o==="zh-TW")&&(d=_=>`${_}`);const b=t.map(_=>{let{value:v,month:E}=_;const w=e===g&&r[f]&&s[f]===s[g]&&r[f]>E;return{month:E,disabled:l(Dl(h,E-1))||w,value:i.fullMonths[v]}}),y=b.findIndex(_=>_.month===r[e]);return m.createElement(xo,Object.assign({ref:this.monthRef,cycled:a,list:b,transform:d,selectedIndex:y,type:"month",onSelect:_=>this.selectMonth(_,e),mode:"normal"},u))}renderPanel(e){return m.createElement(m.Fragment,null,m.createElement(n_,null,this.renderColYear(e),this.renderColMonth(e)))}render(){const{locale:e,noBackBtn:t,density:r,presetPosition:s,renderQuickControls:i,renderDateInput:o,type:a}=this.props,l=`${WR}-yearmonth-header`,u=`${WR}-yearmonth-body`,d=e.selectDate,h=r==="compact"?"default":"large",f=r==="compact"?"small":"default",g=Q.PANEL_TYPE_LEFT,b=Q.PANEL_TYPE_RIGHT;let y=null;return a==="month"?y=this.renderPanel(g):y=m.createElement("div",{className:u},this.renderPanel(g),this.renderPanel(b)),m.createElement(m.Fragment,null,t?null:m.createElement("div",{className:l},m.createElement(qs,{noHorizontalPadding:!1,icon:m.createElement(c$,{"aria-hidden":!0,size:h}),size:f,onClick:this.backToMain},m.createElement("span",null,d))),s?m.createElement("div",{style:{display:"flex"}},s==="left"&&a!=="monthRange"&&i,m.createElement("div",null,o,y),s==="right"&&a!=="monthRange"&&i):m.createElement(m.Fragment,null,o,y))}}r_.propTypes={currentYear:c.object,currentMonth:c.object,onSelect:c.func,locale:c.object,localeCode:c.string,monthCycled:c.bool,yearCycled:c.bool,noBackBtn:c.bool,disabledDate:c.func,density:c.string,presetPosition:c.oneOf(Q.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node,type:c.oneOf(Q.TYPE_SET),startYear:c.number,endYear:c.number};r_.defaultProps={disabledDate:wf,monthCycled:!1,yearCycled:!1,noBackBtn:!1,onSelect:j,type:"month"};const hs=we.PREFIX;class ZC extends xe{constructor(e){super(e),this.cacheRefCurrent=(a,l)=>{typeof a=="string"&&a.length&&this.adapter.setCache(a,l)},this.leftIsYearOrTime=a=>{const{monthLeft:l}=a||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.rightIsYearOrTime=a=>{const{monthRight:l}=a||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.calcScrollListHeight=()=>{const a=this.adapter.getCache(`wrap-${Q.PANEL_TYPE_LEFT}`),l=this.adapter.getCache(`wrap-${Q.PANEL_TYPE_RIGHT}`),u=this.adapter.getCache(`switch-${Q.PANEL_TYPE_LEFT}`),d=this.adapter.getCache(`switch-${Q.PANEL_TYPE_RIGHT}`),h=a&&a.getBoundingClientRect(),f=l&&l.getBoundingClientRect();let g=h&&h.height||0,b=f&&f.height||0;return u&&(g+=u.getBoundingClientRect().height),d&&(b+=d.getBoundingClientRect().height),Math.max(g,b)},this.handleWeeksRowNumChange=(a,l)=>{const u=l===Q.PANEL_TYPE_RIGHT,d=l===Q.PANEL_TYPE_RIGHT,h=this.leftIsYearOrTime()&&this.rightIsYearOrTime();if(this.foundation.isRangeType()&&!h){const f={weeksRowNum:a,currentPanelHeight:this.calcScrollListHeight()};this.setState(f,()=>{(this.leftIsYearOrTime()&&d||this.rightIsYearOrTime()&&u)&&this.reselect()})}},this.reselect=()=>{[`timepicker-${Q.PANEL_TYPE_LEFT}`,`timepicker-${Q.PANEL_TYPE_RIGHT}`,`yam-${Q.PANEL_TYPE_LEFT}`,`yam-${Q.PANEL_TYPE_RIGHT}`].forEach(l=>{const u=this.adapter.getCache(l);u&&typeof u.reselect=="function"&&u.reselect()})},this.getYAMOpenType=()=>this.foundation.getYAMOpenType();const t=e.format||ka(e.type),{nowDate:r,nextDate:s}=WF({defaultPickerValue:e.defaultPickerValue,format:t,dateFnsLocale:e.dateFnsLocale}),i={selected:new Set},o={monthLeft:{pickerDate:r,showDate:r,isTimePickerOpen:!1,isYearPickerOpen:!1},monthRight:{pickerDate:s,showDate:s,isTimePickerOpen:!1,isYearPickerOpen:!1},maxWeekNum:0,hoverDay:"",rangeStart:e.rangeStart,rangeEnd:"",currentPanelHeight:0,offsetRangeStart:"",offsetRangeEnd:""};this.state=Object.assign(Object.assign({},i),o),this.foundation=new _fe(this.adapter)}get dateAdapter(){return{updateDaySelected:e=>this.setState({selected:e})}}get rangeAdapter(){return{setRangeStart:e=>this.setState({rangeStart:e}),setRangeEnd:e=>this.setState({rangeEnd:e}),setHoverDay:e=>this.setState({hoverDay:e}),setWeeksHeight:e=>this.setState({maxWeekNum:e}),setOffsetRangeStart:e=>this.setState({offsetRangeStart:e}),setOffsetRangeEnd:e=>this.setState({offsetRangeEnd:e})}}get adapter(){return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),this.dateAdapter),this.rangeAdapter),{updateMonthOnLeft:e=>this.setState({monthLeft:e}),updateMonthOnRight:e=>this.setState({monthRight:e}),notifySelectedChange:(e,t)=>this.props.onChange(e,t),notifyMaxLimit:e=>this.props.onMaxSelect(e),notifyPanelChange:(e,t)=>this.props.onPanelChange(e,t),setRangeInputFocus:e=>this.props.setRangeInputFocus(e),isAnotherPanelHasOpened:e=>this.props.isAnotherPanelHasOpened(e)})}componentDidMount(){super.componentDidMount()}componentDidUpdate(e,t){const{defaultValue:r,defaultPickerValue:s}=this.props;if(e.defaultValue!==r&&this.foundation.updateSelectedFromProps(r),e.defaultPickerValue!==s&&this.foundation.initDefaultPickerValue(),this.foundation.isRangeType()){const o=this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),a=this.leftIsYearOrTime(t)&&!this.rightIsYearOrTime(t)||!this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),l=this.leftIsYearOrTime()&&this.rightIsYearOrTime(),u=this.leftIsYearOrTime()&&!this.rightIsYearOrTime()||!this.leftIsYearOrTime()&&this.rightIsYearOrTime();a&&l?this.setState({currentPanelHeight:this.calcScrollListHeight()},this.reselect):o&&u&&this.reselect()}}renderPanel(e,t){let r=$(`${hs}-month-grid-${t}`);const{monthLeft:s,monthRight:i,currentPanelHeight:o}=this.state,{insetInput:a}=this.props,l=t===Q.PANEL_TYPE_RIGHT?i:s,{isTimePickerOpen:u,isYearPickerOpen:d}=l,h=this.renderMonth(e,t),f=d?m.createElement("div",{className:`${hs}-yam`},this.renderYearAndMonth(t,l)):null,g=u?m.createElement("div",{className:`${hs}-tpk`},this.renderTimePicker(t,l)):null,b={},y=this.adapter.getCache(`wrap-${Q.PANEL_TYPE_LEFT}`),_=this.adapter.getCache(`wrap-${Q.PANEL_TYPE_RIGHT}`),v=t===Q.PANEL_TYPE_RIGHT?_:y;this.foundation.isRangeType()?((d||u)&&(b.minWidth=v.getBoundingClientRect().width),this.leftIsYearOrTime()&&this.rightIsYearOrTime()&&!a&&(b.minHeight=o||this.calcScrollListHeight())):this.props.type!=="year"&&this.props.type!=="month"&&(u||d)&&(r=$(r,`${hs}-yam-showing`));const w=!(d||u)?"date":d?"year":"time";return m.createElement("div",{className:r,key:t,style:b,"x-open-type":w},f,g,this.foundation.isRangeType()?h:d||u?null:h,this.renderSwitch(t))}showYearPicker(e,t){t.nativeEvent.stopImmediatePropagation(),this.foundation.showYearPicker(e)}renderMonth(e,t){const{selected:r,rangeStart:s,rangeEnd:i,hoverDay:o,maxWeekNum:a,offsetRangeStart:l,offsetRangeEnd:u}=this.state,{weekStartsOn:d,disabledDate:h,locale:f,localeCode:g,renderDate:b,renderFullDate:y,startDateOffset:_,endDateOffset:v,density:E,rangeInputFocus:w,syncSwitchMonth:S,multiple:O}=this.props;let x="";if(e){const k=e?ct(e,"yyyy"):"",M=e?ct(e,"L"):"",N=f.months[M];x=f.monthText.replace("${year}",k).replace("${month}",N)}let I={};const T=t===Q.PANEL_TYPE_RIGHT?this.state.monthRight:this.state.monthLeft,P=this.foundation.isRangeType(),A=P&&S;return P&&T&&(T.isYearPickerOpen||T.isTimePickerOpen)&&(I={visibility:"hidden",position:"absolute",pointerEvents:"none"}),m.createElement("div",{ref:k=>this.cacheRefCurrent(`wrap-${t}`,k),style:I},m.createElement(qC,{forwardRef:k=>this.cacheRefCurrent(`nav-${t}`,k),monthText:x,density:E,onMonthClick:k=>this.showYearPicker(t,k),onPrevMonth:()=>this.foundation.prevMonth(t),onNextMonth:()=>this.foundation.nextMonth(t),onNextYear:()=>this.foundation.nextYear(t),onPrevYear:()=>this.foundation.prevYear(t),shouldBimonthSwitch:A,panelType:t}),m.createElement(XC,{locale:f,localeCode:g,forwardRef:k=>this.cacheRefCurrent(`month-${t}`,k),disabledDate:h,weekStartsOn:d,month:e,selected:r,rangeStart:s,rangeEnd:i,rangeInputFocus:w,offsetRangeStart:l,offsetRangeEnd:u,hoverDay:o,weeksRowNum:a,renderDate:b,renderFullDate:y,onDayClick:k=>this.foundation.handleDayClick(k,t),onDayHover:k=>this.foundation.handleDayHover(k,t),onWeeksRowNumChange:k=>this.handleWeeksRowNumChange(k,t),startDateOffset:_,endDateOffset:v,focusRecordsRef:this.props.focusRecordsRef,multiple:O}))}renderTimePicker(e,t){const{type:r,locale:s,format:i,hideDisabledOptions:o,timePickerOpts:a,dateFnsLocale:l}=this.props,{pickerDate:u}=t,d=$(`${hs}-time`),h=Object.assign(Object.assign({},a),{hideDisabledOptions:o}),f=this.foundation.calcDisabledTime(e);f&&["disabledHours","disabledMinutes","disabledSeconds"].forEach(w=>{f[w]&&(h[w]=f[w])});const{rangeStart:g,rangeEnd:b}=this.state,y=this.foundation.getValidDateFormat();let _,v;r==="dateTimeRange"&&g&&b&&_C(_=an(g,y,void 0,l),v=an(b,y,void 0,l))&&(e===Q.PANEL_TYPE_RIGHT?g&&(h.startDate=_):b&&(h.endDate=v));const E=s.selectTime;return m.createElement("div",{className:d},m.createElement(Rf,Object.assign({ref:w=>this.cacheRefCurrent(`timepicker-${e}`,w),panelHeader:E,format:i||Q.FORMAT_TIME_PICKER,timeStampValue:u,onChange:w=>this.foundation.handleTimeChange(w,e)},h)))}renderYearAndMonth(e,t){const{pickerDate:r}=t,{locale:s,localeCode:i,density:o,yearAndMonthOpts:a,startYear:l,endYear:u}=this.props,d=r.getFullYear(),h=r.getMonth()+1;return m.createElement(r_,{ref:f=>this.cacheRefCurrent(`yam-${e}`,f),locale:s,localeCode:i,currentYear:{left:d,right:0},currentMonth:{left:h,right:0},onSelect:f=>this.foundation.toYearMonth(e,new Date(f.currentYear.left,f.currentMonth.left-1)),onBackToMain:()=>{this.foundation.showDatePanel(e);const f=this.adapter.getCache(`wrap-${e}`);f&&(f.style.height="auto")},density:o,yearAndMonthOpts:a,startYear:l,endYear:u})}renderSwitch(e){const{rangeStart:t,rangeEnd:r,monthLeft:s,monthRight:i}=this.state,{type:o,locale:a,disabledTimePicker:l,density:u,dateFnsLocale:d,insetInput:h}=this.props;if(!o.includes("Time")||h)return null;let f,g;const{FORMAT_SWITCH_DATE:b}=a.localeFormatToken,y=this.foundation.getValidTimeFormat(),_=this.foundation.getValidDateFormat();e===Q.PANEL_TYPE_LEFT?(f=s,g=t?ct(an(t,_,void 0,d),b):""):(f=i,g=r?ct(an(r,_,void 0,d),b):"");const{isTimePickerOpen:v,showDate:E}=f,w=E?ct(E,b):"",S=E?ct(E,y):"",O=["default"].includes(u),x=$(`${hs}-switch`),I=$({[`${hs}-switch-date`]:!0,[`${hs}-switch-date-active`]:!v}),T=$({[`${hs}-switch-time`]:!0,[`${hs}-switch-time-disabled`]:l,[`${hs}-switch-date-active`]:v}),P=$(`${hs}-switch-text`);return m.createElement("div",{className:x,ref:A=>this.adapter.setCache(`switch-${e}`,A)},m.createElement("div",{role:"button","aria-label":"Switch to date panel",className:I,onClick:A=>this.foundation.showDatePanel(e)},O&&m.createElement(u$,{"aria-hidden":!0}),m.createElement("span",{className:P},g||w)),m.createElement("div",{role:"button","aria-label":"Switch to time panel",className:T,onClick:A=>this.foundation.showTimePicker(e,!0)},O&&m.createElement(h$,{"aria-hidden":!0}),m.createElement("span",{className:P},S)))}render(){const{monthLeft:e,monthRight:t}=this.state,{type:r,insetInput:s,presetPosition:i,renderQuickControls:o,renderDateInput:a}=this.props,l=$({[`${hs}-month-grid`]:!0}),u=Q.PANEL_TYPE_LEFT,d=Q.PANEL_TYPE_RIGHT;let h=null;r==="date"||r==="dateTime"?h=this.renderPanel(e.pickerDate,u):r==="dateRange"||r==="dateTimeRange"?h=[this.renderPanel(e.pickerDate,u),this.renderPanel(t.pickerDate,d)]:(r==="year"||r==="month")&&(h="year month");const f=this.getYAMOpenType();return m.createElement("div",{style:{display:"flex"}},i==="left"&&o,m.createElement("div",null,a,m.createElement("div",{className:l,"x-type":r,"x-panel-yearandmonth-open-type":f,"x-insetinput":s?"true":"false","x-preset-position":o===null?"null":i,ref:g=>this.cacheRefCurrent("monthGrid",g)},h)),i==="right"&&o)}}ZC.propTypes={type:c.oneOf(Q.TYPE_SET),defaultValue:c.array,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),multiple:c.bool,max:c.number,weekStartsOn:c.number,disabledDate:c.func,disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,navPrev:c.node,navNext:c.node,onMaxSelect:c.func,timePickerOpts:c.object,isControlledComponent:c.bool,rangeStart:c.oneOfType([c.string]),rangeInputFocus:c.oneOfType([c.bool,c.string]),locale:c.object,localeCode:c.string,format:c.string,renderDate:c.func,renderFullDate:c.func,startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,density:c.string,dateFnsLocale:c.object.isRequired,timeZone:c.oneOfType([c.string,c.number]),syncSwitchMonth:c.bool,onPanelChange:c.func,focusRecordsRef:c.object,triggerRender:c.func,presetPosition:c.oneOf(Q.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node};ZC.defaultProps={type:"date",rangeStart:"",multiple:!1,weekStartsOn:Xc.WEEK_START_ON,disabledDate:wf,onMaxSelect:j,locale:{}};const Wr=we.PREFIX,{Text:oge}=is;class JC extends D.PureComponent{render(){const{presets:e,onPresetClick:t,type:r,presetPosition:s,insetInput:i,locale:o}=this.props,a=r==="dateRange"||r==="dateTimeRange",l=s==="top"||s==="bottom",u=r==="month",d=l&&a,h=l&&u,f=$(`${Wr}-quick-control`,{[`${Wr}-quick-control-${r}`]:r,[`${Wr}-quick-control-${s}`]:!0}),g=$({[`${Wr}-quick-control-header`]:!0}),b=$({[`${Wr}-quick-control-${s}-content-wrapper`]:!0}),y=$({[`${Wr}-quick-control-${s}-content`]:!d&&!h,[`${Wr}-quick-control-${s}-range-content`]:d,[`${Wr}-quick-control-${s}-month-content`]:h}),_=$({[`${Wr}-quick-control-${s}-content-item`]:!d&&!h,[`${Wr}-quick-control-${s}-range-content-item`]:d,[`${Wr}-quick-control-${s}-month-content-item`]:h}),v=$({[`${Wr}-quick-control-${s}-content-item-ellipsis`]:!d&&!h,[`${Wr}-quick-control-${s}-range-content-item-ellipsis`]:d,[`${Wr}-quick-control-${s}-month-content-item-ellipsis`]:h});return e.length?m.createElement("div",{className:f,"x-insetinput":i?"true":"false"},!l&&m.createElement("div",{className:g},o.presets),m.createElement("div",{className:b},m.createElement("div",{className:y},e.map((E,w)=>{const S=typeof E=="function"?E():E;return m.createElement(ze,{size:"small",type:"primary",onClick:O=>t(S,O),key:w},m.createElement("div",{className:_},m.createElement(oge,{ellipsis:{showTooltip:!0},className:v},S.text)))})))):null}}JC.propTypes={presets:c.array,presetPosition:c.oneOf(Q.PRESET_POSITION_SET),onPresetClick:c.func,type:c.string,insetInput:c.oneOfType([c.bool,c.object]),locale:c.object};JC.defaultProps={presets:[],presetPosition:"bottom",onPresetClick:Dt};function age(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:e,locale:t,onCancelClick:r,onConfirmClick:s}=n,i=$(`${e}-footer`);return m.createElement("div",{className:i},m.createElement(ze,{theme:"borderless",onClick:r},Z(t,"footer.cancel","")),m.createElement(ze,{theme:"solid",onClick:s},Z(t,"footer.confirm","")))}var lge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let su=class extends xe{constructor(e){var t;super(e),t=this,this.setTriggerRef=r=>this.triggerElRef.current=r,this.handleSelectedChange=(r,s)=>this.foundation.handleSelectedChange(r,s),this.handleYMSelectedChange=r=>this.foundation.handleYMSelectedChange(r),this.disabledDisposeDate=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return t.foundation.disabledDisposeDate(r,...i)},this.disabledDisposeTime=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return t.foundation.disabledDisposeTime(r,...i)},this.handleOpenPanel=()=>this.foundation.openPanel(),this.handleInputChange=function(){return t.foundation.handleInputChange(...arguments)},this.handleInsetInputChange=r=>this.foundation.handleInsetInputChange(r),this.handleInputComplete=r=>this.foundation.handleInputComplete(r),this.handleInputBlur=r=>this.foundation.handleInputBlur(Z(r,"nativeEvent.target.value"),r),this.handleInputFocus=function(){return t.foundation.handleInputFocus(...arguments)},this.handleInputClear=r=>this.foundation.handleInputClear(r),this.handleTriggerWrapperClick=r=>this.foundation.handleTriggerWrapperClick(r),this.handleSetRangeFocus=r=>this.foundation.handleSetRangeFocus(r),this.handleRangeInputBlur=(r,s)=>this.foundation.handleRangeInputBlur(r,s),this.handleRangeInputClear=r=>this.foundation.handleRangeInputClear(r),this.handleRangeEndTabPress=r=>this.foundation.handleRangeEndTabPress(r),this.isAnotherPanelHasOpened=r=>r==="rangeStart"?this.focusRecordsRef.current.rangeEnd:this.focusRecordsRef.current.rangeStart,this.handleInsetDateFocus=(r,s)=>{const i=Z(this,"monthGrid.current.foundation");i&&(i.showDatePanel(Q.PANEL_TYPE_LEFT),i.showDatePanel(Q.PANEL_TYPE_RIGHT)),this.handleInputFocus(r,s)},this.handleInsetTimeFocus=()=>{const r=Z(this,"monthGrid.current.foundation");r&&(r.showTimePicker(Q.PANEL_TYPE_LEFT),r.showTimePicker(Q.PANEL_TYPE_RIGHT))},this.handlePanelVisibleChange=r=>{this.foundation.handlePanelVisibleChange(r)},this.handleConfirm=r=>this.foundation.handleConfirm(),this.handleCancel=r=>this.foundation.handleCancel(),this.renderFooter=(r,s)=>this.adapter.needConfirm()?m.createElement(age,Object.assign({},this.props,{locale:r,localeCode:s,onConfirmClick:this.handleConfirm,onCancelClick:this.handleCancel})):null,this.renderPanel=(r,s,i)=>{const{dropdownClassName:o,dropdownStyle:a,density:l,topSlot:u,bottomSlot:d,presetPosition:h,type:f,leftSlot:g,rightSlot:b}=this.props,y=$(we.PREFIX,{[we.PANEL_YAM]:this.adapter.typeIsYearOrMonth(),[`${we.PREFIX}-compact`]:l==="compact"},o);return m.createElement("div",{ref:this.panelRef,className:y,style:a,"x-type":f},m.createElement("div",{className:`${we.PREFIX}-container`},g&&m.createElement("div",{className:`${we.PREFIX}-leftSlot`,"x-semi-prop":"leftSlot"},g),m.createElement("div",null,u&&m.createElement("div",{className:`${we.PREFIX}-topSlot`,"x-semi-prop":"topSlot"},u),h==="top"&&f!=="monthRange"&&this.renderQuickControls(),this.adapter.typeIsYearOrMonth()?this.renderYearMonthPanel(r,s):this.renderMonthGrid(r,s,i),h==="bottom"&&f!=="monthRange"&&this.renderQuickControls(),d&&m.createElement("div",{className:`${we.PREFIX}-bottomSlot`,"x-semi-prop":"bottomSlot"},d)),b&&m.createElement("div",{className:`${we.PREFIX}-rightSlot`,"x-semi-prop":"rightSlot"},b)),this.renderFooter(r,s))},this.renderYearMonthPanel=(r,s)=>{const{density:i,presetPosition:o,yearAndMonthOpts:a,type:l,startYear:u,endYear:d}=this.props,h=this.state.value[0],f={left:0,right:0},g={left:0,right:0};if(AR(h)&&(f.left=h.getFullYear(),g.left=h.getMonth()+1),l==="monthRange"){const b=this.state.value[1];AR(b)&&(f.right=b.getFullYear(),g.right=b.getMonth()+1)}return m.createElement(r_,{locale:r,localeCode:s,disabledDate:this.disabledDisposeDate,noBackBtn:!0,monthCycled:!0,onSelect:this.handleYMSelectedChange,currentYear:f,currentMonth:g,density:i,presetPosition:o,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),type:l,yearAndMonthOpts:a,startYear:u,endYear:d})},this.wrapPopover=r=>{const{panelShow:s}=this.state,{direction:i}=this.context,o=i==="rtl"?"bottomRight":"bottomLeft",{motion:a,zIndex:l,position:u=o,getPopupContainer:d,locale:h,localeCode:f,dateFnsLocale:g,stopPropagation:b,autoAdjustOverflow:y,spacing:_,dropdownMargin:v}=this.props;return m.createElement(xr,{getPopupContainer:d,autoAdjustOverflow:y,zIndex:l,motion:a,margin:v,content:this.renderPanel(h,f,g),trigger:"custom",position:u,visible:s,stopPropagation:b,spacing:_,onVisibleChange:this.handlePanelVisibleChange},r)},this.state={panelShow:e.open||e.defaultOpen,isRange:!1,inputValue:null,value:[],cachedSelectedValue:[],prevTimeZone:null,rangeInputFocus:void 0,autofocus:e.autoFocus||this.isRangeType(e.type,e.triggerRender)&&(e.open||e.defaultOpen),insetInputValue:null,triggerDisabled:void 0},this.triggerElRef=m.createRef(),this.panelRef=m.createRef(),this.monthGrid=m.createRef(),this.inputRef=m.createRef(),this.rangeInputStartRef=m.createRef(),this.rangeInputEndRef=m.createRef(),this.focusRecordsRef=m.createRef(),this.focusRecordsRef.current={rangeStart:!1,rangeEnd:!1},this.foundation=new khe(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:(t,r)=>{this.setState({panelShow:t},r),t||(this.focusRecordsRef.current.rangeEnd=!1,this.focusRecordsRef.current.rangeStart=!1)},registerClickOutSide:()=>{this.clickOutSideHandler&&(this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=null),this.clickOutSideHandler=t=>{const r=this.triggerElRef&&this.triggerElRef.current,s=this.panelRef&&this.panelRef.current,i=t.target,o=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(o.includes(r)||o.includes(s))&&(this.props.onClickOutSide(t),this.adapter.needConfirm()||this.foundation.closePanel())},document.addEventListener("mousedown",this.clickOutSideHandler)},unregisterClickOutSide:()=>{document.removeEventListener("mousedown",this.clickOutSideHandler)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyCancel:function(){return e.props.onCancel(...arguments)},notifyConfirm:function(){return e.props.onConfirm(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyPresetsClick:function(){return e.props.onPresetClick(...arguments)},updateValue:t=>this.setState({value:t}),updatePrevTimezone:t=>this.setState({prevTimeZone:t}),updateCachedSelectedValue:t=>{let r=t;t&&!Array.isArray(t)&&(r=[...t]),this.setState({cachedSelectedValue:r})},updateInputValue:t=>{this.setState({inputValue:t})},updateInsetInputValue:t=>{const{insetInput:r}=this.props;r&&!je(t,this.state.insetInputValue)&&this.setState({insetInputValue:t})},needConfirm:()=>["dateTime","dateTimeRange"].includes(this.props.type)&&this.props.needConfirm===!0,typeIsYearOrMonth:()=>["month","year","monthRange"].includes(this.props.type),setRangeInputFocus:t=>{const{preventScroll:r}=this.props;switch(t!==this.state.rangeInputFocus&&this.setState({rangeInputFocus:t}),t){case"rangeStart":const s=Z(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeStart=!0},0);break;case"rangeEnd":const i=Z(this,"rangeInputEndRef.current");i&&i.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeEnd=!0},0);break;default:return}},couldPanelClosed:()=>this.focusRecordsRef.current.rangeStart&&this.focusRecordsRef.current.rangeEnd,isEventTarget:t=>t&&t.target===t.currentTarget,setInsetInputFocus:()=>{const{preventScroll:t}=this.props,{rangeInputFocus:r}=this.state;switch(r){case"rangeEnd":if(document.activeElement!==this.rangeInputEndRef.current){const s=Z(this,"rangeInputEndRef.current");s&&s.focus({preventScroll:t})}break;case"rangeStart":default:if(document.activeElement!==this.rangeInputStartRef.current){const s=Z(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:t})}break}},setInputFocus:()=>{const{preventScroll:t}=this.props,r=Z(this,"inputRef.current");r&&r.focus({preventScroll:t})},setInputBlur:()=>{const t=Z(this,"inputRef.current");t&&t.blur()},setRangeInputBlur:()=>{const{rangeInputFocus:t}=this.state;if(t==="rangeStart"){const r=Z(this,"rangeInputStartRef.current");r&&r.blur()}else if(t==="rangeEnd"){const r=Z(this,"rangeInputEndRef.current");r&&r.blur()}this.adapter.setRangeInputFocus(!1)},setTriggerDisabled:t=>{this.setState({triggerDisabled:t})}})}isRangeType(e,t){return/range/i.test(e)&&!De(t)}componentDidUpdate(e){je(e.value,this.props.value)?this.props.timeZone!==e.timeZone&&this.foundation.initFromProps({value:this.state.value,timeZone:this.props.timeZone,prevTimeZone:e.timeZone}):this.foundation.initFromProps(Object.assign({},this.props)),e.open!==this.props.open&&(this.foundation.initPanelOpenStatus(),this.props.open||this.foundation.clearRangeInputFocus())}componentDidMount(){this._mounted=!0,super.componentDidMount()}componentWillUnmount(){this._mounted=!1,super.componentWillUnmount()}open(){this.foundation.open()}close(){this.foundation.close()}focus(e){this.foundation.focus(e)}blur(){this.foundation.blur()}renderMonthGrid(e,t,r){const{type:s,multiple:i,max:o,weekStartsOn:a,timePickerOpts:l,defaultPickerValue:u,format:d,hideDisabledOptions:h,disabledTimePicker:f,renderDate:g,renderFullDate:b,startDateOffset:y,endDateOffset:_,autoSwitchDate:v,density:E,syncSwitchMonth:w,onPanelChange:S,timeZone:O,triggerRender:x,insetInput:I,presetPosition:T,yearAndMonthOpts:P,startYear:A,endYear:k}=this.props,{cachedSelectedValue:M,rangeInputFocus:N}=this.state,W=M;return m.createElement(ZC,{ref:this.monthGrid,locale:e,localeCode:t,dateFnsLocale:r,weekStartsOn:a,type:s,multiple:i,max:o,format:d,disabledDate:this.disabledDisposeDate,hideDisabledOptions:h,disabledTimePicker:f,disabledTime:this.disabledDisposeTime,defaultValue:W,defaultPickerValue:u,timePickerOpts:l,isControlledComponent:!this.adapter.needConfirm()&&this.isControlled("value"),onChange:this.handleSelectedChange,renderDate:g,renderFullDate:b,startDateOffset:y,endDateOffset:_,autoSwitchDate:v,density:E,rangeInputFocus:N,setRangeInputFocus:this.handleSetRangeFocus,isAnotherPanelHasOpened:this.isAnotherPanelHasOpened,syncSwitchMonth:w,onPanelChange:S,timeZone:O,focusRecordsRef:this.focusRecordsRef,triggerRender:x,insetInput:I,presetPosition:T,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),yearAndMonthOpts:P,startYear:A,endYear:k})}renderQuickControls(){const{presets:e,type:t,presetPosition:r,insetInput:s,locale:i}=this.props;return m.createElement(JC,{type:t,presets:e,insetInput:s,presetPosition:r,onPresetClick:(o,a)=>this.foundation.handlePresetClick(o,a),locale:i})}renderDateInput(){const{insetInput:e,dateFnsLocale:t,density:r,type:s,format:i,rangeSeparator:o,defaultPickerValue:a}=this.props,{insetInputValue:l,value:u}=this.state,d={dateFnsLocale:t,format:i,insetInputValue:l,rangeSeparator:o,type:s,value:u,handleInsetDateFocus:this.handleInsetDateFocus,handleInsetTimeFocus:this.handleInsetTimeFocus,onInsetInputChange:this.handleInsetInputChange,rangeInputStartRef:this.rangeInputStartRef,rangeInputEndRef:this.rangeInputEndRef,density:r,defaultPickerValue:a};return e?m.createElement(xv,Object.assign({},d,{insetInput:e})):null}renderInner(e){const{clearIcon:t,type:r,format:s,multiple:i,disabled:o,showClear:a,insetLabel:l,insetLabelId:u,placeholder:d,validateStatus:h,inputStyle:f,prefix:g,locale:b,dateFnsLocale:y,triggerRender:_,size:v,inputReadOnly:E,rangeSeparator:w,insetInput:S,defaultPickerValue:O,borderless:x}=this.props,{value:I,inputValue:T,rangeInputFocus:P,triggerDisabled:A}=this.state,k=this.isRangeType(r,_),M=o||S&&A,N=$(`${we.PREFIX}-input`,{[`${we.PREFIX}-range-input`]:k,[`${we.PREFIX}-range-input-${v}`]:k&&v,[`${we.PREFIX}-range-input-active`]:k&&P&&!M,[`${we.PREFIX}-range-input-disabled`]:k&&M,[`${we.PREFIX}-range-input-${h}`]:k&&h,[`${we.PREFIX}-borderless`]:x}),W=d||b.placeholder[r],q=Object.assign(Object.assign({},e),{showClearIgnoreDisabled:!!S,placeholder:W,clearIcon:t,disabled:M,inputValue:T,value:I,defaultPickerValue:O,onChange:this.handleInputChange,onEnterPress:this.handleInputComplete,block:!0,inputStyle:f,showClear:a,insetLabel:l,insetLabelId:u,type:r,format:s,multiple:i,validateStatus:h,inputReadOnly:E||!!S,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onClear:this.handleInputClear,prefix:g,size:v,autofocus:this.state.autofocus,dateFnsLocale:y,rangeInputFocus:P,rangeSeparator:w,onRangeBlur:this.handleRangeInputBlur,onRangeClear:this.handleRangeInputClear,onRangeEndTabPress:this.handleRangeEndTabPress,rangeInputStartRef:S?null:this.rangeInputStartRef,rangeInputEndRef:S?null:this.rangeInputEndRef,inputRef:this.inputRef});return m.createElement("div",{role:"combobox","aria-label":Array.isArray(I)&&I.length?"Change date":"Choose date","aria-disabled":o,onClick:this.handleTriggerWrapperClick,className:N},typeof _=="function"?m.createElement(Tu,Object.assign({},q,{triggerRender:_,componentName:"DatePicker",componentProps:Object.assign({},this.props)})):m.createElement(xv,Object.assign({},q)))}render(){const e=this.props,{style:t,className:r,prefixCls:s,type:i}=e,o=lge(e,["style","className","prefixCls","type"]),a=Object.assign({style:t,className:$(r,{[s]:!0}),ref:this.setTriggerRef,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(o)),l=[];i.toLowerCase().includes("range")||l.push("borderless");const u=this.renderInner(ru(this.props,l)),d=this.wrapPopover(u);return m.createElement("div",Object.assign({},a),d)}};su.contextType=Vr;su.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,type:c.oneOf(Q.TYPE_SET),size:c.oneOf(Q.SIZE_SET),clearIcon:c.node,density:c.oneOf(Q.DENSITY_SET),defaultValue:c.oneOfType([c.string,c.number,c.object,c.array]),value:c.oneOfType([c.string,c.number,c.object,c.array]),defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,format:c.string,disabled:c.bool,multiple:c.bool,max:c.number,placeholder:c.oneOfType([c.string,c.array]),presets:c.array,presetPosition:c.oneOf(Q.PRESET_POSITION_SET),onChange:c.func,onChangeWithDateFirst:c.bool,weekStartsOn:c.number,disabledDate:c.func,timePickerOpts:c.object,showClear:c.bool,onOpenChange:c.func,open:c.bool,defaultOpen:c.bool,motion:c.oneOfType([c.bool,c.func,c.object]),className:c.string,prefixCls:c.string,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,position:c.oneOf(Hl.POSITION_SET),getPopupContainer:c.func,onCancel:c.func,onConfirm:c.func,needConfirm:c.bool,inputStyle:c.object,timeZone:c.oneOfType([c.string,c.number]),triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),autoAdjustOverflow:c.bool,onBlur:c.func,onFocus:c.func,onClear:c.func,style:c.object,autoFocus:c.bool,inputReadOnly:c.bool,validateStatus:c.oneOf(Q.STATUS),renderDate:c.func,renderFullDate:c.func,spacing:c.oneOfType([c.number,c.object]),startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),topSlot:c.node,bottomSlot:c.node,dateFnsLocale:c.object,syncSwitchMonth:c.bool,onPanelChange:c.func,rangeSeparator:c.string,preventScroll:c.bool,yearAndMonthOpts:c.object,onClickOutSide:c.func};su.__SemiComponentName__="DatePicker";su.defaultProps=Ps(su.__SemiComponentName__,{onChangeWithDateFirst:!0,borderless:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,prefixCls:we.PREFIX,presetPosition:"bottom",zIndex:Ss.DEFAULT_Z_INDEX,type:"date",size:"default",density:"default",multiple:!1,defaultOpen:!1,disabledHours:j,disabledMinutes:j,disabledSeconds:j,hideDisabledOptions:!1,onBlur:j,onFocus:j,onClear:j,onCancel:j,onConfirm:j,onChange:j,onOpenChange:j,onPanelChange:j,onPresetClick:j,weekStartsOn:Xc.WEEK_START_ON,disabledDate:wf,disabledTime:wf,inputReadOnly:!1,spacing:Xc.SPACING,autoSwitchDate:!0,syncSwitchMonth:!1,rangeSeparator:Q.DEFAULT_SEPARATOR_RANGE,insetInput:!1,onClickOutSide:j});const uge=xF(m.forwardRef((n,e)=>{const t=Object.assign({},n),{type:r,format:s,rangeSeparator:i}=t;return typeof s=="string"&&s&&(/[Hhms]+/.test(s)||(r==="dateTime"?t.type="date":r==="dateTimeRange"&&(t.type="dateRange"))),i&&typeof i=="string"&&(t.rangeSeparator=` ${i.trim()} `),t.insetInput&&(t.position||(t.position=Q.POSITION_INLINE_INPUT),t.position.includes("Over")&&!t.spacing&&(t.spacing=Xc.SPACING_INSET_INPUT)),m.createElement(Vr.Consumer,null,o=>{let{timeZone:a}=o;return m.createElement(Pn,{componentName:"DatePicker"},(l,u,d)=>m.createElement(su,Object.assign({timeZone:a,localeCode:u,locale:l,dateFnsLocale:d},t,{ref:e})))})}),su),pt={DIALOG:`${G}-modal`},GR={cancelKey:"cancel",confirmKey:"confirm",SIZE:["small","medium","large","full-width"],directions:["ltr","rtl"]};function cge(n){return n!==null&&typeof n=="object"}function Af(n){return cge(n)&&typeof n.then=="function"}class dge extends Ne{constructor(e){super(Object.assign({},e)),this.toggleDisplayNone=(t,r)=>{this._adapter.toggleDisplayNone(t,r)}}destroy(){this.afterHide()}handleCancel(e){var t;const r=this._adapter.notifyCancel(e);Af(r)&&(this._adapter.setState({onCancelReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onCancelReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(s=>{throw this._adapter.setState({onCancelReturnPromiseStatus:"rejected"}),s}))}handleOk(e){var t;const r=this._adapter.notifyOk(e);Af(r)&&(this._adapter.setState({onOKReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onOKReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(s=>{throw this._adapter.setState({onOKReturnPromiseStatus:"rejected"}),s}))}beforeShow(){this._adapter.disabledBodyScroll()}afterHide(){this._adapter.enabledBodyScroll(),this._adapter.notifyClose()}enabledBodyScroll(){this._adapter.enabledBodyScroll()}}class eT extends Ne{constructor(e){super(Object.assign(Object.assign({},eT.defaultAdapter),e)),this.handleKeyDown=t=>{const{closeOnEsc:r}=this.getProps();if(r&&t.keyCode===Yn.ESC){t.stopPropagation(),this.close(t);return}}}destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){const{dialogMouseDown:t}=this.getStates();e.target===e.currentTarget&&!t&&this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}}var hge=$$,fge=oC,pge=sC,gge=fge(function(n,e){return pge(n)?hge(n,e):[]}),mge=gge;const vge=Ce(mge);class Na{constructor(e,t){var r;this.addFocusRedirectListener=s=>(this.focusRedirectListenerList.push(s),()=>this.removeFocusRedirectListener(s)),this.removeFocusRedirectListener=s=>{this.focusRedirectListenerList=vge(this.focusRedirectListenerList,s)},this.destroy=()=>{var s;(s=this.container)===null||s===void 0||s.removeEventListener("keydown",this.onKeyPress)},this.shouldFocusRedirect=s=>{if(!this.enable)return!1;for(const i of this.focusRedirectListenerList)if(!i(s))return!1;return!0},this.focusElement=(s,i)=>{const{preventScroll:o}=this.options;s==null||s.focus({preventScroll:o}),i.preventDefault()},this.onKeyPress=s=>{if(s&&s.key==="Tab"){const i=Na.getFocusableElements(this.container);i.length&&(s.shiftKey?this.handleContainerShiftTabKeyDown(i,s):this.handleContainerTabKeyDown(i,s))}},this.handleContainerTabKeyDown=(s,i)=>{const o=Na.getActiveElement(),a=s[s.length-1]===o,l=s[0];a&&this.shouldFocusRedirect(l)&&this.focusElement(l,i)},this.handleContainerShiftTabKeyDown=(s,i)=>{const o=Na.getActiveElement(),a=s[0]===o,l=s[s.length-1];a&&this.shouldFocusRedirect(l)&&this.focusElement(l,i)},Object.freeze(t),this.container=e,this.options=t,this.enable=(r=t==null?void 0:t.enable)!==null&&r!==void 0?r:!0,this.focusRedirectListenerList=t!=null&&t.onFocusRedirectListener?Array.isArray(t.onFocusRedirectListener)?[...t.onFocusRedirectListener]:[t.onFocusRedirectListener]:[],this.container.addEventListener("keydown",this.onKeyPress)}get enable(){return this._enable}set enable(e){this._enable=e}static getFocusableElements(e){if(!Ze(e))return[];const r=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(r))}static getActiveElement(){return document?document.activeElement:null}}var r0=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let yge=0;class s_ extends xe{constructor(e){super(e),this.onKeyDown=t=>{this.foundation.handleKeyDown(t)},this.onDialogMouseDown=()=>{this.foundation.handleDialogMouseDown()},this.onMaskMouseUp=()=>{this.foundation.handleMaskMouseUp()},this.onMaskClick=t=>{this.foundation.handleMaskClick(t)},this.close=t=>{this.foundation.close(t)},this.getMaskElement=()=>{const t=r0(this.props,[]),{mask:r,maskClassName:s}=t;if(r){const i=$(`${pt.DIALOG}-mask`,{});return m.createElement("div",Object.assign({key:"mask"},this.props.maskExtraProps,{className:$(i,s),style:t.maskStyle}))}return null},this.renderCloseBtn=()=>{const{closable:t,closeIcon:r}=this.props;let s;if(t){const i=r||m.createElement(Fy,{"x-semi-prop":"closeIcon"});s=m.createElement(qs,{"aria-label":"close",className:`${pt.DIALOG}-close`,key:"close-btn",onClick:this.close,type:"tertiary",icon:i,theme:"borderless",size:"small"})}return s},this.renderIcon=()=>{const{icon:t}=this.props;return t?m.createElement("span",{className:`${pt.DIALOG}-icon-wrapper`,"x-semi-prop":"icon"},t):null},this.renderHeader=()=>{if("header"in this.props)return this.props.header;const{title:t}=this.props,r=this.renderCloseBtn(),s=this.renderIcon();return t==null?null:m.createElement("div",{className:`${pt.DIALOG}-header`},s,m.createElement(is.Title,{heading:5,className:`${pt.DIALOG}-title`,id:`${pt.DIALOG}-title`,"x-semi-prop":"title"},t),r)},this.renderBody=()=>{const{bodyStyle:t,children:r,title:s}=this.props,i=$(`${pt.DIALOG}-body`,{[`${pt.DIALOG}-withIcon`]:this.props.icon}),o=this.renderCloseBtn(),a=this.renderIcon();return s!=null||"header"in this.props?m.createElement("div",{className:i,id:`${pt.DIALOG}-body`,style:t,"x-semi-prop":"children"},r):m.createElement("div",{className:`${pt.DIALOG}-body-wrapper`},a,m.createElement("div",{className:i,style:t,"x-semi-prop":"children"},r),o)},this.getDialogElement=()=>{const t=r0(this.props,[]),r={},s=$(`${pt.DIALOG}`,{[`${pt.DIALOG}-centered`]:t.centered,[`${pt.DIALOG}-${t.size}`]:t.size});t.width&&(r.width=t.width),t.height&&(r.height=t.height),t.isFullScreen&&(r.width="100%",r.height="100%",r.margin="unset");const i=this.renderBody(),o=this.renderHeader(),a=t.footer?m.createElement("div",{className:`${pt.DIALOG}-footer`,"x-semi-prop":"footer"},t.footer):null;return m.createElement("div",{key:"dialog-element",className:s,onMouseDown:this.onDialogMouseDown,style:Object.assign(Object.assign({},t.style),r),id:this.dialogId},m.createElement("div",{role:"dialog",ref:this.modalDialogRef,"aria-modal":"true","aria-labelledby":`${pt.DIALOG}-title`,"aria-describedby":`${pt.DIALOG}-body`,onAnimationEnd:t.onAnimationEnd,className:$([`${pt.DIALOG}-content`,t.contentClassName,{[`${pt.DIALOG}-content-fullScreen`]:t.isFullScreen}])},o,i,a))},this.state={dialogMouseDown:!1,prevFocusElement:Na.getActiveElement()},this.foundation=new eT(this.adapter),this.dialogId=`dialog-${yge++}`,this.modalDialogRef=m.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyClose:e=>{this.props.onClose(e)},notifyDialogMouseDown:()=>{this.setState({dialogMouseDown:!0})},notifyDialogMouseUp:()=>{this.state.dialogMouseDown&&(this.timeoutId=setTimeout(()=>{this.setState({dialogMouseDown:!1})},0))},addKeyDownEventListener:()=>{this.props.closeOnEsc&&document.addEventListener("keydown",this.foundation.handleKeyDown)},removeKeyDownEventListener:()=>{this.props.closeOnEsc&&document.removeEventListener("keydown",this.foundation.handleKeyDown)},getMouseState:()=>this.state.dialogMouseDown,modalDialogFocus:()=>{var e,t,r;const{preventScroll:s}=this.props;let i;if(this.modalDialogRef){const o=Na.getActiveElement();i=this.modalDialogRef.current.contains(o),(e=this.focusTrapHandle)===null||e===void 0||e.destroy(),this.focusTrapHandle=new Na(this.modalDialogRef.current,{preventScroll:s})}i||(r=(t=this.modalDialogRef)===null||t===void 0?void 0:t.current)===null||r===void 0||r.focus({preventScroll:s})},modalDialogBlur:()=>{var e,t;(e=this.modalDialogRef)===null||e===void 0||e.current.blur(),(t=this.focusTrapHandle)===null||t===void 0||t.destroy()},prevFocusElementReFocus:()=>{const{prevFocusElement:e}=this.state,{preventScroll:t}=this.props,r=Z(e,"focus");De(r)&&e.focus({preventScroll:t})}})}componentDidMount(){var e;this.foundation.handleKeyDownEventListenerMount(),this.foundation.modalDialogFocus();const t=Na.getFocusableElements(this.modalDialogRef.current);this.modalDialogRef.current.contains(document.activeElement)||(e=t[0])===null||e===void 0||e.focus()}componentWillUnmount(){clearTimeout(this.timeoutId),this.foundation.destroy()}render(){var e;const t=this.props,{maskClosable:r,className:s,getPopupContainer:i,maskFixed:o,getContainerContext:a}=t,l=r0(t,["maskClosable","className","getPopupContainer","maskFixed","getContainerContext"]),{direction:u}=this.context,d=$(s,{[`${pt.DIALOG}-popup`]:i&&i()!==((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body)&&!o,[`${pt.DIALOG}-fixed`]:o,[`${pt.DIALOG}-rtl`]:u==="rtl"}),h=a(),f=this.getDataAttr(l),g=m.createElement("div",Object.assign({className:d},f),this.getMaskElement(),m.createElement("div",Object.assign({role:"none",className:$({[`${pt.DIALOG}-wrap`]:!0,[`${pt.DIALOG}-wrap-center`]:this.props.centered}),onClick:r?this.onMaskClick:null,onMouseUp:r?this.onMaskMouseUp:null},this.props.contentExtraProps),this.getDialogElement()));return h&&h.Provider?m.createElement(h.Provider,{value:h.value},g):g}}s_.contextType=Vr;s_.propTypes={close:c.func,getContainerContext:c.func,contentClassName:c.string,maskClassName:c.string,onAnimationEnd:c.func,preventScroll:c.bool};s_.defaultProps={close:j,getContainerContext:j,contentClassName:"",maskClassName:""};var _ge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const lj=n=>{const[e,t]=D.useState(!0),[r,s]=D.useState(),[i,o]=D.useState(),{direction:a}=n,{title:l,content:u,icon:d,type:h,onCancel:f,onOk:g,className:b}=n,y=_ge(n,["title","content","icon","type","onCancel","onOk","className"]),_=D.useCallback(T=>{const P=g&&g(T);P&&P.then?(s(!0),P.then(function(){t(!1),s(!1)},A=>{s(!1)})):t(!1)},[g]),v=D.useCallback(T=>{const P=f&&f(T);P&&P.then?(o(!0),P.then(function(){t(!1),o(!1)},A=>{o(!1)})):t(!1)},[f]),E=`${pt.DIALOG}-confirm`,w=$(b,E,{[`${E}-rtl`]:a==="rtl"}),S=$(`${pt.DIALOG}-${h}`),O=Cr(d)?m.cloneElement(d,{className:`${E}-icon ${S}-icon`,size:"extra-large"}):d,x=l==null?null:m.createElement("span",{className:`${E}-title-text`},l),I=$(`${E}-content`,{[`${E}-content-withIcon`]:n.icon});return m.createElement(Cs,Object.assign({className:w,title:x,confirmLoading:r,cancelLoading:i,onOk:_,onCancel:v,icon:O,visible:e},y),m.createElement("div",{className:I,"x-semi-prop":"content"},u))};function Pp(n){const e=document.createElement("div");document.body.appendChild(e);let t=Object.assign({},n);const r=()=>{Mr.unmountComponentAtNode(e)&&e.parentNode&&e.parentNode.removeChild(e);for(let l=0;l<kl.length;l++)if(kl[l]===i){kl.splice(l,1);break}};function s(a){const{afterClose:l}=a;Mr.render(m.createElement(lj,Object.assign({},a,{afterClose:function(){l==null||l(...arguments),r()},motion:n.motion})),e)}function i(){t=Object.assign(Object.assign({},t),{visible:!1}),s(t)}function o(a){t=Object.assign(Object.assign({},t),a),s(t)}return s(t),kl.push(i),{destroy:i,update:o}}function uj(n){return Object.assign({type:"info",icon:m.createElement(f$,null)},n)}function cj(n){return Object.assign({type:"success",icon:m.createElement(g$,null)},n)}function dj(n){return Object.assign({type:"warning",icon:m.createElement(CC,null)},n)}function hj(n){return Object.assign({type:"error",icon:m.createElement(Sf,null),okButtonProps:Object.assign({type:"danger"},n.okButtonProps)},cl(n,["okButtonProps"]))}function fj(n){return Object.assign({type:"confirm",icon:m.createElement(iie,null)},n)}var bge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const wge=(n,e)=>{var{afterClose:t,config:r}=n;bge(n,["afterClose","config"]);const[s,i]=m.useState(r);m.useImperativeHandle(e,()=>({destroy:()=>{i(a=>Object.assign(Object.assign({},a),{visible:!1}))},update:a=>{i(l=>Object.assign(Object.assign({},l),a))}}));const o=()=>{var a;(a=r==null?void 0:r.afterClose)===null||a===void 0||a.call(r),t()};return m.createElement(lj,Object.assign({},s,{afterClose:o}))},Ege=m.forwardRef(wge);let YR=0;function Sge(){const[n,e]=m.useState([]);function t(r){return e(s=>[...s,r]),()=>{e(s=>s.filter(i=>i!==r))}}return[n,t]}function Cge(){const[n,e]=Sge();function t(r){return function(i){YR+=1;const o=m.createRef();let a;const l=m.createElement(Ege,{key:`semi-modal-${YR}`,config:r(i),ref:o,afterClose:()=>{a()}});return a=e(l),{destroy:()=>{o.current&&o.current.destroy()},update:u=>{o.current&&o.current.update(u)}}}}return[{info:t(uj),success:t(cj),error:t(hj),warning:t(dj),confirm:t(fj)},m.createElement(m.Fragment,null,n)]}var Tge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let kl=[];class Cs extends xe{constructor(e){super(e),this.bodyOverflow=null,this.handleCancel=t=>{this.foundation.handleCancel(t)},this.handleOk=t=>{this.foundation.handleOk(t)},this.updateState=()=>{const{visible:t}=this.props;this.foundation.toggleDisplayNone(!t)},this.renderFooter=()=>{const{okText:t,okType:r,cancelText:s,confirmLoading:i,cancelLoading:o,hasCancel:a,footerFill:l}=this.props,u=d=>{var h;return a?m.createElement(ze,Object.assign({"aria-label":"cancel",onClick:this.handleCancel,loading:o===void 0?this.state.onCancelReturnPromiseStatus==="pending":o,type:"tertiary",block:l,autoFocus:!0},this.props.cancelButtonProps,{style:Object.assign(Object.assign({},l?{marginLeft:"unset"}:{}),(h=this.props.cancelButtonProps)===null||h===void 0?void 0:h.style),"x-semi-children-alias":"cancelText"}),s||d.cancel):null};return m.createElement(Pn,{componentName:"Modal"},(d,h)=>m.createElement("div",{className:$({[`${pt.DIALOG}-footerfill`]:l})},u(d),m.createElement(ze,Object.assign({"aria-label":"confirm",type:r,theme:"solid",block:l,loading:i===void 0?this.state.onOKReturnPromiseStatus==="pending":i,onClick:this.handleOk},this.props.okButtonProps,{"x-semi-children-alias":"okText"}),t||d.confirm)))},this.renderDialog=()=>{var t;let r=this.props,{footer:s,className:i,motion:o,maskStyle:a,keepDOM:l,style:u,zIndex:d,getPopupContainer:h,visible:f,modalContentClass:g}=r,b=Tge(r,["footer","className","motion","maskStyle","keepDOM","style","zIndex","getPopupContainer","visible","modalContentClass"]),y=u;const _=a,v="footer"in this.props?s:this.renderFooter();let E={zIndex:d};h&&h()!==((t=globalThis==null?void 0:globalThis.document)===null||t===void 0?void 0:t.body)&&(E={zIndex:d,position:"static"});const w=$(i,{[`${pt.DIALOG}-displayNone`]:l&&this.state.displayNone}),S=this.props.visible||this.props.keepDOM&&(!this.props.lazyRender||this._haveRendered)||this.props.motion&&!this.state.displayNone;return S&&(this._haveRendered=!0),m.createElement(Ef,{motion:this.props.motion,animationState:f?"enter":"leave",startClassName:f?`${pt.DIALOG}-content-animate-show`:`${pt.DIALOG}-content-animate-hide`,onAnimationEnd:()=>{this.updateState()}},O=>{let{animationClassName:x,animationEventsNeedBind:I}=O;return m.createElement(Ef,{motion:this.props.motion,animationState:f?"enter":"leave",startClassName:f?`${pt.DIALOG}-mask-animate-show`:`${pt.DIALOG}-mask-animate-hide`,onAnimationEnd:()=>{this.updateState()}},T=>{let{animationClassName:P,animationEventsNeedBind:A}=T;return S?m.createElement(pp,{style:E,getPopupContainer:h}," ",m.createElement(s_,Object.assign({},b,{contentExtraProps:I,maskExtraProps:A,isFullScreen:this.state.isFullScreen,contentClassName:`${x} ${g}`,maskClassName:P,className:w,getPopupContainer:h,maskStyle:_,style:y,ref:this.modalRef,footer:v,onClose:this.handleCancel}))):m.createElement(m.Fragment,null)})})},this.state={displayNone:!e.visible,isFullScreen:e.fullScreen},this.foundation=new dge(this.adapter),this.modalRef=m.createRef(),this.scrollBarWidth=0,this.originBodyWidth="100%"}get adapter(){return Object.assign(Object.assign({},super.adapter),{getProps:()=>this.props,disabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;this.bodyOverflow=document.body.style.overflow||"",(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!==null&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyCancel:e=>this.props.onCancel(e),notifyOk:e=>this.props.onOk(e),notifyClose:()=>{this.props.afterClose()},toggleDisplayNone:(e,t)=>{e!==this.state.displayNone&&this.setState({displayNone:e},t||j)},notifyFullScreen:e=>{e!==this.state.isFullScreen&&this.setState({isFullScreen:e})}})}static getDerivedStateFromProps(e,t){const r={};return e.fullScreen!==t.isFullScreen&&(r.isFullScreen=e.fullScreen),e.visible&&t.displayNone&&(r.displayNone=!1),r}componentDidMount(){this.scrollBarWidth=gte(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,t,r){!e.visible&&this.props.visible&&this.foundation.beforeShow(),!t.displayNone&&this.state.displayNone&&this.foundation.afterHide()}componentWillUnmount(){this.props.visible?this.foundation.destroy():this.foundation.enabledBodyScroll()}render(){return this.props,this.renderDialog()}}Cs.propTypes={mask:c.bool,closable:c.bool,centered:c.bool,visible:c.bool,width:c.oneOfType([c.string,c.number]),height:c.oneOfType([c.string,c.number]),confirmLoading:c.bool,cancelLoading:c.bool,okText:c.string,okType:c.string,cancelText:c.string,maskClosable:c.bool,onCancel:c.func,onOk:c.func,afterClose:c.func,okButtonProps:c.object,cancelButtonProps:c.object,style:c.object,className:c.string,maskStyle:c.object,bodyStyle:c.object,zIndex:c.number,title:c.node,icon:c.node,header:c.node,footer:c.node,hasCancel:c.bool,motion:c.bool,children:c.node,getPopupContainer:c.func,getContainerContext:c.func,maskFixed:c.bool,closeIcon:c.node,closeOnEsc:c.bool,size:c.oneOf(GR.SIZE),keepDOM:c.bool,lazyRender:c.bool,direction:c.oneOf(GR.directions),fullScreen:c.bool,footerFill:c.bool};Cs.__SemiComponentName__="Modal";Cs.defaultProps=Ps(Cs.__SemiComponentName__,{zIndex:1e3,motion:!0,mask:!0,centered:!1,closable:!0,visible:!1,okType:"primary",maskClosable:!0,hasCancel:!0,onCancel:j,onOk:j,afterClose:j,maskFixed:!1,closeOnEsc:!0,size:"small",keepDOM:!1,lazyRender:!0,fullScreen:!1});Cs.useModal=Cge;Cs.info=function(n){return Pp(uj(n))};Cs.success=function(n){return Pp(cj(n))};Cs.error=function(n){return Pp(hj(n))};Cs.warning=function(n){return Pp(dj(n))};Cs.confirm=function(n){return Pp(fj(n))};Cs.destroyAll=function(){for(let e=0,t=kl.length;e<t;e++){const r=kl[e];r&&r()}kl=[]};const pj={PREFIX:`${G}`};var Ige=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const qR=["xxl","xl","lg","md","sm","xs"],gj=m.createContext(null),XR={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class i_ extends m.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(XR).map(e=>pte(XR[e],{match:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})}))},unmatch:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})}))}}))}componentWillUnmount(){this.unRegisters.forEach(e=>e())}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach((s,i)=>{if(typeof s=="object")for(let o=0;o<qR.length;o++){const a=qR[o];if(this.state.screens[a]&&s[a]!==void 0){t[i]=s[a];break}}else t[i]=s||0}),t}render(){const e=this.props,{prefixCls:t,type:r,justify:s,align:i,className:o,style:a,children:l}=e,u=Ige(e,["prefixCls","type","justify","align","className","style","children"]),d=this.getGutter(),h=`${t}-row`,f=$({[h]:r!=="flex",[`${h}-${r}`]:r,[`${h}-${r}-${s}`]:r&&s,[`${h}-${r}-${i}`]:r&&i},o),g=Object.assign(Object.assign(Object.assign({},d[0]>0?{marginLeft:d[0]/-2,marginRight:d[0]/-2}:{}),d[1]>0?{marginTop:d[1]/-2,marginBottom:d[1]/-2}:{}),a),b=Object.assign({},u);return delete b.gutter,m.createElement(gj.Provider,{value:{gutters:d}},m.createElement("div",Object.assign({},b,{className:f,style:g,"x-semi-prop":"children"}),l))}}i_.propTypes={type:c.oneOf(["flex"]),align:c.oneOf(["top","middle","bottom"]),justify:c.oneOf(["start","end","center","space-around","space-between"]),className:c.string,style:c.object,children:c.node,gutter:c.oneOfType([c.object,c.number,c.array]),prefixCls:c.string};i_.defaultProps={prefixCls:pj.PREFIX};i_.RowContext={gutters:c.any};var Oge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const zu=c.oneOfType([c.object,c.number]);class Qr extends m.Component{render(){const{props:e}=this,{prefixCls:t,span:r,order:s,offset:i,push:o,pull:a,className:l,children:u}=e,d=Oge(e,["prefixCls","span","order","offset","push","pull","className","children"]);let h={};const f=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach(_=>{let v={};typeof e[_]=="number"?v.span=e[_]:typeof e[_]=="object"&&(v=e[_]||{}),delete d[_],h=Object.assign(Object.assign({},h),{[`${f}-${_}-${v.span}`]:v.span!==void 0,[`${f}-${_}-order-${v.order}`]:v.order||v.order===0,[`${f}-${_}-offset-${v.offset}`]:v.offset||v.offset===0,[`${f}-${_}-push-${v.push}`]:v.push||v.push===0,[`${f}-${_}-pull-${v.pull}`]:v.pull||v.pull===0})});const g=$(f,{[`${f}-${r}`]:r!==void 0,[`${f}-order-${s}`]:s,[`${f}-offset-${i}`]:i,[`${f}-push-${o}`]:o,[`${f}-pull-${a}`]:a},l,h);let{style:b}=d,y;try{y=this.context.gutters}catch{throw new Error("please make sure <Col> inside <Row>")}return b=Object.assign(Object.assign(Object.assign({},y[0]>0?{paddingLeft:y[0]/2,paddingRight:y[0]/2}:{}),y[1]>0?{paddingTop:y[1]/2,paddingBottom:y[1]/2}:{}),b),m.createElement("div",Object.assign({},d,{style:b,className:g,"x-semi-prop":"children"}),u)}}Qr.contextType=gj;Qr.propTypes={span:c.number,order:c.number,offset:c.number,push:c.number,pull:c.number,className:c.string,children:c.node,xs:zu,sm:zu,md:zu,lg:zu,xl:zu,xxl:zu,prefixCls:c.string};Qr.defaultProps={prefixCls:pj.PREFIX};const fi={PREFIX:`${G}-form`},_h={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"},bo=fi.PREFIX;class ro extends D.PureComponent{render(){const{children:e,required:t,text:r,disabled:s,name:i,width:o,align:a,style:l,className:u,extra:d,id:h,optional:f}=this.props,g=$(u,{[`${bo}-field-label`]:!0,[`${bo}-field-label-left`]:a==="left",[`${bo}-field-label-right`]:a==="right",[`${bo}-field-label-required`]:t,[`${bo}-field-label-disabled`]:s,[`${bo}-field-label-with-extra`]:d}),b=l||{};o&&(b.width=o);const y=m.createElement(Pn,{componentName:"Form"},E=>m.createElement("span",{className:`${bo}-field-label-optional-text`},E.optional)),_=m.createElement("div",{className:`${bo}-field-label-text`,"x-semi-prop":"label"},typeof r<"u"?r:e,f?y:null),v=m.createElement(m.Fragment,null,_,m.createElement("div",{className:`${bo}-field-label-extra`},d));return m.createElement("label",{className:g,htmlFor:i,style:b,id:h},d?v:_)}}ro.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1};ro.propTypes={id:c.string,children:c.node,required:c.bool,text:c.node,disabled:c.bool,name:c.string,align:c.string,width:c.oneOfType([c.number,c.string]),style:c.object,className:c.string,extra:c.node,optional:c.bool};var QR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const yl=By.PREFIX,Pge=hl.SIZE;class tT extends xe{renderGroupWithLabel(e){const t=this.props,{size:r,className:s,label:i,labelPosition:o}=t;QR(t,["size","className","label","labelPosition"]);const a=$({[`${yl}-group-wrapper`]:!0,[`${yl}-group-wrapper-with-top-label`]:o==="top",[`${yl}-group-wrapper-with-left-label`]:o==="left"}),l=$(`${yl}-group`,s,{[`${yl}-${r}`]:r!=="default"}),u="input-group";return m.createElement("div",{className:a},i&&i.text?m.createElement(ro,Object.assign({name:u},i)):null,m.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:i&&i.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:r,className:s,children:i,label:o,onBlur:a,onFocus:l,disabled:u}=e,d=QR(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),h=$(`${yl}-group`,{[`${yl}-${t}`]:t!=="default"},s);let f;return i&&(f=(Array.isArray(i)?i:[i]).map((g,b)=>{if(g){const{onBlur:y,onFocus:_,disabled:v}=g.props,E=De(y)&&Z(y,"name")!=="noop"?y:a,w=De(_)&&Z(_,"name")!=="noop"?_:l,S=typeof v=="boolean"?v:u;return m.cloneElement(g,Object.assign(Object.assign({key:b},d),{size:t,onBlur:E,onFocus:w,disabled:S}))}return null})),o&&o.text?this.renderGroupWithLabel(f):m.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:h,style:r,onFocus:this.props.onFocus,onBlur:this.props.onBlur},f)}}tT.propTypes={className:c.string,children:c.node,size:c.oneOf(Pge),style:c.object,onBlur:c.func,onFocus:c.func,label:c.object,labelPosition:c.string};tT.defaultProps={size:"default",className:"",onBlur:Dt,onFocus:Dt};let fs=null;const ZR={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},JR=n=>{Object.keys(ZR).forEach(e=>{n.style.setProperty(e,ZR[e],"important")})},eA=(n,e)=>{const t=n.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function xge(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0;fs||(fs=document.createElement("textarea"),fs.setAttribute("tab-index","-1"),fs.setAttribute("aria-hidden","true"),JR(fs)),fs.parentNode===null&&document.body.appendChild(fs);const{paddingSize:s,borderSize:i,sizingStyle:o}=n,{boxSizing:a}=o;Object.keys(o).forEach(f=>{fs.style[f]=o[f]}),JR(fs),fs.value=e;let l=eA(fs,n);fs.value="x";const u=eA(fs,n)-s-i;let d=u*t;a==="border-box"&&(d=d+s+i),l=Math.max(d,l);let h=u*r;return a==="border-box"&&(h=h+s+i),l=Math.min(h,l),l}const Rge=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],Age=n=>{const e=window.getComputedStyle(n);if(e===null)return null;const t=ru(e,Rge),{boxSizing:r}=t;if(r==="")return null;const s=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),i=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:s,borderSize:i}};class nT extends Ne{static get textAreaDefaultAdapter(){return{notifyChange:j,setValue:j,toggleFocusing:j,toggleHovering:j,notifyFocus:j,notifyBlur:j,notifyKeyDown:j,notifyEnterPress:j}}constructor(e){super(Object.assign(Object.assign({},nT.textAreaDefaultAdapter),e)),this.resizeTextarea=()=>{var t;const{height:r}=this.getStates(),{rows:s,autosize:i}=this.getProps(),o=this._adapter.getRef(),a=Age(o);if(!a)return;const[l,u]=i!==null&&typeof i=="object"?[(t=i==null?void 0:i.minRows)!==null&&t!==void 0?t:s,i==null?void 0:i.maxRows]:[s],d=xge(a,o.value||o.placeholder||"x",l,u);if(r!==d){this._adapter.notifyHeightUpdate(d),o.style.height=`${d}px`;return}}}destroy(){}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let o=e;r&&De(i)&&(o=this.handleVisibleMaxLength(e)),s&&De(i)&&this.handleVisibleMinLength(o),this._isControlledComponent()?this._adapter.notifyChange(o,t):(this._adapter.setValue(o),this._adapter.notifyChange(o,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(tn(t)&&t>=0&&De(r)&&ke(e)){const i=r(e);if(i<t){const o=e.length+(t-i);o!==s&&this._adapter.setMinLength(o)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();if(tn(t)&&t>=0&&ke(e)){if(De(r)){if(r(e)>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)}else if(e.length>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),e.slice(0,t);return e}}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return S$({value:e,maxLength:t,getValueLength:r})}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){const{value:t}=this.getStates(),{maxLength:r}=this.getProps();let s=t;r&&(s=this.handleVisibleMaxLength(t),s!==t&&(this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,e))),this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(s,e)}handleKeyDown(e){const{disabledEnterStartNewLine:t}=this.getProps();t&&e.key==="Enter"&&!e.shiftKey&&e.preventDefault(),this._adapter.notifyKeyDown(e),e.keyCode===13&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){const{value:e,isFocus:t,isHover:r}=this._adapter.getStates(),{showClear:s,disabled:i,readonly:o}=this._adapter.getProps();return e&&s&&!i&&(t||r)&&!o}handleClear(e){const{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var Dge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ar=By.PREFIX;class rT extends xe{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.setRef=r=>{this.libRef.current=r;const{forwardRef:s}=this.props;typeof s=="function"?s(r):s&&typeof s=="object"&&(s.current=r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,isFocus:!1,isHover:!1,height:0,minLength:e.minLength,cachedValue:e.value},this.focusing=!1,this.foundation=new nT(this.adapter),this.libRef=m.createRef(),this.throttledResizeTextarea=av(this.foundation.resizeTextarea,10)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentWillUnmount(){var e,t;this.throttledResizeTextarea&&((t=(e=this.throttledResizeTextarea)===null||e===void 0?void 0:e.cancel)===null||t===void 0||t.call(e),this.throttledResizeTextarea=null)}componentDidUpdate(e,t){(this.props.value!==e.value||this.props.placeholder!==e.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){const{showClear:e}=this.props,t=this.foundation.isAllowClear(),r=$(`${Ar}-clearbtn`,{[`${Ar}-clearbtn-hidden`]:!t});return e?m.createElement("div",{className:r,onClick:this.handleClear},m.createElement(dl,null)):null}renderCounter(){let e,t,r,s;const{showCounter:i,maxCount:o,getValueLength:a}=this.props;if(i||o){const{value:l}=this.state;t=l?De(a)?a(l):l.length:0,r=o||null,s=$(`${Ar}-textarea-counter`,{[`${Ar}-textarea-counter-exceed`]:t>r}),e=m.createElement("div",{className:s},t,r?"/":null,r)}else e=null;return e}render(){const e=this.props,{autosize:t,placeholder:r,onEnterPress:s,onResize:i,disabled:o,readonly:a,className:l,showCounter:u,validateStatus:d,maxCount:h,defaultValue:f,style:g,forwardRef:b,getValueLength:y,maxLength:_,minLength:v,showClear:E,borderless:w,autoFocus:S}=e,O=Dge(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:x,value:I,minLength:T}=this.state,P=$(l,`${Ar}-textarea-wrapper`,{[`${Ar}-textarea-borderless`]:w,[`${Ar}-textarea-wrapper-disabled`]:o,[`${Ar}-textarea-wrapper-readonly`]:a,[`${Ar}-textarea-wrapper-${d}`]:!!d,[`${Ar}-textarea-wrapper-focus`]:x}),A=$(`${Ar}-textarea`,{[`${Ar}-textarea-disabled`]:o,[`${Ar}-textarea-readonly`]:a,[`${Ar}-textarea-autosize`]:Wo(t)?Ct(t==null?void 0:t.maxRows):t,[`${Ar}-textarea-showClear`]:E}),k=Object.assign(Object.assign({},cl(O,"insetLabel","insetLabelId","getValueLength","onClear","showClear","disabledEnterStartNewLine")),{autoFocus:S||this.props.autofocus,className:A,disabled:o,readOnly:a,placeholder:r||null,onChange:M=>this.foundation.handleChange(M.target.value,M),onFocus:M=>this.foundation.handleFocus(M),onBlur:M=>this.foundation.handleBlur(M.nativeEvent),onKeyDown:M=>this.foundation.handleKeyDown(M),value:I??""});return De(y)||(k.maxLength=_),T&&(k.minLength=T),m.createElement("div",{className:P,style:g,onMouseEnter:M=>this.foundation.handleMouseEnter(M),onMouseLeave:M=>this.foundation.handleMouseLeave(M)},t?m.createElement(za,{onResize:this.throttledResizeTextarea},m.createElement("textarea",Object.assign({},k,{ref:this.setRef}))):m.createElement("textarea",Object.assign({},k,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}rT.propTypes={autosize:c.oneOfType([c.bool,c.object]),borderless:c.bool,placeholder:c.string,value:c.string,rows:c.number,cols:c.number,maxCount:c.number,onEnterPress:c.func,validateStatus:c.string,className:c.string,style:c.object,showClear:c.bool,onClear:c.func,onResize:c.func,getValueLength:c.func,disabledEnterStartNewLine:c.bool};rT.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:j,onChange:j,onBlur:j,onFocus:j,onKeyDown:j,onResize:j,onClear:j};const mj=m.forwardRef((n,e)=>m.createElement(rT,Object.assign({},n,{forwardRef:e})));var kge=w$;function Nge(n){return kge(n)&&n!=+n}var Lge=Nge;const Mge=Ce(Lge),$ge=(n,e)=>{const{isNaN:t}=Number;return t(n)&&t(e)},Fge=Object.assign({},By),Nl=Object.assign(Object.assign({},Bie),{DEFAULT_STEP:1,DEFAULT_SHIFT_STEP:10,DEFAULT_PRESS_TIMEOUT:250,DEFAULT_PRESS_INTERVAL:0,MOUSE_BUTTON_LEFT:0}),jge=Object.assign({},hl);function Vge(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=Math.pow(10,Math.max(t,r));return(n*s+e*s)/s}function tA(n,e){return Vge(n,-e)}class Uge extends Ne{init(){this._setInitValue()}destroy(){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}isControlled(){return this._isControlledComponent("value")}_doInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=e,i=e,o=!0;const a=this.isControlled();typeof e!="number"&&(i=this.doParse(e,!1),o=!isNaN(i)),o&&(s=i,a||this._adapter.setNumber(i)),a||this._adapter.setValue(e,r),this.getProp("keepFocus")&&this._adapter.setFocusing(!0,()=>{this._adapter.setClickUpOrDown(!0)}),this.notifyChange(s,t)}_registerInterval(e){const t=this.getProp("pressInterval")||Nl.DEFAULT_PRESS_INTERVAL;this._intervalHasRegistered=!0,this._interval=setInterval(()=>{typeof e=="function"&&this._intervalHasRegistered&&e()},t)}_unregisterInterval(){this._interval&&(this._intervalHasRegistered=!1,clearInterval(this._interval),this._interval=null)}_registerTimer(e){const t=this.getProp("pressTimeout")||Nl.DEFAULT_PRESS_TIMEOUT;this._timerHasRegistered=!0,this._timer=setTimeout(()=>{this._timerHasRegistered&&typeof e=="function"&&e()},t)}_unregisterTimer(){this._timer&&(this._timerHasRegistered=!1,clearTimeout(this._timer),this._timer=null)}handleInputFocus(e){this.getState("value"),this._adapter.recordCursorPosition(),this._adapter.setFocusing(!0,null),this._adapter.setClickUpOrDown(!1),this._adapter.notifyFocus(e)}handleInputChange(e,t){const r=this.doParse(e,!0,!0,!0),s=this.doParse(e,!1,!1,!1),i=this.afterParser(e);this._adapter.recordCursorPosition();let o,a=s,l=e;if(e==="")this.isControlled()||(a=null);else if(this.isValidNumber(s)&&this.isValidNumber(r))o=s,l=this.doFormat(s,!1);else{if(typeof s=="number"&&!isNaN(s)){l=this.doFormat(s,!1);const u=i.lastIndexOf("."),d=i.length-1-u,h=this._getPrecLen(s);if(h){if(h<d)for(let f=0;f<d-h;f++)l+="0"}else{const f=u>-1?i.slice(u):"";l+=f}a=s}else l=this.doFormat(i,!1);o=i}!this.isControlled()&&(a===null||typeof a=="number"&&!isNaN(a))&&this._adapter.setNumber(a),this._adapter.setValue(this.isControlled()?l:this.doFormat(i,!1),()=>{this._adapter.restoreCursor()}),this.notifyChange(o,t)}handleInputKeyDown(e){const t=e.keyCode;if(t===Yn.UP||t===Yn.DOWN){this._adapter.setClickUpOrDown(!0),this._adapter.recordCursorPosition();const r=t===Yn.UP?this.add(null,e):this.minus(null,e);this._doInput(r,e,()=>{this._adapter.restoreCursor()}),e.preventDefault()}this._adapter.notifyKeyDown(e)}handleInputBlur(e){const t=$u(this.getState("value"));let r=this.getState("number");if(r!=null||t!=null&&t!==""){const s=this.doParse(t,!1,!0,!0);let i=!1,o=!1,a,l;this.isValidNumber(s)&&r!==s&&(a=s,this.isControlled()||(r=a),i=!0);const u=this.doFormat(r,!0);if(u!==t&&(l=u,o=!0),o||i){const d=l??a;l!=null&&this._adapter.setValue(l),a!=null&&(this._isControlledComponent("value")||this._adapter.setNumber(a)),this.notifyChange(d,e)}}this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputMouseEnter(e){this._adapter.setHovering(!0)}handleInputMouseLeave(e){this._adapter.setHovering(!1)}handleInputMouseMove(e){this._adapter.setHovering(!0)}handleMouseUp(e){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}handleUpClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.upClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.upClick(e)})}))}handleDownClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.downClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.downClick(e)})}))}_isMouseButtonLeft(e){return Z(e,"button")===Nl.MOUSE_BUTTON_LEFT}_preventDefault(e){const t=this._adapter.getProp("keepFocus"),r=this._adapter.getProp("innerButtons");(t||r)&&e.preventDefault()}handleMouseLeave(e){this._adapter.registerGlobalEvent("mouseup",()=>{this.handleMouseUp(e)})}upClick(e){const t=this.add(null,e);this._doInput(t,e),this._adapter.notifyUpClick(t,e)}downClick(e){const t=this.minus(null,e);this._doInput(t,e),this._adapter.notifyDownClick(t,e)}_setInitValue(){const{defaultValue:e,value:t}=this.getProps(),r=this._isControlledComponent("value")?t:e,s=this.doParse($u(r),!1,!0,!0);let i=null;typeof s=="number"&&!isNaN(s)&&(i=s);const o=typeof i=="number"?this.doFormat(i,!0):"";this._adapter.setNumber(i),this._adapter.setValue(o),ke(o)&&o!==String(r??"")&&this.notifyChange(o,null)}add(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");e=e==null?s:Number(e);const i=Math.abs(Hs(e)),o=this.getState("number");let a=this.toNumber(o)||0;const l=this.getProp("min"),u=this.getProp("max"),d=this._getPrecLen(l),h=this._getPrecLen(u),f=this._getPrecLen(a),g=this._getPrecLen(e),b=Math.pow(10,Math.max(d,h,f,g));return e<0?Math.abs(tA(l,a))>=i&&(a=(a*b+e*b)/b):e>0&&Math.abs(tA(u,a))>=i&&(a=(a*b+e*b)/b),typeof l=="number"&&l>a&&(a=l),typeof u=="number"&&u<a&&(a=u),this.doFormat(a,!0)}minus(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");return e=e==null?s:Number(e),this.add(-e,t)}_getPrecLen(e){typeof e!="string"&&(e=String(Math.abs(Number(e||""))));const t=e.indexOf(".")+1;return t?e.length-t:0}_adjustPrec(e){const t=this.getProp("precision");return typeof t=="number"&&e!==""&&e!==null&&!Number.isNaN(Number(e))&&(e=Number(e).toFixed(t)),$u(e)}doFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r;const s=this.getProp("formatter");return t?r=this._adjustPrec(e):r=$u(e),typeof s=="function"&&(r=s(r)),r}fetchMinOrMax(e){const{min:t,max:r}=this.getProps();return e<t?t:e>r?r:e}doParse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof e=="number")return s&&(e=this.fetchMinOrMax(e)),r&&(e=this._adjustPrec(e)),Hs(e);const i=this.getProp("parser");if(typeof i=="function"&&(e=i(e)),t&&typeof e=="string"){const o=e.indexOf(".")===-1||e.indexOf(".")>-1&&(e==="0"||e.lastIndexOf("0")<e.length-1),a=e.lastIndexOf(".")<e.length-1&&e.split("").filter(l=>l===".").length<2;if(!o||!a)return NaN}return r&&(e=this._adjustPrec(e)),typeof e=="string"&&e.length?s?this.fetchMinOrMax(Hs(e)):Hs(e):NaN}afterParser(e){const t=this.getProp("parser");return $u(typeof e=="string"&&typeof t=="function"?t(e):e)}toNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number")return e;if(typeof e=="string"){const r=this.getProp("parser");typeof r=="function"&&(e=r(e)),t&&(e=this._adjustPrec(e))}return Hs(e)}isValidNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number"&&!isNaN(e)){const{min:r,max:s,precision:i}=this.getProps(),o=this._getPrecLen(e),a=t?typeof i=="number"&&o<=i||typeof i!="number":!0;if(e>=r&&e<=s&&a)return!0}return!1}isValidString(e){if(typeof e=="string"&&e.length){const t=this.doParse(e);return this.isValidNumber(t)}return!1}notifyChange(e,t){if(e==null||e==="")this._adapter.notifyChange("",t);else{const r=this.toNumber(e,!0);typeof r=="number"&&!isNaN(r)?(this._adapter.notifyChange(r,t),this.notifyNumberChange(r,t)):this._adapter.notifyChange(this.afterParser(e),t)}}notifyNumberChange(e,t){const{number:r}=this.getStates();this.isValidNumber(e)&&e!==r&&this._adapter.notifyNumberChange(e,t)}updateStates(e,t){this._adapter.updateStates(e,t)}}var Bge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Rv extends xe{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setValue:(t,r)=>this.setState({value:t},r),setNumber:(t,r)=>this.setState({number:t},r),setFocusing:(t,r)=>this.setState({focusing:t},r),setHovering:t=>this.setState({hovering:t}),notifyChange:function(){return e.props.onChange(...arguments)},notifyNumberChange:function(){return e.props.onNumberChange(...arguments)},notifyBlur:t=>this.props.onBlur(t),notifyFocus:t=>this.props.onFocus(t),notifyUpClick:(t,r)=>this.props.onUpClick(t,r),notifyDownClick:(t,r)=>this.props.onDownClick(t,r),notifyKeyDown:t=>this.props.onKeyDown(t),registerGlobalEvent:(t,r)=>{t&&typeof r=="function"&&(this.adapter.unregisterGlobalEvent(t),this.adapter.setCache(t,r),document.addEventListener(t,r))},unregisterGlobalEvent:t=>{if(t){const r=this.adapter.getCache(t);document.removeEventListener(t,r),this.adapter.setCache(t,null)}},recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(t){console.warn(t)}},restoreByAfter:t=>{if(St(t))return!1;const r=this.inputNode.value,s=r.lastIndexOf(t);return s===-1?!1:s+t.length===r.length?(this.adapter.fixCaret(s,s),!0):!1},restoreCursor:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.cursorAfter;return St(t)?!1:Array.prototype.some.call(t,(r,s)=>{const i=t.substring(s);return e.adapter.restoreByAfter(i)})},fixCaret:(t,r)=>{if(!(t===void 0||r===void 0||!this.inputNode||!this.inputNode.value))try{const s=this.inputNode.selectionStart,i=this.inputNode.selectionEnd;(t!==s||r!==i)&&this.inputNode.setSelectionRange(t,r)}catch{}},setClickUpOrDown:t=>{this.clickUpOrDown=t},updateStates:(t,r)=>{this.setState(t,r)}})}constructor(e){super(e),this.setInputRef=t=>{const{forwardedRef:r}=this.props;this.inputNode=t,r&&typeof r=="object"?r.current=t:typeof r=="function"&&r(t)},this.handleInputFocus=t=>this.foundation.handleInputFocus(t),this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.handleInputBlur=t=>this.foundation.handleInputBlur(t),this.handleInputKeyDown=t=>this.foundation.handleInputKeyDown(t),this.handleInputMouseEnter=t=>this.foundation.handleInputMouseEnter(t),this.handleInputMouseLeave=t=>this.foundation.handleInputMouseLeave(t),this.handleInputMouseMove=t=>this.foundation.handleInputMouseMove(t),this.handleUpClick=t=>this.foundation.handleUpClick(t),this.handleDownClick=t=>this.foundation.handleDownClick(t),this.handleMouseUp=t=>this.foundation.handleMouseUp(t),this.handleMouseLeave=t=>this.foundation.handleMouseLeave(t),this.renderButtons=()=>{const{prefixCls:t,disabled:r,innerButtons:s,max:i,min:o}=this.props,{hovering:a,focusing:l,number:u}=this.state,d=r||u===i,h=r||u===o,f=$(`${t}-number-suffix-btns`,{[`${t}-number-suffix-btns-inner`]:s,[`${t}-number-suffix-btns-inner-hover`]:s&&a&&!l}),g=$(`${t}-number-button`,`${t}-number-button-up`,{[`${t}-number-button-up-disabled`]:r,[`${t}-number-button-up-not-allowed`]:d}),b=$(`${t}-number-button`,`${t}-number-button-down`,{[`${t}-number-button-down-disabled`]:r,[`${t}-number-button-down-not-allowed`]:h});return m.createElement("div",{className:f},m.createElement("span",{className:g,onMouseDown:d?j:this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},m.createElement($se,{size:"extra-small"})),m.createElement("span",{className:b,onMouseDown:h?j:this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},m.createElement($y,{size:"extra-small"})))},this.renderSuffix=()=>{const{innerButtons:t,suffix:r}=this.props,{hovering:s,focusing:i}=this.state;return t&&(s||i)?this.renderButtons():r},this.state={value:"",number:null,focusing:!!e.autofocus||!1,hovering:!1},this.inputNode=null,this.foundation=new Uge(this.adapter),this.clickUpOrDown=!1}componentDidUpdate(e){const{value:t,preventScroll:r}=this.props,{focusing:s}=this.state;let i;if(t!==e.value&&!$ge(t,e.value)){if(St(t)||t==="")i="",this.foundation.updateStates({value:i,number:null});else{let o=t;typeof t=="number"&&(o=this.foundation.doFormat(t));const a=this.foundation.doParse(o,!1,!0,!0),l=typeof t=="number"?t:this.foundation.doParse(o,!1,!1,!1);if(s)if(this.foundation.isValidNumber(a)&&a!==this.state.number){const u={number:a};this.clickUpOrDown&&(u.value=this.foundation.doFormat(u.number,!0),i=u.value),this.foundation.updateStates(u,()=>this.adapter.restoreCursor())}else Mge(l)?this.foundation.updateStates({value:o}):(i=this.foundation.doFormat(l,!1),this.foundation.updateStates({value:i}));else this.foundation.isValidNumber(a)?(i=this.foundation.doFormat(a),this.foundation.updateStates({number:a,value:i})):(i="",this.foundation.updateStates({number:null,value:i}))}i&&ke(i)&&i!==String(this.props.value)&&this.foundation.notifyChange(i,null)}this.clickUpOrDown&&this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:r})}render(){const e=this.props,{disabled:t,className:r,prefixCls:s,min:i,max:o,step:a,shiftStep:l,precision:u,formatter:d,parser:h,forwardedRef:f,onUpClick:g,onDownClick:b,pressInterval:y,pressTimeout:_,suffix:v,size:E,hideButtons:w,innerButtons:S,style:O,onNumberChange:x,keepFocus:I,defaultValue:T}=e,P=Bge(e,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue"]),{value:A,number:k}=this.state,M=$(r,`${s}-number`,{[`${s}-number-size-${E}`]:E}),N=this.renderButtons(),W={"aria-disabled":t,step:a};return k&&(W["aria-valuenow"]=k),o!==1/0&&(W["aria-valuemax"]=o),i!==-1/0&&(W["aria-valuemin"]=i),m.createElement("div",{className:M,style:O,onMouseMove:K=>this.handleInputMouseMove(K),onMouseEnter:K=>this.handleInputMouseEnter(K),onMouseLeave:K=>this.handleInputMouseLeave(K)},m.createElement(Ln,Object.assign({role:"spinbutton"},W,P,{size:E,disabled:t,ref:this.setInputRef,value:A,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),w||S?null:N)}}Rv.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autofocus:c.bool,clearIcon:c.node,className:c.string,defaultValue:c.oneOfType([c.number,c.string]),disabled:c.bool,formatter:c.func,forwardedRef:c.any,hideButtons:c.bool,innerButtons:c.bool,insetLabel:c.node,insetLabelId:c.string,keepFocus:c.bool,max:c.number,min:c.number,parser:c.func,precision:c.number,prefixCls:c.string,pressInterval:c.number,pressTimeout:c.number,preventScroll:c.bool,shiftStep:c.number,step:c.number,style:c.object,suffix:c.any,value:c.oneOfType([c.number,c.string]),onBlur:c.func,onChange:c.func,onDownClick:c.func,onKeyDown:c.func,onNumberChange:c.func,onUpClick:c.func};Rv.defaultProps={forwardedRef:j,innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:Fge.PREFIX,pressInterval:Nl.DEFAULT_PRESS_TIMEOUT,pressTimeout:Nl.DEFAULT_PRESS_TIMEOUT,shiftStep:Nl.DEFAULT_SHIFT_STEP,size:jge.DEFAULT_SIZE,step:Nl.DEFAULT_STEP,onBlur:j,onChange:j,onDownClick:j,onFocus:j,onKeyDown:j,onNumberChange:j,onUpClick:j};const Hge=xF(m.forwardRef(function(e,t){return m.createElement(Rv,Object.assign({},e,{forwardedRef:t}))}),Rv),zge={PREFIX:G+"-overflow-list"},nA={COLLAPSE:"collapse",SCROLL:"scroll"},rA={START:"start",END:"end"},Kge={NONE:0,GROW:1,SHRINK:2},zl={BOUNDARY_SET:Object.values(rA),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(nA),MODE_MAP:nA,BOUNDARY_MAP:rA,OVERFLOW_DIR:Kge},sA={MINIMUM_HTML_ELEMENT_WIDTH:4};class sT extends m.PureComponent{componentDidMount(){const{items:e}=this.props;this.cachedKeys=Object.keys(e);const{root:t,threshold:r,rootMargin:s,option:i,onIntersect:o}=this.props;this.observer=new IntersectionObserver(o,Object.assign({root:t,threshold:r,rootMargin:s},i)),this.observeElement()}componentDidUpdate(){const{items:e}=this.props,t=Object.keys(e);je(this.cachedKeys,t)||(this.observeElement(!0),this.cachedKeys=t)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{items:t}=this.props;if(At(t)){this.observer.disconnect();return}e&&this.observer.disconnect(),Object.keys(t).forEach(r=>{const s=t[r];s&&Ze(s)&&this.observer.observe(s)})}render(){const{children:e}=this.props;return e}}sT.propTypes={onIntersect:c.func,option:c.object,root:c.any,threshold:c.number,rootMargin:c.string,items:c.object};sT.defaultProps={onIntersect:()=>{},threshold:.75,rootMargin:"0px",option:{},items:{}};const Wge=zl.BOUNDARY_MAP;class Gge extends Ne{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{const{renderMode:t}=this.getProps();return t==="scroll"},this.getReversedItems=()=>{const{items:t}=this.getProps();return Xo(t).reverse()}}getOverflowItem(){const{items:e}=this.getProps(),{visibleState:t,overflow:r}=this.getStates();if(!this.isScrollMode())return r;const s=e.map(l=>{let{key:u}=l;return!!t.get(u)}),i=s.indexOf(!0),o=s.lastIndexOf(!0),a=[];return a[0]=i>=0?e.slice(0,i):[],a[1]=o>=0?e.slice(o+1,e.length):e.slice(),a}handleIntersect(e){const t=Xo(this.getState("visibleState")),r={};e.forEach(l=>{const u=Z(l,"target.dataset.scrollkey"),d=l.isIntersecting;r[u]=l,t.set(u,d)});let s=!1;for(const l of t.values())if(l){s=!0;break}const i=s,[o]=e,a=o.boundingClientRect.y;if(!i&&this.previousY!==void 0&&a!==this.previousY){this.previousY=a;return}this.previousY=a,this._adapter.updateVisibleState(t),this._adapter.notifyIntersect(r)}handleCollapseOverflow(){const{minVisibleItems:e,collapseFrom:t}=this.getProps(),{overflowWidth:r,containerWidth:s,pivot:i,overflowStatus:o}=this.getStates(),{items:a,onOverflow:l}=this.getProps();let u=r,d=0,h=!1;for(const f of this._adapter.getItemSizeMap().values()){if(u+=f,u>s){h=!0;break}if(d===a.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:a.length-1,visible:a,overflow:[]});break}d++}if(h){const f=Math.max(e,d),g=t===Wge.START,b=g?this.getReversedItems().slice(0,f).reverse():a.slice(0,f),y=g?this.getReversedItems().slice(f).reverse():a.slice(f);this._adapter.updateStates({overflowStatus:"overflowed",pivot:f,visible:b,overflow:y}),i!==f&&l(y);return}}}const th=zge.PREFIX,s0=zl.BOUNDARY_MAP,iA=zl.OVERFLOW_DIR,nh=zl.MODE_MAP;class Df extends xe{constructor(e){var t;super(e),t=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{const{renderMode:r}=this.props;return r===nh.SCROLL},this.resize=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var s;const i=(s=r[0])===null||s===void 0?void 0:s.target.clientWidth;t.setState({containerWidth:i,overflowStatus:"calculating"})},this.reintersect=r=>{this.foundation.handleIntersect(r)},this.mergeRef=(r,s,i)=>{this.itemRefs[i]=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},this.renderOverflow=()=>{const r=this.foundation.getOverflowItem();return this.props.overflowRenderer(r)},this.getItemKey=(r,s)=>{const{itemKey:i}=this.props;return De(i)?i(r):Z(r,i||"key",s)},this.renderItemList=()=>{const{className:r,wrapperClassName:s,wrapperStyle:i,style:o,visibleItemRenderer:a,renderMode:l,collapseFrom:u}=this.props,{visible:d,overflowStatus:h}=this.state;let f=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(f)&&(f=m.createElement(m.Fragment,null,f)),m.isValidElement(f))){const y=m.cloneElement(f);f=m.createElement(za,{onResize:_=>{let[v]=_;this.setState({overflowWidth:v.target.clientWidth,overflowStatus:"calculating"})}},m.createElement("div",{className:`${th}-overflow`},y))}const g=l===nh.SCROLL?(()=>{const y=[m.createElement("div",{className:$(s,`${th}-scroll-wrapper`),ref:_=>{this.scroller=_},style:Object.assign({},i),key:`${th}-scroll-wrapper`},d.map(a).map(_=>{const{forwardRef:v,key:E}=_;return m.cloneElement(_,{ref:w=>this.mergeRef(v,w,E),"data-scrollkey":`${E}`,key:E})}))];return this.props.overflowRenderDirection==="both"?(y.unshift(f[0]),y.push(f[1])):this.props.overflowRenderDirection==="start"?(y.unshift(f[1]),y.unshift(f[0])):(y.push(f[0]),y.push(f[1])),y})():[u===s0.START?f:null,d.map((y,_)=>{const{key:v}=y,E=a(y,_),w=m.cloneElement(E);return m.createElement(za,{key:v??_,onResize:S=>{let[O]=S;return this.onItemResize(O,y,_)}},m.createElement("div",{key:v??_,className:`${th}-item`},w))}),u===s0.END?f:null];return m.createElement("div",{className:$(`${th}`,r),style:Object.assign(Object.assign({},o),l===nh.COLLAPSE?{maxWidth:"100%",visibility:h==="calculating"?"hidden":"visible"}:null)},...g)},this.onItemResize=(r,s,i)=>{const o=this.getItemKey(s,i),a=this.itemSizeMap.get(o);a?a!==r.target.clientWidth&&(this.itemSizeMap.set(o,r.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(o,r.target.clientWidth);const{maxCount:l}=this.state;this.itemSizeMap.size===l&&this.setState({overflowStatus:"calculating"})},this.state={direction:iA.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new Gge(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,t){const{prevProps:r}=t,s={};s.prevProps=e;const i=o=>!r&&o in e||r&&!je(r[o],e[o]);if(i("items")||i("style")){if(s.direction=iA.GROW,s.lastOverflowCount=0,s.maxCount=0,e.renderMode===nh.SCROLL)s.visible=e.items,s.overflow=[];else{let o=e.items.length;Math.floor(t.containerWidth/sA.MINIMUM_HTML_ELEMENT_WIDTH)!==0&&(o=Math.min(o,Math.floor(t.containerWidth/sA.MINIMUM_HTML_ELEMENT_WIDTH)));const a=e.collapseFrom===s0.START,l=a?Xo(e.items).reverse().slice(0,o):e.items.slice(0,o),u=a?Xo(e.items).reverse().slice(o):e.items.slice(o);s.visible=l,s.overflow=u,s.maxCount=o}s.pivot=-1,s.overflowStatus="calculating"}return s}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e},()=>{var t,r;(r=(t=this.props).onVisibleStateChange)===null||r===void 0||r.call(t,e)})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,t){const r=e.items.map(u=>u.key),s=this.props.items.map(u=>u.key);je(r,s)||(this.itemRefs={},this.setState({visibleState:new Map}));const{overflow:i,containerWidth:o,visible:a,overflowStatus:l}=this.state;this.isScrollMode()||l!=="calculating"||this.foundation.handleCollapseOverflow()}render(){const e=this.renderItemList(),{renderMode:t}=this.props;return t===nh.SCROLL?m.createElement(sT,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):m.createElement(za,{onResize:this.resize},e)}}Df.__SemiComponentName__="OverflowList";Df.defaultProps=Ps(Df.__SemiComponentName__,{collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null,overflowRenderDirection:"both"});Df.propTypes={className:c.string,collapseFrom:c.oneOf(zl.BOUNDARY_SET),direction:c.oneOf(zl.POSITION_SET),items:c.array,minVisibleItems:c.number,onIntersect:c.func,onOverflow:c.func,overflowRenderer:c.func,renderMode:c.oneOf(zl.MODE_SET),style:c.object,threshold:c.number,visibleItemRenderer:c.func,wrapperClassName:c.string,wrapperStyle:c.object,collapseMask:c.object,overflowRenderDirection:c.string};const iT={PREFIX:`${G}-select`,PREFIX_OPTION:`${G}-select-option`,PREFIX_GROUP:`${G}-select-group`},$o={SIZE_SET:["small","large","default"],POSITION_SET:Bl.POSITION_SET,MODE_SELECT:"select",MODE_AUTOCOMPLETE:"autoComplete",STATUS:yd,SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_DROPDOWN:"dropdown"},vj={LIST_HEIGHT:270};var oA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Yge extends Ne{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();const e=this.getProp("defaultOpen"),t=this.getProp("open"),r=this._collectOptions();this._setDefaultSelection(r),(e||t)&&this.open(void 0,r),this.getProp("autoFocus")&&this.focus()}focus(){const e=this._isFilterable(),t=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&t?this.focusInput():e&&!t?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&tn(e.width)||e&&ke(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_collectOptions(){const e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:t}=this.getProps();const{defaultValue:r}=this.getProps();this._isControlledComponent()||(t=r),this._update(t,e)}handleOptionListChange(){const e=this._collectOptions(),{selections:t}=this.getStates();this.updateOptionsActiveStatus(t,e);const{defaultActiveFirstOption:r}=this.getProps();r&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){const e=this.getState("selections");let t;const{onChangeWithObject:r}=this.getProps(),s=this._isMultiple();switch(!0){case(s&&!!e.size):try{t=[...e].map(o=>r?o[1]:o[1].value)}catch{t=[]}break;case(s&&!e.size):t=[];break;case(!s&&!!e.size):try{t=r?[...e][0][1]:[...e][0][1].value}catch{}break;case(!s&&!e.size):break}const i=this._adapter.getOptionsFromChildren();this._update(t,i)}handleValueChange(e){const{allowCreate:t,autoClearSearchValue:r,remote:s}=this.getProps(),{inputValue:i}=this.getStates();let o;t&&this._isControlledComponent()?(o=this.getState("options"),o.forEach(a=>a._show=!0)):o=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!r&&i&&!s&&(o=this._filterOption(o,i)),this._update(e,o)}_update(e,t){let r;this._isMultiple()?(r=this._updateMultiple(e,t),this.updateOverflowItemCount(r.size)):r=this._updateSingle(e,t),this._adapter.updateSelection(r),this.updateOptionsActiveStatus(r,t)}_updateSingle(e,t){const r=new Map,{onChangeWithObject:s}=this.getProps(),i=s&&typeof e<"u"?e.value:e,o=t.filter(l=>l.value===i),a=!o.length&&typeof i<"u"&&i!==null;if(o.length){const l=o[0],u=Object.assign({},l);r.set(u.label,u)}else if(a){let l={value:e,label:e,_notExist:!0,_scrollIndex:-1};s&&(l=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),r.set(l.label,l)}return r}_updateMultiple(e,t){const r=this.getState("selections");let s=[];const i=Array.isArray(e);this.checkMultipleProps(),r.size&&(s=[...r].map(u=>u[1]));const o=new Map;let a=e;const{onChangeWithObject:l}=this.getProps();return l&&i&&(a=e.map(u=>u.value)),i&&a.length&&a.forEach((u,d)=>{const h=t.findIndex(f=>f.value===u);if(h!==-1)o.set(t[h].label,t[h]);else{const f=s.findIndex(g=>g.value===u);if(f!==-1){const g=s[f];if(l){const b=Object.assign({},e[d]);je(b,g)?o.set(g.label,g):o.set(b.label,b)}else o.set(g.label,g)}else{let g={value:u,label:u,_notExist:!0};l&&(g=Object.assign(Object.assign({},e[d]),{_notExist:!0})),o.set(g.label,Object.assign(Object.assign({},g),{_scrollIndex:-1}))}}}),o}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(e){const{clickToHide:t}=this.getProps(),{isOpen:r}=this.getStates();this._isDisabled()||(r?r&&t?this.close({event:e}):r&&!t&&this.focusInput():(this.open(),this._notifyFocus(e)))}open(e,t){const r=this._isFilterable(),s=t||this.getState("options");if(r){const o=this._filterOption(s,"").filter(a=>!a._inputCreateOnly);this._adapter.updateOptions(o),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(()=>{const{searchPosition:i,autoFocus:o}=this.getProps();o&&i===$o.SEARCH_POSITION_DROPDOWN&&this._adapter.focusDropdownInput()}),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(i=>{this.close({event:i}),this._notifyBlur(i),this._adapter.updateFocusState(!1)})}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focusInput()):this._adapter.toggleInputShow(e,()=>{})}close(e){const{event:t,closeCb:r,notToggleInput:s}=e||{},{isFocus:i}=this.getStates();this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),i&&this._focusTrigger(),this._adapter.unregisterClickOutsideHandler();const o=this._isFilterable();o&&!s&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{o&&this.clearInput(t),r&&r()})}onSelect(e,t,r){if(this._isDisabled())return;e._inputCreateOnly&&this._adapter.notifyCreate(e),this._isMultiple()?this._handleMultipleSelect(e,r):this._handleSingleSelect(e,r),this._adapter.updateFocusIndex(t)}_handleSingleSelect(e,t){var{value:r,label:s}=e,i=oA(e,["value","label"]);const o=new Map().set(s,Object.assign({value:r,label:s},i));this._notifySelect(r,Object.assign({value:r,label:s},i));const a=this._isFilterable();this._isControlledComponent()?this.close({event:t,notToggleInput:!0,closeCb:()=>{this._notifyChange(o),a&&this.toggle2SearchInput(!1)}}):(this._adapter.updateSelection(o),this._notifyChange(o),this.close({event:t,closeCb:()=>{this.updateOptionsActiveStatus(o)}}))}_handleMultipleSelect(e,t){var{value:r,label:s}=e,i=oA(e,["value","label"]);const o=this._adapter.getMaxLimit(),a=this._adapter.getSelections(),{autoClearSearchValue:l}=this.getProps();if(a.has(s))this._notifyDeselect(r,Object.assign({value:r,label:s},i)),a.delete(s);else if(o&&a.size===o){this._adapter.notifyMaxLimit(Object.assign({value:r,label:s},cl(i,"_scrollIndex")));return}else this._notifySelect(r,Object.assign({value:r,label:s},i)),a.set(s,Object.assign({value:r,label:s},i));if(this._isControlledComponent())this._notifyChange(a),this._isFilterable()&&(l&&this.clearInput(t),this.focusInput());else{this._adapter.updateSelection(a),this.updateOverflowItemCount(a.size),this._adapter.rePositionDropdown();let{options:u}=this.getStates();this._isFilterable()&&(l&&(this.clearInput(t),u=this._filterOption(u,"")),this.focusInput()),this.updateOptionsActiveStatus(a,u),this._notifyChange(a)}}clearSelected(){const e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());const{isOpen:t}=this.getStates();t&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getState("options");const{allowCreate:r}=this.getProps(),s=t.map(i=>(e.has(i.label)?(i._selected=!0,r&&delete i._inputCreateOnly):(i._inputCreateOnly&&(i._show=!1),i._selected=!1),i));this._adapter.updateOptions(s)}removeTag(e){const t=this._adapter.getSelections();t.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(t)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(t),this.updateOverflowItemCount(t.size),this.updateOptionsActiveStatus(t),this._adapter.rePositionDropdown(),this._notifyChange(t))}clearInput(e){const{inputValue:t}=this.getStates();if(t!==""){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);const{options:r}=this.getStates(),{remote:s}=this.getProps();let i=r;s||(i=this._filterOption(r,"")),this._adapter.updateOptions(i)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,t){this._adapter.updateInputValue(e);const{options:r,isOpen:s}=this.getStates(),{allowCreate:i,remote:o}=this.getProps();let a=r;o||(a=this._filterOption(r,e)),a=this._createOptionByInput(i,a,e),this._adapter.updateOptions(a),this._adapter.notifySearch(e,t),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,t){const r=this.getProp("filter");if(r){if(typeof r=="boolean"&&r){const s=t.toLowerCase();return e.map(i=>{const o=i.label.toString().toLowerCase(),a=i._parentGroup&&i._parentGroup.label,l=o.includes(s),u=ke(a)&&a.toLowerCase().includes(s);return l||u?i._show=!0:i._show=!1,i})}else if(typeof r=="function")return e.map(s=>(r(t,s)?s._show=!0:s._show=!1,s))}else return e}_createOptionByInput(e,t,r){if(e)if(r){const s={_show:!0,_selected:!1,value:r,label:r,_inputCreateOnly:!0};let i=-1,o=-1;t.forEach((a,l)=>{!a._show&&!a._inputCreateOnly||(a.label===r&&(o=l),a._inputCreateOnly&&(i=l,a.value=r,a.label=r,a._show=!0))}),i===-1&&o===-1&&t.push(s),o!==-1&&(t=t.filter(a=>!a._inputCreateOnly))}else t=t.filter(s=>!s._inputCreateOnly);return t}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){const t=e.keyCode,{loading:r,filter:s,multiple:i,disabled:o}=this.getProps(),{isOpen:a}=this.getStates();if(!(r||o))switch(t){case Yn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Yn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Yn.BACKSPACE:this._handleBackspaceKeyDown();break;case Yn.ENTER:di(e),this._handleEnterKeyDown(e);break;case Yn.ESC:a&&this.close({event:e}),s&&!i&&this._focusTrigger();break;case Yn.TAB:this._handleTabKeyDown(e);break}}handleContainerKeyDown(e){const t=e.keyCode,{isOpen:r}=this.getStates();switch(t){case Yn.TAB:r&&this._handleTabKeyDown(e);break}}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(a=>a._show),i=s.length;let o=t+e;if(o<0&&(o=i-1),o>=i&&(o=0),e>0){let a=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(a=l),!(a>=o));l++);o=a}else{let a=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(a=l),!(a<=o));l--);o=a}this._adapter.updateFocusIndex(o),this._adapter.updateScrollTop(o)}_handleArrowKeyDown(e){const{isOpen:t}=this.getStates();t?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){const{isOpen:t}=this.getStates();if(this._adapter.updateFocusState(!1),t){const r=this._adapter.getContainer(),s=this._adapter.getFocusableElements(r);s.length>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(s,e):this._handlePanelOpenTabKeyDown(s,e):(this.close({event:e}),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[e.length-1]&&(this._focusTrigger(),this.close({event:t}),di(t)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),di(t))}_handlePanelOpenShiftTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),di(t)):(this.close({event:t}),this._notifyBlur(t))}_handleEnterKeyDown(e){const{isOpen:t,options:r,focusIndex:s}=this.getStates();if(!t)this.open();else if(s!==-1){const i=r.filter(a=>a._show),{length:o}=i;if(o<=s)return;if(i&&o){const a=i[s];if(a.disabled)return;this.onSelect(a,s,e)}}else this.close({event:e})}_handleBackspaceKeyDown(){if(this._isMultiple()){const e=this._adapter.getSelections(),{inputValue:t}=this.getStates(),r=e.size;if(r&&!t){const s=[...e.keys()];let i=r-1,o=s[i],a=e.get(o),l=!1;if(a.disabled&&i===0)return;for(;a.disabled&&i!==0;)i=i-1,o=s[i],a=e.get(o),i==0&&a.disabled&&(l=!0);l||this.removeTag(a)}}}_notifyChange(e){const{onChangeWithObject:t}=this.getProps(),r=this.getState("selections");let s;const i=[...e.values()],o=this._isMultiple();if(this._diffSelections(e,r,o))switch(!0){case t:this._notifyChangeWithObject(e);break;case(!t&&!o):s=i.length?i[0].value:void 0,this._adapter.notifyChange(s);break;case(!t&&o):s=i.length?i.map(l=>l.value):[],this._adapter.notifyChange(s);break}}_removeInternalKey(e){let t=Object.assign({},e);return delete t._parentGroup,delete t._show,delete t._selected,delete t._scrollIndex,delete t._keyInJsx,"_keyInOptionList"in t&&(t.key=t._keyInOptionList,delete t._keyInOptionList),t}_notifySelect(e,t){const r=this._removeInternalKey(t);this._adapter.notifySelect(e,r)}_notifyDeselect(e,t){const r=this._removeInternalKey(t);this._adapter.notifyDeselect(e,r)}_diffSelections(e,t,r){let s=!0,i=!0;if(!r){const o=[...e.values()],a=[...t.values()],l=o[0]?o[0].value:o[0],u=a[0]?a[0].value:a[0];i=!je(l,u);const d=o[0]?o[0].label:o[0],h=a[0]?a[0].label:a[0];s=!je(d,h)}return i||s}_notifyChangeWithObject(e){this.getState("selections");const t=[];for(const r of e.entries()){let s=Object.assign({label:r[0]},r[1]);s=this._removeInternalKey(s),t.push(s)}this._isMultiple()?this._adapter.notifyChange(t):this._adapter.notifyChange(t[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){const{filter:t,searchPosition:r}=this.getProps();t&&r===$o.SEARCH_POSITION_TRIGGER&&this.clearInput(e),this.focus(),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===TC&&this.handleClick(e)}handleClearBtnEnterPress(e){ti(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){this.getProps();const{isOpen:t,isFocus:r}=this.getStates();r&&!t&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){const{filter:t,autoFocus:r}=this.getProps(),{showInput:s}=this.getStates(),i=this._isMultiple();t&&!i&&(s||r)&&this.toggle2SearchInput(!1)}selectAll(){const{options:e}=this.getStates(),{onChangeWithObject:t}=this.getProps();let r=[];if(!this._isMultiple()){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}t?r=e:r=e.map(i=>i.value),this.handleValueChange(r),this._adapter.notifyChange(r)}checkMultipleProps(e){if(this._isMultiple()){const t=e||this.getProps(),{defaultValue:r,value:s}=t,i=s||r;!St(i)&&!Array.isArray(i)&&qt(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,t){const{maxTagCount:r,ellipsisTrigger:s}=this.getProps();s&&(t?this._adapter.updateOverflowItemCount(t):typeof r=="number"&&(e-r>0?this._adapter.updateOverflowItemCount(e-r):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){const{isFullTags:e}=this.getStates();e||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}const rh=q$.PREFIX,yj=Sd.TAG_SIZE,qge=Sd.AVATAR_SHAPE;class kf extends D.PureComponent{renderNTag(e,t){const{size:r,showPopover:s,popoverProps:i,onPlusNMouseEnter:o}=this.props;let a=m.createElement(Or,{closable:!1,size:r,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:o},"+",e);return s&&(a=m.createElement(xr,Object.assign({showArrow:!0,content:t,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${rh}-rest-group-popover`},i,{key:"_+n_Popover"}),a)),a}renderMergeTags(e){const{maxTagCount:t,tagList:r,restCount:s}=this.props,i=s||r.length-t;let o=e;const a=e.slice(0,t),l=e.slice(t);let u=null;return i>0&&(u=this.renderNTag(i,l),a.push(u),o=a),o}renderAllTags(){const{tagList:e,size:t,mode:r,avatarShape:s,onTagClose:i}=this.props;return e.map(a=>{if(r==="custom")return a;const l=Object.assign({},a);return l.size||(l.size=t),l.avatarShape||(l.avatarShape=s),l.tagKey||(typeof l.children=="string"||typeof l.children=="number"?l.tagKey=l.children:l.tagKey=Math.random()),m.createElement(Or,Object.assign({},l,{key:l.tagKey,onClose:(u,d,h)=>{l.onClose&&l.onClose(u,d,h),i&&i(u,d,h)}}))})}render(){const{style:e,className:t,maxTagCount:r,size:s}=this.props,i=$({[`${rh}-group`]:!0,[`${rh}-group-max`]:r,[`${rh}-group-small`]:s==="small",[`${rh}-group-large`]:s==="large"},t),o=this.renderAllTags(),a=typeof r>"u"?o:this.renderMergeTags(o);return m.createElement("div",{style:e,className:i},a)}}kf.defaultProps={style:{},className:"",size:yj[0],avatarShape:"square",onTagClose:()=>{},onPlusNMouseEnter:()=>{}};kf.propTypes={children:c.node,style:c.object,className:c.string,maxTagCount:c.number,restCount:c.number,tagList:c.array,size:c.oneOf(yj),mode:c.string,onTagClose:c.func,showPopover:c.bool,popoverProps:c.object,avatarShape:c.oneOf(qge)};var Xge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const aA=(n,e,t,r)=>{const s=n.props;if(!n||!s)return null;const i=Object.assign(Object.assign({value:s.value,label:s.label||s.children||s.value,_show:!0,_selected:!1,_scrollIndex:t},s),{_parentGroup:e});return i._keyInJsx=r||n.key,i},Qge=n=>{let e=[],t=[];const r={label:"",children:[],_show:!1};let s=m.Children.toArray(n);s=s.filter(a=>a&&a.props);let i="",o=-1;return s.forEach(a=>{if(a.type.isSelectOption){i="option",o++;const l=aA(a,void 0,o);r.children.push(l),t.push(l)}else if(a.type.isSelectOptionGroup){i="group";let l=a.props,{children:u}=l,d=Xge(l,["children"]),h=[];Array.isArray(u)?h=u.map(b=>b.key):h.push(u.key),u=m.Children.toArray(u);const f=u.map((b,y)=>{let _=b.key;return h[y]===null&&(_=a.key+""+b.key),o++,aA(b,d,o,_)}),g=Object.assign(Object.assign({},a.props),{children:f,key:a.key});e.push(g),t=t.concat(f)}else qt(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),i==="option"&&(e=[r]),{optionGroups:e,options:t}},_j=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,o=s[e];return i(o,e,r)};var lA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Kl extends D.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,o=lA(e,["value","label","children"]);const{props:a}=this;a.disabled||a.onSelect(Object.assign(Object.assign({},o),{value:r,label:s||i}),t)}renderOptionContent(e){let{config:t,children:r,inputValue:s,prefixCls:i}=e;return ke(r)&&s?m.createElement(gp,{searchWords:t.searchWords,sourceString:t.sourceString,highlightClassName:t.highlightClassName}):r}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:o,empty:a,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:g,onMouseEnter:b,prefixCls:y,renderOptionItem:_,inputValue:v,semiOptionId:E}=e,w=lA(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),S=$(y,{[`${y}-disabled`]:r,[`${y}-selected`]:i,[`${y}-focused`]:d,[`${y}-empty`]:a,[f]:f}),O=$([`${y}-icon`]);if(a)return l===null?null:m.createElement(Pn,{componentName:"Select"},I=>m.createElement("div",{className:S,"x-semi-prop":"emptyContent"},l||I.emptyText));if(typeof _=="function"){const I=$(f,{[`${y}-custom`]:!0,[`${y}-custom-selected`]:i});return _(Object.assign({disabled:r,focused:d,selected:i,style:g,label:o,value:s,inputValue:v,onMouseEnter:T=>b(T),onClick:T=>this.onClick(Object.assign({value:s,label:o,children:t},w),T),className:I},w))}const x={searchWords:[v],sourceString:t,highlightClassName:`${y}-keyword`};return m.createElement("div",Object.assign({className:S,onClick:I=>{this.onClick(Object.assign({value:s,label:o,children:t},w),I)},onMouseEnter:I=>b&&b(I),role:"option",id:E,"aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:g},bf(w)),h?m.createElement("div",{className:O},m.createElement(jy,null)):null,ke(t)?m.createElement("div",{className:`${y}-text`},this.renderOptionContent({children:t,config:x,inputValue:v,prefixCls:y})):t)}}Kl.isSelectOption=!0;Kl.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};Kl.defaultProps={prefixCls:iT.PREFIX_OPTION};var Zge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Jge=iT.PREFIX_GROUP;class o_ extends xe{render(){const e=this.props,{label:t,className:r,style:s}=e,i=Zge(e,["label","className","style"]),o=$(r,{[Jge]:!0});return!t&&typeof t!="number"?null:m.createElement("div",Object.assign({className:o,style:s},this.getDataAttr(i)),t)}}o_.isSelectOptionGroup=!0;o_.propTypes={children:c.oneOfType([c.array,c.node]),label:c.node,className:c.string,style:c.object};var eme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const fe=iT.PREFIX,tme=0;class Zr extends xe{constructor(e){super(e),this.setOptionContainerEl=t=>this.optionContainerEl={current:t},this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.getTagItem=(t,r,s)=>{const{size:i,disabled:o}=this.props,a=t[0],{value:l}=t[1],u=t[1].disabled||o,d=(b,y)=>{y&&typeof y.preventDefault=="function"&&y.preventDefault(),this.foundation.removeTag({label:a,value:l})},{content:h,isRenderInTag:f}=s(t[1],{index:r,disabled:u,onClose:d}),g={disabled:u,closable:!u,onClose:d};return f?m.createElement(Or,Object.assign({},g,{color:"white",size:i||"large",key:l,tabIndex:-1}),h):m.createElement(D.Fragment,{key:l},h)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:tme,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=m.createRef(),this.inputRef=m.createRef(),this.dropdownInputRef=m.createRef(),this.triggerRef=m.createRef(),this.optionsRef=m.createRef(),this.optionContainerEl=m.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new NM,this.foundation=new Yge(this.adapter)}get adapter(){var e=this;const t={registerKeyDown:i=>{const o={onKeyDown:i};this.setState({keyboardEventSet:o})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:i=>{this.setState({focusIndex:i})},scrollToFocusOption:()=>{}},r={updateInputValue:i=>{this.setState({inputValue:i})},toggleInputShow:(i,o)=>{this.setState({showInput:i},()=>{o()})},focusInput:()=>{const{preventScroll:i}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:i})},focusDropdownInput:()=>{const{preventScroll:i}=this.props;this.dropdownInputRef&&this.dropdownInputRef.current&&this.dropdownInputRef.current.focus({preventScroll:i})}},s={notifyMaxLimit:i=>this.props.onExceed(i),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:i=>{const o=a=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=Mr.findDOMNode(l),h=a.target,f=a.composedPath&&a.composedPath()||[h];!(d&&d.contains(h))&&!(u&&u.contains(h))&&!(f.includes(u)||f.includes(d))&&i(a)};this.clickOutsideHandler=o,document.addEventListener("mousedown",o,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:i}=this.state;i=i+1,this.setState({optionKey:i})},notifyDeselect:(i,o)=>{delete o._parentGroup,this.props.onDeselect(i,o)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{on:(i,o)=>this.eventManager.on(i,o),off:i=>this.eventManager.off(i),once:(i,o)=>this.eventManager.once(i,o),emit:i=>this.eventManager.emit(i),getOptionsFromChildren:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.props.children,o=[],a=[];const{optionList:l}=e.props;if(l&&l.length)a=l.map((u,d)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:d},u)),o[0]={children:a,label:""};else{const u=Qge(i);o=u.optionGroups,a=u.options}return e.setState({optionGroups:o}),a},updateOptions:i=>{this.setState({options:i})},openMenu:i=>{this.setState({isOpen:!0},()=>{i==null||i()})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},updateSelection:i=>{this.setState({selections:i})},getSelections:()=>new Map(this.state.selections),notifyChange:i=>{this.props.onChange(i)},notifySelect:(i,o)=>{delete o._parentGroup,this.props.onSelect(i,o)},notifyDropdownVisibleChange:i=>{this.props.onDropdownVisibleChange(i)},notifySearch:(i,o)=>{this.props.onSearch(i,o)},notifyCreate:i=>{this.props.onCreate(i)},notifyMouseEnter:i=>{this.props.onMouseEnter(i)},notifyMouseLeave:i=>{this.props.onMouseLeave(i)},notifyFocus:i=>{this.props.onFocus(i)},notifyBlur:i=>{this.props.onBlur(i)},notifyClear:()=>{this.props.onClear()},notifyListScroll:i=>{this.props.onListScroll(i)},updateHovering:i=>{this.setState({isHovering:i})},updateFocusState:i=>{this.setState({isFocus:i})},updateOverflowItemCount:i=>{this.setState({overflowItemCount:i})},focusTrigger:()=>{try{const{preventScroll:i}=this.props;this.triggerRef.current.focus({preventScroll:i})}catch{}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:i=>jM(i),getActiveElement:()=>FM(),setIsFocusInContainer:i=>{this.setState({isFocusInContainer:i})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:i=>{let o;"renderOptionItem"in this.props?(o=`.${fe}-option-custom-selected`,i!==void 0&&(o=`.${fe}-option-custom:nth-child(${i+1})`)):(o=`.${fe}-option-selected`,i!==void 0&&(o=`.${fe}-option:nth-child(${i+1})`));let a=document.querySelector(`#${fe}-${this.selectOptionListID} ${o}`);if(Array.isArray(a)&&(a=a[0]),a){const l=a.parentNode;l.scrollTop=a.offsetTop-l.offsetTop-l.clientHeight/2+a.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=Go(),this.selectID=this.props.id||Go()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){const r=m.Children.toArray(e.children).map(o=>o.key),s=m.Children.toArray(this.props.children).map(o=>o.key);let i=!1;(!je(r,s)||!je(e.optionList,this.props.optionList))&&(i=!0,this.foundation.handleOptionListChange()),(!je(this.props.value,e.value)||i)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderTriggerInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i}=this.props,o=Z(s,"className"),a=$(`${fe}-input`,{[`${fe}-input-single`]:!t,[`${fe}-input-multiple`]:t},o),{inputValue:l,focusIndex:u}=this.state,d=Object.assign({value:l,disabled:r,className:a,onChange:this.handleInputChange},s);let h={};return t&&(h={width:l?`${l.length*16}px`:"2px"},d.style=h),m.createElement(Ln,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:"",onFocus:f=>{t&&i&&this.setState({isFocus:!0}),f.stopPropagation()},onBlur:f=>this.foundation.handleInputBlur(f)},d))}renderDropdownInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i,searchPosition:o,searchPlaceholder:a}=this.props,{inputValue:l,focusIndex:u}=this.state,d=$(`${fe}-dropdown-search-wrapper`,{}),h=Z(s,"className"),f=$(`${fe}-dropdown-input`,{[`${fe}-dropdown-input-single`]:!t,[`${fe}-dropdown-input-multiple`]:t},h),g=Object.assign(Object.assign({value:l,disabled:r,className:f,onChange:this.handleInputChange,placeholder:a,showClear:!0},s),{onKeyDown:b=>this.foundation._handleKeyDown(b)});return m.createElement("div",{className:d},m.createElement(Ln,Object.assign({ref:this.dropdownInputRef,prefix:m.createElement(p$,null),"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:""},g)))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,t,r){this.foundation.onSelect(e,t,r)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,t){this.handleInputChange(e,t)}renderEmpty(){return m.createElement(Kl,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){const e=`${fe}-loading-wrapper`;return m.createElement("div",{className:e},m.createElement(uo,null))}renderOption(e,t,r){const{focusIndex:s,inputValue:i}=this.state,{renderOptionItem:o}=this.props;let a;const l=t===s;let u=r||{};return e.style&&(u=Object.assign(Object.assign({},u),e.style)),e._inputCreateOnly?a=this.renderCreateOption(e,l,t,r):("key"in e&&(e._keyInOptionList=e.key),a=m.createElement(Kl,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(d,h)=>this.onSelect(d,t,h),focused:l,onMouseEnter:()=>this.onOptionHover(t),style:u,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+t,renderOptionItem:o,inputValue:i,semiOptionId:`${this.selectID}-option-${t}`}),e.label)),a}renderCreateOption(e,t,r,s){const{renderCreateItem:i}=this.props;if(typeof i>"u")return m.createElement(Kl,Object.assign({key:e.key||e.label+e.value,onSelect:(l,u)=>this.onSelect(l,r,u),onMouseEnter:()=>this.onOptionHover(r),showTick:!0},e,{focused:t,style:s}),m.createElement(Pn,{componentName:"Select"},l=>m.createElement(m.Fragment,null,m.createElement("span",{className:`${fe}-create-tips`},l.createText),e.value)));const o=i(e.value,t,s);return m.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:a=>this.onSelect(e,r,a),key:e.key||e.label},o)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){const t=[],r=new Map;return e.forEach((s,i)=>{const o=s._parentGroup,a=this.renderOption(s,i);if(o&&!r.has(o.label)){const l=m.createElement(o_,Object.assign({},o,{key:o.label}));r.set(o.label,!0),t.push(l)}t.push(a)}),t}renderVirtualizeList(e){const{virtualize:t}=this.props,{direction:r}=this.context,{height:s,width:i,itemSize:o}=t;return m.createElement(LC,{ref:this.virtualizeListRef,height:s||vj.LIST_HEIGHT,itemCount:e.length,itemSize:o,itemData:{visibleOptions:e,renderOption:this.renderOption},width:i||"100%",style:{direction:r}},_j)}renderOptions(e){const{dropdownMinWidth:t,options:r,selections:s}=this.state,{maxHeight:i,dropdownClassName:o,dropdownStyle:a,outerTopSlot:l,innerTopSlot:u,outerBottomSlot:d,innerBottomSlot:h,loading:f,virtualize:g,multiple:b,emptyContent:y,searchPosition:_,filter:v}=this.props,E=r.filter(I=>I._show);let w=this.renderWithGroup(E);g&&(w=this.renderVirtualizeList(E));const S=Object.assign({minWidth:t},a),O=$({[`${fe}-option-list`]:!0,[`${fe}-option-list-chosen`]:s.size}),x=!r.length||!r.some(I=>I._show);return m.createElement("div",{id:`${fe}-${this.selectOptionListID}`,className:$({[`${fe}-option-list-wrapper`]:!(x&&y===null)},o),style:S,ref:this.setOptionContainerEl,onKeyDown:I=>this.foundation.handleContainerKeyDown(I)},l?m.createElement("div",{className:`${fe}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},l):null,_===$o.SEARCH_POSITION_DROPDOWN&&v?this.renderDropdownInput():null,m.createElement("div",{style:{maxHeight:`${i}px`},className:O,role:"listbox","aria-multiselectable":b,onScroll:I=>this.foundation.handleListScroll(I)},u?m.createElement("div",{className:`${fe}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},u):null,f?this.renderLoading():x?this.renderEmpty():w,h?m.createElement("div",{className:`${fe}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},h):null),d?m.createElement("div",{className:`${fe}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},d):null)}renderSingleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i}=this.props,{showInput:o,inputValue:a}=this.state;let l="";const u=[...e];if(typeof r>"u"&&(r=g=>g.label),u.length){const g=u[0][1];l=r(g)}const d=s===$o.SEARCH_POSITION_TRIGGER,h=$({[`${fe}-selection-text`]:!0,[`${fe}-selection-placeholder`]:!l&&l!==0,[`${fe}-selection-text-hide`]:a&&o&&d,[`${fe}-selection-text-inactive`]:!a&&o&&d}),f=`${fe}-content-wrapper`;return m.createElement(m.Fragment,null,m.createElement("div",{className:f},m.createElement("span",{className:h,"x-semi-prop":"placeholder"},l||l===0?l:i),t&&o&&d?this.renderTriggerInput():null))}renderTag(e,t,r){const{size:s,disabled:i}=this.props;let{renderSelectedItem:o}=this.props;const a=e[0],{value:l}=e[1],u=e[1].disabled||i,d=(y,_)=>{_&&typeof _.preventDefault=="function"&&_.preventDefault(),this.foundation.removeTag({label:a,value:l})};typeof o>"u"&&(o=y=>({isRenderInTag:!0,content:y.label}));const{content:h,isRenderInTag:f}=o(e[1],{index:t,disabled:u,onClose:d}),g={disabled:u,closable:!u,onClose:d},b=r&&!De(this.props.renderSelectedItem)?m.createElement(Vy,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},h):h;return f?m.createElement(Or,Object.assign({},g,{color:"white",size:s||"large",key:l,style:{maxWidth:"100%"}}),b):m.createElement(D.Fragment,{key:l},b)}renderNTag(e,t){const{size:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props;let o=m.createElement(Or,{closable:!1,size:r||"large",color:"grey",className:`${fe}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return s&&(o=m.createElement(xr,Object.assign({showArrow:!0,content:m.createElement(eo,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},t.map((a,l)=>this.renderTag(a,l))),trigger:"hover",position:"top",autoAdjustOverflow:!0},i,{key:`_+${e}_Popover`}),o)),o}renderOverflow(e,t){return e.length&&e[0]?this.renderTag(e[0],t,!0):null}handleOverflow(e){const{overflowItemCount:t,selections:r}=this.state,{maxTagCount:s}=this.props,i=r.size-s>0?r.size-s+e.length-1:e.length-1;t!==i&&this.foundation.updateOverflowItemCount(r.size,i)}renderCollapsedTags(e,t){const{overflowItemCount:r}=this.state,s=typeof t=="number"?e.slice(0,t):e;return m.createElement("div",{className:`${fe}-content-wrapper-collapse`},m.createElement(Df,{items:s,key:String(e.length),overflowRenderer:i=>this.renderOverflow(i,t-1),onOverflow:i=>this.handleOverflow(i),visibleItemRenderer:(i,o)=>this.renderTag(i,o)}),r>0&&this.renderNTag(r,e.slice(e.length-r)))}renderOneLineTags(e,t){let{renderSelectedItem:r}=this.props;const{showRestTagsPopover:s,restTagsPopoverProps:i,maxTagCount:o}=this.props,{isFullTags:a}=this.state;let l;if(typeof r>"u"&&(r=u=>({isRenderInTag:!0,content:u.label})),s){const d=(a?e:e.slice(0,o)).map((h,f)=>this.getTagItem(h,f,r));l=m.createElement(kf,{tagList:d,maxTagCount:t,restCount:a?void 0:e.length-o,size:"large",mode:"custom",showPopover:s,popoverProps:i,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{const d=e.slice(0,o).map((h,f)=>this.getTagItem(h,f,r));l=m.createElement(kf,{tagList:d,maxTagCount:t,restCount:e.length-o,size:"large",mode:"custom"})}return l}renderMultipleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i,maxTagCount:o,expandRestTagsOnClick:a,ellipsisTrigger:l}=this.props,{inputValue:u,isOpen:d}=this.state,h=[...e];typeof r>"u"&&(r=S=>({isRenderInTag:!0,content:S.label}));const f=$({[`${fe}-content-wrapper`]:!0,[`${fe}-content-wrapper-one-line`]:o&&!d,[`${fe}-content-wrapper-empty`]:!h.length}),g=$({[`${fe}-selection-text`]:!0,[`${fe}-selection-placeholder`]:!h.length,[`${fe}-selection-text-hide`]:h.length}),b=i&&!u?m.createElement("span",{className:g},i):null,y=h.length>o?o:void 0,_=!o,v=l?this.renderCollapsedTags(h,y):this.renderOneLineTags(h,y),E=_||a&&d?h.map((S,O)=>this.renderTag(S,O)):v,w=t&&s===$o.SEARCH_POSITION_TRIGGER;return m.createElement(m.Fragment,null,m.createElement("div",{className:f},h.length?E:b,w?this.renderTriggerInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){const{virtualize:t}=this.props,{selections:r}=this.state;if(e)if(t){let s=-1;if(r.forEach(i=>{const o=Z(i,"_scrollIndex");tn(o)&&o>=0&&(s=s!==-1&&s<o?s:o)}),s!==-1)try{this.virtualizeListRef.current.scrollToItem(s,"center")}catch{}}else this.foundation.updateScrollTop()}renderSuffix(){const{suffix:e}=this.props,t=$({[`${fe}-suffix`]:!0,[`${fe}-suffix-text`]:e&&ke(e),[`${fe}-suffix-icon`]:Cr(e)});return m.createElement("div",{className:t,"x-semi-prop":"suffix"},e)}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t,i=$({[`${fe}-prefix`]:!0,[`${fe}-inset-label`]:t,[`${fe}-prefix-text`]:s&&ke(s),[`${fe}-prefix-icon`]:Cr(s)});return m.createElement("div",{className:i,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSelection(){const e=this.props,{disabled:t,multiple:r,filter:s,style:i,id:o,size:a,className:l,validateStatus:u,showArrow:d,suffix:h,prefix:f,insetLabel:g,placeholder:b,triggerRender:y,arrowIcon:_,clearIcon:v,borderless:E}=e,w=eme(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:S,isOpen:O,keyboardEventSet:x,inputValue:I,isHovering:T,isFocus:P,showInput:A,focusIndex:k}=this.state,M=typeof y=="function",N=!!s,W=M?$(l):$(fe,l,{[`${fe}-borderless`]:E,[`${fe}-open`]:O,[`${fe}-focus`]:P,[`${fe}-disabled`]:t,[`${fe}-single`]:!r,[`${fe}-multiple`]:r,[`${fe}-filterable`]:N,[`${fe}-small`]:a==="small",[`${fe}-large`]:a==="large",[`${fe}-error`]:u==="error",[`${fe}-warning`]:u==="warning",[`${fe}-no-arrow`]:!d,[`${fe}-with-prefix`]:f||g,[`${fe}-with-suffix`]:h}),q=this.props.showClear&&(S.size||I)&&!t&&(T||O),K=d?m.createElement("div",{className:`${fe}-arrow`,"x-semi-prop":"arrowIcon"},_):m.createElement("div",{className:`${fe}-arrow-empty`}),ee=v||m.createElement(dl,null),V=M?m.createElement(Tu,{value:Array.from(S.values()),inputValue:I,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:B=>this.foundation.removeTag(B),onClear:this.onClear,disabled:t,triggerRender:y,placeholder:b,componentName:"Select",componentProps:Object.assign({},this.props)}):[m.createElement(D.Fragment,{key:"prefix"},f||g?this.renderPrefix():null),m.createElement(D.Fragment,{key:"selection"},m.createElement("div",{className:$(`${fe}-selection`)},r?this.renderMultipleSelection(S,N):this.renderSingleSelection(S,N))),m.createElement(D.Fragment,{key:"suffix"},h?this.renderSuffix():null),m.createElement(D.Fragment,{key:"clearicon"},q?m.createElement("div",{className:$(`${fe}-clear`),onClick:this.onClear},ee):K)],z=t||N&&A||N&&r?-1:0;return m.createElement("div",Object.assign({role:"combobox","aria-disabled":t,"aria-expanded":O,"aria-controls":`${fe}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":S.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:W,ref:B=>this.triggerRef.current=B,onClick:B=>this.foundation.handleClick(B),style:i,id:this.selectID,tabIndex:z,"aria-activedescendant":k!==-1?`${this.selectID}-option-${k}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:B=>this.foundation.handleTriggerFocus(B),onBlur:B=>this.foundation.handleTriggerBlur(B),onKeyPress:this.onKeyPress},x,this.getDataAttr(w)),V)}render(){const{direction:e}=this.context,t=e==="rtl"?"bottomRight":"bottomLeft",{children:r,position:s=t,zIndex:i,getPopupContainer:o,motion:a,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,spacing:h,stopPropagation:f,dropdownMargin:g}=this.props,{isOpen:b,optionKey:y}=this.state,_=this.renderSelection();return m.createElement(xr,{getPopupContainer:o,motion:a,margin:g,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,zIndex:i,ref:this.optionsRef,content:()=>this.renderOptions(r),visible:b,trigger:"custom",rePosKey:y,position:s,spacing:h,stopPropagation:f,disableArrowKeyDown:!0,onVisibleChange:v=>this.handlePopoverVisibleChange(v),afterClose:()=>this.foundation.handlePopoverClose()},_)}}Zr.contextType=Vr;Zr.Option=Kl;Zr.OptGroup=o_;Zr.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoClearSearchValue:c.bool,borderless:c.bool,children:c.node,clearIcon:c.node,defaultValue:c.oneOfType([c.string,c.number,c.array,c.object]),ellipsisTrigger:c.bool,value:c.oneOfType([c.string,c.number,c.array,c.object]),placeholder:c.node,onChange:c.func,multiple:c.bool,filter:c.oneOfType([c.func,c.bool]),max:c.number,maxTagCount:c.number,maxHeight:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,size:c.oneOf($o.SIZE_SET),disabled:c.bool,emptyContent:c.node,expandRestTagsOnClick:c.bool,onDropdownVisibleChange:c.func,zIndex:c.number,position:c.oneOf($o.POSITION_SET),onSearch:c.func,getPopupContainer:c.func,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),outerTopSlot:c.node,innerTopSlot:c.node,inputProps:c.object,outerBottomSlot:c.node,innerBottomSlot:c.node,optionList:c.array,dropdownMatchSelectWidth:c.bool,loading:c.bool,defaultOpen:c.bool,validateStatus:c.oneOf($o.STATUS),defaultActiveFirstOption:c.bool,triggerRender:c.func,stopPropagation:c.bool,searchPosition:c.string,motion:c.bool,onChangeWithObject:c.bool,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,showClear:c.bool,showArrow:c.bool,renderSelectedItem:c.func,allowCreate:c.bool,renderCreateItem:c.func,onMouseEnter:c.func,onMouseLeave:c.func,clickToHide:c.bool,onExceed:c.func,onCreate:c.func,remote:c.bool,onDeselect:c.func,onSelect:c.func,autoAdjustOverflow:c.bool,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,spacing:c.oneOfType([c.number,c.object]),onBlur:c.func,onFocus:c.func,onClear:c.func,virtualize:c.object,renderOptionItem:c.func,onListScroll:c.func,arrowIcon:c.node,preventScroll:c.bool};Zr.__SemiComponentName__="Select";Zr.defaultProps=Ps(Zr.__SemiComponentName__,{stopPropagation:!0,motion:!0,borderless:!1,zIndex:Ss.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:j,onChangeWithObject:!1,onChange:j,onSearch:j,onMouseEnter:j,onMouseLeave:j,onDeselect:j,onSelect:j,onCreate:j,onExceed:j,onFocus:j,onBlur:j,onClear:j,onListScroll:j,maxHeight:vj.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,searchPosition:$o.SEARCH_POSITION_TRIGGER,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:m.createElement($y,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1});const nme={PREFIX:`${G}-progress`},Lr={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};function rme(n,e,t){try{const r=sme(n,e,t);if(r.length!==0)return r}catch{return}}function sme(n,e,t){if(n.sort((s,i)=>s.percent-i.percent),n[0].percent>e)return Lr.STROKE_DEFAULT;const r=n[n.length-1];if(r.percent<e)return sh(r.color);for(const[s,i]of n.entries()){if(i.percent===e)return sh(i.color);if(e>i.percent)continue;const o=n[s-1];return t?ime({startColor:sh(o.color),endColor:sh(i.color),size:i.percent-o.percent-1},e-o.percent-1):sh(o.color)}}function ime(n,e){const{startColor:t,endColor:r,size:s}=n,i=t.split(""),o=r.split(""),a=[parseInt(`${i[1]}${i[2]}`,16),parseInt(`${o[1]}${o[2]}`,16)],l=[parseInt(`${i[3]}${i[4]}`,16),parseInt(`${o[3]}${o[4]}`,16)],u=[parseInt(`${i[5]}${i[6]}`,16),parseInt(`${o[5]}${o[6]}`,16)],d=[parseInt(`${i[7]}${i[8]}`,16),parseInt(`${o[7]}${o[8]}`,16)],h=(a[0]-a[1])/(s+1),f=(l[0]-l[1])/(s+1),g=(u[0]-u[1])/(s+1),b=(d[0]-d[1])/(s+1);function y(v){const E=Math.round(a[0]-h*(v+1)).toString(16),w=Math.round(l[0]-f*(v+1)).toString(16),S=Math.round(u[0]-g*(v+1)).toString(16),O=`${_(E)}${_(w)}${_(S)}`,x=Math.floor(b*(v+1)+d[1]).toString(16);return $s.Hex(`#${O}`,x)}function _(v){return v.length===1?`0${v}`:v.length===0?"00":v}if(typeof e>"u"){const v=[t];for(let E=0;E<s;E+=1)v.push(y(E));return v}return y(e)}function sh(n){if(n=n.trim().toLowerCase(),vc.hex.test(n))return $s.Hex(n,void 0);if(vc.hslA.test(n))return $s.Hex($s.HslA(n),void 0);if(vc.rgbA.test(n))return $s.Hex($s.RgbA(n),void 0);if(vc.semiDesignTokens.test(n))return uA.ALONG.indexOf(n)!==-1?$s.SemiDesignToken(n):uA.SEQUENCE.indexOf(n)!==-1?$s.SemiDesignToken(`${n}-5`):$s.SemiDesignToken(`${n}`)}const $s={Hex(n,e){return n=n.replace("#",""),n.length===8?`#${n}`:n.length===6?`#${n}${e||"ff"}`:(n.length===3&&(n=n.split("").map(t=>t+t).join("")),`#${n}${e||"ff"}`)},SemiDesignToken(n){if(typeof window>"u")return;const e=getComputedStyle(document.body).getPropertyValue(`--semi-${n}`);if(e==="")return;const t=`rgba(${e}, 1)`;return $s.RgbA(t)},HslA(n){const e=vc.hslA.exec(n),t=parseInt(e[2]),r=parseInt(e[3])/100,s=parseInt(e[4])/100,i=e[5],o=(1-Math.abs(2*s-1))*r,a=o*(1-Math.abs(t/60%2-1)),l=s-o/2;let u=0,d=0,h=0;return 0<=t&&t<60?(u=o,d=a,h=0):60<=t&&t<120?(u=a,d=o,h=0):120<=t&&t<180?(u=0,d=o,h=a):180<=t&&t<240?(u=0,d=a,h=o):240<=t&&t<300?(u=a,d=0,h=o):300<=t&&t<360&&(u=o,d=0,h=a),u=Math.round((u+l)*255).toString(16),d=Math.round((d+l)*255).toString(16),h=Math.round((h+l)*255).toString(16),$s.utils.pAL(u,d,h,i)},RgbA(n){const e=vc.rgbA.exec(n),t=parseInt(e[2],10).toString(16),r=parseInt(e[3],10).toString(16),s=parseInt(e[4],10).toString(16),i=e[5];return $s.utils.pAL(t,r,s,i)},utils:{pAL(n,e,t,r){return n.length==1&&(n="0"+n),e.length==1&&(e="0"+e),t.length==1&&(t="0"+t),typeof r<"u"?(r=Math.round(parseInt(r)*255).toString(16),r.length==1&&(r="0"+r),"#"+n+e+t+r):"#"+n+e+t}}},vc={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},uA={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var cA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const oi=nme.PREFIX;class Av extends D.Component{constructor(e){super(e),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}componentDidUpdate(e){if(isNaN(this.props.percent)||isNaN(e.percent))throw new Error("[Semi Progress]:percent can not be NaN");if(e.percent!==this.props.percent){if(!this.props.motion){this.setState({percentNumber:this.props.percent});return}this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new x$({from:{value:e.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",t=>{if(this._mounted===!1)return;const r=parseInt(t.value);this.setState({percentNumber:r})}),this.animation.on("rest",()=>{this._mounted!==!1&&this.setState({percentNumber:this.props.percent})}),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){const e=this.props,{strokeLinecap:t,style:r,className:s,strokeWidth:i,format:o,size:a,stroke:l,strokeGradient:u,showInfo:d,percent:h,orbitStroke:f,id:g}=e,b=cA(e,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),y=this.props["aria-label"],_=this.props["aria-labelledby"],v=this.props["aria-valuetext"],{percentNumber:E}=this.state,w={wrapper:$(`${oi}-circle`,s),svg:$(`${oi}-circle-ring`),circle:$(`${oi}-circle-ring-inner`)},S=this.calcPercent(h),O=this.calcPercent(E);let x;this.props.width?x=this.props.width:a===Lr.DEFAULT_SIZE?x=72:x=24;const I=this.selectStroke(l,h,u),T=x/2,P=x/2,A=(x-i)/2,k=A*2*Math.PI,M=(1-S/100)*k,N=`${k} ${k}`,W=o(O);return m.createElement("div",Object.assign({id:g,className:w.wrapper,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":O,"aria-labelledby":_,"aria-label":y,"aria-valuetext":v},bf(b)),m.createElement("svg",{key:a,className:w.svg,height:x,width:x,"aria-hidden":!0},m.createElement("circle",{strokeDashoffset:0,strokeWidth:i,strokeDasharray:N,strokeLinecap:t,fill:"transparent",stroke:f,r:A,cx:P,cy:T,"aria-hidden":!0}),m.createElement("circle",{className:w.circle,strokeDashoffset:M,strokeWidth:i,strokeDasharray:N,strokeLinecap:t,fill:"transparent",stroke:I,r:A,cx:P,cy:T,"aria-hidden":!0})),d&&a!=="small"?m.createElement("span",{className:`${oi}-circle-text`},W):null)}calcPercent(e){let t;return e>100?t=100:e<0?t=0:t=e,t}selectStroke(e,t,r){if(typeof e=="string")return e;const s=rme(e,t,r);return typeof s<"u"?s:Lr.STROKE_DEFAULT}renderLineProgress(){const e=this.props,{className:t,style:r,stroke:s,strokeGradient:i,direction:o,format:a,showInfo:l,size:u,percent:d,orbitStroke:h,id:f}=e,g=cA(e,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),b=this.props["aria-label"],y=this.props["aria-labelledby"],_=this.props["aria-valuetext"],{percentNumber:v}=this.state,E=$(oi,t,{[`${oi}-horizontal`]:o===Lr.DEFAULT_DIRECTION,[`${oi}-vertical`]:o!==Lr.DEFAULT_DIRECTION,[`${oi}-large`]:u==="large"}),w=$({[`${oi}-track`]:!0}),S=$(`${oi}-track-inner`),O=this.calcPercent(d),x=this.calcPercent(v),T={background:this.selectStroke(s,d,i)};o===Lr.DEFAULT_DIRECTION?T.width=`${O}%`:T.height=`${O}%`;const P=a(x);return m.createElement("div",Object.assign({id:f,className:E,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":O,"aria-labelledby":y,"aria-label":b,"aria-valuetext":_},bf(g)),m.createElement("div",{className:w,style:h?{backgroundColor:h}:{},"aria-hidden":!0},m.createElement("div",{className:S,style:T,"aria-hidden":!0})),l?m.createElement("div",{className:`${oi}-line-text`},P):null)}render(){const{type:e}=this.props;return e==="line"?this.renderLineProgress():this.renderCircleProgress()}}Av.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-valuetext":c.string,className:c.string,direction:c.oneOf(Lr.directions),format:c.oneOfType([c.func,c.node]),id:c.string,motion:c.oneOfType([c.bool,c.func,c.object]),orbitStroke:c.string,percent:c.number,scale:c.number,showInfo:c.bool,size:c.oneOf(Lr.sizes),stroke:c.oneOfType([c.string,c.arrayOf(c.shape({percent:c.number,color:c.string}))]),strokeGradient:c.bool,strokeLinecap:c.oneOf(Lr.strokeLineCap),strokeWidth:c.number,style:c.object,type:c.oneOf(Lr.types),width:c.number};Av.defaultProps={className:"",direction:Lr.DEFAULT_DIRECTION,format:n=>`${n}%`,motion:!0,orbitStroke:"var(--semi-color-fill-0)",percent:0,showInfo:!1,size:Lr.DEFAULT_SIZE,stroke:Lr.STROKE_DEFAULT,strokeGradient:!1,strokeLinecap:Lr.DEFAULT_LINECAP,strokeWidth:4,style:{},type:Lr.DEFAULT_TYPE};const bj={PREFIX:`${G}-radio`,INNER:`${G}-radio-inner`,TEXT:`${G}-radio-text`,INPUT:`${G}-radio-input`,CHECKED:`${G}-radio-checked`,DISABLED:`${G}-radio-disabled`,BUTTON:`${G}-radio-button`},ome={PREFIX:`${G}-radioGroup`,INNER:`${G}-radioGroup-inner`,TEXT:`${G}-radioGroup-text`,INPUT:`${G}-radioGroup-input`,CHECKED:`${G}-radioGroup-checked`,DISABLED:`${G}-radioGroup-disabled`},Sn={DIRECTION_SET:["horizontal","vertical"],DEFAULT_DIRECTION:"horizontal",MODE:["advanced",""],TYPE_DEFAULT:"default",TYPE_BUTTON:"button",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",BUTTON_SIZE:["middle","small","large"]};class ame extends Ne{constructor(e){super(Object.assign({},e))}init(){const e=this._getDisplayValue();this._setValue(e)}_getDisplayValue(){const{value:e,defaultValue:t}=this.getProps();let r;return"value"in this.getProps()?r=e:"defaultValue"in this.getProps()&&(r=t),r}handleChange(e){const t=this.getProp("mode"),r=this.getState("value"),{checked:s,value:i}=e.target,o=this._adapter.isInProps("value"),a=Object.assign(Object.assign({},e),{target:Object.assign(Object.assign({},e.target),{value:i})});t==="advanced"&&!s&&(a.target.value=void 0),o||(t==="advanced"&&!s?this._setValue(void 0):this._setValue(i)),(t==="advanced"||r!==i)&&this._adapter.notifyChange(a)}handlePropValueChange(e){this._setValue(e)}_setValue(e){this._adapter.setValue(e)}destroy(){}}class lme extends Ne{constructor(){super(...arguments),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{qt(!0,"Warning: [Semi Radio] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this._adapter.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}setHover(e){this._adapter.setHover(e)}setChecked(e){this._adapter.setChecked(e)}}class ume extends Ne{constructor(e){super(Object.assign({},e))}init(){const e=this._adapter.getProp("checked"),t=this._adapter.getProp("defaultChecked");this.setChecked(e||t)}setChecked(e){this._adapter.setNativeControlChecked(e)}getChecked(){return this._adapter.getProp("checked")}handleChange(e){const t="checked"in this.getProps(),{checked:r}=e.target,s=()=>{e.stopPropagation()},i=()=>{e.preventDefault()},o={target:Object.assign(Object.assign({},this.getProps()),{checked:r}),stopPropagation:s,preventDefault:i};t?this._adapter.notifyChange(o):(this.setChecked(r),this._adapter.notifyChange(o))}destroy(){}}const oT=m.createContext(null);class a_ extends xe{constructor(e){super(e),this.state={checked:!1},this.foundation=new ume(this.adapter),this.onChange=this.onChange.bind(this)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{this.props.onChange(e)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e){e.checked!==this.props.checked&&this.foundation.setChecked(this.props.checked)}componentWillUnmount(){this.foundation.destroy()}blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}onChange(e){this.foundation.handleChange(e)}render(){const{disabled:e,mode:t,autoFocus:r,name:s,isButtonRadio:i,isPureCardRadioGroup:o,addonId:a,extraId:l,"aria-label":u,focusInner:d,onInputFocus:h,onInputBlur:f}=this.props,{checked:g}=this.state,b=this.props.prefixCls||bj.PREFIX,y=$({[`${b}-inner`]:!0,[`${b}-inner-checked`]:!!g,[`${b}-inner-buttonRadio`]:i,[`${b}-inner-pureCardRadio`]:o}),_=$({[`${b}-focus`]:d,[`${b}-focus-border`]:d&&!g,[`${b}-inner-display`]:!i});return m.createElement("span",{className:y},m.createElement("input",{ref:v=>{this.inputEntity=v},autoFocus:r,type:t==="advanced"?"checkbox":"radio",checked:!!g,disabled:e,onChange:this.onChange,name:s,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,onFocus:h,onBlur:f}),m.createElement("span",{className:_},g?m.createElement(lie,null):null))}}a_.contextType=oT;a_.propTypes={checked:c.bool,disabled:c.bool,isButtonRadio:c.bool,onChange:c.func,mode:c.oneOf(["advanced",""]),"aria-label":c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};a_.defaultProps={onChange:j,isButtonRadio:!1};var cme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class iu extends xe{constructor(e){super(e),this.onChange=t=>{const{onChange:r}=this.props;if(this.isInGroup()){const{radioGroup:s}=this.context;s.onChange&&s.onChange(t)}!("checked"in this.props)&&this.foundation.setChecked(t.target.checked),r&&r(t)},this.handleMouseEnter=t=>{this.props.onMouseEnter(t),this.foundation.setHover(!0)},this.handleMouseLeave=t=>{this.props.onMouseLeave(t),this.foundation.setHover(!1)},this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:e.addonId,extraId:e.extraId,checked:e.checked||e.defaultChecked||!1},this.foundation=new lme(this.adapter),this.radioEntity=null}componentDidUpdate(e){this.props.checked!==e.checked&&(Ct(this.props.checked)?this.foundation.setChecked(!1):Y$(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:e=>{this.setState({hover:e})},setAddonId:()=>{this.setState({addonId:Go({prefix:"addon"})})},setChecked:e=>{this.setState({checked:e})},setExtraId:()=>{this.setState({extraId:Go({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){const e=this.props,{addonClassName:t,addonStyle:r,disabled:s,style:i,className:o,prefixCls:a,displayMode:l,children:u,extra:d,mode:h,type:f,value:g,name:b}=e,y=cme(e,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]);let _,v,E,w,S,O,x,I,T;const{hover:P,addonId:A,extraId:k,focusVisible:M,checked:N}=this.state,W={checked:N,disabled:s};this.isInGroup()?(_=this.context.radioGroup.value===g,v=s||this.context.radioGroup.disabled,E=this.context.mode,w=this.context.radioGroup.isButtonRadio,S=this.context.radioGroup.isCardRadio,O=this.context.radioGroup.isPureCardRadio,I=this.context.radioGroup.buttonSize,T=a||this.context.radioGroup.prefixCls,W.checked=_,W.disabled=v):(_=N,v=s,E=h,x=f==="button",T=a,w=f===Sn.TYPE_BUTTON,O=f===Sn.TYPE_PURECARD,S=f===Sn.TYPE_CARD||O);const q=typeof w>"u"?x:w,K=T||bj.PREFIX,ee=S||O||q,V=$(K,{[`${K}-disabled`]:v,[`${K}-checked`]:_,[`${K}-${l}`]:!!l,[`${K}-buttonRadioComponent`]:x,[`${K}-buttonRadioGroup`]:w,[`${K}-buttonRadioGroup-${I}`]:w&&I,[`${K}-cardRadioGroup`]:S,[`${K}-cardRadioGroup_disabled`]:v&&S,[`${K}-cardRadioGroup_checked`]:S&&_&&!v,[`${K}-cardRadioGroup_checked_disabled`]:S&&_&&v,[`${K}-cardRadioGroup_hover`]:S&&!_&&P&&!v,[o]:!!o,[`${K}-focus`]:M&&(S||O)}),z=this.isInGroup()&&this.context.radioGroup.name,B=$({[`${K}-addon`]:!q,[`${K}-addon-buttonRadio`]:q,[`${K}-addon-buttonRadio-checked`]:q&&_,[`${K}-addon-buttonRadio-disabled`]:q&&v,[`${K}-addon-buttonRadio-hover`]:q&&!_&&!v&&P,[`${K}-addon-buttonRadio-${I}`]:q&&I,[`${K}-focus`]:M&&q},t),oe=()=>!u&&!d?null:m.createElement("div",{className:$([`${K}-content`,{[`${K}-isCardRadioGroup_content`]:S}])},u?m.createElement("span",{className:B,style:r,id:A,"x-semi-prop":"children"},u):null,d&&!q?m.createElement("div",{className:`${K}-extra`,id:k,"x-semi-prop":"extra"},d):null);return m.createElement("label",Object.assign({style:i,className:V,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(y)),m.createElement(a_,Object.assign({},this.props,W,{mode:E,name:b??z,isButtonRadio:q,isPureCardRadioGroup:O,onChange:this.onChange,ref:ne=>{this.radioEntity=ne},addonId:u&&A,extraId:d&&k,focusInner:M&&!ee,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),oe())}}iu.contextType=oT;iu.propTypes={autoFocus:c.bool,checked:c.bool,defaultChecked:c.bool,value:c.any,style:c.object,className:c.string,disabled:c.bool,prefixCls:c.string,displayMode:c.oneOf(["vertical",""]),onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,mode:c.oneOf(Sn.MODE),extra:c.node,addonStyle:c.object,addonClassName:c.string,type:c.oneOf([Sn.TYPE_DEFAULT,Sn.TYPE_BUTTON,Sn.TYPE_CARD,Sn.TYPE_PURECARD]),"aria-label":c.string,preventScroll:c.bool};iu.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:j,onMouseLeave:j,mode:"",type:"default"};iu.elementType="Radio";var dme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class aT extends xe{constructor(e){super(e),this.onChange=t=>{this.foundation.handleChange(t)},this.getFormatName=()=>this.props.name||"default",this.state={value:e.value||e.defaultValue},this.foundation=new ame(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){typeof e.value=="number"&&isNaN(e.value)&&typeof this.props.value=="number"&&isNaN(this.props.value)||e.value!==this.props.value&&this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>{this.setState({value:e})},getProps:()=>this.props,isInProps:e=>e in this.props,notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}render(){const e=this.props,{children:t,options:r,mode:s,prefixCls:i,className:o,style:a,direction:l,type:u,buttonSize:d,id:h}=e,f=dme(e,["children","options","mode","prefixCls","className","style","direction","type","buttonSize","id"]),g=u===Sn.TYPE_BUTTON,b=u===Sn.TYPE_PURECARD,y=u===Sn.TYPE_CARD||b,_=u===Sn.TYPE_DEFAULT,v=i||ome.PREFIX,E=$(o,{[v]:!0,[`${v}-wrapper`]:!0,[`${v}-${l}`]:l&&!g,[`${v}-${l}-default`]:l&&_,[`${v}-${l}-card`]:l&&y,[`${v}-buttonRadio`]:g}),w=this.state.value;let S;return r?S=(r||[]).map((O,x)=>typeof O=="string"?m.createElement(iu,{key:x,disabled:this.props.disabled,value:O},O):m.createElement(iu,{key:x,disabled:O.disabled||this.props.disabled,value:O.value,extra:O.extra,className:O.className,style:O.style},O.label)):t&&(S=m.Children.map(t,(O,x)=>m.isValidElement(O)?m.cloneElement(O,{key:x}):null)),m.createElement("div",Object.assign({className:E,style:a,id:h,"aria-label":this.props["aria-label"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(f)),m.createElement(oT.Provider,{value:{radioGroup:{onChange:this.onChange,value:w,disabled:this.props.disabled,name:this.getFormatName(),isButtonRadio:g,isCardRadio:y,isPureCardRadio:b,buttonSize:d,prefixCls:i},mode:s}},S))}}aT.propTypes={defaultValue:c.any,disabled:c.bool,name:c.string,options:c.array,buttonSize:c.oneOf(Sn.BUTTON_SIZE),type:c.oneOf([Sn.TYPE_DEFAULT,Sn.TYPE_BUTTON,Sn.TYPE_CARD,Sn.TYPE_PURECARD]),value:c.any,onChange:c.func,children:c.node,prefixCls:c.string,className:c.string,style:c.object,direction:c.oneOf(Sn.DIRECTION_SET),mode:c.oneOf(Sn.MODE),"aria-label":c.string,"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,id:c.string};aT.defaultProps={disabled:!1,onChange:j,direction:Sn.DEFAULT_DIRECTION,mode:"",type:Sn.TYPE_DEFAULT,buttonSize:"middle"};const mm={PREFIX:`${G}-rating`},wj={SIZE_SET:["default","small"]};class lT extends Ne{constructor(e){super(Object.assign(Object.assign({},lT.defaultAdapter),e)),this.handleStarFocusVisible=t=>{const{target:r}=t;this.getProps();try{r.matches(":focus-visible")&&this._adapter.setEmptyStarFocusVisible(!0)}catch{qt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleStarBlur=t=>{const{emptyStarFocusVisible:r}=this.getStates();r&&this._adapter.setEmptyStarFocusVisible(!1)}}init(){const{autoFocus:e,disabled:t}=this.getProps();e&&!t&&this._adapter.focus()}_getScroll(e,t){let r=t?e.pageYOffset:e.pageXOffset;const s=t?"scrollTop":"scrollLeft";if(typeof r!="number"){const i=e.document;r=i.documentElement[s],typeof r!="number"&&(r=i.body[s])}return r}_getClientPosition(e){let t,r;const s=e.ownerDocument,{body:i}=s,o=s&&s.documentElement,a=e.getBoundingClientRect();return t=a.left,r=a.top,t-=o.clientLeft||i.clientLeft||0,r-=o.clientTop||i.clientTop||0,{left:t,top:r}}_getOffsetLeft(e){const t=this._getClientPosition(e),r=e.ownerDocument,s=r.defaultView||r.parentWindow;return t.left+=this._getScroll(s),t.left}getStarValue(e,t){const{allowHalf:r}=this.getProps(),i=this._adapter.getContext("direction")==="rtl";let o=e+1;if(r){const a=this._adapter.getStarDOM(e),l=this._getOffsetLeft(a),u=a.clientWidth;(i&&t-l>u/2||!i&&t-l<u/2)&&(o-=.5)}return o}handleHover(e,t){const r=this.getStarValue(t,e.pageX),{clearedValue:s,hoverValue:i}=this.getStates();r!==i&&r!==s&&this._adapter.notifyHoverChange(r,null)}handleMouseLeave(){this._adapter.notifyHoverChange(void 0,null)}handleClick(e,t){const{allowClear:r}=this.getProps(),{value:s}=this.getStates(),i=this.getStarValue(t,e.pageX),o=r?i===s:!1;this._adapter.updateValue(o?0:i),o?this._adapter.notifyHoverChange(void 0,i):this._adapter.clearValue(null)}handleFocus(e){this._adapter.notifyFocus(e)}handleBlur(e){this._adapter.notifyBlur(e)}handleKeyDown(e,t){const{key:r}=e,{count:s,allowHalf:i}=this.getProps(),a=this._adapter.getContext("direction")==="rtl",l=i?.5:1;let u,d;r==="ArrowRight"||r==="ArrowUp"?u=t+(a?-l:l):(r==="ArrowLeft"||r==="ArrowDown")&&(u=t+(a?l:-l)),u>s?d=0:u<0?d=s:d=u,["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(r)&&(this._adapter.notifyKeyDown(e),this._adapter.updateValue(d),this.changeFocusStar(d,e),e.preventDefault(),this._adapter.notifyHoverChange(void 0,null))}changeFocusStar(e,t){const{count:r,allowHalf:s,preventScroll:i}=this.getProps(),o=Math.ceil(e)-1,a=[...t.currentTarget.childNodes].map(l=>l.childNodes[0].childNodes);o<0?a[r][0].focus({preventScroll:i}):a[o][s?e*10%10===5?0:1:0].focus({preventScroll:i})}}class uT extends Ne{constructor(e){super(Object.assign(Object.assign({},uT.defaultAdapter),e)),this.handleFocusVisible=(t,r)=>{const{target:s}=t;try{s.matches(":focus-visible")&&(r==="first"?this._adapter.setFirstStarFocus(!0):this._adapter.setSecondStarFocus(!0))}catch{qt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleBlur=(t,r)=>{const{firstStarFocus:s,secondStarFocus:i}=this.getStates();r==="first"?s&&this._adapter.setFirstStarFocus(!1):i&&this._adapter.setSecondStarFocus(!1)}}}class Ej extends xe{constructor(e){super(e),this.firstStar=null,this.secondStar=null,this.onHover=t=>{const{onHover:r,index:s}=this.props;r(t,s)},this.onClick=t=>{const{onClick:r,index:s}=this.props;r(t,s)},this.onFocus=(t,r)=>{const{onFocus:s}=this.props;s&&s(t),this.foundation.handleFocusVisible(t,r)},this.onBlur=(t,r)=>{const{onBlur:s}=this.props;s&&s(t),this.foundation.handleBlur(t,r)},this.onKeyDown=t=>{const{onClick:r,index:s}=this.props;t.keyCode===13&&r(t,s)},this.starFocus=()=>{const{value:t,index:r,preventScroll:s}=this.props;t-r===.5?this.firstStar.focus({preventScroll:s}):this.secondStar.focus({preventScroll:s})},this.saveFirstStar=t=>{this.firstStar=t},this.saveSecondStar=t=>{this.secondStar=t},this.state={firstStarFocus:!1,secondStarFocus:!1},this.foundation=new uT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setFirstStarFocus:e=>{this.setState({firstStarFocus:e})},setSecondStarFocus:e=>{this.setState({secondStarFocus:e})}})}render(){const{index:e,prefixCls:t,character:r,count:s,value:i,disabled:o,allowHalf:a,focused:l,size:u,ariaLabelPrefix:d}=this.props,{firstStarFocus:h,secondStarFocus:f}=this.state,g=e+1,b=g-i,y=a&&b<1&&b>0,_=1-b,v=g<=i,E=typeof u=="number",w=$(t,{[`${t}-half`]:y,[`${t}-full`]:v,[`${t}-${u}`]:!E}),S=E?{width:u,height:u,fontSize:u}:{},O=E?"inherit":u==="small"?"default":"extra-large",x=r||m.createElement(fie,{size:O,style:{display:"block"}}),I=e===s,T=$(`${t}-wrapper`,{[`${t}-disabled`]:o,[`${mm.PREFIX}-focus`]:(h||f)&&i!==0}),P={onClick:o?null:this.onClick,onKeyDown:o?null:this.onKeyDown,onMouseMove:o?null:this.onHover,className:T},A=a?s*2+1:s+1,k={ref:this.saveFirstStar,role:"radio","aria-checked":i===e+.5,"aria-posinset":2*e+1,"aria-setsize":A,"aria-disabled":o,"aria-label":`${e+.5} ${d}s`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:$(`${t}-first`,`${mm.PREFIX}-no-focus`),tabIndex:!o&&i===e+.5?0:-1,onFocus:W=>{this.onFocus(W,"first")},onBlur:W=>{this.onBlur(W,"first")}},M=!o&&(i===e+1||I&&i===0)?0:-1,N={ref:this.saveSecondStar,role:"radio","aria-checked":I?i===0:i===e+1,"aria-posinset":a?2*(e+1):e+1,"aria-setsize":A,"aria-disabled":o,"aria-label":`${I?0:e+1} ${d}${e===0?"":"s"}`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:$(`${t}-second`,`${mm.PREFIX}-no-focus`),tabIndex:M,onFocus:W=>{this.onFocus(W,"second")},onBlur:W=>{this.onBlur(W,"second")}};return m.createElement("li",{className:w,style:Object.assign({},S),key:e},m.createElement("div",Object.assign({},P),a&&!I&&m.createElement("div",Object.assign({},k,{style:{width:`${_*100}%`}}),x),m.createElement("div",Object.assign({},N,{"x-semi-prop":"character"}),x)))}}Ej.propTypes={value:c.number,index:c.number,prefixCls:c.string,allowHalf:c.bool,onHover:c.func,onClick:c.func,character:c.node,focused:c.bool,disabled:c.bool,count:c.number,ariaLabelPrefix:c.string,size:c.oneOfType([c.oneOf(wj.SIZE_SET),c.number]),"aria-describedby":c.string,onFocus:c.func,onBlur:c.func,preventScroll:c.bool};var hme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class l_ extends xe{constructor(e){super(e),this.rate=null,this.onHover=(r,s)=>{this.foundation.handleHover(r,s)},this.onMouseLeave=()=>{this.foundation.handleMouseLeave()},this.onClick=(r,s)=>{this.foundation.handleClick(r,s)},this.onFocus=r=>{this.foundation.handleFocus(r)},this.onBlur=r=>{this.foundation.handleBlur(r)},this.onKeyDown=r=>{const{value:s}=this.state;this.foundation.handleKeyDown(r,s)},this.focus=()=>{const{disabled:r,preventScroll:s}=this.props;r||this.rate.focus({preventScroll:s})},this.blur=()=>{const{disabled:r}=this.props;r||this.rate.blur()},this.saveRef=r=>s=>{this.stars[r]=s},this.saveRate=r=>{this.rate=r},this.handleStarFocusVisible=r=>{this.foundation.handleStarFocusVisible(r)},this.handleStarBlur=r=>{this.foundation.handleStarBlur(r)},this.getAriaLabelPrefix=()=>{if(this.props["aria-label"])return this.props["aria-label"];let r="star";const{character:s}=this.props;return typeof s=="string"&&(r=s),r},this.getItemList=r=>{const{count:s,allowHalf:i,prefixCls:o,disabled:a,character:l,size:u,tooltips:d}=this.props,{value:h,hoverValue:f,focused:g}=this.state;return[...Array(s+1).keys()].map(y=>{const _=m.createElement(Ej,{ref:this.saveRef(y),index:y,count:s,prefixCls:`${o}-star`,allowHalf:i,value:f===void 0?h:f,onClick:a?Dt:this.onClick,onHover:a?Dt:this.onHover,key:y,disabled:a,character:l,focused:g,size:y===s?0:u,ariaLabelPrefix:r,onFocus:a||s!==y?Dt:this.handleStarFocusVisible,onBlur:a||s!==y?Dt:this.handleStarBlur});if(d){const v=d[y]?d[y]:"",E=f-1===y;return m.createElement(Ir,{visible:E,trigger:"custom",content:v,key:`${y}-${E}`},_)}return _})};const t=e.value===void 0?e.defaultValue:e.value;this.stars={},this.state={value:t,focused:!1,hoverValue:void 0,clearedValue:null,emptyStarFocusVisible:!1},this.foundation=new lT(this.adapter)}static getDerivedStateFromProps(e,t){return"value"in e&&e.value!==void 0?Object.assign(Object.assign({},t),{value:e.value}):t}get adapter(){return Object.assign(Object.assign({},super.adapter),{focus:()=>{const{disabled:e,count:t}=this.props,{value:r}=this.state;if(!e){const s=Math.ceil(r)-1;this.stars[s<0?t:s].starFocus()}},getStarDOM:e=>{const t=this.stars&&this.stars[e];return Mr.findDOMNode(t)},notifyHoverChange:(e,t)=>{const{onHoverChange:r}=this.props;this.setState({hoverValue:e,clearedValue:t}),r(e)},updateValue:e=>{const{onChange:t}=this.props;"value"in this.props||this.setState({value:e}),t(e)},clearValue:e=>{this.setState({clearedValue:e})},notifyFocus:e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)},notifyBlur:e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),t&&t(e)},notifyKeyDown:e=>{const{onKeyDown:t}=this.props;this.setState({focused:!1}),t&&t(e)},setEmptyStarFocusVisible:e=>{this.setState({emptyStarFocusVisible:e})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,prefixCls:r,disabled:s,className:i,id:o,count:a,tabIndex:l}=e,u=hme(e,["style","prefixCls","disabled","className","id","count","tabIndex"]),{value:d,emptyStarFocusVisible:h}=this.state,f=this.getAriaLabelPrefix(),g=`Rating: ${d} of ${a} ${f}${d===1?"":"s"},`,b=this.getItemList(f),y=$(r,{[`${r}-disabled`]:s,[`${r}-focus`]:h},i);return m.createElement("ul",Object.assign({"aria-label":g,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],className:y,style:t,onMouseLeave:s?Dt:this.onMouseLeave,tabIndex:s?-1:l,onFocus:s?Dt:this.onFocus,onBlur:s?Dt:this.onBlur,onKeyDown:s?Dt:this.onKeyDown,ref:this.saveRate,id:o},this.getDataAttr(u)),b)}}l_.contextType=Vr;l_.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-label":c.string,"aria-labelledby":c.string,"aria-required":c.bool,disabled:c.bool,value:c.number,defaultValue:c.number,count:c.number,allowHalf:c.bool,allowClear:c.bool,style:c.object,prefixCls:c.string,onChange:c.func,onHoverChange:c.func,className:c.string,character:c.node,tabIndex:c.number,onFocus:c.func,onBlur:c.func,onKeyDown:c.func,autoFocus:c.bool,size:c.oneOfType([c.oneOf(wj.SIZE_SET),c.number]),tooltips:c.arrayOf(c.string),id:c.string,preventScroll:c.bool};l_.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:mm.PREFIX,onChange:Dt,onHoverChange:Dt,tabIndex:-1,size:"default"};const br={PREFIX:`${G}-slider`,DISABLED:`${G}-slider-disabled`,VERTICAL:`${G}-slider-vertical`,TRACK:`${G}-slider-track`,DOTS:`${G}-slider-dots`,MARKS:`${G}-slider-marks`,HANDLE:`${G}-slider-handle`,HANDLE_DOT:`${G}-slider-handle-dot`},dA=(n,e)=>(!globalThis.Touch||!(n instanceof Touch)||["stopPropagation","preventDefault"].forEach(r=>{let s=e[r];s&&(typeof s=="function"&&(s=function(){return e[r](...arguments)}),n[r]?qt(!0,`"The key ${r}" exist in Touch.`):n[r]=s)}),n);class cT extends Ne{constructor(e){var t;super(Object.assign(Object.assign({},cT.defaultAdapter),e)),t=this,this.getMinAndMaxPercent=r=>{const{range:s,min:i,max:o}=this._adapter.getProps(),a=s?(r[0]-i)/(o-i):(r-i)/(o-i),l=s?(r[1]-i)/(o-i):1;return{min:this._checkValidity(a),max:this._checkValidity(l)}},this._checkValidity=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r>i?i:r<s?s:r},this.computeHandleVisibleVal=(r,s,i)=>{const{focusPos:o,currentValue:a}=this._adapter.getStates(),l={min:!1,max:!1};let u;return s?u={min:s(i?this.outPutValue(a[0]):this.outPutValue(a)),max:i?s(this.outPutValue(a[1])):null}:u={min:i?this.outPutValue(a[0]):this.outPutValue(a),max:i?this.outPutValue(a[1]):null},r?(l.min=!0,l.max=!0):typeof r>"u"&&s&&(o==="min"?l.min=!0:o==="max"&&(l.max=!0)),{tipVisible:l,tipChildren:u}},this.valueFormatIsCorrect=r=>Array.isArray(r)?typeof r[0]=="number"&&typeof r[0]=="number":typeof r=="number",this.handleMousePos=(r,s)=>{const i=this._adapter.getParentRect(),o=this._adapter.getScrollParentVal(),a=i?i.left:0,l=i?i.top:0;return{x:r-a+o.scrollLeft,y:s-l+o.scrollTop}},this.getScrollParent=r=>{const s=r,i=/(auto|scroll)/,o=(u,d)=>window.getComputedStyle(u,null).getPropertyValue(d),a=u=>i.test(o(u,"overflow")+o(u,"overflow-y")+o(u,"overflow-x")),l=u=>!u||u===document.body||!(u instanceof Element)?document.body:a(u)?u:l(u.parentNode);return l(s)},this.checkMeetMinMax=r=>{const{vertical:s,verticalReverse:i,range:o}=this._adapter.getProps(),a=this._adapter.getState("currentValue");this.transValueToPos(a);const{sliderX:l,sliderY:u,sliderWidth:d,sliderHeight:h}=this._adapter.getSliderLengths();this._adapter.getStates();const f=s?h:d;let g;s&&i?g=u+f:g=s?u:l;let b;return s&&i?b=u:b=s?u+h:l+d,s&&i?r>=g?r=g:r<=b&&(r=b):r<=g?r=g:r>=b&&(r=b),r},this.transPosToValue=(r,s)=>{const i=this.checkMeetMinMax(r),{min:o,max:a,currentValue:l}=this._adapter.getStates(),{range:u,vertical:d,step:h,verticalReverse:f}=this._adapter.getProps(),{sliderX:g,sliderY:b,sliderWidth:y,sliderHeight:_}=this._adapter.getSliderLengths(),v=d?b:g,E=d?_:y;let w;d&&f?w=(v+E-i)/E*(a-o)+o:w=(i-v)/E*(a-o)+o;let S;return u?S=s?l[0]:l[1]:S=l,h!==1&&(w=Math.round(w/h)*h),u&&w!==S?s?[w,l[1]]:[l[0],w]:!u&&w!==S?w:!1},this.transValueToPos=r=>{const{min:s,max:i}=this._adapter.getStates(),{vertical:o,range:a,verticalReverse:l}=this._adapter.getProps(),{sliderX:u,sliderY:d,sliderWidth:h,sliderHeight:f}=this._adapter.getSliderLengths(),g=o?d:u,b=o?f:h;return a?[(r[0]-s)*b/(i-s)+g,(r[1]-s)*b/(i-s)+g]:(r-s)*b/(i-s)+g},this.isMarkActive=r=>{const{min:s,max:i,range:o,included:a}=this._adapter.getProps(),l=this._adapter.getState("currentValue");return typeof(r/1)=="number"&&r>=s&&r<=i?o?(r>l[1]||r<l[0])&&a?"unActive":"active":r<=l&&a?"active":"unActive":!1},this.outPutValue=r=>{const s=a=>{var l,u;return/^\d+(\.\d+)?$/.test(String(a))&&(u=(l=a.toString().split(".")[1])===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0},i=this._adapter.getProp("step"),o=(()=>{const a=s(i),l=Math.pow(10,a);return u=>Math.round(u*l)/l})();if(Array.isArray(r)){const a=o(r[0]),l=o(r[1]);return a>l?this.getState("focusPos")==="min"?[l,l]:[a,a]:[a,l]}else return o(r)},this.handleDisabledChange=r=>{this._adapter.updateDisabled(r)},this.checkAndUpdateIsInRenderTreeState=()=>this._adapter.checkAndUpdateIsInRenderTreeState(),this.calculateOutputValue=(r,s)=>{const i=this.transPosToValue(r,s);if(i!==!1)return this.outPutValue(i)},this.handleValueChange=(r,s)=>{const{min:i,max:o}=this._adapter.getStates();let a=null;const l={};this.valueFormatIsCorrect(s)?(Array.isArray(r)&&Array.isArray(s)&&(s=[s[0]<i?i:s[0],s[1]>o?o:s[1]],a=Object.assign(l,{currentValue:s})),typeof r=="number"&&typeof s=="number"&&(s>o?s=o:s=s<i?i:s,a=Object.assign(l,{currentValue:s}))):a=l,a&&this._adapter.transNewPropsToState(a)},this.onHandleDown=(r,s)=>{this._adapter.onHandleDown(r);const i=this._adapter.getState("disabled"),{vertical:o}=this._adapter.getProps(),{dragging:a}=this._adapter.getOverallVars();if(i)return!1;this._adapter.setStateVal("isDrag",!0),this._adapter.setStateVal("chooseMovePos",s),s==="min"?this._adapter.setDragging([!0,a[1]]):this._adapter.setDragging([a[0],!0]);const l=this.handleMousePos(r.clientX,r.clientY);let u=o?l.y:l.x;if(!this._adapter.isEventFromHandle(r))this._dragOffset=0;else{const d=this._getHandleCenterPosition(o,r.target);this._dragOffset=u-d,u=d}return!0},this.onHandleMove=r=>{this._adapter.setEventDefault(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{vertical:o}=this._adapter.getProps(),{dragging:a}=this._adapter.getOverallVars();if(s)return!1;this.onHandleEnter(i);const l=this.handleMousePos(r.clientX,r.clientY);let u=o?l.y:l.x;if(u=u-this._dragOffset,i==="min"&&a[0]||i==="max"&&a[1]){const d=this.calculateOutputValue(u,i==="min");if(d===void 0)return!1;this._adapter.notifyChange(d),this._adapter.onHandleMove(u,i==="min",void 0,!1,d)}return!0},this.onHandleTouchStart=(r,s)=>{const i=this._adapter.getMinHandleEl(),o=this._adapter.getMaxHandleEl();if(r.target===i||r.target===o){di(r);const a=dA(r.touches[0],r);this.onHandleDown(a,s)}},this.onHandleTouchMove=r=>{const s=this._adapter.getMinHandleEl(),i=this._adapter.getMaxHandleEl();if(r.target===s||r.target===i){const o=dA(r.touches[0],r);this.onHandleMove(o)}},this.onHandleEnter=r=>{const{disabled:s,focusPos:i}=this._adapter.getStates();s||!i&&r!==i&&this._adapter.onHandleEnter(r)},this.onHandleLeave=()=>{const r=this._adapter.getState("disabled"),s=this._adapter.getState("isDrag");!r&&!s&&this._adapter.onHandleLeave()},this.onHandleUp=r=>{this._adapter.onHandleUpBefore(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{dragging:o}=this._adapter.getOverallVars();return s?!1:(i==="min"?this._adapter.setDragging([!1,o[1]]):this._adapter.setDragging([o[0],!1]),this._adapter.setStateVal("isDrag",!1),this._adapter.onHandleLeave(),this._adapter.onHandleUpAfter(),!0)},this._handleValueDecreaseWithKeyBoard=(r,s)=>{const{min:i,currentValue:o}=this.getStates(),{range:a}=this.getProps();if(s==="min")if(a){let l=o[0]-r;return l=l<i?i:l,[l,o[1]]}else{let l=o-r;return l=l<i?i:l,l}else{let l=o[1]-r;return l=l<o[0]?o[0]:l,[o[0],l]}},this._handleValueIncreaseWithKeyBoard=(r,s)=>{const{max:i,currentValue:o}=this.getStates(),{range:a}=this.getProps();if(s==="min")if(a){let l=o[0]+r;return l=l>o[1]?o[1]:l,[l,o[1]]}else{let l=o+r;return l=l>i?i:l,l}else{let l=o[1]+r;return l=l>i?i:l,[o[0],l]}},this._handleHomeKey=r=>{const{min:s,currentValue:i}=this.getStates(),{range:o}=this.getProps();return r==="min"?o?[s,i[1]]:s:[i[0],i[0]]},this._handleEndKey=r=>{const{max:s,currentValue:i}=this.getStates(),{range:o}=this.getProps();return r==="min"?o?[i[1],i[1]]:s:[i[0],s]},this.handleKeyDown=(r,s)=>{const{min:i,max:o,currentValue:a}=this.getStates(),{step:l,range:u}=this.getProps();let d;switch(r.key){case"ArrowLeft":case"ArrowDown":d=this._handleValueDecreaseWithKeyBoard(l,s);break;case"ArrowRight":case"ArrowUp":d=this._handleValueIncreaseWithKeyBoard(l,s);break;case"PageUp":d=this._handleValueIncreaseWithKeyBoard(10*l,s);break;case"PageDown":d=this._handleValueDecreaseWithKeyBoard(10*l,s);break;case"Home":d=this._handleHomeKey(s);break;case"End":d=this._handleEndKey(s);break}if(["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(r.key)){let h=!0;Array.isArray(a)?h=!(a[0]===d[0]&&a[1]===d[1]):h=a!==d,h&&(this._adapter.updateCurrentValue(d),this._adapter.notifyChange(d)),di(r)}},this._noTooltip=()=>{const{tipFormatter:r,tooltipVisible:s}=this.getProps();return r===null||s===!1},this.onFocus=(r,s)=>{if(this._noTooltip())return;di(r);const{target:o}=r;try{o.matches(":focus-visible")&&(s==="min"?this._adapter.setStateVal("firstDotFocusVisible",!0):this._adapter.setStateVal("secondDotFocusVisible",!0))}catch{qt(!0,"Warning: [Semi Slider] The current browser does not support the focus-visible")}},this.onBlur=(r,s)=>{if(this._noTooltip())return;const{firstDotFocusVisible:o,secondDotFocusVisible:a}=this.getStates();s==="min"?o&&this._adapter.setStateVal("firstDotFocusVisible",!1):a&&this._adapter.setStateVal("secondDotFocusVisible",!1)},this.handleWrapClick=r=>{const{disabled:s,isDrag:i}=this._adapter.getStates();if(i||s||this._adapter.isEventFromHandle(r))return;const{vertical:o}=this.getProps(),a=this.handleMousePos(r.clientX,r.clientY),l=o?a.y:a.x,u=this.checkWhichHandle(l),d=this.calculateOutputValue(l,u);d!==void 0&&(this._adapter.notifyChange(d),!this._isControlledComponent()&&this.setHandlePos(l,u,!0,d))},this.setHandlePos=function(r,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3?arguments[3]:void 0;t._adapter.onHandleMove(r,s,()=>t._adapter.onHandleUpAfter(),i,o)},this.checkWhichHandle=r=>{const{vertical:s,verticalReverse:i}=this.getProps(),{currentValue:o}=this._adapter.getStates(),a=this.transValueToPos(o);let l=!0;return Array.isArray(a)&&(r>a[1]||Math.abs(r-a[0])>Math.abs(r-a[1]))&&(l=!1),s&&i&&(l=!l),l},this.handleWrapperEnter=()=>{this._adapter.setStateVal("showBoundary",!0)},this.handleWrapperLeave=()=>{this._adapter.setStateVal("showBoundary",!1)}}init(){this._checkCurrentValue(),this._dragOffset=0}_checkCurrentValue(){const{currentValue:e,min:t,max:r}=this.getStates();let s;Array.isArray(e)?(s=[],s[0]=this._checkValidity(e[0],t,r),s[1]=this._checkValidity(e[1],t,r)):s=this._checkValidity(e,t,r),this._adapter.updateCurrentValue(s)}destroy(){this._adapter.unSubscribeEventListener()}_getHandleCenterPosition(e,t){const r=t.getBoundingClientRect(),{x:s,y:i}=this.handleMousePos(r.left+r.width*.5,r.top+r.height*.5);return e?i:s}}var fme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ls=br.PREFIX;function pme(n){return n?!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length):!1}class dT extends xe{constructor(e){super(e),this.renderHandle=()=>{var r,s,i,o,a;const{vertical:l,range:u,tooltipVisible:d,tipFormatter:h,"aria-label":f,"aria-labelledby":g,"aria-valuetext":b,getAriaValueText:y,disabled:_}=this.props,{chooseMovePos:v,isDrag:E,isInRenderTree:w,firstDotFocusVisible:S,secondDotFocusVisible:O}=this.state,x=l?"top":"left",I=this.foundation.getMinAndMaxPercent(this.state.currentValue),T=I.min,P=I.max,{tipVisible:A,tipChildren:k}=this.foundation.computeHandleVisibleVal(d&&w,h,u),M=$(br.HANDLE,{[`${br.HANDLE}-clicked`]:v==="min"&&E}),N=$(br.HANDLE,{[`${br.HANDLE}-clicked`]:v==="max"&&E}),{min:W,max:q,currentValue:K}=this.state,ee={"aria-label":f??(_?"Disabled Slider":void 0),"aria-labelledby":g,"aria-disabled":_};l&&Object.assign(ee,{"aria-orientation":"vertical"});const V=this.props.handleDot;return u?m.createElement(m.Fragment,null,m.createElement(Ir,{content:k.min,position:"top",trigger:"custom",rePosKey:T,visible:w&&(A.min||S),className:`${br.HANDLE}-tooltip`},m.createElement("span",Object.assign({ref:this.minHanleEl,className:M,style:{[x]:`${T*100}%`,zIndex:v==="min"?2:1},onMouseDown:B=>{this.foundation.onHandleDown(B,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:B=>{this.foundation.onHandleTouchStart(B,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:B=>{this.foundation.onHandleUp(B)},onTouchEnd:B=>{this.foundation.onHandleUp(B)},onKeyDown:B=>{this.foundation.handleKeyDown(B,"min")},onFocus:B=>{this.foundation.onFocus(B,"min")},onBlur:B=>{this.foundation.onBlur(B,"min")},role:"slider",tabIndex:_?-1:0},ee,{"aria-valuetext":y?y(K[0],0):b,"aria-valuenow":K[0],"aria-valuemax":K[1],"aria-valuemin":W}),(V==null?void 0:V[0])&&m.createElement("div",{className:br.HANDLE_DOT,style:Object.assign(Object.assign({},!((r=V[0])===null||r===void 0)&&r.size?{width:V[0].size,height:V[0].size}:{}),!((s=V[0])===null||s===void 0)&&s.color?{backgroundColor:V[0].color}:{})}))),m.createElement(Ir,{content:k.max,position:"top",trigger:"custom",rePosKey:P,visible:w&&(A.max||O),className:`${br.HANDLE}-tooltip`},m.createElement("span",Object.assign({ref:this.maxHanleEl,className:N,style:{[x]:`${P*100}%`,zIndex:v==="max"?2:1},onMouseDown:B=>{this.foundation.onHandleDown(B,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:B=>{this.foundation.onHandleUp(B)},onTouchStart:B=>{this.foundation.onHandleTouchStart(B,"max")},onTouchEnd:B=>{this.foundation.onHandleUp(B)},onKeyDown:B=>{this.foundation.handleKeyDown(B,"max")},onFocus:B=>{this.foundation.onFocus(B,"max")},onBlur:B=>{this.foundation.onBlur(B,"max")},role:"slider",tabIndex:_?-1:0},ee,{"aria-valuetext":y?y(K[1],1):b,"aria-valuenow":K[1],"aria-valuemax":q,"aria-valuemin":K[0]}),((i=this.props.handleDot)===null||i===void 0?void 0:i[1])&&m.createElement("div",{className:br.HANDLE_DOT,style:Object.assign(Object.assign({},!((o=this.props.handleDot[1])===null||o===void 0)&&o.size?{width:this.props.handleDot[1].size,height:this.props.handleDot[1].size}:{}),!((a=this.props.handleDot[1])===null||a===void 0)&&a.color?{backgroundColor:this.props.handleDot[1].color}:{})})))):m.createElement(Ir,{content:k.min,showArrow:this.props.showArrow,position:"top",trigger:"custom",rePosKey:T,visible:w&&(A.min||S),className:`${br.HANDLE}-tooltip`},m.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:M,style:{[x]:`${T*100}%`,zIndex:v==="min"&&E?2:1},onMouseDown:B=>{this.foundation.onHandleDown(B,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:B=>{this.foundation.onHandleTouchStart(B,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:B=>{this.foundation.onHandleUp(B)},onTouchEnd:B=>{this.foundation.onHandleUp(B)},onKeyDown:B=>{this.foundation.handleKeyDown(B,"min")},onFocus:B=>{this.foundation.onFocus(B,"min")},onBlur:B=>{this.foundation.onBlur(B,"min")},role:"slider","aria-valuetext":y?y(K,0):b,tabIndex:_?-1:0},ee,{"aria-valuenow":K,"aria-valuemax":q,"aria-valuemin":W}),V&&m.createElement("div",{className:br.HANDLE_DOT,style:Object.assign(Object.assign({},V!=null&&V.size?{width:V.size,height:V.size}:{}),V!=null&&V.color?{backgroundColor:V.color}:{})})))},this.renderTrack=()=>{const{range:r,included:s,vertical:i}=this.props,o=this.foundation.getMinAndMaxPercent(this.state.currentValue),a=o.min,l=o.max;let u=i?{height:r?`${Math.abs(l-a)*100}%`:`${a*100}%`,top:r?`${Math.min(a,l)*100}%`:0}:{width:r?`${Math.abs(l-a)*100}%`:`${a*100}%`,left:r?`${Math.min(a,l)*100}%`:0};return u=s?u:{},m.createElement("div",{className:br.TRACK,style:u,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{const{min:r,max:s,vertical:i,marks:o}=this.props,a=i?"top":"left";return o&&Object.keys(o).length>0?m.createElement("div",{className:br.DOTS},Object.keys(o).map(u=>{const d=this.foundation.isMarkActive(Number(u)),h=$(`${Ls}-dot`,{[`${Ls}-dot-active`]:this.foundation.isMarkActive(Number(u))==="active"}),f=(Number(u)-r)/(s-r),g=m.createElement("span",{key:u,onClick:this.foundation.handleWrapClick,className:h,style:{[a]:`calc(${f*100}% - 2px)`}});return d?this.props.tooltipOnMark?m.createElement(Ir,{content:o[u]},g):g:null})):null},this.renderLabel=()=>{if(!this.props.showMarkLabel)return null;const{min:r,max:s,vertical:i,marks:o,verticalReverse:a}=this.props,l=i?"top":"left";return o&&Object.keys(o).length>0?m.createElement("div",{className:br.MARKS+(i&&a?"-reverse":"")},Object.keys(o).map(d=>{const h=this.foundation.isMarkActive(Number(d)),f=(Number(d)-r)/(s-r);return h?m.createElement("span",{key:d,className:$(`${Ls}-mark${i&&a?"-reverse":""}`),style:{[l]:`${f*100}%`},onClick:this.foundation.handleWrapClick},o[d]):null})):null},this._getAriaValueText=(r,s)=>{const{getAriaValueText:i}=this.props;return i?i(r,s):r};let{value:t}=this.props;t||(t=this.props.defaultValue),this.state={currentValue:t||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=m.createRef(),this.minHanleEl=m.createRef(),this.maxHanleEl=m.createRef(),this.dragging=[!1,!1],this.foundation=new cT(this.adapter),this.eventListenerSet=new Set,this.handleDownEventListenerSet=new Set}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{var t;if(this.sliderEl&&this.sliderEl.current){const r=this.sliderEl.current.getBoundingClientRect(),s=(t=this.sliderEl.current.offsetParent)===null||t===void 0?void 0:t.getBoundingClientRect(),i={x:s?r.left-s.left:this.sliderEl.current.offsetLeft,y:s?r.top-s.top:this.sliderEl.current.offsetTop};return{sliderX:i.x,sliderY:i.y,sliderWidth:r.width,sliderHeight:r.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{const t=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(t)return t.getBoundingClientRect()},getScrollParentVal:()=>{const t=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}},isEventFromHandle:t=>{const r=[this.minHanleEl,this.maxHanleEl];let s=!1;return r.forEach(i=>{if(!i)return;const o=i&&i.current,a=Mr.findDOMNode(o);a&&a.contains(t.target)&&(s=!0)}),s},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:t=>{this.setState({disabled:t})},transNewPropsToState(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j;this.setState(t,r)},notifyChange:t=>{this.props.onChange(Array.isArray(t)?[...t].sort((r,s)=>r-s):t)},setDragging:t=>{this.dragging=t},updateCurrentValue:t=>{const{currentValue:r}=this.state;t!==r&&this.setState({currentValue:t})},setOverallVars:(t,r)=>{this[t]=r},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:t=>{this.handleDownEventListenerSet.add(this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1)),this.handleDownEventListenerSet.add(this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1)),this.handleDownEventListenerSet.add(this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1))},onHandleMove:function(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4?arguments[4]:void 0;if(!e.foundation.checkAndUpdateIsInRenderTreeState())return;const{value:l}=e.props;let u=o;if(u===void 0){const h=e.foundation.transPosToValue(t,r);if(h===!1)return;u=e.foundation.outPutValue(h)}const{currentValue:d}=e.state;if(!je(e.foundation.outPutValue(d),u)){if(!i&&e.foundation.valueFormatIsCorrect(l))return!1;e.setState({currentValue:u},s)}},setEventDefault:t=>{t.stopPropagation(),t.preventDefault()},setStateVal:(t,r)=>{this.setState({[t]:r})},checkAndUpdateIsInRenderTreeState:()=>{const t=pme(this.sliderEl.current);return t!==this.state.isInRenderTree&&this.setState({isInRenderTree:t}),t},onHandleEnter:t=>{this.setState({focusPos:t})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:t=>{var r,s;(s=(r=this.props).onMouseUp)===null||s===void 0||s.call(r,t),t.stopPropagation(),t.preventDefault(),Array.from(this.handleDownEventListenerSet).forEach(i=>i()),this.handleDownEventListenerSet.clear()},onHandleUpAfter:()=>{const{currentValue:t}=this.state,r=this.foundation.outPutValue(t);this.props.onAfterChange(r)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(t=>t())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e,t){const r=!je(this.props.value,e.value);if(this.props.disabled!==e.disabled&&this.foundation.handleDisabledChange(this.props.disabled),r){const i=this.props.value,o=this.state.currentValue;this.foundation.handleValueChange(o,i),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){const{disabled:e,currentValue:t,min:r,max:s}=this.state,i=this.props,{vertical:o,verticalReverse:a,style:l,railStyle:u,range:d,className:h}=i,f=fme(i,["vertical","verticalReverse","style","railStyle","range","className"]),g=$(`${Ls}-wrapper`,{[`${Ls}-disabled`]:e,[`${br.VERTICAL}-wrapper`]:o,[`${Ls}-reverse`]:o&&a},h),b=$(`${Ls}-boundary`,{[`${Ls}-boundary-show`]:this.props.showBoundary&&this.state.showBoundary}),y=$({[`${Ls}`]:!o,[br.VERTICAL]:o}),_=Array.isArray(t)?[...t].sort():t,v=d?`Range: ${this._getAriaValueText(_[0],0)} to ${this._getAriaValueText(_[1],1)}`:void 0,E=m.createElement("div",Object.assign({className:g,style:l,ref:this.sliderEl,"aria-label":v,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(f)),m.createElement("div",{className:`${Ls}-rail`,onClick:this.foundation.handleWrapClick,style:u}),this.renderTrack(),this.renderStepDot(),m.createElement("div",null,this.renderHandle()),this.renderLabel(),m.createElement("div",{className:b},m.createElement("span",{className:`${Ls}-boundary-min`},r),m.createElement("span",{className:`${Ls}-boundary-max`},s)));return o?E:m.createElement("div",{className:y},E)}_addEventListener(e,t,r){if(e.addEventListener){for(var s=arguments.length,i=new Array(s>3?s-3:0),o=3;o<s;o++)i[o-3]=arguments[o];e.addEventListener(t,r,...i);const a=()=>{e==null||e.removeEventListener(t,r),Promise.resolve().then(()=>{this.eventListenerSet.delete(a)})};return this.eventListenerSet.add(a),a}else return j}}dT.propTypes={defaultValue:c.oneOfType([c.number,c.array]),disabled:c.bool,showMarkLabel:c.bool,included:c.bool,marks:c.object,max:c.number,min:c.number,range:c.bool,step:c.number,tipFormatter:c.func,value:c.oneOfType([c.number,c.array]),vertical:c.bool,onAfterChange:c.func,onChange:c.func,onMouseUp:c.func,tooltipOnMark:c.bool,tooltipVisible:c.bool,showArrow:c.bool,style:c.object,className:c.string,showBoundary:c.bool,railStyle:c.object,verticalReverse:c.bool,getAriaValueText:c.func,handleDot:c.oneOfType([c.shape({size:c.string,color:c.string}),c.arrayOf(c.shape({size:c.string,color:c.string}))])};dT.defaultProps={disabled:!1,showMarkLabel:!0,tooltipOnMark:!1,included:!0,max:100,min:0,range:!1,showArrow:!0,step:1,tipFormatter:n=>n,vertical:!1,showBoundary:!1,onAfterChange:n=>{},onChange:n=>{},verticalReverse:!1};class gme extends Ne{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{qt(!0,"Warning: [Semi Switch] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{disabled:e}=this.getProps();this.setDisabled(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}setDisabled(e){this._adapter.setNativeControlDisabled(e)}handleChange(e,t){typeof this.getProps().checked<"u"?this._adapter.notifyChange(e,t):(this._adapter.setNativeControlChecked(e),this._adapter.notifyChange(e,t))}destroy(){}}const Ms={PREFIX:`${G}-switch`,FOCUS:`${G}-switch-focus`,LARGE:`${G}-switch-large`,SMALL:`${G}-switch-small`,CHECKED:`${G}-switch-checked`,DISABLED:`${G}-switch-disabled`,ACTIVE:`${G}-switch-active`,KNOB:`${G}-switch-knob`,NATIVE_CONTROL:`${G}-switch-native-control`,CHECKED_TEXT:`${G}-switch-checked-text`,UNCHECKED_TEXT:`${G}-switch-unchecked-text`,LOADING_SPIN:`${G}-switch-loading-spin`,LOADING:`${G}-switch-loading`},mme={SIZE_MAP:["default","small","large"]};var vme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class hT extends xe{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={nativeControlChecked:e.defaultChecked||e.checked,nativeControlDisabled:!1,focusVisible:!1},this.switchRef=m.createRef(),this.foundation=new gme(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){this.props.checked!==e.checked&&this.foundation.setChecked(this.props.checked),this.props.disabled!==e.disabled&&this.foundation.setDisabled(this.props.disabled)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({nativeControlChecked:e})},setNativeControlDisabled:e=>{this.setState({nativeControlDisabled:e})},setFocusVisible:e=>{this.setState({focusVisible:e})},notifyChange:(e,t)=>{this.props.onChange(e,t)}})}render(){const{nativeControlChecked:e,nativeControlDisabled:t,focusVisible:r}=this.state,s=this.props,{className:i,style:o,onMouseEnter:a,onMouseLeave:l,size:u,checkedText:d,uncheckedText:h,loading:f,id:g}=s,b=vme(s,["className","style","onMouseEnter","onMouseLeave","size","checkedText","uncheckedText","loading","id"]),y=$(i,{[Ms.PREFIX]:!0,[Ms.CHECKED]:e,[Ms.DISABLED]:t,[Ms.LARGE]:u==="large",[Ms.SMALL]:u==="small",[Ms.LOADING]:f,[Ms.FOCUS]:r}),_={type:"checkbox",className:Ms.NATIVE_CONTROL,disabled:t||f,checked:e||!1},v=d&&e&&u!=="small",E=h&&!e&&u!=="small";return m.createElement("div",Object.assign({className:y,style:o,onMouseEnter:a,onMouseLeave:l},this.getDataAttr(b)),f?m.createElement(uo,{wrapperClassName:Ms.LOADING_SPIN,size:u==="default"?"middle":u}):m.createElement("div",{className:Ms.KNOB,"aria-hidden":!0}),v?m.createElement("div",{className:Ms.CHECKED_TEXT,"x-semi-prop":"checkedText"},d):null,E?m.createElement("div",{className:Ms.UNCHECKED_TEXT,"x-semi-prop":"uncheckedText"},h):null,m.createElement("input",Object.assign({},_,{ref:this.switchRef,id:g,role:"switch","aria-checked":e,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-disabled":this.props.disabled,onChange:w=>this.foundation.handleChange(w.target.checked,w),onFocus:w=>this.handleFocusVisible(w),onBlur:w=>this.handleBlur(w)})))}}hT.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,className:c.string,checked:c.bool,checkedText:c.node,defaultChecked:c.bool,disabled:c.bool,loading:c.bool,onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,style:c.object,size:c.oneOf(mme.SIZE_MAP),uncheckedText:c.node,id:c.string};hT.defaultProps={disabled:!1,className:"",onChange:j,loading:!1,onMouseEnter:j,onMouseLeave:j,size:"default"};var yme="\\ud800-\\udfff",_me="\\u0300-\\u036f",bme="\\ufe20-\\ufe2f",wme="\\u20d0-\\u20ff",Eme=_me+bme+wme,Sme="\\ufe0e\\ufe0f",Cme="\\u200d",Tme=RegExp("["+Cme+yme+Eme+Sme+"]");function Ime(n){return Tme.test(n)}var Sj=Ime,Ome=cC;function Pme(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:Ome(n,e,t)}var xme=Pme,Rme=xi,Ame=rs,Dme="[object RegExp]";function kme(n){return Ame(n)&&Rme(n)==Dme}var Nme=kme,Lme=Nme,Mme=bd,hA=cp,fA=hA&&hA.isRegExp,$me=fA?Mme(fA):Lme,Fme=$me;function jme(n){return n.split("")}var Vme=jme,Cj="\\ud800-\\udfff",Ume="\\u0300-\\u036f",Bme="\\ufe20-\\ufe2f",Hme="\\u20d0-\\u20ff",zme=Ume+Bme+Hme,Kme="\\ufe0e\\ufe0f",Wme="["+Cj+"]",nS="["+zme+"]",rS="\\ud83c[\\udffb-\\udfff]",Gme="(?:"+nS+"|"+rS+")",Tj="[^"+Cj+"]",Ij="(?:\\ud83c[\\udde6-\\uddff]){2}",Oj="[\\ud800-\\udbff][\\udc00-\\udfff]",Yme="\\u200d",Pj=Gme+"?",xj="["+Kme+"]?",qme="(?:"+Yme+"(?:"+[Tj,Ij,Oj].join("|")+")"+xj+Pj+")*",Xme=xj+Pj+qme,Qme="(?:"+[Tj+nS+"?",nS,Ij,Oj,Wme].join("|")+")",Zme=RegExp(rS+"(?="+rS+")|"+Qme+Xme,"g");function Jme(n){return n.match(Zme)||[]}var eve=Jme,tve=Vme,nve=Sj,rve=eve;function sve(n){return nve(n)?rve(n):tve(n)}var ive=sve,ove=ML,ave=xme,lve=Sj,uve=aC,cve=Fme,dve=ive,hve=xy,fve=4294967295;function pve(n,e,t){return t&&typeof t!="number"&&uve(n,e,t)&&(e=t=void 0),t=t===void 0?fve:t>>>0,t?(n=hve(n),n&&(typeof e=="string"||e!=null&&!cve(e))&&(e=ove(e),!e&&lve(n))?ave(dve(n),0,t):n.split(e,t)):[]}var gve=pve;const i0=Ce(gve),Mg=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mn.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:SC;if(n instanceof Date)return n;if(typeof n=="number")return new Date(Hs(n));if(typeof n=="string"){if(n==="")return;let r=new Date;return r=i$(n,e,r,{locale:t}),r}else if(typeof n>"u")return;return new Date},$g=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mn.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:SC;return ct(n,e,{locale:t})},mve=(n,e)=>{if(typeof n=="function"){const t=n();if(Array.isArray(t)&&!St(e)&&t.some(r=>Hs(r)===Hs(e)))return!0}return!1},vve=(n,e,t)=>{if(typeof n=="function"){const r=n(e);if(Array.isArray(r)&&!St(e)&&!St(t)&&r.some(s=>Hs(s)===Hs(t)))return!0}return!1},yve=(n,e,t,r)=>{if(typeof n=="function"){const s=n(e,t);if(Array.isArray(s)&&!St(e)&&!St(t)&&!St(r)&&s.some(i=>Hs(i)===Hs(r)))return!0}return!1},o0=n=>Array.isArray(n)?[...n]:[],_ve=(n,e)=>{let t=!0;const r="BDEGHKLMOPQRSTXYabcehimopqstuwxyz",s=new RegExp(`[${r}]`,"g"),i=new RegExp(`[^${r}]`,"g"),o=/[H|m|s]{1,2}/,a=e.split(i),l=e.replace(s,""),u=new RegExp(`[${l}]`,"g"),d=n.split(u);if(a.length!==d.length)t=!1;else for(let h=0,f=d.length;h<f;h++){const g=a[h],b=d[h];if(o.test(g)&&b.length<g.length){t=!1;break}}return t};let bve=class extends Ne{constructor(e){super(Object.assign({},e))}init(){this.initDataFromDefaultValue(),(this._isControlledComponent("open")?this.getProp("open"):this.getProp("defaultOpen"))&&!this._isControlledComponent("open")&&this._adapter.registerClickOutSide()}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||mn.DEFAULT_TYPE,s=this.getContext("direction")==="rtl"?"bottomRight":"";return e||s||mn.DEFAULT_POSITION[t]}isDisabledHMS(e){let{hours:t,minutes:r,seconds:s}=e;const{disabledHours:i,disabledMinutes:o,disabledSeconds:a}=this.getProps(),l=!St(t)&&mve(i,t),u=!St(t)&&!St(r)&&vve(o,t,r),d=!St(t)&&!St(r)&&!St(s)&&yve(a,t,r,s);return l||u||d}isValidTimeZone(e){return["string","number"].includes(typeof e)&&e!==""}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?mn.DEFAULT_FORMAT_A:mn.DEFAULT_FORMAT}initDataFromDefaultValue(){const e=this.getProp("defaultValue");let t=this.getProp("value");const r=this.getProp("timeZone"),s=this.getValidFormat(),{rangeSeparator:i,dateFnsLocale:o}=this.getProps();t=t||e,Array.isArray(t)||(t=t?[t]:[]);const a=[];let l=!1;t.forEach(h=>{const f=Mg(h,s,o);isNaN(f.getTime())||a.push(this.isValidTimeZone(r)?ZE(f,r):f)});const u=[!0,!1];a.map((h,f)=>{u[f]=Pne(h)<12}),a.length===t.length?t=a:(t=[],t.length&&(l=!0));let d="";l||(d=t.map(h=>$g(h,s,o)).join(i)),this.setState({isAM:u,value:t,inputValue:d,invalid:l})}getValidFormat(e){let t=e;return St(t)&&(t=this.getDefaultFormatIfNeed()),typeof t!="string"&&(t=mn.DEFAULT_FORMAT),t}handlePanelChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.getValidFormat(),s=this.getProp("dateFnsLocale"),i=this.getState("value");let o=this.getState("isAM");const a=o0(i);if(o=o0(o),e){const l=!!e.isAM,u=Mg(e.timeStampValue,r,s);a[t]=u,o[t]=l;const d=this.formatValue(a);if(this.getState("isAM")[t]!==e.isAM&&this.setState({isAM:o}),!this._isControlledComponent("value")){const h=this.validateDates(a);this.setState({isAM:o,value:a,inputValue:d,invalid:h})}this._hasChanged(a,i)&&this._notifyChange(a,d)}}refreshProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{value:t,timeZone:r,__prevTimeZone:s}=e;let i=this.parseValue(t),o=i.some(l=>isNaN(Number(l)));o||(this.isValidTimeZone(r)&&(i=i.map(l=>ZE(this.isValidTimeZone(s)?xc(l,s):l,r))),o=i.some(l=>this.isDisabledHMS({hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds()})));const a=this.formatValue(i);this.setState({value:i,invalid:o,inputValue:a})}handleFocus(e){this.getState("open")||this.handlePanelOpen(),this._adapter.notifyFocus(e)}setPanel(e){this._adapter.togglePanel(e)}destroy(){this._adapter.unregisterClickOutSide()}handlePanelOpen(){this._isControlledComponent("open")||(this._adapter.registerClickOutSide(),this.setPanel(!0)),this._adapter.notifyOpenChange(!0)}handlePanelClose(e,t){this._isControlledComponent("open")||(this._adapter.unregisterClickOutSide(),this.setPanel(!1)),this._adapter.notifyOpenChange(!1),this._adapter.notifyBlur(t)}handleVisibleChange(e){this._isControlledComponent("open")||this._adapter.togglePanel(e),this._adapter.notifyOpenChange(e)}handleInputChange(e){this._adapter.setInputValue(e);const t=this.getProp("rangeSeparator"),r=i0(e,t),s=this.getValidFormat();if(e!==""&&r.some(d=>!_ve(d,s)))return;const i=this.parseInput(e),o=this.validateDates(i),a={invalid:o},l=this.getState("value");let u=o0(l);o||(a.value=i,u=[...i]),this._isControlledComponent("value")||this.setState(a),this._hasChanged(u,l)&&this._notifyChange(u,e)}doValidate(e){if(typeof e=="string")return this.validateStr(e);if(Array.isArray(e))return this.validateDates(e)}validateStr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=this.parseInput(e);return this.validateDates(t)}validateDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=e.some(r=>isNaN(Number(r)));return t||(t=e.some(r=>this.isDisabledHMS({hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds()}))),t}handleInputBlur(e){const t=this.getState("invalid"),r=this.getState("inputValue"),s=this.getState("value");r?t?this.setState({inputValue:this.formatValue(s),invalid:!1}):this.setState({inputValue:this.formatValue(s)}):this.setState({inputValue:"",value:[],invalid:!1})}formatValue(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");let i=e;if(i&&!Array.isArray(i)&&(i=i[i]),i&&Array.isArray(i))return i.map(a=>{let l;return Ct(a)?l="":l=$g(a,t,s),l}).join(r)}parseInput(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");return e&&typeof e=="string"?i0(e,r).map(i=>Mg(i,t,s)):[]}parseValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getValidFormat(),r=this.getProp("dateFnsLocale");let s=e;return Array.isArray(s)||(s=s?[s]:[]),Array.isArray(s)?s.map(i=>Mg(i,t,r)):[]}_notifyChange(e,t){let r=t,s=e;const i=this.getProp("timeZone");if(this._adapter.isRangePicker()){const a=this.getProp("rangeSeparator");r=i0(t,a)}else s=Array.isArray(s)?s[0]:s;if(this.isValidTimeZone(i)&&s){const a=this.getValidFormat();Array.isArray(s)?(s=s.map(l=>xc(l,i)),r=s.map(l=>ct(l,a))):(s=xc(s,i),r=ct(s,a))}this.getProp("onChangeWithDateFirst")?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_hasChanged(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=this.getValidFormat(),s=this.getProp("dateFnsLocale");return e.length!==t.length||e.some((i,o)=>{const a=t[o];return!(zs(i)&&zs(a)&&$g(i,r,s)===$g(a,r,s))})}};class wve extends Ne{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleFocus(e){this.storeCursor(),this._adapter.notifyFocus(e)}handleChange(e){this.storeCursor(),this._adapter.notifyChange(e)}handleBlur(e){this.clearCursor(),this._adapter.notifyBlur(e)}storeCursor(){const e=this.getCache("inputNode");if(e){const{selectionStart:t}=e;this.setCache("cursorIndex",t)}}restoreCursor(){const e=this.getCache("inputNode"),t=this.getCache("cursorIndex");e&&!St(t)&&(e.selectionStart=t,e.selectionEnd=t)}clearCursor(){this.setCache("cursorIndex",null),this.setCache("beforeStr",null),this.setCache("afterStr",null)}}var Eve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class fT extends xe{constructor(e){super(e),this.setRef=t=>this.adapter.setCache("inputNode",t),this.handleClick=t=>this.props.onClick(t),this.handleFocus=t=>this.foundation.handleFocus(t),this.handleBlur=t=>this.foundation.handleBlur(t),this.handleChange=t=>this.foundation.handleChange(t),this.foundation=new wve(this.adapter),this.state={}}componentDidMount(){super.componentDidMount();const{focusOnOpen:e,preventScroll:t}=this.props;e&&(window.requestAnimationFrame||window.setTimeout)(()=>{const s=this.adapter.getCache("inputNode");s&&(s.focus({preventScroll:t}),s.select())})}componentDidUpdate(e){const{timeStampValue:t}=this.props;this.isControlled("timeStampValue")&&t!==this.state.timeStampValue&&this.foundation.restoreCursor(),this.props.value!==e.value&&this.foundation.restoreCursor()}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyChange:function(){return e.props.onChange(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)}})}getInput(){const e=this.props,{prefixCls:t,placeholder:r,inputReadOnly:s,onFocus:i,disabled:o,type:a,locale:l,localeCode:u,insetLabel:d,validateStatus:h,value:f,onChange:g,invalid:b,format:y,clearText:_,disabledHours:v,disabledMinutes:E,disabledSeconds:w,onEsc:S,defaultOpenValue:O,currentSelectPanel:x,focusOnOpen:I,timeStampValue:T,timeZone:P,defaultOpen:A,dateFnsLocale:k}=e,M=Eve(e,["prefixCls","placeholder","inputReadOnly","onFocus","disabled","type","locale","localeCode","insetLabel","validateStatus","value","onChange","invalid","format","clearText","disabledHours","disabledMinutes","disabledSeconds","onEsc","defaultOpenValue","currentSelectPanel","focusOnOpen","timeStampValue","timeZone","defaultOpen","dateFnsLocale"]),N=$(`${t}-input`,{[`${t}-input-invalid`]:b,[`${t}-input-readonly`]:s}),W=b?"error":h;return m.createElement(Ln,Object.assign({},M,{hideSuffix:!0,className:N,ref:this.setRef,value:f,placeholder:r||l.placeholder[a],readonly:!!s,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,suffix:m.createElement(h$,{onClick:this.handleClick}),validateStatus:W,disabled:o,insetLabel:d}))}render(){const{prefixCls:e}=this.props;return m.createElement("div",{className:`${e}-input-wrap`},this.getInput())}}fT.propTypes={borderless:c.bool,format:c.string,prefixCls:c.string,placeholder:c.string,clearText:c.string,inputReadOnly:c.bool,hourOptions:c.array,minuteOptions:c.array,secondOptions:c.array,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,onChange:c.func,onFocus:c.func,onBlur:c.func,onEsc:c.func,onClick:c.func,defaultOpenValue:c.object,currentSelectPanel:c.string,focusOnOpen:c.bool,timeStampValue:c.any,locale:c.object,localeCode:c.string,insetLabel:c.node,validateStatus:c.string,preventScroll:c.bool};fT.defaultProps={borderless:!1,inputReadOnly:!1,onChange:j,onBlur:j,onFocus:j,onClick:j,disabledHours:j,disabledMinutes:j,disabledSeconds:j,format:mn.DEFAULT_FORMAT};const pA={panelHeader:c.oneOfType([c.node,c.string]),panelFooter:c.oneOfType([c.node,c.string])},Sve={},Cve=[c.string,c.number,c.instanceOf(Date)],gA=c.oneOfType([...Cve,c.arrayOf(c.string),c.arrayOf(c.number),c.arrayOf(c.instanceOf(Date))]);var Tve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Od extends xe{constructor(e){var t;super(e),t=this,this.onCurrentSelectPanelChange=s=>{this.setState({currentSelectPanel:s})},this.handlePanelChange=(s,i)=>this.foundation.handlePanelChange(s,i),this.handleInput=s=>this.foundation.handleInputChange(s),this.createPanelProps=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const{panels:i,panelFooter:o,panelHeader:a,locale:l}=t.props,u={panelHeader:a,panelFooter:o};if(t.adapter.isRangePicker()){const d={0:l.begin,1:l.end};u.panelHeader=Z(i,s,St(a)?Z(d,s,null):Array.isArray(a)?a[s]:a),u.panelFooter=Z(i,s,Array.isArray(o)?o[s]:o)}return u},this.handlePanelVisibleChange=s=>this.foundation.handleVisibleChange(s),this.openPanel=()=>{this.foundation.handlePanelOpen()},this.handleFocus=s=>{this.foundation.handleFocus(s)},this.handleBlur=s=>this.foundation.handleInputBlur(s),this.setTimePickerRef=s=>this.timePickerRef.current=s;const{format:r=mn.DEFAULT_FORMAT}=e;this.state={open:e.open||e.defaultOpen||!1,value:[],inputValue:"",currentSelectPanel:0,isAM:[!0,!1],showHour:!!r.match(/HH|hh|H|h/g),showMinute:!!r.match(/mm/g),showSecond:!!r.match(/ss/g),invalid:void 0},this.foundation=new bve(this.adapter),this.timePickerRef=m.createRef(),this.savePanelRef=m.createRef(),this.useCustomTrigger=typeof this.props.triggerRender=="function"}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:t=>{this.setState({open:t})},registerClickOutSide:()=>{this.clickOutSideHandler&&this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=t=>{const r=this.savePanelRef&&this.savePanelRef.current,s=this.timePickerRef&&this.timePickerRef.current,i=t.target,o=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(o.includes(s)||o.includes(r))&&this.foundation.handlePanelClose(!0,t)},document.addEventListener("mousedown",this.clickOutSideHandler)},setInputValue:(t,r)=>this.setState({inputValue:t},r),unregisterClickOutSide:()=>{this.clickOutSideHandler&&(document.removeEventListener("mousedown",this.clickOutSideHandler),this.clickOutSideHandler=null)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyChange:(t,r)=>this.props.onChange&&this.props.onChange(t,r),notifyFocus:function(){return e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur&&e.props.onBlur(...arguments)},isRangePicker:()=>this.props.type===mn.TYPE_TIME_RANGE_PICKER})}static getDerivedStateFromProps(e,t){return"open"in e&&e.open!==t.open?{open:e.open}:null}componentDidUpdate(e){this.isControlled("value")&&this.props.value!==e.value?this.foundation.refreshProps(Object.assign({},this.props)):this.props.timeZone!==e.timeZone&&this.foundation.refreshProps({timeZone:this.props.timeZone,__prevTimeZone:e.timeZone,value:this.state.value})}getPanelElement(){const{prefixCls:e,type:t}=this.props,{isAM:r,value:s}=this.state,i=this.foundation.getDefaultFormatIfNeed(),o=[m.createElement(Rf,Object.assign({},this.props,{key:0,format:i,isAM:r[0],timeStampValue:s[0],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,0),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(0)))];t===mn.TYPE_TIME_RANGE_PICKER&&o.push(m.createElement(Rf,Object.assign({},this.props,{key:1,format:i,isAM:r[1],timeStampValue:s[1],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,1),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(1))));const a=$({[eS.RANGE_PANEL_LISTS]:this.adapter.isRangePicker()});return m.createElement("div",{ref:this.savePanelRef,className:a},o.map(l=>l))}getPopupClassName(){const{use12Hours:e,prefixCls:t,popupClassName:r}=this.props,{showHour:s,showMinute:i,showSecond:o}=this.state;let a=0;return s&&(a+=1),i&&(a+=1),o&&(a+=1),e&&(a+=1),$(`${t}-panel`,r,{[`${t}-panel-narrow`]:(!s||!i||!o)&&!e,[eS.RANGE_PICKER]:this.adapter.isRangePicker()},`${t}-panel-column-${a}`)}focus(){}blur(){}render(){const e=this.props,{prefixCls:t,placeholder:r,disabled:s,defaultValue:i,dropdownMargin:o,className:a,popupStyle:l,size:u,style:d,locale:h,localeCode:f,zIndex:g,getPopupContainer:b,insetLabel:y,insetLabelId:_,inputStyle:v,showClear:E,panelHeader:w,panelFooter:S,rangeSeparator:O,onOpenChange:x,onChangeWithDateFirst:I,popupClassName:T,hideDisabledOptions:P,use12Hours:A,minuteStep:k,hourStep:M,secondStep:N,scrollItemProps:W,triggerRender:q,motion:K,autoAdjustOverflow:ee,stopPropagation:V}=e,z=Tve(e,["prefixCls","placeholder","disabled","defaultValue","dropdownMargin","className","popupStyle","size","style","locale","localeCode","zIndex","getPopupContainer","insetLabel","insetLabelId","inputStyle","showClear","panelHeader","panelFooter","rangeSeparator","onOpenChange","onChangeWithDateFirst","popupClassName","hideDisabledOptions","use12Hours","minuteStep","hourStep","secondStep","scrollItemProps","triggerRender","motion","autoAdjustOverflow","stopPropagation"]),B=this.foundation.getDefaultFormatIfNeed(),oe=this.foundation.getPosition(),{open:ne,inputValue:re,invalid:he,value:be}=this.state,ye=this.getPopupClassName(),me=$({[`${t}-header`]:!0}),ge=$({[`${t}-panel`]:!0,[`${t}-panel-${u}`]:u}),te=Object.assign(Object.assign({},z),{disabled:s,prefixCls:t,size:u,showClear:s?!1:E,style:v,value:re,onFocus:this.handleFocus,insetLabel:y,insetLabelId:_,format:B,locale:h,localeCode:f,invalid:he,placeholder:r,onChange:this.handleInput,onBlur:this.handleBlur}),le={};return this.useCustomTrigger&&(le.onClick=this.openPanel),m.createElement("div",Object.assign({ref:this.setTimePickerRef,className:$({[t]:!0},a),style:d},le),m.createElement(xr,{getPopupContainer:b,zIndex:g,prefixCls:ge,contentClassName:ye,style:l,content:this.getPanelElement(),trigger:"custom",position:oe,visible:s?!1:!!ne,motion:K,margin:o,autoAdjustOverflow:ee,stopPropagation:V},this.useCustomTrigger?m.createElement(Tu,{triggerRender:q,disabled:s,value:be,inputValue:re,onChange:this.handleInput,placeholder:r,componentName:"TimePicker",componentProps:Object.assign({},this.props)}):m.createElement("span",{className:me},m.createElement(fT,Object.assign({},te)))))}}Od.contextType=Vr;Od.propTypes=Object.assign(Object.assign({"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,prefixCls:c.string,borderless:c.bool,clearText:c.string,clearIcon:c.node,value:gA,inputReadOnly:c.bool,disabled:c.bool,showClear:c.bool,defaultValue:gA,open:c.bool,defaultOpen:c.bool,onOpenChange:c.func,position:c.any,getPopupContainer:c.func,placeholder:c.string,format:c.string,style:c.object,className:c.string,popupClassName:c.string,popupStyle:c.object,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,dropdownMargin:c.oneOfType([c.number,c.object]),hideDisabledOptions:c.bool,onChange:c.func,use12Hours:c.bool,hourStep:c.number,minuteStep:c.number,secondStep:c.number,focusOnOpen:c.bool,autoFocus:c.bool,size:c.oneOf(mn.SIZE),stopPropagation:c.bool,panels:c.arrayOf(c.shape(pA)),onFocus:c.func,onBlur:c.func,locale:c.object,localeCode:c.string,dateFnsLocale:c.object,zIndex:c.oneOfType([c.number,c.string]),insetLabel:c.node,insetLabelId:c.string,validateStatus:c.oneOf(mn.STATUS),type:c.oneOf(mn.TYPES),rangeSeparator:c.string,triggerRender:c.func,timeZone:c.oneOfType([c.string,c.number]),scrollItemProps:c.object,motion:c.oneOfType([c.bool,c.func,c.object]),autoAdjustOverflow:c.bool},pA),{inputStyle:c.object,preventScroll:c.bool});Od.defaultProps=Object.assign({autoAdjustOverflow:!0,borderless:!1,getPopupContainer:()=>document.body,showClear:!0,zIndex:Ss.DEFAULT_Z_INDEX,rangeSeparator:mn.DEFAULT_RANGE_SEPARATOR,onOpenChange:j,clearText:"clear",prefixCls:eS.PREFIX,inputReadOnly:!1,style:{},stopPropagation:!0,className:"",popupClassName:"",popupStyle:{left:"0px",top:"0px"},disabledHours:()=>[],disabledMinutes:()=>[],disabledSeconds:()=>[],hideDisabledOptions:!1,onFocus:j,onBlur:j,onChange:j,onChangeWithDateFirst:!0,use12Hours:!1,focusOnOpen:!1,onKeyDown:j,size:"default",type:mn.DEFAULT_TYPE,motion:!0},Sve);class Nf extends m.PureComponent{render(){const{type:e}=this.props;return m.createElement(Vr.Consumer,null,t=>{let{timeZone:r}=t;return m.createElement(Pn,{componentName:"TimePicker"},(s,i,o)=>m.createElement(Od,Object.assign({timeZone:r,placeholder:Z(s,["placeholder",e])},this.props,{locale:s,localeCode:i,dateFnsLocale:o})))})}}Nf.propTypes=Od.propTypes;Nf.__SemiComponentName__="TimePicker";Nf.defaultProps=Ps(Nf.__SemiComponentName__,Od.defaultProps);class pT extends Ne{constructor(e){super(Object.assign(Object.assign({},pT.defaultAdapter),e)),this.handleMouseInSideChange=t=>{this._adapter.handleMouseInSideChange(t)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map(r=>{let{id:s}=r;return s}).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let r=this._adapter.getState("list");r=r.map(i=>i.id===e?Object.assign(Object.assign({},i),t):i);const s=r.filter(i=>i.id===e);this._adapter.updateToast(r,[],s)}removeToast(e){let t=this._adapter.getState("list");const r=[];t=t.filter(s=>s.id===e?(r.push(s),!1):!0),this._adapter.updateToast(t,r,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const a0=`${G}-toast`,qu={PREFIX:a0,WRAPPER:`${a0}-wrapper`,LIST:`${a0}-list`},Hh={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]},Ive={duration:3};class gT extends Ne{constructor(e){super(Object.assign(Object.assign({},gT.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&tn(e)&&(this._timer=setTimeout(()=>{this.close()},e*1e3))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}const ai=qu.PREFIX;let ou=class extends xe{constructor(e){super(e),this.toastEle=m.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new gT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:e,icon:t}=this.props,s={warning:m.createElement(CC,null),success:m.createElement(g$,null),info:m.createElement(f$,null),error:m.createElement(Sf,null)}[e],i="large",o=$(`${ai}-icon`,`${ai}-icon-${e}`);return t?Cr(t)?m.cloneElement(t,{size:i,className:`${ai}-icon`}):t:e&&s?m.cloneElement(s,{size:i,className:o}):null}render(){const{content:e,type:t,theme:r,showClose:s,textMaxWidth:i,className:o,style:a}=this.props,l=this.props.direction||this.context.direction,u=$(ai,o,{[`${ai}-${t}`]:!0,[`${ai}-${r}`]:r==="light",[`${ai}-rtl`]:l==="rtl"}),d={};d.maxWidth=i;const h="borderless",f="small",g=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,b=m.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:u,style:Object.assign(Object.assign({},a),{transform:`translate3d(0,0,${g*-10}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},m.createElement("div",{className:`${ai}-content`},this.renderIcon(),m.createElement("span",{className:`${ai}-content-text`,style:d,"x-semi-prop":"content"},e),s&&m.createElement("div",{className:`${ai}-close-button`},m.createElement(qs,{onClick:y=>this.close(y),type:"tertiary",icon:m.createElement(Fy,{"x-semi-prop":"icon"}),theme:h,size:f}))));if(this.props.stack){const y=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return m.createElement("div",{className:`${ai}-zero-height-wrapper`,style:{height:y}},b)}else return b}};ou.contextType=Vr;ou.propTypes={onClose:c.func,content:c.node,close:c.func,duration:c.number,theme:c.oneOf(Hh.themes),type:c.oneOf(Hh.types),textMaxWidth:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,showClose:c.bool,stack:c.bool,stackExpanded:c.bool,icon:c.node,direction:c.oneOf(Hh.directions)};ou.__SemiComponentName__="Toast";ou.defaultProps=Ps(ou.__SemiComponentName__,{onClose:j,content:"",close:j,duration:Ive.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var Ove=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Pve=(n,e)=>{var{afterClose:t}=n,r=Ove(n,["afterClose"]);const[s,i]=D.useState(!0),o=()=>{i(!1)};return m.useImperativeHandle(e,()=>({close:()=>{i(!1)}})),D.useEffect(()=>{s||t(r.id)},[s]),s?m.createElement(ou,Object.assign({},r,{close:o})):null},xve=m.forwardRef(Pve),ih={motion:!0,zIndex:1010,duration:3};function Rve(){const[n,e]=m.useState([]);function t(r,s){return e(i=>[{element:r,config:s},...i]),i=>{e(o=>o.filter(a=>{let{config:l}=a;return l.id!==i}))}}return[n,t]}function Ave(){const[n,e]=Rve(),t=D.useRef(new Map),r=i=>{const o=hv("semi_toast_"),a=Object.assign(Object.assign({},i),{id:o});let l;const u=m.createElement(xve,Object.assign({},a,{key:o,afterClose:d=>l(d),ref:d=>{var h;t.current.set(o,{close:(h=d==null?void 0:d.close)!==null&&h!==void 0?h:j})}}));return l=e(u,Object.assign({},a)),o},s=i=>{var o;const{close:a}=(o=t.current.get(i))!==null&&o!==void 0?o:{};a==null||a()};return[{success:i=>r(Object.assign(Object.assign(Object.assign({},ih),i),{type:"success"})),info:i=>r(Object.assign(Object.assign(Object.assign({},ih),i),{type:"info"})),error:i=>r(Object.assign(Object.assign(Object.assign({},ih),i),{type:"error"})),warning:i=>r(Object.assign(Object.assign(Object.assign({},ih),i),{type:"warning"})),open:i=>r(Object.assign(Object.assign(Object.assign({},ih),i),{type:"default"})),close:i=>s(i)},m.createElement(m.Fragment,null,Array.isArray(n)&&n.length?m.createElement(m.Fragment,null,n.map(i=>i.element)):null)]}const Dve=()=>{var n;return n=class vt extends xe{constructor(t){super(t),this.stack=!1,this.innerWrapperRef=m.createRef(),this.handleMouseEnter=r=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=r=>{var s;this.stack&&(!((s=this.foundation.getInputWrapperRect())===null||s===void 0)&&s.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new pT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(t,r,s)=>{this.setState({list:t,removedItems:r,updatedItems:s})},handleMouseInSideChange:t=>{this.setState({mouseInSide:t})},getInputWrapperRect:()=>{var t;return(t=this.innerWrapperRef.current)===null||t===void 0?void 0:t.getBoundingClientRect()}})}static create(t){var r;const s=(r=t.id)!==null&&r!==void 0?r:hv("toast");if(vt.ref){const i=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(o=>{o in t&&(i.style[o]=typeof t[o]=="number"?`${t[o]}px`:t[o])}),!!t.stack!==vt.ref.stack&&(vt.ref.stack=!!t.stack),vt.ref.has(s)?vt.ref.update(s,Object.assign(Object.assign({},t),{id:s})):vt.ref.add(Object.assign(Object.assign({},t),{id:s}))}else{const i=document.createElement("div");this.wrapperId||(this.wrapperId=hv("toast-wrapper").slice(0,26)),i.className=qu.WRAPPER,i.id=this.wrapperId,i.style.zIndex=String(typeof t.zIndex=="number"?t.zIndex:vt.defaultOpts.zIndex),["top","left","bottom","right"].map(o=>{if(o in vt.defaultOpts||o in t){const a=t[o]?t[o]:vt.defaultOpts[o];i.style[o]=typeof a=="number"?`${a}px`:a}}),vt.defaultOpts.getPopupContainer?vt.defaultOpts.getPopupContainer().appendChild(i):document.body.appendChild(i),Mr.render(m.createElement(vt,{ref:o=>vt.ref=o}),i,()=>{vt.ref.add(Object.assign(Object.assign({},t),{id:s})),vt.ref.stack=!!t.stack})}return s}static close(t){vt.ref&&vt.ref.remove(t)}static destroyAll(){if(vt.ref){vt.ref.destroyAll();const t=document.querySelector(`#${this.wrapperId}`);Mr.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),vt.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},vt.defaultOpts),t),{type:"info"}))}static warning(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},vt.defaultOpts),t),{type:"warning"}))}static error(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},vt.defaultOpts),t),{type:"error"}))}static success(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},vt.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach(r=>{r in t&&(vt.defaultOpts[r]=t[r])}),typeof t.theme=="string"&&Hh.themes.includes(t.theme)&&(vt.defaultOpts.theme=t.theme),typeof t.zIndex=="number"&&(vt.defaultOpts.zIndex=t.zIndex),typeof t.duration=="number"&&(vt.defaultOpts.duration=t.duration),typeof t.getPopupContainer=="function"&&(vt.defaultOpts.getPopupContainer=t.getPopupContainer)}has(t){return this.foundation.hasToast(t)}add(t){return this.foundation.addToast(t)}update(t,r){return this.foundation.updateToast(t,r)}remove(t){return this.foundation.removeToast(t)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:t}=this.state;const{removedItems:r,updatedItems:s}=this.state;t=Array.from(new Set([...t,...r]));const i=s.map(a=>{let{id:l}=a;return l}),o=a=>{var l;!((l=a==null?void 0:a.foundation)===null||l===void 0)&&l._id&&i.includes(a.foundation._id)&&a.foundation.restartCloseTimer()};return m.createElement(m.Fragment,null,m.createElement("div",{className:$({[`${qu.PREFIX}-innerWrapper`]:!0,[`${qu.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t.map((a,l)=>{const u=r.find(d=>d.id===a.id)!==void 0;return m.createElement(Ef,{key:a.id,motion:a.motion,animationState:u?"leave":"enter",startClassName:u?`${qu.PREFIX}-animation-hide`:`${qu.PREFIX}-animation-show`},d=>{let{animationClassName:h,animationEventsNeedBind:f,isAnimating:g}=d;return u&&!g?null:m.createElement(ou,Object.assign({},a,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:t.length,index:l},className:$({[a.className]:!!a.className,[h]:!0})},f,{style:Object.assign({},a.style),close:b=>this.remove(b),ref:o}))})})))}},n.defaultOpts={motion:!0,zIndex:1010,content:""},n.propTypes={content:c.node,duration:c.number,onClose:c.func,icon:c.node,direction:c.oneOf(Hh.directions),stack:c.bool},n.defaultProps={},n};class kve{static create(e){const t=Dve();return t.useToast=Ave,e&&t.config(e),t}}const Tn=kve.create();function l0(n){return $M(n,e=>{if(jW(e)&&!e._innerDataTag||m.isValidElement(e))return e})}const Nve=j$.PREFIX;class mT extends D.PureComponent{constructor(e){super(e),this._onResize=t=>{const r=t&&t[1]&&t[1].target;if(r){const s=Z(r,"offsetHeight")||0,i=window.getComputedStyle(r)||{},o=parseInt(Z(i,"paddingTop"),10)||0,a=parseInt(Z(i,"paddingBottom"),10)||0,l=s-o-a;this.state.height!==l&&this.setState({height:s-o-a})}},this.state={height:this.props.defaultHeight||0}}componentDidMount(){const{height:e}=this.state}render(){const{children:e,defaultWidth:t,defaultHeight:r}=this.props,{height:s}=this.state;let i=!1;return(s===0||typeof s!="number")&&(i=!0),m.createElement(za,{observeParent:!0,onResize:this._onResize},m.createElement("div",{style:{height:r,overflow:"visible"},className:`${Nve}-auto-wrapper`},!i&&e({height:s,width:t})))}}mT.propTypes={defaultHeight:c.oneOfType([c.number,c.string]),defaultWidth:c.oneOfType([c.number,c.string])};mT.defaultProps={defaultHeight:"100%",defaultWidth:"100%"};const vT=m.createContext(null),Lve=n=>{let{prefixcls:e,level:t,isEnd:r,showLine:s}=n;const i=`${e}-indent-unit`,o=[];for(let a=0;a<t;a+=1)o.push(D.createElement("span",{key:a,className:$(i,{[`${i}-end`]:r[a]})}));return D.createElement("span",{"aria-hidden":"true",className:$(`${e}-indent`,{[`${e}-indent-show-line`]:s})},o)},Mve=D.memo(Lve);var $ve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const lt=j$.PREFIX_OPTION;class Rc extends D.PureComponent{constructor(e){super(e),this.onSelect=t=>{const{onNodeSelect:r}=this.context;r(t,this.props)},this.onExpand=t=>{const{onNodeExpand:r}=this.context;t&&t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),r(t,this.props)},this.onCheck=t=>{var r,s;if(this.isDisabled())return;const{onNodeCheck:i}=this.context;t.stopPropagation(),(s=(r=t.nativeEvent)===null||r===void 0?void 0:r.stopImmediatePropagation)===null||s===void 0||s.call(r),i(t,this.props)},this.handleCheckEnterPress=t=>{ti(t)&&this.onCheck(t)},this.onContextMenu=t=>{const{onNodeRightClick:r}=this.context;r(t,this.props)},this.onClick=t=>{const{expandAction:r}=this.context;if(r==="doubleClick"){this.debounceSelect(t);return}this.onSelect(t),r==="click"&&this.onExpand(t)},this.handleliEnterPress=t=>{ti(t)&&this.onClick(t)},this.onDoubleClick=t=>{const{expandAction:r,onNodeDoubleClick:s}=this.context;t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),De(s)&&s(t,this.props),r==="doubleClick"&&this.onExpand(t)},this.onDragStart=t=>{const{onNodeDragStart:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}));try{t.dataTransfer.setData("text/plain","")}catch{}},this.onDragEnter=t=>{const{onNodeDragEnter:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragOver=t=>{const{onNodeDragOver:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragLeave=t=>{const{onNodeDragLeave:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragEnd=t=>{const{onNodeDragEnd:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDrop=t=>{const{onNodeDrop:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.getNodeChildren=()=>{const{children:t}=this.props;return t||[]},this.isLeaf=()=>{const{isLeaf:t,loaded:r}=this.props,{loadData:s}=this.context,i=this.getNodeChildren().length!==0;return t===!1?!1:t||!s&&!i||s&&r&&!i},this.isDisabled=()=>{const{disabled:t}=this.props,{treeDisabled:r}=this.context;return t===!1?!1:!!(r||t)},this.renderSwitcher=()=>this.isLeaf()?m.createElement("span",{className:$(`${lt}-switcher`)},m.createElement("span",{className:`${lt}-switcher-leaf-line`})):null,this.renderRealLabel=()=>{const{renderLabel:t}=this.context,{label:r,keyword:s,data:i,filtered:o,treeNodeFilterProp:a}=this.props;return De(t)?t(r,i,s):ke(r)&&o&&s?m.createElement(gp,{highlightClassName:`${lt}-highlight`,component:"span",sourceString:r,searchWords:[s]}):r},this.setRef=t=>{this.refNode=t},this.state={},this.debounceSelect=VL(this.onSelect,500,{leading:!0,trailing:!1})}renderArrow(){const e=!this.isLeaf(),{loading:t,expanded:r,showLine:s}=this.props;return t?m.createElement(uo,{wrapperClassName:`${lt}-spin-icon`}):e?m.createElement(vie,{role:"button","aria-label":`${r?"Expand":"Collapse"} the tree item`,className:`${lt}-expand-icon`,size:"small",onClick:this.onExpand}):s?this.renderSwitcher():m.createElement("span",{className:`${lt}-empty-icon`})}renderCheckbox(){const{checked:e,halfChecked:t,eventKey:r}=this.props,s=this.isDisabled();return m.createElement("div",{role:"none",onClick:this.onCheck,onKeyPress:this.handleCheckEnterPress},m.createElement(qo,{"aria-label":"Toggle the checked state of checkbox",value:r,indeterminate:t,checked:e,disabled:!!s}))}renderIcon(){const{directory:e,treeIcon:t}=this.context,{expanded:r,icon:s,data:i}=this.props;return s||(t?typeof t=="function"?t(this.props):t:e?this.isLeaf()?m.createElement(qw,{className:`${lt}-item-icon`}):r?m.createElement(tie,{className:`${lt}-item-icon`}):m.createElement(Jse,{className:`${lt}-item-icon`}):null)}renderEmptyNode(){const{emptyContent:e}=this.props,t=$(lt,{[`${lt}-empty`]:!0});return m.createElement("ul",{className:t},m.createElement("li",{className:`${lt}-label ${lt}-label-empty`,"x-semi-prop":"emptyContent"},e))}render(){const e=this.props,{eventKey:t,expanded:r,selected:s,checked:i,halfChecked:o,loading:a,active:l,level:u,empty:d,filtered:h,treeNodeFilterProp:f,display:g,style:b,isEnd:y,showLine:_}=e,v=$ve(e,["eventKey","expanded","selected","checked","halfChecked","loading","active","level","empty","filtered","treeNodeFilterProp","display","style","isEnd","showLine"]);if(d)return this.renderEmptyNode();const{multiple:E,draggable:w,renderFullLabel:S,dragOverNodeKey:O,dropPosition:x,labelEllipsis:I}=this.context,T=y[y.length-1],P=this.isDisabled(),A=O===t&&x===0,k=O===t&&x===-1,M=O===t&&x===1,N=$(lt,{[`${lt}-level-${u+1}`]:!0,[`${lt}-fullLabel-level-${u+1}`]:S,[`${lt}-collapsed`]:!r,[`${lt}-disabled`]:!!P,[`${lt}-selected`]:s,[`${lt}-active`]:!E&&l,[`${lt}-ellipsis`]:I,[`${lt}-drag-over`]:!P&&A,[`${lt}-draggable`]:!P&&w&&!S,[`${lt}-fullLabel-draggable`]:!P&&w&&S,[`${lt}-fullLabel-drag-over-gap-top`]:!P&&k&&S,[`${lt}-fullLabel-drag-over-gap-bottom`]:!P&&M&&S,[`${lt}-tree-node-last-leaf`]:T}),W={onClick:this.onClick,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,className:N,onExpand:this.onExpand,data:v.data,level:u,onCheck:this.onCheck,style:b,expandIcon:this.renderArrow(),checkStatus:{checked:i,halfChecked:o},expandStatus:{expanded:r,loading:a},filtered:h,searchWord:v.keyword},q={onDoubleClick:this.onDoubleClick,onDragStart:w?this.onDragStart:void 0,onDragEnter:w?this.onDragEnter:void 0,onDragOver:w?this.onDragOver:void 0,onDragLeave:w?this.onDragLeave:void 0,onDrop:w?this.onDrop:void 0,onDragEnd:w?this.onDragEnd:void 0,draggable:!P&&w||void 0};if(S){const z=S(Object.assign({},W));return w?m.cloneElement(z,Object.assign({ref:this.setRef},q)):At(b)?z:m.cloneElement(z,{style:Object.assign(Object.assign({},Z(z,["props","style"])),b)})}const K=$(`${lt}-label`,{[`${lt}-drag-over-gap-top`]:!P&&k,[`${lt}-drag-over-gap-bottom`]:!P&&M}),ee=Z(v,["data","children","length"]),V=ke(v.pos)?Number(v.pos.split("-")[u+1])+1:1;return m.createElement("li",Object.assign({className:N,role:"treeitem","aria-disabled":P,"aria-checked":i,"aria-selected":s,"aria-setsize":ee,"aria-posinset":V,"aria-expanded":r,"aria-level":u+1,"data-key":t,onClick:this.onClick,onKeyPress:this.handleliEnterPress,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,ref:this.setRef,style:b},q),m.createElement(Mve,{showLine:_,prefixcls:lt,level:u,isEnd:y}),this.renderArrow(),m.createElement("span",{className:K},E?this.renderCheckbox():null,this.renderIcon(),m.createElement("span",{className:`${lt}-label-text`},this.renderRealLabel())))}}Rc.contextType=vT;Rc.propTypes={expanded:c.bool,selected:c.bool,checked:c.bool,halfChecked:c.bool,active:c.bool,disabled:c.bool,loaded:c.bool,loading:c.bool,isLeaf:c.bool,pos:c.string,children:c.oneOfType([c.array,c.object]),icon:c.node,directory:c.bool,keyword:c.string,treeNodeFilterProp:c.string,selectedKey:c.string,motionKey:c.oneOfType([c.string,c.arrayOf(c.string)]),isEnd:c.arrayOf(c.bool),showLine:c.bool};Rc.defaultProps={selectedKey:"",motionKey:""};var Fve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function jve(n){const{open:e,children:t}=n,r=Fve(n,["open","children"]),[s,i]=D.useState(n.open);return D.useEffect(()=>{setTimeout(()=>{i(!n.open)},0)},[]),m.createElement(Ja,Object.assign({},r,{isOpen:s}),t)}const mA=n=>n.key;class Rj extends D.PureComponent{constructor(e){super(e),this.onMotionEnd=()=>{typeof this.props.onMotionEnd=="function"&&this.props.onMotionEnd(),this.setState({transitionNodes:[]})},this.state={transitionNodes:[]}}static getDerivedStateFromProps(e,t){const{flattenNodes:r=[],motionKeys:s,motionType:i,flattenList:o=[]}=e,a=!je(t.cachedMotionKeys,s)||!je(t.cachedData.map(b=>b.key),r.map(b=>b.key)),l=[...s];if(!a||!l.length)return null;const u=[],d=[];let h=0,f={};return(i==="hide"&&o?o:r).forEach((b,y)=>{const _=mA(b);s.has(_)?(d.push(b),_===l[0]&&(h=y)):u.push(b)}),u.splice(h,0,d),f={transitionNodes:u,cachedData:r,cachedMotionKeys:s,cachedMotionType:i},f}render(){const{flattenNodes:e,motionType:t,searchTargetIsDeep:r,renderTreeNode:s}=this.props,{transitionNodes:i}=this.state;return(i.length&&!r?i:e).map(l=>{const u=Array.isArray(l);if(u&&!l.length)return null;if(u&&l.length){const d=mA(l[0]);return m.createElement(jve,{open:t==="hide",duration:200,motion:!!t,key:`motion-${d}`,onMotionEnd:this.onMotionEnd},l.map(h=>s(h)))}return s(l)})}}Rj.contextType=vT;const Aj={PREFIX:`${G}-tree-select`,PREFIX_TREE:`${G}-tree`,PREFIX_OPTION:`${G}-tree-select-option`},Nr={SIZE_SET:["small","large","default"],SEARCH_POSITION_DROPDOWN:"dropdown",SEARCH_POSITION_TRIGGER:"trigger",STATUS:yd};class Vve extends Ne{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===m$&&this.getState("isOpen")&&this.close(t)},this._registerClickOutsideHandler=()=>{this._adapter.registerClickOutsideHandler(t=>{this.handlerTriggerBlur(t),this.close(t)})},this.clearInputValue=()=>{const{inputValue:t}=this.getStates();t&&this._adapter.updateInputValue("")},this.onClickSingleTriggerSearchItem=t=>{this.focusInput(!0)}}init(){const{searchAutoFocus:e,searchPosition:t,filterTreeNode:r}=this.getProps(),s=t===Nr.SEARCH_POSITION_TRIGGER&&r,i=e&&s;this._setDropdownWidth();const o=!this._isDisabled();(this.getProp("defaultOpen")||i)&&o&&(this.open(),this._registerClickOutsideHandler()),i&&o&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&tn(e.width)||e&&ke(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getProp("disabled")||e.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){const{inputValue:e}=this.getStates(),{showFilteredOnly:t}=this.getProps();return!!e&&t}findDataForValue(e){const{value:t,defaultValue:r,keyMaps:s}=this.getProps(),i=Z(s,"value","value"),o=Z(s,"key","key");let a=[];return t?a=Array.isArray(t)?t:[t]:r&&(a=Array.isArray(r)?r:[r]),a.find(l=>l[i]===e||l[o]===e)}constructDataForValue(e){const{treeNodeLabelProp:t,keyMaps:r}=this.getProps(),s=Z(r,"key","key"),i=Z(r,"label",t);return{[s]:e,[i]:e}}getDataForKeyNotInKeyEntities(e){const{onChangeWithObject:t}=this.getProps();return t?this.findDataForValue(e):this.constructDataForValue(e)}getTreeNodeProps(e){const{expandedKeys:t=new Set([]),selectedKeys:r=[],checkedKeys:s=new Set([]),halfCheckedKeys:i=new Set([]),realCheckedKeys:o=new Set([]),keyEntities:a={},filteredKeys:l=new Set([]),inputValue:u="",loadedKeys:d,loadingKeys:h,filteredExpandedKeys:f=new Set([]),disabledKeys:g=new Set([])}=this.getStates(),{treeNodeFilterProp:b,checkRelation:y}=this.getProps(),_=a[e];if(!_)return null;let E=!1,w=!1;y==="related"?(E=s.has(e),w=i.has(e)):y==="unRelated"&&(E=o.has(e),w=!1);const O={eventKey:e,expanded:!!u?f.has(e):t.has(e),selected:r.includes(e),checked:E,halfChecked:w,pos:String(_?_.pos:""),level:_.level,filtered:l.has(e),keyword:u,treeNodeFilterProp:b,loading:h.has(e)&&!d.has(e),loaded:d.has(e)};return this.getProp("disableStrictly")&&g.has(e)&&(O.disabled=!0),O}handleNodeLoad(e,t,r,s){const{loadData:i}=this.getProps(),{key:o}=r;return!i||e.has(o)||t.has(o)?{}:(i(r).then(()=>{const a=new Set(this.getState("loadedKeys")),l=new Set(this.getState("loadingKeys")),u=a.add(o),d=new Set([...l]);d.delete(o),this._adapter.notifyLoad(u,r),this._isLoadControlled()||this._adapter.updateState({loadedKeys:u}),this._adapter.setState({loadingKeys:d}),s()}),{loadingKeys:t.add(o)})}focusInput(e){this._adapter.updateInputFocus(e)}_notifyMultipleChange(e,t){const{keyEntities:r}=this.getStates(),{leafOnly:s,checkRelation:i,keyMaps:o,autoMergeValue:a}=this.getProps();let l=[];i==="related"?l=a?hi(e,r,s,!0):e:i==="unRelated"&&(l=e);const u=l.map(d=>r[d]&&r[d].key===d?r[d].data:this.getDataForKeyNotInKeyEntities(d));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(u,t);else{const d=Ev(u,o);this._adapter.notifyChange(d,u,t)}}_notifyChange(e,t){const{keyEntities:r}=this.getStates(),{keyMaps:s}=this.getProps();if(this._isMultiple()&&Array.isArray(e))this._notifyMultipleChange(e,t);else{const i=Ct(e)?e:r[e].data,o=Ct(e)?e:Ev(i,s);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(i,t):this._adapter.notifyChange(o,i,t)}}_notifyFocus(e){this._adapter.notifyFocus(e)}handleTriggerFocus(e){this._adapter.updateIsFocus(!0),this._notifyFocus(e),this._registerClickOutsideHandler()}_notifyBlur(e){this._adapter.notifyBlur(e)}handlerTriggerBlur(e){this.getState("isFocus")&&(this._adapter.updateIsFocus(!1),this._notifyBlur(e),this._adapter.unregisterClickOutsideHandler())}toggleHoverState(e){this._adapter.toggleHovering(e)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(e){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(e){const t=this._isDisabled(),{isOpen:r,inputValue:s,isFocus:i}=this.getStates(),{searchPosition:o,clickTriggerToHide:a}=this.getProps();if(!t)if(i||this.handleTriggerFocus(e),r){if(o==="trigger"&&s)return;a&&this.close(e)}else this.open()}handleSelectionEnterPress(e){ti(e)&&this.handleClick(e)}handleClear(e){const{searchPosition:t,filterTreeNode:r}=this.getProps(),{inputValue:s,selectedKeys:i}=this.getStates(),o=this._isMultiple(),a=this._isControlledComponent(),l=o?[]:void 0;this._notifyChange(l,e),a||(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),r&&t===Nr.SEARCH_POSITION_TRIGGER&&s!==""&&(At(i)?this.handleInputChange(""):this.clearInput()),this._adapter.notifyClear(e)}handleClearEnterPress(e){ti(e)&&this.handleClear(e)}removeTag(e){const{disableStrictly:t,checkRelation:r,keyMaps:s}=this.getProps(),{keyEntities:i,disabledKeys:o,realCheckedKeys:a}=this.getStates(),l=i[e]&&i[e].key===e?i[e].data:this.getDataForKeyNotInKeyEntities(e),u=Z(s,"disabled","disabled");if(!(l[u]||t&&o.has(e))){if(r==="unRelated"){const d=new Set(a);d.delete(e),this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:d}),this._adapter.rePositionDropdown())}else if(r==="related"){const{checkedKeys:d,halfCheckedKeys:h}=this.calcCheckedKeys(e,!1);this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:d,halfCheckedKeys:h}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(e,!1,l),this._adapter.rePositionDropdown()}}clearInput(){const{flattenNodes:e,expandedKeys:t,selectedKeys:r,keyEntities:s,treeData:i}=this.getStates(),{keyMaps:o}=this.getProps(),a=new Set(t);this._isExpandControlled();const l=no(r,s,!1);l.forEach(d=>a.add(d));const u=Sa(i,a,o);this._adapter.updateState({expandedKeys:a,flattenNodes:u,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(l),filteredShownKeys:new Set([])}),this._adapter.rePositionDropdown()}handleInputChange(e){this._adapter.updateInputValue(e);const{flattenNodes:t,expandedKeys:r,selectedKeys:s,keyEntities:i,treeData:o}=this.getStates(),{showFilteredOnly:a,filterTreeNode:l,treeNodeFilterProp:u,keyMaps:d}=this.getProps(),h=u!=="label"?u:Z(d,"label","label"),f=new Set(r);let g=[],b=[],y=[],_=[],v=new Set([]);if(!e)y=no(s,i,!1),y.forEach(w=>f.add(w)),_=Sa(o,f,d);else{const w=Object.values(i).filter(O=>{const{data:x}=O;return U$(e,x,l,h)});g=w.map(O=>O.data),b=w.map(O=>O.key),y=no(b,i,!1);const S=to(b,i,!0);v=new Set([...S,...y]),_=Sa(o,new Set(y),d,a&&v)}const E=new Set(y);this._adapter.notifySearch(e,Array.from(E),g),this._adapter.updateState({expandedKeys:f,flattenNodes:_,motionKeys:new Set([]),filteredKeys:new Set(b),filteredExpandedKeys:E,filteredShownKeys:v}),this._adapter.rePositionDropdown()}handleNodeSelect(e,t){this._isDisabled(t)||(this._isMultiple()?this.handleMultipleSelect(e,t):this.handleSingleSelect(e,t))}handleSingleSelect(e,t){let r=[...this.getState("selectedKeys")];const{clickToHide:s}=this.getProps(),{selected:i,eventKey:o,data:a}=t;this._adapter.notifySelect(o,!0,a),!r.includes(o)&&!i&&(r=[o],this._notifyChange(o,e),this._isControlledComponent()||this._adapter.updateState({selectedKeys:r})),s&&(this._isSelectToClose()||!a.children)&&(this.close(e),this.handlerTriggerBlur(e))}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?B$(e,r,s,i):H$(e,r,s,i)}handleMultipleSelect(e,t){const{searchPosition:r,disableStrictly:s,checkRelation:i}=this.getProps(),{inputValue:o,realCheckedKeys:a}=this.getStates(),{checked:l,eventKey:u,data:d}=t;if(i==="related"){const h=s?this.calcCheckedStatus(!l,u):!l,{checkedKeys:f,halfCheckedKeys:g}=s?this.calcNonDisabledCheckedKeys(u,h):this.calcCheckedKeys(u,h);this._adapter.notifySelect(u,h,d),this._notifyChange([...f],e),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:f,halfCheckedKeys:g}),this._adapter.rePositionDropdown())}else if(i==="unRelated"){const h=new Set(a);let f;a.has(u)?(h.delete(u),f=!1):(h.add(u),f=!0),this._adapter.notifySelect(u,f,d),this._notifyChange([...h],e),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:h}),this._adapter.rePositionDropdown())}r===Nr.SEARCH_POSITION_TRIGGER&&o!==""&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),o=hi(to([e],r,!1),r,!0);if(!o.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=o.filter(d=>!s.has(d)),u=t?[...l,...i]:wv(hi([...i],r,!0,!0),l);return _p(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),o=hi(to([t],s,!1),s,!0);return o.some(d=>i.has(d))?!o.filter(d=>!i.has(d)).every(d=>r.has(d)):e}handleNodeExpandInSearch(e,t){const{treeData:r,filteredShownKeys:s,keyEntities:i}=this.getStates(),{keyMaps:o}=this.getProps(),a=this._showFilteredOnly(),l=new Set(this.getState("filteredExpandedKeys"));let u="show";const{eventKey:d,expanded:h,data:f}=t;if(h?l.has(d)&&(l.delete(d),u="hide"):l.add(d),this._adapter.cacheFlattenNodes(u==="hide"&&this._isAnimated()),!this._isExpandControlled()){const g=Sa(r,l,o,a&&s),b=this._isAnimated()?iR(d,l,i):[],y={filteredExpandedKeys:l,flattenNodes:g,motionKeys:new Set(b),motionType:u};this._adapter.updateState(y)}this._adapter.notifyExpand(l,{expanded:!h,node:f})}handleNodeExpand(e,t){const{loadData:r,keyMaps:s}=this.getProps(),{inputValue:i,keyEntities:o}=this.getStates(),a=!!i;if(!r&&(!t.children||!t.children.length))return;const l=this._isExpandControlled();if(a){this.handleNodeExpandInSearch(e,t);return}const{treeData:u}=this.getStates(),d=new Set(this.getState("expandedKeys"));let h="show";const{eventKey:f,expanded:g,data:b}=t;if(g?d.has(f)&&(d.delete(f),h="hide"):d.add(f),this._adapter.cacheFlattenNodes(h==="hide"&&this._isAnimated()),!l){const y=Sa(u,d,s),_=this._isAnimated()?iR(f,d,o):[],v={expandedKeys:d,flattenNodes:y,motionKeys:new Set(_),motionType:h};this._adapter.updateState(v)}this._adapter.notifyExpand(d,{expanded:!g,node:b})}getRenderTextInSingle(){const{renderSelectedItem:e,treeNodeLabelProp:t,keyMaps:r}=this.getProps(),{selectedKeys:s,keyEntities:i}=this.getStates(),o=Z(r,"label",t),a=De(e)?e:d=>Z(d,o,null);let l;if(s.length){const d=s[0];l=i[d]&&i[d].key===d?i[d].data:this.getDataForKeyNotInKeyEntities(d)}return l?a(l):null}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(e,t){this._adapter.updateLoadKeys(e,t)}handlePopoverVisibleChange(e){const{filterTreeNode:t,searchAutoFocus:r,searchPosition:s}=this.getProps();e===!1&&t&&this.clearInputValue(),t&&s===Nr.SEARCH_POSITION_DROPDOWN&&e&&r&&this.focusInput(!0)}handleAfterClose(){const{filterTreeNode:e}=this.getProps();e&&this.clearInput()}}var Uve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Fe=Aj.PREFIX,_l=Aj.PREFIX_TREE,Bve=0;class u_ extends xe{constructor(e){super(e),this.renderSuffix=()=>{const{suffix:t}=this.props,r=$({[`${Fe}-suffix`]:!0,[`${Fe}-suffix-text`]:t&&ke(t),[`${Fe}-suffix-icon`]:Cr(t)});return m.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,o=$({[`${Fe}-prefix`]:!0,[`${Fe}-inset-label`]:r,[`${Fe}-prefix-text`]:i&&ke(i),[`${Fe}-prefix-icon`]:Cr(i)});return m.createElement("div",{className:o,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderContent=()=>{const{dropdownMinWidth:t}=this.state,{dropdownStyle:r,dropdownClassName:s}=this.props,i=Object.assign({minWidth:t},r),o=$(s,`${Fe}-popover`);return m.createElement("div",{className:o,style:i,onKeyDown:this.foundation.handleKeyDown},this.renderTree())},this.removeTag=t=>{this.foundation.removeTag(t)},this.handleClick=t=>{this.foundation.handleClick(t)},this.getDataForKeyNotInKeyEntities=t=>this.foundation.getDataForKeyNotInKeyEntities(t),this.handleSelectionEnterPress=t=>{this.foundation.handleSelectionEnterPress(t)},this.hasValue=()=>{const{multiple:t,checkRelation:r}=this.props,{realCheckedKeys:s,checkedKeys:i,selectedKeys:o}=this.state;let a=!1;return t?r==="related"?a=!!i.size:r==="unRelated"&&(a=!!s.size):a=!!o.length,a},this.showClearBtn=()=>{const{showClear:t,disabled:r,searchPosition:s}=this.props,{inputValue:i,isOpen:o,isHovering:a}=this.state,l=s===Nr.SEARCH_POSITION_TRIGGER&&i;return t&&(this.hasValue()||l)&&!r&&(o||a)},this.renderTagList=t=>{const{keyEntities:r,disabledKeys:s}=this.state,{treeNodeLabelProp:i,leafOnly:o,disabled:a,disableStrictly:l,size:u,renderSelectedItem:d,keyMaps:h}=this.props,f=Z(h,"label",i),g=De(d)?d:y=>({isRenderInTag:!0,content:Z(y,f,null)}),b=[];return t.forEach((y,_)=>{const v=r[y]&&r[y].key===y?r[y].data:this.getDataForKeyNotInKeyEntities(y),E=(I,T)=>{T&&typeof T.preventDefault=="function"&&T.preventDefault(),this.removeTag(y)},{content:w,isRenderInTag:S}=v?g(v,{index:_,onClose:E}):{};if(nu(w)||Ct(w))return;const x={closable:!(a||v.disabled||l&&s.has(v.key)),color:"white",visible:!0,onClose:E,key:`tag-${y}-${_}`,size:u==="small"?"small":"large"};S?b.push(m.createElement(Or,Object.assign({},x),w)):b.push(w)}),b},this.renderSingleTriggerSearchItem=()=>{const{placeholder:t,disabled:r}=this.props,{inputTriggerFocus:s}=this.state,i=this.foundation.getRenderTextInSingle(),o=$(`${Fe}-selection-TriggerSearchItem`,{[`${Fe}-selection-TriggerSearchItem-placeholder`]:(s||!i)&&!r,[`${Fe}-selection-TriggerSearchItem-disabled`]:r});return m.createElement("span",{className:o,onClick:this.foundation.onClickSingleTriggerSearchItem},i||t)},this.renderSingleTriggerSearch=()=>{const{inputValue:t}=this.state;return m.createElement(m.Fragment,null,this.renderInput(),!t&&this.renderSingleTriggerSearchItem())},this.renderSelectContent=t=>{const{multiple:r,placeholder:s,maxTagCount:i,searchPosition:o,filterTreeNode:a,showRestTagsPopover:l,restTagsPopoverProps:u}=this.props;if(a&&o===Nr.SEARCH_POSITION_TRIGGER)return r?this.renderTagInput(t):this.renderSingleTriggerSearch();if(!r||!this.hasValue()){const f=this.foundation.getRenderTextInSingle(),g=$(`${Fe}-selection-content`,{[`${Fe}-selection-placeholder`]:!f});return m.createElement("span",{className:g},f||s)}const h=this.renderTagList(t);return m.createElement(kf,{maxTagCount:i,tagList:h,size:"large",mode:"custom",showPopover:l,popoverProps:u})},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear(t)},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.handleMouseOver=t=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=t=>{this.foundation.toggleHoverState(!1)},this.search=t=>{const{isOpen:r}=this.state;r||this.foundation.open(),this.foundation.handleInputChange(t)},this.close=()=>{this.foundation.close(null)},this.renderArrow=()=>{const t=this.showClearBtn(),{arrowIcon:r}=this.props;return t?null:r?m.createElement("div",{className:$(`${Fe}-arrow`),"x-semi-prop":"arrowIcon"},r):null},this.renderClearBtn=()=>{const t=this.showClearBtn(),{clearIcon:r}=this.props,s=$(`${Fe}-clearbtn`);return t?m.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TreeSelect value",className:s,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress},r||m.createElement(dl,null)):null},this.renderSelection=()=>{const t=this.props,{disabled:r,multiple:s,filterTreeNode:i,validateStatus:o,prefix:a,suffix:l,style:u,size:d,insetLabel:h,className:f,placeholder:g,showClear:b,leafOnly:y,searchPosition:_,triggerRender:v,borderless:E,autoMergeValue:w,checkRelation:S}=t,O=Uve(t,["disabled","multiple","filterTreeNode","validateStatus","prefix","suffix","style","size","insetLabel","className","placeholder","showClear","leafOnly","searchPosition","triggerRender","borderless","autoMergeValue","checkRelation"]),{inputValue:x,selectedKeys:I,checkedKeys:T,keyEntities:P,isFocus:A,realCheckedKeys:k}=this.state,M=!!i,N=typeof v=="function",W=b?{onMouseEnter:ne=>this.handleMouseOver(ne),onMouseLeave:ne=>this.handleMouseLeave(ne)}:{},q=_===Nr.SEARCH_POSITION_TRIGGER&&M,K=q&&At(T),ee=q&&!At(T),V=N?$(f):$(Fe,{[`${Fe}-borderless`]:E,[`${Fe}-focus`]:A,[`${Fe}-disabled`]:r,[`${Fe}-single`]:!s,[`${Fe}-multiple`]:s,[`${Fe}-multiple-tagInput-empty`]:s&&K,[`${Fe}-multiple-tagInput-notEmpty`]:s&&ee,[`${Fe}-filterable`]:M,[`${Fe}-error`]:o==="error",[`${Fe}-warning`]:o==="warning",[`${Fe}-small`]:d==="small",[`${Fe}-large`]:d==="large",[`${Fe}-with-prefix`]:a||h,[`${Fe}-with-suffix`]:l,[`${Fe}-with-suffix`]:l},f);let z,B=[];s?w?S==="related"?B=hi([...T],P,y,!0):S==="unRelated"&&(B=[...k]):B=[...T]:B=I,N?z=m.createElement(Tu,{inputValue:x,value:B.map(ne=>Z(P,[ne,"data"])),disabled:r,placeholder:g,onClear:this.handleClear,componentName:"TreeSelect",triggerRender:v,componentProps:Object.assign({},this.props),onSearch:this.search,onRemove:this.removeTag}):z=[m.createElement(D.Fragment,{key:"prefix"},a||h?this.renderPrefix():null),m.createElement(D.Fragment,{key:"selection"},m.createElement("div",{className:`${Fe}-selection`},this.renderSelectContent(B))),m.createElement(D.Fragment,{key:"suffix"},l?this.renderSuffix():null),m.createElement(D.Fragment,{key:"clearBtn"},b||q&&x?this.renderClearBtn():null),m.createElement(D.Fragment,{key:"arrow"},this.renderArrow())];const oe=r?null:0;return m.createElement("div",Object.assign({role:"combobox","aria-disabled":r,"aria-haspopup":"tree",tabIndex:oe,className:V,style:u,ref:this.triggerRef,onClick:this.handleClick,onKeyPress:this.handleSelectionEnterPress,onKeyDown:this.foundation.handleKeyDown,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},W,this.getDataAttr(O)),z)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:o,leafOnly:a,disabled:l,disableStrictly:u,renderSelectedItem:d,treeNodeLabelProp:h,keyMaps:f}=this.props,g=Z(f,"label",h),y=hi([t],s,a,!0).map(P=>s[t]&&s[t].key===t?s[t].data:this.getDataForKeyNotInKeyEntities(t)),_=Ev(y,f),v=$(`${Fe}-selection-tag`,{[`${Fe}-selection-tag-disabled`]:l}),E=!At(y)&&!At(y[0]),w=u&&E&&i.has(y[0].key),S=E&&!y[0].disabled&&!l&&!w,O=(P,A)=>{A.preventDefault(),this.removeTag(t)},x={size:o==="small"?"small":"large",key:`tag-${_}-${r}`,color:"white",className:v,closable:S,onClose:O},I=y[0],T=De(d)?d:P=>({isRenderInTag:!0,content:Z(P,g,null)});if(De(T)){const{content:P,isRenderInTag:A}=I?T(I,{index:r,onClose:O}):{};return A?m.createElement(Or,Object.assign({},x),P):P}return m.createElement(Or,Object.assign({},x),_)},this.renderTagInput=t=>{const{disabled:r,size:s,searchAutoFocus:i,placeholder:o,maxTagCount:a,showRestTagsPopover:l,restTagsPopoverProps:u,searchPosition:d,filterTreeNode:h,preventScroll:f}=this.props,{inputValue:g}=this.state,b=h&&d===Nr.SEARCH_POSITION_TRIGGER?i:void 0;return m.createElement(Tp,{maxTagCount:a,disabled:r,onInputChange:y=>this.search(y),ref:this.tagInputRef,placeholder:o,value:t,inputValue:g,size:s,showRestTagsPopover:l,restTagsPopoverProps:u,autoFocus:b,renderTagItem:(y,_)=>this.renderTagItem(y,_),onRemove:y=>this.removeTag(y),expandRestTagsOnClick:!1,preventScroll:f})},this.renderInput=()=>{const{searchPlaceholder:t,searchRender:r,showSearchClear:s,searchPosition:i,searchAutoFocus:o,multiple:a,disabled:l,preventScroll:u}=this.props,{inputValue:d,inputTriggerFocus:h}=this.state,f=i===Nr.SEARCH_POSITION_DROPDOWN,g=$({[`${_l}-input`]:f,[`${Fe}-inputTrigger`]:!f}),b={value:d,className:g,preventScroll:u,onChange:S=>this.search(S)},v=f?{showClear:s,prefix:m.createElement(p$,null)}:{autofocus:o,onFocus:S=>this.foundation.handleInputTriggerFocus(),onBlur:S=>this.foundation.handleInputTriggerBlur(),disabled:l},E=$({[`${_l}-search-wrapper`]:f,[`${Fe}-triggerSingleSearch-wrapper`]:!f&&!a,[`${Fe}-triggerSingleSearch-upper`]:!f&&h}),w=typeof r=="function"||typeof r=="boolean";return w&&!r?null:m.createElement("div",{className:E},m.createElement(Pn,{componentName:"TreeSelect"},S=>{const O=f?t||S.searchPlaceholder:"";return w?r(Object.assign(Object.assign(Object.assign({},v),b),{placeholder:O})):m.createElement(Ln,Object.assign({"aria-label":"Filter TreeSelect item",ref:this.inputRef,placeholder:O},b,v))}))},this.renderEmpty=()=>{const{emptyContent:t}=this.props;return t===null?null:t?m.createElement(Rc,{empty:!0,emptyContent:this.props.emptyContent}):m.createElement(Pn,{componentName:"Tree"},r=>m.createElement(Rc,{empty:!0,emptyContent:r.emptyText}))},this.onNodeLoad=t=>new Promise(r=>this.foundation.setLoadKeys(t,r)),this.onNodeSelect=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeCheck=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeExpand=(t,r)=>{this.foundation.handleNodeExpand(t,r)},this.getTreeNodeRequiredProps=()=>{const{expandedKeys:t,selectedKeys:r,checkedKeys:s,halfCheckedKeys:i,keyEntities:o,filteredKeys:a}=this.state;return{expandedKeys:t||new Set,selectedKeys:r||[],checkedKeys:s||new Set,halfCheckedKeys:i||new Set,filteredKeys:a||new Set,keyEntities:o}},this.getTreeNodeKey=t=>{const{data:r}=t,{key:s}=r;return s},this.handlePopoverVisibleChange=t=>{this.foundation.handlePopoverVisibleChange(t)},this.afterClose=()=>{this.foundation.handleAfterClose()},this.renderTreeNode=(t,r,s)=>{const{data:i,key:o}=t,a=this.foundation.getTreeNodeProps(o),{showLine:l}=this.props;if(!a)return null;const u=ru(t,["key","label","disabled","isLeaf","icon","isEnd"]),{keyMaps:d}=this.props,h=i[Z(d,"children","children")];return!Ct(h)&&(u.children=h),m.createElement(Rc,Object.assign({},a,i,u,{data:i,style:s,showLine:l}))},this.itemKey=(t,r)=>{const{visibleOptions:s}=r;return s[t].key},this.renderNodeList=()=>{const{flattenNodes:t,cachedFlattenNodes:r,motionKeys:s,motionType:i,filteredKeys:o}=this.state,{direction:a}=this.context,{virtualize:l,motionExpand:u}=this.props,d="expandedKeys"in this.props;if(!l||At(l))return m.createElement(Rj,{flattenNodes:t,flattenList:r,motionKeys:u?s:new Set([]),motionType:i,searchTargetIsDeep:d&&u&&At(s)&&!At(o),onMotionEnd:this.onMotionEnd,renderTreeNode:this.renderTreeNode});const h={visibleOptions:t,renderOption:this.renderTreeNode};return m.createElement(mT,{defaultHeight:l.height,defaultWidth:l.width},f=>{let{height:g,width:b}=f;return m.createElement(LC,{itemCount:t.length,itemSize:l.itemSize,height:g,width:b,itemKey:this.itemKey,itemData:h,className:`${_l}-virtual-list`,style:{direction:a}},_j)})},this.renderTree=()=>{const{keyEntities:t,motionKeys:r,motionType:s,inputValue:i,filteredKeys:o,flattenNodes:a,checkedKeys:l,realCheckedKeys:u}=this.state,{loadData:d,filterTreeNode:h,disabled:f,multiple:g,showFilteredOnly:b,motionExpand:y,outerBottomSlot:_,outerTopSlot:v,expandAction:E,labelEllipsis:w,virtualize:S,optionListStyle:O,searchPosition:x,renderLabel:I,renderFullLabel:T,checkRelation:P,emptyContent:A}=this.props,k=$(`${_l}-wrapper`),M=!!i&&!o.size,N=At(a)||b&&M,W=x===Nr.SEARCH_POSITION_DROPDOWN,q=$(`${_l}-option-list ${_l}-option-list-block`,{[`${_l}-option-list-hidden`]:A===null&&N});return m.createElement(vT.Provider,{value:{loadData:d,treeDisabled:f,motion:y,motionKeys:r,motionType:s,expandAction:E,filterTreeNode:h,keyEntities:t,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeRightClick:j,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,renderTreeNode:this.renderTreeNode,multiple:g,showFilteredOnly:b,isSearching:!!i,renderLabel:I,renderFullLabel:T,labelEllipsis:typeof w>"u"?S:w}},m.createElement("div",{className:k},v,!v&&h&&W&&this.renderInput(),m.createElement("div",{className:q,role:"tree","aria-multiselectable":!!g,style:O},N?this.renderEmpty():g?m.createElement(bp,{value:Array.from(P==="related"?l:u)},this.renderNodeList()):this.renderNodeList()),_))},this.state={inputTriggerFocus:!1,isOpen:!1,isFocus:!1,rePosKey:Bve,dropdownMinWidth:null,inputValue:"",keyEntities:{},treeData:[],flattenNodes:[],cachedFlattenNodes:void 0,selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([]),disabledKeys:new Set,motionKeys:new Set([]),motionType:"hide",expandedKeys:new Set(e.expandedKeys),filteredKeys:new Set,filteredExpandedKeys:new Set,filteredShownKeys:new Set,prevProps:null,isHovering:!1,cachedKeyValuePairs:{},loadedKeys:new Set,loadingKeys:new Set},this.inputRef=m.createRef(),this.tagInputRef=m.createRef(),this.triggerRef=m.createRef(),this.optionsRef=m.createRef(),this.clickOutsideHandler=null,this.foundation=new Vve(this.adapter),this.treeSelectID=Math.random().toString(36).slice(2),this.onMotionEnd=()=>{this.adapter.rePositionDropdown()}}static getDerivedStateFromProps(e,t){const{prevProps:r,rePosKey:s}=t,{keyMaps:i}=e,o=v=>!r&&v in e||r&&!je(r[v],e[v]);let a;const l=e.onChangeWithObject;let u=t.keyEntities||{},d=t.cachedKeyValuePairs||{};const h={prevProps:e},f=o("treeData"),g=o("expandedKeys"),b=!!(e.filterTreeNode&&t.inputValue&&t.inputValue.length);if(f){a=e.treeData,h.treeData=a;const v=Fle(a,i);h.keyEntities=Object.assign({},v.keyEntities),u=h.keyEntities,h.cachedKeyValuePairs=Object.assign({},v.valueEntities),d=h.cachedKeyValuePairs}a&&e.motion&&!je(Object.keys(h.keyEntities),Object.keys(t.keyEntities))&&r&&e.motion&&(h.motionKeys=new Set([]),h.motionType=null);const y=f&&e.expandAll;if(b){let v;if(a&&(v=Ule({treeData:a,inputValue:t.inputValue,filterTreeNode:e.filterTreeNode,filterProps:e.treeNodeFilterProp,showFilteredOnly:e.showFilteredOnly,keyEntities:h.keyEntities,prevExpandedKeys:[...t.filteredExpandedKeys],keyMaps:i}),h.flattenNodes=v.flattenNodes,h.motionKeys=new Set([]),h.filteredKeys=v.filteredKeys,h.filteredShownKeys=v.filteredShownKeys,h.filteredExpandedKeys=v.filteredExpandedKeys),e.expandedKeys){if(h.filteredExpandedKeys=Ub(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion){const E=t?t.filteredExpandedKeys:new Set([]);if(!a){const w=sR(E,h.filteredExpandedKeys,u);let{motionKeys:S}=w;const{motionType:O}=w;e.showFilteredOnly&&(S=S.filter(x=>t.filteredShownKeys.has(x))),O==="hide"&&(h.cachedFlattenNodes=l0(t.flattenNodes)),h.motionKeys=new Set(S),h.motionType=O}}h.flattenNodes=Sa(a||t.treeData,h.filteredExpandedKeys||t.filteredExpandedKeys,i,e.showFilteredOnly&&t.filteredShownKeys)}}else{if(g||r&&o("autoExpandParent")){if(h.expandedKeys=Ub(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion&&!a){const{motionKeys:v,motionType:E}=sR(t.expandedKeys,h.expandedKeys,u);h.motionKeys=new Set(v),h.motionType=E,E==="hide"&&(h.cachedFlattenNodes=l0(t.flattenNodes))}}else!r&&(e.defaultExpandAll||e.expandAll)||y?h.expandedKeys=new Set(Object.keys(u)):!r&&e.defaultExpandedKeys?h.expandedKeys=Ub(e.defaultExpandedKeys,u):!r&&e.defaultValue?h.expandedKeys=rR(pa(e.defaultValue,l,i),u,e.multiple,d):!r&&e.value&&(h.expandedKeys=rR(pa(e.value,l,i),u,e.multiple,d));if(h.expandedKeys||delete h.expandedKeys,a||h.expandedKeys){const v=Sa(a||t.treeData,h.expandedKeys||t.expandedKeys,i);h.flattenNodes=v}}const _=e.multiple;if(!_)o("value")?h.selectedKeys=Ol(pa(e.value,l,i),d,_):!r&&e.defaultValue?h.selectedKeys=Ol(pa(e.defaultValue,l,i),d,_):a&&(e.value?h.selectedKeys=Ol(pa(e.value,l,i)||"",d,_):h.selectedKeys=oR(t.selectedKeys,u));else{let v;if(o("value")?v=Ol(pa(e.value,l,i),d,_):!r&&e.defaultValue?v=Ol(pa(e.defaultValue,l,i),d,_):a&&(e.value?v=Ol(pa(e.value,l,i)||[],d,_):v=oR(e.checkRelation==="related"?t.checkedKeys:t.realCheckedKeys,u)),v){if(e.checkRelation==="unRelated")h.realCheckedKeys=new Set(v);else if(e.checkRelation==="related"){const{checkedKeys:E,halfCheckedKeys:w}=_p(v,u);h.checkedKeys=E,h.halfCheckedKeys=w}}}return o("loadedKeys")&&(h.loadedKeys=new Set(e.loadedKeys)),(f||o("value"))&&(h.rePosKey=s+1),a&&e.disableStrictly&&e.checkRelation==="related"&&(h.disabledKeys=z$(u,i)),h}get adapter(){var e=this;const t={updateInputValue:i=>{this.setState({inputValue:i})}},r={registerClickOutsideHandler:i=>{this.adapter.unregisterClickOutsideHandler();const o=a=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=Mr.findDOMNode(l),h=a.target,f=a.composedPath&&a.composedPath()||[h];d&&(!d.contains(h)||!d.contains(h.parentNode))&&u&&!u.contains(h)&&!(f.includes(u)||f.includes(d))&&i(a)};this.clickOutsideHandler=o,document.addEventListener("mousedown",o,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{rePosKey:i}=this.state;i=i+1,this.setState({rePosKey:i})}},s={updateState:i=>{this.setState(Object.assign({},i))},notifySelect:(i,o,a)=>{this.props.onSelect&&this.props.onSelect(i,o,a)},notifySearch:(i,o,a)=>{this.props.onSearch&&this.props.onSearch(i,o,a)},cacheFlattenNodes:i=>{this.setState({cachedFlattenNodes:i?l0(this.state.flattenNodes):void 0})},notifyLoad:(i,o)=>{const{onLoad:a}=this.props;De(a)&&a(i,o)},notifyClear:i=>{this.props.onClear&&this.props.onClear(i)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{updateLoadKeys:(i,o)=>{this.setState(a=>{let{loadedKeys:l,loadingKeys:u}=a;return this.foundation.handleNodeLoad(l,u,i,o)})},updateState:i=>{this.setState(Object.assign({},i))},openMenu:()=>{this.setState({isOpen:!0},()=>{this.props.onVisibleChange(!0)})},closeMenu:i=>{this.setState({isOpen:!1},()=>{i&&i(),this.props.onVisibleChange(!1)})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},notifyChange:(i,o,a)=>{this.props.onChange&&this.props.onChange(i,o,a)},notifyChangeWithObject:(i,o)=>{this.props.onChange&&this.props.onChange(i,o)},notifyExpand:(i,o)=>{let{expanded:a,node:l}=o;this.props.onExpand&&this.props.onExpand([...i],{expanded:a,node:l}),a&&this.props.loadData&&this.onNodeLoad(l)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},toggleHovering:i=>{this.setState({isHovering:i})},updateInputFocus:i=>{if(i){if(this.inputRef&&this.inputRef.current){const{preventScroll:o}=this.props;this.inputRef.current.focus({preventScroll:o})}this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.focus()}else this.inputRef&&this.inputRef.current&&this.inputRef.current.blur(),this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.blur()},updateIsFocus:i=>{this.setState({isFocus:i})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.renderContent(),{motion:t,zIndex:r,mouseLeaveDelay:s,mouseEnterDelay:i,autoAdjustOverflow:o,stopPropagation:a,getPopupContainer:l,dropdownMargin:u,position:d}=this.props,{isOpen:h,rePosKey:f}=this.state,g=this.renderSelection(),b=d||"bottomLeft";return m.createElement(xr,{stopPropagation:a,getPopupContainer:l,zIndex:r,motion:t,margin:u,ref:this.optionsRef,content:e,visible:h,trigger:"custom",rePosKey:f,position:b,autoAdjustOverflow:o,mouseLeaveDelay:s,mouseEnterDelay:i,onVisibleChange:this.handlePopoverVisibleChange,afterClose:this.afterClose},g)}}u_.contextType=Vr;u_.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,loadedKeys:c.arrayOf(c.string),loadData:c.func,onLoad:c.func,arrowIcon:c.node,clearIcon:c.node,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.array,c.object]),defaultExpandAll:c.bool,defaultExpandedKeys:c.array,expandAll:c.bool,disabled:c.bool,disableStrictly:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),multiple:c.bool,searchPlaceholder:c.string,searchAutoFocus:c.bool,virtualize:c.object,treeNodeFilterProp:c.string,onChange:c.func,onClear:c.func,onSearch:c.func,onSelect:c.func,onExpand:c.func,onChangeWithObject:c.bool,onBlur:c.func,onFocus:c.func,value:c.oneOfType([c.string,c.number,c.array,c.object]),expandedKeys:c.array,autoExpandParent:c.bool,showClear:c.bool,showSearchClear:c.bool,autoAdjustOverflow:c.bool,showFilteredOnly:c.bool,showLine:c.bool,motionExpand:c.bool,emptyContent:c.node,keyMaps:c.object,leafOnly:c.bool,treeData:c.arrayOf(c.shape({key:c.string,value:c.oneOfType([c.string,c.number]),label:c.any})),dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),motion:c.bool,placeholder:c.string,maxTagCount:c.number,size:c.oneOf(Nr.SIZE_SET),className:c.string,style:c.object,treeNodeLabelProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,getPopupContainer:c.func,dropdownMatchSelectWidth:c.bool,validateStatus:c.oneOf(Nr.STATUS),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),outerBottomSlot:c.node,outerTopSlot:c.node,onVisibleChange:c.func,expandAction:c.oneOf(["click","doubleClick",!1]),searchPosition:c.oneOf([Nr.SEARCH_POSITION_DROPDOWN,Nr.SEARCH_POSITION_TRIGGER]),clickToHide:c.bool,renderLabel:c.func,renderFullLabel:c.func,labelEllipsis:c.bool,optionListStyle:c.object,searchRender:c.oneOfType([c.func,c.bool]),renderSelectedItem:c.func,checkRelation:c.string,"aria-label":c.string,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,preventScroll:c.bool,clickTriggerToHide:c.bool,autoMergeValue:c.bool};u_.defaultProps={borderless:!1,searchPosition:Nr.SEARCH_POSITION_DROPDOWN,arrowIcon:m.createElement($y,null),autoExpandParent:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,motionExpand:!0,expandAll:!1,zIndex:Ss.DEFAULT_Z_INDEX,disableStrictly:!1,multiple:!1,filterTreeNode:!1,size:"default",treeNodeFilterProp:"label",onChangeWithObject:!1,treeNodeLabelProp:"label",dropdownMatchSelectWidth:!0,defaultOpen:!1,showSearchClear:!0,showClear:!1,onVisibleChange:j,expandAction:!1,clickToHide:!0,searchAutoFocus:!1,checkRelation:"related","aria-label":"TreeSelect",showRestTagsPopover:!1,restTagsPopoverProps:{},clickTriggerToHide:!0,autoMergeValue:!0};const vA=`${G}-upload`,yA="picture",_A="list",Hve=.95,Dj={PREFIX:vA,LIST:`${vA}-list`},bA="auto",wA="custom",Ye={FILE_STATUS_UPLOADING:"uploading",FILE_STATUS_SUCCESS:"success",FILE_STATUS_UPLOAD_FAIL:"uploadFail",FILE_STATUS_VALIDATING:"validating",FILE_STATUS_VALID_FAIL:"validateFail",FILE_STATUS_WAIT_UPLOAD:"wait",FILE_LIST_PIC:yA,FILE_LIST_DEFAULT:_A,LIST_TYPE:[yA,_A],imageTypes:["image","webp","png","svg","gif","jpg","jpeg","bmp","dpg"],DRAG_AREA_DEFAULT:"default",DRAG_AREA_LEGAL:"legal",DRAG_AREA_ILLEGAL:"illegal",TRIGGER_AUTO:bA,TRIGGER_CUSTOM:wA,UPLOAD_TRIGGER:[bA,wA],VALIDATE_STATUS:yd,PROMPT_POSITION:["left","right","bottom"]},zve={PROGRESS_COEFFICIENT:Hve};var sS=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const yc=1024,u0=1048576;function iS(n){if(n<yc)return`${(n/yc).toFixed(2)}KB`;if(n>=yc&&n<u0)return`${(n/yc).toFixed(1)}KB`;if(n>=u0)return`${(n/u0).toFixed(1)}MB`}function Kve(n,e){return n.indexOf(e,n.length-e.length)!==-1}function Wve(n){return sS(this,void 0,void 0,function*(){return new Promise((e,t)=>{const r=n.createReader();let s=[];function i(){r.readEntries(o=>{const a=Array.prototype.slice.apply(o);s=s.concat(a),!a.length?e(s):i()},t)}i()})})}function Gve(n){return sS(this,void 0,void 0,function*(){const e=[],t=(r,s)=>sS(this,void 0,void 0,function*(){if(s=s||"",r.path=s,r.isFile)e.push(new Promise((i,o)=>{r.file(a=>{r.fullPath&&!a.webkitRelativePath&&(Object.defineProperties(a,{webkitRelativePath:{writable:!0}}),a.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(a,{webkitRelativePath:{writable:!1}})),i(a)},o)}));else if(r.isDirectory){const i=yield Wve(r);for(let o=0;o<i.length;o++){const a=i[o];yield t(a,`${s}${r.name}/`)}}});try{const r=n.map(i=>t(i.webkitGetAsEntry()));return yield Promise.all(r),yield Promise.all(e)}catch(r){return console.warn("Captured error while loop directory."),console.error(r),[]}})}var Yve=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const{FILE_STATUS_UPLOADING:EA,FILE_STATUS_SUCCESS:qve,FILE_STATUS_UPLOAD_FAIL:Xve,FILE_STATUS_VALID_FAIL:c0,FILE_STATUS_WAIT_UPLOAD:SA,DRAG_AREA_DEFAULT:d0,DRAG_AREA_LEGAL:Qve,TRIGGER_AUTO:Fg}=Ye;class Zve extends Ne{constructor(e){super(Object.assign({},e)),this.destroyState=!1}init(){this.destroyState=!1;const{disabled:e,addOnPasting:t}=this.getProps();t&&!e&&this.bindPastingHandler()}destroy(){const{disabled:e,addOnPasting:t}=this.getProps();this.releaseMemory(),e||this.unbindPastingHandler(),this.destroyState=!0}getError(e){let{action:t,xhr:r,message:s,fileName:i}=e;const o=r?r.status:0,a=s||`cannot post ${i} to ${t}, xhr status: ${o}'`,l=new Error(a);return l.status=o,l.method="post",l.url=t,l}getBody(e){if(!e)return;const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}checkFileSize(e){const{size:t}=e,{maxSize:r,minSize:s}=this.getProps();let i=!1;return(t>r*yc||t<s*yc)&&(i=!0),i}handleChange(e){const t=[],{limit:r,transformFile:s,accept:i}=this.getProps(),{fileList:o}=this.getStates();let a=Array.from(e);if(typeof i<"u"&&(a=a.filter(u=>{const d=this.checkFileFormat(i,u);return d||t.push(u),d}),t.length!==0&&this._adapter.notifyAcceptInvalid(t),a.length===0))return;a=a.map(u=>(s&&(u=s(u)),u.uid||(u.uid=am()),this.checkFileSize(u)&&(u._sizeInvalid=!0,u.status=c0,this._adapter.notifySizeError(u,o)),u));const l=o.length+a.length;if(typeof r<"u"&&l>r){if(this._adapter.notifyExceed(a),r===1){a=a.slice(-1),this._adapter.notifyFileSelect(a),this._adapter.resetInput(),this.replaceFileList(a);return}const u=r-o.length;a=a.slice(0,u)}this._adapter.notifyFileSelect(a),this._adapter.resetInput(),this.addFilesToList(a)}handleReplaceChange(e){if(e.length===0)return;const{transformFile:t,uploadTrigger:r,accept:s}=this.getProps(),{replaceIdx:i,fileList:o}=this.getStates();let a=Array.from(e).pop();if(typeof s<"u"&&!this.checkFileFormat(s,a)){this._adapter.notifyAcceptInvalid([a]);return}t&&(a=t(a)),a.uid||(a.uid=am()),this.checkFileSize(a)&&(a._sizeInvalid=!0,a.status=c0,this._adapter.notifySizeError(a,o)),this._adapter.notifyFileSelect([a]);const l=this.buildFileItem(a,r),u=[...o];u.splice(i,1,l),this._adapter.notifyChange({currentFile:l,fileList:u}),this._adapter.updateFileList(u,()=>{this._adapter.resetReplaceInput(),l._sizeInvalid||this.upload(l)})}buildFileItem(e,t){const{_sizeInvalid:r,status:s}=e;try{delete e._sizeInvalid,delete e.status}catch{}const i={status:s||(t===Fg?EA:SA),name:e.name,size:iS(e.size),uid:e.uid,percent:0,fileInstance:e,url:this._createURL(e)};return r&&(i._sizeInvalid=!0),this.isImage(e)&&(i.preview=!0),i}replaceFileList(e){const{uploadTrigger:t}=this.getProps(),r=e.map(s=>this.buildFileItem(s,t));this._adapter.notifyChange({fileList:r,currentFile:r[0]}),this._adapter.updateFileList(r,()=>{t===Fg&&this.startUpload(r)})}addFilesToList(e){const t=this.getState("fileList").slice(),{uploadTrigger:r}=this.getProps(),s=e.map(i=>this.buildFileItem(i,r));s.forEach(i=>{const o=t.findIndex(a=>a.uid===i.uid);o!==-1?t[o]=i:(t.push(i),this._adapter.notifyChange({fileList:t,currentFile:i}))}),this._adapter.updateFileList(t,()=>{r===Fg&&this.startUpload(s)})}insertFileToList(e,t){const{limit:r,transformFile:s,accept:i,uploadTrigger:o}=this.getProps(),{fileList:a}=this.getStates(),l=[];let u=Array.from(e);if(typeof i<"u"&&(u=u.filter(g=>{const b=this.checkFileFormat(i,g);return b||l.push(g),b}),l.length!==0&&this._adapter.notifyAcceptInvalid(l),u.length===0))return;u=u.map(g=>(g.uid||(g.uid=am()),this.checkFileSize(g)&&(g._sizeInvalid=!0,g.status=c0,this._adapter.notifySizeError(g,a)),s&&(g=s(g)),g));const d=a.length+u.length;if(typeof r<"u"&&d>r){if(r===1){u=u.slice(-1),this._adapter.notifyFileSelect(u),this._adapter.resetInput(),this.replaceFileList(u);return}const g=r-a.length;u=u.slice(0,g),this._adapter.notifyExceed(u)}const h=u.map(g=>this.buildFileItem(g,o)),f=a.slice();typeof t<"u"?f.splice(t,0,...h):f.push(...h),this._adapter.notifyFileSelect(u),this._adapter.notifyChange({fileList:f,currentFile:null}),this._adapter.updateFileList(f,()=>{o===Fg&&this.startUpload(h)})}manualUpload(){const e=this.getState("fileList").filter(t=>t.status===SA);this.startUpload(e)}startUpload(e){e.forEach(t=>{t._sizeInvalid||this.upload(t)})}upload(e){const{beforeUpload:t}=this.getProps();if(typeof t>"u"){this.post(e);return}if(typeof t=="function"){const{fileList:r}=this.getStates(),s=this._adapter.notifyBeforeUpload({file:e,fileList:r});switch(!0){case s===!0:{this.post(e);break}case s===!1:{const i={shouldUpload:!1,status:Ye.FILE_STATUS_VALID_FAIL};this.handleBeforeUploadResultInObject(i,e);break}case(s&&Af(s)):{Promise.resolve(s).then(i=>{let o={shouldUpload:!0};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(o=Object.assign(Object.assign({},o),i)),this.handleBeforeUploadResultInObject(o,e)},i=>{let o={shouldUpload:!1,status:Ye.FILE_STATUS_VALID_FAIL};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(o=Object.assign(Object.assign({},o),i)),this.handleBeforeUploadResultInObject(o,e)});break}case typeof s=="object":this.handleBeforeUploadResultInObject(s,e);break}}}handleBeforeUploadResultInObject(e,t){const{shouldUpload:r,status:s,autoRemove:i,validateMessage:o,fileInstance:a}=e;let l=this.getState("fileList").slice();if(i)l=l.filter(u=>u.uid!==t.uid);else{const u=this._getFileIndex(t,l);if(u<0)return;s&&(l[u].status=s),o&&(l[u].validateMessage=o),a&&(a.uid=t.uid,l[u].fileInstance=a,l[u].size=iS(a.size),l[u].name=a.name,l[u].url=this._createURL(a)),l[u].shouldUpload=r}this._adapter.updateFileList(l),this._adapter.notifyChange({fileList:l,currentFile:t}),r&&this.post(t)}post(e){const{fileInstance:t}=e,r=this.getProps();if(typeof XMLHttpRequest>"u")return;const s=new XMLHttpRequest,i=new FormData,{action:o}=r;let{data:a}=r;a&&(typeof a=="function"&&(a=a(t)),Object.keys(a).forEach(d=>{i.append(d,a[d])}));const l=r.name||r.fileName||t.name;if(r.customRequest)return r.customRequest({fileName:l,data:a,file:e,fileInstance:t,onProgress:d=>this.handleProgress({e:d,fileInstance:t}),onError:(d,h)=>this.handleError({e:h,xhr:d,fileInstance:t}),onSuccess:(d,h)=>this.handleSuccess({response:d,fileInstance:t,e:h,isCustomRequest:!0}),withCredentials:r.withCredentials,action:r.action});i.append(l,t),s.open("post",o,!0),r.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0),s.upload&&(s.upload.onprogress=d=>{this.destroyState?s.abort():this.handleProgress({e:d,fileInstance:t})}),s.onload=d=>{this.destroyState||this.handleOnLoad({e:d,xhr:s,fileInstance:t})},s.onerror=d=>{this.destroyState||this.handleError({e:d,xhr:s,fileInstance:t})};let u=r.headers||{};typeof u=="function"&&(u=u(t));for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&u[d]!==null&&s.setRequestHeader(d,u[d]);s.send(i)}handleProgress(e){let{e:t,fileInstance:r}=e;const{fileList:s}=this.getStates(),i=s.slice();let o=0;t.total>0&&(o=Number((t.loaded/t.total*100*zve.PROGRESS_COEFFICIENT).toFixed(0))||0);const a=this._getFileIndex(r,i);a<0||(i[a].percent=o,i[a].status=EA,this._adapter.notifyProgress(o,r,i),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:i[a]}))}handleOnLoad(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),o=this._getFileIndex(s,i);o<0||(r.status<200||r.status>=300?this.handleError({e:t,xhr:r,fileInstance:s}):this.handleSuccess({e:t,xhr:r,fileInstance:s,index:o}))}handleSuccess(e){let{e:t,fileInstance:r,isCustomRequest:s=!1,xhr:i,response:o}=e;const{fileList:a}=this.getStates();let l=null;const u=this._getFileIndex(r,a);if(u<0)return;s?l=o:l=this.getBody(i);const d=a.slice(),{afterUpload:h}=this.getProps();if(d[u].status=qve,d[u].percent=100,this._adapter.notifyProgress(100,r,d),d[u].response=l,t&&(d[u].event=t),h&&typeof h=="function"){const{autoRemove:f,status:g,validateMessage:b,name:y,url:_}=this._adapter.notifyAfterUpload({response:l,file:d[u],fileList:d})||{};g&&(d[u].status=g),b&&(d[u].validateMessage=b),y&&(d[u].name=y),_&&(d[u].url=_),f&&d.splice(u,1)}this._adapter.notifySuccess(l,r,d),this._adapter.notifyChange({fileList:d,currentFile:d[u]}),this._adapter.updateFileList(d)}_getFileIndex(e,t){return t.findIndex(r=>r.uid===e.uid)}handleRemove(e){const{disabled:t}=this.getProps();if(t)return;const{fileList:r}=this.getStates();Promise.resolve(this._adapter.notifyBeforeRemove(e,r)).then(s=>{if(s===!1)return;const i=r.slice(),o=this._getFileIndex(e,r);o<0||(i.splice(o,1),this._adapter.notifyRemove(e.fileInstance,i,e),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:e}))})}handleError(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),o=this._getFileIndex(s,i);if(o<0)return;const{action:a}=this.getProps(),l=i.slice(),u=this.getError({action:a,xhr:r,fileName:s.name});l[o].status=Xve,l[o].response=u,l[o].event=t,this._adapter.notifyError(u,s,l,r),this._adapter.updateFileList(l),this._adapter.notifyChange({currentFile:l[o],fileList:l})}handleClear(){const{disabled:e}=this.getProps(),{fileList:t}=this.getStates();e||Promise.resolve(this._adapter.notifyBeforeClear(t)).then(r=>{r!==!1&&(this._adapter.updateFileList([]),this._adapter.notifyClear(),this._adapter.notifyChange({fileList:[]}))}).catch(r=>{})}_createURL(e){const t=URL.createObjectURL(e),{localUrls:r}=this.getStates(),s=r.slice();return s.push(t),this._adapter.updateLocalUrls(s),t}releaseMemory(){const{localUrls:e}=this.getStates();e.forEach(t=>{this._releaseBlob(t)})}_releaseBlob(e){try{URL.revokeObjectURL(e)}catch(t){console.log(t)}}isImage(e){return/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(e.type)}isMultiple(){return!!this.getProp("multiple")}handleDragEnter(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget=e.currentTarget;const{disabled:t}=this.getProps();t||this._adapter.updateDragAreaStatus(Qve)}handleDirectoryDrop(e){return Yve(this,void 0,void 0,function*(){const t=this.getState("fileList").slice(),r=[].slice.call(e.dataTransfer.items),s=yield Gve(r);this.handleChange(s),this._adapter.updateDragAreaStatus(d0),this._adapter.notifyDrop(e,s,t)})}handleDrop(e){e.preventDefault(),e.stopPropagation();const{disabled:t,directory:r}=this.getProps(),s=this.getState("fileList").slice();if(!t){if(r){this.handleDirectoryDrop(e);return}const i=Array.from(e.dataTransfer.files);this.handleChange(i),this._adapter.updateDragAreaStatus(d0),this._adapter.notifyDrop(e,i,s)}}handleDragOver(e){e.preventDefault(),e.stopPropagation()}handleDragLeave(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget===e.target&&this._adapter.updateDragAreaStatus(d0)}checkFileFormat(e,t){const r=e.split(",").map(o=>o.trim()).filter(o=>o),s=t.type||"",i=s.replace(/\/.*$/,"");return r.some(o=>{if(o.charAt(0)==="."){const a=t.name||"",l=o.split(".").pop().toLowerCase();return Kve(a.toLowerCase(),l)}if(/\/\*$/.test(o)){const a=o.replace(/\/.*$/,"");return i===a}return/^[^\/]+\/[^\/]+$/.test(o)?s===o:!1})}retry(e){const{onRetry:t}=this.getProps();t&&typeof t=="function"&&t(e),this.post(e)}handlePreviewClick(e){this._adapter.notifyPreviewClick(e)}readFileFromClipboard(e){for(const t of e)for(const r of t.types)r.startsWith("image")&&t.getType(r).then(s=>s.arrayBuffer()).then(s=>{const i=r.split("/")[1],o=new File([s],`upload.${i}`,{type:r});this.handleChange([o])})}handlePasting(e){const r=this._adapter.isMac()?e.metaKey:e.ctrlKey,{addOnPasting:s}=this.getProps();s&&r&&e.code==="KeyV"&&navigator.permissions.query({name:"clipboard-read"}).then(o=>{o.state==="granted"||o.state==="prompt"?navigator.clipboard.read().then(a=>{this.readFileFromClipboard(a)}):this._adapter.notifyPastingError(o)}).catch(o=>{this._adapter.notifyPastingError(o)})}bindPastingHandler(){this._adapter.registerPastingHandler(e=>this.handlePasting(e))}unbindPastingHandler(){this._adapter.unRegisterPastingHandler()}}class Jve extends Ne{constructor(e){super(Object.assign({},e))}handleImageError(e){this._adapter.updateFallbackPreview(!0)}}const Lt=Dj.PREFIX,eye=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return m.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),m.createElement("circle",{cx:"7.99992",cy:"7.99992",r:"6.66667",fill:"white"}),m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.00008C15.3332 12.0502 12.0499 15.3334 7.99984 15.3334C3.94975 15.3334 0.666504 12.0502 0.666504 8.00008C0.666504 3.94999 3.94975 0.666748 7.99984 0.666748C12.0499 0.666748 15.3332 3.94999 15.3332 8.00008ZM8.99984 11.6667C8.99984 11.1145 8.55212 10.6667 7.99984 10.6667C7.44755 10.6667 6.99984 11.1145 6.99984 11.6667C6.99984 12.219 7.44755 12.6667 7.99984 12.6667C8.55212 12.6667 8.99984 12.219 8.99984 11.6667ZM7.99984 3.33341C7.27573 3.33341 6.7003 3.94171 6.74046 4.66469L6.94437 8.33495C6.97549 8.89513 7.4388 9.33341 7.99984 9.33341C8.56087 9.33341 9.02419 8.89513 9.05531 8.33495L9.25921 4.66469C9.29938 3.94171 8.72394 3.33341 7.99984 3.33341Z",fill:"#F93920"}))},tye=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return m.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),m.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#16161A",fillOpacity:"0.6"}),m.createElement("path",{d:"M9 10.25V18.25L10.25 13.25H17.875V11.75C17.875 11.4739 17.6511 11.25 17.375 11.25H14L12.75 9.75H9.5C9.22386 9.75 9 9.97386 9 10.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),m.createElement("path",{d:"M18 18.25L19 13.25H10.2031L9 18.25H18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},nye=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return m.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),m.createElement("path",{d:"M6 17V7.58824C6 7.26336 6.26863 7 6.6 7H10.5L12 8.76471H16.05C16.3814 8.76471 16.65 9.02806 16.65 9.35294V11.1176H7.5L6 17ZM6 17L7.44375 11.1176H18L16.8 17L6 17Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};class c_ extends xe{constructor(e){super(e),this.state={fallbackPreview:!1},this.foundation=new Jve(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateFallbackPreview:e=>this.setState({fallbackPreview:e})})}transSize(e){return typeof e=="number"?iS(e):e}renderValidateMessage(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(typeof t=="string"&&e===Ye.FILE_STATUS_VALIDATING):r=m.createElement(m.Fragment,null,m.createElement(uo,{size:"small",wrapperClassName:`${Lt}-file-card-icon-loading`}),t);break;case typeof t=="string":r=m.createElement(m.Fragment,null,m.createElement(Sf,{className:`${Lt}-file-card-icon-error`}),t);break;case Kw(t):r=t;break}return r}renderPicValidateMsg(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(t&&e===Ye.FILE_STATUS_VALIDATING):r=m.createElement(uo,{size:"small",wrapperClassName:`${Lt}-picture-file-card-icon-loading`});break;case(t&&(e===Ye.FILE_STATUS_VALID_FAIL||e===Ye.FILE_STATUS_UPLOAD_FAIL)):r=m.createElement("div",{className:`${Lt}-picture-file-card-icon-error`},m.createElement(eye,null));break}return r?m.createElement(Ir,{content:t,trigger:"hover",position:"bottom"},r):null}renderPic(e){const{fallbackPreview:t}=this.state,{url:r,percent:s,status:i,disabled:o,style:a,onPreviewClick:l,showPicInfo:u,renderPicInfo:d,renderPicPreviewIcon:h,renderThumbnail:f,name:g,index:b,picHeight:y,picWidth:_}=this.props,v=i===Ye.FILE_STATUS_UPLOADING&&s!==100,E=i===Ye.FILE_STATUS_UPLOAD_FAIL&&this.props.showRetry,w=i===Ye.FILE_STATUS_SUCCESS&&this.props.showReplace,S=i===Ye.FILE_STATUS_SUCCESS&&!this.props.showReplace,O=typeof f=="function",x=$({[`${Lt}-picture-file-card`]:!0,[`${Lt}-picture-file-card-preview-fallback`]:t,[`${Lt}-picture-file-card-disabled`]:o,[`${Lt}-picture-file-card-show-pointer`]:typeof l<"u",[`${Lt}-picture-file-card-error`]:i===Ye.FILE_STATUS_UPLOAD_FAIL,[`${Lt}-picture-file-card-uploading`]:v,[`${Lt}-picture-file-card-custom-thumbnail`]:O&&y&&_}),I=m.createElement("div",{role:"button",tabIndex:0,className:`${Lt}-picture-file-card-retry`,onClick:K=>this.onRetry(K)},m.createElement(cie,{className:`${Lt}-picture-file-card-icon-retry`})),T=m.createElement(Ir,{trigger:"hover",position:"top",content:e.replace,showArrow:!1,spacing:4},m.createElement("div",{role:"button",tabIndex:0,className:`${Lt}-picture-file-card-replace`,onClick:K=>this.onReplace(K)},m.createElement(tye,{className:`${Lt}-picture-file-card-icon-replace`}))),P=m.createElement("div",{className:`${Lt}-picture-file-card-preview`},typeof h=="function"?h(this.props):null),A=m.createElement("div",{role:"button",tabIndex:0,className:`${Lt}-picture-file-card-close`,onClick:K=>this.onRemove(K)},m.createElement(dl,{className:`${Lt}-picture-file-card-icon-close`})),k=typeof d=="function"?d(this.props):m.createElement("div",{className:`${Lt}-picture-file-card-pic-info`},b+1);let M={},N=a?Object.assign({},a):{};y&&(N.height=y,M.height=y),_&&(N.width=_,M.width=_);const q=O?f(this.props):t?m.createElement(qw,{size:"large"}):m.createElement("img",{src:r,alt:g,onError:K=>this.foundation.handleImageError(K),style:M});return m.createElement("div",{role:"listitem",className:x,style:N,onClick:l},q,v?m.createElement(Av,{percent:s,type:"circle",size:"small",orbitStroke:"#FFF","aria-label":"uploading file progress"}):null,E?I:null,w&&T,S&&P,u&&k,!o&&A,this.renderPicValidateMsg())}renderFile(e){const{name:t,size:r,percent:s,url:i,showRetry:o,showReplace:a,preview:l,previewFile:u,status:d,style:h,onPreviewClick:f,renderFileOperation:g}=this.props,{fallbackPreview:b}=this.state,y=$({[`${Lt}-file-card`]:!0,[`${Lt}-file-card-fail`]:d===Ye.FILE_STATUS_VALID_FAIL||d===Ye.FILE_STATUS_UPLOAD_FAIL,[`${Lt}-file-card-show-pointer`]:typeof f<"u"}),_=$({[`${Lt}-file-card-preview`]:!0,[`${Lt}-file-card-preview-placeholder`]:!l||u||b}),v=`${Lt}-file-card-info`,E=`${Lt}-file-card-close`,w=`${Lt}-file-card-replace`,S=!(s===100||typeof s>"u")&&d===Ye.FILE_STATUS_UPLOADING,O=d===Ye.FILE_STATUS_UPLOAD_FAIL&&o,x=d===Ye.FILE_STATUS_SUCCESS&&a,I=this.transSize(r);let T=l&&!b?m.createElement("img",{src:i,alt:t,onError:A=>this.foundation.handleImageError(A)}):m.createElement(qw,{size:"large"});u&&(T=u(this.props));const P=typeof g=="function"?g(this.props):m.createElement(ze,{onClick:A=>this.onRemove(A),type:"tertiary",icon:m.createElement(Fy,null),theme:"borderless",size:"small",className:E});return m.createElement("div",{role:"listitem",className:y,style:h,onClick:f},m.createElement("div",{className:_},T),m.createElement("div",{className:`${v}-main`},m.createElement("div",{className:`${v}-main-text`},m.createElement("span",{className:`${v}-name`},t),m.createElement("span",null,m.createElement("span",{className:`${v}-size`},I),x&&m.createElement(Ir,{trigger:"hover",position:"top",showArrow:!1,content:e.replace},m.createElement(ze,{onClick:A=>this.onReplace(A),type:"tertiary",theme:"borderless",size:"small",icon:m.createElement(nye,null),className:w})))),S?m.createElement(Av,{percent:s,style:{width:"100%"},"aria-label":"uploading file progress"}):null,m.createElement("div",{className:`${v}-main-control`},m.createElement("span",{className:`${v}-validate-message`},this.renderValidateMessage()),O?m.createElement("span",{role:"button",tabIndex:0,className:`${v}-retry`,onClick:A=>this.onRetry(A)},e.retry):null)),P)}onRemove(e){e.stopPropagation(),this.props.onRemove()}onReplace(e){e.stopPropagation(),this.props.onReplace()}onRetry(e){e.stopPropagation(),this.props.onRetry()}render(){const{listType:e}=this.props;return e===Ye.FILE_LIST_PIC?m.createElement(Pn,{componentName:"Upload"},t=>this.renderPic(t)):e===Ye.FILE_LIST_DEFAULT?m.createElement(Pn,{componentName:"Upload"},t=>this.renderFile(t)):null}}c_.propTypes={className:c.string,disabled:c.bool,listType:c.string,name:c.string,onPreviewClick:c.func,onRemove:c.func,onReplace:c.func,onRetry:c.func,percent:c.number,preview:c.bool,previewFile:c.func,picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),showReplace:c.bool,showRetry:c.bool,size:c.oneOfType([c.number,c.string]),status:c.string,style:c.object,url:c.string,validateMessage:c.node,index:c.number};c_.defaultProps={listType:Ye.FILE_LIST_DEFAULT,name:"",onRemove:()=>{},onRetry:()=>{},preview:!1,size:""};var rye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const on=Dj.PREFIX;class d_ extends xe{constructor(e){super(e),this.inputRef=null,this.replaceInputRef=null,this.onClick=()=>{const{inputRef:t,props:r}=this,{onOpenFileDialog:s}=r;this.props.disabled||!t||!t.current||(t.current.click(),s&&s())},this.onChange=t=>{const{files:r}=t.target;this.foundation.handleChange(r)},this.replace=t=>{this.setState({replaceIdx:t},()=>{this.replaceInputRef.current.click()})},this.onReplaceChange=t=>{const{files:r}=t.target;this.foundation.handleReplaceChange(r)},this.clear=()=>{this.foundation.handleClear()},this.remove=t=>{this.foundation.handleRemove(t)},this.insert=(t,r)=>this.foundation.insertFileToList(t,r),this.upload=()=>{this.foundation.manualUpload()},this.openFileDialog=()=>{this.onClick()},this.renderFile=(t,r,s)=>{const{name:i,status:o,validateMessage:a,_sizeInvalid:l,uid:u}=t,{previewFile:d,listType:h,itemStyle:f,showPicInfo:g,renderPicInfo:b,renderPicPreviewIcon:y,renderFileOperation:_,renderFileItem:v,renderThumbnail:E,disabled:w,onPreviewClick:S,picWidth:O,picHeight:x}=this.props,I=()=>this.remove(t),T=()=>{this.foundation.retry(t)},P=()=>{this.replace(r)},A=Object.assign(Object.assign(Object.assign({},ru(this.props,["showRetry","showReplace",""])),t),{previewFile:d,listType:h,onRemove:I,onRetry:T,index:r,key:u||`${i}${r}`,style:f,disabled:w,showPicInfo:g,renderPicInfo:b,renderPicPreviewIcon:y,renderFileOperation:_,renderThumbnail:E,onReplace:P,onPreviewClick:typeof S<"u"?()=>this.foundation.handlePreviewClick(t):void 0,picWidth:O,picHeight:x});return o===Ye.FILE_STATUS_UPLOAD_FAIL&&!a&&(A.validateMessage=s.fail),l&&!a&&(A.validateMessage=s.illegalSize),typeof v>"u"?m.createElement(c_,Object.assign({},A)):v(A)},this.renderFileList=()=>{const{listType:t}=this.props;return t===Ye.FILE_LIST_PIC?this.renderFileListPic():t===Ye.FILE_LIST_DEFAULT?this.renderFileListDefault():null},this.renderFileListPic=()=>{const{showUploadList:t,limit:r,disabled:s,children:i,draggable:o,hotSpotLocation:a,picHeight:l,picWidth:u}=this.props,{fileList:d,dragAreaStatus:h}=this.state,f=this.props.fileList||d,g=r?r>f.length:!0,b=`${on}-drag-area`,y=$(`${on}-add`,{[`${on}-picture-add`]:!0,[`${on}-picture-add-disabled`]:s}),_=$(`${on}-file-list`,{[`${on}-picture-file-list`]:!0}),v=$({[`${b}-legal`]:h===Ye.DRAG_AREA_LEGAL,[`${b}-illegal`]:h===Ye.DRAG_AREA_ILLEGAL}),E=`${on}-file-list-main`,w={role:"button",className:y,onClick:this.onClick,style:{height:l,width:u}},S={className:_},O={onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter};o&&Object.assign(w,O,{className:$(y,v)});const x=m.createElement("div",Object.assign({},w,{"x-semi-prop":"children"}),i);return!t||!f.length?g?x:null:m.createElement(Pn,{componentName:"Upload"},I=>m.createElement("div",Object.assign({},S),m.createElement("div",{className:E,role:"list","aria-label":"picture list"},g&&a==="start"?x:null,f.map((T,P)=>this.renderFile(T,P,I)),g&&a==="end"?x:null)))},this.renderFileListDefault=()=>{const{showUploadList:t,limit:r,disabled:s}=this.props,{fileList:i}=this.state,o=this.props.fileList||i,a=$(`${on}-file-list`),l=`${on}-file-list-title`,u=`${on}-file-list-main`,d=r!==1&&o.length,h=this.props.showClear&&!s,f={className:a};return!t||!o.length?null:m.createElement(Pn,{componentName:"Upload"},g=>m.createElement("div",Object.assign({},f),d?m.createElement("div",{className:l},m.createElement("span",{className:`${l}-choosen`},g.selectedFiles),h?m.createElement("span",{role:"button",tabIndex:0,onClick:this.clear,className:`${l}-clear`},g.clear):null):null,m.createElement("div",{className:u,role:"list","aria-label":"file list"},o.map((b,y)=>this.renderFile(b,y,g)))))},this.onDrop=t=>{this.foundation.handleDrop(t)},this.onDragOver=t=>{this.foundation.handleDragOver(t)},this.onDragLeave=t=>{this.foundation.handleDragLeave(t)},this.onDragEnter=t=>{this.foundation.handleDragEnter(t)},this.renderAddContent=()=>{const{draggable:t,children:r,listType:s,disabled:i}=this.props,o=$(`${on}-add`);return s===Ye.FILE_LIST_PIC?null:t?this.renderDragArea():m.createElement("div",{role:"button",tabIndex:0,"aria-disabled":i,className:o,onClick:this.onClick},r)},this.renderDragArea=()=>{const{dragAreaStatus:t}=this.state,{children:r,dragIcon:s,dragMainText:i,dragSubText:o,disabled:a}=this.props,l=`${on}-drag-area`,u=$(l,{[`${l}-legal`]:t===Ye.DRAG_AREA_LEGAL,[`${l}-illegal`]:t===Ye.DRAG_AREA_ILLEGAL,[`${l}-custom`]:r});return m.createElement(Pn,{componentName:"Upload"},d=>m.createElement("div",{role:"button",tabIndex:0,"aria-disabled":a,className:u,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onClick:this.onClick},r||m.createElement(m.Fragment,null,m.createElement("div",{className:`${l}-icon`,"x-semi-prop":"dragIcon"},s||m.createElement(_ie,{size:"extra-large"})),m.createElement("div",{className:`${l}-text`},m.createElement("div",{className:`${l}-main-text`,"x-semi-prop":"dragMainText"},i||d.mainText),m.createElement("div",{className:`${l}-sub-text`,"x-semi-prop":"dragSubText"},o),m.createElement("div",{className:`${l}-tips`},t===Ye.DRAG_AREA_LEGAL&&m.createElement("span",{className:`${l}-tips-legal`},d.legalTips),t===Ye.DRAG_AREA_ILLEGAL&&m.createElement("span",{className:`${l}-tips-illegal`},d.illegalTips))))))},this.state={fileList:e.defaultFileList||[],replaceIdx:-1,inputKey:Math.random(),replaceInputKey:Math.random(),dragAreaStatus:"default",localUrls:[]},this.foundation=new Zve(this.adapter),this.inputRef=m.createRef(),this.replaceInputRef=m.createRef()}static getDerivedStateFromProps(e){const{fileList:t}=e;return"fileList"in e?{fileList:t||[]}:null}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyFileSelect:e=>this.props.onFileChange(e),notifyError:(e,t,r,s)=>this.props.onError(e,t,r,s),notifySuccess:(e,t,r)=>this.props.onSuccess(e,t,r),notifyProgress:(e,t,r)=>this.props.onProgress(e,t,r),notifyRemove:(e,t,r)=>this.props.onRemove(e,t,r),notifySizeError:(e,t)=>this.props.onSizeError(e,t),notifyExceed:e=>this.props.onExceed(e),updateFileList:(e,t)=>{typeof t=="function"?this.setState({fileList:e},t):this.setState({fileList:e})},notifyBeforeUpload:e=>{let{file:t,fileList:r}=e;return this.props.beforeUpload({file:t,fileList:r})},notifyAfterUpload:e=>{let{response:t,file:r,fileList:s}=e;return this.props.afterUpload({response:t,file:r,fileList:s})},resetInput:()=>{this.setState(e=>({inputKey:Math.random()}))},resetReplaceInput:()=>{this.setState(e=>({replaceInputKey:Math.random()}))},isMac:()=>navigator.platform.toUpperCase().indexOf("MAC")>=0,registerPastingHandler:e=>{document.body.addEventListener("keydown",e),this.pastingCb=e},unRegisterPastingHandler:()=>{this.pastingCb&&document.body.removeEventListener("keydown",this.pastingCb)},notifyPastingError:e=>this.props.onPastingError(e),updateDragAreaStatus:e=>this.setState({dragAreaStatus:e}),notifyChange:e=>{let{currentFile:t,fileList:r}=e;return this.props.onChange({currentFile:t,fileList:r})},updateLocalUrls:e=>this.setState({localUrls:e}),notifyClear:()=>this.props.onClear(),notifyPreviewClick:e=>this.props.onPreviewClick(e),notifyDrop:(e,t,r)=>this.props.onDrop(e,t,r),notifyAcceptInvalid:e=>this.props.onAcceptInvalid(e),notifyBeforeRemove:(e,t)=>this.props.beforeRemove(e,t),notifyBeforeClear:e=>this.props.beforeClear(e)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,className:r,multiple:s,accept:i,disabled:o,children:a,capture:l,listType:u,prompt:d,promptPosition:h,draggable:f,validateMessage:g,validateStatus:b,directory:y}=e,_=rye(e,["style","className","multiple","accept","disabled","children","capture","listType","prompt","promptPosition","draggable","validateMessage","validateStatus","directory"]),v=$(on,{[`${on}-picture`]:u===Ye.FILE_LIST_PIC,[`${on}-disabled`]:o,[`${on}-default`]:b==="default",[`${on}-error`]:b==="error",[`${on}-warning`]:b==="warning",[`${on}-success`]:b==="success"},r),E=$(`${on}-hidden-input`),w=$(`${on}-hidden-input-replace`),S=$(`${on}-prompt`),O=$(`${on}-validate-message`),x=y?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return m.createElement("div",Object.assign({className:v,style:t,"x-prompt-pos":h},this.getDataAttr(_)),m.createElement("input",Object.assign({key:this.state.inputKey,capture:l,multiple:s,accept:i,onChange:this.onChange,type:"file",autoComplete:"off",tabIndex:-1,className:E,ref:this.inputRef},x)),m.createElement("input",{key:this.state.replaceInputKey,multiple:!1,accept:i,onChange:this.onReplaceChange,type:"file",autoComplete:"off",tabIndex:-1,className:w,ref:this.replaceInputRef}),this.renderAddContent(),d?m.createElement("div",{className:S,"x-semi-prop":"prompt"},d):null,g?m.createElement("div",{className:O,"x-semi-prop":"validateMessage"},g):null,this.renderFileList())}}d_.propTypes={accept:c.string,action:c.string.isRequired,addOnPasting:c.bool,afterUpload:c.func,beforeClear:c.func,beforeRemove:c.func,beforeUpload:c.func,children:c.node,className:c.string,customRequest:c.func,data:c.oneOfType([c.object,c.func]),defaultFileList:c.array,directory:c.bool,disabled:c.bool,dragIcon:c.node,dragMainText:c.node,dragSubText:c.node,draggable:c.bool,fileList:c.array,fileName:c.string,headers:c.oneOfType([c.object,c.func]),hotSpotLocation:c.oneOf(["start","end"]),itemStyle:c.object,limit:c.number,listType:c.oneOf(Ye.LIST_TYPE),maxSize:c.number,minSize:c.number,multiple:c.bool,name:c.string,onAcceptInvalid:c.func,onChange:c.func,onClear:c.func,onDrop:c.func,onError:c.func,onExceed:c.func,onFileChange:c.func,onOpenFileDialog:c.func,onPreviewClick:c.func,onProgress:c.func,onRemove:c.func,onRetry:c.func,onSizeError:c.func,onSuccess:c.func,onPastingError:c.func,previewFile:c.func,prompt:c.node,promptPosition:c.oneOf(Ye.PROMPT_POSITION),picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),renderFileItem:c.func,renderPicPreviewIcon:c.func,renderFileOperation:c.func,renderPicInfo:c.func,renderThumbnail:c.func,showClear:c.bool,showPicInfo:c.bool,showReplace:c.bool,showRetry:c.bool,showUploadList:c.bool,style:c.object,timeout:c.number,transformFile:c.func,uploadTrigger:c.oneOf(Ye.UPLOAD_TRIGGER),validateMessage:c.node,validateStatus:c.oneOf(Ye.VALIDATE_STATUS),withCredentials:c.bool};d_.defaultProps={defaultFileList:[],disabled:!1,listType:"list",hotSpotLocation:"end",multiple:!1,onAcceptInvalid:j,onChange:j,beforeRemove:()=>!0,beforeClear:()=>!0,onClear:j,onDrop:j,onError:j,onExceed:j,onFileChange:j,onOpenFileDialog:j,onProgress:j,onRemove:j,onRetry:j,onSizeError:j,onSuccess:j,onPastingError:j,promptPosition:"right",showClear:!0,showPicInfo:!1,showReplace:!1,showRetry:!0,showUploadList:!0,uploadTrigger:"auto",withCredentials:!1};d_.FileCard=c_;function Ll(){return Ll=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ll.apply(this,arguments)}function sye(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Lf(n,e)}function oS(n){return oS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},oS(n)}function Lf(n,e){return Lf=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Lf(n,e)}function iye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vm(n,e,t){return iye()?vm=Reflect.construct:vm=function(s,i,o){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(s,a),u=new l;return o&&Lf(u,o.prototype),u},vm.apply(null,arguments)}function oye(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function aS(n){var e=typeof Map=="function"?new Map:void 0;return aS=function(r){if(r===null||!oye(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return vm(r,arguments,oS(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Lf(s,r)},aS(n)}var aye=/%[sdj%]/g,lye=function(){};function lS(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function _s(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=1,s=e[0],i=e.length;if(typeof s=="function")return s.apply(null,e.slice(1));if(typeof s=="string"){var o=String(s).replace(aye,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch{return"[Circular]"}break;default:return a}});return o}return s}function uye(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Un(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||uye(e)&&typeof n=="string"&&!n)}function cye(n,e,t){var r=[],s=0,i=n.length;function o(a){r.push.apply(r,a),s++,s===i&&t(r)}n.forEach(function(a){e(a,o)})}function CA(n,e,t){var r=0,s=n.length;function i(o){if(o&&o.length){t(o);return}var a=r;r=r+1,a<s?e(n[a],i):t([])}i([])}function dye(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t])}),e}var TA=function(n){sye(e,n);function e(t,r){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=t,s.fields=r,s}return e}(aS(Error));function hye(n,e,t,r){if(e.first){var s=new Promise(function(h,f){var g=function(_){return r(_),_.length?f(new TA(_,lS(_))):h()},b=dye(n);CA(b,t,g)});return s.catch(function(h){return h}),s}var i=e.firstFields||[];i===!0&&(i=Object.keys(n));var o=Object.keys(n),a=o.length,l=0,u=[],d=new Promise(function(h,f){var g=function(y){if(u.push.apply(u,y),l++,l===a)return r(u),u.length?f(new TA(u,lS(u))):h()};o.length||(r(u),h()),o.forEach(function(b){var y=n[b];i.indexOf(b)!==-1?CA(y,t,g):cye(y,t,g)})});return d.catch(function(h){return h}),d}function IA(n){return function(e){return e&&e.message?(e.field=e.field||n.fullField,e):{message:typeof e=="function"?e():e,field:e.field||n.fullField}}}function OA(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=Ll({},n[t],r):n[t]=r}}return n}function kj(n,e,t,r,s,i){n.required&&(!t.hasOwnProperty(n.field)||Un(e,i||n.type))&&r.push(_s(s.messages.required,n.fullField))}function fye(n,e,t,r,s){(/^\s+$/.test(e)||e==="")&&r.push(_s(s.messages.whitespace,n.fullField))}var h0={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},bh={integer:function(e){return bh.number(e)&&parseInt(e,10)===e},float:function(e){return bh.number(e)&&!bh.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!bh.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&!!e.match(h0.email)&&e.length<255},url:function(e){return typeof e=="string"&&!!e.match(h0.url)},hex:function(e){return typeof e=="string"&&!!e.match(h0.hex)}};function pye(n,e,t,r,s){if(n.required&&e===void 0){kj(n,e,t,r,s);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=n.type;i.indexOf(o)>-1?bh[o](e)||r.push(_s(s.messages.types[o],n.fullField,n.type)):o&&typeof e!==n.type&&r.push(_s(s.messages.types[o],n.fullField,n.type))}function gye(n,e,t,r,s){var i=typeof n.len=="number",o=typeof n.min=="number",a=typeof n.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,d=null,h=typeof e=="number",f=typeof e=="string",g=Array.isArray(e);if(h?d="number":f?d="string":g&&(d="array"),!d)return!1;g&&(u=e.length),f&&(u=e.replace(l,"_").length),i?u!==n.len&&r.push(_s(s.messages[d].len,n.fullField,n.len)):o&&!a&&u<n.min?r.push(_s(s.messages[d].min,n.fullField,n.min)):a&&!o&&u>n.max?r.push(_s(s.messages[d].max,n.fullField,n.max)):o&&a&&(u<n.min||u>n.max)&&r.push(_s(s.messages[d].range,n.fullField,n.min,n.max))}var Ku="enum";function mye(n,e,t,r,s){n[Ku]=Array.isArray(n[Ku])?n[Ku]:[],n[Ku].indexOf(e)===-1&&r.push(_s(s.messages[Ku],n.fullField,n[Ku].join(", ")))}function vye(n,e,t,r,s){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(e)||r.push(_s(s.messages.pattern.mismatch,n.fullField,e,n.pattern));else if(typeof n.pattern=="string"){var i=new RegExp(n.pattern);i.test(e)||r.push(_s(s.messages.pattern.mismatch,n.fullField,e,n.pattern))}}}var He={required:kj,whitespace:fye,type:pye,range:gye,enum:mye,pattern:vye};function yye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e,"string")&&!n.required)return t();He.required(n,e,r,i,s,"string"),Un(e,"string")||(He.type(n,e,r,i,s),He.range(n,e,r,i,s),He.pattern(n,e,r,i,s),n.whitespace===!0&&He.whitespace(n,e,r,i,s))}t(i)}function _ye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e)&&!n.required)return t();He.required(n,e,r,i,s),e!==void 0&&He.type(n,e,r,i,s)}t(i)}function bye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(e===""&&(e=void 0),Un(e)&&!n.required)return t();He.required(n,e,r,i,s),e!==void 0&&(He.type(n,e,r,i,s),He.range(n,e,r,i,s))}t(i)}function wye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e)&&!n.required)return t();He.required(n,e,r,i,s),e!==void 0&&He.type(n,e,r,i,s)}t(i)}function Eye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e)&&!n.required)return t();He.required(n,e,r,i,s),Un(e)||He.type(n,e,r,i,s)}t(i)}function Sye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e)&&!n.required)return t();He.required(n,e,r,i,s),e!==void 0&&(He.type(n,e,r,i,s),He.range(n,e,r,i,s))}t(i)}function Cye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e)&&!n.required)return t();He.required(n,e,r,i,s),e!==void 0&&(He.type(n,e,r,i,s),He.range(n,e,r,i,s))}t(i)}function Tye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(e==null&&!n.required)return t();He.required(n,e,r,i,s,"array"),e!=null&&(He.type(n,e,r,i,s),He.range(n,e,r,i,s))}t(i)}function Iye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e)&&!n.required)return t();He.required(n,e,r,i,s),e!==void 0&&He.type(n,e,r,i,s)}t(i)}var Oye="enum";function Pye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e)&&!n.required)return t();He.required(n,e,r,i,s),e!==void 0&&He[Oye](n,e,r,i,s)}t(i)}function xye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e,"string")&&!n.required)return t();He.required(n,e,r,i,s),Un(e,"string")||He.pattern(n,e,r,i,s)}t(i)}function Rye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e,"date")&&!n.required)return t();if(He.required(n,e,r,i,s),!Un(e,"date")){var a;e instanceof Date?a=e:a=new Date(e),He.type(n,a,r,i,s),a&&He.range(n,a.getTime(),r,i,s)}}t(i)}function Aye(n,e,t,r,s){var i=[],o=Array.isArray(e)?"array":typeof e;He.required(n,e,r,i,s,o),t(i)}function f0(n,e,t,r,s){var i=n.type,o=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Un(e,i)&&!n.required)return t();He.required(n,e,r,o,s,i),Un(e,i)||He.type(n,e,r,o,s)}t(o)}function Dye(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Un(e)&&!n.required)return t();He.required(n,e,r,i,s)}t(i)}var zh={string:yye,method:_ye,number:bye,boolean:wye,regexp:Eye,integer:Sye,float:Cye,array:Tye,object:Iye,enum:Pye,pattern:xye,date:Rye,url:f0,hex:f0,email:f0,required:Aye,any:Dye};function uS(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var yT=uS();function Ka(n){this.rules=null,this._messages=yT,this.define(n)}Ka.prototype={messages:function(e){return e&&(this._messages=OA(uS(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if(typeof e!="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t,r;for(t in e)e.hasOwnProperty(t)&&(r=e[t],this.rules[t]=Array.isArray(r)?r:[r])},validate:function(e,t,r){var s=this;t===void 0&&(t={}),r===void 0&&(r=function(){});var i=e,o=t,a=r;if(typeof o=="function"&&(a=o,o={}),!this.rules||Object.keys(this.rules).length===0)return a&&a(),Promise.resolve();function l(y){var _,v=[],E={};function w(S){if(Array.isArray(S)){var O;v=(O=v).concat.apply(O,S)}else v.push(S)}for(_=0;_<y.length;_++)w(y[_]);v.length?E=lS(v):(v=null,E=null),a(v,E)}if(o.messages){var u=this.messages();u===yT&&(u=uS()),OA(u,o.messages),o.messages=u}else o.messages=this.messages();var d,h,f={},g=o.keys||Object.keys(this.rules);g.forEach(function(y){d=s.rules[y],h=i[y],d.forEach(function(_){var v=_;typeof v.transform=="function"&&(i===e&&(i=Ll({},i)),h=i[y]=v.transform(h)),typeof v=="function"?v={validator:v}:v=Ll({},v),v.validator=s.getValidationMethod(v),v.field=y,v.fullField=v.fullField||y,v.type=s.getType(v),v.validator&&(f[y]=f[y]||[],f[y].push({rule:v,value:h,source:i,field:y}))})});var b={};return hye(f,o,function(y,_){var v=y.rule,E=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");E=E&&(v.required||!v.required&&y.value),v.field=y.field;function w(x,I){return Ll({},I,{fullField:v.fullField+"."+x})}function S(x){x===void 0&&(x=[]);var I=x;if(Array.isArray(I)||(I=[I]),!o.suppressWarning&&I.length&&Ka.warning("async-validator:",I),I.length&&v.message!==void 0&&(I=[].concat(v.message)),I=I.map(IA(v)),o.first&&I.length)return b[v.field]=1,_(I);if(!E)_(I);else{if(v.required&&!y.value)return v.message!==void 0?I=[].concat(v.message).map(IA(v)):o.error&&(I=[o.error(v,_s(o.messages.required,v.field))]),_(I);var T={};if(v.defaultField)for(var P in y.value)y.value.hasOwnProperty(P)&&(T[P]=v.defaultField);T=Ll({},T,y.rule.fields);for(var A in T)if(T.hasOwnProperty(A)){var k=Array.isArray(T[A])?T[A]:[T[A]];T[A]=k.map(w.bind(null,A))}var M=new Ka(T);M.messages(o.messages),y.rule.options&&(y.rule.options.messages=o.messages,y.rule.options.error=o.error),M.validate(y.value,y.rule.options||o,function(N){var W=[];I&&I.length&&W.push.apply(W,I),N&&N.length&&W.push.apply(W,N),_(W.length?W:null)})}}var O;v.asyncValidator?O=v.asyncValidator(v,y.value,S,y.source,o):v.validator&&(O=v.validator(v,y.value,S,y.source,o),O===!0?S():O===!1?S(v.message||v.field+" fails"):O instanceof Array?S(O):O instanceof Error&&S(O.message)),O&&O.then&&O.then(function(){return S()},function(x){return S(x)})},function(y){l(y)})},getType:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!zh.hasOwnProperty(e.type))throw new Error(_s("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if(typeof e.validator=="function")return e.validator;var t=Object.keys(e),r=t.indexOf("message");return r!==-1&&t.splice(r,1),t.length===1&&t[0]==="required"?zh.required:zh[this.getType(e)]||!1}};Ka.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");zh[e]=t};Ka.warning=lye;Ka.messages=yT;Ka.validators=zh;var kye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function Nye(n){const e=n.displayName||n.name;return e?`SemiField${e}`:"SemiField"}function Lye(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t={};return t[n]=e,new Ka(t)}function Mye(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=!1;return typeof n=="object"&&"required"in n?e=n.required:Array.isArray(n)&&n.length&&n.forEach(t=>{t.required&&(e=!0)}),e}function Ml(n){let e=!0;return typeof n=="string"&&n.length?e=!1:Array.isArray(n)&&n.length?e=n.every(t=>Ml(t)):typeof n=="boolean"?e=n:n&&typeof n.$$typeof=="symbol"&&n.$$typeof.toString()==="Symbol(react.element)"&&(e=!1),e}function $ye(n,e){let t=[],r=[];return Ct(n)?Ct(e)?t=_h.DEFAULT_TRIGGER:t=e:t=n,Array.isArray(t)&&(r=t),typeof t=="string"&&(r[0]=t),r}function Fye(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Ct(n)?Ct(e)?t:e:n}function jye(n,e){const r=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),n),s="field"in e?!0:r.shouldInject;return{options:r,shouldInject:s}}function Vye(n){let t=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),n),{field:r,label:s,labelPosition:i,labelWidth:o,labelAlign:a,labelCol:l,wrapperCol:u,initValue:d,validate:h,validateStatus:f,trigger:g,allowEmptyString:b,allowEmpty:y,emptyValue:_,rules:v,onChange:E,keepState:w,transform:S,name:O,fieldClassName:x,fieldStyle:I,noLabel:T,noErrorMessage:P,isInInputGroup:A,stopValidateWithError:k,convert:M,showValidateIcon:N,helpText:W,extraText:q,extraTextPosition:K,pure:ee,id:V}=t,z=kye(t,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete z.defaultChecked,delete z.defaultValue,delete z.checked,typeof d<"u"&&(d=Xo(d));const B=Mye(v);return _=typeof _<"u"?_:"",{field:r,label:s,labelPosition:i,labelWidth:o,labelAlign:a,labelCol:l,wrapperCol:u,noLabel:T,noErrorMessage:P,isInInputGroup:A,initValue:d,validate:h,validateStatus:f,trigger:g,allowEmptyString:b,allowEmpty:y,emptyValue:_,rules:v,required:B,keepState:w,transform:S,name:O,fieldClassName:x,fieldStyle:I,convert:M,stopValidateWithError:k,showValidateIcon:N,helpText:W,extraText:q,extraTextPosition:K,pure:ee,rest:z,id:V}}class Uye extends Ne{constructor(e){super(Object.assign({},e));let{initValues:t}=this._adapter.getProps();t=this._adapter.cloneDeep(t),this.data={values:t||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this),this.scrollToError=this.scrollToError.bind(this)}init(){this._adapter.initFormId()}getField(e){return this.fields.get(e)}register(e,t,r){if(this.registered[e],this.registered[e]=!0,this.fields.set(e,r),!r.keepState){const s=r.allowEmpty||!1,i={notNotify:!0,notUpdate:!1,allowEmpty:s};let o=t.value;!s&&o===""&&(o=void 0),this.updateStateValue(e,o,i),t.error&&this.updateStateError(e,t.error,i)}}unRegister(e){const t=this.fields.get(e);try{t.keepState||(dm(this.data.values,e),dm(this.data.errors,e),dm(this.data.touched,e))}catch{console.error(`some thing wrong when unregister field:${e}`)}this.fields.delete(e),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(e,t){this.updateArrayField(e,{updateKey:new Date().valueOf(),initValue:t})}unRegisterArrayField(e){this.registeredArrayField.delete(e)}getArrayField(e){return this.registeredArrayField.get(e)}updateArrayField(e,t){const r=Object.assign(Object.assign({},this.registeredArrayField.get(e)),t);this.registeredArrayField.set(e,r)}validate(e){const{validateFields:t}=this.getProps();return t&&De(t)?this._formValidate():this._fieldsValidate(e)}_formValidate(){const{values:e}=this.data,{validateFields:t}=this.getProps();return new Promise((r,s)=>{let i;try{i=t(e)}catch(o){i=o}if(i)Af(i)?i.then(o=>{if(o)this.data.errors=o,this._adapter.notifyChange(this.data),this.injectErrorToField(o),this._adapter.forceUpdate(),this._autoScroll(100),s(o);else{const a=this._adapter.cloneDeep(e);r(a),this.injectErrorToField({})}},o=>{this._autoScroll(100),s(o)}):(this.data.errors=i,this.injectErrorToField(i),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),s(i));else{const o=this._adapter.cloneDeep(e);r(o),this.injectErrorToField({})}})}_fieldsValidate(e){const{values:t}=this.data;return new Promise((r,s)=>{let i=[];const o=this._getOperateFieldMap(e);o.forEach((a,l)=>{const u=this.getValue(l),d={notNotify:!0,notUpdate:!0},h=a.fieldApi.validate(u,d);i.push(h),a.fieldApi.setTouched(!0,d)}),Promise.all(i).then(()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();const a=this.getError();if(this._isValid(o)){const l=this._adapter.cloneDeep(t);r(l)}else this._autoScroll(),s(a)})})}submit(e){const{values:t}=this.data;this.validate().then(r=>{const s=this._adapter.cloneDeep(r);this._adapter.notifySubmit(s,e)}).catch(r=>{const s=this._adapter.cloneDeep(r),i=this._adapter.cloneDeep(t);this._adapter.notifySubmitFail(s,i,e)})}_getNestedField(e){const t=this.fields,r=[...t].map(i=>i[0]);let s=new Map;return r.forEach(i=>{let o=xf(i),a=xf(e);if(a.every((l,u)=>a[u]===o[u])){const l=t.get(i);s.set(i,l)}}),s}_getOperateFieldMap(e){let t=new Map;return Ct(e)?t=this.fields:e.forEach(r=>{const s=this.fields.get(r);if(Ct(s)){const i=this._getNestedField(r);t=new Map([...t,...i])}else t.set(r,s)}),t}reset(e){this._getOperateFieldMap(e).forEach(r=>{r.fieldApi.reset()}),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){[...this.registeredArrayField.keys()].forEach(t=>{const s=this.registeredArrayField.get(t).initValue;this.updateStateValue(t,s,{notNotify:!0,notUpdate:!0}),this.updateArrayField(t,{updateKey:new Date().valueOf()})})}injectErrorToField(e){this.fields.forEach(t=>{const r=Dr(e,t.field),s={notNotify:!0,notUpdate:!0};t.fieldApi.setError(r,s)})}getValue(e,t){const r=typeof e>"u",s=t&&t.needClone;let i,o;switch(!0){case(!r&&!s):i=Dr(this.data.values,e);break;case(!r&&s):o=Dr(this.data.values,e),i=this._adapter.cloneDeep(o);break;case(r&&!s):i=Object.assign({},this.data.values);break;case(r&&s):i=this._adapter.cloneDeep(this.data.values);break}return i}setValues(e,t){let{isOverride:r=!1}=t;const s=this._adapter.cloneDeep(e);this.fields.forEach(i=>{const o=Dr(s,i.field),a={notNotify:!0,notUpdate:!0};i.fieldApi.setValue(o,a)}),this.registeredArrayField.size&&[...this.registeredArrayField.keys()].forEach(o=>{this.updateArrayField(o,{updateKey:new Date().valueOf()})}),r&&(this.data.values=s),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},e)),this._adapter.forceUpdate()}updateStateValue(e,t,r,s){const i=r&&r.notNotify,o=r&&r.notUpdate,a=r&&r.fieldAllowEmpty,l=this.getProp("allowEmpty"),u=a||l;qb(this.data.values,e,t,u),i||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[e]:t})),o||this._adapter.forceUpdate(s)}getTouched(e){return typeof e>"u"?this.data.touched:Dr(this.data.touched,e)}updateStateTouched(e,t,r,s){const i=r&&r.notNotify,o=r&&r.notUpdate;qb(this.data.touched,e,t),i||this._adapter.notifyChange(this.data),o||this._adapter.forceUpdate(s)}getError(e){return typeof e>"u"?this.data.errors:Dr(this.data.errors,e)}updateStateError(e,t,r,s){const i=r&&r.notNotify,o=r&&r.notUpdate;qb(this.data.errors,e,t),i||this._adapter.notifyChange(this.data),this._adapter.notifyErrorChange(this.data.errors,{[e]:t}),o||this._adapter.forceUpdate(s)}getFieldSetterApi(){return{setValue:(s,i,o)=>{const a=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);a?a.setValue(l,o):(this.updateStateValue(s,l,o,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Dr(this.data.values,h),g={notNotify:!0,notUpdate:!0};d.fieldApi.setValue(f,g)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setError:(s,i,o)=>{const a=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);a?a.setError(l,o):(this.updateStateError(s,l,o,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Dr(this.data.errors,h),g={notNotify:!0,notUpdate:!0};d.fieldApi.setError(f,g)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setTouched:(s,i,o)=>{const a=this.fields.get(s)?this.fields.get(s).fieldApi:void 0;a?a.setTouched(i,o):(this.updateStateTouched(s,i,o,()=>{let l=this._getNestedField(s);l.size&&l.forEach(u=>{let d=u.field,h=Dr(this.data.touched,d),f={notNotify:!0,notUpdate:!0};u.fieldApi.setTouched(h,f)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){const e=this.getFieldSetterApi();return Object.assign(Object.assign({},e),{reset:t=>this.reset(t),validate:t=>this.validate(t),getValue:t=>this.getValue(t,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getFormProps:t=>this.getFormProps(t),getInitValue:t=>this.getInitValue(t),getInitValues:()=>this.getInitValues(),getTouched:t=>this.getTouched(t),getError:t=>this.getError(t),setValues:(t,r)=>this.setValues(t,r||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:t=>this.getFieldExist(t),scrollToField:(t,r)=>this.scrollToField(t,r),scrollToError:t=>this.scrollToError(t)})}getFormState(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(e){let t=!0;return e?[...e.keys()].forEach(s=>{const i=Dr(this.data.errors,s);Ml(i)||(t=!1)}):t=!!Ade(this.data.errors),t}getInitValues(){return this._adapter.getInitValues()}getInitValue(e){return typeof e>"u"?this._adapter.getInitValues():Dr(this._adapter.getInitValues(),e)}getFormProps(e){return this._adapter.getFormProps(e)}getFieldExist(e){return!!this.fields.has(e)}_autoScroll(e){const{autoScrollToError:t}=this.getFormProps();if(!t)return;let r={behavior:"smooth",block:"start"};typeof t=="object"&&(r=t),e?setTimeout(()=>this._getErrorFieldAndScroll(r),100):this._getErrorFieldAndScroll(r)}_getErrorFieldAndScroll(e){const t=this._adapter.getAllErrorDOM();if(t&&t.length)try{const r=t[0].parentNode.parentNode;Pb(r,e)}catch{}}scrollToField(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(e)){const r=this._adapter.getFieldDOM(e);Pb(r,t)}}scrollToError(e){let t=e&&e.scrollOpts?e.scrollOpts:{behavior:"smooth",block:"start"},r=e&&e.field,s=e&&e.index,i,o;if(typeof s=="number"){let l=this._adapter.getAllErrorDOM()[s];l&&(i=l.parentNode.parentNode)}else if(r)o=this._adapter.getFieldErrorDOM(r),o&&(i=o.parentNode.parentNode);else if(typeof r>"u"){let a=this._adapter.getAllErrorDOM();a&&a.length&&(i=a[0].parentNode.parentNode)}i&&Pb(i,t)}}const _T=m.createContext({});_T.displayName="FormState";const Nj=m.createContext({});Nj.displayName="FormApi";const xp=m.createContext({});xp.displayName="FormUpdater";const Bye=m.createContext({shouldUseInitValue:!0}),p0=fi.PREFIX;class Rp extends D.PureComponent{generatorText(e){const{helpTextId:t,errorMessageId:r}=this.props,s=this.props.error;let i=r;if(s||(i=t),typeof e=="string")return m.createElement("span",{id:i},e);if(Array.isArray(e)){const o=e.filter(a=>a);return o.length?m.createElement("span",{id:i},o.join(", ")):null}else if(m.isValidElement(e))return e;return null}render(){const{error:e,className:t,style:r,validateStatus:s,helpText:i,showValidateIcon:o,isInInputGroup:a}=this.props,l=$({[p0+"-field-error-message"]:!!e,[p0+"-field-help-text"]:!!i},t);if(!e&&!i)return null;const u={warning:m.createElement(CC,null),error:m.createElement(Sf,null)},d=e?this.generatorText(e):this.generatorText(i),h=`${p0}-field-validate-status-icon`;let f=null;return a?f=m.createElement(Sf,{className:h}):u[s]&&(f=m.cloneElement(u[s],{className:h})),m.createElement("div",{className:l,style:r},o&&d?f:null,d)}}Rp.propTypes={error:c.oneOfType([c.bool,c.string,c.array,c.node]),className:c.string,style:c.object,validateStatus:c.string,showValidateIcon:c.bool,helpText:c.node,isInInputGroup:c.bool,errorMessageId:c.string,helpTextId:c.string};var Hye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const oh=fi.PREFIX,zye=n=>{let e,t,r,s,i,o="top";try{const S=D.useContext(xp).getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);e=S.labelCol,t=S.wrapperCol,r=S.labelWidth,s=S.labelAlign,o=S.labelPosition?S.labelPosition:o}catch{}n.labelPosition&&(o=n.labelPosition);let{children:a,label:l,className:u,style:d,error:h,noLabel:f}=n;Hye(n,["children","label","className","style","error","noLabel"]);const g=e&&t,b=$({[`${oh}-field`]:!0,[`${oh}-slot`]:!0},u),y=$({[`${oh}-col-${s}`]:!0});switch(!0){case(Wo(l)&&!m.isValidElement(l)):break;case(ke(l)||tn(l)):l={text:l};break;case m.isValidElement(l):l={text:l};break}let _=null;if(typeof h!==void 0){let w={};switch(!0){case(Wo(h)&&!m.isValidElement(h)):w=h;break;case(ke(h)||tn(h)):w={error:h};break;case m.isValidElement(h):w={error:h};break}_=m.createElement(Rp,Object.assign({},w))}let v=Object.assign({align:s,width:r},l),E=$({[`${oh}-field-main`]:!0,[`${oh}-slot-main`]:!0});switch(!0){case(!g&&!f):i=m.createElement(m.Fragment,null,m.createElement(ro,Object.assign({},v)),m.createElement("div",{className:E},a,_));break;case(!g&&f):i=m.createElement(m.Fragment,null,m.createElement("div",{className:E},a,_));break;case(g&&o==="top"):i=m.createElement(m.Fragment,null,m.createElement("div",{style:{overflow:"hidden"}},m.createElement(Qr,Object.assign({},e,{className:y}),m.createElement(ro,Object.assign({},v)))),m.createElement(Qr,null,a,_));break;case(g&&o!=="top"):i=m.createElement(m.Fragment,null,m.createElement(Qr,Object.assign({},e,{className:y}),m.createElement(ro,Object.assign({},v))),m.createElement(Qr,null,a,_));break}return m.createElement("div",{className:b,"x-label-pos":o,style:d},i)},PA=fi.PREFIX;class Lj extends D.PureComponent{render(){const{text:e,className:t,style:r,children:s}=this.props,i=$({[PA+"-section"]:!0},t),o=PA+"-section-text";return m.createElement("section",{className:i,style:r},m.createElement("h5",{className:o},e),s)}}Lj.propTypes={text:c.node,className:c.string,style:c.object,children:c.node};function Mj(){return D.useContext(_T)}function Kye(){return D.useContext(xp)}function g0(n){const e=D.useRef(),[t,r]=D.useState(n);return e.current=t,[t,o=>{e.current=o,r(o)},()=>e.current]}function Wye(){return D.useContext(Bye)}var Gye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Wu=fi.PREFIX,Yye=n=>{const{fieldSet:e}=n,t=Mj(),r=e.map(s=>Dr(t.errors,s));return Ml(r)?null:m.createElement(Rp,{error:r,showValidateIcon:n.showValidateIcon,isInInputGroup:n.isInInputGroup})};class $j extends D.Component{renderLabel(e,t){return e?ke(e)?m.createElement(ro,{width:t.labelWidth,text:e}):m.createElement(ro,Object.assign({width:t.labelWidth},e)):null}render(){const e=this.props,{children:t,label:r,extraText:s,extraTextPosition:i}=e,o=Gye(e,["children","label","extraText","extraTextPosition"]),l=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),u=this.props.labelPosition||l.labelPosition,d=[],h=m.Children.map(t,T=>T&&T.props&&T.props.field?(d.push(T.props.field),m.cloneElement(T,{isInInputGroup:!0})):null),f=$({[`${Wu}-field-group`]:!0}),g=l.labelCol,b=l.wrapperCol,y=l.labelAlign,_=g&&b,v=g?`${Wu}-col-${y}`:"",E=this.renderLabel(r,l),w=m.createElement(tT,Object.assign({disabled:l.disabled},o),h),S=m.createElement(Yye,{fieldSet:d,showValidateIcon:l.showValidateIcon,isInInputGroup:!0}),O=$(`${Wu}-field-extra`,{[`${Wu}-field-extra-string`]:typeof s=="string",[`${Wu}-field-extra-middle`]:i==="middle",[`${Wu}-field-extra-bottom`]:i==="bottom"}),x=s?m.createElement("div",{className:O,"x-semi-prop":"extraText"},s):null;let I;switch(!0){case!_:I=m.createElement(m.Fragment,null,E,m.createElement("div",null,i==="middle"?x:null,w,i==="bottom"?x:null,S));break;case(_&&u==="top"):I=m.createElement(m.Fragment,null,m.createElement("div",{style:{overflow:"hidden"}},m.createElement(Qr,Object.assign({},g,{className:v}),E)),m.createElement(Qr,Object.assign({},b),i==="middle"?x:null,w,i==="bottom"?x:null,S));break;case(_&&u!=="top"):I=m.createElement(m.Fragment,null,m.createElement(Qr,Object.assign({},g,{className:v}),E),m.createElement(Qr,Object.assign({},b),i==="middle"?x:null,w,i==="bottom"?x:null,S));break}return m.createElement("div",{"x-label-pos":u,className:f},I)}}$j.contextType=xp;const Ni=fi.PREFIX,m0=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Qn(n,e){let t=(r,s)=>{let{field:i,label:o,labelPosition:a,labelWidth:l,labelAlign:u,labelCol:d,wrapperCol:h,noLabel:f,noErrorMessage:g,isInInputGroup:b,initValue:y,validate:_,validateStatus:v,trigger:E,allowEmptyString:w,allowEmpty:S,emptyValue:O,rules:x,required:I,keepState:T,transform:P,name:A,fieldClassName:k,fieldStyle:M,convert:N,stopValidateWithError:W,helpText:q,extraText:K,extraTextPosition:ee,pure:V,id:z,rest:B}=Vye(r),{options:oe,shouldInject:ne}=jye(e,r);if(qt(typeof i>"u"&&oe.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!ne)return m.createElement(n,Object.assign({},B,{ref:s}));Mj();const re=Kye();if(!re.getFormProps)return qt(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let he=re.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),be=a||he.labelPosition,ye=l||he.labelWidth,me=u||he.labelAlign,ge=d||he.labelCol,te=h||he.wrapperCol,le=ee||he.extraTextPosition||"bottom",ft=Fye(W,he.stopValidateWithError,!1),Ot=$ye(E,he.trigger),nn=typeof i<"u"?re.getValue(i):void 0,yt=typeof y<"u"?y:nn,yn;try{yn=Wye(),yn&&(yt=yn.shouldUseInitValue&&typeof y<"u"?y:nn)}catch{}const[_t,Zn,Hr]=g0(typeof yt!==void 0?yt:null),Ri=Ot.includes("mount");S=S||re.getFormProps().allowEmpty;const[Ut,Bn,xs]=g0(),[zr,Rs]=D.useState(),[mo,rn,Mt]=g0(0),[_n,xn]=D.useState(v),cr=D.useRef(!1),Hn=D.useRef(x),dr=D.useRef(_),Kr=D.useRef(null),As=(_e,Me)=>{Rs(_e),re.updateStateTouched(i,_e,Me)},bn=(_e,Me)=>{cr.current||_e!==xs()&&(Bn(_e),re.updateStateError(i,_e,Me),Ml(_e)?xn("success"):xn("error"))},os=(_e,Me)=>{Zn(_e);let Ht=Object.assign(Object.assign({},Me),{allowEmpty:S});re.updateStateValue(i,_e,Ht)},Ai=()=>{let _e={notNotify:!0,notUpdate:!0};os(yt!==null?yt:void 0,_e),bn(void 0,_e),As(void 0,_e),xn("default")},Ds=(_e,Me)=>{let Ht=Hn.current||[];const st=Lye(i,Ht),Pt={[i]:_e},xt=new Promise((kt,oa)=>{st.validate(Pt,{first:ft},(Ns,cs)=>{}).then(Ns=>{cr.current||Kr.current!==xt||(xn("success"),bn(void 0,Me),kt({}))}).catch(Ns=>{if(cr.current||Kr.current!==xt)return;let{errors:cs,fields:vo}=Ns;if(cs&&vo){let hr=cs.map(aa=>aa.message);hr.length===1&&(hr=hr[0]),bn(hr,Me),Ml(hr)||(xn("error"),kt(cs))}else throw xn("error"),bn(Ns.message,Me),kt(Ns.message),Ns})});return Kr.current=xt,xt},Di=(_e,Me,Ht)=>{const st=new Promise(Pt=>{let xt;try{xt=dr.current(_e,Me)}catch(kt){xt=kt}xt===void 0?(Pt({}),bn(void 0,Ht)):Af(xt)?xt.then(kt=>{cr.current||Kr.current!==st||(Ml(kt)?(bn(void 0,Ht),Pt(null)):(bn(kt,Ht),Pt(kt)))}):Ml(xt)?(bn(void 0,Ht),Pt(null)):(bn(xt,Ht),Pt(xt))});return Kr.current=st,st},as=(_e,Me)=>{let Ht=_e,st=Hn.current;return P&&(Ht=P(_e)),dr.current?Di(Ht,re.getValue(),Me):st?Ds(Ht,Me):null},ls=function(_e,Me){if(oe.onKeyChangeFnName in r&&typeof r[oe.onKeyChangeFnName]=="function"){for(var st=arguments.length,Pt=new Array(st>2?st-2:0),xt=2;xt<st;xt++)Pt[xt-2]=arguments[xt];r[oe.onKeyChangeFnName](_e,Me,...Pt)}let kt;oe.valuePath?kt=Dr(_e,oe.valuePath):kt=_e,typeof N=="function"&&(kt=N(kt)),w||S||kt===O&&(kt=void 0);try{Me&&Me.target&&Me.target.selectionStart&&rn(Me.target.selectionStart)}catch{}As(!0,{notNotify:!0,notUpdate:!0}),os(kt),Ot.includes("change")&&as(kt)},bt=function(){if(r.onBlur&&r.onBlur(...arguments),zr||As(!0),Ot.includes("blur")){let _e=Hr();as(_e)}},Xt={setValue:os,setTouched:As,setError:bn,reset:Ai,validate:as},mt={value:_t,error:Ut,touched:zr,status:_n};m0(()=>{Hn.current=x,dr.current=_},[x,_]),m0(()=>(cr.current=!1,Ri&&as(_t),()=>{cr.current=!0}),[]),m0(()=>{if(typeof i>"u")return()=>{};const _e=Hr();return re.register(i,{value:_e,error:Ut,touched:zr,status:_n},{field:i,fieldApi:Xt,keepState:T,allowEmpty:S||w}),()=>{re.unRegister(i)}},[i]);const sn=z||i,Bt=`${sn}-label`,Qt=`${sn}-helpText`,wn=`${sn}-extraText`,ks=`${sn}-errormessage`,Ue=()=>{let _e=v||_n;const Me=$(`${Ni}-field-extra`,{[`${Ni}-field-extra-string`]:typeof K=="string",[`${Ni}-field-extra-middle`]:le==="middle",[`${Ni}-field-extra-bottom`]:le==="bottom"}),Ht=K?m.createElement("div",{className:Me,id:wn,"x-semi-prop":"extraText"},K):null;let st=Object.assign(Object.assign({id:sn,disabled:he.disabled},B),{ref:s,onBlur:bt,[oe.onKeyChangeFnName]:ls,[oe.valueKey]:_t,validateStatus:_e,"aria-required":I,"aria-labelledby":Bt});A&&(st.name=A),q&&(st["aria-describedby"]=K?`${Qt} ${wn}`:Qt),K&&(st["aria-describedby"]=q?`${Qt} ${wn}`:wn),_n==="error"&&(st["aria-errormessage"]=ks,st["aria-invalid"]=!0);const Pt=$({[`${Ni}-field`]:!0,[`${Ni}-field-${A}`]:!!A,[k]:!!k}),xt=$({[`${Ni}-field-main`]:!0});be==="inset"&&!f&&(st.insetLabel=o||i,st.insetLabelId=Bt,typeof o=="object"&&!Kw(o)&&(st.insetLabel=o.text,st.insetLabelId=Bt));const kt=m.createElement(n,Object.assign({},st));if(b)return kt;if(V){let aa=$(B.className,{[`${Ni}-field-pure`]:!0,[`${Ni}-field-${A}`]:!!A,[k]:!!k});return st.className=aa,m.createElement(n,Object.assign({},st))}let oa=ge&&te;const Ns=me?`${Ni}-col-${me}`:"";let cs=null;if(!f&&be!=="inset"){let aa=typeof o=="object"&&!Kw(o)?o:{};cs=m.createElement(ro,Object.assign({text:o||i,id:Bt,required:I,name:sn||A||i,width:ye,align:me},aa))}const vo=m.createElement("div",{className:xt},le==="middle"?Ht:null,kt,g?null:m.createElement(Rp,{error:Ut,validateStatus:_e,helpText:q,helpTextId:Qt,errorMessageId:ks,showValidateIcon:he.showValidateIcon}),le==="bottom"?Ht:null),hr=m.createElement(m.Fragment,null,be==="top"?m.createElement("div",{style:{overflow:"hidden"}},m.createElement(Qr,Object.assign({},ge,{className:Ns}),cs)):m.createElement(Qr,Object.assign({},ge,{className:Ns}),cs),m.createElement(Qr,Object.assign({},te),vo));return m.createElement("div",{className:Pt,style:M,"x-label-pos":be,"x-field-id":i,"x-extra-pos":le},oa?hr:m.createElement(m.Fragment,null,cs,vo))},us=[...Object.values(mt),...Object.values(r),i,be,me,he.disabled];return oe.shouldMemo?D.useMemo(Ue,[...us]):Ue()};return t=D.forwardRef(t),t.displayName=Nye(n),t}const qye=Qn(Ln,{maintainCursor:!0}),Xye=Qn(Hge,{maintainCursor:!0}),Qye=Qn(mj,{maintainCursor:!0}),bT=Qn(Zr);bT.Option=Zr.Option;bT.OptGroup=Zr.OptGroup;const Zye=Qn(bp),Jye=Qn(qo,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),e_e=Qn(aT,{valuePath:"target.value"}),t_e=Qn(iu,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),n_e=Qn(uge),r_e=Qn(hT,{valueKey:"checked"}),s_e=Qn(dT),i_e=Qn(Nf),o_e=Qn(u_),a_e=Qn(qc),l_e=Qn(l_),u_e=Qn(Gc,{valueKey:"value",onKeyChangeFnName:"onChange"}),c_e=Qn(d_,{valueKey:"fileList",valuePath:"fileList",onKeyChangeFnName:"onChange"}),d_e=Qn(Tp);var h_e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const v0=fi.PREFIX;class tt extends xe{constructor(e){super(e),this.state={formId:""},qt(!!(e.component&&e.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),qt(e.component&&e.children&&!Mx(e.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),qt(e.render&&e.children&&!Mx(e.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new Uye(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:fte,notifySubmit:(e,t)=>{this.props.onSubmit(e,t)},notifySubmitFail:(e,t,r)=>{this.props.onSubmitFail(e,t,r)},forceUpdate:e=>{this.forceUpdate(e)},notifyChange:e=>{this.props.onChange(e)},notifyValueChange:(e,t)=>{this.props.onValueChange(e,t)},notifyErrorChange:(e,t)=>{this.props.onErrorChange(e,t)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:am()})},getInitValues:()=>this.props.initValues,getFormProps:e=>{if(typeof e>"u")return this.props;if(typeof e=="string")return this.props[e];{const t={};return e.forEach(r=>{t[r]=this.props[r]}),t}},getAllErrorDOM:()=>{const{formId:e}=this.state,{id:t}=this.props,r=t||e;return document.querySelectorAll(`form[x-form-id="${r}"] .${fi.PREFIX}-field-error-message`)},getFieldDOM:e=>document.querySelector(`.${fi.PREFIX}-field[x-field-id="${e}"]`),getFieldErrorDOM:e=>{const{formId:t}=this.state,{id:r}=this.props;let i=`form[x-form-id="${r||t}"] .${fi.PREFIX}-field[x-field-id="${e}"] .${fi.PREFIX}-field-error-message`;return document.querySelector(i)}})}get content(){const{children:e,component:t,render:r}=this.props,s=this.foundation.getFormState(),i={formState:s,formApi:this.foundation.getFormApi(),values:s.values};return t?m.createElement(t,i):r?r(i):typeof e=="function"?e(i):e}submit(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.submit&&e.stopPropagation(),this.foundation.submit(e)}reset(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.reset&&e.stopPropagation(),this.foundation.reset()}render(){const t=this.foundation.getFormState(!1),r=this.foundation.getModifyFormStateApi(),{formId:s}=this.state,i=this.props,{children:o,getFormApi:a,onChange:l,onSubmit:u,onSubmitFail:d,onErrorChange:h,onValueChange:f,component:g,render:b,validateFields:y,initValues:_,layout:v,style:E,className:w,labelPosition:S,labelWidth:O,labelAlign:x,labelCol:I,wrapperCol:T,allowEmpty:P,autoScrollToError:A,showValidateIcon:k,stopValidateWithError:M,extraTextPosition:N,id:W,trigger:q}=i,K=h_e(i,["children","getFormApi","onChange","onSubmit","onSubmitFail","onErrorChange","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),ee=$(v0,w,{[v0+"-vertical"]:v==="vertical",[v0+"-horizontal"]:v==="horizontal"}),V=T&&I,z=m.createElement("form",Object.assign({style:E},K,{onReset:this.reset,onSubmit:this.submit,className:ee,id:W||s,"x-form-id":W||s}),this.content),B=m.createElement(i_,null,z);return m.createElement(xp.Provider,{value:r},m.createElement(Nj.Provider,{value:this.formApi},m.createElement(_T.Provider,{value:t},V?B:z)))}}tt.propTypes={"aria-label":c.string,onSubmit:c.func,onSubmitFail:c.func,onChange:c.func,onReset:c.func,onValueChange:c.func,autoScrollToError:c.oneOfType([c.bool,c.object]),allowEmpty:c.bool,className:c.string,component:c.oneOfType([c.node,c.func]),disabled:c.bool,extraTextPosition:c.oneOf(_h.EXTRA_POS),getFormApi:c.func,initValues:c.object,validateFields:c.func,layout:c.oneOf(_h.LAYOUT),labelPosition:c.oneOf(_h.LABEL_POS),labelWidth:c.oneOfType([c.number,c.string]),labelAlign:c.oneOf(_h.LABEL_ALIGN),labelCol:c.object,render:c.func,style:c.object,showValidateIcon:c.bool,stopValidateWithError:c.bool,stopPropagation:c.shape({submit:c.bool,reset:c.bool}),id:c.string,wrapperCol:c.object,trigger:c.oneOfType([c.oneOf(["blur","change","custom","mount"]),c.arrayOf(c.oneOf(["blur","change","custom","mount"]))])};tt.defaultProps={onChange:j,onSubmitFail:j,onSubmit:j,onReset:j,onValueChange:j,onErrorChange:j,layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0};tt.Input=qye;tt.TextArea=Qye;tt.InputNumber=Xye;tt.Select=bT;tt.Checkbox=Jye;tt.CheckboxGroup=Zye;tt.Radio=t_e;tt.RadioGroup=e_e;tt.DatePicker=n_e;tt.TimePicker=i_e;tt.Switch=r_e;tt.Slider=s_e;tt.TreeSelect=o_e;tt.Cascader=a_e;tt.Rating=l_e;tt.AutoComplete=u_e;tt.Upload=c_e;tt.TagInput=d_e;tt.Slot=zye;tt.ErrorMessage=Rp;tt.InputGroup=$j;tt.Label=ro;tt.Section=Lj;var xA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},f_e=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(t[d],t[h],t[f],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Fj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):f_e(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new p_e;const f=i<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class p_e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g_e=function(n){const e=Fj(n);return jj.encodeByteArray(e,!0)},Dv=function(n){return g_e(n).replace(/\./g,"")},Vj=function(n){try{return jj.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_e=()=>m_e().__FIREBASE_DEFAULTS__,y_e=()=>{if(typeof process>"u"||typeof xA>"u")return;const n=xA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},__e=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Vj(n[1]);return e&&JSON.parse(e)},h_=()=>{try{return v_e()||y_e()||__e()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Uj=n=>{var e,t;return(t=(e=h_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},b_e=n=>{const e=Uj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Bj=()=>{var n;return(n=h_())===null||n===void 0?void 0:n.config},Hj=n=>{var e;return(e=h_())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_e(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dv(JSON.stringify(t)),Dv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S_e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function C_e(){var n;const e=(n=h_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T_e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I_e(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function O_e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P_e(){const n=Rr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function x_e(){return!C_e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R_e(){try{return typeof indexedDB=="object"}catch{return!1}}function A_e(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_e="FirebaseError";class ra extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=D_e,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ap.prototype.create)}}class Ap{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?k_e(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ra(s,a,r)}}function k_e(n,e){return n.replace(N_e,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const N_e=/\{\$([^}]+)}/g;function L_e(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(RA(i)&&RA(o)){if(!kv(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function RA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Eh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function M_e(n,e){const t=new $_e(n,e);return t.subscribe.bind(t)}class $_e{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");F_e(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=y0),s.error===void 0&&(s.error=y0),s.complete===void 0&&(s.complete=y0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F_e(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function y0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(n){return n&&n._delegate?n._delegate:n}class au{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new w_e;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U_e(e))try{this.getOrInitializeService({instanceIdentifier:Pl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pl){return this.instances.has(e)}getOptions(e=Pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V_e(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pl){return this.component?this.component.multipleInstances?e:Pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V_e(n){return n===Pl?void 0:n}function U_e(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new j_e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xe||(Xe={}));const H_e={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},z_e=Xe.INFO,K_e={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},W_e=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=K_e[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let wT=class{constructor(e){this.name=e,this._logLevel=z_e,this._logHandler=W_e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H_e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}};const G_e=(n,e)=>e.some(t=>n instanceof t);let AA,DA;function Y_e(){return AA||(AA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q_e(){return DA||(DA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zj=new WeakMap,cS=new WeakMap,Kj=new WeakMap,_0=new WeakMap,ET=new WeakMap;function X_e(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(Wa(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&zj.set(t,n)}).catch(()=>{}),ET.set(e,n),e}function Q_e(n){if(cS.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});cS.set(n,e)}let dS={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cS.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Kj.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Z_e(n){dS=n(dS)}function J_e(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(b0(this),e,...t);return Kj.set(r,e.sort?e.sort():[e]),Wa(r)}:q_e().includes(n)?function(...e){return n.apply(b0(this),e),Wa(zj.get(this))}:function(...e){return Wa(n.apply(b0(this),e))}}function ebe(n){return typeof n=="function"?J_e(n):(n instanceof IDBTransaction&&Q_e(n),G_e(n,Y_e())?new Proxy(n,dS):n)}function Wa(n){if(n instanceof IDBRequest)return X_e(n);if(_0.has(n))return _0.get(n);const e=ebe(n);return e!==n&&(_0.set(n,e),ET.set(e,n)),e}const b0=n=>ET.get(n);function tbe(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),a=Wa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wa(o.result),l.oldVersion,l.newVersion,Wa(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const nbe=["get","getKey","getAll","getAllKeys","count"],rbe=["put","add","delete","clear"],w0=new Map;function kA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(w0.get(e))return w0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=rbe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||nbe.includes(t)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),s&&l.done]))[0]};return w0.set(e,i),i}Z_e(n=>({...n,get:(e,t,r)=>kA(e,t)||n.get(e,t,r),has:(e,t)=>!!kA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sbe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ibe(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ibe(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hS="@firebase/app",NA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new wT("@firebase/app"),obe="@firebase/app-compat",abe="@firebase/analytics-compat",lbe="@firebase/analytics",ube="@firebase/app-check-compat",cbe="@firebase/app-check",dbe="@firebase/auth",hbe="@firebase/auth-compat",fbe="@firebase/database",pbe="@firebase/data-connect",gbe="@firebase/database-compat",mbe="@firebase/functions",vbe="@firebase/functions-compat",ybe="@firebase/installations",_be="@firebase/installations-compat",bbe="@firebase/messaging",wbe="@firebase/messaging-compat",Ebe="@firebase/performance",Sbe="@firebase/performance-compat",Cbe="@firebase/remote-config",Tbe="@firebase/remote-config-compat",Ibe="@firebase/storage",Obe="@firebase/storage-compat",Pbe="@firebase/firestore",xbe="@firebase/vertexai-preview",Rbe="@firebase/firestore-compat",Abe="firebase",Dbe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="[DEFAULT]",kbe={[hS]:"fire-core",[obe]:"fire-core-compat",[lbe]:"fire-analytics",[abe]:"fire-analytics-compat",[cbe]:"fire-app-check",[ube]:"fire-app-check-compat",[dbe]:"fire-auth",[hbe]:"fire-auth-compat",[fbe]:"fire-rtdb",[pbe]:"fire-data-connect",[gbe]:"fire-rtdb-compat",[mbe]:"fire-fn",[vbe]:"fire-fn-compat",[ybe]:"fire-iid",[_be]:"fire-iid-compat",[bbe]:"fire-fcm",[wbe]:"fire-fcm-compat",[Ebe]:"fire-perf",[Sbe]:"fire-perf-compat",[Cbe]:"fire-rc",[Tbe]:"fire-rc-compat",[Ibe]:"fire-gcs",[Obe]:"fire-gcs-compat",[Pbe]:"fire-fst",[Rbe]:"fire-fst-compat",[xbe]:"fire-vertex","fire-js":"fire-js",[Abe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map,Nbe=new Map,pS=new Map;function LA(n,e){try{n.container.addComponent(e)}catch(t){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qc(n){const e=n.name;if(pS.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;pS.set(e,n);for(const t of Nv.values())LA(t,n);for(const t of Nbe.values())LA(t,n);return!0}function ST(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lbe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ga=new Ap("app","Firebase",Lbe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mbe{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new au("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=Dbe;function Wj(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fS,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ga.create("bad-app-name",{appName:String(s)});if(t||(t=Bj()),!t)throw Ga.create("no-options");const i=Nv.get(s);if(i){if(kv(t,i.options)&&kv(r,i.config))return i;throw Ga.create("duplicate-app",{appName:s})}const o=new B_e(s);for(const l of pS.values())o.addComponent(l);const a=new Mbe(t,r,o);return Nv.set(s,a),a}function Gj(n=fS){const e=Nv.get(n);if(!e&&n===fS&&Bj())return Wj();if(!e)throw Ga.create("no-app",{appName:n});return e}function Ya(n,e,t){var r;let s=(r=kbe[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(a.join(" "));return}Qc(new au(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $be="firebase-heartbeat-database",Fbe=1,Mf="firebase-heartbeat-store";let E0=null;function Yj(){return E0||(E0=tbe($be,Fbe,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Mf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ga.create("idb-open",{originalErrorMessage:n.message})})),E0}async function jbe(n){try{const t=(await Yj()).transaction(Mf),r=await t.objectStore(Mf).get(qj(n));return await t.done,r}catch(e){if(e instanceof ra)Qo.warn(e.message);else{const t=Ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qo.warn(t.message)}}}async function MA(n,e){try{const r=(await Yj()).transaction(Mf,"readwrite");await r.objectStore(Mf).put(e,qj(n)),await r.done}catch(t){if(t instanceof ra)Qo.warn(t.message);else{const r=Ga.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qo.warn(r.message)}}}function qj(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vbe=1024,Ube=30*24*60*60*1e3;class Bbe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zbe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$A();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Ube}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Qo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$A(),{heartbeatsToSend:r,unsentEntries:s}=Hbe(this._heartbeatsCache.heartbeats),i=Dv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Qo.warn(t),""}}}function $A(){return new Date().toISOString().substring(0,10)}function Hbe(n,e=Vbe){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),FA(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),FA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class zbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R_e()?A_e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jbe(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return MA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return MA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function FA(n){return Dv(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kbe(n){Qc(new au("platform-logger",e=>new sbe(e),"PRIVATE")),Qc(new au("heartbeat",e=>new Bbe(e),"PRIVATE")),Ya(hS,NA,n),Ya(hS,NA,"esm2017"),Ya("fire-js","")}Kbe("");function CT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Xj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wbe=Xj,Qj=new Ap("auth","Firebase",Xj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new wT("@firebase/auth");function Gbe(n,...e){Lv.logLevel<=Xe.WARN&&Lv.warn(`Auth (${Pd}): ${n}`,...e)}function ym(n,...e){Lv.logLevel<=Xe.ERROR&&Lv.error(`Auth (${Pd}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n,...e){throw TT(n,...e)}function so(n,...e){return TT(n,...e)}function Zj(n,e,t){const r=Object.assign(Object.assign({},Wbe()),{[e]:t});return new Ap("auth","Firebase",r).create(e,{appName:n.name})}function Fo(n){return Zj(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Qj.create(n,...e)}function Ee(n,e,...t){if(!n)throw TT(e,...t)}function Ro(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ym(e),new Error(e)}function Zo(n,e){n||Ro(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ybe(){return jA()==="http:"||jA()==="https:"}function jA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qbe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ybe()||I_e()||"connection"in navigator)?navigator.onLine:!0}function Xbe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zo(t>e,"Short delay should be less than long delay!"),this.isMobile=S_e()||O_e()}get(){return qbe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n,e){Zo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qbe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zbe=new kp(3e4,6e4);function sa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function po(n,e,t,r,s={}){return eV(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Dp(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},i);return T_e()||(u.referrerPolicy="no-referrer"),Jj.fetch()(tV(n,n.config.apiHost,t,a),u)})}async function eV(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qbe),e);try{const s=new e0e(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw jg(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jg(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jg(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw jg(n,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Zj(n,d,u);Ci(n,d)}}catch(s){if(s instanceof ra)throw s;Ci(n,"network-request-failed",{message:String(s)})}}async function Np(n,e,t,r,s={}){const i=await po(n,e,t,r,s);return"mfaPendingCredential"in i&&Ci(n,"multi-factor-auth-required",{_serverResponse:i}),i}function tV(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?IT(n.config,s):`${n.config.apiScheme}://${s}`}function Jbe(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e0e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(so(this.auth,"network-request-failed")),Zbe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=so(n,e,r);return s.customData._tokenResponse=t,s}function VA(n){return n!==void 0&&n.enterprise!==void 0}class t0e{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Jbe(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function n0e(n,e){return po(n,"GET","/v2/recaptchaConfig",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r0e(n,e){return po(n,"POST","/v1/accounts:delete",e)}async function nV(n,e){return po(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s0e(n,e=!1){const t=Mn(n),r=await t.getIdToken(e),s=OT(r);Ee(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Kh(S0(s.auth_time)),issuedAtTime:Kh(S0(s.iat)),expirationTime:Kh(S0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function S0(n){return Number(n)*1e3}function OT(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ym("JWT malformed, contained fewer than 3 sections"),null;try{const s=Vj(t);return s?JSON.parse(s):(ym("Failed to decode base64 JWT payload"),null)}catch(s){return ym("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function UA(n){const e=OT(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ra&&i0e(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function i0e({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kh(this.lastLoginAt),this.creationTime=Kh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mv(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Zc(n,nV(t,{idToken:r}));Ee(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?rV(i.providerUserInfo):[],a=l0e(n.providerData,o),l=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mS(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function a0e(n){const e=Mn(n);await Mv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l0e(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rV(n){return n.map(e=>{var{providerId:t}=e,r=CT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0e(n,e){const t=await eV(n,{},async()=>{const r=Dp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=tV(n,s,"/v1/token",`key=${i}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jj.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function c0e(n,e){return po(n,"POST","/v2/accounts:revokeToken",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=UA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await u0e(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new Ac;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ee(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ac,this.toJSON())}_performRefresh(){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ao{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=CT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return s0e(this,e)}reload(){return a0e(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Mv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gi(this.auth.app))return Promise.reject(Fo(this.auth));const e=await this.getIdToken();return await Zc(this,r0e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,a,l,u,d;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(s=t.email)!==null&&s!==void 0?s:void 0,g=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=t.createdAt)!==null&&u!==void 0?u:void 0,E=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:S,isAnonymous:O,providerData:x,stsTokenManager:I}=t;Ee(w&&I,e,"internal-error");const T=Ac.fromJSON(this.name,I);Ee(typeof w=="string",e,"internal-error"),ma(h,e.name),ma(f,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),ma(g,e.name),ma(b,e.name),ma(y,e.name),ma(_,e.name),ma(v,e.name),ma(E,e.name);const P=new Ao({uid:w,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:O,photoURL:b,phoneNumber:g,tenantId:y,stsTokenManager:T,createdAt:v,lastLoginAt:E});return x&&Array.isArray(x)&&(P.providerData=x.map(A=>Object.assign({},A))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ac;s.updateFromServerResponse(t);const i=new Ao({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Mv(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ee(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?rV(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ac;a.updateFromIdToken(r);const l=new Ao({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new mS(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new Map;function Do(n){Zo(n instanceof Function,"Expected a class definition");let e=BA.get(n);return e?(Zo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sV.type="NONE";const HA=sV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,e,t){return`firebase:${n}:${e}:${t}`}class Dc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_m(this.userKey,s.apiKey,i),this.fullPersistenceKey=_m("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ao._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Dc(Do(HA),e,r);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Do(HA);const o=_m(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const d=await u._get(o);if(d){const h=Ao._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Dc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Dc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cV(e))return"Blackberry";if(dV(e))return"Webos";if(oV(e))return"Safari";if((e.includes("chrome/")||aV(e))&&!e.includes("edge/"))return"Chrome";if(uV(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iV(n=Rr()){return/firefox\//i.test(n)}function oV(n=Rr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aV(n=Rr()){return/crios\//i.test(n)}function lV(n=Rr()){return/iemobile/i.test(n)}function uV(n=Rr()){return/android/i.test(n)}function cV(n=Rr()){return/blackberry/i.test(n)}function dV(n=Rr()){return/webos/i.test(n)}function PT(n=Rr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function d0e(n=Rr()){var e;return PT(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h0e(){return P_e()&&document.documentMode===10}function hV(n=Rr()){return PT(n)||uV(n)||dV(n)||cV(n)||/windows phone/i.test(n)||lV(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(n,e=[]){let t;switch(n){case"Browser":t=zA(Rr());break;case"Worker":t=`${zA(Rr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0e(n,e={}){return po(n,"GET","/v2/passwordPolicy",sa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0e=6;class m0e{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:g0e,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0e{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KA(this),this.idTokenSubscription=new KA(this),this.beforeStateQueue=new f0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Do(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Dc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nV(this,{idToken:e}),r=await Ao._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mv(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xbe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gi(this.app))return Promise.reject(Fo(this));const t=e?Mn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gi(this.app)?Promise.reject(Fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gi(this.app)?Promise.reject(Fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Do(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p0e(this),t=new m0e(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ap("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await c0e(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Do(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Dc.create(this,[Do(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Gbe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pu(n){return Mn(n)}class KA{constructor(e){this.auth=e,this.observer=null,this.addObserver=M_e(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y0e(n){f_=n}function pV(n){return f_.loadJS(n)}function _0e(){return f_.recaptchaEnterpriseScript}function b0e(){return f_.gapiScript}function w0e(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const E0e="recaptcha-enterprise",S0e="NO_RECAPTCHA";class C0e{constructor(e){this.type=E0e,this.auth=Pu(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{n0e(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new t0e(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;VA(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(S0e)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!t&&VA(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_0e();l.length!==0&&(l+=a),pV(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function WA(n,e,t,r=!1){const s=new C0e(n);let i;try{i=await s.verify(t)}catch{i=await s.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function vS(n,e,t,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await WA(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await WA(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0e(n,e){const t=ST(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(kv(i,e??{}))return s;Ci(s,"already-initialized")}return t.initialize({options:e})}function I0e(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Do);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O0e(n,e,t){const r=Pu(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=gV(e),{host:o,port:a}=P0e(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),x0e()}function gV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function P0e(n){const e=gV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:GA(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:GA(o)}}}function GA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function x0e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ro("not implemented")}_getIdTokenResponse(e){return Ro("not implemented")}_linkToIdToken(e,t){return Ro("not implemented")}_getReauthenticationResolver(e){return Ro("not implemented")}}async function R0e(n,e){return po(n,"POST","/v1/accounts:update",e)}async function A0e(n,e){return po(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0e(n,e){return Np(n,"POST","/v1/accounts:signInWithPassword",sa(n,e))}async function k0e(n,e){return po(n,"POST","/v1/accounts:sendOobCode",sa(n,e))}async function N0e(n,e){return k0e(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0e(n,e){return Np(n,"POST","/v1/accounts:signInWithEmailLink",sa(n,e))}async function M0e(n,e){return Np(n,"POST","/v1/accounts:signInWithEmailLink",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends xT{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new $f(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $f(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vS(e,t,"signInWithPassword",D0e);case"emailLink":return L0e(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vS(e,r,"signUpPassword",A0e);case"emailLink":return M0e(e,{idToken:t,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n,e){return Np(n,"POST","/v1/accounts:signInWithIdp",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0e="http://localhost";class lu extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new lu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=CT(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new lu(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return kc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,kc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,kc(e,t)}buildRequest(){const e={requestUri:$0e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0e(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j0e(n){const e=wh(Eh(n)).link,t=e?wh(Eh(e)).deep_link_id:null,r=wh(Eh(n)).deep_link_id;return(r?wh(Eh(r)).link:null)||r||t||e||n}class RT{constructor(e){var t,r,s,i,o,a;const l=wh(Eh(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=F0e((s=l.mode)!==null&&s!==void 0?s:null);Ee(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=j0e(e);try{return new RT(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.providerId=xd.PROVIDER_ID}static credential(e,t){return $f._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=RT.parseLink(t);return Ee(r,"argument-error"),$f._fromEmailAndCode(e,r.code,r.tenantId)}}xd.PROVIDER_ID="password";xd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends mV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Lp{constructor(){super("facebook.com")}static credential(e){return lu._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Lp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return lu._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ta.credential(t,r)}catch{return null}}}Ta.GOOGLE_SIGN_IN_METHOD="google.com";Ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Lp{constructor(){super("github.com")}static credential(e){return lu._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.GITHUB_SIGN_IN_METHOD="github.com";Ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Lp{constructor(){super("twitter.com")}static credential(e,t){return lu._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Oa.credential(t,r)}catch{return null}}}Oa.TWITTER_SIGN_IN_METHOD="twitter.com";Oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0e(n,e){return Np(n,"POST","/v1/accounts:signUp",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Ao._fromIdTokenResponse(e,r,s),o=YA(r);return new uu({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=YA(r);return new uu({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function YA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends ra{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$v.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new $v(e,t,r,s)}}function vV(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$v._fromErrorAndOperation(n,i,e,r):i})}async function U0e(n,e,t=!1){const r=await Zc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return uu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B0e(n,e,t=!1){const{auth:r}=n;if(Gi(r.app))return Promise.reject(Fo(r));const s="reauthenticate";try{const i=await Zc(n,vV(r,s,e,n),t);Ee(i.idToken,r,"internal-error");const o=OT(i.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(n.uid===a,r,"user-mismatch"),uu._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(n,e,t=!1){if(Gi(n.app))return Promise.reject(Fo(n));const r="signIn",s=await vV(n,r,e),i=await uu._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function H0e(n,e){return yV(Pu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(n){const e=Pu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z0e(n,e,t){if(Gi(n.app))return Promise.reject(Fo(n));const r=Pu(n),o=await vS(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V0e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&_V(n),l}),a=await uu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function K0e(n,e,t){return Gi(n.app)?Promise.reject(Fo(n)):H0e(Mn(n),xd.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_V(n),r})}async function W0e(n,e){const t=Mn(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:i}=await N0e(t.auth,s);i!==n.email&&await n.reload()}function G0e(n,e){return Y0e(Mn(n),null,e)}async function Y0e(n,e,t){const{auth:r}=n,i={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(i.password=t);const o=await Zc(n,R0e(r,i));await n._updateTokensIfNecessary(o,!0)}function q0e(n,e,t,r){return Mn(n).onIdTokenChanged(e,t,r)}function X0e(n,e,t){return Mn(n).beforeAuthStateChanged(e,t)}function Q0e(n,e,t,r){return Mn(n).onAuthStateChanged(e,t,r)}function Z0e(n){return Mn(n).signOut()}const Fv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fv,"1"),this.storage.removeItem(Fv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0e=1e3,ewe=10;class wV extends bV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);h0e()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ewe):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},J0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wV.type="LOCAL";const twe=wV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV extends bV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}EV.type="SESSION";const SV=EV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nwe(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new p_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(t.origin,i)),l=await nwe(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}p_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rwe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=AT("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(){return window}function swe(n){io().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(){return typeof io().WorkerGlobalScope<"u"&&typeof io().importScripts=="function"}async function iwe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function owe(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function awe(){return CV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="firebaseLocalStorageDb",lwe=1,jv="firebaseLocalStorage",IV="fbase_key";class Mp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function g_(n,e){return n.transaction([jv],e?"readwrite":"readonly").objectStore(jv)}function uwe(){const n=indexedDB.deleteDatabase(TV);return new Mp(n).toPromise()}function yS(){const n=indexedDB.open(TV,lwe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(jv,{keyPath:IV})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(jv)?e(r):(r.close(),await uwe(),e(await yS()))})})}async function qA(n,e,t){const r=g_(n,!0).put({[IV]:e,value:t});return new Mp(r).toPromise()}async function cwe(n,e){const t=g_(n,!1).get(e),r=await new Mp(t).toPromise();return r===void 0?null:r.value}function XA(n,e){const t=g_(n,!0).delete(e);return new Mp(t).toPromise()}const dwe=800,hwe=3;class OV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yS(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>hwe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=p_._getInstance(awe()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await iwe(),!this.activeServiceWorker)return;this.sender=new rwe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||owe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yS();return await qA(e,Fv,"1"),await XA(e,Fv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>qA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>cwe(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=g_(s,!1).getAll();return new Mp(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dwe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OV.type="LOCAL";const fwe=OV;new kp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pwe(n,e){return e?Do(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends xT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return kc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gwe(n){return yV(n.auth,new DT(n),n.bypassAuthState)}function mwe(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),B0e(t,new DT(n),n.bypassAuthState)}async function vwe(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),U0e(t,new DT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gwe;case"linkViaPopup":case"linkViaRedirect":return vwe;case"reauthViaPopup":case"reauthViaRedirect":return mwe;default:Ci(this.auth,"internal-error")}}resolve(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ywe=new kp(2e3,1e4);class _c extends PV{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,_c.currentPopupAction&&_c.currentPopupAction.cancel(),_c.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Zo(this.filter.length===1,"Popup operations only handle one event");const e=AT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(so(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(so(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_c.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(so(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ywe.get())};e()}}_c.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _we="pendingRedirect",bm=new Map;class bwe extends PV{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=bm.get(this.auth._key());if(!e){try{const r=await wwe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bm.set(this.auth._key(),e)}return this.bypassAuthState||bm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wwe(n,e){const t=Cwe(e),r=Swe(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Ewe(n,e){bm.set(n._key(),e)}function Swe(n){return Do(n._redirectPersistence)}function Cwe(n){return _m(_we,n.config.apiKey,n.name)}async function Twe(n,e,t=!1){if(Gi(n.app))return Promise.reject(Fo(n));const r=Pu(n),s=pwe(r,e),o=await new bwe(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iwe=10*60*1e3;class Owe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Pwe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!xV(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(so(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Iwe&&this.cachedEventUids.clear(),this.cachedEventUids.has(QA(e))}saveEventToCache(e){this.cachedEventUids.add(QA(e)),this.lastProcessedEventTime=Date.now()}}function QA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function xV({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Pwe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xV(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xwe(n,e={}){return po(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rwe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Awe=/^https?/;async function Dwe(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xwe(n);for(const t of e)try{if(kwe(t))return}catch{}Ci(n,"unauthorized-domain")}function kwe(n){const e=gS(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Awe.test(t))return!1;if(Rwe.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nwe=new kp(3e4,6e4);function ZA(){const n=io().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Lwe(n){return new Promise((e,t)=>{var r,s,i;function o(){ZA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZA(),t(so(n,"network-request-failed"))},timeout:Nwe.get()})}if(!((s=(r=io().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=io().gapi)===null||i===void 0)&&i.load)o();else{const a=w0e("iframefcb");return io()[a]=()=>{gapi.load?o():t(so(n,"network-request-failed"))},pV(`${b0e()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw wm=null,e})}let wm=null;function Mwe(n){return wm=wm||Lwe(n),wm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $we=new kp(5e3,15e3),Fwe="__/auth/iframe",jwe="emulator/auth/iframe",Vwe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uwe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bwe(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?IT(e,jwe):`https://${n.config.authDomain}/${Fwe}`,r={apiKey:e.apiKey,appName:n.name,v:Pd},s=Uwe.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Dp(r).slice(1)}`}async function Hwe(n){const e=await Mwe(n),t=io().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:Bwe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vwe,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=so(n,"network-request-failed"),a=io().setTimeout(()=>{i(o)},$we.get());function l(){io().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zwe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kwe=500,Wwe=600,Gwe="_blank",Ywe="http://localhost";class JA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qwe(n,e,t,r=Kwe,s=Wwe){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zwe),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Rr().toLowerCase();t&&(a=aV(u)?Gwe:t),iV(u)&&(e=e||Ywe,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,b])=>`${f}${g}=${b},`,"");if(d0e(u)&&a!=="_self")return Xwe(e||"",a),new JA(null);const h=window.open(e||"",a,d);Ee(h,n,"popup-blocked");try{h.focus()}catch{}return new JA(h)}function Xwe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qwe="__/auth/handler",Zwe="emulator/auth/handler",Jwe=encodeURIComponent("fac");async function eD(n,e,t,r,s,i){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pd,eventId:s};if(e instanceof mV){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",L_e(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Lp){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await n._getAppCheckToken(),u=l?`#${Jwe}=${encodeURIComponent(l)}`:"";return`${eEe(n)}?${Dp(a).slice(1)}${u}`}function eEe({config:n}){return n.emulator?IT(n,Zwe):`https://${n.authDomain}/${Qwe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="webStorageSupport";class tEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SV,this._completeRedirectFn=Twe,this._overrideRedirectResult=Ewe}async _openPopup(e,t,r,s){var i;Zo((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await eD(e,t,r,gS(),s);return qwe(e,o,AT())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await eD(e,t,r,gS(),s);return swe(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Zo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Hwe(e),r=new Owe(e);return t.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(C0,{type:C0},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[C0];o!==void 0&&t(!!o),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Dwe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hV()||oV()||PT()}}const nEe=tEe;var tD="@firebase/auth",nD="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sEe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iEe(n){Qc(new au("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fV(n)},u=new v0e(r,s,i,l);return I0e(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qc(new au("auth-internal",e=>{const t=Pu(e.getProvider("auth").getImmediate());return(r=>new rEe(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ya(tD,nD,sEe(n)),Ya(tD,nD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oEe=5*60,aEe=Hj("authIdTokenMaxAge")||oEe;let rD=null;const lEe=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>aEe)return;const s=t==null?void 0:t.token;rD!==s&&(rD=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function uEe(n=Gj()){const e=ST(n,"auth");if(e.isInitialized())return e.getImmediate();const t=T0e(n,{popupRedirectResolver:nEe,persistence:[fwe,twe,SV]}),r=Hj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=lEe(i.toString());X0e(t,o,()=>o(t.currentUser)),q0e(t,a=>o(a))}}const s=Uj("auth");return s&&O0e(t,`http://${s}`),t}function cEe(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}y0e({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=so("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",cEe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iEe("Browser");var dEe="firebase",hEe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ya(dEe,hEe,"app");var sD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wl,RV;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function P(){}P.prototype=T.prototype,I.D=T.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(A,k,M){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return T.prototype[k].apply(A,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,T,P){P||(P=0);var A=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)A[k]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(k=0;16>k;++k)A[k]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=I.g[0],P=I.g[1],k=I.g[2];var M=I.g[3],N=T+(M^P&(k^M))+A[0]+3614090360&4294967295;T=P+(N<<7&4294967295|N>>>25),N=M+(k^T&(P^k))+A[1]+3905402710&4294967295,M=T+(N<<12&4294967295|N>>>20),N=k+(P^M&(T^P))+A[2]+606105819&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(T^k&(M^T))+A[3]+3250441966&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(M^P&(k^M))+A[4]+4118548399&4294967295,T=P+(N<<7&4294967295|N>>>25),N=M+(k^T&(P^k))+A[5]+1200080426&4294967295,M=T+(N<<12&4294967295|N>>>20),N=k+(P^M&(T^P))+A[6]+2821735955&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(T^k&(M^T))+A[7]+4249261313&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(M^P&(k^M))+A[8]+1770035416&4294967295,T=P+(N<<7&4294967295|N>>>25),N=M+(k^T&(P^k))+A[9]+2336552879&4294967295,M=T+(N<<12&4294967295|N>>>20),N=k+(P^M&(T^P))+A[10]+4294925233&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(T^k&(M^T))+A[11]+2304563134&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(M^P&(k^M))+A[12]+1804603682&4294967295,T=P+(N<<7&4294967295|N>>>25),N=M+(k^T&(P^k))+A[13]+4254626195&4294967295,M=T+(N<<12&4294967295|N>>>20),N=k+(P^M&(T^P))+A[14]+2792965006&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(T^k&(M^T))+A[15]+1236535329&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(k^M&(P^k))+A[1]+4129170786&4294967295,T=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(T^P))+A[6]+3225465664&4294967295,M=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(M^T))+A[11]+643717713&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^T&(k^M))+A[0]+3921069994&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(k^M&(P^k))+A[5]+3593408605&4294967295,T=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(T^P))+A[10]+38016083&4294967295,M=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(M^T))+A[15]+3634488961&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^T&(k^M))+A[4]+3889429448&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(k^M&(P^k))+A[9]+568446438&4294967295,T=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(T^P))+A[14]+3275163606&4294967295,M=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(M^T))+A[3]+4107603335&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^T&(k^M))+A[8]+1163531501&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(k^M&(P^k))+A[13]+2850285829&4294967295,T=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(T^P))+A[2]+4243563512&4294967295,M=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(M^T))+A[7]+1735328473&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^T&(k^M))+A[12]+2368359562&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(P^k^M)+A[5]+4294588738&4294967295,T=P+(N<<4&4294967295|N>>>28),N=M+(T^P^k)+A[8]+2272392833&4294967295,M=T+(N<<11&4294967295|N>>>21),N=k+(M^T^P)+A[11]+1839030562&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^T)+A[14]+4259657740&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(P^k^M)+A[1]+2763975236&4294967295,T=P+(N<<4&4294967295|N>>>28),N=M+(T^P^k)+A[4]+1272893353&4294967295,M=T+(N<<11&4294967295|N>>>21),N=k+(M^T^P)+A[7]+4139469664&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^T)+A[10]+3200236656&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(P^k^M)+A[13]+681279174&4294967295,T=P+(N<<4&4294967295|N>>>28),N=M+(T^P^k)+A[0]+3936430074&4294967295,M=T+(N<<11&4294967295|N>>>21),N=k+(M^T^P)+A[3]+3572445317&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^T)+A[6]+76029189&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(P^k^M)+A[9]+3654602809&4294967295,T=P+(N<<4&4294967295|N>>>28),N=M+(T^P^k)+A[12]+3873151461&4294967295,M=T+(N<<11&4294967295|N>>>21),N=k+(M^T^P)+A[15]+530742520&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^T)+A[2]+3299628645&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(k^(P|~M))+A[0]+4096336452&4294967295,T=P+(N<<6&4294967295|N>>>26),N=M+(P^(T|~k))+A[7]+1126891415&4294967295,M=T+(N<<10&4294967295|N>>>22),N=k+(T^(M|~P))+A[14]+2878612391&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~T))+A[5]+4237533241&4294967295,P=k+(N<<21&4294967295|N>>>11),N=T+(k^(P|~M))+A[12]+1700485571&4294967295,T=P+(N<<6&4294967295|N>>>26),N=M+(P^(T|~k))+A[3]+2399980690&4294967295,M=T+(N<<10&4294967295|N>>>22),N=k+(T^(M|~P))+A[10]+4293915773&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~T))+A[1]+2240044497&4294967295,P=k+(N<<21&4294967295|N>>>11),N=T+(k^(P|~M))+A[8]+1873313359&4294967295,T=P+(N<<6&4294967295|N>>>26),N=M+(P^(T|~k))+A[15]+4264355552&4294967295,M=T+(N<<10&4294967295|N>>>22),N=k+(T^(M|~P))+A[6]+2734768916&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~T))+A[13]+1309151649&4294967295,P=k+(N<<21&4294967295|N>>>11),N=T+(k^(P|~M))+A[4]+4149444226&4294967295,T=P+(N<<6&4294967295|N>>>26),N=M+(P^(T|~k))+A[11]+3174756917&4294967295,M=T+(N<<10&4294967295|N>>>22),N=k+(T^(M|~P))+A[2]+718787259&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~T))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var P=T-this.blockSize,A=this.B,k=this.h,M=0;M<T;){if(k==0)for(;M<=P;)s(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<T;)if(A[k++]=I.charCodeAt(M++),k==this.blockSize){s(this,A),k=0;break}}else for(;M<T;)if(A[k++]=I[M++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var P=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=P&255,P/=256;for(this.u(I),I=Array(16),T=P=0;4>T;++T)for(var A=0;32>A;A+=8)I[P++]=this.g[T]>>>A&255;return I};function i(I,T){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=T(I)}function o(I,T){this.h=T;for(var P=[],A=!0,k=I.length-1;0<=k;k--){var M=I[k]|0;A&&M==T||(P[k]=M,A=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?i(I,function(T){return new o([T|0],0>T?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return _(u(-I));for(var T=[],P=1,A=0;I>=P;A++)T[A]=I/P|0,P*=4294967296;return new o(T,0)}function d(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return _(d(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),A=h,k=0;k<I.length;k+=8){var M=Math.min(8,I.length-k),N=parseInt(I.substring(k,k+M),T);8>M?(M=u(Math.pow(T,M)),A=A.j(M).add(u(N))):(A=A.j(P),A=A.add(u(N)))}return A}var h=l(0),f=l(1),g=l(16777216);n=o.prototype,n.m=function(){if(y(this))return-_(this).m();for(var I=0,T=1,P=0;P<this.g.length;P++){var A=this.i(P);I+=(0<=A?A:4294967296+A)*T,T*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(y(this))return"-"+_(this).toString(I);for(var T=u(Math.pow(I,6)),P=this,A="";;){var k=S(P,T).g;P=v(P,k.j(T));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=k,b(P))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function y(I){return I.h==-1}n.l=function(I){return I=v(this,I),y(I)?-1:b(I)?0:1};function _(I){for(var T=I.g.length,P=[],A=0;A<T;A++)P[A]=~I.g[A];return new o(P,~I.h).add(f)}n.abs=function(){return y(this)?_(this):this},n.add=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],A=0,k=0;k<=T;k++){var M=A+(this.i(k)&65535)+(I.i(k)&65535),N=(M>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);A=N>>>16,M&=65535,N&=65535,P[k]=N<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(I,T){return I.add(_(T))}n.j=function(I){if(b(this)||b(I))return h;if(y(this))return y(I)?_(this).j(_(I)):_(_(this).j(I));if(y(I))return _(this.j(_(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,P=[],A=0;A<2*T;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<I.g.length;k++){var M=this.i(A)>>>16,N=this.i(A)&65535,W=I.i(k)>>>16,q=I.i(k)&65535;P[2*A+2*k]+=N*q,E(P,2*A+2*k),P[2*A+2*k+1]+=M*q,E(P,2*A+2*k+1),P[2*A+2*k+1]+=N*W,E(P,2*A+2*k+1),P[2*A+2*k+2]+=M*W,E(P,2*A+2*k+2)}for(A=0;A<T;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=T;A<2*T;A++)P[A]=0;return new o(P,0)};function E(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function w(I,T){this.g=I,this.h=T}function S(I,T){if(b(T))throw Error("division by zero");if(b(I))return new w(h,h);if(y(I))return T=S(_(I),T),new w(_(T.g),_(T.h));if(y(T))return T=S(I,_(T)),new w(_(T.g),T.h);if(30<I.g.length){if(y(I)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var P=f,A=T;0>=A.l(I);)P=O(P),A=O(A);var k=x(P,1),M=x(A,1);for(A=x(A,2),P=x(P,2);!b(A);){var N=M.add(A);0>=N.l(I)&&(k=k.add(P),M=N),A=x(A,1),P=x(P,1)}return T=v(I,k.j(T)),new w(k,T)}for(k=h;0<=I.l(T);){for(P=Math.max(1,Math.floor(I.m()/T.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=u(P),N=M.j(T);y(N)||0<N.l(I);)P-=A,M=u(P),N=M.j(T);b(M)&&(M=f),k=k.add(M),I=v(I,N)}return new w(k,I)}n.A=function(I){return S(this,I).h},n.and=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)&I.i(A);return new o(P,this.h&I.h)},n.or=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)|I.i(A);return new o(P,this.h|I.h)},n.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)^I.i(A);return new o(P,this.h^I.h)};function O(I){for(var T=I.g.length+1,P=[],A=0;A<T;A++)P[A]=I.i(A)<<1|I.i(A-1)>>>31;return new o(P,I.h)}function x(I,T){var P=T>>5;T%=32;for(var A=I.g.length-P,k=[],M=0;M<A;M++)k[M]=0<T?I.i(M+P)>>>T|I.i(M+P+1)<<32-T:I.i(M+P);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RV=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Wl=o}).apply(typeof sD<"u"?sD:typeof self<"u"?self:typeof window<"u"?window:{});var Vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AV,Sh,DV,Em,_S,kV,NV,LV;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,C,R){return p==Array.prototype||p==Object.prototype||(p[C]=R.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vg=="object"&&Vg];for(var C=0;C<p.length;++C){var R=p[C];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=t(this);function s(p,C){if(C)e:{var R=r;p=p.split(".");for(var L=0;L<p.length-1;L++){var U=p[L];if(!(U in R))break e;R=R[U]}p=p[p.length-1],L=R[p],C=C(L),C!=L&&C!=null&&e(R,p,{configurable:!0,writable:!0,value:C})}}function i(p,C){p instanceof String&&(p+="");var R=0,L=!1,U={next:function(){if(!L&&R<p.length){var H=R++;return{value:C(H,p[H]),done:!1}}return L=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(p){return p||function(){return i(this,function(C,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(p){var C=typeof p;return C=C!="object"?C:p?Array.isArray(p)?"array":C:"null",C=="array"||C=="object"&&typeof p.length=="number"}function u(p){var C=typeof p;return C=="object"&&p!=null||C=="function"}function d(p,C,R){return p.call.apply(p.bind,arguments)}function h(p,C,R){if(!p)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,L),p.apply(C,U)}}return function(){return p.apply(C,arguments)}}function f(p,C,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(p,C){var R=Array.prototype.slice.call(arguments,1);return function(){var L=R.slice();return L.push.apply(L,arguments),p.apply(this,L)}}function b(p,C){function R(){}R.prototype=C.prototype,p.aa=C.prototype,p.prototype=new R,p.prototype.constructor=p,p.Qb=function(L,U,H){for(var se=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)se[Nt-2]=arguments[Nt];return C.prototype[U].apply(L,se)}}function y(p){const C=p.length;if(0<C){const R=Array(C);for(let L=0;L<C;L++)R[L]=p[L];return R}return[]}function _(p,C){for(let R=1;R<arguments.length;R++){const L=arguments[R];if(l(L)){const U=p.length||0,H=L.length||0;p.length=U+H;for(let se=0;se<H;se++)p[U+se]=L[se]}else p.push(L)}}class v{constructor(C,R){this.i=C,this.j=R,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function E(p){return/^[\s\xa0]*$/.test(p)}function w(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function S(p){return S[" "](p),p}S[" "]=function(){};var O=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function x(p,C,R){for(const L in p)C.call(R,p[L],L,p)}function I(p,C){for(const R in p)C.call(void 0,p[R],R,p)}function T(p){const C={};for(const R in p)C[R]=p[R];return C}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(p,C){let R,L;for(let U=1;U<arguments.length;U++){L=arguments[U];for(R in L)p[R]=L[R];for(let H=0;H<P.length;H++)R=P[H],Object.prototype.hasOwnProperty.call(L,R)&&(p[R]=L[R])}}function k(p){var C=1;p=p.split(":");const R=[];for(;0<C&&p.length;)R.push(p.shift()),C--;return p.length&&R.push(p.join(":")),R}function M(p){a.setTimeout(()=>{throw p},0)}function N(){var p=z;let C=null;return p.g&&(C=p.g,p.g=p.g.next,p.g||(p.h=null),C.next=null),C}class W{constructor(){this.h=this.g=null}add(C,R){const L=q.get();L.set(C,R),this.h?this.h.next=L:this.g=L,this.h=L}}var q=new v(()=>new K,p=>p.reset());class K{constructor(){this.next=this.g=this.h=null}set(C,R){this.h=C,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,V=!1,z=new W,B=()=>{const p=a.Promise.resolve(void 0);ee=()=>{p.then(oe)}};var oe=()=>{for(var p;p=N();){try{p.h.call(p.g)}catch(R){M(R)}var C=q;C.j(p),100>C.h&&(C.h++,p.next=C.g,C.g=p)}V=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(p,C){this.type=p,this.g=this.target=C,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,C=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const R=()=>{};a.addEventListener("test",R,C),a.removeEventListener("test",R,C)}catch{}return p}();function be(p,C){if(re.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var R=this.type=p.type,L=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=C,C=p.relatedTarget){if(O){e:{try{S(C.nodeName);var U=!0;break e}catch{}U=!1}U||(C=null)}}else R=="mouseover"?C=p.fromElement:R=="mouseout"&&(C=p.toElement);this.relatedTarget=C,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ye[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&be.aa.h.call(this)}}b(be,re);var ye={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),ge=0;function te(p,C,R,L,U){this.listener=p,this.proxy=null,this.src=C,this.type=R,this.capture=!!L,this.ha=U,this.key=++ge,this.da=this.fa=!1}function le(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ft(p){this.src=p,this.g={},this.h=0}ft.prototype.add=function(p,C,R,L,U){var H=p.toString();p=this.g[H],p||(p=this.g[H]=[],this.h++);var se=nn(p,C,L,U);return-1<se?(C=p[se],R||(C.fa=!1)):(C=new te(C,this.src,H,!!L,U),C.fa=R,p.push(C)),C};function Ot(p,C){var R=C.type;if(R in p.g){var L=p.g[R],U=Array.prototype.indexOf.call(L,C,void 0),H;(H=0<=U)&&Array.prototype.splice.call(L,U,1),H&&(le(C),p.g[R].length==0&&(delete p.g[R],p.h--))}}function nn(p,C,R,L){for(var U=0;U<p.length;++U){var H=p[U];if(!H.da&&H.listener==C&&H.capture==!!R&&H.ha==L)return U}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),yn={};function _t(p,C,R,L,U){if(Array.isArray(C)){for(var H=0;H<C.length;H++)_t(p,C[H],R,L,U);return null}return R=mo(R),p&&p[me]?p.K(C,R,u(L)?!!L.capture:!!L,U):Zn(p,C,R,!1,L,U)}function Zn(p,C,R,L,U,H){if(!C)throw Error("Invalid event type");var se=u(U)?!!U.capture:!!U,Nt=zr(p);if(Nt||(p[yt]=Nt=new ft(p)),R=Nt.add(C,R,L,se,H),R.proxy)return R;if(L=Hr(),R.proxy=L,L.src=p,L.listener=R,p.addEventListener)he||(U=se),U===void 0&&(U=!1),p.addEventListener(C.toString(),L,U);else if(p.attachEvent)p.attachEvent(Bn(C.toString()),L);else if(p.addListener&&p.removeListener)p.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Hr(){function p(R){return C.call(p.src,p.listener,R)}const C=xs;return p}function Ri(p,C,R,L,U){if(Array.isArray(C))for(var H=0;H<C.length;H++)Ri(p,C[H],R,L,U);else L=u(L)?!!L.capture:!!L,R=mo(R),p&&p[me]?(p=p.i,C=String(C).toString(),C in p.g&&(H=p.g[C],R=nn(H,R,L,U),-1<R&&(le(H[R]),Array.prototype.splice.call(H,R,1),H.length==0&&(delete p.g[C],p.h--)))):p&&(p=zr(p))&&(C=p.g[C.toString()],p=-1,C&&(p=nn(C,R,L,U)),(R=-1<p?C[p]:null)&&Ut(R))}function Ut(p){if(typeof p!="number"&&p&&!p.da){var C=p.src;if(C&&C[me])Ot(C.i,p);else{var R=p.type,L=p.proxy;C.removeEventListener?C.removeEventListener(R,L,p.capture):C.detachEvent?C.detachEvent(Bn(R),L):C.addListener&&C.removeListener&&C.removeListener(L),(R=zr(C))?(Ot(R,p),R.h==0&&(R.src=null,C[yt]=null)):le(p)}}}function Bn(p){return p in yn?yn[p]:yn[p]="on"+p}function xs(p,C){if(p.da)p=!0;else{C=new be(C,this);var R=p.listener,L=p.ha||p.src;p.fa&&Ut(p),p=R.call(L,C)}return p}function zr(p){return p=p[yt],p instanceof ft?p:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(p){return typeof p=="function"?p:(p[Rs]||(p[Rs]=function(C){return p.handleEvent(C)}),p[Rs])}function rn(){ne.call(this),this.i=new ft(this),this.M=this,this.F=null}b(rn,ne),rn.prototype[me]=!0,rn.prototype.removeEventListener=function(p,C,R,L){Ri(this,p,C,R,L)};function Mt(p,C){var R,L=p.F;if(L)for(R=[];L;L=L.F)R.push(L);if(p=p.M,L=C.type||C,typeof C=="string")C=new re(C,p);else if(C instanceof re)C.target=C.target||p;else{var U=C;C=new re(L,p),A(C,U)}if(U=!0,R)for(var H=R.length-1;0<=H;H--){var se=C.g=R[H];U=_n(se,L,!0,C)&&U}if(se=C.g=p,U=_n(se,L,!0,C)&&U,U=_n(se,L,!1,C)&&U,R)for(H=0;H<R.length;H++)se=C.g=R[H],U=_n(se,L,!1,C)&&U}rn.prototype.N=function(){if(rn.aa.N.call(this),this.i){var p=this.i,C;for(C in p.g){for(var R=p.g[C],L=0;L<R.length;L++)le(R[L]);delete p.g[C],p.h--}}this.F=null},rn.prototype.K=function(p,C,R,L){return this.i.add(String(p),C,!1,R,L)},rn.prototype.L=function(p,C,R,L){return this.i.add(String(p),C,!0,R,L)};function _n(p,C,R,L){if(C=p.i.g[String(C)],!C)return!0;C=C.concat();for(var U=!0,H=0;H<C.length;++H){var se=C[H];if(se&&!se.da&&se.capture==R){var Nt=se.listener,Jn=se.ha||se.src;se.fa&&Ot(p.i,se),U=Nt.call(Jn,L)!==!1&&U}}return U&&!L.defaultPrevented}function xn(p,C,R){if(typeof p=="function")R&&(p=f(p,R));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:a.setTimeout(p,C||0)}function cr(p){p.g=xn(()=>{p.g=null,p.i&&(p.i=!1,cr(p))},p.l);const C=p.h;p.h=null,p.m.apply(null,C)}class Hn extends ne{constructor(C,R){super(),this.m=C,this.l=R,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:cr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(p){ne.call(this),this.h=p,this.g={}}b(dr,ne);var Kr=[];function As(p){x(p.g,function(C,R){this.g.hasOwnProperty(R)&&Ut(C)},p),p.g={}}dr.prototype.N=function(){dr.aa.N.call(this),As(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=a.JSON.stringify,os=a.JSON.parse,Ai=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Ds(){}Ds.prototype.h=null;function Di(p){return p.h||(p.h=p.i())}function as(){}var ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bt(){re.call(this,"d")}b(bt,re);function Xt(){re.call(this,"c")}b(Xt,re);var mt={},sn=null;function Bt(){return sn=sn||new rn}mt.La="serverreachability";function Qt(p){re.call(this,mt.La,p)}b(Qt,re);function wn(p){const C=Bt();Mt(C,new Qt(C))}mt.STAT_EVENT="statevent";function ks(p,C){re.call(this,mt.STAT_EVENT,p),this.stat=C}b(ks,re);function Ue(p){const C=Bt();Mt(C,new ks(C,p))}mt.Ma="timingevent";function us(p,C){re.call(this,mt.Ma,p),this.size=C}b(us,re);function _e(p,C){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},C)}function Me(){this.g=!0}Me.prototype.xa=function(){this.g=!1};function Ht(p,C,R,L,U,H){p.info(function(){if(p.g)if(H)for(var se="",Nt=H.split("&"),Jn=0;Jn<Nt.length;Jn++){var it=Nt[Jn].split("=");if(1<it.length){var fr=it[0];it=it[1];var pr=fr.split("_");se=2<=pr.length&&pr[1]=="type"?se+(fr+"="+it+"&"):se+(fr+"=redacted&")}}else se=null;else se=H;return"XMLHTTP REQ ("+L+") [attempt "+U+"]: "+C+`
`+R+`
`+se})}function st(p,C,R,L,U,H,se){p.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+U+"]: "+C+`
`+R+`
`+H+" "+se})}function Pt(p,C,R,L){p.info(function(){return"XMLHTTP TEXT ("+C+"): "+kt(p,R)+(L?" "+L:"")})}function xt(p,C){p.info(function(){return"TIMEOUT: "+C})}Me.prototype.info=function(){};function kt(p,C){if(!p.g)return C;if(!C)return null;try{var R=JSON.parse(C);if(R){for(p=0;p<R.length;p++)if(Array.isArray(R[p])){var L=R[p];if(!(2>L.length)){var U=L[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return bn(R)}catch{return C}}var oa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ns={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cs;function vo(){}b(vo,Ds),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},cs=new vo;function hr(p,C,R,L){this.j=p,this.i=C,this.l=R,this.R=L||1,this.U=new dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aa}function aa(){this.i=null,this.g="",this.h=!1}var yI={},k_={};function N_(p,C,R){p.L=1,p.v=Gp(yo(C)),p.m=R,p.P=!0,_I(p,null)}function _I(p,C){p.F=Date.now(),zp(p),p.A=yo(p.v);var R=p.A,L=p.R;Array.isArray(L)||(L=[String(L)]),kI(R.i,"t",L),p.C=0,R=p.j.J,p.h=new aa,p.g=QI(p.j,R?C:null,!p.m),0<p.O&&(p.M=new Hn(f(p.Y,p,p.g),p.O)),C=p.U,R=p.g,L=p.ca;var U="readystatechange";Array.isArray(U)||(U&&(Kr[0]=U.toString()),U=Kr);for(var H=0;H<U.length;H++){var se=_t(R,U[H],L||C.handleEvent,!1,C.h||C);if(!se)break;C.g[se.key]=se}C=p.H?T(p.H):{},p.m?(p.u||(p.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,C)):(p.u="GET",p.g.ea(p.A,p.u,null,C)),wn(),Ht(p.i,p.u,p.A,p.l,p.R,p.m)}hr.prototype.ca=function(p){p=p.target;const C=this.M;C&&_o(p)==3?C.j():this.Y(p)},hr.prototype.Y=function(p){try{if(p==this.g)e:{const pr=_o(this.g);var C=this.g.Ba();const Nu=this.g.Z();if(!(3>pr)&&(pr!=3||this.g&&(this.h.h||this.g.oa()||VI(this.g)))){this.J||pr!=4||C==7||(C==8||0>=Nu?wn(3):wn(2)),L_(this);var R=this.g.Z();this.X=R;t:if(bI(this)){var L=VI(this.g);p="";var U=L.length,H=_o(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pl(this),Md(this);var se="";break t}this.h.i=new a.TextDecoder}for(C=0;C<U;C++)this.h.h=!0,p+=this.h.i.decode(L[C],{stream:!(H&&C==U-1)});L.length=0,this.h.g+=p,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=R==200,st(this.i,this.u,this.A,this.l,this.R,pr,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Nt,Jn=this.g;if((Nt=Jn.g?Jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Nt)){var it=Nt;break t}}it=null}if(R=it)Pt(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,M_(this,R);else{this.o=!1,this.s=3,Ue(12),pl(this),Md(this);break e}}if(this.P){R=!0;let ni;for(;!this.J&&this.C<se.length;)if(ni=f4(this,se),ni==k_){pr==4&&(this.s=4,Ue(14),R=!1),Pt(this.i,this.l,null,"[Incomplete Response]");break}else if(ni==yI){this.s=4,Ue(15),Pt(this.i,this.l,se,"[Invalid Chunk]"),R=!1;break}else Pt(this.i,this.l,ni,null),M_(this,ni);if(bI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pr!=4||se.length!=0||this.h.h||(this.s=1,Ue(16),R=!1),this.o=this.o&&R,!R)Pt(this.i,this.l,se,"[Invalid Chunked Response]"),pl(this),Md(this);else if(0<se.length&&!this.W){this.W=!0;var fr=this.j;fr.g==this&&fr.ba&&!fr.M&&(fr.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),B_(fr),fr.M=!0,Ue(11))}}else Pt(this.i,this.l,se,null),M_(this,se);pr==4&&pl(this),this.o&&!this.J&&(pr==4?GI(this.j,this):(this.o=!1,zp(this)))}else R4(this.g),R==400&&0<se.indexOf("Unknown SID")?(this.s=3,Ue(12)):(this.s=0,Ue(13)),pl(this),Md(this)}}}catch{}finally{}};function bI(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function f4(p,C){var R=p.C,L=C.indexOf(`
`,R);return L==-1?k_:(R=Number(C.substring(R,L)),isNaN(R)?yI:(L+=1,L+R>C.length?k_:(C=C.slice(L,L+R),p.C=L+R,C)))}hr.prototype.cancel=function(){this.J=!0,pl(this)};function zp(p){p.S=Date.now()+p.I,wI(p,p.I)}function wI(p,C){if(p.B!=null)throw Error("WatchDog timer not null");p.B=_e(f(p.ba,p),C)}function L_(p){p.B&&(a.clearTimeout(p.B),p.B=null)}hr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(xt(this.i,this.A),this.L!=2&&(wn(),Ue(17)),pl(this),this.s=2,Md(this)):wI(this,this.S-p)};function Md(p){p.j.G==0||p.J||GI(p.j,p)}function pl(p){L_(p);var C=p.M;C&&typeof C.ma=="function"&&C.ma(),p.M=null,As(p.U),p.g&&(C=p.g,p.g=null,C.abort(),C.ma())}function M_(p,C){try{var R=p.j;if(R.G!=0&&(R.g==p||$_(R.h,p))){if(!p.K&&$_(R.h,p)&&R.G==3){try{var L=R.Da.g.parse(C)}catch{L=null}if(Array.isArray(L)&&L.length==3){var U=L;if(U[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<p.F)Jp(R),Qp(R);else break e;U_(R),Ue(18)}}else R.za=U[1],0<R.za-R.T&&37500>U[2]&&R.F&&R.v==0&&!R.C&&(R.C=_e(f(R.Za,R),6e3));if(1>=CI(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ml(R,11)}else if((p.K||R.g==p)&&Jp(R),!E(C))for(U=R.Da.g.parse(C),C=0;C<U.length;C++){let it=U[C];if(R.T=it[0],it=it[1],R.G==2)if(it[0]=="c"){R.K=it[1],R.ia=it[2];const fr=it[3];fr!=null&&(R.la=fr,R.j.info("VER="+R.la));const pr=it[4];pr!=null&&(R.Aa=pr,R.j.info("SVER="+R.Aa));const Nu=it[5];Nu!=null&&typeof Nu=="number"&&0<Nu&&(L=1.5*Nu,R.L=L,R.j.info("backChannelRequestTimeoutMs_="+L)),L=R;const ni=p.g;if(ni){const tg=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tg){var H=L.h;H.g||tg.indexOf("spdy")==-1&&tg.indexOf("quic")==-1&&tg.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(F_(H,H.h),H.h=null))}if(L.D){const H_=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;H_&&(L.ya=H_,zt(L.I,L.D,H_))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-p.F,R.j.info("Handshake RTT: "+R.R+"ms")),L=R;var se=p;if(L.qa=XI(L,L.J?L.ia:null,L.W),se.K){TI(L.h,se);var Nt=se,Jn=L.L;Jn&&(Nt.I=Jn),Nt.B&&(L_(Nt),zp(Nt)),L.g=se}else KI(L);0<R.i.length&&Zp(R)}else it[0]!="stop"&&it[0]!="close"||ml(R,7);else R.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?ml(R,7):V_(R):it[0]!="noop"&&R.l&&R.l.ta(it),R.v=0)}}wn(4)}catch{}}var p4=class{constructor(p,C){this.g=p,this.map=C}};function EI(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SI(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function CI(p){return p.h?1:p.g?p.g.size:0}function $_(p,C){return p.h?p.h==C:p.g?p.g.has(C):!1}function F_(p,C){p.g?p.g.add(C):p.h=C}function TI(p,C){p.h&&p.h==C?p.h=null:p.g&&p.g.has(C)&&p.g.delete(C)}EI.prototype.cancel=function(){if(this.i=II(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function II(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let C=p.i;for(const R of p.g.values())C=C.concat(R.D);return C}return y(p.i)}function g4(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var C=[],R=p.length,L=0;L<R;L++)C.push(p[L]);return C}C=[],R=0;for(L in p)C[R++]=p[L];return C}function m4(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var C=[];p=p.length;for(var R=0;R<p;R++)C.push(R);return C}C=[],R=0;for(const L in p)C[R++]=L;return C}}}function OI(p,C){if(p.forEach&&typeof p.forEach=="function")p.forEach(C,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,C,void 0);else for(var R=m4(p),L=g4(p),U=L.length,H=0;H<U;H++)C.call(void 0,L[H],R&&R[H],p)}var PI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v4(p,C){if(p){p=p.split("&");for(var R=0;R<p.length;R++){var L=p[R].indexOf("="),U=null;if(0<=L){var H=p[R].substring(0,L);U=p[R].substring(L+1)}else H=p[R];C(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function gl(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof gl){this.h=p.h,Kp(this,p.j),this.o=p.o,this.g=p.g,Wp(this,p.s),this.l=p.l;var C=p.i,R=new jd;R.i=C.i,C.g&&(R.g=new Map(C.g),R.h=C.h),xI(this,R),this.m=p.m}else p&&(C=String(p).match(PI))?(this.h=!1,Kp(this,C[1]||"",!0),this.o=$d(C[2]||""),this.g=$d(C[3]||"",!0),Wp(this,C[4]),this.l=$d(C[5]||"",!0),xI(this,C[6]||"",!0),this.m=$d(C[7]||"")):(this.h=!1,this.i=new jd(null,this.h))}gl.prototype.toString=function(){var p=[],C=this.j;C&&p.push(Fd(C,RI,!0),":");var R=this.g;return(R||C=="file")&&(p.push("//"),(C=this.o)&&p.push(Fd(C,RI,!0),"@"),p.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&p.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&p.push("/"),p.push(Fd(R,R.charAt(0)=="/"?b4:_4,!0))),(R=this.i.toString())&&p.push("?",R),(R=this.m)&&p.push("#",Fd(R,E4)),p.join("")};function yo(p){return new gl(p)}function Kp(p,C,R){p.j=R?$d(C,!0):C,p.j&&(p.j=p.j.replace(/:$/,""))}function Wp(p,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);p.s=C}else p.s=null}function xI(p,C,R){C instanceof jd?(p.i=C,S4(p.i,p.h)):(R||(C=Fd(C,w4)),p.i=new jd(C,p.h))}function zt(p,C,R){p.i.set(C,R)}function Gp(p){return zt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function $d(p,C){return p?C?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Fd(p,C,R){return typeof p=="string"?(p=encodeURI(p).replace(C,y4),R&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function y4(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var RI=/[#\/\?@]/g,_4=/[#\?:]/g,b4=/[#\?]/g,w4=/[#\?@]/g,E4=/#/g;function jd(p,C){this.h=this.g=null,this.i=p||null,this.j=!!C}function la(p){p.g||(p.g=new Map,p.h=0,p.i&&v4(p.i,function(C,R){p.add(decodeURIComponent(C.replace(/\+/g," ")),R)}))}n=jd.prototype,n.add=function(p,C){la(this),this.i=null,p=Du(this,p);var R=this.g.get(p);return R||this.g.set(p,R=[]),R.push(C),this.h+=1,this};function AI(p,C){la(p),C=Du(p,C),p.g.has(C)&&(p.i=null,p.h-=p.g.get(C).length,p.g.delete(C))}function DI(p,C){return la(p),C=Du(p,C),p.g.has(C)}n.forEach=function(p,C){la(this),this.g.forEach(function(R,L){R.forEach(function(U){p.call(C,U,L,this)},this)},this)},n.na=function(){la(this);const p=Array.from(this.g.values()),C=Array.from(this.g.keys()),R=[];for(let L=0;L<C.length;L++){const U=p[L];for(let H=0;H<U.length;H++)R.push(C[L])}return R},n.V=function(p){la(this);let C=[];if(typeof p=="string")DI(this,p)&&(C=C.concat(this.g.get(Du(this,p))));else{p=Array.from(this.g.values());for(let R=0;R<p.length;R++)C=C.concat(p[R])}return C},n.set=function(p,C){return la(this),this.i=null,p=Du(this,p),DI(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[C]),this.h+=1,this},n.get=function(p,C){return p?(p=this.V(p),0<p.length?String(p[0]):C):C};function kI(p,C,R){AI(p,C),0<R.length&&(p.i=null,p.g.set(Du(p,C),y(R)),p.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],C=Array.from(this.g.keys());for(var R=0;R<C.length;R++){var L=C[R];const H=encodeURIComponent(String(L)),se=this.V(L);for(L=0;L<se.length;L++){var U=H;se[L]!==""&&(U+="="+encodeURIComponent(String(se[L]))),p.push(U)}}return this.i=p.join("&")};function Du(p,C){return C=String(C),p.j&&(C=C.toLowerCase()),C}function S4(p,C){C&&!p.j&&(la(p),p.i=null,p.g.forEach(function(R,L){var U=L.toLowerCase();L!=U&&(AI(this,L),kI(this,U,R))},p)),p.j=C}function C4(p,C){const R=new Me;if(a.Image){const L=new Image;L.onload=g(ua,R,"TestLoadImage: loaded",!0,C,L),L.onerror=g(ua,R,"TestLoadImage: error",!1,C,L),L.onabort=g(ua,R,"TestLoadImage: abort",!1,C,L),L.ontimeout=g(ua,R,"TestLoadImage: timeout",!1,C,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=p}else C(!1)}function T4(p,C){const R=new Me,L=new AbortController,U=setTimeout(()=>{L.abort(),ua(R,"TestPingServer: timeout",!1,C)},1e4);fetch(p,{signal:L.signal}).then(H=>{clearTimeout(U),H.ok?ua(R,"TestPingServer: ok",!0,C):ua(R,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(U),ua(R,"TestPingServer: error",!1,C)})}function ua(p,C,R,L,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),L(R)}catch{}}function I4(){this.g=new Ai}function O4(p,C,R){const L=R||"";try{OI(p,function(U,H){let se=U;u(U)&&(se=bn(U)),C.push(L+H+"="+encodeURIComponent(se))})}catch(U){throw C.push(L+"type="+encodeURIComponent("_badmap")),U}}function Yp(p){this.l=p.Ub||null,this.j=p.eb||!1}b(Yp,Ds),Yp.prototype.g=function(){return new qp(this.l,this.j)},Yp.prototype.i=function(p){return function(){return p}}({});function qp(p,C){rn.call(this),this.D=p,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(qp,rn),n=qp.prototype,n.open=function(p,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=C,this.readyState=1,Ud(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(C.body=p),(this.D||a).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vd(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ud(this)),this.g&&(this.readyState=3,Ud(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;NI(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function NI(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var C=p.value?p.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!p.done}))&&(this.response=this.responseText+=C)}p.done?Vd(this):Ud(this),this.readyState==3&&NI(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Vd(this))},n.Qa=function(p){this.g&&(this.response=p,Vd(this))},n.ga=function(){this.g&&Vd(this)};function Vd(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ud(p)}n.setRequestHeader=function(p,C){this.u.append(p,C)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],C=this.h.entries();for(var R=C.next();!R.done;)R=R.value,p.push(R[0]+": "+R[1]),R=C.next();return p.join(`\r
`)};function Ud(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(qp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function LI(p){let C="";return x(p,function(R,L){C+=L,C+=":",C+=R,C+=`\r
`}),C}function j_(p,C,R){e:{for(L in R){var L=!1;break e}L=!0}L||(R=LI(R),typeof p=="string"?R!=null&&encodeURIComponent(String(R)):zt(p,C,R))}function pn(p){rn.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(pn,rn);var P4=/^https?$/i,x4=["POST","PUT"];n=pn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,C,R,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);C=C?C.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cs.g(),this.v=this.o?Di(this.o):Di(cs),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(C,String(p),!0),this.B=!1}catch(H){MI(this,H);return}if(p=R||"",R=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var U in L)R.set(U,L[U]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const H of L.keys())R.set(H,L.get(H));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(R.keys()).find(H=>H.toLowerCase()=="content-type"),U=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(x4,C,void 0))||L||U||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of R)this.g.setRequestHeader(H,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jI(this),this.u=!0,this.g.send(p),this.u=!1}catch(H){MI(this,H)}};function MI(p,C){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=C,p.m=5,$I(p),Xp(p)}function $I(p){p.A||(p.A=!0,Mt(p,"complete"),Mt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Mt(this,"complete"),Mt(this,"abort"),Xp(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xp(this,!0)),pn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?FI(this):this.bb())},n.bb=function(){FI(this)};function FI(p){if(p.h&&typeof o<"u"&&(!p.v[1]||_o(p)!=4||p.Z()!=2)){if(p.u&&_o(p)==4)xn(p.Ea,0,p);else if(Mt(p,"readystatechange"),_o(p)==4){p.h=!1;try{const se=p.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var R;if(!(R=C)){var L;if(L=se===0){var U=String(p.D).match(PI)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),L=!P4.test(U?U.toLowerCase():"")}R=L}if(R)Mt(p,"complete"),Mt(p,"success");else{p.m=6;try{var H=2<_o(p)?p.g.statusText:""}catch{H=""}p.l=H+" ["+p.Z()+"]",$I(p)}}finally{Xp(p)}}}}function Xp(p,C){if(p.g){jI(p);const R=p.g,L=p.v[0]?()=>{}:null;p.g=null,p.v=null,C||Mt(p,"ready");try{R.onreadystatechange=L}catch{}}}function jI(p){p.I&&(a.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function _o(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<_o(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var C=this.g.responseText;return p&&C.indexOf(p)==0&&(C=C.substring(p.length)),os(C)}};function VI(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function R4(p){const C={};p=(p.g&&2<=_o(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<p.length;L++){if(E(p[L]))continue;var R=k(p[L]);const U=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const H=C[U]||[];C[U]=H,H.push(R)}I(C,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bd(p,C,R){return R&&R.internalChannelParams&&R.internalChannelParams[p]||C}function UI(p){this.Aa=0,this.i=[],this.j=new Me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bd("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bd("baseRetryDelayMs",5e3,p),this.cb=Bd("retryDelaySeedMs",1e4,p),this.Wa=Bd("forwardChannelMaxRetries",2,p),this.wa=Bd("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new EI(p&&p.concurrentRequestLimit),this.Da=new I4,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=UI.prototype,n.la=8,n.G=1,n.connect=function(p,C,R,L){Ue(0),this.W=p,this.H=C||{},R&&L!==void 0&&(this.H.OSID=R,this.H.OAID=L),this.F=this.X,this.I=XI(this,null,this.W),Zp(this)};function V_(p){if(BI(p),p.G==3){var C=p.U++,R=yo(p.I);if(zt(R,"SID",p.K),zt(R,"RID",C),zt(R,"TYPE","terminate"),Hd(p,R),C=new hr(p,p.j,C),C.L=2,C.v=Gp(yo(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(C.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=C.v,R=!0),R||(C.g=QI(C.j,null),C.g.ea(C.v)),C.F=Date.now(),zp(C)}qI(p)}function Qp(p){p.g&&(B_(p),p.g.cancel(),p.g=null)}function BI(p){Qp(p),p.u&&(a.clearTimeout(p.u),p.u=null),Jp(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function Zp(p){if(!SI(p.h)&&!p.s){p.s=!0;var C=p.Ga;ee||B(),V||(ee(),V=!0),z.add(C,p),p.B=0}}function A4(p,C){return CI(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=C.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=_e(f(p.Ga,p,C),YI(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const U=new hr(this,this.j,p);let H=this.o;if(this.S&&(H?(H=T(H),A(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var C=0,R=0;R<this.i.length;R++){t:{var L=this.i[R];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(C+=L,4096<C){C=R;break e}if(C===4096||R===this.i.length-1){C=R+1;break e}}C=1e3}else C=1e3;C=zI(this,U,C),R=yo(this.I),zt(R,"RID",p),zt(R,"CVER",22),this.D&&zt(R,"X-HTTP-Session-Id",this.D),Hd(this,R),H&&(this.O?C="headers="+encodeURIComponent(String(LI(H)))+"&"+C:this.m&&j_(R,this.m,H)),F_(this.h,U),this.Ua&&zt(R,"TYPE","init"),this.P?(zt(R,"$req",C),zt(R,"SID","null"),U.T=!0,N_(U,R,null)):N_(U,R,C),this.G=2}}else this.G==3&&(p?HI(this,p):this.i.length==0||SI(this.h)||HI(this))};function HI(p,C){var R;C?R=C.l:R=p.U++;const L=yo(p.I);zt(L,"SID",p.K),zt(L,"RID",R),zt(L,"AID",p.T),Hd(p,L),p.m&&p.o&&j_(L,p.m,p.o),R=new hr(p,p.j,R,p.B+1),p.m===null&&(R.H=p.o),C&&(p.i=C.D.concat(p.i)),C=zI(p,R,1e3),R.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),F_(p.h,R),N_(R,L,C)}function Hd(p,C){p.H&&x(p.H,function(R,L){zt(C,L,R)}),p.l&&OI({},function(R,L){zt(C,L,R)})}function zI(p,C,R){R=Math.min(p.i.length,R);var L=p.l?f(p.l.Na,p.l,p):null;e:{var U=p.i;let H=-1;for(;;){const se=["count="+R];H==-1?0<R?(H=U[0].g,se.push("ofs="+H)):H=0:se.push("ofs="+H);let Nt=!0;for(let Jn=0;Jn<R;Jn++){let it=U[Jn].g;const fr=U[Jn].map;if(it-=H,0>it)H=Math.max(0,U[Jn].g-100),Nt=!1;else try{O4(fr,se,"req"+it+"_")}catch{L&&L(fr)}}if(Nt){L=se.join("&");break e}}}return p=p.i.splice(0,R),C.D=p,L}function KI(p){if(!p.g&&!p.u){p.Y=1;var C=p.Fa;ee||B(),V||(ee(),V=!0),z.add(C,p),p.v=0}}function U_(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=_e(f(p.Fa,p),YI(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,WI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=_e(f(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ue(10),Qp(this),WI(this))};function B_(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function WI(p){p.g=new hr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var C=yo(p.qa);zt(C,"RID","rpc"),zt(C,"SID",p.K),zt(C,"AID",p.T),zt(C,"CI",p.F?"0":"1"),!p.F&&p.ja&&zt(C,"TO",p.ja),zt(C,"TYPE","xmlhttp"),Hd(p,C),p.m&&p.o&&j_(C,p.m,p.o),p.L&&(p.g.I=p.L);var R=p.g;p=p.ia,R.L=1,R.v=Gp(yo(C)),R.m=null,R.P=!0,_I(R,p)}n.Za=function(){this.C!=null&&(this.C=null,Qp(this),U_(this),Ue(19))};function Jp(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function GI(p,C){var R=null;if(p.g==C){Jp(p),B_(p),p.g=null;var L=2}else if($_(p.h,C))R=C.D,TI(p.h,C),L=1;else return;if(p.G!=0){if(C.o)if(L==1){R=C.m?C.m.length:0,C=Date.now()-C.F;var U=p.B;L=Bt(),Mt(L,new us(L,R)),Zp(p)}else KI(p);else if(U=C.s,U==3||U==0&&0<C.X||!(L==1&&A4(p,C)||L==2&&U_(p)))switch(R&&0<R.length&&(C=p.h,C.i=C.i.concat(R)),U){case 1:ml(p,5);break;case 4:ml(p,10);break;case 3:ml(p,6);break;default:ml(p,2)}}}function YI(p,C){let R=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(R*=2),R*C}function ml(p,C){if(p.j.info("Error code "+C),C==2){var R=f(p.fb,p),L=p.Xa;const U=!L;L=new gl(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Kp(L,"https"),Gp(L),U?C4(L.toString(),R):T4(L.toString(),R)}else Ue(2);p.G=0,p.l&&p.l.sa(C),qI(p),BI(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function qI(p){if(p.G=0,p.ka=[],p.l){const C=II(p.h);(C.length!=0||p.i.length!=0)&&(_(p.ka,C),_(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function XI(p,C,R){var L=R instanceof gl?yo(R):new gl(R);if(L.g!="")C&&(L.g=C+"."+L.g),Wp(L,L.s);else{var U=a.location;L=U.protocol,C=C?C+"."+U.hostname:U.hostname,U=+U.port;var H=new gl(null);L&&Kp(H,L),C&&(H.g=C),U&&Wp(H,U),R&&(H.l=R),L=H}return R=p.D,C=p.ya,R&&C&&zt(L,R,C),zt(L,"VER",p.la),Hd(p,L),L}function QI(p,C,R){if(C&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=p.Ca&&!p.pa?new pn(new Yp({eb:R})):new pn(p.pa),C.Ha(p.J),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZI(){}n=ZI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eg(){}eg.prototype.g=function(p,C){return new ds(p,C)};function ds(p,C){rn.call(this),this.g=new UI(C),this.l=p,this.h=C&&C.messageUrlParams||null,p=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(p?p["X-WebChannel-Content-Type"]=C.messageContentType:p={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(p?p["X-WebChannel-Client-Profile"]=C.va:p={"X-WebChannel-Client-Profile":C.va}),this.g.S=p,(p=C&&C.Sb)&&!E(p)&&(this.g.m=p),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!E(C)&&(this.g.D=C,p=this.h,p!==null&&C in p&&(p=this.h,C in p&&delete p[C])),this.j=new ku(this)}b(ds,rn),ds.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ds.prototype.close=function(){V_(this.g)},ds.prototype.o=function(p){var C=this.g;if(typeof p=="string"){var R={};R.__data__=p,p=R}else this.u&&(R={},R.__data__=bn(p),p=R);C.i.push(new p4(C.Ya++,p)),C.G==3&&Zp(C)},ds.prototype.N=function(){this.g.l=null,delete this.j,V_(this.g),delete this.g,ds.aa.N.call(this)};function JI(p){bt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var C=p.__sm__;if(C){e:{for(const R in C){p=R;break e}p=void 0}(this.i=p)&&(p=this.i,C=C!==null&&p in C?C[p]:void 0),this.data=C}else this.data=p}b(JI,bt);function eO(){Xt.call(this),this.status=1}b(eO,Xt);function ku(p){this.g=p}b(ku,ZI),ku.prototype.ua=function(){Mt(this.g,"a")},ku.prototype.ta=function(p){Mt(this.g,new JI(p))},ku.prototype.sa=function(p){Mt(this.g,new eO)},ku.prototype.ra=function(){Mt(this.g,"b")},eg.prototype.createWebChannel=eg.prototype.g,ds.prototype.send=ds.prototype.o,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,LV=function(){return new eg},NV=function(){return Bt()},kV=mt,_S={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,Em=oa,Ns.COMPLETE="complete",DV=Ns,as.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",rn.prototype.listen=rn.prototype.K,Sh=as,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,AV=pn}).apply(typeof Vg<"u"?Vg:typeof self<"u"?self:typeof window<"u"?window:{});const iD="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new wT("@firebase/firestore");function ah(){return cu.logLevel}function pe(n,...e){if(cu.logLevel<=Xe.DEBUG){const t=e.map(kT);cu.debug(`Firestore (${Rd}): ${n}`,...t)}}function Jo(n,...e){if(cu.logLevel<=Xe.ERROR){const t=e.map(kT);cu.error(`Firestore (${Rd}): ${n}`,...t)}}function Jc(n,...e){if(cu.logLevel<=Xe.WARN){const t=e.map(kT);cu.warn(`Firestore (${Rd}): ${n}`,...t)}}function kT(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Rd}) INTERNAL ASSERTION FAILED: `+n;throw Jo(e),new Error(e)}function It(n,e){n||Te()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ra{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wr.UNAUTHENTICATED))}shutdown(){}}class pEe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gEe{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){It(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jo,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jo)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string"),new MV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string"),new wr(e)}}class mEe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vEe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new mEe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yEe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _Ee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){It(this.o===void 0);const r=i=>{i.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It(typeof t.token=="string"),this.R=t.token,new yEe(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bEe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=bEe(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function ut(n,e){return n<e?-1:n>e?1:0}function ed(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Vn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Vn(0,0))}static max(){return new Oe(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(),r===void 0?r=e.length-t:r>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ff.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ff?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),o=t.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gt extends Ff{construct(e,t,r){return new Gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const wEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Ff{construct(e,t,r){return new rr(e,t,r)}static isValidIdentifier(e){return wEe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(t)}static emptyPath(){return new rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Gt.fromString(e))}static fromName(e){return new ve(Gt.fromString(e).popFirst(5))}static empty(){return new ve(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Gt(e.slice()))}}function EEe(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(r===1e9?new Vn(t+1,0):new Vn(t,r));return new el(s,ve.empty(),e)}function SEe(n){return new el(n.readTime,n.key,-1)}class el{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new el(Oe.min(),ve.empty(),-1)}static max(){return new el(Oe.max(),ve.empty(),-1)}}function CEe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:ut(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TEe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IEe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==TEe)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&t()},l=>r(l))}),o=!0,i===s&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(s=>s?X.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new X((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;t(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,t){return new X((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function OEe(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fp(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}NT.oe=-1;function m_(n){return n==null}function Vv(n){return n===0&&1/n==-1/0}function PEe(n){return typeof n=="number"&&Number.isInteger(n)&&!Vv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t){this.comparator=e,this.root=t||tr.EMPTY}insert(e,t){return new hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ug(this.root,e,this.comparator,!0)}}class Ug{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tr{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??tr.RED,this.left=s??tr.EMPTY,this.right=i??tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new tr(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return tr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,r,s,i){return this}insert(e,t,r){return new tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aD(this.data.getIterator())}getIteratorFrom(e){return new aD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ir(this.comparator);return t.data=e,t}}class aD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new bs([])}unionWith(e){let t=new ir(rr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new bs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jV("Invalid base64 string: "+i):i}}(e);return new ar(t)}static fromUint8Array(e){const t=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const xEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(n){if(It(!!n),typeof n=="string"){let e=0;const t=xEe.exec(n);if(It(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(n.seconds),nanos:En(n.nanos)}}function En(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function du(n){return typeof n=="string"?ar.fromBase64String(n):ar.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function MT(n){const e=n.mapValue.fields.__previous_value__;return LT(e)?MT(e):e}function jf(n){const e=tl(n.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class REe{constructor(e,t,r,s,i,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Vf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?LT(n)?4:DEe(n)?9007199254740991:AEe(n)?10:11:Te()}function co(n,e){if(n===e)return!0;const t=hu(n);if(t!==hu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jf(n).isEqual(jf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=tl(s.timestampValue),a=tl(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return du(s.bytesValue).isEqual(du(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return En(s.geoPointValue.latitude)===En(i.geoPointValue.latitude)&&En(s.geoPointValue.longitude)===En(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return En(s.integerValue)===En(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=En(s.doubleValue),a=En(i.doubleValue);return o===a?Vv(o)===Vv(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return ed(n.arrayValue.values||[],e.arrayValue.values||[],co);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(oD(o)!==oD(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!co(o[l],a[l])))return!1;return!0}(n,e);default:return Te()}}function Uf(n,e){return(n.values||[]).find(t=>co(t,e))!==void 0}function td(n,e){if(n===e)return 0;const t=hu(n),r=hu(e);if(t!==r)return ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ut(n.booleanValue,e.booleanValue);case 2:return function(i,o){const a=En(i.integerValue||i.doubleValue),l=En(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return lD(n.timestampValue,e.timestampValue);case 4:return lD(jf(n),jf(e));case 5:return ut(n.stringValue,e.stringValue);case 6:return function(i,o){const a=du(i),l=du(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ut(a[u],l[u]);if(d!==0)return d}return ut(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ut(En(i.latitude),En(o.latitude));return a!==0?a:ut(En(i.longitude),En(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return uD(n.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const h=i.fields||{},f=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,b=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=ut(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:uD(g,b)}(n.mapValue,e.mapValue);case 11:return function(i,o){if(i===Bg.mapValue&&o===Bg.mapValue)return 0;if(i===Bg.mapValue)return 1;if(o===Bg.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ut(l[h],d[h]);if(f!==0)return f;const g=td(a[l[h]],u[d[h]]);if(g!==0)return g}return ut(l.length,d.length)}(n.mapValue,e.mapValue);default:throw Te()}}function lD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ut(n,e);const t=tl(n),r=tl(e),s=ut(t.seconds,r.seconds);return s!==0?s:ut(t.nanos,r.nanos)}function uD(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=td(t[s],r[s]);if(i)return i}return ut(t.length,r.length)}function nd(n){return bS(n)}function bS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=tl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return du(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=bS(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${bS(t.fields[o])}`;return s+"}"}(n.mapValue):Te()}function cD(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wS(n){return!!n&&"integerValue"in n}function $T(n){return!!n&&"arrayValue"in n}function dD(n){return!!n&&"nullValue"in n}function hD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sm(n){return!!n&&"mapValue"in n}function AEe(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Wh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DEe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wh(t)}setAll(e){let t=rr.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=a.popLast()}o?r[a.lastSegment()]=Wh(o):s.push(a.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Sm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return co(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Sm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){xu(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new qr(Wh(this.value))}}function VV(n){const e=[];return xu(n.fields,(t,r)=>{const s=new rr([t]);if(Sm(r)){const i=VV(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new bs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,t,r,s,i,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Sr(e,0,Oe.min(),Oe.min(),Oe.min(),qr.empty(),0)}static newFoundDocument(e,t,r,s){return new Sr(e,1,t,Oe.min(),r,s,0)}static newNoDocument(e,t){return new Sr(e,2,t,Oe.min(),Oe.min(),qr.empty(),0)}static newUnknownDocument(e,t){return new Sr(e,3,t,Oe.min(),Oe.min(),qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,t){this.position=e,this.inclusive=t}}function fD(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),t.key):r=td(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function pD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!co(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t="asc"){this.field=e,this.dir=t}}function kEe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{}class kn extends UV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new LEe(e,t,r):t==="array-contains"?new FEe(e,r):t==="in"?new jEe(e,r):t==="not-in"?new VEe(e,r):t==="array-contains-any"?new UEe(e,r):new kn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new MEe(e,r):new $Ee(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(td(t,this.value)):t!==null&&hu(this.value)===hu(t)&&this.matchesComparison(td(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends UV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ti(e,t)}matches(e){return BV(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BV(n){return n.op==="and"}function HV(n){return NEe(n)&&BV(n)}function NEe(n){for(const e of n.filters)if(e instanceof Ti)return!1;return!0}function ES(n){if(n instanceof kn)return n.field.canonicalString()+n.op.toString()+nd(n.value);if(HV(n))return n.filters.map(e=>ES(e)).join(",");{const e=n.filters.map(t=>ES(t)).join(",");return`${n.op}(${e})`}}function zV(n,e){return n instanceof kn?function(r,s){return s instanceof kn&&r.op===s.op&&r.field.isEqual(s.field)&&co(r.value,s.value)}(n,e):n instanceof Ti?function(r,s){return s instanceof Ti&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&zV(o,s.filters[a]),!0):!1}(n,e):void Te()}function KV(n){return n instanceof kn?function(t){return`${t.field.canonicalString()} ${t.op} ${nd(t.value)}`}(n):n instanceof Ti?function(t){return t.op.toString()+" {"+t.getFilters().map(KV).join(" ,")+"}"}(n):"Filter"}class LEe extends kn{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class MEe extends kn{constructor(e,t){super(e,"in",t),this.keys=WV("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $Ee extends kn{constructor(e,t){super(e,"not-in",t),this.keys=WV("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function WV(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class FEe extends kn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $T(t)&&Uf(t.arrayValue,this.value)}}class jEe extends kn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Uf(this.value.arrayValue,t)}}class VEe extends kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Uf(this.value.arrayValue,t)}}class UEe extends kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$T(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Uf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BEe{constructor(e,t=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function gD(n,e=null,t=[],r=[],s=null,i=null,o=null){return new BEe(n,e,t,r,s,i,o)}function FT(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ES(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),m_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>nd(r)).join(",")),e.ue=t}return e.ue}function jT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kEe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pD(n.startAt,e.startAt)&&pD(n.endAt,e.endAt)}function SS(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HEe(n,e,t,r,s,i,o,a){return new Ad(n,e,t,r,s,i,o,a)}function VT(n){return new Ad(n)}function mD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GV(n){return n.collectionGroup!==null}function Gh(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ir(rr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Bf(i,r))}),t.has(rr.keyField().canonicalString())||e.ce.push(new Bf(rr.keyField(),r))}return e.ce}function oo(n){const e=Pe(n);return e.le||(e.le=zEe(e,Gh(n))),e.le}function zEe(n,e){if(n.limitType==="F")return gD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bf(s.field,i)});const t=n.endAt?new Uv(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Uv(n.startAt.position,n.startAt.inclusive):null;return gD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function CS(n,e){const t=n.filters.concat([e]);return new Ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function TS(n,e,t){return new Ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function v_(n,e){return jT(oo(n),oo(e))&&n.limitType===e.limitType}function YV(n){return`${FT(oo(n))}|lt:${n.limitType}`}function Xu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>KV(s)).join(", ")}]`),m_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>nd(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>nd(s)).join(",")),`Target(${r})`}(oo(n))}; limitType=${n.limitType})`}function y_(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ve.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of Gh(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=fD(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Gh(r),s)||r.endAt&&!function(o,a,l){const u=fD(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Gh(r),s))}(n,e)}function KEe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qV(n){return(e,t)=>{let r=!1;for(const s of Gh(n)){const i=WEe(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function WEe(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?td(l,u):Te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xu(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return FV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GEe=new hn(ve.comparator);function ea(){return GEe}const XV=new hn(ve.comparator);function Ch(...n){let e=XV;for(const t of n)e=e.insert(t.key,t);return e}function QV(n){let e=XV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $l(){return Yh()}function ZV(){return Yh()}function Yh(){return new Dd(n=>n.toString(),(n,e)=>n.isEqual(e))}const YEe=new hn(ve.comparator),qEe=new ir(ve.comparator);function Be(...n){let e=qEe;for(const t of n)e=e.add(t);return e}const XEe=new ir(ut);function QEe(){return XEe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vv(e)?"-0":e}}function JV(n){return{integerValue:""+n}}function ZEe(n,e){return PEe(e)?JV(e):UT(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this._=void 0}}function JEe(n,e,t){return n instanceof Hf?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&LT(i)&&(i=MT(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof zf?t3(n,e):n instanceof Kf?n3(n,e):function(s,i){const o=e3(s,i),a=vD(o)+vD(s.Pe);return wS(o)&&wS(s.Pe)?JV(a):UT(s.serializer,a)}(n,e)}function eSe(n,e,t){return n instanceof zf?t3(n,e):n instanceof Kf?n3(n,e):t}function e3(n,e){return n instanceof Bv?function(r){return wS(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Hf extends __{}class zf extends __{constructor(e){super(),this.elements=e}}function t3(n,e){const t=r3(e);for(const r of n.elements)t.some(s=>co(s,r))||t.push(r);return{arrayValue:{values:t}}}class Kf extends __{constructor(e){super(),this.elements=e}}function n3(n,e){let t=r3(e);for(const r of n.elements)t=t.filter(s=>!co(s,r));return{arrayValue:{values:t}}}class Bv extends __{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function vD(n){return En(n.integerValue||n.doubleValue)}function r3(n){return $T(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tSe{constructor(e,t){this.field=e,this.transform=t}}function nSe(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof zf&&s instanceof zf||r instanceof Kf&&s instanceof Kf?ed(r.elements,s.elements,co):r instanceof Bv&&s instanceof Bv?co(r.Pe,s.Pe):r instanceof Hf&&s instanceof Hf}(n.transform,e.transform)}class rSe{constructor(e,t){this.version=e,this.transformResults=t}}class yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class b_{}function s3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new BT(n.key,yi.none()):new jp(n.key,n.data,yi.none());{const t=n.data,r=qr.empty();let s=new ir(rr.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new fl(n.key,r,new bs(s.toArray()),yi.none())}}function sSe(n,e,t){n instanceof jp?function(s,i,o){const a=s.value.clone(),l=_D(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof fl?function(s,i,o){if(!Cm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=_D(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(i3(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function qh(n,e,t,r){return n instanceof jp?function(i,o,a,l){if(!Cm(i.precondition,o))return a;const u=i.value.clone(),d=bD(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof fl?function(i,o,a,l){if(!Cm(i.precondition,o))return a;const u=bD(i.fieldTransforms,l,o),d=o.data;return d.setAll(i3(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(i,o,a){return Cm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function iSe(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=e3(r.transform,s||null);i!=null&&(t===null&&(t=qr.empty()),t.set(r.field,i))}return t||null}function yD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ed(r,s,(i,o)=>nSe(i,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jp extends b_{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fl extends b_{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function i3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _D(n,e,t){const r=new Map;It(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,eSe(o,a,t[s]))}return r}function bD(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,JEe(i,o,e))}return r}class BT extends b_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oSe extends b_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aSe{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&sSe(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=qh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=qh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZV();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(s.key)?null:a;const l=s3(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,(t,r)=>yD(t,r))&&ed(this.baseMutations,e.baseMutations,(t,r)=>yD(t,r))}}class HT{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){It(e.mutations.length===r.length);let s=function(){return YEe}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new HT(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lSe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uSe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,Qe;function cSe(n){switch(n){default:return Te();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function o3(n){if(n===void 0)return Jo("GRPC error has no .code"),Y.UNKNOWN;switch(n){case Rn.OK:return Y.OK;case Rn.CANCELLED:return Y.CANCELLED;case Rn.UNKNOWN:return Y.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return Y.INTERNAL;case Rn.UNAVAILABLE:return Y.UNAVAILABLE;case Rn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Rn.NOT_FOUND:return Y.NOT_FOUND;case Rn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Rn.ABORTED:return Y.ABORTED;case Rn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Rn.DATA_LOSS:return Y.DATA_LOSS;default:return Te()}}(Qe=Rn||(Rn={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dSe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hSe=new Wl([4294967295,4294967295],0);function wD(n){const e=dSe().encode(n),t=new RV;return t.update(e),new Uint8Array(t.digest())}function ED(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Wl([t,r],0),new Wl([s,i],0)]}class zT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Th(`Invalid padding: ${t}`);if(r<0)throw new Th(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Th(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Th(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wl.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(Wl.fromNumber(r)));return s.compare(hSe)===1&&(s=new Wl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=wD(e),[r,s]=ED(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zT(i,s,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=wD(e),[r,s]=ED(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Th extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Vp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new w_(Oe.min(),s,new hn(ut),ea(),Be())}}class Vp{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vp(r,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class a3{constructor(e,t){this.targetId=e,this.me=t}}class l3{constructor(e,t,r=ar.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class SD{constructor(){this.fe=0,this.ge=TD(),this.pe=ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),t=Be(),r=Be();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te()}}),new Vp(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=TD()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,It(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fSe{constructor(e){this.Le=e,this.Be=new Map,this.ke=ea(),this.qe=CD(),this.Qe=new hn(ut)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const i=s.target;if(SS(i))if(r===0){const o=new ve(i.path);this.Ue(t,o,Sr.newNoDocument(o,Oe.min()))}else It(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,a;try{o=du(r).toUint8Array()}catch(l){if(l instanceof jV)return Jc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zT(o,s,i)}catch(l){return Jc(l instanceof Th?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,i,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&SS(a.target)){const l=new ve(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Sr.newNoDocument(l,e))}i.be&&(t.set(o,i.ve()),i.Ce())}});let r=Be();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new w_(e,t,this.Qe,this.ke,r);return this.ke=ea(),this.qe=CD(),this.Qe=new hn(ut),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new SD,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ir(ut),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new SD),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function CD(){return new hn(ve.comparator)}function TD(){return new hn(ve.comparator)}const pSe={asc:"ASCENDING",desc:"DESCENDING"},gSe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mSe={and:"AND",or:"OR"};class vSe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function IS(n,e){return n.useProto3Json||m_(e)?e:{value:e}}function Hv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ySe(n,e){return Hv(n,e.toTimestamp())}function ao(n){return It(!!n),Oe.fromTimestamp(function(t){const r=tl(t);return new Vn(r.seconds,r.nanos)}(n))}function KT(n,e){return OS(n,e).canonicalString()}function OS(n,e){const t=function(s){return new Gt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function c3(n){const e=Gt.fromString(n);return It(g3(e)),e}function PS(n,e){return KT(n.databaseId,e.path)}function T0(n,e){const t=c3(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(h3(t))}function d3(n,e){return KT(n.databaseId,e)}function _Se(n){const e=c3(n);return e.length===4?Gt.emptyPath():h3(e)}function xS(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h3(n){return It(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ID(n,e,t){return{name:PS(n,e),fields:t.value.mapValue.fields}}function bSe(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(It(d===void 0||typeof d=="string"),ar.fromBase64String(d||"")):(It(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ar.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?Y.UNKNOWN:o3(u.code);return new ce(d,u.message||"")}(o);t=new l3(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=T0(n,r.document.name),i=ao(r.document.updateTime),o=r.document.createTime?ao(r.document.createTime):Oe.min(),a=new qr({mapValue:{fields:r.document.fields}}),l=Sr.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Tm(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=T0(n,r.document),i=r.readTime?ao(r.readTime):Oe.min(),o=Sr.newNoDocument(s,i),a=r.removedTargetIds||[];t=new Tm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=T0(n,r.document),i=r.removedTargetIds||[];t=new Tm([],i,s,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new uSe(s,i),a=r.targetId;t=new a3(a,o)}}return t}function wSe(n,e){let t;if(e instanceof jp)t={update:ID(n,e.key,e.value)};else if(e instanceof BT)t={delete:PS(n,e.key)};else if(e instanceof fl)t={update:ID(n,e.key,e.data),updateMask:RSe(e.fieldMask)};else{if(!(e instanceof oSe))return Te();t={verify:PS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Hf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bv)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ySe(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Te()}(n,e.precondition)),t}function ESe(n,e){return n&&n.length>0?(It(e!==void 0),n.map(t=>function(s,i){let o=s.updateTime?ao(s.updateTime):ao(i);return o.isEqual(Oe.min())&&(o=ao(i)),new rSe(o,s.transformResults||[])}(t,e))):[]}function SSe(n,e){return{documents:[d3(n,e.path)]}}function CSe(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=d3(n,s);const i=function(u){if(u.length!==0)return p3(Ti.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Qu(f.field),direction:OSe(f.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=IS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:s}}function TSe(n){let e=_Se(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){It(r===1);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];t.where&&(i=function(h){const f=f3(h);return f instanceof Ti&&HV(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(b){return new Bf(Zu(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,m_(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new Uv(g,f)}(t.startAt));let u=null;return t.endAt&&(u=function(h){const f=!h.before,g=h.values||[];return new Uv(g,f)}(t.endAt)),HEe(e,s,o,i,a,"F",l,u)}function ISe(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function f3(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zu(t.unaryFilter.field);return kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zu(t.unaryFilter.field);return kn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zu(t.unaryFilter.field);return kn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zu(t.unaryFilter.field);return kn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return kn.create(Zu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ti.create(t.compositeFilter.filters.map(r=>f3(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function OSe(n){return pSe[n]}function PSe(n){return gSe[n]}function xSe(n){return mSe[n]}function Qu(n){return{fieldPath:n.canonicalString()}}function Zu(n){return rr.fromServerFormat(n.fieldPath)}function p3(n){return n instanceof kn?function(t){if(t.op==="=="){if(hD(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NAN"}};if(dD(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hD(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NAN"}};if(dD(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qu(t.field),op:PSe(t.op),value:t.value}}}(n):n instanceof Ti?function(t){const r=t.getFilters().map(s=>p3(s));return r.length===1?r[0]:{compositeFilter:{op:xSe(t.op),filters:r}}}(n):Te()}function RSe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function g3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t,r,s,i=Oe.min(),o=Oe.min(),a=ar.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ASe{constructor(e){this.ct=e}}function DSe(n){const e=TSe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?TS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kSe{constructor(){this.un=new NSe}addToCollectionParentIndex(e,t){return this.un.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(el.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(el.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class NSe{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new ir(Gt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ir(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new rd(0)}static kn(){return new rd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LSe{constructor(){this.changes=new Dd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MSe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Se{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&qh(r.mutation,s,bs.empty(),Vn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Be()){const s=$l();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let o=Ch();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=$l();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Be()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,s){let i=ea();const o=Yh(),a=function(){return Yh()}();return t.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof fl)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),qh(d.mutation,u,d.mutation.getFieldMask(),Vn.now())):o.set(u.key,bs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var h;return a.set(u,new MSe(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Yh();let s=new hn((o,a)=>o-a),i=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let d=r.get(l)||bs.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Be()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=ZV();d.forEach(f=>{if(!i.has(f)){const g=s3(t.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):X.resolve($l());let a=-1,l=i;return o.next(u=>X.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?X.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Be())).next(d=>({batchId:a,changes:QV(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let s=Ch();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Ch();return this.indexManager.getCollectionParents(e,i).next(a=>X.forEach(a,l=>{const u=function(h,f){return new Ad(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Sr.newInvalidDocument(d)))});let a=Ch();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&qh(d.mutation,u,bs.empty(),Vn.now()),y_(t,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FSe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return X.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ao(s.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:DSe(s.bundledQuery),readTime:ao(s.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jSe{constructor(){this.overlays=new hn(ve.comparator),this.Ir=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$l();return X.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.ht(e,t,i)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const s=$l(),i=t.length+1,o=new ve(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new hn((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=$l(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=$l(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return X.resolve(a)}ht(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lSe(t,r));let i=this.Ir.get(t);i===void 0&&(i=Be(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VSe{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.Tr=new ir(Kn.Er),this.dr=new ir(Kn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Kn(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Kn(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new ve(new Gt([])),r=new Kn(t,e),s=new Kn(t,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ve(new Gt([])),r=new Kn(t,e),s=new Kn(t,e+1);let i=Be();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new Kn(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ve.comparator(e.key,t.key)||ut(e.wr,t.wr)}static Ar(e,t){return ut(e.wr,t.wr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class USe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ir(Kn.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aSe(i,t,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Kn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,t){return X.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.vr(r),i=s<0?0:s;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kn(t,0),s=new Kn(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ir(ut);return t.forEach(s=>{const i=new Kn(s,0),o=new Kn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;ve.isDocumentKey(i)||(i=i.child(""));const o=new Kn(new ve(i),0);let a=new ir(ut);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),X.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){It(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(t.mutations,s=>{const i=new Kn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Kn(t,0),s=this.br.firstAfterOrEqual(r);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BSe{constructor(e){this.Mr=e,this.docs=function(){return new hn(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Sr.newInvalidDocument(t))}getEntries(e,t){let r=ea();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Sr.newInvalidDocument(s))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=ea();const o=t.path,a=new ve(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||CEe(SEe(d),r)<=0||(s.has(d.key)||y_(t,d))&&(i=i.insert(d.key,d.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Te()}Or(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HSe(this)}getSize(e){return X.resolve(this.size)}}class HSe extends LSe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zSe{constructor(e){this.persistence=e,this.Nr=new Dd(t=>FT(t),jT),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new WT,this.targetCount=0,this.kr=rd.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,s)=>t(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),X.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new rd(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Kn(t),X.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),X.waitFor(i).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),X.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KSe{constructor(e,t){this.qr={},this.overlays={},this.Qr=new NT(0),this.Kr=!1,this.Kr=!0,this.$r=new VSe,this.referenceDelegate=e(this),this.Ur=new zSe(this),this.indexManager=new kSe,this.remoteDocumentCache=function(s){return new BSe(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ASe(t),this.Gr=new FSe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jSe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new USe(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const s=new WSe(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,t){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class WSe extends IEe{constructor(e){super(),this.currentSequenceNumber=e}}class GT{constructor(e){this.persistence=e,this.Jr=new WT,this.Yr=null}static Zr(e){return new GT(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),X.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const s=ve.fromPath(r);return this.ei(e,s).next(i=>{i||t.removeEntry(s,Oe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return X.or([()=>X.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=s}static Wi(e,t){let r=Be(),s=Be();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new YT(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GSe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YSe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return x_e()?8:OEe(Rr())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.Yi(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,t,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new GSe;return this.Xi(e,t,o).next(a=>{if(i.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>i.result)}es(e,t,r,s){return r.documentReadCount<this.ji?(ah()<=Xe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Xu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(ah()<=Xe.DEBUG&&pe("QueryEngine","Query:",Xu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ah()<=Xe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Xu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oo(t))):X.resolve())}Yi(e,t){if(mD(t))return X.resolve(null);let r=oo(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=TS(t,null,"F"),r=oo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Be(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(t,a);return this.ns(t,u,o,l.readTime)?this.Yi(e,TS(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,r,s){return mD(t)||s.isEqual(Oe.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(t,i);return this.ns(t,o,r,s)?X.resolve(null):(ah()<=Xe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xu(t)),this.rs(e,o,t,EEe(s,-1)).next(a=>a))})}ts(e,t){let r=new ir(qV(e));return t.forEach((s,i)=>{y_(e,i)&&(r=r.add(i))}),r}ns(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,t,r){return ah()<=Xe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Xu(t)),this.Ji.getDocumentsMatchingQuery(e,t,el.min(),r)}rs(e,t,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qSe{constructor(e,t,r,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new hn(ut),this._s=new Dd(i=>FT(i),jT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $Se(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function XSe(n,e,t,r){return new qSe(n,e,t,r)}async function m3(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Be();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function QSe(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let g=X.resolve();return f.forEach(b=>{g=g.next(()=>d.getEntry(l,b)).next(y=>{const _=u.docVersions.get(b);It(_!==null),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function v3(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function ZSe(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(t.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(i,d.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(ar.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(y,_,v){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,g,d)&&a.push(t.Ur.updateTargetData(i,g))});let l=ea(),u=Be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(JSe(i,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(Oe.min())){const d=t.Ur.getLastRemoteSnapshotVersion(i).next(h=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return X.waitFor(a).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(t.os=s,i))}function JSe(n,e,t){let r=Be(),s=Be();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=ea();return t.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):pe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function e1e(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t1e(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ur.getTargetData(r,e).next(i=>i?(s=i,X.resolve(s)):t.Ur.allocateTargetId(r).next(o=>(s=new La(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function RS(n,e,t){const r=Pe(n),s=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Fp(o))throw o;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function OD(n,e,t){const r=Pe(n);let s=Oe.min(),i=Be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Pe(l),f=h._s.get(d);return f!==void 0?X.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,oo(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?s:Oe.min(),t?i:Be())).next(a=>(n1e(r,KEe(e),a),{documents:a,Ts:i})))}function n1e(n,e,t){let r=n.us.get(e)||Oe.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}class PD{constructor(){this.activeTargetIds=QEe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r1e{constructor(){this.so=new PD,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new PD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1e{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg=null;function I0(){return Hg===null?Hg=function(){return 268435456+Math.round(2147483648*Math.random())}():Hg++,"0x"+Hg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1e{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="WebChannelConnection";class a1e extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(t,r,s,i,o){const a=I0(),l=this.xo(t,r.toUriEncodedString());pe("RestConnection",`Sending RPC '${t}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(t,l,u,s).then(d=>(pe("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Jc("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(t,r,s,i,o,a){return this.Mo(t,r,s,i,o)}Oo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),s&&s.headers.forEach((i,o)=>t[o]=i)}xo(t,r){const s=i1e[t];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,s){const i=I0();return new Promise((o,a)=>{const l=new AV;l.setWithCredentials(!0),l.listenOnce(DV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Em.NO_ERROR:const d=l.getResponseJson();pe(yr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Em.TIMEOUT:pe(yr,`RPC '${e}' ${i} timed out`),a(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Em.HTTP_ERROR:const h=l.getStatus();if(pe(yr,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const b=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(v)>=0?v:Y.UNKNOWN}(g.status);a(new ce(b,g.message))}else a(new ce(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{pe(yr,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);pe(yr,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",u,r,15)})}Bo(e,t,r){const s=I0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LV(),a=NV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=i.join("");pe(yr,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,g=!1;const b=new o1e({Io:_=>{g?pe(yr,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(f||(pe(yr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),pe(yr,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},To:()=>h.close()}),y=(_,v,E)=>{_.listen(v,w=>{try{E(w)}catch(S){setTimeout(()=>{throw S},0)}})};return y(h,Sh.EventType.OPEN,()=>{g||(pe(yr,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),y(h,Sh.EventType.CLOSE,()=>{g||(g=!0,pe(yr,`RPC '${e}' stream ${s} transport closed`),b.So())}),y(h,Sh.EventType.ERROR,_=>{g||(g=!0,Jc(yr,`RPC '${e}' stream ${s} transport errored:`,_),b.So(new ce(Y.UNAVAILABLE,"The operation could not be completed")))}),y(h,Sh.EventType.MESSAGE,_=>{var v;if(!g){const E=_.data[0];It(!!E);const w=E,S=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(S){pe(yr,`RPC '${e}' stream ${s} received error:`,S);const O=S.status;let x=function(P){const A=Rn[P];if(A!==void 0)return o3(A)}(O),I=S.message;x===void 0&&(x=Y.INTERNAL,I="Unknown error status: "+O+" with message "+S.message),g=!0,b.So(new ce(x,I)),h.close()}else pe(yr,`RPC '${e}' stream ${s} received:`,E),b.bo(E)}}),y(a,kV.STAT_EVENT,_=>{_.stat===_S.PROXY?pe(yr,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===_S.NOPROXY&&pe(yr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function O0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(n){return new vSe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,t,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new y3(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Jo(t.toString()),Jo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===t&&this.P_(r,s)},r=>{e(()=>{const s=new ce(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l1e extends _3{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=bSe(this.serializer,e),r=function(i){if(!("targetChange"in i))return Oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?ao(o.readTime):Oe.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=xS(this.serializer),t.addTarget=function(i,o){let a;const l=o.target;if(a=SS(l)?{documents:SSe(i,l)}:{query:CSe(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=u3(i,o.resumeToken);const u=IS(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Oe.min())>0){a.readTime=Hv(i,o.snapshotVersion.toTimestamp());const u=IS(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=ISe(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=xS(this.serializer),t.removeTarget=e,this.a_(t)}}class u1e extends _3{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return It(!!e.streamToken),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=ESe(e.writeResults,e.commitTime),r=ao(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=xS(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wSe(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1e extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,OS(t,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(Y.UNKNOWN,i.toString())})}Lo(e,t,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,OS(t,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class d1e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jo(t),this.D_=!1):pe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1e{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ru(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Pe(l);u.L_.add(4),await Up(u),u.q_.set("Unknown"),u.L_.delete(4),await S_(u)}(this))})}),this.q_=new d1e(r,s)}}async function S_(n){if(Ru(n))for(const e of n.B_)await e(!0)}async function Up(n){for(const e of n.B_)await e(!1)}function b3(n,e){const t=Pe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),ZT(t)?QT(t):kd(t).r_()&&XT(t,e))}function qT(n,e){const t=Pe(n),r=kd(t);t.N_.delete(e),r.r_()&&w3(t,e),t.N_.size===0&&(r.r_()?r.o_():Ru(t)&&t.q_.set("Unknown"))}function XT(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kd(n).A_(e)}function w3(n,e){n.Q_.xe(e),kd(n).R_(e)}function QT(n){n.Q_=new fSe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),kd(n).start(),n.q_.v_()}function ZT(n){return Ru(n)&&!kd(n).n_()&&n.N_.size>0}function Ru(n){return Pe(n).L_.size===0}function E3(n){n.Q_=void 0}async function f1e(n){n.q_.set("Online")}async function p1e(n){n.N_.forEach((e,t)=>{XT(n,e)})}async function g1e(n,e){E3(n),ZT(n)?(n.q_.M_(e),QT(n)):n.q_.set("Unknown")}async function m1e(n,e,t){if(n.q_.set("Online"),e instanceof l3&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(n,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zv(n,r)}else if(e instanceof Tm?n.Q_.Ke(e):e instanceof a3?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Oe.min()))try{const r=await v3(n.localStore);t.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(ar.EMPTY_BYTE_STRING,d.snapshotVersion)),w3(i,l);const h=new La(d.target,l,u,d.sequenceNumber);XT(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await zv(n,r)}}async function zv(n,e,t){if(!Fp(e))throw e;n.L_.add(1),await Up(n),n.q_.set("Offline"),t||(t=()=>v3(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await S_(n)})}function S3(n,e){return e().catch(t=>zv(n,t,e))}async function C_(n){const e=Pe(n),t=nl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;v1e(e);)try{const s=await e1e(e.localStore,r);if(s===null){e.O_.length===0&&t.o_();break}r=s.batchId,y1e(e,s)}catch(s){await zv(e,s)}C3(e)&&T3(e)}function v1e(n){return Ru(n)&&n.O_.length<10}function y1e(n,e){n.O_.push(e);const t=nl(n);t.r_()&&t.V_&&t.m_(e.mutations)}function C3(n){return Ru(n)&&!nl(n).n_()&&n.O_.length>0}function T3(n){nl(n).start()}async function _1e(n){nl(n).p_()}async function b1e(n){const e=nl(n);for(const t of n.O_)e.m_(t.mutations)}async function w1e(n,e,t){const r=n.O_.shift(),s=HT.from(r,e,t);await S3(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await C_(n)}async function E1e(n,e){e&&nl(n).V_&&await async function(r,s){if(function(o){return cSe(o)&&o!==Y.ABORTED}(s.code)){const i=r.O_.shift();nl(r).s_(),await S3(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await C_(r)}}(n,e),C3(n)&&T3(n)}async function RD(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=Ru(t);t.L_.add(3),await Up(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await S_(t)}async function S1e(n,e){const t=Pe(n);e?(t.L_.delete(2),await S_(t)):e||(t.L_.add(2),await Up(t),t.q_.set("Unknown"))}function kd(n){return n.K_||(n.K_=function(t,r,s){const i=Pe(t);return i.w_(),new l1e(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:f1e.bind(null,n),Ro:p1e.bind(null,n),mo:g1e.bind(null,n),d_:m1e.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),ZT(n)?QT(n):n.q_.set("Unknown")):(await n.K_.stop(),E3(n))})),n.K_}function nl(n){return n.U_||(n.U_=function(t,r,s){const i=Pe(t);return i.w_(),new u1e(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_1e.bind(null,n),mo:E1e.bind(null,n),f_:b1e.bind(null,n),g_:w1e.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await C_(n)):(await n.U_.stop(),n.O_.length>0&&(pe("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,a=new JT(e,t,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eI(n,e){if(Jo("AsyncQueue",`${e}: ${n}`),Fp(n))return new ce(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Ch(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new Nc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Nc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.W_=new hn(ve.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class sd{constructor(e,t,r,s,i,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new sd(e,t,Nc.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&v_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1e{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class T1e{constructor(){this.queries=DD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const s=Pe(t),i=s.queries;s.queries=DD(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ce(Y.ABORTED,"Firestore shutting down"))}}function DD(){return new Dd(n=>YV(n),v_)}async function I3(n,e){const t=Pe(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new C1e,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await t.onListen(s,!0);break;case 1:i.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const a=eI(o,`Initialization of query '${Xu(e.query)}' failed`);return void e.onError(a)}t.queries.set(s,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&tI(t)}async function O3(n,e){const t=Pe(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function I1e(n,e){const t=Pe(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&tI(t)}function O1e(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(t);r.queries.delete(e)}function tI(n){n.Y_.forEach(e=>{e.next()})}var AS,kD;(kD=AS||(AS={})).ea="default",kD.Cache="cache";class P3{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==AS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.key=e}}class R3{constructor(e){this.key=e}}class P1e{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=qV(e),this.Ra=new Nc(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new AD,s=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),g=y_(this.query,h)?h:null,b=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;f&&g?f.data.isEqual(g.data)?b!==y&&(r.track({type:3,doc:g}),_=!0):this.ga(f,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),_=!0):f&&!g&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(g,b){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return y(g)-y(b)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=t&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new sd(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new AD,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new R3(r))}),this.da.forEach(r=>{e.has(r)||t.push(new x3(r))}),t}ba(e){this.Ta=e.Ts,this.da=Be();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return sd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class x1e{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class R1e{constructor(e){this.key=e,this.va=!1}}class A1e{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Dd(a=>YV(a),v_),this.Ma=new Map,this.xa=new Set,this.Oa=new hn(ve.comparator),this.Na=new Map,this.La=new WT,this.Ba={},this.ka=new Map,this.qa=rd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function D1e(n,e,t=!0){const r=M3(n);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await A3(r,e,t,!0),s}async function k1e(n,e){const t=M3(n);await A3(t,e,!0,!1)}async function A3(n,e,t,r){const s=await t1e(n.localStore,oo(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let a;return r&&(a=await N1e(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&b3(n.remoteStore,s),a}async function N1e(n,e,t,r,s){n.Ka=(h,f,g)=>async function(y,_,v,E){let w=_.view.ma(v);w.ns&&(w=await OD(y.localStore,_.query,!1).then(({documents:I})=>_.view.ma(I,w)));const S=E&&E.targetChanges.get(_.targetId),O=E&&E.targetMismatches.get(_.targetId)!=null,x=_.view.applyChanges(w,y.isPrimaryClient,S,O);return LD(y,_.targetId,x.wa),x.snapshot}(n,h,f,g);const i=await OD(n.localStore,e,!0),o=new P1e(e,i.Ts),a=o.ma(i.documents),l=Vp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),u=o.applyChanges(a,n.isPrimaryClient,l);LD(n,t,u.wa);const d=new x1e(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot}async function L1e(n,e,t){const r=Pe(n),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!v_(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await RS(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&qT(r.remoteStore,s.targetId),DS(r,s.targetId)}).catch($p)):(DS(r,s.targetId),await RS(r.localStore,s.targetId,!0))}async function M1e(n,e){const t=Pe(n),r=t.Fa.get(e),s=t.Ma.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),qT(t.remoteStore,r.targetId))}async function $1e(n,e,t){const r=z1e(n);try{const s=await function(o,a){const l=Pe(o),u=Vn.now(),d=a.reduce((g,b)=>g.add(b.key),Be());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=ea(),y=Be();return l.cs.getEntries(g,d).next(_=>{b=_,b.forEach((v,E)=>{E.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(_=>{h=_;const v=[];for(const E of a){const w=iSe(E,h.get(E.key).overlayedDocument);w!=null&&v.push(new fl(E.key,w,VV(w.value.mapValue),yi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,v,a)}).next(_=>{f=_;const v=_.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(g,_.batchId,v)})}).then(()=>({batchId:f.batchId,changes:QV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new hn(ut)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,t),await Bp(r,s.changes),await C_(r.remoteStore)}catch(s){const i=eI(s,"Failed to persist write");t.reject(i)}}async function D3(n,e){const t=Pe(n);try{const r=await ZSe(t.localStore,e);e.targetChanges.forEach((s,i)=>{const o=t.Na.get(i);o&&(It(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?It(o.va):s.removedDocuments.size>0&&(It(o.va),o.va=!1))}),await Bp(t,r,e)}catch(r){await $p(r)}}function ND(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Pe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&tI(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F1e(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new hn(ve.comparator);o=o.insert(i,Sr.newNoDocument(i,Oe.min()));const a=Be().add(i),l=new w_(Oe.min(),new Map,new hn(ut),o,a);await D3(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),nI(r)}else await RS(r.localStore,e,!1).then(()=>DS(r,e,t)).catch($p)}async function j1e(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await QSe(t.localStore,e);N3(t,r,null),k3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Bp(t,s)}catch(s){await $p(s)}}async function V1e(n,e,t){const r=Pe(n);try{const s=await function(o,a){const l=Pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(It(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);N3(r,e,t),k3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Bp(r,s)}catch(s){await $p(s)}}function k3(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function N3(n,e,t){const r=Pe(n);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function DS(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||L3(n,r)})}function L3(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(qT(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),nI(n))}function LD(n,e,t){for(const r of t)r instanceof x3?(n.La.addReference(r.key,e),U1e(n,r)):r instanceof R3?(pe("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||L3(n,r.key)):Te()}function U1e(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(pe("SyncEngine","New document in limbo: "+t),n.xa.add(r),nI(n))}function nI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new ve(Gt.fromString(e)),r=n.qa.next();n.Na.set(r,new R1e(t)),n.Oa=n.Oa.insert(t,r),b3(n.remoteStore,new La(oo(VT(t.path)),r,"TargetPurposeLimboResolution",NT.oe))}}async function Bp(n,e,t){const r=Pe(n),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=t==null?void 0:t.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=YT.Wi(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const d=Pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>X.forEach(u,f=>X.forEach(f.$i,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>X.forEach(f.Ui,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Fp(h))throw h;pe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=d.os.get(f),b=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(b);d.os=d.os.insert(f,y)}}}(r.localStore,i))}async function B1e(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await m3(t.localStore,e);t.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ce(Y.CANCELLED,o))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bp(t,r.hs)}}function H1e(n,e){const t=Pe(n),r=t.Na.get(e);if(r&&r.va)return Be().add(r.key);{let s=Be();const i=t.Ma.get(e);if(!i)return s;for(const o of i){const a=t.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function M3(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=D3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F1e.bind(null,e),e.Ca.d_=I1e.bind(null,e.eventManager),e.Ca.$a=O1e.bind(null,e.eventManager),e}function z1e(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j1e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V1e.bind(null,e),e}class Kv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=E_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return XSe(this.persistence,new YSe,e.initialUser,this.serializer)}Ga(e){return new KSe(GT.Zr,this.serializer)}Wa(e){return new r1e}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kv.provider={build:()=>new Kv};class kS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ND(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B1e.bind(null,this.syncEngine),await S1e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T1e}()}createDatastore(e){const t=E_(e.databaseInfo.databaseId),r=function(i){return new a1e(i)}(e.databaseInfo);return function(i,o,a,l){return new c1e(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,o,a){return new h1e(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>ND(this.syncEngine,t,0),function(){return xD.D()?new xD:new s1e}())}createSyncEngine(e,t){return function(s,i,o,a,l,u,d){const h=new A1e(s,i,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=Pe(s);pe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Up(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}kS.provider={build:()=>new kS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1e{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=wr.UNAUTHENTICATED,this.clientId=$V.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{pe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(pe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=eI(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function P0(n,e){n.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await m3(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function MD(n,e){n.asyncQueue.verifyOperationInProgress();const t=await W1e(n);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>RD(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>RD(e.remoteStore,s)),n._onlineComponents=e}async function W1e(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await P0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Y.FAILED_PRECONDITION||s.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Jc("Error using user provided cache. Falling back to memory cache: "+t),await P0(n,new Kv)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await P0(n,new Kv);return n._offlineComponents}async function F3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await MD(n,n._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await MD(n,new kS))),n._onlineComponents}function G1e(n){return F3(n).then(e=>e.syncEngine)}async function j3(n){const e=await F3(n),t=e.eventManager;return t.onListen=D1e.bind(null,e.syncEngine),t.onUnlisten=L1e.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=k1e.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=M1e.bind(null,e.syncEngine),t}function Y1e(n,e,t={}){const r=new jo;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new $3({next:f=>{d.Za(),o.enqueueAndForget(()=>O3(i,h));const g=f.docs.has(a);!g&&f.fromCache?u.reject(new ce(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?u.reject(new ce(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new P3(VT(a.path),d,{includeMetadataChanges:!0,_a:!0});return I3(i,h)}(await j3(n),n.asyncQueue,e,t,r)),r.promise}function q1e(n,e,t={}){const r=new jo;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new $3({next:f=>{d.Za(),o.enqueueAndForget(()=>O3(i,h)),f.fromCache&&l.source==="server"?u.reject(new ce(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new P3(a,d,{includeMetadataChanges:!0,_a:!0});return I3(i,h)}(await j3(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(n,e,t){if(!t)throw new ce(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function X1e(n,e,t,r){if(e===!0&&r===!0)throw new ce(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function FD(n){if(!ve.isDocumentKey(n))throw new ce(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jD(n){if(ve.isDocumentKey(n))throw new ce(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function T_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function ta(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=T_(n);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X1e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I_{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VD({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fEe;switch(r.type){case"firstParty":return new vEe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=$D.get(t);r&&(pe("ComponentProvider","Removing Datastore"),$D.delete(t),r.terminate())}(this),Promise.resolve()}}function Q1e(n,e,t,r={}){var s;const i=(n=ta(n,I_))._getSettings(),o=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=wr.MOCK_USER;else{a=E_e(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new wr(u)}n._authCredentials=new pEe(new MV(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Au(this.firestore,e,this._query)}}class ns{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ns(this.firestore,e,this._key)}}class qa extends Au{constructor(e,t,r){super(e,t,VT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ns(this.firestore,null,new ve(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function O_(n,e,...t){if(n=Mn(n),U3("collection","path",e),n instanceof I_){const r=Gt.fromString(e,...t);return jD(r),new qa(n,null,r)}{if(!(n instanceof ns||n instanceof qa))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return jD(r),new qa(n.firestore,null,r)}}function Nd(n,e,...t){if(n=Mn(n),arguments.length===1&&(e=$V.newId()),U3("doc","path",e),n instanceof I_){const r=Gt.fromString(e,...t);return FD(r),new ns(n,null,new ve(r))}{if(!(n instanceof ns||n instanceof qa))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return FD(r),new ns(n.firestore,n instanceof qa?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new y3(this,"async_queue_retry"),this.Vu=()=>{const r=O0();r&&pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=O0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=O0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new jo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fp(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jo("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=JT.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Ld extends I_{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new UD,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UD(e),this._firestoreClient=void 0,await e}}}function Z1e(n,e){const t=typeof n=="object"?n:Gj(),r=typeof n=="string"?n:"(default)",s=ST(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=b_e("firestore");i&&Q1e(s,...i)}return s}function rI(n){if(n._terminated)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||J1e(n),n._firestoreClient}function J1e(n){var e,t,r;const s=n._freezeSettings(),i=function(a,l,u,d){return new REe(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,V3(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new K1e(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this._byteString=e}static fromBase64String(e){try{return new id(ar.fromBase64String(e))}catch(t){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new id(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eCe=/^__.*__$/;class tCe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fl(e,this.data,this.fieldMask,t,this.fieldTransforms):new jp(e,this.data,t,this.fieldTransforms)}}class B3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function H3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class oI{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new oI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(H3(this.Cu)&&eCe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class nCe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||E_(e)}Qu(e,t,r,s=!1){return new oI({Cu:e,methodName:t,qu:r,path:rr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aI(n){const e=n._freezeSettings(),t=E_(n._databaseId);return new nCe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rCe(n,e,t,r,s,i={}){const o=n.Qu(i.merge||i.mergeFields?2:0,e,t,s);uI("Data must be an object, but it was:",o,r);const a=z3(r,o);let l,u;if(i.merge)l=new bs(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=NS(e,h,t);if(!o.contains(f))throw new ce(Y.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);W3(d,f)||d.push(f)}l=new bs(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new tCe(new qr(a),l,u)}class R_ extends x_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof R_}}class lI extends x_{_toFieldTransform(e){return new tSe(e.path,new Hf)}isEqual(e){return e instanceof lI}}function sCe(n,e,t,r){const s=n.Qu(1,e,t);uI("Data must be an object, but it was:",s,r);const i=[],o=qr.empty();xu(r,(l,u)=>{const d=cI(e,l,t);u=Mn(u);const h=s.Nu(d);if(u instanceof R_)i.push(d);else{const f=Hp(u,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new bs(i);return new B3(o,a,s.fieldTransforms)}function iCe(n,e,t,r,s,i){const o=n.Qu(1,e,t),a=[NS(e,r,t)],l=[s];if(i.length%2!=0)throw new ce(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(NS(e,i[f])),l.push(i[f+1]);const u=[],d=qr.empty();for(let f=a.length-1;f>=0;--f)if(!W3(u,a[f])){const g=a[f];let b=l[f];b=Mn(b);const y=o.Nu(g);if(b instanceof R_)u.push(g);else{const _=Hp(b,y);_!=null&&(u.push(g),d.set(g,_))}}const h=new bs(u);return new B3(d,h,o.fieldTransforms)}function oCe(n,e,t,r=!1){return Hp(t,n.Qu(r?4:3,e))}function Hp(n,e){if(K3(n=Mn(n)))return uI("Unsupported field value:",e,n),z3(n,e);if(n instanceof x_)return function(r,s){if(!H3(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Hp(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZEe(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Vn.fromDate(r);return{timestampValue:Hv(s.serializer,i)}}if(r instanceof Vn){const i=new Vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hv(s.serializer,i)}}if(r instanceof sI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof id)return{bytesValue:u3(s.serializer,r._byteString)};if(r instanceof ns){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:KT(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof iI)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return UT(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${T_(r)}`)}(n,e)}function z3(n,e){const t={};return FV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xu(n,(r,s)=>{const i=Hp(s,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function K3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vn||n instanceof sI||n instanceof id||n instanceof ns||n instanceof x_||n instanceof iI)}function uI(n,e,t){if(!K3(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=T_(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function NS(n,e,t){if((e=Mn(e))instanceof P_)return e._internalPath;if(typeof e=="string")return cI(n,e);throw Wv("Field path arguments must be of type string or ",n,!1,void 0,t)}const aCe=new RegExp("[~\\*/\\[\\]]");function cI(n,e,t){if(e.search(aCe)>=0)throw Wv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new P_(...e.split("."))._internalPath}catch{throw Wv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wv(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ce(Y.INVALID_ARGUMENT,a+n+l)}function W3(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ns(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lCe extends G3{data(){return super.data()}}function dI(n,e){return typeof e=="string"?cI(n,e):e instanceof P_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uCe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hI{}class Y3 extends hI{}function cCe(n,e,...t){let r=[];e instanceof hI&&r.push(e),r=r.concat(t),function(i){const o=i.filter(l=>l instanceof pI).length,a=i.filter(l=>l instanceof fI).length;if(o>1||o>0&&a>0)throw new ce(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class fI extends Y3{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fI(e,t,r)}_apply(e){const t=this._parse(e);return q3(e._query,t),new Au(e.firestore,e.converter,CS(e._query,t))}_parse(e){const t=aI(e.firestore);return function(i,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ce(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){HD(h,d);const g=[];for(const b of h)g.push(BD(l,i,b));f={arrayValue:{values:g}}}else f=BD(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||HD(h,d),f=oCe(a,o,h,d==="in"||d==="not-in");return kn.create(u,d,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class pI extends hI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pI(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ti.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)q3(o,l),o=CS(o,l)}(e._query,t),new Au(e.firestore,e.converter,CS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gI extends Y3{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gI(e,t)}_apply(e){const t=function(s,i,o){if(s.startAt!==null)throw new ce(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bf(i,o)}(e._query,this._field,this._direction);return new Au(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ad(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function dCe(n,e="asc"){const t=e,r=dI("orderBy",n);return gI._create(r,t)}function BD(n,e,t){if(typeof(t=Mn(t))=="string"){if(t==="")throw new ce(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GV(e)&&t.indexOf("/")!==-1)throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Gt.fromString(t));if(!ve.isDocumentKey(r))throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cD(n,new ve(r))}if(t instanceof ns)return cD(n,t._key);throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${T_(t)}.`)}function HD(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q3(n,e){const t=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hCe{convertValue(e,t="none"){switch(hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(du(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xu(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>En(o.doubleValue));return new iI(i)}convertGeoPoint(e){return new sI(En(e.latitude),En(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=MT(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jf(e));default:return null}}convertTimestamp(e){const t=tl(e);return new Vn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gt.fromString(e);It(g3(r));const s=new Vf(r.get(1),r.get(3)),i=new ve(r.popFirst(5));return s.isEqual(t)||Jo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fCe(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class X3 extends G3{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Im extends X3{data(e={}){return super.data(e)}}class pCe{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ih(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Im(this._firestore,this._userDataWriter,r.key,r,new Ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Im(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ih(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Im(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ih(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:gCe(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gCe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mCe(n){n=ta(n,ns);const e=ta(n.firestore,Ld);return Y1e(rI(e),n._key).then(t=>yCe(e,n,t))}class Q3 extends hCe{constructor(e){super(),this.firestore=e}convertBytes(e){return new id(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ns(this.firestore,null,t)}}function Z3(n){n=ta(n,Au);const e=ta(n.firestore,Ld),t=rI(e),r=new Q3(e);return uCe(n._query),q1e(t,n._query).then(s=>new pCe(e,r,n,s))}function mI(n,e,t,...r){n=ta(n,ns);const s=ta(n.firestore,Ld),i=aI(s);let o;return o=typeof(e=Mn(e))=="string"||e instanceof P_?iCe(i,"updateDoc",n._key,e,t,r):sCe(i,"updateDoc",n._key,e),vI(s,[o.toMutation(n._key,yi.exists(!0))])}function vCe(n){return vI(ta(n.firestore,Ld),[new BT(n._key,yi.none())])}function J3(n,e){const t=ta(n.firestore,Ld),r=Nd(n),s=fCe(n.converter,e);return vI(t,[rCe(aI(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then(()=>r)}function vI(n,e){return function(r,s){const i=new jo;return r.asyncQueue.enqueueAndForget(async()=>$1e(await G1e(r),s,i)),i.promise}(rI(n),e)}function yCe(n,e,t){const r=t.docs.get(e._key),s=new Q3(n);return new X3(n,s,e._key,r,new Ih(t.hasPendingWrites,t.fromCache),e.converter)}function _Ce(){return new lI("serverTimestamp")}(function(e,t=!0){(function(s){Rd=s})(Pd),Qc(new au("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ld(new gEe(r.getProvider("auth-internal")),new _Ee(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vf(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ya(iD,"4.7.3",e),Ya(iD,"4.7.3","esm2017")})();const bCe={apiKey:"AIzaSyB662kBup4nhIZUwUbUpiOvHO2dgknO6rc",authDomain:"dango-c161e.firebaseapp.com",projectId:"dango-c161e",storageBucket:"dango-c161e.firebasestorage.app",messagingSenderId:"837192116631",appId:"1:837192116631:web:a014f6ea1d544603547cd2"},e4=Wj(bCe),A_=uEe(e4),ia=Z1e(e4),wCe=async(n,e)=>{try{return await K0e(A_,n,e)}catch(t){const r=t;throw console.error("Sign in error:",{code:r.code,message:r.message,name:r.name}),t}},ECe=async(n,e)=>{try{return await z0e(A_,n,e)}catch(t){const r=t;throw console.error("Sign up error:",{code:r.code,message:r.message,name:r.name}),t}},SCe=async()=>{try{await Z0e(A_)}catch(n){throw n}},CCe=n=>Q0e(A_,n),TCe=async(n,e)=>{try{await G0e(n,e)}catch(t){throw t}},LS=async n=>{try{await W0e(n)}catch(e){throw console.error("Email verification error:",e),e}};class ICe{constructor(){ri(this,"user",null);ri(this,"loading",!0);ri(this,"error",null);B1(this),this.initAuth()}initAuth(){CCe(e=>{this.setUser(e),this.setLoading(!1)})}setUser(e){this.user=e}setLoading(e){this.loading=e}setError(e){this.error=e}async login(e,t){try{return await wCe(e,t),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async register(e,t){try{const r=await ECe(e,t);return r.user&&await LS(r.user),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async resendVerificationEmail(){try{if(!this.user)throw new Error("No user logged in");return await LS(this.user),!0}catch(e){const t=e;return this.setError(t.message),!1}}async logout(){try{return await SCe(),this.setError(null),!0}catch(e){const t=e;return this.setError(t.message),!1}}async updatePassword(e){try{if(!this.user)throw new Error("No user logged in");return await TCe(this.user,e),this.setError(null),!0}catch(t){const r=t;return this.setError(r.message),!1}}get isEmailVerified(){var e;return((e=this.user)==null?void 0:e.emailVerified)??!1}}const Ae=new ICe,OCe=({stage:n,size:e=64})=>{const t=e*.5,r=70,s=2*Math.PI*r,i=n/7*s,o=s-i;return F.jsxs("div",{style:{width:e,height:e,position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center"},children:[F.jsxs("svg",{style:{width:"100%",height:"100%",transform:"rotate(-90deg)",overflow:"visible"},viewBox:"0 0 200 200",children:[F.jsx("circle",{cx:"100",cy:"100",r,stroke:"#ddd",strokeWidth:t,fill:"none"}),F.jsx("circle",{cx:"100",cy:"100",r,stroke:"#4CAF50",strokeWidth:t,fill:"none",strokeLinecap:"round",style:{strokeDasharray:s,strokeDashoffset:o,transition:"stroke-dashoffset 0.5s ease"}})]}),F.jsx("div",{style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:F.jsx("span",{style:{fontSize:e*.25,fontFamily:"Arial",color:"#333"},children:n})})]})};function PCe(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const zD={};function MS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&zD[e[0]]||(typeof e[0]=="string"&&(zD[e[0]]=new Date),PCe(...e))}const t4=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function KD(n,e,t){n.loadNamespaces(e,t4(n,t))}function WD(n,e,t,r){typeof t=="string"&&(t=[t]),t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,t4(n,r))}function xCe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=e.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(r,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,n)&&(!s||o(i,n)))}function RCe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(MS("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,n))return!1}}):xCe(n,e,t)}const ACe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,DCe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},kCe=n=>DCe[n],NCe=n=>n.replace(ACe,kCe);let $S={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:NCe};function LCe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$S={...$S,...n}}function MCe(){return $S}let n4;function $Ce(n){n4=n}function FCe(){return n4}const jCe={type:"3rdParty",init(n){LCe(n.options.react),$Ce(n)}},VCe=D.createContext();class UCe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const BCe=(n,e)=>{const t=D.useRef();return D.useEffect(()=>{t.current=n},[n,e]),t.current};function go(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:r,defaultNS:s}=D.useContext(VCe)||{},i=t||r||FCe();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new UCe),!i){MS("You will need to pass in an i18next instance by using initReactI18next");const w=(O,x)=>typeof x=="string"?x:x&&typeof x=="object"&&typeof x.defaultValue=="string"?x.defaultValue:Array.isArray(O)?O[O.length-1]:O,S=[w,{},!1];return S.t=w,S.i18n={},S.ready=!1,S}i.options.react&&i.options.react.wait!==void 0&&MS("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...MCe(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=s||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(w=>RCe(w,i,o));function h(){return i.getFixedT(e.lng||null,o.nsMode==="fallback"?u:u[0],l)}const[f,g]=D.useState(h);let b=u.join();e.lng&&(b=`${e.lng}${b}`);const y=BCe(b),_=D.useRef(!0);D.useEffect(()=>{const{bindI18n:w,bindI18nStore:S}=o;_.current=!0,!d&&!a&&(e.lng?WD(i,e.lng,u,()=>{_.current&&g(h)}):KD(i,u,()=>{_.current&&g(h)})),d&&y&&y!==b&&_.current&&g(h);function O(){_.current&&g(h)}return w&&i&&i.on(w,O),S&&i&&i.store.on(S,O),()=>{_.current=!1,w&&i&&w.split(" ").forEach(x=>i.off(x,O)),S&&i&&S.split(" ").forEach(x=>i.store.off(x,O))}},[i,b]);const v=D.useRef(!0);D.useEffect(()=>{_.current&&!v.current&&g(h),v.current=!1},[i,l]);const E=[f,i,d];if(E.t=f,E.i18n=i,E.ready=d,d||!d&&!a)return E;throw new Promise(w=>{e.lng?WD(i,e.lng,u,()=>w()):KD(i,u,()=>w())})}const HCe=n=>D.createElement("svg",{t:1734834395145,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":11320,...n},D.createElement("path",{d:"M512.006827 1020.59008C231.120213 1020.59008 3.413333 792.85248 3.413333 512.003413S231.120213 3.40992 512.006827 3.40992 1020.586667 231.1168 1020.586667 512.003413c0 280.89344-227.730773 508.586667-508.57984 508.586667z m278.278826-537.378133a19.13856 19.13856 0 0 0-19.135146-19.135147h-211.162454V252.914347a19.135147 19.135147 0 0 0-19.135146-19.135147H483.2256a19.135147 19.135147 0 0 0-19.13856 19.135147v211.11808H252.91776a19.135147 19.135147 0 0 0-19.135147 19.13856v57.57952a19.135147 19.135147 0 0 0 19.135147 19.135146h211.121493v211.2a19.135147 19.135147 0 0 0 19.135147 19.13856h57.57952a19.13856 19.13856 0 0 0 19.13856-19.13856v-211.101013h211.2a19.135147 19.135147 0 0 0 19.131733-19.13856l0.06144-57.634133z",fill:"currentColor","p-id":11321})),zCe=n=>D.createElement("svg",{t:1735127311755,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":1470,...n},D.createElement("path",{d:"M810.005333 554.005333l-256 0 0 256-84.010667 0 0-256-256 0 0-84.010667 256 0 0-256 84.010667 0 0 256 256 0 0 84.010667z",fill:"currentColor","p-id":1471})),KCe=n=>D.createElement("svg",{t:1735120231535,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":5109,...n},D.createElement("path",{d:"M469.333333 128a42.666667 42.666667 0 0 1 0 85.333333H213.333333v597.333334h597.333334v-256l0.298666-4.992A42.666667 42.666667 0 0 1 896 554.666667v256a85.333333 85.333333 0 0 1-85.333333 85.333333H213.333333a85.333333 85.333333 0 0 1-85.333333-85.333333V213.333333a85.333333 85.333333 0 0 1 85.333333-85.333333z m414.72 12.501333a42.666667 42.666667 0 0 1 0 60.330667L491.861333 593.066667a42.666667 42.666667 0 0 1-60.330666-60.330667l392.192-392.192a42.666667 42.666667 0 0 1 60.330666 0z",fill:"currentColor","p-id":5110})),WCe=n=>D.createElement("svg",{t:1734839170370,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":14940,...n},D.createElement("path",{d:"M849.340051 799.881616c66.621327-77.68736 106.876146-178.648796 106.876146-289.01544 0-245.333568-198.88263-444.216197-444.216197-444.216197S67.783803 265.531586 67.783803 510.866177s198.88263 444.216197 444.216197 444.216197c110.366643 0 211.32808-40.254819 289.01544-106.876146l96.868211 96.868211c13.343913 13.343913 34.979676 13.343913 48.324612 0s13.343913-34.979676 0-48.324612L849.340051 799.881616zM512.313132 882.035708c-204.817806 0-370.855376-166.037571-370.855376-370.855376s166.037571-370.855376 370.855376-370.855376 370.855376 166.037571 370.855376 370.855376S717.130937 882.035708 512.313132 882.035708z",fill:"currentColor","p-id":14941})),r4=n=>D.createElement("svg",{t:1734832919596,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":10339,...n},D.createElement("path",{d:"M933.464007 512c0-59.806107 37.527708-110.542652 90.189092-130.818441-12.582573-49.328475-31.985482-95.798856-57.347103-138.479935-51.578726 22.906709-113.991194 13.570063-156.287509-28.725228-42.289152-42.295292-51.631938-104.712877-28.723182-156.289556-42.683125-25.355481-89.151459-44.757367-138.481981-57.33994-20.273742 52.661384-71.012334 90.182952-130.813325 90.182952-59.808154 0-110.546745-37.521568-130.820488-90.182952C331.84899 12.929474 285.380656 32.330336 242.697531 57.68684c22.908756 51.576679 13.566994 113.994264-28.723182 156.289556-42.297338 42.295292-104.709807 51.631938-156.287509 28.725228-25.361621 42.681078-44.757367 89.151459-57.33994 138.479935 52.661384 20.275789 90.180905 71.012334 90.180905 130.818441S53.008284 622.538559 0.346901 642.818441c12.582573 49.328475 31.985482 95.798856 57.33994 138.479935 51.578726-22.906709 113.991194-13.570063 156.287509 28.725228 42.289152 42.291199 51.631938 104.70776 28.723182 156.287509 42.683125 25.355481 89.151459 44.759413 138.481981 57.341986 20.273742-52.66343 71.012334-90.187045 130.820488-90.187045 59.799968 0 110.538559 37.523615 130.813325 90.187045 49.330522-12.582573 95.798856-31.985482 138.481981-57.341986-22.908756-51.580772-13.566994-113.996311 28.723182-156.287509 42.297338-42.295292 104.708783-51.631938 156.287509-28.725228 25.354458-42.681078 44.757367-89.151459 57.347103-138.479935C970.991716 622.538559 933.464007 571.806107 933.464007 512zM512 652.500964c-77.599356 0-140.503011-62.904679-140.503011-140.500964s62.904679-140.500964 140.503011-140.500964c77.591169 0 140.495848 62.904679 140.495848 140.500964S589.591169 652.500964 512 652.500964z",fill:"currentColor","p-id":10340})),GCe=n=>D.createElement("svg",{t:1734832829969,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":9182,...n},D.createElement("path",{d:"M948.48 831.488l-134.464-279.744-0.064-0.064-19.392-40.32-83.136-172.864V128H729.6c17.664 0 32-14.336 32-32s-14.336-32-32-32H281.6c-17.664 0-32 14.336-32 32s14.336 32 32 32h24.576v210.496l-95.36 198.272-6.4 13.248c-0.064 0.128-0.128 0.32-0.192 0.448L69.12 831.488c-17.664 36.736-15.232 79.296 6.464 113.856 21.696 34.496 59.008 55.104 99.776 55.104h666.88c40.768 0 78.08-20.608 99.776-55.104 21.696-34.56 24.128-77.12 6.464-113.856z m-360.128-182.208c-49.216 22.4-169.152-28.48-227.84-83.968a207.84 207.84 0 0 1-10.368-10.752c-1.152-1.28-2.368-2.56-3.648-3.776-1.024-1.088-2.112-2.048-3.264-3.072-1.088-0.96-2.24-1.92-3.392-2.816-0.256-0.192-0.448-0.384-0.704-0.576-1.152-0.896-2.24-1.728-3.392-2.496-1.344-0.96-2.688-1.792-4.032-2.624-1.216-0.768-2.432-1.472-3.648-2.112-5.824-3.264-12.16-5.76-18.88-7.616-1.536-0.448-3.136-0.896-4.8-1.216-1.6-0.384-3.264-0.704-4.992-1.024a0.192 0.192 0 0 0-0.256 0c-1.472-0.32-3.072-0.576-4.608-0.768-0.32-0.064-0.64-0.064-0.96-0.128-1.408-0.192-2.88-0.32-4.416-0.448-0.192-0.064-0.448-0.064-0.704-0.064-0.448-0.064-0.832-0.128-1.28-0.128L367.04 359.68c2.048-4.352 3.136-9.088 3.136-13.888V132.352h277.248v213.44c0 4.8 1.088 9.536 3.136 13.888l95.232 197.952c-44.672 35.968-117.376 73.408-157.44 91.648z",fill:"currentColor","p-id":9183})),s4=n=>D.createElement("svg",{t:1735016617676,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4263,...n},D.createElement("path",{d:"M528.4 492.6c-10.6 10.7-10.6 28 0 38.7l239 241.3C699.2 845 602.8 890.2 495.9 890.2c-207 0-374.7-169.3-374.7-378.3 0-208.9 167.7-378.2 374.7-378.2 106.9 0 203.3 45.2 271.6 117.6L528.4 492.6z m-52.4-115c42 0 76-34.3 76-76.7 0-42.4-34-76.7-76-76.7s-76 34.4-76 76.7c0 42.4 34.1 76.7 76 76.7z m397.3 198.5c7.6 2.7 13.7 8.3 17.2 15.7 3.4 7.4 3.9 15.7 1.1 23.4-4.3 12.1-15.8 20.2-28.5 20.2-3.5 0-6.9-0.6-10.2-1.8L718.5 585c-7.6-2.7-13.7-8.3-17.2-15.7-3.4-7.4-3.9-15.7-1.1-23.4 4.3-12.1 15.8-20.3 28.5-20.3 3.5 0 6.9 0.6 10.2 1.8l134.4 48.7zM721.5 450.5c1.5-8.1 6-15 12.6-19.6l121.3-84c5.1-3.5 11-5.4 17.1-5.4 10 0 19.4 5 25 13.3 9.5 13.9 5.9 33-7.8 42.5l-121.3 83.9c-5.1 3.5-11 5.4-17.1 5.4-10 0-19.3-5-25-13.3-4.6-6.7-6.3-14.8-4.8-22.8z",fill:"currentColor","p-id":4264})),YCe=n=>D.createElement("svg",{t:1734831752503,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4061,...n},D.createElement("path",{d:"M785.171864 102.424232H136.60875q-136.517822 0-136.563803 136.563803V887.436197q0 136.517822 136.563803 136.563803h648.563114q136.517822 0 136.563803-136.563803V238.988035q0-136.517822-136.563803-136.563803z m-207.305693 697.969783l-37.336636-136.448851h-172.429045l-37.336636 136.448851H222.984206l170.129991-531.541269h125.045543l170.911669 531.541269z",fill:"currentColor","p-id":4062}),D.createElement("path",{d:"M454.981738 349.434586h-2.873817a3810.383013 3810.383013 0 0 1-45.245381 173.785487l-15.840482 58.212045h126.447966l-15.840481-58.212045c-16.415245-55.315238-30.807323-116.309138-46.647805-173.785487z",fill:"currentColor","p-id":4063}),D.createElement("path",{d:"M984.040029 40.004918A136.609785 136.609785 0 0 0 887.479764 0.001379H239.031603a136.586794 136.586794 0 0 0-136.563804 123.919007v12.644797l28.945089 28.99107h72.397208L155.690898 117.437054a85.064995 85.064995 0 0 1 83.294724-66.212753h648.448161a85.317891 85.317891 0 0 1 85.432844 85.340882v648.448161a84.674156 84.674156 0 0 1-66.212754 83.294724l-63.913699-63.844728v72.397208l44.73959 44.73959h11.93209a136.356889 136.356889 0 0 0 124.539751-136.563804V136.565183a136.081002 136.081002 0 0 0-39.888586-96.560265z",fill:"currentColor","p-id":4064})),qCe=async n=>{try{const e=O_(ia,`users/${n}/words`);return(await Z3(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching words:",e),e}},GD=async(n,e)=>{try{const t=O_(ia,`users/${n}/words`);return(await J3(t,{...e,createdAt:_Ce()})).id}catch(t){throw console.error("Error adding word:",t),t}},XCe=async(n,e)=>{try{const t=Nd(ia,`users/${n}/words/${e}`);await vCe(t)}catch(t){throw console.error("Error deleting word:",t),t}},QCe=async(n,e,t)=>{try{const r=Nd(ia,`users/${n}/words/${e}`);await mI(r,t)}catch(r){throw console.error("Error updating word:",r),r}},ZCe=async(n,e)=>{try{const t=Nd(ia,`users/${n}/words/${e}`),r=await mCe(t);if(!r.exists())throw new Error("Word not found");return{id:r.id,...r.data()}}catch(t){throw console.error("Error fetching word:",t),t}},JCe=async(n,e,t)=>{const{id:r,...s}=t,i=Nd(ia,"users",n,"words",e);await mI(i,s)},FS=()=>{const n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999).getTime()},eTe=7;class tTe{constructor(){ri(this,"words",[]);ri(this,"loading",!1);ri(this,"initialized",!1);B1(this)}get todayWords(){const e=FS();return this.words.filter(t=>t.nextReviewDate<=e).length}get completedWordsCount(){return this.words.filter(e=>e.stage===eTe).length}async loadWords(){var e;if(!(!((e=Ae.user)!=null&&e.uid)||this.loading)){this.loading=!0;try{const t=await qCe(Ae.user.uid);_a(()=>{this.words=t,this.initialized=!0})}catch(t){console.error("Error loading words:",t)}finally{_a(()=>{this.loading=!1})}}}updateWords(e){this.words=e}}const qn=new tTe,Ie=n=>typeof n=="string",lh=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},YD=n=>n==null?"":""+n,nTe=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},rTe=/###/g,qD=n=>n&&n.indexOf("###")>-1?n.replace(rTe,"."):n,XD=n=>!n||Ie(n),Xh=(n,e,t)=>{const r=Ie(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(XD(n))return{};const i=qD(r[s]);!n[i]&&t&&(n[i]=new t),Object.prototype.hasOwnProperty.call(n,i)?n=n[i]:n={},++s}return XD(n)?{}:{obj:n,k:qD(r[s])}},QD=(n,e,t)=>{const{obj:r,k:s}=Xh(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=Xh(n,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=Xh(n,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=t},sTe=(n,e,t,r)=>{const{obj:s,k:i}=Xh(n,e,Object);s[i]=s[i]||[],s[i].push(t)},Gv=(n,e)=>{const{obj:t,k:r}=Xh(n,e);if(t)return t[r]},iTe=(n,e,t)=>{const r=Gv(n,t);return r!==void 0?r:Gv(e,t)},i4=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Ie(n[r])||n[r]instanceof String||Ie(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):i4(n[r],e[r],t):n[r]=e[r]);return n},Gu=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var oTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const aTe=n=>Ie(n)?n.replace(/[&<>"'\/]/g,e=>oTe[e]):n;class lTe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const uTe=[" ",",","?","!",";"],cTe=new lTe(20),dTe=(n,e,t)=>{e=e||"",t=t||"";const r=uTe.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(r.length===0)return!0;const s=cTe.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(n);if(!i){const o=n.indexOf(t);o>0&&!s.test(n.substring(0,o))&&(i=!0)}return i},jS=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=t),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},Yv=n=>n&&n.replace("_","-"),hTe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class qv{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||hTe,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(Ie(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new qv(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new qv(this.logger,e)}}var Yi=new qv;class D_{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a.apply(a,[e,...r])})}}class ZD extends D_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):Ie(r)&&i?a.push(...r.split(i)):a.push(r)));const l=Gv(this.data,a);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),l||!o||!Ie(r)?l:jS(this.data&&this.data[e]&&this.data[e][t],r,i)}addResource(e,t,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=t,t=a[1]),this.addNamespaces(t),QD(this.data,a,s),i.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(Ie(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=t,t=a[1]),this.addNamespaces(t);let l=Gv(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?i4(l,r,i):l={...l,...r},QD(this.data,a,l),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var o4={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,t,r,s))}),e}};const JD={};class Xv extends D_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),nTe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Yi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!dTe(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Ie(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:Ie(i)?[i]:i}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],u=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const S=t.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${S}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${S}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:o}const h=this.resolve(e,t);let f=h&&h.res;const g=h&&h.usedKey||o,b=h&&h.exactUsedKey||o,y=Object.prototype.toString.apply(f),_=["[object Number]","[object Function]","[object RegExp]"],v=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!Ie(f)&&typeof f!="boolean"&&typeof f!="number";if(E&&f&&w&&_.indexOf(y)<0&&!(Ie(v)&&Array.isArray(f))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,f,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=S,h.usedParams=this.getUsedParamsDetails(t),h):S}if(i){const S=Array.isArray(f),O=S?[]:{},x=S?b:g;for(const I in f)if(Object.prototype.hasOwnProperty.call(f,I)){const T=`${x}${i}${I}`;O[I]=this.translate(T,{...t,joinArrays:!1,ns:a}),O[I]===T&&(O[I]=f[I])}f=O}}else if(E&&Ie(v)&&Array.isArray(f))f=f.join(v),f&&(f=this.extendTranslation(f,e,t,r));else{let S=!1,O=!1;const x=t.count!==void 0&&!Ie(t.count),I=Xv.hasDefaultValue(t),T=x?this.pluralResolver.getSuffix(u,t.count,t):"",P=t.ordinal&&x?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",A=x&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),k=A&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${T}`]||t[`defaultValue${P}`]||t.defaultValue;!this.isValidLookup(f)&&I&&(S=!0,f=k),this.isValidLookup(f)||(O=!0,f=o);const N=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&O?void 0:f,W=I&&k!==f&&this.options.updateMissing;if(O||S||W){if(this.logger.log(W?"updateKey":"missingKey",u,l,o,W?k:f),i){const V=this.resolve(o,{...t,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let V=0;V<K.length;V++)q.push(K[V]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(t.lng||this.language):q.push(t.lng||this.language);const ee=(V,z,B)=>{const oe=I&&B!==f?B:N;this.options.missingKeyHandler?this.options.missingKeyHandler(V,l,z,oe,W,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(V,l,z,oe,W,t),this.emit("missingKey",V,l,z,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?q.forEach(V=>{const z=this.pluralResolver.getSuffixes(V,t);A&&t[`defaultValue${this.options.pluralSeparator}zero`]&&z.indexOf(`${this.options.pluralSeparator}zero`)<0&&z.push(`${this.options.pluralSeparator}zero`),z.forEach(B=>{ee([V],o+B,t[`defaultValue${B}`]||k)})}):ee(q,o,k))}f=this.extendTranslation(f,e,t,h,r),O&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${o}`),(O||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,S?f:void 0):f=this.options.parseMissingKeyHandler(f))}return s?(h.res=f,h.usedParams=this.getUsedParamsDetails(t),h):f}extendTranslation(e,t,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Ie(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=r.replace&&!Ie(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;d<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,g=new Array(f),b=0;b<f;b++)g[b]=arguments[b];return i&&i[0]===g[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${t[0]}`),null):o.translate(...g,t)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=Ie(a)?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=o4.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,a;return Ie(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,t),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=t.count!==void 0&&!Ie(t.count),g=f&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),b=t.context!==void 0&&(Ie(t.context)||typeof t.context=="number")&&t.context!=="",y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(_=>{this.isValidLookup(r)||(a=_,!JD[`${y[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(JD[`${y[0]}-${_}`]=!0,this.logger.warn(`key "${s}" for languages "${y.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(v=>{if(this.isValidLookup(r))return;o=v;const E=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(E,d,v,_,t);else{let S;f&&(S=this.pluralResolver.getSuffix(v,t.count,t));const O=`${this.options.pluralSeparator}zero`,x=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(E.push(d+S),t.ordinal&&S.indexOf(x)===0&&E.push(d+S.replace(x,this.options.pluralSeparator)),g&&E.push(d+O)),b){const I=`${d}${this.options.contextSeparator}${t.context}`;E.push(I),f&&(E.push(I+S),t.ordinal&&S.indexOf(x)===0&&E.push(I+S.replace(x,this.options.pluralSeparator)),g&&E.push(I+O))}}let w;for(;w=E.pop();)this.isValidLookup(r)||(i=w,r=this.getResource(v,_,w,t))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ie(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of t)delete s[i]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}const x0=n=>n.charAt(0).toUpperCase()+n.slice(1);class ek{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yi.create("languageUtils")}getScriptPartFromCode(e){if(e=Yv(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Yv(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ie(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=x0(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=x0(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=x0(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ie(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Ie(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Ie(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let fTe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],pTe={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const gTe=["v1","v2","v3"],mTe=["v4"],tk={zero:0,one:1,two:2,few:3,many:4,other:5},vTe=()=>{const n={};return fTe.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:pTe[e.fc]}})}),n};class yTe{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Yi.create("pluralResolver"),(!this.options.compatibilityJSON||mTe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=vTe(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Yv(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,t)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>tk[s]-tk[i]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!gTe.includes(this.options.compatibilityJSON)}}const nk=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=iTe(n,e,t);return!i&&s&&Ie(t)&&(i=jS(n,t,r),i===void 0&&(i=jS(e,t,r))),i},R0=n=>n.replace(/\$/g,"$$$$");class _Te{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Yi.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:g,nestingSuffix:b,nestingSuffixEscaped:y,nestingOptionsSeparator:_,maxReplaces:v,alwaysFormat:E}=e.interpolation;this.escape=t!==void 0?t:aTe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Gu(i):o||"{{",this.suffix=a?Gu(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?Gu(f):g||Gu("$t("),this.nestingSuffix=b?Gu(b):y||Gu(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=v||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const v=nk(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,{...s,...t,interpolationkey:g}):v}const b=g.split(this.formatSeparator),y=b.shift().trim(),_=b.join(this.formatSeparator).trim();return this.format(nk(t,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...s,...t,interpolationkey:y})};this.resetRegExp();const d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>R0(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?R0(this.escape(g)):R0(g)}].forEach(g=>{for(a=0;i=g.regex.exec(e);){const b=i[1].trim();if(o=u(b),o===void 0)if(typeof d=="function"){const _=d(e,i,s);o=Ie(_)?_:""}else if(s&&Object.prototype.hasOwnProperty.call(s,b))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),o="";else!Ie(o)&&!this.useRawValueToEscape&&(o=YD(o));const y=g.safeValue(o);if(e=e.replace(i[0],y),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;const a=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,o);const g=f.match(/'/g),b=f.match(/"/g);(g&&g.length%2===0&&!b||b.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${d}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!Ie(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=d.shift(),l=d,u=!0}if(i=t(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!Ie(i))return i;Ie(i)||(i=YD(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const bTe=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();t[d]||(t[d]=u),u==="false"&&(t[d]=!1),u==="true"&&(t[d]=!0),isNaN(u)||(t[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},Yu=n=>{const e={};return(t,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=n(Yv(r),s),e[o]=a),a(t)}};class wTe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Yi.create("formatter"),this.options=e,this.formats={number:Yu((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return i=>s.format(i)}),currency:Yu((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return i=>s.format(i)}),datetime:Yu((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return i=>s.format(i)}),relativetime:Yu((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return i=>s.format(i,r.range||"day")}),list:Yu((t,r)=>{const s=new Intl.ListFormat(t,{...r});return i=>s.format(i)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Yu(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{const{formatName:u,formatOptions:d}=bTe(l);if(this.formats[u]){let h=a;try{const f=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},g=f.locale||f.lng||s.locale||s.lng||r;h=this.formats[u](a,g,{...d,...s,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const ETe=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class STe extends D_{constructor(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Yi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,t,r,s){const i={},o={},a={},l={};return e.forEach(u=>{let d=!0;t.forEach(h=>{const f=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,d=!1,o[f]===void 0&&(o[f]=!0),i[f]===void 0&&(i[f]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const s=e.split("|"),i=s[0],o=s[1];t&&this.emit("failedLoading",i,o,t),!t&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{sTe(l.loaded,[i],o),ETe(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const d=l.loaded[u];d.length&&d.forEach(h=>{a[u][h]===void 0&&(a[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,i*2,o)},i);return}o(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(d=>a(null,d)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,t,a)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Ie(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ie(t)&&(t=[t]);const i=this.queueLoad(e,t,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,t,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,t,r,s,l):d=u(e,t,r,s),d&&typeof d.then=="function"?d.then(h=>a(null,h)).catch(a):a(null,d)}catch(d){a(d)}else u(e,t,r,s,a,l)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const rk=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ie(n[1])&&(e.defaultValue=n[1]),Ie(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),sk=n=>(Ie(n.ns)&&(n.ns=[n.ns]),Ie(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ie(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),zg=()=>{},CTe=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Wf extends D_{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=sk(e),this.services={},this.logger=Yi,this.modules={external:[]},CTe(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(Ie(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=rk();this.options={...s,...this.options,...sk(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Yi.init(i(this.modules.logger),this.options):Yi.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=wTe);const h=new ek(this.options);this.store=new ZD(this.options.resources,this.options);const f=this.services;f.logger=Yi,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new yTe(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=i(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new _Te(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new STe(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(g){for(var b=arguments.length,y=new Array(b>1?b-1:0),_=1;_<b;_++)y[_-1]=arguments[_];e.emit(g,...y)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Xv(this.services,this.options),this.translator.on("*",function(g){for(var b=arguments.length,y=new Array(b>1?b-1:0),_=1;_<b;_++)y[_-1]=arguments[_];e.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=zg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=lh(),u=()=>{const d=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zg;const s=Ie(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,t,r){const s=lh();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=zg),this.services.backendConnector.reload(e,t,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&o4.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=lh();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=Ie(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{o(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),s}getFixedT(e,t,r){var s=this;const i=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([o,a].concat(d))}else l={...a};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const f=s.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(o)?g=o.map(b=>`${l.keyPrefix}${f}${b}`):g=l.keyPrefix?`${l.keyPrefix}${f}${o}`:o,s.t(g,l)};return Ie(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,t){const r=lh();return this.options.ns?(Ie(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=lh();Ie(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new ek(rk());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Wf(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zg;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Wf(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new ZD(this.store.data,s),i.services.resourceStore=i.store),i.translator=new Xv(i.services,s),i.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];i.emit(a,...u)}),i.init(s,t),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ur=Wf.createInstance();ur.createInstance=Wf.createInstance;ur.createInstance;ur.dir;ur.init;ur.loadResources;ur.reloadResources;ur.use;ur.changeLanguage;ur.getFixedT;ur.t;ur.exists;ur.setDefaultNamespace;ur.hasLoadedNamespace;ur.loadNamespaces;ur.loadLanguages;const TTe=async n=>{try{const e=O_(ia,`users/${n}/groups`),t=cCe(e,dCe("order"));return(await Z3(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error in getGroups:",e),e}},ITe=async(n,e)=>{try{const t=O_(ia,`users/${n}/groups`);return await J3(t,{...e,created_at:Date.now()})}catch(t){throw console.error("Error in createGroup:",t),t}},OTe=async(n,e,t)=>{try{const r=Nd(ia,`users/${n}/groups/${e}`);return await mI(r,{...t,updated_at:Date.now()}),!0}catch(r){throw console.error("Error in updateGroup:",r),r}};class PTe{constructor(){ri(this,"rawGroups",[]);ri(this,"loading",!1);ri(this,"initialized",!1);ri(this,"currentGroupId","default");B1(this,{groups:Hc,currentGroup:Hc})}get allGroups(){return[this.defaultGroup,...this.rawGroups]}get groups(){return this.rawGroups}get currentGroup(){return this.groups.find(e=>e.id===this.currentGroupId)}get defaultGroup(){return{id:"default",name:ur.t("common.all"),order:-1,created_at:0}}async loadGroups(){var e;if(!(!((e=Ae.user)!=null&&e.uid)||this.loading)){this.loading=!0;try{const t=await TTe(Ae.user.uid);_a(()=>{this.rawGroups=t,this.initialized=!0})}catch(t){console.error("Error loading groups:",t)}finally{_a(()=>{this.loading=!1})}}}async createGroup(e){var t;if((t=Ae.user)!=null&&t.uid){this.loading=!0;try{const r={name:e,order:this.rawGroups.length,created_at:Date.now()},s=await ITe(Ae.user.uid,r);_a(()=>{this.rawGroups.push({id:s.id,...r}),this.currentGroupId=s.id})}catch(r){console.error("Error creating group:",r)}finally{_a(()=>{this.loading=!1})}}}async updateGroup(e,t){var r;if(!((r=Ae.user)!=null&&r.uid)){console.error("No user ID available");return}if(e==="default"){console.error("Cannot update default group");return}this.loading=!0;try{await OTe(Ae.user.uid,e,{name:t}),_a(()=>{const s=this.rawGroups.findIndex(i=>i.id===e);s!==-1&&(this.rawGroups[s]={...this.rawGroups[s],name:t})})}catch(s){console.error("Error updating group:",s)}finally{_a(()=>{this.loading=!1})}}setCurrentGroup(e){this.groups.some(t=>t.id===e)?this.currentGroupId=e:(console.error(`Invalid group ID: ${e}`),this.currentGroupId="default")}}const An=new PTe,xTe="_layout_vje1q_1",RTe="_content_vje1q_7",ATe="_nav_vje1q_11",DTe="_navItem_vje1q_22",kTe="_title_vje1q_33",NTe="_active_vje1q_41",LTe="_icon_vje1q_47",Li={layout:xTe,content:RTe,nav:ATe,navItem:DTe,title:kTe,active:NTe,icon:LTe},MTe=Oi(({children:n})=>{const e=mu(),t=gy(),{t:r}=go();D.useEffect(()=>{Ae.user&&(qn.initialized||qn.loadWords(),An.initialized||An.loadGroups())},[Ae.user]);const s=[{key:"/",text:r("nav.task"),icon:F.jsx(GCe,{className:Li.icon})},{key:"/add",text:r("nav.add"),icon:F.jsx(HCe,{className:Li.icon})},{key:"/word",text:r("nav.wordlist"),icon:F.jsx(YCe,{className:Li.icon})},{key:"/profile",text:r("nav.profile"),icon:F.jsx(r4,{className:Li.icon})}];return F.jsxs("div",{className:Li.layout,children:[F.jsx("main",{className:Li.content,children:n}),F.jsx("nav",{className:Li.nav,children:s.map(i=>F.jsxs("div",{className:`${Li.navItem} ${t.pathname===i.key?Li.active:""}`,onClick:()=>e(i.key),children:[i.icon,F.jsx("div",{className:Li.title,children:i.text})]},i.key))})]})});function a4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=a4(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Qv(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=a4(n))&&(r&&(r+=" "),r+=e);return r}function l4(){const[n,e]=D.useState(null);return D.useEffect(()=>{const r=()=>{const s=window.speechSynthesis.getVoices(),i=s.find(o=>o.name==="Kyoko")||s.find(o=>(o.lang.toLowerCase().includes("ja")||o.name.toLowerCase().includes("japanese"))&&o.name.toLowerCase().includes("female"))||s.find(o=>o.lang.toLowerCase().includes("ja")||o.name.toLowerCase().includes("japanese"));e(i||null)};return speechSynthesis.onvoiceschanged=r,r(),()=>{speechSynthesis.onvoiceschanged=null}},[]),D.useCallback((r,s)=>{s==null||s.stopPropagation(),window.speechSynthesis.cancel();const i=new SpeechSynthesisUtterance(r);i.lang="ja-JP",n&&(i.voice=n),window.speechSynthesis.speak(i)},[n])}const $Te="_header_v346y_1",FTe="_box_v346y_7",jTe="_boxTitle_v346y_15",VTe="_num_v346y_19",UTe="_percent_v346y_27",BTe="_today_v346y_37",HTe="_reviewArea_v346y_43",zTe="_completedMessage_v346y_50",KTe="_wordCard_v346y_54",WTe="_statistics_v346y_62",GTe="_left_v346y_71",YTe="_groupInfo_v346y_74",qTe="_question_v346y_78",XTe="_answer_v346y_82",QTe="_voice_v346y_89",ZTe="_icon_v346y_91",JTe="_cardFoot_v346y_97",eIe="_button_v346y_103",tIe="_button2_v346y_104",Rt={header:$Te,box:FTe,boxTitle:jTe,num:VTe,percent:UTe,today:BTe,reviewArea:HTe,completedMessage:zTe,wordCard:KTe,statistics:WTe,left:GTe,groupInfo:YTe,question:qTe,answer:XTe,voice:QTe,icon:ZTe,cardFoot:JTe,button:eIe,button2:tIe},{Text:nIe,Title:ik}=is,Oh=[1,2,4,7,15,30,60],VS=7,ok=n=>{if(n===VS)return 1/0;const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()+Oh[n]).getTime()},rIe=Oi(()=>{const{t:n}=go(),[e,t]=D.useState(!1),[r,s]=D.useState(null),[i,o]=D.useState(!1),a=l4(),l=f=>({word:f,isJapaneseQuestion:Math.random()<.5});D.useEffect(()=>{const f=FS(),g=qn.words.filter(b=>b.nextReviewDate<=f);s(g[0]?l(g[0]):null)},[qn.words]);const u=D.useCallback(f=>{if(!f)return n("common.all");const g=An.groups.find(b=>b.id===f);return g?g.name:n("common.all")},[An.groups,n]),d=D.useCallback(async f=>{var g,b;if(r){o(!0);const y=qn.words.map(_=>{if(_.id===r.word.id){let v;return f?_.stage===Oh.length-1?v=VS:v=Math.min(_.stage+1,Oh.length-1):v=Math.max(0,_.stage-1),{..._,reviewCount:_.reviewCount+1,correctCount:f?_.correctCount+1:_.correctCount,stage:v,nextReviewDate:ok(v)}}return _});try{if(!((g=Ae.user)!=null&&g.uid))return;const _=r.word;let v;f?_.stage===Oh.length-1?v=VS:v=Math.min(_.stage+1,Oh.length-1):v=Math.max(0,_.stage-1),await QCe((b=Ae.user)==null?void 0:b.uid,r.word.id,{reviewCount:r.word.reviewCount+1,correctCount:f?r.word.correctCount+1:r.word.correctCount,stage:v,nextReviewDate:ok(v)}),qn.updateWords(y);const E=FS(),w=y.filter(S=>S.nextReviewDate<=E);s(w[0]?l(w[0]):null),t(!1)}catch(_){console.error("Error updating word progress in Firestore:",_)}finally{o(!1)}}},[r]),h=qn.todayWords;return F.jsx("div",{className:"container",children:F.jsxs("div",{className:"card",children:[F.jsxs("div",{className:Rt.header,children:[F.jsxs("div",{className:Rt.box,children:[F.jsx("div",{className:Rt.boxTitle,children:n("review.todayReview")}),F.jsx("div",{className:Qv(Rt.num,Rt.today),children:h})]}),F.jsxs("div",{className:Rt.box,children:[F.jsx("div",{className:Rt.boxTitle,children:n("review.completedWords")}),F.jsx("div",{className:Qv(Rt.num),children:qn.completedWordsCount})]}),F.jsxs("div",{className:Rt.box,children:[F.jsx("div",{className:Rt.boxTitle,children:n("review.totalWords")}),F.jsx("div",{className:Rt.num,children:qn.words.length})]})]}),F.jsx("div",{className:Rt.reviewArea,children:r?F.jsxs("div",{className:Rt.wordCard,children:[F.jsxs("div",{className:Rt.statistics,children:[F.jsxs("div",{className:Rt.left,children:[F.jsx("div",{className:Rt.groupInfo,children:F.jsx(Or,{color:"blue",size:"large",children:u(r.word.groupId)})}),n("review.accuracy"),"",F.jsxs("span",{children:[r.word.reviewCount===0?"0":(r.word.correctCount/r.word.reviewCount*100).toFixed(1),"%"]})]}),F.jsx(OCe,{stage:r==null?void 0:r.word.stage,size:48})]}),F.jsx("div",{className:Rt.questionWrapper,children:F.jsx(ik,{heading:4,className:Rt.question,children:r.isJapaneseQuestion?r.word.japanese:r.word.chinese})}),e?F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:Rt.answerWrapper,children:[F.jsx(ik,{heading:4,className:Rt.answer,children:r.isJapaneseQuestion?r.word.chinese:r.word.japanese}),F.jsx(ze,{type:"tertiary",size:"small",className:Rt.voice,icon:F.jsx(s4,{className:Rt.icon}),onClick:f=>a(r.word.japanese,f),style:{marginLeft:8}})]}),F.jsxs("div",{className:Rt.cardFoot,children:[F.jsx(ze,{theme:"solid",size:"large",className:Rt.button2,onClick:()=>d(!1),loading:i,children:n("review.forgotten")}),F.jsx(ze,{type:"secondary",theme:"solid",size:"large",className:Rt.button,onClick:()=>d(!0),loading:i,children:n("review.remembered")})]})]}):F.jsx("div",{className:Rt.cardFoot,children:F.jsx(ze,{type:"secondary",theme:"solid",size:"large",className:Rt.button,onClick:()=>t(!0),children:n("review.showAnswer")})})]}):F.jsx("div",{className:Rt.completedMessage,children:F.jsx(nIe,{type:"secondary",size:"normal",children:n("review.completed")})})})]})})}),sIe="_title_4hmd6_1",iIe="_form_4hmd6_4",oIe="_input_4hmd6_8",aIe="_submitButton_4hmd6_12",Mi={title:sIe,form:iIe,input:oIe,submitButton:aIe},{Text:lIe}=is,uIe=Oi(()=>{var v,E;const{t:n}=go(),[e,t]=D.useState(""),[r,s]=D.useState(""),[i,o]=D.useState(""),[a,l]=D.useState(""),[u,d]=D.useState(""),[h,f]=D.useState(!1),[g,b]=D.useState(!1),y=D.useCallback(async w=>{var S;if(w.preventDefault(),!(!((S=Ae.user)!=null&&S.uid)||h)){if(!e.trim()||!r.trim()){Tn.error(n("addWord.requiredFields"));return}f(!0);try{const O={japanese:e.trim(),chinese:r.trim(),groupId:i,createdAt:Date.now(),nextReviewDate:Date.now(),reviewCount:0,correctCount:0,stage:0};await GD(Ae.user.uid,O),await qn.loadWords(),t(""),s(""),Tn.success(n("addWord.addSuccess"))}catch(O){console.error("Error adding word:",O),Tn.error(n("addWord.addError"))}finally{f(!1)}}},[e,r,i,(v=Ae.user)==null?void 0:v.uid,h,n]),_=D.useCallback(async()=>{var w;if(!(!((w=Ae.user)!=null&&w.uid)||!u.trim()||g)){b(!0);try{const S=JSON.parse(u);if(!Array.isArray(S)){Tn.error(n("common.invalidJSON"));return}let O=0,x=0;for(const I of S){if(!I.japanese||!I.chinese){x++;continue}const T={japanese:I.japanese.trim(),chinese:I.chinese.trim(),groupId:a,createdAt:Date.now(),nextReviewDate:Date.now(),reviewCount:0,correctCount:0,stage:0};try{await GD(Ae.user.uid,T),O++}catch(P){console.error("Error adding word:",P),x++}}await qn.loadWords(),d(""),Tn.success(n("addWord.batchUploadResult",{success:O,error:x}))}catch(S){console.error("Error parsing JSON:",S),Tn.error(n("addWord.invalidJSON"))}finally{b(!1)}}},[u,a,(E=Ae.user)==null?void 0:E.uid,g,n]);return Ae.user?(console.log(An.groups),F.jsx("div",{className:"container",children:F.jsxs("div",{className:"card",children:[F.jsx("h2",{className:Mi.title,children:n("nav.add")}),F.jsx(eo,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:F.jsx("form",{onSubmit:y,className:Mi.form,children:F.jsxs(eo,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:[F.jsx(Ln,{value:e,onChange:w=>t(w),placeholder:n("common.japanese"),className:Mi.input,size:"large",showClear:!0,disabled:h}),F.jsx(Ln,{value:r,onChange:w=>s(w),placeholder:n("common.chinese"),className:Mi.input,size:"large",showClear:!0,disabled:h}),F.jsx(Zr,{value:i,onChange:w=>o(w),disabled:h,size:"large",style:{width:"100%"},placeholder:n("common.group"),children:An.groups.map(w=>F.jsx(Zr.Option,{value:w.id,children:w.name},w.id))}),F.jsx(ze,{type:"secondary",htmlType:"submit",theme:"solid",size:"large",className:Mi.submitButton,loading:h,children:n("common.addButton")})]})})}),F.jsx("h2",{className:Mi.title,style:{marginTop:"48px"},children:n("addWord.batchUploadTitle")}),F.jsxs(eo,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:[F.jsx(mj,{value:u,onChange:w=>d(w),placeholder:`[
  {"japanese": "1", "chinese": "1"},
  {"japanese": "2", "chinese": "2"}
]`,className:Mi.jsonInput,rows:5,disabled:g}),F.jsx(Zr,{value:a,onChange:w=>l(w),disabled:g,size:"large",style:{width:"100%"},placeholder:n("common.group"),children:An.groups.map(w=>F.jsx(Zr.Option,{value:w.id,children:w.name},w.id))}),F.jsx(ze,{type:"secondary",theme:"solid",size:"large",className:Mi.submitButton,loading:g,onClick:_,children:n("addWord.batchUploadButton")})]})]})})):F.jsx("div",{className:Mi.container,children:F.jsx("div",{className:Mi.card,children:F.jsx(lIe,{children:n("common.pleaseLogin")})})})}),cIe="_wordList_1vshj_1",dIe="_title_1vshj_6",hIe="_list_1vshj_10",fIe="_wordCard_1vshj_14",pIe="_wordCardBody_1vshj_21",gIe="_wordCardContent_1vshj_25",mIe="_stage_1vshj_35",vIe="_remove_1vshj_52",yIe="_icon_1vshj_55",_Ie="_pronunciationContainer_1vshj_59",bIe="_voice_1vshj_64",wIe="_groupContainer_1vshj_75",EIe="_tabs_1vshj_84",SIe="_tab_1vshj_84",CIe="_active_1vshj_98",TIe="_setting_1vshj_103",_r={wordList:cIe,title:dIe,list:hIe,wordCard:fIe,wordCardBody:pIe,wordCardContent:gIe,stage:mIe,remove:vIe,icon:yIe,pronunciationContainer:_Ie,voice:bIe,groupContainer:wIe,tabs:EIe,tab:SIe,active:CIe,setting:TIe},{Text:uh,Title:IIe}=is,OIe=Oi(()=>{const{t:n}=go(),e=mu(),[t,r]=D.useState(""),s=l4(),i=D.useMemo(()=>{let o=An.currentGroupId==="default"?qn.words:qn.words.filter(a=>a.groupId===An.currentGroupId);if(t){const a=t.toLowerCase();o=o.filter(l=>l.japanese.toLowerCase().includes(a)||l.chinese.toLowerCase().includes(a))}return[...o].sort((a,l)=>{if(a.stage!==l.stage)return a.stage-l.stage;const u=a.reviewCount-a.correctCount;return l.reviewCount-l.correctCount-u})},[qn.words,t,An.currentGroupId]);return Ae.user?F.jsx("div",{className:Qv("container",_r.list),children:F.jsxs("div",{className:"card",children:[F.jsx("div",{className:_r.searchContainer,children:F.jsx(Ln,{prefix:F.jsx(WCe,{className:_r.icon}),placeholder:n("common.search"),size:"large",value:t,onChange:o=>r(o),style:{marginBottom:16}})}),F.jsxs("div",{className:_r.groupContainer,children:[F.jsx("div",{className:_r.tabs,children:An.allGroups.map(o=>F.jsx("div",{role:"button",tabIndex:0,onClick:()=>An.setCurrentGroup(o.id),onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&An.setCurrentGroup(o.id)},className:Qv(_r.tab,{[_r.active]:o.id===An.currentGroupId}),children:F.jsx("span",{children:o.name})},o.id))}),F.jsx("div",{className:_r.setting,onClick:()=>e("/word/group-setting"),children:F.jsx(r4,{className:_r.icon})})]}),F.jsx(eo,{vertical:!0,align:"start",style:{width:"100%"},children:qn.loading?F.jsx(uh,{type:"tertiary",children:n("common.loading")}):i.length===0?F.jsx(uh,{type:"tertiary",children:n(t?"addWord.noSearchResults":"addWord.emptyList")}):i.map(o=>F.jsx("div",{className:_r.wordCard,children:F.jsxs("div",{className:_r.wordCardContent,children:[F.jsxs(eo,{vertical:!0,align:"start",children:[F.jsx("div",{children:F.jsxs(IIe,{heading:5,className:_r.title,children:[o.japanese," ",F.jsx("span",{className:_r.stage,children:o.stage})]})}),F.jsx(uh,{children:o.chinese}),F.jsx(uh,{type:"tertiary",size:"small",children:n("addWord.nextReview",{date:new Date(o.nextReviewDate).toLocaleDateString()})})]}),F.jsx(ze,{type:"tertiary",size:"small",className:_r.voice,icon:F.jsx(s4,{className:_r.icon}),onClick:a=>s(o.japanese,a),style:{marginLeft:8}}),F.jsx(ze,{type:"primary",theme:"borderless",className:_r.remove,onClick:()=>e(`/word/${o.id}`),children:n("common.details")})]})},o.id))})]})}):F.jsx("div",{className:"container",children:F.jsx("div",{className:"card",children:F.jsx(uh,{children:n("common.pleaseLogin")})})})}),PIe="_container_1vs6g_1",xIe="_actionButtons_1vs6g_7",RIe="_button_1vs6g_12",AIe="_button2_1vs6g_13",$i={container:PIe,actionButtons:xIe,button:RIe,button2:AIe},{Text:A0}=is,DIe=Oi(()=>{var g;const{t:n}=go(),{id:e}=N6(),t=mu(),[r,s]=D.useState(null),[i,o]=D.useState(!0),[a,l]=D.useState(!1),[u,d]=D.useState(!1);D.useEffect(()=>{An.initialized||An.loadGroups()},[]),D.useEffect(()=>{(async()=>{var y;if(!(!((y=Ae.user)!=null&&y.uid)||!e))try{const _=await ZCe(Ae.user.uid,e);s(_)}catch(_){console.error("Error loading word:",_)}finally{o(!1)}})()},[e,(g=Ae.user)==null?void 0:g.uid]);const h=async b=>{var y;if(!(!((y=Ae.user)!=null&&y.uid)||!e||!r)){l(!0);try{await JCe(Ae.user.uid,e,{...r,japanese:b.japanese,chinese:b.chinese,groupId:b.groupId}),await qn.loadWords(),t("/word")}catch(_){console.error("Error updating word:",_)}finally{l(!1)}}},f=async()=>{var b;if(!(!((b=Ae.user)!=null&&b.uid)||!e)){d(!0);try{await XCe(Ae.user.uid,e),await qn.loadWords(),t("/word")}catch(y){console.error("Error deleting word:",y)}finally{d(!1)}}};return Ae.user?i?F.jsx("div",{className:$i.container,children:F.jsx("div",{className:$i.card,children:F.jsx(A0,{children:n("common.loading")})})}):r?F.jsx("div",{className:$i.container,children:F.jsx("div",{className:$i.card,children:F.jsxs(tt,{initValues:{japanese:r.japanese,chinese:r.chinese,groupId:r.groupId},onSubmit:h,children:[F.jsx(tt.Input,{field:"japanese",label:n("common.japanese"),rules:[{required:!0}],size:"large"}),F.jsx(tt.Input,{field:"chinese",label:n("common.chinese"),rules:[{required:!0}],size:"large"}),F.jsx(tt.Select,{field:"groupId",label:n("common.group"),size:"large",placeholder:n("common.group"),style:{width:"100%"},children:An.groups.map(b=>F.jsx(tt.Select.Option,{value:b.id,children:b.name},b.id))}),F.jsxs("div",{className:$i.actionButtons,children:[F.jsx(ze,{theme:"solid",type:"secondary",htmlType:"submit",loading:a,className:$i.button,size:"large",children:n("common.save")}),F.jsx(ze,{theme:"solid",type:"danger",onClick:f,loading:u,size:"large",children:n("common.deleteButton")}),F.jsx(ze,{theme:"solid",type:"tertiary",size:"large",onClick:()=>t("/word"),children:n("common.cancel")})]})]})})}):F.jsx("div",{className:$i.container,children:F.jsx("div",{className:$i.card,children:F.jsx(A0,{children:n("common.notFound")})})}):F.jsx("div",{className:$i.container,children:F.jsx("div",{className:$i.card,children:F.jsx(A0,{children:n("common.pleaseLogin")})})})}),kIe="_header_1a01b_1",NIe="_gridContainer_1a01b_7",LIe="_groupItem_1a01b_15",MIe="_name_1a01b_24",$Ie="_editIcon_1a01b_28",FIe="_icon_1a01b_35",wo={header:kIe,gridContainer:NIe,groupItem:LIe,name:MIe,editIcon:$Ie,icon:FIe},{Text:jIe,Title:VIe}=is,UIe=Oi(()=>{const{t:n}=go(),e=mu(),[t,r]=D.useState(!1),[s,i]=D.useState(""),[o,a]=D.useState(null),l=async()=>{if(s.trim())try{o?(await An.updateGroup(o.id,s.trim()),Tn.success(n("group.updateSuccess"))):(await An.createGroup(s.trim()),Tn.success(n("group.createSuccess"))),u()}catch(h){Tn.error(n(o?"group.updateError":"group.createError")),console.error(h)}},u=()=>{r(!1),i(""),a(null)},d=h=>{h?(a(h),i(h.name)):(a(null),i("")),r(!0)};return Ae.user?F.jsx("div",{className:"container",children:F.jsxs("div",{className:"card",children:[F.jsxs("div",{className:wo.header,children:[F.jsx(VIe,{heading:3,style:{margin:0},children:n("group.settings")}),F.jsx(ze,{theme:"outline",type:"tertiary",onClick:()=>e("/word"),children:n("common.back")})]}),F.jsx(eo,{vertical:!0,align:"start",style:{width:"100%",marginTop:24},className:wo.group,children:F.jsxs("div",{className:wo.gridContainer,children:[An.groups.map(h=>F.jsxs("div",{className:wo.groupItem,children:[F.jsx("div",{className:wo.name,children:h.name}),F.jsx(eo,{children:F.jsx(ze,{theme:"outline",type:"tertiary",icon:F.jsx(KCe,{className:wo.editIcon}),onClick:()=>d(h)})})]},h.id)),F.jsx("div",{className:wo.groupItem,children:F.jsx(ze,{theme:"outline",type:"secondary",icon:F.jsx(zCe,{className:wo.icon}),onClick:()=>d()})})]})}),F.jsx(Cs,{title:n(o?"common.edit":"group.create"),visible:t,onOk:l,okButtonProps:{size:"large",type:"secondary"},onCancel:u,okText:n("common.confirm"),cancelText:n("common.cancel"),cancelButtonProps:{size:"large"},className:wo.modal,centered:!0,children:F.jsx(Ln,{value:s,size:"large",onChange:h=>i(h),placeholder:n("group.nameInputPlaceholder")})})]})}):F.jsx("div",{className:"container",children:F.jsx("div",{className:"card",children:F.jsx(jIe,{children:n("common.pleaseLogin")})})})}),BIe="_email_1ym1f_1",HIe="_actionSection_1ym1f_6",zIe="_actionButton_1ym1f_13",KIe="_version_1ym1f_17",ch={email:BIe,actionSection:HIe,actionButton:zIe,version:KIe},{Title:WIe}=is,GIe=Oi(()=>{const{t:n}=go(),{user:e}=Ae,t=mu(),r=D.useCallback(async()=>{try{await Ae.logout(),Tn.success(n("profile.logoutSuccess"))}catch{Tn.error(n("profile.logoutError"))}},[n]),s=D.useCallback(()=>{try{const i=qn.words.map(({japanese:h,chinese:f})=>({japanese:h,chinese:f})),o=JSON.stringify(i,null,2),a=new Blob([o],{type:"application/json"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l;const d=new Date().toISOString().split("T")[0];u.download=`vocabulary_${d}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l),Tn.success(n("common.exportSuccess"))}catch(i){console.error("Export error:",i),Tn.error(n("common.exportError"))}},[n]);return F.jsx("div",{className:"container",children:F.jsxs("div",{className:"card",children:[F.jsx(WIe,{heading:3,children:n("profile.title")}),F.jsx("div",{className:ch.email,children:e==null?void 0:e.email}),(e==null?void 0:e.emailVerified)&&F.jsx(Or,{color:"green",type:"light",children:n("profile.verified")}),F.jsxs("div",{className:ch.actionSection,children:[F.jsx(ze,{theme:"solid",type:"secondary",size:"large",className:ch.actionButton,onClick:s,children:n("common.export")}),F.jsx(ze,{theme:"solid",type:"secondary",size:"large",className:ch.actionButton,onClick:()=>t("/change-password"),children:n("profile.changePassword")}),F.jsx(ze,{theme:"solid",type:"tertiary",size:"large",onClick:r,children:n("profile.logoutButton")})]}),F.jsx("div",{className:ch.version,children:"Version 1.0.0"})]})})}),YIe="_actionButtons_t8f3o_1",ak={actionButtons:YIe},{Title:qIe}=is,XIe=Oi(()=>{const{t:n}=go(),e=mu(),[t,r]=D.useState(!1),s=D.useCallback(async i=>{if(i.newPassword!==i.confirmPassword){Tn.error(n("profile.passwordMismatch"));return}r(!0);try{await Ae.updatePassword(i.newPassword),Tn.success(n("profile.passwordUpdateSuccess")),e("/profile")}catch{Tn.error(n("profile.passwordUpdateError"))}finally{r(!1)}},[n,e]);return F.jsx("div",{className:"container",children:F.jsxs("div",{className:"card",children:[F.jsx(qIe,{heading:3,children:n("profile.changePassword")}),F.jsxs(tt,{onSubmit:s,children:[F.jsx(tt.Input,{field:"newPassword",label:n("profile.newPassword"),size:"large",type:"password",rules:[{required:!0,message:n("profile.passwordRequired")},{min:6,message:n("profile.passwordMinLength")}]}),F.jsx(tt.Input,{field:"confirmPassword",label:n("profile.confirmPassword"),size:"large",type:"password",rules:[{required:!0,message:n("profile.confirmPasswordRequired")}]}),F.jsxs("div",{className:ak.actionButtons,children:[F.jsx(ze,{htmlType:"submit",type:"secondary",theme:"solid",size:"large",className:ak.button,loading:t,children:n("common.confirm")}),F.jsx(ze,{theme:"solid",type:"tertiary",size:"large",onClick:()=>e("/profile"),children:n("common.cancel")})]})]})]})})}),QIe="_container_ot96o_1",ZIe="_card_ot96o_9",JIe="_solgen_ot96o_13",eOe="_title_ot96o_19",tOe="_form_ot96o_26",nOe="_input_ot96o_32",rOe="_button_ot96o_37",Eo={container:QIe,card:ZIe,solgen:JIe,title:eOe,form:tOe,input:nOe,button:rOe},sOe=Oi(()=>{const{t:n}=go(),[e,t]=D.useState(""),[r,s]=D.useState(""),[i,o]=D.useState(!0),a=D.useCallback(()=>{o(u=>!u)},[]),l=D.useCallback(async u=>{if(u.preventDefault(),!e||!r){Tn.error(n("login.errorMessages.emailRequired")+" "+n("login.errorMessages.passwordRequired"));return}(i?await Ae.login(e,r):await Ae.register(e,r))?Tn.success(n(i?"login.successMessages.loginSuccess":"login.successMessages.registerSuccess")):Tn.error(n(i?"login.errorMessages.loginFailed":"login.errorMessages.registerFailed"))},[e,r,i,n]);return F.jsx("div",{className:Eo.container,children:F.jsxs("div",{className:Eo.card,children:[F.jsx("h1",{className:Eo.solgen,children:n("login.solgen")}),F.jsx("div",{className:Eo.title,children:n(i?"login.title.login":"login.title.register")}),F.jsxs("form",{onSubmit:l,className:Eo.form,children:[F.jsx(Ln,{type:"email",placeholder:n("login.placeholder.email"),value:e,onChange:t,size:"large",className:Eo.input}),F.jsx(Ln,{type:"password",placeholder:n("login.placeholder.password"),value:r,onChange:s,size:"large",className:Eo.input}),F.jsx(ze,{type:"secondary",htmlType:"submit",theme:"solid",size:"large",className:Eo.button,children:n(i?"login.button.login":"login.button.register")}),F.jsx(ze,{type:"tertiary",block:!0,size:"large",onClick:a,className:Eo.switchButton,children:n(i?"login.button.switchToRegister":"login.button.switchToLogin")})]})]})})}),iOe="_title_gfftk_1",oOe="_actionButtons_gfftk_5",aOe="_button_gfftk_11",D0={title:iOe,actionButtons:oOe,button:aOe},lOe=Oi(()=>{const{t:n}=go(),[e,t]=D.useState(!1),r=async()=>{if(Ae.user){t(!0);try{await LS(Ae.user),Tn.success(n("verification.emailSentSuccess"))}catch{Tn.error(n("verification.emailSentError"))}finally{t(!1)}}};return F.jsx("div",{className:"container",children:F.jsxs("div",{className:"card",children:[F.jsx("h2",{className:D0.title,children:n("verification.title")}),F.jsx(is.Paragraph,{children:n("verification.description")}),F.jsxs("div",{className:D0.actionButtons,children:[F.jsx(ze,{theme:"solid",type:"secondary",size:"large",className:D0.button,loading:e,onClick:r,children:n("verification.resendButton")}),F.jsx(ze,{theme:"solid",type:"tertiary",size:"large",onClick:()=>Ae.logout(),children:n("profile.logoutButton")})]})]})})}),dh=({element:n})=>Ae.user?Ae.isEmailVerified?n:F.jsx($h,{to:"/verify-email",replace:!0}):F.jsx($h,{to:"/login",replace:!0}),uOe=Oi(()=>Ae.loading?F.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:F.jsx(uo,{size:"large"})}):Ae.user?Ae.isEmailVerified?F.jsx(MTe,{children:F.jsxs(vb,{children:[F.jsx(ps,{path:"/",element:F.jsx(dh,{element:F.jsx(rIe,{})})}),F.jsx(ps,{path:"/add",element:F.jsx(dh,{element:F.jsx(uIe,{})})}),F.jsx(ps,{path:"/word",element:F.jsx(dh,{element:F.jsx(OIe,{})})}),F.jsx(ps,{path:"/word/:id",element:F.jsx(DIe,{})}),F.jsx(ps,{path:"/word/group-setting",element:F.jsx(UIe,{})}),F.jsx(ps,{path:"/profile",element:F.jsx(dh,{element:F.jsx(GIe,{})})}),F.jsx(ps,{path:"/change-password",element:F.jsx(dh,{element:F.jsx(XIe,{})})}),F.jsx(ps,{path:"*",element:F.jsx($h,{to:"/",replace:!0})})]})}):F.jsxs(vb,{children:[F.jsx(ps,{path:"/verify-email",element:F.jsx(lOe,{})}),F.jsx(ps,{path:"*",element:F.jsx($h,{to:"/verify-email",replace:!0})})]}):F.jsxs(vb,{children:[F.jsx(ps,{path:"/login",element:F.jsx(sOe,{})}),F.jsx(ps,{path:"*",element:F.jsx($h,{to:"/login",replace:!0})})]}));var u4=[],cOe=u4.forEach,dOe=u4.slice;function hOe(n){return cOe.call(dOe.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var lk=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,fOe=function(e,t,r){var s=r||{};s.path=s.path||"/";var i=encodeURIComponent(t),o="".concat(e,"=").concat(i);if(s.maxAge>0){var a=s.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(s.domain){if(!lk.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!lk.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var l=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},uk={create:function(e,t,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=fOe(e,encodeURIComponent(t),i)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var i=r[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},pOe={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=uk.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&uk.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},gOe={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),i=s.split("&"),o=0;o<i.length;o++){var a=i[o].indexOf("=");if(a>0){var l=i[o].substring(0,a);l===e.lookupQuerystring&&(t=i[o].substring(a+1))}}}return t}},hh=null,ck=function(){if(hh!==null)return hh;try{hh=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{hh=!1}return hh},mOe={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&ck()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&ck()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},fh=null,dk=function(){if(fh!==null)return fh;try{fh=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{fh=!1}return fh},vOe={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&dk()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&dk()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},yOe={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},_Oe={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},bOe={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},wOe={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}},c4=!1;try{document.cookie,c4=!0}catch{}var d4=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];c4||d4.splice(1,1);function EOe(){return{order:d4,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var h4=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ke(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return We(n,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=hOe(r,this.options||{},EOe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(pOe),this.addDetector(gOe),this.addDetector(mOe),this.addDetector(vOe),this.addDetector(yOe),this.addDetector(_Oe),this.addDetector(bOe),this.addDetector(wOe)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var s=[];return t.forEach(function(i){if(r.detectors[i]){var o=r.detectors[i].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),s=s.map(function(i){return r.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(t,s.options)}))}}])}();h4.type="languageDetector";const SOe={common:{ok:"",cancel:"",confirm:"",edit:"",back:"",japanese:"",chinese:"",group:"",addButton:"",all:"",deleteButton:"",loading:"...",pleaseLogin:"",search:"...",details:"",save:"",export:"",exportSuccess:"",exportError:"",notFound:""},nav:{task:"",add:"",wordlist:"",profile:""},review:{addButton:"",todayReview:"",correctRate:"",totalReviews:"",totalWords:"",showAnswer:"",remembered:"",forgotten:"",completedWords:"",completed:"",accuracy:"",memoryLevel:""},addWord:{listTitle:"",emptyList:"",nextReview:": {{date}}",deleteConfirm:{title:"",content:""},batchUploadTitle:"JSON",batchUploadButton:"",invalidJSON:"JSON",batchUploadResult:" {{success}}  {{error}} ",addSuccess:"",addError:"",noSearchResults:"",requiredFields:""},profile:{title:"",verified:"",logoutButton:"",logoutSuccess:"",logoutError:"",changePassword:"",newPassword:"",confirmPassword:"",passwordRequired:"",confirmPasswordRequired:"",passwordMinLength:"6",passwordMismatch:"",passwordUpdateSuccess:"",passwordUpdateError:""},login:{solgen:"",title:{login:"",register:""},placeholder:{email:"",password:""},button:{login:"",register:"",switchToRegister:"",switchToLogin:""},errorMessages:{emailRequired:"",passwordRequired:"",loginFailed:"",registerFailed:""},successMessages:{loginSuccess:"",registerSuccess:""}},verification:{title:"",description:"",resendButton:"",emailSentSuccess:"",emailSentError:""},group:{settings:"",create:"",nameInputPlaceholder:"",createSuccess:"",updateSuccess:"",createError:"",updateError:""}};ur.use(h4).use(jCe).init({resources:{ja:{translation:SOe}},fallbackLng:"ja",interpolation:{escapeValue:!1}});k0.createRoot(document.getElementById("root")).render(F.jsx(m.StrictMode,{children:F.jsx(Z6,{children:F.jsx(uOe,{})})}));
