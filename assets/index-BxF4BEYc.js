var E5=Object.defineProperty;var S5=(n,e,t)=>e in n?E5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var js=(n,e,t)=>(S5(n,typeof e!="symbol"?e+"":e,t),t);function C5(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ge(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ek={exports:{}},nv={},Sk={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=Symbol.for("react.element"),T5=Symbol.for("react.portal"),O5=Symbol.for("react.fragment"),I5=Symbol.for("react.strict_mode"),P5=Symbol.for("react.profiler"),x5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),A5=Symbol.for("react.forward_ref"),D5=Symbol.for("react.suspense"),k5=Symbol.for("react.memo"),N5=Symbol.for("react.lazy"),uI=Symbol.iterator;function $5(n){return n===null||typeof n!="object"?null:(n=uI&&n[uI]||n["@@iterator"],typeof n=="function"?n:null)}var Ck={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tk=Object.assign,Ok={};function Jc(n,e,t){this.props=n,this.context=e,this.refs=Ok,this.updater=t||Ck}Jc.prototype.isReactComponent={};Jc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Jc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Ik(){}Ik.prototype=Jc.prototype;function cC(n,e,t){this.props=n,this.context=e,this.refs=Ok,this.updater=t||Ck}var dC=cC.prototype=new Ik;dC.constructor=cC;Tk(dC,Jc.prototype);dC.isPureReactComponent=!0;var cI=Array.isArray,Pk=Object.prototype.hasOwnProperty,hC={current:null},xk={key:!0,ref:!0,__self:!0,__source:!0};function Rk(n,e,t){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Pk.call(e,r)&&!xk.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Gf,type:n,key:i,ref:a,props:s,_owner:hC.current}}function L5(n,e){return{$$typeof:Gf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function fC(n){return typeof n=="object"&&n!==null&&n.$$typeof===Gf}function M5(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var dI=/\/+/g;function tb(n,e){return typeof n=="object"&&n!==null&&n.key!=null?M5(""+n.key):e.toString(36)}function zg(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Gf:case T5:a=!0}}if(a)return a=n,s=s(a),n=r===""?"."+tb(a,0):r,cI(s)?(t="",n!=null&&(t=n.replace(dI,"$&/")+"/"),zg(s,e,t,"",function(u){return u})):s!=null&&(fC(s)&&(s=L5(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(dI,"$&/")+"/")+n)),e.push(s)),1;if(a=0,r=r===""?".":r+":",cI(n))for(var o=0;o<n.length;o++){i=n[o];var l=r+tb(i,o);a+=zg(i,e,t,l,s)}else if(l=$5(n),typeof l=="function")for(n=l.call(n),o=0;!(i=n.next()).done;)i=i.value,l=r+tb(i,o++),a+=zg(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Jp(n,e,t){if(n==null)return n;var r=[],s=0;return zg(n,r,"","",function(i){return e.call(t,i,s++)}),r}function F5(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Dr={current:null},Kg={transition:null},j5={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:Kg,ReactCurrentOwner:hC};function Ak(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Jp,forEach:function(n,e,t){Jp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jp(n,function(){e++}),e},toArray:function(n){return Jp(n,function(e){return e})||[]},only:function(n){if(!fC(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ne.Component=Jc;Ne.Fragment=O5;Ne.Profiler=P5;Ne.PureComponent=cC;Ne.StrictMode=I5;Ne.Suspense=D5;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j5;Ne.act=Ak;Ne.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Tk({},n.props),s=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=hC.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)Pk.call(e,l)&&!xk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Gf,type:n.type,key:s,ref:i,props:r,_owner:a}};Ne.createContext=function(n){return n={$$typeof:R5,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:x5,_context:n},n.Consumer=n};Ne.createElement=Rk;Ne.createFactory=function(n){var e=Rk.bind(null,n);return e.type=n,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(n){return{$$typeof:A5,render:n}};Ne.isValidElement=fC;Ne.lazy=function(n){return{$$typeof:N5,_payload:{_status:-1,_result:n},_init:F5}};Ne.memo=function(n,e){return{$$typeof:k5,type:n,compare:e===void 0?null:e}};Ne.startTransition=function(n){var e=Kg.transition;Kg.transition={};try{n()}finally{Kg.transition=e}};Ne.unstable_act=Ak;Ne.useCallback=function(n,e){return Dr.current.useCallback(n,e)};Ne.useContext=function(n){return Dr.current.useContext(n)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(n){return Dr.current.useDeferredValue(n)};Ne.useEffect=function(n,e){return Dr.current.useEffect(n,e)};Ne.useId=function(){return Dr.current.useId()};Ne.useImperativeHandle=function(n,e,t){return Dr.current.useImperativeHandle(n,e,t)};Ne.useInsertionEffect=function(n,e){return Dr.current.useInsertionEffect(n,e)};Ne.useLayoutEffect=function(n,e){return Dr.current.useLayoutEffect(n,e)};Ne.useMemo=function(n,e){return Dr.current.useMemo(n,e)};Ne.useReducer=function(n,e,t){return Dr.current.useReducer(n,e,t)};Ne.useRef=function(n){return Dr.current.useRef(n)};Ne.useState=function(n){return Dr.current.useState(n)};Ne.useSyncExternalStore=function(n,e,t){return Dr.current.useSyncExternalStore(n,e,t)};Ne.useTransition=function(){return Dr.current.useTransition()};Ne.version="18.3.1";Sk.exports=Ne;var T=Sk.exports;const g=ge(T),V5=C5({__proto__:null,default:g},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5=T,B5=Symbol.for("react.element"),H5=Symbol.for("react.fragment"),z5=Object.prototype.hasOwnProperty,K5=U5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W5={key:!0,ref:!0,__self:!0,__source:!0};function Dk(n,e,t){var r,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)z5.call(e,r)&&!W5.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:B5,type:n,key:i,ref:a,props:s,_owner:K5.current}}nv.Fragment=H5;nv.jsx=Dk;nv.jsxs=Dk;Ek.exports=nv;var A=Ek.exports,q0={},kk={exports:{}},us={},Nk={exports:{}},$k={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,j){var L=N.length;N.push(j);e:for(;0<L;){var te=L-1>>>1,Q=N[te];if(0<s(Q,j))N[te]=j,N[L]=Q,L=te;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],L=N.pop();if(L!==j){N[0]=L;e:for(var te=0,Q=N.length,ie=Q>>>1;te<ie;){var le=2*(te+1)-1,Ee=N[le],he=le+1,de=N[he];if(0>s(Ee,L))he<Q&&0>s(de,Ee)?(N[te]=de,N[he]=L,te=he):(N[te]=Ee,N[le]=L,te=le);else if(he<Q&&0>s(de,L))N[te]=de,N[he]=L,te=he;else break e}}return j}function s(N,j){var L=N.sortIndex-j.sortIndex;return L!==0?L:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,_=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var j=t(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=N)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function E(N){if(y=!1,b(N),!_)if(t(l)!==null)_=!0,F(S);else{var j=t(u);j!==null&&W(E,j.startTime-N)}}function S(N,j){_=!1,y&&(y=!1,m(I),I=-1),p=!0;var L=f;try{for(b(j),h=t(l);h!==null&&(!(h.expirationTime>j)||N&&!D());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var Q=te(h.expirationTime<=j);j=n.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(l)&&r(l),b(j)}else r(l);h=t(l)}if(h!==null)var ie=!0;else{var le=t(u);le!==null&&W(E,le.startTime-j),ie=!1}return ie}finally{h=null,f=L,p=!1}}var C=!1,O=null,I=-1,P=5,x=-1;function D(){return!(n.unstable_now()-x<P)}function $(){if(O!==null){var N=n.unstable_now();x=N;var j=!0;try{j=O(!0,N)}finally{j?M():(C=!1,O=null)}}else C=!1}var M;if(typeof w=="function")M=function(){w($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=$,M=function(){B.postMessage(null)}}else M=function(){v($,0)};function F(N){O=N,C||(C=!0,M())}function W(N,j){I=v(function(){N(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){_||p||(_=!0,F(S))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var L=f;f=j;try{return N()}finally{f=L}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=f;f=N;try{return j()}finally{f=L}},n.unstable_scheduleCallback=function(N,j,L){var te=n.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?te+L:te):L=te,N){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=L+Q,N={id:d++,callback:j,priorityLevel:N,startTime:L,expirationTime:Q,sortIndex:-1},L>te?(N.sortIndex=L,e(u,N),t(l)===null&&N===t(u)&&(y?(m(I),I=-1):y=!0,W(E,L-te))):(N.sortIndex=Q,e(l,N),_||p||(_=!0,F(S))),N},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(N){var j=f;return function(){var L=f;f=j;try{return N.apply(this,arguments)}finally{f=L}}}})($k);Nk.exports=$k;var G5=Nk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y5=T,is=G5;function G(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lk=new Set,Bh={};function eu(n,e){Oc(n,e),Oc(n+"Capture",e)}function Oc(n,e){for(Bh[n]=e,n=0;n<e.length;n++)Lk.add(e[n])}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X0=Object.prototype.hasOwnProperty,q5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hI={},fI={};function X5(n){return X0.call(fI,n)?!0:X0.call(hI,n)?!1:q5.test(n)?fI[n]=!0:(hI[n]=!0,!1)}function Q5(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Z5(n,e,t,r){if(e===null||typeof e>"u"||Q5(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kr(n,e,t,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Zn[n]=new kr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Zn[e]=new kr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Zn[n]=new kr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Zn[n]=new kr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Zn[n]=new kr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Zn[n]=new kr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Zn[n]=new kr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Zn[n]=new kr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Zn[n]=new kr(n,5,!1,n.toLowerCase(),null,!1,!1)});var pC=/[\-:]([a-z])/g;function gC(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(pC,gC);Zn[e]=new kr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(pC,gC);Zn[e]=new kr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(pC,gC);Zn[e]=new kr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Zn[n]=new kr(n,1,!1,n.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Zn[n]=new kr(n,1,!1,n.toLowerCase(),null,!0,!0)});function mC(n,e,t,r){var s=Zn.hasOwnProperty(e)?Zn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z5(e,t,s,r)&&(t=null),r||s===null?X5(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ma=Y5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eg=Symbol.for("react.element"),Bu=Symbol.for("react.portal"),Hu=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),Q0=Symbol.for("react.profiler"),Mk=Symbol.for("react.provider"),Fk=Symbol.for("react.context"),vC=Symbol.for("react.forward_ref"),Z0=Symbol.for("react.suspense"),J0=Symbol.for("react.suspense_list"),_C=Symbol.for("react.memo"),Qa=Symbol.for("react.lazy"),jk=Symbol.for("react.offscreen"),pI=Symbol.iterator;function kd(n){return n===null||typeof n!="object"?null:(n=pI&&n[pI]||n["@@iterator"],typeof n=="function"?n:null)}var Wt=Object.assign,nb;function sh(n){if(nb===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);nb=e&&e[1]||""}return`
`+nb+n}var rb=!1;function sb(n,e){if(!n||rb)return"";rb=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{rb=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?sh(n):""}function J5(n){switch(n.tag){case 5:return sh(n.type);case 16:return sh("Lazy");case 13:return sh("Suspense");case 19:return sh("SuspenseList");case 0:case 2:case 15:return n=sb(n.type,!1),n;case 11:return n=sb(n.type.render,!1),n;case 1:return n=sb(n.type,!0),n;default:return""}}function ew(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Hu:return"Fragment";case Bu:return"Portal";case Q0:return"Profiler";case yC:return"StrictMode";case Z0:return"Suspense";case J0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Fk:return(n.displayName||"Context")+".Consumer";case Mk:return(n._context.displayName||"Context")+".Provider";case vC:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _C:return e=n.displayName||null,e!==null?e:ew(n.type)||"Memo";case Qa:e=n._payload,n=n._init;try{return ew(n(e))}catch{}}return null}function eU(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ew(e);case 8:return e===yC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ao(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Vk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tU(n){var e=Vk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function tg(n){n._valueTracker||(n._valueTracker=tU(n))}function Uk(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Vk(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Tm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function tw(n,e){var t=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function gI(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ao(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bk(n,e){e=e.checked,e!=null&&mC(n,"checked",e,!1)}function nw(n,e){Bk(n,e);var t=Ao(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?rw(n,e.type,t):e.hasOwnProperty("defaultValue")&&rw(n,e.type,Ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function mI(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function rw(n,e,t){(e!=="number"||Tm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ih=Array.isArray;function cc(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ao(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function sw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function yI(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(G(92));if(ih(t)){if(1<t.length)throw Error(G(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ao(t)}}function Hk(n,e){var t=Ao(e.value),r=Ao(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function vI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function zk(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?zk(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ng,Kk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ng=ng||document.createElement("div"),ng.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ng.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Hh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var _h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nU=["Webkit","ms","Moz","O"];Object.keys(_h).forEach(function(n){nU.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),_h[e]=_h[n]})});function Wk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||_h.hasOwnProperty(n)&&_h[n]?(""+e).trim():e+"px"}function Gk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=Wk(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var rU=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aw(n,e){if(e){if(rU[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function ow(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lw=null;function bC(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var uw=null,dc=null,hc=null;function _I(n){if(n=Xf(n)){if(typeof uw!="function")throw Error(G(280));var e=n.stateNode;e&&(e=ov(e),uw(n.stateNode,n.type,e))}}function Yk(n){dc?hc?hc.push(n):hc=[n]:dc=n}function qk(){if(dc){var n=dc,e=hc;if(hc=dc=null,_I(n),e)for(n=0;n<e.length;n++)_I(e[n])}}function Xk(n,e){return n(e)}function Qk(){}var ib=!1;function Zk(n,e,t){if(ib)return n(e,t);ib=!0;try{return Xk(n,e,t)}finally{ib=!1,(dc!==null||hc!==null)&&(Qk(),qk())}}function zh(n,e){var t=n.stateNode;if(t===null)return null;var r=ov(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(G(231,e,typeof t));return t}var cw=!1;if(Ea)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){cw=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{cw=!1}function sU(n,e,t,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var bh=!1,Om=null,Im=!1,dw=null,iU={onError:function(n){bh=!0,Om=n}};function aU(n,e,t,r,s,i,a,o,l){bh=!1,Om=null,sU.apply(iU,arguments)}function oU(n,e,t,r,s,i,a,o,l){if(aU.apply(this,arguments),bh){if(bh){var u=Om;bh=!1,Om=null}else throw Error(G(198));Im||(Im=!0,dw=u)}}function tu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Jk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function bI(n){if(tu(n)!==n)throw Error(G(188))}function lU(n){var e=n.alternate;if(!e){if(e=tu(n),e===null)throw Error(G(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return bI(s),n;if(i===r)return bI(s),e;i=i.sibling}throw Error(G(188))}if(t.return!==r.return)t=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a)throw Error(G(189))}}if(t.alternate!==r)throw Error(G(190))}if(t.tag!==3)throw Error(G(188));return t.stateNode.current===t?n:e}function eN(n){return n=lU(n),n!==null?tN(n):null}function tN(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=tN(n);if(e!==null)return e;n=n.sibling}return null}var nN=is.unstable_scheduleCallback,wI=is.unstable_cancelCallback,uU=is.unstable_shouldYield,cU=is.unstable_requestPaint,on=is.unstable_now,dU=is.unstable_getCurrentPriorityLevel,wC=is.unstable_ImmediatePriority,rN=is.unstable_UserBlockingPriority,Pm=is.unstable_NormalPriority,hU=is.unstable_LowPriority,sN=is.unstable_IdlePriority,rv=null,$i=null;function fU(n){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(rv,n,void 0,(n.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:mU,pU=Math.log,gU=Math.LN2;function mU(n){return n>>>=0,n===0?32:31-(pU(n)/gU|0)|0}var rg=64,sg=4194304;function ah(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xm(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~s;o!==0?r=ah(o):(i&=a,i!==0&&(r=ah(i)))}else a=t&~s,a!==0?r=ah(a):i!==0&&(r=ah(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Qs(e),s=1<<t,r|=n[t],e&=~s;return r}function yU(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vU(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-Qs(i),o=1<<a,l=s[a];l===-1?(!(o&t)||o&r)&&(s[a]=yU(o,e)):l<=e&&(n.expiredLanes|=o),i&=~o}}function hw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function iN(){var n=rg;return rg<<=1,!(rg&4194240)&&(rg=64),n}function ab(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Yf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Qs(e),n[e]=t}function _U(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-Qs(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function EC(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Qs(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var ht=0;function aN(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var oN,SC,lN,uN,cN,fw=!1,ig=[],yo=null,vo=null,_o=null,Kh=new Map,Wh=new Map,to=[],bU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EI(n,e){switch(n){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Kh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wh.delete(e.pointerId)}}function $d(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xf(e),e!==null&&SC(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function wU(n,e,t,r,s){switch(e){case"focusin":return yo=$d(yo,n,e,t,r,s),!0;case"dragenter":return vo=$d(vo,n,e,t,r,s),!0;case"mouseover":return _o=$d(_o,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return Kh.set(i,$d(Kh.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wh.set(i,$d(Wh.get(i)||null,n,e,t,r,s)),!0}return!1}function dN(n){var e=hl(n.target);if(e!==null){var t=tu(e);if(t!==null){if(e=t.tag,e===13){if(e=Jk(t),e!==null){n.blockedOn=e,cN(n.priority,function(){lN(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=pw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);lw=r,t.target.dispatchEvent(r),lw=null}else return e=Xf(t),e!==null&&SC(e),n.blockedOn=t,!1;e.shift()}return!0}function SI(n,e,t){Wg(n)&&t.delete(e)}function EU(){fw=!1,yo!==null&&Wg(yo)&&(yo=null),vo!==null&&Wg(vo)&&(vo=null),_o!==null&&Wg(_o)&&(_o=null),Kh.forEach(SI),Wh.forEach(SI)}function Ld(n,e){n.blockedOn===e&&(n.blockedOn=null,fw||(fw=!0,is.unstable_scheduleCallback(is.unstable_NormalPriority,EU)))}function Gh(n){function e(s){return Ld(s,n)}if(0<ig.length){Ld(ig[0],n);for(var t=1;t<ig.length;t++){var r=ig[t];r.blockedOn===n&&(r.blockedOn=null)}}for(yo!==null&&Ld(yo,n),vo!==null&&Ld(vo,n),_o!==null&&Ld(_o,n),Kh.forEach(e),Wh.forEach(e),t=0;t<to.length;t++)r=to[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<to.length&&(t=to[0],t.blockedOn===null);)dN(t),t.blockedOn===null&&to.shift()}var fc=Ma.ReactCurrentBatchConfig,Rm=!0;function SU(n,e,t,r){var s=ht,i=fc.transition;fc.transition=null;try{ht=1,CC(n,e,t,r)}finally{ht=s,fc.transition=i}}function CU(n,e,t,r){var s=ht,i=fc.transition;fc.transition=null;try{ht=4,CC(n,e,t,r)}finally{ht=s,fc.transition=i}}function CC(n,e,t,r){if(Rm){var s=pw(n,e,t,r);if(s===null)mb(n,e,r,Am,t),EI(n,r);else if(wU(s,n,e,t,r))r.stopPropagation();else if(EI(n,r),e&4&&-1<bU.indexOf(n)){for(;s!==null;){var i=Xf(s);if(i!==null&&oN(i),i=pw(n,e,t,r),i===null&&mb(n,e,r,Am,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else mb(n,e,r,null,t)}}var Am=null;function pw(n,e,t,r){if(Am=null,n=bC(r),n=hl(n),n!==null)if(e=tu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Jk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Am=n,null}function hN(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dU()){case wC:return 1;case rN:return 4;case Pm:case hU:return 16;case sN:return 536870912;default:return 16}default:return 16}}var lo=null,TC=null,Gg=null;function fN(){if(Gg)return Gg;var n,e=TC,t=e.length,r,s="value"in lo?lo.value:lo.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===s[i-r];r++);return Gg=s.slice(n,1<r?1-r:void 0)}function Yg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ag(){return!0}function CI(){return!1}function cs(n){function e(t,r,s,i,a){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ag:CI,this.isPropagationStopped=CI,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ag)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ag)},persist:function(){},isPersistent:ag}),e}var ed={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OC=cs(ed),qf=Wt({},ed,{view:0,detail:0}),TU=cs(qf),ob,lb,Md,sv=Wt({},qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:IC,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Md&&(Md&&n.type==="mousemove"?(ob=n.screenX-Md.screenX,lb=n.screenY-Md.screenY):lb=ob=0,Md=n),ob)},movementY:function(n){return"movementY"in n?n.movementY:lb}}),TI=cs(sv),OU=Wt({},sv,{dataTransfer:0}),IU=cs(OU),PU=Wt({},qf,{relatedTarget:0}),ub=cs(PU),xU=Wt({},ed,{animationName:0,elapsedTime:0,pseudoElement:0}),RU=cs(xU),AU=Wt({},ed,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),DU=cs(AU),kU=Wt({},ed,{data:0}),OI=cs(kU),NU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MU(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=LU[n])?!!e[n]:!1}function IC(){return MU}var FU=Wt({},qf,{key:function(n){if(n.key){var e=NU[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Yg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$U[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:IC,charCode:function(n){return n.type==="keypress"?Yg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Yg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jU=cs(FU),VU=Wt({},sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),II=cs(VU),UU=Wt({},qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:IC}),BU=cs(UU),HU=Wt({},ed,{propertyName:0,elapsedTime:0,pseudoElement:0}),zU=cs(HU),KU=Wt({},sv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),WU=cs(KU),GU=[9,13,27,32],PC=Ea&&"CompositionEvent"in window,wh=null;Ea&&"documentMode"in document&&(wh=document.documentMode);var YU=Ea&&"TextEvent"in window&&!wh,pN=Ea&&(!PC||wh&&8<wh&&11>=wh),PI=" ",xI=!1;function gN(n,e){switch(n){case"keyup":return GU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mN(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var zu=!1;function qU(n,e){switch(n){case"compositionend":return mN(e);case"keypress":return e.which!==32?null:(xI=!0,PI);case"textInput":return n=e.data,n===PI&&xI?null:n;default:return null}}function XU(n,e){if(zu)return n==="compositionend"||!PC&&gN(n,e)?(n=fN(),Gg=TC=lo=null,zu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pN&&e.locale!=="ko"?null:e.data;default:return null}}var QU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!QU[n.type]:e==="textarea"}function yN(n,e,t,r){Yk(r),e=Dm(e,"onChange"),0<e.length&&(t=new OC("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Eh=null,Yh=null;function ZU(n){PN(n,0)}function iv(n){var e=Gu(n);if(Uk(e))return n}function JU(n,e){if(n==="change")return e}var vN=!1;if(Ea){var cb;if(Ea){var db="oninput"in document;if(!db){var AI=document.createElement("div");AI.setAttribute("oninput","return;"),db=typeof AI.oninput=="function"}cb=db}else cb=!1;vN=cb&&(!document.documentMode||9<document.documentMode)}function DI(){Eh&&(Eh.detachEvent("onpropertychange",_N),Yh=Eh=null)}function _N(n){if(n.propertyName==="value"&&iv(Yh)){var e=[];yN(e,Yh,n,bC(n)),Zk(ZU,e)}}function e6(n,e,t){n==="focusin"?(DI(),Eh=e,Yh=t,Eh.attachEvent("onpropertychange",_N)):n==="focusout"&&DI()}function t6(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return iv(Yh)}function n6(n,e){if(n==="click")return iv(e)}function r6(n,e){if(n==="input"||n==="change")return iv(e)}function s6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ni=typeof Object.is=="function"?Object.is:s6;function qh(n,e){if(ni(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!X0.call(e,s)||!ni(n[s],e[s]))return!1}return!0}function kI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function NI(n,e){var t=kI(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=kI(t)}}function bN(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?bN(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function wN(){for(var n=window,e=Tm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Tm(n.document)}return e}function xC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function i6(n){var e=wN(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&bN(t.ownerDocument.documentElement,t)){if(r!==null&&xC(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=NI(t,i);var a=NI(t,r);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var a6=Ea&&"documentMode"in document&&11>=document.documentMode,Ku=null,gw=null,Sh=null,mw=!1;function $I(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;mw||Ku==null||Ku!==Tm(r)||(r=Ku,"selectionStart"in r&&xC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sh&&qh(Sh,r)||(Sh=r,r=Dm(gw,"onSelect"),0<r.length&&(e=new OC("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Ku)))}function og(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Wu={animationend:og("Animation","AnimationEnd"),animationiteration:og("Animation","AnimationIteration"),animationstart:og("Animation","AnimationStart"),transitionend:og("Transition","TransitionEnd")},hb={},EN={};Ea&&(EN=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function av(n){if(hb[n])return hb[n];if(!Wu[n])return n;var e=Wu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in EN)return hb[n]=e[t];return n}var SN=av("animationend"),CN=av("animationiteration"),TN=av("animationstart"),ON=av("transitionend"),IN=new Map,LI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(n,e){IN.set(n,e),eu(e,[n])}for(var fb=0;fb<LI.length;fb++){var pb=LI[fb],o6=pb.toLowerCase(),l6=pb[0].toUpperCase()+pb.slice(1);Fo(o6,"on"+l6)}Fo(SN,"onAnimationEnd");Fo(CN,"onAnimationIteration");Fo(TN,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(ON,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);eu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eu("onBeforeInput",["compositionend","keypress","textInput","paste"]);eu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u6=new Set("cancel close invalid load scroll toggle".split(" ").concat(oh));function MI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,oU(r,e,void 0,n),n.currentTarget=null}function PN(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;MI(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;MI(s,o,u),i=l}}}if(Im)throw n=dw,Im=!1,dw=null,n}function xt(n,e){var t=e[ww];t===void 0&&(t=e[ww]=new Set);var r=n+"__bubble";t.has(r)||(xN(e,n,2,!1),t.add(r))}function gb(n,e,t){var r=0;e&&(r|=4),xN(t,n,r,e)}var lg="_reactListening"+Math.random().toString(36).slice(2);function Xh(n){if(!n[lg]){n[lg]=!0,Lk.forEach(function(t){t!=="selectionchange"&&(u6.has(t)||gb(t,!1,n),gb(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[lg]||(e[lg]=!0,gb("selectionchange",!1,e))}}function xN(n,e,t,r){switch(hN(e)){case 1:var s=SU;break;case 4:s=CU;break;default:s=CC}t=s.bind(null,e,t,n),s=void 0,!cw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function mb(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=hl(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Zk(function(){var u=i,d=bC(t),h=[];e:{var f=IN.get(n);if(f!==void 0){var p=OC,_=n;switch(n){case"keypress":if(Yg(t)===0)break e;case"keydown":case"keyup":p=jU;break;case"focusin":_="focus",p=ub;break;case"focusout":_="blur",p=ub;break;case"beforeblur":case"afterblur":p=ub;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=TI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=IU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BU;break;case SN:case CN:case TN:p=RU;break;case ON:p=zU;break;case"scroll":p=TU;break;case"wheel":p=WU;break;case"copy":case"cut":case"paste":p=DU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=II}var y=(e&4)!==0,v=!y&&n==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var w=u,b;w!==null;){b=w;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,m!==null&&(E=zh(w,m),E!=null&&y.push(Qh(w,E,b)))),v)break;w=w.return}0<y.length&&(f=new p(f,_,null,t,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==lw&&(_=t.relatedTarget||t.fromElement)&&(hl(_)||_[Sa]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=t.relatedTarget||t.toElement,p=u,_=_?hl(_):null,_!==null&&(v=tu(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(y=TI,E="onMouseLeave",m="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(y=II,E="onPointerLeave",m="onPointerEnter",w="pointer"),v=p==null?f:Gu(p),b=_==null?f:Gu(_),f=new y(E,w+"leave",p,t,d),f.target=v,f.relatedTarget=b,E=null,hl(d)===u&&(y=new y(m,w+"enter",_,t,d),y.target=b,y.relatedTarget=v,E=y),v=E,p&&_)t:{for(y=p,m=_,w=0,b=y;b;b=Eu(b))w++;for(b=0,E=m;E;E=Eu(E))b++;for(;0<w-b;)y=Eu(y),w--;for(;0<b-w;)m=Eu(m),b--;for(;w--;){if(y===m||m!==null&&y===m.alternate)break t;y=Eu(y),m=Eu(m)}y=null}else y=null;p!==null&&FI(h,f,p,y,!1),_!==null&&v!==null&&FI(h,v,_,y,!0)}}e:{if(f=u?Gu(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=JU;else if(RI(f))if(vN)S=r6;else{S=t6;var C=e6}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=n6);if(S&&(S=S(n,u))){yN(h,S,t,d);break e}C&&C(n,f,u),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&rw(f,"number",f.value)}switch(C=u?Gu(u):window,n){case"focusin":(RI(C)||C.contentEditable==="true")&&(Ku=C,gw=u,Sh=null);break;case"focusout":Sh=gw=Ku=null;break;case"mousedown":mw=!0;break;case"contextmenu":case"mouseup":case"dragend":mw=!1,$I(h,t,d);break;case"selectionchange":if(a6)break;case"keydown":case"keyup":$I(h,t,d)}var O;if(PC)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else zu?gN(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(pN&&t.locale!=="ko"&&(zu||I!=="onCompositionStart"?I==="onCompositionEnd"&&zu&&(O=fN()):(lo=d,TC="value"in lo?lo.value:lo.textContent,zu=!0)),C=Dm(u,I),0<C.length&&(I=new OI(I,n,null,t,d),h.push({event:I,listeners:C}),O?I.data=O:(O=mN(t),O!==null&&(I.data=O)))),(O=YU?qU(n,t):XU(n,t))&&(u=Dm(u,"onBeforeInput"),0<u.length&&(d=new OI("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=O))}PN(h,e)})}function Qh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Dm(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zh(n,t),i!=null&&r.unshift(Qh(n,i,s)),i=zh(n,e),i!=null&&r.push(Qh(n,i,s))),n=n.return}return r}function Eu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function FI(n,e,t,r,s){for(var i=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=zh(t,i),l!=null&&a.unshift(Qh(t,l,o))):s||(l=zh(t,i),l!=null&&a.push(Qh(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var c6=/\r\n?/g,d6=/\u0000|\uFFFD/g;function jI(n){return(typeof n=="string"?n:""+n).replace(c6,`
`).replace(d6,"")}function ug(n,e,t){if(e=jI(e),jI(n)!==e&&t)throw Error(G(425))}function km(){}var yw=null,vw=null;function _w(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bw=typeof setTimeout=="function"?setTimeout:void 0,h6=typeof clearTimeout=="function"?clearTimeout:void 0,VI=typeof Promise=="function"?Promise:void 0,f6=typeof queueMicrotask=="function"?queueMicrotask:typeof VI<"u"?function(n){return VI.resolve(null).then(n).catch(p6)}:bw;function p6(n){setTimeout(function(){throw n})}function yb(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),Gh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Gh(e)}function bo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function UI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var td=Math.random().toString(36).slice(2),Ci="__reactFiber$"+td,Zh="__reactProps$"+td,Sa="__reactContainer$"+td,ww="__reactEvents$"+td,g6="__reactListeners$"+td,m6="__reactHandles$"+td;function hl(n){var e=n[Ci];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Sa]||t[Ci]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=UI(n);n!==null;){if(t=n[Ci])return t;n=UI(n)}return e}n=t,t=n.parentNode}return null}function Xf(n){return n=n[Ci]||n[Sa],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Gu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(G(33))}function ov(n){return n[Zh]||null}var Ew=[],Yu=-1;function jo(n){return{current:n}}function kt(n){0>Yu||(n.current=Ew[Yu],Ew[Yu]=null,Yu--)}function Et(n,e){Yu++,Ew[Yu]=n.current,n.current=e}var Do={},yr=jo(Do),Kr=jo(!1),kl=Do;function Ic(n,e){var t=n.type.contextTypes;if(!t)return Do;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Wr(n){return n=n.childContextTypes,n!=null}function Nm(){kt(Kr),kt(yr)}function BI(n,e,t){if(yr.current!==Do)throw Error(G(168));Et(yr,e),Et(Kr,t)}function RN(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,eU(n)||"Unknown",s));return Wt({},t,r)}function $m(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Do,kl=yr.current,Et(yr,n),Et(Kr,Kr.current),!0}function HI(n,e,t){var r=n.stateNode;if(!r)throw Error(G(169));t?(n=RN(n,e,kl),r.__reactInternalMemoizedMergedChildContext=n,kt(Kr),kt(yr),Et(yr,n)):kt(Kr),Et(Kr,t)}var la=null,lv=!1,vb=!1;function AN(n){la===null?la=[n]:la.push(n)}function y6(n){lv=!0,AN(n)}function Vo(){if(!vb&&la!==null){vb=!0;var n=0,e=ht;try{var t=la;for(ht=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}la=null,lv=!1}catch(s){throw la!==null&&(la=la.slice(n+1)),nN(wC,Vo),s}finally{ht=e,vb=!1}}return null}var qu=[],Xu=0,Lm=null,Mm=0,vs=[],_s=0,Nl=null,ca=1,da="";function rl(n,e){qu[Xu++]=Mm,qu[Xu++]=Lm,Lm=n,Mm=e}function DN(n,e,t){vs[_s++]=ca,vs[_s++]=da,vs[_s++]=Nl,Nl=n;var r=ca;n=da;var s=32-Qs(r)-1;r&=~(1<<s),t+=1;var i=32-Qs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ca=1<<32-Qs(e)+s|t<<s|r,da=i+n}else ca=1<<i|t<<s|r,da=n}function RC(n){n.return!==null&&(rl(n,1),DN(n,1,0))}function AC(n){for(;n===Lm;)Lm=qu[--Xu],qu[Xu]=null,Mm=qu[--Xu],qu[Xu]=null;for(;n===Nl;)Nl=vs[--_s],vs[_s]=null,da=vs[--_s],vs[_s]=null,ca=vs[--_s],vs[_s]=null}var ss=null,ts=null,Ft=!1,Gs=null;function kN(n,e){var t=Ts(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function zI(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ss=n,ts=bo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ss=n,ts=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Nl!==null?{id:ca,overflow:da}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ts(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ss=n,ts=null,!0):!1;default:return!1}}function Sw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Cw(n){if(Ft){var e=ts;if(e){var t=e;if(!zI(n,e)){if(Sw(n))throw Error(G(418));e=bo(t.nextSibling);var r=ss;e&&zI(n,e)?kN(r,t):(n.flags=n.flags&-4097|2,Ft=!1,ss=n)}}else{if(Sw(n))throw Error(G(418));n.flags=n.flags&-4097|2,Ft=!1,ss=n}}}function KI(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ss=n}function cg(n){if(n!==ss)return!1;if(!Ft)return KI(n),Ft=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!_w(n.type,n.memoizedProps)),e&&(e=ts)){if(Sw(n))throw NN(),Error(G(418));for(;e;)kN(n,e),e=bo(e.nextSibling)}if(KI(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(G(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ts=bo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ts=null}}else ts=ss?bo(n.stateNode.nextSibling):null;return!0}function NN(){for(var n=ts;n;)n=bo(n.nextSibling)}function Pc(){ts=ss=null,Ft=!1}function DC(n){Gs===null?Gs=[n]:Gs.push(n)}var v6=Ma.ReactCurrentBatchConfig;function Fd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(G(309));var r=t.stateNode}if(!r)throw Error(G(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(G(284));if(!t._owner)throw Error(G(290,n))}return n}function dg(n,e){throw n=Object.prototype.toString.call(e),Error(G(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function WI(n){var e=n._init;return e(n._payload)}function $N(n){function e(m,w){if(n){var b=m.deletions;b===null?(m.deletions=[w],m.flags|=16):b.push(w)}}function t(m,w){if(!n)return null;for(;w!==null;)e(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function s(m,w){return m=Co(m,w),m.index=0,m.sibling=null,m}function i(m,w,b){return m.index=b,n?(b=m.alternate,b!==null?(b=b.index,b<w?(m.flags|=2,w):b):(m.flags|=2,w)):(m.flags|=1048576,w)}function a(m){return n&&m.alternate===null&&(m.flags|=2),m}function o(m,w,b,E){return w===null||w.tag!==6?(w=Tb(b,m.mode,E),w.return=m,w):(w=s(w,b),w.return=m,w)}function l(m,w,b,E){var S=b.type;return S===Hu?d(m,w,b.props.children,E,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qa&&WI(S)===w.type)?(E=s(w,b.props),E.ref=Fd(m,w,b),E.return=m,E):(E=tm(b.type,b.key,b.props,null,m.mode,E),E.ref=Fd(m,w,b),E.return=m,E)}function u(m,w,b,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Ob(b,m.mode,E),w.return=m,w):(w=s(w,b.children||[]),w.return=m,w)}function d(m,w,b,E,S){return w===null||w.tag!==7?(w=Cl(b,m.mode,E,S),w.return=m,w):(w=s(w,b),w.return=m,w)}function h(m,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Tb(""+w,m.mode,b),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case eg:return b=tm(w.type,w.key,w.props,null,m.mode,b),b.ref=Fd(m,null,w),b.return=m,b;case Bu:return w=Ob(w,m.mode,b),w.return=m,w;case Qa:var E=w._init;return h(m,E(w._payload),b)}if(ih(w)||kd(w))return w=Cl(w,m.mode,b,null),w.return=m,w;dg(m,w)}return null}function f(m,w,b,E){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(m,w,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eg:return b.key===S?l(m,w,b,E):null;case Bu:return b.key===S?u(m,w,b,E):null;case Qa:return S=b._init,f(m,w,S(b._payload),E)}if(ih(b)||kd(b))return S!==null?null:d(m,w,b,E,null);dg(m,b)}return null}function p(m,w,b,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(b)||null,o(w,m,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case eg:return m=m.get(E.key===null?b:E.key)||null,l(w,m,E,S);case Bu:return m=m.get(E.key===null?b:E.key)||null,u(w,m,E,S);case Qa:var C=E._init;return p(m,w,b,C(E._payload),S)}if(ih(E)||kd(E))return m=m.get(b)||null,d(w,m,E,S,null);dg(w,E)}return null}function _(m,w,b,E){for(var S=null,C=null,O=w,I=w=0,P=null;O!==null&&I<b.length;I++){O.index>I?(P=O,O=null):P=O.sibling;var x=f(m,O,b[I],E);if(x===null){O===null&&(O=P);break}n&&O&&x.alternate===null&&e(m,O),w=i(x,w,I),C===null?S=x:C.sibling=x,C=x,O=P}if(I===b.length)return t(m,O),Ft&&rl(m,I),S;if(O===null){for(;I<b.length;I++)O=h(m,b[I],E),O!==null&&(w=i(O,w,I),C===null?S=O:C.sibling=O,C=O);return Ft&&rl(m,I),S}for(O=r(m,O);I<b.length;I++)P=p(O,m,I,b[I],E),P!==null&&(n&&P.alternate!==null&&O.delete(P.key===null?I:P.key),w=i(P,w,I),C===null?S=P:C.sibling=P,C=P);return n&&O.forEach(function(D){return e(m,D)}),Ft&&rl(m,I),S}function y(m,w,b,E){var S=kd(b);if(typeof S!="function")throw Error(G(150));if(b=S.call(b),b==null)throw Error(G(151));for(var C=S=null,O=w,I=w=0,P=null,x=b.next();O!==null&&!x.done;I++,x=b.next()){O.index>I?(P=O,O=null):P=O.sibling;var D=f(m,O,x.value,E);if(D===null){O===null&&(O=P);break}n&&O&&D.alternate===null&&e(m,O),w=i(D,w,I),C===null?S=D:C.sibling=D,C=D,O=P}if(x.done)return t(m,O),Ft&&rl(m,I),S;if(O===null){for(;!x.done;I++,x=b.next())x=h(m,x.value,E),x!==null&&(w=i(x,w,I),C===null?S=x:C.sibling=x,C=x);return Ft&&rl(m,I),S}for(O=r(m,O);!x.done;I++,x=b.next())x=p(O,m,I,x.value,E),x!==null&&(n&&x.alternate!==null&&O.delete(x.key===null?I:x.key),w=i(x,w,I),C===null?S=x:C.sibling=x,C=x);return n&&O.forEach(function($){return e(m,$)}),Ft&&rl(m,I),S}function v(m,w,b,E){if(typeof b=="object"&&b!==null&&b.type===Hu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case eg:e:{for(var S=b.key,C=w;C!==null;){if(C.key===S){if(S=b.type,S===Hu){if(C.tag===7){t(m,C.sibling),w=s(C,b.props.children),w.return=m,m=w;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qa&&WI(S)===C.type){t(m,C.sibling),w=s(C,b.props),w.ref=Fd(m,C,b),w.return=m,m=w;break e}t(m,C);break}else e(m,C);C=C.sibling}b.type===Hu?(w=Cl(b.props.children,m.mode,E,b.key),w.return=m,m=w):(E=tm(b.type,b.key,b.props,null,m.mode,E),E.ref=Fd(m,w,b),E.return=m,m=E)}return a(m);case Bu:e:{for(C=b.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){t(m,w.sibling),w=s(w,b.children||[]),w.return=m,m=w;break e}else{t(m,w);break}else e(m,w);w=w.sibling}w=Ob(b,m.mode,E),w.return=m,m=w}return a(m);case Qa:return C=b._init,v(m,w,C(b._payload),E)}if(ih(b))return _(m,w,b,E);if(kd(b))return y(m,w,b,E);dg(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(t(m,w.sibling),w=s(w,b),w.return=m,m=w):(t(m,w),w=Tb(b,m.mode,E),w.return=m,m=w),a(m)):t(m,w)}return v}var xc=$N(!0),LN=$N(!1),Fm=jo(null),jm=null,Qu=null,kC=null;function NC(){kC=Qu=jm=null}function $C(n){var e=Fm.current;kt(Fm),n._currentValue=e}function Tw(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function pc(n,e){jm=n,kC=Qu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Hr=!0),n.firstContext=null)}function ks(n){var e=n._currentValue;if(kC!==n)if(n={context:n,memoizedValue:e,next:null},Qu===null){if(jm===null)throw Error(G(308));Qu=n,jm.dependencies={lanes:0,firstContext:n}}else Qu=Qu.next=n;return e}var fl=null;function LC(n){fl===null?fl=[n]:fl.push(n)}function MN(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,LC(e)):(t.next=s.next,s.next=t),e.interleaved=t,Ca(n,r)}function Ca(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Za=!1;function MC(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FN(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ma(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ca(n,t)}return s=r.interleaved,s===null?(e.next=e,LC(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ca(n,t)}function qg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,EC(n,t)}}function GI(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Vm(n,e,t,r){var s=n.updateQueue;Za=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=u=l=null,o=i;do{var f=o.lane,p=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=n,y=o;switch(f=e,p=t,y.tag){case 1:if(_=y.payload,typeof _=="function"){h=_.call(p,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,f=typeof _=="function"?_.call(p,h,f):_,f==null)break e;h=Wt({},h,f);break e;case 2:Za=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ll|=a,n.lanes=a,n.memoizedState=h}}function YI(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Qf={},Li=jo(Qf),Jh=jo(Qf),ef=jo(Qf);function pl(n){if(n===Qf)throw Error(G(174));return n}function FC(n,e){switch(Et(ef,e),Et(Jh,n),Et(Li,Qf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=iw(e,n)}kt(Li),Et(Li,e)}function Rc(){kt(Li),kt(Jh),kt(ef)}function jN(n){pl(ef.current);var e=pl(Li.current),t=iw(e,n.type);e!==t&&(Et(Jh,n),Et(Li,t))}function jC(n){Jh.current===n&&(kt(Li),kt(Jh))}var Ht=jo(0);function Um(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _b=[];function VC(){for(var n=0;n<_b.length;n++)_b[n]._workInProgressVersionPrimary=null;_b.length=0}var Xg=Ma.ReactCurrentDispatcher,bb=Ma.ReactCurrentBatchConfig,$l=0,Kt=null,Tn=null,Dn=null,Bm=!1,Ch=!1,tf=0,_6=0;function rr(){throw Error(G(321))}function UC(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ni(n[t],e[t]))return!1;return!0}function BC(n,e,t,r,s,i){if($l=i,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xg.current=n===null||n.memoizedState===null?S6:C6,n=t(r,s),Ch){i=0;do{if(Ch=!1,tf=0,25<=i)throw Error(G(301));i+=1,Dn=Tn=null,e.updateQueue=null,Xg.current=T6,n=t(r,s)}while(Ch)}if(Xg.current=Hm,e=Tn!==null&&Tn.next!==null,$l=0,Dn=Tn=Kt=null,Bm=!1,e)throw Error(G(300));return n}function HC(){var n=tf!==0;return tf=0,n}function Si(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Kt.memoizedState=Dn=n:Dn=Dn.next=n,Dn}function Ns(){if(Tn===null){var n=Kt.alternate;n=n!==null?n.memoizedState:null}else n=Tn.next;var e=Dn===null?Kt.memoizedState:Dn.next;if(e!==null)Dn=e,Tn=n;else{if(n===null)throw Error(G(310));Tn=n,n={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Dn===null?Kt.memoizedState=Dn=n:Dn=Dn.next=n}return Dn}function nf(n,e){return typeof e=="function"?e(n):e}function wb(n){var e=Ns(),t=e.queue;if(t===null)throw Error(G(311));t.lastRenderedReducer=n;var r=Tn,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if(($l&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,Kt.lanes|=d,Ll|=d}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,ni(r,e.memoizedState)||(Hr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,Kt.lanes|=i,Ll|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Eb(n){var e=Ns(),t=e.queue;if(t===null)throw Error(G(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do i=n(i,a.action),a=a.next;while(a!==s);ni(i,e.memoizedState)||(Hr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function VN(){}function UN(n,e){var t=Kt,r=Ns(),s=e(),i=!ni(r.memoizedState,s);if(i&&(r.memoizedState=s,Hr=!0),r=r.queue,zC(zN.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Dn!==null&&Dn.memoizedState.tag&1){if(t.flags|=2048,rf(9,HN.bind(null,t,r,s,e),void 0,null),$n===null)throw Error(G(349));$l&30||BN(t,e,s)}return s}function BN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function HN(n,e,t,r){e.value=t,e.getSnapshot=r,KN(e)&&WN(n)}function zN(n,e,t){return t(function(){KN(e)&&WN(n)})}function KN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ni(n,t)}catch{return!0}}function WN(n){var e=Ca(n,1);e!==null&&Zs(e,n,1,-1)}function qI(n){var e=Si();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:n},e.queue=n,n=n.dispatch=E6.bind(null,Kt,n),[e.memoizedState,n]}function rf(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function GN(){return Ns().memoizedState}function Qg(n,e,t,r){var s=Si();Kt.flags|=n,s.memoizedState=rf(1|e,t,void 0,r===void 0?null:r)}function uv(n,e,t,r){var s=Ns();r=r===void 0?null:r;var i=void 0;if(Tn!==null){var a=Tn.memoizedState;if(i=a.destroy,r!==null&&UC(r,a.deps)){s.memoizedState=rf(e,t,i,r);return}}Kt.flags|=n,s.memoizedState=rf(1|e,t,i,r)}function XI(n,e){return Qg(8390656,8,n,e)}function zC(n,e){return uv(2048,8,n,e)}function YN(n,e){return uv(4,2,n,e)}function qN(n,e){return uv(4,4,n,e)}function XN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function QN(n,e,t){return t=t!=null?t.concat([n]):null,uv(4,4,XN.bind(null,e,n),t)}function KC(){}function ZN(n,e){var t=Ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&UC(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function JN(n,e){var t=Ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&UC(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function e$(n,e,t){return $l&21?(ni(t,e)||(t=iN(),Kt.lanes|=t,Ll|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Hr=!0),n.memoizedState=t)}function b6(n,e){var t=ht;ht=t!==0&&4>t?t:4,n(!0);var r=bb.transition;bb.transition={};try{n(!1),e()}finally{ht=t,bb.transition=r}}function t$(){return Ns().memoizedState}function w6(n,e,t){var r=So(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},n$(n))r$(e,t);else if(t=MN(n,e,t,r),t!==null){var s=Ar();Zs(t,n,r,s),s$(t,e,r)}}function E6(n,e,t){var r=So(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(n$(n))r$(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,t);if(s.hasEagerState=!0,s.eagerState=o,ni(o,a)){var l=e.interleaved;l===null?(s.next=s,LC(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=MN(n,e,s,r),t!==null&&(s=Ar(),Zs(t,n,r,s),s$(t,e,r))}}function n$(n){var e=n.alternate;return n===Kt||e!==null&&e===Kt}function r$(n,e){Ch=Bm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function s$(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,EC(n,t)}}var Hm={readContext:ks,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},S6={readContext:ks,useCallback:function(n,e){return Si().memoizedState=[n,e===void 0?null:e],n},useContext:ks,useEffect:XI,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Qg(4194308,4,XN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Qg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Qg(4,2,n,e)},useMemo:function(n,e){var t=Si();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Si();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=w6.bind(null,Kt,n),[r.memoizedState,n]},useRef:function(n){var e=Si();return n={current:n},e.memoizedState=n},useState:qI,useDebugValue:KC,useDeferredValue:function(n){return Si().memoizedState=n},useTransition:function(){var n=qI(!1),e=n[0];return n=b6.bind(null,n[1]),Si().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Kt,s=Si();if(Ft){if(t===void 0)throw Error(G(407));t=t()}else{if(t=e(),$n===null)throw Error(G(349));$l&30||BN(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,XI(zN.bind(null,r,i,n),[n]),r.flags|=2048,rf(9,HN.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Si(),e=$n.identifierPrefix;if(Ft){var t=da,r=ca;t=(r&~(1<<32-Qs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=tf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=_6++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},C6={readContext:ks,useCallback:ZN,useContext:ks,useEffect:zC,useImperativeHandle:QN,useInsertionEffect:YN,useLayoutEffect:qN,useMemo:JN,useReducer:wb,useRef:GN,useState:function(){return wb(nf)},useDebugValue:KC,useDeferredValue:function(n){var e=Ns();return e$(e,Tn.memoizedState,n)},useTransition:function(){var n=wb(nf)[0],e=Ns().memoizedState;return[n,e]},useMutableSource:VN,useSyncExternalStore:UN,useId:t$,unstable_isNewReconciler:!1},T6={readContext:ks,useCallback:ZN,useContext:ks,useEffect:zC,useImperativeHandle:QN,useInsertionEffect:YN,useLayoutEffect:qN,useMemo:JN,useReducer:Eb,useRef:GN,useState:function(){return Eb(nf)},useDebugValue:KC,useDeferredValue:function(n){var e=Ns();return Tn===null?e.memoizedState=n:e$(e,Tn.memoizedState,n)},useTransition:function(){var n=Eb(nf)[0],e=Ns().memoizedState;return[n,e]},useMutableSource:VN,useSyncExternalStore:UN,useId:t$,unstable_isNewReconciler:!1};function Ks(n,e){if(n&&n.defaultProps){e=Wt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ow(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Wt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var cv={isMounted:function(n){return(n=n._reactInternals)?tu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ar(),s=So(n),i=ma(r,s);i.payload=e,t!=null&&(i.callback=t),e=wo(n,i,s),e!==null&&(Zs(e,n,s,r),qg(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ar(),s=So(n),i=ma(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=wo(n,i,s),e!==null&&(Zs(e,n,s,r),qg(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ar(),r=So(n),s=ma(t,r);s.tag=2,e!=null&&(s.callback=e),e=wo(n,s,r),e!==null&&(Zs(e,n,r,t),qg(e,n,r))}};function QI(n,e,t,r,s,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!qh(t,r)||!qh(s,i):!0}function i$(n,e,t){var r=!1,s=Do,i=e.contextType;return typeof i=="object"&&i!==null?i=ks(i):(s=Wr(e)?kl:yr.current,r=e.contextTypes,i=(r=r!=null)?Ic(n,s):Do),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function ZI(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&cv.enqueueReplaceState(e,e.state,null)}function Iw(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},MC(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ks(i):(i=Wr(e)?kl:yr.current,s.context=Ic(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ow(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&cv.enqueueReplaceState(s,s.state,null),Vm(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Ac(n,e){try{var t="",r=e;do t+=J5(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function Sb(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Pw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var O6=typeof WeakMap=="function"?WeakMap:Map;function a$(n,e,t){t=ma(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Km||(Km=!0,Fw=r),Pw(n,e)},t}function o$(n,e,t){t=ma(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){Pw(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Pw(n,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function JI(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new O6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=V6.bind(null,n,e,t),e.then(n,n))}function eP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function tP(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ma(-1,1),e.tag=2,wo(t,e,1))),t.lanes|=1),n)}var I6=Ma.ReactCurrentOwner,Hr=!1;function Or(n,e,t,r){e.child=n===null?LN(e,null,t,r):xc(e,n.child,t,r)}function nP(n,e,t,r,s){t=t.render;var i=e.ref;return pc(e,s),r=BC(n,e,t,r,i,s),t=HC(),n!==null&&!Hr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ta(n,e,s)):(Ft&&t&&RC(e),e.flags|=1,Or(n,e,r,s),e.child)}function rP(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!JC(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,l$(n,e,i,r,s)):(n=tm(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:qh,t(a,r)&&n.ref===e.ref)return Ta(n,e,s)}return e.flags|=1,n=Co(i,r),n.ref=e.ref,n.return=e,e.child=n}function l$(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(qh(i,r)&&n.ref===e.ref)if(Hr=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(Hr=!0);else return e.lanes=n.lanes,Ta(n,e,s)}return xw(n,e,t,r,s)}function u$(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Ju,es),es|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Et(Ju,es),es|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Et(Ju,es),es|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Et(Ju,es),es|=r;return Or(n,e,s,t),e.child}function c$(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function xw(n,e,t,r,s){var i=Wr(t)?kl:yr.current;return i=Ic(e,i),pc(e,s),t=BC(n,e,t,r,i,s),r=HC(),n!==null&&!Hr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ta(n,e,s)):(Ft&&r&&RC(e),e.flags|=1,Or(n,e,t,s),e.child)}function sP(n,e,t,r,s){if(Wr(t)){var i=!0;$m(e)}else i=!1;if(pc(e,s),e.stateNode===null)Zg(n,e),i$(e,t,r),Iw(e,t,r,s),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=ks(u):(u=Wr(t)?kl:yr.current,u=Ic(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&ZI(e,a,r,u),Za=!1;var f=e.memoizedState;a.state=f,Vm(e,r,a,s),l=e.memoizedState,o!==r||f!==l||Kr.current||Za?(typeof d=="function"&&(Ow(e,t,d,r),l=e.memoizedState),(o=Za||QI(e,t,o,r,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,FN(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ks(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=ks(l):(l=Wr(t)?kl:yr.current,l=Ic(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&ZI(e,a,r,l),Za=!1,f=e.memoizedState,a.state=f,Vm(e,r,a,s);var _=e.memoizedState;o!==h||f!==_||Kr.current||Za?(typeof p=="function"&&(Ow(e,t,p,r),_=e.memoizedState),(u=Za||QI(e,t,u,r,f,_,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return Rw(n,e,t,r,i,s)}function Rw(n,e,t,r,s,i){c$(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&HI(e,t,!1),Ta(n,e,i);r=e.stateNode,I6.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=xc(e,n.child,null,i),e.child=xc(e,null,o,i)):Or(n,e,o,i),e.memoizedState=r.state,s&&HI(e,t,!0),e.child}function d$(n){var e=n.stateNode;e.pendingContext?BI(n,e.pendingContext,e.pendingContext!==e.context):e.context&&BI(n,e.context,!1),FC(n,e.containerInfo)}function iP(n,e,t,r,s){return Pc(),DC(s),e.flags|=256,Or(n,e,t,r),e.child}var Aw={dehydrated:null,treeContext:null,retryLane:0};function Dw(n){return{baseLanes:n,cachePool:null,transitions:null}}function h$(n,e,t){var r=e.pendingProps,s=Ht.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Et(Ht,s&1),n===null)return Cw(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=fv(a,r,0,null),n=Cl(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=Dw(t),e.memoizedState=Aw,n):WC(e,a));if(s=n.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return P6(n,e,a,r,o,s,t);if(i){i=r.fallback,a=e.mode,s=n.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Co(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Co(o,i):(i=Cl(i,a,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=n.child.memoizedState,a=a===null?Dw(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=Aw,r}return i=n.child,n=i.sibling,r=Co(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function WC(n,e){return e=fv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function hg(n,e,t,r){return r!==null&&DC(r),xc(e,n.child,null,t),n=WC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function P6(n,e,t,r,s,i,a){if(t)return e.flags&256?(e.flags&=-257,r=Sb(Error(G(422))),hg(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fv({mode:"visible",children:r.children},s,0,null),i=Cl(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&xc(e,n.child,null,a),e.child.memoizedState=Dw(a),e.memoizedState=Aw,i);if(!(e.mode&1))return hg(n,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(G(419)),r=Sb(i,r,void 0),hg(n,e,a,r)}if(o=(a&n.childLanes)!==0,Hr||o){if(r=$n,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ca(n,s),Zs(r,n,s,-1))}return ZC(),r=Sb(Error(G(421))),hg(n,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=U6.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,ts=bo(s.nextSibling),ss=e,Ft=!0,Gs=null,n!==null&&(vs[_s++]=ca,vs[_s++]=da,vs[_s++]=Nl,ca=n.id,da=n.overflow,Nl=e),e=WC(e,r.children),e.flags|=4096,e)}function aP(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Tw(n.return,e,t)}function Cb(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function f$(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Or(n,e,r.children,t),r=Ht.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&aP(n,t,e);else if(n.tag===19)aP(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Et(Ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&Um(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Cb(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Um(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Cb(e,!0,t,null,i);break;case"together":Cb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ta(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ll|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(G(153));if(e.child!==null){for(n=e.child,t=Co(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Co(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function x6(n,e,t){switch(e.tag){case 3:d$(e),Pc();break;case 5:jN(e);break;case 1:Wr(e.type)&&$m(e);break;case 4:FC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Et(Fm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Et(Ht,Ht.current&1),e.flags|=128,null):t&e.child.childLanes?h$(n,e,t):(Et(Ht,Ht.current&1),n=Ta(n,e,t),n!==null?n.sibling:null);Et(Ht,Ht.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return f$(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Et(Ht,Ht.current),r)break;return null;case 22:case 23:return e.lanes=0,u$(n,e,t)}return Ta(n,e,t)}var p$,kw,g$,m$;p$=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};kw=function(){};g$=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,pl(Li.current);var i=null;switch(t){case"input":s=tw(n,s),r=tw(n,r),i=[];break;case"select":s=Wt({},s,{value:void 0}),r=Wt({},r,{value:void 0}),i=[];break;case"textarea":s=sw(n,s),r=sw(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=km)}aw(t,r);var a;t=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(i||(i=[]),i.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xt("scroll",n),i||o===l||(i=[])):(i=i||[]).push(u,l))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};m$=function(n,e,t,r){t!==r&&(e.flags|=4)};function jd(n,e){if(!Ft)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function sr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function R6(n,e,t){var r=e.pendingProps;switch(AC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(e),null;case 1:return Wr(e.type)&&Nm(),sr(e),null;case 3:return r=e.stateNode,Rc(),kt(Kr),kt(yr),VC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(cg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gs!==null&&(Uw(Gs),Gs=null))),kw(n,e),sr(e),null;case 5:jC(e);var s=pl(ef.current);if(t=e.type,n!==null&&e.stateNode!=null)g$(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return sr(e),null}if(n=pl(Li.current),cg(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[Ci]=e,r[Zh]=i,n=(e.mode&1)!==0,t){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(s=0;s<oh.length;s++)xt(oh[s],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":gI(r,i),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xt("invalid",r);break;case"textarea":yI(r,i),xt("invalid",r)}aw(t,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ug(r.textContent,o,n),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ug(r.textContent,o,n),s=["children",""+o]):Bh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&xt("scroll",r)}switch(t){case"input":tg(r),mI(r,i,!0);break;case"textarea":tg(r),vI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=km)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=zk(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Ci]=e,n[Zh]=r,p$(n,e,!1,!1),e.stateNode=n;e:{switch(a=ow(t,r),t){case"dialog":xt("cancel",n),xt("close",n),s=r;break;case"iframe":case"object":case"embed":xt("load",n),s=r;break;case"video":case"audio":for(s=0;s<oh.length;s++)xt(oh[s],n);s=r;break;case"source":xt("error",n),s=r;break;case"img":case"image":case"link":xt("error",n),xt("load",n),s=r;break;case"details":xt("toggle",n),s=r;break;case"input":gI(n,r),s=tw(n,r),xt("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=Wt({},r,{value:void 0}),xt("invalid",n);break;case"textarea":yI(n,r),s=sw(n,r),xt("invalid",n);break;default:s=r}aw(t,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Gk(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kk(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Hh(n,l):typeof l=="number"&&Hh(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xt("scroll",n):l!=null&&mC(n,i,l,a))}switch(t){case"input":tg(n),mI(n,r,!1);break;case"textarea":tg(n),vI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ao(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?cc(n,!!r.multiple,i,!1):r.defaultValue!=null&&cc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=km)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sr(e),null;case 6:if(n&&e.stateNode!=null)m$(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(t=pl(ef.current),pl(Li.current),cg(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ci]=e,(i=r.nodeValue!==t)&&(n=ss,n!==null))switch(n.tag){case 3:ug(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ug(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ci]=e,e.stateNode=r}return sr(e),null;case 13:if(kt(Ht),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ft&&ts!==null&&e.mode&1&&!(e.flags&128))NN(),Pc(),e.flags|=98560,i=!1;else if(i=cg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ci]=e}else Pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sr(e),i=!1}else Gs!==null&&(Uw(Gs),Gs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ht.current&1?In===0&&(In=3):ZC())),e.updateQueue!==null&&(e.flags|=4),sr(e),null);case 4:return Rc(),kw(n,e),n===null&&Xh(e.stateNode.containerInfo),sr(e),null;case 10:return $C(e.type._context),sr(e),null;case 17:return Wr(e.type)&&Nm(),sr(e),null;case 19:if(kt(Ht),i=e.memoizedState,i===null)return sr(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)jd(i,!1);else{if(In!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Um(n),a!==null){for(e.flags|=128,jd(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Et(Ht,Ht.current&1|2),e.child}n=n.sibling}i.tail!==null&&on()>Dc&&(e.flags|=128,r=!0,jd(i,!1),e.lanes=4194304)}else{if(!r)if(n=Um(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),jd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ft)return sr(e),null}else 2*on()-i.renderingStartTime>Dc&&t!==1073741824&&(e.flags|=128,r=!0,jd(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=on(),e.sibling=null,t=Ht.current,Et(Ht,r?t&1|2:t&1),e):(sr(e),null);case 22:case 23:return QC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?es&1073741824&&(sr(e),e.subtreeFlags&6&&(e.flags|=8192)):sr(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function A6(n,e){switch(AC(e),e.tag){case 1:return Wr(e.type)&&Nm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Rc(),kt(Kr),kt(yr),VC(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return jC(e),null;case 13:if(kt(Ht),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Pc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return kt(Ht),null;case 4:return Rc(),null;case 10:return $C(e.type._context),null;case 22:case 23:return QC(),null;case 24:return null;default:return null}}var fg=!1,cr=!1,D6=typeof WeakSet=="function"?WeakSet:Set,re=null;function Zu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Xt(n,e,r)}else t.current=null}function Nw(n,e,t){try{t()}catch(r){Xt(n,e,r)}}var oP=!1;function k6(n,e){if(yw=Rm,n=wN(),xC(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===s&&(o=a),f===i&&++d===r&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(vw={focusedElem:n,selectionRange:t},Rm=!1,re=e;re!==null;)if(e=re,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,re=n;else for(;re!==null;){e=re;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,v=_.memoizedState,m=e.stateNode,w=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ks(e.type,y),v);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(E){Xt(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}return _=oP,oP=!1,_}function Th(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nw(e,t,i)}s=s.next}while(s!==r)}}function dv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function $w(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function y$(n){var e=n.alternate;e!==null&&(n.alternate=null,y$(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ci],delete e[Zh],delete e[ww],delete e[g6],delete e[m6])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function v$(n){return n.tag===5||n.tag===3||n.tag===4}function lP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||v$(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=km));else if(r!==4&&(n=n.child,n!==null))for(Lw(n,e,t),n=n.sibling;n!==null;)Lw(n,e,t),n=n.sibling}function Mw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Mw(n,e,t),n=n.sibling;n!==null;)Mw(n,e,t),n=n.sibling}var Hn=null,Ws=!1;function za(n,e,t){for(t=t.child;t!==null;)_$(n,e,t),t=t.sibling}function _$(n,e,t){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(rv,t)}catch{}switch(t.tag){case 5:cr||Zu(t,e);case 6:var r=Hn,s=Ws;Hn=null,za(n,e,t),Hn=r,Ws=s,Hn!==null&&(Ws?(n=Hn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Hn.removeChild(t.stateNode));break;case 18:Hn!==null&&(Ws?(n=Hn,t=t.stateNode,n.nodeType===8?yb(n.parentNode,t):n.nodeType===1&&yb(n,t),Gh(n)):yb(Hn,t.stateNode));break;case 4:r=Hn,s=Ws,Hn=t.stateNode.containerInfo,Ws=!0,za(n,e,t),Hn=r,Ws=s;break;case 0:case 11:case 14:case 15:if(!cr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Nw(t,e,a),s=s.next}while(s!==r)}za(n,e,t);break;case 1:if(!cr&&(Zu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){Xt(t,e,o)}za(n,e,t);break;case 21:za(n,e,t);break;case 22:t.mode&1?(cr=(r=cr)||t.memoizedState!==null,za(n,e,t),cr=r):za(n,e,t);break;default:za(n,e,t)}}function uP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new D6),e.forEach(function(r){var s=B6.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function Vs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Hn=o.stateNode,Ws=!1;break e;case 3:Hn=o.stateNode.containerInfo,Ws=!0;break e;case 4:Hn=o.stateNode.containerInfo,Ws=!0;break e}o=o.return}if(Hn===null)throw Error(G(160));_$(i,a,s),Hn=null,Ws=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Xt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b$(e,n),e=e.sibling}function b$(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Vs(e,n),_i(n),r&4){try{Th(3,n,n.return),dv(3,n)}catch(y){Xt(n,n.return,y)}try{Th(5,n,n.return)}catch(y){Xt(n,n.return,y)}}break;case 1:Vs(e,n),_i(n),r&512&&t!==null&&Zu(t,t.return);break;case 5:if(Vs(e,n),_i(n),r&512&&t!==null&&Zu(t,t.return),n.flags&32){var s=n.stateNode;try{Hh(s,"")}catch(y){Xt(n,n.return,y)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Bk(s,i),ow(o,a);var u=ow(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?Gk(s,h):d==="dangerouslySetInnerHTML"?Kk(s,h):d==="children"?Hh(s,h):mC(s,d,h,u)}switch(o){case"input":nw(s,i);break;case"textarea":Hk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?cc(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?cc(s,!!i.multiple,i.defaultValue,!0):cc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zh]=i}catch(y){Xt(n,n.return,y)}}break;case 6:if(Vs(e,n),_i(n),r&4){if(n.stateNode===null)throw Error(G(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(y){Xt(n,n.return,y)}}break;case 3:if(Vs(e,n),_i(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Gh(e.containerInfo)}catch(y){Xt(n,n.return,y)}break;case 4:Vs(e,n),_i(n);break;case 13:Vs(e,n),_i(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qC=on())),r&4&&uP(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(cr=(u=cr)||d,Vs(e,n),cr=u):Vs(e,n),_i(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(re=n,d=n.child;d!==null;){for(h=re=d;re!==null;){switch(f=re,p=f.child,f.tag){case 0:case 11:case 14:case 15:Th(4,f,f.return);break;case 1:Zu(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){Xt(r,t,y)}}break;case 5:Zu(f,f.return);break;case 22:if(f.memoizedState!==null){dP(h);continue}}p!==null?(p.return=f,re=p):dP(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Wk("display",a))}catch(y){Xt(n,n.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Xt(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vs(e,n),_i(n),r&4&&uP(n);break;case 21:break;default:Vs(e,n),_i(n)}}function _i(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(v$(t)){var r=t;break e}t=t.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hh(s,""),r.flags&=-33);var i=lP(n);Mw(n,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=lP(n);Lw(n,o,a);break;default:throw Error(G(161))}}catch(l){Xt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function N6(n,e,t){re=n,w$(n)}function w$(n,e,t){for(var r=(n.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||fg;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||cr;o=fg;var u=cr;if(fg=a,(cr=l)&&!u)for(re=s;re!==null;)a=re,l=a.child,a.tag===22&&a.memoizedState!==null?hP(s):l!==null?(l.return=a,re=l):hP(s);for(;i!==null;)re=i,w$(i),i=i.sibling;re=s,fg=o,cr=u}cP(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):cP(n)}}function cP(n){for(;re!==null;){var e=re;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cr||dv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cr)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Ks(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&YI(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}YI(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}cr||e.flags&512&&$w(e)}catch(f){Xt(e,e.return,f)}}if(e===n){re=null;break}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}}function dP(n){for(;re!==null;){var e=re;if(e===n){re=null;break}var t=e.sibling;if(t!==null){t.return=e.return,re=t;break}re=e.return}}function hP(n){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{dv(4,e)}catch(l){Xt(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Xt(e,s,l)}}var i=e.return;try{$w(e)}catch(l){Xt(e,i,l)}break;case 5:var a=e.return;try{$w(e)}catch(l){Xt(e,a,l)}}}catch(l){Xt(e,e.return,l)}if(e===n){re=null;break}var o=e.sibling;if(o!==null){o.return=e.return,re=o;break}re=e.return}}var $6=Math.ceil,zm=Ma.ReactCurrentDispatcher,GC=Ma.ReactCurrentOwner,Rs=Ma.ReactCurrentBatchConfig,Ke=0,$n=null,_n=null,Yn=0,es=0,Ju=jo(0),In=0,sf=null,Ll=0,hv=0,YC=0,Oh=null,Ur=null,qC=0,Dc=1/0,oa=null,Km=!1,Fw=null,Eo=null,pg=!1,uo=null,Wm=0,Ih=0,jw=null,Jg=-1,em=0;function Ar(){return Ke&6?on():Jg!==-1?Jg:Jg=on()}function So(n){return n.mode&1?Ke&2&&Yn!==0?Yn&-Yn:v6.transition!==null?(em===0&&(em=iN()),em):(n=ht,n!==0||(n=window.event,n=n===void 0?16:hN(n.type)),n):1}function Zs(n,e,t,r){if(50<Ih)throw Ih=0,jw=null,Error(G(185));Yf(n,t,r),(!(Ke&2)||n!==$n)&&(n===$n&&(!(Ke&2)&&(hv|=t),In===4&&no(n,Yn)),Gr(n,r),t===1&&Ke===0&&!(e.mode&1)&&(Dc=on()+500,lv&&Vo()))}function Gr(n,e){var t=n.callbackNode;vU(n,e);var r=xm(n,n===$n?Yn:0);if(r===0)t!==null&&wI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&wI(t),e===1)n.tag===0?y6(fP.bind(null,n)):AN(fP.bind(null,n)),f6(function(){!(Ke&6)&&Vo()}),t=null;else{switch(aN(r)){case 1:t=wC;break;case 4:t=rN;break;case 16:t=Pm;break;case 536870912:t=sN;break;default:t=Pm}t=x$(t,E$.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function E$(n,e){if(Jg=-1,em=0,Ke&6)throw Error(G(327));var t=n.callbackNode;if(gc()&&n.callbackNode!==t)return null;var r=xm(n,n===$n?Yn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Gm(n,r);else{e=r;var s=Ke;Ke|=2;var i=C$();($n!==n||Yn!==e)&&(oa=null,Dc=on()+500,Sl(n,e));do try{F6();break}catch(o){S$(n,o)}while(!0);NC(),zm.current=i,Ke=s,_n!==null?e=0:($n=null,Yn=0,e=In)}if(e!==0){if(e===2&&(s=hw(n),s!==0&&(r=s,e=Vw(n,s))),e===1)throw t=sf,Sl(n,0),no(n,r),Gr(n,on()),t;if(e===6)no(n,r);else{if(s=n.current.alternate,!(r&30)&&!L6(s)&&(e=Gm(n,r),e===2&&(i=hw(n),i!==0&&(r=i,e=Vw(n,i))),e===1))throw t=sf,Sl(n,0),no(n,r),Gr(n,on()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:sl(n,Ur,oa);break;case 3:if(no(n,r),(r&130023424)===r&&(e=qC+500-on(),10<e)){if(xm(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){Ar(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=bw(sl.bind(null,n,Ur,oa),e);break}sl(n,Ur,oa);break;case 4:if(no(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var a=31-Qs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$6(r/1960))-r,10<r){n.timeoutHandle=bw(sl.bind(null,n,Ur,oa),r);break}sl(n,Ur,oa);break;case 5:sl(n,Ur,oa);break;default:throw Error(G(329))}}}return Gr(n,on()),n.callbackNode===t?E$.bind(null,n):null}function Vw(n,e){var t=Oh;return n.current.memoizedState.isDehydrated&&(Sl(n,e).flags|=256),n=Gm(n,e),n!==2&&(e=Ur,Ur=t,e!==null&&Uw(e)),n}function Uw(n){Ur===null?Ur=n:Ur.push.apply(Ur,n)}function L6(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!ni(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(n,e){for(e&=~YC,e&=~hv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Qs(e),r=1<<t;n[t]=-1,e&=~r}}function fP(n){if(Ke&6)throw Error(G(327));gc();var e=xm(n,0);if(!(e&1))return Gr(n,on()),null;var t=Gm(n,e);if(n.tag!==0&&t===2){var r=hw(n);r!==0&&(e=r,t=Vw(n,r))}if(t===1)throw t=sf,Sl(n,0),no(n,e),Gr(n,on()),t;if(t===6)throw Error(G(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,sl(n,Ur,oa),Gr(n,on()),null}function XC(n,e){var t=Ke;Ke|=1;try{return n(e)}finally{Ke=t,Ke===0&&(Dc=on()+500,lv&&Vo())}}function Ml(n){uo!==null&&uo.tag===0&&!(Ke&6)&&gc();var e=Ke;Ke|=1;var t=Rs.transition,r=ht;try{if(Rs.transition=null,ht=1,n)return n()}finally{ht=r,Rs.transition=t,Ke=e,!(Ke&6)&&Vo()}}function QC(){es=Ju.current,kt(Ju)}function Sl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,h6(t)),_n!==null)for(t=_n.return;t!==null;){var r=t;switch(AC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nm();break;case 3:Rc(),kt(Kr),kt(yr),VC();break;case 5:jC(r);break;case 4:Rc();break;case 13:kt(Ht);break;case 19:kt(Ht);break;case 10:$C(r.type._context);break;case 22:case 23:QC()}t=t.return}if($n=n,_n=n=Co(n.current,null),Yn=es=e,In=0,sf=null,YC=hv=Ll=0,Ur=Oh=null,fl!==null){for(e=0;e<fl.length;e++)if(t=fl[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}t.pending=r}fl=null}return n}function S$(n,e){do{var t=_n;try{if(NC(),Xg.current=Hm,Bm){for(var r=Kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bm=!1}if($l=0,Dn=Tn=Kt=null,Ch=!1,tf=0,GC.current=null,t===null||t.return===null){In=1,sf=e,_n=null;break}e:{var i=n,a=t.return,o=t,l=e;if(e=Yn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=eP(a);if(p!==null){p.flags&=-257,tP(p,a,o,i,e),p.mode&1&&JI(i,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){JI(i,u,e),ZC();break e}l=Error(G(426))}}else if(Ft&&o.mode&1){var v=eP(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),tP(v,a,o,i,e),DC(Ac(l,o));break e}}i=l=Ac(l,o),In!==4&&(In=2),Oh===null?Oh=[i]:Oh.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=a$(i,l,e);GI(i,m);break e;case 1:o=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Eo===null||!Eo.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=o$(i,o,e);GI(i,E);break e}}i=i.return}while(i!==null)}O$(t)}catch(S){e=S,_n===t&&t!==null&&(_n=t=t.return);continue}break}while(!0)}function C$(){var n=zm.current;return zm.current=Hm,n===null?Hm:n}function ZC(){(In===0||In===3||In===2)&&(In=4),$n===null||!(Ll&268435455)&&!(hv&268435455)||no($n,Yn)}function Gm(n,e){var t=Ke;Ke|=2;var r=C$();($n!==n||Yn!==e)&&(oa=null,Sl(n,e));do try{M6();break}catch(s){S$(n,s)}while(!0);if(NC(),Ke=t,zm.current=r,_n!==null)throw Error(G(261));return $n=null,Yn=0,In}function M6(){for(;_n!==null;)T$(_n)}function F6(){for(;_n!==null&&!uU();)T$(_n)}function T$(n){var e=P$(n.alternate,n,es);n.memoizedProps=n.pendingProps,e===null?O$(n):_n=e,GC.current=null}function O$(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=A6(t,e),t!==null){t.flags&=32767,_n=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{In=6,_n=null;return}}else if(t=R6(t,e,es),t!==null){_n=t;return}if(e=e.sibling,e!==null){_n=e;return}_n=e=n}while(e!==null);In===0&&(In=5)}function sl(n,e,t){var r=ht,s=Rs.transition;try{Rs.transition=null,ht=1,j6(n,e,t,r)}finally{Rs.transition=s,ht=r}return null}function j6(n,e,t,r){do gc();while(uo!==null);if(Ke&6)throw Error(G(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(G(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(_U(n,i),n===$n&&(_n=$n=null,Yn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||pg||(pg=!0,x$(Pm,function(){return gc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Rs.transition,Rs.transition=null;var a=ht;ht=1;var o=Ke;Ke|=4,GC.current=null,k6(n,t),b$(t,n),i6(vw),Rm=!!yw,vw=yw=null,n.current=t,N6(t),cU(),Ke=o,ht=a,Rs.transition=i}else n.current=t;if(pg&&(pg=!1,uo=n,Wm=s),i=n.pendingLanes,i===0&&(Eo=null),fU(t.stateNode),Gr(n,on()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Km)throw Km=!1,n=Fw,Fw=null,n;return Wm&1&&n.tag!==0&&gc(),i=n.pendingLanes,i&1?n===jw?Ih++:(Ih=0,jw=n):Ih=0,Vo(),null}function gc(){if(uo!==null){var n=aN(Wm),e=Rs.transition,t=ht;try{if(Rs.transition=null,ht=16>n?16:n,uo===null)var r=!1;else{if(n=uo,uo=null,Wm=0,Ke&6)throw Error(G(331));var s=Ke;for(Ke|=4,re=n.current;re!==null;){var i=re,a=i.child;if(re.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Th(8,d,i)}var h=d.child;if(h!==null)h.return=d,re=h;else for(;re!==null;){d=re;var f=d.sibling,p=d.return;if(y$(d),d===u){re=null;break}if(f!==null){f.return=p,re=f;break}re=p}}}var _=i.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}re=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,re=a;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Th(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,re=m;break e}re=i.return}}var w=n.current;for(re=w;re!==null;){a=re;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,re=b;else e:for(a=w;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:dv(9,o)}}catch(S){Xt(o,o.return,S)}if(o===a){re=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,re=E;break e}re=o.return}}if(Ke=s,Vo(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(rv,n)}catch{}r=!0}return r}finally{ht=t,Rs.transition=e}}return!1}function pP(n,e,t){e=Ac(t,e),e=a$(n,e,1),n=wo(n,e,1),e=Ar(),n!==null&&(Yf(n,1,e),Gr(n,e))}function Xt(n,e,t){if(n.tag===3)pP(n,n,t);else for(;e!==null;){if(e.tag===3){pP(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){n=Ac(t,n),n=o$(e,n,1),e=wo(e,n,1),n=Ar(),e!==null&&(Yf(e,1,n),Gr(e,n));break}}e=e.return}}function V6(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Ar(),n.pingedLanes|=n.suspendedLanes&t,$n===n&&(Yn&t)===t&&(In===4||In===3&&(Yn&130023424)===Yn&&500>on()-qC?Sl(n,0):YC|=t),Gr(n,e)}function I$(n,e){e===0&&(n.mode&1?(e=sg,sg<<=1,!(sg&130023424)&&(sg=4194304)):e=1);var t=Ar();n=Ca(n,e),n!==null&&(Yf(n,e,t),Gr(n,t))}function U6(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),I$(n,t)}function B6(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),I$(n,t)}var P$;P$=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Kr.current)Hr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Hr=!1,x6(n,e,t);Hr=!!(n.flags&131072)}else Hr=!1,Ft&&e.flags&1048576&&DN(e,Mm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zg(n,e),n=e.pendingProps;var s=Ic(e,yr.current);pc(e,t),s=BC(null,e,r,n,s,t);var i=HC();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wr(r)?(i=!0,$m(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,MC(e),s.updater=cv,e.stateNode=s,s._reactInternals=e,Iw(e,r,n,t),e=Rw(null,e,r,!0,i,t)):(e.tag=0,Ft&&i&&RC(e),Or(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Zg(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=z6(r),n=Ks(r,n),s){case 0:e=xw(null,e,r,n,t);break e;case 1:e=sP(null,e,r,n,t);break e;case 11:e=nP(null,e,r,n,t);break e;case 14:e=rP(null,e,r,Ks(r.type,n),t);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ks(r,s),xw(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ks(r,s),sP(n,e,r,s,t);case 3:e:{if(d$(e),n===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,FN(n,e),Vm(e,r,null,t);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ac(Error(G(423)),e),e=iP(n,e,r,t,s);break e}else if(r!==s){s=Ac(Error(G(424)),e),e=iP(n,e,r,t,s);break e}else for(ts=bo(e.stateNode.containerInfo.firstChild),ss=e,Ft=!0,Gs=null,t=LN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Pc(),r===s){e=Ta(n,e,t);break e}Or(n,e,r,t)}e=e.child}return e;case 5:return jN(e),n===null&&Cw(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,a=s.children,_w(r,s)?a=null:i!==null&&_w(r,i)&&(e.flags|=32),c$(n,e),Or(n,e,a,t),e.child;case 6:return n===null&&Cw(e),null;case 13:return h$(n,e,t);case 4:return FC(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=xc(e,null,r,t):Or(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ks(r,s),nP(n,e,r,s,t);case 7:return Or(n,e,e.pendingProps,t),e.child;case 8:return Or(n,e,e.pendingProps.children,t),e.child;case 12:return Or(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Et(Fm,r._currentValue),r._currentValue=a,i!==null)if(ni(i.value,a)){if(i.children===s.children&&!Kr.current){e=Ta(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ma(-1,t&-t),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),Tw(i.return,t,e),o.lanes|=t;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(G(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),Tw(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Or(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,pc(e,t),s=ks(s),r=r(s),e.flags|=1,Or(n,e,r,t),e.child;case 14:return r=e.type,s=Ks(r,e.pendingProps),s=Ks(r.type,s),rP(n,e,r,s,t);case 15:return l$(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ks(r,s),Zg(n,e),e.tag=1,Wr(r)?(n=!0,$m(e)):n=!1,pc(e,t),i$(e,r,s),Iw(e,r,s,t),Rw(null,e,r,!0,n,t);case 19:return f$(n,e,t);case 22:return u$(n,e,t)}throw Error(G(156,e.tag))};function x$(n,e){return nN(n,e)}function H6(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(n,e,t,r){return new H6(n,e,t,r)}function JC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function z6(n){if(typeof n=="function")return JC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===vC)return 11;if(n===_C)return 14}return 2}function Co(n,e){var t=n.alternate;return t===null?(t=Ts(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function tm(n,e,t,r,s,i){var a=2;if(r=n,typeof n=="function")JC(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Hu:return Cl(t.children,s,i,e);case yC:a=8,s|=8;break;case Q0:return n=Ts(12,t,e,s|2),n.elementType=Q0,n.lanes=i,n;case Z0:return n=Ts(13,t,e,s),n.elementType=Z0,n.lanes=i,n;case J0:return n=Ts(19,t,e,s),n.elementType=J0,n.lanes=i,n;case jk:return fv(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Mk:a=10;break e;case Fk:a=9;break e;case vC:a=11;break e;case _C:a=14;break e;case Qa:a=16,r=null;break e}throw Error(G(130,n==null?n:typeof n,""))}return e=Ts(a,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function Cl(n,e,t,r){return n=Ts(7,n,r,e),n.lanes=t,n}function fv(n,e,t,r){return n=Ts(22,n,r,e),n.elementType=jk,n.lanes=t,n.stateNode={isHidden:!1},n}function Tb(n,e,t){return n=Ts(6,n,null,e),n.lanes=t,n}function Ob(n,e,t){return e=Ts(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function K6(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ab(0),this.expirationTimes=ab(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ab(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function e1(n,e,t,r,s,i,a,o,l){return n=new K6(n,e,t,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ts(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},MC(i),n}function W6(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bu,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function R$(n){if(!n)return Do;n=n._reactInternals;e:{if(tu(n)!==n||n.tag!==1)throw Error(G(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(n.tag===1){var t=n.type;if(Wr(t))return RN(n,t,e)}return e}function A$(n,e,t,r,s,i,a,o,l){return n=e1(t,r,!0,n,s,i,a,o,l),n.context=R$(null),t=n.current,r=Ar(),s=So(t),i=ma(r,s),i.callback=e??null,wo(t,i,s),n.current.lanes=s,Yf(n,s,r),Gr(n,r),n}function pv(n,e,t,r){var s=e.current,i=Ar(),a=So(s);return t=R$(t),e.context===null?e.context=t:e.pendingContext=t,e=ma(i,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=wo(s,e,a),n!==null&&(Zs(n,s,a,i),qg(n,s,a)),a}function Ym(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function gP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function t1(n,e){gP(n,e),(n=n.alternate)&&gP(n,e)}function G6(){return null}var D$=typeof reportError=="function"?reportError:function(n){console.error(n)};function n1(n){this._internalRoot=n}gv.prototype.render=n1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(G(409));pv(n,e,null,null)};gv.prototype.unmount=n1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ml(function(){pv(null,n,null,null)}),e[Sa]=null}};function gv(n){this._internalRoot=n}gv.prototype.unstable_scheduleHydration=function(n){if(n){var e=uN();n={blockedOn:null,target:n,priority:e};for(var t=0;t<to.length&&e!==0&&e<to[t].priority;t++);to.splice(t,0,n),t===0&&dN(n)}};function r1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function mP(){}function Y6(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ym(a);i.call(u)}}var a=A$(e,r,n,0,null,!1,!1,"",mP);return n._reactRootContainer=a,n[Sa]=a.current,Xh(n.nodeType===8?n.parentNode:n),Ml(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Ym(l);o.call(u)}}var l=e1(n,0,!1,null,null,!1,!1,"",mP);return n._reactRootContainer=l,n[Sa]=l.current,Xh(n.nodeType===8?n.parentNode:n),Ml(function(){pv(e,l,t,r)}),l}function yv(n,e,t,r,s){var i=t._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Ym(a);o.call(l)}}pv(e,a,n,s)}else a=Y6(t,e,n,s,r);return Ym(a)}oN=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ah(e.pendingLanes);t!==0&&(EC(e,t|1),Gr(e,on()),!(Ke&6)&&(Dc=on()+500,Vo()))}break;case 13:Ml(function(){var r=Ca(n,1);if(r!==null){var s=Ar();Zs(r,n,1,s)}}),t1(n,1)}};SC=function(n){if(n.tag===13){var e=Ca(n,134217728);if(e!==null){var t=Ar();Zs(e,n,134217728,t)}t1(n,134217728)}};lN=function(n){if(n.tag===13){var e=So(n),t=Ca(n,e);if(t!==null){var r=Ar();Zs(t,n,e,r)}t1(n,e)}};uN=function(){return ht};cN=function(n,e){var t=ht;try{return ht=n,e()}finally{ht=t}};uw=function(n,e,t){switch(e){case"input":if(nw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=ov(r);if(!s)throw Error(G(90));Uk(r),nw(r,s)}}}break;case"textarea":Hk(n,t);break;case"select":e=t.value,e!=null&&cc(n,!!t.multiple,e,!1)}};Xk=XC;Qk=Ml;var q6={usingClientEntryPoint:!1,Events:[Xf,Gu,ov,Yk,qk,XC]},Vd={findFiberByHostInstance:hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X6={bundleType:Vd.bundleType,version:Vd.version,rendererPackageName:Vd.rendererPackageName,rendererConfig:Vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=eN(n),n===null?null:n.stateNode},findFiberByHostInstance:Vd.findFiberByHostInstance||G6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gg.isDisabled&&gg.supportsFiber)try{rv=gg.inject(X6),$i=gg}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q6;us.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r1(e))throw Error(G(200));return W6(n,e,null,t)};us.createRoot=function(n,e){if(!r1(n))throw Error(G(299));var t=!1,r="",s=D$;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=e1(n,1,!1,null,null,t,!1,r,s),n[Sa]=e.current,Xh(n.nodeType===8?n.parentNode:n),new n1(e)};us.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(G(188)):(n=Object.keys(n).join(","),Error(G(268,n)));return n=eN(e),n=n===null?null:n.stateNode,n};us.flushSync=function(n){return Ml(n)};us.hydrate=function(n,e,t){if(!mv(e))throw Error(G(200));return yv(null,n,e,!0,t)};us.hydrateRoot=function(n,e,t){if(!r1(n))throw Error(G(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",a=D$;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=A$(e,null,n,1,t??null,s,!1,i,a),n[Sa]=e.current,Xh(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new gv(e)};us.render=function(n,e,t){if(!mv(e))throw Error(G(200));return yv(null,n,e,!1,t)};us.unmountComponentAtNode=function(n){if(!mv(n))throw Error(G(40));return n._reactRootContainer?(Ml(function(){yv(null,null,n,!1,function(){n._reactRootContainer=null,n[Sa]=null})}),!0):!1};us.unstable_batchedUpdates=XC;us.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!mv(t))throw Error(G(200));if(n==null||n._reactInternals===void 0)throw Error(G(38));return yv(n,e,t,!1,r)};us.version="18.3.1-next-f1338f8080-20240426";function k$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k$)}catch(n){console.error(n)}}k$(),kk.exports=us;var Os=kk.exports;const xr=ge(Os);var yP=Os;q0.createRoot=yP.createRoot,q0.hydrateRoot=yP.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},af.apply(this,arguments)}var co;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(co||(co={}));const vP="popstate";function Q6(n){n===void 0&&(n={});function e(s,i){let{pathname:a="/",search:o="",hash:l=""}=nu(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Bw("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:N$(i))}function r(s,i){s1(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return J6(e,t,r,n)}function wn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function s1(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z6(){return Math.random().toString(36).substr(2,8)}function _P(n,e){return{usr:n.state,key:n.key,idx:e}}function Bw(n,e,t,r){return t===void 0&&(t=null),af({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?nu(e):e,{state:t,key:e&&e.key||r||Z6()})}function N$(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function J6(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=co.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(af({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=co.Pop;let v=d(),m=v==null?null:v-u;u=v,l&&l({action:o,location:y.location,delta:m})}function f(v,m){o=co.Push;let w=Bw(y.location,v,m);t&&t(w,v),u=d()+1;let b=_P(w,u),E=y.createHref(w);try{a.pushState(b,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(E)}i&&l&&l({action:o,location:y.location,delta:1})}function p(v,m){o=co.Replace;let w=Bw(y.location,v,m);t&&t(w,v),u=d();let b=_P(w,u),E=y.createHref(w);a.replaceState(b,"",E),i&&l&&l({action:o,location:y.location,delta:0})}function _(v){let m=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof v=="string"?v:N$(v);return w=w.replace(/ $/,"%20"),wn(m,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,m)}let y={get action(){return o},get location(){return n(s,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(vP,h),l=v,()=>{s.removeEventListener(vP,h),l=null}},createHref(v){return e(s,v)},createURL:_,encodeLocation(v){let m=_(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(v){return a.go(v)}};return y}var bP;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(bP||(bP={}));function eB(n,e,t){return t===void 0&&(t="/"),tB(n,e,t)}function tB(n,e,t,r){let s=typeof e=="string"?nu(e):e,i=M$(s.pathname||"/",t);if(i==null)return null;let a=$$(n);nB(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=pB(i);o=dB(a[l],u)}return o}function $$(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(wn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Tl([r,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(wn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$$(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:uB(u,i.index),routesMeta:d})};return n.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of L$(i.path))s(i,a,l)}),e}function L$(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=L$(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function nB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cB(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const rB=/^:[\w-]+$/,sB=3,iB=2,aB=1,oB=10,lB=-2,wP=n=>n==="*";function uB(n,e){let t=n.split("/"),r=t.length;return t.some(wP)&&(r+=lB),e&&(r+=iB),t.filter(s=>!wP(s)).reduce((s,i)=>s+(rB.test(i)?sB:i===""?aB:oB),r)}function cB(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function dB(n,e,t){let{routesMeta:r}=n,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=hB({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Tl([i,h.pathname]),pathnameBase:vB(Tl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Tl([i,h.pathnameBase]))}return a}function hB(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=fB(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const _=o[h];return p&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:n}}function fB(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),s1(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pB(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return s1(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function M$(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function gB(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?nu(n):n;return{pathname:t?t.startsWith("/")?t:mB(t,e):e,search:_B(r),hash:bB(s)}}function mB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ib(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yB(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function F$(n,e){let t=yB(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function j$(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=nu(n):(s=af({},n),wn(!s.pathname||!s.pathname.includes("?"),Ib("?","pathname","search",s)),wn(!s.pathname||!s.pathname.includes("#"),Ib("#","pathname","hash",s)),wn(!s.search||!s.search.includes("#"),Ib("#","search","hash",s)));let i=n===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=gB(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Tl=n=>n.join("/").replace(/\/\/+/g,"/"),vB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_B=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wB(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const V$=["post","put","patch","delete"];new Set(V$);const EB=["get",...V$];new Set(EB);/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function of(){return of=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},of.apply(this,arguments)}const i1=T.createContext(null),SB=T.createContext(null),Zf=T.createContext(null),vv=T.createContext(null),Uo=T.createContext({outlet:null,matches:[],isDataRoute:!1}),U$=T.createContext(null);function Jf(){return T.useContext(vv)!=null}function _v(){return Jf()||wn(!1),T.useContext(vv).location}function B$(n){T.useContext(Zf).static||T.useLayoutEffect(n)}function ru(){let{isDataRoute:n}=T.useContext(Uo);return n?MB():CB()}function CB(){Jf()||wn(!1);let n=T.useContext(i1),{basename:e,future:t,navigator:r}=T.useContext(Zf),{matches:s}=T.useContext(Uo),{pathname:i}=_v(),a=JSON.stringify(F$(s,t.v7_relativeSplatPath)),o=T.useRef(!1);return B$(()=>{o.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=j$(u,JSON.parse(a),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Tl([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,n])}function TB(){let{matches:n}=T.useContext(Uo),e=n[n.length-1];return e?e.params:{}}function OB(n,e){return IB(n,e)}function IB(n,e,t,r){Jf()||wn(!1);let{navigator:s}=T.useContext(Zf),{matches:i}=T.useContext(Uo),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=_v(),d;if(e){var h;let v=typeof e=="string"?nu(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||wn(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=eB(n,{pathname:p}),y=DB(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Tl([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Tl([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,t,r);return e&&y?T.createElement(vv.Provider,{value:{location:of({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:co.Pop}},y):y}function PB(){let n=LB(),e=wB(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:s},t):null,null)}const xB=T.createElement(PB,null);class RB extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(Uo.Provider,{value:this.props.routeContext},T.createElement(U$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AB(n){let{routeContext:e,match:t,children:r}=n,s=T.useContext(i1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Uo.Provider,{value:e},r)}function DB(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(s=t)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||wn(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,_=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,_=!1,y=null,v=null;t&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||xB,l&&(u<0&&f===0?(FB("route-fallback"),_=!0,v=null):u===f&&(_=!0,v=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),w=()=>{let b;return p?b=y:_?b=v:h.route.Component?b=T.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,T.createElement(AB,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:t!=null},children:b})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(RB,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var H$=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(H$||{}),z$=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(z$||{});function kB(n){let e=T.useContext(i1);return e||wn(!1),e}function NB(n){let e=T.useContext(SB);return e||wn(!1),e}function $B(n){let e=T.useContext(Uo);return e||wn(!1),e}function K$(n){let e=$B(),t=e.matches[e.matches.length-1];return t.route.id||wn(!1),t.route.id}function LB(){var n;let e=T.useContext(U$),t=NB(),r=K$();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function MB(){let{router:n}=kB(H$.UseNavigateStable),e=K$(z$.UseNavigateStable),t=T.useRef(!1);return B$(()=>{t.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,of({fromRouteId:e},i)))},[n,e])}const EP={};function FB(n,e,t){EP[n]||(EP[n]=!0)}function Ph(n){let{to:e,replace:t,state:r,relative:s}=n;Jf()||wn(!1);let{future:i,static:a}=T.useContext(Zf),{matches:o}=T.useContext(Uo),{pathname:l}=_v(),u=ru(),d=j$(e,F$(o,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return T.useEffect(()=>u(JSON.parse(h),{replace:t,state:r,relative:s}),[u,h,s,t,r]),null}function jr(n){wn(!1)}function jB(n){let{basename:e="/",children:t=null,location:r,navigationType:s=co.Pop,navigator:i,static:a=!1,future:o}=n;Jf()&&wn(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:a,future:of({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=nu(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:_="default"}=r,y=T.useMemo(()=>{let v=M$(d,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:_},navigationType:s}},[l,d,h,f,p,_,s]);return y==null?null:T.createElement(Zf.Provider,{value:u},T.createElement(vv.Provider,{children:t,value:y}))}function Pb(n){let{children:e,location:t}=n;return OB(Hw(e),t)}new Promise(()=>{});function Hw(n,e){e===void 0&&(e=[]);let t=[];return T.Children.forEach(n,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){t.push.apply(t,Hw(r.props.children,i));return}r.type!==jr&&wn(!1),!r.props.index||!r.props.children||wn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Hw(r.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const VB="6";try{window.__reactRouterVersion=VB}catch{}const UB="startTransition",SP=V5[UB];function BB(n){let{basename:e,children:t,future:r,window:s}=n,i=T.useRef();i.current==null&&(i.current=Q6({window:s,v5Compat:!0}));let a=i.current,[o,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=T.useCallback(h=>{u&&SP?SP(()=>l(h)):l(h)},[l,u]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.createElement(jB,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:r})}var CP;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(CP||(CP={}));var TP;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(TP||(TP={}));function We(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var HB={};function a1(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:HB}var W$=Object.assign,qm=Object.getOwnPropertyDescriptor,Mi=Object.defineProperty,bv=Object.prototype,zw=[];Object.freeze(zw);var G$={};Object.freeze(G$);var zB=typeof Proxy<"u",KB=Object.toString();function Y$(){zB||We("Proxy not available")}function q$(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var ec=function(){};function ri(n){return typeof n=="function"}function Fl(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function wv(n){return n!==null&&typeof n=="object"}function Oa(n){if(!wv(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===KB}function X$(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function ep(n,e,t){Mi(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function Q$(n,e,t){Mi(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function su(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(r){return wv(r)&&r[t]===!0}}function nd(n){return n instanceof Map}function tp(n){return n instanceof Set}var Z$=typeof Object.getOwnPropertySymbols<"u";function WB(n){var e=Object.keys(n);if(!Z$)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(r){return bv.propertyIsEnumerable.call(n,r)})):e}var kc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Z$?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function J$(n){return n===null?null:typeof n=="object"?""+n:n}function ya(n,e){return bv.hasOwnProperty.call(n,e)}var GB=Object.getOwnPropertyDescriptors||function(e){var t={};return kc(e).forEach(function(r){t[r]=qm(e,r)}),t};function YB(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,QB(r.key),r)}}function o1(n,e,t){return e&&YB(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function jl(){return jl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jl.apply(this,arguments)}function eL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Kw(n,e)}function Kw(n,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Kw(n,e)}function xb(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qB(n,e){if(n){if(typeof n=="string")return OP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OP(n,e)}}function OP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tc(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=qB(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XB(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function QB(n){var e=XB(n,"string");return typeof e=="symbol"?e:String(e)}var Ri=Symbol("mobx-stored-annotations");function Fi(n){function e(t,r){if(np(r))return n.decorate_20223_(t,r);rd(t,r,n)}return Object.assign(e,n)}function rd(n,e,t){ya(n,Ri)||ep(n,Ri,jl({},n[Ri])),s9(t)||(n[Ri][e]=t)}function ZB(n){return ya(n,Ri)||ep(n,Ri,jl({},n[Ri])),n[Ri]}function np(n){return typeof n=="object"&&typeof n.kind=="string"}var pe=Symbol("mobx administration"),rp=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=tt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return _L(this)},e.reportChanged=function(){Is(),bL(this),Ps()},e.toString=function(){return this.name_},n}(),l1=su("Atom",rp);function tL(n,e,t){e===void 0&&(e=ec),t===void 0&&(t=ec);var r=new rp(n);return e!==ec&&aH(r,e),t!==ec&&OL(r,t),r}function JB(n,e){return HL(n,e)}function e9(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Xm={structural:JB,default:e9};function Vl(n,e,t){return AL(n)?n:Array.isArray(n)?Wn.array(n,{name:t}):Oa(n)?Wn.object(n,void 0,{name:t}):nd(n)?Wn.map(n,{name:t}):tp(n)?Wn.set(n,{name:t}):typeof n=="function"&&!Tv(n)&&!uf(n)?X$(n)?Lc(n):lf(t,n):n}function t9(n,e,t){if(n==null||Iv(n)||Ov(n)||au(n)||sd(n))return n;if(Array.isArray(n))return Wn.array(n,{name:t,deep:!1});if(Oa(n))return Wn.object(n,void 0,{name:t,deep:!1});if(nd(n))return Wn.map(n,{name:t,deep:!1});if(tp(n))return Wn.set(n,{name:t,deep:!1})}function Ev(n){return n}function n9(n,e){return HL(n,e)?e:n}var r9="override";function s9(n){return n.annotationType_===r9}function sp(n,e){return{annotationType_:n,options_:e,make_:i9,extend_:a9,decorate_20223_:o9}}function i9(n,e,t,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(n,e,t,!1)===null?0:1;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(Tv(t.value))return 1;var i=nL(n,this,e,t,!1);return Mi(r,e,i),2}function a9(n,e,t,r){var s=nL(n,this,e,t);return n.defineProperty_(e,s,r)}function o9(n,e){var t=e.kind,r=e.name,s=e.addInitializer,i=this,a=function(u){var d,h,f,p;return Ul((d=(h=i.options_)==null?void 0:h.name)!=null?d:r.toString(),u,(f=(p=i.options_)==null?void 0:p.autoAction)!=null?f:!1)};if(t=="field"){s(function(){rd(this,r,i)});return}if(t=="method"){var o;return Tv(n)||(n=a(n)),(o=this.options_)!=null&&o.bound&&s(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),n}We("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+t+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function l9(n,e,t,r){e.annotationType_,r.value}function nL(n,e,t,r,s){var i,a,o,l,u,d,h;s===void 0&&(s=X.safeDescriptors),l9(n,e,t,r);var f=r.value;if((i=e.options_)!=null&&i.bound){var p;f=f.bind((p=n.proxy_)!=null?p:n.target_)}return{value:Ul((a=(o=e.options_)==null?void 0:o.name)!=null?a:t.toString(),f,(l=(u=e.options_)==null?void 0:u.autoAction)!=null?l:!1,(d=e.options_)!=null&&d.bound?(h=n.proxy_)!=null?h:n.target_:void 0),configurable:s?n.isPlainObject_:!0,enumerable:!1,writable:!s}}function rL(n,e){return{annotationType_:n,options_:e,make_:u9,extend_:c9,decorate_20223_:d9}}function u9(n,e,t,r){var s;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!ya(n.target_,e)||!uf(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(uf(t.value))return 1;var i=sL(n,this,e,t,!1,!1);return Mi(r,e,i),2}function c9(n,e,t,r){var s,i=sL(n,this,e,t,(s=this.options_)==null?void 0:s.bound);return n.defineProperty_(e,i,r)}function d9(n,e){var t,r=e.name,s=e.addInitializer;return uf(n)||(n=Lc(n)),(t=this.options_)!=null&&t.bound&&s(function(){var i=this,a=i[r].bind(i);a.isMobXFlow=!0,i[r]=a}),n}function h9(n,e,t,r){e.annotationType_,r.value}function sL(n,e,t,r,s,i){i===void 0&&(i=X.safeDescriptors),h9(n,e,t,r);var a=r.value;if(uf(a)||(a=Lc(a)),s){var o;a=a.bind((o=n.proxy_)!=null?o:n.target_),a.isMobXFlow=!0}return{value:a,configurable:i?n.isPlainObject_:!0,enumerable:!1,writable:!i}}function u1(n,e){return{annotationType_:n,options_:e,make_:f9,extend_:p9,decorate_20223_:g9}}function f9(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function p9(n,e,t,r){return m9(n,this,e,t),n.defineComputedProperty_(e,jl({},this.options_,{get:t.get,set:t.set}),r)}function g9(n,e){var t=this,r=e.name,s=e.addInitializer;return s(function(){var i=ou(this)[pe],a=jl({},t.options_,{get:n,context:this});a.name||(a.name="ObservableObject."+r.toString()),i.values_.set(r,new $c(a))}),function(){return this[pe].getObservablePropValue_(r)}}function m9(n,e,t,r){e.annotationType_,r.get}function Sv(n,e){return{annotationType_:n,options_:e,make_:y9,extend_:v9,decorate_20223_:_9}}function y9(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function v9(n,e,t,r){var s,i;return b9(n,this),n.defineObservableProperty_(e,t.value,(s=(i=this.options_)==null?void 0:i.enhancer)!=null?s:Vl,r)}function _9(n,e){var t=this,r=e.kind,s=e.name,i=new WeakSet;function a(o,l){var u,d,h=ou(o)[pe],f=new Ol(l,(u=(d=t.options_)==null?void 0:d.enhancer)!=null?u:Vl,"ObservableObject."+s.toString(),!1);h.values_.set(s,f),i.add(o)}if(r=="accessor")return{get:function(){return i.has(this)||a(this,n.get.call(this)),this[pe].getObservablePropValue_(s)},set:function(l){return i.has(this)||a(this,l),this[pe].setObservablePropValue_(s,l)},init:function(l){return i.has(this)||a(this,l),l}}}function b9(n,e,t,r){e.annotationType_}var w9="true",E9=iL();function iL(n){return{annotationType_:w9,options_:n,make_:S9,extend_:C9,decorate_20223_:T9}}function S9(n,e,t,r){var s,i;if(t.get)return Nc.make_(n,e,t,r);if(t.set){var a=Ul(e.toString(),t.set);return r===n.target_?n.defineProperty_(e,{configurable:X.safeDescriptors?n.isPlainObject_:!0,set:a})===null?0:2:(Mi(r,e,{configurable:!0,set:a}),2)}if(r!==n.target_&&typeof t.value=="function"){var o;if(X$(t.value)){var l,u=(l=this.options_)!=null&&l.autoBind?Lc.bound:Lc;return u.make_(n,e,t,r)}var d=(o=this.options_)!=null&&o.autoBind?lf.bound:lf;return d.make_(n,e,t,r)}var h=((s=this.options_)==null?void 0:s.deep)===!1?Wn.ref:Wn;if(typeof t.value=="function"&&(i=this.options_)!=null&&i.autoBind){var f;t.value=t.value.bind((f=n.proxy_)!=null?f:n.target_)}return h.make_(n,e,t,r)}function C9(n,e,t,r){var s,i;if(t.get)return Nc.extend_(n,e,t,r);if(t.set)return n.defineProperty_(e,{configurable:X.safeDescriptors?n.isPlainObject_:!0,set:Ul(e.toString(),t.set)},r);if(typeof t.value=="function"&&(s=this.options_)!=null&&s.autoBind){var a;t.value=t.value.bind((a=n.proxy_)!=null?a:n.target_)}var o=((i=this.options_)==null?void 0:i.deep)===!1?Wn.ref:Wn;return o.extend_(n,e,t,r)}function T9(n,e){We("'"+this.annotationType_+"' cannot be used as a decorator")}var O9="observable",I9="observable.ref",P9="observable.shallow",x9="observable.struct",aL={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(aL);function mg(n){return n||aL}var Ww=Sv(O9),R9=Sv(I9,{enhancer:Ev}),A9=Sv(P9,{enhancer:t9}),D9=Sv(x9,{enhancer:n9}),oL=Fi(Ww);function yg(n){return n.deep===!0?Vl:n.deep===!1?Ev:N9(n.defaultDecorator)}function k9(n){var e;return n?(e=n.defaultDecorator)!=null?e:iL(n):void 0}function N9(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:Vl}function lL(n,e,t){if(np(e))return Ww.decorate_20223_(n,e);if(Fl(e)){rd(n,e,Ww);return}return AL(n)?n:Oa(n)?Wn.object(n,e,t):Array.isArray(n)?Wn.array(n,e):nd(n)?Wn.map(n,e):tp(n)?Wn.set(n,e):typeof n=="object"&&n!==null?n:Wn.box(n,e)}W$(lL,oL);var $9={box:function(e,t){var r=mg(t);return new Ol(e,yg(r),r.name,!0,r.equals)},array:function(e,t){var r=mg(t);return(X.useProxies===!1||r.proxy===!1?RH:bH)(e,yg(r),r.name)},map:function(e,t){var r=mg(t);return new $L(e,yg(r),r.name)},set:function(e,t){var r=mg(t);return new FL(e,yg(r),r.name)},object:function(e,t,r){return Bo(function(){return PL(X.useProxies===!1||(r==null?void 0:r.proxy)===!1?ou({},r):mH({},r),e,t)})},ref:Fi(R9),shallow:Fi(A9),deep:oL,struct:Fi(D9)},Wn=W$(lL,$9),uL="computed",L9="computed.struct",Gw=u1(uL),M9=u1(L9,{equals:Xm.structural}),Nc=function(e,t){if(np(t))return Gw.decorate_20223_(e,t);if(Fl(t))return rd(e,t,Gw);if(Oa(e))return Fi(u1(uL,e));var r=Oa(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new $c(r)};Object.assign(Nc,Gw);Nc.struct=Fi(M9);var IP,PP,Qm=0,F9=1,j9=(IP=(PP=qm(function(){},"name"))==null?void 0:PP.configurable)!=null?IP:!1,xP={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ul(n,e,t,r){t===void 0&&(t=!1);function s(){return cL(n,t,e,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return e.toString()},j9&&(xP.value=n,Mi(s,"name",xP)),s}function cL(n,e,t,r,s){var i=V9(n,e);try{return t.apply(r,s)}catch(a){throw i.error_=a,a}finally{U9(i)}}function V9(n,e,t,r){var s=!1,i=0,a=X.trackingDerivation,o=!e||!a;Is();var l=X.allowStateChanges;o&&(iu(),l=c1(!0));var u=h1(!0),d={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:s,startTime_:i,actionId_:F9++,parentActionId_:Qm};return Qm=d.actionId_,d}function U9(n){Qm!==n.actionId_&&We(30),Qm=n.parentActionId_,n.error_!==void 0&&(X.suppressReactionErrors=!0),d1(n.prevAllowStateChanges_),xh(n.prevAllowStateReads_),Ps(),n.runAsAction_&&va(n.prevDerivation_),X.suppressReactionErrors=!1}function c1(n){var e=X.allowStateChanges;return X.allowStateChanges=n,e}function d1(n){X.allowStateChanges=n}var dL;dL=Symbol.toPrimitive;var Ol=function(n){eL(e,n);function e(r,s,i,a,o){var l;return i===void 0&&(i="ObservableValue"),o===void 0&&(o=Xm.default),l=n.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=s,l.name_=i,l.equals=o,l.value_=s(r,void 0,i),l}var t=e.prototype;return t.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==X.UNCHANGED&&this.setNewValue_(s)},t.prepareNewValue_=function(s){if(bs(this)){var i=ws(this,{object:this,type:ji,newValue:s});if(!i)return X.UNCHANGED;s=i.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?X.UNCHANGED:s},t.setNewValue_=function(s){var i=this.value_;this.value_=s,this.reportChanged(),Js(this)&&ei(this,{type:ji,object:this,newValue:s,oldValue:i})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(s){return ip(this,s)},t.observe_=function(s,i){return i&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:ji,newValue:this.value_,oldValue:void 0}),ap(this,s)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return J$(this.get())},t[dL]=function(){return this.valueOf()},e}(rp),hL;hL=Symbol.toPrimitive;var $c=function(){function n(t){this.dependenciesState_=tt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=tt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Jm(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Zm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||We(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=Ul("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Xm.structural:Xm.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){W9(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing_&&We(32,this.name_,this.derivation),X.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Yw(this)&&(this.warnAboutUntrackedRead_(),Is(),this.value_=this.computeValue_(!1),Ps());else if(_L(this),Yw(this)){var r=X.trackingContext;this.keepAlive_&&!r&&(X.trackingContext=this),this.trackAndCompute()&&K9(this),X.trackingContext=r}var s=this.value_;if(nm(s))throw s.cause;return s},e.set=function(r){if(this.setter_){this.isRunningSetter_&&We(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else We(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===tt.NOT_TRACKING_,i=this.computeValue_(!0),a=s||nm(r)||nm(i)||!this.equals_(r,i);return a&&(this.value_=i),a},e.computeValue_=function(r){this.isComputing_=!0;var s=c1(!1),i;if(r)i=fL(this,this.derivation,this.scope_);else if(X.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(a){i=new Jm(a)}return d1(s),this.isComputing_=!1,i},e.suspend_=function(){this.keepAlive_||(qw(this),this.value_=void 0)},e.observe_=function(r,s){var i=this,a=!0,o=void 0;return tH(function(){var l=i.get();if(!a||s){var u=iu();r({observableKind:"computed",debugObjectName:i.name_,type:ji,object:i,newValue:l,oldValue:o}),va(u)}a=!1,o=l})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return J$(this.get())},e[hL]=function(){return this.valueOf()},n}(),Cv=su("ComputedValue",$c),tt;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(tt||(tt={}));var Zm;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(Zm||(Zm={}));var Jm=function(e){this.cause=void 0,this.cause=e};function nm(n){return n instanceof Jm}function Yw(n){switch(n.dependenciesState_){case tt.UP_TO_DATE_:return!1;case tt.NOT_TRACKING_:case tt.STALE_:return!0;case tt.POSSIBLY_STALE_:{for(var e=h1(!0),t=iu(),r=n.observing_,s=r.length,i=0;i<s;i++){var a=r[i];if(Cv(a)){if(X.disableErrorBoundaries)a.get();else try{a.get()}catch{return va(t),xh(e),!0}if(n.dependenciesState_===tt.STALE_)return va(t),xh(e),!0}}return gL(n),va(t),xh(e),!1}}}function fL(n,e,t){var r=h1(!0);gL(n),n.newObserving_=new Array(n.observing_.length+100),n.unboundDepsCount_=0,n.runId_=++X.runId;var s=X.trackingDerivation;X.trackingDerivation=n,X.inBatch++;var i;if(X.disableErrorBoundaries===!0)i=e.call(t);else try{i=e.call(t)}catch(a){i=new Jm(a)}return X.inBatch--,X.trackingDerivation=s,B9(n),xh(r),i}function B9(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,r=tt.UP_TO_DATE_,s=0,i=n.unboundDepsCount_,a=0;a<i;a++){var o=t[a];o.diffValue_===0&&(o.diffValue_=1,s!==a&&(t[s]=o),s++),o.dependenciesState_>r&&(r=o.dependenciesState_)}for(t.length=s,n.newObserving_=null,i=e.length;i--;){var l=e[i];l.diffValue_===0&&yL(l,n),l.diffValue_=0}for(;s--;){var u=t[s];u.diffValue_===1&&(u.diffValue_=0,z9(u,n))}r!==tt.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function qw(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)yL(e[t],n);n.dependenciesState_=tt.NOT_TRACKING_}function pL(n){var e=iu();try{return n()}finally{va(e)}}function iu(){var n=X.trackingDerivation;return X.trackingDerivation=null,n}function va(n){X.trackingDerivation=n}function h1(n){var e=X.allowStateReads;return X.allowStateReads=n,e}function xh(n){X.allowStateReads=n}function gL(n){if(n.dependenciesState_!==tt.UP_TO_DATE_){n.dependenciesState_=tt.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=tt.UP_TO_DATE_}}var rm=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},sm=!0,mL=!1,X=function(){var n=a1();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(sm=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new rm().version&&(sm=!1),sm?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new rm):(setTimeout(function(){mL||We(35)},1),new rm)}();function H9(){if((X.pendingReactions.length||X.inBatch||X.isRunningReactions)&&We(36),mL=!0,sm){var n=a1();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),X=new rm}}function z9(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function yL(n,e){n.observers_.delete(e),n.observers_.size===0&&vL(n)}function vL(n){n.isPendingUnobservation_===!1&&(n.isPendingUnobservation_=!0,X.pendingUnobservations.push(n))}function Is(){X.inBatch++}function Ps(){if(--X.inBatch===0){wL();for(var n=X.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation_=!1,t.observers_.size===0&&(t.isBeingObserved_&&(t.isBeingObserved_=!1,t.onBUO()),t instanceof $c&&t.suspend_())}X.pendingUnobservations=[]}}function _L(n){var e=X.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved_&&X.trackingContext&&(n.isBeingObserved_=!0,n.onBO())),n.isBeingObserved_):(n.observers_.size===0&&X.inBatch>0&&vL(n),!1)}function bL(n){n.lowestObserverState_!==tt.STALE_&&(n.lowestObserverState_=tt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===tt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=tt.STALE_}))}function K9(n){n.lowestObserverState_!==tt.STALE_&&(n.lowestObserverState_=tt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===tt.POSSIBLY_STALE_?e.dependenciesState_=tt.STALE_:e.dependenciesState_===tt.UP_TO_DATE_&&(n.lowestObserverState_=tt.UP_TO_DATE_)}))}function W9(n){n.lowestObserverState_===tt.UP_TO_DATE_&&(n.lowestObserverState_=tt.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===tt.UP_TO_DATE_&&(e.dependenciesState_=tt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ey=function(){function n(t,r,s,i){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=tt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Zm.NONE,this.name_=t,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=i}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,X.pendingReactions.push(this),wL())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){Is(),this.isScheduled_=!1;var r=X.trackingContext;if(X.trackingContext=this,Yw(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}X.trackingContext=r,Ps()}},e.track=function(r){if(!this.isDisposed_){Is(),this.isRunning_=!0;var s=X.trackingContext;X.trackingContext=this;var i=fL(this,r,void 0);X.trackingContext=s,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&qw(this),nm(i)&&this.reportExceptionInDerivation_(i.cause),Ps()}},e.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(X.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";X.suppressReactionErrors||console.error(i,r),X.globalReactionErrorHandlers.forEach(function(a){return a(r,s)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Is(),qw(this),Ps()))},e.getDisposer_=function(r){var s=this,i=function a(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[pe]=this,i},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},n}(),G9=100,Xw=function(e){return e()};function wL(){X.inBatch>0||X.isRunningReactions||Xw(Y9)}function Y9(){X.isRunningReactions=!0;for(var n=X.pendingReactions,e=0;n.length>0;){++e===G9&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),r=0,s=t.length;r<s;r++)t[r].runReaction_()}X.isRunningReactions=!1}var ty=su("Reaction",ey);function q9(n){var e=Xw;Xw=function(r){return n(function(){return e(r)})}}function Rh(){return!1}function X9(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var EL="action",Q9="action.bound",SL="autoAction",Z9="autoAction.bound",CL="<unnamed action>",Qw=sp(EL),J9=sp(Q9,{bound:!0}),Zw=sp(SL,{autoAction:!0}),eH=sp(Z9,{autoAction:!0,bound:!0});function TL(n){var e=function(r,s){if(ri(r))return Ul(r.name||CL,r,n);if(ri(s))return Ul(r,s,n);if(np(s))return(n?Zw:Qw).decorate_20223_(r,s);if(Fl(s))return rd(r,s,n?Zw:Qw);if(Fl(r))return Fi(sp(n?SL:EL,{name:r,autoAction:n}))};return e}var nc=TL(!1);Object.assign(nc,Qw);var lf=TL(!0);Object.assign(lf,Zw);nc.bound=Fi(J9);lf.bound=Fi(eH);function Ja(n){return cL(n.name||CL,!1,n,this,void 0)}function Tv(n){return ri(n)&&n.isMobxAction===!0}function tH(n,e){var t,r,s,i,a;e===void 0&&(e=G$);var o=(t=(r=e)==null?void 0:r.name)!=null?t:"Autorun",l=!e.scheduler&&!e.delay,u;if(l)u=new ey(o,function(){this.track(f)},e.onError,e.requiresObservable);else{var d=rH(e),h=!1;u=new ey(o,function(){h||(h=!0,d(function(){h=!1,u.isDisposed_||u.track(f)}))},e.onError,e.requiresObservable)}function f(){n(u)}return(s=e)!=null&&(i=s.signal)!=null&&i.aborted||u.schedule_(),u.getDisposer_((a=e)==null?void 0:a.signal)}var nH=function(e){return e()};function rH(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:nH}var sH="onBO",iH="onBUO";function aH(n,e,t){return IL(sH,n,e,t)}function OL(n,e,t){return IL(iH,n,e,t)}function IL(n,e,t,r){var s=sy(e),i=ri(r)?r:t,a=n+"L";return s[a]?s[a].add(i):s[a]=new Set([i]),function(){var o=s[a];o&&(o.delete(i),o.size===0&&delete s[a])}}var oH="never",vg="always",lH="observed";function uH(n){n.isolateGlobalState===!0&&H9();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(X.useProxies=e===vg?!0:e===oH?!1:typeof Proxy<"u"),e==="ifavailable"&&(X.verifyProxies=!0),t!==void 0){var r=t===vg?vg:t===lH;X.enforceActions=r,X.allowStateChanges=!(r===!0||r===vg)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in n&&(X[s]=!!n[s])}),X.allowStateReads=!X.observableRequiresReaction,n.reactionScheduler&&q9(n.reactionScheduler)}function PL(n,e,t,r){var s=GB(e);return Bo(function(){var i=ou(n,r)[pe];kc(s).forEach(function(a){i.extend_(a,s[a],t&&a in t?t[a]:!0)})}),n}function cH(n,e){return xL(sy(n,e))}function xL(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=dH(n.observing_).map(xL)),e}function dH(n){return Array.from(new Set(n))}var hH=0;function RL(){this.message="FLOW_CANCELLED"}RL.prototype=Object.create(Error.prototype);var Rb=rL("flow"),fH=rL("flow.bound",{bound:!0}),Lc=Object.assign(function(e,t){if(np(t))return Rb.decorate_20223_(e,t);if(Fl(t))return rd(e,t,Rb);var r=e,s=r.name||"<unnamed flow>",i=function(){var o=this,l=arguments,u=++hH,d=nc(s+" - runid: "+u+" - init",r).apply(o,l),h,f=void 0,p=new Promise(function(_,y){var v=0;h=y;function m(E){f=void 0;var S;try{S=nc(s+" - runid: "+u+" - yield "+v++,d.next).call(d,E)}catch(C){return y(C)}b(S)}function w(E){f=void 0;var S;try{S=nc(s+" - runid: "+u+" - yield "+v++,d.throw).call(d,E)}catch(C){return y(C)}b(S)}function b(E){if(ri(E==null?void 0:E.then)){E.then(b,y);return}return E.done?_(E.value):(f=Promise.resolve(E.value),f.then(m,w))}m(void 0)});return p.cancel=nc(s+" - runid: "+u+" - cancel",function(){try{f&&RP(f);var _=d.return(void 0),y=Promise.resolve(_.value);y.then(ec,ec),RP(y),h(new RL)}catch(v){h(v)}}),p};return i.isMobXFlow=!0,i},Rb);Lc.bound=Fi(fH);function RP(n){ri(n.cancel)&&n.cancel()}function uf(n){return(n==null?void 0:n.isMobXFlow)===!0}function pH(n,e){return n?Iv(n)||!!n[pe]||l1(n)||ty(n)||Cv(n):!1}function AL(n){return pH(n)}function ua(n,e){e===void 0&&(e=void 0),Is();try{return n.apply(e)}finally{Ps()}}function Su(n){return n[pe]}var gH={has:function(e,t){return Su(e).has_(t)},get:function(e,t){return Su(e).get_(t)},set:function(e,t,r){var s;return Fl(t)?(s=Su(e).set_(t,r,!0))!=null?s:!0:!1},deleteProperty:function(e,t){var r;return Fl(t)?(r=Su(e).delete_(t,!0))!=null?r:!0:!1},defineProperty:function(e,t,r){var s;return(s=Su(e).defineProperty_(t,r))!=null?s:!0},ownKeys:function(e){return Su(e).ownKeys_()},preventExtensions:function(e){We(13)}};function mH(n,e){var t,r;return Y$(),n=ou(n,e),(r=(t=n[pe]).proxy_)!=null?r:t.proxy_=new Proxy(n,gH)}function bs(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function ip(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),q$(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function ws(n,e){var t=iu();try{for(var r=[].concat(n.interceptors_||[]),s=0,i=r.length;s<i&&(e=r[s](e),e&&!e.type&&We(14),!!e);s++);return e}finally{va(t)}}function Js(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function ap(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),q$(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function ei(n,e){var t=iu(),r=n.changeListeners_;if(r){r=r.slice();for(var s=0,i=r.length;s<i;s++)r[s](e);va(t)}}function yH(n,e,t){return Bo(function(){var r,s=ou(n,t)[pe];(r=e)!=null||(e=ZB(n)),kc(e).forEach(function(i){return s.make_(i,e[i])})}),n}var Ab=Symbol("mobx-keys");function f1(n,e,t){return Oa(n)?PL(n,n,e,t):(Bo(function(){var r=ou(n,t)[pe];if(!n[Ab]){var s=Object.getPrototypeOf(n),i=new Set([].concat(kc(n),kc(s)));i.delete("constructor"),i.delete(pe),ep(s,Ab,i)}n[Ab].forEach(function(a){return r.make_(a,e&&a in e?e[a]:!0)})}),n)}var AP="splice",ji="update",vH=1e4,_H={get:function(e,t){var r=e[pe];return t===pe?r:t==="length"?r.getArrayLength_():typeof t=="string"&&!isNaN(t)?r.get_(parseInt(t)):ya(ny,t)?ny[t]:e[t]},set:function(e,t,r){var s=e[pe];return t==="length"&&s.setArrayLength_(r),typeof t=="symbol"||isNaN(t)?e[t]=r:s.set_(parseInt(t),r),!0},preventExtensions:function(){We(15)}},p1=function(){function n(t,r,s,i){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=i,this.atom_=new rp(t),this.enhancer_=function(a,o){return r(a,o,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return ip(this,r)},e.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),ap(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&We("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var i=new Array(r-s),a=0;a<r-s;a++)i[a]=void 0;this.spliceWithArray_(s,0,i)}else this.spliceWithArray_(r,s-r)},e.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&We(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&BL(r+s+1)},e.spliceWithArray_=function(r,s,i){var a=this;this.atom_;var o=this.values_.length;if(r===void 0?r=0:r>o?r=o:r<0&&(r=Math.max(0,o+r)),arguments.length===1?s=o-r:s==null?s=0:s=Math.max(0,Math.min(s,o-r)),i===void 0&&(i=zw),bs(this)){var l=ws(this,{object:this.proxy_,type:AP,index:r,removedCount:s,added:i});if(!l)return zw;s=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(h){return a.enhancer_(h,void 0)}),this.legacyMode_){var u=i.length-s;this.updateArrayLength_(o,u)}var d=this.spliceItemsIntoValues_(r,s,i);return(s!==0||i.length!==0)&&this.notifyArraySplice_(r,i,d),this.dehanceValues_(d)},e.spliceItemsIntoValues_=function(r,s,i){if(i.length<vH){var a;return(a=this.values_).splice.apply(a,[r,s].concat(i))}else{var o=this.values_.slice(r,r+s),l=this.values_.slice(r+s);this.values_.length+=i.length-s;for(var u=0;u<i.length;u++)this.values_[r+u]=i[u];for(var d=0;d<l.length;d++)this.values_[r+i.length+d]=l[d];return o}},e.notifyArrayChildUpdate_=function(r,s,i){var a=!this.owned_&&Rh(),o=Js(this),l=o||a?{observableKind:"array",object:this.proxy_,type:ji,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:i}:null;this.atom_.reportChanged(),o&&ei(this,l)},e.notifyArraySplice_=function(r,s,i){var a=!this.owned_&&Rh(),o=Js(this),l=o||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:AP,index:r,removed:i,added:s,removedCount:i.length,addedCount:s.length}:null;this.atom_.reportChanged(),o&&ei(this,l)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,s){var i=this.values_;if(this.legacyMode_&&r>i.length&&We(17,r,i.length),r<i.length){this.atom_;var a=i[r];if(bs(this)){var o=ws(this,{type:ji,object:this.proxy_,index:r,newValue:s});if(!o)return;s=o.newValue}s=this.enhancer_(s,a);var l=s!==a;l&&(i[r]=s,this.notifyArrayChildUpdate_(r,s,a))}else{for(var u=new Array(r+1-i.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=s,this.spliceWithArray_(i.length,0,u)}},n}();function bH(n,e,t,r){return t===void 0&&(t="ObservableArray"),r===void 0&&(r=!1),Y$(),Bo(function(){var s=new p1(t,e,r,!1);Q$(s.values_,pe,s);var i=new Proxy(s.values_,_H);return s.proxy_=i,n&&n.length&&s.spliceWithArray_(0,0,n),i})}var ny={clear:function(){return this.splice(0)},replace:function(e){var t=this[pe];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];var a=this[pe];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,s)},spliceWithArray:function(e,t,r){return this[pe].spliceWithArray_(e,t,r)},push:function(){for(var e=this[pe],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[pe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[pe],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return X.trackingDerivation&&We(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){X.trackingDerivation&&We(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[pe],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};Tt("at",ds);Tt("concat",ds);Tt("flat",ds);Tt("includes",ds);Tt("indexOf",ds);Tt("join",ds);Tt("lastIndexOf",ds);Tt("slice",ds);Tt("toString",ds);Tt("toLocaleString",ds);Tt("toSorted",ds);Tt("toSpliced",ds);Tt("with",ds);Tt("every",ui);Tt("filter",ui);Tt("find",ui);Tt("findIndex",ui);Tt("findLast",ui);Tt("findLastIndex",ui);Tt("flatMap",ui);Tt("forEach",ui);Tt("map",ui);Tt("some",ui);Tt("toReversed",ui);Tt("reduce",DL);Tt("reduceRight",DL);function Tt(n,e){typeof Array.prototype[n]=="function"&&(ny[n]=e(n))}function ds(n){return function(){var e=this[pe];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function ui(n){return function(e,t){var r=this,s=this[pe];s.atom_.reportObserved();var i=s.dehanceValues_(s.values_);return i[n](function(a,o){return e.call(t,a,o,r)})}}function DL(n){return function(){var e=this,t=this[pe];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_),s=arguments[0];return arguments[0]=function(i,a,o){return s(i,a,o,e)},r[n].apply(r,arguments)}}var wH=su("ObservableArrayAdministration",p1);function Ov(n){return wv(n)&&wH(n[pe])}var kL,NL,EH={},ho="add",ry="delete";kL=Symbol.iterator;NL=Symbol.toStringTag;var $L=function(){function n(t,r,s){var i=this;r===void 0&&(r=Vl),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[pe]=EH,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,ri(Map)||We(18),Bo(function(){i.keysAtom_=tL("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,t&&i.merge(t)})}var e=n.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var s=this;if(!X.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var a=i=new Ol(this.has_(r),Ev,"ObservableMap.key?",!1);this.hasMap_.set(r,a),OL(a,function(){return s.hasMap_.delete(r)})}return i.get()},e.set=function(r,s){var i=this.has_(r);if(bs(this)){var a=ws(this,{type:i?ji:ho,object:this,newValue:s,name:r});if(!a)return this;s=a.newValue}return i?this.updateValue_(r,s):this.addValue_(r,s),this},e.delete=function(r){var s=this;if(this.keysAtom_,bs(this)){var i=ws(this,{type:ry,object:this,name:r});if(!i)return!1}if(this.has_(r)){var a=Rh(),o=Js(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:ry,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ua(function(){var u;s.keysAtom_.reportChanged(),(u=s.hasMap_.get(r))==null||u.setNewValue_(!1);var d=s.data_.get(r);d.setNewValue_(void 0),s.data_.delete(r)}),o&&ei(this,l),!0}return!1},e.updateValue_=function(r,s){var i=this.data_.get(r);if(s=i.prepareNewValue_(s),s!==X.UNCHANGED){var a=Rh(),o=Js(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:ji,object:this,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&ei(this,l)}},e.addValue_=function(r,s){var i=this;this.keysAtom_,ua(function(){var u,d=new Ol(s,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,d),s=d.value_,(u=i.hasMap_.get(r))==null||u.setNewValue_(!0),i.keysAtom_.reportChanged()});var a=Rh(),o=Js(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:ho,object:this,name:r,newValue:s}:null;o&&ei(this,l)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,s=this.keys();return cf({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:r.get(l)}}})},e.entries=function(){var r=this,s=this.keys();return cf({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:[l,r.get(l)]}}})},e[kL]=function(){return this.entries()},e.forEach=function(r,s){for(var i=tc(this),a;!(a=i()).done;){var o=a.value,l=o[0],u=o[1];r.call(s,u,l,this)}},e.merge=function(r){var s=this;return au(r)&&(r=new Map(r)),ua(function(){Oa(r)?WB(r).forEach(function(i){return s.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var a=i[0],o=i[1];return s.set(a,o)}):nd(r)?(r.constructor!==Map&&We(19,r),r.forEach(function(i,a){return s.set(a,i)})):r!=null&&We(20,r)}),this},e.clear=function(){var r=this;ua(function(){pL(function(){for(var s=tc(r.keys()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},e.replace=function(r){var s=this;return ua(function(){for(var i=SH(r),a=new Map,o=!1,l=tc(s.data_.keys()),u;!(u=l()).done;){var d=u.value;if(!i.has(d)){var h=s.delete(d);if(h)o=!0;else{var f=s.data_.get(d);a.set(d,f)}}}for(var p=tc(i.entries()),_;!(_=p()).done;){var y=_.value,v=y[0],m=y[1],w=s.data_.has(v);if(s.set(v,m),s.data_.has(v)){var b=s.data_.get(v);a.set(v,b),w||(o=!0)}}if(!o)if(s.data_.size!==a.size)s.keysAtom_.reportChanged();else for(var E=s.data_.keys(),S=a.keys(),C=E.next(),O=S.next();!C.done;){if(C.value!==O.value){s.keysAtom_.reportChanged();break}C=E.next(),O=S.next()}s.data_=a}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,s){return ap(this,r)},e.intercept_=function(r){return ip(this,r)},o1(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:NL,get:function(){return"Map"}}]),n}(),au=su("ObservableMap",$L);function SH(n){if(nd(n)||au(n))return n;if(Array.isArray(n))return new Map(n);if(Oa(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return We(21,n)}var LL,ML,CH={};LL=Symbol.iterator;ML=Symbol.toStringTag;var FL=function(){function n(t,r,s){var i=this;r===void 0&&(r=Vl),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[pe]=CH,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,ri(Set)||We(22),this.enhancer_=function(a,o){return r(a,o,s)},Bo(function(){i.atom_=tL(i.name_),t&&i.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;ua(function(){pL(function(){for(var s=tc(r.data_.values()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},e.forEach=function(r,s){for(var i=tc(this),a;!(a=i()).done;){var o=a.value;r.call(s,o,o,this)}},e.add=function(r){var s=this;if(this.atom_,bs(this)){var i=ws(this,{type:ho,object:this,newValue:r});if(!i)return this}if(!this.has(r)){ua(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var a=!1,o=Js(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:ho,object:this,newValue:r}:null;o&&ei(this,l)}return this},e.delete=function(r){var s=this;if(bs(this)){var i=ws(this,{type:ry,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var a=!1,o=Js(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:ry,object:this,oldValue:r}:null;return ua(function(){s.atom_.reportChanged(),s.data_.delete(r)}),o&&ei(this,l),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,s=Array.from(this.keys()),i=Array.from(this.values());return cf({next:function(){var o=r;return r+=1,o<i.length?{value:[s[o],i[o]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,s=0,i=Array.from(this.data_.values());return cf({next:function(){return s<i.length?{value:r.dehanceValue_(i[s++]),done:!1}:{done:!0}}})},e.replace=function(r){var s=this;return sd(r)&&(r=new Set(r)),ua(function(){Array.isArray(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):tp(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):r!=null&&We("Cannot initialize set from "+r)}),this},e.observe_=function(r,s){return ap(this,r)},e.intercept_=function(r){return ip(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[LL]=function(){return this.values()},o1(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:ML,get:function(){return"Set"}}]),n}(),sd=su("ObservableSet",FL),DP=Object.create(null),kP="remove",jL=function(){function n(t,r,s,i){r===void 0&&(r=new Map),i===void 0&&(i=E9),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=r,this.name_=s,this.defaultAnnotation_=i,this.keysAtom_=new rp("ObservableObject.keys"),this.isPlainObject_=Oa(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,s){var i=this.values_.get(r);if(i instanceof $c)return i.set(s),!0;if(bs(this)){var a=ws(this,{type:ji,object:this.proxy_||this.target_,name:r,newValue:s});if(!a)return null;s=a.newValue}if(s=i.prepareNewValue_(s),s!==X.UNCHANGED){var o=Js(this),l=!1,u=o||l?{type:ji,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&ei(this,u)}return!0},e.get_=function(r){return X.trackingDerivation&&!ya(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,s,i){return i===void 0&&(i=!1),ya(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):i?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},e.has_=function(r){if(!X.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Ol(r in this.target_,Ev,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},e.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var i;if((i=this.target_[Ri])!=null&&i[r])return;We(1,s.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==bv;){var o=qm(a,r);if(o){var l=s.make_(this,r,o,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}$P(this,s,r)}},e.extend_=function(r,s,i,a){if(a===void 0&&(a=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,s,a);var o=i.extend_(this,r,s,a);return o&&$P(this,i,r),o},e.defineProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Is();var a=this.delete_(r);if(!a)return a;if(bs(this)){var o=ws(this,{object:this.proxy_||this.target_,name:r,type:ho,newValue:s.value});if(!o)return null;var l=o.newValue;s.value!==l&&(s=jl({},s,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,s))return!1}else Mi(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{Ps()}return!0},e.defineObservableProperty_=function(r,s,i,a){a===void 0&&(a=!1),this.keysAtom_;try{Is();var o=this.delete_(r);if(!o)return o;if(bs(this)){var l=ws(this,{object:this.proxy_||this.target_,name:r,type:ho,newValue:s});if(!l)return null;s=l.newValue}var u=NP(r),d={configurable:X.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,r,d))return!1}else Mi(this.target_,r,d);var h=new Ol(s,i,"ObservableObject.key",!1);this.values_.set(r,h),this.notifyPropertyAddition_(r,h.value_)}finally{Ps()}return!0},e.defineComputedProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Is();var a=this.delete_(r);if(!a)return a;if(bs(this)){var o=ws(this,{object:this.proxy_||this.target_,name:r,type:ho,newValue:void 0});if(!o)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var l=NP(r),u={configurable:X.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Mi(this.target_,r,u);this.values_.set(r,new $c(s)),this.notifyPropertyAddition_(r,void 0)}finally{Ps()}return!0},e.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!ya(this.target_,r))return!0;if(bs(this)){var i=ws(this,{object:this.proxy_||this.target_,name:r,type:kP});if(!i)return null}try{var a,o;Is();var l=Js(this),u=!1,d=this.values_.get(r),h=void 0;if(!d&&(l||u)){var f;h=(f=qm(this.target_,r))==null?void 0:f.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(d&&(this.values_.delete(r),d instanceof Ol&&(h=d.value_),bL(d)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(o=a.get(r))==null||o.set(r in this.target_),l||u){var p={type:kP,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:r};l&&ei(this,p)}}finally{Ps()}return!0},e.observe_=function(r,s){return ap(this,r)},e.intercept_=function(r){return ip(this,r)},e.notifyPropertyAddition_=function(r,s){var i,a,o=Js(this),l=!1;if(o||l){var u=o||l?{type:ho,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;o&&ei(this,u)}(i=this.pendingKeys_)==null||(a=i.get(r))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),kc(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function ou(n,e){var t;if(ya(n,pe))return n;var r=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",s=new jL(n,new Map,String(r),k9(e));return ep(n,pe,s),n}var TH=su("ObservableObjectAdministration",jL);function NP(n){return DP[n]||(DP[n]={get:function(){return this[pe].getObservablePropValue_(n)},set:function(t){return this[pe].setObservablePropValue_(n,t)}})}function Iv(n){return wv(n)?TH(n[pe]):!1}function $P(n,e,t){var r;(r=n.target_[Ri])==null||delete r[t]}var OH=UL(0),IH=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1}(),Db=0,VL=function(){};function PH(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}PH(VL,Array.prototype);var g1=function(n,e,t){eL(r,n);function r(i,a,o,l){var u;return o===void 0&&(o="ObservableArray"),l===void 0&&(l=!1),u=n.call(this)||this,Bo(function(){var d=new p1(o,a,l,!0);d.proxy_=xb(u),Q$(xb(u),pe,d),i&&i.length&&u.spliceWithArray(0,0,i),IH&&Object.defineProperty(xb(u),"0",OH)}),u}var s=r.prototype;return s.concat=function(){this[pe].atom_.reportObserved();for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),o.map(function(u){return Ov(u)?u.slice():u}))},s[t]=function(){var i=this,a=0;return cf({next:function(){return a<i.length?{value:i[a++],done:!1}:{done:!0,value:void 0}}})},o1(r,[{key:"length",get:function(){return this[pe].getArrayLength_()},set:function(a){this[pe].setArrayLength_(a)}},{key:e,get:function(){return"Array"}}]),r}(VL,Symbol.toStringTag,Symbol.iterator);Object.entries(ny).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&ep(g1.prototype,e,t)});function UL(n){return{enumerable:!1,configurable:!0,get:function(){return this[pe].get_(n)},set:function(t){this[pe].set_(n,t)}}}function xH(n){Mi(g1.prototype,""+n,UL(n))}function BL(n){if(n>Db){for(var e=Db;e<n+100;e++)xH(e);Db=n}}BL(1e3);function RH(n,e,t){return new g1(n,e,t)}function sy(n,e){if(typeof n=="object"&&n!==null){if(Ov(n))return e!==void 0&&We(23),n[pe].atom_;if(sd(n))return n.atom_;if(au(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||We(25,e,Jw(n)),t}if(Iv(n)){if(!e)return We(26);var r=n[pe].values_.get(e);return r||We(27,e,Jw(n)),r}if(l1(n)||Cv(n)||ty(n))return n}else if(ri(n)&&ty(n[pe]))return n[pe];We(28)}function AH(n,e){if(n||We(29),l1(n)||Cv(n)||ty(n)||au(n)||sd(n))return n;if(n[pe])return n[pe];We(24,n)}function Jw(n,e){var t;if(e!==void 0)t=sy(n,e);else{if(Tv(n))return n.name;Iv(n)||au(n)||sd(n)?t=AH(n):t=sy(n)}return t.name_}function Bo(n){var e=iu(),t=c1(!0);Is();try{return n()}finally{Ps(),d1(t),va(e)}}var LP=bv.toString;function HL(n,e,t){return t===void 0&&(t=-1),eE(n,e,t)}function eE(n,e,t,r,s){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var i=typeof n;if(i!=="function"&&i!=="object"&&typeof e!="object")return!1;var a=LP.call(n);if(a!==LP.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=MP(n),e=MP(e);var o=a==="[object Array]";if(!o){if(typeof n!="object"||typeof e!="object")return!1;var l=n.constructor,u=e.constructor;if(l!==u&&!(ri(l)&&l instanceof l&&ri(u)&&u instanceof u)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),r=r||[],s=s||[];for(var d=r.length;d--;)if(r[d]===n)return s[d]===e;if(r.push(n),s.push(e),o){if(d=n.length,d!==e.length)return!1;for(;d--;)if(!eE(n[d],e[d],t-1,r,s))return!1}else{var h=Object.keys(n),f;if(d=h.length,Object.keys(e).length!==d)return!1;for(;d--;)if(f=h[d],!(ya(e,f)&&eE(n[f],e[f],t-1,r,s)))return!1}return r.pop(),s.pop(),!0}function MP(n){return Ov(n)?n.slice():nd(n)||au(n)||tp(n)||sd(n)?Array.from(n.entries()):n}function cf(n){return n[Symbol.iterator]=DH,n}function DH(){return this}["Symbol","Map","Set"].forEach(function(n){var e=a1();typeof e[n]>"u"&&We("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:X9,extras:{getDebugName:Jw},$mobx:pe});if(!T.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!yH)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function kH(n){n()}function NH(n){n||(n=kH),uH({reactionScheduler:n})}function $H(n){return cH(n)}var LH=1e4,MH=1e4,FH=function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=LH),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var s=Date.now();t.registrations.forEach(function(i,a){s-i.registeredAt>=r&&(t.finalize(i.value),t.registrations.delete(a))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){this.registrations.set(r,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,MH))}}),n}(),jH=typeof FinalizationRegistry<"u"?FinalizationRegistry:FH,tE=new jH(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),zL={exports:{}},KL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=T;function VH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var UH=typeof Object.is=="function"?Object.is:VH,BH=Mc.useState,HH=Mc.useEffect,zH=Mc.useLayoutEffect,KH=Mc.useDebugValue;function WH(n,e){var t=e(),r=BH({inst:{value:t,getSnapshot:e}}),s=r[0].inst,i=r[1];return zH(function(){s.value=t,s.getSnapshot=e,kb(s)&&i({inst:s})},[n,t,e]),HH(function(){return kb(s)&&i({inst:s}),n(function(){kb(s)&&i({inst:s})})},[n]),KH(t),t}function kb(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!UH(n,t)}catch{return!0}}function GH(n,e){return e()}var YH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GH:WH;KL.useSyncExternalStore=Mc.useSyncExternalStore!==void 0?Mc.useSyncExternalStore:YH;zL.exports=KL;var qH=zL.exports,XH=function(){};function FP(n){n.reaction=new ey("observer".concat(n.name),function(){var e;n.stateVersion=Symbol(),(e=n.onStoreChange)===null||e===void 0||e.call(n)})}function QH(n,e){e===void 0&&(e="observed");var t=g.useRef(null);if(!t.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(o){return tE.unregister(r),r.onStoreChange=o,r.reaction||(FP(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};t.current=r}var s=t.current;s.reaction||(FP(s),tE.register(t,s,s)),g.useDebugValue(s.reaction,$H),qH.useSyncExternalStore(s.subscribe,s.getSnapshot,XH);var i,a;if(s.reaction.track(function(){try{i=n()}catch(o){a=o}}),a)throw a;return i}var WL=typeof Symbol=="function"&&Symbol.for,jP=WL?Symbol.for("react.forward_ref"):typeof T.forwardRef=="function"&&T.forwardRef(function(n){return null}).$$typeof,VP=WL?Symbol.for("react.memo"):typeof T.memo=="function"&&T.memo(function(n){return null}).$$typeof;function Ls(n,e){var t;if(VP&&n.$$typeof===VP)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(t=void 0)!==null&&t!==void 0?t:!1,s=n,i=n.displayName||n.name;if(jP&&n.$$typeof===jP&&(r=!0,s=n.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(o,l){return QH(function(){return s(o,l)},i)};return a.displayName=n.displayName,Object.defineProperty(a,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(a.contextTypes=n.contextTypes),r&&(a=T.forwardRef(a)),a=T.memo(a),JH(n,a),a}var ZH={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function JH(n,e){Object.keys(n).forEach(function(t){ZH[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}var Nb;NH(Os.unstable_batchedUpdates);Nb=tE.finalizeAllImmediately;function ez(){}var GL=ez;const k=ge(GL);var tz=Array.isArray,Jn=tz;const m1=ge(Jn);var nz=typeof Zp=="object"&&Zp&&Zp.Object===Object&&Zp,YL=nz,rz=YL,sz=typeof self=="object"&&self&&self.Object===Object&&self,iz=rz||sz||Function("return this")(),ci=iz,az=ci,oz=az.Symbol,id=oz,UP=id,qL=Object.prototype,lz=qL.hasOwnProperty,uz=qL.toString,Ud=UP?UP.toStringTag:void 0;function cz(n){var e=lz.call(n,Ud),t=n[Ud];try{n[Ud]=void 0;var r=!0}catch{}var s=uz.call(n);return r&&(e?n[Ud]=t:delete n[Ud]),s}var dz=cz,hz=Object.prototype,fz=hz.toString;function pz(n){return fz.call(n)}var gz=pz,BP=id,mz=dz,yz=gz,vz="[object Null]",_z="[object Undefined]",HP=BP?BP.toStringTag:void 0;function bz(n){return n==null?n===void 0?_z:vz:HP&&HP in Object(n)?mz(n):yz(n)}var di=bz;function wz(n){return n!=null&&typeof n=="object"}var qr=wz,Ez=di,Sz=qr,Cz="[object Symbol]";function Tz(n){return typeof n=="symbol"||Sz(n)&&Ez(n)==Cz}var ad=Tz,Oz=Jn,Iz=ad,Pz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xz=/^\w*$/;function Rz(n,e){if(Oz(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Iz(n)?!0:xz.test(n)||!Pz.test(n)||e!=null&&n in Object(e)}var y1=Rz;function Az(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Xr=Az;const Ia=ge(Xr);var Dz=di,kz=Xr,Nz="[object AsyncFunction]",$z="[object Function]",Lz="[object GeneratorFunction]",Mz="[object Proxy]";function Fz(n){if(!kz(n))return!1;var e=Dz(n);return e==$z||e==Lz||e==Nz||e==Mz}var Pv=Fz;const Te=ge(Pv);var jz=ci,Vz=jz["__core-js_shared__"],Uz=Vz,$b=Uz,zP=function(){var n=/[^.]+$/.exec($b&&$b.keys&&$b.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Bz(n){return!!zP&&zP in n}var Hz=Bz,zz=Function.prototype,Kz=zz.toString;function Wz(n){if(n!=null){try{return Kz.call(n)}catch{}try{return n+""}catch{}}return""}var XL=Wz,Gz=Pv,Yz=Hz,qz=Xr,Xz=XL,Qz=/[\\^$.*+?()[\]{}|]/g,Zz=/^\[object .+?Constructor\]$/,Jz=Function.prototype,e8=Object.prototype,t8=Jz.toString,n8=e8.hasOwnProperty,r8=RegExp("^"+t8.call(n8).replace(Qz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s8(n){if(!qz(n)||Yz(n))return!1;var e=Gz(n)?r8:Zz;return e.test(Xz(n))}var i8=s8;function a8(n,e){return n==null?void 0:n[e]}var o8=a8,l8=i8,u8=o8;function c8(n,e){var t=u8(n,e);return l8(t)?t:void 0}var lu=c8,d8=lu,h8=d8(Object,"create"),xv=h8,KP=xv;function f8(){this.__data__=KP?KP(null):{},this.size=0}var p8=f8;function g8(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var m8=g8,y8=xv,v8="__lodash_hash_undefined__",_8=Object.prototype,b8=_8.hasOwnProperty;function w8(n){var e=this.__data__;if(y8){var t=e[n];return t===v8?void 0:t}return b8.call(e,n)?e[n]:void 0}var E8=w8,S8=xv,C8=Object.prototype,T8=C8.hasOwnProperty;function O8(n){var e=this.__data__;return S8?e[n]!==void 0:T8.call(e,n)}var I8=O8,P8=xv,x8="__lodash_hash_undefined__";function R8(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=P8&&e===void 0?x8:e,this}var A8=R8,D8=p8,k8=m8,N8=E8,$8=I8,L8=A8;function od(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}od.prototype.clear=D8;od.prototype.delete=k8;od.prototype.get=N8;od.prototype.has=$8;od.prototype.set=L8;var M8=od;function F8(){this.__data__=[],this.size=0}var j8=F8;function V8(n,e){return n===e||n!==n&&e!==e}var op=V8,U8=op;function B8(n,e){for(var t=n.length;t--;)if(U8(n[t][0],e))return t;return-1}var Rv=B8,H8=Rv,z8=Array.prototype,K8=z8.splice;function W8(n){var e=this.__data__,t=H8(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():K8.call(e,t,1),--this.size,!0}var G8=W8,Y8=Rv;function q8(n){var e=this.__data__,t=Y8(e,n);return t<0?void 0:e[t][1]}var X8=q8,Q8=Rv;function Z8(n){return Q8(this.__data__,n)>-1}var J8=Z8,e7=Rv;function t7(n,e){var t=this.__data__,r=e7(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var n7=t7,r7=j8,s7=G8,i7=X8,a7=J8,o7=n7;function ld(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ld.prototype.clear=r7;ld.prototype.delete=s7;ld.prototype.get=i7;ld.prototype.has=a7;ld.prototype.set=o7;var Av=ld,l7=lu,u7=ci,c7=l7(u7,"Map"),v1=c7,WP=M8,d7=Av,h7=v1;function f7(){this.size=0,this.__data__={hash:new WP,map:new(h7||d7),string:new WP}}var p7=f7;function g7(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var m7=g7,y7=m7;function v7(n,e){var t=n.__data__;return y7(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Dv=v7,_7=Dv;function b7(n){var e=_7(this,n).delete(n);return this.size-=e?1:0,e}var w7=b7,E7=Dv;function S7(n){return E7(this,n).get(n)}var C7=S7,T7=Dv;function O7(n){return T7(this,n).has(n)}var I7=O7,P7=Dv;function x7(n,e){var t=P7(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var R7=x7,A7=p7,D7=w7,k7=C7,N7=I7,$7=R7;function ud(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ud.prototype.clear=A7;ud.prototype.delete=D7;ud.prototype.get=k7;ud.prototype.has=N7;ud.prototype.set=$7;var _1=ud,QL=_1,L7="Expected a function";function b1(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(L7);var t=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=t.cache;if(i.has(s))return i.get(s);var a=n.apply(this,r);return t.cache=i.set(s,a)||i,a};return t.cache=new(b1.Cache||QL),t}b1.Cache=QL;var M7=b1,F7=M7,j7=500;function V7(n){var e=F7(n,function(r){return t.size===j7&&t.clear(),r}),t=e.cache;return e}var U7=V7,B7=U7,H7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z7=/\\(\\)?/g,K7=B7(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(H7,function(t,r,s,i){e.push(s?i.replace(z7,"$1"):r||t)}),e}),ZL=K7;function W7(n,e){for(var t=-1,r=n==null?0:n.length,s=Array(r);++t<r;)s[t]=e(n[t],t,n);return s}var cd=W7,GP=id,G7=cd,Y7=Jn,q7=ad,YP=GP?GP.prototype:void 0,qP=YP?YP.toString:void 0;function JL(n){if(typeof n=="string")return n;if(Y7(n))return G7(n,JL)+"";if(q7(n))return qP?qP.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var eM=JL,X7=eM;function Q7(n){return n==null?"":X7(n)}var kv=Q7;const Cu=ge(kv);var Z7=Jn,J7=y1,eK=ZL,tK=kv;function nK(n,e){return Z7(n)?n:J7(n,e)?[n]:eK(tK(n))}var dd=nK,rK=ad;function sK(n){if(typeof n=="string"||rK(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var uu=sK,iK=dd,aK=uu;function oK(n,e){e=iK(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[aK(e[t++])];return t&&t==r?n:void 0}var Nv=oK,lK=Nv;function uK(n,e,t){var r=n==null?void 0:lK(n,e);return r===void 0?t:r}var tM=uK;const K=ge(tM),nM=function(n){if(K(process,"env.NODE_ENV")==="development"){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console.log(n,...t)}};class Pe{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:k,getProps:k,getState:k,getStates:k,setState:k,getContext:k,getContexts:k,getCache:k,setCache:k,getCaches:k,stopPropagation:k,persistEvent:k}}constructor(e){this._adapter=Object.assign(Object.assign({},Pe.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,t){return this._adapter.setState(Object.assign({},e),t)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,t){return e&&this._adapter.setCache(e,t)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const t=this.getProps();return e in t}_isInProps(e){const t=this.getProps();return e in t}init(e){}destroy(){}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];nM(e,...r)}_persistEvent(e){this._adapter.persistEvent(e)}}function df(n){return Object.keys(n).reduce((e,t)=>(t.substr(0,5)==="data-"&&(e[t]=n[t]),e),{})}const{hasOwnProperty:cK}=Object.prototype;class we extends T.Component{constructor(e){super(e),this.isControlled=t=>!!(t&&this.props&&typeof this.props=="object"&&cK.call(this.props,t)),this.setStateAsync=t=>new Promise(r=>{this.setState(t,r)}),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&typeof this.foundation.init=="function"&&this.foundation.init()}componentWillUnmount(){this.foundation&&typeof this.foundation.destroy=="function"&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,t)=>this.setState(Object.assign({},e),t),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,t)=>e&&(this.cache[e]=t),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch{}},persistEvent:e=>{e&&e.persist&&typeof e.persist=="function"&&e.persist()}}}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return nM(e,...r)}getDataAttr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return df(e)}}we.propTypes={};we.defaultProps={};var dK=ci,hK=function(){return dK.Date.now()},fK=hK,pK=/\s/;function gK(n){for(var e=n.length;e--&&pK.test(n.charAt(e)););return e}var mK=gK,yK=mK,vK=/^\s+/;function _K(n){return n&&n.slice(0,yK(n)+1).replace(vK,"")}var bK=_K,wK=bK,XP=Xr,EK=ad,QP=NaN,SK=/^[-+]0x[0-9a-f]+$/i,CK=/^0b[01]+$/i,TK=/^0o[0-7]+$/i,OK=parseInt;function IK(n){if(typeof n=="number")return n;if(EK(n))return QP;if(XP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=XP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=wK(n);var t=CK.test(n);return t||TK.test(n)?OK(n.slice(2),t?2:8):SK.test(n)?QP:+n}var w1=IK;const Es=ge(w1);var PK=Xr,Lb=fK,ZP=w1,xK="Expected a function",RK=Math.max,AK=Math.min;function DK(n,e,t){var r,s,i,a,o,l,u=0,d=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(xK);e=ZP(e)||0,PK(t)&&(d=!!t.leading,h="maxWait"in t,i=h?RK(ZP(t.maxWait)||0,e):i,f="trailing"in t?!!t.trailing:f);function p(C){var O=r,I=s;return r=s=void 0,u=C,a=n.apply(I,O),a}function _(C){return u=C,o=setTimeout(m,e),d?p(C):a}function y(C){var O=C-l,I=C-u,P=e-O;return h?AK(P,i-I):P}function v(C){var O=C-l,I=C-u;return l===void 0||O>=e||O<0||h&&I>=i}function m(){var C=Lb();if(v(C))return w(C);o=setTimeout(m,y(C))}function w(C){return o=void 0,f&&r?p(C):(r=s=void 0,a)}function b(){o!==void 0&&clearTimeout(o),u=0,r=l=s=o=void 0}function E(){return o===void 0?a:w(Lb())}function S(){var C=Lb(),O=v(C);if(r=arguments,s=this,l=C,O){if(o===void 0)return _(l);if(h)return clearTimeout(o),o=setTimeout(m,e),p(l)}return o===void 0&&(o=setTimeout(m,e)),a}return S.cancel=b,S.flush=E,S}var rM=DK;const sM=ge(rM);var kK=rM,NK=Xr,$K="Expected a function";function LK(n,e,t){var r=!0,s=!0;if(typeof n!="function")throw new TypeError($K);return NK(t)&&(r="leading"in t?!!t.leading:r,s="trailing"in t?!!t.trailing:s),kK(n,e,{leading:r,maxWait:e,trailing:s})}var MK=LK;const iy=ge(MK);var iM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(i=s(i,r(o)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var o in i)e.call(i,o)&&i[o]&&(a=s(a,o));return a}function s(i,a){return a?i?i+" "+a:i+a:i}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(iM);var FK=iM.exports;const R=ge(FK);var aM={exports:{}},jK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VK=jK,UK=VK;function oM(){}function lM(){}lM.resetWarningCache=oM;var BK=function(){function n(r,s,i,a,o,l){if(l!==UK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lM,resetWarningCache:oM};return t.PropTypes=t,t};aM.exports=BK();var HK=aM.exports;const c=ge(HK),Y="semi",hd=["default","error","warning","success"];function JP(n){return typeof n=="object"&&n!=null&&n.nodeType===1}function ex(n,e){return(!e||n!=="hidden")&&n!=="visible"&&n!=="clip"}function Mb(n,e){if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){var t=getComputedStyle(n,null);return ex(t.overflowY,e)||ex(t.overflowX,e)||function(r){var s=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!s&&(s.clientHeight<r.scrollHeight||s.clientWidth<r.scrollWidth)}(n)}return!1}function _g(n,e,t,r,s,i,a,o){return i<n&&a>e||i>n&&a<e?0:i<=n&&o<=t||a>=e&&o>=t?i-n-r:a>e&&o<t||i<n&&o>t?a-e+s:0}var tx=function(n,e){var t=window,r=e.scrollMode,s=e.block,i=e.inline,a=e.boundary,o=e.skipOverflowHiddenElements,l=typeof a=="function"?a:function(Ot){return Ot!==a};if(!JP(n))throw new TypeError("Invalid target");for(var u,d,h=document.scrollingElement||document.documentElement,f=[],p=n;JP(p)&&l(p);){if((p=(d=(u=p).parentElement)==null?u.getRootNode().host||null:d)===h){f.push(p);break}p!=null&&p===document.body&&Mb(p)&&!Mb(document.documentElement)||p!=null&&Mb(p,o)&&f.push(p)}for(var _=t.visualViewport?t.visualViewport.width:innerWidth,y=t.visualViewport?t.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,w=n.getBoundingClientRect(),b=w.height,E=w.width,S=w.top,C=w.right,O=w.bottom,I=w.left,P=s==="start"||s==="nearest"?S:s==="end"?O:S+b/2,x=i==="center"?I+E/2:i==="end"?C:I,D=[],$=0;$<f.length;$++){var M=f[$],V=M.getBoundingClientRect(),B=V.height,F=V.width,W=V.top,N=V.right,j=V.bottom,L=V.left;if(r==="if-needed"&&S>=0&&I>=0&&O<=y&&C<=_&&S>=W&&O<=j&&I>=L&&C<=N)return D;var te=getComputedStyle(M),Q=parseInt(te.borderLeftWidth,10),ie=parseInt(te.borderTopWidth,10),le=parseInt(te.borderRightWidth,10),Ee=parseInt(te.borderBottomWidth,10),he=0,de=0,ue="offsetWidth"in M?M.offsetWidth-M.clientWidth-Q-le:0,q="offsetHeight"in M?M.offsetHeight-M.clientHeight-ie-Ee:0,se="offsetWidth"in M?M.offsetWidth===0?0:F/M.offsetWidth:0,vt="offsetHeight"in M?M.offsetHeight===0?0:B/M.offsetHeight:0;if(h===M)he=s==="start"?P:s==="end"?P-y:s==="nearest"?_g(m,m+y,y,ie,Ee,m+P,m+P+b,b):P-y/2,de=i==="start"?x:i==="center"?x-_/2:i==="end"?x-_:_g(v,v+_,_,Q,le,v+x,v+x+E,E),he=Math.max(0,he+m),de=Math.max(0,de+v);else{he=s==="start"?P-W-ie:s==="end"?P-j+Ee+q:s==="nearest"?_g(W,j,B,ie,Ee+q,P,P+b,b):P-(W+B/2)+q/2,de=i==="start"?x-L-Q:i==="center"?x-(L+F/2)+ue/2:i==="end"?x-N+le+ue:_g(L,N,F,Q,le+ue,x,x+E,E);var $t=M.scrollLeft,Cn=M.scrollTop;P+=Cn-(he=Math.max(0,Math.min(Cn+he/vt,M.scrollHeight-B/vt+q))),x+=$t-(de=Math.max(0,Math.min($t+de/se,M.scrollWidth-F/se+ue)))}D.push({el:M,top:he,left:de})}return D};function uM(n){return n===Object(n)&&Object.keys(n).length!==0}function zK(n,e){e===void 0&&(e="auto");var t="scrollBehavior"in document.body.style;n.forEach(function(r){var s=r.el,i=r.top,a=r.left;s.scroll&&t?s.scroll({top:i,left:a,behavior:e}):(s.scrollTop=i,s.scrollLeft=a)})}function KK(n){return n===!1?{block:"end",inline:"nearest"}:uM(n)?n:{block:"start",inline:"nearest"}}function Fb(n,e){var t=n.isConnected||n.ownerDocument.documentElement.contains(n);if(uM(e)&&typeof e.behavior=="function")return e.behavior(t?tx(n,e):[]);if(t){var r=KK(e);return zK(tx(n,r),r.behavior)}}const $v={PREFIX:`${Y}-typography`},fr={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small","inherit"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]};var WK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const GK=$v.PREFIX;let Lv=class extends T.PureComponent{render(){const e=this.props,{component:t,className:r,children:s,forwardRef:i}=e,a=WK(e,["component","className","children","forwardRef"]),o=t,l=R(GK,r);return g.createElement(o,Object.assign({className:l,ref:i},a),s)}};Lv.defaultProps={component:"article",style:{},className:""};Lv.propTypes={component:c.string,style:c.object,className:c.string};function YK(n){return n===null}var qK=YK;const Bl=ge(qK);var XK=di,QK=Jn,ZK=qr,JK="[object String]";function eW(n){return typeof n=="string"||!QK(n)&&ZK(n)&&XK(n)==JK}var cM=eW;const Oe=ge(cM);var tW=Av;function nW(){this.__data__=new tW,this.size=0}var rW=nW;function sW(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var iW=sW;function aW(n){return this.__data__.get(n)}var oW=aW;function lW(n){return this.__data__.has(n)}var uW=lW,cW=Av,dW=v1,hW=_1,fW=200;function pW(n,e){var t=this.__data__;if(t instanceof cW){var r=t.__data__;if(!dW||r.length<fW-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new hW(r)}return t.set(n,e),this.size=t.size,this}var gW=pW,mW=Av,yW=rW,vW=iW,_W=oW,bW=uW,wW=gW;function fd(n){var e=this.__data__=new mW(n);this.size=e.size}fd.prototype.clear=yW;fd.prototype.delete=vW;fd.prototype.get=_W;fd.prototype.has=bW;fd.prototype.set=wW;var Mv=fd,EW=lu,SW=function(){try{var n=EW(Object,"defineProperty");return n({},"",{}),n}catch{}}(),dM=SW,nx=dM;function CW(n,e,t){e=="__proto__"&&nx?nx(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var E1=CW,TW=E1,OW=op;function IW(n,e,t){(t!==void 0&&!OW(n[e],t)||t===void 0&&!(e in n))&&TW(n,e,t)}var hM=IW;function PW(n){return function(e,t,r){for(var s=-1,i=Object(e),a=r(e),o=a.length;o--;){var l=a[n?o:++s];if(t(i[l],l,i)===!1)break}return e}}var xW=PW,RW=xW,AW=RW(),fM=AW,ay={exports:{}};ay.exports;(function(n,e){var t=ci,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,a=i?t.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var h=u.length,f=o?o(h):new u.constructor(h);return u.copy(f),f}n.exports=l})(ay,ay.exports);var pM=ay.exports,DW=ci,kW=DW.Uint8Array,gM=kW,rx=gM;function NW(n){var e=new n.constructor(n.byteLength);return new rx(e).set(new rx(n)),e}var S1=NW,$W=S1;function LW(n,e){var t=e?$W(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var mM=LW;function MW(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var C1=MW,FW=Xr,sx=Object.create,jW=function(){function n(){}return function(e){if(!FW(e))return{};if(sx)return sx(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),VW=jW;function UW(n,e){return function(t){return n(e(t))}}var yM=UW,BW=yM,HW=BW(Object.getPrototypeOf,Object),T1=HW,zW=Object.prototype;function KW(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||zW;return n===t}var lp=KW,WW=VW,GW=T1,YW=lp;function qW(n){return typeof n.constructor=="function"&&!YW(n)?WW(GW(n)):{}}var vM=qW,XW=di,QW=qr,ZW="[object Arguments]";function JW(n){return QW(n)&&XW(n)==ZW}var eG=JW,ix=eG,tG=qr,_M=Object.prototype,nG=_M.hasOwnProperty,rG=_M.propertyIsEnumerable,sG=ix(function(){return arguments}())?ix:function(n){return tG(n)&&nG.call(n,"callee")&&!rG.call(n,"callee")},up=sG,iG=9007199254740991;function aG(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=iG}var O1=aG,oG=Pv,lG=O1;function uG(n){return n!=null&&lG(n.length)&&!oG(n)}var Qi=uG,cG=Qi,dG=qr;function hG(n){return dG(n)&&cG(n)}var I1=hG,oy={exports:{}};function fG(){return!1}var bM=fG;const hf=ge(bM);oy.exports;(function(n,e){var t=ci,r=bM,s=e&&!e.nodeType&&e,i=s&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===s,o=a?t.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;n.exports=u})(oy,oy.exports);var cp=oy.exports,pG=di,gG=T1,mG=qr,yG="[object Object]",vG=Function.prototype,_G=Object.prototype,wM=vG.toString,bG=_G.hasOwnProperty,wG=wM.call(Object);function EG(n){if(!mG(n)||pG(n)!=yG)return!1;var e=gG(n);if(e===null)return!0;var t=bG.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&wM.call(t)==wG}var P1=EG;const SG=ge(P1);var CG=di,TG=O1,OG=qr,IG="[object Arguments]",PG="[object Array]",xG="[object Boolean]",RG="[object Date]",AG="[object Error]",DG="[object Function]",kG="[object Map]",NG="[object Number]",$G="[object Object]",LG="[object RegExp]",MG="[object Set]",FG="[object String]",jG="[object WeakMap]",VG="[object ArrayBuffer]",UG="[object DataView]",BG="[object Float32Array]",HG="[object Float64Array]",zG="[object Int8Array]",KG="[object Int16Array]",WG="[object Int32Array]",GG="[object Uint8Array]",YG="[object Uint8ClampedArray]",qG="[object Uint16Array]",XG="[object Uint32Array]",Rt={};Rt[BG]=Rt[HG]=Rt[zG]=Rt[KG]=Rt[WG]=Rt[GG]=Rt[YG]=Rt[qG]=Rt[XG]=!0;Rt[IG]=Rt[PG]=Rt[VG]=Rt[xG]=Rt[UG]=Rt[RG]=Rt[AG]=Rt[DG]=Rt[kG]=Rt[NG]=Rt[$G]=Rt[LG]=Rt[MG]=Rt[FG]=Rt[jG]=!1;function QG(n){return OG(n)&&TG(n.length)&&!!Rt[CG(n)]}var ZG=QG;function JG(n){return function(e){return n(e)}}var pd=JG,ly={exports:{}};ly.exports;(function(n,e){var t=YL,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,a=i&&t.process,o=function(){try{var l=s&&s.require&&s.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();n.exports=o})(ly,ly.exports);var dp=ly.exports,eY=ZG,tY=pd,ax=dp,ox=ax&&ax.isTypedArray,nY=ox?tY(ox):eY,Fv=nY;function rY(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var EM=rY,sY=E1,iY=op,aY=Object.prototype,oY=aY.hasOwnProperty;function lY(n,e,t){var r=n[e];(!(oY.call(n,e)&&iY(r,t))||t===void 0&&!(e in n))&&sY(n,e,t)}var jv=lY,uY=jv,cY=E1;function dY(n,e,t,r){var s=!t;t||(t={});for(var i=-1,a=e.length;++i<a;){var o=e[i],l=r?r(t[o],n[o],o,t,n):void 0;l===void 0&&(l=n[o]),s?cY(t,o,l):uY(t,o,l)}return t}var cu=dY;function hY(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var SM=hY,fY=9007199254740991,pY=/^(?:0|[1-9]\d*)$/;function gY(n,e){var t=typeof n;return e=e??fY,!!e&&(t=="number"||t!="symbol"&&pY.test(n))&&n>-1&&n%1==0&&n<e}var Vv=gY,mY=SM,yY=up,vY=Jn,_Y=cp,bY=Vv,wY=Fv,EY=Object.prototype,SY=EY.hasOwnProperty;function CY(n,e){var t=vY(n),r=!t&&yY(n),s=!t&&!r&&_Y(n),i=!t&&!r&&!s&&wY(n),a=t||r||s||i,o=a?mY(n.length,String):[],l=o.length;for(var u in n)(e||SY.call(n,u))&&!(a&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bY(u,l)))&&o.push(u);return o}var CM=CY;function TY(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var OY=TY,IY=Xr,PY=lp,xY=OY,RY=Object.prototype,AY=RY.hasOwnProperty;function DY(n){if(!IY(n))return xY(n);var e=PY(n),t=[];for(var r in n)r=="constructor"&&(e||!AY.call(n,r))||t.push(r);return t}var kY=DY,NY=CM,$Y=kY,LY=Qi;function MY(n){return LY(n)?NY(n,!0):$Y(n)}var hp=MY,FY=cu,jY=hp;function VY(n){return FY(n,jY(n))}var UY=VY,lx=hM,BY=pM,HY=mM,zY=C1,KY=vM,ux=up,cx=Jn,WY=I1,GY=cp,YY=Pv,qY=Xr,XY=P1,QY=Fv,dx=EM,ZY=UY;function JY(n,e,t,r,s,i,a){var o=dx(n,t),l=dx(e,t),u=a.get(l);if(u){lx(n,t,u);return}var d=i?i(o,l,t+"",n,e,a):void 0,h=d===void 0;if(h){var f=cx(l),p=!f&&GY(l),_=!f&&!p&&QY(l);d=l,f||p||_?cx(o)?d=o:WY(o)?d=zY(o):p?(h=!1,d=BY(l,!0)):_?(h=!1,d=HY(l,!0)):d=[]:XY(l)||ux(l)?(d=o,ux(o)?d=ZY(o):(!qY(o)||YY(o))&&(d=KY(l))):h=!1}h&&(a.set(l,d),s(d,l,r,i,a),a.delete(l)),lx(n,t,d)}var eq=JY,tq=Mv,nq=hM,rq=fM,sq=eq,iq=Xr,aq=hp,oq=EM;function TM(n,e,t,r,s){n!==e&&rq(e,function(i,a){if(s||(s=new tq),iq(i))sq(n,e,a,t,TM,r,s);else{var o=r?r(oq(n,a),i,a+"",n,e,s):void 0;o===void 0&&(o=i),nq(n,a,o)}},aq)}var lq=TM;function uq(n){return n}var fp=uq;function cq(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var dq=cq,hq=dq,hx=Math.max;function fq(n,e,t){return e=hx(e===void 0?n.length-1:e,0),function(){for(var r=arguments,s=-1,i=hx(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=t(a),hq(n,this,o)}}var OM=fq;function pq(n){return function(){return n}}var gq=pq,mq=gq,fx=dM,yq=fp,vq=fx?function(n,e){return fx(n,"toString",{configurable:!0,enumerable:!1,value:mq(e),writable:!0})}:yq,_q=vq,bq=800,wq=16,Eq=Date.now;function Sq(n){var e=0,t=0;return function(){var r=Eq(),s=wq-(r-t);if(t=r,s>0){if(++e>=bq)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var Cq=Sq,Tq=_q,Oq=Cq,Iq=Oq(Tq),IM=Iq,Pq=fp,xq=OM,Rq=IM;function Aq(n,e){return Rq(xq(n,e,Pq),n+"")}var x1=Aq,Dq=op,kq=Qi,Nq=Vv,$q=Xr;function Lq(n,e,t){if(!$q(t))return!1;var r=typeof e;return(r=="number"?kq(t)&&Nq(e,t.length):r=="string"&&e in t)?Dq(t[e],n):!1}var R1=Lq,Mq=x1,Fq=R1;function jq(n){return Mq(function(e,t){var r=-1,s=t.length,i=s>1?t[s-1]:void 0,a=s>2?t[2]:void 0;for(i=n.length>3&&typeof i=="function"?(s--,i):void 0,a&&Fq(t[0],t[1],a)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var o=t[r];o&&n(e,o,r,i)}return e})}var PM=jq,Vq=lq,Uq=PM,Bq=Uq(function(n,e,t){Vq(n,e,t)}),Hq=Bq;const zq=ge(Hq);function Kq(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var xM=Kq,Wq=yM,Gq=Wq(Object.keys,Object),Yq=Gq,qq=lp,Xq=Yq,Qq=Object.prototype,Zq=Qq.hasOwnProperty;function Jq(n){if(!qq(n))return Xq(n);var e=[];for(var t in Object(n))Zq.call(n,t)&&t!="constructor"&&e.push(t);return e}var RM=Jq,eX=CM,tX=RM,nX=Qi;function rX(n){return nX(n)?eX(n):tX(n)}var Ho=rX,sX=cu,iX=Ho;function aX(n,e){return n&&sX(e,iX(e),n)}var oX=aX,lX=cu,uX=hp;function cX(n,e){return n&&lX(e,uX(e),n)}var dX=cX;function hX(n,e){for(var t=-1,r=n==null?0:n.length,s=0,i=[];++t<r;){var a=n[t];e(a,t,n)&&(i[s++]=a)}return i}var fX=hX;function pX(){return[]}var AM=pX,gX=fX,mX=AM,yX=Object.prototype,vX=yX.propertyIsEnumerable,px=Object.getOwnPropertySymbols,_X=px?function(n){return n==null?[]:(n=Object(n),gX(px(n),function(e){return vX.call(n,e)}))}:mX,A1=_X,bX=cu,wX=A1;function EX(n,e){return bX(n,wX(n),e)}var SX=EX;function CX(n,e){for(var t=-1,r=e.length,s=n.length;++t<r;)n[s+t]=e[t];return n}var D1=CX,TX=D1,OX=T1,IX=A1,PX=AM,xX=Object.getOwnPropertySymbols,RX=xX?function(n){for(var e=[];n;)TX(e,IX(n)),n=OX(n);return e}:PX,DM=RX,AX=cu,DX=DM;function kX(n,e){return AX(n,DX(n),e)}var NX=kX,$X=D1,LX=Jn;function MX(n,e,t){var r=e(n);return LX(n)?r:$X(r,t(n))}var kM=MX,FX=kM,jX=A1,VX=Ho;function UX(n){return FX(n,VX,jX)}var NM=UX,BX=kM,HX=DM,zX=hp;function KX(n){return BX(n,zX,HX)}var $M=KX,WX=lu,GX=ci,YX=WX(GX,"DataView"),qX=YX,XX=lu,QX=ci,ZX=XX(QX,"Promise"),JX=ZX,eQ=lu,tQ=ci,nQ=eQ(tQ,"Set"),LM=nQ,rQ=lu,sQ=ci,iQ=rQ(sQ,"WeakMap"),aQ=iQ,nE=qX,rE=v1,sE=JX,iE=LM,aE=aQ,MM=di,gd=XL,gx="[object Map]",oQ="[object Object]",mx="[object Promise]",yx="[object Set]",vx="[object WeakMap]",_x="[object DataView]",lQ=gd(nE),uQ=gd(rE),cQ=gd(sE),dQ=gd(iE),hQ=gd(aE),il=MM;(nE&&il(new nE(new ArrayBuffer(1)))!=_x||rE&&il(new rE)!=gx||sE&&il(sE.resolve())!=mx||iE&&il(new iE)!=yx||aE&&il(new aE)!=vx)&&(il=function(n){var e=MM(n),t=e==oQ?n.constructor:void 0,r=t?gd(t):"";if(r)switch(r){case lQ:return _x;case uQ:return gx;case cQ:return mx;case dQ:return yx;case hQ:return vx}return e});var pp=il,fQ=Object.prototype,pQ=fQ.hasOwnProperty;function gQ(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&pQ.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var mQ=gQ,yQ=S1;function vQ(n,e){var t=e?yQ(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var _Q=vQ,bQ=/\w*$/;function wQ(n){var e=new n.constructor(n.source,bQ.exec(n));return e.lastIndex=n.lastIndex,e}var EQ=wQ,bx=id,wx=bx?bx.prototype:void 0,Ex=wx?wx.valueOf:void 0;function SQ(n){return Ex?Object(Ex.call(n)):{}}var CQ=SQ,TQ=S1,OQ=_Q,IQ=EQ,PQ=CQ,xQ=mM,RQ="[object Boolean]",AQ="[object Date]",DQ="[object Map]",kQ="[object Number]",NQ="[object RegExp]",$Q="[object Set]",LQ="[object String]",MQ="[object Symbol]",FQ="[object ArrayBuffer]",jQ="[object DataView]",VQ="[object Float32Array]",UQ="[object Float64Array]",BQ="[object Int8Array]",HQ="[object Int16Array]",zQ="[object Int32Array]",KQ="[object Uint8Array]",WQ="[object Uint8ClampedArray]",GQ="[object Uint16Array]",YQ="[object Uint32Array]";function qQ(n,e,t){var r=n.constructor;switch(e){case FQ:return TQ(n);case RQ:case AQ:return new r(+n);case jQ:return OQ(n,t);case VQ:case UQ:case BQ:case HQ:case zQ:case KQ:case WQ:case GQ:case YQ:return xQ(n,t);case DQ:return new r;case kQ:case LQ:return new r(n);case NQ:return IQ(n);case $Q:return new r;case MQ:return PQ(n)}}var XQ=qQ,QQ=pp,ZQ=qr,JQ="[object Map]";function eZ(n){return ZQ(n)&&QQ(n)==JQ}var tZ=eZ,nZ=tZ,rZ=pd,Sx=dp,Cx=Sx&&Sx.isMap,sZ=Cx?rZ(Cx):nZ,iZ=sZ,aZ=pp,oZ=qr,lZ="[object Set]";function uZ(n){return oZ(n)&&aZ(n)==lZ}var cZ=uZ,dZ=cZ,hZ=pd,Tx=dp,Ox=Tx&&Tx.isSet,fZ=Ox?hZ(Ox):dZ,FM=fZ;const jM=ge(FM);var pZ=Mv,gZ=xM,mZ=jv,yZ=oX,vZ=dX,_Z=pM,bZ=C1,wZ=SX,EZ=NX,SZ=NM,CZ=$M,TZ=pp,OZ=mQ,IZ=XQ,PZ=vM,xZ=Jn,RZ=cp,AZ=iZ,DZ=Xr,kZ=FM,NZ=Ho,$Z=hp,LZ=1,MZ=2,FZ=4,VM="[object Arguments]",jZ="[object Array]",VZ="[object Boolean]",UZ="[object Date]",BZ="[object Error]",UM="[object Function]",HZ="[object GeneratorFunction]",zZ="[object Map]",KZ="[object Number]",BM="[object Object]",WZ="[object RegExp]",GZ="[object Set]",YZ="[object String]",qZ="[object Symbol]",XZ="[object WeakMap]",QZ="[object ArrayBuffer]",ZZ="[object DataView]",JZ="[object Float32Array]",eJ="[object Float64Array]",tJ="[object Int8Array]",nJ="[object Int16Array]",rJ="[object Int32Array]",sJ="[object Uint8Array]",iJ="[object Uint8ClampedArray]",aJ="[object Uint16Array]",oJ="[object Uint32Array]",wt={};wt[VM]=wt[jZ]=wt[QZ]=wt[ZZ]=wt[VZ]=wt[UZ]=wt[JZ]=wt[eJ]=wt[tJ]=wt[nJ]=wt[rJ]=wt[zZ]=wt[KZ]=wt[BM]=wt[WZ]=wt[GZ]=wt[YZ]=wt[qZ]=wt[sJ]=wt[iJ]=wt[aJ]=wt[oJ]=!0;wt[BZ]=wt[UM]=wt[XZ]=!1;function im(n,e,t,r,s,i){var a,o=e&LZ,l=e&MZ,u=e&FZ;if(t&&(a=s?t(n,r,s,i):t(n)),a!==void 0)return a;if(!DZ(n))return n;var d=xZ(n);if(d){if(a=OZ(n),!o)return bZ(n,a)}else{var h=TZ(n),f=h==UM||h==HZ;if(RZ(n))return _Z(n,o);if(h==BM||h==VM||f&&!s){if(a=l||f?{}:PZ(n),!o)return l?EZ(n,vZ(a,n)):wZ(n,yZ(a,n))}else{if(!wt[h])return s?n:{};a=IZ(n,h,o)}}i||(i=new pZ);var p=i.get(n);if(p)return p;i.set(n,a),kZ(n)?n.forEach(function(v){a.add(im(v,e,t,v,n,i))}):AZ(n)&&n.forEach(function(v,m){a.set(m,im(v,e,t,m,n,i))});var _=u?l?CZ:SZ:l?$Z:NZ,y=d?void 0:_(n);return gZ(y||n,function(v,m){y&&(m=v,v=n[m]),mZ(a,m,im(v,e,t,m,n,i))}),a}var HM=im;function lJ(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var uJ=lJ;function cJ(n,e,t){var r=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=n[r+e];return i}var k1=cJ,dJ=Nv,hJ=k1;function fJ(n,e){return e.length<2?n:dJ(n,hJ(e,0,-1))}var pJ=fJ,gJ=dd,mJ=uJ,yJ=pJ,vJ=uu;function _J(n,e){return e=gJ(e,n),n=yJ(n,e),n==null||delete n[vJ(mJ(e))]}var zM=_J,bJ=P1;function wJ(n){return bJ(n)?void 0:n}var EJ=wJ,Ix=id,SJ=up,CJ=Jn,Px=Ix?Ix.isConcatSpreadable:void 0;function TJ(n){return CJ(n)||SJ(n)||!!(Px&&n&&n[Px])}var OJ=TJ,IJ=D1,PJ=OJ;function KM(n,e,t,r,s){var i=-1,a=n.length;for(t||(t=PJ),s||(s=[]);++i<a;){var o=n[i];e>0&&t(o)?e>1?KM(o,e-1,t,r,s):IJ(s,o):r||(s[s.length]=o)}return s}var WM=KM,xJ=WM;function RJ(n){var e=n==null?0:n.length;return e?xJ(n,1):[]}var AJ=RJ,DJ=AJ,kJ=OM,NJ=IM;function $J(n){return NJ(kJ(n,void 0,DJ),n+"")}var GM=$J,LJ=cd,MJ=HM,FJ=zM,jJ=dd,VJ=cu,UJ=EJ,BJ=GM,HJ=$M,zJ=1,KJ=2,WJ=4,GJ=BJ(function(n,e){var t={};if(n==null)return t;var r=!1;e=LJ(e,function(i){return i=jJ(i,n),r||(r=i.length>1),i}),VJ(n,HJ(n),t),r&&(t=MJ(t,zJ|KJ|WJ,UJ));for(var s=e.length;s--;)FJ(t,e[s]);return t}),YJ=GJ;const zo=ge(YJ);function qJ(n){return n===void 0}var XJ=qJ;const dt=ge(XJ);var QJ="__lodash_hash_undefined__";function ZJ(n){return this.__data__.set(n,QJ),this}var JJ=ZJ;function eee(n){return this.__data__.has(n)}var tee=eee,nee=_1,ree=JJ,see=tee;function uy(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new nee;++e<t;)this.add(n[e])}uy.prototype.add=uy.prototype.push=ree;uy.prototype.has=see;var N1=uy;function iee(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var aee=iee;function oee(n,e){return n.has(e)}var $1=oee,lee=N1,uee=aee,cee=$1,dee=1,hee=2;function fee(n,e,t,r,s,i){var a=t&dee,o=n.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=i.get(n),d=i.get(e);if(u&&d)return u==e&&d==n;var h=-1,f=!0,p=t&hee?new lee:void 0;for(i.set(n,e),i.set(e,n);++h<o;){var _=n[h],y=e[h];if(r)var v=a?r(y,_,h,e,n,i):r(_,y,h,n,e,i);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!uee(e,function(m,w){if(!cee(p,w)&&(_===m||s(_,m,t,r,i)))return p.push(w)})){f=!1;break}}else if(!(_===y||s(_,y,t,r,i))){f=!1;break}}return i.delete(n),i.delete(e),f}var YM=fee;function pee(n){var e=-1,t=Array(n.size);return n.forEach(function(r,s){t[++e]=[s,r]}),t}var gee=pee;function mee(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var L1=mee,xx=id,Rx=gM,yee=op,vee=YM,_ee=gee,bee=L1,wee=1,Eee=2,See="[object Boolean]",Cee="[object Date]",Tee="[object Error]",Oee="[object Map]",Iee="[object Number]",Pee="[object RegExp]",xee="[object Set]",Ree="[object String]",Aee="[object Symbol]",Dee="[object ArrayBuffer]",kee="[object DataView]",Ax=xx?xx.prototype:void 0,jb=Ax?Ax.valueOf:void 0;function Nee(n,e,t,r,s,i,a){switch(t){case kee:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Dee:return!(n.byteLength!=e.byteLength||!i(new Rx(n),new Rx(e)));case See:case Cee:case Iee:return yee(+n,+e);case Tee:return n.name==e.name&&n.message==e.message;case Pee:case Ree:return n==e+"";case Oee:var o=_ee;case xee:var l=r&wee;if(o||(o=bee),n.size!=e.size&&!l)return!1;var u=a.get(n);if(u)return u==e;r|=Eee,a.set(n,e);var d=vee(o(n),o(e),r,s,i,a);return a.delete(n),d;case Aee:if(jb)return jb.call(n)==jb.call(e)}return!1}var $ee=Nee,Dx=NM,Lee=1,Mee=Object.prototype,Fee=Mee.hasOwnProperty;function jee(n,e,t,r,s,i){var a=t&Lee,o=Dx(n),l=o.length,u=Dx(e),d=u.length;if(l!=d&&!a)return!1;for(var h=l;h--;){var f=o[h];if(!(a?f in e:Fee.call(e,f)))return!1}var p=i.get(n),_=i.get(e);if(p&&_)return p==e&&_==n;var y=!0;i.set(n,e),i.set(e,n);for(var v=a;++h<l;){f=o[h];var m=n[f],w=e[f];if(r)var b=a?r(w,m,f,e,n,i):r(m,w,f,n,e,i);if(!(b===void 0?m===w||s(m,w,t,r,i):b)){y=!1;break}v||(v=f=="constructor")}if(y&&!v){var E=n.constructor,S=e.constructor;E!=S&&"constructor"in n&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(y=!1)}return i.delete(n),i.delete(e),y}var Vee=jee,Vb=Mv,Uee=YM,Bee=$ee,Hee=Vee,kx=pp,Nx=Jn,$x=cp,zee=Fv,Kee=1,Lx="[object Arguments]",Mx="[object Array]",bg="[object Object]",Wee=Object.prototype,Fx=Wee.hasOwnProperty;function Gee(n,e,t,r,s,i){var a=Nx(n),o=Nx(e),l=a?Mx:kx(n),u=o?Mx:kx(e);l=l==Lx?bg:l,u=u==Lx?bg:u;var d=l==bg,h=u==bg,f=l==u;if(f&&$x(n)){if(!$x(e))return!1;a=!0,d=!1}if(f&&!d)return i||(i=new Vb),a||zee(n)?Uee(n,e,t,r,s,i):Bee(n,e,l,t,r,s,i);if(!(t&Kee)){var p=d&&Fx.call(n,"__wrapped__"),_=h&&Fx.call(e,"__wrapped__");if(p||_){var y=p?n.value():n,v=_?e.value():e;return i||(i=new Vb),s(y,v,t,r,i)}}return f?(i||(i=new Vb),Hee(n,e,t,r,s,i)):!1}var Yee=Gee,qee=Yee,jx=qr;function qM(n,e,t,r,s){return n===e?!0:n==null||e==null||!jx(n)&&!jx(e)?n!==n&&e!==e:qee(n,e,t,r,qM,s)}var M1=qM,Xee=M1;function Qee(n,e){return Xee(n,e)}var Zee=Qee;const ke=ge(Zee);var Jee=RM,ete=pp,tte=up,nte=Jn,rte=Qi,ste=cp,ite=lp,ate=Fv,ote="[object Map]",lte="[object Set]",ute=Object.prototype,cte=ute.hasOwnProperty;function dte(n){if(n==null)return!0;if(rte(n)&&(nte(n)||typeof n=="string"||typeof n.splice=="function"||ste(n)||ate(n)||tte(n)))return!n.length;var e=ete(n);if(e==ote||e==lte)return!n.size;if(ite(n))return!Jee(n).length;for(var t in n)if(cte.call(n,t))return!1;return!0}var hte=dte;const gt=ge(hte);var fte=fM,pte=Ho;function gte(n,e){return n&&fte(n,e,pte)}var mte=gte,yte=Qi;function vte(n,e){return function(t,r){if(t==null)return t;if(!yte(t))return n(t,r);for(var s=t.length,i=e?s:-1,a=Object(t);(e?i--:++i<s)&&r(a[i],i,a)!==!1;);return t}}var _te=vte,bte=mte,wte=_te,Ete=wte(bte),XM=Ete,Ste=fp;function Cte(n){return typeof n=="function"?n:Ste}var QM=Cte,Tte=xM,Ote=XM,Ite=QM,Pte=Jn;function xte(n,e){var t=Pte(n)?Tte:Ote;return t(n,Ite(e))}var Rte=xte,Ate=Rte;const Dte=ge(Ate);function Nt(n,e){n&&console.warn(`Warning: ${e}`)}function ct(n){return n==null}let ZM=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else ct(t)&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?([...this._eventMap.get(e)].forEach(a=>a(...r)),!0):!1}};function ze(n){try{return n instanceof HTMLElement}catch{return typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function JM(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(const s of t)n.appendChild(s);return n}function kte(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];if(n.children&&n.children.length){const s=n.children[0];for(const i of t)n.insertBefore(i,s)}else JM(n,...t);return n}function Nte(n){if(n&&typeof n=="object")return typeof n.toJSON=="function"?n.toJSON():["left","top","right","bottom","width","height"].reduce((t,r)=>(t[r]=n[r],t),{})}function Ys(n){n.stopPropagation(),n.preventDefault()}const wg={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},Tu={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};let $te=class extends Pe{constructor(e){var t;super(Object.assign({},e)),t=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(r,s)=>{this._adapter.setDisplayNone(r,s)},this.updateStateIfCursorOnTrigger=r=>{var s,i;if(!((s=r==null?void 0:r.matches)===null||s===void 0)&&s.call(r,":hover")){const a=this._adapter.getEventName(),o=this.getState("triggerEventSet");(i=o[a.mouseEnter])===null||i===void 0||i.call(o)}},this.onResize=()=>{this.getState("visible")&&this.calcPosition()},this.delayShow=()=>{const r=this.getProp("mouseEnterDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},r):this.show()},this.show=()=>{if(this._adapter.getAnimatingState())return;const r=this.getProp("content"),s=this.getProp("trigger"),i=this.getProp("clickTriggerToHide"),{visible:a,displayNone:o}=this.getStates();if(o&&this.setDisplayNone(!1),!a){if(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),s==="hover"){const l=()=>{var u;const d=this._adapter.getTriggerDOM();s&&!(!((u=d==null?void 0:d.matches)===null||u===void 0)&&u.call(d,":hover"))&&this.hide(),this._adapter.off("portalInserted",l)};this._adapter.on("portalInserted",l)}this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(r,{left:-9999,top:-9999}),s==="custom"&&this._adapter.registerClickOutsideHandler(()=>{}),(s==="click"||i||s==="contextMenu")&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent()}},this.calcPosition=function(r,s,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;r=(gt(r)?t._adapter.getTriggerBounding():r)||Object.assign({},Tu),i=(gt(i)?t._adapter.getPopupContainerRect():i)||Object.assign({},Tu),s=(gt(s)?t._adapter.getWrapperBounding():s)||Object.assign({},Tu);let o=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i}),l=t.getProp("position");if(t.getProp("autoAdjustOverflow")){const{position:u,isHeightOverFlow:d,isWidthOverFlow:h}=t.adjustPosIfNeed(l,o,r,s,i);(l!==u||d||h)&&(l=u,o=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i,position:l,spacing:null,isOverFlow:[d,h]}))}return a&&t._mounted&&t._adapter.setPosition(Object.assign(Object.assign({},o),{position:l})),o},this.delayHide=()=>{const r=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},r):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=r=>{const{guardFocus:s,closeOnEsc:i}=this.getProps();switch(r&&r.key){case"Escape":i&&this._handleEscKeyDown(r);break;case"Tab":if(s){const a=this._adapter.getContainer(),o=this._adapter.getFocusableElements(a);o.length&&(r.shiftKey?this._handleContainerShiftTabKeyDown(o,r):this._handleContainerTabKeyDown(o,r))}break}},this._timer=null}init(){const{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),e||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){const e=this.getProp("trigger"),{triggerEventSet:t,portalEventSet:r}=this._generateEvent(e);this._bindTriggerEvent(t),this._bindPortalEvent(r),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"reverse",s=arguments.length>3?arguments[3]:void 0;switch(r){case"reverse":return this._reversePos(e,t);case"expand":return this._expandPos(e,s);case"reduce":return this._reducePos(e);default:return this._reversePos(e,t)}}_reversePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){if(wg.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(wg.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else{if(wg.LEFT.test(e))return e.replace("left","right").replace("Left","Right");if(wg.RIGHT.test(e))return e.replace("right","left").replace("Right","Left")}return e}_expandPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}_reducePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=["Top","Bottom","Left","Right"].find(r=>e.endsWith(r));return t?e.replace(t,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){const t=this._adapter.getEventName(),r={[t.keydown]:i=>{this._handleTriggerKeydown(i)}};let s={};switch(e){case"focus":r[t.focus]=()=>{this.delayShow()},r[t.blur]=()=>{this.delayHide()},s=r;break;case"click":r[t.click]=()=>{this.show()},s={};break;case"hover":r[t.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},r[t.mouseLeave]=()=>{this.delayHide()},r[t.focus]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayShow()},r[t.blur]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayHide()},s=Object.assign({},r),this.getProp("clickToHide")&&(s[t.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},s[t.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":break;case"contextMenu":r[t.contextMenu]=i=>{i.preventDefault(),this.show()};break}return{triggerEventSet:r,portalEventSet:s}}_shouldShow(){this.getProp("visible")&&this.show()}_togglePortalVisible(e){const t=this.getState("visible"),r=this.getState("isInsert");(t!==e||r!==e)&&this._adapter.togglePortalVisible(e,()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)})}_roundPixel(e){return typeof e=="number"?Math.round(e):e}calcTransformOrigin(e,t,r,s){if(e&&t&&r!=null&&s!=null){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(t.width/2)}px ${-s*100}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(t.width/2)}px) ${-s*100}%`;if(["leftTop","rightTop"].includes(e))return`${-r*100}% ${this._roundPixel(t.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${-r*100}% calc(100% - ${this._roundPixel(t.height/2)}px)`}return`${-r*100}% ${-s*100}%`}return null}calcPosStyle(e){var t;const{spacing:r,isOverFlow:s}=e,{innerWidth:i}=window,a=(gt(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},Tu),o=(gt(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},Tu),l=(gt(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},Tu),u=e.position!=null?e.position:this.getProp("position"),d=r??this.getProp("spacing"),{arrowPointAtCenter:h,showArrow:f,arrowBounding:p}=this.getProps(),_=f&&h;let y=d,v=0;if(typeof d!="number"){const q=u.includes("top")||u.includes("bottom");y=q?d.y:d.x,v=q?d.x:d.y}const m=K(p,"width",24),w=K(p,"width",24),b=K(p,"offsetY",0),E=6,S=6;let C,O,I=0,P=0;const x=a.left+a.width/2,D=a.top+a.height/2,$=E+m/2,M=S+w/2,V=l.height-o.height,B=l.width-o.width,F=V>0?V:0,W=B>0?B:0,N=s&&s[0],j=s&&s[1],L=x-o.left<o.right-x,te=D-o.top<o.bottom-D,Q=l.width>i,ie=Math.abs((l==null?void 0:l.width)-((t=this._adapter.getContainer())===null||t===void 0?void 0:t.clientWidth))>1;switch(ie&&(y=y*l.width/this._adapter.getContainer().clientWidth),u){case"top":C=j?L?o.left+l.width/2:o.right-l.width/2+W:x+v,O=N?o.bottom+F:a.top-y,I=-.5,P=-1;break;case"topLeft":C=j?Q?o.left:o.right-l.width:_?x-$+v:a.left+v,O=N?o.bottom+F:a.top-y,P=-1;break;case"topRight":C=j?o.right+W:_?x+$+v:a.right+v,O=N?o.bottom+F:a.top-y,P=-1,I=-1;break;case"left":C=j?o.right+W-y+$:a.left-y,O=N?te?o.top+l.height/2:o.bottom-l.height/2+F:D+v,I=-1,P=-.5;break;case"leftTop":C=j?o.right+W-y+$:a.left-y,O=N?o.top:_?D-M+v:a.top+v,I=-1;break;case"leftBottom":C=j?o.right+W-y+$:a.left-y,O=N?o.bottom+F:_?D+M+v:a.bottom+v,I=-1,P=-1;break;case"bottom":C=j?L?o.left+l.width/2:o.right-l.width/2+W:x+v,O=N?o.top+M-y:a.top+a.height+y,I=-.5;break;case"bottomLeft":C=j?Q?o.left:o.right-l.width:_?x-$+v:a.left+v,O=N?o.top+M-y:a.top+a.height+y;break;case"bottomRight":C=j?o.right+W:_?x+$+v:a.right+v,O=N?o.top+M-y:a.top+a.height+y,I=-1;break;case"right":C=j?o.left-y+$:a.right+y,O=N?te?o.top+l.height/2:o.bottom-l.height/2+F:D+v,P=-.5;break;case"rightTop":C=j?o.left-y+$:a.right+y,O=N?o.top:_?D-M+v:a.top+v;break;case"rightBottom":C=j?o.left-y+$:a.right+y,O=N?o.bottom+F:_?D+M+v:a.bottom+v,P=-1;break;case"leftTopOver":C=a.left-y,O=a.top-y;break;case"rightTopOver":C=a.right+y,O=a.top-y,I=-1;break;case"leftBottomOver":C=a.left-y,O=a.bottom+y,P=-1;break;case"rightBottomOver":C=a.right+y,O=a.bottom+y,I=-1,P=-1;break}const le=this.calcTransformOrigin(u,a,I,P),Ee=this._adapter.containerIsBody();if(C=C-o.left,O=O-o.top,ie&&(C/=l.width/this._adapter.getContainer().clientWidth),ie&&(O/=l.height/this._adapter.getContainer().clientHeight),Ee&&!this._adapter.containerIsRelativeOrAbsolute()){const q=this._adapter.getDocumentElementBounding();C+=o.left-q.left,O+=o.top-q.top}C=Ee?C:C+o.scrollLeft,O=Ee?O:O+o.scrollTop;const he=a.height;if(this.getProp("showArrow")&&!h&&he<=(w/2+b)*2){const q=he/2-(b+w/2);(u.includes("Top")||u.includes("Bottom"))&&!u.includes("Over")&&(O=u.includes("Top")?O+q:O-q)}const de={left:this._roundPixel(C),top:this._roundPixel(O)};let ue="";return I!=null&&(ue+=`translateX(${I*100}%) `,Object.defineProperty(de,"translateX",{enumerable:!1,value:I})),P!=null&&(ue+=`translateY(${P*100}%) `,Object.defineProperty(de,"translateY",{enumerable:!1,value:P})),le!=null&&(de.transformOrigin=le),ue&&(de.transform=ue),de}isLR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,t,r){return e<r&&t>r}isOverFlow(e,t,r){return e<r&&t<r}isHalfOverFlow(e,t,r){return e<r||t<r}isHalfAllEnough(e,t,r){return e>=r||t>=r}getReverse(e,t,r,s){return e&&s||r}adjustPosIfNeed(e,t,r,s,i){const{innerWidth:a,innerHeight:o}=window,{margin:l}=this.getProps(),u=typeof l=="number"?l:l.marginLeft,d=typeof l=="number"?l:l.marginTop,h=typeof l=="number"?l:l.marginRight,f=typeof l=="number"?l:l.marginBottom;let p=!1,_=!1;const y=this.getProp("spacing");let v=y,m=0;if(typeof y!="number"){const w=e.includes("top")||e.includes("bottom");v=w?y.y:y.x,m=w?y.x:y.y}if(s.width>0&&s.height>0){const w=r.left,b=r.right,E=r.top,S=r.bottom,C=a-w,O=o-E,I=a-b,P=o-S,x=s.width>r.width,D=s.height>r.height,$=E-d<s.height+v&&P-f>s.height+v,M=w-u<s.width+v&&I-h>s.width+v,V=P-f<s.height+v&&E-d>s.height+v,B=I-h<s.width+v&&w-u>s.width+v;O-f<s.height+v&&S-d>s.height+v,S-d<s.height+v&&O-f>s.height+v;const F=O<s.height+m&&S>s.height+m,W=S<s.height+m&&O>s.height+m,N=C<s.width+m&&b>s.width+m,j=b<s.width+m&&C>s.width+m,L=O<s.height+v&&S>s.height+v,te=S<s.height+v&&O>s.height+v,Q=C<s.width&&b>s.width,ie=b<s.width&&C>s.width,le=E-i.top,Ee=w-i.left,he=le+r.height,de=Ee+r.width,ue=i.bottom-S,q=i.right-b,se=ue+r.height,vt=q+r.width,$t=this.isReverse(le-d,ue-f,s.height+v),Cn=this.isReverse(Ee-u,q-h,s.width+v),Ot=this.isReverse(ue-f,le-d,s.height+v),jn=this.isReverse(q-h,Ee-u,s.width+v);this.isReverse(se-f,he-d,s.height+v),this.isReverse(he-d,se-f,s.height+v);const _t=this.isReverse(se,he,s.height+m),wr=this.isReverse(he,se,s.height+m),fs=this.isReverse(vt,de,s.width+m),Xo=this.isReverse(de,vt,s.width+m),en=r.height/2,Er=r.width/2,fi=this.isOverFlow(E-d,P-f,s.height+v),pi=this.isOverFlow(w-u,I-h,s.width+v),Ua=this.isOverFlow(S-d,O-f,s.height+v),bu=this.isOverFlow(b-u,C-h,s.width+v),wu=this.isHalfOverFlow(S-en,O-en,(s.height+m)/2),gi=this.isHalfOverFlow(b-Er,C-Er,(s.width+m)/2),tr=this.isHalfAllEnough(S-en,O-en,(s.height+m)/2),Vn=this.isHalfAllEnough(b-Er,C-Er,(s.width+m)/2),Qr=this.isOverFlow(le-d,ue-f,s.height+v),nr=this.isOverFlow(Ee-u,q-h,s.width+v),mi=this.isOverFlow(he-d,se-f,s.height+v),Ms=this.isOverFlow(de-u,vt-h,s.width+v),ea=this.isHalfOverFlow(he-en,se-en,(s.height+m)/2),Un=this.isHalfOverFlow(de-Er,vt-Er,(s.width+m)/2),Fs=this.isHalfAllEnough(he-en,se-en,(s.height+m)/2),Ba=this.isHalfAllEnough(de-Er,vt-Er,(s.width+m)/2),Ha=this.getReverse(fi,Qr,$,$t),Qo=this.getReverse(pi,nr,M,Cn),yi=this.getReverse(fi,Qr,V,Ot),Zo=this.getReverse(pi,nr,B,jn),It=this.getReverse(Ua,mi,F,_t),hn=this.getReverse(Ua,mi,W,wr),qt=this.getReverse(bu,Ms,N,fs),fn=this.getReverse(bu,Ms,j,Xo),pn=wu&&ea,tn=gi&&Un;switch(e){case"top":Ha&&(e=this._adjustPos(e,!0)),tn&&(qt||fn)&&(e=this._adjustPos(e,!0,"expand",qt?"Right":"Left"));break;case"topLeft":Ha&&(e=this._adjustPos(e,!0)),qt&&x&&(e=this._adjustPos(e)),_&&(Vn||Ba)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":Ha&&(e=this._adjustPos(e,!0)),fn&&x&&(e=this._adjustPos(e)),_&&(Vn||Ba)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":Qo&&(e=this._adjustPos(e)),pn&&(It||hn)&&(e=this._adjustPos(e,!1,"expand",It?"Bottom":"Top"));break;case"leftTop":Qo&&(e=this._adjustPos(e)),It&&D&&(e=this._adjustPos(e,!0)),p&&(tr||Fs)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":Qo&&(e=this._adjustPos(e)),hn&&D&&(e=this._adjustPos(e,!0)),p&&(tr||Fs)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":yi&&(e=this._adjustPos(e,!0)),tn&&(qt||fn)&&(e=this._adjustPos(e,!0,"expand",qt?"Right":"Left"));break;case"bottomLeft":yi&&(e=this._adjustPos(e,!0)),qt&&x&&(e=this._adjustPos(e)),_&&(Vn||Ba)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":yi&&(e=this._adjustPos(e,!0)),fn&&x&&(e=this._adjustPos(e)),_&&(Vn||Ba)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":Zo&&(e=this._adjustPos(e)),pn&&(It||hn)&&(e=this._adjustPos(e,!1,"expand",It?"Bottom":"Top"));break;case"rightTop":Zo&&(e=this._adjustPos(e)),It&&D&&(e=this._adjustPos(e,!0)),p&&(tr||Fs)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":Zo&&(e=this._adjustPos(e)),hn&&D&&(e=this._adjustPos(e,!0)),p&&(tr||Fs)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":L&&(e=this._adjustPos(e,!0)),Q&&(e=this._adjustPos(e));break;case"leftBottomOver":te&&(e=this._adjustPos(e,!0)),Q&&(e=this._adjustPos(e));break;case"rightTopOver":L&&(e=this._adjustPos(e,!0)),ie&&(e=this._adjustPos(e));break;case"rightBottomOver":te&&(e=this._adjustPos(e,!0)),ie&&(e=this._adjustPos(e));break}this.isTB(e)&&(p=fi&&Qr,e==="top"||e==="bottom"?_=gi&&Un||b<0||I<0:_=bu&&Ms||b<0||I<0),this.isLR(e)&&(_=pi&&nr,e==="left"||e==="right"?p=wu&&ea||E<0||O<0:p=Ua&&mi||E<0||O<0)}return{position:e,isHeightOverFlow:p,isWidthOverFlow:_}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){const{closeOnEsc:t,disableArrowKeyDown:r}=this.getProps(),s=this._adapter.getContainer(),i=this._adapter.getFocusableElements(s),a=i.length;switch(e&&e.key){case"Escape":Ys(e),t&&this._handleEscKeyDown(e);break;case"ArrowUp":!r&&a&&this._handleTriggerArrowUpKeydown(i,e);break;case"ArrowDown":!r&&a&&this._handleTriggerArrowDownKeydown(i,e);break}}focusTrigger(){const{trigger:e,returnFocusOnClose:t,preventScroll:r}=this.getProps();if(t&&e!=="custom"){const s=this._adapter.getTriggerNode();s&&"focus"in s&&s.focus({preventScroll:r})}}_handleEscKeyDown(e){const{trigger:t}=this.getProps();t!=="custom"&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[e.length-1]===s&&(e[0].focus({preventScroll:r}),t.preventDefault())}_handleContainerShiftTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[0]===s&&(e[e.length-1].focus({preventScroll:r}),t.preventDefault())}_handleTriggerArrowDownKeydown(e,t){const{preventScroll:r}=this.getProps();e[0].focus({preventScroll:r}),t.preventDefault()}_handleTriggerArrowUpKeydown(e,t){const{preventScroll:r}=this.getProps();e[e.length-1].focus({preventScroll:r}),t.preventDefault()}};const Lte={PREFIX:`${Y}-tooltip`},Il={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},al={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0};function cy(n){return`${n}-${new Date().getTime()}-${Math.random()}`}function am(){var n,e;try{return(e=(n=crypto==null?void 0:crypto.randomUUID)===null||n===void 0?void 0:n.call(crypto))!==null&&e!==void 0?e:String(9987e3+-1e11).replace(/[018]/g,t=>(Number(t)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(t)/4).toString(16))}catch{return cy("semi")}}function Pa(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefix:e="",length:t=7}=n,r="0123456789abcdefghijklmnopqrstuvwxyz",s=r.length;let i="";for(let a=0;a<t;a++){const o=Math.floor(Math.random()*s);i+=r.charAt(o)}return e?`${e}-${i}`:i}function oE(n){return g.isValidElement(n)}function Vx(n){return g.Children.count(n)===0}var Mte=jv,Fte=dd,jte=Vv,Ux=Xr,Vte=uu;function Ute(n,e,t,r){if(!Ux(n))return n;e=Fte(e,n);for(var s=-1,i=e.length,a=i-1,o=n;o!=null&&++s<i;){var l=Vte(e[s]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=a){var d=o[l];u=r?r(d,l,o):void 0,u===void 0&&(u=Ux(d)?d:jte(e[s+1])?[]:{})}Mte(o,l,u),o=o[l]}return n}var e2=Ute,Bte=e2;function Hte(n,e,t){return n==null?n:Bte(n,e,t)}var zte=Hte;const mc=ge(zte);var Kte=HM,Wte=1,Gte=4;function Yte(n,e){return e=typeof e=="function"?e:void 0,Kte(n,Wte|Gte,e)}var qte=Yte;const t2=ge(qte);class Xte{constructor(){this.config={}}}const Ub=new Xte;var Bx=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};function Eg(n,e){n&&typeof n.stopPropagation=="function"&&n.stopPropagation(),n.nativeEvent&&typeof n.nativeEvent.stopImmediatePropagation=="function"&&n.nativeEvent.stopImmediatePropagation()}function Qte(n,e){return t2(n,t=>{if(typeof e=="function")return e(t);if(typeof t=="function"||g.isValidElement(t)||Object.prototype.toString.call(t)==="[object Error]")return t;if(Array.isArray(t)&&t.length===0){const r=Object.keys(t);if(r.length){const s=[];r.forEach(i=>{mc(s,i,t[i])});try{Nt(K(process,"env.NODE_ENV")!=="production",`[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.
                    The maximum length of an array is 4294967295.
                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript`)}catch{}return s}else return}})}const Zte=(n,e)=>{let{match:t,unmatch:r,callInInit:s=!0}=e;if(typeof window<"u"){let o=function(l){l.matches?t&&t(l):r&&r(l)};var i=o;const a=window.matchMedia(n);return s&&o(a),Object.prototype.hasOwnProperty.call(a,"addEventListener")?(a.addEventListener("change",o),()=>a.removeEventListener("change",o)):(a.addListener(o),()=>a.removeListener(o))}return()=>{}},hr=n=>g.isValidElement(n)&&K(n.type,"elementType")==="Icon";function n2(){return document?document.activeElement:null}function r2(n){if(!ze(n))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(n.querySelectorAll(t))}function F1(n,e){return Bx(this,void 0,void 0,function*(){if(e===0){yield n();return}else{yield new Promise(t=>{setTimeout(()=>Bx(this,void 0,void 0,function*(){yield F1(n,e-1),t()}),0)});return}})}function Jte(){return globalThis&&Object.prototype.toString.call(globalThis)==="[object Window]"?window.innerWidth-document.documentElement.clientWidth:0}function hs(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=()=>{var r,s;return((s=(r=Ub==null?void 0:Ub.config)===null||r===void 0?void 0:r.overrideDefaultProps)===null||s===void 0?void 0:s[n])||{}};return new Proxy(Object.assign({},e),{get(r,s,i){const a=t();return s in a?a[s]:Reflect.get(r,s,i)},set(r,s,i,a){return Reflect.set(r,s,i,a)},ownKeys(){const r=t();return Array.from(new Set([...Reflect.ownKeys(e),...Object.keys(r)]))},getOwnPropertyDescriptor(r,s){const i=t();return s in i?Reflect.getOwnPropertyDescriptor(i,s):Reflect.getOwnPropertyDescriptor(r,s)}})}const Nr=g.createContext({}),ene=()=>document.body;class gp extends T.PureComponent{constructor(e,t){var r;super(e),r=this,this.initContainer=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var a,o;try{let l;if(!r.el||!(!((a=r.state)===null||a===void 0)&&a.container)||!Array.from(r.state.container.childNodes).includes(r.el)){r.el=document.createElement("div");const d=(r.props.getPopupContainer||s.getPopupContainer||ene)();return d.appendChild(r.el),r.addStyle(r.props.style),r.addClass(r.props.prefixCls,s,r.props.className),l=d,l}}catch(l){if(!i)throw l}return(o=r.state)===null||o===void 0?void 0:o.container},this.addStyle=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.el)for(const i of Object.keys(s))r.el.style[i]=s[i]},this.addClass=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.context;const{direction:a}=i;for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];const d=R(s,...l,{[`${s}-rtl`]:a==="rtl"});r.el&&(r.el.className=d)},this.state={container:this.initContainer(t,!0)}}componentDidMount(){const e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){const{didUpdate:t}=this.props;t&&t(e)}componentWillUnmount(){const{container:e}=this.state;e&&e.removeChild(this.el)}render(){const{state:e,props:t}=this;return e.container?Os.createPortal(t.children,this.el):null}}gp.contextType=Nr;gp.defaultProps={prefixCls:`${Y}-portal`};gp.propTypes={children:c.node,prefixCls:c.string,getPopupContainer:c.func,className:c.string,didUpdate:c.func};var tne=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const nne=n=>{const{className:e,style:t}=n,r=tne(n,["className","style"]);return g.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),g.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))};var rne=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const sne=n=>{const{className:e,style:t}=n,r=rne(n,["className","style"]);return g.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),g.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},ine=c.shape({offsetX:c.number,offsetY:c.number,width:c.number,height:c.number});class ff extends g.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var t,r;(r=(t=this.props).onAnimationStart)===null||r===void 0||r.call(t)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var t,r;(r=(t=this.props).onAnimationEnd)===null||r===void 0||r.call(t,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,t,r,s;(t=(e=this.props).onAnimationStart)===null||t===void 0||t.call(e),this.props.motion||((s=(r=this.props).onAnimationEnd)===null||s===void 0||s.call(r,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,t,r){const s=Object.keys(this.props).filter(i=>!ke(this.props[i],e[i]));s.includes("animationState"),(s.includes("startClassName")||s.includes("replayKey")||s.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var i,a,o,l;(a=(i=this.props).onAnimationStart)===null||a===void 0||a.call(i),this.props.motion||((l=(o=this.props).onAnimationEnd)===null||l===void 0||l.call(o,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var e;return this.props.motion?this.props.children({animationClassName:(e=this.state.currentClassName)!==null&&e!==void 0?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}ff.defaultProps={motion:!0,replayKey:""};var Hx=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const om=Lte.PREFIX,ane=Il.POSITION_SET,one=Il.TRIGGER_SET,lne=["flex","block","table","flow-root","grid"],une=()=>document.body;class pr extends we{constructor(e){super(e),this.isAnimating=!1,this.setContainerEl=t=>this.containerEl={current:t},this.isSpecial=t=>{if(ze(t))return!!t.disabled;if(T.isValidElement(t)){if(K(t,"props.disabled"))return Il.STATUS_DISABLED;const s=K(t,"props.loading"),i=!gt(t)&&!gt(t.type)&&(K(t,"type.elementType")==="Button"||K(t,"type.elementType")==="IconButton");if(s&&i)return Il.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{const{placement:t}=this.state,{showArrow:r,prefixCls:s,style:i}=this.props;let a=null;const o=R([`${s}-icon-arrow`]),l=K(i,"backgroundColor"),u=t!=null&&t.includes("left")||t!=null&&t.includes("right")?g.createElement(sne,null):g.createElement(nne,null);return r&&(T.isValidElement(r)?a=r:a=g.cloneElement(u,{className:o,style:{color:l,fill:"currentColor"}})),a},this.handlePortalInnerClick=t=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&Eg(t)},this.handlePortalMouseDown=t=>{this.props.stopPropagation&&Eg(t)},this.handlePortalFocus=t=>{this.props.stopPropagation&&Eg(t)},this.handlePortalBlur=t=>{this.props.stopPropagation&&Eg(t)},this.handlePortalInnerKeyDown=t=>{this.foundation.handleContainerKeydown(t)},this.renderContentNode=t=>{const r={initialFocusRef:this.initialFocusRef};return Te(t)?t(r):t},this.renderPortal=()=>{const{containerStyle:t={},visible:r,portalEventSet:s,placement:i,displayNone:a,transitionState:o,id:l,isPositionUpdated:u}=this.state,{prefixCls:d,content:h,showArrow:f,style:p,motion:_,role:y,zIndex:v}=this.props,m=this.renderContentNode(h),{className:w}=this.props,b=this.context.direction,E=R(w,{[`${d}-wrapper`]:!0,[`${d}-wrapper-show`]:r,[`${d}-with-arrow`]:!!f,[`${d}-rtl`]:b==="rtl"}),S=this.renderIcon(),C=zo(t,_?["transformOrigin"]:void 0),O=K(t,"transformOrigin"),I=K(p,"opacity",null),P=I||1,x=g.createElement(ff,{fillMode:"forwards",animationState:o,motion:_&&u,startClassName:o==="enter"?`${om}-animation-show`:`${om}-animation-hide`,onAnimationStart:()=>this.isAnimating=!0,onAnimationEnd:()=>{var D,$;o==="leave"&&(this.didLeave(),($=(D=this.props).afterClose)===null||$===void 0||$.call(D)),this.isAnimating=!1}},D=>{let{animationStyle:$,animationClassName:M,animationEventsNeedBind:V}=D;return g.createElement("div",Object.assign({className:R(E,M),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$),a?{display:"none"}:{}),{transformOrigin:O}),p),I?{opacity:u?P:"0"}:{})},s,V,{role:y,"x-placement":i,id:l}),g.createElement("div",{className:`${om}-content`},m),S)});return g.createElement(gp,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:v}},g.createElement("div",{tabIndex:-1,className:`${Y}-portal-inner`,style:C,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},x))},this.wrapSpan=t=>{const{wrapperClassName:r}=this.props,s=K(t,"props.style.display"),i=K(t,"props.block"),a=typeof t=="string",o={};return a||(o.display="inline-block"),(i||lne.includes(s))&&(o.width="100%"),g.createElement("span",{className:r,style:o},t)},this.mergeEvents=(t,r)=>{const s={};return Dte(r,(i,a)=>{typeof i=="function"&&(s[a]=function(){i(...arguments),t&&typeof t[a]=="function"&&t[a](...arguments)})}),s},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new $te(this.adapter),this.eventManager=new ZM,this.triggerEl=g.createRef(),this.containerEl=g.createRef(),this.initialFocusRef=g.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},getAnimatingState:()=>this.isAnimating,insertPortal:(t,r)=>{var{position:s}=r,i=Hx(r,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),i)},()=>{setTimeout(()=>{this.setState(a=>(a.transitionState==="enter"&&this.eventManager.emit("portalInserted"),{}))},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:t=>{this.setState({triggerEventSet:t})},registerPortalEvent:t=>{this.setState({portalEventSet:t})},getTriggerBounding:()=>{const t=this.adapter.getTriggerNode();return this.triggerEl.current=t,t&&t.getBoundingClientRect()},getPopupContainerRect:()=>{const t=this.getPopupContainer();let r=null;if(t&&ze(t)){const s=Nte(t.getBoundingClientRect());r=Object.assign(Object.assign({},s),{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})}return r},containerIsBody:()=>this.getPopupContainer()===document.body,containerIsRelative:()=>{const t=this.getPopupContainer();return window.getComputedStyle(t).getPropertyValue("position")==="relative"},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{const t=this.containerEl&&this.containerEl.current;return t&&t.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:t=>{var{position:r}=t,s=Hx(t,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),s),placement:r,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(t,r)=>{this.setState({displayNone:t},r)},updatePlacementAttr:t=>{this.setState({placement:t})},togglePortalVisible:(t,r)=>{const s={};s.transitionState=t?"enter":"leave",s.visible=t,this.mounted&&this.setState(s,()=>{r()})},registerClickOutsideHandler:t=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=r=>{if(!this.mounted)return!1;let s=this.triggerEl&&this.triggerEl.current,i=this.containerEl&&this.containerEl.current;s=xr.findDOMNode(s),i=xr.findDOMNode(i);const a=r.target,o=r.composedPath&&r.composedPath()||[a],l=this.props.clickTriggerToHide?s&&s.contains(a)||o.includes(s):!1;(s&&!s.contains(a)&&i&&!i.contains(a)&&!(o.includes(i)||o.includes(s))||l)&&(this.props.onClickOutSide(r),t())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:t=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=iy(r=>{if(!this.mounted)return!1;t(r)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:t=>{this.props.onVisibleChange(t)},registerScrollHandler:t=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=iy(r=>{if(!this.mounted)return!1;const s=this.adapter.getTriggerNode();if(r.target.contains(s)){const a={x:r.target.scrollLeft,y:r.target.scrollTop};t(a)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{const t=this.getPopupContainer();if(t&&ze(t)){const s=window.getComputedStyle(t).getPropertyValue("position");this.containerPosition=s}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let t=this.triggerEl.current;return ze(this.triggerEl.current)||(t=xr.findDOMNode(this.triggerEl.current)),t},getFocusableElements:t=>r2(t),getActiveElement:()=>n2(),setInitialFocus:()=>{const{preventScroll:t}=this.props,r=K(this,"initialFocusRef.current");r&&"focus"in r&&r.focus({preventScroll:t})},notifyEscKeydown:t=>{this.props.onEscKeyDown(t)},setId:()=>{this.setState({id:Pa()})},getTriggerDOM:()=>this.triggerEl.current?xr.findDOMNode(this.triggerEl.current):null})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||une,this.foundation.init(),F1(()=>{let e=this.triggerEl.current;e&&(e instanceof HTMLElement||(e=Os.findDOMNode(e))),this.foundation.updateStateIfCursorOnTrigger(e)},1)}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,t){Nt(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),ke(e.rePosKey,this.props.rePosKey)||this.rePosition()}render(){const{isInsert:e,triggerEventSet:t,visible:r,id:s}=this.state,{wrapWhenSpecial:i,role:a,trigger:o}=this.props;let{children:l}=this.props;const u=Object.assign({},K(l,"props.style")),d={};if(i){const p=this.isSpecial(l);p?(u.pointerEvents="none",p===Il.STATUS_DISABLED&&(d.cursor="not-allowed"),l=T.cloneElement(l,{style:u}),o!=="custom"&&(l=this.wrapSpan(l)),this.isWrapped=!0):T.isValidElement(l)||(l=this.wrapSpan(l),this.isWrapped=!0)}let h={};a==="dialog"?(h["aria-expanded"]=r?"true":"false",h["aria-haspopup"]="dialog",h["aria-controls"]=s):h["aria-describedby"]=s;const f=g.cloneElement(l,Object.assign(Object.assign(Object.assign(Object.assign({},h),l.props),this.mergeEvents(l.props,t)),{style:Object.assign(Object.assign({},K(l,"props.style")),d),className:R(K(l,"props.className")),ref:p=>{this.triggerEl.current=p;const{ref:_}=l;typeof _=="function"?_(p):_&&typeof _=="object"&&(_.current=p)},tabIndex:l.props.tabIndex||0,"data-popupid":s}));return g.createElement(g.Fragment,null,e?this.renderPortal():null,f)}}pr.contextType=Nr;pr.propTypes={children:c.node,motion:c.bool,autoAdjustOverflow:c.bool,position:c.oneOf(ane),getPopupContainer:c.func,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(one).isRequired,className:c.string,wrapperClassName:c.string,clickToHide:c.bool,clickTriggerToHide:c.bool,visible:c.bool,style:c.object,content:c.oneOfType([c.node,c.func]),prefixCls:c.string,onVisibleChange:c.func,onClickOutSide:c.func,spacing:c.oneOfType([c.number,c.object]),margin:c.oneOfType([c.number,c.object]),showArrow:c.oneOfType([c.bool,c.node]),zIndex:c.number,rePosKey:c.oneOfType([c.string,c.number]),arrowBounding:ine,transformFromCenter:c.bool,arrowPointAtCenter:c.bool,stopPropagation:c.bool,role:c.string,wrapWhenSpecial:c.bool,guardFocus:c.bool,returnFocusOnClose:c.bool,preventScroll:c.bool,keepDOM:c.bool};pr.__SemiComponentName__="Tooltip";pr.defaultProps=hs(pr.__SemiComponentName__,{arrowBounding:al.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:om,role:"tooltip",mouseEnterDelay:al.MOUSE_ENTER_DELAY,mouseLeaveDelay:al.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:k,onClickOutSide:k,spacing:al.SPACING,margin:al.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:al.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:k,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1});var j1={exports:{}};const s2=(n,{target:e=document.body}={})=>{const t=document.createElement("textarea"),r=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const s=document.getSelection();let i=!1;s.rangeCount>0&&(i=s.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;let a=!1;try{a=document.execCommand("copy")}catch{}return t.remove(),i&&(s.removeAllRanges(),s.addRange(i)),r&&r.focus(),a};j1.exports=s2;j1.exports.default=s2;var cne=j1.exports;const dne=ge(cne);function mt(){}const hne=g.createContext(null);function yc(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}function Ti(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",s;if(r==="formatting"&&n.formattingValues){var i=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):i;s=n.formattingValues[a]||n.formattingValues[i]}else{var o=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[l]||n.values[o]}var u=n.argumentCallback?n.argumentCallback(e):e;return s[u]}}function Oi(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],o=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?pne(o,function(h){return h.test(a)}):fne(o,function(h){return h.test(a)}),u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var d=e.slice(a.length);return{value:u,rest:d}}}function fne(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function pne(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function i2(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var s=r[0],i=e.match(n.parsePattern);if(!i)return null;var a=n.valueCallback?n.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;var o=e.slice(s.length);return{value:a,rest:o}}}function Yi(n){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(n)}function St(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Se(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Re(n){Se(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Yi(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function fo(n,e){Se(2,arguments);var t=Re(n),r=St(e);if(isNaN(r))return new Date(NaN);if(!r)return t;var s=t.getDate(),i=new Date(t.getTime());i.setMonth(t.getMonth()+r+1,0);var a=i.getDate();return s>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),s),t)}function gne(n,e){Se(2,arguments);var t=Re(n).getTime(),r=St(e);return new Date(t+r)}var mne={};function md(){return mne}function a2(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function zx(n){Se(1,arguments);var e=Re(n);return e.setHours(0,0,0,0),e}function dy(n,e){Se(2,arguments);var t=St(e);return fo(n,t*12)}var V1=6e4,U1=36e5,yne=1e3;function B1(n,e){Se(2,arguments);var t=zx(n),r=zx(e);return t.getTime()===r.getTime()}function lE(n){return Se(1,arguments),n instanceof Date||Yi(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Ss(n){if(Se(1,arguments),!lE(n)&&typeof n!="number")return!1;var e=Re(n);return!isNaN(Number(e))}function ol(n,e){Se(2,arguments);var t=Re(n),r=Re(e),s=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return s*12+i}function vne(n,e){Se(2,arguments);var t=Re(n),r=Re(e);return t.getFullYear()-r.getFullYear()}function _ne(n){Se(1,arguments);var e=Re(n);return e.setDate(1),e.setHours(0,0,0,0),e}function o2(n,e){Se(2,arguments);var t=St(e);return gne(n,-t)}var bne=864e5;function wne(n){Se(1,arguments);var e=Re(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=t-r;return Math.floor(s/bne)+1}function Fc(n){Se(1,arguments);var e=1,t=Re(n),r=t.getUTCDay(),s=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-s),t.setUTCHours(0,0,0,0),t}function l2(n){Se(1,arguments);var e=Re(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var s=Fc(r),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var a=Fc(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function Ene(n){Se(1,arguments);var e=l2(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=Fc(t);return r}var Sne=6048e5;function u2(n){Se(1,arguments);var e=Re(n),t=Fc(e).getTime()-Ene(e).getTime();return Math.round(t/Sne)+1}function xa(n,e){var t,r,s,i,a,o,l,u;Se(1,arguments);var d=md(),h=St((t=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Re(n),p=f.getUTCDay(),_=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-_),f.setUTCHours(0,0,0,0),f}function H1(n,e){var t,r,s,i,a,o,l,u;Se(1,arguments);var d=Re(n),h=d.getUTCFullYear(),f=md(),p=St((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(h+1,0,p),_.setUTCHours(0,0,0,0);var y=xa(_,e),v=new Date(0);v.setUTCFullYear(h,0,p),v.setUTCHours(0,0,0,0);var m=xa(v,e);return d.getTime()>=y.getTime()?h+1:d.getTime()>=m.getTime()?h:h-1}function Cne(n,e){var t,r,s,i,a,o,l,u;Se(1,arguments);var d=md(),h=St((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=H1(n,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var _=xa(p,e);return _}var Tne=6048e5;function c2(n,e){Se(1,arguments);var t=Re(n),r=xa(t,e).getTime()-Cne(t,e).getTime();return Math.round(r/Tne)+1}function ut(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}var Ka={y:function(e,t){var r=e.getUTCFullYear(),s=r>0?r:1-r;return ut(t==="yy"?s%100:s,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):ut(r+1,2)},d:function(e,t){return ut(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return ut(e.getUTCHours()%12||12,t.length)},H:function(e,t){return ut(e.getUTCHours(),t.length)},m:function(e,t){return ut(e.getUTCMinutes(),t.length)},s:function(e,t){return ut(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return ut(i,t.length)}},Ou={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},One={G:function(e,t,r){var s=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Ka.y(e,t)},Y:function(e,t,r,s){var i=H1(e,s),a=i>0?i:1-i;if(t==="YY"){var o=a%100;return ut(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ut(a,t.length)},R:function(e,t){var r=l2(e);return ut(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return ut(r,t.length)},Q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return ut(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return ut(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){var s=e.getUTCMonth();switch(t){case"M":case"MM":return Ka.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){var s=e.getUTCMonth();switch(t){case"L":return String(s+1);case"LL":return ut(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){var i=c2(e,s);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ut(i,t.length)},I:function(e,t,r){var s=u2(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):ut(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ka.d(e,t)},D:function(e,t,r){var s=wne(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ut(s,t.length)},E:function(e,t,r){var s=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ut(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ut(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var s=e.getUTCDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return ut(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var s=e.getUTCHours(),i;switch(s===12?i=Ou.noon:s===0?i=Ou.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var s=e.getUTCHours(),i;switch(s>=17?i=Ou.evening:s>=12?i=Ou.afternoon:s>=4?i=Ou.morning:i=Ou.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ka.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ka.H(e,t)},K:function(e,t,r){var s=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ut(s,t.length)},k:function(e,t,r){var s=e.getUTCHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):ut(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ka.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ka.s(e,t)},S:function(e,t){return Ka.S(e,t)},X:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Wx(a);case"XXXX":case"XX":return ll(a);case"XXXXX":case"XXX":default:return ll(a,":")}},x:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(t){case"x":return Wx(a);case"xxxx":case"xx":return ll(a);case"xxxxx":case"xxx":default:return ll(a,":")}},O:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kx(a,":");case"OOOO":default:return"GMT"+ll(a,":")}},z:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kx(a,":");case"zzzz":default:return"GMT"+ll(a,":")}},t:function(e,t,r,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return ut(a,t.length)},T:function(e,t,r,s){var i=s._originalDate||e,a=i.getTime();return ut(a,t.length)}};function Kx(n,e){var t=n>0?"-":"+",r=Math.abs(n),s=Math.floor(r/60),i=r%60;if(i===0)return t+String(s);var a=e;return t+String(s)+a+ut(i,2)}function Wx(n,e){if(n%60===0){var t=n>0?"-":"+";return t+ut(Math.abs(n)/60,2)}return ll(n,e)}function ll(n,e){var t=e||"",r=n>0?"-":"+",s=Math.abs(n),i=ut(Math.floor(s/60),2),a=ut(s%60,2);return r+i+t+a}var Gx=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},d2=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ine=function(e,t){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Gx(e,t);var a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Gx(s,t)).replace("{{time}}",d2(i,t))},uE={p:d2,P:Ine},Pne=["D","DD"],xne=["YY","YYYY"];function h2(n){return Pne.indexOf(n)!==-1}function f2(n){return xne.indexOf(n)!==-1}function hy(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Rne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ane=function(e,t,r){var s,i=Rne[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s},Dne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$ne={date:yc({formats:Dne,defaultWidth:"full"}),time:yc({formats:kne,defaultWidth:"full"}),dateTime:yc({formats:Nne,defaultWidth:"full"})},Lne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mne=function(e,t,r,s){return Lne[e]},Fne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Une={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Hne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zne=function(e,t){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Kne={ordinalNumber:zne,era:Ti({values:Fne,defaultWidth:"wide"}),quarter:Ti({values:jne,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ti({values:Vne,defaultWidth:"wide"}),day:Ti({values:Une,defaultWidth:"wide"}),dayPeriod:Ti({values:Bne,defaultWidth:"wide",formattingValues:Hne,defaultFormattingWidth:"wide"})},Wne=/^(\d+)(th|st|nd|rd)?/i,Gne=/\d+/i,Yne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qne={any:[/^b/i,/^(a|c)/i]},Xne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qne={any:[/1/i,/2/i,/3/i,/4/i]},Zne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ere={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sre={ordinalNumber:i2({matchPattern:Wne,parsePattern:Gne,valueCallback:function(e){return parseInt(e,10)}}),era:Oi({matchPatterns:Yne,defaultMatchWidth:"wide",parsePatterns:qne,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:Xne,defaultMatchWidth:"wide",parsePatterns:Qne,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Oi({matchPatterns:Zne,defaultMatchWidth:"wide",parsePatterns:Jne,defaultParseWidth:"any"}),day:Oi({matchPatterns:ere,defaultMatchWidth:"wide",parsePatterns:tre,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:nre,defaultMatchWidth:"any",parsePatterns:rre,defaultParseWidth:"any"})},p2={code:"en-US",formatDistance:Ane,formatLong:$ne,formatRelative:Mne,localize:Kne,match:sre,options:{weekStartsOn:0,firstWeekContainsDate:1}},ire=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,are=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ore=/^'([^]*?)'?$/,lre=/''/g,ure=/[a-zA-Z]/;function et(n,e,t){var r,s,i,a,o,l,u,d,h,f,p,_,y,v,m,w,b,E;Se(2,arguments);var S=String(e),C=md(),O=(r=(s=t==null?void 0:t.locale)!==null&&s!==void 0?s:C.locale)!==null&&r!==void 0?r:p2,I=St((i=(a=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=St((p=(_=(y=(v=t==null?void 0:t.weekStartsOn)!==null&&v!==void 0?v:t==null||(m=t.locale)===null||m===void 0||(w=m.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:C.weekStartsOn)!==null&&_!==void 0?_:(b=C.locale)===null||b===void 0||(E=b.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var x=Re(n);if(!Ss(x))throw new RangeError("Invalid time value");var D=a2(x),$=o2(x,D),M={firstWeekContainsDate:I,weekStartsOn:P,locale:O,_originalDate:x},V=S.match(are).map(function(B){var F=B[0];if(F==="p"||F==="P"){var W=uE[F];return W(B,O.formatLong)}return B}).join("").match(ire).map(function(B){if(B==="''")return"'";var F=B[0];if(F==="'")return cre(B);var W=One[F];if(W)return!(t!=null&&t.useAdditionalWeekYearTokens)&&f2(B)&&hy(B,e,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&h2(B)&&hy(B,e,String(n)),W($,B,O.localize,M);if(F.match(ure))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return B}).join("");return V}function cre(n){var e=n.match(ore);return e?e[1].replace(lre,"'"):n}function dre(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function g2(n){Se(1,arguments);var e=Re(n),t=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function hre(n){Se(1,arguments);var e=Re(n),t=e.getHours();return t}function fre(n){Se(1,arguments);var e=Re(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function pre(n,e){Se(2,arguments);var t=Re(n),r=Re(e);return t.getTime()>r.getTime()}function m2(n,e){Se(2,arguments);var t=Re(n),r=Re(e);return t.getTime()<r.getTime()}function fy(n,e){Se(2,arguments);var t=Re(n),r=Re(e);return t.getTime()===r.getTime()}function Yx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function gre(n,e){if(n){if(typeof n=="string")return Yx(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Yx(n,e):void 0}}function qx(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=gre(n))||e){t&&(n=t);var r=0,s=function(){};return{s,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){o=!0,i=u},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw i}}}}function ee(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function py(n,e){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},py(n,e)}function Ye(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&py(n,e)}function gy(n){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gy(n)}function y2(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y2=function(){return!!n})()}function mre(n,e){if(e&&(Yi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(n)}function qe(n){var e=y2();return function(){var t,r=gy(n);if(e){var s=gy(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return mre(this,t)}}function Me(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function yre(n,e){if(Yi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Yi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function v2(n){var e=yre(n,"string");return Yi(e)=="symbol"?e:e+""}function vre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,v2(r.key),r)}}function Fe(n,e,t){return e&&vre(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function J(n,e,t){return(e=v2(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var _re=10,_2=function(){function n(){Me(this,n),J(this,"priority",void 0),J(this,"subPriority",0)}return Fe(n,[{key:"validate",value:function(t,r){return!0}}]),n}(),bre=function(n){Ye(t,n);var e=qe(t);function t(r,s,i,a,o){var l;return Me(this,t),l=e.call(this),l.value=r,l.validateValue=s,l.setValue=i,l.priority=a,o&&(l.subPriority=o),l}return Fe(t,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,a){return this.setValue(s,i,this.value,a)}}]),t}(_2),wre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",_re),J(ee(r),"subPriority",-1),r}return Fe(t,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var a=new Date(0);return a.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),a.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),a}}]),t}(_2),it=function(){function n(){Me(this,n),J(this,"incompatibleTokens",void 0),J(this,"priority",void 0),J(this,"subPriority",void 0)}return Fe(n,[{key:"run",value:function(t,r,s,i){var a=this.parse(t,r,s,i);return a?{setter:new bre(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(t,r,s){return!0}}]),n}(),Ere=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",140),J(ee(r),"incompatibleTokens",["R","u","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,a){return i.era=a,s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),un={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ii={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function cn(n,e){return n&&{value:e(n.value),rest:n.rest}}function zt(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Pi(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:r*(s*U1+i*V1+a*yne),rest:e.slice(t[0].length)}}function b2(n){return zt(un.anyDigitsSigned,n)}function Zt(n,e){switch(n){case 1:return zt(un.singleDigit,e);case 2:return zt(un.twoDigits,e);case 3:return zt(un.threeDigits,e);case 4:return zt(un.fourDigits,e);default:return zt(new RegExp("^\\d{1,"+n+"}"),e)}}function my(n,e){switch(n){case 1:return zt(un.singleDigitSigned,e);case 2:return zt(un.twoDigitsSigned,e);case 3:return zt(un.threeDigitsSigned,e);case 4:return zt(un.fourDigitsSigned,e);default:return zt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function z1(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function w2(n,e){var t=e>0,r=t?e:1-e,s;if(r<=50)s=n||100;else{var i=r+50,a=Math.floor(i/100)*100,o=n>=i%100;s=n+a-(o?100:0)}return t?s:1-s}function E2(n){return n%400===0||n%4===0&&n%100!==0}var Sre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",130),J(ee(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return cn(Zt(4,s),o);case"yo":return cn(a.ordinalNumber(s,{unit:"year"}),o);default:return cn(Zt(i.length,s),o)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a){var o=s.getUTCFullYear();if(a.isTwoDigitYear){var l=w2(a.year,o);return s.setUTCFullYear(l,0,1),s.setUTCHours(0,0,0,0),s}var u=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(u,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),Cre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",130),J(ee(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return cn(Zt(4,s),o);case"Yo":return cn(a.ordinalNumber(s,{unit:"year"}),o);default:return cn(Zt(i.length,s),o)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a,o){var l=H1(s,o);if(a.isTwoDigitYear){var u=w2(a.year,l);return s.setUTCFullYear(u,0,o.firstWeekContainsDate),s.setUTCHours(0,0,0,0),xa(s,o)}var d=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(d,0,o.firstWeekContainsDate),s.setUTCHours(0,0,0,0),xa(s,o)}}]),t}(it),Tre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",130),J(ee(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i){return my(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,a){var o=new Date(0);return o.setUTCFullYear(a,0,4),o.setUTCHours(0,0,0,0),Fc(o)}}]),t}(it),Ore=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",130),J(ee(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i){return my(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,a){return s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),Ire=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",120),J(ee(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"Q":case"QQ":return Zt(i.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),Pre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",120),J(ee(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"q":case"qq":return Zt(i.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),xre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),J(ee(r),"priority",110),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return u-1};switch(i){case"M":return cn(zt(un.month,s),o);case"MM":return cn(Zt(2,s),o);case"Mo":return cn(a.ordinalNumber(s,{unit:"month"}),o);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),Rre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",110),J(ee(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return u-1};switch(i){case"L":return cn(zt(un.month,s),o);case"LL":return cn(Zt(2,s),o);case"Lo":return cn(a.ordinalNumber(s,{unit:"month"}),o);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),t}(it);function Are(n,e,t){Se(2,arguments);var r=Re(n),s=St(e),i=c2(r,t)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var Dre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",100),J(ee(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"w":return zt(un.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a,o){return xa(Are(s,a,o),o)}}]),t}(it);function kre(n,e){Se(2,arguments);var t=Re(n),r=St(e),s=u2(t)-r;return t.setUTCDate(t.getUTCDate()-s*7),t}var Nre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",100),J(ee(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"I":return zt(un.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a){return Fc(kre(s,a))}}]),t}(it),$re=[31,28,31,30,31,30,31,31,30,31,30,31],Lre=[31,29,31,30,31,30,31,31,30,31,30,31],Mre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"subPriority",1),J(ee(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"d":return zt(un.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),o=E2(a),l=s.getUTCMonth();return o?i>=1&&i<=Lre[l]:i>=1&&i<=$re[l]}},{key:"set",value:function(s,i,a){return s.setUTCDate(a),s.setUTCHours(0,0,0,0),s}}]),t}(it),Fre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"subpriority",1),J(ee(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"D":case"DD":return zt(un.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),o=E2(a);return o?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,a){return s.setUTCMonth(0,a),s.setUTCHours(0,0,0,0),s}}]),t}(it);function K1(n,e,t){var r,s,i,a,o,l,u,d;Se(2,arguments);var h=md(),f=St((r=(s=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&s!==void 0?s:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Re(n),_=St(e),y=p.getUTCDay(),v=_%7,m=(v+7)%7,w=(m<f?7:0)+_-y;return p.setUTCDate(p.getUTCDate()+w),p}var jre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,o){return s=K1(s,a,o),s.setUTCHours(0,0,0,0),s}}]),t}(it),Vre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a,o){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+h};switch(i){case"e":case"ee":return cn(Zt(i.length,s),l);case"eo":return cn(a.ordinalNumber(s,{unit:"day"}),l);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,o){return s=K1(s,a,o),s.setUTCHours(0,0,0,0),s}}]),t}(it),Ure=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a,o){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+h};switch(i){case"c":case"cc":return cn(Zt(i.length,s),l);case"co":return cn(a.ordinalNumber(s,{unit:"day"}),l);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,o){return s=K1(s,a,o),s.setUTCHours(0,0,0,0),s}}]),t}(it);function Bre(n,e){Se(2,arguments);var t=St(e);t%7===0&&(t=t-7);var r=1,s=Re(n),i=s.getUTCDay(),a=t%7,o=(a+7)%7,l=(o<r?7:0)+t-i;return s.setUTCDate(s.getUTCDate()+l),s}var Hre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Zt(i.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return cn(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiii":return cn(a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiiii":return cn(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiii":default:return cn(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,a){return s=Bre(s,a),s.setUTCHours(0,0,0,0),s}}]),t}(it),zre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",80),J(ee(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(z1(a),0,0,0),s}}]),t}(it),Kre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",80),J(ee(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(z1(a),0,0,0),s}}]),t}(it),Wre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",80),J(ee(r),"incompatibleTokens",["a","b","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(z1(a),0,0,0),s}}]),t}(it),Gre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",70),J(ee(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"h":return zt(un.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,a){var o=s.getUTCHours()>=12;return o&&a<12?s.setUTCHours(a+12,0,0,0):!o&&a===12?s.setUTCHours(0,0,0,0):s.setUTCHours(a,0,0,0),s}}]),t}(it),Yre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",70),J(ee(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"H":return zt(un.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,a){return s.setUTCHours(a,0,0,0),s}}]),t}(it),qre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",70),J(ee(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"K":return zt(un.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){var o=s.getUTCHours()>=12;return o&&a<12?s.setUTCHours(a+12,0,0,0):s.setUTCHours(a,0,0,0),s}}]),t}(it),Xre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",70),J(ee(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"k":return zt(un.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,a){var o=a<=24?a%24:a;return s.setUTCHours(o,0,0,0),s}}]),t}(it),Qre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",60),J(ee(r),"incompatibleTokens",["t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"m":return zt(un.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCMinutes(a,0,0),s}}]),t}(it),Zre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",50),J(ee(r),"incompatibleTokens",["t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"s":return zt(un.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return Zt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCSeconds(a,0),s}}]),t}(it),Jre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",30),J(ee(r),"incompatibleTokens",["t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i){var a=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return cn(Zt(i.length,s),a)}},{key:"set",value:function(s,i,a){return s.setUTCMilliseconds(a),s}}]),t}(it),ese=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",10),J(ee(r),"incompatibleTokens",["t","T","x"]),r}return Fe(t,[{key:"parse",value:function(s,i){switch(i){case"X":return Pi(Ii.basicOptionalMinutes,s);case"XX":return Pi(Ii.basic,s);case"XXXX":return Pi(Ii.basicOptionalSeconds,s);case"XXXXX":return Pi(Ii.extendedOptionalSeconds,s);case"XXX":default:return Pi(Ii.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),t}(it),tse=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",10),J(ee(r),"incompatibleTokens",["t","T","X"]),r}return Fe(t,[{key:"parse",value:function(s,i){switch(i){case"x":return Pi(Ii.basicOptionalMinutes,s);case"xx":return Pi(Ii.basic,s);case"xxxx":return Pi(Ii.basicOptionalSeconds,s);case"xxxxx":return Pi(Ii.extendedOptionalSeconds,s);case"xxx":default:return Pi(Ii.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),t}(it),nse=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",40),J(ee(r),"incompatibleTokens","*"),r}return Fe(t,[{key:"parse",value:function(s){return b2(s)}},{key:"set",value:function(s,i,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),t}(it),rse=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",20),J(ee(r),"incompatibleTokens","*"),r}return Fe(t,[{key:"parse",value:function(s){return b2(s)}},{key:"set",value:function(s,i,a){return[new Date(a),{timestampIsSet:!0}]}}]),t}(it),sse={G:new Ere,y:new Sre,Y:new Cre,R:new Tre,u:new Ore,Q:new Ire,q:new Pre,M:new xre,L:new Rre,w:new Dre,I:new Nre,d:new Mre,D:new Fre,E:new jre,e:new Vre,c:new Ure,i:new Hre,a:new zre,b:new Kre,B:new Wre,h:new Gre,H:new Yre,K:new qre,k:new Xre,m:new Qre,s:new Zre,S:new Jre,X:new ese,x:new tse,t:new nse,T:new rse},ise=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ase=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ose=/^'([^]*?)'?$/,lse=/''/g,use=/\S/,cse=/[a-zA-Z]/;function S2(n,e,t,r){var s,i,a,o,l,u,d,h,f,p,_,y,v,m,w,b,E,S;Se(3,arguments);var C=String(n),O=String(e),I=md(),P=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:I.locale)!==null&&s!==void 0?s:p2;if(!P.match)throw new RangeError("locale must contain match property");var x=St((a=(o=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:I.firstWeekContainsDate)!==null&&o!==void 0?o:(f=I.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=St((_=(y=(v=(m=r==null?void 0:r.weekStartsOn)!==null&&m!==void 0?m:r==null||(w=r.locale)===null||w===void 0||(b=w.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:I.weekStartsOn)!==null&&y!==void 0?y:(E=I.locale)===null||E===void 0||(S=E.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&_!==void 0?_:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(O==="")return C===""?Re(t):new Date(NaN);var $={firstWeekContainsDate:x,weekStartsOn:D,locale:P},M=[new wre],V=O.match(ase).map(function(ue){var q=ue[0];if(q in uE){var se=uE[q];return se(ue,P.formatLong)}return ue}).join("").match(ise),B=[],F=qx(V),W;try{var N=function(){var q=W.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&f2(q)&&hy(q,O,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&h2(q)&&hy(q,O,n);var se=q[0],vt=sse[se];if(vt){var $t=vt.incompatibleTokens;if(Array.isArray($t)){var Cn=B.find(function(jn){return $t.includes(jn.token)||jn.token===se});if(Cn)throw new RangeError("The format string mustn't contain `".concat(Cn.fullToken,"` and `").concat(q,"` at the same time"))}else if(vt.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(q,"` and any other token at the same time"));B.push({token:se,fullToken:q});var Ot=vt.run(C,q,P.match,$);if(!Ot)return{v:new Date(NaN)};M.push(Ot.setter),C=Ot.rest}else{if(se.match(cse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+se+"`");if(q==="''"?q="'":se==="'"&&(q=dse(q)),C.indexOf(q)===0)C=C.slice(q.length);else return{v:new Date(NaN)}}};for(F.s();!(W=F.n()).done;){var j=N();if(Yi(j)==="object")return j.v}}catch(ue){F.e(ue)}finally{F.f()}if(C.length>0&&use.test(C))return new Date(NaN);var L=M.map(function(ue){return ue.priority}).sort(function(ue,q){return q-ue}).filter(function(ue,q,se){return se.indexOf(ue)===q}).map(function(ue){return M.filter(function(q){return q.priority===ue}).sort(function(q,se){return se.subPriority-q.subPriority})}).map(function(ue){return ue[0]}),te=Re(t);if(isNaN(te.getTime()))return new Date(NaN);var Q=o2(te,a2(te)),ie={},le=qx(L),Ee;try{for(le.s();!(Ee=le.n()).done;){var he=Ee.value;if(!he.validate(Q,$))return new Date(NaN);var de=he.set(Q,ie,$);Array.isArray(de)?(Q=de[0],dre(ie,de[1])):Q=de}}catch(ue){le.e(ue)}finally{le.f()}return Q}function dse(n){return n.match(ose)[1].replace(lse,"'")}function Xx(n){Se(1,arguments);var e=Re(n);return e.setMilliseconds(0),e}function Qx(n,e){Se(2,arguments);var t=Xx(n),r=Xx(e);return t.getTime()===r.getTime()}function hse(n,e){Se(2,arguments);var t=Re(n).getTime(),r=Re(e.start).getTime(),s=Re(e.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return t>=r&&t<=s}function As(n,e){var t;Se(1,arguments);var r=St((t=void 0)!==null&&t!==void 0?t:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var s=mse(n),i;if(s.date){var a=yse(s.date,r);i=vse(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,u;if(s.time&&(l=_se(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(u=bse(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(o+l+u)}var Sg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fse=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pse=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gse=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mse(n){var e={},t=n.split(Sg.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Sg.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Sg.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var s=Sg.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function yse(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function vse(n,e){if(e===null)return new Date(NaN);var t=n.match(fse);if(!t)return new Date(NaN);var r=!!t[4],s=Bd(t[1]),i=Bd(t[2])-1,a=Bd(t[3]),o=Bd(t[4]),l=Bd(t[5])-1;if(r)return Tse(e,o,l)?wse(e,o,l):new Date(NaN);var u=new Date(0);return!Sse(e,i,a)||!Cse(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}function Bd(n){return n?parseInt(n):1}function _se(n){var e=n.match(pse);if(!e)return NaN;var t=Bb(e[1]),r=Bb(e[2]),s=Bb(e[3]);return Ose(t,r,s)?t*U1+r*V1+s*1e3:NaN}function Bb(n){return n&&parseFloat(n.replace(",","."))||0}function bse(n){if(n==="Z")return 0;var e=n.match(gse);if(!e)return 0;var t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Ise(r,s)?t*(r*U1+s*V1):NaN}function wse(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var Ese=[31,null,31,30,31,30,31,31,30,31,30,31];function C2(n){return n%400===0||n%4===0&&n%100!==0}function Sse(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(Ese[e]||(C2(n)?29:28))}function Cse(n,e){return e>=1&&e<=(C2(n)?366:365)}function Tse(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Ose(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Ise(n,e){return e>=0&&e<=59}function gl(n,e){Se(2,arguments);var t=Re(n),r=St(e),s=t.getFullYear(),i=t.getDate(),a=new Date(0);a.setFullYear(s,r,15),a.setHours(0,0,0,0);var o=g2(a);return t.setMonth(r,Math.min(i,o)),t}function T2(n,e){if(Se(2,arguments),Yi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=Re(n);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=gl(t,e.month)),e.date!=null&&t.setDate(St(e.date)),e.hours!=null&&t.setHours(St(e.hours)),e.minutes!=null&&t.setMinutes(St(e.minutes)),e.seconds!=null&&t.setSeconds(St(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(St(e.milliseconds)),t)}function cE(n,e){Se(2,arguments);var t=Re(n),r=St(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function Pse(n,e){Se(2,arguments);var t=St(e);return fo(n,-t)}function xse(n,e){Se(2,arguments);var t=St(e);return dy(n,-t)}function Rse(n,e,t){Se(2,arguments);var r=xa(n,t),s=xa(e,t);return r.getTime()===s.getTime()}var Ase={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},Dse=function(e,t,r){var s,i=Ase[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?s+"内":s+"前":s},kse={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},Nse={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},$se={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Lse={date:yc({formats:kse,defaultWidth:"full"}),time:yc({formats:Nse,defaultWidth:"full"}),dateTime:yc({formats:$se,defaultWidth:"full"})};function Zx(n,e,t){var r="eeee p";return Rse(n,e,t)?r:n.getTime()>e.getTime()?"'下个'"+r:"'上个'"+r}var Mse={lastWeek:Zx,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:Zx,other:"PP p"},Fse=function(e,t,r,s){var i=Mse[e];return typeof i=="function"?i(t,r,s):i},jse={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},Vse={narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},Use={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},Bse={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},Hse={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},zse={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},Kse=function(e,t){var r=Number(e);switch(t==null?void 0:t.unit){case"date":return r.toString()+"日";case"hour":return r.toString()+"时";case"minute":return r.toString()+"分";case"second":return r.toString()+"秒";default:return"第 "+r.toString()}},Wse={ordinalNumber:Kse,era:Ti({values:jse,defaultWidth:"wide"}),quarter:Ti({values:Vse,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ti({values:Use,defaultWidth:"wide"}),day:Ti({values:Bse,defaultWidth:"wide"}),dayPeriod:Ti({values:Hse,defaultWidth:"wide",formattingValues:zse,defaultFormattingWidth:"wide"})},Gse=/^(第\s*)?\d+(日|时|分|秒)?/i,Yse=/\d+/i,qse={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},Xse={any:[/^(前)/i,/^(公元)/i]},Qse={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},Zse={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},Jse={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},eie={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},tie={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},nie={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},rie={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},sie={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},iie={ordinalNumber:i2({matchPattern:Gse,parsePattern:Yse,valueCallback:function(e){return parseInt(e,10)}}),era:Oi({matchPatterns:qse,defaultMatchWidth:"wide",parsePatterns:Xse,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:Qse,defaultMatchWidth:"wide",parsePatterns:Zse,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Oi({matchPatterns:Jse,defaultMatchWidth:"wide",parsePatterns:eie,defaultParseWidth:"any"}),day:Oi({matchPatterns:tie,defaultMatchWidth:"wide",parsePatterns:nie,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:rie,defaultMatchWidth:"any",parsePatterns:sie,defaultParseWidth:"any"})},W1={code:"zh-CN",formatDistance:Dse,formatLong:Lse,formatRelative:Fse,localize:Wse,match:iie,options:{weekStartsOn:1,firstWeekContainsDate:4}};const Jx={code:"zh-CN",dateFnsLocale:W1,Pagination:{pageSize:"每页条数：${pageSize}",total:"总页数：${total}",jumpTo:"跳至",page:"页"},Modal:{confirm:"确定",cancel:"取消"},Tabs:{more:"更多"},TimePicker:{placeholder:{time:"请选择时间",timeRange:"请选择时间范围"},begin:"开始时间",end:"结束时间",hour:"时",minute:"分",second:"秒",AM:"上午",PM:"下午"},DatePicker:{placeholder:{date:"请选择日期",dateTime:"请选择日期及时间",dateRange:["开始日期","结束日期"],dateTimeRange:["开始日期","结束日期"],monthRange:["开始月份","结束月份"]},presets:"快捷选择",footer:{confirm:"确定",cancel:"取消"},selectDate:"返回选择日期",selectTime:"选择时间",year:"年",month:"月",day:"日",monthText:"${year}年 ${month}",months:{1:"1月",2:"2月",3:"3月",4:"4月",5:"5月",6:"6月",7:"7月",8:"8月",9:"9月",10:"10月",11:"11月",12:"12月"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"一",Tue:"二",Wed:"三",Thu:"四",Fri:"五",Sat:"六",Sun:"日"},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"收起侧边栏",expandText:"展开侧边栏"},Popconfirm:{confirm:"确定",cancel:"取消"},Table:{emptyText:"暂无数据",pageText:"显示第 ${currentStart} 条-第 ${currentEnd} 条，共 ${total} 条",descend:"点击降序",ascend:"点击升序",cancelSort:"取消排序"},Select:{emptyText:"暂无数据",createText:"创建"},Cascader:{emptyText:"暂无数据"},Tree:{emptyText:"暂无数据",searchPlaceholder:"搜索"},List:{emptyText:"暂无数据"},Calendar:{allDay:"全天",AM:"上午${time}时",PM:"下午${time}时",datestring:"日",remaining:"还有${remained}项"},Upload:{mainText:"点击上传文件或拖拽文件到这里",illegalTips:"不支持此类型文件",legalTips:"松手开始上传",retry:"重试",replace:"替换文件",clear:"清空",selectedFiles:"已选择文件",illegalSize:"文件尺寸不合法",fail:"上传失败"},TreeSelect:{searchPlaceholder:"搜索"},Typography:{copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Transfer:{emptyLeft:"暂无数据",emptySearch:"无搜索结果",emptyRight:"暂无内容，可从左侧勾选",placeholder:"搜索",clear:"清空",selectAll:"全选",clearSelectAll:"取消全选",total:"总个数：${total}",selected:"已选个数：${total}"},Form:{optional:"（可选）"},Image:{preview:"预览",loading:"加载中",loadError:"加载失败",prevTip:"上一张",nextTip:"下一张",zoomInTip:"放大",zoomOutTip:"缩小",rotateTip:"旋转",downloadTip:"下载",adaptiveTip:"适应页面",originTip:"原始尺寸"},Chat:{deleteConfirm:"确认删除该会话吗？",clearContext:"上下文已清除",copySuccess:"复制成功",stop:"停止",copy:"复制",copied:"复制成功",dropAreaText:"将文件放到这里"}};class dn extends T.Component{renderChildren(e,t){const{componentName:r}=this.props;let s=e;e!=null&&e.code||(s=Jx);const i=K(Jx,"dateFnsLocale"),a=K(s,"dateFnsLocale",i);return t(s[r],s.code,a)}render(){const{children:e}=this.props;return g.createElement(Nr.Consumer,null,t=>{let{locale:r}=t;return g.createElement(hne.Consumer,null,s=>this.renderChildren(r||s,e))})}}dn.propTypes={componentName:c.string.isRequired,children:c.any};dn.defaultProps={componentName:""};const aie="semi";var oie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const O2=g.forwardRef((n,e)=>{const{svg:t,spin:r=!1,rotate:s,style:i,className:a,prefixCls:o=aie,type:l,size:u="default"}=n,d=oie(n,["svg","spin","rotate","style","className","prefixCls","type","size"]),h=R(`${o}-icon`,{[`${o}-icon-extra-small`]:u==="extra-small",[`${o}-icon-small`]:u==="small",[`${o}-icon-default`]:u==="default",[`${o}-icon-large`]:u==="large",[`${o}-icon-extra-large`]:u==="extra-large",[`${o}-icon-spinning`]:r===!0,[`${o}-icon-${l}`]:!!l},a),f={};return Number.isSafeInteger(s)&&(f.transform=`rotate(${s}deg)`),Object.assign(f,i),g.createElement("span",Object.assign({role:"img",ref:e,"aria-label":l,className:h,style:f},d),t)});O2.elementType="Icon";const nt=(n,e)=>{const t=g.forwardRef((r,s)=>g.createElement(O2,Object.assign({svg:g.createElement(n),type:e,ref:s},r)));return t.elementType="Icon",t};function lie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z",fill:"currentColor"}))}const pf=nt(lie,"alert_circle");function uie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.23 2.4-8.7 16.67A2 2 0 0 0 3.3 22h17.4a2 2 0 0 0 1.77-2.93L13.77 2.4a2 2 0 0 0-3.54 0ZM13.14 14a1.15 1.15 0 0 1-2.28 0l-.58-4.03a1.73 1.73 0 1 1 3.44 0l-.58 4.03Zm.36 4.49a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const G1=nt(uie,"alert_triangle");function cie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20V8h16v12H4ZM2 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm4 6.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2ZM11 15a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Z",fill:"currentColor"}))}const I2=nt(cie,"calendar");function die(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M2 5v14a3 3 0 0 0 3 3h7.1a7.02 7.02 0 0 1-1.43-2H6a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2.67c.75.36 1.43.85 2 1.43V5a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3Z",fill:"currentColor"}),T.createElement("path",{d:"M16 10h1c-.54 0-1.06.06-1.57.18A1 1 0 0 1 16 10Z",fill:"currentColor"}),T.createElement("path",{d:"M13.5 10.94a1 1 0 0 0-1-.94h-1a1 1 0 0 0-1 1v1a1 1 0 0 0 .77.97 7.03 7.03 0 0 1 2.23-2.03Z",fill:"currentColor"}),T.createElement("path",{d:"M7 10a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H7Z",fill:"currentColor"}),T.createElement("path",{d:"M6 16a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-1Z",fill:"currentColor"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-4-2a1 1 0 1 0-2 0v2c0 .27.1.52.3.7l1.5 1.5a1 1 0 0 0 1.4-1.4L18 16.58V15Z",fill:"currentColor"}))}const hie=nt(die,"calendar_clock");function fie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M5 12.5c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 5 12.5Z",fill:"currentColor"}))}const pie=nt(fie,"checkbox_indeterminate");function gie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.41 7.3c.66.51.78 1.45.28 2.11l-6.5 8.5a1.5 1.5 0 0 1-2.37.01l-3.5-4.5a1.5 1.5 0 1 1 2.36-1.84L10 14.54l5.32-6.95a1.5 1.5 0 0 1 2.1-.28Z",fill:"currentColor"}))}const mie=nt(gie,"checkbox_tick");function yie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08 7.6a1.5 1.5 0 0 1 2.12 0l5.66 5.65 5.66-5.65a1.5 1.5 0 1 1 2.12 2.12l-6.72 6.72a1.5 1.5 0 0 1-2.12 0L4.08 9.72a1.5 1.5 0 0 1 0-2.12Z",fill:"currentColor"}))}const Uv=nt(yie,"chevron_down");function vie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.28 4.24a1.5 1.5 0 0 1 0 2.12l-5.66 5.66 5.66 5.65a1.5 1.5 0 1 1-2.12 2.13l-6.72-6.72a1.5 1.5 0 0 1 0-2.12l6.72-6.72a1.5 1.5 0 0 1 2.12 0Z",fill:"currentColor"}))}const P2=nt(vie,"chevron_left");function _ie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.44 19.8a1.5 1.5 0 0 1 0-2.13l5.66-5.65-5.66-5.66a1.5 1.5 0 1 1 2.12-2.12l6.72 6.72a1.5 1.5 0 0 1 0 2.12L9.56 19.8a1.5 1.5 0 0 1-2.12 0Z",fill:"currentColor"}))}const x2=nt(_ie,"chevron_right");function bie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.64 16.44a1.5 1.5 0 0 1-2.12 0l-5.66-5.66-5.66 5.66a1.5 1.5 0 1 1-2.12-2.12L10.8 7.6a1.5 1.5 0 0 1 2.12 0l6.72 6.72a1.5 1.5 0 0 1 0 2.12Z",fill:"currentColor"}))}const wie=nt(bie,"chevron_up");function Eie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.04-6.14a1.5 1.5 0 0 1-2.13.04l-2.87-2.78L9.26 17A1.5 1.5 0 0 1 7.1 14.9l2.78-2.87L7 9.26A1.5 1.5 0 1 1 9.1 7.1l2.87 2.78L14.74 7A1.5 1.5 0 0 1 16.9 9.1l-2.78 2.87L17 14.74c.6.58.61 1.53.04 2.12Z",fill:"currentColor"}))}const Ko=nt(Eie,"clear");function Sie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm1.5-16.5v4.88l3.56 3.56a1.5 1.5 0 0 1-2.12 2.12l-4-4A1.5 1.5 0 0 1 10.5 12V6.5a1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const R2=nt(Sie,"clock");function Cie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M17.66 19.78a1.5 1.5 0 0 0 2.12-2.12L14.12 12l5.66-5.66a1.5 1.5 0 0 0-2.12-2.12L12 9.88 6.34 4.22a1.5 1.5 0 1 0-2.12 2.12L9.88 12l-5.66 5.66a1.5 1.5 0 0 0 2.12 2.12L12 14.12l5.66 5.66Z",fill:"currentColor"}))}const Bv=nt(Cie,"close");function Tie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M7 4c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-1V8c0-2-1-3-3-3H7V4Z",fill:"currentColor"}),T.createElement("path",{d:"M5 7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H5Z",fill:"currentColor"}))}const Oie=nt(Tie,"copy");function Iie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.62 4.4c.5.53.5 1.38 0 1.91L7.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.33.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.62 4.4c.5.53.5 1.38 0 1.91L14.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.34.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}))}const Pie=nt(Iie,"double_chevron_left");function xie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.38 4.4c.51-.53 1.34-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L9.86 12 4.38 6.31a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.38 4.4c.51-.53 1.33-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L16.86 12l-5.48-5.69a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}))}const Rie=nt(xie,"double_chevron_right");function Aie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7 3.7a1 1 0 0 0-1.4-1.4L17.3 5.26A11.59 11.59 0 0 0 12 4C5 4 1 10 1 12c0 1.18 1.38 3.73 3.94 5.64L2.3 20.3a1 1 0 1 0 1.42 1.42l18-18ZM7.84 14.77l1.46-1.47a3 3 0 0 1 4-4l1.47-1.46a5 5 0 0 0-6.93 6.93Z",fill:"currentColor"}),T.createElement("path",{d:"M12 20c-1.22 0-2.35-.18-3.38-.5l2.57-2.57a5 5 0 0 0 5.75-5.75l3.56-3.56C22.13 9.27 23 11.07 23 12c0 2-4 8-11 8Z",fill:"currentColor"}))}const Die=nt(Aie,"eye_closed_solid");function kie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12s4 8 11 8 11-6 11-8-4-8-11-8Zm5 8a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-5 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",fill:"currentColor"}))}const Nie=nt(kie,"eye_opened");function $ie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a1 1 0 0 0-1-1H6a2 2 0 0 0-2 2v18c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V10a1 1 0 0 0-1-1h-5a2 2 0 0 1-2-2V2ZM7 8a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H8a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm1 4a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2H8Zm11.07-9.5H14.5a1 1 0 0 1-1-1V1.93a.8.8 0 0 1 1.37-.56l4.76 4.76a.8.8 0 0 1-.56 1.37Z",fill:"currentColor"}))}const dE=nt($ie,"file");function Lie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M5 2a3 3 0 0 0-3 3v3h20c0-2-1-4-3-4h-6.45a3 3 0 0 1-1.87-.66l-1.13-.9A2 2 0 0 0 8.3 2H5Z",fill:"currentColor"}),T.createElement("path",{d:"M22 10H2v9a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-9Z",fill:"currentColor"}))}const Mie=nt(Lie,"folder");function Fie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h3.3a2 2 0 0 1 1.25.44l1.13.9a3 3 0 0 0 1.87.66H18c2 0 3 2 3 4H7.53A2 2 0 0 0 5.6 9.48L2.57 20.76C2.21 20.26 2 19.66 2 19V5Zm20.17 5H9.5a2 2 0 0 0-1.92 1.44l-2.7 9.28A1 1 0 0 0 5.82 22H18.5a2 2 0 0 0 1.92-1.44l2.7-9.28a1 1 0 0 0-.95-1.28Z",fill:"currentColor"}))}const jie=nt(Fie,"folder_open");function Vie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M9 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),T.createElement("path",{d:"M9 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),T.createElement("path",{d:"M11 19a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),T.createElement("path",{d:"M15 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),T.createElement("path",{d:"M17 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),T.createElement("path",{d:"M15 21a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}))}const Uie=nt(Vie,"handle");function Bie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm-.17-8.4c-.86 0-1.3-.53-1.3-1.23 0-1.05.53-1.72 1.74-2.64l.06-.05c.83-.62 1.4-1.06 1.4-1.85 0-.9-.83-1.4-1.76-1.4-.76 0-1.34.28-1.8.87-.33.34-.6.53-1.05.53C8.38 8.83 8 8.3 8 7.7c0-.6.34-1.22.88-1.68A5.15 5.15 0 0 1 12.28 5c2.71 0 4.62 1.34 4.62 3.64 0 1.68-1 2.5-2.2 3.31-.8.59-1.17.93-1.48 1.62-.33.6-.58 1.04-1.4 1.04Zm-.02 4.17c-.94 0-1.71-.6-1.71-1.54 0-.94.77-1.55 1.7-1.55.95 0 1.7.6 1.7 1.55 0 .93-.75 1.54-1.7 1.54Z",fill:"currentColor"}))}const Hie=nt(Bie,"help_circle");function zie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm2-16a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-5 3.75c0-.41.34-.75.75-.75h2.75a1 1 0 0 1 1 1v5.5h.75a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h.75v-5h-.75a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}const A2=nt(zie,"info_circle");function Kie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))}const Wie=nt(Kie,"radio");function Gie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 12a7.5 7.5 0 0 1 13.8-4.07l-2-.4a1.5 1.5 0 0 0-.6 2.94l5 1c.76.15 1.51-.3 1.74-1.04l1.5-5a1.5 1.5 0 1 0-2.88-.86l-.43 1.45A10.49 10.49 0 0 0 1.5 12a10.5 10.5 0 0 0 20.4 3.5 1.5 1.5 0 1 0-2.83-1A7.5 7.5 0 0 1 4.5 12Z",fill:"currentColor"}))}const Yie=nt(Gie,"refresh");function qie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2a8.5 8.5 0 1 0 4.86 15.48l4.08 4.08a1.5 1.5 0 1 0 2.12-2.12l-4.08-4.08A8.5 8.5 0 0 0 10.5 2ZM5 10.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0Z",fill:"currentColor"}))}const D2=nt(qie,"search");function Xie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M10.75 1.9c.4-1.2 2.1-1.2 2.5 0l1.99 6.12h6.45a1.3 1.3 0 0 1 .77 2.37l-5.22 3.78 2 6.11c.39 1.2-1 2.2-2.02 1.46L12 17.96l-5.22 3.78c-1.02.75-2.4-.25-2.01-1.46l1.99-6.11-5.22-3.78a1.3 1.3 0 0 1 .77-2.37h6.45l2-6.12Z",fill:"currentColor"}))}const Qie=nt(Xie,"star");function Zie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.35 4.27c.68.47.86 1.4.38 2.08l-10 14.5a1.5 1.5 0 0 1-2.33.17l-6.5-7a1.5 1.5 0 0 1 2.2-2.04l5.23 5.63 8.94-12.96a1.5 1.5 0 0 1 2.08-.38Z",fill:"currentColor"}))}const Hv=nt(Zie,"tick");function Jie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.88-13.18-6.2 7.6a1.5 1.5 0 0 1-2.37 0l-3.5-4a1.5 1.5 0 1 1 2.37-1.84l2.3 2.46L15.5 8a1.5 1.5 0 1 1 2.38 1.82Z",fill:"currentColor"}))}const k2=nt(Jie,"tick_circle");function eae(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"m20.56 9.66-7.8 8.97a1 1 0 0 1-1.51 0L3.44 9.66A1 1 0 0 1 4.19 8h15.62a1 1 0 0 1 .75 1.66Z",fill:"currentColor"}))}const tae=nt(eae,"tree_triangle_down");function nae(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.84 8.06A6.5 6.5 0 1 0 5.18 11 4.5 4.5 0 0 0 5.5 20H17a6 6 0 0 0 .84-11.94Zm-5.52.2a.5.5 0 0 0-.64 0l-5.15 4.3a.25.25 0 0 0 .16.44H10v4.5c0 .28.22.5.5.5h3a.5.5 0 0 0 .5-.5V13h3.31c.23 0 .34-.3.16-.44l-5.15-4.3Z",fill:"currentColor"}))}const rae=nt(nae,"upload"),Nn={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,UP:38,DOWN:40},Y1="Enter",N2="Escape";function $s(n){return K(n,"key")===Y1}const Hb=$v.PREFIX;class q1 extends g.PureComponent{constructor(e){super(e),this.copy=t=>{const{content:r,duration:s,onCopy:i}=this.props,a=dne(r);i&&i(t,r,a),this.setCopied(r,s)},this.setCopied=(t,r)=>{this.setState({copied:!0,item:t}),this._timeId=setTimeout(()=>{this.resetCopied()},r*1e3)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:t}=this.props;return typeof t<"u"?t:g.createElement(dn,{componentName:"Typography"},r=>g.createElement("span",null,g.createElement(Hv,null),r.copied))},this.renderCopyIcon=()=>{const{icon:t}=this.props,r={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:i=>$s(i)&&this.copy(i)},s=g.createElement("a",{className:`${Hb}-action-copy-icon`},g.createElement(Oie,Object.assign({onClick:this.copy},r)));return g.isValidElement(t)?g.cloneElement(t,r):s},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:r,copyTip:s,render:i}=this.props,{copied:a}=this.state,o=R(t,{[`${Hb}-action-copy`]:!a,[`${Hb}-action-copied`]:a});return i?i(a,this.copy,this.props):g.createElement(dn,{componentName:"Typography"},l=>g.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:o,ref:r},a?this.renderSuccessTip():g.createElement(pr,{content:typeof s<"u"?s:l.copy},this.renderCopyIcon())))}}q1.propTypes={content:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node,duration:c.number,style:c.object,className:c.string,icon:c.node};q1.defaultProps={content:"",onCopy:mt,duration:3,style:{},className:""};const $2={PREFIX:`${Y}-popover`,ARROW:`${Y}-popover-icon-arrow`},Pl={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},as={ARROW_BOUNDING:Object.assign(Object.assign({},al.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030};var sae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const L2=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{position:e="",className:t,arrowStyle:r,popStyle:s}=n,i=sae(n,["position","className","arrowStyle","popStyle"]),a=e.indexOf("top")===0||e.indexOf("bottom")===0,o=R(t,$2.ARROW),l=K(r,"borderOpacity",Pl.DEFAULT_ARROW_STYLE.borderOpacity),u=K(r,"backgroundColor",K(s,"backgroundColor",Pl.DEFAULT_ARROW_STYLE.backgroundColor)),d=K(r,"borderColor",K(s,"borderColor",Pl.DEFAULT_ARROW_STYLE.borderColor)),h=Object.assign(Object.assign({},i),{width:as.ARROW_BOUNDING.width,height:as.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:o});return a?g.createElement("svg",Object.assign({},h),g.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:d,opacity:l}),g.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:u})):g.createElement("svg",Object.assign({},h),g.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:d,opacity:l}),g.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:u}))};L2.propTypes={position:c.string,className:c.string,arrowStyle:c.object,popStyle:c.object};var iae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const aae=Pl.POSITION_SET,oae=Pl.TRIGGER_SET;class vr extends g.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var t;(t=this.tooltipRef.current)===null||t===void 0||t.focusTrigger()},this.renderPopCard=t=>{let{initialFocusRef:r}=t;const{content:s,contentClassName:i,prefixCls:a}=this.props,{direction:o}=this.context,l=R(a,i,{[`${a}-rtl`]:o==="rtl"}),u=this.renderContentNode({initialFocusRef:r,content:s});return g.createElement("div",{className:l},g.createElement("div",{className:`${a}-content`},u))},this.renderContentNode=t=>{const{initialFocusRef:r,content:s}=t,i={initialFocusRef:r};return Te(s)?s(i):s},this.tooltipRef=g.createRef()}render(){const e=this.props,{children:t,prefixCls:r,showArrow:s,arrowStyle:i={},arrowBounding:a,position:o,style:l,trigger:u}=e,d=iae(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:h}=this.props;const f={position:o,className:"",popStyle:l,arrowStyle:i},p=s?g.createElement(L2,Object.assign({},f)):!1;ct(h)&&(h=s?as.SPACING_WITH_ARROW:as.SPACING);const _=u==="click"||u==="custom"?"dialog":"tooltip";return g.createElement(pr,Object.assign({guardFocus:!0,ref:this.tooltipRef},d,{trigger:u,position:o,style:l,content:this.renderPopCard,prefixCls:r,spacing:h,showArrow:p,arrowBounding:a,role:_}),t)}}vr.contextType=Nr;vr.propTypes={children:c.node,content:c.oneOfType([c.node,c.func]),visible:c.bool,autoAdjustOverflow:c.bool,motion:c.bool,position:c.oneOf(aae),margin:c.oneOfType([c.number,c.object]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(oae).isRequired,contentClassName:c.oneOfType([c.string,c.array]),onVisibleChange:c.func,onClickOutSide:c.func,style:c.object,spacing:c.oneOfType([c.number,c.object]),zIndex:c.number,showArrow:c.bool,arrowStyle:c.shape({borderColor:c.string,backgroundColor:c.string,borderOpacity:c.oneOfType([c.string,c.number])}),arrowPointAtCenter:c.bool,arrowBounding:c.object,prefixCls:c.string,guardFocus:c.bool,disableArrowKeyDown:c.bool};vr.__SemiComponentName__="Popover";vr.defaultProps=hs(vr.__SemiComponentName__,{arrowBounding:as.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:as.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:$2.PREFIX,onClickOutSide:k,onEscKeyDown:k,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});let Lt;function zb(n){if(!n)return 0;const e=n.match(/^\d*(\.\d*)?/);return e?Number(e[0]):0}function lae(n){return Array.prototype.slice.apply(n).map(t=>`${t}: ${n.getPropertyValue(t)};`).join("")}const uae=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,o=arguments.length>7?arguments[7]:void 0;if(t.length===0)return"";Lt||(Lt=document.createElement("div"),Lt.setAttribute("aria-hidden","true"),document.body.appendChild(Lt));const l=window.getComputedStyle(n),u=lae(l),d=zb(l.lineHeight),h=Math.round(d*(e+1)+zb(l.paddingTop)+zb(l.paddingBottom));Lt.setAttribute("style",u),Lt.style.position="fixed",Lt.style.left="0",l.getPropertyValue("width")==="auto"&&(Lt.style.width=`${n.offsetWidth}px`),Lt.style.height="auto",Lt.style.top="-999999px",Lt.style.zIndex="-1000",o&&(Lt.style.fontWeight="600"),Lt.style.textOverflow="clip",Lt.style.webkitLineClamp="none",xr.render(g.createElement(g.Fragment,null),Lt);function f(){const b=Lt.scrollWidth<=Lt.offsetWidth,E=Lt.scrollHeight<h;return e===1?b&&E:E}const p=document.createElement("span"),_=document.createTextNode(t);if(p.appendChild(_),i.length>0){const b=document.createTextNode(i);p.appendChild(b)}Lt.appendChild(p),Object.values(zo(r,"expand")).map(b=>b&&Lt.appendChild(b.cloneNode(!0)));function y(){Lt.innerHTML="",Lt.appendChild(p),Object.values(r).map(b=>b&&Lt.appendChild(b.cloneNode(!0)))}function v(b,E){const S=b.length;return E?a==="end"?b.slice(0,E)+s:b.slice(0,E)+s+b.slice(S-E,S):s}function m(b,E){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E.length,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const I=Math.floor((S+C)/2),P=v(E,I);if(b.textContent=P,S>=C-1&&C>0)for(let x=C;x>=S;x-=1){const D=v(E,x);if(b.textContent=D,f())return D}else if(C===0)return s;return f()?m(b,E,I,C,I):m(b,E,S,I,O)}let w=t;return f()||(y(),w=m(_,t,0,a==="middle"?Math.floor(t.length/2):t.length)),Lt.innerHTML="",w},M2=g.createContext("normal");var yy;(function(n){n.Width="width",n.Height="height",n.All="all"})(yy||(yy={}));class To extends we{constructor(e){var t;super(e),t=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return Os.findDOMNode(this.childNode||this)}catch{return null}},this.handleResizeEventTriggered=r=>{var s,i,a,o;if(this.props.observerProperty===yy.All)(i=(s=this.props).onResize)===null||i===void 0||i.call(s,r);else{const l=[];for(const u of r)this.formerPropertyValue.has(u.target)?u.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(u.target)&&(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u)):(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u));l.length>0&&((o=(a=this.props).onResize)===null||o===void 0||o.call(a,l))}},this.observeElement=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const s=t.getElement();if(t.observer||(t.observer=new ResizeObserver(t.handleResizeEventTriggered)),!(s&&s instanceof Element)){t.observer.disconnect();return}s===t.element&&!r||(t.observer.disconnect(),t.element=s,t.observer.observe(s),t.props.observeParent&&s.parentNode&&s.parentNode.ownerDocument&&s.parentNode.ownerDocument.defaultView&&s.parentNode instanceof s.parentNode.ownerDocument.defaultView.HTMLElement&&(t._parentNode=s.parentNode,t.observer.observe(t._parentNode)))},this.mergeRef=(r,s)=>{this.childNode=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;(e=this.observeElement)===null||e===void 0||e.call(this)}componentDidUpdate(e){var t;(t=this.observeElement)===null||t===void 0||t.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){const e=g.Children.only(this.props.children),{ref:t}=e;return g.cloneElement(e,{ref:r=>this.mergeRef(t,r)})}}To.propTypes={onResize:c.func,observeParent:c.bool,observerProperty:c.string,delayTick:c.number};To.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0};var Kb=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})},cae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Rn=$v.PREFIX,dae="...",hae=(n,e)=>{const{mark:t,code:r,underline:s,strong:i,link:a,disabled:o}=n;let l=e;const u=(d,h)=>{let f={};d&&(typeof d=="object"&&(f=Object.assign({},d)),l=g.createElement(h,f,l))};return u(t,"mark"),u(r,"code"),u(s&&!a,"u"),u(i,"strong"),u(n.delete,"del"),u(a,o?"span":"a"),l};class du extends T.Component{constructor(e){super(e),this.observerTakingEffect=!1,this.onResize=t=>Kb(this,void 0,void 0,function*(){return this.rafId&&window.cancelAnimationFrame(this.rafId),new Promise(r=>{this.rafId=window.requestAnimationFrame(()=>Kb(this,void 0,void 0,function*(){yield this.getEllipsisState(),r()}))})}),this.canUseCSSEllipsis=()=>{const{copyable:t}=this.props,{expandable:r,expandText:s,pos:i,suffix:a}=this.getEllipsisOpt();return!r&&dt(s)&&!t&&i==="end"&&!a.length},this.shouldTruncated=t=>!t||t<1?!1:t<=1?this.compareSingleRow():this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight,this.compareSingleRow=()=>{if(!(document&&document.createRange))return!1;const t=this.wrapperRef.current,r=t.getBoundingClientRect().width,s=Array.from(t.childNodes),i=document.createRange(),a=s.reduce((o,l)=>{var u;return i.selectNodeContents(l),o+((u=i.getBoundingClientRect().width)!==null&&u!==void 0?u:0)},0);return i.detach(),a>r},this.showTooltip=()=>{var t,r;const{isOverflowed:s,isTruncated:i,expanded:a}=this.state,{showTooltip:o,expandable:l,expandText:u}=this.getEllipsisOpt(),d=this.canUseCSSEllipsis(),h=!a&&(d?s:i),p=!l&&dt(u)&&h&&o;if(!p)return p;const _={type:"tooltip"};return typeof o=="object"?o.type&&o.type.toLowerCase()==="popover"?zq({opts:{showArrow:!0}},o,{opts:{className:R({[`${Rn}-ellipsis-popover`]:!0,[(t=o==null?void 0:o.opts)===null||t===void 0?void 0:t.className]:!!(!((r=o==null?void 0:o.opts)===null||r===void 0)&&r.className)})}}):Object.assign(Object.assign({},_),o):_},this.onHover=()=>{if(this.canUseCSSEllipsis()){const{rows:r,suffix:s,pos:i}=this.getEllipsisOpt(),a=this.shouldTruncated(r);this.setState({isOverflowed:a,isTruncated:!1});return}},this.getEllipsisState=()=>Kb(this,void 0,void 0,function*(){const{rows:t,suffix:r,pos:s}=this.getEllipsisOpt(),{children:i,strong:a}=this.props;if(!this.wrapperRef||!this.wrapperRef.current){yield this.onResize();return}const{expanded:o}=this.state;if(this.canUseCSSEllipsis())return;if(Bl(i))return new Promise(f=>{this.setState({isTruncated:!1,isOverflowed:!1},f)});if(Nt("children"in this.props&&typeof i!="string","[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!t||t<0||o)return;const u={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},d=Array.isArray(i)?i.join(""):String(i),h=uae(this.wrapperRef.current,t,d,u,dae,r,s,a);return new Promise(f=>{this.setState({isOverflowed:!1,ellipsisContent:h,isTruncated:d!==h},f)})}),this.toggleOverflow=t=>{const{onExpand:r,expandable:s,collapsible:i}=this.getEllipsisOpt(),{expanded:a}=this.state;r&&r(!a,t),(s&&!a||i&&a)&&this.setState({expanded:!a})},this.getEllipsisOpt=()=>{const{ellipsis:t}=this.props;return t?Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:t.expandable?this.expandStr:void 0,collapseText:t.collapsible?this.collapseStr:void 0},typeof t=="object"?t:null):{}},this.renderExpandable=()=>{const{expanded:t,isTruncated:r}=this.state;if(!r)return null;const{expandText:s,expandable:i,collapseText:a,collapsible:o}=this.getEllipsisOpt(),l=!i&&dt(s),u=!o&&dt(a);let d;return!t&&!l?d=s:t&&!u&&(d=a),!l||!u?g.createElement("a",{role:"button",tabIndex:0,className:`${Rn}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":d,onClick:this.toggleOverflow,onKeyPress:h=>$s(h)&&this.toggleOverflow(h)},d):null},this.getEllipsisStyle=()=>{const{ellipsis:t,component:r}=this.props;if(!t)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:s}=this.getEllipsisOpt(),{expanded:i}=this.state,a=!i&&this.canUseCSSEllipsis(),o=R({[`${Rn}-ellipsis`]:!0,[`${Rn}-ellipsis-single-line`]:s===1,[`${Rn}-ellipsis-multiple-line`]:s>1,[`${Rn}-ellipsis-multiple-line-text`]:s>1&&r==="span",[`${Rn}-ellipsis-overflow-ellipsis`]:s===1&&a,[`${Rn}-ellipsis-overflow-ellipsis-text`]:s===1&&a&&r==="span"}),l=a&&s>1?{WebkitLineClamp:s}:{};return{ellipsisCls:o,ellipsisStyle:l}},this.renderEllipsisText=t=>{const{suffix:r}=t,{children:s}=this.props,{isTruncated:i,expanded:a,ellipsisContent:o}=this.state;return a||!i?g.createElement("span",{onMouseEnter:this.onHover},s,r&&r.length?r:null):g.createElement("span",{onMouseEnter:this.onHover},o,r)},this.state={editable:!1,copied:!1,isOverflowed:!1,ellipsisContent:e.children,expanded:!1,isTruncated:!1,prevChildren:null},this.wrapperRef=g.createRef(),this.expandRef=g.createRef(),this.copyRef=g.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize().then(()=>F1(()=>this.observerTakingEffect=!0,1))}static getDerivedStateFromProps(e,t){const{prevChildren:r}=t,s={};return s.prevChildren=e.children,e.ellipsis&&r!==e.children&&(s.isOverflowed=!1,s.ellipsisContent=e.children,s.expanded=!1,s.isTruncated=!0),s}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}renderOperations(){return g.createElement(g.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:r}=this.props;if(!t)return null;const s=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:r;let i,a=!1;Array.isArray(s)?(i="",s.forEach(l=>{typeof l=="object"&&(a=!0),i+=String(l)})):(typeof s!="object"||(a=!0),i=String(s)),Nt(a,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const o=Object.assign({content:i,duration:3},typeof t=="object"?t:null);return g.createElement(q1,Object.assign({},o,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props,r=t==="inherit"?this.context:t;if(!e)return null;const s=r==="small"?"small":"default";return g.createElement("span",{className:`${Rn}-icon`,"x-semi-prop":"icon"},hr(e)?g.cloneElement(e,{size:s}):e)}renderContent(){const e=this.props,{component:t,children:r,className:s,type:i,spacing:a,disabled:o,style:l,ellipsis:u,icon:d,size:h,link:f,heading:p,weight:_}=e,y=cae(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),v=zo(y,["strong","editable","mark","copyable","underline","code","delete"]),m=h==="inherit"?this.context:h,w=this.renderIcon(),b=this.getEllipsisOpt(),{ellipsisCls:E,ellipsisStyle:S}=this.getEllipsisStyle();let C=u?this.renderEllipsisText(b):r;const O=R({[`${Rn}-link-text`]:f,[`${Rn}-link-underline`]:this.props.underline&&f});C=hae(this.props,g.createElement(g.Fragment,null,w,this.props.link?g.createElement("span",{className:O},C):C));const I=/^h[1-6]$/,P=Oe(p)&&I.test(p),x=R(s,E,{[`${Rn}-${i}`]:i&&!f,[`${Rn}-${m}`]:m,[`${Rn}-link`]:f,[`${Rn}-disabled`]:o,[`${Rn}-${a}`]:a,[`${Rn}-${p}`]:P,[`${Rn}-${p}-weight-${_}`]:P&&_&&isNaN(Number(_))}),D=Object.assign(Object.assign({},isNaN(Number(_))?{}:{fontWeight:_}),l);return g.createElement(Lv,Object.assign({className:x,style:Object.assign(Object.assign({},D),S),component:t,forwardRef:this.wrapperRef},v),C,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),r=this.renderContent();if(t){const{type:s,opts:i,renderTooltip:a}=t;return Te(a)?a(e,r):s.toLowerCase()==="popover"?g.createElement(vr,Object.assign({content:e,position:"top"},i),r):g.createElement(pr,Object.assign({content:e,position:"top"},i),r)}else return r}render(){var e=this;const{size:t}=this.props,r=t==="inherit"?this.context:t,s=g.createElement(M2.Provider,{value:r},g.createElement(dn,{componentName:"Typography"},i=>(this.expandStr=i.expand,this.collapseStr=i.collapse,this.renderTipWrapper())));return this.props.ellipsis?g.createElement(To,{onResize:function(){e.observerTakingEffect&&e.onResize(...arguments)},observeParent:!0,observerProperty:yy.Width},s):s}}du.propTypes={children:c.node,copyable:c.oneOfType([c.shape({text:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node}),c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.shape({rows:c.number,expandable:c.bool,expandText:c.string,onExpand:c.func,suffix:c.string,showTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),collapsible:c.bool,collapseText:c.string,pos:c.oneOf(["end","middle"])}),c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),spacing:c.oneOf(fr.SPACING),strong:c.bool,size:c.oneOf(fr.SIZE),type:c.oneOf(fr.TYPE),style:c.object,className:c.string,icon:c.oneOfType([c.node,c.string]),heading:c.string,component:c.string};du.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""};du.contextType=M2;let zv=class extends T.PureComponent{render(){return g.createElement(du,Object.assign({component:"span"},this.props))}};zv.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(fr.TYPE),size:c.oneOf(fr.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string,weight:c.number};zv.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};var fae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let X1=class extends T.PureComponent{render(){const e=this.props,{heading:t}=e,r=fae(e,["heading"]),s=fr.HEADING.indexOf(t)!==-1?`h${t}`:"h1";return g.createElement(du,Object.assign({component:s,heading:s},r))}};X1.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(fr.TYPE),heading:c.oneOf(fr.HEADING),style:c.object,className:c.string,component:c.string,weight:c.oneOfType([c.oneOf(fr.WEIGHT),c.number])};X1.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};const pae=$v.PREFIX;class Kv extends T.PureComponent{render(){const{className:e}=this.props,t=R(e,`${pae}-paragraph`);return g.createElement(du,Object.assign({component:"p"},this.props,{className:t}))}}Kv.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(fr.TYPE),size:c.oneOf(fr.SIZE),spacing:c.oneOf(fr.SPACING),style:c.object,className:c.string,component:c.string};Kv.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};class gae{constructor(e,t,r,s,i){this.ruleMethods={"bytes-decimal":a=>{const o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let l=0;for(;a>=1e3;)a/=1e3,l++;return`${this.truncatePrecision(a)} ${o[l]}`},"bytes-binary":a=>{const o=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let l=0;for(;a>=1024;)a/=1024,l++;return`${this.truncatePrecision(a)} ${o[l]}`},percentages:a=>`${this.truncatePrecision(a*100)}%`,exponential:a=>{const l=a.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(l[0]))}e${l[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=typeof i<"u",this.content=e,this.rule=t,this.precision=r,this.truncate=s,this.parser=i}format(){return this.isDiyParser?this.parser(this.content):this.rule==="text"?Wb(this.content).map(e=>Gb(e)?this.truncatePrecision(e):e).join(""):this.rule==="numbers"?Wb(this.content).filter(e=>Gb(e)).map(e=>this.truncatePrecision(e)).join(","):Wb(this.content).map(e=>Gb(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=t.toString().split(".");if(r.length===1)return t.toFixed(this.precision);const s=r[1].length;return s<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-s)}`:t.toString()}}function Wb(n){const e=/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g;return n.match(e)||[]}function Gb(n){return!(isNaN(Number(n))||n.replace(/\s+/g,"")==="")}class Q1 extends T.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),e=e.map(t=>typeof t=="string"||typeof t=="number"?new gae(String(t),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():typeof t=="function"?this.formatNodeDFS(t()):typeof t=="object"&&"children"in t.props?Object.assign(Object.assign({},t),{props:Object.assign(Object.assign({},t.props),{children:this.formatNodeDFS(t.props.children)})}):t),e.length===1?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),g.createElement(du,Object.assign({component:"span"},e))}}Q1.propTypes={rule:c.oneOf(fr.RULE),precision:c.number,truncate:c.oneOf(fr.TRUNCATE),parser:c.func,copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(fr.TYPE),size:c.oneOf(fr.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string};Q1.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const $r=Lv;$r.Text=zv;$r.Title=X1;$r.Paragraph=Kv;$r.Numeral=Q1;const F2={PREFIX:`${Y}-autocomplete`,PREFIX_OPTION:`${Y}-autocomplete-option`},Z1={SIZE:["small","large","default"],POSITION:Il.POSITION_SET,STATUS:hd};var mae=di,yae=qr,vae="[object Number]";function _ae(n){return typeof n=="number"||yae(n)&&mae(n)==vae}var j2=_ae;const jt=ge(j2);class bae extends Pe{constructor(e){super(Object.assign({},e)),this.isPanelOpen=!1}init(){this._setDropdownWidth();const{defaultOpen:e,data:t,defaultValue:r,value:s}=this.getProps();if(t&&t.length){const a=this._generateList(t);this._adapter.updateOptionList(a)}e&&this.openDropdown();let i;typeof r<"u"&&(i=r),typeof s<"u"&&(i=s),typeof i<"u"&&this.handleValueChange(i)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&jt(e.width)||e&&Oe(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}handleInputClick(e){const{options:t}=this.getStates(),{disabled:r}=this.getProps();r||(this.isPanelOpen?this.closeDropdown():this.openDropdown())}openDropdown(){this.isPanelOpen=!0,this._adapter.toggleListVisible(!0),this._setDropdownWidth(),this._adapter.registerClickOutsideHandler(e=>this.closeDropdown(e)),this._adapter.notifyDropdownVisibleChange(!0),this._modifyFocusIndexOnPanelOpen()}closeDropdown(e){this.isPanelOpen=!1,this._adapter.toggleListVisible(!1),this._adapter.unregisterClickOutsideHandler(),this._adapter.notifyDropdownVisibleChange(!1)}_generateList(e){const{renderItem:t}=this.getProps(),r=[];return e&&e.length&&e.forEach((s,i)=>{const a=String(new Date().getTime())+i;let o={};Oe(s)||jt(s)?o={value:s,key:a,label:s,show:!0}:Ia(s)&&!dt(s.value)&&(o=Object.assign({show:!0},s)),t&&typeof t=="function"&&(o.label=t(s)),r.push(o)}),r}handleSearch(e){this._adapter.updateInputValue(e),this._adapter.notifySearch(e),this._adapter.notifyChange(e),this._modifyFocusIndex(e),this.isPanelOpen||this.openDropdown()}handleSelect(e,t){const{renderSelectedItem:r}=this.getProps();let s="";r&&typeof r=="function"?(s=r(e),Nt(typeof s!="string","Warning: [Semi AutoComplete] renderSelectedItem must return string, please check your function return")):s=e.value,this._isControlledComponent()?(this.closeDropdown(),this.notifySelect(e)):(this._adapter.updateInputValue(s),this.updateSelection(e),this.notifySelect(e),this.closeDropdown()),this._adapter.notifyChange(s),this._adapter.updateFocusIndex(t)}updateSelection(e){const t=new Map;e&&t.set(e.label,e),this._adapter.updateSelection(t)}notifySelect(e){this._backwardLabelInValue()?this._adapter.notifySelect(e):this._adapter.notifySelect(e.value)}_backwardLabelInValue(){const e=this.getProps();let{onSelectWithObject:t}=e;return t}handleDataChange(e){const t=this._generateList(e);this._adapter.updateOptionList(t),this._adapter.rePositionDropdown()}handleValueChange(e){let{data:t,defaultActiveFirstOption:r}=this.getProps(),s="";this._backwardLabelInValue()&&Object.prototype.toString.call(e)==="[object Object]"?s=e.value:s=e;let i=this._getRenderSelectedItem();const a=this._generateList(t);let o=a.length?a.filter(h=>i(h)===s):[];const l=o.length,u=a.findIndex(h=>i(h)===s);let d="";if(l)o=o[0],d=i(o);else{const h=this._backwardLabelInValue()?e:{label:s,value:s};d=i(h)}this._adapter.updateInputValue(d),this.updateSelection(l?o:null),u===-1&&r?this._adapter.updateFocusIndex(0):this._adapter.updateFocusIndex(u)}_modifyFocusIndex(e){let{focusIndex:t}=this.getStates(),{data:r,defaultActiveFirstOption:s}=this.getProps(),i=-1;if(e){let a=this._getRenderSelectedItem();i=this._generateList(r).findIndex(l=>a(l)===e)}i===-1&&s?t!==0&&this._adapter.updateFocusIndex(0):i!==t&&this._adapter.updateFocusIndex(i)}_modifyFocusIndexOnPanelOpen(){let{inputValue:e}=this.getStates();this._modifyFocusIndex(e)}_getRenderSelectedItem(){let{renderSelectedItem:e}=this.getProps();return typeof e>"u"&&(e=t=>t==null?void 0:t.value),e}handleClear(){this._adapter.notifyClear()}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}_handleKeyDown(e){const t=e.keyCode,{visible:r}=this.getStates();switch(t){case Nn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Nn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Nn.ENTER:e.preventDefault(),this._handleEnterKeyDown();break;case Nn.ESC:this.closeDropdown();break;case Nn.TAB:this.closeDropdown();break}this._adapter.notifyKeyDown(e)}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(o=>o.show),i=s.length;let a=t+e;if(a<0&&(a=i-1),a>=i&&(a=0),e>0){let o=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){const{visible:t}=this.getStates();t?this._getEnableFocusIndex(e):this.openDropdown()}_handleEnterKeyDown(){const{visible:e,options:t,focusIndex:r}=this.getStates();if(!e)this.openDropdown();else if(r!==void 0&&r!==-1&&t.length!==0){const i=t.filter(a=>a.show)[r];this.handleSelect(i,r)}else this.closeDropdown()}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleFocus(e){this.bindKeyBoardEvent(),this._adapter.notifyFocus(e)}handleBlur(e){this._persistEvent(e),this._adapter.notifyBlur(e)}}const wae=`${Y}-spin`,Eae={PREFIX:wae},Sae={SIZE:["small","middle","large"]};class J1 extends Pe{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},J1.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:r}=this._adapter.getStates();if(r){const s=this;this._timer=setTimeout(()=>{s._adapter.setState({loading:e,delay:0})},t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var Cae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let eR=-1;function V2(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:e,className:t}=n,r=Cae(n,["id","className"]);let s=e;ct(s)&&(eR++,s=eR);const i=`linearGradient-${s}`;return g.createElement("svg",Object.assign({},r,{className:t,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),g.createElement("defs",null,g.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:i},g.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),g.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),g.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),g.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),g.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${i})`,strokeWidth:"4",strokeLinecap:"round"})))}var Tae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const el=Eae.PREFIX;class qi extends we{constructor(e){super(e),this.foundation=new J1(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?e.spinning===!1?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:r}=this.state;return r?g.createElement("div",{className:`${el}-wrapper`},e?g.createElement("div",{className:`${el}-animate`,"x-semi-prop":"indicator"},e):g.createElement(V2,null),t?g.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:r,wrapperClassName:s,childStyle:i,size:a}=e,o=Tae(e,["children","style","wrapperClassName","childStyle","size"]),{loading:l}=this.state,u=R(el,s,{[`${el}-${a}`]:a,[`${el}-block`]:t,[`${el}-hidden`]:!l});return g.createElement("div",Object.assign({className:u,style:r},this.getDataAttr(o)),this.renderSpin(),g.createElement("div",{className:`${el}-children`,style:i,"x-semi-prop":"children"},t))}}qi.propTypes={size:c.oneOf(Sae.SIZE),spinning:c.bool,children:c.node,indicator:c.node,delay:c.number,tip:c.node,wrapperClassName:c.string,childStyle:c.object,style:c.object};qi.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};const Wv={PREFIX:`${Y}-input`},Wo={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},Oae={};function U2(n){const{value:e,maxLength:t,getValueLength:r}=n;if(Te(r)){let s=0,i=e.length;for(;s<i;){const a=s+Math.floor((i-s)/2),o=e.slice(0,a+1);r(o)>t?i=a:s=a+1}return e.slice(0,s)}else return e.slice(0,t)}let Iae=class B2 extends Pe{static get inputDefaultAdapter(){return{notifyChange:k,setValue:k}}constructor(e){super(Object.assign(Object.assign({},B2.inputDefaultAdapter),e))}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}setValue(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let a=e;r&&Te(i)&&(a=this.handleVisibleMaxLength(e)),s&&Te(i)&&this.handleVisibleMinLength(a),this._isControlledComponent()?this._adapter.notifyChange(a,t):(this._adapter.setValue(a),this._adapter.notifyChange(a,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(jt(t)&&t>=0&&Te(r)&&Oe(e)){const i=r(e);if(i<t){const a=e.length+(t-i);a!==s&&this._adapter.setMinLength(a)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();return jt(t)&&t>=0&&Te(r)&&Oe(e)&&r(e)>t?(console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)):e}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return U2({value:e,maxLength:t,getValueLength:r})}handleClear(e){let t=e;const r="";this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),(!t||typeof t!="object")&&(t={}),mc(t,Wo.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange(r,t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){e==="password"?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),r=this._adapter.getState("eyeClosed");return t==="password"?r?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===Y1&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:r}=this._adapter.getStates(),{showClear:s,disabled:i,showClearIgnoreDisabled:a}=this._adapter.getProps();return e&&s&&(!i||a)&&(t||r)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&Te(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(e==null?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}};var Pae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Qe=Wv.PREFIX,xae=Wo.SIZE,Rae=Wo.STATUS,Aae=Wo.MODE;class eT extends we{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.handleClick=r=>{this.foundation.handleClick(r)},this.handleMouseOver=r=>{this.setState({isHovering:!0})},this.handleMouseLeave=r=>{this.setState({isHovering:!1})},this.handleModeChange=r=>{this.foundation.handleModeChange(r)},this.handleClickEye=r=>{this.foundation.handleClickEye(r)},this.handleMouseDown=r=>{this.foundation.handleMouseDown(r)},this.handleMouseUp=r=>{this.foundation.handleMouseUp(r)},this.handleModeEnterPress=r=>{this.foundation.handleModeEnterPress(r)},this.handleClickPrefixOrSuffix=r=>{this.foundation.handleClickPrefixOrSuffix(r)},this.handlePreventMouseDown=r=>{this.foundation.handlePreventMouseDown(r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,cachedValue:e.value,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:e.mode==="password",minLength:e.minLength},this.inputRef=g.createRef(),this.prefixRef=g.createRef(),this.suffixRef=g.createRef(),this.foundation=new Iae(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&(t||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:r})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=R({[`${Qe}-prepend`]:!0,[`${Qe}-prepend-text`]:e&&Oe(e),[`${Qe}-prepend-icon`]:hr(e)});return g.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=R({[`${Qe}-append`]:!0,[`${Qe}-append-text`]:e&&Oe(e),[`${Qe}-append-icon`]:hr(e)});return g.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=R(`${Qe}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?g.createElement("div",{className:e,onMouseDown:this.handleClear},t||g.createElement(Ko,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:r}=this.props,s=R(`${Qe}-modebtn`),i=e?g.createElement(Die,null):g.createElement(Nie,null),a=t==="password"&&!r,o=e?"Show password":"Hidden password";return a?g.createElement("div",{role:"button",tabIndex:0,"aria-label":o,className:s,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},i):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(!s)return null;const i=R({[`${Qe}-prefix`]:!0,[`${Qe}-inset-label`]:t,[`${Qe}-prefix-text`]:s&&Oe(s),[`${Qe}-prefix-icon`]:hr(s)});return g.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSuffix(e){const{suffix:t,hideSuffix:r}=this.props;if(!t)return null;const s=R({[`${Qe}-suffix`]:!0,[`${Qe}-suffix-text`]:t&&Oe(t),[`${Qe}-suffix-icon`]:hr(t),[`${Qe}-suffix-hidden`]:e&&!!r});return g.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!dt(e)){if(typeof e=="function")return t=>{e(t),this.inputRef={current:t}};if(Object.prototype.toString.call(e)==="[object Object]")return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:r,autoFocus:s,clearIcon:i,className:a,disabled:o,defaultValue:l,placeholder:u,prefix:d,mode:h,insetLabel:f,insetLabelId:p,validateStatus:_,type:y,readonly:v,size:m,suffix:w,style:b,showClear:E,onEnterPress:S,onClear:C,hideSuffix:O,inputStyle:I,forwardRef:P,maxLength:x,getValueLength:D,preventScroll:$,borderless:M,showClearIgnoreDisabled:V,onlyBorder:B}=e,F=Pae(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:W,isFocus:N,minLength:j}=this.state,L=this.foundation.isAllowClear(),te=hr(w),Q=this.getInputRef(),ie=`${Qe}-wrapper`,le=R(ie,a,{[`${Qe}-wrapper__with-prefix`]:d||f,[`${Qe}-wrapper__with-suffix`]:w,[`${Qe}-wrapper__with-suffix-hidden`]:L&&!!O,[`${Qe}-wrapper__with-suffix-icon`]:te,[`${Qe}-wrapper__with-append`]:r,[`${Qe}-wrapper__with-prepend`]:t,[`${Qe}-wrapper__with-append-only`]:r&&!t,[`${Qe}-wrapper__with-prepend-only`]:!r&&t,[`${ie}-readonly`]:v,[`${ie}-disabled`]:o,[`${ie}-warning`]:_==="warning",[`${ie}-error`]:_==="error",[`${ie}-focus`]:N,[`${ie}-clearable`]:E,[`${ie}-modebtn`]:h==="password",[`${ie}-hidden`]:y==="hidden",[`${ie}-${m}`]:m,[`${Qe}-borderless`]:M,[`${Qe}-only_border`]:B!=null}),Ee=R(Qe,{[`${Qe}-${m}`]:m,[`${Qe}-disabled`]:o,[`${Qe}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${Qe}-sibling-modebtn`]:h==="password"}),he=W??"",de=Object.assign(Object.assign({},F),{style:I,className:Ee,disabled:o,readOnly:v,type:this.foundation.handleInputType(y),placeholder:u,onInput:q=>this.foundation.handleInput(q),onChange:q=>this.foundation.handleChange(q.target.value,q),onFocus:q=>this.foundation.handleFocus(q),onBlur:q=>this.foundation.handleBlur(q),onKeyUp:q=>this.foundation.handleKeyUp(q),onKeyDown:q=>this.foundation.handleKeyDown(q),onKeyPress:q=>this.foundation.handleKeyPress(q),value:he});Te(D)||(de.maxLength=x),j&&(de.minLength=j),_==="error"&&(de["aria-invalid"]="true");let ue=Object.assign({},b);return B!==void 0&&(ue=Object.assign({borderWidth:B},b)),g.createElement("div",{className:le,style:ue,onMouseEnter:q=>this.handleMouseOver(q),onMouseLeave:q=>this.handleMouseLeave(q),onClick:q=>this.handleClick(q)},this.renderPrepend(),this.renderPrefix(),g.createElement("input",Object.assign({},de,{ref:Q})),this.renderClearBtn(),this.renderSuffix(L),this.renderModeBtn(),this.renderAppend())}}eT.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,addonBefore:c.node,addonAfter:c.node,clearIcon:c.node,prefix:c.node,suffix:c.node,mode:c.oneOf(Aae),value:c.any,defaultValue:c.any,disabled:c.bool,readonly:c.bool,autoFocus:c.bool,type:c.string,showClear:c.bool,hideSuffix:c.bool,placeholder:c.any,size:c.oneOf(xae),className:c.string,style:c.object,validateStatus:c.oneOf(Rae),onClear:c.func,onChange:c.func,onBlur:c.func,onFocus:c.func,onInput:c.func,onKeyDown:c.func,onKeyUp:c.func,onKeyPress:c.func,onEnterPress:c.func,insetLabel:c.node,insetLabelId:c.string,inputStyle:c.object,getValueLength:c.func,preventScroll:c.bool,borderless:c.bool};eT.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:k,onChange:k,onBlur:k,onFocus:k,onInput:k,onKeyDown:k,onKeyUp:k,onKeyPress:k,onEnterPress:k,validateStatus:"default",borderless:!1};const En=g.forwardRef((n,e)=>g.createElement(eT,Object.assign({},n,{forwardRef:e})));var Dae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class hu extends g.PureComponent{render(){const e=this.props,{triggerRender:t,componentName:r}=e,s=Dae(e,["triggerRender","componentName"]);return t(Object.assign({},s))}}hu.propTypes={triggerRender:c.func.isRequired,componentName:c.string,componentProps:c.object,value:c.any,inputValue:c.string,placeholder:c.oneOfType([c.string,c.array]),className:c.string,style:c.object};const kae={PREFIX:`${Y}-highlight`},Nae=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");class $ae extends Pe{constructor(e){super(Object.assign({},e)),this.findAll=t=>{let{autoEscape:r=!0,caseSensitive:s=!1,searchWords:i,sourceString:a}=t;Oe(i)&&(i=[i]);const o=this.findChunks({autoEscape:r,caseSensitive:s,searchWords:i,sourceString:a}),l=this.combineChunks({chunks:o});return this.fillInChunks({chunksToHighlight:l,totalLength:a?a.length:0})},this.findChunks=t=>{let{autoEscape:r,caseSensitive:s,searchWords:i,sourceString:a}=t;return i.map(o=>typeof o=="string"?{text:o}:o).filter(o=>o.text).reduce((o,l)=>{let u=l.text;r&&(u=Nae(u));const d=new RegExp(u,s?"g":"gi");let h;for(;h=d.exec(a);){const f=h.index,p=d.lastIndex;p>f&&o.push({highlight:!0,start:f,end:p,className:l.className,style:l.style}),h.index===d.lastIndex&&d.lastIndex++}return o},[])},this.combineChunks=t=>{let{chunks:r}=t;return r.sort((s,i)=>s.start-i.start).reduce((s,i)=>{if(s.length===0)return[i];{const a=s.pop();if(i.start<=a.end){const o=Math.max(a.end,i.end);s.push({highlight:!0,start:a.start,end:o,className:a.className||i.className,style:Object.assign(Object.assign({},a.style),i.style)})}else s.push(a,i);return s}},[])},this.fillInChunks=t=>{let{chunksToHighlight:r,totalLength:s}=t;const i=[],a=(o,l,u,d,h)=>{l-o>0&&i.push({start:o,end:l,highlight:u,className:d,style:h})};if(r.length===0)a(0,s,!1);else{let o=0;r.forEach(l=>{a(o,l.start,!1),a(l.start,l.end,!0,l.className,l.style),o=l.end}),a(o,s,!1)}return i}}}const Lae=kae.PREFIX;class mp extends T.PureComponent{constructor(){super(...arguments),this.getHighLightTextHTML=e=>{let{sourceString:t="",searchWords:r=[],option:s={autoEscape:!0,caseSensitive:!1}}=e;const i=new $ae().findAll(Object.assign({sourceString:t,searchWords:r},s)),a=s.highlightTag||"mark",o=s.highlightClassName||"",l=s.highlightStyle||{};return i.map((u,d)=>{const{end:h,start:f,highlight:p,style:_,className:y}=u,v=t.substr(f,h-f);return p?g.createElement(a,{style:Object.assign(Object.assign({},l),_),className:`${o} ${y||""}`.trim(),key:v+d},v):v})}}render(){const{searchWords:e,sourceString:t,component:r,highlightClassName:s,highlightStyle:i,caseSensitive:a,autoEscape:o}=this.props,l=R({[`${Lae}-tag`]:!0},s),u={highlightTag:r,highlightClassName:l,highlightStyle:i,caseSensitive:a,autoEscape:o};return this.getHighLightTextHTML({sourceString:t,searchWords:e,option:u})}}mp.propTypes={style:c.object,className:c.string,autoEscape:c.bool,caseSensitive:c.bool,sourceString:c.string,searchWords:c.arrayOf(c.string),highlightStyle:c.object,highlightClassName:c.string,component:c.string};mp.defaultProps={component:"mark",autoEscape:!0,caseSensitive:!1,sourceString:""};var tR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let yp=class extends T.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,a=tR(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:r,label:s||i}),t)}renderOptionContent(e){let{children:t,inputValue:r,prefixCls:s}=e;return Oe(t)&&r?g.createElement(mp,{searchWords:[r],sourceString:t,highlightClassName:`${s}-keyword`}):t}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:a,empty:o,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:p,onMouseEnter:_,prefixCls:y,renderOptionItem:v,inputValue:m}=e,w=tR(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue"]),b=R(y,{[`${y}-disabled`]:r,[`${y}-selected`]:i,[`${y}-focused`]:d,[`${y}-empty`]:o,[f]:f}),E=R([`${y}-icon`]);return o?l===null?null:g.createElement(dn,{componentName:"Select"},S=>g.createElement("div",{className:b,"x-semi-prop":"emptyContent"},l||S.emptyText)):typeof v=="function"?v(Object.assign({disabled:r,focused:d,selected:i,style:p,label:a,value:s,inputValue:m,onMouseEnter:S=>_(S),onClick:S=>this.onClick(Object.assign({value:s,label:a,children:t},w),S)},w)):g.createElement("div",{className:b,onClick:S=>{this.onClick(Object.assign({value:s,label:a,children:t},w),S)},onMouseEnter:S=>_&&_(S),role:"option","aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:p},h?g.createElement("div",{className:E},g.createElement(Hv,null)):null,Oe(t)?g.createElement("div",{className:`${y}-text`},this.renderOptionContent({children:t,inputValue:m,prefixCls:y})):t)}};yp.isSelectOption=!0;yp.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};yp.defaultProps={prefixCls:F2.PREFIX_OPTION};const Wa=F2.PREFIX,Mae=Z1.SIZE,Fae=Z1.POSITION,jae=Z1.STATUS;class jc extends we{constructor(e){super(e),this.onSelect=(r,s,i)=>{this.foundation.handleSelect(r,s)},this.onSearch=r=>{this.foundation.handleSearch(r)},this.onBlur=r=>this.foundation.handleBlur(r),this.onFocus=r=>this.foundation.handleFocus(r),this.onInputClear=()=>this.foundation.handleClear(),this.handleInputClick=r=>this.foundation.handleInputClick(r),this.foundation=new bae(this.adapter);const t=1;this.state={dropdownMinWidth:null,inputValue:"",options:[],visible:!1,focusIndex:e.defaultActiveFirstOption?0:-1,selection:new Map,rePosKey:t},this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.clickOutsideHandler=null,this.optionListId="",Nt("triggerRender"in this.props&&typeof this.props.triggerRender=="function",`[Semi AutoComplete]
            - If you are using the following props: 'suffix', 'prefix', 'showClear', 'validateStatus', and 'size',
            please notice that they will be removed in the next major version.
            Please use 'componentProps' to retrieve these props instead.
            - If you are using 'onBlur', 'onFocus', please try to avoid using them and look for changes in the future.`)}get adapter(){const e={registerKeyDown:t=>{const r={onKeyDown:t};this.setState({keyboardEventSet:r})},unregisterKeyDown:t=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:t=>{this.setState({focusIndex:t})},updateScrollTop:t=>{let r;r=`.${Wa}-option-selected`,t!==void 0&&(r=`.${Wa}-option:nth-child(${t+1})`);let s=document.querySelector(`#${Wa}-${this.optionListId} ${r}`);if(Array.isArray(s)&&(s=s[0]),s){const i=s.parentNode;i.scrollTop=s.offsetTop-i.offsetTop-i.clientHeight/2+s.clientHeight/2}}};return Object.assign(Object.assign(Object.assign({},super.adapter),e),{getTriggerWidth:()=>{const t=this.triggerRef.current;return t&&t.getBoundingClientRect().width},setOptionWrapperWidth:t=>{this.setState({dropdownMinWidth:t})},updateInputValue:t=>{this.setState({inputValue:t})},toggleListVisible:t=>{this.setState({visible:t})},updateOptionList:t=>{this.setState({options:t})},updateSelection:t=>{this.setState({selection:t})},notifySearch:t=>{this.props.onSearch(t)},notifyChange:t=>{this.props.onChange(t)},notifySelect:t=>{this.props.onSelect(t)},notifyDropdownVisibleChange:t=>{this.props.onDropdownVisibleChange(t)},notifyClear:()=>{this.props.onClear()},notifyFocus:t=>{this.props.onFocus(t)},notifyBlur:t=>{this.props.onBlur(t)},notifyKeyDown:t=>{this.props.onKeyDown(t)},rePositionDropdown:()=>{let{rePosKey:t}=this.state;t=t+1,this.setState({rePosKey:t})},registerClickOutsideHandler:t=>{const r=s=>{const i=this.optionsRef&&this.optionsRef.current,a=this.triggerRef&&this.triggerRef.current,o=xr.findDOMNode(i),l=s.target,u=s.composedPath&&s.composedPath()||[l];o&&(!o.contains(l)||!o.contains(l.parentNode))&&a&&!a.contains(l)&&!(u.includes(a)||u.includes(o))&&t(s)};this.clickOutsideHandler=r,document.addEventListener("mousedown",r,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&document.removeEventListener("mousedown",this.clickOutsideHandler,!1)}})}componentDidMount(){this.foundation.init(),this.optionListId=Pa()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){ke(this.props.data,e.data)||this.foundation.handleDataChange(this.props.data),this.props.value!==e.value&&this.foundation.handleValueChange(this.props.value)}renderInput(){const{size:e,prefix:t,insetLabel:r,insetLabelId:s,suffix:i,placeholder:a,style:o,className:l,showClear:u,disabled:d,triggerRender:h,validateStatus:f,autoFocus:p,value:_,id:y,clearIcon:v}=this.props,{inputValue:m,keyboardEventSet:w,selection:b}=this.state,S=Object.assign(Object.assign(Object.assign({style:o,className:typeof h=="function"?R(l):R({[Wa]:!0,[`${Wa}-disabled`]:d},l),onClick:this.handleInputClick,ref:this.triggerRef,id:y},w),{tabIndex:-1}),this.getDataAttr(this.props)),C={disabled:d,placeholder:a,autoFocus:p,onChange:this.onSearch,onClear:this.onInputClear,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],suffix:i,prefix:t||r,insetLabelId:s,showClear:u,validateStatus:f,size:e,onBlur:this.onBlur,onFocus:this.onFocus,clearIcon:v};return g.createElement("div",Object.assign({},S),typeof h=="function"?g.createElement(hu,Object.assign({},C,{inputValue:typeof _<"u"?_:m,value:Array.from(b.values()),triggerRender:h,componentName:"AutoComplete",componentProps:Object.assign({},this.props)})):g.createElement(En,Object.assign({},C,{value:typeof _<"u"?_:m})))}renderLoading(){const e=`${Wa}-loading-wrapper`;return g.createElement("div",{className:e},g.createElement(qi,null))}renderOption(e,t){const{focusIndex:r}=this.state,s=t===r;return g.createElement(yp,Object.assign({showTick:!1,onSelect:(i,a)=>this.onSelect(i,t,a),focused:s,onMouseEnter:()=>this.foundation.handleOptionMouseEnter(t),key:e.key||e.label+e.value+t},e),e.label)}renderOptionList(){const{maxHeight:e,dropdownStyle:t,dropdownClassName:r,loading:s,emptyContent:i}=this.props,{options:a,dropdownMinWidth:o}=this.state,l=R({[`${Wa}-option-list`]:!0},r);let u;a.length===0?u=i:u=a.filter(h=>h.show).map((h,f)=>this.renderOption(h,f));const d=Object.assign({maxHeight:e,minWidth:o},t);return g.createElement("div",{className:l,role:"listbox",style:d,id:`${Wa}-${this.optionListId}`},s?this.renderLoading():u)}render(){const{position:e,motion:t,zIndex:r,mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l}=this.props,{visible:u,rePosKey:d}=this.state,h=this.renderInput(),f=this.renderOptionList();return g.createElement(vr,{mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:a,trigger:"custom",motion:t,visible:u,content:f,position:e,ref:this.optionsRef,zIndex:r,stopPropagation:o,getPopupContainer:l,rePosKey:d},h)}}jc.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoAdjustOverflow:c.bool,className:c.string,clearIcon:c.node,children:c.node,data:c.array,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.number]),defaultActiveFirstOption:c.bool,disabled:c.bool,dropdownMatchSelectWidth:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,emptyContent:c.node,id:c.string,insetLabel:c.node,insetLabelId:c.string,onSearch:c.func,onSelect:c.func,onClear:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onKeyDown:c.func,position:c.oneOf(Fae),placeholder:c.string,prefix:c.node,onChangeWithObject:c.bool,onSelectWithObject:c.bool,renderItem:c.func,renderSelectedItem:c.func,suffix:c.node,showClear:c.bool,size:c.oneOf(Mae),style:c.object,stopPropagation:c.oneOfType([c.bool,c.string]),maxHeight:c.oneOfType([c.string,c.number]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,motion:c.oneOfType([c.bool,c.func,c.object]),getPopupContainer:c.func,triggerRender:c.func,value:c.oneOfType([c.string,c.number]),validateStatus:c.oneOf(jae),zIndex:c.number};jc.Option=yp;jc.__SemiComponentName__="AutoComplete";jc.defaultProps=hs(jc.__SemiComponentName__,{stopPropagation:!0,motion:!0,zIndex:as.DEFAULT_Z_INDEX,position:"bottomLeft",data:[],showClear:!1,size:"default",onFocus:k,onSearch:k,onClear:k,onBlur:k,onSelect:k,onChange:k,onSelectWithObject:!1,onDropdownVisibleChange:k,defaultActiveFirstOption:!1,dropdownMatchSelectWidth:!0,loading:!1,maxHeight:300,validateStatus:"default",autoFocus:!1,emptyContent:null,onKeyDown:k});const Vae={PREFIX:`${Y}-avatar`},Gv={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"]};class Uae extends Pe{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{Nt(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:t}=this.getProps(),r=this._adapter.getAvatarNode(),s=r==null?void 0:r.firstChild,[i,a]=[(r==null?void 0:r.offsetWidth)||0,(s==null?void 0:s.offsetWidth)||0];if(i!==0&&a!==0&&t*2<i){const o=i-t*2>a?1:(i-t*2)/a;this._adapter.setScale(o)}}}init(){const{children:e}=this.getProps();typeof e=="string"&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();(e?e():void 0)!==!1&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}const Bae=n=>{let{gradientStart:e,gradientEnd:t}=n;const r=Pa();return g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none"},g.createElement("g",{filter:"url(#filter0_d_6_2)"},g.createElement("path",{d:"M40.4918 46.5592C44.6795 43.176 46.261 34.1333 47.5301 25.6141C49.5854 11.8168 39.6662 1 25.8097 1C11.2857 1 3 11.4279 3 25.3518C3 33.7866 6.29361 43.8947 10.4602 46.5592C12.5868 47.9192 12.5868 47.9051 25.8097 47.9192C38.3651 47.9282 38.5352 48.14 40.4918 46.5592Z",fill:`url(#${r})`})),g.createElement("defs",null,g.createElement("filter",{id:"filter0_d_6_2",x:"0.789215",y:"0.447304",width:"49.2216",height:"51.3549",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},g.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),g.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),g.createElement("feOffset",{dy:"1.65809"}),g.createElement("feGaussianBlur",{stdDeviation:"1.10539"}),g.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),g.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_6_2"}),g.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_6_2",result:"shape"})),g.createElement("linearGradient",{id:r,x1:"17.671",y1:"31.7392",x2:"17.671",y2:"47.9333",gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:e}),g.createElement("stop",{offset:"1",stopColor:t}))))};var Hae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const zae=Gv.SIZE,Kae=Gv.SHAPE,Wae=Gv.COLOR,Ze=Vae.PREFIX;class Vc extends we{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:t,onClick:r,imgAttr:s,src:i,srcSet:a,alt:o}=this.props,{isImgExist:l}=this.state;let u=t;const d=r!==mt,h=i&&l,f={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(h){const p=d?`clickable Avatar: ${o}`:o,_=Object.assign(Object.assign({src:i,srcSet:a,onError:this.handleError},s),{className:R({[`${Ze}-no-focus-visible`]:d})}),y=d?Object.assign(Object.assign({},_),f):_;u=g.createElement("img",Object.assign({alt:p},y))}else if(typeof t=="string"){const p=o??t,y={role:"img","aria-label":d?`clickable Avatar: ${p}`:p,className:R(`${Ze}-label`,{[`${Ze}-no-focus-visible`]:d})},v=d?Object.assign(Object.assign({},y),f):y,m={transform:`scale(${this.state.scale})`};u=g.createElement("span",{className:`${Ze}-content`,style:m},g.createElement("span",Object.assign({},v,{"x-semi-prop":"children"}),t))}return u},this.renderBottomSlot=()=>{var t,r;if(!this.props.bottomSlot)return null;if(this.props.bottomSlot.render)return this.props.bottomSlot.render();const s=(t=this.props.bottomSlot.render)!==null&&t!==void 0?t:()=>{var i;const a={};return this.props.bottomSlot.bgColor&&(a.backgroundColor=this.props.bottomSlot.bgColor),this.props.bottomSlot.textColor&&(a.color=this.props.bottomSlot.textColor),g.createElement("span",{style:a,className:R(`${Ze}-bottom_slot-shape_${this.props.bottomSlot.shape}`,`${Ze}-bottom_slot-shape_${this.props.bottomSlot.shape}-${this.props.size}`,(i=this.props.bottomSlot.className)!==null&&i!==void 0?i:"")},this.props.bottomSlot.text)};return g.createElement("div",{className:R([`${Ze}-bottom_slot`]),style:(r=this.props.bottomSlot.style)!==null&&r!==void 0?r:{}},s())},this.renderTopSlot=()=>{var t,r,s,i;if(!this.props.topSlot)return null;if(this.props.topSlot.render)return this.props.topSlot.render();const a={};return this.props.topSlot.textColor&&(a.color=this.props.topSlot.textColor),g.createElement("div",{style:(t=this.props.topSlot.style)!==null&&t!==void 0?t:{},className:R([`${Ze}-top_slot-wrapper`,(r=this.props.topSlot.className)!==null&&r!==void 0?r:"",{[`${Ze}-animated`]:this.props.contentMotion}])},g.createElement("div",{className:R([`${Ze}-top_slot-bg`,`${Ze}-top_slot-bg-${this.props.size}`])},g.createElement("div",{className:R([`${Ze}-top_slot-bg-svg`,`${Ze}-top_slot-bg-svg-${this.props.size}`])},g.createElement(Bae,{gradientStart:(s=this.props.topSlot.gradientStart)!==null&&s!==void 0?s:"var(--semi-color-primary)",gradientEnd:(i=this.props.topSlot.gradientEnd)!==null&&i!==void 0?i:"var(--semi-color-primary)"}))),g.createElement("div",{className:R([`${Ze}-top_slot`])},g.createElement("div",{style:a,className:R([`${Ze}-top_slot-content`,`${Ze}-top_slot-content-${this.props.size}`])},this.props.topSlot.text)))},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=g.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,r=t;this.setState({hoverContent:r},()=>{const{onMouseEnter:s}=this.props;s&&s(e)})},notifyLeave:e=>{this.setState({hoverContent:""},()=>{const{onMouseLeave:t}=this.props;t&&t(e)})},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return(e=this.avatarRef)===null||e===void 0?void 0:e.current}})}componentDidMount(){this.foundation=new Uae(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const t=new Image(0,0);t.src=this.props.src,t.onload=()=>{this.setState({isImgExist:!0})},t.onerror=()=>{this.setState({isImgExist:!1})},t.onabort=()=>{this.setState({isImgExist:!1})}}typeof this.props.children=="string"&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),Ys(e);break;case"Escape":e.target.blur();break}}render(){var e;const t=this.props,{shape:r,children:s,size:i,color:a,className:o,hoverMask:l,onClick:u,imgAttr:d,src:h,srcSet:f,style:p,alt:_,gap:y,bottomSlot:v,topSlot:m,border:w,contentMotion:b}=t,E=Hae(t,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap","bottomSlot","topSlot","border","contentMotion"]),{isImgExist:S,hoverContent:C,focusVisible:O}=this.state;let I={};Gv.SIZE.includes(i)||(I={width:i,height:i}),I=Object.assign(Object.assign({},I),p);const P=v||m||w,x={onClick:u,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},D=h&&S,$=R(Ze,{[`${Ze}-${r}`]:r,[`${Ze}-${i}`]:i,[`${Ze}-${a}`]:a&&!D,[`${Ze}-img`]:D,[`${Ze}-focus`]:O,[`${Ze}-animated`]:b},o),M=C?g.createElement("div",{className:`${Ze}-hover`,"x-semi-prop":"hoverContent"},C):null;let V=g.createElement("span",Object.assign({},E,{style:P?{}:I,className:$},P?{}:x,{role:"listitem",ref:this.avatarRef}),this.getContent(),M);if(w){const B={};typeof w=="object"&&(w!=null&&w.color)&&(B.borderColor=w==null?void 0:w.color),V=g.createElement("div",{style:Object.assign({position:"relative"},I)},V,g.createElement("span",{style:B,className:R([`${Ze}-additionalBorder`,`${Ze}-additionalBorder-${i}`,{[`${Ze}-${r}`]:r}])}),typeof this.props.border=="object"&&this.props.border.motion&&g.createElement("span",{style:B,className:R([`${Ze}-additionalBorder`,`${Ze}-additionalBorder-${i}`,{[`${Ze}-${r}`]:r,[`${Ze}-additionalBorder-animated`]:typeof this.props.border=="object"&&((e=this.props.border)===null||e===void 0?void 0:e.motion)}])}))}return P?g.createElement("span",Object.assign({className:R([`${Ze}-wrapper`]),style:I},x),V,m&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&r==="circle"&&this.renderTopSlot(),v&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&this.renderBottomSlot()):V}}Vc.__SemiComponentName__="Avatar";Vc.defaultProps=hs(Vc.__SemiComponentName__,{size:"medium",color:"grey",shape:"circle",gap:3,onClick:mt,onMouseEnter:mt,onMouseLeave:mt});Vc.propTypes={children:c.node,color:c.oneOf(Wae),shape:c.oneOf(Kae),size:c.oneOf(zae),hoverMask:c.node,className:c.string,style:c.object,gap:c.number,imgAttr:c.object,src:c.string,srcSet:c.string,alt:c.string,onError:c.func,onClick:c.func,onMouseEnter:c.func,onMouseLeave:c.func,bottomSlot:c.shape({render:c.func,shape:c.oneOf(["circle","square"]),text:c.node,bgColor:c.string,textColor:c.string,className:c.string,style:c.object}),topSlot:c.shape({render:c.func,gradientStart:c.string,gradientEnd:c.string,text:c.node,textColor:c.string,className:c.string,style:c.object}),border:c.oneOfType([c.shape({color:c.string,motion:c.bool}),c.bool]),contentMotion:c.bool};Vc.elementType="Avatar";var Gae=4,Yae=.001,qae=1e-7,Xae=10,lh=11,Cg=1/(lh-1),Qae=typeof Float32Array=="function";function H2(n,e){return 1-3*e+3*n}function z2(n,e){return 3*e-6*n}function K2(n){return 3*n}function vy(n,e,t){return((H2(e,t)*n+z2(e,t))*n+K2(e))*n}function W2(n,e,t){return 3*H2(e,t)*n*n+2*z2(e,t)*n+K2(e)}function Zae(n,e,t,r,s){var i,a,o=0;do a=e+(t-e)/2,i=vy(a,r,s)-n,i>0?t=a:e=a;while(Math.abs(i)>qae&&++o<Xae);return a}function Jae(n,e,t,r){for(var s=0;s<Gae;++s){var i=W2(e,t,r);if(i===0)return e;var a=vy(e,t,r)-n;e-=a/i}return e}function eoe(n){return n}var toe=function(e,t,r,s){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===s)return eoe;for(var i=Qae?new Float32Array(lh):new Array(lh),a=0;a<lh;++a)i[a]=vy(a*Cg,e,r);function o(l){for(var u=0,d=1,h=lh-1;d!==h&&i[d]<=l;++d)u+=Cg;--d;var f=(l-i[d])/(i[d+1]-i[d]),p=u+f*Cg,_=W2(p,e,r);return _>=Yae?Jae(l,p,e,r):_===0?p:Zae(l,u,u+Cg,e,r)}return function(u){return u===0?0:u===1?1:vy(o(u),t,s)}};const Yb=ge(toe);function nR(n,e,t){return Math.min(Math.max(n,e),t)}function noe(n){const e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(t=>parseFloat(t)):[]}function Tg(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;const t=nR(n,1,10),r=nR(e,.1,2);return s=>s===0||s===1?s:-t*Math.pow(2,10*(s-1))*Math.sin((s-1-r/(Math.PI*2)*Math.asin(1/t))*(Math.PI*2)/r)}const qb=(()=>{const n=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],Tg],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(r,s)=>i=>1-Tg(r,s)(1-i)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(r,s)=>i=>i<.5?Tg(r,s)(i*2)/2:1-Tg(r,s)(i*-2+2)/2]},t={linear:[.25,.25,.75,.75]};for(const r of Object.keys(e))e[r].forEach((s,i)=>{t["ease"+r+n[i]]=s});return t})();function rR(n){if(typeof n=="function")return n;!n||typeof n!="string"?n="linear":n=n.trim();let e=n.split("(")[0];const t=noe(n);let r;return e==="cubic-bezier"||e==="cubicBezier"?Yb(...t.length?t:qb.linear):((!e||typeof e!="string"||typeof e=="string"&&qb[e]==null)&&(e="linear"),r=qb[e],typeof r=="function"?r(...t):t.length?Yb(...t):Yb(...r))}let roe=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else t==null&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?(this._eventMap.get(e).forEach(i=>i(...r)),!0):!1}};function gf(n){return!!(n&&typeof n=="object"&&(n.duration>0||typeof n.easing=="string"||typeof n.easing=="function"))}function soe(n,e,t,r,s){for(const i of Object.keys(e)){const a=e[i],o=typeof a=="number"?a:a.val;if(!(typeof a=="object"&&a.done)){if(gf(a)&&r&&s&&a.duration){if(a.duration+r<=s||o!==n[i])return!1}else if(typeof t[i]=="number"&&t[i]!==0)return!1;if(n[i]!==o)return!1}}return!0}function Og(n){const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=typeof n[t]=="number"?n[t]:n[t].val);return e}const Iu=[0,0];function sR(n,e,t,r,s,i,a){const o=-s*(e-r),l=-i*t,u=o+l,d=t+u*n,h=e+d*n;return Math.abs(d)<a&&Math.abs(h-r)<a?(Iu[0]=r,Iu[1]=0,Iu):(Iu[0]=h,Iu[1]=d,Iu)}function ioe(n){const e={},t=n&&Object.keys(n)||[];for(const r of t)e[r]=0;return e}const aoe={default:{tension:170,friction:26}},ooe=Object.assign(Object.assign({},aoe.default),{precision:.01});function loe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(gf(e)){const r=rR(e.easing),s=typeof e.duration=="number"&&e.duration>0?e.duration:1e3;e=Object.assign(Object.assign({},e),{easing:r,duration:s})}let t=Object.assign(Object.assign(Object.assign({},ooe),e),{done:!1});if(n&&typeof n=="object"&&"val"in n){if(gf(n)){const r=rR(n.easing),s=typeof n.duration=="number"&&n.duration>0?n.duration:parseInt(e.duration)||1e3;n=Object.assign(Object.assign({},n),{easing:r,duration:s})}t=Object.assign(Object.assign({},t),n)}else t=Object.assign(Object.assign({},t),{val:n});return t}const Hd=()=>Date.now(),Ga=1e3/60;class G2 extends roe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this._props=Object.assign({},e),this._config=Object.assign({},t),this.initStates()}_wrapConfig(e,t){t=t&&typeof t=="object"?t:this._config;const r={};for(const s of Object.keys(e))r[s]=loe(e[s],t);return r}initStates(e,t){e=e&&typeof e=="object"?e:this._props,t=t&&typeof t=="object"?t:this._config;const{from:r,to:s}=e;if(this._from={},r)for(const o of Object.keys(r))this._from[o]=typeof r[o]=="object"&&r[o].val?r[o].val:r[o];this._to=this._wrapConfig(s,t),this._delay=parseInt(t.delay)||0;const i=this._from&&Og(this._from)||Og(this._to),a=ioe(i);this._currentStyle=Object.assign({},i),this._currentVelocity=Object.assign({},a),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},a),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){this._timer==null&&(this._timer=requestAnimationFrame(e=>{const t=Hd();if(soe(this._currentStyle,this._to,this._currentVelocity,this._startedTime||t,t)||this._ended||this._stopped){this._wasAnimating&&!this._ended&&!this._stopped&&(this._timer=setTimeout(()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())},Ga)),this.resetPlayStates();return}this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,this._startedTime===0&&(this._startedTime=t);const r=t,s=r-this._prevTime;this._prevTime=r,r-this._startedTime<this._delay&&(this._timer=null,this.animate());const i={},a={},o={},l={},u=this._to&&Object.keys(this._to)||[];for(const d of u){const h=this._to[d];this._accumulatedTime[d]=typeof this._accumulatedTime[d]!="number"?s:this._accumulatedTime[d]+s;const f=this._from[d]!=null&&typeof this._from[d]=="object"?this._from[d].val:this._from[d],p=h.val;if(typeof h=="number")o[d]=h,l[d]=0,i[d]=h,a[d]=0;else{let _=this._lastIdealStyle[d],y=this._lastIdealVelocity[d];if(gf(this._config)||gf(h)){const{easing:v,duration:m}=h;_=f+v((r-this._startedTime)/m)*(p-f),r>=this._startedTime+m&&(_=p,h.done=!0),i[d]=_,o[d]=_}else if(p!=null&&p===this._currentStyle[d])o[d]=p,l[d]=0,i[d]=p,a[d]=0;else{const v=(this._accumulatedTime[d]-Math.floor(this._accumulatedTime[d]/Ga)*Ga)/Ga,m=Math.floor(this._accumulatedTime[d]/Ga);for(let E=0;E<m;E++)[_,y]=sR(Ga/1e3,_,y,h.val,h.tension,h.friction,h.precision);const[w,b]=sR(Ga/1e3,_,y,h.val,h.tension,h.friction,h.precision);o[d]=_+(w-_)*v,l[d]=y+(b-y)*v,i[d]=_,a[d]=y,this._accumulatedTime[d]-=m*Ga}}}this._timer=null,this._currentStyle=Object.assign({},o),this._currentVelocity=Object.assign({},l),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},a),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())}))}start(){this._prevTime=Hd(),this._startedTime=Hd(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=Hd(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){const t=Hd()-this._pausedTime;this._paused=!1,this._startedTime+=t,this._prevTime+=t,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();const e=Object.assign({},this._props),[t,r]=[e.to,e.from];e.from=t,e.to=r,this._props=Object.assign({},e),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},Og(this._props.from))}getFinalStates(){return Object.assign({},Og(this._props.to))}}const Y2={PREFIX:`${Y}-button`},vp={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light","outline"],DEFAULT_ICON_POSITION:"left"},uoe={SIZE:["extra-small","small","default","large","extra-large","custom"]};var coe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const doe=vp.sizes,{htmlTypes:hoe,btnTypes:foe}=vp;let _p=class extends T.PureComponent{render(){const e=this.props,{children:t,block:r,htmlType:s,loading:i,circle:a,className:o,style:l,disabled:u,size:d,theme:h,type:f,prefixCls:p,iconPosition:_}=e,y=coe(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),v=Object.assign(Object.assign({disabled:u},zo(y,["x-semi-children-alias"])),{className:R(p,{[`${p}-${f}`]:!u&&f,[`${p}-disabled`]:u,[`${p}-size-large`]:d==="large",[`${p}-size-small`]:d==="small",[`${p}-light`]:h==="light",[`${p}-block`]:r,[`${p}-circle`]:a,[`${p}-borderless`]:h==="borderless",[`${p}-outline`]:h==="outline",[`${p}-${f}-disabled`]:u&&f},o),type:s,"aria-disabled":u}),m={};return o&&o.includes("-with-icon")||(m["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),g.createElement("button",Object.assign({},v,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:l}),g.createElement("span",Object.assign({className:R(`${p}-content`,this.props.contentClassName),onClick:w=>u&&w.stopPropagation()},m),t))}};_p.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:mt,onClick:mt,onMouseEnter:mt,onMouseLeave:mt,prefixCls:Y2.PREFIX};_p.propTypes={children:c.node,disabled:c.bool,prefixCls:c.string,style:c.object,size:c.oneOf(doe),type:c.oneOf(foe),block:c.bool,onClick:c.func,onMouseDown:c.func,circle:c.bool,loading:c.bool,htmlType:c.oneOf(hoe),theme:c.oneOf(vp.themes),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func,"aria-label":c.string,contentClassName:c.string};var poe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const goe=uoe.SIZE;class xs extends T.PureComponent{render(){const e=this.props,{children:t,iconPosition:r,iconSize:s,iconStyle:i,style:a,icon:o,noHorizontalPadding:l,theme:u,className:d,prefixCls:h,loading:f}=e,p=poe(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),_=Object.assign({},a);Array.isArray(l)?(l.includes("left")&&(_.paddingLeft=0),l.includes("right")&&(_.paddingRight=0)):l===!0?(_.paddingLeft=0,_.paddingRight=0):typeof l=="string"&&(l==="left"&&(_.paddingLeft=0),l==="right"&&(_.paddingRight=0));let y=null,v=null;f&&!p.disabled?v=g.createElement(V2,null):g.isValidElement(o)&&(v=o);const m=R({[`${h}-content-left`]:r==="right",[`${h}-content-right`]:r==="left"}),w=this.props["x-semi-children-alias"]||"children",b=t!=null?g.createElement("span",{className:m,"x-semi-prop":w},t):null;r==="left"?y=g.createElement(g.Fragment,null,v,b):y=g.createElement(g.Fragment,null,b,v);const E=R(d,`${h}-with-icon`,{[`${h}-with-icon-only`]:b==null||b==="",[`${h}-loading`]:f});return g.createElement(_p,Object.assign({},p,{className:E,theme:u,style:_}),y)}}xs.defaultProps={iconPosition:vp.DEFAULT_ICON_POSITION,prefixCls:Y2.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:k,onMouseLeave:k};xs.elementType="IconButton";xs.propTypes={iconStyle:c.object,style:c.object,loading:c.bool,prefixCls:c.string,icon:c.oneOfType([c.object,c.string,c.node]),iconSize:c.oneOf(goe),noHorizontalPadding:c.oneOfType([c.bool,c.string,c.array]),children:c.node,theme:c.string,iconPosition:c.oneOf(vp.iconPositions),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func};class xe extends g.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e)}render(){const e=Object.assign({},this.props),t=!!e.icon,r=!!e.loading,s=!!e.disabled;return t||r&&!s?g.createElement(xs,Object.assign({},e)):g.createElement(_p,Object.assign({},e))}}xe.__SemiComponentName__="Button";xe.propTypes=Object.assign(Object.assign({},_p.propTypes),xs.propTypes);xe.defaultProps=hs(xe.__SemiComponentName__);xe.elementType="Button";const moe={PREFIX:`${Y}-space`},ul={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"},yoe="Symbol(react.fragment)",hE=n=>{let e=[];return g.Children.forEach(n,t=>{t!=null&&(Array.isArray(t)?e=e.concat(hE(t)):T.isValidElement(t)&&t.type&&t.type.toString()===yoe&&t.props?e=e.concat(hE(t.props.children)):e.push(t))}),e},Us=moe.PREFIX;class Vi extends T.PureComponent{render(){const{children:e=null,style:t,className:r,spacing:s,wrap:i,align:a,vertical:o}=this.props,l=i&&o?!1:i,u=Object.assign({},t);let d="",h="";Oe(s)?(d=s,h=s):jt(s)?(u.rowGap=s,u.columnGap=s):m1(s)&&(Oe(s[0])?d=s[0]:jt(s[0])&&(u.columnGap=`${s[0]}px`),Oe(s[1])?h=s[1]:jt(s[1])&&(u.rowGap=`${s[1]}px`));const f=R(Us,r,{[`${Us}-align-${a}`]:a,[`${Us}-vertical`]:o,[`${Us}-horizontal`]:!o,[`${Us}-wrap`]:l,[`${Us}-tight-horizontal`]:d===ul.SPACING_TIGHT,[`${Us}-tight-vertical`]:h===ul.SPACING_TIGHT,[`${Us}-medium-horizontal`]:d===ul.SPACING_MEDIUM,[`${Us}-medium-vertical`]:h===ul.SPACING_MEDIUM,[`${Us}-loose-horizontal`]:d===ul.SPACING_LOOSE,[`${Us}-loose-vertical`]:h===ul.SPACING_LOOSE}),p=hE(e),_=df(this.props);return g.createElement("div",Object.assign({},_,{className:f,style:u,"x-semi-prop":"children"}),p)}}Vi.propTypes={wrap:c.bool,align:c.oneOf(ul.ALIGN_SET),vertical:c.bool,spacing:c.oneOfType([c.string,c.number,c.array]),children:c.node,style:c.object,className:c.string};Vi.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};function voe(n,e,t,r){for(var s=n.length,i=t+(r?1:-1);r?i--:++i<s;)if(e(n[i],i,n))return i;return-1}var q2=voe;function _oe(n){return n!==n}var boe=_oe;function woe(n,e,t){for(var r=t-1,s=n.length;++r<s;)if(n[r]===e)return r;return-1}var Eoe=woe,Soe=q2,Coe=boe,Toe=Eoe;function Ooe(n,e,t){return e===e?Toe(n,e,t):Soe(n,Coe,t)}var X2=Ooe,Ioe=w1,Poe=1/0,xoe=17976931348623157e292;function Roe(n){if(!n)return n===0?n:0;if(n=Ioe(n),n===Poe||n===-1/0){var e=n<0?-1:1;return e*xoe}return n===n?n:0}var Aoe=Roe,Doe=Aoe;function koe(n){var e=Doe(n),t=e%1;return e===e?t?e-t:e:0}var Yv=koe,Noe=cd;function $oe(n,e){return Noe(e,function(t){return n[t]})}var Loe=$oe,Moe=Loe,Foe=Ho;function joe(n){return n==null?[]:Moe(n,Foe(n))}var Q2=joe;const Z2=ge(Q2);var Voe=X2,Uoe=Qi,Boe=cM,Hoe=Yv,zoe=Q2,Koe=Math.max;function Woe(n,e,t,r){n=Uoe(n)?n:zoe(n),t=t&&!r?Hoe(t):0;var s=n.length;return t<0&&(t=Koe(s+t,0)),Boe(n)?t<=s&&n.indexOf(e,t)>-1:!!s&&Voe(n,e,t)>-1}var Goe=Woe;const rc=ge(Goe);var Yoe=jv,qoe=cu,Xoe=PM,Qoe=Qi,Zoe=lp,Joe=Ho,ele=Object.prototype,tle=ele.hasOwnProperty,nle=Xoe(function(n,e){if(Zoe(e)||Qoe(e)){qoe(e,Joe(e),n);return}for(var t in e)tle.call(e,t)&&Yoe(n,t,e[t])}),rle=nle;const sle=ge(rle);var ile=X2;function ale(n,e){var t=n==null?0:n.length;return!!t&&ile(n,e,0)>-1}var J2=ale;function ole(n,e,t){for(var r=-1,s=n==null?0:n.length;++r<s;)if(t(e,n[r]))return!0;return!1}var eF=ole,lle=N1,ule=J2,cle=eF,dle=cd,hle=pd,fle=$1,ple=200;function gle(n,e,t,r){var s=-1,i=ule,a=!0,o=n.length,l=[],u=e.length;if(!o)return l;t&&(e=dle(e,hle(t))),r?(i=cle,a=!1):e.length>=ple&&(i=fle,a=!1,e=new lle(e));e:for(;++s<o;){var d=n[s],h=t==null?d:t(d);if(d=r||d!==0?d:0,a&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;l.push(d)}else i(e,h,r)||l.push(d)}return l}var tF=gle,mle=tF,yle=WM,vle=x1,iR=I1,_le=vle(function(n,e){return iR(n)?mle(n,yle(e,1,iR,!0)):[]}),ble=_le;const _y=ge(ble);var wle=Nv,Ele=e2,Sle=dd;function Cle(n,e,t){for(var r=-1,s=e.length,i={};++r<s;){var a=e[r],o=wle(n,a);t(o,a)&&Ele(i,Sle(a,n),o)}return i}var Tle=Cle;function Ole(n,e){return n!=null&&e in Object(n)}var Ile=Ole,Ple=dd,xle=up,Rle=Jn,Ale=Vv,Dle=O1,kle=uu;function Nle(n,e,t){e=Ple(e,n);for(var r=-1,s=e.length,i=!1;++r<s;){var a=kle(e[r]);if(!(i=n!=null&&t(n,a)))break;n=n[a]}return i||++r!=s?i:(s=n==null?0:n.length,!!s&&Dle(s)&&Ale(a,s)&&(Rle(n)||xle(n)))}var $le=Nle,Lle=Ile,Mle=$le;function Fle(n,e){return n!=null&&Mle(n,e,Lle)}var nF=Fle,jle=Tle,Vle=nF;function Ule(n,e){return jle(n,e,function(t,r){return Vle(n,r)})}var Ble=Ule,Hle=Ble,zle=GM,Kle=zle(function(n,e){return n==null?{}:Hle(n,e)}),Wle=Kle;const Hl=ge(Wle);var Gle=ad;function Yle(n,e,t){for(var r=-1,s=n.length;++r<s;){var i=n[r],a=e(i);if(a!=null&&(o===void 0?a===a&&!Gle(a):t(a,o)))var o=a,l=i}return l}var qle=Yle;function Xle(n,e){return n>e}var Qle=Xle,Zle=qle,Jle=Qle,eue=fp;function tue(n){return n&&n.length?Zle(n,eue,Jle):void 0}var nue=tue;const rue=ge(nue);var Xb=LM,sue=GL,iue=L1,aue=1/0,oue=Xb&&1/iue(new Xb([,-0]))[1]==aue?function(n){return new Xb(n)}:sue,lue=oue,uue=N1,cue=J2,due=eF,hue=$1,fue=lue,pue=L1,gue=200;function mue(n,e,t){var r=-1,s=cue,i=n.length,a=!0,o=[],l=o;if(t)a=!1,s=due;else if(i>=gue){var u=e?null:fue(n);if(u)return pue(u);a=!1,s=hue,l=new uue}else l=e?[]:o;e:for(;++r<i;){var d=n[r],h=e?e(d):d;if(d=t||d!==0?d:0,a&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),o.push(d)}else s(l,h,t)||(l!==o&&l.push(h),o.push(d))}return o}var yue=mue,vue=yue;function _ue(n){return n&&n.length?vue(n):[]}var bue=_ue;const wue=ge(bue),rF={PREFIX:`${Y}-tree`,PREFIX_OPTION:`${Y}-tree-option`};function sF(n,e){return`${n}-${e}`}function qv(n){return!Bl(n)&&!dt(n)}function ro(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const s=[],i=!!r,a=K(t,"key","key"),o=K(t,"children","children");function l(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map((h,f)=>{const p=sF(d?d.pos:"0",f),_=h[a],y={};t&&Object.entries(zo(t,"children")).forEach(w=>{let[b,E]=w;const S=h[E];!dt(S)&&(y[b]=S)});const v=Object.assign(Object.assign(Object.assign({},Hl(h,["key","label","value","icon","disabled","isLeaf"])),y),{parent:d,pos:p,children:null,data:h,_innerDataTag:!0,isEnd:[...d?d.isEnd:[],f===u.length-1]}),m=typeof r=="boolean";return(!i||!m&&r.has(_))&&s.push(v),e.has(_)&&(!i||!m&&r.has(_))?v.children=l(h[o]||[],v):v.children=[],v})}return l(n),s}function Eue(n,e,t){const r=K(t,"key","key"),s=K(t,"children","children"),i=(a,o,l)=>{const u=a?a[s]:n,d=a?sF(l.pos,o):"0";if(a){const h=K(a,r,null),f={data:Object.assign({},a),ind:o,pos:d,key:h!==null?h:d,parentPos:l.node?l.pos:null,level:Number(l.level)+1};e(f)}u&&u.forEach((h,f)=>{i(h,f,{node:a,pos:d,level:l?Number(l.level)+1:-1})})};i(null)}function Sue(n,e){const t={},r={},s={},i={posEntities:t,keyEntities:r,valueEntities:s},a=K(e,"value","value");return Eue(n,o=>{const{pos:l,key:u,parentPos:d}=o,h=Object.assign({},o),f=K(h,`data.${a}`,null);f!==null&&(s[f]=u),t[l]=h,r[u]=h,h.parent=t[d],h.parent&&(h.parent.children=h.parent.children||[],h.parent.children.push(h))},e),i}function cl(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!qv(n))return[];if(!t&&Array.isArray(n)?n=n.length?[n[0]]:[]:Array.isArray(n)||(n=[n]),gt(e))return n;const r=[];return n.forEach(s=>{s in e?r.push(e[s]):s&&r.push(s)}),r}function Ui(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{if(!i)return;const{children:a}=i;qv(a)&&a.forEach(l=>{r.push(l.key),s(e[l.key])})};return n.forEach(i=>{t&&r.push(i),s(e[i])}),r}function Cue(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=[];return n&&n.forEach(s=>{const i=e[s];i&&i.children&&i.children.forEach(a=>{(!t.length||!t.includes(a.key))&&r.push(a.key)})}),r}function tT(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[];return n.forEach(i=>{e[i]&&e[i].parent&&r.push(e[i].parent.key)}),Cue(wue(r),e,t?[]:n)}function Bi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{i.parent&&(r.push(i.parent.key),s(i.parent))};return n.forEach(i=>{e[i]&&s(e[i]),t&&r.push(i)}),r}function Tue(n,e){const t={};return n.forEach(r=>{if(!e[r])return;const{level:s}=e[r];t[s]?t[s].push(r):t[s]=[r]}),t}function bp(n,e){const t=Array.isArray(n)?n:[n],r=Ui(t,e,!0),s=new Set([...r]);let i=new Set([]),a=[];const o=Tue(t,e),l=u=>{const{key:d,parent:h,level:f}=u;if(!h||a.includes(d))return;const p=tT([d],e);if(a=[...a,...p],p.every(y=>s.has(y)))s.add(h.key),f-1 in o&&f?o[f-1].push(h.key):o[f-1]=[h.key];else{const y=Bi([d],e,!1);i=new Set([...i,...y])}};for(;!gt(o);){const u=rue(Object.keys(o).map(d=>Number(d)));o[u].forEach(d=>l(e[d])),delete o[u]}return{checkedKeys:s,halfCheckedKeys:i}}function Qb(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Array.isArray(n)||(n=[n]),t){const r=Bi(n,e,!0);return new Set(r)}return new Set(n)}function aR(n,e,t,r){const s=cl(n,r,t);return new Set(Bi(s,e,!1))}function oR(n,e,t){let r="show";const s=[...n],i=[...e];if(Math.abs(s.length-i.length)!==1)return{motionType:r,motionKeys:[]};let a=[];return s.length>i.length?(r="hide",a=_y(s,i)):a=_y(i,s),{motionType:a.length===1?r:"show",motionKeys:a.length===1?Ui(a,t,!1):[]}}function iF(n,e,t,r){if(!t)return!0;let s=t,i=e;return typeof t=="boolean"&&(s=(a,o)=>{const l=a.toLowerCase();return o.toString().toLowerCase().includes(l)}),r&&(i=e[r]),s(n,i,e)}function qs(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3?arguments[3]:void 0;const s=[],i=new Set(n);return t?n.forEach(a=>{e[a]&&!qv(e[a].children)&&s.push(a),!e[a]&&r&&s.push(a)}):n.forEach(a=>{if(!e[a]){r&&s.push(a);return}const{parent:o}=e[a];o&&i.has(o.key)||s.push(a)}),s}function lR(n,e,t){const r=[],s=i=>{t[i].children&&t[i].children.forEach(a=>{const{key:o}=a;r.push(o),e.has(o)&&s(o)})};return s(n),r}function aF(n,e,t,r){const s=Ui([n],e,!0),i=e[n];t=new Set([...t,n]);const a=o=>{if(!o.parent)return;const{key:l}=o;if(tT([l],e).every(h=>t.has(h))){const h=o.parent;t.add(h.key),a(h)}else{const h=Bi([l],e,!1);r=new Set([...r,...h])}};return a(i),{checkedKeys:new Set([...t,...s]),halfCheckedKeys:r}}function oF(n,e,t,r){const s=Ui([n],e,!0),i=e[n];s.forEach(o=>{t.has(o)&&t.delete(o),r.has(o)&&r.delete(o)});const a=o=>{const l=o.parent;if(!l||!t.has(l.key)&&!r.has(l.key))return;const{key:u}=o,h=tT([u],e).some(p=>t.has(p)||r.has(p)),f=Bi([u],e,!1);h?f.forEach(p=>{t.has(p)&&(t.delete(p),r.add(p))}):(t.has(l.key)&&t.delete(l.key),r.has(l.key)&&r.delete(l.key),a(l))};return i&&a(i),{checkedKeys:t,halfCheckedKeys:r}}function Oue(n){const{showFilteredOnly:e,keyEntities:t,inputValue:r,treeData:s,filterTreeNode:i,filterProps:a,prevExpandedKeys:o,keyMaps:l}=n;let u=[];u=Object.values(t).filter(_=>iF(r,_.data,i,a)).map(_=>_.key);let d=Bi(u,t,!1);if(o.length){const _=o.filter(y=>!!t[y]);d=d.concat(_)}const h=Ui(u,t,!0),f=new Set([...h,...d]);return{flattenNodes:ro(s,new Set(d),l,e&&f),filteredKeys:new Set(u),filteredExpandedKeys:new Set(d),filteredShownKeys:f}}function by(n,e){const t=K(e,"value","value"),r=K(e,"key","key");return Array.isArray(n)?n.map(s=>K(s,t,s[r])):K(n,t,n[r])}function Ya(n,e,t){return e&&qv(n)?by(n,t):n}function uR(n,e){return[...n].filter(r=>r in e)}function lF(n,e){const t=K(e,"disabled","disabled"),r=Object.keys(n).filter(i=>n[i].data[t]),{checkedKeys:s}=bp(r,n);return s}const uF={PREFIX:`${Y}-cascader`,PREFIX_OPTION:`${Y}-cascader-option`},Mt={SIZE_SET:["small","large","default"],VALIDATE_STATUS:["success","default","error","warning"],SHOW_NEXT_BY_CLICK:"click",SHOW_NEXT_BY_HOVER:"hover",LEAF_ONLY_MERGE_TYPE:"leafOnly",AUTO_MERGE_VALUE_MERGE_TYPE:"autoMergeValue",NONE_MERGE_TYPE:"none",SEARCH_POSITION_TRIGGER:"trigger",RELATED:"related",UN_RELATED:"unRelated"},cF="_SEMI_CASCADER_SPLIT_";function Iue(n,e){return`${n}-${e}`}function Pue(n){return!Bl(n)&&!dt(n)}function xue(n){return Array.isArray(n)?n:[n]}function Rue(n,e,t,r){if(!t)return!0;let s=t,i;return typeof t=="boolean"?(s=(a,o)=>{const l=a.toLowerCase();return o.toLowerCase().includes(l)},i=r.join("")):i=r.join(),s(n,i,e)}function Aue(n,e){const t=(r,s,i)=>{const a=r?r.children:n;let o=null;if(r){const l=i?`${i.key}${cF}${r.value}`:`${r.value}`,u=i?Iue(i.pos,s):`${s}`;o={data:Object.assign({},r),ind:s,key:l,pos:u,level:i?i.level+1:0,parentKey:i?i.key:null,path:i?[...i.path,l]:[l],valuePath:i?[...i.valuePath,r.value]:[r.value]},e(o)}a&&a.forEach((l,u)=>{t(l,u,o)})};t(null)}function Due(n){return n!=null&&n.length?Array.isArray(n[0])?n.map(e=>wy(e)):[wy(n)]:[]}function wy(n){return n.join(cF)}function kue(n,e){const t=n.split("-").map(i=>Number(i));let r=e,s=[];return t.forEach((i,a)=>{var o;r=a===0?r[i]:(o=r==null?void 0:r.children)===null||o===void 0?void 0:o[i],s.push(r==null?void 0:r.value)}),wy(s)}function dF(n){const e={};return Aue(n,t=>{const{key:r,parentKey:s}=t,i=Object.assign({},t);e[r]=i,i.parent=e[s],i.parent&&(i.parent.children=i.parent.children||[],i.parent.children.push(i))}),e}function fE(n,e){let t;return e?t=Mt.LEAF_ONLY_MERGE_TYPE:n?t=Mt.AUTO_MERGE_VALUE_MERGE_TYPE:t=Mt.NONE_MERGE_TYPE,t}class Nue extends Pe{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===N2&&this.getState("isOpen")&&this.close(t)},this.updateSearching=t=>{this._adapter.updateStates({isSearching:!1})},this.handleTagRemoveByKey=t=>{var r,s;const{keyEntities:i}=this.getStates(),{disabled:a}=this.getProps();if(a)return;const o=(r=i[t])!==null&&r!==void 0?r:{};!(!((s=o==null?void 0:o.data)===null||s===void 0)&&s.disable)&&this._handleMultipleSelect(o),this._adapter.rePositionDropdown()},this.handleTagRemoveInTrigger=t=>{const{treeData:r}=this.getStates(),s=kue(t,r);this.handleTagRemoveByKey(s)}}init(){const e=this.getProp("open")||this.getProp("defaultOpen");this.collectOptions(!0),this._adapter.updateLoadingKeyRefValue(new Set),this._adapter.updateLoadedKeyRefValue(new Set),e&&!this._isDisabled()&&this.open()}destroy(){this._adapter.unregisterClickOutsideHandler()}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filterTreeNode")}_notifyChange(e){const{onChangeWithObject:t,multiple:r}=this.getProps(),s=t?[]:"value";if(r){const i=[];e.forEach(a=>{const o=this.getItemPropPath(a,s);i.push(o)}),this._adapter.notifyChange(i)}else{const i=dt(e)||!("key"in e)?[]:this.getItemPropPath(e.key,s);this._adapter.notifyChange(i)}}_isLeaf(e){return this.getProp("loadData")?!!e.isLeaf:!e.children||!e.children.length}_clearInput(){this._adapter.updateInputValue("")}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}_isOptionDisabled(e,t){return Bi([e],t,!0).some(s=>t[s].data.disabled)}getItemPropPath(e,t,r){const s=r||this.getState("keyEntities"),i=s[e];let a=[];if(i)if(i._notExist)a=i.path;else{const o=i.path;a=Array.isArray(t)?o.map(l=>s[l].data):o.map(l=>s[l].data[t])}return a}_getCacheValue(e){const{selectedKeys:t}=this.getStates(),r=Array.from(t)[0];let s;if(gt(e[r]))if(rc(r,"not-exist-")){const i=r.match(/not-exist-(\S*)/)[1];gt(e[i])?s=i:s=e[i].valuePath}else s=r;else s=e[r].valuePath;return s}collectOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{treeData:t,value:r,defaultValue:s}=this.getProps(),i=dF(t);this._adapter.rePositionDropdown();let a;e?a=s:gt(i)||(a=this._getCacheValue(i));const o=this._isControlledComponent()?dt(r)?[]:r:a;Pue(o)?this.updateSelectedKey(o,i):this._adapter.updateStates({keyEntities:i})}handleValueChange(e){const{keyEntities:t}=this.getStates();this.updateSelectedKey(e,t)}_getClearSelectedKey(e){const t={},{searchPlaceholder:r,placeholder:s,multiple:i}=this.getProps();return t.selectedKeys=new Set([]),t.activeKeys=new Set([]),t.filteredKeys=new Set([]),e&&!i&&(t.inputPlaceHolder=r||s||"",t.inputValue=""),t}updateSelectedKey(e,t){const{changeOnSelect:r,onChangeWithObject:s,multiple:i}=this.getProps(),{activeKeys:a,loading:o,keyEntities:l,selectedKeys:u}=this.getStates(),d=this._adapter.getLoadingKeyRefValue(),h=this._isFilterable(),f=[...a].filter(b=>d.has(b)),p=xue(e),_=s&&Ia(p[0])?p.map(b=>b.value):p,y=Due(_);let v={};const m=y.length>0?y[0]:void 0,w=m?t[m]:void 0;if(w)if(r||this._isLeaf(w.data)){if(v.selectedKeys=new Set([m]),f.length||(v.activeKeys=new Set(w.path)),h&&!i){const b=this.renderDisplayText(m,t);v.inputPlaceHolder=b}}else ke(y,Array.from(u))&&(v=this._getClearSelectedKey(h));else if(e&&e.length){const b=_[_.length-1],E=`not-exist-${b}`,S={data:{label:b,value:b},key:E,path:_,_notExist:!0};if(v.selectedKeys=new Set([E]),h&&!i){const C=this._defaultRenderText(_);v.inputPlaceHolder=C}t[E]=S}else if(o){v.keyEntities=sle(l,t),this._adapter.updateStates(v);return}else v=this._getClearSelectedKey(h);v.keyEntities=t,this._adapter.updateStates(v)}open(){const e=this._isFilterable(),{multiple:t}=this.getProps();this._adapter.openMenu(),e&&(this._clearInput(),!t&&this.toggle2SearchInput(!0)),this._isControlledComponent()&&this.reCalcActiveKeys(),this._adapter.notifyDropdownVisibleChange(!0),this._adapter.registerClickOutsideHandler(r=>this.close(r))}reCalcActiveKeys(){const{selectedKeys:e,activeKeys:t,keyEntities:r}=this.getStates(),s=[...e][0],i=r[s];if(!i)return;const a=new Set(i.path);ke(a,t)||this._adapter.updateStates({activeKeys:a})}close(e,t){const{multiple:r}=this.getProps();if(this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.unregisterClickOutsideHandler(),this._isFilterable()){const{selectedKeys:s,isSearching:i}=this.getStates();let a="";t&&!r?a=this.renderDisplayText(t):s.size&&!r&&(a=this.renderDisplayText([...s][0])),this._adapter.updateStates({inputValue:a}),!r&&this.toggle2SearchInput(!1),!r&&this._adapter.updateFocusState(!1)}this._notifyBlur(e)}focus(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.focusInput(),this._adapter.updateFocusState(!0)}blur(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.blurInput(),this._adapter.updateFocusState(!1)}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focus()):this._adapter.toggleInputShow(e,()=>{})}handleItemClick(e,t){this._isDisabled()||(this.handleSingleSelect(e,t),this._adapter.rePositionDropdown())}handleItemHover(e,t){this._isDisabled()||this.handleShowNextByHover(t)}handleShowNextByHover(e){const{keyEntities:t}=this.getStates(),{data:r,key:s}=e,i=this._isLeaf(r),a=t[s].path;this._adapter.updateStates({activeKeys:new Set(a)}),i||this.notifyIfLoadData(e)}onItemCheckboxClick(e){this._isDisabled()||(this._handleMultipleSelect(e),this._adapter.rePositionDropdown())}handleClick(e){const t=this._isDisabled(),r=this._isFilterable(),{isOpen:s}=this.getStates();t||(s?s&&!r&&this.close(e):(this.open(),this._notifyFocus(e)))}handleSelectionEnterPress(e){$s(e)&&this.handleClick(e)}toggleHoverState(e){this._adapter.toggleHovering(e)}_defaultRenderText(e,t){const r=this.getProp("separator");return t&&typeof t=="function"?t(e):e.join(r)}renderDisplayText(e,t){const r=this.getProp("displayRender"),s=this.getProp("displayProp"),i=this.getItemPropPath(e,s,t);return this._defaultRenderText(i,r)}handleNodeLoad(e){const{data:t,key:r}=e,s=new Set(this._adapter.getLoadingKeyRefValue()),a=new Set(this._adapter.getLoadedKeyRefValue()).add(r),o=new Set([...s]);o.delete(r),this._adapter.notifyOnLoad(a,t),this._adapter.updateLoadingKeyRefValue(o),this._adapter.updateLoadedKeyRefValue(a),this._adapter.updateStates({loadingKeys:o,loadedKeys:a})}notifyIfLoadData(e){const{data:t,key:r}=e;if(this._adapter.updateStates({loading:!1}),!t.isLeaf&&!t.children&&this.getProp("loadData")){const s=this._adapter.getLoadedKeyRefValue(),i=new Set(this._adapter.getLoadingKeyRefValue());if(s.has(r)||i.has(r))return;this._adapter.updateStates({loading:!0});const{keyEntities:a}=this.getStates(),o=this.getItemPropPath(r,[],a),l=i.add(r);this._adapter.updateLoadingKeyRefValue(l),this._adapter.updateStates({loadingKeys:l}),this._adapter.notifyLoadData(o,this.handleNodeLoad.bind(this,e))}}handleSingleSelect(e,t){const{changeOnSelect:r,filterLeafOnly:s,multiple:i,enableLeafClick:a}=this.getProps(),{keyEntities:o,selectedKeys:l,isSearching:u}=this.getStates(),d=this._isFilterable(),{data:h,key:f}=t,p=this._isLeaf(h),_=o[f].path,y=[f],v=f!==[...l][0];if(!p&&!r&&!u){this._adapter.updateStates({activeKeys:new Set(_)}),this.notifyIfLoadData(t);return}if(i)this._adapter.updateStates({activeKeys:new Set(_)}),p&&a&&this.onItemCheckboxClick(t);else if(this._adapter.notifySelect(h.value),v){if(this._notifyChange(t),this.notifyIfLoadData(t),this._isControlledComponent()){this._adapter.updateStates({activeKeys:new Set(_)}),p&&this.close(e);return}this._adapter.updateStates({activeKeys:new Set(_),selectedKeys:new Set(y)});const m=this.renderDisplayText(f);d&&this._adapter.updateInputPlaceHolder(m),p?this.close(e,f):!s&&u&&this.close(e,f)}else this.close(e)}_handleMultipleSelect(e){const{checkRelation:t}=this.getProps();t===Mt.RELATED?this._handleRelatedMultipleSelect(e):t==="unRelated"&&this._handleUnRelatedMultipleSelect(e),this._adapter.updateStates({inputValue:""})}_handleRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s,resolvedCheckedKeys:i}=this.getStates(),{autoMergeValue:a,max:o,disableStrictly:l,leafOnly:u}=this.getProps(),d=r.has(t),h=l?this.calcCheckedStatus(!d,t):!d,{checkedKeys:f,halfCheckedKeys:p}=l?this.calcNonDisabledCheckedKeys(t,h):this.calcCheckedKeys(t,h),_=fE(a,u),y=_===Mt.LEAF_ONLY_MERGE_TYPE,v=_===Mt.NONE_MERGE_TYPE,m=new Set(qs(f,s,y)),w=v?f:m;if(jt(o)){if(v){if(r.size<f.size&&f.size>o){const b=[];f.forEach(E=>{b.push(s[E])}),this._adapter.notifyOnExceed(b);return}}else if(i.size<m.size&&m.size>o){const b=[];m.forEach(E=>{b.push(s[E])}),this._adapter.notifyOnExceed(b);return}}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:f,halfCheckedKeys:p,resolvedCheckedKeys:m}),this._notifyChange(w),h&&this._notifySelect(w)}_handleUnRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s}=this.getStates(),{max:i}=this.getProps(),a=new Set(r);let o;if(r.has(t))a.delete(t),o=!1;else{if(jt(i)&&r.size>=i){const u=[];r.forEach(d=>{u.push(s[d])}),this._adapter.notifyOnExceed(u);return}a.add(t),o=!0}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:a}),this._notifyChange(a),o&&this._notifySelect(a)}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),a=qs(Ui([e],r,!1),r,!0);if(!a.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=a.filter(d=>!s.has(d)),u=t?[...l,...i]:_y(qs([...i],r,!0),l);return bp(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),a=qs(Ui([t],s,!1),s,!0);return a.some(d=>i.has(d))?!a.filter(d=>!i.has(d)).every(d=>r.has(d)):e}_notifySelect(e){const{keyEntities:t}=this.getStates(),r=[];e.forEach(i=>{var a,o;const l=(o=(a=t[i])===null||a===void 0?void 0:a.data)===null||o===void 0?void 0:o.value;l!==void 0&&r.push(l)});const s=r.length===1?r[0]:r;this._adapter.notifySelect(s)}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?aF(e,r,s,i):oF(e,r,s,i)}handleInputChange(e){this._adapter.updateInputValue(e);const{keyEntities:t}=this.getStates(),{treeNodeFilterProp:r,filterTreeNode:s,filterLeafOnly:i}=this.getProps();let a=[];e&&(a=Object.values(t).filter(o=>{const{key:l,_notExist:u,data:d}=o;if(u)return!1;const h=this.getItemPropPath(l,r);return Rue(e,d,s,h)}).filter(o=>s&&!i||this._isLeaf(o)).map(o=>o.key)),this._adapter.updateStates({isSearching:!!e,filteredKeys:new Set(a)}),this._adapter.notifyOnSearch(e),this._adapter.rePositionDropdown()}handleClear(){const{isSearching:e}=this.getStates(),{searchPlaceholder:t,placeholder:r,multiple:s}=this.getProps(),i=this._isFilterable(),a=this._isControlledComponent(),o={};s?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch(""),o.checkedKeys=new Set([]),o.halfCheckedKeys=new Set([]),o.selectedKeys=new Set([]),o.activeKeys=new Set([]),o.resolvedCheckedKeys=new Set([]),this._adapter.notifyChange([])):i&&e?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")):(i&&(o.inputValue="",o.inputPlaceHolder=t||r||"",this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")),a||(o.selectedKeys=new Set([])),o.activeKeys=new Set([]),o.filteredKeys=new Set([]),this._adapter.notifyChange([])),this._adapter.updateStates(o),this._adapter.notifyClear(),this._adapter.rePositionDropdown()}handleClearEnterPress(e){$s(e)&&this.handleClear()}getRenderData(){const{keyEntities:e,isSearching:t}=this.getStates(),r=this._isFilterable();return t&&r?this.getFilteredData():Object.values(e).filter(s=>s.parentKey===null&&!s._notExist).sort((s,i)=>parseInt(s.ind,10)-parseInt(i.ind,10))}getFilteredData(){const{treeNodeFilterProp:e,filterSorter:t}=this.getProps(),{filteredKeys:r,keyEntities:s,inputValue:i}=this.getStates(),a=[];return[...r].forEach(l=>{const u=s[l];if(!u)return;const d=this.getItemPropPath(l,[]),h=d.map(p=>p[e]),f=this._isOptionDisabled(l,s);a.push({data:u.data,pathData:d,key:l,disabled:f,searchText:h})}),Te(t)&&a.sort((l,u)=>t(l.pathData,u.pathData,i)),a}handleListScroll(e,t){const{activeKeys:r,keyEntities:s}=this.getStates(),i=[...r][r.size-1],a=i?K(s,[i,"data"],null):null;this._adapter.notifyListScroll(e,{panelIndex:t,activeNode:a})}}var $ue=di,Lue=qr,Mue="[object Boolean]";function Fue(n){return n===!0||n===!1||Lue(n)&&$ue(n)==Mue}var jue=Fue;const hF=ge(jue),lm={PREFIX:`${Y}-checkbox`,INPUT:`${Y}-checkbox-input`,WRAPPER:""},Vue={PREFIX:`${Y}-checkboxGroup`},Ai={DIRECTION_SET:["horizontal","vertical"],TYPE_DEFAULT:"default",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",DEFAULT_DIRECTION:"vertical"};class Uue extends Pe{constructor(e){super(Object.assign({},e)),this.clickState=!1,this.handleFocusVisible=t=>{const{target:r}=t;try{if(this.clickState){this.clickState=!1;return}r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{Nt(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}notifyChange(e,t){const r=this._adapter.generateEvent(e,t);this._adapter.notifyChange(r)}handleChange(e){if(this.getProp("disabled"))return;if((e==null?void 0:e.type)==="click"&&(this.clickState=!0),this._adapter.focusCheckboxEntity(),this._adapter.getIsInGroup()){this._adapter.getGroupDisabled()||this.handleChangeInGroup(e);return}const i=!this.getState("checked");this._isControlledComponent("checked")?this.notifyChange(i,e):(this.setChecked(i),this.notifyChange(i,e))}handleChangeInGroup(e){const{value:t}=this.getProps(),i=!this._adapter.getGroupValue().includes(t),a=this._adapter.generateEvent(i,e);this._adapter.notifyChange(a),this._adapter.notifyGroupChange(a)}handleEnterPress(e){$s(e)&&this.handleChange(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}destroy(){}}const nT=g.createContext({});class Xv extends T.PureComponent{blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){const{indeterminate:e,checked:t,disabled:r,prefixCls:s,name:i,isPureCardType:a,addonId:o,extraId:l,focusInner:u,onInputFocus:d,onInputBlur:h}=this.props,f=s||lm.PREFIX,p=R({[`${f}-inner`]:!0,[`${f}-inner-checked`]:!!t,[`${f}-inner-pureCardType`]:a},lm.WRAPPER),_=R({[`${f}-inner-display`]:!0,[`${f}-focus`]:u,[`${f}-focus-border`]:u&&!t}),y=t?g.createElement(mie,null):e?g.createElement(pie,null):null,v={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":r,"aria-checked":t,"aria-labelledby":o,"aria-describedby":l||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:lm.INPUT,onChange:k,checked:t,disabled:r,onFocus:d,onBlur:h};return i&&(v.name=i),g.createElement("span",{className:p},g.createElement("input",Object.assign({},v,{ref:m=>{this.inputEntity=m}})),g.createElement("span",{className:_},y))}}Xv.contextType=nT;Xv.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,disabled:c.bool,onChange:c.func,children:c.node,grouped:c.bool,value:c.any,isPureCardType:c.bool,addonId:c.string,extraId:c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};Xv.defaultProps={onChange:k};class Ra extends we{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{const{onChange:t}=this.props;t&&t(e)},generateEvent:(e,t)=>{const{props:r}=this;return{target:Object.assign(Object.assign({},r),{checked:e}),stopPropagation:()=>{t.stopPropagation()},preventDefault:()=>{t.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation()}}}},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:e=>{this.context.checkboxGroup.onChange(e)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:Pa({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:Pa({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})},focusCheckboxEntity:()=>{this.focus()}})}constructor(e){super(e),this.handleChange=r=>this.foundation.handleChange(r),this.handleEnterPress=r=>this.foundation.handleEnterPress(r),this.handleFocusVisible=r=>{this.foundation.handleFocusVisible(r)},this.handleBlur=r=>{this.foundation.handleBlur()};const t=!1;this.state={checked:e.checked||e.defaultChecked||t,addonId:e.addonId,extraId:e.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new Uue(this.adapter)}componentDidUpdate(e){this.props.checked!==e.checked&&(dt(this.props.checked)?this.foundation.setChecked(!1):hF(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return!!(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){const{disabled:e,style:t,prefixCls:r,className:s,indeterminate:i,children:a,onMouseEnter:o,onMouseLeave:l,extra:u,value:d,role:h,tabIndex:f,id:p,type:_}=this.props,{checked:y,addonId:v,extraId:m,focusVisible:w}=this.state,b={checked:y,disabled:e},E=this.isInGroup();if(E){if(this.context.checkboxGroup.value){const M=(this.context.checkboxGroup.value||[]).includes(d);b.checked=M}this.context.checkboxGroup.disabled&&(b.disabled=this.context.checkboxGroup.disabled||this.props.disabled);const{isCardType:D,isPureCardType:$}=this.context.checkboxGroup;b.isCardType=D,b.isPureCardType=$,b.name=this.context.checkboxGroup.name}else b.isPureCardType=_===Ai.TYPE_PURECARD,b.isCardType=_===Ai.TYPE_CARD||b.isPureCardType;const S=r||lm.PREFIX,C=b.isCardType||b.isPureCardType,O=R(S,{[`${S}-disabled`]:b.disabled,[`${S}-indeterminate`]:i,[`${S}-checked`]:b.checked,[`${S}-unChecked`]:!b.checked,[`${S}-cardType`]:b.isCardType,[`${S}-cardType_disabled`]:b.disabled&&b.isCardType,[`${S}-cardType_enable`]:!(b.disabled&&b.isCardType),[`${S}-cardType_checked`]:b.isCardType&&b.checked&&!b.disabled,[`${S}-cardType_checked_disabled`]:b.isCardType&&b.checked&&b.disabled,[s]:!!s,[`${S}-focus`]:w&&C}),I=R(`${S}-extra`,{[`${S}-cardType_extra_noChildren`]:b.isCardType&&!a});E&&this.context.checkboxGroup.name;const P=this.props["x-semi-children-alias"]||"children",x=()=>!a&&!u?null:g.createElement("div",{className:`${S}-content`},a?g.createElement("span",{id:v,className:`${S}-addon`,"x-semi-prop":P},a):null,u?g.createElement("div",{id:m,className:I,"x-semi-prop":"extra"},u):null);return g.createElement("span",Object.assign({role:h,tabIndex:f,style:t,className:O,id:p,onMouseEnter:o,onMouseLeave:l,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),g.createElement(Xv,Object.assign({},this.props,b,{addonId:a&&v,extraId:u&&m,isPureCardType:b.isPureCardType,ref:D=>{this.checkboxEntity=D},focusInner:w&&!C,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),x())}}Ra.contextType=nT;Ra.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,defaultChecked:c.bool,disabled:c.bool,indeterminate:c.bool,onChange:c.func,value:c.any,style:c.object,className:c.string,prefixCls:c.string,onMouseEnter:c.func,onMouseLeave:c.func,extra:c.node,index:c.number,"aria-label":c.string,tabIndex:c.number,preventScroll:c.bool,type:c.string};Ra.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:k,onMouseEnter:k,onMouseLeave:k,type:"default"};Ra.elementType="Checkbox";class rT extends Pe{static get checkboxGroupDefaultAdapter(){return{}}constructor(e){super(Object.assign(Object.assign({},rT.checkboxGroupDefaultAdapter),e))}init(){const{defaultValue:e,value:t}=this.getProps();typeof e<"u"&&!Array.isArray(e)&&Nt(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),typeof t<"u"&&!Array.isArray(t)&&Nt(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(e){this._adapter.notifyChange(e)}handleChange(e){const t=this.getState("value");let r=[];Array.isArray(t)||(r=[t]),e.target.checked?r=[...t,e.target.value]:r=t.filter((i,a)=>i!==e.target.value),"value"in this.getProps()?this.notifyChange(r):(this._adapter.updateGroupValue(r),this.notifyChange(r))}getFormatName(){return this.getProp("name")||"default"}handlePropValueChange(e){Array.isArray(e)?this._adapter.updateGroupValue(e):(typeof e>"u"&&this._adapter.updateGroupValue([]),Nt(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}}class wp extends we{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:e=>{this.setState({value:e})},notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}constructor(e){super(e),this.state={value:e.value||e.defaultValue},this.foundation=new rT(this.adapter),this.onChange=this.onChange.bind(this)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){ke(e.value,this.props.value)||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(e){this.foundation.handleChange(e)}render(){const{children:e,options:t,prefixCls:r,direction:s,className:i,id:a,style:o,type:l,disabled:u}=this.props,d=l===Ai.TYPE_PURECARD,h=l===Ai.TYPE_CARD||d,f=r||Vue.PREFIX,p=R({[f]:!0,[`${f}-wrapper`]:!0,[`${f}-${s}`]:s,[`${f}-${s}-cardType`]:s&&h,[`${f}-${s}-pureCardType`]:s&&d},i),_=this.state.value.slice();let y;return t?y=(t||[]).map((v,m)=>typeof v=="string"?g.createElement(Ra,{role:"listitem",key:m,disabled:this.props.disabled,value:v,prefixCls:r},v):g.createElement(Ra,{role:"listitem",key:m,disabled:v.disabled||this.props.disabled,value:v.value,prefixCls:r,extra:v.extra,className:v.className,style:v.style,onChange:v.onChange},v.label)):e&&(y=g.Children.toArray(e).map((v,m)=>g.cloneElement(v,{key:m,role:"listitem"}))),g.createElement("div",Object.assign({id:a,role:"list","aria-label":this.props["aria-label"],className:p,style:o,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),g.createElement(nT.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:_,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:h,isPureCardType:d}}},y))}}wp.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,defaultValue:c.array,disabled:c.bool,name:c.string,options:c.array,value:c.array,onChange:c.func,children:c.node,prefixCls:c.string,direction:c.oneOf(Ai.DIRECTION_SET),className:c.string,type:c.oneOf([Ai.TYPE_DEFAULT,Ai.TYPE_CARD,Ai.TYPE_PURECARD]),style:c.object};wp.defaultProps={disabled:!1,onChange:()=>{},type:Ai.TYPE_DEFAULT,defaultValue:[],direction:Ai.DEFAULT_DIRECTION};class pE extends Ra{}pE.Group=wp;function gE(){return gE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gE.apply(null,arguments)}function Bue(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,py(n,e)}var cR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Hue(n,e){return!!(n===e||cR(n)&&cR(e))}function zue(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Hue(n[t],e[t]))return!1;return!0}function Zb(n,e){e===void 0&&(e=zue);var t,r=[],s,i=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return i&&t===this&&e(o,r)||(s=n.apply(this,o),i=!0,t=this,r=o),s}return a}var Kue=typeof performance=="object"&&typeof performance.now=="function",dR=Kue?function(){return performance.now()}:function(){return Date.now()};function hR(n){cancelAnimationFrame(n.id)}function Wue(n,e){var t=dR();function r(){dR()-t>=e?n.call(null):s.id=requestAnimationFrame(r)}var s={id:requestAnimationFrame(r)};return s}var Jb=-1;function fR(n){if(n===void 0&&(n=!1),Jb===-1||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),Jb=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Jb}var Pu=null;function pR(n){if(n===void 0&&(n=!1),Pu===null||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Pu="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Pu="negative":Pu="positive-ascending"),document.body.removeChild(e),Pu}return Pu}var Gue=150,Yue=function(e,t){return e};function que(n){var e,t=n.getItemOffset,r=n.getEstimatedTotalSize,s=n.getItemSize,i=n.getOffsetForIndexAndAlignment,a=n.getStartIndexForOffset,o=n.getStopIndexForStartIndex,l=n.initInstanceProps,u=n.shouldResetStyleCacheOnItemSizeChange,d=n.validateProps;return e=function(h){Bue(f,h);function f(_){var y;return y=h.call(this,_)||this,y._instanceProps=l(y.props,ee(y)),y._outerRef=void 0,y._resetIsScrollingTimeoutId=null,y.state={instance:ee(y),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof y.props.initialScrollOffset=="number"?y.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},y._callOnItemsRendered=void 0,y._callOnItemsRendered=Zb(function(v,m,w,b){return y.props.onItemsRendered({overscanStartIndex:v,overscanStopIndex:m,visibleStartIndex:w,visibleStopIndex:b})}),y._callOnScroll=void 0,y._callOnScroll=Zb(function(v,m,w){return y.props.onScroll({scrollDirection:v,scrollOffset:m,scrollUpdateWasRequested:w})}),y._getItemStyle=void 0,y._getItemStyle=function(v){var m=y.props,w=m.direction,b=m.itemSize,E=m.layout,S=y._getItemStyleCache(u&&b,u&&E,u&&w),C;if(S.hasOwnProperty(v))C=S[v];else{var O=t(y.props,v,y._instanceProps),I=s(y.props,v,y._instanceProps),P=w==="horizontal"||E==="horizontal",x=w==="rtl",D=P?O:0;S[v]=C={position:"absolute",left:x?void 0:D,right:x?D:void 0,top:P?0:O,height:P?"100%":I,width:P?I:"100%"}}return C},y._getItemStyleCache=void 0,y._getItemStyleCache=Zb(function(v,m,w){return{}}),y._onScrollHorizontal=function(v){var m=v.currentTarget,w=m.clientWidth,b=m.scrollLeft,E=m.scrollWidth;y.setState(function(S){if(S.scrollOffset===b)return null;var C=y.props.direction,O=b;if(C==="rtl")switch(pR()){case"negative":O=-b;break;case"positive-descending":O=E-w-b;break}return O=Math.max(0,Math.min(O,E-w)),{isScrolling:!0,scrollDirection:S.scrollOffset<O?"forward":"backward",scrollOffset:O,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._onScrollVertical=function(v){var m=v.currentTarget,w=m.clientHeight,b=m.scrollHeight,E=m.scrollTop;y.setState(function(S){if(S.scrollOffset===E)return null;var C=Math.max(0,Math.min(E,b-w));return{isScrolling:!0,scrollDirection:S.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._outerRefSetter=function(v){var m=y.props.outerRef;y._outerRef=v,typeof m=="function"?m(v):m!=null&&typeof m=="object"&&m.hasOwnProperty("current")&&(m.current=v)},y._resetIsScrollingDebounced=function(){y._resetIsScrollingTimeoutId!==null&&hR(y._resetIsScrollingTimeoutId),y._resetIsScrollingTimeoutId=Wue(y._resetIsScrolling,Gue)},y._resetIsScrolling=function(){y._resetIsScrollingTimeoutId=null,y.setState({isScrolling:!1},function(){y._getItemStyleCache(-1,null)})},y}f.getDerivedStateFromProps=function(y,v){return Xue(y,v),d(y),null};var p=f.prototype;return p.scrollTo=function(y){y=Math.max(0,y),this.setState(function(v){return v.scrollOffset===y?null:{scrollDirection:v.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},p.scrollToItem=function(y,v){v===void 0&&(v="auto");var m=this.props,w=m.itemCount,b=m.layout,E=this.state.scrollOffset;y=Math.max(0,Math.min(y,w-1));var S=0;if(this._outerRef){var C=this._outerRef;b==="vertical"?S=C.scrollWidth>C.clientWidth?fR():0:S=C.scrollHeight>C.clientHeight?fR():0}this.scrollTo(i(this.props,y,v,E,this._instanceProps,S))},p.componentDidMount=function(){var y=this.props,v=y.direction,m=y.initialScrollOffset,w=y.layout;if(typeof m=="number"&&this._outerRef!=null){var b=this._outerRef;v==="horizontal"||w==="horizontal"?b.scrollLeft=m:b.scrollTop=m}this._callPropsCallbacks()},p.componentDidUpdate=function(){var y=this.props,v=y.direction,m=y.layout,w=this.state,b=w.scrollOffset,E=w.scrollUpdateWasRequested;if(E&&this._outerRef!=null){var S=this._outerRef;if(v==="horizontal"||m==="horizontal")if(v==="rtl")switch(pR()){case"negative":S.scrollLeft=-b;break;case"positive-ascending":S.scrollLeft=b;break;default:var C=S.clientWidth,O=S.scrollWidth;S.scrollLeft=O-C-b;break}else S.scrollLeft=b;else S.scrollTop=b}this._callPropsCallbacks()},p.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&hR(this._resetIsScrollingTimeoutId)},p.render=function(){var y=this.props,v=y.children,m=y.className,w=y.direction,b=y.height,E=y.innerRef,S=y.innerElementType,C=y.innerTagName,O=y.itemCount,I=y.itemData,P=y.itemKey,x=P===void 0?Yue:P,D=y.layout,$=y.outerElementType,M=y.outerTagName,V=y.style,B=y.useIsScrolling,F=y.width,W=this.state.isScrolling,N=w==="horizontal"||D==="horizontal",j=N?this._onScrollHorizontal:this._onScrollVertical,L=this._getRangeToRender(),te=L[0],Q=L[1],ie=[];if(O>0)for(var le=te;le<=Q;le++)ie.push(T.createElement(v,{data:I,key:x(le,I),index:le,isScrolling:B?W:void 0,style:this._getItemStyle(le)}));var Ee=r(this.props,this._instanceProps);return T.createElement($||M||"div",{className:m,onScroll:j,ref:this._outerRefSetter,style:gE({position:"relative",height:b,width:F,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:w},V)},T.createElement(S||C||"div",{children:ie,ref:E,style:{height:N?"100%":Ee,pointerEvents:W?"none":void 0,width:N?Ee:"100%"}}))},p._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var y=this.props.itemCount;if(y>0){var v=this._getRangeToRender(),m=v[0],w=v[1],b=v[2],E=v[3];this._callOnItemsRendered(m,w,b,E)}}if(typeof this.props.onScroll=="function"){var S=this.state,C=S.scrollDirection,O=S.scrollOffset,I=S.scrollUpdateWasRequested;this._callOnScroll(C,O,I)}},p._getRangeToRender=function(){var y=this.props,v=y.itemCount,m=y.overscanCount,w=this.state,b=w.isScrolling,E=w.scrollDirection,S=w.scrollOffset;if(v===0)return[0,0,0,0];var C=a(this.props,S,this._instanceProps),O=o(this.props,C,S,this._instanceProps),I=!b||E==="backward"?Math.max(1,m):1,P=!b||E==="forward"?Math.max(1,m):1;return[Math.max(0,C-I),Math.max(0,Math.min(v-1,O+P)),C,O]},f}(T.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Xue=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},sT=que({getItemOffset:function(e,t){var r=e.itemSize;return t*r},getItemSize:function(e,t){var r=e.itemSize;return r},getEstimatedTotalSize:function(e){var t=e.itemCount,r=e.itemSize;return r*t},getOffsetForIndexAndAlignment:function(e,t,r,s,i,a){var o=e.direction,l=e.height,u=e.itemCount,d=e.itemSize,h=e.layout,f=e.width,p=o==="horizontal"||h==="horizontal",_=p?f:l,y=Math.max(0,u*d-_),v=Math.min(y,t*d),m=Math.max(0,t*d-_+d+a);switch(r==="smart"&&(s>=m-_&&s<=v+_?r="auto":r="center"),r){case"start":return v;case"end":return m;case"center":{var w=Math.round(m+(v-m)/2);return w<Math.ceil(_/2)?0:w>y+Math.floor(_/2)?y:w}case"auto":default:return s>=m&&s<=v?s:s<m?m:v}},getStartIndexForOffset:function(e,t){var r=e.itemCount,s=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/s)))},getStopIndexForStartIndex:function(e,t,r){var s=e.direction,i=e.height,a=e.itemCount,o=e.itemSize,l=e.layout,u=e.width,d=s==="horizontal"||l==="horizontal",h=t*o,f=d?u:i,p=Math.ceil((f+r-h)/o);return Math.max(0,Math.min(a-1,t+p-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const Que=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,a=s[e];return i(a,e,r)},lt=uF.PREFIX_OPTION;let Qv=class extends T.PureComponent{constructor(){var e;super(...arguments),e=this,this.onClick=(t,r)=>{const{onItemClick:s}=this.props;r.data.disabled||"disabled"in r&&r.disabled||s(t,r)},this.handleItemEnterPress=(t,r)=>{$s(t)&&this.onClick(t,r)},this.onHover=(t,r)=>{const{showNext:s,onItemHover:i}=this.props;r.data.disabled||s===Mt.SHOW_NEXT_BY_HOVER&&i(t,r)},this.onCheckboxChange=(t,r)=>{const{onItemCheckboxClick:s}=this.props;t.stopPropagation(),t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation(),s(r)},this.getItemStatus=t=>{const{activeKeys:r,selectedKeys:s,loadedKeys:i,loadingKeys:a}=this.props,o={active:!1,selected:!1,loading:!1};return r.has(t)&&(o.active=!0),s.has(t)&&(o.selected=!0),a.has(t)&&!i.has(t)&&(o.loading=!0),o},this.renderIcon=function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=i=>i+(r?` ${lt}-icon-left`:"");switch(t){case"child":const{expandIcon:i}=e.props;return i||g.createElement(x2,{className:s(`${lt}-icon ${lt}-icon-expand`)});case"tick":return g.createElement(Hv,{className:s(`${lt}-icon ${lt}-icon-active`)});case"loading":return g.createElement(qi,{wrapperClassName:s(`${lt}-spin-icon`)});case"empty":return g.createElement("span",{"aria-hidden":!0,className:s(`${lt}-icon ${lt}-icon-empty`)});default:return null}},this.highlight=t=>{const r=[],{keyword:s,separator:i}=this.props;return t.forEach((a,o)=>{typeof a=="string"&&rc(a,s)?a.split(s).forEach((l,u)=>{u>0&&r.push(g.createElement("span",{className:`${lt}-label-highlight`,key:`${u}-${o}`},s)),r.push(l)}):r.push(a),o!==t.length-1&&r.push(i)}),r},this.renderFlattenOptionItem=(t,r,s)=>{var i;const{multiple:a,selectedKeys:o,checkedKeys:l,halfCheckedKeys:u,keyword:d,filterRender:h,virtualize:f}=this.props,{searchText:p,key:_,disabled:y,pathData:v}=t,m=o.has(_),w=R(lt,{[`${lt}-flatten`]:!h,[`${lt}-disabled`]:y,[`${lt}-select`]:m&&!a}),b=C=>{this.onClick(C,t)},E=C=>this.handleItemEnterPress(C,t),S=C=>this.onCheckboxChange(C,t);if(h){const C={className:w,inputValue:d,disabled:y,data:v,checkStatus:{checked:l.has(t.key),halfChecked:u.has(t.key)},selected:m,onClick:b,onCheck:S},O=h(C),I=f?{key:_,style:Object.assign(Object.assign({},(i=O.props.style)!==null&&i!==void 0?i:{}),s)}:{key:_};return g.cloneElement(O,I)}return g.createElement("li",{role:"menuitem",className:w,style:s,key:_,onClick:b,onKeyPress:E},g.createElement("span",{className:`${lt}-label`},!a&&this.renderIcon("empty"),a&&g.createElement(pE,{onChange:S,disabled:y,indeterminate:u.has(t.key),checked:l.has(t.key),className:`${lt}-label-checkbox`}),this.highlight(p)))},this.renderFlattenOption=t=>{const{virtualize:r}=this.props;return g.createElement("ul",{className:`${lt}-list`,key:"flatten-list"},r?this.renderVirtualizeList(t):t.map(i=>this.renderFlattenOptionItem(i)))},this.renderVirtualizeList=t=>{var r;const{direction:s}=this.context,{virtualize:i}=this.props;return g.createElement(sT,{height:i.height,itemCount:t.length,itemSize:i.itemSize,itemData:{visibleOptions:t,renderOption:this.renderFlattenOptionItem},width:(r=i.width)!==null&&r!==void 0?r:"100%",style:{direction:s}},Que)}}renderItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const{multiple:r,checkedKeys:s,halfCheckedKeys:i}=this.props;let a;const o=t.length;return t.push(g.createElement("ul",{role:"menu",className:`${lt}-list`,key:e[0].key,onScroll:l=>this.props.onListScroll(l,o)},e.map(l=>{const{data:u,key:d,parentKey:h}=l,{children:f,label:p,disabled:_,isLeaf:y}=u,{active:v,selected:m,loading:w}=this.getItemStatus(d),b=!!f&&f.length,E=b||this.props.loadData&&!y;v&&b&&(a=l);const S=R(lt,{[`${lt}-active`]:v&&!m,[`${lt}-select`]:m&&!r,[`${lt}-disabled`]:_}),C=h?{"aria-owns":`cascaderItem-${h}`}:{};return g.createElement("li",Object.assign({role:"menuitem",id:`cascaderItem-${d}`,"aria-expanded":v,"aria-haspopup":!!E,"aria-disabled":_},C,{className:S,key:d,onClick:O=>{this.onClick(O,l)},onKeyPress:O=>this.handleItemEnterPress(O,l),onMouseEnter:O=>{this.onHover(O,l)}}),g.createElement("span",{className:`${lt}-label`},m&&!r&&this.renderIcon("tick"),!m&&!r&&this.renderIcon("empty"),r&&g.createElement(pE,{onChange:O=>this.onCheckboxChange(O,l),disabled:_,indeterminate:i.has(l.key),checked:s.has(l.key),className:`${lt}-label-checkbox`}),g.createElement("span",null,p)),E?this.renderIcon(w?"loading":"child",!0):null)}))),a&&t.concat(this.renderItem(a.children,t)),t}renderEmpty(){const{emptyContent:e}=this.props;return e===null?null:g.createElement(dn,{componentName:"Cascader"},t=>g.createElement("ul",{className:`${lt} ${lt}-empty`,key:"empty-list"},g.createElement("span",{className:`${lt}-label`,"x-semi-prop":"emptyContent"},e||t.emptyText)))}render(){const{data:e,searchable:t}=this.props,{direction:r}=this.context,s=!e||!e.length;let i;const a=R({[`${lt}-lists`]:!0,[`${lt}-lists-rtl`]:r==="rtl",[`${lt}-lists-empty`]:s});return s?i=this.renderEmpty():i=t?this.renderFlattenOption(e):this.renderItem(e),g.createElement("div",{className:a},i)}};Qv.contextType=Nr;Qv.propTypes={data:c.array,emptyContent:c.node,searchable:c.bool,onItemClick:c.func,onItemHover:c.func,multiple:c.bool,showNext:c.oneOf([Mt.SHOW_NEXT_BY_CLICK,Mt.SHOW_NEXT_BY_HOVER]),checkedKeys:c.object,halfCheckedKeys:c.object,onItemCheckboxClick:c.func,separator:c.string,keyword:c.string,virtualize:c.object,expandIcon:c.node};Qv.defaultProps={empty:!1};const fF={PREFIX:`${Y}-tag`},yd={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]};var Zue=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ir=fF.PREFIX,pF=yd.TAG_COLOR,gF=yd.TAG_SIZE,mF=yd.TAG_TYPE,Jue=yd.AVATAR_SHAPE;class qn extends T.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,r){const{onClose:s}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),s&&s(t,e,r),!e.defaultPrevented&&this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:r,onKeyDown:s}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),Ys(e);break;case"Enter":r(e),Ys(e);break;case"Escape":e.target.blur();break}s&&s(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return g.createElement(Vc,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:r,size:s,color:i,closable:a,visible:o,onClose:l,onClick:u,className:d,type:h,shape:f,avatarSrc:p,avatarShape:_,tabIndex:y,prefixIcon:v,suffixIcon:m}=e,w=Zue(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:b}=this.state,E=u!==qn.defaultProps.onClick||a,S={role:"button",tabIndex:y||0,onKeyDown:this.handleKeyDown},C=Object.assign(Object.assign({},w),{onClick:u,tabIndex:y,className:R(ir,{[`${ir}-default`]:s==="default",[`${ir}-small`]:s==="small",[`${ir}-large`]:s==="large",[`${ir}-square`]:f==="square",[`${ir}-circle`]:f==="circle",[`${ir}-${h}`]:h,[`${ir}-${i}-${h}`]:i&&h,[`${ir}-closable`]:a,[`${ir}-invisible`]:!b,[`${ir}-avatar-${_}`]:p},d)}),O=E?Object.assign(Object.assign({},C),S):C,I=a?g.createElement("div",{className:`${ir}-close`,onClick:D=>this.close(D,r,t)},g.createElement(Bv,{size:"small"})):null,P=Oe(r),x=R(`${ir}-content`,`${ir}-content-${P?"ellipsis":"center"}`);return g.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${a?"Closable ":""}Tag: ${r}`:""},O),v?g.createElement("div",{className:`${ir}-prefix-icon`},v):null,p?this.renderAvatar():null,g.createElement("div",{className:x},r),m?g.createElement("div",{className:`${ir}-suffix-icon`},m):null,I)}}qn.defaultProps={size:gF[0],color:pF[0],closable:!1,type:mF[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null};qn.propTypes={children:c.node,tagKey:c.oneOfType([c.string,c.number]),size:c.oneOf(gF),color:c.oneOf(pF),type:c.oneOf(mF),closable:c.bool,visible:c.bool,onClose:c.func,onClick:c.func,prefixIcon:c.node,suffixIcon:c.node,style:c.object,className:c.string,avatarSrc:c.string,avatarShape:c.oneOf(Jue),"aria-label":c.string};const ece={PREFIX:`${Y}-tagInput`},gR={SIZE_SET:["large","default","small"],STATUS:["success","default","error","warning"]},Ig=(n,e)=>{let t=[];if(Oe(e)||jt(e))t=n.split(e);else if(m1(e)){const r=e[0];t=n;for(let s=1;s<e.length;s++)t=t.split(e[s]).join(r);t=t.split(r)}else t.push(n);return t};function tce(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}class nce extends Pe{constructor(e){super(Object.assign({},e)),this.handleInputChange=t=>{const{value:r}=t.target,{entering:s}=this.getStates();s?this._onInputChange(r,t):this._checkInputChangeValid(r)&&this._onInputChange(r,t)},this.handleInputCompositionStart=t=>{const{maxLength:r}=this.getProps();jt(r)&&this._adapter.setEntering(!0)},this.handleInputCompositionEnd=t=>{const{value:r}=t.target,{maxLength:s,onInputExceed:i,separator:a}=this.getProps();if(!jt(s))return;this._adapter.setEntering(!1);let o=!0;const l=Ig(r,a);let u=0;for(;u<l.length;u++)if(l[u].length>s){o=!1,Te(i)&&i(r);break}if(o)this._adapter.setInputValue(r);else{const d=l.slice(0,u);u<l.length&&d.push(l[u].slice(0,s)),this._adapter.setInputValue(d.join(a))}},this._checkInputChangeValid=t=>{const{maxLength:r,onInputExceed:s,separator:i}=this._adapter.getProps(),{inputValue:a}=this._adapter.getStates();let o=!0;if(jt(r)){const l=Ig(t,i),u=Ig(a,i),d=Math.max(l.length,u.length);for(let h=0;h<d;h++)if(!dt(l[h])&&(dt(u[h])||l[h].length>u[h].length)&&l[h].length>r){o=!1,Te(s)&&s(t);break}}return o},this.handleKeyDown=t=>{const{inputValue:r,tagsArray:s}=this._adapter.getStates(),i=t.keyCode;i===Nn.ENTER&&(t.preventDefault(),r!==""&&this._handleAddTags(t));const{length:a}=s;if(i===Nn.BACKSPACE&&r===""&&a>0){const o=s.slice(0,a-1),l=s[a-1];this._onRemove(o,l,a-1)}this._adapter.notifyKeyDown(t)}}_handleAddTags(e){const{separator:t,max:r,onExceed:s,allowDuplicates:i}=this._adapter.getProps(),{inputValue:a,tagsArray:o}=this._adapter.getStates();let l=Ig(a,t);l=l.filter((d,h)=>!i&&(o.includes(d)||l.indexOf(d)!==h)?!1:Oe(d)&&d.trim()!=="");let u=o.concat(l);jt(r)&&u.length>r&&(Te(s)&&s(u),u=u.slice(0,r),l=l.slice(0,r-o.length)),l.length>0&&this._onAdd(u,l),this._onInputChange("",e)}handleInputBlur(e){const{addOnBlur:t}=this._adapter.getProps();t===!0&&this._handleAddTags(e),this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputFocus(e){this._adapter.setFocusing(!0),this._adapter.notifyFocus(e)}handleClearEnterPress(e){$s(e)&&this.handleClearBtn(e)}handleClearBtn(e){const{inputValue:t,tagsArray:r}=this._adapter.getStates();r.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),t.length>0&&this._onInputChange("",e),e.stopPropagation()}handleTagClose(e){const{tagsArray:t}=this._adapter.getStates(),r=[...t];r.splice(e,1);const s=t[e];this._onRemove(r,s,e)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(e){const{disabled:t}=this.getProps();if(t)return;this._adapter.getClickOutsideHandler()||(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(s=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&this._adapter.toggleFocusing(!0)}handlePreventMouseDown(e){e&&Te(e.preventDefault)&&e.preventDefault()}_onRemove(e,t,r){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagRemove(t,r)}_onAdd(e,t){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagAdd(t)}_onInputChange(e,t){this._adapter.setInputValue(e),this._adapter.notifyInputChange(e,t)}handleSortEnd(e){const{oldIndex:t,newIndex:r}=e,{tagsArray:s}=this.getStates(),i=tce(s,t,r);this._isControlledComponent()||this._adapter.setTagsArray(i),this._adapter.notifyTagChange(i)}}function rce(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return T.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Zv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vd(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function iT(n){return"nodeType"in n}function Lr(n){var e,t;return n?vd(n)?n:iT(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function aT(n){const{Document:e}=Lr(n);return n instanceof e}function Ep(n){return vd(n)?!1:n instanceof Lr(n).HTMLElement}function yF(n){return n instanceof Lr(n).SVGElement}function _d(n){return n?vd(n)?n.document:iT(n)?aT(n)?n:Ep(n)||yF(n)?n.ownerDocument:document:document:document}const si=Zv?T.useLayoutEffect:T.useEffect;function Jv(n){const e=T.useRef(n);return si(()=>{e.current=n}),T.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function sce(){const n=T.useRef(null),e=T.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=T.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function mf(n,e){e===void 0&&(e=[n]);const t=T.useRef(n);return si(()=>{t.current!==n&&(t.current=n)},e),t}function Sp(n,e){const t=T.useRef();return T.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Ey(n){const e=Jv(n),t=T.useRef(null),r=T.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function Sy(n){const e=T.useRef();return T.useEffect(()=>{e.current=n},[n]),e.current}let e0={};function Cp(n,e){return T.useMemo(()=>{if(e)return e;const t=e0[n]==null?0:e0[n]+1;return e0[n]=t,n+"-"+t},[n,e])}function vF(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((i,a)=>{const o=Object.entries(a);for(const[l,u]of o){const d=i[l];d!=null&&(i[l]=d+n*u)}return i},{...e})}}const vc=vF(1),yf=vF(-1);function ice(n){return"clientX"in n&&"clientY"in n}function e_(n){if(!n)return!1;const{KeyboardEvent:e}=Lr(n.target);return e&&n instanceof e}function ace(n){if(!n)return!1;const{TouchEvent:e}=Lr(n.target);return e&&n instanceof e}function Cy(n){if(ace(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return ice(n)?{x:n.clientX,y:n.clientY}:null}const ko=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[ko.Translate.toString(n),ko.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),mR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function oce(n){return n.matches(mR)?n:n.querySelector(mR)}const lce={display:"none"};function uce(n){let{id:e,value:t}=n;return g.createElement("div",{id:e,style:lce},t)}function cce(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return g.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function dce(){const[n,e]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const _F=T.createContext(null);function hce(n){const e=T.useContext(_F);T.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function fce(){const[n]=T.useState(()=>new Set),e=T.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[T.useCallback(r=>{let{type:s,event:i}=r;n.forEach(a=>{var o;return(o=a[s])==null?void 0:o.call(a,i)})},[n]),e]}const pce={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},gce={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function mce(n){let{announcements:e=gce,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=pce}=n;const{announce:i,announcement:a}=dce(),o=Cp("DndLiveRegion"),[l,u]=T.useState(!1);if(T.useEffect(()=>{u(!0)},[]),hce(T.useMemo(()=>({onDragStart(h){let{active:f}=h;i(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:p}=h;e.onDragMove&&i(e.onDragMove({active:f,over:p}))},onDragOver(h){let{active:f,over:p}=h;i(e.onDragOver({active:f,over:p}))},onDragEnd(h){let{active:f,over:p}=h;i(e.onDragEnd({active:f,over:p}))},onDragCancel(h){let{active:f,over:p}=h;i(e.onDragCancel({active:f,over:p}))}}),[i,e])),!l)return null;const d=g.createElement(g.Fragment,null,g.createElement(uce,{id:r,value:s.draggable}),g.createElement(cce,{id:o,announcement:a}));return t?Os.createPortal(d,t):d}var On;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(On||(On={}));function Ty(){}function t0(n,e){return T.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function yce(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return T.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ii=Object.freeze({x:0,y:0});function bF(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function vce(n,e){const t=Cy(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function wF(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function _ce(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function yR(n){let{left:e,top:t,height:r,width:s}=n;return[{x:e,y:t},{x:e+s,y:t},{x:e,y:t+r},{x:e+s,y:t+r}]}function EF(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function vR(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const bce=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=vR(e,e.left,e.top),i=[];for(const a of r){const{id:o}=a,l=t.get(o);if(l){const u=bF(vR(l),s);i.push({id:o,data:{droppableContainer:a,value:u}})}}return i.sort(wF)},wce=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=yR(e),i=[];for(const a of r){const{id:o}=a,l=t.get(o);if(l){const u=yR(l),d=s.reduce((f,p,_)=>f+bF(u[_],p),0),h=Number((d/4).toFixed(4));i.push({id:o,data:{droppableContainer:a,value:h}})}}return i.sort(wF)};function Ece(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),i=Math.min(e.top+e.height,n.top+n.height),a=s-r,o=i-t;if(r<s&&t<i){const l=e.width*e.height,u=n.width*n.height,d=a*o,h=d/(l+u-d);return Number(h.toFixed(4))}return 0}const Sce=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const i of r){const{id:a}=i,o=t.get(a);if(o){const l=Ece(o,e);l>0&&s.push({id:a,data:{droppableContainer:i,value:l}})}}return s.sort(_ce)};function Cce(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function SF(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:ii}function Tce(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((a,o)=>({...a,top:a.top+n*o.y,bottom:a.bottom+n*o.y,left:a.left+n*o.x,right:a.right+n*o.x}),{...t})}}const Oce=Tce(1);function CF(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Ice(n,e,t){const r=CF(e);if(!r)return n;const{scaleX:s,scaleY:i,x:a,y:o}=r,l=n.left-a-(1-s)*parseFloat(t),u=n.top-o-(1-i)*parseFloat(t.slice(t.indexOf(" ")+1)),d=s?n.width/s:n.width,h=i?n.height/i:n.height;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l}}const Pce={ignoreTransform:!1};function bd(n,e){e===void 0&&(e=Pce);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=Lr(n).getComputedStyle(n);u&&(t=Ice(t,u,d))}const{top:r,left:s,width:i,height:a,bottom:o,right:l}=t;return{top:r,left:s,width:i,height:a,bottom:o,right:l}}function _R(n){return bd(n,{ignoreTransform:!0})}function xce(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Rce(n,e){return e===void 0&&(e=Lr(n).getComputedStyle(n)),e.position==="fixed"}function Ace(n,e){e===void 0&&(e=Lr(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?t.test(i):!1})}function t_(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(aT(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!Ep(s)||yF(s)||t.includes(s))return t;const i=Lr(n).getComputedStyle(s);return s!==n&&Ace(s,i)&&t.push(s),Rce(s,i)?t:r(s.parentNode)}return n?r(n):t}function TF(n){const[e]=t_(n,1);return e??null}function n0(n){return!Zv||!n?null:vd(n)?n:iT(n)?aT(n)||n===_d(n).scrollingElement?window:Ep(n)?n:null:null}function OF(n){return vd(n)?n.scrollX:n.scrollLeft}function IF(n){return vd(n)?n.scrollY:n.scrollTop}function mE(n){return{x:OF(n),y:IF(n)}}var kn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(kn||(kn={}));function PF(n){return!Zv||!n?!1:n===document.scrollingElement}function xF(n){const e={x:0,y:0},t=PF(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,i=n.scrollLeft<=e.x,a=n.scrollTop>=r.y,o=n.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:a,isRight:o,maxScroll:r,minScroll:e}}const Dce={x:.2,y:.2};function kce(n,e,t,r,s){let{top:i,left:a,right:o,bottom:l}=t;r===void 0&&(r=10),s===void 0&&(s=Dce);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=xF(n),p={x:0,y:0},_={x:0,y:0},y={height:e.height*s.y,width:e.width*s.x};return!u&&i<=e.top+y.height?(p.y=kn.Backward,_.y=r*Math.abs((e.top+y.height-i)/y.height)):!d&&l>=e.bottom-y.height&&(p.y=kn.Forward,_.y=r*Math.abs((e.bottom-y.height-l)/y.height)),!f&&o>=e.right-y.width?(p.x=kn.Forward,_.x=r*Math.abs((e.right-y.width-o)/y.width)):!h&&a<=e.left+y.width&&(p.x=kn.Backward,_.x=r*Math.abs((e.left+y.width-a)/y.width)),{direction:p,speed:_}}function Nce(n){if(n===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function RF(n){return n.reduce((e,t)=>vc(e,mE(t)),ii)}function $ce(n){return n.reduce((e,t)=>e+OF(t),0)}function Lce(n){return n.reduce((e,t)=>e+IF(t),0)}function AF(n,e){if(e===void 0&&(e=bd),!n)return;const{top:t,left:r,bottom:s,right:i}=e(n);TF(n)&&(s<=0||i<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Mce=[["x",["left","right"],$ce],["y",["top","bottom"],Lce]];class oT{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=t_(t),s=RF(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,a,o]of Mce)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=o(r),d=s[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ah{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Fce(n){const{EventTarget:e}=Lr(n);return n instanceof e?n:_d(n)}function r0(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var ys;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(ys||(ys={}));function bR(n){n.preventDefault()}function jce(n){n.stopPropagation()}var Ue;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Ue||(Ue={}));const DF={start:[Ue.Space,Ue.Enter],cancel:[Ue.Esc],end:[Ue.Space,Ue.Enter,Ue.Tab]},Vce=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Ue.Right:return{...t,x:t.x+25};case Ue.Left:return{...t,x:t.x-25};case Ue.Down:return{...t,y:t.y+25};case Ue.Up:return{...t,y:t.y-25}}};class lT{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Ah(_d(t)),this.windowListeners=new Ah(Lr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ys.Resize,this.handleCancel),this.windowListeners.add(ys.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ys.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&AF(r),t(ii)}handleKeyDown(e){if(e_(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:i=DF,coordinateGetter:a=Vce,scrollBehavior:o="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:ii;this.referenceCoordinates||(this.referenceCoordinates=d);const h=a(e,{active:t,context:r.current,currentCoordinates:d});if(h){const f=yf(h,d),p={x:0,y:0},{scrollableAncestors:_}=r.current;for(const y of _){const v=e.code,{isTop:m,isRight:w,isLeft:b,isBottom:E,maxScroll:S,minScroll:C}=xF(y),O=Nce(y),I={x:Math.min(v===Ue.Right?O.right-O.width/2:O.right,Math.max(v===Ue.Right?O.left:O.left+O.width/2,h.x)),y:Math.min(v===Ue.Down?O.bottom-O.height/2:O.bottom,Math.max(v===Ue.Down?O.top:O.top+O.height/2,h.y))},P=v===Ue.Right&&!w||v===Ue.Left&&!b,x=v===Ue.Down&&!E||v===Ue.Up&&!m;if(P&&I.x!==h.x){const D=y.scrollLeft+f.x,$=v===Ue.Right&&D<=S.x||v===Ue.Left&&D>=C.x;if($&&!f.y){y.scrollTo({left:D,behavior:o});return}$?p.x=y.scrollLeft-D:p.x=v===Ue.Right?y.scrollLeft-S.x:y.scrollLeft-C.x,p.x&&y.scrollBy({left:-p.x,behavior:o});break}else if(x&&I.y!==h.y){const D=y.scrollTop+f.y,$=v===Ue.Down&&D<=S.y||v===Ue.Up&&D>=C.y;if($&&!f.x){y.scrollTo({top:D,behavior:o});return}$?p.y=y.scrollTop-D:p.y=v===Ue.Down?y.scrollTop-S.y:y.scrollTop-C.y,p.y&&y.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(e,vc(yf(h,this.referenceCoordinates),p))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}lT.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=DF,onActivation:s}=e,{active:i}=t;const{code:a}=n.nativeEvent;if(r.start.includes(a)){const o=i.activatorNode.current;return o&&n.target!==o?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function wR(n){return!!(n&&"distance"in n)}function ER(n){return!!(n&&"delay"in n)}class uT{constructor(e,t,r){var s;r===void 0&&(r=Fce(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=_d(a),this.documentListeners=new Ah(this.document),this.listeners=new Ah(r),this.windowListeners=new Ah(Lr(a)),this.initialCoordinates=(s=Cy(i))!=null?s:ii,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ys.Resize,this.handleCancel),this.windowListeners.add(ys.DragStart,bR),this.windowListeners.add(ys.VisibilityChange,this.handleCancel),this.windowListeners.add(ys.ContextMenu,bR),this.documentListeners.add(ys.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ER(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(wR(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ys.Click,jce,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ys.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!s)return;const l=(t=Cy(e))!=null?t:ii,u=yf(s,l);if(!r&&o){if(wR(o)){if(o.tolerance!=null&&r0(u,o.tolerance))return this.handleCancel();if(r0(u,o.distance))return this.handleStart()}if(ER(o)&&r0(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ue.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Uce={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class kF extends uT{constructor(e){const{event:t}=e,r=_d(t.target);super(e,Uce,r)}}kF.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const Bce={move:{name:"mousemove"},end:{name:"mouseup"}};var yE;(function(n){n[n.RightClick=2]="RightClick"})(yE||(yE={}));class NF extends uT{constructor(e){super(e,Bce,_d(e.event.target))}}NF.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===yE.RightClick?!1:(r==null||r({event:t}),!0)}}];const s0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $F extends uT{constructor(e){super(e,s0)}static setup(){return window.addEventListener(s0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(s0.move.name,e)};function e(){}}}$F.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var Dh;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Dh||(Dh={}));var vf;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(vf||(vf={}));function Hce(n){let{acceleration:e,activator:t=Dh.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:a=5,order:o=vf.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=n;const p=Kce({delta:h,disabled:!i}),[_,y]=sce(),v=T.useRef({x:0,y:0}),m=T.useRef({x:0,y:0}),w=T.useMemo(()=>{switch(t){case Dh.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Dh.DraggableRect:return s}},[t,s,l]),b=T.useRef(null),E=T.useCallback(()=>{const C=b.current;if(!C)return;const O=v.current.x*m.current.x,I=v.current.y*m.current.y;C.scrollBy(O,I)},[]),S=T.useMemo(()=>o===vf.TreeOrder?[...u].reverse():u,[o,u]);T.useEffect(()=>{if(!i||!u.length||!w){y();return}for(const C of S){if((r==null?void 0:r(C))===!1)continue;const O=u.indexOf(C),I=d[O];if(!I)continue;const{direction:P,speed:x}=kce(C,I,w,e,f);for(const D of["x","y"])p[D][P[D]]||(x[D]=0,P[D]=0);if(x.x>0||x.y>0){y(),b.current=C,_(E,a),v.current=x,m.current=P;return}}v.current={x:0,y:0},m.current={x:0,y:0},y()},[e,E,r,y,i,a,JSON.stringify(w),JSON.stringify(p),_,u,S,d,JSON.stringify(f)])}const zce={x:{[kn.Backward]:!1,[kn.Forward]:!1},y:{[kn.Backward]:!1,[kn.Forward]:!1}};function Kce(n){let{delta:e,disabled:t}=n;const r=Sy(e);return Sp(s=>{if(t||!r||!s)return zce;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[kn.Backward]:s.x[kn.Backward]||i.x===-1,[kn.Forward]:s.x[kn.Forward]||i.x===1},y:{[kn.Backward]:s.y[kn.Backward]||i.y===-1,[kn.Forward]:s.y[kn.Forward]||i.y===1}}},[t,e,r])}function Wce(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Sp(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function Gce(n,e){return T.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,i=s.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...t,...i]},[]),[n,e])}var _f;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(_f||(_f={}));var vE;(function(n){n.Optimized="optimized"})(vE||(vE={}));const SR=new Map;function Yce(n,e){let{dragging:t,dependencies:r,config:s}=e;const[i,a]=T.useState(null),{frequency:o,measure:l,strategy:u}=s,d=T.useRef(n),h=v(),f=mf(h),p=T.useCallback(function(m){m===void 0&&(m=[]),!f.current&&a(w=>w===null?m:w.concat(m.filter(b=>!w.includes(b))))},[f]),_=T.useRef(null),y=Sp(m=>{if(h&&!t)return SR;if(!m||m===SR||d.current!==n||i!=null){const w=new Map;for(let b of n){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){w.set(b.id,b.rect.current);continue}const E=b.node.current,S=E?new oT(l(E),E):null;b.rect.current=S,S&&w.set(b.id,S)}return w}return m},[n,i,t,h,l]);return T.useEffect(()=>{d.current=n},[n]),T.useEffect(()=>{h||p()},[t,h]),T.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),T.useEffect(()=>{h||typeof o!="number"||_.current!==null||(_.current=setTimeout(()=>{p(),_.current=null},o))},[o,h,p,...r]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(u){case _f.Always:return!1;case _f.BeforeDragging:return t;default:return!t}}}function cT(n,e){return Sp(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function qce(n,e){return cT(n,e)}function Xce(n){let{callback:e,disabled:t}=n;const r=Jv(e),s=T.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,t]);return T.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function n_(n){let{callback:e,disabled:t}=n;const r=Jv(e),s=T.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[t]);return T.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Qce(n){return new oT(bd(n),n)}function CR(n,e,t){e===void 0&&(e=Qce);const[r,s]=T.useState(null);function i(){s(l=>{if(!n)return null;if(n.isConnected===!1){var u;return(u=l??t)!=null?u:null}const d=e(n);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const a=Xce({callback(l){if(n)for(const u of l){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(n)){i();break}}}}),o=n_({callback:i});return si(()=>{i(),n?(o==null||o.observe(n),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),a==null||a.disconnect())},[n]),r}function Zce(n){const e=cT(n);return SF(n,e)}const TR=[];function Jce(n){const e=T.useRef(n),t=Sp(r=>n?r&&r!==TR&&n&&e.current&&n.parentNode===e.current.parentNode?r:t_(n):TR,[n]);return T.useEffect(()=>{e.current=n},[n]),t}function ede(n){const[e,t]=T.useState(null),r=T.useRef(n),s=T.useCallback(i=>{const a=n0(i.target);a&&t(o=>o?(o.set(a,mE(a)),new Map(o)):null)},[]);return T.useEffect(()=>{const i=r.current;if(n!==i){a(i);const o=n.map(l=>{const u=n0(l);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,mE(u)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),r.current=n}return()=>{a(n),a(i)};function a(o){o.forEach(l=>{const u=n0(l);u==null||u.removeEventListener("scroll",s)})}},[s,n]),T.useMemo(()=>n.length?e?Array.from(e.values()).reduce((i,a)=>vc(i,a),ii):RF(n):ii,[n,e])}function OR(n,e){e===void 0&&(e=[]);const t=T.useRef(null);return T.useEffect(()=>{t.current=null},e),T.useEffect(()=>{const r=n!==ii;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?yf(n,t.current):ii}function tde(n){T.useEffect(()=>{if(!Zv)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function nde(n,e){return T.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:i}=r;return t[s]=a=>{i(a,e)},t},{}),[n,e])}function LF(n){return T.useMemo(()=>n?xce(n):null,[n])}const IR=[];function rde(n,e){e===void 0&&(e=bd);const[t]=n,r=LF(t?Lr(t):null),[s,i]=T.useState(IR);function a(){i(()=>n.length?n.map(l=>PF(l)?r:new oT(e(l),l)):IR)}const o=n_({callback:a});return si(()=>{o==null||o.disconnect(),a(),n.forEach(l=>o==null?void 0:o.observe(l))},[n]),s}function MF(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Ep(e)?e:n}function sde(n){let{measure:e}=n;const[t,r]=T.useState(null),s=T.useCallback(u=>{for(const{target:d}of u)if(Ep(d)){r(h=>{const f=e(d);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),i=n_({callback:s}),a=T.useCallback(u=>{const d=MF(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?e(d):null)},[e,i]),[o,l]=Ey(a);return T.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const ide=[{sensor:kF,options:{}},{sensor:lT,options:{}}],ade={current:{}},um={draggable:{measure:_R},droppable:{measure:_R,strategy:_f.WhileDragging,frequency:vE.Optimized},dragOverlay:{measure:bd}};class kh extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const ode={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new kh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ty},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:um,measureDroppableContainers:Ty,windowRect:null,measuringScheduled:!1},FF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ty,draggableNodes:new Map,over:null,measureDroppableContainers:Ty},Tp=T.createContext(FF),jF=T.createContext(ode);function lde(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new kh}}}function ude(n,e){switch(e.type){case On.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case On.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case On.DragEnd:case On.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case On.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new kh(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case On.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const a=new kh(n.droppable.containers);return a.set(t,{...i,disabled:s}),{...n,droppable:{...n.droppable,containers:a}}}case On.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const i=new kh(n.droppable.containers);return i.delete(t),{...n,droppable:{...n.droppable,containers:i}}}default:return n}}function cde(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=T.useContext(Tp),i=Sy(r),a=Sy(t==null?void 0:t.id);return T.useEffect(()=>{if(!e&&!r&&i&&a!=null){if(!e_(i)||document.activeElement===i.target)return;const o=s.get(a);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const h=oce(d);if(h){h.focus();break}}})}},[r,e,s,a,i]),null}function VF(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,i)=>i({transform:s,...r}),t):t}function dde(n){return T.useMemo(()=>({draggable:{...um.draggable,...n==null?void 0:n.draggable},droppable:{...um.droppable,...n==null?void 0:n.droppable},dragOverlay:{...um.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function hde(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const i=T.useRef(!1),{x:a,y:o}=typeof s=="boolean"?{x:s,y:s}:s;si(()=>{if(!a&&!o||!e){i.current=!1;return}if(i.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=t(u),h=SF(d,r);if(a||(h.x=0),o||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=TF(u);f&&f.scrollBy({top:h.y,left:h.x})}},[e,a,o,r,t])}const r_=T.createContext({...ii,scaleX:1,scaleY:1});var eo;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(eo||(eo={}));const fde=T.memo(function(e){var t,r,s,i;let{id:a,accessibility:o,autoScroll:l=!0,children:u,sensors:d=ide,collisionDetection:h=Sce,measuring:f,modifiers:p,..._}=e;const y=T.useReducer(ude,void 0,lde),[v,m]=y,[w,b]=fce(),[E,S]=T.useState(eo.Uninitialized),C=E===eo.Initialized,{draggable:{active:O,nodes:I,translate:P},droppable:{containers:x}}=v,D=O!=null?I.get(O):null,$=T.useRef({initial:null,translated:null}),M=T.useMemo(()=>{var It;return O!=null?{id:O,data:(It=D==null?void 0:D.data)!=null?It:ade,rect:$}:null},[O,D]),V=T.useRef(null),[B,F]=T.useState(null),[W,N]=T.useState(null),j=mf(_,Object.values(_)),L=Cp("DndDescribedBy",a),te=T.useMemo(()=>x.getEnabled(),[x]),Q=dde(f),{droppableRects:ie,measureDroppableContainers:le,measuringScheduled:Ee}=Yce(te,{dragging:C,dependencies:[P.x,P.y],config:Q.droppable}),he=Wce(I,O),de=T.useMemo(()=>W?Cy(W):null,[W]),ue=Zo(),q=qce(he,Q.draggable.measure);hde({activeNode:O!=null?I.get(O):null,config:ue.layoutShiftCompensation,initialRect:q,measure:Q.draggable.measure});const se=CR(he,Q.draggable.measure,q),vt=CR(he?he.parentElement:null),$t=T.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:x,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Cn=x.getNodeFor((t=$t.current.over)==null?void 0:t.id),Ot=sde({measure:Q.dragOverlay.measure}),jn=(r=Ot.nodeRef.current)!=null?r:he,_t=C?(s=Ot.rect)!=null?s:se:null,wr=!!(Ot.nodeRef.current&&Ot.rect),fs=Zce(wr?null:se),Xo=LF(jn?Lr(jn):null),en=Jce(C?Cn??he:null),Er=rde(en),fi=VF(p,{transform:{x:P.x-fs.x,y:P.y-fs.y,scaleX:1,scaleY:1},activatorEvent:W,active:M,activeNodeRect:se,containerNodeRect:vt,draggingNodeRect:_t,over:$t.current.over,overlayNodeRect:Ot.rect,scrollableAncestors:en,scrollableAncestorRects:Er,windowRect:Xo}),pi=de?vc(de,P):null,Ua=ede(en),bu=OR(Ua),wu=OR(Ua,[se]),gi=vc(fi,bu),tr=_t?Oce(_t,fi):null,Vn=M&&tr?h({active:M,collisionRect:tr,droppableRects:ie,droppableContainers:te,pointerCoordinates:pi}):null,Qr=EF(Vn,"id"),[nr,mi]=T.useState(null),Ms=wr?fi:vc(fi,wu),ea=Cce(Ms,(i=nr==null?void 0:nr.rect)!=null?i:null,se),Un=T.useRef(null),Fs=T.useCallback((It,hn)=>{let{sensor:qt,options:fn}=hn;if(V.current==null)return;const pn=I.get(V.current);if(!pn)return;const tn=It.nativeEvent,Sr=new qt({active:V.current,activeNode:pn,event:tn,options:fn,context:$t,onAbort(gn){if(!I.get(gn))return;const{onDragAbort:_e}=j.current,Xe={id:gn};_e==null||_e(Xe),w({type:"onDragAbort",event:Xe})},onPending(gn,vi,_e,Xe){if(!I.get(gn))return;const{onDragPending:at}=j.current,nn={id:gn,constraint:vi,initialCoordinates:_e,offset:Xe};at==null||at(nn),w({type:"onDragPending",event:nn})},onStart(gn){const vi=V.current;if(vi==null)return;const _e=I.get(vi);if(!_e)return;const{onDragStart:Xe}=j.current,Vt={activatorEvent:tn,active:{id:vi,data:_e.data,rect:$}};Os.unstable_batchedUpdates(()=>{Xe==null||Xe(Vt),S(eo.Initializing),m({type:On.DragStart,initialCoordinates:gn,active:vi}),w({type:"onDragStart",event:Vt}),F(Un.current),N(tn)})},onMove(gn){m({type:On.DragMove,coordinates:gn})},onEnd:ta(On.DragEnd),onCancel:ta(On.DragCancel)});Un.current=Sr;function ta(gn){return async function(){const{active:_e,collisions:Xe,over:Vt,scrollAdjustedTranslate:at}=$t.current;let nn=null;if(_e&&at){const{cancelDrop:bt}=j.current;nn={activatorEvent:tn,active:_e,collisions:Xe,delta:at,over:Vt},gn===On.DragEnd&&typeof bt=="function"&&await Promise.resolve(bt(nn))&&(gn=On.DragCancel)}V.current=null,Os.unstable_batchedUpdates(()=>{m({type:gn}),S(eo.Uninitialized),mi(null),F(null),N(null),Un.current=null;const bt=gn===On.DragEnd?"onDragEnd":"onDragCancel";if(nn){const Pt=j.current[bt];Pt==null||Pt(nn),w({type:bt,event:nn})}})}}},[I]),Ba=T.useCallback((It,hn)=>(qt,fn)=>{const pn=qt.nativeEvent,tn=I.get(fn);if(V.current!==null||!tn||pn.dndKit||pn.defaultPrevented)return;const Sr={active:tn};It(qt,hn.options,Sr)===!0&&(pn.dndKit={capturedBy:hn.sensor},V.current=fn,Fs(qt,hn))},[I,Fs]),Ha=Gce(d,Ba);tde(d),si(()=>{se&&E===eo.Initializing&&S(eo.Initialized)},[se,E]),T.useEffect(()=>{const{onDragMove:It}=j.current,{active:hn,activatorEvent:qt,collisions:fn,over:pn}=$t.current;if(!hn||!qt)return;const tn={active:hn,activatorEvent:qt,collisions:fn,delta:{x:gi.x,y:gi.y},over:pn};Os.unstable_batchedUpdates(()=>{It==null||It(tn),w({type:"onDragMove",event:tn})})},[gi.x,gi.y]),T.useEffect(()=>{const{active:It,activatorEvent:hn,collisions:qt,droppableContainers:fn,scrollAdjustedTranslate:pn}=$t.current;if(!It||V.current==null||!hn||!pn)return;const{onDragOver:tn}=j.current,Sr=fn.get(Qr),ta=Sr&&Sr.rect.current?{id:Sr.id,rect:Sr.rect.current,data:Sr.data,disabled:Sr.disabled}:null,gn={active:It,activatorEvent:hn,collisions:qt,delta:{x:pn.x,y:pn.y},over:ta};Os.unstable_batchedUpdates(()=>{mi(ta),tn==null||tn(gn),w({type:"onDragOver",event:gn})})},[Qr]),si(()=>{$t.current={activatorEvent:W,active:M,activeNode:he,collisionRect:tr,collisions:Vn,droppableRects:ie,draggableNodes:I,draggingNode:jn,draggingNodeRect:_t,droppableContainers:x,over:nr,scrollableAncestors:en,scrollAdjustedTranslate:gi},$.current={initial:_t,translated:tr}},[M,he,Vn,tr,I,jn,_t,ie,x,nr,en,gi]),Hce({...ue,delta:P,draggingRect:tr,pointerCoordinates:pi,scrollableAncestors:en,scrollableAncestorRects:Er});const Qo=T.useMemo(()=>({active:M,activeNode:he,activeNodeRect:se,activatorEvent:W,collisions:Vn,containerNodeRect:vt,dragOverlay:Ot,draggableNodes:I,droppableContainers:x,droppableRects:ie,over:nr,measureDroppableContainers:le,scrollableAncestors:en,scrollableAncestorRects:Er,measuringConfiguration:Q,measuringScheduled:Ee,windowRect:Xo}),[M,he,se,W,Vn,vt,Ot,I,x,ie,nr,le,en,Er,Q,Ee,Xo]),yi=T.useMemo(()=>({activatorEvent:W,activators:Ha,active:M,activeNodeRect:se,ariaDescribedById:{draggable:L},dispatch:m,draggableNodes:I,over:nr,measureDroppableContainers:le}),[W,Ha,M,se,m,L,I,nr,le]);return g.createElement(_F.Provider,{value:b},g.createElement(Tp.Provider,{value:yi},g.createElement(jF.Provider,{value:Qo},g.createElement(r_.Provider,{value:ea},u)),g.createElement(cde,{disabled:(o==null?void 0:o.restoreFocus)===!1})),g.createElement(mce,{...o,hiddenTextDescribedById:L}));function Zo(){const It=(B==null?void 0:B.autoScrollEnabled)===!1,hn=typeof l=="object"?l.enabled===!1:l===!1,qt=C&&!It&&!hn;return typeof l=="object"?{...l,enabled:qt}:{enabled:qt}}}),pde=T.createContext(null),PR="button",gde="Draggable";function mde(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const i=Cp(gde),{activators:a,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=T.useContext(Tp),{role:p=PR,roleDescription:_="draggable",tabIndex:y=0}=s??{},v=(l==null?void 0:l.id)===e,m=T.useContext(v?r_:pde),[w,b]=Ey(),[E,S]=Ey(),C=nde(a,e),O=mf(t);si(()=>(h.set(e,{id:e,key:i,node:w,activatorNode:E,data:O}),()=>{const P=h.get(e);P&&P.key===i&&h.delete(e)}),[h,e]);const I=T.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":r,"aria-pressed":v&&p===PR?!0:void 0,"aria-roledescription":_,"aria-describedby":d.draggable}),[r,p,y,v,_,d.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:I,isDragging:v,listeners:r?void 0:C,node:w,over:f,setNodeRef:b,setActivatorNodeRef:S,transform:m}}function UF(){return T.useContext(jF)}const yde="Droppable",vde={timeout:25};function _de(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const i=Cp(yde),{active:a,dispatch:o,over:l,measureDroppableContainers:u}=T.useContext(Tp),d=T.useRef({disabled:t}),h=T.useRef(!1),f=T.useRef(null),p=T.useRef(null),{disabled:_,updateMeasurementsFor:y,timeout:v}={...vde,...s},m=mf(y??r),w=T.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(m.current)?m.current:[m.current]),p.current=null},v)},[v]),b=n_({callback:w,disabled:_||!a}),E=T.useCallback((I,P)=>{b&&(P&&(b.unobserve(P),h.current=!1),I&&b.observe(I))},[b]),[S,C]=Ey(E),O=mf(e);return T.useEffect(()=>{!b||!S.current||(b.disconnect(),h.current=!1,b.observe(S.current))},[S,b]),T.useEffect(()=>(o({type:On.RegisterDroppable,element:{id:r,key:i,disabled:t,node:S,rect:f,data:O}}),()=>o({type:On.UnregisterDroppable,key:i,id:r})),[r]),T.useEffect(()=>{t!==d.current.disabled&&(o({type:On.SetDroppableDisabled,id:r,key:i,disabled:t}),d.current.disabled=t)},[r,i,t,o]),{active:a,rect:f,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:C}}function bde(n){let{animation:e,children:t}=n;const[r,s]=T.useState(null),[i,a]=T.useState(null),o=Sy(t);return!t&&!r&&o&&s(o),si(()=>{if(!i)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){s(null);return}Promise.resolve(e(u,i)).then(()=>{s(null)})},[e,r,i]),g.createElement(g.Fragment,null,t,r?T.cloneElement(r,{ref:a}):null)}const wde={x:0,y:0,scaleX:1,scaleY:1};function Ede(n){let{children:e}=n;return g.createElement(Tp.Provider,{value:FF},g.createElement(r_.Provider,{value:wde},e))}const Sde={position:"fixed",touchAction:"none"},Cde=n=>e_(n)?"transform 250ms ease":void 0,Tde=T.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:s,children:i,className:a,rect:o,style:l,transform:u,transition:d=Cde}=n;if(!o)return null;const h=s?u:{...u,scaleX:1,scaleY:1},f={...Sde,width:o.width,height:o.height,top:o.top,left:o.left,transform:ko.Transform.toString(h),transformOrigin:s&&r?vce(r,o):void 0,transition:typeof d=="function"?d(r):d,...l};return g.createElement(t,{className:a,style:f,ref:e},i)}),Ode=n=>e=>{let{active:t,dragOverlay:r}=e;const s={},{styles:i,className:a}=n;if(i!=null&&i.active)for(const[o,l]of Object.entries(i.active))l!==void 0&&(s[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(i!=null&&i.dragOverlay)for(const[o,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(o,l);return a!=null&&a.active&&t.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(s))t.node.style.setProperty(l,u);a!=null&&a.active&&t.node.classList.remove(a.active)}},Ide=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:ko.Transform.toString(e)},{transform:ko.Transform.toString(t)}]},Pde={duration:250,easing:"ease",keyframes:Ide,sideEffects:Ode({styles:{active:{opacity:"0"}}})};function xde(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:s}=n;return Jv((i,a)=>{if(e===null)return;const o=t.get(i);if(!o)return;const l=o.node.current;if(!l)return;const u=MF(a);if(!u)return;const{transform:d}=Lr(a).getComputedStyle(a),h=CF(d);if(!h)return;const f=typeof e=="function"?e:Rde(e);return AF(l,s.draggable.measure),f({active:{id:i,data:o.data,node:l,rect:s.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:a,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function Rde(n){const{duration:e,easing:t,sideEffects:r,keyframes:s}={...Pde,...n};return i=>{let{active:a,dragOverlay:o,transform:l,...u}=i;if(!e)return;const d={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},h={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/o.rect.height:1},f={x:l.x-d.x,y:l.y-d.y,...h},p=s({...u,active:a,dragOverlay:o,transform:{initial:l,final:f}}),[_]=p,y=p[p.length-1];if(JSON.stringify(_)===JSON.stringify(y))return;const v=r==null?void 0:r({active:a,dragOverlay:o,...u}),m=o.node.animate(p,{duration:e,easing:t,fill:"forwards"});return new Promise(w=>{m.onfinish=()=>{v==null||v(),w()}})}}let xR=0;function Ade(n){return T.useMemo(()=>{if(n!=null)return xR++,xR},[n])}const Dde=g.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:s,transition:i,modifiers:a,wrapperElement:o="div",className:l,zIndex:u=999}=n;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:p,draggableNodes:_,droppableContainers:y,dragOverlay:v,over:m,measuringConfiguration:w,scrollableAncestors:b,scrollableAncestorRects:E,windowRect:S}=UF(),C=T.useContext(r_),O=Ade(h==null?void 0:h.id),I=VF(a,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:p,draggingNodeRect:v.rect,over:m,overlayNodeRect:v.rect,scrollableAncestors:b,scrollableAncestorRects:E,transform:C,windowRect:S}),P=cT(f),x=xde({config:r,draggableNodes:_,droppableContainers:y,measuringConfiguration:w}),D=P?v.setRef:void 0;return g.createElement(Ede,null,g.createElement(bde,{animation:x},h&&O?g.createElement(Tde,{key:O,id:h.id,ref:D,as:o,activatorEvent:d,adjustScale:e,className:l,transition:i,rect:P,style:{zIndex:u,...s},transform:I},t):null))});function BF(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function kde(n,e){return n.reduce((t,r,s)=>{const i=e.get(r);return i&&(t[s]=i),t},Array(n.length))}function Pg(n){return n!==null&&n>=0}function Nde(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function $de(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const dT=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const i=BF(e,r,t),a=e[s],o=i[s];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},HF="Sortable",zF=g.createContext({activeIndex:-1,containerId:HF,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dT,disabled:{draggable:!1,droppable:!1}});function Lde(n){let{children:e,id:t,items:r,strategy:s=dT,disabled:i=!1}=n;const{active:a,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:d}=UF(),h=Cp(HF,t),f=o.rect!==null,p=T.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),_=a!=null,y=a?p.indexOf(a.id):-1,v=u?p.indexOf(u.id):-1,m=T.useRef(p),w=!Nde(p,m.current),b=v!==-1&&y===-1||w,E=$de(i);si(()=>{w&&_&&d(p)},[w,p,_,d]),T.useEffect(()=>{m.current=p},[p]);const S=T.useMemo(()=>({activeIndex:y,containerId:h,disabled:E,disableTransforms:b,items:p,overIndex:v,useDragOverlay:f,sortedRects:kde(p,l),strategy:s}),[y,h,E.draggable,E.droppable,b,p,v,l,f,s]);return g.createElement(zF.Provider,{value:S},e)}const Mde=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return BF(t,r,s).indexOf(e)},Fde=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:i,newIndex:a,previousItems:o,previousContainerId:l,transition:u}=n;return!u||!r||o!==i&&s===a?!1:t?!0:a!==s&&e===l},jde={duration:200,easing:"ease"},KF="transform",Vde=ko.Transition.toString({property:KF,duration:0,easing:"linear"}),Ude={roleDescription:"sortable"};function Bde(n){let{disabled:e,index:t,node:r,rect:s}=n;const[i,a]=T.useState(null),o=T.useRef(t);return si(()=>{if(!e&&t!==o.current&&r.current){const l=s.current;if(l){const u=bd(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&a(d)}}t!==o.current&&(o.current=t)},[e,t,r,s]),T.useEffect(()=>{i&&a(null)},[i]),i}function Hde(n){let{animateLayoutChanges:e=Fde,attributes:t,disabled:r,data:s,getNewIndex:i=Mde,id:a,strategy:o,resizeObserverConfig:l,transition:u=jde}=n;const{items:d,containerId:h,activeIndex:f,disabled:p,disableTransforms:_,sortedRects:y,overIndex:v,useDragOverlay:m,strategy:w}=T.useContext(zF),b=zde(r,p),E=d.indexOf(a),S=T.useMemo(()=>({sortable:{containerId:h,index:E,items:d},...s}),[h,s,E,d]),C=T.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:O,node:I,isOver:P,setNodeRef:x}=_de({id:a,data:S,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...l}}),{active:D,activatorEvent:$,activeNodeRect:M,attributes:V,setNodeRef:B,listeners:F,isDragging:W,over:N,setActivatorNodeRef:j,transform:L}=mde({id:a,data:S,attributes:{...Ude,...t},disabled:b.draggable}),te=rce(x,B),Q=!!D,ie=Q&&!_&&Pg(f)&&Pg(v),le=!m&&W,Ee=le&&ie?L:null,de=ie?Ee??(o??w)({rects:y,activeNodeRect:M,activeIndex:f,overIndex:v,index:E}):null,ue=Pg(f)&&Pg(v)?i({id:a,items:d,activeIndex:f,overIndex:v}):E,q=D==null?void 0:D.id,se=T.useRef({activeId:q,items:d,newIndex:ue,containerId:h}),vt=d!==se.current.items,$t=e({active:D,containerId:h,isDragging:W,isSorting:Q,id:a,index:E,items:d,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:u,wasDragging:se.current.activeId!=null}),Cn=Bde({disabled:!$t,index:E,node:I,rect:O});return T.useEffect(()=>{Q&&se.current.newIndex!==ue&&(se.current.newIndex=ue),h!==se.current.containerId&&(se.current.containerId=h),d!==se.current.items&&(se.current.items=d)},[Q,ue,h,d]),T.useEffect(()=>{if(q===se.current.activeId)return;if(q&&!se.current.activeId){se.current.activeId=q;return}const jn=setTimeout(()=>{se.current.activeId=q},50);return()=>clearTimeout(jn)},[q]),{active:D,activeIndex:f,attributes:V,data:S,rect:O,index:E,newIndex:ue,items:d,isOver:P,isSorting:Q,isDragging:W,listeners:F,node:I,overIndex:v,over:N,setNodeRef:te,setActivatorNodeRef:j,setDroppableNodeRef:x,setDraggableNodeRef:B,transform:Cn??de,transition:Ot()};function Ot(){if(Cn||vt&&se.current.newIndex===E)return Vde;if(!(le&&!e_($)||!u)&&(Q||$t))return ko.Transition.toString({...u,property:KF})}}function zde(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}function Oy(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Kde=[Ue.Down,Ue.Right,Ue.Up,Ue.Left],Wde=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:s,droppableContainers:i,over:a,scrollableAncestors:o}}=e;if(Kde.includes(n.code)){if(n.preventDefault(),!t||!r)return;const l=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const f=s.get(h.id);if(f)switch(n.code){case Ue.Down:r.top<f.top&&l.push(h);break;case Ue.Up:r.top>f.top&&l.push(h);break;case Ue.Left:r.left>f.left&&l.push(h);break;case Ue.Right:r.left<f.left&&l.push(h);break}});const u=wce({collisionRect:r,droppableRects:s,droppableContainers:l});let d=EF(u,"id");if(d===(a==null?void 0:a.id)&&u.length>1&&(d=u[1].id),d!=null){const h=i.get(t.id),f=i.get(d),p=f?s.get(f.id):null,_=f==null?void 0:f.node.current;if(_&&p&&h&&f){const v=t_(_).some((C,O)=>o[O]!==C),m=WF(h,f),w=Gde(h,f),b=v||!m?{x:0,y:0}:{x:w?r.width-p.width:0,y:w?r.height-p.height:0},E={x:p.left,y:p.top};return b.x&&b.y?E:yf(E,b)}}}};function WF(n,e){return!Oy(n)||!Oy(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function Gde(n,e){return!Oy(n)||!Oy(e)||!WF(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const Yde="semi-sortable";function qde(n){return g.createElement("div",Object.assign({style:{overflow:"auto"}},n))}const Xde={coordinateGetter:Wde};function Qde(n){let{items:e,onSortEnd:t,adjustScale:r,renderItem:s,transition:i,collisionDetection:a=bce,strategy:o=dT,useDragOverlay:l=!0,dragOverlayCls:u,container:d=qde,prefix:h=Yde}=n;const[f,p]=T.useState(null),_=yce(t0(NF),t0($F),t0(lT,Xde)),y=T.useCallback(E=>e.indexOf(E),[e]),v=T.useMemo(()=>f?y(f):-1,[y,f]),m=T.useCallback(E=>{let{active:S}=E;S&&p(S.id)},[]),w=T.useCallback(E=>{let{over:S}=E;if(p(null),S){const C=y(S.id);v!==C&&t({oldIndex:v,newIndex:C})}},[v,y,t]),b=T.useCallback(()=>{p(null)},[]);return g.createElement(fde,{sensors:_,collisionDetection:a,onDragStart:m,onDragEnd:w,onDragCancel:b,autoScroll:{order:vf.ReversedTreeOrder}},g.createElement(Lde,{items:e,strategy:o},g.createElement(d,null,e.map((E,S)=>g.createElement(Zde,{key:E,id:E,index:S,renderItem:s,useDragOverlay:l,prefix:h,transition:i})))),l?Os.createPortal(g.createElement(Dde,{adjustScale:r,style:{zIndex:void 0},className:u},f?s({id:f,sortableHandle:E=>E}):null),document.body):null)}function Zde(n){let{animateLayoutChanges:e,id:t,renderItem:r,prefix:s,transition:i}=n;const{listeners:a,setNodeRef:o,transform:l,transition:u,active:d,isOver:h,attributes:f}=Hde({id:t,animateLayoutChanges:e,transition:i}),p=T.useCallback(v=>()=>g.createElement("span",Object.assign({},a,{style:{lineHeight:0},onMouseDown:m=>{a.onMouseDown(m),m.preventDefault(),m.stopPropagation()}}),g.createElement(v,null)),[a]),_=R(`${s}-sortable-item`,{[`${s}-sortable-item-over`]:h,[`${s}-sortable-item-active`]:(d==null?void 0:d.id)===t}),y=T.useMemo(()=>Bl(i)?void 0:{transform:ko.Transform.toString(Object.assign(Object.assign({},l),{scaleX:1,scaleY:1})),transition:u},[i,l,u]);return g.createElement("div",Object.assign({ref:o,style:y,className:_},f),r({id:t,sortableHandle:p}))}var Jde=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const je=ece.PREFIX;function ehe(n){return g.createElement("div",Object.assign({className:`${je}-sortable-list`},n))}class Op extends we{constructor(e){super(e),this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleKeyDown=t=>{this.foundation.handleKeyDown(t)},this.handleInputFocus=t=>{this.foundation.handleInputFocus(t)},this.handleInputBlur=t=>{this.foundation.handleInputBlur(t)},this.handleClearBtn=t=>{this.foundation.handleClearBtn(t)},this.handleClearEnterPress=t=>{this.foundation.handleClearEnterPress(t)},this.handleTagClose=t=>{this.foundation.handleTagClose(t)},this.handleInputMouseLeave=t=>{this.foundation.handleInputMouseLeave()},this.handleClick=t=>{this.foundation.handleClick(t)},this.handleInputMouseEnter=t=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=t=>{this.foundation.handleClickPrefixOrSuffix(t)},this.handlePreventMouseDown=t=>{this.foundation.handlePreventMouseDown(t)},this.getAllTags=()=>{const{tagsArray:t}=this.state;return t.map((r,s)=>this.renderTag(r,s))},this.renderTag=(t,r,s)=>{const{size:i,disabled:a,renderTagItem:o,showContentTooltip:l,draggable:u}=this.props,{active:d}=this.state,h=d&&u,f=R(`${je}-wrapper-tag`,{[`${je}-wrapper-tag-size-${i}`]:i,[`${je}-wrapper-tag-icon`]:h}),p=R(`${je}-wrapper-typo`,{[`${je}-wrapper-typo-disabled`]:a}),_=R({[`${je}-drag-item`]:h,[`${je}-wrapper-tag-icon`]:h}),y=s&&s(()=>g.createElement(Uie,{className:`${je}-drag-handler`})),v=h?t:`${r}${t}`,m=()=>{!a&&this.handleTagClose(r)};return Te(o)?g.createElement("div",{className:_,key:v},h&&s?g.createElement(y,null):null,o(t,r,m)):g.createElement(qn,{className:f,color:"white",size:i==="small"?"small":"large",type:"light",onClose:m,closable:!a,key:v,visible:!0,"aria-label":`${a?"":"Closable "}Tag: ${t}`},h&&s?g.createElement(y,null):null,g.createElement(Kv,{className:p,ellipsis:{showTooltip:l,rows:1}},t))},this.renderSortTag=t=>{const{id:r,sortableHandle:s}=t,{tagsArray:i}=this.state,a=i.indexOf(r);return this.renderTag(r,a,s)},this.onSortEnd=t=>{this.foundation.handleSortEnd(t)},this.handleInputCompositionStart=t=>{this.foundation.handleInputCompositionStart(t)},this.handleInputCompositionEnd=t=>{this.foundation.handleInputCompositionEnd(t)},this.foundation=new nce(this.adapter),this.state={tagsArray:e.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=g.createRef(),this.tagInputRef=g.createRef(),this.clickOutsideHandler=null}static getDerivedStateFromProps(e,t){const{value:r,inputValue:s}=e,{tagsArray:i}=t;let a;return m1(r)?a=r:"value"in e&&!r?a=[]:a=i,{tagsArray:a,inputValue:Oe(s)?s:t.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:e=>{this.setState({inputValue:e})},setTagsArray:e=>{this.setState({tagsArray:e})},setFocusing:e=>{this.setState({focusing:e})},toggleFocusing:e=>{const{preventScroll:t}=this.props,r=this.inputRef&&this.inputRef.current;e?r&&r.focus({preventScroll:t}):r&&r.blur(),this.setState({focusing:e})},setHovering:e=>{this.setState({hovering:e})},setActive:e=>{this.setState({active:e})},setEntering:e=>{this.setState({entering:e})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:e=>{this.props.onBlur(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyInputChange:(e,t)=>{this.props.onInputChange(e,t)},notifyTagChange:e=>{this.props.onChange(e)},notifyTagAdd:e=>{this.props.onAdd(e)},notifyTagRemove:(e,t)=>{this.props.onRemove(e,t)},notifyKeyDown:e=>{this.props.onKeyDown(e)},registerClickOutsideHandler:e=>{const t=r=>{const s=this.tagInputRef&&this.tagInputRef.current,i=r.target,a=r.composedPath&&r.composedPath()||[i];s&&!s.contains(i)&&!a.includes(s)&&e(r)};this.clickOutsideHandler=t,document.addEventListener("click",t,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&t&&(this.inputRef.current.focus({preventScroll:r}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){const{hovering:e,tagsArray:t,inputValue:r}=this.state,{showClear:s,disabled:i,clearIcon:a}=this.props,o=R(`${je}-clearBtn`,{[`${je}-clearBtn-invisible`]:!e||r===""&&t.length===0||i});return s?g.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:o,onClick:l=>this.handleClearBtn(l),onKeyPress:l=>this.handleClearEnterPress(l)},a||g.createElement(Ko,null)):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(Bl(s)||dt(s))return null;const i=R(`${je}-prefix`,{[`${je}-inset-label`]:t,[`${je}-prefix-text`]:s&&Oe(s),[`${je}-prefix-icon`]:hr(s)});return g.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix"},s)}renderSuffix(){const{suffix:e}=this.props;if(Bl(e)||dt(e))return null;const t=R(`${je}-suffix`,{[`${je}-suffix-text`]:e&&Oe(e),[`${je}-suffix-icon`]:hr(e)});return g.createElement("div",{className:t,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},e)}renderTags(){const{disabled:e,maxTagCount:t,showRestTagsPopover:r,restTagsPopoverProps:s={},draggable:i,expandRestTagsOnClick:a}=this.props,{tagsArray:o,active:l}=this.state,u=R(`${je}-wrapper-n`,{[`${je}-wrapper-n-disabled`]:e}),d=this.getAllTags();let h=[],f=[...d];(!l||!a)&&t&&t<d.length&&(f=d.slice(0,t),h=d.slice(t));const p=g.createElement("span",{className:u},"+",o.length-t),_=d.map((y,v)=>({item:y,key:o[v]}));return l&&i&&_.length>0?g.createElement(Qde,{items:o,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:ehe,prefix:je,transition:null,dragOverlayCls:`${je}-right-item-drag-item-move`}):g.createElement(g.Fragment,null,f,h.length>0&&(r?g.createElement(vr,Object.assign({content:h,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},s),p):p))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){const{preventScroll:e,disabled:t}=this.props;this.inputRef.current.focus({preventScroll:e}),t||this.foundation.handleClick()}render(){const e=this.props,{size:t,style:r,className:s,disabled:i,placeholder:a,validateStatus:o,prefix:l,insetLabel:u,suffix:d}=e,h=Jde(e,["size","style","className","disabled","placeholder","validateStatus","prefix","insetLabel","suffix"]),{focusing:f,hovering:p,tagsArray:_,inputValue:y,active:v}=this.state,m=R(je,s,{[`${je}-focus`]:f||v,[`${je}-disabled`]:i,[`${je}-hover`]:p&&!i,[`${je}-error`]:o==="error",[`${je}-warning`]:o==="warning",[`${je}-small`]:t==="small",[`${je}-large`]:t==="large",[`${je}-with-prefix`]:!!l||!!u,[`${je}-with-suffix`]:!!d}),w=R(`${je}-wrapper-input`,`${je}-wrapper-input-${t}`),b=R(`${je}-wrapper`);return g.createElement("div",Object.assign({ref:this.tagInputRef,style:r,className:m,"aria-disabled":i,"aria-label":this.props["aria-label"],"aria-invalid":o==="error",onMouseEnter:E=>{this.handleInputMouseEnter(E)},onMouseLeave:E=>{this.handleInputMouseLeave(E)},onClick:E=>{this.handleClick(E)}},this.getDataAttr(h)),this.renderPrefix(),g.createElement("div",{className:b},this.renderTags(),g.createElement(En,{"aria-label":"input value",ref:this.inputRef,className:w,disabled:i,value:y,size:t,placeholder:_.length===0?a:"",onKeyDown:E=>{this.handleKeyDown(E)},onChange:(E,S)=>{this.handleInputChange(S)},onBlur:E=>{this.handleInputBlur(E)},onFocus:E=>{this.handleInputFocus(E)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}}Op.propTypes={children:c.node,clearIcon:c.node,style:c.object,className:c.string,disabled:c.bool,allowDuplicates:c.bool,max:c.number,maxTagCount:c.number,maxLength:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,showContentTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),defaultValue:c.array,value:c.array,inputValue:c.string,placeholder:c.string,separator:c.oneOfType([c.string,c.array]),showClear:c.bool,addOnBlur:c.bool,draggable:c.bool,expandRestTagsOnClick:c.bool,autoFocus:c.bool,renderTagItem:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onInputChange:c.func,onExceed:c.func,onInputExceed:c.func,onAdd:c.func,onRemove:c.func,onKeyDown:c.func,size:c.oneOf(gR.SIZE_SET),validateStatus:c.oneOf(gR.STATUS),prefix:c.oneOfType([c.string,c.node]),suffix:c.oneOfType([c.string,c.node]),"aria-label":c.string,preventScroll:c.bool};Op.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:k,onFocus:k,onChange:k,onInputChange:k,onExceed:k,onInputExceed:k,onAdd:k,onRemove:k,onKeyDown:k};const Ae=uF.PREFIX,the=0;class Uc extends we{constructor(e){super(e),this.search=t=>{this.handleInputChange(t)},this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleTagRemoveInTrigger=t=>{this.foundation.handleTagRemoveInTrigger(t)},this.handleTagClose=(t,r,s)=>{r.preventDefault(),this.foundation.handleTagRemoveByKey(s)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:a,disabled:o,displayProp:l,displayRender:u,disableStrictly:d}=this.props;if(s[t]){const h=o||s[t].data.disabled||d&&i.has(t),f=R(`${Ae}-selection-tag`,{[`${Ae}-selection-tag-disabled`]:h});return Te(u)?u(s[t],r):g.createElement(qn,{size:a==="default"?"large":a,key:`tag-${t}-${r}`,color:"white",tagKey:t,className:f,closable:!0,onClose:this.handleTagClose},s[t].data[l])}return null},this.onRemoveInTagInput=t=>{this.foundation.handleTagRemoveByKey(t)},this.handleItemClick=(t,r)=>{this.foundation.handleItemClick(t,r)},this.handleItemHover=(t,r)=>{this.foundation.handleItemHover(t,r)},this.onItemCheckboxClick=t=>{this.foundation.onItemCheckboxClick(t)},this.handleListScroll=(t,r)=>{this.foundation.handleListScroll(t,r)},this.renderContent=()=>{const{inputValue:t,isSearching:r,activeKeys:s,selectedKeys:i,checkedKeys:a,halfCheckedKeys:o,loadedKeys:l,loadingKeys:u}=this.state,{filterTreeNode:d,dropdownClassName:h,dropdownStyle:f,loadData:p,emptyContent:_,separator:y,topSlot:v,bottomSlot:m,showNext:w,multiple:b,filterRender:E,virtualizeInSearch:S,expandIcon:C}=this.props,O=!!d&&r,I=R(h,`${Ae}-popover`),P=this.foundation.getRenderData();return g.createElement("div",{className:I,role:"listbox",style:f,onKeyDown:this.foundation.handleKeyDown},v,g.createElement(Qv,{activeKeys:s,selectedKeys:i,separator:y,loadedKeys:l,loadingKeys:u,onItemClick:this.handleItemClick,onItemHover:this.handleItemHover,showNext:w,onItemCheckboxClick:this.onItemCheckboxClick,onListScroll:this.handleListScroll,searchable:O,keyword:t,emptyContent:_,loadData:p,data:P,multiple:b,checkedKeys:a,halfCheckedKeys:o,filterRender:E,virtualize:S,expandIcon:C}),m)},this.renderPlusN=t=>{const{disabled:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props,a=R(`${Ae}-selection-n`,{[`${Ae}-selection-n-disabled`]:r}),o=g.createElement("span",{className:a},"+",t.length);return s?g.createElement(vr,Object.assign({content:t,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},i),o):o},this.renderMultipleTags=()=>{const{autoMergeValue:t,maxTagCount:r,checkRelation:s}=this.props,{checkedKeys:i,resolvedCheckedKeys:a}=this.state,o=this.mergeType===Mt.NONE_MERGE_TYPE||s===Mt.UN_RELATED?i:a,l=[],u=[];return[...o].forEach((d,h)=>{const f=!jt(r)||r>=h+1,p=this.renderTagItem(d,h);f?l.push(p):u.push(p)}),g.createElement(g.Fragment,null,l,!gt(u)&&this.renderPlusN(u))},this.renderDisplayText=()=>{const{displayProp:t,separator:r,displayRender:s}=this.props,{selectedKeys:i}=this.state;let a="";if(i.size){const o=this.foundation.getItemPropPath([...i][0],t);s&&typeof s=="function"?a=s(o):a=o.map((l,u)=>g.createElement(T.Fragment,{key:`${l}-${u}`},u<o.length-1?g.createElement(g.Fragment,null,l,r):l))}return a},this.renderSelectContent=()=>{const{placeholder:t,filterTreeNode:r,multiple:s,searchPosition:i}=this.props,{checkedKeys:a}=this.state;if(!(!!r&&i===Mt.SEARCH_POSITION_TRIGGER)){if(s)return a.size===0?g.createElement("span",{className:`${Ae}-selection-placeholder`},t):this.renderMultipleTags();{const u=this.renderDisplayText(),d=R({[`${Ae}-selection-placeholder`]:!u});return g.createElement("span",{className:d},u||t)}}return s?this.renderTagInput():this.renderInput()},this.renderSuffix=()=>{const{suffix:t}=this.props,r=R({[`${Ae}-suffix`]:!0,[`${Ae}-suffix-text`]:t&&Oe(t),[`${Ae}-suffix-icon`]:hr(t)});return g.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,a=R({[`${Ae}-prefix`]:!0,[`${Ae}-inset-label`]:r,[`${Ae}-prefix-text`]:i&&Oe(i),[`${Ae}-prefix-icon`]:hr(i)});return g.createElement("div",{className:a,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderCustomTrigger=()=>{var t;const{disabled:r,triggerRender:s,multiple:i}=this.props,{selectedKeys:a,inputValue:o,inputPlaceHolder:l,resolvedCheckedKeys:u,checkedKeys:d,keyEntities:h}=this.state;let f;return i?this.mergeType===Mt.NONE_MERGE_TYPE?(f=new Set,d.forEach(p=>{var _;f.add((_=h[p])===null||_===void 0?void 0:_.pos)})):(f=new Set,u.forEach(p=>{var _;f.add((_=h[p])===null||_===void 0?void 0:_.pos)})):f=(t=h[[...a][0]])===null||t===void 0?void 0:t.pos,g.createElement(hu,{value:f,inputValue:o,onChange:this.handleInputChange,onClear:this.handleClear,placeholder:l,disabled:r,triggerRender:s,componentName:"Cascader",componentProps:Object.assign({},this.props),onSearch:this.handleInputChange,onRemove:this.handleTagRemoveInTrigger})},this.handleMouseOver=()=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=()=>{this.foundation.toggleHoverState(!1)},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear()},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.showClearBtn=()=>{const{showClear:t,disabled:r,multiple:s}=this.props,{selectedKeys:i,isOpen:a,isHovering:o,checkedKeys:l,inputValue:u}=this.state,d=i.size,h=s&&l.size;return t&&(u||d||h)&&!r&&(a||o)},this.renderClearBtn=()=>{const t=R(`${Ae}-clearbtn`),{clearIcon:r}=this.props;return this.showClearBtn()?g.createElement("div",{className:t,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress,role:"button",tabIndex:0},r||g.createElement(Ko,null)):null},this.renderArrow=()=>{const{arrowIcon:t}=this.props;return this.showClearBtn()?null:t?g.createElement("div",{className:R(`${Ae}-arrow`),"x-semi-prop":"arrowIcon"},t):null},this.renderSelection=()=>{const{disabled:t,multiple:r,filterTreeNode:s,style:i,size:a,className:o,validateStatus:l,prefix:u,suffix:d,insetLabel:h,triggerRender:f,showClear:p,id:_,borderless:y}=this.props,{isOpen:v,isFocus:m,isInput:w,checkedKeys:b}=this.state,E=!!s,S=typeof f=="function",C=S?R(o):R(Ae,o,{[`${Ae}-borderless`]:y,[`${Ae}-focus`]:m||v&&!w,[`${Ae}-disabled`]:t,[`${Ae}-single`]:!0,[`${Ae}-filterable`]:E,[`${Ae}-error`]:l==="error",[`${Ae}-warning`]:l==="warning",[`${Ae}-small`]:a==="small",[`${Ae}-large`]:a==="large",[`${Ae}-with-prefix`]:u||h,[`${Ae}-with-suffix`]:d}),O=p?{onMouseEnter:()=>this.handleMouseOver(),onMouseLeave:()=>this.handleMouseLeave()}:{},I=R(`${Ae}-selection`,{[`${Ae}-selection-multiple`]:r&&!gt(b)}),P=S?this.renderCustomTrigger():[g.createElement(T.Fragment,{key:"prefix"},u||h?this.renderPrefix():null),g.createElement(T.Fragment,{key:"selection"},g.createElement("div",{className:I},this.renderSelectContent())),g.createElement(T.Fragment,{key:"suffix"},d?this.renderSuffix():null),g.createElement(T.Fragment,{key:"clearbtn"},this.renderClearBtn()),g.createElement(T.Fragment,{key:"arrow"},this.renderArrow())];return g.createElement("div",Object.assign({className:C,style:i,ref:this.triggerRef,onClick:x=>this.foundation.handleClick(x),onKeyPress:x=>this.foundation.handleSelectionEnterPress(x),"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],id:_,onKeyDown:this.foundation.handleKeyDown},O,{role:"combobox",tabIndex:0},this.getDataAttr(this.props)),P)},this.state={disabledKeys:new Set,isOpen:e.defaultOpen,rePosKey:the,keyEntities:{},selectedKeys:new Set([]),activeKeys:new Set([]),filteredKeys:new Set([]),inputValue:"",isSearching:!1,inputPlaceHolder:e.searchPlaceholder||e.placeholder,prevProps:{},isHovering:!1,checkedKeys:new Set([]),halfCheckedKeys:new Set([]),resolvedCheckedKeys:new Set([]),loadedKeys:new Set,loadingKeys:new Set,loading:!1,showInput:!1},this.options={},this.isEmpty=!1,this.mergeType=fE(e.autoMergeValue,e.leafOnly),this.inputRef=g.createRef(),this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.clickOutsideHandler=null,this.foundation=new Nue(this.adapter),this.loadingKeysRef=g.createRef(),this.loadedKeysRef=g.createRef()}get adapter(){var e=this;const t={updateInputValue:s=>{this.setState({inputValue:s})},updateInputPlaceHolder:s=>{this.setState({inputPlaceHolder:s})},focusInput:()=>{const{preventScroll:s}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:s})},blurInput:()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.blur()}},r={registerClickOutsideHandler:s=>{const i=a=>{const o=this.optionsRef&&this.optionsRef.current,l=this.triggerRef&&this.triggerRef.current,u=xr.findDOMNode(o),d=a.target,h=a.composedPath&&a.composedPath()||[d];u&&(!u.contains(d)||!u.contains(d.parentNode))&&l&&!l.contains(d)&&!(h.includes(l)||h.includes(u))&&s(a)};this.clickOutsideHandler=i,document.addEventListener("mousedown",i,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1)},rePositionDropdown:()=>{let{rePosKey:s}=this.state;s=s+1,this.setState({rePosKey:s})}};return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),{updateStates:s=>{this.setState(Object.assign({},s))},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:s=>{this.setState({isOpen:!1},()=>{s&&s()})},updateSelection:s=>this.setState({selectedKeys:s}),notifyChange:s=>{this.props.onChange&&this.props.onChange(s)},notifySelect:s=>{this.props.onSelect&&this.props.onSelect(s)},notifyOnSearch:s=>{this.props.onSearch&&this.props.onSearch(s)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},notifyDropdownVisibleChange:s=>{this.props.onDropdownVisibleChange(s)},toggleHovering:s=>{this.setState({isHovering:s})},notifyLoadData:(s,i)=>{const{loadData:a}=this.props;a&&new Promise(o=>{a(s).then(()=>{setTimeout(()=>{i(),this.setState({loading:!1}),o()})})})},notifyOnLoad:(s,i)=>{const{onLoad:a}=this.props;a&&a(s,i)},notifyListScroll:(s,i)=>{let{panelIndex:a,activeNode:o}=i;this.props.onListScroll(s,{panelIndex:a,activeNode:o})},notifyOnExceed:s=>this.props.onExceed(s),notifyClear:()=>this.props.onClear(),toggleInputShow:(s,i)=>{this.setState({showInput:s},()=>{i()})},updateFocusState:s=>{this.setState({isFocus:s})},updateLoadingKeyRefValue:s=>{this.loadingKeysRef.current=s},getLoadingKeyRefValue:()=>this.loadingKeysRef.current,updateLoadedKeyRefValue:s=>{this.loadedKeysRef.current=s},getLoadedKeyRefValue:()=>this.loadedKeysRef.current})}static getDerivedStateFromProps(e,t){const{multiple:r,value:s,defaultValue:i,onChangeWithObject:a,leafOnly:o,autoMergeValue:l,checkRelation:u}=e,{prevProps:d}=t;let h=t.keyEntities||{};const f={},p=v=>{const m=gt(d)&&v in e,w=d&&!ke(d[v],e[v]);return m||w},_=()=>{const v=!d&&"treeData"in e,m=d&&d.treeData!==e.treeData;return v||m},y=(v,m)=>{let w=[];Array.isArray(v)?w=Array.isArray(v[0])?v:[v]:v!==void 0&&(w=[[v]]);const b=[];return w.forEach(S=>{const C=a&&Ia(S[0])?S.map(O=>O==null?void 0:O.value):S;C.length>0&&b.push(C)}),b.reduce((S,C)=>{const O=wy(C);return m[O]&&S.push(O),S},[])};if(r){const v=p("treeData")||_(),m=p("value")||gt(d)&&i;if(v||m){v&&(f.treeData=e.treeData,h=dF(e.treeData),f.keyEntities=h);let w=t.checkedKeys;if(m){const b=p("value")?s:i;w=y(b,h)}else v&&"value"in e&&(w=y(s,h));if(jM(w)&&(w=[...w]),u===Mt.RELATED){const b=bp(w,h),E=new Set(b.checkedKeys),S=new Set(b.halfCheckedKeys);e.disableStrictly&&(f.disabledKeys=lF(h));const C=fE(l,o)===Mt.LEAF_ONLY_MERGE_TYPE;f.checkedKeys=E,f.halfCheckedKeys=S,f.resolvedCheckedKeys=new Set(qs(E,h,C))}else f.checkedKeys=new Set(w);f.prevProps=e}}return f}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e){if(this.props.multiple)return;let t=!1;ke(e.treeData,this.props.treeData)||(t=!0,this.foundation.collectOptions()),e.value!==this.props.value&&!t&&this.foundation.handleValueChange(this.props.value)}renderTagInput(){const{size:e,disabled:t,placeholder:r,maxTagCount:s,showRestTagsPopover:i,restTagsPopoverProps:a,checkRelation:o}=this.props,{inputValue:l,checkedKeys:u,keyEntities:d,resolvedCheckedKeys:h}=this.state,f=R(`${Ae}-tagInput-wrapper`),p=this.mergeType===Mt.NONE_MERGE_TYPE||o===Mt.UN_RELATED?u:h;return g.createElement(Op,{className:f,ref:this.inputRef,disabled:t,size:e,value:[...p],showRestTagsPopover:i,restTagsPopoverProps:a,maxTagCount:s,renderTagItem:this.renderTagItem,inputValue:l,onInputChange:this.handleInputChange,onRemove:this.onRemoveInTagInput,placeholder:r,expandRestTagsOnClick:!1})}renderInput(){const{size:e,disabled:t}=this.props,r=R(`${Ae}-input`),{inputValue:s,inputPlaceHolder:i,showInput:a}=this.state,o={disabled:t,value:s,className:r,onChange:this.handleInputChange},l=R({[`${Ae}-search-wrapper`]:!0,[`${Ae}-search-wrapper-${e}`]:e!=="default"}),u=this.renderDisplayText(),d=R({[`${Ae}-selection-placeholder`]:!u,[`${Ae}-selection-text-hide`]:a&&s,[`${Ae}-selection-text-inactive`]:a&&!s});return g.createElement("div",{className:l},g.createElement("span",{className:d},u||i),a&&g.createElement(En,Object.assign({ref:this.inputRef,size:e},o)))}close(){this.foundation.close()}open(){this.foundation.open()}focus(){this.foundation.focus()}blur(){this.foundation.blur()}render(){const{zIndex:e,getPopupContainer:t,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:a,position:o,motion:l,dropdownMargin:u}=this.props,{isOpen:d,rePosKey:h}=this.state,{direction:f}=this.context,p=this.renderContent(),_=this.renderSelection(),y=o??(f==="rtl"?"bottomRight":"bottomLeft");return g.createElement(vr,{getPopupContainer:t,zIndex:e,motion:l,margin:u,ref:this.optionsRef,content:p,visible:d,trigger:"custom",rePosKey:h,position:y,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:a,afterClose:()=>this.foundation.updateSearching(!1)},_)}}Uc.__SemiComponentName__="Cascader";Uc.contextType=Nr;Uc.propTypes={"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,"aria-label":c.string,arrowIcon:c.node,borderless:c.bool,clearIcon:c.node,changeOnSelect:c.bool,defaultValue:c.oneOfType([c.string,c.array]),disabled:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),emptyContent:c.node,motion:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),filterLeafOnly:c.bool,placeholder:c.string,searchPlaceholder:c.string,size:c.oneOf(Mt.SIZE_SET),style:c.object,className:c.string,treeData:c.arrayOf(c.shape({value:c.oneOfType([c.string,c.number]),label:c.any})),treeNodeFilterProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,id:c.string,displayProp:c.string,displayRender:c.func,onChange:c.func,onSearch:c.func,onSelect:c.func,onBlur:c.func,onFocus:c.func,children:c.node,getPopupContainer:c.func,zIndex:c.number,value:c.oneOfType([c.string,c.number,c.array]),validateStatus:c.oneOf(Mt.VALIDATE_STATUS),showNext:c.oneOf([Mt.SHOW_NEXT_BY_CLICK,Mt.SHOW_NEXT_BY_HOVER]),stopPropagation:c.oneOfType([c.bool,c.string]),showClear:c.bool,defaultOpen:c.bool,autoAdjustOverflow:c.bool,onDropdownVisibleChange:c.func,triggerRender:c.func,onListScroll:c.func,onChangeWithObject:c.bool,bottomSlot:c.node,topSlot:c.node,multiple:c.bool,autoMergeValue:c.bool,maxTagCount:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,max:c.number,separator:c.string,onExceed:c.func,onClear:c.func,loadData:c.func,onLoad:c.func,loadedKeys:c.array,disableStrictly:c.bool,leafOnly:c.bool,enableLeafClick:c.bool,preventScroll:c.bool,position:c.string,searchPosition:c.string};Uc.defaultProps=hs(Uc.__SemiComponentName__,{borderless:!1,leafOnly:!1,arrowIcon:g.createElement(Uv,null),stopPropagation:!0,motion:!0,defaultOpen:!1,zIndex:as.DEFAULT_Z_INDEX,showClear:!1,autoClearSearchValue:!0,changeOnSelect:!1,disableStrictly:!1,autoMergeValue:!0,multiple:!1,filterTreeNode:!1,filterLeafOnly:!0,showRestTagsPopover:!1,restTagsPopoverProps:{},separator:" / ",size:"default",treeNodeFilterProp:"label",displayProp:"label",treeData:[],showNext:Mt.SHOW_NEXT_BY_CLICK,onExceed:k,onClear:k,onDropdownVisibleChange:k,onListScroll:k,enableLeafClick:!1,"aria-label":"Cascader",searchPosition:Mt.SEARCH_POSITION_TRIGGER,checkRelation:Mt.RELATED});class nhe extends Pe{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=t=>{this._adapter.setDOMInRenderTree(t)},this.updateDOMHeight=t=>{this._adapter.setDOMHeight(t)},this.updateVisible=t=>{this._adapter.setVisible(t)},this.updateIsTransitioning=t=>{this._adapter.setIsTransitioning(t)}}}const RR={PREFIX:`${Y}-collapsible`};class No extends we{constructor(e){super(e),this.domRef=g.createRef(),this.hasBeenRendered=!1,this.handleResize=t=>{const r=t[0];if(r){const s=No.getEntryInfo(r);this.foundation.updateDOMHeight(s.height),this.foundation.updateDOMInRenderTree(s.isShown)}},this.isChildrenInRenderTree=()=>this.domRef.current?this.domRef.current.offsetHeight>0:!1,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new nhe(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);const e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(e,t,r){const s=Object.keys(Hl(this.props,["reCalcKey","isOpen"])).filter(a=>!ke(this.props[a],e[a])),i=Object.keys(Hl(this.state,["domInRenderTree"])).filter(a=>!ke(this.state[a],t[a]));s.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),i.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),s.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&e.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){const e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||this.props.collapseHeight!==0?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),t=R(`${RR.PREFIX}-wrapper`,{[`${RR.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),r=this.props.keepDOM&&(this.props.lazyRender?this.hasBeenRendered:!0)||this.props.collapseHeight!==0||this.state.visible||this.props.isOpen;return r&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),g.createElement("div",Object.assign({className:t,style:e,onTransitionEnd:()=>{var s,i;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),(i=(s=this.props).onMotionEnd)===null||i===void 0||i.call(s)}},this.getDataAttr(this.props)),g.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},r&&this.props.children))}}No.__SemiComponentName__="Collapsible";No.defaultProps=hs(No.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1});No.getEntryInfo=n=>{let e;n.borderBoxSize?e=!(n.borderBoxSize[0].blockSize===0&&n.borderBoxSize[0].inlineSize===0):e=!(n.contentRect.height===0&&n.contentRect.width===0);let t=0;return n.borderBoxSize?t=Math.ceil(n.borderBoxSize[0].blockSize):t=n.target.clientHeight,{isShown:e,height:t}};No.propTypes={motion:c.bool,children:c.node,isOpen:c.bool,duration:c.number,keepDOM:c.bool,collapseHeight:c.number,style:c.object,className:c.string,reCalcKey:c.oneOfType([c.string,c.number])};var rhe=zM;function she(n,e){return n==null?!0:rhe(n,e)}var ihe=she;const _E=ge(ihe);var ahe=cd,ohe=C1,lhe=Jn,uhe=ad,che=ZL,dhe=uu,hhe=kv;function fhe(n){return lhe(n)?ahe(n,dhe):uhe(n)?[n]:ohe(che(hhe(n)))}var phe=fhe;const bf=ge(phe),AR=n=>{const e=bf(n);return jt(n)&&e.length===1?!1:Number.isInteger(+e[e.length-1])};function ghe(n){if(Ia(n)){const e=Z2(n);return e.length?e.every(t=>typeof t>"u"):!0}else return!1}function hT(n,e){if(e.length===0)return;const t=K(n,e);(Array.isArray(t)&&t.every(r=>r==null)||ghe(t))&&_E(n,e),hT(n,e.slice(0,e.length-1))}function mhe(n){return Z2(n).length===0}function Tr(n,e){return K(n,e)}function cm(n,e){_E(n,e);let t=bf(e);t=t.slice(0,t.length-1),hT(n,t)}function i0(n,e,t,r){if(r||t!==void 0)return mc(n,e,t);if(AR(e)&&Tr(n,e)!==void 0){mc(n,e,void 0);let s=bf(e);s=s.slice(0,s.length-1),hT(n,s)}else!AR(e)&&Tr(n,e)!==void 0&&cm(n,e)}function GF(n,e){return n&&(typeof n=="function"||typeof n=="object")&&e&&(typeof e=="function"||typeof e=="object")&&Object.entries(e).forEach(t=>{let[r,s]=t;n[r]=s}),n}const yhe={DAY_TODAY:`${Y}-datepicker-day-today`,DAY_IN_RANGE:`${Y}-datepicker-day-inrange`,DAY_HOVER:`${Y}-datepicker-day-inhover`,DAY_SELECTED:`${Y}-datepicker-day-selected`,DAY_SELECTED_START:`${Y}-datepicker-day-selected-start`,DAY_SELECTED_END:`${Y}-datepicker-day-selected-end`,DAY_DISABLED:`${Y}-datepicker-day-disabled`,DAY_HOVER_DAY:`${Y}-datepicker-day-hoverday`,DAY_HOVER_DAY_OFFSET:`${Y}-datepicker-day-hoverday-offset`,DAY_IN_OFFSET_RANGE:`${Y}-datepicker-day-inoffsetrange`,DAY_SELECTED_RANGE_HOVER:`${Y}-datepicker-day-selectedrange-hover`,DAY_OFFSET_RANGE_START:`${Y}-datepicker-day-offsetrange-start`,DAY_OFFSET_RANGE_END:`${Y}-datepicker-day-offsetrange-end`,DAY_SELECTED_START_AFTER_HOVER:`${Y}-datepicker-day-selected-start-afterhover`,DAY_SELECTED_END_BEFORE_HOVER:`${Y}-datepicker-day-selected-end-beforehover`,DAY_HOVER_DAY_BEFORE_RANGE:`${Y}-datepicker-day-hoverday-beforerange`,DAY_HOVER_DAY_AFTER_RANGE:`${Y}-datepicker-day-hoverday-afterrange`,DAY_HOVER_DAY_IN_RANGE:`${Y}-datepicker-day-hoverday-inrange`,DAY_HOVER_DAY_AROUND_SINGLE_SELECTED:`${Y}-datepicker-day-hoverday-around-singleselected`},fe=Object.assign({PREFIX:`${Y}-datepicker`,NAVIGATION:`${Y}-datepicker-navigation`,PANEL_YAM:`${Y}-datepicker-panel-yam`,MONTH:`${Y}-datepicker-month`,WEEKDAY:`${Y}-datepicker-weekday`,WEEKS:`${Y}-datepicker-weeks`,WEEK:`${Y}-datepicker-week`,DAY:`${Y}-datepicker-day`},yhe),vhe={FORMAT_FULL_DATE:"yyyy-MM-dd",FORMAT_TIME_PICKER:"HH:mm:ss",FORMAT_DATE_TIME:"yyyy-MM-dd HH:mm:ss",FORMAT_YEAR_MONTH:"yyyy-MM"},z=Object.assign({DEFAULT_SEPARATOR_MULTIPLE:",",DEFAULT_SEPARATOR_RANGE:" ~ ",SIZE_SET:["small","default","large"],TYPE_SET:["date","dateRange","year","month","monthRange","dateTime","dateTimeRange"],PRESET_POSITION_SET:["left","right","top","bottom"],DENSITY_SET:["default","compact"],PANEL_TYPE_LEFT:"left",PANEL_TYPE_RIGHT:"right",STATUS:hd,POSITION_SET:Pl.POSITION_SET,POSITION_INLINE_INPUT:"leftTopOver"},vhe),Bc={WEEK_START_ON:0,WEEK_HEIGHT:36,SPACING:as.SPACING,SPACING_INSET_INPUT:1};var _he=di,bhe=qr,whe="[object Date]";function Ehe(n){return bhe(n)&&_he(n)==whe}var She=Ehe,Che=She,The=pd,DR=dp,kR=DR&&DR.isDate,Ohe=kR?The(kR):Che,Ihe=Ohe;const NR=ge(Ihe);function _a(n){return typeof n=="string"}function $R(n,e){const t=_a(n)?As(n):n,r=_a(e)?As(e):e;return pre(t,r)}function sc(n,e){const t=_a(n)?As(n):n,r=_a(e)?As(e):e;return m2(t,r)}function xu(n,e){let{start:t,end:r}=e;const s=_a(n)?As(n):n,i=_a(t)?As(t):t,a=_a(r)?As(r):r;return m2(i,a)&&hse(s,{start:i,end:a})&&!fy(s,i)&&!fy(s,a)}function qa(n,e){const t=_a(n)?As(n):n,r=_a(e)?As(e):e;return B1(t,r)}function Ds(n){return n&&Object.prototype.toString.call(n)==="[object Date]"&&!isNaN(n)}function Phe(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function bE(n){return Phe(n)&&Ds(new Date(n))}const YF={date:z.FORMAT_FULL_DATE,dateTime:z.FORMAT_DATE_TIME,dateRange:z.FORMAT_FULL_DATE,dateTimeRange:z.FORMAT_DATE_TIME,month:z.FORMAT_YEAR_MONTH,monthRange:z.FORMAT_YEAR_MONTH},xhe=n=>YF;function po(n){return n&&YF[n]}const Rhe=(n,e)=>{const t=new Date().getFullYear();let r=typeof n=="number"?n:t-100,s=typeof e=="number"?e:t+100;return s<r&&([r,s]=[s,r]),Array.from({length:s-r+1},(i,a)=>r+a)},xg=(n,e)=>{if(!e)return"";const t=new Date(e),r=Te(n)?n(t):t;return et(new Date(r),z.FORMAT_FULL_DATE)};function LR(n,e){const t=new Date().getFullYear(),r=new Date().getMonth(),s=e.right||r+2,i=n.right||(s<=12?t:t+1);return{year:{left:n.left||t,right:i},month:{left:e.left||r+1,right:s<=12?s:1}}}var wE={exports:{}},EE={exports:{}},qF={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(qF);var Yt=qF.exports,SE={exports:{}},CE={exports:{}},XF={exports:{}};(function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(XF);var QF=XF.exports,TE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(s.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+s.length+" present")}n.exports=e.default})(TE,TE.exports);var Mr=TE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(QF),s=t(Mr);function i(a){return(0,s.default)(1,arguments),a instanceof Date||(0,r.default)(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}n.exports=e.default})(CE,CE.exports);var Ahe=CE.exports,OE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(QF),s=t(Mr);function i(a){(0,s.default)(1,arguments);var o=Object.prototype.toString.call(a);return a instanceof Date||(0,r.default)(a)==="object"&&o==="[object Date]"?new Date(a.getTime()):typeof a=="number"||o==="[object Number]"?new Date(a):((typeof a=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}n.exports=e.default})(OE,OE.exports);var Zi=OE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(Ahe),s=t(Zi),i=t(Mr);function a(o){if((0,i.default)(1,arguments),!(0,r.default)(o)&&typeof o!="number")return!1;var l=(0,s.default)(o);return!isNaN(Number(l))}n.exports=e.default})(SE,SE.exports);var Dhe=SE.exports,IE={exports:{}},PE={exports:{}},xE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}n.exports=e.default})(xE,xE.exports);var fu=xE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(fu),s=t(Zi),i=t(Mr);function a(o,l){(0,i.default)(2,arguments);var u=(0,s.default)(o).getTime(),d=(0,r.default)(l);return new Date(u+d)}n.exports=e.default})(PE,PE.exports);var khe=PE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(khe),s=t(Mr),i=t(fu);function a(o,l){(0,s.default)(2,arguments);var u=(0,i.default)(l);return(0,r.default)(o,-u)}n.exports=e.default})(IE,IE.exports);var Nhe=IE.exports,RE={exports:{}},AE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(Zi),s=t(Mr),i=864e5;function a(o){(0,s.default)(1,arguments);var l=(0,r.default)(o),u=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var d=l.getTime(),h=u-d;return Math.floor(h/i)+1}n.exports=e.default})(AE,AE.exports);var $he=AE.exports,DE={exports:{}},kE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(Zi),s=t(Mr);function i(a){(0,s.default)(1,arguments);var o=1,l=(0,r.default)(a),u=l.getUTCDay(),d=(u<o?7:0)+u-o;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}n.exports=e.default})(kE,kE.exports);var fT=kE.exports,NE={exports:{}},$E={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(Zi),s=t(Mr),i=t(fT);function a(o){(0,s.default)(1,arguments);var l=(0,r.default)(o),u=l.getUTCFullYear(),d=new Date(0);d.setUTCFullYear(u+1,0,4),d.setUTCHours(0,0,0,0);var h=(0,i.default)(d),f=new Date(0);f.setUTCFullYear(u,0,4),f.setUTCHours(0,0,0,0);var p=(0,i.default)(f);return l.getTime()>=h.getTime()?u+1:l.getTime()>=p.getTime()?u:u-1}n.exports=e.default})($E,$E.exports);var ZF=$E.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(ZF),s=t(fT),i=t(Mr);function a(o){(0,i.default)(1,arguments);var l=(0,r.default)(o),u=new Date(0);u.setUTCFullYear(l,0,4),u.setUTCHours(0,0,0,0);var d=(0,s.default)(u);return d}n.exports=e.default})(NE,NE.exports);var Lhe=NE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(Zi),s=t(fT),i=t(Lhe),a=t(Mr),o=6048e5;function l(u){(0,a.default)(1,arguments);var d=(0,r.default)(u),h=(0,s.default)(d).getTime()-(0,i.default)(d).getTime();return Math.round(h/o)+1}n.exports=e.default})(DE,DE.exports);var Mhe=DE.exports,LE={exports:{}},ME={exports:{}},pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.getDefaultOptions=Fhe;pu.setDefaultOptions=jhe;var JF={};function Fhe(){return JF}function jhe(n){JF=n}(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(Zi),s=t(Mr),i=t(fu),a=pu;function o(l,u){var d,h,f,p,_,y,v,m;(0,s.default)(1,arguments);var w=(0,a.getDefaultOptions)(),b=(0,i.default)((d=(h=(f=(p=u==null?void 0:u.weekStartsOn)!==null&&p!==void 0?p:u==null||(_=u.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&f!==void 0?f:w.weekStartsOn)!==null&&h!==void 0?h:(v=w.locale)===null||v===void 0||(m=v.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&d!==void 0?d:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var E=(0,r.default)(l),S=E.getUTCDay(),C=(S<b?7:0)+S-b;return E.setUTCDate(E.getUTCDate()-C),E.setUTCHours(0,0,0,0),E}n.exports=e.default})(ME,ME.exports);var pT=ME.exports,FE={exports:{}},jE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(Zi),s=t(Mr),i=t(pT),a=t(fu),o=pu;function l(u,d){var h,f,p,_,y,v,m,w;(0,s.default)(1,arguments);var b=(0,r.default)(u),E=b.getUTCFullYear(),S=(0,o.getDefaultOptions)(),C=(0,a.default)((h=(f=(p=(_=d==null?void 0:d.firstWeekContainsDate)!==null&&_!==void 0?_:d==null||(y=d.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&p!==void 0?p:S.firstWeekContainsDate)!==null&&f!==void 0?f:(m=S.locale)===null||m===void 0||(w=m.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=new Date(0);O.setUTCFullYear(E+1,0,C),O.setUTCHours(0,0,0,0);var I=(0,i.default)(O,d),P=new Date(0);P.setUTCFullYear(E,0,C),P.setUTCHours(0,0,0,0);var x=(0,i.default)(P,d);return b.getTime()>=I.getTime()?E+1:b.getTime()>=x.getTime()?E:E-1}n.exports=e.default})(jE,jE.exports);var ej=jE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(ej),s=t(Mr),i=t(pT),a=t(fu),o=pu;function l(u,d){var h,f,p,_,y,v,m,w;(0,s.default)(1,arguments);var b=(0,o.getDefaultOptions)(),E=(0,a.default)((h=(f=(p=(_=d==null?void 0:d.firstWeekContainsDate)!==null&&_!==void 0?_:d==null||(y=d.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&p!==void 0?p:b.firstWeekContainsDate)!==null&&f!==void 0?f:(m=b.locale)===null||m===void 0||(w=m.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&h!==void 0?h:1),S=(0,r.default)(u,d),C=new Date(0);C.setUTCFullYear(S,0,E),C.setUTCHours(0,0,0,0);var O=(0,i.default)(C,d);return O}n.exports=e.default})(FE,FE.exports);var Vhe=FE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(Zi),s=t(pT),i=t(Vhe),a=t(Mr),o=6048e5;function l(u,d){(0,a.default)(1,arguments);var h=(0,r.default)(u),f=(0,s.default)(h,d).getTime()-(0,i.default)(h,d).getTime();return Math.round(f/o)+1}n.exports=e.default})(LE,LE.exports);var Uhe=LE.exports,VE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){for(var i=r<0?"-":"",a=Math.abs(r).toString();a.length<s;)a="0"+a;return i+a}n.exports=e.default})(VE,VE.exports);var tj=VE.exports,UE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(tj),s={y:function(o,l){var u=o.getUTCFullYear(),d=u>0?u:1-u;return(0,r.default)(l==="yy"?d%100:d,l.length)},M:function(o,l){var u=o.getUTCMonth();return l==="M"?String(u+1):(0,r.default)(u+1,2)},d:function(o,l){return(0,r.default)(o.getUTCDate(),l.length)},a:function(o,l){var u=o.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(o,l){return(0,r.default)(o.getUTCHours()%12||12,l.length)},H:function(o,l){return(0,r.default)(o.getUTCHours(),l.length)},m:function(o,l){return(0,r.default)(o.getUTCMinutes(),l.length)},s:function(o,l){return(0,r.default)(o.getUTCSeconds(),l.length)},S:function(o,l){var u=l.length,d=o.getUTCMilliseconds(),h=Math.floor(d*Math.pow(10,u-3));return(0,r.default)(h,l.length)}},i=s;e.default=i,n.exports=e.default})(UE,UE.exports);var Bhe=UE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t($he),s=t(Mhe),i=t(ZF),a=t(Uhe),o=t(ej),l=t(tj),u=t(Bhe),d={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h={G:function(m,w,b){var E=m.getUTCFullYear()>0?1:0;switch(w){case"G":case"GG":case"GGG":return b.era(E,{width:"abbreviated"});case"GGGGG":return b.era(E,{width:"narrow"});case"GGGG":default:return b.era(E,{width:"wide"})}},y:function(m,w,b){if(w==="yo"){var E=m.getUTCFullYear(),S=E>0?E:1-E;return b.ordinalNumber(S,{unit:"year"})}return u.default.y(m,w)},Y:function(m,w,b,E){var S=(0,o.default)(m,E),C=S>0?S:1-S;if(w==="YY"){var O=C%100;return(0,l.default)(O,2)}return w==="Yo"?b.ordinalNumber(C,{unit:"year"}):(0,l.default)(C,w.length)},R:function(m,w){var b=(0,i.default)(m);return(0,l.default)(b,w.length)},u:function(m,w){var b=m.getUTCFullYear();return(0,l.default)(b,w.length)},Q:function(m,w,b){var E=Math.ceil((m.getUTCMonth()+1)/3);switch(w){case"Q":return String(E);case"QQ":return(0,l.default)(E,2);case"Qo":return b.ordinalNumber(E,{unit:"quarter"});case"QQQ":return b.quarter(E,{width:"abbreviated",context:"formatting"});case"QQQQQ":return b.quarter(E,{width:"narrow",context:"formatting"});case"QQQQ":default:return b.quarter(E,{width:"wide",context:"formatting"})}},q:function(m,w,b){var E=Math.ceil((m.getUTCMonth()+1)/3);switch(w){case"q":return String(E);case"qq":return(0,l.default)(E,2);case"qo":return b.ordinalNumber(E,{unit:"quarter"});case"qqq":return b.quarter(E,{width:"abbreviated",context:"standalone"});case"qqqqq":return b.quarter(E,{width:"narrow",context:"standalone"});case"qqqq":default:return b.quarter(E,{width:"wide",context:"standalone"})}},M:function(m,w,b){var E=m.getUTCMonth();switch(w){case"M":case"MM":return u.default.M(m,w);case"Mo":return b.ordinalNumber(E+1,{unit:"month"});case"MMM":return b.month(E,{width:"abbreviated",context:"formatting"});case"MMMMM":return b.month(E,{width:"narrow",context:"formatting"});case"MMMM":default:return b.month(E,{width:"wide",context:"formatting"})}},L:function(m,w,b){var E=m.getUTCMonth();switch(w){case"L":return String(E+1);case"LL":return(0,l.default)(E+1,2);case"Lo":return b.ordinalNumber(E+1,{unit:"month"});case"LLL":return b.month(E,{width:"abbreviated",context:"standalone"});case"LLLLL":return b.month(E,{width:"narrow",context:"standalone"});case"LLLL":default:return b.month(E,{width:"wide",context:"standalone"})}},w:function(m,w,b,E){var S=(0,a.default)(m,E);return w==="wo"?b.ordinalNumber(S,{unit:"week"}):(0,l.default)(S,w.length)},I:function(m,w,b){var E=(0,s.default)(m);return w==="Io"?b.ordinalNumber(E,{unit:"week"}):(0,l.default)(E,w.length)},d:function(m,w,b){return w==="do"?b.ordinalNumber(m.getUTCDate(),{unit:"date"}):u.default.d(m,w)},D:function(m,w,b){var E=(0,r.default)(m);return w==="Do"?b.ordinalNumber(E,{unit:"dayOfYear"}):(0,l.default)(E,w.length)},E:function(m,w,b){var E=m.getUTCDay();switch(w){case"E":case"EE":case"EEE":return b.day(E,{width:"abbreviated",context:"formatting"});case"EEEEE":return b.day(E,{width:"narrow",context:"formatting"});case"EEEEEE":return b.day(E,{width:"short",context:"formatting"});case"EEEE":default:return b.day(E,{width:"wide",context:"formatting"})}},e:function(m,w,b,E){var S=m.getUTCDay(),C=(S-E.weekStartsOn+8)%7||7;switch(w){case"e":return String(C);case"ee":return(0,l.default)(C,2);case"eo":return b.ordinalNumber(C,{unit:"day"});case"eee":return b.day(S,{width:"abbreviated",context:"formatting"});case"eeeee":return b.day(S,{width:"narrow",context:"formatting"});case"eeeeee":return b.day(S,{width:"short",context:"formatting"});case"eeee":default:return b.day(S,{width:"wide",context:"formatting"})}},c:function(m,w,b,E){var S=m.getUTCDay(),C=(S-E.weekStartsOn+8)%7||7;switch(w){case"c":return String(C);case"cc":return(0,l.default)(C,w.length);case"co":return b.ordinalNumber(C,{unit:"day"});case"ccc":return b.day(S,{width:"abbreviated",context:"standalone"});case"ccccc":return b.day(S,{width:"narrow",context:"standalone"});case"cccccc":return b.day(S,{width:"short",context:"standalone"});case"cccc":default:return b.day(S,{width:"wide",context:"standalone"})}},i:function(m,w,b){var E=m.getUTCDay(),S=E===0?7:E;switch(w){case"i":return String(S);case"ii":return(0,l.default)(S,w.length);case"io":return b.ordinalNumber(S,{unit:"day"});case"iii":return b.day(E,{width:"abbreviated",context:"formatting"});case"iiiii":return b.day(E,{width:"narrow",context:"formatting"});case"iiiiii":return b.day(E,{width:"short",context:"formatting"});case"iiii":default:return b.day(E,{width:"wide",context:"formatting"})}},a:function(m,w,b){var E=m.getUTCHours(),S=E/12>=1?"pm":"am";switch(w){case"a":case"aa":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"aaa":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return b.dayPeriod(S,{width:"narrow",context:"formatting"});case"aaaa":default:return b.dayPeriod(S,{width:"wide",context:"formatting"})}},b:function(m,w,b){var E=m.getUTCHours(),S;switch(E===12?S=d.noon:E===0?S=d.midnight:S=E/12>=1?"pm":"am",w){case"b":case"bb":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"bbb":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return b.dayPeriod(S,{width:"narrow",context:"formatting"});case"bbbb":default:return b.dayPeriod(S,{width:"wide",context:"formatting"})}},B:function(m,w,b){var E=m.getUTCHours(),S;switch(E>=17?S=d.evening:E>=12?S=d.afternoon:E>=4?S=d.morning:S=d.night,w){case"B":case"BB":case"BBB":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"BBBBB":return b.dayPeriod(S,{width:"narrow",context:"formatting"});case"BBBB":default:return b.dayPeriod(S,{width:"wide",context:"formatting"})}},h:function(m,w,b){if(w==="ho"){var E=m.getUTCHours()%12;return E===0&&(E=12),b.ordinalNumber(E,{unit:"hour"})}return u.default.h(m,w)},H:function(m,w,b){return w==="Ho"?b.ordinalNumber(m.getUTCHours(),{unit:"hour"}):u.default.H(m,w)},K:function(m,w,b){var E=m.getUTCHours()%12;return w==="Ko"?b.ordinalNumber(E,{unit:"hour"}):(0,l.default)(E,w.length)},k:function(m,w,b){var E=m.getUTCHours();return E===0&&(E=24),w==="ko"?b.ordinalNumber(E,{unit:"hour"}):(0,l.default)(E,w.length)},m:function(m,w,b){return w==="mo"?b.ordinalNumber(m.getUTCMinutes(),{unit:"minute"}):u.default.m(m,w)},s:function(m,w,b){return w==="so"?b.ordinalNumber(m.getUTCSeconds(),{unit:"second"}):u.default.s(m,w)},S:function(m,w){return u.default.S(m,w)},X:function(m,w,b,E){var S=E._originalDate||m,C=S.getTimezoneOffset();if(C===0)return"Z";switch(w){case"X":return p(C);case"XXXX":case"XX":return _(C);case"XXXXX":case"XXX":default:return _(C,":")}},x:function(m,w,b,E){var S=E._originalDate||m,C=S.getTimezoneOffset();switch(w){case"x":return p(C);case"xxxx":case"xx":return _(C);case"xxxxx":case"xxx":default:return _(C,":")}},O:function(m,w,b,E){var S=E._originalDate||m,C=S.getTimezoneOffset();switch(w){case"O":case"OO":case"OOO":return"GMT"+f(C,":");case"OOOO":default:return"GMT"+_(C,":")}},z:function(m,w,b,E){var S=E._originalDate||m,C=S.getTimezoneOffset();switch(w){case"z":case"zz":case"zzz":return"GMT"+f(C,":");case"zzzz":default:return"GMT"+_(C,":")}},t:function(m,w,b,E){var S=E._originalDate||m,C=Math.floor(S.getTime()/1e3);return(0,l.default)(C,w.length)},T:function(m,w,b,E){var S=E._originalDate||m,C=S.getTime();return(0,l.default)(C,w.length)}};function f(v,m){var w=v>0?"-":"+",b=Math.abs(v),E=Math.floor(b/60),S=b%60;if(S===0)return w+String(E);var C=m;return w+String(E)+C+(0,l.default)(S,2)}function p(v,m){if(v%60===0){var w=v>0?"-":"+";return w+(0,l.default)(Math.abs(v)/60,2)}return _(v,m)}function _(v,m){var w=m||"",b=v>0?"-":"+",E=Math.abs(v),S=(0,l.default)(Math.floor(E/60),2),C=(0,l.default)(E%60,2);return b+S+w+C}var y=h;e.default=y,n.exports=e.default})(RE,RE.exports);var Hhe=RE.exports,BE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},r=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},s=function(l,u){var d=l.match(/(P+)(p+)?/)||[],h=d[1],f=d[2];if(!f)return t(l,u);var p;switch(h){case"P":p=u.dateTime({width:"short"});break;case"PP":p=u.dateTime({width:"medium"});break;case"PPP":p=u.dateTime({width:"long"});break;case"PPPP":default:p=u.dateTime({width:"full"});break}return p.replace("{{date}}",t(h,u)).replace("{{time}}",r(f,u))},i={p:r,P:s},a=i;e.default=a,n.exports=e.default})(BE,BE.exports);var zhe=BE.exports,HE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}n.exports=e.default})(HE,HE.exports);var nj=HE.exports,Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.isProtectedDayOfYearToken=Ghe;Ip.isProtectedWeekYearToken=Yhe;Ip.throwProtectedError=qhe;var Khe=["D","DD"],Whe=["YY","YYYY"];function Ghe(n){return Khe.indexOf(n)!==-1}function Yhe(n){return Whe.indexOf(n)!==-1}function qhe(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zE={exports:{}},KE={exports:{}},WE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(a,o,l){var u,d=t[a];return typeof d=="string"?u=d:o===1?u=d.one:u=d.other.replace("{{count}}",o.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+u:u+" ago":u},s=r;e.default=s,n.exports=e.default})(WE,WE.exports);var Xhe=WE.exports,GE={exports:{}},YE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.width?String(s.width):r.defaultWidth,a=r.formats[i]||r.formats[r.defaultWidth];return a}}n.exports=e.default})(YE,YE.exports);var Qhe=YE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Qhe),s={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o={date:(0,r.default)({formats:s,defaultWidth:"full"}),time:(0,r.default)({formats:i,defaultWidth:"full"}),dateTime:(0,r.default)({formats:a,defaultWidth:"full"})},l=o;e.default=l,n.exports=e.default})(GE,GE.exports);var Zhe=GE.exports,qE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(a,o,l,u){return t[a]},s=r;e.default=s,n.exports=e.default})(qE,qE.exports);var Jhe=qE.exports,XE={exports:{}},QE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s,i){var a=i!=null&&i.context?String(i.context):"standalone",o;if(a==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,u=i!=null&&i.width?String(i.width):l;o=r.formattingValues[u]||r.formattingValues[l]}else{var d=r.defaultWidth,h=i!=null&&i.width?String(i.width):r.defaultWidth;o=r.values[h]||r.values[d]}var f=r.argumentCallback?r.argumentCallback(s):s;return o[f]}}n.exports=e.default})(QE,QE.exports);var efe=QE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(efe),s={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d=function(_,y){var v=Number(_),m=v%100;if(m>20||m<10)switch(m%10){case 1:return v+"st";case 2:return v+"nd";case 3:return v+"rd"}return v+"th"},h={ordinalNumber:d,era:(0,r.default)({values:s,defaultWidth:"wide"}),quarter:(0,r.default)({values:i,defaultWidth:"wide",argumentCallback:function(_){return _-1}}),month:(0,r.default)({values:a,defaultWidth:"wide"}),day:(0,r.default)({values:o,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},f=h;e.default=f,n.exports=e.default})(XE,XE.exports);var tfe=XE.exports,ZE={exports:{}},JE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.width,u=l&&i.matchPatterns[l]||i.matchPatterns[i.defaultMatchWidth],d=a.match(u);if(!d)return null;var h=d[0],f=l&&i.parsePatterns[l]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(f)?s(f,function(v){return v.test(h)}):r(f,function(v){return v.test(h)}),_;_=i.valueCallback?i.valueCallback(p):p,_=o.valueCallback?o.valueCallback(_):_;var y=a.slice(h.length);return{value:_,rest:y}}}function r(i,a){for(var o in i)if(i.hasOwnProperty(o)&&a(i[o]))return o}function s(i,a){for(var o=0;o<i.length;o++)if(a(i[o]))return o}n.exports=e.default})(JE,JE.exports);var nfe=JE.exports,eS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.match(r.matchPattern);if(!a)return null;var o=a[0],l=s.match(r.parsePattern);if(!l)return null;var u=r.valueCallback?r.valueCallback(l[0]):l[0];u=i.valueCallback?i.valueCallback(u):u;var d=s.slice(o.length);return{value:u,rest:d}}}n.exports=e.default})(eS,eS.exports);var rfe=eS.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(nfe),s=t(rfe),i=/^(\d+)(th|st|nd|rd)?/i,a=/\d+/i,o={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m={ordinalNumber:(0,s.default)({matchPattern:i,parsePattern:a,valueCallback:function(E){return parseInt(E,10)}}),era:(0,r.default)({matchPatterns:o,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any",valueCallback:function(E){return E+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:p,defaultMatchWidth:"wide",parsePatterns:_,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:y,defaultMatchWidth:"any",parsePatterns:v,defaultParseWidth:"any"})},w=m;e.default=w,n.exports=e.default})(ZE,ZE.exports);var sfe=ZE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Xhe),s=t(Zhe),i=t(Jhe),a=t(tfe),o=t(sfe),l={code:"en-US",formatDistance:r.default,formatLong:s.default,formatRelative:i.default,localize:a.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;e.default=u,n.exports=e.default})(KE,KE.exports);var ife=KE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(ife),s=r.default;e.default=s,n.exports=e.default})(zE,zE.exports);var afe=zE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var r=t(Dhe),s=t(Nhe),i=t(Zi),a=t(Hhe),o=t(zhe),l=t(nj),u=Ip,d=t(fu),h=t(Mr),f=pu,p=t(afe),_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v=/^'([^]*?)'?$/,m=/''/g,w=/[a-zA-Z]/;function b(S,C,O){var I,P,x,D,$,M,V,B,F,W,N,j,L,te,Q,ie,le,Ee;(0,h.default)(2,arguments);var he=String(C),de=(0,f.getDefaultOptions)(),ue=(I=(P=O==null?void 0:O.locale)!==null&&P!==void 0?P:de.locale)!==null&&I!==void 0?I:p.default,q=(0,d.default)((x=(D=($=(M=O==null?void 0:O.firstWeekContainsDate)!==null&&M!==void 0?M:O==null||(V=O.locale)===null||V===void 0||(B=V.options)===null||B===void 0?void 0:B.firstWeekContainsDate)!==null&&$!==void 0?$:de.firstWeekContainsDate)!==null&&D!==void 0?D:(F=de.locale)===null||F===void 0||(W=F.options)===null||W===void 0?void 0:W.firstWeekContainsDate)!==null&&x!==void 0?x:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var se=(0,d.default)((N=(j=(L=(te=O==null?void 0:O.weekStartsOn)!==null&&te!==void 0?te:O==null||(Q=O.locale)===null||Q===void 0||(ie=Q.options)===null||ie===void 0?void 0:ie.weekStartsOn)!==null&&L!==void 0?L:de.weekStartsOn)!==null&&j!==void 0?j:(le=de.locale)===null||le===void 0||(Ee=le.options)===null||Ee===void 0?void 0:Ee.weekStartsOn)!==null&&N!==void 0?N:0);if(!(se>=0&&se<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ue.localize)throw new RangeError("locale must contain localize property");if(!ue.formatLong)throw new RangeError("locale must contain formatLong property");var vt=(0,i.default)(S);if(!(0,r.default)(vt))throw new RangeError("Invalid time value");var $t=(0,l.default)(vt),Cn=(0,s.default)(vt,$t),Ot={firstWeekContainsDate:q,weekStartsOn:se,locale:ue,_originalDate:vt},jn=he.match(y).map(function(_t){var wr=_t[0];if(wr==="p"||wr==="P"){var fs=o.default[wr];return fs(_t,ue.formatLong)}return _t}).join("").match(_).map(function(_t){if(_t==="''")return"'";var wr=_t[0];if(wr==="'")return E(_t);var fs=a.default[wr];if(fs)return!(O!=null&&O.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(_t)&&(0,u.throwProtectedError)(_t,C,String(S)),!(O!=null&&O.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(_t)&&(0,u.throwProtectedError)(_t,C,String(S)),fs(Cn,_t,ue.localize,Ot);if(wr.match(w))throw new RangeError("Format string contains an unescaped latin alphabet character `"+wr+"`");return _t}).join("");return jn}function E(S){var C=S.match(v);return C?C[1].replace(m,"'"):S}n.exports=e.default})(EE,EE.exports);var ofe=EE.exports,tS={exports:{}},nS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(a,o,l){var u=i(a,l.timeZone,l.locale);return u.formatToParts?r(u,o):s(u,o)}function r(a,o){for(var l=a.formatToParts(o),u=l.length-1;u>=0;--u)if(l[u].type==="timeZoneName")return l[u].value}function s(a,o){var l=a.format(o).replace(/\u200E/g,""),u=/ [\w-+ ]+$/.exec(l);return u?u[0].substr(1):""}function i(a,o,l){if(l&&!l.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(l?[l.code,"en-US"]:void 0,{timeZone:o,timeZoneName:a})}n.exports=e.default})(nS,nS.exports);var lfe=nS.exports,rS={exports:{}},sS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l,u){var d=o(u);return d.formatToParts?s(d,l):i(d,l)}var r={year:0,month:1,day:2,hour:3,minute:4,second:5};function s(l,u){try{for(var d=l.formatToParts(u),h=[],f=0;f<d.length;f++){var p=r[d[f].type];p>=0&&(h[p]=parseInt(d[f].value,10))}return h}catch(_){if(_ instanceof RangeError)return[NaN];throw _}}function i(l,u){var d=l.format(u).replace(/\u200E/g,""),h=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(d);return[h[3],h[1],h[2],h[4],h[5],h[6]]}var a={};function o(l){if(!a[l]){var u=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),d=u==="06/25/2014, 00:00:00"||u==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";a[l]=d?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return a[l]}n.exports=e.default})(sS,sS.exports);var ufe=sS.exports,iS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s,i,a,o,l,u){var d=new Date(0);return d.setUTCFullYear(r,s,i),d.setUTCHours(a,o,l,u),d}n.exports=e.default})(iS,iS.exports);var rj=iS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(ufe),r=s(rj);function s(y){return y&&y.__esModule?y:{default:y}}var i=36e5,a=6e4,o={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function l(y,v,m){var w,b;if(!y||(w=o.timezoneZ.exec(y),w))return 0;var E;if(w=o.timezoneHH.exec(y),w)return E=parseInt(w[1],10),f(E)?-(E*i):NaN;if(w=o.timezoneHHMM.exec(y),w){E=parseInt(w[1],10);var S=parseInt(w[2],10);return f(E,S)?(b=Math.abs(E)*i+S*a,E>0?-b:b):NaN}if(_(y)){v=new Date(v||Date.now());var C=m?v:u(v),O=d(C,y),I=m?O:h(v,O,y);return-I}return NaN}function u(y){return(0,r.default)(y.getFullYear(),y.getMonth(),y.getDate(),y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}function d(y,v){var m=(0,t.default)(y,v),w=(0,r.default)(m[0],m[1]-1,m[2],m[3]%24,m[4],m[5],0).getTime(),b=y.getTime(),E=b%1e3;return b-=E>=0?E:1e3+E,w-b}function h(y,v,m){var w=y.getTime(),b=w-v,E=d(new Date(b),m);if(v===E)return v;b-=E-v;var S=d(new Date(b),m);return E===S?E:Math.max(E,S)}function f(y,v){return-23<=y&&y<=23&&(v==null||0<=v&&v<=59)}var p={};function _(y){if(p[y])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:y}),p[y]=!0,!0}catch{return!1}}n.exports=e.default})(rS,rS.exports);var Pp=rS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(lfe),r=s(Pp);function s(p){return p&&p.__esModule?p:{default:p}}var i=60*1e3,a={X:function(p,_,y,v){var m=o(v.timeZone,v._originalDate||p);if(m===0)return"Z";switch(_){case"X":return d(m);case"XXXX":case"XX":return u(m);case"XXXXX":case"XXX":default:return u(m,":")}},x:function(p,_,y,v){var m=o(v.timeZone,v._originalDate||p);switch(_){case"x":return d(m);case"xxxx":case"xx":return u(m);case"xxxxx":case"xxx":default:return u(m,":")}},O:function(p,_,y,v){var m=o(v.timeZone,v._originalDate||p);switch(_){case"O":case"OO":case"OOO":return"GMT"+h(m,":");case"OOOO":default:return"GMT"+u(m,":")}},z:function(p,_,y,v){var m=v._originalDate||p;switch(_){case"z":case"zz":case"zzz":return(0,t.default)("short",m,v);case"zzzz":default:return(0,t.default)("long",m,v)}}};function o(p,_){var y=p?(0,r.default)(p,_,!0)/i:_.getTimezoneOffset();if(Number.isNaN(y))throw new RangeError("Invalid time zone specified: "+p);return y}function l(p,_){for(var y=p<0?"-":"",v=Math.abs(p).toString();v.length<_;)v="0"+v;return y+v}function u(p,_){var y=_||"",v=p>0?"-":"+",m=Math.abs(p),w=l(Math.floor(m/60),2),b=l(Math.floor(m%60),2);return v+w+y+b}function d(p,_){if(p%60===0){var y=p>0?"-":"+";return y+l(Math.abs(p)/60,2)}return u(p,_)}function h(p,_){var y=p>0?"-":"+",v=Math.abs(p),m=Math.floor(v/60),w=v%60;if(w===0)return y+String(m);var b=_;return y+String(m)+b+l(w,2)}var f=a;e.default=f,n.exports=e.default})(tS,tS.exports);var cfe=tS.exports,aS={exports:{}},oS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,r=t;e.default=r,n.exports=e.default})(oS,oS.exports);var sj=oS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=a(fu),r=a(nj),s=a(Pp),i=a(sj);function a(I){return I&&I.__esModule?I:{default:I}}var o=36e5,l=6e4,u=2,d={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:i.default};function h(I,P){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(I===null)return new Date(NaN);var x=P||{},D=x.additionalDigits==null?u:(0,t.default)(x.additionalDigits);if(D!==2&&D!==1&&D!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(I instanceof Date||typeof I=="object"&&Object.prototype.toString.call(I)==="[object Date]")return new Date(I.getTime());if(typeof I=="number"||Object.prototype.toString.call(I)==="[object Number]")return new Date(I);if(!(typeof I=="string"||Object.prototype.toString.call(I)==="[object String]"))return new Date(NaN);var $=f(I),M=p($.date,D),V=M.year,B=M.restDateString,F=_(B,V);if(isNaN(F))return new Date(NaN);if(F){var W=F.getTime(),N=0,j;if($.time&&(N=y($.time),isNaN(N)))return new Date(NaN);if($.timeZone||x.timeZone){if(j=(0,s.default)($.timeZone||x.timeZone,new Date(W+N)),isNaN(j))return new Date(NaN)}else j=(0,r.default)(new Date(W+N)),j=(0,r.default)(new Date(W+N+j));return new Date(W+N+j)}else return new Date(NaN)}function f(I){var P={},x=d.dateTimePattern.exec(I),D;if(x?(P.date=x[1],D=x[3]):(x=d.datePattern.exec(I),x?(P.date=x[1],D=x[2]):(P.date=null,D=I)),D){var $=d.timeZone.exec(D);$?(P.time=D.replace($[1],""),P.timeZone=$[1].trim()):P.time=D}return P}function p(I,P){var x=d.YYY[P],D=d.YYYYY[P],$;if($=d.YYYY.exec(I)||D.exec(I),$){var M=$[1];return{year:parseInt(M,10),restDateString:I.slice(M.length)}}if($=d.YY.exec(I)||x.exec(I),$){var V=$[1];return{year:parseInt(V,10)*100,restDateString:I.slice(V.length)}}return{year:null}}function _(I,P){if(P===null)return null;var x,D,$,M;if(I.length===0)return D=new Date(0),D.setUTCFullYear(P),D;if(x=d.MM.exec(I),x)return D=new Date(0),$=parseInt(x[1],10)-1,E(P,$)?(D.setUTCFullYear(P,$),D):new Date(NaN);if(x=d.DDD.exec(I),x){D=new Date(0);var V=parseInt(x[1],10);return S(P,V)?(D.setUTCFullYear(P,0,V),D):new Date(NaN)}if(x=d.MMDD.exec(I),x){D=new Date(0),$=parseInt(x[1],10)-1;var B=parseInt(x[2],10);return E(P,$,B)?(D.setUTCFullYear(P,$,B),D):new Date(NaN)}if(x=d.Www.exec(I),x)return M=parseInt(x[1],10)-1,C(P,M)?v(P,M):new Date(NaN);if(x=d.WwwD.exec(I),x){M=parseInt(x[1],10)-1;var F=parseInt(x[2],10)-1;return C(P,M,F)?v(P,M,F):new Date(NaN)}return null}function y(I){var P,x,D;if(P=d.HH.exec(I),P)return x=parseFloat(P[1].replace(",",".")),O(x)?x%24*o:NaN;if(P=d.HHMM.exec(I),P)return x=parseInt(P[1],10),D=parseFloat(P[2].replace(",",".")),O(x,D)?x%24*o+D*l:NaN;if(P=d.HHMMSS.exec(I),P){x=parseInt(P[1],10),D=parseInt(P[2],10);var $=parseFloat(P[3].replace(",","."));return O(x,D,$)?x%24*o+D*l+$*1e3:NaN}return null}function v(I,P,x){P=P||0,x=x||0;var D=new Date(0);D.setUTCFullYear(I,0,4);var $=D.getUTCDay()||7,M=P*7+x+1-$;return D.setUTCDate(D.getUTCDate()+M),D}var m=[31,28,31,30,31,30,31,31,30,31,30,31],w=[31,29,31,30,31,30,31,31,30,31,30,31];function b(I){return I%400===0||I%4===0&&I%100!==0}function E(I,P,x){if(P<0||P>11)return!1;if(x!=null){if(x<1)return!1;var D=b(I);if(D&&x>w[P]||!D&&x>m[P])return!1}return!0}function S(I,P){if(P<1)return!1;var x=b(I);return!(x&&P>366||!x&&P>365)}function C(I,P,x){return!(P<0||P>52||x!=null&&(x<0||x>6))}function O(I,P,x){return!(I!=null&&(I<0||I>=25)||P!=null&&(P<0||P>=60)||x!=null&&(x<0||x>=60))}n.exports=e.default})(aS,aS.exports);var s_=aS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(ofe),r=i(cfe),s=i(s_);function i(l){return l&&l.__esModule?l:{default:l}}var a=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function o(l,u,d){var h=String(u),f=d||{},p=h.match(a);if(p){var _=(0,s.default)(l,f);h=p.reduce(function(y,v){if(v[0]==="'")return y;var m=y.indexOf(v),w=y[m-1]==="'",b=y.replace(v,"'"+r.default[v[0]](_,v,null,f)+"'");return w?b.substring(0,m-1)+b.substring(m+1):b},h)}return(0,t.default)(l,h,f)}n.exports=e.default})(wE,wE.exports);var ij=wE.exports,lS={exports:{}},uS={exports:{}},cS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r}n.exports=e.default})(cS,cS.exports);var dfe=cS.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=t(dfe);function s(i){return(0,r.default)({},i)}n.exports=e.default})(uS,uS.exports);var aj=uS.exports,dS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(Pp),r=s(s_);function s(a){return a&&a.__esModule?a:{default:a}}function i(a,o,l){var u=(0,r.default)(a,l),d=(0,t.default)(o,u,!0),h=new Date(u.getTime()-d),f=new Date(0);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}n.exports=e.default})(dS,dS.exports);var oj=dS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(aj),r=i(ij),s=i(oj);function i(o){return o&&o.__esModule?o:{default:o}}function a(o,l,u,d){var h=(0,t.default)(d);return h.timeZone=l,(0,r.default)((0,s.default)(o,l),u,h)}n.exports=e.default})(lS,lS.exports);var hfe=lS.exports,hS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(Pp);function r(i){return i&&i.__esModule?i:{default:i}}function s(i,a){return-(0,t.default)(i,a)}n.exports=e.default})(hS,hS.exports);var ffe=hS.exports,fS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=o(aj),r=o(s_),s=o(sj),i=o(Pp),a=o(rj);function o(u){return u&&u.__esModule?u:{default:u}}function l(u,d,h){if(typeof u=="string"&&!u.match(s.default)){var f=(0,t.default)(h);return f.timeZone=d,(0,r.default)(u,f)}var p=(0,r.default)(u,h),_=(0,a.default)(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds()).getTime(),y=(0,i.default)(d,new Date(_));return new Date(_+y)}n.exports=e.default})(fS,fS.exports);var pfe=fS.exports,lj={format:ij,formatInTimeZone:hfe,getTimezoneOffset:ffe,toDate:s_,utcToZonedTime:oj,zonedTimeToUtc:pfe};const gfe=[[-11,["Pacific/Midway"]],[-10,["Pacific/Honolulu"]],[-9.5,["Pacific/Marquesas"]],[-9,["Pacific/Gambier"]],[-8,["Pacific/Pitcairn"]],[-7,["America/Phoenix"]],[-6,["America/Tegucigalpa"]],[-5,["America/Bogota"]],[-4,["America/Puerto_Rico"]],[-3.5,["America/St_Johns"]],[-3,["America/Montevideo"]],[-2,["Atlantic/South_Georgia"]],[-1,["Atlantic/Cape_Verde"]],[0,["Africa/Accra"]],[1,["Africa/Bangui"]],[2,["Africa/Cairo"]],[3,["Asia/Bahrain","Indian/Antananarivo"]],[3.5,["Asia/Tehran"]],[4,["Asia/Dubai","Asia/Muscat"]],[4.5,["Asia/Kabul"]],[5,["Asia/Samarkand","Asia/Karachi"]],[5.5,["Asia/Kolkata"]],[5.75,["Asia/Kathmandu"]],[6,["Asia/Dhaka"]],[6.5,["Asia/Rangoon","Asia/Rangoon"]],[7,["Asia/Jakarta","Asia/Phnom_Penh","Asia/Bangkok"]],[8,["Asia/Shanghai","Asia/Singapore"]],[8.75,["Australia/Eucla"]],[9,["Asia/Tokyo","Asia/Seoul","Asia/Pyongyang"]],[9.5,["Australia/Darwin"]],[10,["Pacific/Guam"]],[10.5,["Australia/Adelaide"]],[11,["Pacific/Guadalcanal"]],[12,["Pacific/Funafuti"]],[13,["Pacific/Enderbury"]],[13.75,["Pacific/Chatham"]],[14,["Pacific/Kiritimati"]]],MR={0:"Etc/GMT",1:"Etc/GMT-1",2:"Etc/GMT-2",3:"Etc/GMT-3",4:"Etc/GMT-4",5:"Etc/GMT-5",6:"Etc/GMT-6",7:"Etc/GMT-7",8:"Etc/GMT-8",9:"Etc/GMT-9",10:"Etc/GMT-10",11:"Etc/GMT-11",12:"Etc/GMT-12",13:"Etc/GMT-13",14:"Etc/GMT-14","-1":"Etc/GMT+1","-2":"Etc/GMT+2","-3":"Etc/GMT+3","-4":"Etc/GMT+4","-5":"Etc/GMT+5","-6":"Etc/GMT+6","-7":"Etc/GMT+7","-8":"Etc/GMT+8","-9":"Etc/GMT+9","-10":"Etc/GMT+10","-11":"Etc/GMT+11","-12":"Etc/GMT+12"},mfe=/([\-\+]{1})(\d{2})\:(\d{2})/,uj=n=>{let e=null;if(typeof n=="string"){if(e=n.match(mfe),!e)return n;const t=parseInt(e[1]+1,10),r=parseInt(e[2],10),s=parseInt(e[3],10);n=t*(r+s/60)}if(typeof n=="number"){if(n in MR){const r=MR[n];if(yfe(r))return r}const t=gfe.find(r=>r[0]===n);return t&&t[1][0]}},FR={};function yfe(n){if(FR[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),FR[n]=!0,!0}catch{return!1}}const pS=(n,e,t)=>lj.utcToZonedTime(n,uj(e),t),_c=(n,e,t)=>lj.zonedTimeToUtc(n,uj(e),t);function Bt(n,e,t,r){let s=null;if(n){e&&(t=t||new Date,s=S2(n,e,t,{locale:r})),Ss(s)||(s=As(n)),Ss(s)||(s=new Date(Date.parse(n)));const i=Ss(s)&&String(s.getFullYear()).length>4;(!Ss(s)||i)&&(s=null)}return s}function dm(n){const{format:e,type:t}=n,r=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4})/i,s=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4}) (H{0,2}[^a-z\s]*m{0,2}[^a-z\s]*s{0,2})/i,i=po(t);let a;switch(t){case"dateTime":case"dateTimeRange":const o=s.exec(e);a=o&&o[1]&&o[2]?`${o[1]} ${o[2]}`:i;break;case"date":case"month":case"monthRange":case"dateRange":default:const l=r.exec(e);a=l&&l[1]||i;break}return a}function gS(n){const e=" ",{inputValue:t="",rangeSeparator:r,type:s}=n;let i,a,o,l;const u={monthLeft:{dateInput:"",timeInput:""},monthRight:{dateInput:"",timeInput:""}};switch(s){case"date":case"month":case"monthRange":u.monthLeft.dateInput=t;break;case"dateRange":[i="",o=""]=t.split(r),u.monthLeft.dateInput=i,u.monthRight.dateInput=o;break;case"dateTime":[i="",a=""]=t.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=a;break;case"dateTimeRange":const[d="",h=""]=t.split(r);[i="",a=""]=d.split(e),[o="",l=""]=h.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=a,u.monthRight.dateInput=o,u.monthRight.timeInput=l;break}return u}function hm(n){return["string","number"].includes(typeof n)&&n!==""}class vfe extends Pe{constructor(e){super(Object.assign({},e)),this.clearRangeInputFocus=()=>{const{type:t}=this._adapter.getProps(),{rangeInputFocus:r}=this._adapter.getStates();t==="dateTimeRange"&&r&&this._adapter.setRangeInputFocus(!1)},this._isRangeType=()=>{const t=this._adapter.getProp("type");return/range/i.test(t)},this._isRangeValueComplete=t=>{let r=!1;return Array.isArray(t)&&(r=!t.some(s=>ct(s))),r}}init(){const e=this.getProp("timeZone");this._isControlledComponent()?this.initFromProps({timeZone:e,value:this.getProp("value")}):this._isInProps("defaultValue")&&this.initFromProps({timeZone:e,value:this.getProp("defaultValue")}),this.initPanelOpenStatus(this.getProp("defaultOpen"))}initFromProps(e){let{value:t,timeZone:r,prevTimeZone:s}=e;const i=(Array.isArray(t)?[...t]:(t||t===0)&&[t])||[],a=this.parseWithTimezone(i,r,s);this._adapter.updatePrevTimezone(s),this.clearInputValue(),this._adapter.updateValue(a),this.resetCachedSelectedValue(a),this.initRangeInputFocus(a),this._adapter.needConfirm()&&this._adapter.updateCachedSelectedValue(a)}initRangeInputFocus(e){const{triggerRender:t}=this.getProps();this._isRangeType()&&Te(t)&&e.length===0&&this._adapter.setRangeInputFocus("rangeStart")}parseWithTimezone(e,t,r){const s=[];if(Array.isArray(e)&&e.length)for(const i of e){let a=(i||i===0)&&this._parseValue(i);a?(hm(r)&&(a=_c(a,r)),s.push(hm(t)?pS(a,t):a)):Nt(!0,`[Semi DatePicker] value cannot be parsed, value: ${String(i)}`)}return s}_isMultiple(){return!!this.getProp("multiple")}_parseValue(e){const t=this._adapter.getProp("dateFnsLocale");let r;if(!e&&e!==0)return new Date;if(Ds(e))r=e;else if(Oe(e))r=Bt(e,this.getProp("format"),void 0,t);else if(bE(e))r=new Date(e);else throw new TypeError("defaultValue should be valid Date object/timestamp or string");return r}destroy(){this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide()}initPanelOpenStatus(e){(this.getProp("open")||e)&&!this.getProp("disabled")?(this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()):(this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide())}openPanel(){this.getProp("disabled")||(this._isControlledComponent("open")||this.open(),this._adapter.notifyOpenChange(!0))}clearInsetInputValue(){const{insetInput:e}=this._adapter.getProps();e&&this._adapter.updateInsetInputValue(null)}resetCachedSelectedValue(e){const{value:t,cachedSelectedValue:r}=this._adapter.getStates(),s=Array.isArray(e)?e:t;ke(s,r)||this._adapter.updateCachedSelectedValue(s)}closePanel(){this._isControlledComponent("open")?this.resetInnerSelectedStates():this.close(),this._adapter.notifyOpenChange(!1)}open(){this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()}close(){this._adapter.togglePanel(!1),this.resetInnerSelectedStates(),this._adapter.unregisterClickOutSide()}focus(e){if(this._isRangeType()){const t=e??"rangeStart";this._adapter.setRangeInputFocus(t)}else this._adapter.setInputFocus()}blur(){this._isRangeType()?this._adapter.setRangeInputBlur():this._adapter.setInputBlur()}resetInnerSelectedStates(){setTimeout(()=>{const{value:e,cachedSelectedValue:t}=this._adapter.getStates();ke(e,t)||this.resetCachedSelectedValue(e)},0),this.resetFocus(),this.clearInputValue()}resetFocus(e){this._adapter.setRangeInputFocus(!1),this._adapter.notifyBlur(e)}isCachedSelectedValueValid(e){const t=e||this._adapter.getState("cachedSelectedValue"),{type:r}=this._adapter.getProps();let s=!0;switch(!0){case r==="dateRange":case r==="dateTimeRange":this._isRangeValueComplete(t)||(s=!1);break;default:const i=t==null?void 0:t.filter(a=>a);Array.isArray(i)&&i.length||(s=!1);break}return s}clearInputValue(){this._adapter.updateInputValue(null),this._adapter.updateInsetInputValue(null)}handleInputChange(e,t){const r=this._isMultiple()?this.parseMultipleInput(e):this.parseInput(e),{value:s}=this.getStates();if(this._updateCachedSelectedValueFromInput(e),r&&r.length||e===""){if(K(t,Wo.CLEARBTN_CLICKED_EVENT_FLAG)&&this._isControlledComponent("value")){this._notifyChange(r);return}this._updateValueAndInput(r,e==="",e);const i=this._getChangedDates(r);this._someDateDisabled(i,r)||ke(r,s)||this._notifyChange(r)}else this._adapter.updateInputValue(e)}handleInsetInputChange(e){const{insetInputStr:t,format:r,insetInputValue:s}=e,i=this._isMultiple(),a=i?this.parseMultipleInput(t,r):this.parseInput(t,r),{value:o}=this.getStates();if(this._updateCachedSelectedValueFromInput(t),a&&a.length){const l=this._getChangedDates(a);if(!this._someDateDisabled(l,a)){ke(a,o)||(!this._isControlledComponent()&&!this._adapter.needConfirm()&&this._adapter.updateValue(a),this._notifyChange(a));const u=i?this.formatMultipleDates(a):this.formatDates(a);this._adapter.updateInputValue(u)}}this._adapter.updateInsetInputValue(s)}_updateCachedSelectedValueFromInput(e){const t=this.getLooseDateFromInput(e),r=this._getChangedDates(t);this._someDateDisabled(r,t)||this.resetCachedSelectedValue(t)}handleInputBlur(){}handleRangeEndTabPress(e){this._adapter.setRangeInputFocus(!1)}handleInputFocus(e,t){const r=this._adapter.getState("rangeInputFocus");t&&this._adapter.setRangeInputFocus(t),(!t||!["rangeStart","rangeEnd"].includes(r))&&this._adapter.notifyFocus(e,t)}handleSetRangeFocus(e){this._adapter.setRangeInputFocus(e)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){const t=[];this._isControlledComponent("value")||(this._updateValueAndInput(t,!0,""),this._adapter.updateInsetInputValue(null),this.resetCachedSelectedValue(t)),this._notifyChange(t),this._adapter.setRangeInputFocus(!1),this._adapter.notifyClear(e)}handleRangeInputBlur(e,t){}handleInputComplete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e?this._isMultiple()?this.parseMultipleInput(e,",",!0):this.parseInput(e):[];if(t=t&&t.length?t:this.getState("value"),!t||!t.length){const i=new Date;this._isRangeType()?t=[i,i]:t=[i]}this._updateValueAndInput(t);const{value:r}=this.getStates(),s=this._getChangedDates(t);!this._someDateDisabled(s,t)&&!ke(t,r)&&this._notifyChange(t)}parseInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=[];const{dateFnsLocale:s,rangeSeparator:i}=this.getProps();if(e&&e.length){const a=this.getProp("type"),o=t||this.getProp("format")||po(a);let l,u;const d=new Date;switch(a){case"date":case"dateTime":case"month":l=e?Bt(e,o,d,s):"",u=l&&Ss(l)&&this.localeFormat(l,o),l&&u===e&&(r=[l]);break;case"dateRange":case"dateTimeRange":case"monthRange":const h=i,f=e.split(h);l=f&&f.reduce((p,_)=>{const y=_&&Bt(_,o,d,s);return y&&p.push(y),p},[]),u=l&&l.map(p=>p&&Ss(p)&&this.localeFormat(p,o)).join(h),l&&u===e&&(l.sort((p,_)=>p.getTime()-_.getTime()),r=l);break}}return r}getLooseDateFromInput(e){return this._isMultiple()?this.parseMultipleInputLoose(e):this.parseInputLoose(e)}parseInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=[];const{dateFnsLocale:r,rangeSeparator:s,type:i,format:a}=this.getProps();if(e&&e.length){const o=a||po(i);let l,u;const d=new Date;switch(i){case"date":case"dateTime":case"month":const h=Bt(e,o,d,r);Ds(h)?(u=this.localeFormat(h,o),u===e&&(l=h)):l=null,t=[l];break;case"dateRange":case"dateTimeRange":const f=s,p=e.split(f);l=p&&p.reduce((_,y)=>{let v=null;const m=Bt(y,o,d,r);return Ds(m)&&(u=this.localeFormat(m,o),u===y&&(v=m)),_.push(v),_},[]),Array.isArray(l)&&l.every(_=>Ss(_))&&l.sort((_,y)=>_.getTime()-y.getTime()),t=l;break}}return t}parseMultipleInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),a=[];for(const o of i){let l=o&&this.parseInputLoose(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!a.filter(u=>!!l.find(d=>Qx(u,d)))&&a.push(...l):a.push(...l);else return[];if(s&&s>0&&a.length>s)return[]}return a}parseMultipleInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),a=[];for(const o of i){let l=o&&this.parseInput(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!a.filter(u=>!!l.find(d=>Qx(u,d)))&&a.push(...l):a.push(...l);else return[];if(s&&s>0&&a.length>s)return[]}return a}formatDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r="";const s=this.getProp("rangeSeparator");if(Array.isArray(e)&&e.length){const i=this.getProp("type"),a=t||this.getProp("format")||po(i);switch(i){case"date":case"dateTime":case"month":r=this.localeFormat(e[0],a);break;case"dateRange":case"dateTimeRange":case"monthRange":const o=!ct(e[0]),l=!ct(e[1]);o&&l?r=`${this.localeFormat(e[0],a)}${s}${this.localeFormat(e[1],a)}`:o?r=`${this.localeFormat(e[0],a)}${s}`:l&&(r=`${s}${this.localeFormat(e[1],a)}`);break}}return r}formatMultipleDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2?arguments[2]:void 0;const s=[];if(Array.isArray(e)&&e.length)switch(this.getProp("type")){case"date":case"dateTime":case"month":e.forEach(a=>s.push(this.formatDates([a],r)));break;case"dateRange":case"dateTimeRange":case"monthRange":for(let a=0;a<e.length;a+=2)s.push(this.formatDates(e.slice(a,a+2),r));break}return s.join(t)}_updateValueAndInput(e,t,r){let s;if(t||e){Array.isArray(e)?s=e:s=e?[e]:[];const i=this._getChangedDates(s);!this._isControlledComponent()&&!this._someDateDisabled(i,s)&&!this._adapter.needConfirm()&&this._adapter.updateValue(s)}this._adapter.updateInputValue(r)}handleSelectedChange(e,t){const{type:r,format:s,rangeSeparator:i,insetInput:a}=this._adapter.getProps(),{value:o}=this.getStates(),l=this._isControlledComponent(),u=Ia(t)?t.fromPreset:t,d=K(t,"closePanel",!0),h=K(t,"needCheckFocusRecord",!0),f=Array.isArray(e)?[...e]:e?[e]:[],p=this._getChangedDates(f);let _,y;if(!this._someDateDisabled(p,f)){if(this.resetCachedSelectedValue(f),_=this._isMultiple()?this.formatMultipleDates(f):this.formatDates(f),a){const w=dm({format:s,type:r}),b=this._isMultiple()?this.formatMultipleDates(f,void 0,w):this.formatDates(f,w);y=gS({inputValue:b,type:r,rangeSeparator:i})}if(this._isRangeType()&&!this._isRangeValueComplete(f)){this._adapter.updateInputValue(_),this._adapter.updateInsetInputValue(y);return}else(!l||u)&&(this._updateValueAndInput(f,!0,_),this._adapter.updateInsetInputValue(y));ke(e,o)||this._notifyChange(e)}const v=!h||h&&this._adapter.couldPanelClosed();(r==="date"&&!this._isMultiple()&&d||r==="dateRange"&&this._isRangeValueComplete(f)&&d&&v)&&this.closePanel()}handleYMSelectedChange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{currentMonth:t,currentYear:r}=e,{type:s}=this.getProps();if(s==="month"){const i=new Date(r.left,t.left-1);this.handleSelectedChange([i])}else{const i=new Date(r.left,t.left-1),a=new Date(r.right,t.right-1);this.handleSelectedChange([i,a])}}handleConfirm(){const{cachedSelectedValue:e,value:t}=this._adapter.getStates(),r=this._isRangeValueComplete(e),s=r?e:t;if(this._adapter.needConfirm()&&!this._isControlledComponent()&&this._adapter.updateValue(s),this.closePanel(),r){const{notifyValue:i,notifyDate:a}=this.disposeCallbackArgs(e);this._adapter.notifyConfirm(a,i)}}handleCancel(){this.closePanel();const e=this.getState("value"),{notifyValue:t,notifyDate:r}=this.disposeCallbackArgs(e);this._adapter.notifyCancel(r,t)}handlePresetClick(e,t){const{type:r,timeZone:s}=this.getProps(),i=this.getState("prevTimezone"),a=typeof e.start=="function"?e.start():e.start,o=typeof e.end=="function"?e.end():e.end;let l;switch(r){case"month":case"dateTime":case"date":l=this.parseWithTimezone([a],s,i),this.handleSelectedChange(l);break;case"dateTimeRange":case"dateRange":l=this.parseWithTimezone([a,o],s,i),this.handleSelectedChange(l,{needCheckFocusRecord:!1});break}this._adapter.notifyPresetsClick(e,t)}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");hm(r)&&(t=t.map(l=>_c(l,r)));const s=this.getProp("type"),i=this.getProp("format")||po(s);let a,o;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],i),[o]=t);break;case"dateRange":case"dateTimeRange":case"monthRange":a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t];break}return{notifyValue:a,notifyDate:o}}_notifyChange(e){if(this._isRangeType()&&!this._isRangeValueComplete(e))return;const{onChangeWithDateFirst:t}=this.getProps(),{notifyValue:r,notifyDate:s}=this.disposeCallbackArgs(e);t?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_getChangedDates(e){const t=this._adapter.getProp("type"),{cachedSelectedValue:r}=this._adapter.getStates(),s=[];switch(t){case"dateRange":case"dateTimeRange":const[i,a]=r,[o,l]=e;fy(o,i)||s.push(o),fy(l,a)||s.push(l);break;default:const u=new Set;r.forEach(d=>u.add(lE(d)&&d.valueOf()));for(const d of e)u.has(lE(d)&&d.valueOf())||s.push(d)}return s}_someDateDisabled(e,t){const{rangeInputFocus:r}=this.getStates(),s={rangeStart:"",rangeEnd:"",rangeInputFocus:r};if(this._isRangeType()&&Array.isArray(t)){if(Ss(t[0])){const a=et(t[0],"yyyy-MM-dd");s.rangeStart=a}if(Ss(t[1])){const a=et(t[1],"yyyy-MM-dd");s.rangeEnd=a}}let i=!1;for(const a of e)if(!ct(a)&&this.disabledDisposeDate(a,s)){i=!0;break}return i}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return et(e,t,{locale:r})}disposeDateFn(e,t){const{notifyDate:r}=this.disposeCallbackArgs(t),s=Array.isArray(t),i=Array.isArray(r);let a;s===i?a=r:a=s?[r]:r[0];for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];return e(a,...l)}disabledDisposeDate(e){const{disabledDate:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}disabledDisposeTime(e){const{disabledTime:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}handleTriggerWrapperClick(e){const{disabled:t,triggerRender:r}=this._adapter.getProps(),{rangeInputFocus:s}=this._adapter.getStates();t||(this._isRangeType()&&!s?(this._adapter.isEventTarget(e)?setTimeout(()=>{this.handleInputFocus(e,"rangeStart")},0):Te(r)&&this._adapter.setRangeInputFocus("rangeStart"),this.openPanel()):this.openPanel())}handlePanelVisibleChange(e){e?(this._adapter.setInsetInputFocus(),setTimeout(()=>{this._adapter.setTriggerDisabled(!0)},0)):this._adapter.setTriggerDisabled(!1)}}function Ru(n,e){let{groupInnerSeparator:t=z.DEFAULT_SEPARATOR_RANGE,groupSize:r=1,groupSeparator:s=z.DEFAULT_SEPARATOR_MULTIPLE}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,a="";if((r<=0||typeof r!="number")&&(r=1),Array.isArray(n)&&n.length){const o=[],{length:l}=n;for(let u=0;u<l;u++){u%r===0&&o.push([]);const d=Math.floor(u/r);o[d].push(n[u])}a=o.map(u=>u.map(d=>d?et(d,e,{locale:i}):"").join(t)).join(s)}return a}function cj(n){const{defaultPickerValue:e,format:t,dateFnsLocale:r}=n;let s=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:void 0;switch(!0){case Ds(s):break;case bE(s):s=new Date(s);break;case typeof s=="string":s=Bt(s,t,void 0,r);break;default:s=new Date;break}switch(!0){case Ds(i):break;case bE(i):i=new Date(i);break;case typeof i=="string":i=Bt(i,t,void 0,r);break;default:i=fo(s,1);break}return{nowDate:s,nextDate:i}}var _fe=Function.prototype.toString,a0=Object.create,bfe=Object.prototype.toString,wfe=function(){function n(){this._keys=[],this._values=[]}return n.prototype.has=function(e){return!!~this._keys.indexOf(e)},n.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},n.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},n}();function Efe(){return new wfe}function Sfe(){return new WeakMap}var Cfe=typeof WeakMap<"u"?Sfe:Efe;function gT(n){if(!n)return a0(null);var e=n.constructor;if(e===Object)return n===Object.prototype?{}:a0(n);if(e&&~_fe.call(e).indexOf("[native code]"))try{return new e}catch{}return a0(n)}function Tfe(n){var e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}function Ofe(n){return n.flags}var Ife=/test/g.flags==="g"?Ofe:Tfe;function dj(n){var e=bfe.call(n);return e.substring(8,e.length-1)}function Pfe(n){return n[Symbol.toStringTag]||dj(n)}var xfe=typeof Symbol<"u"?Pfe:dj,Rfe=Object.defineProperty,Afe=Object.getOwnPropertyDescriptor,hj=Object.getOwnPropertyNames,mT=Object.getOwnPropertySymbols,fj=Object.prototype,pj=fj.hasOwnProperty,Dfe=fj.propertyIsEnumerable,gj=typeof mT=="function";function kfe(n){return hj(n).concat(mT(n))}var Nfe=gj?kfe:hj;function i_(n,e,t){for(var r=Nfe(n),s=0,i=r.length,a=void 0,o=void 0;s<i;++s)if(a=r[s],!(a==="callee"||a==="caller")){if(o=Afe(n,a),!o){e[a]=t.copier(n[a],t);continue}!o.get&&!o.set&&(o.value=t.copier(o.value,t));try{Rfe(e,a,o)}catch{e[a]=o.value}}return e}function $fe(n,e){var t=new e.Constructor;e.cache.set(n,t);for(var r=0,s=n.length;r<s;++r)t[r]=e.copier(n[r],e);return t}function Lfe(n,e){var t=new e.Constructor;return e.cache.set(n,t),i_(n,t,e)}function mj(n,e){return n.slice(0)}function Mfe(n,e){return n.slice(0,n.size,n.type)}function Ffe(n,e){return new e.Constructor(mj(n.buffer))}function jfe(n,e){return new e.Constructor(n.getTime())}function yj(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r,s){t.set(s,e.copier(r,e))}),t}function Vfe(n,e){return i_(n,yj(n,e),e)}function Ufe(n,e){var t=gT(e.prototype);e.cache.set(n,t);for(var r in n)pj.call(n,r)&&(t[r]=e.copier(n[r],e));return t}function Bfe(n,e){var t=gT(e.prototype);e.cache.set(n,t);for(var r in n)pj.call(n,r)&&(t[r]=e.copier(n[r],e));for(var s=mT(n),i=0,a=s.length,o=void 0;i<a;++i)o=s[i],Dfe.call(n,o)&&(t[o]=e.copier(n[o],e));return t}var Hfe=gj?Bfe:Ufe;function zfe(n,e){var t=gT(e.prototype);return e.cache.set(n,t),i_(n,t,e)}function o0(n,e){return new e.Constructor(n.valueOf())}function Kfe(n,e){var t=new e.Constructor(n.source,Ife(n));return t.lastIndex=n.lastIndex,t}function fm(n,e){return n}function vj(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r){t.add(e.copier(r,e))}),t}function Wfe(n,e){return i_(n,vj(n,e),e)}var Gfe=Array.isArray,yT=Object.assign,Yfe=Object.getPrototypeOf||function(n){return n.__proto__},_j={array:$fe,arrayBuffer:mj,blob:Mfe,dataView:Ffe,date:jfe,error:fm,map:yj,object:Hfe,regExp:Kfe,set:vj},qfe=yT({},_j,{array:Lfe,map:Vfe,object:zfe,set:Wfe});function Xfe(n){return{Arguments:n.object,Array:n.array,ArrayBuffer:n.arrayBuffer,Blob:n.blob,Boolean:o0,DataView:n.dataView,Date:n.date,Error:n.error,Float32Array:n.arrayBuffer,Float64Array:n.arrayBuffer,Int8Array:n.arrayBuffer,Int16Array:n.arrayBuffer,Int32Array:n.arrayBuffer,Map:n.map,Number:o0,Object:n.object,Promise:fm,RegExp:n.regExp,Set:n.set,String:o0,WeakMap:fm,WeakSet:fm,Uint8Array:n.arrayBuffer,Uint8ClampedArray:n.arrayBuffer,Uint16Array:n.arrayBuffer,Uint32Array:n.arrayBuffer,Uint64Array:n.arrayBuffer}}function bj(n){var e=yT({},_j,n),t=Xfe(e),r=t.Array,s=t.Object;function i(a,o){if(o.prototype=o.Constructor=void 0,!a||typeof a!="object")return a;if(o.cache.has(a))return o.cache.get(a);if(o.prototype=Yfe(a),o.Constructor=o.prototype&&o.prototype.constructor,!o.Constructor||o.Constructor===Object)return s(a,o);if(Gfe(a))return r(a,o);var l=t[xfe(a)];return l?l(a,o):typeof a.then=="function"?a:s(a,o)}return function(o){return i(o,{Constructor:void 0,cache:Cfe(),copier:i,prototype:void 0})}}function Qfe(n){return bj(yT({},qfe,n))}Qfe({});var Aa=bj({});const jR="Enter",Zfe="Tab";class Jfe extends Pe{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleClick(e){this._adapter.notifyClick(e)}handleChange(e,t){this._adapter.notifyChange(e,t)}handleInputComplete(e){e.key===jR&&this._adapter.notifyEnter(e.target.value)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){this.stopPropagation(e),this._adapter.notifyRangeInputClear(e)}handleRangeInputEnterPress(e,t){e.key===jR&&this._adapter.notifyEnter(t)}handleRangeInputEndKeyPress(e){e.key===Zfe&&this._adapter.notifyTabPress(e)}handleRangeInputFocus(e,t){this._adapter.notifyRangeInputFocus(e,t)}formatShowText(e,t){const{type:r,dateFnsLocale:s,format:i,rangeSeparator:a}=this._adapter.getProps(),o=t||i||po(r);let l="";switch(r){case"date":l=Ru(e,o,void 0,s);break;case"dateRange":l=Ru(e,o,{groupSize:2,groupInnerSeparator:a},s);break;case"dateTime":l=Ru(e,o,void 0,s);break;case"dateTimeRange":l=Ru(e,o,{groupSize:2,groupInnerSeparator:a},s);break;case"month":l=Ru(e,o,void 0,s);break;case"monthRange":l=Ru(e,o,{groupSize:2,groupInnerSeparator:a},s);break}return l}handleInsetInputChange(e){const{value:t,valuePath:r,insetInputValue:s}=e,{format:i,type:a,rangeSeparator:o}=this._adapter.getProps(),l=dm({type:a,format:i}),u=mc(Aa(s),r,t),d=this.concatInsetInputValue({insetInputValue:u}),h=gS({inputValue:d,type:a,rangeSeparator:o}),f=this._autoFillTimeToInsetInputValue({insetInputValue:h,valuePath:r,format:l}),p=this.concatInsetInputValue({insetInputValue:f});this._adapter.notifyInsetInputChange({insetInputValue:f,format:l,insetInputStr:p})}_autoFillTimeToInsetInputValue(e){const{valuePath:t,insetInputValue:r,format:s}=e,{type:i,defaultPickerValue:a,dateFnsLocale:o}=this._adapter.getProps(),l=Aa(r),{nowDate:u,nextDate:d}=cj({defaultPickerValue:a,format:s,dateFnsLocale:o});if(i.includes("Time")){let h="";const f=K(s.split(" "),"0",z.FORMAT_FULL_DATE),p=K(s.split(" "),"1",z.FORMAT_TIME_PICKER);switch(t){case"monthLeft.dateInput":const _=l.monthLeft.dateInput;if(!l.monthLeft.timeInput&&_.length===f.length){const v=Bt(l.monthLeft.dateInput,f);Ds(v)&&(h=et(u,p),l.monthLeft.timeInput=h)}break;case"monthRight.dateInput":const y=l.monthRight.dateInput;if(!l.monthRight.timeInput&&y.length===f.length){const v=Bt(y,f);Ds(v)&&(h=et(d,p),l.monthRight.timeInput=h)}break}}return l}getInsetInputPlaceholder(){const{type:e,format:t,rangeSeparator:r}=this._adapter.getProps(),s=dm({type:e,format:t});let i,a;switch(e){case"date":case"month":case"dateRange":i=s;break;case"dateTime":case"dateTimeRange":[i,a]=s.split(" ");break;case"monthRange":i=s+r+s;break}return{datePlaceholder:i,timePlaceholder:a}}getInsetInputValue(e){let{value:t,insetInputValue:r}=e;const{type:s,rangeSeparator:i,format:a}=this._adapter.getProps();let o="";if(Ia(r))o=this.concatInsetInputValue({insetInputValue:r});else{const u=dm({format:a,type:s});o=this.formatShowText(t,u)}return gS({inputValue:o,type:s,rangeSeparator:i})}concatInsetDateAndTime(e){let{date:t,time:r}=e;return`${t} ${r}`}concatInsetDateRange(e){let{rangeStart:t,rangeEnd:r}=e;const{rangeSeparator:s}=this._adapter.getProps();return`${t}${s}${r}`}concatInsetInputValue(e){let{insetInputValue:t}=e;const{type:r}=this._adapter.getProps();let s="";switch(r){case"date":case"month":case"monthRange":s=t.monthLeft.dateInput;break;case"dateRange":s=this.concatInsetDateRange({rangeStart:t.monthLeft.dateInput,rangeEnd:t.monthRight.dateInput});break;case"dateTime":s=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput});break;case"dateTimeRange":const i=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput}),a=this.concatInsetDateAndTime({date:t.monthRight.dateInput,time:t.monthRight.timeInput});s=this.concatInsetDateRange({rangeStart:i,rangeEnd:a});break}return s}}function VR(n){const{insetInputValue:e,valuePath:t,onFocus:r,onChange:s,placeholder:i,forwardRef:a}=n,o=K(e,t);return g.createElement(En,{value:o,onChange:(l,u)=>{s({value:l,event:u,insetInputValue:e,valuePath:t})},onFocus:r,placeholder:i,ref:a})}function UR(n){const{insetInputValue:e,valuePath:t,type:r,onFocus:s,onChange:i,placeholder:a,disabled:o}=n;if(!r.includes("Time"))return null;const u=K(e,t);return g.createElement(En,{value:u,onChange:(d,h)=>{i({value:d,event:h,insetInputValue:e,valuePath:t})},onFocus:s,placeholder:a,disabled:o})}var epe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Iy extends we{constructor(e){super(e),this.handleChange=(t,r)=>this.foundation.handleChange(t,r),this.handleEnterPress=t=>this.foundation.handleInputComplete(t),this.handleInputClear=t=>this.foundation.handleInputClear(t),this.handleRangeInputChange=(t,r,s)=>{const i=this.getRangeInputValue(t,r);this.foundation.handleChange(i,s)},this.handleRangeInputClear=t=>{this.foundation.handleRangeInputClear(t)},this.handleRangeInputEnterPress=(t,r,s)=>{const i=this.getRangeInputValue(r,s);this.foundation.handleRangeInputEnterPress(t,i)},this.handleRangeInputEndKeyPress=t=>{this.foundation.handleRangeInputEndKeyPress(t)},this.handleRangeInputFocus=(t,r)=>{this.foundation.handleRangeInputFocus(t,r)},this.handleRangeStartFocus=t=>{this.handleRangeInputFocus(t,"rangeStart")},this.handleInsetInputChange=t=>{this.foundation.handleInsetInputChange(t)},this.getRangeInputValue=(t,r)=>{const{rangeSeparator:s}=this.props;return`${t}${s}${r}`},this.foundation=new Jfe(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateIsFocusing:t=>this.setState({isFocusing:t}),notifyClick:function(){return e.props.onClick(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyEnter:function(){return e.props.onEnterPress(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyRangeInputClear:function(){return e.props.onRangeClear(...arguments)},notifyRangeInputFocus:function(){return e.props.onFocus(...arguments)},notifyTabPress:function(){return e.props.onRangeEndTabPress(...arguments)},notifyInsetInputChange:t=>this.props.onInsetInputChange(t)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}formatText(e){return e&&e.length?this.foundation.formatShowText(e):""}renderRangePrefix(){const{prefix:e,insetLabel:t,prefixCls:r,disabled:s,rangeInputFocus:i}=this.props,a=e||t;return a?g.createElement("div",{className:`${r}-range-input-prefix`,onClick:o=>!s&&!i&&this.handleRangeStartFocus(o),"x-semi-prop":"prefix,insetLabel"},a):null}renderRangeSeparator(e,t){const{disabled:r,rangeSeparator:s}=this.props,i=R({[`${fe.PREFIX}-range-input-separator`]:!0,[`${fe.PREFIX}-range-input-separator-active`]:(e||t)&&!r});return g.createElement("span",{onClick:a=>!r&&this.handleRangeStartFocus(a),className:i},s)}renderRangeClearBtn(e,t){const{showClear:r,prefixCls:s,disabled:i,clearIcon:a,showClearIgnoreDisabled:o}=this.props;return(e||t)&&r&&!(i&&!o)?g.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear range input value",className:`${s}-range-input-clearbtn`,onMouseDown:d=>this.handleRangeInputClear(d)},a||g.createElement(Ko,{"aria-hidden":!0})):null}renderRangeSuffix(e){const{prefixCls:t,disabled:r,rangeInputFocus:s}=this.props;return e?g.createElement("div",{className:`${t}-range-input-suffix`,onClick:a=>!r&&!s&&this.handleRangeStartFocus(a)},e):null}renderRangeInput(e){const{placeholder:t,inputStyle:r,disabled:s,inputReadOnly:i,autofocus:a,size:o,text:l,suffix:u,inputCls:d,rangeInputStartRef:h,rangeInputEndRef:f,rangeInputFocus:p,prefixCls:_,rangeSeparator:y,borderless:v}=e,[m,w=""]=l.split(y)||[],b=o==="large"?"default":"small",E=Array.isArray(t)?t:[t,t],[S,C]=E,O=R(`${_}-range-input-wrapper-start`,`${_}-range-input-wrapper`,{[`${_}-range-input-wrapper-active`]:p==="rangeStart"&&!s,[`${_}-range-input-wrapper-start-with-prefix`]:this.props.prefix||this.props.insetLabel,[`${_}-borderless`]:v}),I=R(`${_}-range-input-wrapper-end`,`${_}-range-input-wrapper`,{[`${_}-range-input-wrapper-active`]:p==="rangeEnd"&&!s,[`${_}-borderless`]:v});return g.createElement(g.Fragment,null,this.renderRangePrefix(),g.createElement("div",{onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeStart"),className:`${d} ${O}`},g.createElement(En,{borderless:v,size:b,style:r,disabled:s,readonly:i,placeholder:S,value:m,onChange:(P,x)=>this.handleRangeInputChange(P,w,x),onEnterPress:P=>this.handleRangeInputEnterPress(P,m,w),onFocus:P=>this.handleRangeInputFocus(P,"rangeStart"),autoFocus:a,ref:h})),this.renderRangeSeparator(m,w),g.createElement("div",{className:`${d} ${I}`,onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeEnd")},g.createElement(En,{borderless:v,size:b,style:r,disabled:s,readonly:i,placeholder:C,value:w,onChange:(P,x)=>this.handleRangeInputChange(m,P,x),onEnterPress:P=>this.handleRangeInputEnterPress(P,m,w),onFocus:P=>this.handleRangeInputFocus(P,"rangeEnd"),onKeyDown:this.handleRangeInputEndKeyPress,ref:f})),this.renderRangeClearBtn(m,w),this.renderRangeSuffix(u))}isRenderMultipleInputs(){const{type:e}=this.props;return e.includes("Range")&&e!=="monthRange"}renderInputInset(){const{type:e,handleInsetDateFocus:t,handleInsetTimeFocus:r,value:s,insetInputValue:i,prefixCls:a,rangeInputStartRef:o,rangeInputEndRef:l,density:u,insetInput:d}=this.props,h=this.foundation.getInsetInputValue({value:s,insetInputValue:i}),{dateStart:f,dateEnd:p,timeStart:_,timeEnd:y}=K(d,"placeholder",{}),{datePlaceholder:v,timePlaceholder:m}=this.foundation.getInsetInputPlaceholder(),w=`${a}-inset-input-wrapper`,b=`${a}-inset-input-separator`;return g.createElement("div",{className:w,"x-type":e},g.createElement(VR,{forwardRef:o,insetInputValue:h,placeholder:f??v,valuePath:"monthLeft.dateInput",onChange:this.handleInsetInputChange,onFocus:E=>t(E,"rangeStart")}),g.createElement(UR,{disabled:!h.monthLeft.dateInput,insetInputValue:h,placeholder:_??m,type:e,valuePath:"monthLeft.timeInput",onChange:this.handleInsetInputChange,onFocus:r}),this.isRenderMultipleInputs()&&g.createElement(g.Fragment,null,g.createElement("div",{className:b},u==="compact"?null:"-"),g.createElement(VR,{forwardRef:l,insetInputValue:h,placeholder:p??v,valuePath:"monthRight.dateInput",onChange:this.handleInsetInputChange,onFocus:E=>t(E,"rangeEnd")}),g.createElement(UR,{disabled:!h.monthRight.dateInput,insetInputValue:h,placeholder:y??m,type:e,valuePath:"monthRight.timeInput",onChange:this.handleInsetInputChange,onFocus:r})))}renderTriggerInput(){const e=this.props,{placeholder:t,type:r,value:s,inputValue:i,inputStyle:a,disabled:o,showClear:l,inputReadOnly:u,insetLabel:d,validateStatus:h,block:f,prefixCls:p,multiple:_,dateFnsLocale:y,onBlur:v,onClear:m,onFocus:w,prefix:b,autofocus:E,size:S,inputRef:C,rangeInputStartRef:O,rangeInputEndRef:I,onRangeClear:P,onRangeBlur:x,onRangeEndTabPress:D,rangeInputFocus:$,rangeSeparator:M,insetInput:V,insetInputValue:B,defaultPickerValue:F,showClearIgnoreDisabled:W}=e,N=epe(e,["placeholder","type","value","inputValue","inputStyle","disabled","showClear","inputReadOnly","insetLabel","validateStatus","block","prefixCls","multiple","dateFnsLocale","onBlur","onClear","onFocus","prefix","autofocus","size","inputRef","rangeInputStartRef","rangeInputEndRef","onRangeClear","onRangeBlur","onRangeEndTabPress","rangeInputFocus","rangeSeparator","insetInput","insetInputValue","defaultPickerValue","showClearIgnoreDisabled"]),j=g.createElement(I2,{"aria-hidden":!0}),L=g.createElement(hie,{"aria-hidden":!0}),te=r.includes("Time")?L:j;let Q="";ct(i)?s&&(Q=this.formatText(s)):Q=i;const ie=R({[`${p}-input-readonly`]:u,[`${p}-monthRange-input`]:r==="monthRange"}),le=Object.assign(Object.assign({},this.props),{text:Q,suffix:te,inputCls:ie});return this.isRenderMultipleInputs()?this.renderRangeInput(le):g.createElement(En,Object.assign({},N,{ref:C,insetLabel:d,disabled:o,showClearIgnoreDisabled:W,readonly:u,className:ie,style:a,hideSuffix:l,placeholder:r==="monthRange"&&Array.isArray(t)?t[0]+M+t[1]:t,onEnterPress:this.handleEnterPress,onChange:this.handleChange,onClear:this.handleInputClear,suffix:te,showClear:l,value:Q,validateStatus:h,prefix:b,autoFocus:E,size:S,onBlur:v,onFocus:w}))}render(){const{insetInput:e}=this.props;return e?this.renderInputInset():this.renderTriggerInput()}}Iy.propTypes={borderless:c.bool,onClick:c.func,onChange:c.func,onEnterPress:c.func,onBlur:c.func,onClear:c.func,onFocus:c.func,value:c.array,disabled:c.bool,type:c.oneOf(z.TYPE_SET),showClear:c.bool,format:c.string,inputStyle:c.object,inputReadOnly:c.bool,insetLabel:c.node,validateStatus:c.string,prefix:c.node,prefixCls:c.string,dateFnsLocale:c.object.isRequired,placeholder:c.oneOfType([c.string,c.array]),rangeInputFocus:c.oneOfType([c.string,c.bool]),rangeInputStartRef:c.object,rangeInputEndRef:c.object,rangeSeparator:c.string,insetInput:c.oneOfType([c.bool,c.object]),insetInputValue:c.object,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array])};Iy.defaultProps={borderless:!1,showClear:!0,onClick:mt,onChange:mt,onEnterPress:mt,onBlur:mt,onClear:mt,onFocus:mt,type:"date",inputStyle:{},inputReadOnly:!1,prefixCls:fe.PREFIX,rangeSeparator:z.DEFAULT_SEPARATOR_RANGE};function wj(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r="";const s=typeof e=="number"&&e<10?`0${e}`:e.toString(),i=typeof t=="number"&&t<10?`0${t}`:t.toString();return r=`${String(n)}-${s}-${i}`,r}function tpe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const t={dayNumber:"",dateNumberFull:"",fullDate:""},r=g2(n),s=et(n,"yyyy"),i=et(n,"MM"),a=fre(n),o=_ne(n),l=Number(et(o,"e",{weekStartsOn:e})),u=[];let d=[];for(let h=1;h<l;h++)d.push(t);for(let h=0;h<r;h++){const f=h+1,p=f<10?`0${f}`:f.toString(),_=wj(s,i,f);d.push({dayNumber:f,dayNumberFull:p,fullDate:_}),d.length===7?(u.push(d),d=[]):_===et(a,"yyyy-MM-dd")&&(u.push(d),d=[])}return u}const npe=(n,e)=>{const t=tpe(n,e);return{monthText:et(n,"yyyy-MM"),weeks:t,month:n}},BR={month:ol,year:vne},rpe={prevMonth:Pse,nextMonth:fo,prevYear:xse,nextYear:dy};class spe extends Pe{constructor(e){super(Object.assign({},e)),this.newBiMonthPanelDate=[this.getState("monthLeft").pickerDate,this.getState("monthRight").pickerDate]}init(){const e=this.getProp("defaultValue");this.initDefaultPickerValue(),this.updateSelectedFromProps(e)}initDefaultPickerValue(){const e=Bt(this.getProp("defaultPickerValue"));e&&Ds(e)&&(this._updatePanelDetail(z.PANEL_TYPE_LEFT,{pickerDate:e}),this._updatePanelDetail(z.PANEL_TYPE_RIGHT,{pickerDate:fo(e,1)}))}updateSelectedFromProps(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.getProp("type"),{selected:s,rangeStart:i,rangeEnd:a}=this.getStates();if(e&&(e!=null&&e.length))switch(r){case"date":this._initDatePickerFromValue(e,t);break;case"dateRange":this._initDateRangePickerFromValue(e);break;case"dateTime":this._initDateTimePickerFromValue(e);break;case"dateTimeRange":this._initDateTimeRangePickerFormValue(e);break}else(Array.isArray(e)&&!e.length||!e)&&(jM(s)&&s.size&&this._adapter.updateDaySelected(new Set),i&&this._adapter.setRangeStart(""),a&&this._adapter.setRangeEnd(""))}calcDisabledTime(e){const{disabledTime:t,type:r}=this.getProps();if(typeof t=="function"&&e&&["dateTime","dateTimeRange"].includes(r)){const{rangeStart:s,rangeEnd:i,monthLeft:a}=this.getStates(),o=[];r==="dateTimeRange"?(s&&o.push(s),s&&i&&o.push(i)):a&&a.showDate&&o.push(a.showDate);const l=o.map(d=>d instanceof Date?d:As(d)),u=r==="dateTimeRange"?l:l[0];return t(u,e)}}_initDatePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{monthLeft:r}=this._adapter.getStates(),s=Object.assign({},r);this._adapter.updateMonthOnLeft(s);const i=new Set,a=this._isMultiple();a?e.forEach(o=>{o&&i.add(et(o,z.FORMAT_FULL_DATE))}):e[0]&&i.add(et(e[0],z.FORMAT_FULL_DATE)),t?a?!(e!=null&&e.some(l=>l&&ol(l,r.pickerDate)===0))&&this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,s.pickerDate),this._adapter.updateDaySelected(i)}_initDateRangePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.getState("monthLeft"),s=this.getState("monthRight"),i=this._autoAdjustMonth(Object.assign(Object.assign({},r),{pickerDate:e[0]||r.pickerDate}),Object.assign(Object.assign({},s),{pickerDate:e[1]||s.pickerDate}));if(Array.isArray(e)&&e.filter(d=>d).length>1)this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(z.PANEL_TYPE_RIGHT,i.monthRight.pickerDate);else{const d=e.find(h=>h);if(d){const h=Math.abs(ol(d,r.pickerDate))>0,f=Math.abs(ol(d,s.pickerDate))>0;h&&f&&(this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(z.PANEL_TYPE_RIGHT,i.monthRight.pickerDate))}}const o=t?z.FORMAT_DATE_TIME:z.FORMAT_FULL_DATE;let l=e[0]&&et(e[0],o),u=e[1]&&et(e[1],o);this._isNeedSwap(l,u)&&([l,u]=[u,l]),this._adapter.setRangeStart(l),this._adapter.setRangeEnd(u),this._adapter.setHoverDay(u)}_initDateTimePickerFromValue(e){this._initDatePickerFromValue(e)}_initDateTimeRangePickerFormValue(e){this._initDateRangePickerFromValue(e,!0)}destroy(){}handleSyncChangeMonths(e){const{panelType:t,target:r}=e,{type:s}=this._adapter.getProps(),{monthLeft:i,monthRight:a}=this._adapter.getStates();this.isRangeType(s)&&(t==="right"&&ol(r,i.pickerDate)===0?this.handleYearOrMonthChange("prevMonth","left",1,!0):t==="left"&&ol(a.pickerDate,r)===0&&this.handleYearOrMonthChange("nextMonth","right",1,!0))}getTargetChangeDate(e){const{panelType:t,switchType:r}=e,{monthRight:s,monthLeft:i}=this._adapter.getStates(),a=t==="left"?i.pickerDate:s.pickerDate;let o;switch(r){case"prevMonth":o=fo(a,-1);break;case"nextMonth":o=fo(a,1);break;case"prevYear":o=dy(a,-1);break;case"nextYear":o=dy(a,1);break}return o}toMonth(e,t){const{type:r}=this._adapter.getProps(),s=this._getDiff("month",t,e);this.handleYearOrMonthChange(s<0?"prevMonth":"nextMonth",e,Math.abs(s),!1),this.isRangeType(r)&&this.handleSyncChangeMonths({panelType:e,target:t})}toYear(e,t){const r=this._getDiff("year",t,e);this.handleYearOrMonthChange(r<0?"prevYear":"nextYear",e,Math.abs(r),!1)}toYearMonth(e,t){this.toYear(e,t),this.toMonth(e,t)}isRangeType(e){const{type:t}=this.getProps(),r=e||t;return typeof r=="string"&&/range/i.test(r)}handleSwitchMonthOrYear(e,t){const{type:r,syncSwitchMonth:s}=this.getProps(),i=this.isRangeType(r);if(i&&s)this.handleYearOrMonthChange(e,"left",1,!0),this.handleYearOrMonthChange(e,"right",1,!0);else if(this.handleYearOrMonthChange(e,t),i){const a=this.getTargetChangeDate({panelType:t,switchType:e});this.handleSyncChangeMonths({panelType:t,target:a})}}prevMonth(e){this.handleSwitchMonthOrYear("prevMonth",e)}nextMonth(e){this.handleSwitchMonthOrYear("nextMonth",e)}prevYear(e){this.handleSwitchMonthOrYear("prevYear",e)}nextYear(e){this.handleSwitchMonthOrYear("nextYear",e)}_getDiff(e,t,r){const s=this._getPanelDetail(r);return BR[e]&&BR[e](t,s.pickerDate)}_getPanelDetail(e){return e===z.PANEL_TYPE_RIGHT?this.getState("monthRight"):this.getState("monthLeft")}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return et(e,t,{locale:r})}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");hm(r)&&(t=t.map(l=>_c(l,r)));const s=this.getProp("type"),i=this.getProp("format")||po(s);let a,o;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],i),[o]=t);break;case"dateRange":case"dateTimeRange":a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t];break}return{notifyValue:a,notifyDate:o}}handleYearOrMonthChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.PANEL_TYPE_LEFT,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{autoSwitchDate:i,type:a}=this.getProps(),{monthLeft:o,monthRight:l}=this.getStates(),u=this.isRangeType(a),d=u&&t===z.PANEL_TYPE_LEFT,h=this._getPanelDetail(t),{pickerDate:f}=h,p=rpe[e],_=p(f,r),y=t===z.PANEL_TYPE_LEFT&&!ke(_,o.pickerDate)||t===z.PANEL_TYPE_RIGHT&&!ke(_,l.pickerDate);if(this._updatePanelDetail(t,{pickerDate:_}),y)if(u){if(d?this.newBiMonthPanelDate[0]=_:this.newBiMonthPanelDate[1]=_,!(d&&s)){const{notifyValue:v,notifyDate:m}=this.disposeCallbackArgs(this.newBiMonthPanelDate);this._adapter.notifyPanelChange(m,v)}}else{const{notifyValue:v,notifyDate:m}=this.disposeCallbackArgs(_);this._adapter.notifyPanelChange(m,v)}i&&this.updateDateAfterChangeYM(e,_)}updateDateAfterChangeYM(e,t){const{multiple:r,disabledDate:s,type:i}=this.getProps(),{selected:a,rangeStart:o,rangeEnd:l,monthLeft:u}=this.getStates(),d=["dateRange","dateTimeRange"].includes(e),h={closePanel:!1};if(!r&&!d&&a.size){const f=Array.from(a)[0],p=new Date(f),_=t.getFullYear(),y=t.getMonth();let v=T2(p,{year:_,month:y});if(i==="dateTime"&&(v=this._mergeDateAndTime(v,u.pickerDate)),s(v,{rangeStart:o,rangeEnd:l}))return;this._adapter.notifySelectedChange([v],h)}}_isMultiple(){return!!this.getProp("multiple")&&this.getProp("type")==="date"}_isRange(){}handleDayClick(e,t){const r=this.getProp("type");switch(!0){case(r==="date"||r==="dateTime"):this.handleDateSelected(e,t);break;case(r==="dateRange"||r==="dateTimeRange"):this.handleRangeSelected(e);break}}handleDateSelected(e,t){const{max:r,type:s,isControlledComponent:i,dateFnsLocale:a}=this.getProps(),o=this._isMultiple(),{selected:l}=this.getStates(),u=this._getPanelDetail(t),d=new Set(o?[...l]:[]),{fullDate:h}=e,f=u.pickerDate,p=h;o?d.has(p)?d.delete(p):r&&d.size===r?this._adapter.notifyMaxLimit():d.add(p):d.add(p);const _=[...d].map(y=>s==="dateTime"?this._mergeDateAndTime(y,f):Bt(y,z.FORMAT_FULL_DATE,void 0,a));this.handleShowDateAndTime(t,f),i||this._adapter.updateDaySelected(d),this._adapter.notifySelectedChange(_)}handleShowDateAndTime(e,t,r){const s=r||t;this._updatePanelDetail(e,{showDate:s,pickerDate:t})}_mergeDateAndTime(e,t){const r=this._adapter.getProp("dateFnsLocale"),s=et(Ds(e)?e:Bt(e,z.FORMAT_FULL_DATE,void 0,r),z.FORMAT_FULL_DATE),i=et(Ds(t)?t:Bt(t,z.FORMAT_TIME_PICKER,void 0,r),z.FORMAT_TIME_PICKER),a=this.getValidTimeFormat();return Bt(`${s} ${i}`,a,void 0,r)}handleRangeSelected(e){let{rangeStart:t,rangeEnd:r}=this.getStates();const{startDateOffset:s,endDateOffset:i,type:a,dateFnsLocale:o,rangeInputFocus:l,triggerRender:u}=this._adapter.getProps(),{fullDate:d}=e;let h=!1,f=!1;const p=(s||i)&&a==="dateRange";p?(t=xg(s,d),r=xg(i,d)):l==="rangeEnd"?(r=d,t&&r&&sc(r,t.trim().split(/\s+/)[0])&&(t=null,h=!0)):(l==="rangeStart"||!l)&&(t=d,t&&r&&sc(r.trim().split(/\s+/)[0],t)&&(r=null,f=!0)),/range/i.test(a)&&(p?(this._adapter.setRangeStart(t),this._adapter.setRangeEnd(r)):l==="rangeEnd"?(this._adapter.setRangeEnd(r),h&&this._adapter.setRangeStart(t),(!this._adapter.isAnotherPanelHasOpened("rangeEnd")||!t)&&this._adapter.setRangeInputFocus("rangeStart")):(l==="rangeStart"||!l)&&(this._adapter.setRangeStart(t),f&&this._adapter.setRangeEnd(r),(!this._adapter.isAnotherPanelHasOpened("rangeStart")||!r)&&this._adapter.setRangeInputFocus("rangeEnd")));const y=this.getValidDateFormat();if(t||r){const[v,m]=[Bt(t,y,void 0,o),Bt(r,y,void 0,o)];let w=[v,m];if(a==="dateTimeRange"){const E=this.getState("monthLeft").pickerDate,S=this.getState("monthRight").pickerDate,C=t?this._mergeDateAndTime(t,E):null,O=r?this._mergeDateAndTime(r,S):null;B1(v,m)&&sc(O,C)?w=[C,C]:w=[C,O]}const b=!(a==="dateRange"&&p);this._adapter.notifySelectedChange(w,{needCheckFocusRecord:b})}}_isNeedSwap(e,t){return e&&t&&sc(t,e)}handleDayHover(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fullDate:""};const{fullDate:t}=e,{startDateOffset:r,endDateOffset:s,type:i}=this.getProps();if(this._adapter.setHoverDay(t),(r||s)&&i==="dateRange"){const a=xg(r,t),o=xg(s,t);this._adapter.setOffsetRangeStart(a),this._adapter.setOffsetRangeEnd(o)}}_autoAdjustMonth(e,t){let r=e,s=t;const i=ol(e.pickerDate,t.pickerDate);return i>0?(r=Object.assign({},t),s=Object.assign({},e)):i===0&&(r=e,s=Object.assign(Object.assign({},t),{pickerDate:fo(t.pickerDate,1)})),{monthLeft:r,monthRight:s}}getValidTimeFormat(){const e=this.getProp("format")||z.FORMAT_TIME_PICKER,t=[];return(rc(e,"h")||rc(e,"H"))&&t.push("HH"),rc(e,"m")&&t.push("mm"),rc(e,"s")&&t.push("ss"),t.join(":")}getValidDateFormat(){return this.getProp("format")||xhe(this.getProp("type"))}handleTimeChange(e,t){const{rangeEnd:r,rangeStart:s}=this.getStates(),i=this.getProp("dateFnsLocale"),a=e.timeStampValue,o=this.getProp("type"),l=this._getPanelDetail(t),{showDate:u}=l,d=new Date(a),h=this.getValidDateFormat(),f=t===z.PANEL_TYPE_RIGHT?r:s;let p,_,y;if(o==="dateTimeRange"&&f){const C=Bt(f,h,void 0,i);p=C.getFullYear(),_=C.getMonth(),y=C.getDate()}else p=u.getFullYear(),_=u.getMonth(),y=u.getDate();const v=d.getHours(),m=d.getMinutes(),w=d.getSeconds(),b=d.getMilliseconds(),E=[p,_,y,v,m,w,b],S=new Date(...E);if(o==="dateTimeRange")this.handleShowDateAndTime(t,S,u),this._updateTimeInDateRange(t,S);else{const C=wj(p,_+1,y);this.handleDateSelected({fullDate:C,fullValidDate:S},t),this.handleShowDateAndTime(t,S),this._adapter.notifySelectedChange([S])}}_updateTimeInDateRange(e,t){const{isControlledComponent:r,dateFnsLocale:s}=this.getProps();let i=this.getState("rangeStart"),a=this.getState("rangeEnd");const o=this.getValidDateFormat();if(i&&a){let l=Bt(i,o,void 0,s),u=Bt(a,o,void 0,s);e===z.PANEL_TYPE_RIGHT?(u=this._mergeDateAndTime(t,t),a=et(u,z.FORMAT_DATE_TIME),this._isNeedSwap(i,a)&&([i,a]=[a,i],[l,u]=[u,l]),r||this._adapter.setRangeEnd(a)):(l=this._mergeDateAndTime(t,t),i=et(l,z.FORMAT_DATE_TIME),this._isNeedSwap(i,a)&&([i,a]=[a,i],[l,u]=[u,l]),r||this._adapter.setRangeStart(i)),this._adapter.notifySelectedChange([l,u])}}_updatePanelDetail(e,t){const{monthLeft:r,monthRight:s}=this.getStates();e===z.PANEL_TYPE_RIGHT?this._adapter.updateMonthOnRight(Object.assign(Object.assign({},s),t)):this._adapter.updateMonthOnLeft(Object.assign(Object.assign({},r),t))}showYearPicker(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!0})}showTimePicker(e,t){this.getProp("disabledTimePicker")||this._updatePanelDetail(e,{isTimePickerOpen:!0,isYearPickerOpen:!1})}showDatePanel(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!1})}getYAMOpenType(){const{monthLeft:e,monthRight:t}=this._adapter.getStates(),r=e.isYearPickerOpen,s=t.isYearPickerOpen;return r&&s?"both":r?"left":s?"right":"none"}}const HR=fe.NAVIGATION;class vT extends T.PureComponent{constructor(e){super(e),this.navRef=g.createRef()}render(){const{forwardRef:e,monthText:t,onMonthClick:r,onNextMonth:s,onPrevMonth:i,onPrevYear:a,onNextYear:o,density:l,shouldBimonthSwitch:u,panelType:d}=this.props,h="borderless",f=l==="compact"?"default":"large",p=!0,_=l==="compact"?"small":"default",y=d===z.PANEL_TYPE_LEFT,v=d===z.PANEL_TYPE_RIGHT,m=u&&y,w=u&&v,b={},E={};w&&(b.visibility="hidden"),m&&(E.visibility="hidden");const S=e||this.navRef;return g.createElement("div",{className:HR,ref:S},g.createElement(xs,{key:"double-chevron-left","aria-label":"Previous year",icon:g.createElement(Pie,{"aria-hidden":!0,size:f}),size:_,theme:h,noHorizontalPadding:p,onClick:a,style:b}),g.createElement(xs,{key:"chevron-left","aria-label":"Previous month",icon:g.createElement(P2,{"aria-hidden":!0,size:f}),size:_,onClick:i,theme:h,noHorizontalPadding:p,style:b}),g.createElement("div",{className:`${HR}-month`},g.createElement(xe,{onClick:r,theme:h,size:_},g.createElement("span",null,t))),g.createElement(xs,{key:"chevron-right","aria-label":"Next month",icon:g.createElement(x2,{"aria-hidden":!0,size:f}),size:_,onClick:s,theme:h,noHorizontalPadding:p,style:E}),g.createElement(xs,{key:"double-chevron-right","aria-label":"Next year",icon:g.createElement(Rie,{"aria-hidden":!0,size:f}),size:_,theme:h,noHorizontalPadding:p,onClick:o,style:E}))}}vT.propTypes={monthText:c.string,density:c.string,onMonthClick:c.func,onNextMonth:c.func,onPrevMonth:c.func,onNextYear:c.func,onPrevYear:c.func,navPrev:c.node,navNext:c.node,shouldBimonthSwitch:c.bool,panelType:c.oneOf([z.PANEL_TYPE_LEFT,z.PANEL_TYPE_RIGHT])};vT.defaultProps={monthText:"",onMonthClick:k,onNextMonth:k,onPrevMonth:k,onNextYear:k,onPrevYear:k};const ipe=n=>{let{weekStartsOn:e=0}=n;const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let r=0;r<e;r++)t.push(t.shift());return t};class ape extends Pe{constructor(e){super(Object.assign({},e))}init(){this._getToday(),this.getMonthTable()}_getToday(){const t=et(new Date,"yyyy-MM-dd");this._adapter.updateToday(t)}getMonthTable(){const e=this._adapter.getProp("month"),t=this.getState("weeksRowNum");if(e){this.updateWeekDays();const r=this._adapter.getProp("weekStartsOn"),s=npe(e,r),{weeks:i}=s;this._adapter.updateMonthTable(s),ct(t)?this._adapter.setWeeksRowNum(i.length):Array.isArray(i)&&i.length!==t&&this._adapter.setWeeksRowNum(i.length,()=>{this._adapter.notifyWeeksRowNumChange(i.length)})}}updateWeekDays(){const e=this._adapter.getProp("weekStartsOn"),t=ipe({weekStartsOn:e});this._adapter.setWeekDays(t)}destroy(){}handleClick(e){this._adapter.notifyDayClick(e)}handleHover(e){this._adapter.notifyDayHover(e)}}const ope=fe.PREFIX;class _T extends we{constructor(e){super(e),this.state={weekdays:[],month:{weeks:[],monthText:""},todayText:"",weeksRowNum:e.weeksRowNum},this.monthRef=g.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToday:e=>this.setState({todayText:e}),setWeekDays:e=>this.setState({weekdays:e}),setWeeksRowNum:(e,t)=>this.setState({weeksRowNum:e},t),updateMonthTable:e=>this.setState({month:e}),notifyDayClick:e=>this.props.onDayClick(e),notifyDayHover:e=>this.props.onDayHover(e),notifyWeeksRowNumChange:e=>this.props.onWeeksRowNumChange(e)})}componentDidMount(){this.foundation=new ape(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){e.month!==this.props.month&&this.foundation.getMonthTable()}getSingleDayStatus(e){const{rangeInputFocus:t}=this.props,{fullDate:r,todayText:s,selected:i,disabledDate:a,rangeStart:o,rangeEnd:l}=e,u={rangeStart:o,rangeEnd:l,rangeInputFocus:t},d=r===s,h=i.has(r);let f=a&&a(As(r),u);return!f&&this.props.rangeInputFocus==="rangeStart"&&l&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeEnd&&(f=$R(r,l.trim().split(/\s+/)[0])),!f&&this.props.rangeInputFocus==="rangeEnd"&&o&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeStart&&(f=sc(r,o.trim().split(/\s+/)[0])),{isToday:d,isSelected:h,isDisabled:f}}getDateRangeStatus(e){const{rangeStart:t,rangeEnd:r,fullDate:s,hoverDay:i,offsetRangeStart:a,offsetRangeEnd:o,rangeInputFocus:l}=e,u=!!(t||r),d=!!(t&&r),h=a||o;if(!u)return{};const f=qa(i,s);let p,_,y,v,m;t&&(y=qa(s,t),l==="rangeEnd"&&(p=xu(s,{start:t,end:i}))),r&&(v=qa(s,r),l==="rangeStart"&&(_=xu(s,{start:i,end:r}))),!d&&u&&(m=f);let w;h||(w=p||_||f);let b,E,S,C,O,I;return d&&(b=xu(s,{start:t,end:r}),h||(E=y&&$R(t,i),S=v&&sc(r,i),C=f&&l==="rangeStart",O=f&&l==="rangeEnd",I=f&&xu(i,{start:t,end:r}))),{isHoverDay:f,isSelectedStart:y,isSelectedEnd:v,isInRange:b,isHover:w,isSelectedStartAfterHover:E,isSelectedEndBeforeHover:S,isHoverDayInRange:I,isHoverDayInStartSelection:C,isHoverDayInEndSelection:O,isHoverDayAroundOneSelected:m}}getOffsetDateStatus(e){const{offsetRangeStart:t,offsetRangeEnd:r,rangeStart:s,rangeEnd:i,fullDate:a,hoverDay:o}=e;if(!(t||r))return{};const u=xu(a,{start:s,end:i}),d=qa(o,a),h=s&&qa(a,s),f=i&&qa(a,i),p=!!(s&&i),_=qa(a,t),y=qa(a,r),v=d;let m,w;return p&&(m=u&&d),!!(t&&r)&&(w=h||xu(a,{start:t,end:r})||f),{isOffsetRangeStart:_,isOffsetRangeEnd:y,isHoverInOffsetRange:m,isHoverDayOffset:v,isInOffsetRange:w}}getDayStatus(e,t){const{fullDate:r}=e,{hoverDay:s,rangeStart:i,rangeEnd:a,todayText:o,offsetRangeStart:l,offsetRangeEnd:u,disabledDate:d,selected:h,rangeInputFocus:f}=t,p=this.getSingleDayStatus({fullDate:r,todayText:o,hoverDay:s,selected:h,disabledDate:d,rangeStart:i,rangeEnd:a}),_=this.getDateRangeStatus(Object.assign({fullDate:r,rangeStart:i,rangeEnd:a,hoverDay:s,offsetRangeStart:l,offsetRangeEnd:u,rangeInputFocus:f},p)),y=this.getOffsetDateStatus(Object.assign(Object.assign({offsetRangeStart:l,offsetRangeEnd:u,rangeStart:i,rangeEnd:a,fullDate:r,hoverDay:s},p),_));return Object.assign(Object.assign(Object.assign({},p),_),y)}renderDayOfWeek(){const{locale:e}=this.props,t=R(fe.WEEKDAY),r=R(`${ope}-weekday-item`),{weekdays:s}=this.state,i=s.map(a=>e.weeks[a]);return g.createElement("div",{role:"row",className:t},i.map((a,o)=>g.createElement("div",{role:"columnheader",key:a+o,className:r},a)))}renderWeeks(){const{month:e}=this.state,{weeks:t}=e,{weeksRowNum:r}=this.props;let s={};r&&(s={height:r*Bc.WEEK_HEIGHT});const i=R(fe.WEEKS);return g.createElement("div",{className:i,style:s},t.map((a,o)=>this.renderWeek(a,o)))}renderWeek(e,t){const r=fe.WEEK;return g.createElement("div",{role:"row",className:r,key:t},e.map((s,i)=>this.renderDay(s,i)))}renderDay(e,t){const{todayText:r}=this.state,{renderFullDate:s,renderDate:i}=this.props,{fullDate:a,dayNumber:o}=e;if(!a)return g.createElement("div",{role:"gridcell",tabIndex:-1,key:o+t,className:fe.DAY},g.createElement("span",null));const l=this.getDayStatus(e,Object.assign({todayText:r},this.props)),u=R(fe.DAY,{[fe.DAY_TODAY]:l.isToday,[fe.DAY_IN_RANGE]:l.isInRange,[fe.DAY_HOVER]:l.isHover,[fe.DAY_SELECTED]:l.isSelected,[fe.DAY_SELECTED_START]:l.isSelectedStart,[fe.DAY_SELECTED_END]:l.isSelectedEnd,[fe.DAY_DISABLED]:l.isDisabled,[fe.DAY_HOVER_DAY]:l.isHoverDayOffset,[fe.DAY_IN_OFFSET_RANGE]:l.isInOffsetRange,[fe.DAY_SELECTED_RANGE_HOVER]:l.isHoverInOffsetRange,[fe.DAY_OFFSET_RANGE_START]:l.isOffsetRangeStart,[fe.DAY_OFFSET_RANGE_END]:l.isOffsetRangeEnd,[fe.DAY_SELECTED_START_AFTER_HOVER]:l.isSelectedStartAfterHover,[fe.DAY_SELECTED_END_BEFORE_HOVER]:l.isSelectedEndBeforeHover,[fe.DAY_HOVER_DAY_BEFORE_RANGE]:l.isHoverDayInStartSelection,[fe.DAY_HOVER_DAY_AFTER_RANGE]:l.isHoverDayInEndSelection,[fe.DAY_HOVER_DAY_AROUND_SINGLE_SELECTED]:l.isHoverDayAroundOneSelected}),d=R({[`${fe.DAY}-main`]:!0}),h=[o,a,l],f=Te(s);return g.createElement("div",{role:"gridcell",tabIndex:l.isDisabled?-1:0,"aria-disabled":l.isDisabled,"aria-selected":l.isSelected,"aria-label":a,className:f?fe.DAY:u,title:a,key:o+t,onClick:p=>!l.isDisabled&&this.foundation.handleClick(e),onMouseEnter:()=>this.foundation.handleHover(e),onMouseLeave:()=>this.foundation.handleHover()},f?s(...h):g.createElement("div",{className:d},Te(i)?i(o,a):g.createElement("span",null,o)))}render(){const{forwardRef:e,multiple:t}=this.props,r=this.renderDayOfWeek(),s=this.renderWeeks(),i=R(fe.MONTH),a=e||this.monthRef;return g.createElement("div",{role:"grid","aria-multiselectable":t,ref:a,className:i},r,s)}}_T.propTypes={month:c.object,selected:c.object,rangeStart:c.string,rangeEnd:c.string,offsetRangeStart:c.string,offsetRangeEnd:c.string,onDayClick:c.func,onDayHover:c.func,weekStartsOn:c.number,disabledDate:c.func,weeksRowNum:c.number,onWeeksRowNumChange:c.func,renderDate:c.func,renderFullDate:c.func,hoverDay:c.string,startDateOffset:c.func,endDateOffset:c.func,rangeInputFocus:c.oneOfType([c.string,c.bool]),focusRecordsRef:c.object,multiple:c.bool};_T.defaultProps={month:new Date,selected:new Set,rangeStart:"",rangeEnd:"",onDayClick:k,onDayHover:k,onWeeksRowNumChange:k,weekStartsOn:Bc.WEEK_START_ON,disabledDate:hf,weeksRowNum:0};const l0="time",u0="timeRange",lpe=" ~ ",mS={PREFIX:`${Y}-timepicker`,RANGE_PICKER:`${Y}-timepicker-range-panel`,RANGE_PANEL_LISTS:`${Y}-timepicker-lists`},Qt={TYPES:[l0,u0],TYPE_TIME_RANGE_PICKER:u0,DEFAULT_TYPE:l0,DEFAULT_RANGE_SEPARATOR:lpe,SIZE:Wo.SIZE,DEFAULT_FORMAT:"HH:mm:ss",DEFAULT_FORMAT_A:"a h:mm:ss",STATUS:hd,DEFAULT_POSITION:{[l0]:"bottomLeft",[u0]:"bottomLeft"}},Vr={PREFIX:`${Y}-scrolllist`,SELECTED:`${Y}-scrolllist-item-selected`},upe={MODE:["normal","wheel"]},Rg={DEFAULT_ITEM_HEIGHT:36,DEFAULT_SCROLL_DURATION:120};var cpe=SM,dpe=QM,hpe=Yv,fpe=9007199254740991,c0=4294967295,ppe=Math.min;function gpe(n,e){if(n=hpe(n),n<1||n>fpe)return[];var t=c0,r=ppe(n,c0);e=dpe(e),n-=c0;for(var s=cpe(r,e);++t<n;)e(t);return s}var mpe=gpe;const zR=ge(mpe);var ype=Mv,vpe=M1,_pe=1,bpe=2;function wpe(n,e,t,r){var s=t.length,i=s,a=!r;if(n==null)return!i;for(n=Object(n);s--;){var o=t[s];if(a&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++s<i;){o=t[s];var l=o[0],u=n[l],d=o[1];if(a&&o[2]){if(u===void 0&&!(l in n))return!1}else{var h=new ype;if(r)var f=r(u,d,l,n,e,h);if(!(f===void 0?vpe(d,u,_pe|bpe,r,h):f))return!1}}return!0}var Epe=wpe,Spe=Xr;function Cpe(n){return n===n&&!Spe(n)}var Ej=Cpe,Tpe=Ej,Ope=Ho;function Ipe(n){for(var e=Ope(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,Tpe(s)]}return e}var Ppe=Ipe;function xpe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var Sj=xpe,Rpe=Epe,Ape=Ppe,Dpe=Sj;function kpe(n){var e=Ape(n);return e.length==1&&e[0][2]?Dpe(e[0][0],e[0][1]):function(t){return t===n||Rpe(t,n,e)}}var Npe=kpe,$pe=M1,Lpe=tM,Mpe=nF,Fpe=y1,jpe=Ej,Vpe=Sj,Upe=uu,Bpe=1,Hpe=2;function zpe(n,e){return Fpe(n)&&jpe(e)?Vpe(Upe(n),e):function(t){var r=Lpe(t,n);return r===void 0&&r===e?Mpe(t,n):$pe(e,r,Bpe|Hpe)}}var Kpe=zpe;function Wpe(n){return function(e){return e==null?void 0:e[n]}}var Gpe=Wpe,Ype=Nv;function qpe(n){return function(e){return Ype(e,n)}}var Xpe=qpe,Qpe=Gpe,Zpe=Xpe,Jpe=y1,ege=uu;function tge(n){return Jpe(n)?Qpe(ege(n)):Zpe(n)}var nge=tge,rge=Npe,sge=Kpe,ige=fp,age=Jn,oge=nge;function lge(n){return typeof n=="function"?n:n==null?ige:typeof n=="object"?age(n)?sge(n[0],n[1]):rge(n):oge(n)}var bT=lge,uge=q2,cge=bT,dge=Yv,hge=Math.max;function fge(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var s=t==null?0:dge(t);return s<0&&(s=hge(r+s,0)),uge(n,cge(e),s)}var Cj=fge;const ic=ge(Cj);var pge=XM,gge=Qi;function mge(n,e){var t=-1,r=gge(n)?Array(n.length):[];return pge(n,function(s,i,a){r[++t]=e(s,i,a)}),r}var yge=mge,vge=cd,_ge=bT,bge=yge,wge=Jn;function Ege(n,e){var t=wge(n)?vge:bge;return t(n,_ge(e))}var Sge=Ege;const Cge=ge(Sge);var Tge=bT,Oge=Qi,Ige=Ho;function Pge(n){return function(e,t,r){var s=Object(e);if(!Oge(e)){var i=Tge(t);e=Ige(e),t=function(o){return i(s[o],o,s)}}var a=n(e,t,r);return a>-1?s[i?e[a]:a]:void 0}}var xge=Pge,Rge=xge,Age=Cj,Dge=Rge(Age),kge=Dge;const yS=ge(kge);var Nge=k1,$ge=R1,KR=Yv;function Lge(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&$ge(n,e,t)?(e=0,t=r):(e=e==null?0:KR(e),t=t===void 0?r:KR(t)),Nge(n,e,t)):[]}var Mge=Lge;const d0=ge(Mge);class Fge extends Pe{constructor(){super(...arguments),this._cachedSelectedNode=null}selectIndex(e,t){const{type:r,list:s}=this.getProps();if(e>-1&&Array.isArray(s)&&s.length&&ze(t)){const i=e%s.length,a=s[i],o=t.children[e];this._adapter.setSelectedNode(o),this._adapter.notifySelectItem(Object.assign(Object.assign({},a),{value:a.value,type:r,index:i}))}}selectNode(e,t){const{type:r,list:s}=this.getProps();if(ze(e)&&ze(t)){const a=ic(t.children,d=>d===e)%s.length,l=ic(t.children,d=>d===this._cachedSelectedNode)%s.length,u=s[a];this._adapter.setSelectedNode(e),this._adapter.scrollToCenter(e),this._cachedSelectedNode!==e&&(this._cachedSelectedNode=e,l!==a&&this._adapter.notifySelectItem(Object.assign(Object.assign({},u),{value:u.value,type:r,index:a})))}}shouldAppend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(ze(e)&&ze(t)){const i=e.querySelectorAll(s),a=i[i.length-1],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),d=u.height*o.length;let h=u.top,f=0;for(;h<=l.top+l.height*r;)f+=1,h+=d;return f}}return!1}shouldPrepend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(ze(e)&&ze(t)){const a=e.querySelectorAll(s)[0],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),d=u.height*o.length;let h=u.top,f=0;for(;h+u.height>=l.top-l.height*r;)f+=1,h-=d;return f}}return 0}initWheelList(e,t,r){const{list:s}=this.getProps();if(ze(t)&&ze(e)&&s&&s.length){const i=e.children;d0(i,0,s.length);const a=this.shouldPrepend(e,t),o=this.shouldAppend(e,t);this._adapter.setState({prependCount:a,appendCount:o},r)}}adjustInfiniteList(e,t,r){const{list:s}=this.getProps(),i="li";if(ze(t)&&ze(e)&&s&&s.length){const a=e.querySelectorAll(i),o=a.length,l=1,u=this.shouldPrepend(e,t,l),d=this.shouldAppend(e,t,l);if(u)for(let h=0;h<u;h++){const f=d0(a,o-s.length*(h+1),o-s.length*h);kte(e,...f)}if(d)for(let h=0;h<d;h++){const f=d0(a,h*s.length,(h+1)*s.length);JM(e,...f)}}}getNearestNodeInfo(e,t){if(ze(e)&&ze(t)){const s=t.getBoundingClientRect().top,i=e.querySelectorAll("li");let a=null,o=-1,l=1/0;return Array.from(i).map((u,d)=>{const f=u.getBoundingClientRect().top,p=Math.abs(f-s);p<l&&!this._adapter.isDisabledIndex(d)&&(l=p,a=u,o=d)}),{nearestNode:a,nearestIndex:o}}}getTargetNode(e,t){if(e&&ze(t)){const r="li",s=e.target,i=t.querySelectorAll(r),a=this.getProp("list"),o=Array.isArray(a)?a.length:0;let l=-1,u=-1,d=null;const h=yS(i,(f,p)=>{if(f===s||f.contains(s))return l=p,o>0&&(u=p%o),!0});return u>-1&&(d=a[u]),{targetNode:h,targetIndex:l,indexInList:u,infoInList:d}}return null}}const jge=(n,e,t)=>{const r=new G2({from:{scrollTop:n.scrollTop},to:{scrollTop:e}},{duration:t});return r.on("frame",s=>{let{scrollTop:i}=s;n.scrollTop=i}),r},WR=1e3/60,GR=/^\s*$/,pm="wheel";class ha extends we{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),e=this,this._cacheNode=(r,s)=>r&&s&&Object.prototype.hasOwnProperty.call(this,r)&&(this[r]=s),this._cacheSelectedNode=r=>this._cacheNode("selectedNode",r),this._cacheWillSelectNode=r=>this._cacheNode("willSelectNode",r),this._cacheListNode=r=>this._cacheNode("list",r),this._cacheSelectorNode=r=>this._cacheNode("selector",r),this._cacheWrapperNode=r=>this._cacheNode("wrapper",r),this._isFirst=r=>{const{list:s}=this;if(ze(r)&&ze(s)){const i=s.children;return ic(i,r)===0}return!1},this._isLast=r=>{const{list:s}=this;if(ze(r)&&ze(s)){const{children:i}=s;return ic(i,r)===i.length-1}return!1},this.indexIsSame=(r,s)=>{const{list:i}=this.props;if(i.length)return r%i.length===s%i.length},this.isDisabledIndex=r=>{const{list:s}=this.props;if(Array.isArray(s)&&s.length&&r>-1){const i=s.length,a=r%i;return this.isDisabledData(s[a])}return!1},this.isDisabledNode=r=>{const s=this.list;if(ze(r)&&ze(s)){const i=ic(s.children,a=>a===r);return this.isDisabledIndex(i)}return!1},this.isDisabledData=r=>r&&typeof r=="object"&&r.disabled,this.isWheelMode=()=>this.props.mode===pm,this.addClassToNode=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr.SELECTED;const{list:i}=e;if(r=r||e.selectedNode,ze(r)&&ze(i)){const{children:a}=i,o=new RegExp(`\\s*${s}\\s*`,"g");Cge(a,l=>{l.className=l.className&&l.className.replace(o," "),GR.test(l.className)&&(l.className="")}),r.className&&!GR.test(r.className)?r.className+=` ${s}`:r.className=s}},this.getIndexByNode=r=>ic(this.list.children,r),this.getNodeByIndex=r=>r>-1?yS(this.list.children,(i,a)=>a===r):yS(this.list.children,i=>!this.isDisabledNode(i)),this.scrollToIndex=(r,s)=>{s=typeof s=="number"?s:Rg.DEFAULT_SCROLL_DURATION,r=r??this.props.selectedIndex,this.scrollToNode(this.selectedNode,s)},this.scrollToNode=(r,s)=>{const{wrapper:i}=this,a=i.offsetHeight,o=this.getItmHeight(r),l=(r.offsetTop||this.list.children.length*o/2)-(a-o)/2;this.scrollToPos(l,s)},this.scrollToPos=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rg.DEFAULT_SCROLL_DURATION;const{wrapper:i}=e;if(s&&e.props.motion)if(e.scrollAnimation&&(e.scrollAnimation.destroy(),e.scrolling=!1),i.scrollTop===r){if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}else e.scrollAnimation=jge(i,r,s),e.scrollAnimation.on("rest",()=>{if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}),e.scrollAnimation.start();else i.scrollTop=r},this.scrollToSelectItem=r=>{const{nearestNode:s}=this.foundation.getNearestNodeInfo(this.list,this.selector);this.props.cycled&&this.throttledAdjustList(r,s),this.debouncedSelect(r,s)},this.scrollToCenter=(r,s,i)=>{if(r=r||this.selectedNode,s=s||this.wrapper,ze(r)&&ze(s)){const a=s.getBoundingClientRect(),o=r.getBoundingClientRect(),l=s.scrollTop+(o.top-(a.top+a.height/2-o.height/2));this.scrollToPos(l,typeof i=="number"?i:Rg.DEFAULT_SCROLL_DURATION)}},this.clickToSelectItem=r=>{r&&r.nativeEvent&&r.nativeEvent.stopImmediatePropagation();const{targetNode:s,infoInList:i}=this.foundation.getTargetNode(r,this.list);s&&i&&!i.disabled&&this.debouncedSelect(null,s)},this.getItmHeight=r=>r&&r.offsetHeight||Rg.DEFAULT_ITEM_HEIGHT,this.renderItemList=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{selectedIndex:s,mode:i,transform:a,list:o}=e.props;return o.map((l,u)=>{const{transform:d}=l,h=typeof d=="function"?d:a,f=s===u,p=R({[`${Vr.PREFIX}-item-sel`]:f&&i!==pm,[`${Vr.PREFIX}-item-disabled`]:!!l.disabled});let _="";f&&typeof h=="function"?_=h(l.value,l.text):_=l.text==null?l.value:l.text;const y={};return!e.isWheelMode()&&!l.disabled&&(y.onClick=()=>e.foundation.selectIndex(u,e.list)),g.createElement("li",Object.assign({key:r+u},y,{className:p,role:"option","aria-selected":f,"aria-disabled":l.disabled}),_)})},this.renderNormalList=()=>{const{list:r,className:s,style:i}=this.props,a=this.renderItemList(),o=R(`${Vr.PREFIX}-item`,s);return g.createElement("div",{style:i,className:o,ref:this._cacheWrapperNode},g.createElement("ul",{role:"listbox","aria-multiselectable":!1,"aria-label":this.props["aria-label"],ref:this._cacheListNode},a))},this.renderInfiniteList=()=>{const{list:r,cycled:s,className:i,style:a}=this.props,{prependCount:o,appendCount:l}=this.state,u=zR(o).reduce((m,w)=>{const b=this.renderItemList(`pre_${w}_`);return m.unshift(...b),m},[]),d=zR(l).reduce((m,w)=>{const b=this.renderItemList(`app_${w}_`);return m.push(...b),m},[]),h=this.renderItemList(),f=R(`${Vr.PREFIX}-list-outer`,{[`${Vr.PREFIX}-list-outer-nocycle`]:!s}),p=R(`${Vr.PREFIX}-item-wheel`,i),_=R(`${Vr.PREFIX}-selector`),y=R(`${Vr.PREFIX}-shade`,`${Vr.PREFIX}-shade-pre`),v=R(`${Vr.PREFIX}-shade`,`${Vr.PREFIX}-shade-post`);return g.createElement("div",{className:p,style:a},g.createElement("div",{className:y}),g.createElement("div",{className:_,ref:this._cacheSelectorNode}),g.createElement("div",{className:v}),g.createElement("div",{className:f,ref:this._cacheWrapperNode,onScroll:this.scrollToSelectItem},g.createElement("ul",{role:"listbox","aria-label":this.props["aria-label"],"aria-multiselectable":!1,ref:this._cacheListNode,onClick:this.clickToSelectItem},u,h,d)))},this.state={prependCount:0,appendCount:0},this.selectedNode=null,this.willSelectNode=null,this.list=null,this.wrapper=null,this.selector=null,this.scrollAnimation=null,this.foundation=new Fge(this.adapter),this.throttledAdjustList=iy((r,s)=>{this.foundation.adjustInfiniteList(this.list,this.wrapper,s)},WR),this.debouncedSelect=sM((r,s)=>{this._cacheSelectedNode(s),this.foundation.selectNode(s,this.list)},WR*2)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setState:(t,r)=>this.setState(Object.assign({},t),r),setPrependCount:t=>this.setState({prependCount:t}),setAppendCount:t=>this.setState({appendCount:t}),isDisabledIndex:this.isDisabledIndex,setSelectedNode:t=>this._cacheWillSelectNode(t),notifySelectItem:function(){return e.props.onSelect(...arguments)},scrollToCenter:this.scrollToCenter})}componentWillUnmount(){this.props.cycled&&(this.throttledAdjustList.cancel(),this.debouncedSelect.cancel())}componentDidMount(){this.foundation.init();const{mode:e,cycled:t,selectedIndex:r,list:s}=this.props,i=this.getNodeByIndex(typeof r=="number"&&r>-1?r:0);this._cacheSelectedNode(i),this._cacheWillSelectNode(i),e===pm&&t?this.foundation.initWheelList(this.list,this.wrapper,()=>{this.scrollToNode(i,0)}):this.scrollToNode(i,0)}componentDidUpdate(e){const{selectedIndex:t}=this.props;if(e.selectedIndex!==t){const r=this.getIndexByNode(this.willSelectNode);if(!this.indexIsSame(r,t)){const s=this.getNodeByOffset(this.selectedNode,t-e.selectedIndex,this.list);this._cacheWillSelectNode(s)}this._cacheSelectedNode(this.willSelectNode),this.scrollToIndex(t)}}getNodeByOffset(e,t,r){const{list:s}=this.props;if(ze(e)&&ze(r)&&typeof t=="number"&&Array.isArray(s)&&s.length){t=t%s.length;let a=this.getIndexByNode(e)+t;for(;a<0;)a+=s.length;if(t)return this.getNodeByIndex(a)}return e}render(){return this.isWheelMode()?this.renderInfiniteList():this.renderNormalList()}}ha.propTypes={mode:c.oneOf(upe.MODE),cycled:c.bool,list:c.array,selectedIndex:c.number,onSelect:c.func,transform:c.func,className:c.string,style:c.object,motion:c.oneOfType([c.func,c.bool]),type:c.oneOfType([c.string,c.number])};ha.defaultProps={selectedIndex:0,motion:!0,list:[],onSelect:k,cycled:!1,mode:pm};class Vge extends Pe{}var Uge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class a_ extends we{constructor(e){super(e),this.foundation=new Vge(this.adapter)}render(){const e=this.props,{children:t,header:r,footer:s,prefixCls:i,bodyHeight:a,className:o,style:l}=e,u=Uge(e,["children","header","footer","prefixCls","bodyHeight","className","style"]),d=R(o,{[i||Vr.PREFIX]:!0}),h=R({[`${i||Vr.PREFIX}-header`]:!0});return g.createElement("div",Object.assign({className:d,style:l},this.getDataAttr(u)),r?g.createElement("div",{className:h},g.createElement("div",{className:`${h}-title`,"x-semi-prop":this.props["x-semi-header-alias"]||"header"},r),g.createElement("div",{className:`${d}-line`})):null,g.createElement("div",{className:`${d}-body`,style:{height:a||""},"x-semi-prop":"children"},t),s?g.createElement("div",{className:`${d}-footer`,"x-semi-prop":this.props["x-semi-footer-alias"]||"footer"},s):null)}}a_.Item=ha;a_.propTypes={className:c.string,header:c.node,footer:c.node,children:c.node,bodyHeight:c.oneOfType([c.number,c.string])};const Tj=1e3*60*60,YR=24*Tj,h0=(n,e)=>{let t=`${n}`;n<10&&(t=`0${n}`);let r=!1;return e&&e.indexOf(n)>=0&&(r=!0),{value:t,disabled:r}};function f0(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const s=[];for(let i=0;i<n;i+=r)(!e||e.indexOf(i)<0||!t)&&s.push(i);return s}class Bge extends Pe{constructor(e){super(Object.assign({},e))}isAM(){return this.getProp("isAM")}initData(){const{timeStampValue:e,hourStep:t,disabledMinutes:r,disabledSeconds:s,hideDisabledOptions:i,minuteStep:a,secondStep:o}=this.getProps(),l=this.getValidFormat(),u=this.getDisplayDateFromTimeStamp(e),d=this.disabledHours(),h=r(u?u.getHours():null),f=s(u?u.getHours():null,u?u.getMinutes():null),p=f0(24,d,i,t),_=f0(60,h,i,a),y=f0(60,f,i,o);return{showHour:!!l.match(/HH|hh|H|h/g),showMinute:!!l.match(/mm/g),showSecond:!!l.match(/ss/g),hourOptions:p,minuteOptions:_,secondOptions:y}}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||Qt.DEFAULT_TYPE;return e||Qt.DEFAULT_POSITION[t]}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?Qt.DEFAULT_FORMAT_A:Qt.DEFAULT_FORMAT}disabledHours(){const{use12Hours:e,disabledHours:t}=this.getProps();let r=t&&t();return e&&Array.isArray(r)&&(this.isAM()?r=r.filter(s=>s<12).map(s=>s===0?12:s):r=r.map(s=>s===12?12:s-12)),r}getValidFormat(e){let t=ct(e)?this.getProp("format"):e;return t=this.getDefaultFormatIfNeed(),t=typeof t=="string"?t:Qt.DEFAULT_FORMAT,t}getDisplayDateFromTimeStamp(e){let t;return e&&(t=new Date(e)),!e||!Ds(t)?this.createDateDefault():t}createDateDefault(){return new Date(parseInt(String(Date.now()/YR),10)*YR-8*Tj)}}class wf extends we{constructor(e){super(e),this.cacheRefCurrent=(t,r)=>{t&&typeof t=="string"&&this.adapter.setCache(t,r)},this.reselect=()=>{["ampm","hour","minute","second"].forEach(r=>{const s=this.adapter.getCache(r);s&&s.scrollToIndex&&s.scrollToIndex()})},this.onItemChange=t=>{let{type:r,value:s,disabled:i}=t,{onChange:a,use12Hours:o,isAM:l,format:u,timeStampValue:d}=this.props;const h=this.foundation.getDisplayDateFromTimeStamp(d);if(r==="hour")o?l?h.setHours(Number(s)%12):h.setHours(Number(s)%12+12):h.setHours(Number(s));else if(r==="minute")h.setMinutes(Number(s));else if(r==="ampm"){const f=s.toUpperCase();o&&(f==="PM"&&(l=!1,h.getHours()<12&&h.setHours(h.getHours()%12+12)),f==="AM"&&(l=!0,h.getHours()>=12&&h.setHours(h.getHours()-12)))}else h.setSeconds(Number(s));a&&a({isAM:l,value:et(h,u&&u.replace(/(\s+)A/g,"$1a")),timeStampValue:Number(h)})},this.onEnterSelectPanel=t=>{const{onCurrentSelectPanelChange:r}=this.props;r(t)},this.getDisplayDateFromTimeStamp=t=>this.foundation.getDisplayDateFromTimeStamp(t),this.foundation=new Bge(this.adapter),this.state=Object.assign({},this.foundation.initData())}componentDidUpdate(e,t){(e.timeStampValue!==this.props.timeStampValue||e.format!==this.props.format)&&this.setState(Object.assign({},this.foundation.initData()))}componentWillUnmount(){}componentDidMount(){}renderHourSelect(e,t){const{prefixCls:r,disabledHours:s,use12Hours:i,scrollItemProps:a}=this.props,{showHour:o,hourOptions:l}=this.state;if(!o)return null;const u=s();let d,h;i?(d=[12].concat(l.filter(_=>_<12&&_>0)),h=e%12||12):(d=l,h=e);const f=_=>_+t.hour,p=`${r}-list-hour`;return g.createElement(ha,Object.assign({ref:_=>this.cacheRefCurrent("hour",_),mode:"normal",transform:f,className:p,list:d.map(_=>h0(_,u)),selectedIndex:d.indexOf(h),type:"hour",onSelect:this.onItemChange},a))}renderMinuteSelect(e,t){const{prefixCls:r,disabledMinutes:s,timeStampValue:i,scrollItemProps:a}=this.props,{showMinute:o,minuteOptions:l}=this.state;if(!o)return null;const u=new Date(i),d=s&&s(u.getHours()),h=`${r}-list-minute`,f=p=>p+t.minute;return g.createElement(ha,Object.assign({ref:p=>this.cacheRefCurrent("minute",p),mode:"normal",transform:f,list:l.map(p=>h0(p,d)),selectedIndex:l.indexOf(e),type:"minute",onSelect:this.onItemChange,className:h},a))}renderSecondSelect(e,t){const{prefixCls:r,disabledSeconds:s,timeStampValue:i,scrollItemProps:a}=this.props,{showSecond:o,secondOptions:l}=this.state;if(!o)return null;const u=new Date(i),d=s&&s(u.getHours(),u.getMinutes()),h=`${r}-list-second`,f=p=>String(p)+t.second;return g.createElement(ha,Object.assign({ref:p=>this.cacheRefCurrent("second",p),mode:"normal",transform:f,list:l.map(p=>h0(p,d)),selectedIndex:l.indexOf(e),className:h,type:"second",onSelect:this.onItemChange},a))}renderAMPMSelect(e,t){const{prefixCls:r,use12Hours:s,isAM:i,scrollItemProps:a}=this.props;if(!s)return null;const o=[{value:"AM",text:e.AM||"上午"},{value:"PM",text:e.PM||"下午"}],l=i?0:1,u=`${r}-list-ampm`;return g.createElement(ha,Object.assign({ref:d=>this.cacheRefCurrent("ampm",d),mode:"normal",className:u,list:o,selectedIndex:l,type:"ampm",onSelect:this.onItemChange},a))}render(){const{timeStampValue:e,panelHeader:t,panelFooter:r}=this.props,s=this.getDisplayDateFromTimeStamp(e);return g.createElement(dn,{componentName:"TimePicker"},(i,a)=>g.createElement(a_,{header:t,footer:r,"x-semi-header-alias":"panelHeader","x-semi-footer-alias":"panelFooter"},this.renderAMPMSelect(i,a),this.renderHourSelect(s.getHours(),i),this.renderMinuteSelect(s.getMinutes(),i),this.renderSecondSelect(s.getSeconds(),i)))}}wf.propTypes={format:c.string,defaultOpenValue:c.object,prefixCls:c.string,onChange:c.func,showHour:c.bool,showMinute:c.bool,showSecond:c.bool,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,hideDisabledOptions:c.bool,onCurrentSelectPanelChange:c.func,use12Hours:c.bool,isAM:c.bool,timeStampValue:c.any,scrollItemProps:c.object};wf.defaultProps={disabledHours:k,disabledMinutes:k,disabledSeconds:k,format:Qt.DEFAULT_FORMAT};class Hge extends Pe{constructor(e){super(Object.assign({},e))}init(){}destroy(){}selectYear(e,t){const{currentYear:r,currentMonth:s}=this.getStates(),{type:i}=this.getProps(),a=z.PANEL_TYPE_LEFT,o=z.PANEL_TYPE_RIGHT,l=Aa(r);if(l[t]=e.value,i==="monthRange"){const u=l[a]===l[o]&&s[a]>s[o];t===a&&e.value>l[o]||t===a&&u?l[o]=e.value+1:t===o&&u&&(l[a]=e.value-1)}this._adapter.setCurrentYear(l,()=>this.autoSelectMonth(e,t,l)),this._adapter.notifySelectYear(l)}selectMonth(e,t){const{currentMonth:r,currentYear:s}=this.getStates(),{type:i}=this.getProps(),a=z.PANEL_TYPE_LEFT,o=z.PANEL_TYPE_RIGHT,l=Aa(r);l[t]=e.month,i==="monthRange"&&t===a&&s[a]===s[o]&&e.value>l[o]&&(l[o]=e.month),this._adapter.setCurrentMonth(l),this._adapter.notifySelectMonth(l)}autoSelectMonth(e,t,r){const{disabledDate:s,locale:i}=this._adapter.getProps(),{months:a,currentMonth:o}=this._adapter.getStates(),l=t===z.PANEL_TYPE_LEFT?"right":"left",u=cE(Date.now(),e.year),d=s(gl(u,o[t]-1)),h=s(gl(cE(Date.now(),r[l]),o[l]-1));if(!d&&!h)return;let f=r,p=o;if(d){const _=a.findIndex(v=>{let{month:m}=v;return m===o[t]});let y;y=a.slice(_).find(v=>{let{month:m}=v;return!s(gl(u,m-1))}),y||(y=a.slice(0,_).find(v=>{let{month:m}=v;return!s(gl(u,m-1))})),y&&!h?p[t]=y.month:y&&h&&(f={left:e.year,right:e.year},p={left:y.month,right:y.month})}else!d&&h&&(f={left:e.year,right:e.year},p={left:o[t],right:o[t]});this._adapter.setCurrentYearAndMonth(f,p),this._adapter.notifySelectYearAndMonth(f,p)}backToMain(){this._adapter.notifyBackToMain()}}const qR=`${Y}-datepicker`;class o_ extends we{constructor(e){super(e),this.selectYear=(a,o)=>{this.foundation.selectYear(a,o)},this.selectMonth=(a,o)=>{this.foundation.selectMonth(a,o)},this.reselect=()=>{["yearRef","monthRef"].forEach(o=>{const l=this[o];l&&l.current&&l.current.scrollToIndex&&l.current.scrollToIndex()})},this.backToMain=a=>{a.nativeEvent.stopImmediatePropagation(),this.foundation.backToMain()};let{currentYear:t,currentMonth:r}=e;const{year:s,month:i}=LR(t,r);this.state={years:Rhe(e.startYear,e.endYear).map(a=>({value:a,year:a})),months:Array(12).fill(0).map((a,o)=>({value:o+1,month:o+1})),currentYear:s,currentMonth:i},this.yearRef=g.createRef(),this.monthRef=g.createRef(),this.foundation=new Hge(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setCurrentYear:(e,t)=>this.setState({currentYear:e},t),setCurrentMonth:e=>this.setState({currentMonth:e}),setCurrentYearAndMonth:(e,t)=>this.setState({currentYear:e,currentMonth:t}),notifySelectYear:e=>this.props.onSelect({currentMonth:this.state.currentMonth,currentYear:e}),notifySelectMonth:e=>this.props.onSelect({currentYear:this.state.currentYear,currentMonth:e}),notifySelectYearAndMonth:(e,t)=>this.props.onSelect({currentYear:e,currentMonth:t}),notifyBackToMain:()=>this.props.onBackToMain()})}static getDerivedStateFromProps(e,t){const r={},{year:s,month:i}=LR(e.currentYear,e.currentMonth);return ke(e.currentYear,t.currentYear)||(r.currentYear=s),ke(e.currentMonth,t.currentMonth)||(r.currentMonth=i),r}renderColYear(e){const{years:t,currentYear:r,currentMonth:s,months:i}=this.state,{disabledDate:a,localeCode:o,yearCycled:l,yearAndMonthOpts:u}=this.props,d=gl(Date.now(),s[e]-1),h=z.PANEL_TYPE_LEFT,f=z.PANEL_TYPE_RIGHT,p=v=>e===f&&r[h]?r[h]>v:!1,_=t.map(v=>{let{value:m,year:w}=v;const b=i.every(S=>{let{month:C}=S;return a(T2(d,{year:w,month:C-1}))}),E=p(w);return{year:w,value:m,disabled:b||E}});let y=v=>v;return(o==="zh-CN"||o==="zh-TW")&&(y=v=>`${v}年`),g.createElement(ha,Object.assign({ref:this.yearRef,cycled:l,list:_,transform:y,selectedIndex:t.findIndex(v=>v.value===r[e]),type:"year",onSelect:v=>this.selectYear(v,e),mode:"normal"},u))}renderColMonth(e){const{months:t,currentMonth:r,currentYear:s}=this.state,{locale:i,localeCode:a,monthCycled:o,disabledDate:l,yearAndMonthOpts:u}=this.props;let d=v=>v;const h=cE(Date.now(),s[e]),f=z.PANEL_TYPE_LEFT,p=z.PANEL_TYPE_RIGHT;(a==="zh-CN"||a==="zh-TW")&&(d=v=>`${v}月`);const _=t.map(v=>{let{value:m,month:w}=v;const b=e===p&&r[f]&&s[f]===s[p]&&r[f]>w;return{month:w,disabled:l(gl(h,w-1))||b,value:i.fullMonths[m]}}),y=_.findIndex(v=>v.month===r[e]);return g.createElement(ha,Object.assign({ref:this.monthRef,cycled:o,list:_,transform:d,selectedIndex:y,type:"month",onSelect:v=>this.selectMonth(v,e),mode:"normal"},u))}renderPanel(e){return g.createElement(g.Fragment,null,g.createElement(a_,null,this.renderColYear(e),this.renderColMonth(e)))}render(){const{locale:e,noBackBtn:t,density:r,presetPosition:s,renderQuickControls:i,renderDateInput:a,type:o}=this.props,l=`${qR}-yearmonth-header`,u=`${qR}-yearmonth-body`,d=e.selectDate,h=r==="compact"?"default":"large",f=r==="compact"?"small":"default",p=z.PANEL_TYPE_LEFT,_=z.PANEL_TYPE_RIGHT;let y=null;return o==="month"?y=this.renderPanel(p):y=g.createElement("div",{className:u},this.renderPanel(p),this.renderPanel(_)),g.createElement(g.Fragment,null,t?null:g.createElement("div",{className:l},g.createElement(xs,{noHorizontalPadding:!1,icon:g.createElement(P2,{"aria-hidden":!0,size:h}),size:f,onClick:this.backToMain},g.createElement("span",null,d))),s?g.createElement("div",{style:{display:"flex"}},s==="left"&&o!=="monthRange"&&i,g.createElement("div",null,a,y),s==="right"&&o!=="monthRange"&&i):g.createElement(g.Fragment,null,a,y))}}o_.propTypes={currentYear:c.object,currentMonth:c.object,onSelect:c.func,locale:c.object,localeCode:c.string,monthCycled:c.bool,yearCycled:c.bool,noBackBtn:c.bool,disabledDate:c.func,density:c.string,presetPosition:c.oneOf(z.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node,type:c.oneOf(z.TYPE_SET),startYear:c.number,endYear:c.number};o_.defaultProps={disabledDate:hf,monthCycled:!1,yearCycled:!1,noBackBtn:!1,onSelect:k,type:"month"};const Zr=fe.PREFIX;class wT extends we{constructor(e){super(e),this.cacheRefCurrent=(o,l)=>{typeof o=="string"&&o.length&&this.adapter.setCache(o,l)},this.leftIsYearOrTime=o=>{const{monthLeft:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.rightIsYearOrTime=o=>{const{monthRight:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.calcScrollListHeight=()=>{const o=this.adapter.getCache(`wrap-${z.PANEL_TYPE_LEFT}`),l=this.adapter.getCache(`wrap-${z.PANEL_TYPE_RIGHT}`),u=this.adapter.getCache(`switch-${z.PANEL_TYPE_LEFT}`),d=this.adapter.getCache(`switch-${z.PANEL_TYPE_RIGHT}`),h=o&&o.getBoundingClientRect(),f=l&&l.getBoundingClientRect();let p=h&&h.height||0,_=f&&f.height||0;return u&&(p+=u.getBoundingClientRect().height),d&&(_+=d.getBoundingClientRect().height),Math.max(p,_)},this.handleWeeksRowNumChange=(o,l)=>{const u=l===z.PANEL_TYPE_RIGHT,d=l===z.PANEL_TYPE_RIGHT,h=this.leftIsYearOrTime()&&this.rightIsYearOrTime();if(this.foundation.isRangeType()&&!h){const f={weeksRowNum:o,currentPanelHeight:this.calcScrollListHeight()};this.setState(f,()=>{(this.leftIsYearOrTime()&&d||this.rightIsYearOrTime()&&u)&&this.reselect()})}},this.reselect=()=>{[`timepicker-${z.PANEL_TYPE_LEFT}`,`timepicker-${z.PANEL_TYPE_RIGHT}`,`yam-${z.PANEL_TYPE_LEFT}`,`yam-${z.PANEL_TYPE_RIGHT}`].forEach(l=>{const u=this.adapter.getCache(l);u&&typeof u.reselect=="function"&&u.reselect()})},this.getYAMOpenType=()=>this.foundation.getYAMOpenType();const t=e.format||po(e.type),{nowDate:r,nextDate:s}=cj({defaultPickerValue:e.defaultPickerValue,format:t,dateFnsLocale:e.dateFnsLocale}),i={selected:new Set},a={monthLeft:{pickerDate:r,showDate:r,isTimePickerOpen:!1,isYearPickerOpen:!1},monthRight:{pickerDate:s,showDate:s,isTimePickerOpen:!1,isYearPickerOpen:!1},maxWeekNum:0,hoverDay:"",rangeStart:e.rangeStart,rangeEnd:"",currentPanelHeight:0,offsetRangeStart:"",offsetRangeEnd:""};this.state=Object.assign(Object.assign({},i),a),this.foundation=new spe(this.adapter)}get dateAdapter(){return{updateDaySelected:e=>this.setState({selected:e})}}get rangeAdapter(){return{setRangeStart:e=>this.setState({rangeStart:e}),setRangeEnd:e=>this.setState({rangeEnd:e}),setHoverDay:e=>this.setState({hoverDay:e}),setWeeksHeight:e=>this.setState({maxWeekNum:e}),setOffsetRangeStart:e=>this.setState({offsetRangeStart:e}),setOffsetRangeEnd:e=>this.setState({offsetRangeEnd:e})}}get adapter(){return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),this.dateAdapter),this.rangeAdapter),{updateMonthOnLeft:e=>this.setState({monthLeft:e}),updateMonthOnRight:e=>this.setState({monthRight:e}),notifySelectedChange:(e,t)=>this.props.onChange(e,t),notifyMaxLimit:e=>this.props.onMaxSelect(e),notifyPanelChange:(e,t)=>this.props.onPanelChange(e,t),setRangeInputFocus:e=>this.props.setRangeInputFocus(e),isAnotherPanelHasOpened:e=>this.props.isAnotherPanelHasOpened(e)})}componentDidMount(){super.componentDidMount()}componentDidUpdate(e,t){const{defaultValue:r,defaultPickerValue:s}=this.props;if(e.defaultValue!==r&&this.foundation.updateSelectedFromProps(r),e.defaultPickerValue!==s&&this.foundation.initDefaultPickerValue(),this.foundation.isRangeType()){const a=this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),o=this.leftIsYearOrTime(t)&&!this.rightIsYearOrTime(t)||!this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),l=this.leftIsYearOrTime()&&this.rightIsYearOrTime(),u=this.leftIsYearOrTime()&&!this.rightIsYearOrTime()||!this.leftIsYearOrTime()&&this.rightIsYearOrTime();o&&l?this.setState({currentPanelHeight:this.calcScrollListHeight()},this.reselect):a&&u&&this.reselect()}}renderPanel(e,t){let r=R(`${Zr}-month-grid-${t}`);const{monthLeft:s,monthRight:i,currentPanelHeight:a}=this.state,{insetInput:o}=this.props,l=t===z.PANEL_TYPE_RIGHT?i:s,{isTimePickerOpen:u,isYearPickerOpen:d}=l,h=this.renderMonth(e,t),f=d?g.createElement("div",{className:`${Zr}-yam`},this.renderYearAndMonth(t,l)):null,p=u?g.createElement("div",{className:`${Zr}-tpk`},this.renderTimePicker(t,l)):null,_={},y=this.adapter.getCache(`wrap-${z.PANEL_TYPE_LEFT}`),v=this.adapter.getCache(`wrap-${z.PANEL_TYPE_RIGHT}`),m=t===z.PANEL_TYPE_RIGHT?v:y;this.foundation.isRangeType()?((d||u)&&(_.minWidth=m.getBoundingClientRect().width),this.leftIsYearOrTime()&&this.rightIsYearOrTime()&&!o&&(_.minHeight=a||this.calcScrollListHeight())):this.props.type!=="year"&&this.props.type!=="month"&&(u||d)&&(r=R(r,`${Zr}-yam-showing`));const b=!(d||u)?"date":d?"year":"time";return g.createElement("div",{className:r,key:t,style:_,"x-open-type":b},f,p,this.foundation.isRangeType()?h:d||u?null:h,this.renderSwitch(t))}showYearPicker(e,t){t.nativeEvent.stopImmediatePropagation(),this.foundation.showYearPicker(e)}renderMonth(e,t){const{selected:r,rangeStart:s,rangeEnd:i,hoverDay:a,maxWeekNum:o,offsetRangeStart:l,offsetRangeEnd:u}=this.state,{weekStartsOn:d,disabledDate:h,locale:f,localeCode:p,renderDate:_,renderFullDate:y,startDateOffset:v,endDateOffset:m,density:w,rangeInputFocus:b,syncSwitchMonth:E,multiple:S}=this.props;let C="";if(e){const D=e?et(e,"yyyy"):"",$=e?et(e,"L"):"",M=f.months[$];C=f.monthText.replace("${year}",D).replace("${month}",M)}let O={};const I=t===z.PANEL_TYPE_RIGHT?this.state.monthRight:this.state.monthLeft,P=this.foundation.isRangeType(),x=P&&E;return P&&I&&(I.isYearPickerOpen||I.isTimePickerOpen)&&(O={visibility:"hidden",position:"absolute",pointerEvents:"none"}),g.createElement("div",{ref:D=>this.cacheRefCurrent(`wrap-${t}`,D),style:O},g.createElement(vT,{forwardRef:D=>this.cacheRefCurrent(`nav-${t}`,D),monthText:C,density:w,onMonthClick:D=>this.showYearPicker(t,D),onPrevMonth:()=>this.foundation.prevMonth(t),onNextMonth:()=>this.foundation.nextMonth(t),onNextYear:()=>this.foundation.nextYear(t),onPrevYear:()=>this.foundation.prevYear(t),shouldBimonthSwitch:x,panelType:t}),g.createElement(_T,{locale:f,localeCode:p,forwardRef:D=>this.cacheRefCurrent(`month-${t}`,D),disabledDate:h,weekStartsOn:d,month:e,selected:r,rangeStart:s,rangeEnd:i,rangeInputFocus:b,offsetRangeStart:l,offsetRangeEnd:u,hoverDay:a,weeksRowNum:o,renderDate:_,renderFullDate:y,onDayClick:D=>this.foundation.handleDayClick(D,t),onDayHover:D=>this.foundation.handleDayHover(D,t),onWeeksRowNumChange:D=>this.handleWeeksRowNumChange(D,t),startDateOffset:v,endDateOffset:m,focusRecordsRef:this.props.focusRecordsRef,multiple:S}))}renderTimePicker(e,t){const{type:r,locale:s,format:i,hideDisabledOptions:a,timePickerOpts:o,dateFnsLocale:l}=this.props,{pickerDate:u}=t,d=R(`${Zr}-time`),h=Object.assign(Object.assign({},o),{hideDisabledOptions:a}),f=this.foundation.calcDisabledTime(e);f&&["disabledHours","disabledMinutes","disabledSeconds"].forEach(b=>{f[b]&&(h[b]=f[b])});const{rangeStart:p,rangeEnd:_}=this.state,y=this.foundation.getValidDateFormat();let v,m;r==="dateTimeRange"&&p&&_&&B1(v=Bt(p,y,void 0,l),m=Bt(_,y,void 0,l))&&(e===z.PANEL_TYPE_RIGHT?p&&(h.startDate=v):_&&(h.endDate=m));const w=s.selectTime;return g.createElement("div",{className:d},g.createElement(wf,Object.assign({ref:b=>this.cacheRefCurrent(`timepicker-${e}`,b),panelHeader:w,format:i||z.FORMAT_TIME_PICKER,timeStampValue:u,onChange:b=>this.foundation.handleTimeChange(b,e)},h)))}renderYearAndMonth(e,t){const{pickerDate:r}=t,{locale:s,localeCode:i,density:a,yearAndMonthOpts:o,startYear:l,endYear:u}=this.props,d=r.getFullYear(),h=r.getMonth()+1;return g.createElement(o_,{ref:f=>this.cacheRefCurrent(`yam-${e}`,f),locale:s,localeCode:i,currentYear:{left:d,right:0},currentMonth:{left:h,right:0},onSelect:f=>this.foundation.toYearMonth(e,new Date(f.currentYear.left,f.currentMonth.left-1)),onBackToMain:()=>{this.foundation.showDatePanel(e);const f=this.adapter.getCache(`wrap-${e}`);f&&(f.style.height="auto")},density:a,yearAndMonthOpts:o,startYear:l,endYear:u})}renderSwitch(e){const{rangeStart:t,rangeEnd:r,monthLeft:s,monthRight:i}=this.state,{type:a,locale:o,disabledTimePicker:l,density:u,dateFnsLocale:d,insetInput:h}=this.props;if(!a.includes("Time")||h)return null;let f,p;const{FORMAT_SWITCH_DATE:_}=o.localeFormatToken,y=this.foundation.getValidTimeFormat(),v=this.foundation.getValidDateFormat();e===z.PANEL_TYPE_LEFT?(f=s,p=t?et(Bt(t,v,void 0,d),_):""):(f=i,p=r?et(Bt(r,v,void 0,d),_):"");const{isTimePickerOpen:m,showDate:w}=f,b=w?et(w,_):"",E=w?et(w,y):"",S=["default"].includes(u),C=R(`${Zr}-switch`),O=R({[`${Zr}-switch-date`]:!0,[`${Zr}-switch-date-active`]:!m}),I=R({[`${Zr}-switch-time`]:!0,[`${Zr}-switch-time-disabled`]:l,[`${Zr}-switch-date-active`]:m}),P=R(`${Zr}-switch-text`);return g.createElement("div",{className:C,ref:x=>this.adapter.setCache(`switch-${e}`,x)},g.createElement("div",{role:"button","aria-label":"Switch to date panel",className:O,onClick:x=>this.foundation.showDatePanel(e)},S&&g.createElement(I2,{"aria-hidden":!0}),g.createElement("span",{className:P},p||b)),g.createElement("div",{role:"button","aria-label":"Switch to time panel",className:I,onClick:x=>this.foundation.showTimePicker(e,!0)},S&&g.createElement(R2,{"aria-hidden":!0}),g.createElement("span",{className:P},E)))}render(){const{monthLeft:e,monthRight:t}=this.state,{type:r,insetInput:s,presetPosition:i,renderQuickControls:a,renderDateInput:o}=this.props,l=R({[`${Zr}-month-grid`]:!0}),u=z.PANEL_TYPE_LEFT,d=z.PANEL_TYPE_RIGHT;let h=null;r==="date"||r==="dateTime"?h=this.renderPanel(e.pickerDate,u):r==="dateRange"||r==="dateTimeRange"?h=[this.renderPanel(e.pickerDate,u),this.renderPanel(t.pickerDate,d)]:(r==="year"||r==="month")&&(h="year month");const f=this.getYAMOpenType();return g.createElement("div",{style:{display:"flex"}},i==="left"&&a,g.createElement("div",null,o,g.createElement("div",{className:l,"x-type":r,"x-panel-yearandmonth-open-type":f,"x-insetinput":s?"true":"false","x-preset-position":a===null?"null":i,ref:p=>this.cacheRefCurrent("monthGrid",p)},h)),i==="right"&&a)}}wT.propTypes={type:c.oneOf(z.TYPE_SET),defaultValue:c.array,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),multiple:c.bool,max:c.number,weekStartsOn:c.number,disabledDate:c.func,disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,navPrev:c.node,navNext:c.node,onMaxSelect:c.func,timePickerOpts:c.object,isControlledComponent:c.bool,rangeStart:c.oneOfType([c.string]),rangeInputFocus:c.oneOfType([c.bool,c.string]),locale:c.object,localeCode:c.string,format:c.string,renderDate:c.func,renderFullDate:c.func,startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,density:c.string,dateFnsLocale:c.object.isRequired,timeZone:c.oneOfType([c.string,c.number]),syncSwitchMonth:c.bool,onPanelChange:c.func,focusRecordsRef:c.object,triggerRender:c.func,presetPosition:c.oneOf(z.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node};wT.defaultProps={type:"date",rangeStart:"",multiple:!1,weekStartsOn:Bc.WEEK_START_ON,disabledDate:hf,onMaxSelect:k,locale:{}};const Fr=fe.PREFIX,{Text:zge}=$r;class ET extends T.PureComponent{render(){const{presets:e,onPresetClick:t,type:r,presetPosition:s,insetInput:i,locale:a}=this.props,o=r==="dateRange"||r==="dateTimeRange",l=s==="top"||s==="bottom",u=r==="month",d=l&&o,h=l&&u,f=R(`${Fr}-quick-control`,{[`${Fr}-quick-control-${r}`]:r,[`${Fr}-quick-control-${s}`]:!0}),p=R({[`${Fr}-quick-control-header`]:!0}),_=R({[`${Fr}-quick-control-${s}-content-wrapper`]:!0}),y=R({[`${Fr}-quick-control-${s}-content`]:!d&&!h,[`${Fr}-quick-control-${s}-range-content`]:d,[`${Fr}-quick-control-${s}-month-content`]:h}),v=R({[`${Fr}-quick-control-${s}-content-item`]:!d&&!h,[`${Fr}-quick-control-${s}-range-content-item`]:d,[`${Fr}-quick-control-${s}-month-content-item`]:h}),m=R({[`${Fr}-quick-control-${s}-content-item-ellipsis`]:!d&&!h,[`${Fr}-quick-control-${s}-range-content-item-ellipsis`]:d,[`${Fr}-quick-control-${s}-month-content-item-ellipsis`]:h});return e.length?g.createElement("div",{className:f,"x-insetinput":i?"true":"false"},!l&&g.createElement("div",{className:p},a.presets),g.createElement("div",{className:_},g.createElement("div",{className:y},e.map((w,b)=>{const E=typeof w=="function"?w():w;return g.createElement(xe,{size:"small",type:"primary",onClick:S=>t(E,S),key:b},g.createElement("div",{className:v},g.createElement(zge,{ellipsis:{showTooltip:!0},className:m},E.text)))})))):null}}ET.propTypes={presets:c.array,presetPosition:c.oneOf(z.PRESET_POSITION_SET),onPresetClick:c.func,type:c.string,insetInput:c.oneOfType([c.bool,c.object]),locale:c.object};ET.defaultProps={presets:[],presetPosition:"bottom",onPresetClick:mt};function Kge(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:e,locale:t,onCancelClick:r,onConfirmClick:s}=n,i=R(`${e}-footer`);return g.createElement("div",{className:i},g.createElement(xe,{theme:"borderless",onClick:r},K(t,"footer.cancel","")),g.createElement(xe,{theme:"solid",onClick:s},K(t,"footer.confirm","")))}var Wge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let zl=class extends we{constructor(e){var t;super(e),t=this,this.setTriggerRef=r=>this.triggerElRef.current=r,this.handleSelectedChange=(r,s)=>this.foundation.handleSelectedChange(r,s),this.handleYMSelectedChange=r=>this.foundation.handleYMSelectedChange(r),this.disabledDisposeDate=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return t.foundation.disabledDisposeDate(r,...i)},this.disabledDisposeTime=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return t.foundation.disabledDisposeTime(r,...i)},this.handleOpenPanel=()=>this.foundation.openPanel(),this.handleInputChange=function(){return t.foundation.handleInputChange(...arguments)},this.handleInsetInputChange=r=>this.foundation.handleInsetInputChange(r),this.handleInputComplete=r=>this.foundation.handleInputComplete(r),this.handleInputBlur=r=>this.foundation.handleInputBlur(K(r,"nativeEvent.target.value"),r),this.handleInputFocus=function(){return t.foundation.handleInputFocus(...arguments)},this.handleInputClear=r=>this.foundation.handleInputClear(r),this.handleTriggerWrapperClick=r=>this.foundation.handleTriggerWrapperClick(r),this.handleSetRangeFocus=r=>this.foundation.handleSetRangeFocus(r),this.handleRangeInputBlur=(r,s)=>this.foundation.handleRangeInputBlur(r,s),this.handleRangeInputClear=r=>this.foundation.handleRangeInputClear(r),this.handleRangeEndTabPress=r=>this.foundation.handleRangeEndTabPress(r),this.isAnotherPanelHasOpened=r=>r==="rangeStart"?this.focusRecordsRef.current.rangeEnd:this.focusRecordsRef.current.rangeStart,this.handleInsetDateFocus=(r,s)=>{const i=K(this,"monthGrid.current.foundation");i&&(i.showDatePanel(z.PANEL_TYPE_LEFT),i.showDatePanel(z.PANEL_TYPE_RIGHT)),this.handleInputFocus(r,s)},this.handleInsetTimeFocus=()=>{const r=K(this,"monthGrid.current.foundation");r&&(r.showTimePicker(z.PANEL_TYPE_LEFT),r.showTimePicker(z.PANEL_TYPE_RIGHT))},this.handlePanelVisibleChange=r=>{this.foundation.handlePanelVisibleChange(r)},this.handleConfirm=r=>this.foundation.handleConfirm(),this.handleCancel=r=>this.foundation.handleCancel(),this.renderFooter=(r,s)=>this.adapter.needConfirm()?g.createElement(Kge,Object.assign({},this.props,{locale:r,localeCode:s,onConfirmClick:this.handleConfirm,onCancelClick:this.handleCancel})):null,this.renderPanel=(r,s,i)=>{const{dropdownClassName:a,dropdownStyle:o,density:l,topSlot:u,bottomSlot:d,presetPosition:h,type:f,leftSlot:p,rightSlot:_}=this.props,y=R(fe.PREFIX,{[fe.PANEL_YAM]:this.adapter.typeIsYearOrMonth(),[`${fe.PREFIX}-compact`]:l==="compact"},a);return g.createElement("div",{ref:this.panelRef,className:y,style:o,"x-type":f},g.createElement("div",{className:`${fe.PREFIX}-container`},p&&g.createElement("div",{className:`${fe.PREFIX}-leftSlot`,"x-semi-prop":"leftSlot"},p),g.createElement("div",null,u&&g.createElement("div",{className:`${fe.PREFIX}-topSlot`,"x-semi-prop":"topSlot"},u),h==="top"&&f!=="monthRange"&&this.renderQuickControls(),this.adapter.typeIsYearOrMonth()?this.renderYearMonthPanel(r,s):this.renderMonthGrid(r,s,i),h==="bottom"&&f!=="monthRange"&&this.renderQuickControls(),d&&g.createElement("div",{className:`${fe.PREFIX}-bottomSlot`,"x-semi-prop":"bottomSlot"},d)),_&&g.createElement("div",{className:`${fe.PREFIX}-rightSlot`,"x-semi-prop":"rightSlot"},_)),this.renderFooter(r,s))},this.renderYearMonthPanel=(r,s)=>{const{density:i,presetPosition:a,yearAndMonthOpts:o,type:l,startYear:u,endYear:d}=this.props,h=this.state.value[0],f={left:0,right:0},p={left:0,right:0};if(NR(h)&&(f.left=h.getFullYear(),p.left=h.getMonth()+1),l==="monthRange"){const _=this.state.value[1];NR(_)&&(f.right=_.getFullYear(),p.right=_.getMonth()+1)}return g.createElement(o_,{locale:r,localeCode:s,disabledDate:this.disabledDisposeDate,noBackBtn:!0,monthCycled:!0,onSelect:this.handleYMSelectedChange,currentYear:f,currentMonth:p,density:i,presetPosition:a,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),type:l,yearAndMonthOpts:o,startYear:u,endYear:d})},this.wrapPopover=r=>{const{panelShow:s}=this.state,{direction:i}=this.context,a=i==="rtl"?"bottomRight":"bottomLeft",{motion:o,zIndex:l,position:u=a,getPopupContainer:d,locale:h,localeCode:f,dateFnsLocale:p,stopPropagation:_,autoAdjustOverflow:y,spacing:v,dropdownMargin:m}=this.props;return g.createElement(vr,{getPopupContainer:d,autoAdjustOverflow:y,zIndex:l,motion:o,margin:m,content:this.renderPanel(h,f,p),trigger:"custom",position:u,visible:s,stopPropagation:_,spacing:v,onVisibleChange:this.handlePanelVisibleChange},r)},this.state={panelShow:e.open||e.defaultOpen,isRange:!1,inputValue:null,value:[],cachedSelectedValue:[],prevTimeZone:null,rangeInputFocus:void 0,autofocus:e.autoFocus||this.isRangeType(e.type,e.triggerRender)&&(e.open||e.defaultOpen),insetInputValue:null,triggerDisabled:void 0},this.triggerElRef=g.createRef(),this.panelRef=g.createRef(),this.monthGrid=g.createRef(),this.inputRef=g.createRef(),this.rangeInputStartRef=g.createRef(),this.rangeInputEndRef=g.createRef(),this.focusRecordsRef=g.createRef(),this.focusRecordsRef.current={rangeStart:!1,rangeEnd:!1},this.foundation=new vfe(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:(t,r)=>{this.setState({panelShow:t},r),t||(this.focusRecordsRef.current.rangeEnd=!1,this.focusRecordsRef.current.rangeStart=!1)},registerClickOutSide:()=>{this.clickOutSideHandler&&(this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=null),this.clickOutSideHandler=t=>{const r=this.triggerElRef&&this.triggerElRef.current,s=this.panelRef&&this.panelRef.current,i=t.target,a=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(a.includes(r)||a.includes(s))&&(this.props.onClickOutSide(t),this.adapter.needConfirm()||this.foundation.closePanel())},document.addEventListener("mousedown",this.clickOutSideHandler)},unregisterClickOutSide:()=>{document.removeEventListener("mousedown",this.clickOutSideHandler)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyCancel:function(){return e.props.onCancel(...arguments)},notifyConfirm:function(){return e.props.onConfirm(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyPresetsClick:function(){return e.props.onPresetClick(...arguments)},updateValue:t=>this.setState({value:t}),updatePrevTimezone:t=>this.setState({prevTimeZone:t}),updateCachedSelectedValue:t=>{let r=t;t&&!Array.isArray(t)&&(r=[...t]),this.setState({cachedSelectedValue:r})},updateInputValue:t=>{this.setState({inputValue:t})},updateInsetInputValue:t=>{const{insetInput:r}=this.props;r&&!ke(t,this.state.insetInputValue)&&this.setState({insetInputValue:t})},needConfirm:()=>["dateTime","dateTimeRange"].includes(this.props.type)&&this.props.needConfirm===!0,typeIsYearOrMonth:()=>["month","year","monthRange"].includes(this.props.type),setRangeInputFocus:t=>{const{preventScroll:r}=this.props;switch(t!==this.state.rangeInputFocus&&this.setState({rangeInputFocus:t}),t){case"rangeStart":const s=K(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeStart=!0},0);break;case"rangeEnd":const i=K(this,"rangeInputEndRef.current");i&&i.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeEnd=!0},0);break;default:return}},couldPanelClosed:()=>this.focusRecordsRef.current.rangeStart&&this.focusRecordsRef.current.rangeEnd,isEventTarget:t=>t&&t.target===t.currentTarget,setInsetInputFocus:()=>{const{preventScroll:t}=this.props,{rangeInputFocus:r}=this.state;switch(r){case"rangeEnd":if(document.activeElement!==this.rangeInputEndRef.current){const s=K(this,"rangeInputEndRef.current");s&&s.focus({preventScroll:t})}break;case"rangeStart":default:if(document.activeElement!==this.rangeInputStartRef.current){const s=K(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:t})}break}},setInputFocus:()=>{const{preventScroll:t}=this.props,r=K(this,"inputRef.current");r&&r.focus({preventScroll:t})},setInputBlur:()=>{const t=K(this,"inputRef.current");t&&t.blur()},setRangeInputBlur:()=>{const{rangeInputFocus:t}=this.state;if(t==="rangeStart"){const r=K(this,"rangeInputStartRef.current");r&&r.blur()}else if(t==="rangeEnd"){const r=K(this,"rangeInputEndRef.current");r&&r.blur()}this.adapter.setRangeInputFocus(!1)},setTriggerDisabled:t=>{this.setState({triggerDisabled:t})}})}isRangeType(e,t){return/range/i.test(e)&&!Te(t)}componentDidUpdate(e){ke(e.value,this.props.value)?this.props.timeZone!==e.timeZone&&this.foundation.initFromProps({value:this.state.value,timeZone:this.props.timeZone,prevTimeZone:e.timeZone}):this.foundation.initFromProps(Object.assign({},this.props)),e.open!==this.props.open&&(this.foundation.initPanelOpenStatus(),this.props.open||this.foundation.clearRangeInputFocus())}componentDidMount(){this._mounted=!0,super.componentDidMount()}componentWillUnmount(){this._mounted=!1,super.componentWillUnmount()}open(){this.foundation.open()}close(){this.foundation.close()}focus(e){this.foundation.focus(e)}blur(){this.foundation.blur()}renderMonthGrid(e,t,r){const{type:s,multiple:i,max:a,weekStartsOn:o,timePickerOpts:l,defaultPickerValue:u,format:d,hideDisabledOptions:h,disabledTimePicker:f,renderDate:p,renderFullDate:_,startDateOffset:y,endDateOffset:v,autoSwitchDate:m,density:w,syncSwitchMonth:b,onPanelChange:E,timeZone:S,triggerRender:C,insetInput:O,presetPosition:I,yearAndMonthOpts:P,startYear:x,endYear:D}=this.props,{cachedSelectedValue:$,rangeInputFocus:M}=this.state,V=$;return g.createElement(wT,{ref:this.monthGrid,locale:e,localeCode:t,dateFnsLocale:r,weekStartsOn:o,type:s,multiple:i,max:a,format:d,disabledDate:this.disabledDisposeDate,hideDisabledOptions:h,disabledTimePicker:f,disabledTime:this.disabledDisposeTime,defaultValue:V,defaultPickerValue:u,timePickerOpts:l,isControlledComponent:!this.adapter.needConfirm()&&this.isControlled("value"),onChange:this.handleSelectedChange,renderDate:p,renderFullDate:_,startDateOffset:y,endDateOffset:v,autoSwitchDate:m,density:w,rangeInputFocus:M,setRangeInputFocus:this.handleSetRangeFocus,isAnotherPanelHasOpened:this.isAnotherPanelHasOpened,syncSwitchMonth:b,onPanelChange:E,timeZone:S,focusRecordsRef:this.focusRecordsRef,triggerRender:C,insetInput:O,presetPosition:I,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),yearAndMonthOpts:P,startYear:x,endYear:D})}renderQuickControls(){const{presets:e,type:t,presetPosition:r,insetInput:s,locale:i}=this.props;return g.createElement(ET,{type:t,presets:e,insetInput:s,presetPosition:r,onPresetClick:(a,o)=>this.foundation.handlePresetClick(a,o),locale:i})}renderDateInput(){const{insetInput:e,dateFnsLocale:t,density:r,type:s,format:i,rangeSeparator:a,defaultPickerValue:o}=this.props,{insetInputValue:l,value:u}=this.state,d={dateFnsLocale:t,format:i,insetInputValue:l,rangeSeparator:a,type:s,value:u,handleInsetDateFocus:this.handleInsetDateFocus,handleInsetTimeFocus:this.handleInsetTimeFocus,onInsetInputChange:this.handleInsetInputChange,rangeInputStartRef:this.rangeInputStartRef,rangeInputEndRef:this.rangeInputEndRef,density:r,defaultPickerValue:o};return e?g.createElement(Iy,Object.assign({},d,{insetInput:e})):null}renderInner(e){const{clearIcon:t,type:r,format:s,multiple:i,disabled:a,showClear:o,insetLabel:l,insetLabelId:u,placeholder:d,validateStatus:h,inputStyle:f,prefix:p,locale:_,dateFnsLocale:y,triggerRender:v,size:m,inputReadOnly:w,rangeSeparator:b,insetInput:E,defaultPickerValue:S,borderless:C}=this.props,{value:O,inputValue:I,rangeInputFocus:P,triggerDisabled:x}=this.state,D=this.isRangeType(r,v),$=a||E&&x,M=R(`${fe.PREFIX}-input`,{[`${fe.PREFIX}-range-input`]:D,[`${fe.PREFIX}-range-input-${m}`]:D&&m,[`${fe.PREFIX}-range-input-active`]:D&&P&&!$,[`${fe.PREFIX}-range-input-disabled`]:D&&$,[`${fe.PREFIX}-range-input-${h}`]:D&&h,[`${fe.PREFIX}-borderless`]:C}),V=d||_.placeholder[r],B=Object.assign(Object.assign({},e),{showClearIgnoreDisabled:!!E,placeholder:V,clearIcon:t,disabled:$,inputValue:I,value:O,defaultPickerValue:S,onChange:this.handleInputChange,onEnterPress:this.handleInputComplete,block:!0,inputStyle:f,showClear:o,insetLabel:l,insetLabelId:u,type:r,format:s,multiple:i,validateStatus:h,inputReadOnly:w||!!E,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onClear:this.handleInputClear,prefix:p,size:m,autofocus:this.state.autofocus,dateFnsLocale:y,rangeInputFocus:P,rangeSeparator:b,onRangeBlur:this.handleRangeInputBlur,onRangeClear:this.handleRangeInputClear,onRangeEndTabPress:this.handleRangeEndTabPress,rangeInputStartRef:E?null:this.rangeInputStartRef,rangeInputEndRef:E?null:this.rangeInputEndRef,inputRef:this.inputRef});return g.createElement("div",{role:"combobox","aria-label":Array.isArray(O)&&O.length?"Change date":"Choose date","aria-disabled":a,onClick:this.handleTriggerWrapperClick,className:M},typeof v=="function"?g.createElement(hu,Object.assign({},B,{triggerRender:v,componentName:"DatePicker",componentProps:Object.assign({},this.props)})):g.createElement(Iy,Object.assign({},B)))}render(){const e=this.props,{style:t,className:r,prefixCls:s,type:i}=e,a=Wge(e,["style","className","prefixCls","type"]),o=Object.assign({style:t,className:R(r,{[s]:!0}),ref:this.setTriggerRef,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(a)),l=[];i.toLowerCase().includes("range")||l.push("borderless");const u=this.renderInner(Hl(this.props,l)),d=this.wrapPopover(u);return g.createElement("div",Object.assign({},o),d)}};zl.contextType=Nr;zl.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,type:c.oneOf(z.TYPE_SET),size:c.oneOf(z.SIZE_SET),clearIcon:c.node,density:c.oneOf(z.DENSITY_SET),defaultValue:c.oneOfType([c.string,c.number,c.object,c.array]),value:c.oneOfType([c.string,c.number,c.object,c.array]),defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,format:c.string,disabled:c.bool,multiple:c.bool,max:c.number,placeholder:c.oneOfType([c.string,c.array]),presets:c.array,presetPosition:c.oneOf(z.PRESET_POSITION_SET),onChange:c.func,onChangeWithDateFirst:c.bool,weekStartsOn:c.number,disabledDate:c.func,timePickerOpts:c.object,showClear:c.bool,onOpenChange:c.func,open:c.bool,defaultOpen:c.bool,motion:c.oneOfType([c.bool,c.func,c.object]),className:c.string,prefixCls:c.string,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,position:c.oneOf(Pl.POSITION_SET),getPopupContainer:c.func,onCancel:c.func,onConfirm:c.func,needConfirm:c.bool,inputStyle:c.object,timeZone:c.oneOfType([c.string,c.number]),triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),autoAdjustOverflow:c.bool,onBlur:c.func,onFocus:c.func,onClear:c.func,style:c.object,autoFocus:c.bool,inputReadOnly:c.bool,validateStatus:c.oneOf(z.STATUS),renderDate:c.func,renderFullDate:c.func,spacing:c.oneOfType([c.number,c.object]),startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),topSlot:c.node,bottomSlot:c.node,dateFnsLocale:c.object,syncSwitchMonth:c.bool,onPanelChange:c.func,rangeSeparator:c.string,preventScroll:c.bool,yearAndMonthOpts:c.object,onClickOutSide:c.func};zl.__SemiComponentName__="DatePicker";zl.defaultProps=hs(zl.__SemiComponentName__,{onChangeWithDateFirst:!0,borderless:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,prefixCls:fe.PREFIX,presetPosition:"bottom",zIndex:as.DEFAULT_Z_INDEX,type:"date",size:"default",density:"default",multiple:!1,defaultOpen:!1,disabledHours:k,disabledMinutes:k,disabledSeconds:k,hideDisabledOptions:!1,onBlur:k,onFocus:k,onClear:k,onCancel:k,onConfirm:k,onChange:k,onOpenChange:k,onPanelChange:k,onPresetClick:k,weekStartsOn:Bc.WEEK_START_ON,disabledDate:hf,disabledTime:hf,inputReadOnly:!1,spacing:Bc.SPACING,autoSwitchDate:!0,syncSwitchMonth:!1,rangeSeparator:z.DEFAULT_SEPARATOR_RANGE,insetInput:!1,onClickOutSide:k});const Gge=GF(g.forwardRef((n,e)=>{const t=Object.assign({},n),{type:r,format:s,rangeSeparator:i}=t;return typeof s=="string"&&s&&(/[Hhms]+/.test(s)||(r==="dateTime"?t.type="date":r==="dateTimeRange"&&(t.type="dateRange"))),i&&typeof i=="string"&&(t.rangeSeparator=` ${i.trim()} `),t.insetInput&&(t.position||(t.position=z.POSITION_INLINE_INPUT),t.position.includes("Over")&&!t.spacing&&(t.spacing=Bc.SPACING_INSET_INPUT)),g.createElement(Nr.Consumer,null,a=>{let{timeZone:o}=a;return g.createElement(dn,{componentName:"DatePicker"},(l,u,d)=>g.createElement(zl,Object.assign({timeZone:o,localeCode:u,locale:l,dateFnsLocale:d},t,{ref:e})))})}),zl),rt={DIALOG:`${Y}-modal`},XR={SIZE:["small","medium","large","full-width"],directions:["ltr","rtl"]};function Yge(n){return n!==null&&typeof n=="object"}function Ef(n){return Yge(n)&&typeof n.then=="function"}class qge extends Pe{constructor(e){super(Object.assign({},e)),this.toggleDisplayNone=(t,r)=>{this._adapter.toggleDisplayNone(t,r)}}destroy(){this.afterHide()}handleCancel(e){var t;const r=this._adapter.notifyCancel(e);Ef(r)&&(this._adapter.setState({onCancelReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onCancelReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(s=>{throw this._adapter.setState({onCancelReturnPromiseStatus:"rejected"}),s}))}handleOk(e){var t;const r=this._adapter.notifyOk(e);Ef(r)&&(this._adapter.setState({onOKReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onOKReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(s=>{throw this._adapter.setState({onOKReturnPromiseStatus:"rejected"}),s}))}beforeShow(){this._adapter.disabledBodyScroll()}afterHide(){this._adapter.enabledBodyScroll(),this._adapter.notifyClose()}enabledBodyScroll(){this._adapter.enabledBodyScroll()}}class ST extends Pe{constructor(e){super(Object.assign(Object.assign({},ST.defaultAdapter),e)),this.handleKeyDown=t=>{const{closeOnEsc:r}=this.getProps();if(r&&t.keyCode===Nn.ESC){t.stopPropagation(),this.close(t);return}}}destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){const{dialogMouseDown:t}=this.getStates();e.target===e.currentTarget&&!t&&this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}}var Xge=tF,Qge=x1,Zge=I1,Jge=Qge(function(n,e){return Zge(n)?Xge(n,e):[]}),eme=Jge;const tme=ge(eme);class go{constructor(e,t){var r;this.addFocusRedirectListener=s=>(this.focusRedirectListenerList.push(s),()=>this.removeFocusRedirectListener(s)),this.removeFocusRedirectListener=s=>{this.focusRedirectListenerList=tme(this.focusRedirectListenerList,s)},this.destroy=()=>{var s;(s=this.container)===null||s===void 0||s.removeEventListener("keydown",this.onKeyPress)},this.shouldFocusRedirect=s=>{if(!this.enable)return!1;for(const i of this.focusRedirectListenerList)if(!i(s))return!1;return!0},this.focusElement=(s,i)=>{const{preventScroll:a}=this.options;s==null||s.focus({preventScroll:a}),i.preventDefault()},this.onKeyPress=s=>{if(s&&s.key==="Tab"){const i=go.getFocusableElements(this.container);i.length&&(s.shiftKey?this.handleContainerShiftTabKeyDown(i,s):this.handleContainerTabKeyDown(i,s))}},this.handleContainerTabKeyDown=(s,i)=>{const a=go.getActiveElement(),o=s[s.length-1]===a,l=s[0];o&&this.shouldFocusRedirect(l)&&this.focusElement(l,i)},this.handleContainerShiftTabKeyDown=(s,i)=>{const a=go.getActiveElement(),o=s[0]===a,l=s[s.length-1];o&&this.shouldFocusRedirect(l)&&this.focusElement(l,i)},Object.freeze(t),this.container=e,this.options=t,this.enable=(r=t==null?void 0:t.enable)!==null&&r!==void 0?r:!0,this.focusRedirectListenerList=t!=null&&t.onFocusRedirectListener?Array.isArray(t.onFocusRedirectListener)?[...t.onFocusRedirectListener]:[t.onFocusRedirectListener]:[],this.container.addEventListener("keydown",this.onKeyPress)}get enable(){return this._enable}set enable(e){this._enable=e}static getFocusableElements(e){if(!ze(e))return[];const r=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(r))}static getActiveElement(){return document?document.activeElement:null}}var p0=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let nme=0;class l_ extends we{constructor(e){super(e),this.onKeyDown=t=>{this.foundation.handleKeyDown(t)},this.onDialogMouseDown=()=>{this.foundation.handleDialogMouseDown()},this.onMaskMouseUp=()=>{this.foundation.handleMaskMouseUp()},this.onMaskClick=t=>{this.foundation.handleMaskClick(t)},this.close=t=>{this.foundation.close(t)},this.getMaskElement=()=>{const t=p0(this.props,[]),{mask:r,maskClassName:s}=t;if(r){const i=R(`${rt.DIALOG}-mask`,{});return g.createElement("div",Object.assign({key:"mask"},this.props.maskExtraProps,{className:R(i,s),style:t.maskStyle}))}return null},this.renderCloseBtn=()=>{const{closable:t,closeIcon:r}=this.props;let s;if(t){const i=r||g.createElement(Bv,{"x-semi-prop":"closeIcon"});s=g.createElement(xs,{"aria-label":"close",className:`${rt.DIALOG}-close`,key:"close-btn",onClick:this.close,type:"tertiary",icon:i,theme:"borderless",size:"small"})}return s},this.renderIcon=()=>{const{icon:t}=this.props;return t?g.createElement("span",{className:`${rt.DIALOG}-icon-wrapper`,"x-semi-prop":"icon"},t):null},this.renderHeader=()=>{if("header"in this.props)return this.props.header;const{title:t}=this.props,r=this.renderCloseBtn(),s=this.renderIcon();return t==null?null:g.createElement("div",{className:`${rt.DIALOG}-header`},s,g.createElement($r.Title,{heading:5,className:`${rt.DIALOG}-title`,id:`${rt.DIALOG}-title`,"x-semi-prop":"title"},t),r)},this.renderBody=()=>{const{bodyStyle:t,children:r,title:s}=this.props,i=R(`${rt.DIALOG}-body`,{[`${rt.DIALOG}-withIcon`]:this.props.icon}),a=this.renderCloseBtn(),o=this.renderIcon();return s!=null||"header"in this.props?g.createElement("div",{className:i,id:`${rt.DIALOG}-body`,style:t,"x-semi-prop":"children"},r):g.createElement("div",{className:`${rt.DIALOG}-body-wrapper`},o,g.createElement("div",{className:i,style:t,"x-semi-prop":"children"},r),a)},this.getDialogElement=()=>{const t=p0(this.props,[]),r={},s=R(`${rt.DIALOG}`,{[`${rt.DIALOG}-centered`]:t.centered,[`${rt.DIALOG}-${t.size}`]:t.size});t.width&&(r.width=t.width),t.height&&(r.height=t.height),t.isFullScreen&&(r.width="100%",r.height="100%",r.margin="unset");const i=this.renderBody(),a=this.renderHeader(),o=t.footer?g.createElement("div",{className:`${rt.DIALOG}-footer`,"x-semi-prop":"footer"},t.footer):null;return g.createElement("div",{key:"dialog-element",className:s,onMouseDown:this.onDialogMouseDown,style:Object.assign(Object.assign({},t.style),r),id:this.dialogId},g.createElement("div",{role:"dialog",ref:this.modalDialogRef,"aria-modal":"true","aria-labelledby":`${rt.DIALOG}-title`,"aria-describedby":`${rt.DIALOG}-body`,onAnimationEnd:t.onAnimationEnd,className:R([`${rt.DIALOG}-content`,t.contentClassName,{[`${rt.DIALOG}-content-fullScreen`]:t.isFullScreen}])},a,i,o))},this.state={dialogMouseDown:!1,prevFocusElement:go.getActiveElement()},this.foundation=new ST(this.adapter),this.dialogId=`dialog-${nme++}`,this.modalDialogRef=g.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyClose:e=>{this.props.onClose(e)},notifyDialogMouseDown:()=>{this.setState({dialogMouseDown:!0})},notifyDialogMouseUp:()=>{this.state.dialogMouseDown&&(this.timeoutId=setTimeout(()=>{this.setState({dialogMouseDown:!1})},0))},addKeyDownEventListener:()=>{this.props.closeOnEsc&&document.addEventListener("keydown",this.foundation.handleKeyDown)},removeKeyDownEventListener:()=>{this.props.closeOnEsc&&document.removeEventListener("keydown",this.foundation.handleKeyDown)},getMouseState:()=>this.state.dialogMouseDown,modalDialogFocus:()=>{var e,t,r;const{preventScroll:s}=this.props;let i;if(this.modalDialogRef){const a=go.getActiveElement();i=this.modalDialogRef.current.contains(a),(e=this.focusTrapHandle)===null||e===void 0||e.destroy(),this.focusTrapHandle=new go(this.modalDialogRef.current,{preventScroll:s})}i||(r=(t=this.modalDialogRef)===null||t===void 0?void 0:t.current)===null||r===void 0||r.focus({preventScroll:s})},modalDialogBlur:()=>{var e,t;(e=this.modalDialogRef)===null||e===void 0||e.current.blur(),(t=this.focusTrapHandle)===null||t===void 0||t.destroy()},prevFocusElementReFocus:()=>{const{prevFocusElement:e}=this.state,{preventScroll:t}=this.props,r=K(e,"focus");Te(r)&&e.focus({preventScroll:t})}})}componentDidMount(){var e;this.foundation.handleKeyDownEventListenerMount(),this.foundation.modalDialogFocus();const t=go.getFocusableElements(this.modalDialogRef.current);this.modalDialogRef.current.contains(document.activeElement)||(e=t[0])===null||e===void 0||e.focus()}componentWillUnmount(){clearTimeout(this.timeoutId),this.foundation.destroy()}render(){var e;const t=this.props,{maskClosable:r,className:s,getPopupContainer:i,maskFixed:a,getContainerContext:o}=t,l=p0(t,["maskClosable","className","getPopupContainer","maskFixed","getContainerContext"]),{direction:u}=this.context,d=R(s,{[`${rt.DIALOG}-popup`]:i&&i()!==((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body)&&!a,[`${rt.DIALOG}-fixed`]:a,[`${rt.DIALOG}-rtl`]:u==="rtl"}),h=o(),f=this.getDataAttr(l),p=g.createElement("div",Object.assign({className:d},f),this.getMaskElement(),g.createElement("div",Object.assign({role:"none",className:R({[`${rt.DIALOG}-wrap`]:!0,[`${rt.DIALOG}-wrap-center`]:this.props.centered}),onClick:r?this.onMaskClick:null,onMouseUp:r?this.onMaskMouseUp:null},this.props.contentExtraProps),this.getDialogElement()));return h&&h.Provider?g.createElement(h.Provider,{value:h.value},p):p}}l_.contextType=Nr;l_.propTypes={close:c.func,getContainerContext:c.func,contentClassName:c.string,maskClassName:c.string,onAnimationEnd:c.func,preventScroll:c.bool};l_.defaultProps={close:k,getContainerContext:k,contentClassName:"",maskClassName:""};var rme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Oj=n=>{const[e,t]=T.useState(!0),[r,s]=T.useState(),[i,a]=T.useState(),{direction:o}=n,{title:l,content:u,icon:d,type:h,onCancel:f,onOk:p,className:_}=n,y=rme(n,["title","content","icon","type","onCancel","onOk","className"]),v=T.useCallback(I=>{const P=p&&p(I);P&&P.then?(s(!0),P.then(function(){t(!1),s(!1)},x=>{s(!1)})):t(!1)},[p]),m=T.useCallback(I=>{const P=f&&f(I);P&&P.then?(a(!0),P.then(function(){t(!1),a(!1)},x=>{a(!1)})):t(!1)},[f]),w=`${rt.DIALOG}-confirm`,b=R(_,w,{[`${w}-rtl`]:o==="rtl"}),E=R(`${rt.DIALOG}-${h}`),S=hr(d)?g.cloneElement(d,{className:`${w}-icon ${E}-icon`,size:"extra-large"}):d,C=l==null?null:g.createElement("span",{className:`${w}-title-text`},l),O=R(`${w}-content`,{[`${w}-content-withIcon`]:n.icon});return g.createElement(os,Object.assign({className:b,title:C,confirmLoading:r,cancelLoading:i,onOk:v,onCancel:m,icon:S,visible:e},y),g.createElement("div",{className:O,"x-semi-prop":"content"},u))};function xp(n){const e=document.createElement("div");document.body.appendChild(e);let t=Object.assign({},n);const r=()=>{xr.unmountComponentAtNode(e)&&e.parentNode&&e.parentNode.removeChild(e);for(let l=0;l<ml.length;l++)if(ml[l]===i){ml.splice(l,1);break}};function s(o){const{afterClose:l}=o;xr.render(g.createElement(Oj,Object.assign({},o,{afterClose:function(){l==null||l(...arguments),r()},motion:n.motion})),e)}function i(){t=Object.assign(Object.assign({},t),{visible:!1}),s(t)}function a(o){t=Object.assign(Object.assign({},t),o),s(t)}return s(t),ml.push(i),{destroy:i,update:a}}function Ij(n){return Object.assign({type:"info",icon:g.createElement(A2,null)},n)}function Pj(n){return Object.assign({type:"success",icon:g.createElement(k2,null)},n)}function xj(n){return Object.assign({type:"warning",icon:g.createElement(G1,null)},n)}function Rj(n){return Object.assign({type:"error",icon:g.createElement(pf,null),okButtonProps:Object.assign({type:"danger"},n.okButtonProps)},zo(n,["okButtonProps"]))}function Aj(n){return Object.assign({type:"confirm",icon:g.createElement(Hie,null)},n)}var sme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ime=(n,e)=>{var{afterClose:t,config:r}=n;sme(n,["afterClose","config"]);const[s,i]=g.useState(r);g.useImperativeHandle(e,()=>({destroy:()=>{i(o=>Object.assign(Object.assign({},o),{visible:!1}))},update:o=>{i(l=>Object.assign(Object.assign({},l),o))}}));const a=()=>{var o;(o=r==null?void 0:r.afterClose)===null||o===void 0||o.call(r),t()};return g.createElement(Oj,Object.assign({},s,{afterClose:a}))},ame=g.forwardRef(ime);let QR=0;function ome(){const[n,e]=g.useState([]);function t(r){return e(s=>[...s,r]),()=>{e(s=>s.filter(i=>i!==r))}}return[n,t]}function lme(){const[n,e]=ome();function t(r){return function(i){QR+=1;const a=g.createRef();let o;const l=g.createElement(ame,{key:`semi-modal-${QR}`,config:r(i),ref:a,afterClose:()=>{o()}});return o=e(l),{destroy:()=>{a.current&&a.current.destroy()},update:u=>{a.current&&a.current.update(u)}}}}return[{info:t(Ij),success:t(Pj),error:t(Rj),warning:t(xj),confirm:t(Aj)},g.createElement(g.Fragment,null,n)]}var ume=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let ml=[];class os extends we{constructor(e){super(e),this.bodyOverflow=null,this.handleCancel=t=>{this.foundation.handleCancel(t)},this.handleOk=t=>{this.foundation.handleOk(t)},this.updateState=()=>{const{visible:t}=this.props;this.foundation.toggleDisplayNone(!t)},this.renderFooter=()=>{const{okText:t,okType:r,cancelText:s,confirmLoading:i,cancelLoading:a,hasCancel:o,footerFill:l}=this.props,u=d=>{var h;return o?g.createElement(xe,Object.assign({"aria-label":"cancel",onClick:this.handleCancel,loading:a===void 0?this.state.onCancelReturnPromiseStatus==="pending":a,type:"tertiary",block:l,autoFocus:!0},this.props.cancelButtonProps,{style:Object.assign(Object.assign({},l?{marginLeft:"unset"}:{}),(h=this.props.cancelButtonProps)===null||h===void 0?void 0:h.style),"x-semi-children-alias":"cancelText"}),s||d.cancel):null};return g.createElement(dn,{componentName:"Modal"},(d,h)=>g.createElement("div",{className:R({[`${rt.DIALOG}-footerfill`]:l})},u(d),g.createElement(xe,Object.assign({"aria-label":"confirm",type:r,theme:"solid",block:l,loading:i===void 0?this.state.onOKReturnPromiseStatus==="pending":i,onClick:this.handleOk},this.props.okButtonProps,{"x-semi-children-alias":"okText"}),t||d.confirm)))},this.renderDialog=()=>{var t;let r=this.props,{footer:s,className:i,motion:a,maskStyle:o,keepDOM:l,style:u,zIndex:d,getPopupContainer:h,visible:f,modalContentClass:p}=r,_=ume(r,["footer","className","motion","maskStyle","keepDOM","style","zIndex","getPopupContainer","visible","modalContentClass"]),y=u;const v=o,m="footer"in this.props?s:this.renderFooter();let w={zIndex:d};h&&h()!==((t=globalThis==null?void 0:globalThis.document)===null||t===void 0?void 0:t.body)&&(w={zIndex:d,position:"static"});const b=R(i,{[`${rt.DIALOG}-displayNone`]:l&&this.state.displayNone}),E=this.props.visible||this.props.keepDOM&&(!this.props.lazyRender||this._haveRendered)||this.props.motion&&!this.state.displayNone;return E&&(this._haveRendered=!0),g.createElement(ff,{motion:this.props.motion,animationState:f?"enter":"leave",startClassName:f?`${rt.DIALOG}-content-animate-show`:`${rt.DIALOG}-content-animate-hide`,onAnimationEnd:()=>{this.updateState()}},S=>{let{animationClassName:C,animationEventsNeedBind:O}=S;return g.createElement(ff,{motion:this.props.motion,animationState:f?"enter":"leave",startClassName:f?`${rt.DIALOG}-mask-animate-show`:`${rt.DIALOG}-mask-animate-hide`,onAnimationEnd:()=>{this.updateState()}},I=>{let{animationClassName:P,animationEventsNeedBind:x}=I;return E?g.createElement(gp,{style:w,getPopupContainer:h}," ",g.createElement(l_,Object.assign({},_,{contentExtraProps:O,maskExtraProps:x,isFullScreen:this.state.isFullScreen,contentClassName:`${C} ${p}`,maskClassName:P,className:b,getPopupContainer:h,maskStyle:v,style:y,ref:this.modalRef,footer:m,onClose:this.handleCancel}))):g.createElement(g.Fragment,null)})})},this.state={displayNone:!e.visible,isFullScreen:e.fullScreen},this.foundation=new qge(this.adapter),this.modalRef=g.createRef(),this.scrollBarWidth=0,this.originBodyWidth="100%"}get adapter(){return Object.assign(Object.assign({},super.adapter),{getProps:()=>this.props,disabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;this.bodyOverflow=document.body.style.overflow||"",(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!==null&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyCancel:e=>this.props.onCancel(e),notifyOk:e=>this.props.onOk(e),notifyClose:()=>{this.props.afterClose()},toggleDisplayNone:(e,t)=>{e!==this.state.displayNone&&this.setState({displayNone:e},t||k)},notifyFullScreen:e=>{e!==this.state.isFullScreen&&this.setState({isFullScreen:e})}})}static getDerivedStateFromProps(e,t){const r={};return e.fullScreen!==t.isFullScreen&&(r.isFullScreen=e.fullScreen),e.visible&&t.displayNone&&(r.displayNone=!1),r}componentDidMount(){this.scrollBarWidth=Jte(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,t,r){!e.visible&&this.props.visible&&this.foundation.beforeShow(),!t.displayNone&&this.state.displayNone&&this.foundation.afterHide()}componentWillUnmount(){this.props.visible?this.foundation.destroy():this.foundation.enabledBodyScroll()}render(){const{visible:e,keepDOM:t,lazyRender:r}=this.props;return this.renderDialog()}}os.propTypes={mask:c.bool,closable:c.bool,centered:c.bool,visible:c.bool,width:c.oneOfType([c.string,c.number]),height:c.oneOfType([c.string,c.number]),confirmLoading:c.bool,cancelLoading:c.bool,okText:c.string,okType:c.string,cancelText:c.string,maskClosable:c.bool,onCancel:c.func,onOk:c.func,afterClose:c.func,okButtonProps:c.object,cancelButtonProps:c.object,style:c.object,className:c.string,maskStyle:c.object,bodyStyle:c.object,zIndex:c.number,title:c.node,icon:c.node,header:c.node,footer:c.node,hasCancel:c.bool,motion:c.bool,children:c.node,getPopupContainer:c.func,getContainerContext:c.func,maskFixed:c.bool,closeIcon:c.node,closeOnEsc:c.bool,size:c.oneOf(XR.SIZE),keepDOM:c.bool,lazyRender:c.bool,direction:c.oneOf(XR.directions),fullScreen:c.bool,footerFill:c.bool};os.__SemiComponentName__="Modal";os.defaultProps=hs(os.__SemiComponentName__,{zIndex:1e3,motion:!0,mask:!0,centered:!1,closable:!0,visible:!1,okType:"primary",maskClosable:!0,hasCancel:!0,onCancel:k,onOk:k,afterClose:k,maskFixed:!1,closeOnEsc:!0,size:"small",keepDOM:!1,lazyRender:!0,fullScreen:!1});os.useModal=lme;os.info=function(n){return xp(Ij(n))};os.success=function(n){return xp(Pj(n))};os.error=function(n){return xp(Rj(n))};os.warning=function(n){return xp(xj(n))};os.confirm=function(n){return xp(Aj(n))};os.destroyAll=function(){for(let e=0,t=ml.length;e<t;e++){const r=ml[e];r&&r()}ml=[]};const Dj={PREFIX:`${Y}`};var cme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ZR=["xxl","xl","lg","md","sm","xs"],kj=g.createContext(null),JR={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class u_ extends g.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(JR).map(e=>Zte(JR[e],{match:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})}))},unmatch:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})}))}}))}componentWillUnmount(){this.unRegisters.forEach(e=>e())}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach((s,i)=>{if(typeof s=="object")for(let a=0;a<ZR.length;a++){const o=ZR[a];if(this.state.screens[o]&&s[o]!==void 0){t[i]=s[o];break}}else t[i]=s||0}),t}render(){const e=this.props,{prefixCls:t,type:r,justify:s,align:i,className:a,style:o,children:l}=e,u=cme(e,["prefixCls","type","justify","align","className","style","children"]),d=this.getGutter(),h=`${t}-row`,f=R({[h]:r!=="flex",[`${h}-${r}`]:r,[`${h}-${r}-${s}`]:r&&s,[`${h}-${r}-${i}`]:r&&i},a),p=Object.assign(Object.assign(Object.assign({},d[0]>0?{marginLeft:d[0]/-2,marginRight:d[0]/-2}:{}),d[1]>0?{marginTop:d[1]/-2,marginBottom:d[1]/-2}:{}),o),_=Object.assign({},u);return delete _.gutter,g.createElement(kj.Provider,{value:{gutters:d}},g.createElement("div",Object.assign({},_,{className:f,style:p,"x-semi-prop":"children"}),l))}}u_.propTypes={type:c.oneOf(["flex"]),align:c.oneOf(["top","middle","bottom"]),justify:c.oneOf(["start","end","center","space-around","space-between"]),className:c.string,style:c.object,children:c.node,gutter:c.oneOfType([c.object,c.number,c.array]),prefixCls:c.string};u_.defaultProps={prefixCls:Dj.PREFIX};u_.RowContext={gutters:c.any};var dme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Au=c.oneOfType([c.object,c.number]);class zr extends g.Component{render(){const{props:e}=this,{prefixCls:t,span:r,order:s,offset:i,push:a,pull:o,className:l,children:u}=e,d=dme(e,["prefixCls","span","order","offset","push","pull","className","children"]);let h={};const f=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach(v=>{let m={};typeof e[v]=="number"?m.span=e[v]:typeof e[v]=="object"&&(m=e[v]||{}),delete d[v],h=Object.assign(Object.assign({},h),{[`${f}-${v}-${m.span}`]:m.span!==void 0,[`${f}-${v}-order-${m.order}`]:m.order||m.order===0,[`${f}-${v}-offset-${m.offset}`]:m.offset||m.offset===0,[`${f}-${v}-push-${m.push}`]:m.push||m.push===0,[`${f}-${v}-pull-${m.pull}`]:m.pull||m.pull===0})});const p=R(f,{[`${f}-${r}`]:r!==void 0,[`${f}-order-${s}`]:s,[`${f}-offset-${i}`]:i,[`${f}-push-${a}`]:a,[`${f}-pull-${o}`]:o},l,h);let{style:_}=d,y;try{y=this.context.gutters}catch{throw new Error("please make sure <Col> inside <Row>")}return _=Object.assign(Object.assign(Object.assign({},y[0]>0?{paddingLeft:y[0]/2,paddingRight:y[0]/2}:{}),y[1]>0?{paddingTop:y[1]/2,paddingBottom:y[1]/2}:{}),_),g.createElement("div",Object.assign({},d,{style:_,className:p,"x-semi-prop":"children"}),u)}}zr.contextType=kj;zr.propTypes={span:c.number,order:c.number,offset:c.number,push:c.number,pull:c.number,className:c.string,children:c.node,xs:Au,sm:Au,md:Au,lg:Au,xl:Au,xxl:Au,prefixCls:c.string};zr.defaultProps={prefixCls:Dj.PREFIX};const Xs={PREFIX:`${Y}-form`},uh={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"},sa=Xs.PREFIX;class Hi extends T.PureComponent{render(){const{children:e,required:t,text:r,disabled:s,name:i,width:a,align:o,style:l,className:u,extra:d,id:h,optional:f}=this.props,p=R(u,{[`${sa}-field-label`]:!0,[`${sa}-field-label-left`]:o==="left",[`${sa}-field-label-right`]:o==="right",[`${sa}-field-label-required`]:t,[`${sa}-field-label-disabled`]:s,[`${sa}-field-label-with-extra`]:d}),_=l||{};a&&(_.width=a);const y=g.createElement(dn,{componentName:"Form"},w=>g.createElement("span",{className:`${sa}-field-label-optional-text`},w.optional)),v=g.createElement("div",{className:`${sa}-field-label-text`,"x-semi-prop":"label"},typeof r<"u"?r:e,f?y:null),m=g.createElement(g.Fragment,null,v,g.createElement("div",{className:`${sa}-field-label-extra`},d));return g.createElement("label",{className:p,htmlFor:i,style:_,id:h},d?m:v)}}Hi.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1};Hi.propTypes={id:c.string,children:c.node,required:c.bool,text:c.node,disabled:c.bool,name:c.string,align:c.string,width:c.oneOfType([c.number,c.string]),style:c.object,className:c.string,extra:c.node,optional:c.bool};var eA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const tl=Wv.PREFIX,hme=Wo.SIZE;class CT extends we{renderGroupWithLabel(e){const t=this.props,{size:r,className:s,label:i,labelPosition:a}=t;eA(t,["size","className","label","labelPosition"]);const o=R({[`${tl}-group-wrapper`]:!0,[`${tl}-group-wrapper-with-top-label`]:a==="top",[`${tl}-group-wrapper-with-left-label`]:a==="left"}),l=R(`${tl}-group`,s,{[`${tl}-${r}`]:r!=="default"}),u="input-group";return g.createElement("div",{className:o},i&&i.text?g.createElement(Hi,Object.assign({name:u},i)):null,g.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:i&&i.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:r,className:s,children:i,label:a,onBlur:o,onFocus:l,disabled:u}=e,d=eA(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),h=R(`${tl}-group`,{[`${tl}-${t}`]:t!=="default"},s);let f;return i&&(f=(Array.isArray(i)?i:[i]).map((p,_)=>{if(p){const{onBlur:y,onFocus:v,disabled:m}=p.props,w=Te(y)&&K(y,"name")!=="noop"?y:o,b=Te(v)&&K(v,"name")!=="noop"?v:l,E=typeof m=="boolean"?m:u;return g.cloneElement(p,Object.assign(Object.assign({key:_},d),{size:t,onBlur:w,onFocus:b,disabled:E}))}return null})),a&&a.text?this.renderGroupWithLabel(f):g.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:h,style:r,onFocus:this.props.onFocus,onBlur:this.props.onBlur},f)}}CT.propTypes={className:c.string,children:c.node,size:c.oneOf(hme),style:c.object,onBlur:c.func,onFocus:c.func,label:c.object,labelPosition:c.string};CT.defaultProps={size:"default",className:"",onBlur:mt,onFocus:mt};let Jr=null;const tA={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},nA=n=>{Object.keys(tA).forEach(e=>{n.style.setProperty(e,tA[e],"important")})},rA=(n,e)=>{const t=n.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function fme(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0;Jr||(Jr=document.createElement("textarea"),Jr.setAttribute("tab-index","-1"),Jr.setAttribute("aria-hidden","true"),nA(Jr)),Jr.parentNode===null&&document.body.appendChild(Jr);const{paddingSize:s,borderSize:i,sizingStyle:a}=n,{boxSizing:o}=a;Object.keys(a).forEach(f=>{Jr.style[f]=a[f]}),nA(Jr),Jr.value=e;let l=rA(Jr,n);Jr.value="x";const u=rA(Jr,n)-s-i;let d=u*t;o==="border-box"&&(d=d+s+i),l=Math.max(d,l);let h=u*r;return o==="border-box"&&(h=h+s+i),l=Math.min(h,l),l}const pme=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],gme=n=>{const e=window.getComputedStyle(n);if(e===null)return null;const t=Hl(e,pme),{boxSizing:r}=t;if(r==="")return null;const s=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),i=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:s,borderSize:i}};class TT extends Pe{static get textAreaDefaultAdapter(){return{notifyChange:k,setValue:k,toggleFocusing:k,toggleHovering:k,notifyFocus:k,notifyBlur:k,notifyKeyDown:k,notifyEnterPress:k}}constructor(e){super(Object.assign(Object.assign({},TT.textAreaDefaultAdapter),e)),this.resizeTextarea=()=>{var t;const{height:r}=this.getStates(),{rows:s,autosize:i}=this.getProps(),a=this._adapter.getRef(),o=gme(a);if(!o)return;const[l,u]=i!==null&&typeof i=="object"?[(t=i==null?void 0:i.minRows)!==null&&t!==void 0?t:s,i==null?void 0:i.maxRows]:[s],d=fme(o,a.value||a.placeholder||"x",l,u);if(r!==d){this._adapter.notifyHeightUpdate(d),a.style.height=`${d}px`;return}}}destroy(){}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let a=e;r&&Te(i)&&(a=this.handleVisibleMaxLength(e)),s&&Te(i)&&this.handleVisibleMinLength(a),this._isControlledComponent()?this._adapter.notifyChange(a,t):(this._adapter.setValue(a),this._adapter.notifyChange(a,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(jt(t)&&t>=0&&Te(r)&&Oe(e)){const i=r(e);if(i<t){const a=e.length+(t-i);a!==s&&this._adapter.setMinLength(a)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();if(jt(t)&&t>=0&&Oe(e)){if(Te(r)){if(r(e)>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)}else if(e.length>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),e.slice(0,t);return e}}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return U2({value:e,maxLength:t,getValueLength:r})}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){const{value:t}=this.getStates(),{maxLength:r}=this.getProps();let s=t;r&&(s=this.handleVisibleMaxLength(t),s!==t&&(this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,e))),this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(s,e)}handleKeyDown(e){const{disabledEnterStartNewLine:t}=this.getProps();t&&e.key==="Enter"&&!e.shiftKey&&e.preventDefault(),this._adapter.notifyKeyDown(e),e.keyCode===13&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){const{value:e,isFocus:t,isHover:r}=this._adapter.getStates(),{showClear:s,disabled:i,readonly:a}=this._adapter.getProps();return e&&s&&!i&&(t||r)&&!a}handleClear(e){const{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var mme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Cr=Wv.PREFIX;class OT extends we{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.setRef=r=>{this.libRef.current=r;const{forwardRef:s}=this.props;typeof s=="function"?s(r):s&&typeof s=="object"&&(s.current=r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,isFocus:!1,isHover:!1,height:0,minLength:e.minLength,cachedValue:e.value},this.focusing=!1,this.foundation=new TT(this.adapter),this.libRef=g.createRef(),this.throttledResizeTextarea=iy(this.foundation.resizeTextarea,10)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentWillUnmount(){var e,t;this.throttledResizeTextarea&&((t=(e=this.throttledResizeTextarea)===null||e===void 0?void 0:e.cancel)===null||t===void 0||t.call(e),this.throttledResizeTextarea=null)}componentDidUpdate(e,t){(this.props.value!==e.value||this.props.placeholder!==e.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){const{showClear:e}=this.props,t=this.foundation.isAllowClear(),r=R(`${Cr}-clearbtn`,{[`${Cr}-clearbtn-hidden`]:!t});return e?g.createElement("div",{className:r,onClick:this.handleClear},g.createElement(Ko,null)):null}renderCounter(){let e,t,r,s;const{showCounter:i,maxCount:a,getValueLength:o}=this.props;if(i||a){const{value:l}=this.state;t=l?Te(o)?o(l):l.length:0,r=a||null,s=R(`${Cr}-textarea-counter`,{[`${Cr}-textarea-counter-exceed`]:t>r}),e=g.createElement("div",{className:s},t,r?"/":null,r)}else e=null;return e}render(){const e=this.props,{autosize:t,placeholder:r,onEnterPress:s,onResize:i,disabled:a,readonly:o,className:l,showCounter:u,validateStatus:d,maxCount:h,defaultValue:f,style:p,forwardRef:_,getValueLength:y,maxLength:v,minLength:m,showClear:w,borderless:b,autoFocus:E}=e,S=mme(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:C,value:O,minLength:I}=this.state,P=R(l,`${Cr}-textarea-wrapper`,{[`${Cr}-textarea-borderless`]:b,[`${Cr}-textarea-wrapper-disabled`]:a,[`${Cr}-textarea-wrapper-readonly`]:o,[`${Cr}-textarea-wrapper-${d}`]:!!d,[`${Cr}-textarea-wrapper-focus`]:C}),x=R(`${Cr}-textarea`,{[`${Cr}-textarea-disabled`]:a,[`${Cr}-textarea-readonly`]:o,[`${Cr}-textarea-autosize`]:Ia(t)?dt(t==null?void 0:t.maxRows):t,[`${Cr}-textarea-showClear`]:w}),D=Object.assign(Object.assign({},zo(S,"insetLabel","insetLabelId","getValueLength","onClear","showClear","disabledEnterStartNewLine")),{autoFocus:E||this.props.autofocus,className:x,disabled:a,readOnly:o,placeholder:r||null,onChange:$=>this.foundation.handleChange($.target.value,$),onFocus:$=>this.foundation.handleFocus($),onBlur:$=>this.foundation.handleBlur($.nativeEvent),onKeyDown:$=>this.foundation.handleKeyDown($),value:O??""});return Te(y)||(D.maxLength=v),I&&(D.minLength=I),g.createElement("div",{className:P,style:p,onMouseEnter:$=>this.foundation.handleMouseEnter($),onMouseLeave:$=>this.foundation.handleMouseLeave($)},t?g.createElement(To,{onResize:this.throttledResizeTextarea},g.createElement("textarea",Object.assign({},D,{ref:this.setRef}))):g.createElement("textarea",Object.assign({},D,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}OT.propTypes={autosize:c.oneOfType([c.bool,c.object]),borderless:c.bool,placeholder:c.string,value:c.string,rows:c.number,cols:c.number,maxCount:c.number,onEnterPress:c.func,validateStatus:c.string,className:c.string,style:c.object,showClear:c.bool,onClear:c.func,onResize:c.func,getValueLength:c.func,disabledEnterStartNewLine:c.bool};OT.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:k,onChange:k,onBlur:k,onFocus:k,onKeyDown:k,onResize:k,onClear:k};const Nj=g.forwardRef((n,e)=>g.createElement(OT,Object.assign({},n,{forwardRef:e})));var yme=j2;function vme(n){return yme(n)&&n!=+n}var _me=vme;const bme=ge(_me),wme=(n,e)=>{const{isNaN:t}=Number;return t(n)&&t(e)},Eme=Object.assign({},Wv),yl=Object.assign(Object.assign({},Oae),{DEFAULT_STEP:1,DEFAULT_SHIFT_STEP:10,DEFAULT_PRESS_TIMEOUT:250,DEFAULT_PRESS_INTERVAL:0,MOUSE_BUTTON_LEFT:0}),Sme=Object.assign({},Wo);function Cme(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=Math.pow(10,Math.max(t,r));return(n*s+e*s)/s}function sA(n,e){return Cme(n,-e)}class Tme extends Pe{init(){this._setInitValue()}destroy(){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}isControlled(){return this._isControlledComponent("value")}_doInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=e,i=e,a=!0;const o=this.isControlled();typeof e!="number"&&(i=this.doParse(e,!1),a=!isNaN(i)),a&&(s=i,o||this._adapter.setNumber(i)),o||this._adapter.setValue(e,r),this.getProp("keepFocus")&&this._adapter.setFocusing(!0,()=>{this._adapter.setClickUpOrDown(!0)}),this.notifyChange(s,t)}_registerInterval(e){const t=this.getProp("pressInterval")||yl.DEFAULT_PRESS_INTERVAL;this._intervalHasRegistered=!0,this._interval=setInterval(()=>{typeof e=="function"&&this._intervalHasRegistered&&e()},t)}_unregisterInterval(){this._interval&&(this._intervalHasRegistered=!1,clearInterval(this._interval),this._interval=null)}_registerTimer(e){const t=this.getProp("pressTimeout")||yl.DEFAULT_PRESS_TIMEOUT;this._timerHasRegistered=!0,this._timer=setTimeout(()=>{this._timerHasRegistered&&typeof e=="function"&&e()},t)}_unregisterTimer(){this._timer&&(this._timerHasRegistered=!1,clearTimeout(this._timer),this._timer=null)}handleInputFocus(e){this.getState("value"),this._adapter.recordCursorPosition(),this._adapter.setFocusing(!0,null),this._adapter.setClickUpOrDown(!1),this._adapter.notifyFocus(e)}handleInputChange(e,t){const r=this.doParse(e,!0,!0,!0),s=this.doParse(e,!1,!1,!1),i=this.afterParser(e);this._adapter.recordCursorPosition();let a,o=s,l=e;if(e==="")this.isControlled()||(o=null);else if(this.isValidNumber(s)&&this.isValidNumber(r))a=s,l=this.doFormat(s,!1);else{if(typeof s=="number"&&!isNaN(s)){l=this.doFormat(s,!1);const u=i.lastIndexOf("."),d=i.length-1-u,h=this._getPrecLen(s);if(h){if(h<d)for(let f=0;f<d-h;f++)l+="0"}else{const f=u>-1?i.slice(u):"";l+=f}o=s}else l=this.doFormat(i,!1);a=i}!this.isControlled()&&(o===null||typeof o=="number"&&!isNaN(o))&&this._adapter.setNumber(o),this._adapter.setValue(this.isControlled()?l:this.doFormat(i,!1),()=>{this._adapter.restoreCursor()}),this.notifyChange(a,t)}handleInputKeyDown(e){const t=e.keyCode;if(t===Nn.UP||t===Nn.DOWN){this._adapter.setClickUpOrDown(!0),this._adapter.recordCursorPosition();const r=t===Nn.UP?this.add(null,e):this.minus(null,e);this._doInput(r,e,()=>{this._adapter.restoreCursor()}),e.preventDefault()}this._adapter.notifyKeyDown(e)}handleInputBlur(e){const t=Cu(this.getState("value"));let r=this.getState("number");if(r!=null||t!=null&&t!==""){const s=this.doParse(t,!1,!0,!0);let i=!1,a=!1,o,l;this.isValidNumber(s)&&r!==s&&(o=s,this.isControlled()||(r=o),i=!0);const u=this.doFormat(r,!0);if(u!==t&&(l=u,a=!0),a||i){const d=l??o;l!=null&&this._adapter.setValue(l),o!=null&&(this._isControlledComponent("value")||this._adapter.setNumber(o)),this.notifyChange(d,e)}}this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputMouseEnter(e){this._adapter.setHovering(!0)}handleInputMouseLeave(e){this._adapter.setHovering(!1)}handleInputMouseMove(e){this._adapter.setHovering(!0)}handleMouseUp(e){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}handleUpClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.upClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.upClick(e)})}))}handleDownClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.downClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.downClick(e)})}))}_isMouseButtonLeft(e){return K(e,"button")===yl.MOUSE_BUTTON_LEFT}_preventDefault(e){const t=this._adapter.getProp("keepFocus"),r=this._adapter.getProp("innerButtons");(t||r)&&e.preventDefault()}handleMouseLeave(e){this._adapter.registerGlobalEvent("mouseup",()=>{this.handleMouseUp(e)})}upClick(e){const t=this.add(null,e);this._doInput(t,e),this._adapter.notifyUpClick(t,e)}downClick(e){const t=this.minus(null,e);this._doInput(t,e),this._adapter.notifyDownClick(t,e)}_setInitValue(){const{defaultValue:e,value:t}=this.getProps(),r=this._isControlledComponent("value")?t:e,s=this.doParse(Cu(r),!1,!0,!0);let i=null;typeof s=="number"&&!isNaN(s)&&(i=s);const a=typeof i=="number"?this.doFormat(i,!0):"";this._adapter.setNumber(i),this._adapter.setValue(a),Oe(a)&&a!==String(r??"")&&this.notifyChange(a,null)}add(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");e=e==null?s:Number(e);const i=Math.abs(Es(e)),a=this.getState("number");let o=this.toNumber(a)||0;const l=this.getProp("min"),u=this.getProp("max"),d=this._getPrecLen(l),h=this._getPrecLen(u),f=this._getPrecLen(o),p=this._getPrecLen(e),_=Math.pow(10,Math.max(d,h,f,p));return e<0?Math.abs(sA(l,o))>=i&&(o=(o*_+e*_)/_):e>0&&Math.abs(sA(u,o))>=i&&(o=(o*_+e*_)/_),typeof l=="number"&&l>o&&(o=l),typeof u=="number"&&u<o&&(o=u),this.doFormat(o,!0)}minus(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");return e=e==null?s:Number(e),this.add(-e,t)}_getPrecLen(e){typeof e!="string"&&(e=String(Math.abs(Number(e||""))));const t=e.indexOf(".")+1;return t?e.length-t:0}_adjustPrec(e){const t=this.getProp("precision");return typeof t=="number"&&e!==""&&e!==null&&!Number.isNaN(Number(e))&&(e=Number(e).toFixed(t)),Cu(e)}doFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r;const s=this.getProp("formatter");return t?r=this._adjustPrec(e):r=Cu(e),typeof s=="function"&&(r=s(r)),r}fetchMinOrMax(e){const{min:t,max:r}=this.getProps();return e<t?t:e>r?r:e}doParse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof e=="number")return s&&(e=this.fetchMinOrMax(e)),r&&(e=this._adjustPrec(e)),Es(e);const i=this.getProp("parser");if(typeof i=="function"&&(e=i(e)),t&&typeof e=="string"){const a=e.indexOf(".")===-1||e.indexOf(".")>-1&&(e==="0"||e.lastIndexOf("0")<e.length-1),o=e.lastIndexOf(".")<e.length-1&&e.split("").filter(l=>l===".").length<2;if(!a||!o)return NaN}return r&&(e=this._adjustPrec(e)),typeof e=="string"&&e.length?s?this.fetchMinOrMax(Es(e)):Es(e):NaN}afterParser(e){const t=this.getProp("parser");return Cu(typeof e=="string"&&typeof t=="function"?t(e):e)}toNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number")return e;if(typeof e=="string"){const r=this.getProp("parser");typeof r=="function"&&(e=r(e)),t&&(e=this._adjustPrec(e))}return Es(e)}isValidNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number"&&!isNaN(e)){const{min:r,max:s,precision:i}=this.getProps(),a=this._getPrecLen(e),o=t?typeof i=="number"&&a<=i||typeof i!="number":!0;if(e>=r&&e<=s&&o)return!0}return!1}isValidString(e){if(typeof e=="string"&&e.length){const t=this.doParse(e);return this.isValidNumber(t)}return!1}notifyChange(e,t){if(e==null||e==="")this._adapter.notifyChange("",t);else{const r=this.toNumber(e,!0);typeof r=="number"&&!isNaN(r)?(this._adapter.notifyChange(r,t),this.notifyNumberChange(r,t)):this._adapter.notifyChange(this.afterParser(e),t)}}notifyNumberChange(e,t){const{number:r}=this.getStates();this.isValidNumber(e)&&e!==r&&this._adapter.notifyNumberChange(e,t)}updateStates(e,t){this._adapter.updateStates(e,t)}}var Ome=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Py extends we{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setValue:(t,r)=>this.setState({value:t},r),setNumber:(t,r)=>this.setState({number:t},r),setFocusing:(t,r)=>this.setState({focusing:t},r),setHovering:t=>this.setState({hovering:t}),notifyChange:function(){return e.props.onChange(...arguments)},notifyNumberChange:function(){return e.props.onNumberChange(...arguments)},notifyBlur:t=>this.props.onBlur(t),notifyFocus:t=>this.props.onFocus(t),notifyUpClick:(t,r)=>this.props.onUpClick(t,r),notifyDownClick:(t,r)=>this.props.onDownClick(t,r),notifyKeyDown:t=>this.props.onKeyDown(t),registerGlobalEvent:(t,r)=>{t&&typeof r=="function"&&(this.adapter.unregisterGlobalEvent(t),this.adapter.setCache(t,r),document.addEventListener(t,r))},unregisterGlobalEvent:t=>{if(t){const r=this.adapter.getCache(t);document.removeEventListener(t,r),this.adapter.setCache(t,null)}},recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(t){console.warn(t)}},restoreByAfter:t=>{if(ct(t))return!1;const r=this.inputNode.value,s=r.lastIndexOf(t);return s===-1?!1:s+t.length===r.length?(this.adapter.fixCaret(s,s),!0):!1},restoreCursor:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.cursorAfter;return ct(t)?!1:Array.prototype.some.call(t,(r,s)=>{const i=t.substring(s);return e.adapter.restoreByAfter(i)})},fixCaret:(t,r)=>{if(!(t===void 0||r===void 0||!this.inputNode||!this.inputNode.value))try{const s=this.inputNode.selectionStart,i=this.inputNode.selectionEnd;(t!==s||r!==i)&&this.inputNode.setSelectionRange(t,r)}catch{}},setClickUpOrDown:t=>{this.clickUpOrDown=t},updateStates:(t,r)=>{this.setState(t,r)}})}constructor(e){super(e),this.setInputRef=t=>{const{forwardedRef:r}=this.props;this.inputNode=t,r&&typeof r=="object"?r.current=t:typeof r=="function"&&r(t)},this.handleInputFocus=t=>this.foundation.handleInputFocus(t),this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.handleInputBlur=t=>this.foundation.handleInputBlur(t),this.handleInputKeyDown=t=>this.foundation.handleInputKeyDown(t),this.handleInputMouseEnter=t=>this.foundation.handleInputMouseEnter(t),this.handleInputMouseLeave=t=>this.foundation.handleInputMouseLeave(t),this.handleInputMouseMove=t=>this.foundation.handleInputMouseMove(t),this.handleUpClick=t=>this.foundation.handleUpClick(t),this.handleDownClick=t=>this.foundation.handleDownClick(t),this.handleMouseUp=t=>this.foundation.handleMouseUp(t),this.handleMouseLeave=t=>this.foundation.handleMouseLeave(t),this.renderButtons=()=>{const{prefixCls:t,disabled:r,innerButtons:s,max:i,min:a}=this.props,{hovering:o,focusing:l,number:u}=this.state,d=r||u===i,h=r||u===a,f=R(`${t}-number-suffix-btns`,{[`${t}-number-suffix-btns-inner`]:s,[`${t}-number-suffix-btns-inner-hover`]:s&&o&&!l}),p=R(`${t}-number-button`,`${t}-number-button-up`,{[`${t}-number-button-up-disabled`]:r,[`${t}-number-button-up-not-allowed`]:d}),_=R(`${t}-number-button`,`${t}-number-button-down`,{[`${t}-number-button-down-disabled`]:r,[`${t}-number-button-down-not-allowed`]:h});return g.createElement("div",{className:f},g.createElement("span",{className:p,onMouseDown:d?k:this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},g.createElement(wie,{size:"extra-small"})),g.createElement("span",{className:_,onMouseDown:h?k:this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},g.createElement(Uv,{size:"extra-small"})))},this.renderSuffix=()=>{const{innerButtons:t,suffix:r}=this.props,{hovering:s,focusing:i}=this.state;return t&&(s||i)?this.renderButtons():r},this.state={value:"",number:null,focusing:!!e.autofocus||!1,hovering:!1},this.inputNode=null,this.foundation=new Tme(this.adapter),this.clickUpOrDown=!1}componentDidUpdate(e){const{value:t,preventScroll:r}=this.props,{focusing:s}=this.state;let i;if(t!==e.value&&!wme(t,e.value)){if(ct(t)||t==="")i="",this.foundation.updateStates({value:i,number:null});else{let a=t;typeof t=="number"&&(a=this.foundation.doFormat(t));const o=this.foundation.doParse(a,!1,!0,!0),l=typeof t=="number"?t:this.foundation.doParse(a,!1,!1,!1);if(s)if(this.foundation.isValidNumber(o)&&o!==this.state.number){const u={number:o};this.clickUpOrDown&&(u.value=this.foundation.doFormat(u.number,!0),i=u.value),this.foundation.updateStates(u,()=>this.adapter.restoreCursor())}else bme(l)?this.foundation.updateStates({value:a}):(i=this.foundation.doFormat(l,!1),this.foundation.updateStates({value:i}));else this.foundation.isValidNumber(o)?(i=this.foundation.doFormat(o),this.foundation.updateStates({number:o,value:i})):(i="",this.foundation.updateStates({number:null,value:i}))}i&&Oe(i)&&i!==String(this.props.value)&&this.foundation.notifyChange(i,null)}this.clickUpOrDown&&this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:r})}render(){const e=this.props,{disabled:t,className:r,prefixCls:s,min:i,max:a,step:o,shiftStep:l,precision:u,formatter:d,parser:h,forwardedRef:f,onUpClick:p,onDownClick:_,pressInterval:y,pressTimeout:v,suffix:m,size:w,hideButtons:b,innerButtons:E,style:S,onNumberChange:C,keepFocus:O,defaultValue:I}=e,P=Ome(e,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue"]),{value:x,number:D}=this.state,$=R(r,`${s}-number`,{[`${s}-number-size-${w}`]:w}),M=this.renderButtons(),V={"aria-disabled":t,step:o};return D&&(V["aria-valuenow"]=D),a!==1/0&&(V["aria-valuemax"]=a),i!==-1/0&&(V["aria-valuemin"]=i),g.createElement("div",{className:$,style:S,onMouseMove:F=>this.handleInputMouseMove(F),onMouseEnter:F=>this.handleInputMouseEnter(F),onMouseLeave:F=>this.handleInputMouseLeave(F)},g.createElement(En,Object.assign({role:"spinbutton"},V,P,{size:w,disabled:t,ref:this.setInputRef,value:x,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),b||E?null:M)}}Py.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autofocus:c.bool,clearIcon:c.node,className:c.string,defaultValue:c.oneOfType([c.number,c.string]),disabled:c.bool,formatter:c.func,forwardedRef:c.any,hideButtons:c.bool,innerButtons:c.bool,insetLabel:c.node,insetLabelId:c.string,keepFocus:c.bool,max:c.number,min:c.number,parser:c.func,precision:c.number,prefixCls:c.string,pressInterval:c.number,pressTimeout:c.number,preventScroll:c.bool,shiftStep:c.number,step:c.number,style:c.object,suffix:c.any,value:c.oneOfType([c.number,c.string]),onBlur:c.func,onChange:c.func,onDownClick:c.func,onKeyDown:c.func,onNumberChange:c.func,onUpClick:c.func};Py.defaultProps={forwardedRef:k,innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:Eme.PREFIX,pressInterval:yl.DEFAULT_PRESS_TIMEOUT,pressTimeout:yl.DEFAULT_PRESS_TIMEOUT,shiftStep:yl.DEFAULT_SHIFT_STEP,size:Sme.DEFAULT_SIZE,step:yl.DEFAULT_STEP,onBlur:k,onChange:k,onDownClick:k,onFocus:k,onKeyDown:k,onNumberChange:k,onUpClick:k};const Ime=GF(g.forwardRef(function(e,t){return g.createElement(Py,Object.assign({},e,{forwardedRef:t}))}),Py),Pme={PREFIX:Y+"-overflow-list"},iA={COLLAPSE:"collapse",SCROLL:"scroll"},aA={START:"start",END:"end"},xme={GROW:1},xl={BOUNDARY_SET:Object.values(aA),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(iA),MODE_MAP:iA,BOUNDARY_MAP:aA,OVERFLOW_DIR:xme},oA={MINIMUM_HTML_ELEMENT_WIDTH:4};class IT extends g.PureComponent{componentDidMount(){const{items:e}=this.props;this.cachedKeys=Object.keys(e);const{root:t,threshold:r,rootMargin:s,option:i,onIntersect:a}=this.props;this.observer=new IntersectionObserver(a,Object.assign({root:t,threshold:r,rootMargin:s},i)),this.observeElement()}componentDidUpdate(){const{items:e}=this.props,t=Object.keys(e);ke(this.cachedKeys,t)||(this.observeElement(!0),this.cachedKeys=t)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{items:t}=this.props;if(gt(t)){this.observer.disconnect();return}e&&this.observer.disconnect(),Object.keys(t).forEach(r=>{const s=t[r];s&&ze(s)&&this.observer.observe(s)})}render(){const{children:e}=this.props;return e}}IT.propTypes={onIntersect:c.func,option:c.object,root:c.any,threshold:c.number,rootMargin:c.string,items:c.object};IT.defaultProps={onIntersect:()=>{},threshold:.75,rootMargin:"0px",option:{},items:{}};const Rme=xl.BOUNDARY_MAP;class Ame extends Pe{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{const{renderMode:t}=this.getProps();return t==="scroll"},this.getReversedItems=()=>{const{items:t}=this.getProps();return Aa(t).reverse()}}getOverflowItem(){const{items:e}=this.getProps(),{visibleState:t,overflow:r}=this.getStates();if(!this.isScrollMode())return r;const s=e.map(l=>{let{key:u}=l;return!!t.get(u)}),i=s.indexOf(!0),a=s.lastIndexOf(!0),o=[];return o[0]=i>=0?e.slice(0,i):[],o[1]=a>=0?e.slice(a+1,e.length):e.slice(),o}handleIntersect(e){const t=Aa(this.getState("visibleState")),r={};e.forEach(l=>{const u=K(l,"target.dataset.scrollkey"),d=l.isIntersecting;r[u]=l,t.set(u,d)});let s=!1;for(const l of t.values())if(l){s=!0;break}const i=s,[a]=e,o=a.boundingClientRect.y;if(!i&&this.previousY!==void 0&&o!==this.previousY){this.previousY=o;return}this.previousY=o,this._adapter.updateVisibleState(t),this._adapter.notifyIntersect(r)}handleCollapseOverflow(){const{minVisibleItems:e,collapseFrom:t}=this.getProps(),{overflowWidth:r,containerWidth:s,pivot:i,overflowStatus:a}=this.getStates(),{items:o,onOverflow:l}=this.getProps();let u=r,d=0,h=!1;for(const f of this._adapter.getItemSizeMap().values()){if(u+=f,u>s){h=!0;break}if(d===o.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:o.length-1,visible:o,overflow:[]});break}d++}if(h){const f=Math.max(e,d),p=t===Rme.START,_=p?this.getReversedItems().slice(0,f).reverse():o.slice(0,f),y=p?this.getReversedItems().slice(f).reverse():o.slice(f);this._adapter.updateStates({overflowStatus:"overflowed",pivot:f,visible:_,overflow:y}),i!==f&&l(y);return}}}const zd=Pme.PREFIX,g0=xl.BOUNDARY_MAP,lA=xl.OVERFLOW_DIR,Kd=xl.MODE_MAP;class Sf extends we{constructor(e){var t;super(e),t=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{const{renderMode:r}=this.props;return r===Kd.SCROLL},this.resize=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var s;const i=(s=r[0])===null||s===void 0?void 0:s.target.clientWidth;t.setState({containerWidth:i,overflowStatus:"calculating"})},this.reintersect=r=>{this.foundation.handleIntersect(r)},this.mergeRef=(r,s,i)=>{this.itemRefs[i]=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},this.renderOverflow=()=>{const r=this.foundation.getOverflowItem();return this.props.overflowRenderer(r)},this.getItemKey=(r,s)=>{const{itemKey:i}=this.props;return Te(i)?i(r):K(r,i||"key",s)},this.renderItemList=()=>{const{className:r,wrapperClassName:s,wrapperStyle:i,style:a,visibleItemRenderer:o,renderMode:l,collapseFrom:u}=this.props,{visible:d,overflowStatus:h}=this.state;let f=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(f)&&(f=g.createElement(g.Fragment,null,f)),g.isValidElement(f))){const y=g.cloneElement(f);f=g.createElement(To,{onResize:v=>{let[m]=v;this.setState({overflowWidth:m.target.clientWidth,overflowStatus:"calculating"})}},g.createElement("div",{className:`${zd}-overflow`},y))}const p=l===Kd.SCROLL?(()=>{const y=[g.createElement("div",{className:R(s,`${zd}-scroll-wrapper`),ref:v=>{this.scroller=v},style:Object.assign({},i),key:`${zd}-scroll-wrapper`},d.map(o).map(v=>{const{forwardRef:m,key:w}=v;return g.cloneElement(v,{ref:b=>this.mergeRef(m,b,w),"data-scrollkey":`${w}`,key:w})}))];return this.props.overflowRenderDirection==="both"?(y.unshift(f[0]),y.push(f[1])):this.props.overflowRenderDirection==="start"?(y.unshift(f[1]),y.unshift(f[0])):(y.push(f[0]),y.push(f[1])),y})():[u===g0.START?f:null,d.map((y,v)=>{const{key:m}=y,w=o(y,v),b=g.cloneElement(w);return g.createElement(To,{key:m??v,onResize:E=>{let[S]=E;return this.onItemResize(S,y,v)}},g.createElement("div",{key:m??v,className:`${zd}-item`},b))}),u===g0.END?f:null];return g.createElement("div",{className:R(`${zd}`,r),style:Object.assign(Object.assign({},a),l===Kd.COLLAPSE?{maxWidth:"100%",visibility:h==="calculating"?"hidden":"visible"}:null)},...p)},this.onItemResize=(r,s,i)=>{const a=this.getItemKey(s,i),o=this.itemSizeMap.get(a);o?o!==r.target.clientWidth&&(this.itemSizeMap.set(a,r.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(a,r.target.clientWidth);const{maxCount:l}=this.state;this.itemSizeMap.size===l&&this.setState({overflowStatus:"calculating"})},this.state={direction:lA.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new Ame(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,t){const{prevProps:r}=t,s={};s.prevProps=e;const i=a=>!r&&a in e||r&&!ke(r[a],e[a]);if(i("items")||i("style")){if(s.direction=lA.GROW,s.lastOverflowCount=0,s.maxCount=0,e.renderMode===Kd.SCROLL)s.visible=e.items,s.overflow=[];else{let a=e.items.length;Math.floor(t.containerWidth/oA.MINIMUM_HTML_ELEMENT_WIDTH)!==0&&(a=Math.min(a,Math.floor(t.containerWidth/oA.MINIMUM_HTML_ELEMENT_WIDTH)));const o=e.collapseFrom===g0.START,l=o?Aa(e.items).reverse().slice(0,a):e.items.slice(0,a),u=o?Aa(e.items).reverse().slice(a):e.items.slice(a);s.visible=l,s.overflow=u,s.maxCount=a}s.pivot=-1,s.overflowStatus="calculating"}return s}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e},()=>{var t,r;(r=(t=this.props).onVisibleStateChange)===null||r===void 0||r.call(t,e)})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,t){const r=e.items.map(u=>u.key),s=this.props.items.map(u=>u.key);ke(r,s)||(this.itemRefs={},this.setState({visibleState:new Map}));const{overflow:i,containerWidth:a,visible:o,overflowStatus:l}=this.state;this.isScrollMode()||l!=="calculating"||this.foundation.handleCollapseOverflow()}render(){const e=this.renderItemList(),{renderMode:t}=this.props;return t===Kd.SCROLL?g.createElement(IT,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):g.createElement(To,{onResize:this.resize},e)}}Sf.__SemiComponentName__="OverflowList";Sf.defaultProps=hs(Sf.__SemiComponentName__,{collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null,overflowRenderDirection:"both"});Sf.propTypes={className:c.string,collapseFrom:c.oneOf(xl.BOUNDARY_SET),direction:c.oneOf(xl.POSITION_SET),items:c.array,minVisibleItems:c.number,onIntersect:c.func,onOverflow:c.func,overflowRenderer:c.func,renderMode:c.oneOf(xl.MODE_SET),style:c.object,threshold:c.number,visibleItemRenderer:c.func,wrapperClassName:c.string,wrapperStyle:c.object,collapseMask:c.object,overflowRenderDirection:c.string};const PT={PREFIX:`${Y}-select`,PREFIX_OPTION:`${Y}-select-option`,PREFIX_GROUP:`${Y}-select-group`},ba={SIZE_SET:["small","large","default"],POSITION_SET:Il.POSITION_SET,STATUS:hd,SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_DROPDOWN:"dropdown"},$j={LIST_HEIGHT:270};var uA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Dme extends Pe{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();const e=this.getProp("defaultOpen"),t=this.getProp("open"),r=this._collectOptions();this._setDefaultSelection(r),(e||t)&&this.open(void 0,r),this.getProp("autoFocus")&&this.focus()}focus(){const e=this._isFilterable(),t=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&t?this.focusInput():e&&!t?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&jt(e.width)||e&&Oe(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_collectOptions(){const e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:t}=this.getProps();const{defaultValue:r}=this.getProps();this._isControlledComponent()||(t=r),this._update(t,e)}handleOptionListChange(){const e=this._collectOptions(),{selections:t}=this.getStates();this.updateOptionsActiveStatus(t,e);const{defaultActiveFirstOption:r}=this.getProps();r&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){const e=this.getState("selections");let t;const{onChangeWithObject:r}=this.getProps(),s=this._isMultiple();switch(!0){case(s&&!!e.size):try{t=[...e].map(a=>r?a[1]:a[1].value)}catch{t=[]}break;case(s&&!e.size):t=[];break;case(!s&&!!e.size):try{t=r?[...e][0][1]:[...e][0][1].value}catch{}break;case(!s&&!e.size):break}const i=this._adapter.getOptionsFromChildren();this._update(t,i)}handleValueChange(e){const{allowCreate:t,autoClearSearchValue:r,remote:s}=this.getProps(),{inputValue:i}=this.getStates();let a;t&&this._isControlledComponent()?(a=this.getState("options"),a.forEach(o=>o._show=!0)):a=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!r&&i&&!s&&(a=this._filterOption(a,i)),this._update(e,a)}_update(e,t){let r;this._isMultiple()?(r=this._updateMultiple(e,t),this.updateOverflowItemCount(r.size)):r=this._updateSingle(e,t),this._adapter.updateSelection(r),this.updateOptionsActiveStatus(r,t)}_updateSingle(e,t){const r=new Map,{onChangeWithObject:s}=this.getProps(),i=s&&typeof e<"u"?e.value:e,a=t.filter(l=>l.value===i),o=!a.length&&typeof i<"u"&&i!==null;if(a.length){const l=a[0],u=Object.assign({},l);r.set(u.label,u)}else if(o){let l={value:e,label:e,_notExist:!0,_scrollIndex:-1};s&&(l=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),r.set(l.label,l)}return r}_updateMultiple(e,t){const r=this.getState("selections");let s=[];const i=Array.isArray(e);this.checkMultipleProps(),r.size&&(s=[...r].map(u=>u[1]));const a=new Map;let o=e;const{onChangeWithObject:l}=this.getProps();return l&&i&&(o=e.map(u=>u.value)),i&&o.length&&o.forEach((u,d)=>{const h=t.findIndex(f=>f.value===u);if(h!==-1)a.set(t[h].label,t[h]);else{const f=s.findIndex(p=>p.value===u);if(f!==-1){const p=s[f];if(l){const _=Object.assign({},e[d]);ke(_,p)?a.set(p.label,p):a.set(_.label,_)}else a.set(p.label,p)}else{let p={value:u,label:u,_notExist:!0};l&&(p=Object.assign(Object.assign({},e[d]),{_notExist:!0})),a.set(p.label,Object.assign(Object.assign({},p),{_scrollIndex:-1}))}}}),a}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(e){const{clickToHide:t}=this.getProps(),{isOpen:r}=this.getStates();this._isDisabled()||(r?r&&t?this.close({event:e}):r&&!t&&this.focusInput():(this.open(),this._notifyFocus(e)))}open(e,t){const r=this._isFilterable(),s=t||this.getState("options");if(r){const a=this._filterOption(s,"").filter(o=>!o._inputCreateOnly);this._adapter.updateOptions(a),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(()=>{const{searchPosition:i,autoFocus:a}=this.getProps();a&&i===ba.SEARCH_POSITION_DROPDOWN&&this._adapter.focusDropdownInput()}),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(i=>{this.close({event:i}),this._notifyBlur(i),this._adapter.updateFocusState(!1)})}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focusInput()):this._adapter.toggleInputShow(e,()=>{})}close(e){const{event:t,closeCb:r,notToggleInput:s}=e||{},{isFocus:i}=this.getStates();this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),i&&this._focusTrigger(),this._adapter.unregisterClickOutsideHandler();const a=this._isFilterable();a&&!s&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{a&&this.clearInput(t),r&&r()})}onSelect(e,t,r){if(this._isDisabled())return;e._inputCreateOnly&&this._adapter.notifyCreate(e),this._isMultiple()?this._handleMultipleSelect(e,r):this._handleSingleSelect(e,r),this._adapter.updateFocusIndex(t)}_handleSingleSelect(e,t){var{value:r,label:s}=e,i=uA(e,["value","label"]);const a=new Map().set(s,Object.assign({value:r,label:s},i));this._notifySelect(r,Object.assign({value:r,label:s},i));const o=this._isFilterable();this._isControlledComponent()?this.close({event:t,notToggleInput:!0,closeCb:()=>{this._notifyChange(a),o&&this.toggle2SearchInput(!1)}}):(this._adapter.updateSelection(a),this._notifyChange(a),this.close({event:t,closeCb:()=>{this.updateOptionsActiveStatus(a)}}))}_handleMultipleSelect(e,t){var{value:r,label:s}=e,i=uA(e,["value","label"]);const a=this._adapter.getMaxLimit(),o=this._adapter.getSelections(),{autoClearSearchValue:l}=this.getProps();if(o.has(s))this._notifyDeselect(r,Object.assign({value:r,label:s},i)),o.delete(s);else if(a&&o.size===a){this._adapter.notifyMaxLimit(Object.assign({value:r,label:s},zo(i,"_scrollIndex")));return}else this._notifySelect(r,Object.assign({value:r,label:s},i)),o.set(s,Object.assign({value:r,label:s},i));if(this._isControlledComponent())this._notifyChange(o),this._isFilterable()&&(l&&this.clearInput(t),this.focusInput());else{this._adapter.updateSelection(o),this.updateOverflowItemCount(o.size),this._adapter.rePositionDropdown();let{options:u}=this.getStates();this._isFilterable()&&(l&&(this.clearInput(t),u=this._filterOption(u,"")),this.focusInput()),this.updateOptionsActiveStatus(o,u),this._notifyChange(o)}}clearSelected(){const e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());const{isOpen:t}=this.getStates();t&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getState("options");const{allowCreate:r}=this.getProps(),s=t.map(i=>(e.has(i.label)?(i._selected=!0,r&&delete i._inputCreateOnly):(i._inputCreateOnly&&(i._show=!1),i._selected=!1),i));this._adapter.updateOptions(s)}removeTag(e){const t=this._adapter.getSelections();t.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(t)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(t),this.updateOverflowItemCount(t.size),this.updateOptionsActiveStatus(t),this._adapter.rePositionDropdown(),this._notifyChange(t))}clearInput(e){const{inputValue:t}=this.getStates();if(t!==""){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);const{options:r}=this.getStates(),{remote:s}=this.getProps();let i=r;s||(i=this._filterOption(r,"")),this._adapter.updateOptions(i)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,t){this._adapter.updateInputValue(e);const{options:r,isOpen:s}=this.getStates(),{allowCreate:i,remote:a}=this.getProps();let o=r;a||(o=this._filterOption(r,e)),o=this._createOptionByInput(i,o,e),this._adapter.updateOptions(o),this._adapter.notifySearch(e,t),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,t){const r=this.getProp("filter");if(r){if(typeof r=="boolean"&&r){const s=t.toLowerCase();return e.map(i=>{const a=i.label.toString().toLowerCase(),o=i._parentGroup&&i._parentGroup.label,l=a.includes(s),u=Oe(o)&&o.toLowerCase().includes(s);return l||u?i._show=!0:i._show=!1,i})}else if(typeof r=="function")return e.map(s=>(r(t,s)?s._show=!0:s._show=!1,s))}else return e}_createOptionByInput(e,t,r){if(e)if(r){const s={_show:!0,_selected:!1,value:r,label:r,_inputCreateOnly:!0};let i=-1,a=-1;t.forEach((o,l)=>{!o._show&&!o._inputCreateOnly||(o.label===r&&(a=l),o._inputCreateOnly&&(i=l,o.value=r,o.label=r,o._show=!0))}),i===-1&&a===-1&&t.push(s),a!==-1&&(t=t.filter(o=>!o._inputCreateOnly))}else t=t.filter(s=>!s._inputCreateOnly);return t}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){const t=e.keyCode,{loading:r,filter:s,multiple:i,disabled:a}=this.getProps(),{isOpen:o}=this.getStates();if(!(r||a))switch(t){case Nn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Nn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Nn.BACKSPACE:this._handleBackspaceKeyDown();break;case Nn.ENTER:Ys(e),this._handleEnterKeyDown(e);break;case Nn.ESC:o&&this.close({event:e}),s&&!i&&this._focusTrigger();break;case Nn.TAB:this._handleTabKeyDown(e);break}}handleContainerKeyDown(e){const t=e.keyCode,{isOpen:r}=this.getStates();switch(t){case Nn.TAB:r&&this._handleTabKeyDown(e);break}}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(o=>o._show),i=s.length;let a=t+e;if(a<0&&(a=i-1),a>=i&&(a=0),e>0){let o=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){const{isOpen:t}=this.getStates();t?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){const{isOpen:t}=this.getStates();if(this._adapter.updateFocusState(!1),t){const r=this._adapter.getContainer(),s=this._adapter.getFocusableElements(r);s.length>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(s,e):this._handlePanelOpenTabKeyDown(s,e):(this.close({event:e}),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[e.length-1]&&(this._focusTrigger(),this.close({event:t}),Ys(t)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),Ys(t))}_handlePanelOpenShiftTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),Ys(t)):(this.close({event:t}),this._notifyBlur(t))}_handleEnterKeyDown(e){const{isOpen:t,options:r,focusIndex:s}=this.getStates();if(!t)this.open();else if(s!==-1){const i=r.filter(o=>o._show),{length:a}=i;if(a<=s)return;if(i&&a){const o=i[s];if(o.disabled)return;this.onSelect(o,s,e)}}else this.close({event:e})}_handleBackspaceKeyDown(){if(this._isMultiple()){const e=this._adapter.getSelections(),{inputValue:t}=this.getStates(),r=e.size;if(r&&!t){const s=[...e.keys()];let i=r-1,a=s[i],o=e.get(a),l=!1;if(o.disabled&&i===0)return;for(;o.disabled&&i!==0;)i=i-1,a=s[i],o=e.get(a),i==0&&o.disabled&&(l=!0);l||this.removeTag(o)}}}_notifyChange(e){const{onChangeWithObject:t}=this.getProps(),r=this.getState("selections");let s;const i=[...e.values()],a=this._isMultiple();if(this._diffSelections(e,r,a))switch(!0){case t:this._notifyChangeWithObject(e);break;case(!t&&!a):s=i.length?i[0].value:void 0,this._adapter.notifyChange(s);break;case(!t&&a):s=i.length?i.map(l=>l.value):[],this._adapter.notifyChange(s);break}}_removeInternalKey(e){let t=Object.assign({},e);return delete t._parentGroup,delete t._show,delete t._selected,delete t._scrollIndex,delete t._keyInJsx,"_keyInOptionList"in t&&(t.key=t._keyInOptionList,delete t._keyInOptionList),t}_notifySelect(e,t){const r=this._removeInternalKey(t);this._adapter.notifySelect(e,r)}_notifyDeselect(e,t){const r=this._removeInternalKey(t);this._adapter.notifyDeselect(e,r)}_diffSelections(e,t,r){let s=!0,i=!0;if(!r){const a=[...e.values()],o=[...t.values()],l=a[0]?a[0].value:a[0],u=o[0]?o[0].value:o[0];i=!ke(l,u);const d=a[0]?a[0].label:a[0],h=o[0]?o[0].label:o[0];s=!ke(d,h)}return i||s}_notifyChangeWithObject(e){this.getState("selections");const t=[];for(const r of e.entries()){let s=Object.assign({label:r[0]},r[1]);s=this._removeInternalKey(s),t.push(s)}this._isMultiple()?this._adapter.notifyChange(t):this._adapter.notifyChange(t[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){const{filter:t,searchPosition:r}=this.getProps();t&&r===ba.SEARCH_POSITION_TRIGGER&&this.clearInput(e),this.focus(),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===Y1&&this.handleClick(e)}handleClearBtnEnterPress(e){$s(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){const{filter:t,autoFocus:r}=this.getProps(),{isOpen:s,isFocus:i}=this.getStates();i&&!s&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){const{filter:t,autoFocus:r}=this.getProps(),{showInput:s}=this.getStates(),i=this._isMultiple();t&&!i&&(s||r)&&this.toggle2SearchInput(!1)}selectAll(){const{options:e}=this.getStates(),{onChangeWithObject:t}=this.getProps();let r=[];if(!this._isMultiple()){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}t?r=e:r=e.map(i=>i.value),this.handleValueChange(r),this._adapter.notifyChange(r)}checkMultipleProps(e){if(this._isMultiple()){const t=e||this.getProps(),{defaultValue:r,value:s}=t,i=s||r;!ct(i)&&!Array.isArray(i)&&Nt(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,t){const{maxTagCount:r,ellipsisTrigger:s}=this.getProps();s&&(t?this._adapter.updateOverflowItemCount(t):typeof r=="number"&&(e-r>0?this._adapter.updateOverflowItemCount(e-r):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){const{isFullTags:e}=this.getStates();e||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}const Wd=fF.PREFIX,Lj=yd.TAG_SIZE,kme=yd.AVATAR_SHAPE;class Cf extends T.PureComponent{renderNTag(e,t){const{size:r,showPopover:s,popoverProps:i,onPlusNMouseEnter:a}=this.props;let o=g.createElement(qn,{closable:!1,size:r,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:a},"+",e);return s&&(o=g.createElement(vr,Object.assign({showArrow:!0,content:t,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${Wd}-rest-group-popover`},i,{key:"_+n_Popover"}),o)),o}renderMergeTags(e){const{maxTagCount:t,tagList:r,restCount:s}=this.props,i=s||r.length-t;let a=e;const o=e.slice(0,t),l=e.slice(t);let u=null;return i>0&&(u=this.renderNTag(i,l),o.push(u),a=o),a}renderAllTags(){const{tagList:e,size:t,mode:r,avatarShape:s,onTagClose:i}=this.props;return e.map(o=>{if(r==="custom")return o;const l=Object.assign({},o);return l.size||(l.size=t),l.avatarShape||(l.avatarShape=s),l.tagKey||(typeof l.children=="string"||typeof l.children=="number"?l.tagKey=l.children:l.tagKey=Math.random()),g.createElement(qn,Object.assign({},l,{key:l.tagKey,onClose:(u,d,h)=>{l.onClose&&l.onClose(u,d,h),i&&i(u,d,h)}}))})}render(){const{style:e,className:t,maxTagCount:r,size:s}=this.props,i=R({[`${Wd}-group`]:!0,[`${Wd}-group-max`]:r,[`${Wd}-group-small`]:s==="small",[`${Wd}-group-large`]:s==="large"},t),a=this.renderAllTags(),o=typeof r>"u"?a:this.renderMergeTags(a);return g.createElement("div",{style:e,className:i},o)}}Cf.defaultProps={style:{},className:"",size:Lj[0],avatarShape:"square",onTagClose:()=>{},onPlusNMouseEnter:()=>{}};Cf.propTypes={children:c.node,style:c.object,className:c.string,maxTagCount:c.number,restCount:c.number,tagList:c.array,size:c.oneOf(Lj),mode:c.string,onTagClose:c.func,showPopover:c.bool,popoverProps:c.object,avatarShape:c.oneOf(kme)};var Nme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const cA=(n,e,t,r)=>{const s=n.props;if(!n||!s)return null;const i=Object.assign(Object.assign({value:s.value,label:s.label||s.children||s.value,_show:!0,_selected:!1,_scrollIndex:t},s),{_parentGroup:e});return i._keyInJsx=r||n.key,i},$me=n=>{let e=[],t=[];const r={label:"",children:[],_show:!1};let s=g.Children.toArray(n);s=s.filter(o=>o&&o.props);let i="",a=-1;return s.forEach(o=>{if(o.type.isSelectOption){i="option",a++;const l=cA(o,void 0,a);r.children.push(l),t.push(l)}else if(o.type.isSelectOptionGroup){i="group";let l=o.props,{children:u}=l,d=Nme(l,["children"]),h=[];Array.isArray(u)?h=u.map(_=>_.key):h.push(u.key),u=g.Children.toArray(u);const f=u.map((_,y)=>{let v=_.key;return h[y]===null&&(v=o.key+""+_.key),a++,cA(_,d,a,v)}),p=Object.assign(Object.assign({},o.props),{children:f,key:o.key});e.push(p),t=t.concat(f)}else Nt(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),i==="option"&&(e=[r]),{optionGroups:e,options:t}},Mj=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,a=s[e];return i(a,e,r)};var dA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Rl extends T.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,a=dA(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:r,label:s||i}),t)}renderOptionContent(e){let{config:t,children:r,inputValue:s,prefixCls:i}=e;return Oe(r)&&s?g.createElement(mp,{searchWords:t.searchWords,sourceString:t.sourceString,highlightClassName:t.highlightClassName}):r}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:a,empty:o,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:p,onMouseEnter:_,prefixCls:y,renderOptionItem:v,inputValue:m,semiOptionId:w}=e,b=dA(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),E=R(y,{[`${y}-disabled`]:r,[`${y}-selected`]:i,[`${y}-focused`]:d,[`${y}-empty`]:o,[f]:f}),S=R([`${y}-icon`]);if(o)return l===null?null:g.createElement(dn,{componentName:"Select"},O=>g.createElement("div",{className:E,"x-semi-prop":"emptyContent"},l||O.emptyText));if(typeof v=="function"){const O=R(f,{[`${y}-custom`]:!0,[`${y}-custom-selected`]:i});return v(Object.assign({disabled:r,focused:d,selected:i,style:p,label:a,value:s,inputValue:m,onMouseEnter:I=>_(I),onClick:I=>this.onClick(Object.assign({value:s,label:a,children:t},b),I),className:O},b))}const C={searchWords:[m],sourceString:t,highlightClassName:`${y}-keyword`};return g.createElement("div",Object.assign({className:E,onClick:O=>{this.onClick(Object.assign({value:s,label:a,children:t},b),O)},onMouseEnter:O=>_&&_(O),role:"option",id:w,"aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:p},df(b)),h?g.createElement("div",{className:S},g.createElement(Hv,null)):null,Oe(t)?g.createElement("div",{className:`${y}-text`},this.renderOptionContent({children:t,config:C,inputValue:m,prefixCls:y})):t)}}Rl.isSelectOption=!0;Rl.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};Rl.defaultProps={prefixCls:PT.PREFIX_OPTION};var Lme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Mme=PT.PREFIX_GROUP;class c_ extends we{render(){const e=this.props,{label:t,className:r,style:s}=e,i=Lme(e,["label","className","style"]),a=R(r,{[Mme]:!0});return!t&&typeof t!="number"?null:g.createElement("div",Object.assign({className:a,style:s},this.getDataAttr(i)),t)}}c_.isSelectOptionGroup=!0;c_.propTypes={children:c.oneOfType([c.array,c.node]),label:c.node,className:c.string,style:c.object};var Fme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ae=PT.PREFIX,jme=0;class rn extends we{constructor(e){super(e),this.setOptionContainerEl=t=>this.optionContainerEl={current:t},this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.getTagItem=(t,r,s)=>{const{size:i,disabled:a}=this.props,o=t[0],{value:l}=t[1],u=t[1].disabled||a,d=(_,y)=>{y&&typeof y.preventDefault=="function"&&y.preventDefault(),this.foundation.removeTag({label:o,value:l})},{content:h,isRenderInTag:f}=s(t[1],{index:r,disabled:u,onClose:d}),p={disabled:u,closable:!u,onClose:d};return f?g.createElement(qn,Object.assign({},p,{color:"white",size:i||"large",key:l,tabIndex:-1}),h):g.createElement(T.Fragment,{key:l},h)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:jme,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=g.createRef(),this.inputRef=g.createRef(),this.dropdownInputRef=g.createRef(),this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.optionContainerEl=g.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new ZM,this.foundation=new Dme(this.adapter)}get adapter(){var e=this;const t={registerKeyDown:i=>{const a={onKeyDown:i};this.setState({keyboardEventSet:a})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:i=>{this.setState({focusIndex:i})},scrollToFocusOption:()=>{}},r={updateInputValue:i=>{this.setState({inputValue:i})},toggleInputShow:(i,a)=>{this.setState({showInput:i},()=>{a()})},focusInput:()=>{const{preventScroll:i}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:i})},focusDropdownInput:()=>{const{preventScroll:i}=this.props;this.dropdownInputRef&&this.dropdownInputRef.current&&this.dropdownInputRef.current.focus({preventScroll:i})}},s={notifyMaxLimit:i=>this.props.onExceed(i),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:i=>{const a=o=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=xr.findDOMNode(l),h=o.target,f=o.composedPath&&o.composedPath()||[h];!(d&&d.contains(h))&&!(u&&u.contains(h))&&!(f.includes(u)||f.includes(d))&&i(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:i}=this.state;i=i+1,this.setState({optionKey:i})},notifyDeselect:(i,a)=>{delete a._parentGroup,this.props.onDeselect(i,a)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{on:(i,a)=>this.eventManager.on(i,a),off:i=>this.eventManager.off(i),once:(i,a)=>this.eventManager.once(i,a),emit:i=>this.eventManager.emit(i),getOptionsFromChildren:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.props.children,a=[],o=[];const{optionList:l}=e.props;if(l&&l.length)o=l.map((u,d)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:d},u)),a[0]={children:o,label:""};else{const u=$me(i);a=u.optionGroups,o=u.options}return e.setState({optionGroups:a}),o},updateOptions:i=>{this.setState({options:i})},openMenu:i=>{this.setState({isOpen:!0},()=>{i==null||i()})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},updateSelection:i=>{this.setState({selections:i})},getSelections:()=>new Map(this.state.selections),notifyChange:i=>{this.props.onChange(i)},notifySelect:(i,a)=>{delete a._parentGroup,this.props.onSelect(i,a)},notifyDropdownVisibleChange:i=>{this.props.onDropdownVisibleChange(i)},notifySearch:(i,a)=>{this.props.onSearch(i,a)},notifyCreate:i=>{this.props.onCreate(i)},notifyMouseEnter:i=>{this.props.onMouseEnter(i)},notifyMouseLeave:i=>{this.props.onMouseLeave(i)},notifyFocus:i=>{this.props.onFocus(i)},notifyBlur:i=>{this.props.onBlur(i)},notifyClear:()=>{this.props.onClear()},notifyListScroll:i=>{this.props.onListScroll(i)},updateHovering:i=>{this.setState({isHovering:i})},updateFocusState:i=>{this.setState({isFocus:i})},updateOverflowItemCount:i=>{this.setState({overflowItemCount:i})},focusTrigger:()=>{try{const{preventScroll:i}=this.props;this.triggerRef.current.focus({preventScroll:i})}catch{}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:i=>r2(i),getActiveElement:()=>n2(),setIsFocusInContainer:i=>{this.setState({isFocusInContainer:i})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:i=>{let a;"renderOptionItem"in this.props?(a=`.${ae}-option-custom-selected`,i!==void 0&&(a=`.${ae}-option-custom:nth-child(${i+1})`)):(a=`.${ae}-option-selected`,i!==void 0&&(a=`.${ae}-option:nth-child(${i+1})`));let o=document.querySelector(`#${ae}-${this.selectOptionListID} ${a}`);if(Array.isArray(o)&&(o=o[0]),o){const l=o.parentNode;l.scrollTop=o.offsetTop-l.offsetTop-l.clientHeight/2+o.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=Pa(),this.selectID=this.props.id||Pa()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){const r=g.Children.toArray(e.children).map(a=>a.key),s=g.Children.toArray(this.props.children).map(a=>a.key);let i=!1;(!ke(r,s)||!ke(e.optionList,this.props.optionList))&&(i=!0,this.foundation.handleOptionListChange()),(!ke(this.props.value,e.value)||i)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderTriggerInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i}=this.props,a=K(s,"className"),o=R(`${ae}-input`,{[`${ae}-input-single`]:!t,[`${ae}-input-multiple`]:t},a),{inputValue:l,focusIndex:u}=this.state,d=Object.assign({value:l,disabled:r,className:o,onChange:this.handleInputChange},s);let h={};return t&&(h={width:l?`${l.length*16}px`:"2px"},d.style=h),g.createElement(En,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:"",onFocus:f=>{t&&i&&this.setState({isFocus:!0}),f.stopPropagation()},onBlur:f=>this.foundation.handleInputBlur(f)},d))}renderDropdownInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i,searchPosition:a,searchPlaceholder:o}=this.props,{inputValue:l,focusIndex:u}=this.state,d=R(`${ae}-dropdown-search-wrapper`,{}),h=K(s,"className"),f=R(`${ae}-dropdown-input`,{[`${ae}-dropdown-input-single`]:!t,[`${ae}-dropdown-input-multiple`]:t},h),p=Object.assign(Object.assign({value:l,disabled:r,className:f,onChange:this.handleInputChange,placeholder:o,showClear:!0},s),{onKeyDown:_=>this.foundation._handleKeyDown(_)});return g.createElement("div",{className:d},g.createElement(En,Object.assign({ref:this.dropdownInputRef,prefix:g.createElement(D2,null),"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:""},p)))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,t,r){this.foundation.onSelect(e,t,r)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,t){this.handleInputChange(e,t)}renderEmpty(){return g.createElement(Rl,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){const e=`${ae}-loading-wrapper`;return g.createElement("div",{className:e},g.createElement(qi,null))}renderOption(e,t,r){const{focusIndex:s,inputValue:i}=this.state,{renderOptionItem:a}=this.props;let o;const l=t===s;let u=r||{};return e.style&&(u=Object.assign(Object.assign({},u),e.style)),e._inputCreateOnly?o=this.renderCreateOption(e,l,t,r):("key"in e&&(e._keyInOptionList=e.key),o=g.createElement(Rl,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(d,h)=>this.onSelect(d,t,h),focused:l,onMouseEnter:()=>this.onOptionHover(t),style:u,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+t,renderOptionItem:a,inputValue:i,semiOptionId:`${this.selectID}-option-${t}`}),e.label)),o}renderCreateOption(e,t,r,s){const{renderCreateItem:i}=this.props;if(typeof i>"u")return g.createElement(Rl,Object.assign({key:e.key||e.label+e.value,onSelect:(l,u)=>this.onSelect(l,r,u),onMouseEnter:()=>this.onOptionHover(r),showTick:!0},e,{focused:t,style:s}),g.createElement(dn,{componentName:"Select"},l=>g.createElement(g.Fragment,null,g.createElement("span",{className:`${ae}-create-tips`},l.createText),e.value)));const a=i(e.value,t,s);return g.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:o=>this.onSelect(e,r,o),key:e.key||e.label},a)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){const t=[],r=new Map;return e.forEach((s,i)=>{const a=s._parentGroup,o=this.renderOption(s,i);if(a&&!r.has(a.label)){const l=g.createElement(c_,Object.assign({},a,{key:a.label}));r.set(a.label,!0),t.push(l)}t.push(o)}),t}renderVirtualizeList(e){const{virtualize:t}=this.props,{direction:r}=this.context,{height:s,width:i,itemSize:a}=t;return g.createElement(sT,{ref:this.virtualizeListRef,height:s||$j.LIST_HEIGHT,itemCount:e.length,itemSize:a,itemData:{visibleOptions:e,renderOption:this.renderOption},width:i||"100%",style:{direction:r}},Mj)}renderOptions(e){const{dropdownMinWidth:t,options:r,selections:s}=this.state,{maxHeight:i,dropdownClassName:a,dropdownStyle:o,outerTopSlot:l,innerTopSlot:u,outerBottomSlot:d,innerBottomSlot:h,loading:f,virtualize:p,multiple:_,emptyContent:y,searchPosition:v,filter:m}=this.props,w=r.filter(O=>O._show);let b=this.renderWithGroup(w);p&&(b=this.renderVirtualizeList(w));const E=Object.assign({minWidth:t},o),S=R({[`${ae}-option-list`]:!0,[`${ae}-option-list-chosen`]:s.size}),C=!r.length||!r.some(O=>O._show);return g.createElement("div",{id:`${ae}-${this.selectOptionListID}`,className:R({[`${ae}-option-list-wrapper`]:!(C&&y===null)},a),style:E,ref:this.setOptionContainerEl,onKeyDown:O=>this.foundation.handleContainerKeyDown(O)},l?g.createElement("div",{className:`${ae}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},l):null,v===ba.SEARCH_POSITION_DROPDOWN&&m?this.renderDropdownInput():null,g.createElement("div",{style:{maxHeight:`${i}px`},className:S,role:"listbox","aria-multiselectable":_,onScroll:O=>this.foundation.handleListScroll(O)},u?g.createElement("div",{className:`${ae}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},u):null,f?this.renderLoading():C?this.renderEmpty():b,h?g.createElement("div",{className:`${ae}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},h):null),d?g.createElement("div",{className:`${ae}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},d):null)}renderSingleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i}=this.props,{showInput:a,inputValue:o}=this.state;let l="";const u=[...e];if(typeof r>"u"&&(r=p=>p.label),u.length){const p=u[0][1];l=r(p)}const d=s===ba.SEARCH_POSITION_TRIGGER,h=R({[`${ae}-selection-text`]:!0,[`${ae}-selection-placeholder`]:!l&&l!==0,[`${ae}-selection-text-hide`]:o&&a&&d,[`${ae}-selection-text-inactive`]:!o&&a&&d}),f=`${ae}-content-wrapper`;return g.createElement(g.Fragment,null,g.createElement("div",{className:f},g.createElement("span",{className:h,"x-semi-prop":"placeholder"},l||l===0?l:i),t&&a&&d?this.renderTriggerInput():null))}renderTag(e,t,r){const{size:s,disabled:i}=this.props;let{renderSelectedItem:a}=this.props;const o=e[0],{value:l}=e[1],u=e[1].disabled||i,d=(y,v)=>{v&&typeof v.preventDefault=="function"&&v.preventDefault(),this.foundation.removeTag({label:o,value:l})};typeof a>"u"&&(a=y=>({isRenderInTag:!0,content:y.label}));const{content:h,isRenderInTag:f}=a(e[1],{index:t,disabled:u,onClose:d}),p={disabled:u,closable:!u,onClose:d},_=r&&!Te(this.props.renderSelectedItem)?g.createElement(zv,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},h):h;return f?g.createElement(qn,Object.assign({},p,{color:"white",size:s||"large",key:l,style:{maxWidth:"100%"}}),_):g.createElement(T.Fragment,{key:l},_)}renderNTag(e,t){const{size:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props;let a=g.createElement(qn,{closable:!1,size:r||"large",color:"grey",className:`${ae}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return s&&(a=g.createElement(vr,Object.assign({showArrow:!0,content:g.createElement(Vi,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},t.map((o,l)=>this.renderTag(o,l))),trigger:"hover",position:"top",autoAdjustOverflow:!0},i,{key:`_+${e}_Popover`}),a)),a}renderOverflow(e,t){return e.length&&e[0]?this.renderTag(e[0],t,!0):null}handleOverflow(e){const{overflowItemCount:t,selections:r}=this.state,{maxTagCount:s}=this.props,i=r.size-s>0?r.size-s+e.length-1:e.length-1;t!==i&&this.foundation.updateOverflowItemCount(r.size,i)}renderCollapsedTags(e,t){const{overflowItemCount:r}=this.state,s=typeof t=="number"?e.slice(0,t):e;return g.createElement("div",{className:`${ae}-content-wrapper-collapse`},g.createElement(Sf,{items:s,key:String(e.length),overflowRenderer:i=>this.renderOverflow(i,t-1),onOverflow:i=>this.handleOverflow(i),visibleItemRenderer:(i,a)=>this.renderTag(i,a)}),r>0&&this.renderNTag(r,e.slice(e.length-r)))}renderOneLineTags(e,t){let{renderSelectedItem:r}=this.props;const{showRestTagsPopover:s,restTagsPopoverProps:i,maxTagCount:a}=this.props,{isFullTags:o}=this.state;let l;if(typeof r>"u"&&(r=u=>({isRenderInTag:!0,content:u.label})),s){const d=(o?e:e.slice(0,a)).map((h,f)=>this.getTagItem(h,f,r));l=g.createElement(Cf,{tagList:d,maxTagCount:t,restCount:o?void 0:e.length-a,size:"large",mode:"custom",showPopover:s,popoverProps:i,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{const d=e.slice(0,a).map((h,f)=>this.getTagItem(h,f,r));l=g.createElement(Cf,{tagList:d,maxTagCount:t,restCount:e.length-a,size:"large",mode:"custom"})}return l}renderMultipleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i,maxTagCount:a,expandRestTagsOnClick:o,ellipsisTrigger:l}=this.props,{inputValue:u,isOpen:d}=this.state,h=[...e];typeof r>"u"&&(r=E=>({isRenderInTag:!0,content:E.label}));const f=R({[`${ae}-content-wrapper`]:!0,[`${ae}-content-wrapper-one-line`]:a&&!d,[`${ae}-content-wrapper-empty`]:!h.length}),p=R({[`${ae}-selection-text`]:!0,[`${ae}-selection-placeholder`]:!h.length,[`${ae}-selection-text-hide`]:h&&h.length}),_=i&&!u?g.createElement("span",{className:p},i):null,y=h.length>a?a:void 0,v=!a,m=l?this.renderCollapsedTags(h,y):this.renderOneLineTags(h,y),w=v||o&&d?h.map((E,S)=>this.renderTag(E,S)):m,b=t&&s===ba.SEARCH_POSITION_TRIGGER;return g.createElement(g.Fragment,null,g.createElement("div",{className:f},h&&h.length?w:_,b?this.renderTriggerInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){const{virtualize:t}=this.props,{selections:r}=this.state;if(e)if(t){let s=-1;if(r.forEach(i=>{const a=K(i,"_scrollIndex");jt(a)&&a>=0&&(s=s!==-1&&s<a?s:a)}),s!==-1)try{this.virtualizeListRef.current.scrollToItem(s,"center")}catch{}}else this.foundation.updateScrollTop()}renderSuffix(){const{suffix:e}=this.props,t=R({[`${ae}-suffix`]:!0,[`${ae}-suffix-text`]:e&&Oe(e),[`${ae}-suffix-icon`]:hr(e)});return g.createElement("div",{className:t,"x-semi-prop":"suffix"},e)}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t,i=R({[`${ae}-prefix`]:!0,[`${ae}-inset-label`]:t,[`${ae}-prefix-text`]:s&&Oe(s),[`${ae}-prefix-icon`]:hr(s)});return g.createElement("div",{className:i,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSelection(){const e=this.props,{disabled:t,multiple:r,filter:s,style:i,id:a,size:o,className:l,validateStatus:u,showArrow:d,suffix:h,prefix:f,insetLabel:p,placeholder:_,triggerRender:y,arrowIcon:v,clearIcon:m,borderless:w}=e,b=Fme(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:E,isOpen:S,keyboardEventSet:C,inputValue:O,isHovering:I,isFocus:P,showInput:x,focusIndex:D}=this.state,$=typeof y=="function",M=!!s,V=$?R(l):R(ae,l,{[`${ae}-borderless`]:w,[`${ae}-open`]:S,[`${ae}-focus`]:P,[`${ae}-disabled`]:t,[`${ae}-single`]:!r,[`${ae}-multiple`]:r,[`${ae}-filterable`]:M,[`${ae}-small`]:o==="small",[`${ae}-large`]:o==="large",[`${ae}-error`]:u==="error",[`${ae}-warning`]:u==="warning",[`${ae}-no-arrow`]:!d,[`${ae}-with-prefix`]:f||p,[`${ae}-with-suffix`]:h}),B=this.props.showClear&&(E.size||O)&&!t&&(I||S),F=d?g.createElement("div",{className:`${ae}-arrow`,"x-semi-prop":"arrowIcon"},v):g.createElement("div",{className:`${ae}-arrow-empty`}),W=m||g.createElement(Ko,null),N=$?g.createElement(hu,{value:Array.from(E.values()),inputValue:O,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:L=>this.foundation.removeTag(L),onClear:this.onClear,disabled:t,triggerRender:y,placeholder:_,componentName:"Select",componentProps:Object.assign({},this.props)}):[g.createElement(T.Fragment,{key:"prefix"},f||p?this.renderPrefix():null),g.createElement(T.Fragment,{key:"selection"},g.createElement("div",{className:R(`${ae}-selection`)},r?this.renderMultipleSelection(E,M):this.renderSingleSelection(E,M))),g.createElement(T.Fragment,{key:"suffix"},h?this.renderSuffix():null),g.createElement(T.Fragment,{key:"clearicon"},B?g.createElement("div",{className:R(`${ae}-clear`),onClick:this.onClear},W):F)],j=t||M&&x||M&&r?-1:0;return g.createElement("div",Object.assign({role:"combobox","aria-disabled":t,"aria-expanded":S,"aria-controls":`${ae}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":E.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:V,ref:L=>this.triggerRef.current=L,onClick:L=>this.foundation.handleClick(L),style:i,id:this.selectID,tabIndex:j,"aria-activedescendant":D!==-1?`${this.selectID}-option-${D}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:L=>this.foundation.handleTriggerFocus(L),onBlur:L=>this.foundation.handleTriggerBlur(L),onKeyPress:this.onKeyPress},C,this.getDataAttr(b)),N)}render(){const{direction:e}=this.context,t=e==="rtl"?"bottomRight":"bottomLeft",{children:r,position:s=t,zIndex:i,getPopupContainer:a,motion:o,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,spacing:h,stopPropagation:f,dropdownMargin:p}=this.props,{isOpen:_,optionKey:y}=this.state,v=this.renderSelection();return g.createElement(vr,{getPopupContainer:a,motion:o,margin:p,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,zIndex:i,ref:this.optionsRef,content:()=>this.renderOptions(r),visible:_,trigger:"custom",rePosKey:y,position:s,spacing:h,stopPropagation:f,disableArrowKeyDown:!0,onVisibleChange:m=>this.handlePopoverVisibleChange(m),afterClose:()=>this.foundation.handlePopoverClose()},v)}}rn.contextType=Nr;rn.Option=Rl;rn.OptGroup=c_;rn.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoClearSearchValue:c.bool,borderless:c.bool,children:c.node,clearIcon:c.node,defaultValue:c.oneOfType([c.string,c.number,c.array,c.object]),ellipsisTrigger:c.bool,value:c.oneOfType([c.string,c.number,c.array,c.object]),placeholder:c.node,onChange:c.func,multiple:c.bool,filter:c.oneOfType([c.func,c.bool]),max:c.number,maxTagCount:c.number,maxHeight:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,size:c.oneOf(ba.SIZE_SET),disabled:c.bool,emptyContent:c.node,expandRestTagsOnClick:c.bool,onDropdownVisibleChange:c.func,zIndex:c.number,position:c.oneOf(ba.POSITION_SET),onSearch:c.func,getPopupContainer:c.func,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),outerTopSlot:c.node,innerTopSlot:c.node,inputProps:c.object,outerBottomSlot:c.node,innerBottomSlot:c.node,optionList:c.array,dropdownMatchSelectWidth:c.bool,loading:c.bool,defaultOpen:c.bool,validateStatus:c.oneOf(ba.STATUS),defaultActiveFirstOption:c.bool,triggerRender:c.func,stopPropagation:c.bool,searchPosition:c.string,motion:c.bool,onChangeWithObject:c.bool,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,showClear:c.bool,showArrow:c.bool,renderSelectedItem:c.func,allowCreate:c.bool,renderCreateItem:c.func,onMouseEnter:c.func,onMouseLeave:c.func,clickToHide:c.bool,onExceed:c.func,onCreate:c.func,remote:c.bool,onDeselect:c.func,onSelect:c.func,autoAdjustOverflow:c.bool,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,spacing:c.oneOfType([c.number,c.object]),onBlur:c.func,onFocus:c.func,onClear:c.func,virtualize:c.object,renderOptionItem:c.func,onListScroll:c.func,arrowIcon:c.node,preventScroll:c.bool};rn.__SemiComponentName__="Select";rn.defaultProps=hs(rn.__SemiComponentName__,{stopPropagation:!0,motion:!0,borderless:!1,zIndex:as.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:k,onChangeWithObject:!1,onChange:k,onSearch:k,onMouseEnter:k,onMouseLeave:k,onDeselect:k,onSelect:k,onCreate:k,onExceed:k,onFocus:k,onBlur:k,onClear:k,onListScroll:k,maxHeight:$j.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,searchPosition:ba.SEARCH_POSITION_TRIGGER,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:g.createElement(Uv,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1});const Vme={PREFIX:`${Y}-progress`},Pr={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};function Ume(n,e,t){try{const r=Bme(n,e,t);if(r.length!==0)return r}catch{return}}function Bme(n,e,t){if(n.sort((s,i)=>s.percent-i.percent),n[0].percent>e)return Pr.STROKE_DEFAULT;const r=n[n.length-1];if(r.percent<e)return Gd(r.color);for(const[s,i]of n.entries()){if(i.percent===e)return Gd(i.color);if(e>i.percent)continue;const a=n[s-1];return t?Hme({startColor:Gd(a.color),endColor:Gd(i.color),size:i.percent-a.percent-1},e-a.percent-1):Gd(a.color)}}function Hme(n,e){const{startColor:t,endColor:r,size:s}=n,i=t.split(""),a=r.split(""),o=[parseInt(`${i[1]}${i[2]}`,16),parseInt(`${a[1]}${a[2]}`,16)],l=[parseInt(`${i[3]}${i[4]}`,16),parseInt(`${a[3]}${a[4]}`,16)],u=[parseInt(`${i[5]}${i[6]}`,16),parseInt(`${a[5]}${a[6]}`,16)],d=[parseInt(`${i[7]}${i[8]}`,16),parseInt(`${a[7]}${a[8]}`,16)],h=(o[0]-o[1])/(s+1),f=(l[0]-l[1])/(s+1),p=(u[0]-u[1])/(s+1),_=(d[0]-d[1])/(s+1);function y(m){const w=Math.round(o[0]-h*(m+1)).toString(16),b=Math.round(l[0]-f*(m+1)).toString(16),E=Math.round(u[0]-p*(m+1)).toString(16),S=`${v(w)}${v(b)}${v(E)}`,C=Math.floor(_*(m+1)+d[1]).toString(16);return ms.Hex(`#${S}`,C)}function v(m){return m.length===1?`0${m}`:m.length===0?"00":m}if(typeof e>"u"){const m=[t];for(let w=0;w<s;w+=1)m.push(y(w));return m}return y(e)}function Gd(n){if(n=n.trim().toLowerCase(),ac.hex.test(n))return ms.Hex(n,void 0);if(ac.hslA.test(n))return ms.Hex(ms.HslA(n),void 0);if(ac.rgbA.test(n))return ms.Hex(ms.RgbA(n),void 0);if(ac.semiDesignTokens.test(n))return hA.ALONG.indexOf(n)!==-1?ms.SemiDesignToken(n):hA.SEQUENCE.indexOf(n)!==-1?ms.SemiDesignToken(`${n}-5`):ms.SemiDesignToken(`${n}`)}const ms={Hex(n,e){return n=n.replace("#",""),n.length===8?`#${n}`:n.length===6?`#${n}${e||"ff"}`:(n.length===3&&(n=n.split("").map(t=>t+t).join("")),`#${n}${e||"ff"}`)},SemiDesignToken(n){if(typeof window>"u")return;const e=getComputedStyle(document.body).getPropertyValue(`--semi-${n}`);if(e==="")return;const t=`rgba(${e}, 1)`;return ms.RgbA(t)},HslA(n){const e=ac.hslA.exec(n),t=parseInt(e[2]),r=parseInt(e[3])/100,s=parseInt(e[4])/100,i=e[5],a=(1-Math.abs(2*s-1))*r,o=a*(1-Math.abs(t/60%2-1)),l=s-a/2;let u=0,d=0,h=0;return 0<=t&&t<60?(u=a,d=o,h=0):60<=t&&t<120?(u=o,d=a,h=0):120<=t&&t<180?(u=0,d=a,h=o):180<=t&&t<240?(u=0,d=o,h=a):240<=t&&t<300?(u=o,d=0,h=a):300<=t&&t<360&&(u=a,d=0,h=o),u=Math.round((u+l)*255).toString(16),d=Math.round((d+l)*255).toString(16),h=Math.round((h+l)*255).toString(16),ms.utils.pAL(u,d,h,i)},RgbA(n){const e=ac.rgbA.exec(n),t=parseInt(e[2],10).toString(16),r=parseInt(e[3],10).toString(16),s=parseInt(e[4],10).toString(16),i=e[5];return ms.utils.pAL(t,r,s,i)},utils:{pAL(n,e,t,r){return n.length==1&&(n="0"+n),e.length==1&&(e="0"+e),t.length==1&&(t="0"+t),typeof r<"u"?(r=Math.round(parseInt(r)*255).toString(16),r.length==1&&(r="0"+r),"#"+n+e+t+r):"#"+n+e+t}}},ac={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},hA={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var fA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Bs=Vme.PREFIX;class xy extends T.Component{constructor(e){super(e),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}componentDidUpdate(e){if(isNaN(this.props.percent)||isNaN(e.percent))throw new Error("[Semi Progress]:percent can not be NaN");if(e.percent!==this.props.percent){if(!this.props.motion){this.setState({percentNumber:this.props.percent});return}this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new G2({from:{value:e.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",t=>{if(this._mounted===!1)return;const r=parseInt(t.value);this.setState({percentNumber:r})}),this.animation.on("rest",()=>{this._mounted!==!1&&this.setState({percentNumber:this.props.percent})}),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){const e=this.props,{strokeLinecap:t,style:r,className:s,strokeWidth:i,format:a,size:o,stroke:l,strokeGradient:u,showInfo:d,percent:h,orbitStroke:f,id:p}=e,_=fA(e,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),y=this.props["aria-label"],v=this.props["aria-labelledby"],m=this.props["aria-valuetext"],{percentNumber:w}=this.state,b={wrapper:R(`${Bs}-circle`,s),svg:R(`${Bs}-circle-ring`),circle:R(`${Bs}-circle-ring-inner`)},E=this.calcPercent(h),S=this.calcPercent(w);let C;this.props.width?C=this.props.width:o===Pr.DEFAULT_SIZE?C=72:C=24;const O=this.selectStroke(l,h,u),I=C/2,P=C/2,x=(C-i)/2,D=x*2*Math.PI,$=(1-E/100)*D,M=`${D} ${D}`,V=a(S);return g.createElement("div",Object.assign({id:p,className:b.wrapper,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":S,"aria-labelledby":v,"aria-label":y,"aria-valuetext":m},df(_)),g.createElement("svg",{key:o,className:b.svg,height:C,width:C,"aria-hidden":!0},g.createElement("circle",{strokeDashoffset:0,strokeWidth:i,strokeDasharray:M,strokeLinecap:t,fill:"transparent",stroke:f,r:x,cx:P,cy:I,"aria-hidden":!0}),g.createElement("circle",{className:b.circle,strokeDashoffset:$,strokeWidth:i,strokeDasharray:M,strokeLinecap:t,fill:"transparent",stroke:O,r:x,cx:P,cy:I,"aria-hidden":!0})),d&&o!=="small"?g.createElement("span",{className:`${Bs}-circle-text`},V):null)}calcPercent(e){let t;return e>100?t=100:e<0?t=0:t=e,t}selectStroke(e,t,r){if(typeof e=="string")return e;const s=Ume(e,t,r);return typeof s<"u"?s:Pr.STROKE_DEFAULT}renderLineProgress(){const e=this.props,{className:t,style:r,stroke:s,strokeGradient:i,direction:a,format:o,showInfo:l,size:u,percent:d,orbitStroke:h,id:f}=e,p=fA(e,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),_=this.props["aria-label"],y=this.props["aria-labelledby"],v=this.props["aria-valuetext"],{percentNumber:m}=this.state,w=R(Bs,t,{[`${Bs}-horizontal`]:a===Pr.DEFAULT_DIRECTION,[`${Bs}-vertical`]:a!==Pr.DEFAULT_DIRECTION,[`${Bs}-large`]:u==="large"}),b=R({[`${Bs}-track`]:!0}),E=R(`${Bs}-track-inner`),S=this.calcPercent(d),C=this.calcPercent(m),I={background:this.selectStroke(s,d,i)};a===Pr.DEFAULT_DIRECTION?I.width=`${S}%`:I.height=`${S}%`;const P=o(C);return g.createElement("div",Object.assign({id:f,className:w,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":S,"aria-labelledby":y,"aria-label":_,"aria-valuetext":v},df(p)),g.createElement("div",{className:b,style:h?{backgroundColor:h}:{},"aria-hidden":!0},g.createElement("div",{className:E,style:I,"aria-hidden":!0})),l?g.createElement("div",{className:`${Bs}-line-text`},P):null)}render(){const{type:e}=this.props;return e==="line"?this.renderLineProgress():this.renderCircleProgress()}}xy.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-valuetext":c.string,className:c.string,direction:c.oneOf(Pr.directions),format:c.oneOfType([c.func,c.node]),id:c.string,motion:c.oneOfType([c.bool,c.func,c.object]),orbitStroke:c.string,percent:c.number,scale:c.number,showInfo:c.bool,size:c.oneOf(Pr.sizes),stroke:c.oneOfType([c.string,c.arrayOf(c.shape({percent:c.number,color:c.string}))]),strokeGradient:c.bool,strokeLinecap:c.oneOf(Pr.strokeLineCap),strokeWidth:c.number,style:c.object,type:c.oneOf(Pr.types),width:c.number};xy.defaultProps={className:"",direction:Pr.DEFAULT_DIRECTION,format:n=>`${n}%`,motion:!0,orbitStroke:"var(--semi-color-fill-0)",percent:0,showInfo:!1,size:Pr.DEFAULT_SIZE,stroke:Pr.STROKE_DEFAULT,strokeGradient:!1,strokeLinecap:Pr.DEFAULT_LINECAP,strokeWidth:4,style:{},type:Pr.DEFAULT_TYPE};const Fj={PREFIX:`${Y}-radio`},zme={PREFIX:`${Y}-radioGroup`},sn={DIRECTION_SET:["horizontal","vertical"],DEFAULT_DIRECTION:"horizontal",MODE:["advanced",""],TYPE_DEFAULT:"default",TYPE_BUTTON:"button",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",BUTTON_SIZE:["middle","small","large"]};class Kme extends Pe{constructor(e){super(Object.assign({},e))}init(){const e=this._getDisplayValue();this._setValue(e)}_getDisplayValue(){const{value:e,defaultValue:t}=this.getProps();let r;return"value"in this.getProps()?r=e:"defaultValue"in this.getProps()&&(r=t),r}handleChange(e){const t=this.getProp("mode"),r=this.getState("value"),{checked:s,value:i}=e.target,a=this._adapter.isInProps("value"),o=Object.assign(Object.assign({},e),{target:Object.assign(Object.assign({},e.target),{value:i})});t==="advanced"&&!s&&(o.target.value=void 0),a||(t==="advanced"&&!s?this._setValue(void 0):this._setValue(i)),(t==="advanced"||r!==i)&&this._adapter.notifyChange(o)}handlePropValueChange(e){this._setValue(e)}_setValue(e){this._adapter.setValue(e)}destroy(){}}class Wme extends Pe{constructor(){super(...arguments),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{Nt(!0,"Warning: [Semi Radio] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this._adapter.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}setHover(e){this._adapter.setHover(e)}setChecked(e){this._adapter.setChecked(e)}}class Gme extends Pe{constructor(e){super(Object.assign({},e))}init(){const e=this._adapter.getProp("checked"),t=this._adapter.getProp("defaultChecked");this.setChecked(e||t)}setChecked(e){this._adapter.setNativeControlChecked(e)}getChecked(){return this._adapter.getProp("checked")}handleChange(e){const t="checked"in this.getProps(),{checked:r}=e.target,s=()=>{e.stopPropagation()},i=()=>{e.preventDefault()},a={target:Object.assign(Object.assign({},this.getProps()),{checked:r}),stopPropagation:s,preventDefault:i};t?this._adapter.notifyChange(a):(this.setChecked(r),this._adapter.notifyChange(a))}destroy(){}}const xT=g.createContext(null);class d_ extends we{constructor(e){super(e),this.state={checked:!1},this.foundation=new Gme(this.adapter),this.onChange=this.onChange.bind(this)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{this.props.onChange(e)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e){e.checked!==this.props.checked&&this.foundation.setChecked(this.props.checked)}componentWillUnmount(){this.foundation.destroy()}blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}onChange(e){this.foundation.handleChange(e)}render(){const{disabled:e,mode:t,autoFocus:r,name:s,isButtonRadio:i,isPureCardRadioGroup:a,addonId:o,extraId:l,"aria-label":u,focusInner:d,onInputFocus:h,onInputBlur:f}=this.props,{checked:p}=this.state,_=this.props.prefixCls||Fj.PREFIX,y=R({[`${_}-inner`]:!0,[`${_}-inner-checked`]:!!p,[`${_}-inner-buttonRadio`]:i,[`${_}-inner-pureCardRadio`]:a}),v=R({[`${_}-focus`]:d,[`${_}-focus-border`]:d&&!p,[`${_}-inner-display`]:!i});return g.createElement("span",{className:y},g.createElement("input",{ref:m=>{this.inputEntity=m},autoFocus:r,type:t==="advanced"?"checkbox":"radio",checked:!!p,disabled:e,onChange:this.onChange,name:s,"aria-label":u,"aria-labelledby":o,"aria-describedby":l,onFocus:h,onBlur:f}),g.createElement("span",{className:v},p?g.createElement(Wie,null):null))}}d_.contextType=xT;d_.propTypes={checked:c.bool,disabled:c.bool,isButtonRadio:c.bool,onChange:c.func,mode:c.oneOf(["advanced",""]),"aria-label":c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};d_.defaultProps={onChange:k,isButtonRadio:!1};var Yme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Kl extends we{constructor(e){super(e),this.onChange=t=>{const{onChange:r}=this.props;if(this.isInGroup()){const{radioGroup:s}=this.context;s.onChange&&s.onChange(t)}!("checked"in this.props)&&this.foundation.setChecked(t.target.checked),r&&r(t)},this.handleMouseEnter=t=>{this.props.onMouseEnter(t),this.foundation.setHover(!0)},this.handleMouseLeave=t=>{this.props.onMouseLeave(t),this.foundation.setHover(!1)},this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:e.addonId,extraId:e.extraId,checked:e.checked||e.defaultChecked||!1},this.foundation=new Wme(this.adapter),this.radioEntity=null}componentDidUpdate(e){this.props.checked!==e.checked&&(dt(this.props.checked)?this.foundation.setChecked(!1):hF(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:e=>{this.setState({hover:e})},setAddonId:()=>{this.setState({addonId:Pa({prefix:"addon"})})},setChecked:e=>{this.setState({checked:e})},setExtraId:()=>{this.setState({extraId:Pa({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){const e=this.props,{addonClassName:t,addonStyle:r,disabled:s,style:i,className:a,prefixCls:o,displayMode:l,children:u,extra:d,mode:h,type:f,value:p,name:_}=e,y=Yme(e,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]);let v,m,w,b,E,S,C,O,I;const{hover:P,addonId:x,extraId:D,focusVisible:$,checked:M}=this.state,V={checked:M,disabled:s};this.isInGroup()?(v=this.context.radioGroup.value===p,m=s||this.context.radioGroup.disabled,w=this.context.mode,b=this.context.radioGroup.isButtonRadio,E=this.context.radioGroup.isCardRadio,S=this.context.radioGroup.isPureCardRadio,O=this.context.radioGroup.buttonSize,I=o||this.context.radioGroup.prefixCls,V.checked=v,V.disabled=m):(v=M,m=s,w=h,C=f==="button",I=o,b=f===sn.TYPE_BUTTON,S=f===sn.TYPE_PURECARD,E=f===sn.TYPE_CARD||S);const B=typeof b>"u"?C:b,F=I||Fj.PREFIX,W=E||S||B,N=R(F,{[`${F}-disabled`]:m,[`${F}-checked`]:v,[`${F}-${l}`]:!!l,[`${F}-buttonRadioComponent`]:C,[`${F}-buttonRadioGroup`]:b,[`${F}-buttonRadioGroup-${O}`]:b&&O,[`${F}-cardRadioGroup`]:E,[`${F}-cardRadioGroup_disabled`]:m&&E,[`${F}-cardRadioGroup_checked`]:E&&v&&!m,[`${F}-cardRadioGroup_checked_disabled`]:E&&v&&m,[`${F}-cardRadioGroup_hover`]:E&&!v&&P&&!m,[a]:!!a,[`${F}-focus`]:$&&(E||S)}),j=this.isInGroup()&&this.context.radioGroup.name,L=R({[`${F}-addon`]:!B,[`${F}-addon-buttonRadio`]:B,[`${F}-addon-buttonRadio-checked`]:B&&v,[`${F}-addon-buttonRadio-disabled`]:B&&m,[`${F}-addon-buttonRadio-hover`]:B&&!v&&!m&&P,[`${F}-addon-buttonRadio-${O}`]:B&&O,[`${F}-focus`]:$&&B},t),te=()=>!u&&!d?null:g.createElement("div",{className:R([`${F}-content`,{[`${F}-isCardRadioGroup_content`]:E}])},u?g.createElement("span",{className:L,style:r,id:x,"x-semi-prop":"children"},u):null,d&&!B?g.createElement("div",{className:`${F}-extra`,id:D,"x-semi-prop":"extra"},d):null);return g.createElement("label",Object.assign({style:i,className:N,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(y)),g.createElement(d_,Object.assign({},this.props,V,{mode:w,name:_??j,isButtonRadio:B,isPureCardRadioGroup:S,onChange:this.onChange,ref:Q=>{this.radioEntity=Q},addonId:u&&x,extraId:d&&D,focusInner:$&&!W,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),te())}}Kl.contextType=xT;Kl.propTypes={autoFocus:c.bool,checked:c.bool,defaultChecked:c.bool,value:c.any,style:c.object,className:c.string,disabled:c.bool,prefixCls:c.string,displayMode:c.oneOf(["vertical",""]),onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,mode:c.oneOf(sn.MODE),extra:c.node,addonStyle:c.object,addonClassName:c.string,type:c.oneOf([sn.TYPE_DEFAULT,sn.TYPE_BUTTON,sn.TYPE_CARD,sn.TYPE_PURECARD]),"aria-label":c.string,preventScroll:c.bool};Kl.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:k,onMouseLeave:k,mode:"",type:"default"};Kl.elementType="Radio";var qme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class RT extends we{constructor(e){super(e),this.onChange=t=>{this.foundation.handleChange(t)},this.getFormatName=()=>this.props.name||"default",this.state={value:e.value||e.defaultValue},this.foundation=new Kme(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){typeof e.value=="number"&&isNaN(e.value)&&typeof this.props.value=="number"&&isNaN(this.props.value)||e.value!==this.props.value&&this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>{this.setState({value:e})},getProps:()=>this.props,isInProps:e=>e in this.props,notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}render(){const e=this.props,{children:t,options:r,mode:s,prefixCls:i,className:a,style:o,direction:l,type:u,buttonSize:d,id:h}=e,f=qme(e,["children","options","mode","prefixCls","className","style","direction","type","buttonSize","id"]),p=u===sn.TYPE_BUTTON,_=u===sn.TYPE_PURECARD,y=u===sn.TYPE_CARD||_,v=u===sn.TYPE_DEFAULT,m=i||zme.PREFIX,w=R(a,{[m]:!0,[`${m}-wrapper`]:!0,[`${m}-${l}`]:l&&!p,[`${m}-${l}-default`]:l&&v,[`${m}-${l}-card`]:l&&y,[`${m}-buttonRadio`]:p}),b=this.state.value;let E;return r?E=(r||[]).map((S,C)=>typeof S=="string"?g.createElement(Kl,{key:C,disabled:this.props.disabled,value:S},S):g.createElement(Kl,{key:C,disabled:S.disabled||this.props.disabled,value:S.value,extra:S.extra,className:S.className,style:S.style},S.label)):t&&(E=g.Children.map(t,(S,C)=>g.isValidElement(S)?g.cloneElement(S,{key:C}):null)),g.createElement("div",Object.assign({className:w,style:o,id:h,"aria-label":this.props["aria-label"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(f)),g.createElement(xT.Provider,{value:{radioGroup:{onChange:this.onChange,value:b,disabled:this.props.disabled,name:this.getFormatName(),isButtonRadio:p,isCardRadio:y,isPureCardRadio:_,buttonSize:d,prefixCls:i},mode:s}},E))}}RT.propTypes={defaultValue:c.any,disabled:c.bool,name:c.string,options:c.array,buttonSize:c.oneOf(sn.BUTTON_SIZE),type:c.oneOf([sn.TYPE_DEFAULT,sn.TYPE_BUTTON,sn.TYPE_CARD,sn.TYPE_PURECARD]),value:c.any,onChange:c.func,children:c.node,prefixCls:c.string,className:c.string,style:c.object,direction:c.oneOf(sn.DIRECTION_SET),mode:c.oneOf(sn.MODE),"aria-label":c.string,"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,id:c.string};RT.defaultProps={disabled:!1,onChange:k,direction:sn.DEFAULT_DIRECTION,mode:"",type:sn.TYPE_DEFAULT,buttonSize:"middle"};const gm={PREFIX:`${Y}-rating`},jj={SIZE_SET:["default","small"]};class AT extends Pe{constructor(e){super(Object.assign(Object.assign({},AT.defaultAdapter),e)),this.handleStarFocusVisible=t=>{const{target:r}=t,{count:s}=this.getProps();try{r.matches(":focus-visible")&&this._adapter.setEmptyStarFocusVisible(!0)}catch{Nt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleStarBlur=t=>{const{emptyStarFocusVisible:r}=this.getStates();r&&this._adapter.setEmptyStarFocusVisible(!1)}}init(){const{autoFocus:e,disabled:t}=this.getProps();e&&!t&&this._adapter.focus()}_getScroll(e,t){let r=t?e.pageYOffset:e.pageXOffset;const s=t?"scrollTop":"scrollLeft";if(typeof r!="number"){const i=e.document;r=i.documentElement[s],typeof r!="number"&&(r=i.body[s])}return r}_getClientPosition(e){let t,r;const s=e.ownerDocument,{body:i}=s,a=s&&s.documentElement,o=e.getBoundingClientRect();return t=o.left,r=o.top,t-=a.clientLeft||i.clientLeft||0,r-=a.clientTop||i.clientTop||0,{left:t,top:r}}_getOffsetLeft(e){const t=this._getClientPosition(e),r=e.ownerDocument,s=r.defaultView||r.parentWindow;return t.left+=this._getScroll(s),t.left}getStarValue(e,t){const{allowHalf:r}=this.getProps(),i=this._adapter.getContext("direction")==="rtl";let a=e+1;if(r){const o=this._adapter.getStarDOM(e),l=this._getOffsetLeft(o),u=o.clientWidth;(i&&t-l>u/2||!i&&t-l<u/2)&&(a-=.5)}return a}handleHover(e,t){const r=this.getStarValue(t,e.pageX),{clearedValue:s,hoverValue:i}=this.getStates();r!==i&&r!==s&&this._adapter.notifyHoverChange(r,null)}handleMouseLeave(){this._adapter.notifyHoverChange(void 0,null)}handleClick(e,t){const{allowClear:r}=this.getProps(),{value:s}=this.getStates(),i=this.getStarValue(t,e.pageX),a=r?i===s:!1;this._adapter.updateValue(a?0:i),a?this._adapter.notifyHoverChange(void 0,i):this._adapter.clearValue(null)}handleFocus(e){this._adapter.notifyFocus(e)}handleBlur(e){this._adapter.notifyBlur(e)}handleKeyDown(e,t){const{key:r}=e,{count:s,allowHalf:i}=this.getProps(),o=this._adapter.getContext("direction")==="rtl",l=i?.5:1;let u,d;r==="ArrowRight"||r==="ArrowUp"?u=t+(o?-l:l):(r==="ArrowLeft"||r==="ArrowDown")&&(u=t+(o?l:-l)),u>s?d=0:u<0?d=s:d=u,["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(r)&&(this._adapter.notifyKeyDown(e),this._adapter.updateValue(d),this.changeFocusStar(d,e),e.preventDefault(),this._adapter.notifyHoverChange(void 0,null))}changeFocusStar(e,t){const{count:r,allowHalf:s,preventScroll:i}=this.getProps(),a=Math.ceil(e)-1,o=[...t.currentTarget.childNodes].map(l=>l.childNodes[0].childNodes);a<0?o[r][0].focus({preventScroll:i}):o[a][s?e*10%10===5?0:1:0].focus({preventScroll:i})}}class DT extends Pe{constructor(e){super(Object.assign(Object.assign({},DT.defaultAdapter),e)),this.handleFocusVisible=(t,r)=>{const{target:s}=t;try{s.matches(":focus-visible")&&(r==="first"?this._adapter.setFirstStarFocus(!0):this._adapter.setSecondStarFocus(!0))}catch{Nt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleBlur=(t,r)=>{const{firstStarFocus:s,secondStarFocus:i}=this.getStates();r==="first"?s&&this._adapter.setFirstStarFocus(!1):i&&this._adapter.setSecondStarFocus(!1)}}}class Vj extends we{constructor(e){super(e),this.firstStar=null,this.secondStar=null,this.onHover=t=>{const{onHover:r,index:s}=this.props;r(t,s)},this.onClick=t=>{const{onClick:r,index:s}=this.props;r(t,s)},this.onFocus=(t,r)=>{const{onFocus:s}=this.props;s&&s(t),this.foundation.handleFocusVisible(t,r)},this.onBlur=(t,r)=>{const{onBlur:s}=this.props;s&&s(t),this.foundation.handleBlur(t,r)},this.onKeyDown=t=>{const{onClick:r,index:s}=this.props;t.keyCode===13&&r(t,s)},this.starFocus=()=>{const{value:t,index:r,preventScroll:s}=this.props;t-r===.5?this.firstStar.focus({preventScroll:s}):this.secondStar.focus({preventScroll:s})},this.saveFirstStar=t=>{this.firstStar=t},this.saveSecondStar=t=>{this.secondStar=t},this.state={firstStarFocus:!1,secondStarFocus:!1},this.foundation=new DT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setFirstStarFocus:e=>{this.setState({firstStarFocus:e})},setSecondStarFocus:e=>{this.setState({secondStarFocus:e})}})}render(){const{index:e,prefixCls:t,character:r,count:s,value:i,disabled:a,allowHalf:o,focused:l,size:u,ariaLabelPrefix:d}=this.props,{firstStarFocus:h,secondStarFocus:f}=this.state,p=e+1,_=p-i,y=o&&_<1&&_>0,v=1-_,m=p<=i,w=typeof u=="number",b=R(t,{[`${t}-half`]:y,[`${t}-full`]:m,[`${t}-${u}`]:!w}),E=w?{width:u,height:u,fontSize:u}:{},S=w?"inherit":u==="small"?"default":"extra-large",C=r||g.createElement(Qie,{size:S,style:{display:"block"}}),O=e===s,I=R(`${t}-wrapper`,{[`${t}-disabled`]:a,[`${gm.PREFIX}-focus`]:(h||f)&&i!==0}),P={onClick:a?null:this.onClick,onKeyDown:a?null:this.onKeyDown,onMouseMove:a?null:this.onHover,className:I},x=o?s*2+1:s+1,D={ref:this.saveFirstStar,role:"radio","aria-checked":i===e+.5,"aria-posinset":2*e+1,"aria-setsize":x,"aria-disabled":a,"aria-label":`${e+.5} ${d}s`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:R(`${t}-first`,`${gm.PREFIX}-no-focus`),tabIndex:!a&&i===e+.5?0:-1,onFocus:V=>{this.onFocus(V,"first")},onBlur:V=>{this.onBlur(V,"first")}},$=!a&&(i===e+1||O&&i===0)?0:-1,M={ref:this.saveSecondStar,role:"radio","aria-checked":O?i===0:i===e+1,"aria-posinset":o?2*(e+1):e+1,"aria-setsize":x,"aria-disabled":a,"aria-label":`${O?0:e+1} ${d}${e===0?"":"s"}`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:R(`${t}-second`,`${gm.PREFIX}-no-focus`),tabIndex:$,onFocus:V=>{this.onFocus(V,"second")},onBlur:V=>{this.onBlur(V,"second")}};return g.createElement("li",{className:b,style:Object.assign({},E),key:e},g.createElement("div",Object.assign({},P),o&&!O&&g.createElement("div",Object.assign({},D,{style:{width:`${v*100}%`}}),C),g.createElement("div",Object.assign({},M,{"x-semi-prop":"character"}),C)))}}Vj.propTypes={value:c.number,index:c.number,prefixCls:c.string,allowHalf:c.bool,onHover:c.func,onClick:c.func,character:c.node,focused:c.bool,disabled:c.bool,count:c.number,ariaLabelPrefix:c.string,size:c.oneOfType([c.oneOf(jj.SIZE_SET),c.number]),"aria-describedby":c.string,onFocus:c.func,onBlur:c.func,preventScroll:c.bool};var Xme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class h_ extends we{constructor(e){super(e),this.rate=null,this.onHover=(r,s)=>{this.foundation.handleHover(r,s)},this.onMouseLeave=()=>{this.foundation.handleMouseLeave()},this.onClick=(r,s)=>{this.foundation.handleClick(r,s)},this.onFocus=r=>{this.foundation.handleFocus(r)},this.onBlur=r=>{this.foundation.handleBlur(r)},this.onKeyDown=r=>{const{value:s}=this.state;this.foundation.handleKeyDown(r,s)},this.focus=()=>{const{disabled:r,preventScroll:s}=this.props;r||this.rate.focus({preventScroll:s})},this.blur=()=>{const{disabled:r}=this.props;r||this.rate.blur()},this.saveRef=r=>s=>{this.stars[r]=s},this.saveRate=r=>{this.rate=r},this.handleStarFocusVisible=r=>{this.foundation.handleStarFocusVisible(r)},this.handleStarBlur=r=>{this.foundation.handleStarBlur(r)},this.getAriaLabelPrefix=()=>{if(this.props["aria-label"])return this.props["aria-label"];let r="star";const{character:s}=this.props;return typeof s=="string"&&(r=s),r},this.getItemList=r=>{const{count:s,allowHalf:i,prefixCls:a,disabled:o,character:l,size:u,tooltips:d}=this.props,{value:h,hoverValue:f,focused:p}=this.state;return[...Array(s+1).keys()].map(y=>{const v=g.createElement(Vj,{ref:this.saveRef(y),index:y,count:s,prefixCls:`${a}-star`,allowHalf:i,value:f===void 0?h:f,onClick:o?mt:this.onClick,onHover:o?mt:this.onHover,key:y,disabled:o,character:l,focused:p,size:y===s?0:u,ariaLabelPrefix:r,onFocus:o||s!==y?mt:this.handleStarFocusVisible,onBlur:o||s!==y?mt:this.handleStarBlur});if(d){const m=d[y]?d[y]:"",w=f-1===y;return g.createElement(pr,{visible:w,trigger:"custom",content:m,key:`${y}-${w}`},v)}return v})};const t=e.value===void 0?e.defaultValue:e.value;this.stars={},this.state={value:t,focused:!1,hoverValue:void 0,clearedValue:null,emptyStarFocusVisible:!1},this.foundation=new AT(this.adapter)}static getDerivedStateFromProps(e,t){return"value"in e&&e.value!==void 0?Object.assign(Object.assign({},t),{value:e.value}):t}get adapter(){return Object.assign(Object.assign({},super.adapter),{focus:()=>{const{disabled:e,count:t}=this.props,{value:r}=this.state;if(!e){const s=Math.ceil(r)-1;this.stars[s<0?t:s].starFocus()}},getStarDOM:e=>{const t=this.stars&&this.stars[e];return xr.findDOMNode(t)},notifyHoverChange:(e,t)=>{const{onHoverChange:r}=this.props;this.setState({hoverValue:e,clearedValue:t}),r(e)},updateValue:e=>{const{onChange:t}=this.props;"value"in this.props||this.setState({value:e}),t(e)},clearValue:e=>{this.setState({clearedValue:e})},notifyFocus:e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)},notifyBlur:e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),t&&t(e)},notifyKeyDown:e=>{const{onKeyDown:t}=this.props;this.setState({focused:!1}),t&&t(e)},setEmptyStarFocusVisible:e=>{this.setState({emptyStarFocusVisible:e})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,prefixCls:r,disabled:s,className:i,id:a,count:o,tabIndex:l}=e,u=Xme(e,["style","prefixCls","disabled","className","id","count","tabIndex"]),{value:d,emptyStarFocusVisible:h}=this.state,f=this.getAriaLabelPrefix(),p=`Rating: ${d} of ${o} ${f}${d===1?"":"s"},`,_=this.getItemList(f),y=R(r,{[`${r}-disabled`]:s,[`${r}-focus`]:h},i);return g.createElement("ul",Object.assign({"aria-label":p,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],className:y,style:t,onMouseLeave:s?mt:this.onMouseLeave,tabIndex:s?-1:l,onFocus:s?mt:this.onFocus,onBlur:s?mt:this.onBlur,onKeyDown:s?mt:this.onKeyDown,ref:this.saveRate,id:a},this.getDataAttr(u)),_)}}h_.contextType=Nr;h_.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-label":c.string,"aria-labelledby":c.string,"aria-required":c.bool,disabled:c.bool,value:c.number,defaultValue:c.number,count:c.number,allowHalf:c.bool,allowClear:c.bool,style:c.object,prefixCls:c.string,onChange:c.func,onHoverChange:c.func,className:c.string,character:c.node,tabIndex:c.number,onFocus:c.func,onBlur:c.func,onKeyDown:c.func,autoFocus:c.bool,size:c.oneOfType([c.oneOf(jj.SIZE_SET),c.number]),tooltips:c.arrayOf(c.string),id:c.string,preventScroll:c.bool};h_.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:gm.PREFIX,onChange:mt,onHoverChange:mt,tabIndex:-1,size:"default"};const lr={PREFIX:`${Y}-slider`,VERTICAL:`${Y}-slider-vertical`,TRACK:`${Y}-slider-track`,DOTS:`${Y}-slider-dots`,MARKS:`${Y}-slider-marks`,HANDLE:`${Y}-slider-handle`,HANDLE_DOT:`${Y}-slider-handle-dot`},pA=(n,e)=>(!globalThis.Touch||!(n instanceof Touch)||["stopPropagation","preventDefault"].forEach(r=>{let s=e[r];s&&(typeof s=="function"&&(s=function(){return e[r](...arguments)}),n[r]?Nt(!0,`"The key ${r}" exist in Touch.`):n[r]=s)}),n);class kT extends Pe{constructor(e){var t;super(Object.assign(Object.assign({},kT.defaultAdapter),e)),t=this,this.getMinAndMaxPercent=r=>{const{range:s,min:i,max:a}=this._adapter.getProps(),o=s?(r[0]-i)/(a-i):(r-i)/(a-i),l=s?(r[1]-i)/(a-i):1;return{min:this._checkValidity(o),max:this._checkValidity(l)}},this._checkValidity=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r>i?i:r<s?s:r},this.computeHandleVisibleVal=(r,s,i)=>{const{focusPos:a,currentValue:o}=this._adapter.getStates(),l={min:!1,max:!1};let u;return s?u={min:s(i?this.outPutValue(o[0]):this.outPutValue(o)),max:i?s(this.outPutValue(o[1])):null}:u={min:i?this.outPutValue(o[0]):this.outPutValue(o),max:i?this.outPutValue(o[1]):null},r?(l.min=!0,l.max=!0):typeof r>"u"&&s&&(a==="min"?l.min=!0:a==="max"&&(l.max=!0)),{tipVisible:l,tipChildren:u}},this.valueFormatIsCorrect=r=>Array.isArray(r)?typeof r[0]=="number"&&typeof r[0]=="number":typeof r=="number",this.handleMousePos=(r,s)=>{const i=this._adapter.getParentRect(),a=this._adapter.getScrollParentVal(),o=i?i.left:0,l=i?i.top:0;return{x:r-o+a.scrollLeft,y:s-l+a.scrollTop}},this.getScrollParent=r=>{const s=r,i=/(auto|scroll)/,a=(u,d)=>window.getComputedStyle(u,null).getPropertyValue(d),o=u=>i.test(a(u,"overflow")+a(u,"overflow-y")+a(u,"overflow-x")),l=u=>!u||u===document.body||!(u instanceof Element)?document.body:o(u)?u:l(u.parentNode);return l(s)},this.checkMeetMinMax=r=>{const{vertical:s,verticalReverse:i,range:a}=this._adapter.getProps(),o=this._adapter.getState("currentValue");this.transValueToPos(o);const{sliderX:l,sliderY:u,sliderWidth:d,sliderHeight:h}=this._adapter.getSliderLengths(),{chooseMovePos:f,isDrag:p}=this._adapter.getStates(),_=s?h:d;let y;s&&i?y=u+_:y=s?u:l;let v;return s&&i?v=u:v=s?u+h:l+d,s&&i?r>=y?r=y:r<=v&&(r=v):r<=y?r=y:r>=v&&(r=v),r},this.transPosToValue=(r,s)=>{const i=this.checkMeetMinMax(r),{min:a,max:o,currentValue:l}=this._adapter.getStates(),{range:u,vertical:d,step:h,verticalReverse:f}=this._adapter.getProps(),{sliderX:p,sliderY:_,sliderWidth:y,sliderHeight:v}=this._adapter.getSliderLengths(),m=d?_:p,w=d?v:y;let b;d&&f?b=(m+w-i)/w*(o-a)+a:b=(i-m)/w*(o-a)+a;let E;return u?E=s?l[0]:l[1]:E=l,h!==1&&(b=Math.round(b/h)*h),u&&b!==E?s?[b,l[1]]:[l[0],b]:!u&&b!==E?b:!1},this.transValueToPos=r=>{const{min:s,max:i}=this._adapter.getStates(),{vertical:a,range:o,verticalReverse:l}=this._adapter.getProps(),{sliderX:u,sliderY:d,sliderWidth:h,sliderHeight:f}=this._adapter.getSliderLengths(),p=a?d:u,_=a?f:h;return o?[(r[0]-s)*_/(i-s)+p,(r[1]-s)*_/(i-s)+p]:(r-s)*_/(i-s)+p},this.isMarkActive=r=>{const{min:s,max:i,range:a,included:o}=this._adapter.getProps(),l=this._adapter.getState("currentValue");return typeof(r/1)=="number"&&r>=s&&r<=i?a?(r>l[1]||r<l[0])&&o?"unActive":"active":r<=l&&o?"active":"unActive":!1},this.outPutValue=r=>{const s=o=>{var l,u;return/^\d+(\.\d+)?$/.test(String(o))&&(u=(l=o.toString().split(".")[1])===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0},i=this._adapter.getProp("step"),a=(()=>{const o=s(i),l=Math.pow(10,o);return u=>Math.round(u*l)/l})();if(Array.isArray(r)){const o=a(r[0]),l=a(r[1]);return o>l?this.getState("focusPos")==="min"?[l,l]:[o,o]:[o,l]}else return a(r)},this.handleDisabledChange=r=>{this._adapter.updateDisabled(r)},this.checkAndUpdateIsInRenderTreeState=()=>this._adapter.checkAndUpdateIsInRenderTreeState(),this.calculateOutputValue=(r,s)=>{const i=this.transPosToValue(r,s);if(i!==!1)return this.outPutValue(i)},this.handleValueChange=(r,s)=>{const{min:i,max:a}=this._adapter.getStates();let o=null;const l={};this.valueFormatIsCorrect(s)?(Array.isArray(r)&&Array.isArray(s)&&(s=[s[0]<i?i:s[0],s[1]>a?a:s[1]],o=Object.assign(l,{currentValue:s})),typeof r=="number"&&typeof s=="number"&&(s>a?s=a:s=s<i?i:s,o=Object.assign(l,{currentValue:s}))):o=l,o&&this._adapter.transNewPropsToState(o)},this.onHandleDown=(r,s)=>{this._adapter.onHandleDown(r);const i=this._adapter.getState("disabled"),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(i)return!1;this._adapter.setStateVal("isDrag",!0),this._adapter.setStateVal("chooseMovePos",s),s==="min"?this._adapter.setDragging([!0,o[1]]):this._adapter.setDragging([o[0],!0]);const l=this.handleMousePos(r.clientX,r.clientY);let u=a?l.y:l.x;if(!this._adapter.isEventFromHandle(r))this._dragOffset=0;else{const d=this._getHandleCenterPosition(a,r.target);this._dragOffset=u-d,u=d}return!0},this.onHandleMove=r=>{this._adapter.setEventDefault(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(s)return!1;this.onHandleEnter(i);const l=this.handleMousePos(r.clientX,r.clientY);let u=a?l.y:l.x;if(u=u-this._dragOffset,i==="min"&&o[0]||i==="max"&&o[1]){const d=this.calculateOutputValue(u,i==="min");if(d===void 0)return!1;this._adapter.notifyChange(d),this._adapter.onHandleMove(u,i==="min",void 0,!1,d)}return!0},this.onHandleTouchStart=(r,s)=>{const i=this._adapter.getMinHandleEl(),a=this._adapter.getMaxHandleEl();if(r.target===i||r.target===a){Ys(r);const o=pA(r.touches[0],r);this.onHandleDown(o,s)}},this.onHandleTouchMove=r=>{const s=this._adapter.getMinHandleEl(),i=this._adapter.getMaxHandleEl();if(r.target===s||r.target===i){const a=pA(r.touches[0],r);this.onHandleMove(a)}},this.onHandleEnter=r=>{const{disabled:s,focusPos:i}=this._adapter.getStates();s||!i&&r!==i&&this._adapter.onHandleEnter(r)},this.onHandleLeave=()=>{const r=this._adapter.getState("disabled"),s=this._adapter.getState("isDrag");!r&&!s&&this._adapter.onHandleLeave()},this.onHandleUp=r=>{this._adapter.onHandleUpBefore(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{dragging:a}=this._adapter.getOverallVars();return s?!1:(i==="min"?this._adapter.setDragging([!1,a[1]]):this._adapter.setDragging([a[0],!1]),this._adapter.setStateVal("isDrag",!1),this._adapter.onHandleLeave(),this._adapter.onHandleUpAfter(),!0)},this._handleValueDecreaseWithKeyBoard=(r,s)=>{const{min:i,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(s==="min")if(o){let l=a[0]-r;return l=l<i?i:l,[l,a[1]]}else{let l=a-r;return l=l<i?i:l,l}else{let l=a[1]-r;return l=l<a[0]?a[0]:l,[a[0],l]}},this._handleValueIncreaseWithKeyBoard=(r,s)=>{const{max:i,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(s==="min")if(o){let l=a[0]+r;return l=l>a[1]?a[1]:l,[l,a[1]]}else{let l=a+r;return l=l>i?i:l,l}else{let l=a[1]+r;return l=l>i?i:l,[a[0],l]}},this._handleHomeKey=r=>{const{min:s,currentValue:i}=this.getStates(),{range:a}=this.getProps();return r==="min"?a?[s,i[1]]:s:[i[0],i[0]]},this._handleEndKey=r=>{const{max:s,currentValue:i}=this.getStates(),{range:a}=this.getProps();return r==="min"?a?[i[1],i[1]]:s:[i[0],s]},this.handleKeyDown=(r,s)=>{const{min:i,max:a,currentValue:o}=this.getStates(),{step:l,range:u}=this.getProps();let d;switch(r.key){case"ArrowLeft":case"ArrowDown":d=this._handleValueDecreaseWithKeyBoard(l,s);break;case"ArrowRight":case"ArrowUp":d=this._handleValueIncreaseWithKeyBoard(l,s);break;case"PageUp":d=this._handleValueIncreaseWithKeyBoard(10*l,s);break;case"PageDown":d=this._handleValueDecreaseWithKeyBoard(10*l,s);break;case"Home":d=this._handleHomeKey(s);break;case"End":d=this._handleEndKey(s);break}if(["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(r.key)){let h=!0;Array.isArray(o)?h=!(o[0]===d[0]&&o[1]===d[1]):h=o!==d,h&&(this._adapter.updateCurrentValue(d),this._adapter.notifyChange(d)),Ys(r)}},this._noTooltip=()=>{const{tipFormatter:r,tooltipVisible:s}=this.getProps();return r===null||s===!1},this.onFocus=(r,s)=>{if(this._noTooltip())return;Ys(r);const{target:a}=r;try{a.matches(":focus-visible")&&(s==="min"?this._adapter.setStateVal("firstDotFocusVisible",!0):this._adapter.setStateVal("secondDotFocusVisible",!0))}catch{Nt(!0,"Warning: [Semi Slider] The current browser does not support the focus-visible")}},this.onBlur=(r,s)=>{if(this._noTooltip())return;const{firstDotFocusVisible:a,secondDotFocusVisible:o}=this.getStates();s==="min"?a&&this._adapter.setStateVal("firstDotFocusVisible",!1):o&&this._adapter.setStateVal("secondDotFocusVisible",!1)},this.handleWrapClick=r=>{const{disabled:s,isDrag:i}=this._adapter.getStates();if(i||s||this._adapter.isEventFromHandle(r))return;const{vertical:a}=this.getProps(),o=this.handleMousePos(r.clientX,r.clientY),l=a?o.y:o.x,u=this.checkWhichHandle(l),d=this.calculateOutputValue(l,u);d!==void 0&&(this._adapter.notifyChange(d),!this._isControlledComponent()&&this.setHandlePos(l,u,!0,d))},this.setHandlePos=function(r,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3?arguments[3]:void 0;t._adapter.onHandleMove(r,s,()=>t._adapter.onHandleUpAfter(),i,a)},this.checkWhichHandle=r=>{const{vertical:s,verticalReverse:i}=this.getProps(),{currentValue:a}=this._adapter.getStates(),o=this.transValueToPos(a);let l=!0;return Array.isArray(o)&&(r>o[1]||Math.abs(r-o[0])>Math.abs(r-o[1]))&&(l=!1),s&&i&&(l=!l),l},this.handleWrapperEnter=()=>{this._adapter.setStateVal("showBoundary",!0)},this.handleWrapperLeave=()=>{this._adapter.setStateVal("showBoundary",!1)}}init(){this._checkCurrentValue(),this._dragOffset=0}_checkCurrentValue(){const{currentValue:e,min:t,max:r}=this.getStates();let s;Array.isArray(e)?(s=[],s[0]=this._checkValidity(e[0],t,r),s[1]=this._checkValidity(e[1],t,r)):s=this._checkValidity(e,t,r),this._adapter.updateCurrentValue(s)}destroy(){this._adapter.unSubscribeEventListener()}_getHandleCenterPosition(e,t){const r=t.getBoundingClientRect(),{x:s,y:i}=this.handleMousePos(r.left+r.width*.5,r.top+r.height*.5);return e?i:s}}var Qme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ps=lr.PREFIX;function Zme(n){return n?!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length):!1}class NT extends we{constructor(e){super(e),this.renderHandle=()=>{var r,s,i,a,o;const{vertical:l,range:u,tooltipVisible:d,tipFormatter:h,"aria-label":f,"aria-labelledby":p,"aria-valuetext":_,getAriaValueText:y,disabled:v}=this.props,{chooseMovePos:m,isDrag:w,isInRenderTree:b,firstDotFocusVisible:E,secondDotFocusVisible:S}=this.state,C=l?"top":"left",O=this.foundation.getMinAndMaxPercent(this.state.currentValue),I=O.min,P=O.max,{tipVisible:x,tipChildren:D}=this.foundation.computeHandleVisibleVal(d&&b,h,u),$=R(lr.HANDLE,{[`${lr.HANDLE}-clicked`]:m==="min"&&w}),M=R(lr.HANDLE,{[`${lr.HANDLE}-clicked`]:m==="max"&&w}),{min:V,max:B,currentValue:F}=this.state,W={"aria-label":f??(v?"Disabled Slider":void 0),"aria-labelledby":p,"aria-disabled":v};l&&Object.assign(W,{"aria-orientation":"vertical"});const N=this.props.handleDot;return u?g.createElement(g.Fragment,null,g.createElement(pr,{content:D.min,position:"top",trigger:"custom",rePosKey:I,visible:b&&(x.min||E),className:`${lr.HANDLE}-tooltip`},g.createElement("span",Object.assign({ref:this.minHanleEl,className:$,style:{[C]:`${I*100}%`,zIndex:m==="min"?2:1},onMouseDown:L=>{this.foundation.onHandleDown(L,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:L=>{this.foundation.onHandleTouchStart(L,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:L=>{this.foundation.onHandleUp(L)},onTouchEnd:L=>{this.foundation.onHandleUp(L)},onKeyDown:L=>{this.foundation.handleKeyDown(L,"min")},onFocus:L=>{this.foundation.onFocus(L,"min")},onBlur:L=>{this.foundation.onBlur(L,"min")},role:"slider",tabIndex:v?-1:0},W,{"aria-valuetext":y?y(F[0],0):_,"aria-valuenow":F[0],"aria-valuemax":F[1],"aria-valuemin":V}),(N==null?void 0:N[0])&&g.createElement("div",{className:lr.HANDLE_DOT,style:Object.assign(Object.assign({},!((r=N[0])===null||r===void 0)&&r.size?{width:N[0].size,height:N[0].size}:{}),!((s=N[0])===null||s===void 0)&&s.color?{backgroundColor:N[0].color}:{})}))),g.createElement(pr,{content:D.max,position:"top",trigger:"custom",rePosKey:P,visible:b&&(x.max||S),className:`${lr.HANDLE}-tooltip`},g.createElement("span",Object.assign({ref:this.maxHanleEl,className:M,style:{[C]:`${P*100}%`,zIndex:m==="max"?2:1},onMouseDown:L=>{this.foundation.onHandleDown(L,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:L=>{this.foundation.onHandleUp(L)},onTouchStart:L=>{this.foundation.onHandleTouchStart(L,"max")},onTouchEnd:L=>{this.foundation.onHandleUp(L)},onKeyDown:L=>{this.foundation.handleKeyDown(L,"max")},onFocus:L=>{this.foundation.onFocus(L,"max")},onBlur:L=>{this.foundation.onBlur(L,"max")},role:"slider",tabIndex:v?-1:0},W,{"aria-valuetext":y?y(F[1],1):_,"aria-valuenow":F[1],"aria-valuemax":B,"aria-valuemin":F[0]}),((i=this.props.handleDot)===null||i===void 0?void 0:i[1])&&g.createElement("div",{className:lr.HANDLE_DOT,style:Object.assign(Object.assign({},!((a=this.props.handleDot[1])===null||a===void 0)&&a.size?{width:this.props.handleDot[1].size,height:this.props.handleDot[1].size}:{}),!((o=this.props.handleDot[1])===null||o===void 0)&&o.color?{backgroundColor:this.props.handleDot[1].color}:{})})))):g.createElement(pr,{content:D.min,showArrow:this.props.showArrow,position:"top",trigger:"custom",rePosKey:I,visible:b&&(x.min||E),className:`${lr.HANDLE}-tooltip`},g.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:$,style:{[C]:`${I*100}%`,zIndex:m==="min"&&w?2:1},onMouseDown:L=>{this.foundation.onHandleDown(L,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:L=>{this.foundation.onHandleTouchStart(L,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:L=>{this.foundation.onHandleUp(L)},onTouchEnd:L=>{this.foundation.onHandleUp(L)},onKeyDown:L=>{this.foundation.handleKeyDown(L,"min")},onFocus:L=>{this.foundation.onFocus(L,"min")},onBlur:L=>{this.foundation.onBlur(L,"min")},role:"slider","aria-valuetext":y?y(F,0):_,tabIndex:v?-1:0},W,{"aria-valuenow":F,"aria-valuemax":B,"aria-valuemin":V}),N&&g.createElement("div",{className:lr.HANDLE_DOT,style:Object.assign(Object.assign({},N!=null&&N.size?{width:N.size,height:N.size}:{}),N!=null&&N.color?{backgroundColor:N.color}:{})})))},this.renderTrack=()=>{const{range:r,included:s,vertical:i}=this.props,a=this.foundation.getMinAndMaxPercent(this.state.currentValue),o=a.min,l=a.max;let u=i?{height:r?`${Math.abs(l-o)*100}%`:`${o*100}%`,top:r?`${Math.min(o,l)*100}%`:0}:{width:r?`${Math.abs(l-o)*100}%`:`${o*100}%`,left:r?`${Math.min(o,l)*100}%`:0};return u=s?u:{},g.createElement("div",{className:lr.TRACK,style:u,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{const{min:r,max:s,vertical:i,marks:a}=this.props,o=i?"top":"left";return a&&Object.keys(a).length>0?g.createElement("div",{className:lr.DOTS},Object.keys(a).map(u=>{const d=this.foundation.isMarkActive(Number(u)),h=R(`${ps}-dot`,{[`${ps}-dot-active`]:this.foundation.isMarkActive(Number(u))==="active"}),f=(Number(u)-r)/(s-r),p=g.createElement("span",{key:u,onClick:this.foundation.handleWrapClick,className:h,style:{[o]:`calc(${f*100}% - 2px)`}});return d?this.props.tooltipOnMark?g.createElement(pr,{content:a[u]},p):p:null})):null},this.renderLabel=()=>{if(!this.props.showMarkLabel)return null;const{min:r,max:s,vertical:i,marks:a,verticalReverse:o}=this.props,l=i?"top":"left";return a&&Object.keys(a).length>0?g.createElement("div",{className:lr.MARKS+(i&&o?"-reverse":"")},Object.keys(a).map(d=>{const h=this.foundation.isMarkActive(Number(d)),f=(Number(d)-r)/(s-r);return h?g.createElement("span",{key:d,className:R(`${ps}-mark${i&&o?"-reverse":""}`),style:{[l]:`${f*100}%`},onClick:this.foundation.handleWrapClick},a[d]):null})):null},this._getAriaValueText=(r,s)=>{const{getAriaValueText:i}=this.props;return i?i(r,s):r};let{value:t}=this.props;t||(t=this.props.defaultValue),this.state={currentValue:t||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=g.createRef(),this.minHanleEl=g.createRef(),this.maxHanleEl=g.createRef(),this.dragging=[!1,!1],this.foundation=new kT(this.adapter),this.eventListenerSet=new Set,this.handleDownEventListenerSet=new Set}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{var t;if(this.sliderEl&&this.sliderEl.current){const r=this.sliderEl.current.getBoundingClientRect(),s=(t=this.sliderEl.current.offsetParent)===null||t===void 0?void 0:t.getBoundingClientRect(),i={x:s?r.left-s.left:this.sliderEl.current.offsetLeft,y:s?r.top-s.top:this.sliderEl.current.offsetTop};return{sliderX:i.x,sliderY:i.y,sliderWidth:r.width,sliderHeight:r.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{const t=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(t)return t.getBoundingClientRect()},getScrollParentVal:()=>{const t=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}},isEventFromHandle:t=>{const r=[this.minHanleEl,this.maxHanleEl];let s=!1;return r.forEach(i=>{if(!i)return;const a=i&&i.current,o=xr.findDOMNode(a);o&&o.contains(t.target)&&(s=!0)}),s},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:t=>{this.setState({disabled:t})},transNewPropsToState(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k;this.setState(t,r)},notifyChange:t=>{this.props.onChange(Array.isArray(t)?[...t].sort((r,s)=>r-s):t)},setDragging:t=>{this.dragging=t},updateCurrentValue:t=>{const{currentValue:r}=this.state;t!==r&&this.setState({currentValue:t})},setOverallVars:(t,r)=>{this[t]=r},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:t=>{this.handleDownEventListenerSet.add(this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1)),this.handleDownEventListenerSet.add(this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1)),this.handleDownEventListenerSet.add(this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1))},onHandleMove:function(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4?arguments[4]:void 0;if(!e.foundation.checkAndUpdateIsInRenderTreeState())return;const{value:l}=e.props;let u=a;if(u===void 0){const h=e.foundation.transPosToValue(t,r);if(h===!1)return;u=e.foundation.outPutValue(h)}const{currentValue:d}=e.state;if(!ke(e.foundation.outPutValue(d),u)){if(!i&&e.foundation.valueFormatIsCorrect(l))return!1;e.setState({currentValue:u},s)}},setEventDefault:t=>{t.stopPropagation(),t.preventDefault()},setStateVal:(t,r)=>{this.setState({[t]:r})},checkAndUpdateIsInRenderTreeState:()=>{const t=Zme(this.sliderEl.current);return t!==this.state.isInRenderTree&&this.setState({isInRenderTree:t}),t},onHandleEnter:t=>{this.setState({focusPos:t})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:t=>{var r,s;(s=(r=this.props).onMouseUp)===null||s===void 0||s.call(r,t),t.stopPropagation(),t.preventDefault(),Array.from(this.handleDownEventListenerSet).forEach(i=>i()),this.handleDownEventListenerSet.clear()},onHandleUpAfter:()=>{const{currentValue:t}=this.state,r=this.foundation.outPutValue(t);this.props.onAfterChange(r)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(t=>t())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e,t){const r=!ke(this.props.value,e.value);if(this.props.disabled!==e.disabled&&this.foundation.handleDisabledChange(this.props.disabled),r){const i=this.props.value,a=this.state.currentValue;this.foundation.handleValueChange(a,i),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){const{disabled:e,currentValue:t,min:r,max:s}=this.state,i=this.props,{vertical:a,verticalReverse:o,style:l,railStyle:u,range:d,className:h}=i,f=Qme(i,["vertical","verticalReverse","style","railStyle","range","className"]),p=R(`${ps}-wrapper`,{[`${ps}-disabled`]:e,[`${lr.VERTICAL}-wrapper`]:a,[`${ps}-reverse`]:a&&o},h),_=R(`${ps}-boundary`,{[`${ps}-boundary-show`]:this.props.showBoundary&&this.state.showBoundary}),y=R({[`${ps}`]:!a,[lr.VERTICAL]:a}),v=Array.isArray(t)?[...t].sort():t,m=d?`Range: ${this._getAriaValueText(v[0],0)} to ${this._getAriaValueText(v[1],1)}`:void 0,w=g.createElement("div",Object.assign({className:p,style:l,ref:this.sliderEl,"aria-label":m,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(f)),g.createElement("div",{className:`${ps}-rail`,onClick:this.foundation.handleWrapClick,style:u}),this.renderTrack(),this.renderStepDot(),g.createElement("div",null,this.renderHandle()),this.renderLabel(),g.createElement("div",{className:_},g.createElement("span",{className:`${ps}-boundary-min`},r),g.createElement("span",{className:`${ps}-boundary-max`},s)));return a?w:g.createElement("div",{className:y},w)}_addEventListener(e,t,r){if(e.addEventListener){for(var s=arguments.length,i=new Array(s>3?s-3:0),a=3;a<s;a++)i[a-3]=arguments[a];e.addEventListener(t,r,...i);const o=()=>{e==null||e.removeEventListener(t,r),Promise.resolve().then(()=>{this.eventListenerSet.delete(o)})};return this.eventListenerSet.add(o),o}else return k}}NT.propTypes={defaultValue:c.oneOfType([c.number,c.array]),disabled:c.bool,showMarkLabel:c.bool,included:c.bool,marks:c.object,max:c.number,min:c.number,range:c.bool,step:c.number,tipFormatter:c.func,value:c.oneOfType([c.number,c.array]),vertical:c.bool,onAfterChange:c.func,onChange:c.func,onMouseUp:c.func,tooltipOnMark:c.bool,tooltipVisible:c.bool,showArrow:c.bool,style:c.object,className:c.string,showBoundary:c.bool,railStyle:c.object,verticalReverse:c.bool,getAriaValueText:c.func,handleDot:c.oneOfType([c.shape({size:c.string,color:c.string}),c.arrayOf(c.shape({size:c.string,color:c.string}))])};NT.defaultProps={disabled:!1,showMarkLabel:!0,tooltipOnMark:!1,included:!0,max:100,min:0,range:!1,showArrow:!0,step:1,tipFormatter:n=>n,vertical:!1,showBoundary:!1,onAfterChange:n=>{},onChange:n=>{},verticalReverse:!1};class Jme extends Pe{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{Nt(!0,"Warning: [Semi Switch] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{disabled:e}=this.getProps();this.setDisabled(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}setDisabled(e){this._adapter.setNativeControlDisabled(e)}handleChange(e,t){typeof this.getProps().checked<"u"?this._adapter.notifyChange(e,t):(this._adapter.setNativeControlChecked(e),this._adapter.notifyChange(e,t))}destroy(){}}const gs={PREFIX:`${Y}-switch`,FOCUS:`${Y}-switch-focus`,LARGE:`${Y}-switch-large`,SMALL:`${Y}-switch-small`,CHECKED:`${Y}-switch-checked`,DISABLED:`${Y}-switch-disabled`,KNOB:`${Y}-switch-knob`,NATIVE_CONTROL:`${Y}-switch-native-control`,CHECKED_TEXT:`${Y}-switch-checked-text`,UNCHECKED_TEXT:`${Y}-switch-unchecked-text`,LOADING_SPIN:`${Y}-switch-loading-spin`,LOADING:`${Y}-switch-loading`},eye={SIZE_MAP:["default","small","large"]};var tye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class $T extends we{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={nativeControlChecked:e.defaultChecked||e.checked,nativeControlDisabled:!1,focusVisible:!1},this.switchRef=g.createRef(),this.foundation=new Jme(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){this.props.checked!==e.checked&&this.foundation.setChecked(this.props.checked),this.props.disabled!==e.disabled&&this.foundation.setDisabled(this.props.disabled)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({nativeControlChecked:e})},setNativeControlDisabled:e=>{this.setState({nativeControlDisabled:e})},setFocusVisible:e=>{this.setState({focusVisible:e})},notifyChange:(e,t)=>{this.props.onChange(e,t)}})}render(){const{nativeControlChecked:e,nativeControlDisabled:t,focusVisible:r}=this.state,s=this.props,{className:i,style:a,onMouseEnter:o,onMouseLeave:l,size:u,checkedText:d,uncheckedText:h,loading:f,id:p}=s,_=tye(s,["className","style","onMouseEnter","onMouseLeave","size","checkedText","uncheckedText","loading","id"]),y=R(i,{[gs.PREFIX]:!0,[gs.CHECKED]:e,[gs.DISABLED]:t,[gs.LARGE]:u==="large",[gs.SMALL]:u==="small",[gs.LOADING]:f,[gs.FOCUS]:r}),v={type:"checkbox",className:gs.NATIVE_CONTROL,disabled:t||f,checked:e||!1},m=d&&e&&u!=="small",w=h&&!e&&u!=="small";return g.createElement("div",Object.assign({className:y,style:a,onMouseEnter:o,onMouseLeave:l},this.getDataAttr(_)),f?g.createElement(qi,{wrapperClassName:gs.LOADING_SPIN,size:u==="default"?"middle":u}):g.createElement("div",{className:gs.KNOB,"aria-hidden":!0}),m?g.createElement("div",{className:gs.CHECKED_TEXT,"x-semi-prop":"checkedText"},d):null,w?g.createElement("div",{className:gs.UNCHECKED_TEXT,"x-semi-prop":"uncheckedText"},h):null,g.createElement("input",Object.assign({},v,{ref:this.switchRef,id:p,role:"switch","aria-checked":e,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-disabled":this.props.disabled,onChange:b=>this.foundation.handleChange(b.target.checked,b),onFocus:b=>this.handleFocusVisible(b),onBlur:b=>this.handleBlur(b)})))}}$T.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,className:c.string,checked:c.bool,checkedText:c.node,defaultChecked:c.bool,disabled:c.bool,loading:c.bool,onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,style:c.object,size:c.oneOf(eye.SIZE_MAP),uncheckedText:c.node,id:c.string};$T.defaultProps={disabled:!1,className:"",onChange:k,loading:!1,onMouseEnter:k,onMouseLeave:k,size:"default"};var nye="\\ud800-\\udfff",rye="\\u0300-\\u036f",sye="\\ufe20-\\ufe2f",iye="\\u20d0-\\u20ff",aye=rye+sye+iye,oye="\\ufe0e\\ufe0f",lye="\\u200d",uye=RegExp("["+lye+nye+aye+oye+"]");function cye(n){return uye.test(n)}var Uj=cye,dye=k1;function hye(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:dye(n,e,t)}var fye=hye,pye=di,gye=qr,mye="[object RegExp]";function yye(n){return gye(n)&&pye(n)==mye}var vye=yye,_ye=vye,bye=pd,gA=dp,mA=gA&&gA.isRegExp,wye=mA?bye(mA):_ye,Eye=wye;function Sye(n){return n.split("")}var Cye=Sye,Bj="\\ud800-\\udfff",Tye="\\u0300-\\u036f",Oye="\\ufe20-\\ufe2f",Iye="\\u20d0-\\u20ff",Pye=Tye+Oye+Iye,xye="\\ufe0e\\ufe0f",Rye="["+Bj+"]",vS="["+Pye+"]",_S="\\ud83c[\\udffb-\\udfff]",Aye="(?:"+vS+"|"+_S+")",Hj="[^"+Bj+"]",zj="(?:\\ud83c[\\udde6-\\uddff]){2}",Kj="[\\ud800-\\udbff][\\udc00-\\udfff]",Dye="\\u200d",Wj=Aye+"?",Gj="["+xye+"]?",kye="(?:"+Dye+"(?:"+[Hj,zj,Kj].join("|")+")"+Gj+Wj+")*",Nye=Gj+Wj+kye,$ye="(?:"+[Hj+vS+"?",vS,zj,Kj,Rye].join("|")+")",Lye=RegExp(_S+"(?="+_S+")|"+$ye+Nye,"g");function Mye(n){return n.match(Lye)||[]}var Fye=Mye,jye=Cye,Vye=Uj,Uye=Fye;function Bye(n){return Vye(n)?Uye(n):jye(n)}var Hye=Bye,zye=eM,Kye=fye,Wye=Uj,Gye=R1,Yye=Eye,qye=Hye,Xye=kv,Qye=4294967295;function Zye(n,e,t){return t&&typeof t!="number"&&Gye(n,e,t)&&(e=t=void 0),t=t===void 0?Qye:t>>>0,t?(n=Xye(n),n&&(typeof e=="string"||e!=null&&!Yye(e))&&(e=zye(e),!e&&Wye(n))?Kye(qye(n),0,t):n.split(e,t)):[]}var Jye=Zye;const m0=ge(Jye),Ag=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W1;if(n instanceof Date)return n;if(typeof n=="number")return new Date(Es(n));if(typeof n=="string"){if(n==="")return;let r=new Date;return r=S2(n,e,r,{locale:t}),r}else if(typeof n>"u")return;return new Date},Dg=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W1;return et(n,e,{locale:t})},eve=(n,e)=>{if(typeof n=="function"){const t=n();if(Array.isArray(t)&&!ct(e)&&t.some(r=>Es(r)===Es(e)))return!0}return!1},tve=(n,e,t)=>{if(typeof n=="function"){const r=n(e);if(Array.isArray(r)&&!ct(e)&&!ct(t)&&r.some(s=>Es(s)===Es(t)))return!0}return!1},nve=(n,e,t,r)=>{if(typeof n=="function"){const s=n(e,t);if(Array.isArray(s)&&!ct(e)&&!ct(t)&&!ct(r)&&s.some(i=>Es(i)===Es(r)))return!0}return!1},y0=n=>Array.isArray(n)?[...n]:[],rve=(n,e)=>{let t=!0;const r="BDEGHKLMOPQRSTXYabcehimopqstuwxyz",s=new RegExp(`[${r}]`,"g"),i=new RegExp(`[^${r}]`,"g"),a=/[H|m|s]{1,2}/,o=e.split(i),l=e.replace(s,""),u=new RegExp(`[${l}]`,"g"),d=n.split(u);if(o.length!==d.length)t=!1;else for(let h=0,f=d.length;h<f;h++){const p=o[h],_=d[h];if(a.test(p)&&_.length<p.length){t=!1;break}}return t};let sve=class extends Pe{constructor(e){super(Object.assign({},e))}init(){this.initDataFromDefaultValue(),(this._isControlledComponent("open")?this.getProp("open"):this.getProp("defaultOpen"))&&!this._isControlledComponent("open")&&this._adapter.registerClickOutSide()}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||Qt.DEFAULT_TYPE,s=this.getContext("direction")==="rtl"?"bottomRight":"";return e||s||Qt.DEFAULT_POSITION[t]}isDisabledHMS(e){let{hours:t,minutes:r,seconds:s}=e;const{disabledHours:i,disabledMinutes:a,disabledSeconds:o}=this.getProps(),l=!ct(t)&&eve(i,t),u=!ct(t)&&!ct(r)&&tve(a,t,r),d=!ct(t)&&!ct(r)&&!ct(s)&&nve(o,t,r,s);return l||u||d}isValidTimeZone(e){return["string","number"].includes(typeof e)&&e!==""}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?Qt.DEFAULT_FORMAT_A:Qt.DEFAULT_FORMAT}initDataFromDefaultValue(){const e=this.getProp("defaultValue");let t=this.getProp("value");const r=this.getProp("timeZone"),s=this.getValidFormat(),{rangeSeparator:i,dateFnsLocale:a}=this.getProps();t=t||e,Array.isArray(t)||(t=t?[t]:[]);const o=[];let l=!1;t.forEach(h=>{const f=Ag(h,s,a);isNaN(f.getTime())||o.push(this.isValidTimeZone(r)?pS(f,r):f)});const u=[!0,!1];o.map((h,f)=>{u[f]=hre(h)<12}),o.length===t.length?t=o:(t=[],t.length&&(l=!0));let d="";l||(d=t.map(h=>Dg(h,s,a)).join(i)),this.setState({isAM:u,value:t,inputValue:d,invalid:l})}getValidFormat(e){let t=e;return ct(t)&&(t=this.getDefaultFormatIfNeed()),typeof t!="string"&&(t=Qt.DEFAULT_FORMAT),t}handlePanelChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.getValidFormat(),s=this.getProp("dateFnsLocale"),i=this.getState("value");let a=this.getState("isAM");const o=y0(i);if(a=y0(a),e){const l=!!e.isAM,u=Ag(e.timeStampValue,r,s);o[t]=u,a[t]=l;const d=this.formatValue(o);if(this.getState("isAM")[t]!==e.isAM&&this.setState({isAM:a}),!this._isControlledComponent("value")){const h=this.validateDates(o);this.setState({isAM:a,value:o,inputValue:d,invalid:h})}this._hasChanged(o,i)&&this._notifyChange(o,d)}}refreshProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{value:t,timeZone:r,__prevTimeZone:s}=e;let i=this.parseValue(t),a=i.some(l=>isNaN(Number(l)));a||(this.isValidTimeZone(r)&&(i=i.map(l=>pS(this.isValidTimeZone(s)?_c(l,s):l,r))),a=i.some(l=>this.isDisabledHMS({hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds()})));const o=this.formatValue(i);this.setState({value:i,invalid:a,inputValue:o})}handleFocus(e){this.getState("open")||this.handlePanelOpen(),this._adapter.notifyFocus(e)}setPanel(e){this._adapter.togglePanel(e)}destroy(){this._adapter.unregisterClickOutSide()}handlePanelOpen(){this._isControlledComponent("open")||(this._adapter.registerClickOutSide(),this.setPanel(!0)),this._adapter.notifyOpenChange(!0)}handlePanelClose(e,t){this._isControlledComponent("open")||(this._adapter.unregisterClickOutSide(),this.setPanel(!1)),this._adapter.notifyOpenChange(!1),this._adapter.notifyBlur(t)}handleVisibleChange(e){this._isControlledComponent("open")||this._adapter.togglePanel(e),this._adapter.notifyOpenChange(e)}handleInputChange(e){this._adapter.setInputValue(e);const t=this.getProp("rangeSeparator"),r=m0(e,t),s=this.getValidFormat();if(e!==""&&r.some(d=>!rve(d,s)))return;const i=this.parseInput(e),a=this.validateDates(i),o={invalid:a},l=this.getState("value");let u=y0(l);a||(o.value=i,u=[...i]),this._isControlledComponent("value")||this.setState(o),this._hasChanged(u,l)&&this._notifyChange(u,e)}doValidate(e){if(typeof e=="string")return this.validateStr(e);if(Array.isArray(e))return this.validateDates(e)}validateStr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=this.parseInput(e);return this.validateDates(t)}validateDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=e.some(r=>isNaN(Number(r)));return t||(t=e.some(r=>this.isDisabledHMS({hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds()}))),t}handleInputBlur(e){const t=this.getState("invalid"),r=this.getState("inputValue"),s=this.getState("value");r?t?this.setState({inputValue:this.formatValue(s),invalid:!1}):this.setState({inputValue:this.formatValue(s)}):this.setState({inputValue:"",value:[],invalid:!1})}formatValue(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");let i=e;if(i&&!Array.isArray(i)&&(i=i[i]),i&&Array.isArray(i))return i.map(o=>{let l;return dt(o)?l="":l=Dg(o,t,s),l}).join(r)}parseInput(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");return e&&typeof e=="string"?m0(e,r).map(i=>Ag(i,t,s)):[]}parseValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getValidFormat(),r=this.getProp("dateFnsLocale");let s=e;return Array.isArray(s)||(s=s?[s]:[]),Array.isArray(s)?s.map(i=>Ag(i,t,r)):[]}_notifyChange(e,t){let r=t,s=e;const i=this.getProp("timeZone");if(this._adapter.isRangePicker()){const o=this.getProp("rangeSeparator");r=m0(t,o)}else s=Array.isArray(s)?s[0]:s;if(this.isValidTimeZone(i)&&s){const o=this.getValidFormat();Array.isArray(s)?(s=s.map(l=>_c(l,i)),r=s.map(l=>et(l,o))):(s=_c(s,i),r=et(s,o))}this.getProp("onChangeWithDateFirst")?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_hasChanged(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=this.getValidFormat(),s=this.getProp("dateFnsLocale");return e.length!==t.length||e.some((i,a)=>{const o=t[a];return!(Ss(i)&&Ss(o)&&Dg(i,r,s)===Dg(o,r,s))})}};class ive extends Pe{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleFocus(e){this.storeCursor(),this._adapter.notifyFocus(e)}handleChange(e){this.storeCursor(),this._adapter.notifyChange(e)}handleBlur(e){this.clearCursor(),this._adapter.notifyBlur(e)}storeCursor(){const e=this.getCache("inputNode");if(e){const{selectionStart:t}=e;this.setCache("cursorIndex",t)}}restoreCursor(){const e=this.getCache("inputNode"),t=this.getCache("cursorIndex");e&&!ct(t)&&(e.selectionStart=t,e.selectionEnd=t)}clearCursor(){this.setCache("cursorIndex",null),this.setCache("beforeStr",null),this.setCache("afterStr",null)}}var ave=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class LT extends we{constructor(e){super(e),this.setRef=t=>this.adapter.setCache("inputNode",t),this.handleClick=t=>this.props.onClick(t),this.handleFocus=t=>this.foundation.handleFocus(t),this.handleBlur=t=>this.foundation.handleBlur(t),this.handleChange=t=>this.foundation.handleChange(t),this.foundation=new ive(this.adapter),this.state={}}componentDidMount(){super.componentDidMount();const{focusOnOpen:e,preventScroll:t}=this.props;e&&(window.requestAnimationFrame||window.setTimeout)(()=>{const s=this.adapter.getCache("inputNode");s&&(s.focus({preventScroll:t}),s.select())})}componentDidUpdate(e){const{timeStampValue:t}=this.props;this.isControlled("timeStampValue")&&t!==this.state.timeStampValue&&this.foundation.restoreCursor(),this.props.value!==e.value&&this.foundation.restoreCursor()}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyChange:function(){return e.props.onChange(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)}})}getInput(){const e=this.props,{prefixCls:t,placeholder:r,inputReadOnly:s,onFocus:i,disabled:a,type:o,locale:l,localeCode:u,insetLabel:d,validateStatus:h,value:f,onChange:p,invalid:_,format:y,clearText:v,disabledHours:m,disabledMinutes:w,disabledSeconds:b,onEsc:E,defaultOpenValue:S,currentSelectPanel:C,focusOnOpen:O,timeStampValue:I,timeZone:P,defaultOpen:x,dateFnsLocale:D}=e,$=ave(e,["prefixCls","placeholder","inputReadOnly","onFocus","disabled","type","locale","localeCode","insetLabel","validateStatus","value","onChange","invalid","format","clearText","disabledHours","disabledMinutes","disabledSeconds","onEsc","defaultOpenValue","currentSelectPanel","focusOnOpen","timeStampValue","timeZone","defaultOpen","dateFnsLocale"]),M=R(`${t}-input`,{[`${t}-input-invalid`]:_,[`${t}-input-readonly`]:s}),V=_?"error":h;return g.createElement(En,Object.assign({},$,{hideSuffix:!0,className:M,ref:this.setRef,value:f,placeholder:r||l.placeholder[o],readonly:!!s,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,suffix:g.createElement(R2,{onClick:this.handleClick}),validateStatus:V,disabled:a,insetLabel:d}))}render(){const{prefixCls:e}=this.props;return g.createElement("div",{className:`${e}-input-wrap`},this.getInput())}}LT.propTypes={borderless:c.bool,format:c.string,prefixCls:c.string,placeholder:c.string,clearText:c.string,inputReadOnly:c.bool,hourOptions:c.array,minuteOptions:c.array,secondOptions:c.array,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,onChange:c.func,onFocus:c.func,onBlur:c.func,onEsc:c.func,onClick:c.func,defaultOpenValue:c.object,currentSelectPanel:c.string,focusOnOpen:c.bool,timeStampValue:c.any,locale:c.object,localeCode:c.string,insetLabel:c.node,validateStatus:c.string,preventScroll:c.bool};LT.defaultProps={borderless:!1,inputReadOnly:!1,onChange:k,onBlur:k,onFocus:k,onClick:k,disabledHours:k,disabledMinutes:k,disabledSeconds:k,format:Qt.DEFAULT_FORMAT};const yA={panelHeader:c.oneOfType([c.node,c.string]),panelFooter:c.oneOfType([c.node,c.string])},ove={},lve=[c.string,c.number,c.instanceOf(Date)],vA=c.oneOfType([...lve,c.arrayOf(c.string),c.arrayOf(c.number),c.arrayOf(c.instanceOf(Date))]);var uve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class wd extends we{constructor(e){var t;super(e),t=this,this.onCurrentSelectPanelChange=s=>{this.setState({currentSelectPanel:s})},this.handlePanelChange=(s,i)=>this.foundation.handlePanelChange(s,i),this.handleInput=s=>this.foundation.handleInputChange(s),this.createPanelProps=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const{panels:i,panelFooter:a,panelHeader:o,locale:l}=t.props,u={panelHeader:o,panelFooter:a};if(t.adapter.isRangePicker()){const d={0:l.begin,1:l.end};u.panelHeader=K(i,s,ct(o)?K(d,s,null):Array.isArray(o)?o[s]:o),u.panelFooter=K(i,s,Array.isArray(a)?a[s]:a)}return u},this.handlePanelVisibleChange=s=>this.foundation.handleVisibleChange(s),this.openPanel=()=>{this.foundation.handlePanelOpen()},this.handleFocus=s=>{this.foundation.handleFocus(s)},this.handleBlur=s=>this.foundation.handleInputBlur(s),this.setTimePickerRef=s=>this.timePickerRef.current=s;const{format:r=Qt.DEFAULT_FORMAT}=e;this.state={open:e.open||e.defaultOpen||!1,value:[],inputValue:"",currentSelectPanel:0,isAM:[!0,!1],showHour:!!r.match(/HH|hh|H|h/g),showMinute:!!r.match(/mm/g),showSecond:!!r.match(/ss/g),invalid:void 0},this.foundation=new sve(this.adapter),this.timePickerRef=g.createRef(),this.savePanelRef=g.createRef(),this.useCustomTrigger=typeof this.props.triggerRender=="function"}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:t=>{this.setState({open:t})},registerClickOutSide:()=>{this.clickOutSideHandler&&this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=t=>{const r=this.savePanelRef&&this.savePanelRef.current,s=this.timePickerRef&&this.timePickerRef.current,i=t.target,a=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(a.includes(s)||a.includes(r))&&this.foundation.handlePanelClose(!0,t)},document.addEventListener("mousedown",this.clickOutSideHandler)},setInputValue:(t,r)=>this.setState({inputValue:t},r),unregisterClickOutSide:()=>{this.clickOutSideHandler&&(document.removeEventListener("mousedown",this.clickOutSideHandler),this.clickOutSideHandler=null)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyChange:(t,r)=>this.props.onChange&&this.props.onChange(t,r),notifyFocus:function(){return e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur&&e.props.onBlur(...arguments)},isRangePicker:()=>this.props.type===Qt.TYPE_TIME_RANGE_PICKER})}static getDerivedStateFromProps(e,t){return"open"in e&&e.open!==t.open?{open:e.open}:null}componentDidUpdate(e){this.isControlled("value")&&this.props.value!==e.value?this.foundation.refreshProps(Object.assign({},this.props)):this.props.timeZone!==e.timeZone&&this.foundation.refreshProps({timeZone:this.props.timeZone,__prevTimeZone:e.timeZone,value:this.state.value})}getPanelElement(){const{prefixCls:e,type:t}=this.props,{isAM:r,value:s}=this.state,i=this.foundation.getDefaultFormatIfNeed(),a=[g.createElement(wf,Object.assign({},this.props,{key:0,format:i,isAM:r[0],timeStampValue:s[0],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,0),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(0)))];t===Qt.TYPE_TIME_RANGE_PICKER&&a.push(g.createElement(wf,Object.assign({},this.props,{key:1,format:i,isAM:r[1],timeStampValue:s[1],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,1),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(1))));const o=R({[mS.RANGE_PANEL_LISTS]:this.adapter.isRangePicker()});return g.createElement("div",{ref:this.savePanelRef,className:o},a.map(l=>l))}getPopupClassName(){const{use12Hours:e,prefixCls:t,popupClassName:r}=this.props,{showHour:s,showMinute:i,showSecond:a}=this.state;let o=0;return s&&(o+=1),i&&(o+=1),a&&(o+=1),e&&(o+=1),R(`${t}-panel`,r,{[`${t}-panel-narrow`]:(!s||!i||!a)&&!e,[mS.RANGE_PICKER]:this.adapter.isRangePicker()},`${t}-panel-column-${o}`)}focus(){}blur(){}render(){const e=this.props,{prefixCls:t,placeholder:r,disabled:s,defaultValue:i,dropdownMargin:a,className:o,popupStyle:l,size:u,style:d,locale:h,localeCode:f,zIndex:p,getPopupContainer:_,insetLabel:y,insetLabelId:v,inputStyle:m,showClear:w,panelHeader:b,panelFooter:E,rangeSeparator:S,onOpenChange:C,onChangeWithDateFirst:O,popupClassName:I,hideDisabledOptions:P,use12Hours:x,minuteStep:D,hourStep:$,secondStep:M,scrollItemProps:V,triggerRender:B,motion:F,autoAdjustOverflow:W,stopPropagation:N}=e,j=uve(e,["prefixCls","placeholder","disabled","defaultValue","dropdownMargin","className","popupStyle","size","style","locale","localeCode","zIndex","getPopupContainer","insetLabel","insetLabelId","inputStyle","showClear","panelHeader","panelFooter","rangeSeparator","onOpenChange","onChangeWithDateFirst","popupClassName","hideDisabledOptions","use12Hours","minuteStep","hourStep","secondStep","scrollItemProps","triggerRender","motion","autoAdjustOverflow","stopPropagation"]),L=this.foundation.getDefaultFormatIfNeed(),te=this.foundation.getPosition(),{open:Q,inputValue:ie,invalid:le,value:Ee}=this.state,he=this.getPopupClassName(),de=R({[`${t}-header`]:!0}),ue=R({[`${t}-panel`]:!0,[`${t}-panel-${u}`]:u}),q=Object.assign(Object.assign({},j),{disabled:s,prefixCls:t,size:u,showClear:s?!1:w,style:m,value:ie,onFocus:this.handleFocus,insetLabel:y,insetLabelId:v,format:L,locale:h,localeCode:f,invalid:le,placeholder:r,onChange:this.handleInput,onBlur:this.handleBlur}),se={};return this.useCustomTrigger&&(se.onClick=this.openPanel),g.createElement("div",Object.assign({ref:this.setTimePickerRef,className:R({[t]:!0},o),style:d},se),g.createElement(vr,{getPopupContainer:_,zIndex:p,prefixCls:ue,contentClassName:he,style:l,content:this.getPanelElement(),trigger:"custom",position:te,visible:s?!1:!!Q,motion:F,margin:a,autoAdjustOverflow:W,stopPropagation:N},this.useCustomTrigger?g.createElement(hu,{triggerRender:B,disabled:s,value:Ee,inputValue:ie,onChange:this.handleInput,placeholder:r,componentName:"TimePicker",componentProps:Object.assign({},this.props)}):g.createElement("span",{className:de},g.createElement(LT,Object.assign({},q)))))}}wd.contextType=Nr;wd.propTypes=Object.assign(Object.assign({"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,prefixCls:c.string,borderless:c.bool,clearText:c.string,clearIcon:c.node,value:vA,inputReadOnly:c.bool,disabled:c.bool,showClear:c.bool,defaultValue:vA,open:c.bool,defaultOpen:c.bool,onOpenChange:c.func,position:c.any,getPopupContainer:c.func,placeholder:c.string,format:c.string,style:c.object,className:c.string,popupClassName:c.string,popupStyle:c.object,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,dropdownMargin:c.oneOfType([c.number,c.object]),hideDisabledOptions:c.bool,onChange:c.func,use12Hours:c.bool,hourStep:c.number,minuteStep:c.number,secondStep:c.number,focusOnOpen:c.bool,autoFocus:c.bool,size:c.oneOf(Qt.SIZE),stopPropagation:c.bool,panels:c.arrayOf(c.shape(yA)),onFocus:c.func,onBlur:c.func,locale:c.object,localeCode:c.string,dateFnsLocale:c.object,zIndex:c.oneOfType([c.number,c.string]),insetLabel:c.node,insetLabelId:c.string,validateStatus:c.oneOf(Qt.STATUS),type:c.oneOf(Qt.TYPES),rangeSeparator:c.string,triggerRender:c.func,timeZone:c.oneOfType([c.string,c.number]),scrollItemProps:c.object,motion:c.oneOfType([c.bool,c.func,c.object]),autoAdjustOverflow:c.bool},yA),{inputStyle:c.object,preventScroll:c.bool});wd.defaultProps=Object.assign({autoAdjustOverflow:!0,borderless:!1,getPopupContainer:()=>document.body,showClear:!0,zIndex:as.DEFAULT_Z_INDEX,rangeSeparator:Qt.DEFAULT_RANGE_SEPARATOR,onOpenChange:k,clearText:"clear",prefixCls:mS.PREFIX,inputReadOnly:!1,style:{},stopPropagation:!0,className:"",popupClassName:"",popupStyle:{left:"0px",top:"0px"},disabledHours:()=>[],disabledMinutes:()=>[],disabledSeconds:()=>[],hideDisabledOptions:!1,onFocus:k,onBlur:k,onChange:k,onChangeWithDateFirst:!0,use12Hours:!1,focusOnOpen:!1,onKeyDown:k,size:"default",type:Qt.DEFAULT_TYPE,motion:!0},ove);class Tf extends g.PureComponent{render(){const{type:e}=this.props;return g.createElement(Nr.Consumer,null,t=>{let{timeZone:r}=t;return g.createElement(dn,{componentName:"TimePicker"},(s,i,a)=>g.createElement(wd,Object.assign({timeZone:r,placeholder:K(s,["placeholder",e])},this.props,{locale:s,localeCode:i,dateFnsLocale:a})))})}}Tf.propTypes=wd.propTypes;Tf.__SemiComponentName__="TimePicker";Tf.defaultProps=hs(Tf.__SemiComponentName__,wd.defaultProps);class MT extends Pe{constructor(e){super(Object.assign(Object.assign({},MT.defaultAdapter),e)),this.handleMouseInSideChange=t=>{this._adapter.handleMouseInSideChange(t)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map(r=>{let{id:s}=r;return s}).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let r=this._adapter.getState("list");r=r.map(i=>i.id===e?Object.assign(Object.assign({},i),t):i);const s=r.filter(i=>i.id===e);this._adapter.updateToast(r,[],s)}removeToast(e){let t=this._adapter.getState("list");const r=[];t=t.filter(s=>s.id===e?(r.push(s),!1):!0),this._adapter.updateToast(t,r,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const _A=`${Y}-toast`,Fu={PREFIX:_A,WRAPPER:`${_A}-wrapper`},Nh={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]},cve={duration:3};class FT extends Pe{constructor(e){super(Object.assign(Object.assign({},FT.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&jt(e)&&(this._timer=setTimeout(()=>{this.close()},e*1e3))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}const Hs=Fu.PREFIX;let Wl=class extends we{constructor(e){super(e),this.toastEle=g.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new FT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:e,icon:t}=this.props,s={warning:g.createElement(G1,null),success:g.createElement(k2,null),info:g.createElement(A2,null),error:g.createElement(pf,null)}[e],i="large",a=R(`${Hs}-icon`,`${Hs}-icon-${e}`);return t?hr(t)?g.cloneElement(t,{size:i,className:`${Hs}-icon`}):t:e&&s?g.cloneElement(s,{size:i,className:a}):null}render(){const{content:e,type:t,theme:r,showClose:s,textMaxWidth:i,className:a,style:o}=this.props,l=this.props.direction||this.context.direction,u=R(Hs,a,{[`${Hs}-${t}`]:!0,[`${Hs}-${r}`]:r==="light",[`${Hs}-rtl`]:l==="rtl"}),d={};d.maxWidth=i;const h="borderless",f="small",p=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,_=g.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:u,style:Object.assign(Object.assign({},o),{transform:`translate3d(0,0,${p*-10}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},g.createElement("div",{className:`${Hs}-content`},this.renderIcon(),g.createElement("span",{className:`${Hs}-content-text`,style:d,"x-semi-prop":"content"},e),s&&g.createElement("div",{className:`${Hs}-close-button`},g.createElement(xs,{onClick:y=>this.close(y),type:"tertiary",icon:g.createElement(Bv,{"x-semi-prop":"icon"}),theme:h,size:f}))));if(this.props.stack){const y=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return g.createElement("div",{className:`${Hs}-zero-height-wrapper`,style:{height:y}},_)}else return _}};Wl.contextType=Nr;Wl.propTypes={onClose:c.func,content:c.node,close:c.func,duration:c.number,theme:c.oneOf(Nh.themes),type:c.oneOf(Nh.types),textMaxWidth:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,showClose:c.bool,stack:c.bool,stackExpanded:c.bool,icon:c.node,direction:c.oneOf(Nh.directions)};Wl.__SemiComponentName__="Toast";Wl.defaultProps=hs(Wl.__SemiComponentName__,{onClose:k,content:"",close:k,duration:cve.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var dve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const hve=(n,e)=>{var{afterClose:t}=n,r=dve(n,["afterClose"]);const[s,i]=T.useState(!0),a=()=>{i(!1)};return g.useImperativeHandle(e,()=>({close:()=>{i(!1)}})),T.useEffect(()=>{s||t(r.id)},[s]),s?g.createElement(Wl,Object.assign({},r,{close:a})):null},fve=g.forwardRef(hve),Yd={motion:!0,zIndex:1010,duration:3};function pve(){const[n,e]=g.useState([]);function t(r,s){return e(i=>[{element:r,config:s},...i]),i=>{e(a=>a.filter(o=>{let{config:l}=o;return l.id!==i}))}}return[n,t]}function gve(){const[n,e]=pve(),t=T.useRef(new Map),r=i=>{const a=cy("semi_toast_"),o=Object.assign(Object.assign({},i),{id:a});let l;const u=g.createElement(fve,Object.assign({},o,{key:a,afterClose:d=>l(d),ref:d=>{var h;t.current.set(a,{close:(h=d==null?void 0:d.close)!==null&&h!==void 0?h:k})}}));return l=e(u,Object.assign({},o)),a},s=i=>{var a;const{close:o}=(a=t.current.get(i))!==null&&a!==void 0?a:{};o==null||o()};return[{success:i=>r(Object.assign(Object.assign(Object.assign({},Yd),i),{type:"success"})),info:i=>r(Object.assign(Object.assign(Object.assign({},Yd),i),{type:"info"})),error:i=>r(Object.assign(Object.assign(Object.assign({},Yd),i),{type:"error"})),warning:i=>r(Object.assign(Object.assign(Object.assign({},Yd),i),{type:"warning"})),open:i=>r(Object.assign(Object.assign(Object.assign({},Yd),i),{type:"default"})),close:i=>s(i)},g.createElement(g.Fragment,null,Array.isArray(n)&&n.length?g.createElement(g.Fragment,null,n.map(i=>i.element)):null)]}const mve=()=>{var n;return n=class ot extends we{constructor(t){super(t),this.stack=!1,this.innerWrapperRef=g.createRef(),this.handleMouseEnter=r=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=r=>{var s;this.stack&&(!((s=this.foundation.getInputWrapperRect())===null||s===void 0)&&s.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new MT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(t,r,s)=>{this.setState({list:t,removedItems:r,updatedItems:s})},handleMouseInSideChange:t=>{this.setState({mouseInSide:t})},getInputWrapperRect:()=>{var t;return(t=this.innerWrapperRef.current)===null||t===void 0?void 0:t.getBoundingClientRect()}})}static create(t){var r;const s=(r=t.id)!==null&&r!==void 0?r:cy("toast");if(ot.ref){const i=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(a=>{a in t&&(i.style[a]=typeof t[a]=="number"?`${t[a]}px`:t[a])}),!!t.stack!==ot.ref.stack&&(ot.ref.stack=!!t.stack),ot.ref.has(s)?ot.ref.update(s,Object.assign(Object.assign({},t),{id:s})):ot.ref.add(Object.assign(Object.assign({},t),{id:s}))}else{const i=document.createElement("div");this.wrapperId||(this.wrapperId=cy("toast-wrapper").slice(0,26)),i.className=Fu.WRAPPER,i.id=this.wrapperId,i.style.zIndex=String(typeof t.zIndex=="number"?t.zIndex:ot.defaultOpts.zIndex),["top","left","bottom","right"].map(a=>{if(a in ot.defaultOpts||a in t){const o=t[a]?t[a]:ot.defaultOpts[a];i.style[a]=typeof o=="number"?`${o}px`:o}}),ot.defaultOpts.getPopupContainer?ot.defaultOpts.getPopupContainer().appendChild(i):document.body.appendChild(i),xr.render(g.createElement(ot,{ref:a=>ot.ref=a}),i,()=>{ot.ref.add(Object.assign(Object.assign({},t),{id:s})),ot.ref.stack=!!t.stack})}return s}static close(t){ot.ref&&ot.ref.remove(t)}static destroyAll(){if(ot.ref){ot.ref.destroyAll();const t=document.querySelector(`#${this.wrapperId}`);xr.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),ot.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ot.defaultOpts),t),{type:"info"}))}static warning(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ot.defaultOpts),t),{type:"warning"}))}static error(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ot.defaultOpts),t),{type:"error"}))}static success(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ot.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach(r=>{r in t&&(ot.defaultOpts[r]=t[r])}),typeof t.theme=="string"&&Nh.themes.includes(t.theme)&&(ot.defaultOpts.theme=t.theme),typeof t.zIndex=="number"&&(ot.defaultOpts.zIndex=t.zIndex),typeof t.duration=="number"&&(ot.defaultOpts.duration=t.duration),typeof t.getPopupContainer=="function"&&(ot.defaultOpts.getPopupContainer=t.getPopupContainer)}has(t){return this.foundation.hasToast(t)}add(t){return this.foundation.addToast(t)}update(t,r){return this.foundation.updateToast(t,r)}remove(t){return this.foundation.removeToast(t)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:t}=this.state;const{removedItems:r,updatedItems:s}=this.state;t=Array.from(new Set([...t,...r]));const i=s.map(o=>{let{id:l}=o;return l}),a=o=>{var l;!((l=o==null?void 0:o.foundation)===null||l===void 0)&&l._id&&i.includes(o.foundation._id)&&o.foundation.restartCloseTimer()};return g.createElement(g.Fragment,null,g.createElement("div",{className:R({[`${Fu.PREFIX}-innerWrapper`]:!0,[`${Fu.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t.map((o,l)=>{const u=r.find(d=>d.id===o.id)!==void 0;return g.createElement(ff,{key:o.id,motion:o.motion,animationState:u?"leave":"enter",startClassName:u?`${Fu.PREFIX}-animation-hide`:`${Fu.PREFIX}-animation-show`},d=>{let{animationClassName:h,animationEventsNeedBind:f,isAnimating:p}=d;return u&&!p?null:g.createElement(Wl,Object.assign({},o,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:t.length,index:l},className:R({[o.className]:!!o.className,[h]:!0})},f,{style:Object.assign({},o.style),close:_=>this.remove(_),ref:a}))})})))}},n.defaultOpts={motion:!0,zIndex:1010,content:""},n.propTypes={content:c.node,duration:c.number,onClose:c.func,icon:c.node,direction:c.oneOf(Nh.directions),stack:c.bool},n.defaultProps={},n};class yve{static create(e){const t=mve();return t.useToast=gve,e&&t.config(e),t}}const ln=yve.create();function v0(n){return t2(n,e=>{if(SG(e)&&!e._innerDataTag||g.isValidElement(e))return e})}const vve=rF.PREFIX;class jT extends T.PureComponent{constructor(e){super(e),this._onResize=t=>{const r=t&&t[1]&&t[1].target;if(r){const s=K(r,"offsetHeight")||0,i=window.getComputedStyle(r)||{},a=parseInt(K(i,"paddingTop"),10)||0,o=parseInt(K(i,"paddingBottom"),10)||0,l=s-a-o;this.state.height!==l&&this.setState({height:s-a-o})}},this.state={height:this.props.defaultHeight||0}}componentDidMount(){const{height:e}=this.state}render(){const{children:e,defaultWidth:t,defaultHeight:r}=this.props,{height:s}=this.state;let i=!1;return(s===0||typeof s!="number")&&(i=!0),g.createElement(To,{observeParent:!0,onResize:this._onResize},g.createElement("div",{style:{height:r,overflow:"visible"},className:`${vve}-auto-wrapper`},!i&&e({height:s,width:t})))}}jT.propTypes={defaultHeight:c.oneOfType([c.number,c.string]),defaultWidth:c.oneOfType([c.number,c.string])};jT.defaultProps={defaultHeight:"100%",defaultWidth:"100%"};const VT=g.createContext(null),_ve=n=>{let{prefixcls:e,level:t,isEnd:r,showLine:s}=n;const i=`${e}-indent-unit`,a=[];for(let o=0;o<t;o+=1)a.push(T.createElement("span",{key:o,className:R(i,{[`${i}-end`]:r[o]})}));return T.createElement("span",{"aria-hidden":"true",className:R(`${e}-indent`,{[`${e}-indent-show-line`]:s})},a)},bve=T.memo(_ve);var wve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Je=rF.PREFIX_OPTION;class bc extends T.PureComponent{constructor(e){super(e),this.onSelect=t=>{const{onNodeSelect:r}=this.context;r(t,this.props)},this.onExpand=t=>{const{onNodeExpand:r}=this.context;t&&t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),r(t,this.props)},this.onCheck=t=>{var r,s;if(this.isDisabled())return;const{onNodeCheck:i}=this.context;t.stopPropagation(),(s=(r=t.nativeEvent)===null||r===void 0?void 0:r.stopImmediatePropagation)===null||s===void 0||s.call(r),i(t,this.props)},this.handleCheckEnterPress=t=>{$s(t)&&this.onCheck(t)},this.onContextMenu=t=>{const{onNodeRightClick:r}=this.context;r(t,this.props)},this.onClick=t=>{const{expandAction:r}=this.context;if(r==="doubleClick"){this.debounceSelect(t);return}this.onSelect(t),r==="click"&&this.onExpand(t)},this.handleliEnterPress=t=>{$s(t)&&this.onClick(t)},this.onDoubleClick=t=>{const{expandAction:r,onNodeDoubleClick:s}=this.context;t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),Te(s)&&s(t,this.props),r==="doubleClick"&&this.onExpand(t)},this.onDragStart=t=>{const{onNodeDragStart:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}));try{t.dataTransfer.setData("text/plain","")}catch{}},this.onDragEnter=t=>{const{onNodeDragEnter:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragOver=t=>{const{onNodeDragOver:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragLeave=t=>{const{onNodeDragLeave:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragEnd=t=>{const{onNodeDragEnd:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDrop=t=>{const{onNodeDrop:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.getNodeChildren=()=>{const{children:t}=this.props;return t||[]},this.isLeaf=()=>{const{isLeaf:t,loaded:r}=this.props,{loadData:s}=this.context,i=this.getNodeChildren().length!==0;return t===!1?!1:t||!s&&!i||s&&r&&!i},this.isDisabled=()=>{const{disabled:t}=this.props,{treeDisabled:r}=this.context;return t===!1?!1:!!(r||t)},this.renderSwitcher=()=>this.isLeaf()?g.createElement("span",{className:R(`${Je}-switcher`)},g.createElement("span",{className:`${Je}-switcher-leaf-line`})):null,this.renderRealLabel=()=>{const{renderLabel:t}=this.context,{label:r,keyword:s,data:i,filtered:a,treeNodeFilterProp:o}=this.props;return Te(t)?t(r,i,s):Oe(r)&&a&&s?g.createElement(mp,{highlightClassName:`${Je}-highlight`,component:"span",sourceString:r,searchWords:[s]}):r},this.setRef=t=>{this.refNode=t},this.state={},this.debounceSelect=sM(this.onSelect,500,{leading:!0,trailing:!1})}renderArrow(){const e=!this.isLeaf(),{loading:t,expanded:r,showLine:s}=this.props;return t?g.createElement(qi,{wrapperClassName:`${Je}-spin-icon`}):e?g.createElement(tae,{role:"button","aria-label":`${r?"Expand":"Collapse"} the tree item`,className:`${Je}-expand-icon`,size:"small",onClick:this.onExpand}):s?this.renderSwitcher():g.createElement("span",{className:`${Je}-empty-icon`})}renderCheckbox(){const{checked:e,halfChecked:t,eventKey:r}=this.props,s=this.isDisabled();return g.createElement("div",{role:"none",onClick:this.onCheck,onKeyPress:this.handleCheckEnterPress},g.createElement(Ra,{"aria-label":"Toggle the checked state of checkbox",value:r,indeterminate:t,checked:e,disabled:!!s}))}renderIcon(){const{directory:e,treeIcon:t}=this.context,{expanded:r,icon:s,data:i}=this.props;return s||(t?typeof t=="function"?t(this.props):t:e?this.isLeaf()?g.createElement(dE,{className:`${Je}-item-icon`}):r?g.createElement(jie,{className:`${Je}-item-icon`}):g.createElement(Mie,{className:`${Je}-item-icon`}):null)}renderEmptyNode(){const{emptyContent:e}=this.props,t=R(Je,{[`${Je}-empty`]:!0});return g.createElement("ul",{className:t},g.createElement("li",{className:`${Je}-label ${Je}-label-empty`,"x-semi-prop":"emptyContent"},e))}render(){const e=this.props,{eventKey:t,expanded:r,selected:s,checked:i,halfChecked:a,loading:o,active:l,level:u,empty:d,filtered:h,treeNodeFilterProp:f,display:p,style:_,isEnd:y,showLine:v}=e,m=wve(e,["eventKey","expanded","selected","checked","halfChecked","loading","active","level","empty","filtered","treeNodeFilterProp","display","style","isEnd","showLine"]);if(d)return this.renderEmptyNode();const{multiple:w,draggable:b,renderFullLabel:E,dragOverNodeKey:S,dropPosition:C,labelEllipsis:O}=this.context,I=y[y.length-1],P=this.isDisabled(),x=S===t&&C===0,D=S===t&&C===-1,$=S===t&&C===1,M=R(Je,{[`${Je}-level-${u+1}`]:!0,[`${Je}-fullLabel-level-${u+1}`]:E,[`${Je}-collapsed`]:!r,[`${Je}-disabled`]:!!P,[`${Je}-selected`]:s,[`${Je}-active`]:!w&&l,[`${Je}-ellipsis`]:O,[`${Je}-drag-over`]:!P&&x,[`${Je}-draggable`]:!P&&b&&!E,[`${Je}-fullLabel-draggable`]:!P&&b&&E,[`${Je}-fullLabel-drag-over-gap-top`]:!P&&D&&E,[`${Je}-fullLabel-drag-over-gap-bottom`]:!P&&$&&E,[`${Je}-tree-node-last-leaf`]:I}),V={onClick:this.onClick,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,className:M,onExpand:this.onExpand,data:m.data,level:u,onCheck:this.onCheck,style:_,expandIcon:this.renderArrow(),checkStatus:{checked:i,halfChecked:a},expandStatus:{expanded:r,loading:o},filtered:h,searchWord:m.keyword},B={onDoubleClick:this.onDoubleClick,onDragStart:b?this.onDragStart:void 0,onDragEnter:b?this.onDragEnter:void 0,onDragOver:b?this.onDragOver:void 0,onDragLeave:b?this.onDragLeave:void 0,onDrop:b?this.onDrop:void 0,onDragEnd:b?this.onDragEnd:void 0,draggable:!P&&b||void 0};if(E){const j=E(Object.assign({},V));return b?g.cloneElement(j,Object.assign({ref:this.setRef},B)):gt(_)?j:g.cloneElement(j,{style:Object.assign(Object.assign({},K(j,["props","style"])),_)})}const F=R(`${Je}-label`,{[`${Je}-drag-over-gap-top`]:!P&&D,[`${Je}-drag-over-gap-bottom`]:!P&&$}),W=K(m,["data","children","length"]),N=Oe(m.pos)?Number(m.pos.split("-")[u+1])+1:1;return g.createElement("li",Object.assign({className:M,role:"treeitem","aria-disabled":P,"aria-checked":i,"aria-selected":s,"aria-setsize":W,"aria-posinset":N,"aria-expanded":r,"aria-level":u+1,"data-key":t,onClick:this.onClick,onKeyPress:this.handleliEnterPress,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,ref:this.setRef,style:_},B),g.createElement(bve,{showLine:v,prefixcls:Je,level:u,isEnd:y}),this.renderArrow(),g.createElement("span",{className:F},w?this.renderCheckbox():null,this.renderIcon(),g.createElement("span",{className:`${Je}-label-text`},this.renderRealLabel())))}}bc.contextType=VT;bc.propTypes={expanded:c.bool,selected:c.bool,checked:c.bool,halfChecked:c.bool,active:c.bool,disabled:c.bool,loaded:c.bool,loading:c.bool,isLeaf:c.bool,pos:c.string,children:c.oneOfType([c.array,c.object]),icon:c.node,directory:c.bool,keyword:c.string,treeNodeFilterProp:c.string,selectedKey:c.string,motionKey:c.oneOfType([c.string,c.arrayOf(c.string)]),isEnd:c.arrayOf(c.bool),showLine:c.bool};bc.defaultProps={selectedKey:"",motionKey:""};var Eve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function Sve(n){const{open:e,children:t}=n,r=Eve(n,["open","children"]),[s,i]=T.useState(n.open);return T.useEffect(()=>{setTimeout(()=>{i(!n.open)},0)},[]),g.createElement(No,Object.assign({},r,{isOpen:s}),t)}const bA=n=>n.key;class Yj extends T.PureComponent{constructor(e){super(e),this.onMotionEnd=()=>{typeof this.props.onMotionEnd=="function"&&this.props.onMotionEnd(),this.setState({transitionNodes:[]})},this.state={transitionNodes:[]}}static getDerivedStateFromProps(e,t){const{flattenNodes:r=[],motionKeys:s,motionType:i,flattenList:a=[]}=e,o=!ke(t.cachedMotionKeys,s)||!ke(t.cachedData.map(_=>_.key),r.map(_=>_.key)),l=[...s];if(!o||!l.length)return null;const u=[],d=[];let h=0,f={};return(i==="hide"&&a?a:r).forEach((_,y)=>{const v=bA(_);s.has(v)?(d.push(_),v===l[0]&&(h=y)):u.push(_)}),u.splice(h,0,d),f={transitionNodes:u,cachedData:r,cachedMotionKeys:s,cachedMotionType:i},f}render(){const{flattenNodes:e,motionType:t,searchTargetIsDeep:r,renderTreeNode:s}=this.props,{transitionNodes:i}=this.state;return(i.length&&!r?i:e).map(l=>{const u=Array.isArray(l);if(u&&!l.length)return null;if(u&&l.length){const d=bA(l[0]);return g.createElement(Sve,{open:t==="hide",duration:200,motion:!!t,key:`motion-${d}`,onMotionEnd:this.onMotionEnd},l.map(h=>s(h)))}return s(l)})}}Yj.contextType=VT;const qj={PREFIX:`${Y}-tree-select`,PREFIX_TREE:`${Y}-tree`},Ir={SIZE_SET:["small","large","default"],SEARCH_POSITION_DROPDOWN:"dropdown",SEARCH_POSITION_TRIGGER:"trigger",STATUS:hd};class Cve extends Pe{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===N2&&this.getState("isOpen")&&this.close(t)},this._registerClickOutsideHandler=()=>{this._adapter.registerClickOutsideHandler(t=>{this.handlerTriggerBlur(t),this.close(t)})},this.clearInputValue=()=>{const{inputValue:t}=this.getStates();t&&this._adapter.updateInputValue("")},this.onClickSingleTriggerSearchItem=t=>{this.focusInput(!0)}}init(){const{searchAutoFocus:e,searchPosition:t,filterTreeNode:r}=this.getProps(),s=t===Ir.SEARCH_POSITION_TRIGGER&&r,i=e&&s;this._setDropdownWidth();const a=!this._isDisabled();(this.getProp("defaultOpen")||i)&&a&&(this.open(),this._registerClickOutsideHandler()),i&&a&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&jt(e.width)||e&&Oe(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getProp("disabled")||e.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){const{inputValue:e}=this.getStates(),{showFilteredOnly:t}=this.getProps();return!!e&&t}findDataForValue(e){const{value:t,defaultValue:r,keyMaps:s}=this.getProps(),i=K(s,"value","value"),a=K(s,"key","key");let o=[];return t?o=Array.isArray(t)?t:[t]:r&&(o=Array.isArray(r)?r:[r]),o.find(l=>l[i]===e||l[a]===e)}constructDataForValue(e){const{treeNodeLabelProp:t,keyMaps:r}=this.getProps(),s=K(r,"key","key"),i=K(r,"label",t);return{[s]:e,[i]:e}}getDataForKeyNotInKeyEntities(e){const{onChangeWithObject:t}=this.getProps();return t?this.findDataForValue(e):this.constructDataForValue(e)}getTreeNodeProps(e){const{expandedKeys:t=new Set([]),selectedKeys:r=[],checkedKeys:s=new Set([]),halfCheckedKeys:i=new Set([]),realCheckedKeys:a=new Set([]),keyEntities:o={},filteredKeys:l=new Set([]),inputValue:u="",loadedKeys:d,loadingKeys:h,filteredExpandedKeys:f=new Set([]),disabledKeys:p=new Set([])}=this.getStates(),{treeNodeFilterProp:_,checkRelation:y}=this.getProps(),v=o[e];if(!v)return null;let w=!1,b=!1;y==="related"?(w=s.has(e),b=i.has(e)):y==="unRelated"&&(w=a.has(e),b=!1);const S={eventKey:e,expanded:!!u?f.has(e):t.has(e),selected:r.includes(e),checked:w,halfChecked:b,pos:String(v?v.pos:""),level:v.level,filtered:l.has(e),keyword:u,treeNodeFilterProp:_,loading:h.has(e)&&!d.has(e),loaded:d.has(e)};return this.getProp("disableStrictly")&&p.has(e)&&(S.disabled=!0),S}handleNodeLoad(e,t,r,s){const{loadData:i}=this.getProps(),{key:a}=r;return!i||e.has(a)||t.has(a)?{}:(i(r).then(()=>{const o=new Set(this.getState("loadedKeys")),l=new Set(this.getState("loadingKeys")),u=o.add(a),d=new Set([...l]);d.delete(a),this._adapter.notifyLoad(u,r),this._isLoadControlled()||this._adapter.updateState({loadedKeys:u}),this._adapter.setState({loadingKeys:d}),s()}),{loadingKeys:t.add(a)})}focusInput(e){this._adapter.updateInputFocus(e)}_notifyMultipleChange(e,t){const{keyEntities:r}=this.getStates(),{leafOnly:s,checkRelation:i,keyMaps:a,autoMergeValue:o}=this.getProps();let l=[];i==="related"?l=o?qs(e,r,s,!0):e:i==="unRelated"&&(l=e);const u=l.map(d=>r[d]&&r[d].key===d?r[d].data:this.getDataForKeyNotInKeyEntities(d));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(u,t);else{const d=by(u,a);this._adapter.notifyChange(d,u,t)}}_notifyChange(e,t){const{keyEntities:r}=this.getStates(),{keyMaps:s}=this.getProps();if(this._isMultiple()&&Array.isArray(e))this._notifyMultipleChange(e,t);else{const i=dt(e)?e:r[e].data,a=dt(e)?e:by(i,s);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(i,t):this._adapter.notifyChange(a,i,t)}}_notifyFocus(e){this._adapter.notifyFocus(e)}handleTriggerFocus(e){this._adapter.updateIsFocus(!0),this._notifyFocus(e),this._registerClickOutsideHandler()}_notifyBlur(e){this._adapter.notifyBlur(e)}handlerTriggerBlur(e){this.getState("isFocus")&&(this._adapter.updateIsFocus(!1),this._notifyBlur(e),this._adapter.unregisterClickOutsideHandler())}toggleHoverState(e){this._adapter.toggleHovering(e)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(e){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(e){const t=this._isDisabled(),{isOpen:r,inputValue:s,isFocus:i}=this.getStates(),{searchPosition:a,clickTriggerToHide:o}=this.getProps();if(!t)if(i||this.handleTriggerFocus(e),r){if(a==="trigger"&&s)return;o&&this.close(e)}else this.open()}handleSelectionEnterPress(e){$s(e)&&this.handleClick(e)}handleClear(e){const{searchPosition:t,filterTreeNode:r}=this.getProps(),{inputValue:s,selectedKeys:i}=this.getStates(),a=this._isMultiple(),o=this._isControlledComponent(),l=a?[]:void 0;this._notifyChange(l,e),o||(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),r&&t===Ir.SEARCH_POSITION_TRIGGER&&s!==""&&(gt(i)?this.handleInputChange(""):this.clearInput()),this._adapter.notifyClear(e)}handleClearEnterPress(e){$s(e)&&this.handleClear(e)}removeTag(e){const{disableStrictly:t,checkRelation:r,keyMaps:s}=this.getProps(),{keyEntities:i,disabledKeys:a,realCheckedKeys:o}=this.getStates(),l=i[e]&&i[e].key===e?i[e].data:this.getDataForKeyNotInKeyEntities(e),u=K(s,"disabled","disabled");if(!(l[u]||t&&a.has(e))){if(r==="unRelated"){const d=new Set(o);d.delete(e),this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:d}),this._adapter.rePositionDropdown())}else if(r==="related"){const{checkedKeys:d,halfCheckedKeys:h}=this.calcCheckedKeys(e,!1);this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:d,halfCheckedKeys:h}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(e,!1,l),this._adapter.rePositionDropdown()}}clearInput(){const{flattenNodes:e,expandedKeys:t,selectedKeys:r,keyEntities:s,treeData:i}=this.getStates(),{keyMaps:a}=this.getProps(),o=new Set(t);this._isExpandControlled();const l=Bi(r,s,!1);l.forEach(d=>o.add(d));const u=ro(i,o,a);this._adapter.updateState({expandedKeys:o,flattenNodes:u,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(l),filteredShownKeys:new Set([])}),this._adapter.rePositionDropdown()}handleInputChange(e){this._adapter.updateInputValue(e);const{flattenNodes:t,expandedKeys:r,selectedKeys:s,keyEntities:i,treeData:a}=this.getStates(),{showFilteredOnly:o,filterTreeNode:l,treeNodeFilterProp:u,keyMaps:d}=this.getProps(),h=u!=="label"?u:K(d,"label","label"),f=new Set(r);let p=[],_=[],y=[],v=[],m=new Set([]);if(!e)y=Bi(s,i,!1),y.forEach(b=>f.add(b)),v=ro(a,f,d);else{const b=Object.values(i).filter(S=>{const{data:C}=S;return iF(e,C,l,h)});p=b.map(S=>S.data),_=b.map(S=>S.key),y=Bi(_,i,!1);const E=Ui(_,i,!0);m=new Set([...E,...y]),v=ro(a,new Set(y),d,o&&m)}const w=new Set(y);this._adapter.notifySearch(e,Array.from(w),p),this._adapter.updateState({expandedKeys:f,flattenNodes:v,motionKeys:new Set([]),filteredKeys:new Set(_),filteredExpandedKeys:w,filteredShownKeys:m}),this._adapter.rePositionDropdown()}handleNodeSelect(e,t){this._isDisabled(t)||(this._isMultiple()?this.handleMultipleSelect(e,t):this.handleSingleSelect(e,t))}handleSingleSelect(e,t){let r=[...this.getState("selectedKeys")];const{clickToHide:s}=this.getProps(),{selected:i,eventKey:a,data:o}=t;this._adapter.notifySelect(a,!0,o),!r.includes(a)&&!i&&(r=[a],this._notifyChange(a,e),this._isControlledComponent()||this._adapter.updateState({selectedKeys:r})),s&&(this._isSelectToClose()||!o.children)&&(this.close(e),this.handlerTriggerBlur(e))}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?aF(e,r,s,i):oF(e,r,s,i)}handleMultipleSelect(e,t){const{searchPosition:r,disableStrictly:s,checkRelation:i}=this.getProps(),{inputValue:a,realCheckedKeys:o}=this.getStates(),{checked:l,eventKey:u,data:d}=t;if(i==="related"){const h=s?this.calcCheckedStatus(!l,u):!l,{checkedKeys:f,halfCheckedKeys:p}=s?this.calcNonDisabledCheckedKeys(u,h):this.calcCheckedKeys(u,h);this._adapter.notifySelect(u,h,d),this._notifyChange([...f],e),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:f,halfCheckedKeys:p}),this._adapter.rePositionDropdown())}else if(i==="unRelated"){const h=new Set(o);let f;o.has(u)?(h.delete(u),f=!1):(h.add(u),f=!0),this._adapter.notifySelect(u,f,d),this._notifyChange([...h],e),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:h}),this._adapter.rePositionDropdown())}r===Ir.SEARCH_POSITION_TRIGGER&&a!==""&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),a=qs(Ui([e],r,!1),r,!0);if(!a.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=a.filter(d=>!s.has(d)),u=t?[...l,...i]:_y(qs([...i],r,!0,!0),l);return bp(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),a=qs(Ui([t],s,!1),s,!0);return a.some(d=>i.has(d))?!a.filter(d=>!i.has(d)).every(d=>r.has(d)):e}handleNodeExpandInSearch(e,t){const{treeData:r,filteredShownKeys:s,keyEntities:i}=this.getStates(),{keyMaps:a}=this.getProps(),o=this._showFilteredOnly(),l=new Set(this.getState("filteredExpandedKeys"));let u="show";const{eventKey:d,expanded:h,data:f}=t;if(h?l.has(d)&&(l.delete(d),u="hide"):l.add(d),this._adapter.cacheFlattenNodes(u==="hide"&&this._isAnimated()),!this._isExpandControlled()){const p=ro(r,l,a,o&&s),_=this._isAnimated()?lR(d,l,i):[],y={filteredExpandedKeys:l,flattenNodes:p,motionKeys:new Set(_),motionType:u};this._adapter.updateState(y)}this._adapter.notifyExpand(l,{expanded:!h,node:f})}handleNodeExpand(e,t){const{loadData:r,keyMaps:s}=this.getProps(),{inputValue:i,keyEntities:a}=this.getStates(),o=!!i;if(!r&&(!t.children||!t.children.length))return;const l=this._isExpandControlled();if(o){this.handleNodeExpandInSearch(e,t);return}const{treeData:u}=this.getStates(),d=new Set(this.getState("expandedKeys"));let h="show";const{eventKey:f,expanded:p,data:_}=t;if(p?d.has(f)&&(d.delete(f),h="hide"):d.add(f),this._adapter.cacheFlattenNodes(h==="hide"&&this._isAnimated()),!l){const y=ro(u,d,s),v=this._isAnimated()?lR(f,d,a):[],m={expandedKeys:d,flattenNodes:y,motionKeys:new Set(v),motionType:h};this._adapter.updateState(m)}this._adapter.notifyExpand(d,{expanded:!p,node:_})}getRenderTextInSingle(){const{renderSelectedItem:e,treeNodeLabelProp:t,keyMaps:r}=this.getProps(),{selectedKeys:s,keyEntities:i}=this.getStates(),a=K(r,"label",t),o=Te(e)?e:d=>K(d,a,null);let l;if(s.length){const d=s[0];l=i[d]&&i[d].key===d?i[d].data:this.getDataForKeyNotInKeyEntities(d)}return l?o(l):null}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(e,t){this._adapter.updateLoadKeys(e,t)}handlePopoverVisibleChange(e){const{filterTreeNode:t,searchAutoFocus:r,searchPosition:s}=this.getProps();e===!1&&t&&this.clearInputValue(),t&&s===Ir.SEARCH_POSITION_DROPDOWN&&e&&r&&this.focusInput(!0)}handleAfterClose(){const{filterTreeNode:e}=this.getProps();e&&this.clearInput()}}var Tve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const De=qj.PREFIX,nl=qj.PREFIX_TREE,Ove=0;class f_ extends we{constructor(e){super(e),this.renderSuffix=()=>{const{suffix:t}=this.props,r=R({[`${De}-suffix`]:!0,[`${De}-suffix-text`]:t&&Oe(t),[`${De}-suffix-icon`]:hr(t)});return g.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,a=R({[`${De}-prefix`]:!0,[`${De}-inset-label`]:r,[`${De}-prefix-text`]:i&&Oe(i),[`${De}-prefix-icon`]:hr(i)});return g.createElement("div",{className:a,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderContent=()=>{const{dropdownMinWidth:t}=this.state,{dropdownStyle:r,dropdownClassName:s}=this.props,i=Object.assign({minWidth:t},r),a=R(s,`${De}-popover`);return g.createElement("div",{className:a,style:i,onKeyDown:this.foundation.handleKeyDown},this.renderTree())},this.removeTag=t=>{this.foundation.removeTag(t)},this.handleClick=t=>{this.foundation.handleClick(t)},this.getDataForKeyNotInKeyEntities=t=>this.foundation.getDataForKeyNotInKeyEntities(t),this.handleSelectionEnterPress=t=>{this.foundation.handleSelectionEnterPress(t)},this.hasValue=()=>{const{multiple:t,checkRelation:r}=this.props,{realCheckedKeys:s,checkedKeys:i,selectedKeys:a}=this.state;let o=!1;return t?r==="related"?o=!!i.size:r==="unRelated"&&(o=!!s.size):o=!!a.length,o},this.showClearBtn=()=>{const{showClear:t,disabled:r,searchPosition:s}=this.props,{inputValue:i,isOpen:a,isHovering:o}=this.state,l=s===Ir.SEARCH_POSITION_TRIGGER&&i;return t&&(this.hasValue()||l)&&!r&&(a||o)},this.renderTagList=t=>{const{keyEntities:r,disabledKeys:s}=this.state,{treeNodeLabelProp:i,leafOnly:a,disabled:o,disableStrictly:l,size:u,renderSelectedItem:d,keyMaps:h}=this.props,f=K(h,"label",i),p=Te(d)?d:y=>({isRenderInTag:!0,content:K(y,f,null)}),_=[];return t.forEach((y,v)=>{const m=r[y]&&r[y].key===y?r[y].data:this.getDataForKeyNotInKeyEntities(y),w=(O,I)=>{I&&typeof I.preventDefault=="function"&&I.preventDefault(),this.removeTag(y)},{content:b,isRenderInTag:E}=m?p(m,{index:v,onClose:w}):{};if(Bl(b)||dt(b))return;const C={closable:!(o||m.disabled||l&&s.has(m.key)),color:"white",visible:!0,onClose:w,key:`tag-${y}-${v}`,size:u==="small"?"small":"large"};E?_.push(g.createElement(qn,Object.assign({},C),b)):_.push(b)}),_},this.renderSingleTriggerSearchItem=()=>{const{placeholder:t,disabled:r}=this.props,{inputTriggerFocus:s}=this.state,i=this.foundation.getRenderTextInSingle(),a=R(`${De}-selection-TriggerSearchItem`,{[`${De}-selection-TriggerSearchItem-placeholder`]:(s||!i)&&!r,[`${De}-selection-TriggerSearchItem-disabled`]:r});return g.createElement("span",{className:a,onClick:this.foundation.onClickSingleTriggerSearchItem},i||t)},this.renderSingleTriggerSearch=()=>{const{inputValue:t}=this.state;return g.createElement(g.Fragment,null,this.renderInput(),!t&&this.renderSingleTriggerSearchItem())},this.renderSelectContent=t=>{const{multiple:r,placeholder:s,maxTagCount:i,searchPosition:a,filterTreeNode:o,showRestTagsPopover:l,restTagsPopoverProps:u}=this.props;if(o&&a===Ir.SEARCH_POSITION_TRIGGER)return r?this.renderTagInput(t):this.renderSingleTriggerSearch();if(!r||!this.hasValue()){const f=this.foundation.getRenderTextInSingle(),p=R(`${De}-selection-content`,{[`${De}-selection-placeholder`]:!f});return g.createElement("span",{className:p},f||s)}const h=this.renderTagList(t);return g.createElement(Cf,{maxTagCount:i,tagList:h,size:"large",mode:"custom",showPopover:l,popoverProps:u})},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear(t)},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.handleMouseOver=t=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=t=>{this.foundation.toggleHoverState(!1)},this.search=t=>{const{isOpen:r}=this.state;r||this.foundation.open(),this.foundation.handleInputChange(t)},this.close=()=>{this.foundation.close(null)},this.renderArrow=()=>{const t=this.showClearBtn(),{arrowIcon:r}=this.props;return t?null:r?g.createElement("div",{className:R(`${De}-arrow`),"x-semi-prop":"arrowIcon"},r):null},this.renderClearBtn=()=>{const t=this.showClearBtn(),{clearIcon:r}=this.props,s=R(`${De}-clearbtn`);return t?g.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TreeSelect value",className:s,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress},r||g.createElement(Ko,null)):null},this.renderSelection=()=>{const t=this.props,{disabled:r,multiple:s,filterTreeNode:i,validateStatus:a,prefix:o,suffix:l,style:u,size:d,insetLabel:h,className:f,placeholder:p,showClear:_,leafOnly:y,searchPosition:v,triggerRender:m,borderless:w,autoMergeValue:b,checkRelation:E}=t,S=Tve(t,["disabled","multiple","filterTreeNode","validateStatus","prefix","suffix","style","size","insetLabel","className","placeholder","showClear","leafOnly","searchPosition","triggerRender","borderless","autoMergeValue","checkRelation"]),{inputValue:C,selectedKeys:O,checkedKeys:I,keyEntities:P,isFocus:x,realCheckedKeys:D}=this.state,$=!!i,M=typeof m=="function",V=_?{onMouseEnter:Q=>this.handleMouseOver(Q),onMouseLeave:Q=>this.handleMouseLeave(Q)}:{},B=v===Ir.SEARCH_POSITION_TRIGGER&&$,F=B&&gt(I),W=B&&!gt(I),N=M?R(f):R(De,{[`${De}-borderless`]:w,[`${De}-focus`]:x,[`${De}-disabled`]:r,[`${De}-single`]:!s,[`${De}-multiple`]:s,[`${De}-multiple-tagInput-empty`]:s&&F,[`${De}-multiple-tagInput-notEmpty`]:s&&W,[`${De}-filterable`]:$,[`${De}-error`]:a==="error",[`${De}-warning`]:a==="warning",[`${De}-small`]:d==="small",[`${De}-large`]:d==="large",[`${De}-with-prefix`]:o||h,[`${De}-with-suffix`]:l,[`${De}-with-suffix`]:l},f);let j,L=[];s?b?E==="related"?L=qs([...I],P,y,!0):E==="unRelated"&&(L=[...D]):L=[...I]:L=O,M?j=g.createElement(hu,{inputValue:C,value:L.map(Q=>K(P,[Q,"data"])),disabled:r,placeholder:p,onClear:this.handleClear,componentName:"TreeSelect",triggerRender:m,componentProps:Object.assign({},this.props),onSearch:this.search,onRemove:this.removeTag}):j=[g.createElement(T.Fragment,{key:"prefix"},o||h?this.renderPrefix():null),g.createElement(T.Fragment,{key:"selection"},g.createElement("div",{className:`${De}-selection`},this.renderSelectContent(L))),g.createElement(T.Fragment,{key:"suffix"},l?this.renderSuffix():null),g.createElement(T.Fragment,{key:"clearBtn"},_||B&&C?this.renderClearBtn():null),g.createElement(T.Fragment,{key:"arrow"},this.renderArrow())];const te=r?null:0;return g.createElement("div",Object.assign({role:"combobox","aria-disabled":r,"aria-haspopup":"tree",tabIndex:te,className:N,style:u,ref:this.triggerRef,onClick:this.handleClick,onKeyPress:this.handleSelectionEnterPress,onKeyDown:this.foundation.handleKeyDown,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},V,this.getDataAttr(S)),j)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:a,leafOnly:o,disabled:l,disableStrictly:u,renderSelectedItem:d,treeNodeLabelProp:h,keyMaps:f}=this.props,p=K(f,"label",h),y=qs([t],s,o,!0).map(P=>s[t]&&s[t].key===t?s[t].data:this.getDataForKeyNotInKeyEntities(t)),v=by(y,f),m=R(`${De}-selection-tag`,{[`${De}-selection-tag-disabled`]:l}),w=!gt(y)&&!gt(y[0]),b=u&&w&&i.has(y[0].key),E=w&&!y[0].disabled&&!l&&!b,S=(P,x)=>{x.preventDefault(),this.removeTag(t)},C={size:a==="small"?"small":"large",key:`tag-${v}-${r}`,color:"white",className:m,closable:E,onClose:S},O=y[0],I=Te(d)?d:P=>({isRenderInTag:!0,content:K(P,p,null)});if(Te(I)){const{content:P,isRenderInTag:x}=O?I(O,{index:r,onClose:S}):{};return x?g.createElement(qn,Object.assign({},C),P):P}return g.createElement(qn,Object.assign({},C),v)},this.renderTagInput=t=>{const{disabled:r,size:s,searchAutoFocus:i,placeholder:a,maxTagCount:o,showRestTagsPopover:l,restTagsPopoverProps:u,searchPosition:d,filterTreeNode:h,preventScroll:f}=this.props,{inputValue:p}=this.state,_=h&&d===Ir.SEARCH_POSITION_TRIGGER?i:void 0;return g.createElement(Op,{maxTagCount:o,disabled:r,onInputChange:y=>this.search(y),ref:this.tagInputRef,placeholder:a,value:t,inputValue:p,size:s,showRestTagsPopover:l,restTagsPopoverProps:u,autoFocus:_,renderTagItem:(y,v)=>this.renderTagItem(y,v),onRemove:y=>this.removeTag(y),expandRestTagsOnClick:!1,preventScroll:f})},this.renderInput=()=>{const{searchPlaceholder:t,searchRender:r,showSearchClear:s,searchPosition:i,searchAutoFocus:a,multiple:o,disabled:l,preventScroll:u}=this.props,{inputValue:d,inputTriggerFocus:h}=this.state,f=i===Ir.SEARCH_POSITION_DROPDOWN,p=R({[`${nl}-input`]:f,[`${De}-inputTrigger`]:!f}),_={value:d,className:p,preventScroll:u,onChange:E=>this.search(E)},m=f?{showClear:s,prefix:g.createElement(D2,null)}:{autofocus:a,onFocus:E=>this.foundation.handleInputTriggerFocus(),onBlur:E=>this.foundation.handleInputTriggerBlur(),disabled:l},w=R({[`${nl}-search-wrapper`]:f,[`${De}-triggerSingleSearch-wrapper`]:!f&&!o,[`${De}-triggerSingleSearch-upper`]:!f&&h}),b=typeof r=="function"||typeof r=="boolean";return b&&!r?null:g.createElement("div",{className:w},g.createElement(dn,{componentName:"TreeSelect"},E=>{const S=f?t||E.searchPlaceholder:"";return b?r(Object.assign(Object.assign(Object.assign({},m),_),{placeholder:S})):g.createElement(En,Object.assign({"aria-label":"Filter TreeSelect item",ref:this.inputRef,placeholder:S},_,m))}))},this.renderEmpty=()=>{const{emptyContent:t}=this.props;return t===null?null:t?g.createElement(bc,{empty:!0,emptyContent:this.props.emptyContent}):g.createElement(dn,{componentName:"Tree"},r=>g.createElement(bc,{empty:!0,emptyContent:r.emptyText}))},this.onNodeLoad=t=>new Promise(r=>this.foundation.setLoadKeys(t,r)),this.onNodeSelect=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeCheck=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeExpand=(t,r)=>{this.foundation.handleNodeExpand(t,r)},this.getTreeNodeRequiredProps=()=>{const{expandedKeys:t,selectedKeys:r,checkedKeys:s,halfCheckedKeys:i,keyEntities:a,filteredKeys:o}=this.state;return{expandedKeys:t||new Set,selectedKeys:r||[],checkedKeys:s||new Set,halfCheckedKeys:i||new Set,filteredKeys:o||new Set,keyEntities:a}},this.getTreeNodeKey=t=>{const{data:r}=t,{key:s}=r;return s},this.handlePopoverVisibleChange=t=>{this.foundation.handlePopoverVisibleChange(t)},this.afterClose=()=>{this.foundation.handleAfterClose()},this.renderTreeNode=(t,r,s)=>{const{data:i,key:a}=t,o=this.foundation.getTreeNodeProps(a),{showLine:l}=this.props;if(!o)return null;const u=Hl(t,["key","label","disabled","isLeaf","icon","isEnd"]),{keyMaps:d}=this.props,h=i[K(d,"children","children")];return!dt(h)&&(u.children=h),g.createElement(bc,Object.assign({},o,i,u,{data:i,style:s,showLine:l}))},this.itemKey=(t,r)=>{const{visibleOptions:s}=r;return s[t].key},this.renderNodeList=()=>{const{flattenNodes:t,cachedFlattenNodes:r,motionKeys:s,motionType:i,filteredKeys:a}=this.state,{direction:o}=this.context,{virtualize:l,motionExpand:u}=this.props,d="expandedKeys"in this.props;if(!l||gt(l))return g.createElement(Yj,{flattenNodes:t,flattenList:r,motionKeys:u?s:new Set([]),motionType:i,searchTargetIsDeep:d&&u&&gt(s)&&!gt(a),onMotionEnd:this.onMotionEnd,renderTreeNode:this.renderTreeNode});const h={visibleOptions:t,renderOption:this.renderTreeNode};return g.createElement(jT,{defaultHeight:l.height,defaultWidth:l.width},f=>{let{height:p,width:_}=f;return g.createElement(sT,{itemCount:t.length,itemSize:l.itemSize,height:p,width:_,itemKey:this.itemKey,itemData:h,className:`${nl}-virtual-list`,style:{direction:o}},Mj)})},this.renderTree=()=>{const{keyEntities:t,motionKeys:r,motionType:s,inputValue:i,filteredKeys:a,flattenNodes:o,checkedKeys:l,realCheckedKeys:u}=this.state,{loadData:d,filterTreeNode:h,disabled:f,multiple:p,showFilteredOnly:_,motionExpand:y,outerBottomSlot:v,outerTopSlot:m,expandAction:w,labelEllipsis:b,virtualize:E,optionListStyle:S,searchPosition:C,renderLabel:O,renderFullLabel:I,checkRelation:P,emptyContent:x}=this.props,D=R(`${nl}-wrapper`),$=!!i&&!a.size,M=gt(o)||_&&$,V=C===Ir.SEARCH_POSITION_DROPDOWN,B=R(`${nl}-option-list ${nl}-option-list-block`,{[`${nl}-option-list-hidden`]:x===null&&M});return g.createElement(VT.Provider,{value:{loadData:d,treeDisabled:f,motion:y,motionKeys:r,motionType:s,expandAction:w,filterTreeNode:h,keyEntities:t,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeRightClick:k,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,renderTreeNode:this.renderTreeNode,multiple:p,showFilteredOnly:_,isSearching:!!i,renderLabel:O,renderFullLabel:I,labelEllipsis:typeof b>"u"?E:b}},g.createElement("div",{className:D},m,!m&&h&&V&&this.renderInput(),g.createElement("div",{className:B,role:"tree","aria-multiselectable":!!p,style:S},M?this.renderEmpty():p?g.createElement(wp,{value:Array.from(P==="related"?l:u)},this.renderNodeList()):this.renderNodeList()),v))},this.state={inputTriggerFocus:!1,isOpen:!1,isFocus:!1,rePosKey:Ove,dropdownMinWidth:null,inputValue:"",keyEntities:{},treeData:[],flattenNodes:[],cachedFlattenNodes:void 0,selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([]),disabledKeys:new Set,motionKeys:new Set([]),motionType:"hide",expandedKeys:new Set(e.expandedKeys),filteredKeys:new Set,filteredExpandedKeys:new Set,filteredShownKeys:new Set,prevProps:null,isHovering:!1,cachedKeyValuePairs:{},loadedKeys:new Set,loadingKeys:new Set},this.inputRef=g.createRef(),this.tagInputRef=g.createRef(),this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.clickOutsideHandler=null,this.foundation=new Cve(this.adapter),this.treeSelectID=Math.random().toString(36).slice(2),this.onMotionEnd=()=>{this.adapter.rePositionDropdown()}}static getDerivedStateFromProps(e,t){const{prevProps:r,rePosKey:s}=t,{keyMaps:i}=e,a=m=>!r&&m in e||r&&!ke(r[m],e[m]);let o;const l=e.onChangeWithObject;let u=t.keyEntities||{},d=t.cachedKeyValuePairs||{};const h={prevProps:e},f=a("treeData"),p=a("expandedKeys"),_=!!(e.filterTreeNode&&t.inputValue&&t.inputValue.length);if(f){o=e.treeData,h.treeData=o;const m=Sue(o,i);h.keyEntities=Object.assign({},m.keyEntities),u=h.keyEntities,h.cachedKeyValuePairs=Object.assign({},m.valueEntities),d=h.cachedKeyValuePairs}o&&e.motion&&!ke(Object.keys(h.keyEntities),Object.keys(t.keyEntities))&&r&&e.motion&&(h.motionKeys=new Set([]),h.motionType=null);const y=f&&e.expandAll;if(_){let m;if(o&&(m=Oue({treeData:o,inputValue:t.inputValue,filterTreeNode:e.filterTreeNode,filterProps:e.treeNodeFilterProp,showFilteredOnly:e.showFilteredOnly,keyEntities:h.keyEntities,prevExpandedKeys:[...t.filteredExpandedKeys],keyMaps:i}),h.flattenNodes=m.flattenNodes,h.motionKeys=new Set([]),h.filteredKeys=m.filteredKeys,h.filteredShownKeys=m.filteredShownKeys,h.filteredExpandedKeys=m.filteredExpandedKeys),e.expandedKeys){if(h.filteredExpandedKeys=Qb(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion){const w=t?t.filteredExpandedKeys:new Set([]);if(!o){const b=oR(w,h.filteredExpandedKeys,u);let{motionKeys:E}=b;const{motionType:S}=b;e.showFilteredOnly&&(E=E.filter(C=>t.filteredShownKeys.has(C))),S==="hide"&&(h.cachedFlattenNodes=v0(t.flattenNodes)),h.motionKeys=new Set(E),h.motionType=S}}h.flattenNodes=ro(o||t.treeData,h.filteredExpandedKeys||t.filteredExpandedKeys,i,e.showFilteredOnly&&t.filteredShownKeys)}}else{if(p||r&&a("autoExpandParent")){if(h.expandedKeys=Qb(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion&&!o){const{motionKeys:m,motionType:w}=oR(t.expandedKeys,h.expandedKeys,u);h.motionKeys=new Set(m),h.motionType=w,w==="hide"&&(h.cachedFlattenNodes=v0(t.flattenNodes))}}else!r&&(e.defaultExpandAll||e.expandAll)||y?h.expandedKeys=new Set(Object.keys(u)):!r&&e.defaultExpandedKeys?h.expandedKeys=Qb(e.defaultExpandedKeys,u):!r&&e.defaultValue?h.expandedKeys=aR(Ya(e.defaultValue,l,i),u,e.multiple,d):!r&&e.value&&(h.expandedKeys=aR(Ya(e.value,l,i),u,e.multiple,d));if(h.expandedKeys||delete h.expandedKeys,o||h.expandedKeys){const m=ro(o||t.treeData,h.expandedKeys||t.expandedKeys,i);h.flattenNodes=m}}const v=e.multiple;if(!v)a("value")?h.selectedKeys=cl(Ya(e.value,l,i),d,v):!r&&e.defaultValue?h.selectedKeys=cl(Ya(e.defaultValue,l,i),d,v):o&&(e.value?h.selectedKeys=cl(Ya(e.value,l,i)||"",d,v):h.selectedKeys=uR(t.selectedKeys,u));else{let m;if(a("value")?m=cl(Ya(e.value,l,i),d,v):!r&&e.defaultValue?m=cl(Ya(e.defaultValue,l,i),d,v):o&&(e.value?m=cl(Ya(e.value,l,i)||[],d,v):m=uR(e.checkRelation==="related"?t.checkedKeys:t.realCheckedKeys,u)),m){if(e.checkRelation==="unRelated")h.realCheckedKeys=new Set(m);else if(e.checkRelation==="related"){const{checkedKeys:w,halfCheckedKeys:b}=bp(m,u);h.checkedKeys=w,h.halfCheckedKeys=b}}}return a("loadedKeys")&&(h.loadedKeys=new Set(e.loadedKeys)),(f||a("value"))&&(h.rePosKey=s+1),o&&e.disableStrictly&&e.checkRelation==="related"&&(h.disabledKeys=lF(u,i)),h}get adapter(){var e=this;const t={updateInputValue:i=>{this.setState({inputValue:i})}},r={registerClickOutsideHandler:i=>{this.adapter.unregisterClickOutsideHandler();const a=o=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=xr.findDOMNode(l),h=o.target,f=o.composedPath&&o.composedPath()||[h];d&&(!d.contains(h)||!d.contains(h.parentNode))&&u&&!u.contains(h)&&!(f.includes(u)||f.includes(d))&&i(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{rePosKey:i}=this.state;i=i+1,this.setState({rePosKey:i})}},s={updateState:i=>{this.setState(Object.assign({},i))},notifySelect:(i,a,o)=>{this.props.onSelect&&this.props.onSelect(i,a,o)},notifySearch:(i,a,o)=>{this.props.onSearch&&this.props.onSearch(i,a,o)},cacheFlattenNodes:i=>{this.setState({cachedFlattenNodes:i?v0(this.state.flattenNodes):void 0})},notifyLoad:(i,a)=>{const{onLoad:o}=this.props;Te(o)&&o(i,a)},notifyClear:i=>{this.props.onClear&&this.props.onClear(i)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{updateLoadKeys:(i,a)=>{this.setState(o=>{let{loadedKeys:l,loadingKeys:u}=o;return this.foundation.handleNodeLoad(l,u,i,a)})},updateState:i=>{this.setState(Object.assign({},i))},openMenu:()=>{this.setState({isOpen:!0},()=>{this.props.onVisibleChange(!0)})},closeMenu:i=>{this.setState({isOpen:!1},()=>{i&&i(),this.props.onVisibleChange(!1)})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},notifyChange:(i,a,o)=>{this.props.onChange&&this.props.onChange(i,a,o)},notifyChangeWithObject:(i,a)=>{this.props.onChange&&this.props.onChange(i,a)},notifyExpand:(i,a)=>{let{expanded:o,node:l}=a;this.props.onExpand&&this.props.onExpand([...i],{expanded:o,node:l}),o&&this.props.loadData&&this.onNodeLoad(l)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},toggleHovering:i=>{this.setState({isHovering:i})},updateInputFocus:i=>{if(i){if(this.inputRef&&this.inputRef.current){const{preventScroll:a}=this.props;this.inputRef.current.focus({preventScroll:a})}this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.focus()}else this.inputRef&&this.inputRef.current&&this.inputRef.current.blur(),this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.blur()},updateIsFocus:i=>{this.setState({isFocus:i})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.renderContent(),{motion:t,zIndex:r,mouseLeaveDelay:s,mouseEnterDelay:i,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l,dropdownMargin:u,position:d}=this.props,{isOpen:h,rePosKey:f}=this.state,p=this.renderSelection(),_=d||"bottomLeft";return g.createElement(vr,{stopPropagation:o,getPopupContainer:l,zIndex:r,motion:t,margin:u,ref:this.optionsRef,content:e,visible:h,trigger:"custom",rePosKey:f,position:_,autoAdjustOverflow:a,mouseLeaveDelay:s,mouseEnterDelay:i,onVisibleChange:this.handlePopoverVisibleChange,afterClose:this.afterClose},p)}}f_.contextType=Nr;f_.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,loadedKeys:c.arrayOf(c.string),loadData:c.func,onLoad:c.func,arrowIcon:c.node,clearIcon:c.node,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.array,c.object]),defaultExpandAll:c.bool,defaultExpandedKeys:c.array,expandAll:c.bool,disabled:c.bool,disableStrictly:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),multiple:c.bool,searchPlaceholder:c.string,searchAutoFocus:c.bool,virtualize:c.object,treeNodeFilterProp:c.string,onChange:c.func,onClear:c.func,onSearch:c.func,onSelect:c.func,onExpand:c.func,onChangeWithObject:c.bool,onBlur:c.func,onFocus:c.func,value:c.oneOfType([c.string,c.number,c.array,c.object]),expandedKeys:c.array,autoExpandParent:c.bool,showClear:c.bool,showSearchClear:c.bool,autoAdjustOverflow:c.bool,showFilteredOnly:c.bool,showLine:c.bool,motionExpand:c.bool,emptyContent:c.node,keyMaps:c.object,leafOnly:c.bool,treeData:c.arrayOf(c.shape({key:c.string,value:c.oneOfType([c.string,c.number]),label:c.any})),dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),motion:c.bool,placeholder:c.string,maxTagCount:c.number,size:c.oneOf(Ir.SIZE_SET),className:c.string,style:c.object,treeNodeLabelProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,getPopupContainer:c.func,dropdownMatchSelectWidth:c.bool,validateStatus:c.oneOf(Ir.STATUS),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),outerBottomSlot:c.node,outerTopSlot:c.node,onVisibleChange:c.func,expandAction:c.oneOf(["click","doubleClick",!1]),searchPosition:c.oneOf([Ir.SEARCH_POSITION_DROPDOWN,Ir.SEARCH_POSITION_TRIGGER]),clickToHide:c.bool,renderLabel:c.func,renderFullLabel:c.func,labelEllipsis:c.bool,optionListStyle:c.object,searchRender:c.oneOfType([c.func,c.bool]),renderSelectedItem:c.func,checkRelation:c.string,"aria-label":c.string,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,preventScroll:c.bool,clickTriggerToHide:c.bool,autoMergeValue:c.bool};f_.defaultProps={borderless:!1,searchPosition:Ir.SEARCH_POSITION_DROPDOWN,arrowIcon:g.createElement(Uv,null),autoExpandParent:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,motionExpand:!0,expandAll:!1,zIndex:as.DEFAULT_Z_INDEX,disableStrictly:!1,multiple:!1,filterTreeNode:!1,size:"default",treeNodeFilterProp:"label",onChangeWithObject:!1,treeNodeLabelProp:"label",dropdownMatchSelectWidth:!0,defaultOpen:!1,showSearchClear:!0,showClear:!1,onVisibleChange:k,expandAction:!1,clickToHide:!0,searchAutoFocus:!1,checkRelation:"related","aria-label":"TreeSelect",showRestTagsPopover:!1,restTagsPopoverProps:{},clickTriggerToHide:!0,autoMergeValue:!0};const Ive=`${Y}-upload`,wA="picture",EA="list",Pve=.95,Xj={PREFIX:Ive},SA="auto",xve="custom",Ve={FILE_STATUS_UPLOADING:"uploading",FILE_STATUS_SUCCESS:"success",FILE_STATUS_UPLOAD_FAIL:"uploadFail",FILE_STATUS_VALIDATING:"validating",FILE_STATUS_VALID_FAIL:"validateFail",FILE_STATUS_WAIT_UPLOAD:"wait",FILE_LIST_PIC:wA,FILE_LIST_DEFAULT:EA,LIST_TYPE:[wA,EA],DRAG_AREA_DEFAULT:"default",DRAG_AREA_LEGAL:"legal",DRAG_AREA_ILLEGAL:"illegal",TRIGGER_AUTO:SA,UPLOAD_TRIGGER:[SA,xve],VALIDATE_STATUS:hd,PROMPT_POSITION:["left","right","bottom"]},Rve={PROGRESS_COEFFICIENT:Pve};var bS=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const oc=1024,_0=1048576;function wS(n){if(n<oc)return`${(n/oc).toFixed(2)}KB`;if(n>=oc&&n<_0)return`${(n/oc).toFixed(1)}KB`;if(n>=_0)return`${(n/_0).toFixed(1)}MB`}function Ave(n,e){return n.indexOf(e,n.length-e.length)!==-1}function Dve(n){return bS(this,void 0,void 0,function*(){return new Promise((e,t)=>{const r=n.createReader();let s=[];function i(){r.readEntries(a=>{const o=Array.prototype.slice.apply(a);s=s.concat(o),!o.length?e(s):i()},t)}i()})})}function kve(n){return bS(this,void 0,void 0,function*(){const e=[],t=(r,s)=>bS(this,void 0,void 0,function*(){if(s=s||"",r.path=s,r.isFile)e.push(new Promise((i,a)=>{r.file(o=>{r.fullPath&&!o.webkitRelativePath&&(Object.defineProperties(o,{webkitRelativePath:{writable:!0}}),o.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(o,{webkitRelativePath:{writable:!1}})),i(o)},a)}));else if(r.isDirectory){const i=yield Dve(r);for(let a=0;a<i.length;a++){const o=i[a];yield t(o,`${s}${r.name}/`)}}});try{const r=n.map(i=>t(i.webkitGetAsEntry()));return yield Promise.all(r),yield Promise.all(e)}catch(r){return console.warn("Captured error while loop directory."),console.error(r),[]}})}var Nve=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const{FILE_STATUS_UPLOADING:CA,FILE_STATUS_SUCCESS:$ve,FILE_STATUS_UPLOAD_FAIL:Lve,FILE_STATUS_VALID_FAIL:b0,FILE_STATUS_WAIT_UPLOAD:TA,DRAG_AREA_DEFAULT:w0,DRAG_AREA_LEGAL:Mve,TRIGGER_AUTO:kg}=Ve;class Fve extends Pe{constructor(e){super(Object.assign({},e)),this.destroyState=!1}init(){this.destroyState=!1;const{disabled:e,addOnPasting:t}=this.getProps();t&&!e&&this.bindPastingHandler()}destroy(){const{disabled:e,addOnPasting:t}=this.getProps();this.releaseMemory(),e||this.unbindPastingHandler(),this.destroyState=!0}getError(e){let{action:t,xhr:r,message:s,fileName:i}=e;const a=r?r.status:0,o=s||`cannot post ${i} to ${t}, xhr status: ${a}'`,l=new Error(o);return l.status=a,l.method="post",l.url=t,l}getBody(e){if(!e)return;const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}checkFileSize(e){const{size:t}=e,{maxSize:r,minSize:s}=this.getProps();let i=!1;return(t>r*oc||t<s*oc)&&(i=!0),i}handleChange(e){const t=[],{limit:r,transformFile:s,accept:i}=this.getProps(),{fileList:a}=this.getStates();let o=Array.from(e);if(typeof i<"u"&&(o=o.filter(u=>{const d=this.checkFileFormat(i,u);return d||t.push(u),d}),t.length!==0&&this._adapter.notifyAcceptInvalid(t),o.length===0))return;o=o.map(u=>(s&&(u=s(u)),u.uid||(u.uid=am()),this.checkFileSize(u)&&(u._sizeInvalid=!0,u.status=b0,this._adapter.notifySizeError(u,a)),u));const l=a.length+o.length;if(typeof r<"u"&&l>r){if(this._adapter.notifyExceed(o),r===1){o=o.slice(-1),this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.replaceFileList(o);return}const u=r-a.length;o=o.slice(0,u)}this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.addFilesToList(o)}handleReplaceChange(e){if(e.length===0)return;const{transformFile:t,uploadTrigger:r,accept:s}=this.getProps(),{replaceIdx:i,fileList:a}=this.getStates();let o=Array.from(e).pop();if(typeof s<"u"&&!this.checkFileFormat(s,o)){this._adapter.notifyAcceptInvalid([o]);return}t&&(o=t(o)),o.uid||(o.uid=am()),this.checkFileSize(o)&&(o._sizeInvalid=!0,o.status=b0,this._adapter.notifySizeError(o,a)),this._adapter.notifyFileSelect([o]);const l=this.buildFileItem(o,r),u=[...a];u.splice(i,1,l),this._adapter.notifyChange({currentFile:l,fileList:u}),this._adapter.updateFileList(u,()=>{this._adapter.resetReplaceInput(),l._sizeInvalid||this.upload(l)})}buildFileItem(e,t){const{_sizeInvalid:r,status:s}=e;try{delete e._sizeInvalid,delete e.status}catch{}const i={status:s||(t===kg?CA:TA),name:e.name,size:wS(e.size),uid:e.uid,percent:0,fileInstance:e,url:this._createURL(e)};return r&&(i._sizeInvalid=!0),this.isImage(e)&&(i.preview=!0),i}replaceFileList(e){const{uploadTrigger:t}=this.getProps(),r=e.map(s=>this.buildFileItem(s,t));this._adapter.notifyChange({fileList:r,currentFile:r[0]}),this._adapter.updateFileList(r,()=>{t===kg&&this.startUpload(r)})}addFilesToList(e){const t=this.getState("fileList").slice(),{uploadTrigger:r}=this.getProps(),s=e.map(i=>this.buildFileItem(i,r));s.forEach(i=>{const a=t.findIndex(o=>o.uid===i.uid);a!==-1?t[a]=i:(t.push(i),this._adapter.notifyChange({fileList:t,currentFile:i}))}),this._adapter.updateFileList(t,()=>{r===kg&&this.startUpload(s)})}insertFileToList(e,t){const{limit:r,transformFile:s,accept:i,uploadTrigger:a}=this.getProps(),{fileList:o}=this.getStates(),l=[];let u=Array.from(e);if(typeof i<"u"&&(u=u.filter(p=>{const _=this.checkFileFormat(i,p);return _||l.push(p),_}),l.length!==0&&this._adapter.notifyAcceptInvalid(l),u.length===0))return;u=u.map(p=>(p.uid||(p.uid=am()),this.checkFileSize(p)&&(p._sizeInvalid=!0,p.status=b0,this._adapter.notifySizeError(p,o)),s&&(p=s(p)),p));const d=o.length+u.length;if(typeof r<"u"&&d>r){if(r===1){u=u.slice(-1),this._adapter.notifyFileSelect(u),this._adapter.resetInput(),this.replaceFileList(u);return}const p=r-o.length;u=u.slice(0,p),this._adapter.notifyExceed(u)}const h=u.map(p=>this.buildFileItem(p,a)),f=o.slice();typeof t<"u"?f.splice(t,0,...h):f.push(...h),this._adapter.notifyFileSelect(u),this._adapter.notifyChange({fileList:f,currentFile:null}),this._adapter.updateFileList(f,()=>{a===kg&&this.startUpload(h)})}manualUpload(){const e=this.getState("fileList").filter(t=>t.status===TA);this.startUpload(e)}startUpload(e){e.forEach(t=>{t._sizeInvalid||this.upload(t)})}upload(e){const{beforeUpload:t}=this.getProps();if(typeof t>"u"){this.post(e);return}if(typeof t=="function"){const{fileList:r}=this.getStates(),s=this._adapter.notifyBeforeUpload({file:e,fileList:r});switch(!0){case s===!0:{this.post(e);break}case s===!1:{const i={shouldUpload:!1,status:Ve.FILE_STATUS_VALID_FAIL};this.handleBeforeUploadResultInObject(i,e);break}case(s&&Ef(s)):{Promise.resolve(s).then(i=>{let a={shouldUpload:!0};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),i)),this.handleBeforeUploadResultInObject(a,e)},i=>{let a={shouldUpload:!1,status:Ve.FILE_STATUS_VALID_FAIL};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),i)),this.handleBeforeUploadResultInObject(a,e)});break}case typeof s=="object":this.handleBeforeUploadResultInObject(s,e);break}}}handleBeforeUploadResultInObject(e,t){const{shouldUpload:r,status:s,autoRemove:i,validateMessage:a,fileInstance:o}=e;let l=this.getState("fileList").slice();if(i)l=l.filter(u=>u.uid!==t.uid);else{const u=this._getFileIndex(t,l);if(u<0)return;s&&(l[u].status=s),a&&(l[u].validateMessage=a),o&&(o.uid=t.uid,l[u].fileInstance=o,l[u].size=wS(o.size),l[u].name=o.name,l[u].url=this._createURL(o)),l[u].shouldUpload=r}this._adapter.updateFileList(l),this._adapter.notifyChange({fileList:l,currentFile:t}),r&&this.post(t)}post(e){const{fileInstance:t}=e,r=this.getProps();if(typeof XMLHttpRequest>"u")return;const s=new XMLHttpRequest,i=new FormData,{action:a}=r;let{data:o}=r;o&&(typeof o=="function"&&(o=o(t)),Object.keys(o).forEach(d=>{i.append(d,o[d])}));const l=r.name||r.fileName||t.name;if(r.customRequest)return r.customRequest({fileName:l,data:o,file:e,fileInstance:t,onProgress:d=>this.handleProgress({e:d,fileInstance:t}),onError:(d,h)=>this.handleError({e:h,xhr:d,fileInstance:t}),onSuccess:(d,h)=>this.handleSuccess({response:d,fileInstance:t,e:h,isCustomRequest:!0}),withCredentials:r.withCredentials,action:r.action});i.append(l,t),s.open("post",a,!0),r.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0),s.upload&&(s.upload.onprogress=d=>{this.destroyState?s.abort():this.handleProgress({e:d,fileInstance:t})}),s.onload=d=>{this.destroyState||this.handleOnLoad({e:d,xhr:s,fileInstance:t})},s.onerror=d=>{this.destroyState||this.handleError({e:d,xhr:s,fileInstance:t})};let u=r.headers||{};typeof u=="function"&&(u=u(t));for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&u[d]!==null&&s.setRequestHeader(d,u[d]);s.send(i)}handleProgress(e){let{e:t,fileInstance:r}=e;const{fileList:s}=this.getStates(),i=s.slice();let a=0;t.total>0&&(a=Number((t.loaded/t.total*100*Rve.PROGRESS_COEFFICIENT).toFixed(0))||0);const o=this._getFileIndex(r,i);o<0||(i[o].percent=a,i[o].status=CA,this._adapter.notifyProgress(a,r,i),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:i[o]}))}handleOnLoad(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),a=this._getFileIndex(s,i);a<0||(r.status<200||r.status>=300?this.handleError({e:t,xhr:r,fileInstance:s}):this.handleSuccess({e:t,xhr:r,fileInstance:s,index:a}))}handleSuccess(e){let{e:t,fileInstance:r,isCustomRequest:s=!1,xhr:i,response:a}=e;const{fileList:o}=this.getStates();let l=null;const u=this._getFileIndex(r,o);if(u<0)return;s?l=a:l=this.getBody(i);const d=o.slice(),{afterUpload:h}=this.getProps();if(d[u].status=$ve,d[u].percent=100,this._adapter.notifyProgress(100,r,d),d[u].response=l,t&&(d[u].event=t),h&&typeof h=="function"){const{autoRemove:f,status:p,validateMessage:_,name:y,url:v}=this._adapter.notifyAfterUpload({response:l,file:d[u],fileList:d})||{};p&&(d[u].status=p),_&&(d[u].validateMessage=_),y&&(d[u].name=y),v&&(d[u].url=v),f&&d.splice(u,1)}this._adapter.notifySuccess(l,r,d),this._adapter.notifyChange({fileList:d,currentFile:d[u]}),this._adapter.updateFileList(d)}_getFileIndex(e,t){return t.findIndex(r=>r.uid===e.uid)}handleRemove(e){const{disabled:t}=this.getProps();if(t)return;const{fileList:r}=this.getStates();Promise.resolve(this._adapter.notifyBeforeRemove(e,r)).then(s=>{if(s===!1)return;const i=r.slice(),a=this._getFileIndex(e,r);a<0||(i.splice(a,1),this._adapter.notifyRemove(e.fileInstance,i,e),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:e}))})}handleError(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),a=this._getFileIndex(s,i);if(a<0)return;const{action:o}=this.getProps(),l=i.slice(),u=this.getError({action:o,xhr:r,fileName:s.name});l[a].status=Lve,l[a].response=u,l[a].event=t,this._adapter.notifyError(u,s,l,r),this._adapter.updateFileList(l),this._adapter.notifyChange({currentFile:l[a],fileList:l})}handleClear(){const{disabled:e}=this.getProps(),{fileList:t}=this.getStates();e||Promise.resolve(this._adapter.notifyBeforeClear(t)).then(r=>{r!==!1&&(this._adapter.updateFileList([]),this._adapter.notifyClear(),this._adapter.notifyChange({fileList:[]}))}).catch(r=>{})}_createURL(e){const t=URL.createObjectURL(e),{localUrls:r}=this.getStates(),s=r.slice();return s.push(t),this._adapter.updateLocalUrls(s),t}releaseMemory(){const{localUrls:e}=this.getStates();e.forEach(t=>{this._releaseBlob(t)})}_releaseBlob(e){try{URL.revokeObjectURL(e)}catch(t){console.log(t)}}isImage(e){return/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(e.type)}isMultiple(){return!!this.getProp("multiple")}handleDragEnter(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget=e.currentTarget;const{disabled:t}=this.getProps();t||this._adapter.updateDragAreaStatus(Mve)}handleDirectoryDrop(e){return Nve(this,void 0,void 0,function*(){const t=this.getState("fileList").slice(),r=[].slice.call(e.dataTransfer.items),s=yield kve(r);this.handleChange(s),this._adapter.updateDragAreaStatus(w0),this._adapter.notifyDrop(e,s,t)})}handleDrop(e){e.preventDefault(),e.stopPropagation();const{disabled:t,directory:r}=this.getProps(),s=this.getState("fileList").slice();if(!t){if(r){this.handleDirectoryDrop(e);return}const i=Array.from(e.dataTransfer.files);this.handleChange(i),this._adapter.updateDragAreaStatus(w0),this._adapter.notifyDrop(e,i,s)}}handleDragOver(e){e.preventDefault(),e.stopPropagation()}handleDragLeave(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget===e.target&&this._adapter.updateDragAreaStatus(w0)}checkFileFormat(e,t){const r=e.split(",").map(a=>a.trim()).filter(a=>a),s=t.type||"",i=s.replace(/\/.*$/,"");return r.some(a=>{if(a.charAt(0)==="."){const o=t.name||"",l=a.split(".").pop().toLowerCase();return Ave(o.toLowerCase(),l)}if(/\/\*$/.test(a)){const o=a.replace(/\/.*$/,"");return i===o}return/^[^\/]+\/[^\/]+$/.test(a)?s===a:!1})}retry(e){const{onRetry:t}=this.getProps();t&&typeof t=="function"&&t(e),this.post(e)}handlePreviewClick(e){this._adapter.notifyPreviewClick(e)}readFileFromClipboard(e){for(const t of e)for(const r of t.types)r.startsWith("image")&&t.getType(r).then(s=>s.arrayBuffer()).then(s=>{const i=r.split("/")[1],a=new File([s],`upload.${i}`,{type:r});this.handleChange([a])})}handlePasting(e){const r=this._adapter.isMac()?e.metaKey:e.ctrlKey,{addOnPasting:s}=this.getProps();s&&r&&e.code==="KeyV"&&navigator.permissions.query({name:"clipboard-read"}).then(a=>{a.state==="granted"||a.state==="prompt"?navigator.clipboard.read().then(o=>{this.readFileFromClipboard(o)}):this._adapter.notifyPastingError(a)}).catch(a=>{this._adapter.notifyPastingError(a)})}bindPastingHandler(){this._adapter.registerPastingHandler(e=>this.handlePasting(e))}unbindPastingHandler(){this._adapter.unRegisterPastingHandler()}}class jve extends Pe{constructor(e){super(Object.assign({},e))}handleImageError(e){this._adapter.updateFallbackPreview(!0)}}const yt=Xj.PREFIX,Vve=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("circle",{cx:"7.99992",cy:"7.99992",r:"6.66667",fill:"white"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.00008C15.3332 12.0502 12.0499 15.3334 7.99984 15.3334C3.94975 15.3334 0.666504 12.0502 0.666504 8.00008C0.666504 3.94999 3.94975 0.666748 7.99984 0.666748C12.0499 0.666748 15.3332 3.94999 15.3332 8.00008ZM8.99984 11.6667C8.99984 11.1145 8.55212 10.6667 7.99984 10.6667C7.44755 10.6667 6.99984 11.1145 6.99984 11.6667C6.99984 12.219 7.44755 12.6667 7.99984 12.6667C8.55212 12.6667 8.99984 12.219 8.99984 11.6667ZM7.99984 3.33341C7.27573 3.33341 6.7003 3.94171 6.74046 4.66469L6.94437 8.33495C6.97549 8.89513 7.4388 9.33341 7.99984 9.33341C8.56087 9.33341 9.02419 8.89513 9.05531 8.33495L9.25921 4.66469C9.29938 3.94171 8.72394 3.33341 7.99984 3.33341Z",fill:"#F93920"}))},Uve=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#16161A",fillOpacity:"0.6"}),g.createElement("path",{d:"M9 10.25V18.25L10.25 13.25H17.875V11.75C17.875 11.4739 17.6511 11.25 17.375 11.25H14L12.75 9.75H9.5C9.22386 9.75 9 9.97386 9 10.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 18.25L19 13.25H10.2031L9 18.25H18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Bve=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("path",{d:"M6 17V7.58824C6 7.26336 6.26863 7 6.6 7H10.5L12 8.76471H16.05C16.3814 8.76471 16.65 9.02806 16.65 9.35294V11.1176H7.5L6 17ZM6 17L7.44375 11.1176H18L16.8 17L6 17Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};class p_ extends we{constructor(e){super(e),this.state={fallbackPreview:!1},this.foundation=new jve(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateFallbackPreview:e=>this.setState({fallbackPreview:e})})}transSize(e){return typeof e=="number"?wS(e):e}renderValidateMessage(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(typeof t=="string"&&e===Ve.FILE_STATUS_VALIDATING):r=g.createElement(g.Fragment,null,g.createElement(qi,{size:"small",wrapperClassName:`${yt}-file-card-icon-loading`}),t);break;case typeof t=="string":r=g.createElement(g.Fragment,null,g.createElement(pf,{className:`${yt}-file-card-icon-error`}),t);break;case oE(t):r=t;break}return r}renderPicValidateMsg(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(t&&e===Ve.FILE_STATUS_VALIDATING):r=g.createElement(qi,{size:"small",wrapperClassName:`${yt}-picture-file-card-icon-loading`});break;case(t&&(e===Ve.FILE_STATUS_VALID_FAIL||e===Ve.FILE_STATUS_UPLOAD_FAIL)):r=g.createElement("div",{className:`${yt}-picture-file-card-icon-error`},g.createElement(Vve,null));break}return r?g.createElement(pr,{content:t,trigger:"hover",position:"bottom"},r):null}renderPic(e){const{fallbackPreview:t}=this.state,{url:r,percent:s,status:i,disabled:a,style:o,onPreviewClick:l,showPicInfo:u,renderPicInfo:d,renderPicPreviewIcon:h,renderThumbnail:f,name:p,index:_,picHeight:y,picWidth:v}=this.props,m=i===Ve.FILE_STATUS_UPLOADING&&s!==100,w=i===Ve.FILE_STATUS_UPLOAD_FAIL&&this.props.showRetry,b=i===Ve.FILE_STATUS_SUCCESS&&this.props.showReplace,E=i===Ve.FILE_STATUS_SUCCESS&&!this.props.showReplace,S=typeof f=="function",C=R({[`${yt}-picture-file-card`]:!0,[`${yt}-picture-file-card-preview-fallback`]:t,[`${yt}-picture-file-card-disabled`]:a,[`${yt}-picture-file-card-show-pointer`]:typeof l<"u",[`${yt}-picture-file-card-error`]:i===Ve.FILE_STATUS_UPLOAD_FAIL,[`${yt}-picture-file-card-uploading`]:m,[`${yt}-picture-file-card-custom-thumbnail`]:S&&y&&v}),O=g.createElement("div",{role:"button",tabIndex:0,className:`${yt}-picture-file-card-retry`,onClick:F=>this.onRetry(F)},g.createElement(Yie,{className:`${yt}-picture-file-card-icon-retry`})),I=g.createElement(pr,{trigger:"hover",position:"top",content:e.replace,showArrow:!1,spacing:4},g.createElement("div",{role:"button",tabIndex:0,className:`${yt}-picture-file-card-replace`,onClick:F=>this.onReplace(F)},g.createElement(Uve,{className:`${yt}-picture-file-card-icon-replace`}))),P=g.createElement("div",{className:`${yt}-picture-file-card-preview`},typeof h=="function"?h(this.props):null),x=g.createElement("div",{role:"button",tabIndex:0,className:`${yt}-picture-file-card-close`,onClick:F=>this.onRemove(F)},g.createElement(Ko,{className:`${yt}-picture-file-card-icon-close`})),D=typeof d=="function"?d(this.props):g.createElement("div",{className:`${yt}-picture-file-card-pic-info`},_+1);let $={},M=o?Object.assign({},o):{};y&&(M.height=y,$.height=y),v&&(M.width=v,$.width=v);const B=S?f(this.props):t?g.createElement(dE,{size:"large"}):g.createElement("img",{src:r,alt:p,onError:F=>this.foundation.handleImageError(F),style:$});return g.createElement("div",{role:"listitem",className:C,style:M,onClick:l},B,m?g.createElement(xy,{percent:s,type:"circle",size:"small",orbitStroke:"#FFF","aria-label":"uploading file progress"}):null,w?O:null,b&&I,E&&P,u&&D,!a&&x,this.renderPicValidateMsg())}renderFile(e){const{name:t,size:r,percent:s,url:i,showRetry:a,showReplace:o,preview:l,previewFile:u,status:d,style:h,onPreviewClick:f,renderFileOperation:p}=this.props,{fallbackPreview:_}=this.state,y=R({[`${yt}-file-card`]:!0,[`${yt}-file-card-fail`]:d===Ve.FILE_STATUS_VALID_FAIL||d===Ve.FILE_STATUS_UPLOAD_FAIL,[`${yt}-file-card-show-pointer`]:typeof f<"u"}),v=R({[`${yt}-file-card-preview`]:!0,[`${yt}-file-card-preview-placeholder`]:!l||u||_}),m=`${yt}-file-card-info`,w=`${yt}-file-card-close`,b=`${yt}-file-card-replace`,E=!(s===100||typeof s>"u")&&d===Ve.FILE_STATUS_UPLOADING,S=d===Ve.FILE_STATUS_UPLOAD_FAIL&&a,C=d===Ve.FILE_STATUS_SUCCESS&&o,O=this.transSize(r);let I=l&&!_?g.createElement("img",{src:i,alt:t,onError:x=>this.foundation.handleImageError(x)}):g.createElement(dE,{size:"large"});u&&(I=u(this.props));const P=typeof p=="function"?p(this.props):g.createElement(xe,{onClick:x=>this.onRemove(x),type:"tertiary",icon:g.createElement(Bv,null),theme:"borderless",size:"small",className:w});return g.createElement("div",{role:"listitem",className:y,style:h,onClick:f},g.createElement("div",{className:v},I),g.createElement("div",{className:`${m}-main`},g.createElement("div",{className:`${m}-main-text`},g.createElement("span",{className:`${m}-name`},t),g.createElement("span",null,g.createElement("span",{className:`${m}-size`},O),C&&g.createElement(pr,{trigger:"hover",position:"top",showArrow:!1,content:e.replace},g.createElement(xe,{onClick:x=>this.onReplace(x),type:"tertiary",theme:"borderless",size:"small",icon:g.createElement(Bve,null),className:b})))),E?g.createElement(xy,{percent:s,style:{width:"100%"},"aria-label":"uploading file progress"}):null,g.createElement("div",{className:`${m}-main-control`},g.createElement("span",{className:`${m}-validate-message`},this.renderValidateMessage()),S?g.createElement("span",{role:"button",tabIndex:0,className:`${m}-retry`,onClick:x=>this.onRetry(x)},e.retry):null)),P)}onRemove(e){e.stopPropagation(),this.props.onRemove()}onReplace(e){e.stopPropagation(),this.props.onReplace()}onRetry(e){e.stopPropagation(),this.props.onRetry()}render(){const{listType:e}=this.props;return e===Ve.FILE_LIST_PIC?g.createElement(dn,{componentName:"Upload"},t=>this.renderPic(t)):e===Ve.FILE_LIST_DEFAULT?g.createElement(dn,{componentName:"Upload"},t=>this.renderFile(t)):null}}p_.propTypes={className:c.string,disabled:c.bool,listType:c.string,name:c.string,onPreviewClick:c.func,onRemove:c.func,onReplace:c.func,onRetry:c.func,percent:c.number,preview:c.bool,previewFile:c.func,picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),showReplace:c.bool,showRetry:c.bool,size:c.oneOfType([c.number,c.string]),status:c.string,style:c.object,url:c.string,validateMessage:c.node,index:c.number};p_.defaultProps={listType:Ve.FILE_LIST_DEFAULT,name:"",onRemove:()=>{},onRetry:()=>{},preview:!1,size:""};var Hve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ut=Xj.PREFIX;class g_ extends we{constructor(e){super(e),this.inputRef=null,this.replaceInputRef=null,this.onClick=()=>{const{inputRef:t,props:r}=this,{onOpenFileDialog:s}=r;this.props.disabled||!t||!t.current||(t.current.click(),s&&s())},this.onChange=t=>{const{files:r}=t.target;this.foundation.handleChange(r)},this.replace=t=>{this.setState({replaceIdx:t},()=>{this.replaceInputRef.current.click()})},this.onReplaceChange=t=>{const{files:r}=t.target;this.foundation.handleReplaceChange(r)},this.clear=()=>{this.foundation.handleClear()},this.remove=t=>{this.foundation.handleRemove(t)},this.insert=(t,r)=>this.foundation.insertFileToList(t,r),this.upload=()=>{this.foundation.manualUpload()},this.openFileDialog=()=>{this.onClick()},this.renderFile=(t,r,s)=>{const{name:i,status:a,validateMessage:o,_sizeInvalid:l,uid:u}=t,{previewFile:d,listType:h,itemStyle:f,showPicInfo:p,renderPicInfo:_,renderPicPreviewIcon:y,renderFileOperation:v,renderFileItem:m,renderThumbnail:w,disabled:b,onPreviewClick:E,picWidth:S,picHeight:C}=this.props,O=()=>this.remove(t),I=()=>{this.foundation.retry(t)},P=()=>{this.replace(r)},x=Object.assign(Object.assign(Object.assign({},Hl(this.props,["showRetry","showReplace",""])),t),{previewFile:d,listType:h,onRemove:O,onRetry:I,index:r,key:u||`${i}${r}`,style:f,disabled:b,showPicInfo:p,renderPicInfo:_,renderPicPreviewIcon:y,renderFileOperation:v,renderThumbnail:w,onReplace:P,onPreviewClick:typeof E<"u"?()=>this.foundation.handlePreviewClick(t):void 0,picWidth:S,picHeight:C});return a===Ve.FILE_STATUS_UPLOAD_FAIL&&!o&&(x.validateMessage=s.fail),l&&!o&&(x.validateMessage=s.illegalSize),typeof m>"u"?g.createElement(p_,Object.assign({},x)):m(x)},this.renderFileList=()=>{const{listType:t}=this.props;return t===Ve.FILE_LIST_PIC?this.renderFileListPic():t===Ve.FILE_LIST_DEFAULT?this.renderFileListDefault():null},this.renderFileListPic=()=>{const{showUploadList:t,limit:r,disabled:s,children:i,draggable:a,hotSpotLocation:o,picHeight:l,picWidth:u}=this.props,{fileList:d,dragAreaStatus:h}=this.state,f=this.props.fileList||d,p=r?r>f.length:!0,_=`${Ut}-drag-area`,y=R(`${Ut}-add`,{[`${Ut}-picture-add`]:!0,[`${Ut}-picture-add-disabled`]:s}),v=R(`${Ut}-file-list`,{[`${Ut}-picture-file-list`]:!0}),m=R({[`${_}-legal`]:h===Ve.DRAG_AREA_LEGAL,[`${_}-illegal`]:h===Ve.DRAG_AREA_ILLEGAL}),w=`${Ut}-file-list-main`,b={role:"button",className:y,onClick:this.onClick,style:{height:l,width:u}},E={className:v},S={onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter};a&&Object.assign(b,S,{className:R(y,m)});const C=g.createElement("div",Object.assign({},b,{"x-semi-prop":"children"}),i);return!t||!f.length?p?C:null:g.createElement(dn,{componentName:"Upload"},O=>g.createElement("div",Object.assign({},E),g.createElement("div",{className:w,role:"list","aria-label":"picture list"},p&&o==="start"?C:null,f.map((I,P)=>this.renderFile(I,P,O)),p&&o==="end"?C:null)))},this.renderFileListDefault=()=>{const{showUploadList:t,limit:r,disabled:s}=this.props,{fileList:i}=this.state,a=this.props.fileList||i,o=R(`${Ut}-file-list`),l=`${Ut}-file-list-title`,u=`${Ut}-file-list-main`,d=r!==1&&a.length,h=this.props.showClear&&!s,f={className:o};return!t||!a.length?null:g.createElement(dn,{componentName:"Upload"},p=>g.createElement("div",Object.assign({},f),d?g.createElement("div",{className:l},g.createElement("span",{className:`${l}-choosen`},p.selectedFiles),h?g.createElement("span",{role:"button",tabIndex:0,onClick:this.clear,className:`${l}-clear`},p.clear):null):null,g.createElement("div",{className:u,role:"list","aria-label":"file list"},a.map((_,y)=>this.renderFile(_,y,p)))))},this.onDrop=t=>{this.foundation.handleDrop(t)},this.onDragOver=t=>{this.foundation.handleDragOver(t)},this.onDragLeave=t=>{this.foundation.handleDragLeave(t)},this.onDragEnter=t=>{this.foundation.handleDragEnter(t)},this.renderAddContent=()=>{const{draggable:t,children:r,listType:s,disabled:i}=this.props,a=R(`${Ut}-add`);return s===Ve.FILE_LIST_PIC?null:t?this.renderDragArea():g.createElement("div",{role:"button",tabIndex:0,"aria-disabled":i,className:a,onClick:this.onClick},r)},this.renderDragArea=()=>{const{dragAreaStatus:t}=this.state,{children:r,dragIcon:s,dragMainText:i,dragSubText:a,disabled:o}=this.props,l=`${Ut}-drag-area`,u=R(l,{[`${l}-legal`]:t===Ve.DRAG_AREA_LEGAL,[`${l}-illegal`]:t===Ve.DRAG_AREA_ILLEGAL,[`${l}-custom`]:r});return g.createElement(dn,{componentName:"Upload"},d=>g.createElement("div",{role:"button",tabIndex:0,"aria-disabled":o,className:u,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onClick:this.onClick},r||g.createElement(g.Fragment,null,g.createElement("div",{className:`${l}-icon`,"x-semi-prop":"dragIcon"},s||g.createElement(rae,{size:"extra-large"})),g.createElement("div",{className:`${l}-text`},g.createElement("div",{className:`${l}-main-text`,"x-semi-prop":"dragMainText"},i||d.mainText),g.createElement("div",{className:`${l}-sub-text`,"x-semi-prop":"dragSubText"},a),g.createElement("div",{className:`${l}-tips`},t===Ve.DRAG_AREA_LEGAL&&g.createElement("span",{className:`${l}-tips-legal`},d.legalTips),t===Ve.DRAG_AREA_ILLEGAL&&g.createElement("span",{className:`${l}-tips-illegal`},d.illegalTips))))))},this.state={fileList:e.defaultFileList||[],replaceIdx:-1,inputKey:Math.random(),replaceInputKey:Math.random(),dragAreaStatus:"default",localUrls:[]},this.foundation=new Fve(this.adapter),this.inputRef=g.createRef(),this.replaceInputRef=g.createRef()}static getDerivedStateFromProps(e){const{fileList:t}=e;return"fileList"in e?{fileList:t||[]}:null}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyFileSelect:e=>this.props.onFileChange(e),notifyError:(e,t,r,s)=>this.props.onError(e,t,r,s),notifySuccess:(e,t,r)=>this.props.onSuccess(e,t,r),notifyProgress:(e,t,r)=>this.props.onProgress(e,t,r),notifyRemove:(e,t,r)=>this.props.onRemove(e,t,r),notifySizeError:(e,t)=>this.props.onSizeError(e,t),notifyExceed:e=>this.props.onExceed(e),updateFileList:(e,t)=>{typeof t=="function"?this.setState({fileList:e},t):this.setState({fileList:e})},notifyBeforeUpload:e=>{let{file:t,fileList:r}=e;return this.props.beforeUpload({file:t,fileList:r})},notifyAfterUpload:e=>{let{response:t,file:r,fileList:s}=e;return this.props.afterUpload({response:t,file:r,fileList:s})},resetInput:()=>{this.setState(e=>({inputKey:Math.random()}))},resetReplaceInput:()=>{this.setState(e=>({replaceInputKey:Math.random()}))},isMac:()=>navigator.platform.toUpperCase().indexOf("MAC")>=0,registerPastingHandler:e=>{document.body.addEventListener("keydown",e),this.pastingCb=e},unRegisterPastingHandler:()=>{this.pastingCb&&document.body.removeEventListener("keydown",this.pastingCb)},notifyPastingError:e=>this.props.onPastingError(e),updateDragAreaStatus:e=>this.setState({dragAreaStatus:e}),notifyChange:e=>{let{currentFile:t,fileList:r}=e;return this.props.onChange({currentFile:t,fileList:r})},updateLocalUrls:e=>this.setState({localUrls:e}),notifyClear:()=>this.props.onClear(),notifyPreviewClick:e=>this.props.onPreviewClick(e),notifyDrop:(e,t,r)=>this.props.onDrop(e,t,r),notifyAcceptInvalid:e=>this.props.onAcceptInvalid(e),notifyBeforeRemove:(e,t)=>this.props.beforeRemove(e,t),notifyBeforeClear:e=>this.props.beforeClear(e)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,className:r,multiple:s,accept:i,disabled:a,children:o,capture:l,listType:u,prompt:d,promptPosition:h,draggable:f,validateMessage:p,validateStatus:_,directory:y}=e,v=Hve(e,["style","className","multiple","accept","disabled","children","capture","listType","prompt","promptPosition","draggable","validateMessage","validateStatus","directory"]),m=R(Ut,{[`${Ut}-picture`]:u===Ve.FILE_LIST_PIC,[`${Ut}-disabled`]:a,[`${Ut}-default`]:_==="default",[`${Ut}-error`]:_==="error",[`${Ut}-warning`]:_==="warning",[`${Ut}-success`]:_==="success"},r),w=R(`${Ut}-hidden-input`),b=R(`${Ut}-hidden-input-replace`),E=R(`${Ut}-prompt`),S=R(`${Ut}-validate-message`),C=y?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return g.createElement("div",Object.assign({className:m,style:t,"x-prompt-pos":h},this.getDataAttr(v)),g.createElement("input",Object.assign({key:this.state.inputKey,capture:l,multiple:s,accept:i,onChange:this.onChange,type:"file",autoComplete:"off",tabIndex:-1,className:w,ref:this.inputRef},C)),g.createElement("input",{key:this.state.replaceInputKey,multiple:!1,accept:i,onChange:this.onReplaceChange,type:"file",autoComplete:"off",tabIndex:-1,className:b,ref:this.replaceInputRef}),this.renderAddContent(),d?g.createElement("div",{className:E,"x-semi-prop":"prompt"},d):null,p?g.createElement("div",{className:S,"x-semi-prop":"validateMessage"},p):null,this.renderFileList())}}g_.propTypes={accept:c.string,action:c.string.isRequired,addOnPasting:c.bool,afterUpload:c.func,beforeClear:c.func,beforeRemove:c.func,beforeUpload:c.func,children:c.node,className:c.string,customRequest:c.func,data:c.oneOfType([c.object,c.func]),defaultFileList:c.array,directory:c.bool,disabled:c.bool,dragIcon:c.node,dragMainText:c.node,dragSubText:c.node,draggable:c.bool,fileList:c.array,fileName:c.string,headers:c.oneOfType([c.object,c.func]),hotSpotLocation:c.oneOf(["start","end"]),itemStyle:c.object,limit:c.number,listType:c.oneOf(Ve.LIST_TYPE),maxSize:c.number,minSize:c.number,multiple:c.bool,name:c.string,onAcceptInvalid:c.func,onChange:c.func,onClear:c.func,onDrop:c.func,onError:c.func,onExceed:c.func,onFileChange:c.func,onOpenFileDialog:c.func,onPreviewClick:c.func,onProgress:c.func,onRemove:c.func,onRetry:c.func,onSizeError:c.func,onSuccess:c.func,onPastingError:c.func,previewFile:c.func,prompt:c.node,promptPosition:c.oneOf(Ve.PROMPT_POSITION),picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),renderFileItem:c.func,renderPicPreviewIcon:c.func,renderFileOperation:c.func,renderPicInfo:c.func,renderThumbnail:c.func,showClear:c.bool,showPicInfo:c.bool,showReplace:c.bool,showRetry:c.bool,showUploadList:c.bool,style:c.object,timeout:c.number,transformFile:c.func,uploadTrigger:c.oneOf(Ve.UPLOAD_TRIGGER),validateMessage:c.node,validateStatus:c.oneOf(Ve.VALIDATE_STATUS),withCredentials:c.bool};g_.defaultProps={defaultFileList:[],disabled:!1,listType:"list",hotSpotLocation:"end",multiple:!1,onAcceptInvalid:k,onChange:k,beforeRemove:()=>!0,beforeClear:()=>!0,onClear:k,onDrop:k,onError:k,onExceed:k,onFileChange:k,onOpenFileDialog:k,onProgress:k,onRemove:k,onRetry:k,onSizeError:k,onSuccess:k,onPastingError:k,promptPosition:"right",showClear:!0,showPicInfo:!1,showReplace:!1,showRetry:!0,showUploadList:!0,uploadTrigger:"auto",withCredentials:!1};g_.FileCard=p_;function vl(){return vl=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vl.apply(this,arguments)}function zve(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Of(n,e)}function ES(n){return ES=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ES(n)}function Of(n,e){return Of=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Of(n,e)}function Kve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mm(n,e,t){return Kve()?mm=Reflect.construct:mm=function(s,i,a){var o=[null];o.push.apply(o,i);var l=Function.bind.apply(s,o),u=new l;return a&&Of(u,a.prototype),u},mm.apply(null,arguments)}function Wve(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function SS(n){var e=typeof Map=="function"?new Map:void 0;return SS=function(r){if(r===null||!Wve(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return mm(r,arguments,ES(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Of(s,r)},SS(n)}var Gve=/%[sdj%]/g,Yve=function(){};function CS(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function ns(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=1,s=e[0],i=e.length;if(typeof s=="function")return s.apply(null,e.slice(1));if(typeof s=="string"){var a=String(s).replace(Gve,function(o){if(o==="%%")return"%";if(r>=i)return o;switch(o){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch{return"[Circular]"}break;default:return o}});return a}return s}function qve(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function xn(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||qve(e)&&typeof n=="string"&&!n)}function Xve(n,e,t){var r=[],s=0,i=n.length;function a(o){r.push.apply(r,o),s++,s===i&&t(r)}n.forEach(function(o){e(o,a)})}function OA(n,e,t){var r=0,s=n.length;function i(a){if(a&&a.length){t(a);return}var o=r;r=r+1,o<s?e(n[o],i):t([])}i([])}function Qve(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t])}),e}var IA=function(n){zve(e,n);function e(t,r){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=t,s.fields=r,s}return e}(SS(Error));function Zve(n,e,t,r){if(e.first){var s=new Promise(function(h,f){var p=function(v){return r(v),v.length?f(new IA(v,CS(v))):h()},_=Qve(n);OA(_,t,p)});return s.catch(function(h){return h}),s}var i=e.firstFields||[];i===!0&&(i=Object.keys(n));var a=Object.keys(n),o=a.length,l=0,u=[],d=new Promise(function(h,f){var p=function(y){if(u.push.apply(u,y),l++,l===o)return r(u),u.length?f(new IA(u,CS(u))):h()};a.length||(r(u),h()),a.forEach(function(_){var y=n[_];i.indexOf(_)!==-1?OA(y,t,p):Xve(y,t,p)})});return d.catch(function(h){return h}),d}function PA(n){return function(e){return e&&e.message?(e.field=e.field||n.fullField,e):{message:typeof e=="function"?e():e,field:e.field||n.fullField}}}function xA(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=vl({},n[t],r):n[t]=r}}return n}function Qj(n,e,t,r,s,i){n.required&&(!t.hasOwnProperty(n.field)||xn(e,i||n.type))&&r.push(ns(s.messages.required,n.fullField))}function Jve(n,e,t,r,s){(/^\s+$/.test(e)||e==="")&&r.push(ns(s.messages.whitespace,n.fullField))}var E0={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ch={integer:function(e){return ch.number(e)&&parseInt(e,10)===e},float:function(e){return ch.number(e)&&!ch.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!ch.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&!!e.match(E0.email)&&e.length<255},url:function(e){return typeof e=="string"&&!!e.match(E0.url)},hex:function(e){return typeof e=="string"&&!!e.match(E0.hex)}};function e_e(n,e,t,r,s){if(n.required&&e===void 0){Qj(n,e,t,r,s);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=n.type;i.indexOf(a)>-1?ch[a](e)||r.push(ns(s.messages.types[a],n.fullField,n.type)):a&&typeof e!==n.type&&r.push(ns(s.messages.types[a],n.fullField,n.type))}function t_e(n,e,t,r,s){var i=typeof n.len=="number",a=typeof n.min=="number",o=typeof n.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,d=null,h=typeof e=="number",f=typeof e=="string",p=Array.isArray(e);if(h?d="number":f?d="string":p&&(d="array"),!d)return!1;p&&(u=e.length),f&&(u=e.replace(l,"_").length),i?u!==n.len&&r.push(ns(s.messages[d].len,n.fullField,n.len)):a&&!o&&u<n.min?r.push(ns(s.messages[d].min,n.fullField,n.min)):o&&!a&&u>n.max?r.push(ns(s.messages[d].max,n.fullField,n.max)):a&&o&&(u<n.min||u>n.max)&&r.push(ns(s.messages[d].range,n.fullField,n.min,n.max))}var Du="enum";function n_e(n,e,t,r,s){n[Du]=Array.isArray(n[Du])?n[Du]:[],n[Du].indexOf(e)===-1&&r.push(ns(s.messages[Du],n.fullField,n[Du].join(", ")))}function r_e(n,e,t,r,s){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(e)||r.push(ns(s.messages.pattern.mismatch,n.fullField,e,n.pattern));else if(typeof n.pattern=="string"){var i=new RegExp(n.pattern);i.test(e)||r.push(ns(s.messages.pattern.mismatch,n.fullField,e,n.pattern))}}}var Le={required:Qj,whitespace:Jve,type:e_e,range:t_e,enum:n_e,pattern:r_e};function s_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e,"string")&&!n.required)return t();Le.required(n,e,r,i,s,"string"),xn(e,"string")||(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s),Le.pattern(n,e,r,i,s),n.whitespace===!0&&Le.whitespace(n,e,r,i,s))}t(i)}function i_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&Le.type(n,e,r,i,s)}t(i)}function a_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(e===""&&(e=void 0),xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s))}t(i)}function o_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&Le.type(n,e,r,i,s)}t(i)}function l_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),xn(e)||Le.type(n,e,r,i,s)}t(i)}function u_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s))}t(i)}function c_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s))}t(i)}function d_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(e==null&&!n.required)return t();Le.required(n,e,r,i,s,"array"),e!=null&&(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s))}t(i)}function h_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&Le.type(n,e,r,i,s)}t(i)}var f_e="enum";function p_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&Le[f_e](n,e,r,i,s)}t(i)}function g_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e,"string")&&!n.required)return t();Le.required(n,e,r,i,s),xn(e,"string")||Le.pattern(n,e,r,i,s)}t(i)}function m_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e,"date")&&!n.required)return t();if(Le.required(n,e,r,i,s),!xn(e,"date")){var o;e instanceof Date?o=e:o=new Date(e),Le.type(n,o,r,i,s),o&&Le.range(n,o.getTime(),r,i,s)}}t(i)}function y_e(n,e,t,r,s){var i=[],a=Array.isArray(e)?"array":typeof e;Le.required(n,e,r,i,s,a),t(i)}function S0(n,e,t,r,s){var i=n.type,a=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(xn(e,i)&&!n.required)return t();Le.required(n,e,r,a,s,i),xn(e,i)||Le.type(n,e,r,a,s)}t(a)}function v_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s)}t(i)}var $h={string:s_e,method:i_e,number:a_e,boolean:o_e,regexp:l_e,integer:u_e,float:c_e,array:d_e,object:h_e,enum:p_e,pattern:g_e,date:m_e,url:S0,hex:S0,email:S0,required:y_e,any:v_e};function TS(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var UT=TS();function Oo(n){this.rules=null,this._messages=UT,this.define(n)}Oo.prototype={messages:function(e){return e&&(this._messages=xA(TS(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if(typeof e!="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t,r;for(t in e)e.hasOwnProperty(t)&&(r=e[t],this.rules[t]=Array.isArray(r)?r:[r])},validate:function(e,t,r){var s=this;t===void 0&&(t={}),r===void 0&&(r=function(){});var i=e,a=t,o=r;if(typeof a=="function"&&(o=a,a={}),!this.rules||Object.keys(this.rules).length===0)return o&&o(),Promise.resolve();function l(y){var v,m=[],w={};function b(E){if(Array.isArray(E)){var S;m=(S=m).concat.apply(S,E)}else m.push(E)}for(v=0;v<y.length;v++)b(y[v]);m.length?w=CS(m):(m=null,w=null),o(m,w)}if(a.messages){var u=this.messages();u===UT&&(u=TS()),xA(u,a.messages),a.messages=u}else a.messages=this.messages();var d,h,f={},p=a.keys||Object.keys(this.rules);p.forEach(function(y){d=s.rules[y],h=i[y],d.forEach(function(v){var m=v;typeof m.transform=="function"&&(i===e&&(i=vl({},i)),h=i[y]=m.transform(h)),typeof m=="function"?m={validator:m}:m=vl({},m),m.validator=s.getValidationMethod(m),m.field=y,m.fullField=m.fullField||y,m.type=s.getType(m),m.validator&&(f[y]=f[y]||[],f[y].push({rule:m,value:h,source:i,field:y}))})});var _={};return Zve(f,a,function(y,v){var m=y.rule,w=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");w=w&&(m.required||!m.required&&y.value),m.field=y.field;function b(C,O){return vl({},O,{fullField:m.fullField+"."+C})}function E(C){C===void 0&&(C=[]);var O=C;if(Array.isArray(O)||(O=[O]),!a.suppressWarning&&O.length&&Oo.warning("async-validator:",O),O.length&&m.message!==void 0&&(O=[].concat(m.message)),O=O.map(PA(m)),a.first&&O.length)return _[m.field]=1,v(O);if(!w)v(O);else{if(m.required&&!y.value)return m.message!==void 0?O=[].concat(m.message).map(PA(m)):a.error&&(O=[a.error(m,ns(a.messages.required,m.field))]),v(O);var I={};if(m.defaultField)for(var P in y.value)y.value.hasOwnProperty(P)&&(I[P]=m.defaultField);I=vl({},I,y.rule.fields);for(var x in I)if(I.hasOwnProperty(x)){var D=Array.isArray(I[x])?I[x]:[I[x]];I[x]=D.map(b.bind(null,x))}var $=new Oo(I);$.messages(a.messages),y.rule.options&&(y.rule.options.messages=a.messages,y.rule.options.error=a.error),$.validate(y.value,y.rule.options||a,function(M){var V=[];O&&O.length&&V.push.apply(V,O),M&&M.length&&V.push.apply(V,M),v(V.length?V:null)})}}var S;m.asyncValidator?S=m.asyncValidator(m,y.value,E,y.source,a):m.validator&&(S=m.validator(m,y.value,E,y.source,a),S===!0?E():S===!1?E(m.message||m.field+" fails"):S instanceof Array?E(S):S instanceof Error&&E(S.message)),S&&S.then&&S.then(function(){return E()},function(C){return E(C)})},function(y){l(y)})},getType:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!$h.hasOwnProperty(e.type))throw new Error(ns("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if(typeof e.validator=="function")return e.validator;var t=Object.keys(e),r=t.indexOf("message");return r!==-1&&t.splice(r,1),t.length===1&&t[0]==="required"?$h.required:$h[this.getType(e)]||!1}};Oo.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");$h[e]=t};Oo.warning=Yve;Oo.messages=UT;Oo.validators=$h;var __e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function b_e(n){const e=n.displayName||n.name;return e?`SemiField${e}`:"SemiField"}function w_e(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t={};return t[n]=e,new Oo(t)}function E_e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=!1;return typeof n=="object"&&"required"in n?e=n.required:Array.isArray(n)&&n.length&&n.forEach(t=>{t.required&&(e=!0)}),e}function _l(n){let e=!0;return typeof n=="string"&&n.length?e=!1:Array.isArray(n)&&n.length?e=n.every(t=>_l(t)):typeof n=="boolean"?e=n:n&&typeof n.$$typeof=="symbol"&&n.$$typeof.toString()==="Symbol(react.element)"&&(e=!1),e}function S_e(n,e){let t=[],r=[];return dt(n)?dt(e)?t=uh.DEFAULT_TRIGGER:t=e:t=n,Array.isArray(t)&&(r=t),typeof t=="string"&&(r[0]=t),r}function C_e(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return dt(n)?dt(e)?t:e:n}function T_e(n,e){const r=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),n),s="field"in e?!0:r.shouldInject;return{options:r,shouldInject:s}}function O_e(n){let t=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),n),{field:r,label:s,labelPosition:i,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,initValue:d,validate:h,validateStatus:f,trigger:p,allowEmptyString:_,allowEmpty:y,emptyValue:v,rules:m,onChange:w,keepState:b,transform:E,name:S,fieldClassName:C,fieldStyle:O,noLabel:I,noErrorMessage:P,isInInputGroup:x,stopValidateWithError:D,convert:$,showValidateIcon:M,helpText:V,extraText:B,extraTextPosition:F,pure:W,id:N}=t,j=__e(t,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete j.defaultChecked,delete j.defaultValue,delete j.checked,typeof d<"u"&&(d=Aa(d));const L=E_e(m);return v=typeof v<"u"?v:"",{field:r,label:s,labelPosition:i,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,noLabel:I,noErrorMessage:P,isInInputGroup:x,initValue:d,validate:h,validateStatus:f,trigger:p,allowEmptyString:_,allowEmpty:y,emptyValue:v,rules:m,required:L,keepState:b,transform:E,name:S,fieldClassName:C,fieldStyle:O,convert:$,stopValidateWithError:D,showValidateIcon:M,helpText:V,extraText:B,extraTextPosition:F,pure:W,rest:j,id:N}}class I_e extends Pe{constructor(e){super(Object.assign({},e));let{initValues:t}=this._adapter.getProps();t=this._adapter.cloneDeep(t),this.data={values:t||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this),this.scrollToError=this.scrollToError.bind(this)}init(){this._adapter.initFormId()}getField(e){return this.fields.get(e)}register(e,t,r){if(this.registered[e],this.registered[e]=!0,this.fields.set(e,r),!r.keepState){const s=r.allowEmpty||!1,i={notNotify:!0,notUpdate:!1,allowEmpty:s};let a=t.value;!s&&a===""&&(a=void 0),this.updateStateValue(e,a,i),t.error&&this.updateStateError(e,t.error,i)}}unRegister(e){const t=this.fields.get(e);try{t.keepState||(cm(this.data.values,e),cm(this.data.errors,e),cm(this.data.touched,e))}catch{console.error(`some thing wrong when unregister field:${e}`)}this.fields.delete(e),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(e,t){this.updateArrayField(e,{updateKey:new Date().valueOf(),initValue:t})}unRegisterArrayField(e){this.registeredArrayField.delete(e)}getArrayField(e){return this.registeredArrayField.get(e)}updateArrayField(e,t){const r=Object.assign(Object.assign({},this.registeredArrayField.get(e)),t);this.registeredArrayField.set(e,r)}validate(e){const{validateFields:t}=this.getProps();return t&&Te(t)?this._formValidate():this._fieldsValidate(e)}_formValidate(){const{values:e}=this.data,{validateFields:t}=this.getProps();return new Promise((r,s)=>{let i;try{i=t(e)}catch(a){i=a}if(i)Ef(i)?i.then(a=>{if(a)this.data.errors=a,this._adapter.notifyChange(this.data),this.injectErrorToField(a),this._adapter.forceUpdate(),this._autoScroll(100),s(a);else{const o=this._adapter.cloneDeep(e);r(o),this.injectErrorToField({})}},a=>{this._autoScroll(100),s(a)}):(this.data.errors=i,this.injectErrorToField(i),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),s(i));else{const a=this._adapter.cloneDeep(e);r(a),this.injectErrorToField({})}})}_fieldsValidate(e){const{values:t}=this.data;return new Promise((r,s)=>{let i=[];const a=this._getOperateFieldMap(e);a.forEach((o,l)=>{const u=this.getValue(l),d={notNotify:!0,notUpdate:!0},h=o.fieldApi.validate(u,d);i.push(h),o.fieldApi.setTouched(!0,d)}),Promise.all(i).then(()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();const o=this.getError();if(this._isValid(a)){const l=this._adapter.cloneDeep(t);r(l)}else this._autoScroll(),s(o)})})}submit(e){const{values:t}=this.data;this.validate().then(r=>{const s=this._adapter.cloneDeep(r);this._adapter.notifySubmit(s,e)}).catch(r=>{const s=this._adapter.cloneDeep(r),i=this._adapter.cloneDeep(t);this._adapter.notifySubmitFail(s,i,e)})}_getNestedField(e){const t=this.fields,r=[...t].map(i=>i[0]);let s=new Map;return r.forEach(i=>{let a=bf(i),o=bf(e);if(o.every((l,u)=>o[u]===a[u])){const l=t.get(i);s.set(i,l)}}),s}_getOperateFieldMap(e){let t=new Map;return dt(e)?t=this.fields:e.forEach(r=>{const s=this.fields.get(r);if(dt(s)){const i=this._getNestedField(r);t=new Map([...t,...i])}else t.set(r,s)}),t}reset(e){this._getOperateFieldMap(e).forEach(r=>{r.fieldApi.reset()}),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){[...this.registeredArrayField.keys()].forEach(t=>{const s=this.registeredArrayField.get(t).initValue;this.updateStateValue(t,s,{notNotify:!0,notUpdate:!0}),this.updateArrayField(t,{updateKey:new Date().valueOf()})})}injectErrorToField(e){this.fields.forEach(t=>{const r=Tr(e,t.field),s={notNotify:!0,notUpdate:!0};t.fieldApi.setError(r,s)})}getValue(e,t){const r=typeof e>"u",s=t&&t.needClone;let i,a;switch(!0){case(!r&&!s):i=Tr(this.data.values,e);break;case(!r&&s):a=Tr(this.data.values,e),i=this._adapter.cloneDeep(a);break;case(r&&!s):i=Object.assign({},this.data.values);break;case(r&&s):i=this._adapter.cloneDeep(this.data.values);break}return i}setValues(e,t){let{isOverride:r=!1}=t;const s=this._adapter.cloneDeep(e);this.fields.forEach(i=>{const a=Tr(s,i.field),o={notNotify:!0,notUpdate:!0};i.fieldApi.setValue(a,o)}),this.registeredArrayField.size&&[...this.registeredArrayField.keys()].forEach(a=>{this.updateArrayField(a,{updateKey:new Date().valueOf()})}),r&&(this.data.values=s),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},e)),this._adapter.forceUpdate()}updateStateValue(e,t,r,s){const i=r&&r.notNotify,a=r&&r.notUpdate,o=r&&r.fieldAllowEmpty,l=this.getProp("allowEmpty"),u=o||l;i0(this.data.values,e,t,u),i||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[e]:t})),a||this._adapter.forceUpdate(s)}getTouched(e){return typeof e>"u"?this.data.touched:Tr(this.data.touched,e)}updateStateTouched(e,t,r,s){const i=r&&r.notNotify,a=r&&r.notUpdate;i0(this.data.touched,e,t),i||this._adapter.notifyChange(this.data),a||this._adapter.forceUpdate(s)}getError(e){return typeof e>"u"?this.data.errors:Tr(this.data.errors,e)}updateStateError(e,t,r,s){const i=r&&r.notNotify,a=r&&r.notUpdate;i0(this.data.errors,e,t),i||this._adapter.notifyChange(this.data),this._adapter.notifyErrorChange(this.data.errors,{[e]:t}),a||this._adapter.forceUpdate(s)}getFieldSetterApi(){return{setValue:(s,i,a)=>{const o=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);o?o.setValue(l,a):(this.updateStateValue(s,l,a,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Tr(this.data.values,h),p={notNotify:!0,notUpdate:!0};d.fieldApi.setValue(f,p)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setError:(s,i,a)=>{const o=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);o?o.setError(l,a):(this.updateStateError(s,l,a,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Tr(this.data.errors,h),p={notNotify:!0,notUpdate:!0};d.fieldApi.setError(f,p)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setTouched:(s,i,a)=>{const o=this.fields.get(s)?this.fields.get(s).fieldApi:void 0;o?o.setTouched(i,a):(this.updateStateTouched(s,i,a,()=>{let l=this._getNestedField(s);l.size&&l.forEach(u=>{let d=u.field,h=Tr(this.data.touched,d),f={notNotify:!0,notUpdate:!0};u.fieldApi.setTouched(h,f)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){const e=this.getFieldSetterApi();return Object.assign(Object.assign({},e),{reset:t=>this.reset(t),validate:t=>this.validate(t),getValue:t=>this.getValue(t,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getFormProps:t=>this.getFormProps(t),getInitValue:t=>this.getInitValue(t),getInitValues:()=>this.getInitValues(),getTouched:t=>this.getTouched(t),getError:t=>this.getError(t),setValues:(t,r)=>this.setValues(t,r||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:t=>this.getFieldExist(t),scrollToField:(t,r)=>this.scrollToField(t,r),scrollToError:t=>this.scrollToError(t)})}getFormState(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(e){let t=!0;return e?[...e.keys()].forEach(s=>{const i=Tr(this.data.errors,s);_l(i)||(t=!1)}):t=!!mhe(this.data.errors),t}getInitValues(){return this._adapter.getInitValues()}getInitValue(e){return typeof e>"u"?this._adapter.getInitValues():Tr(this._adapter.getInitValues(),e)}getFormProps(e){return this._adapter.getFormProps(e)}getFieldExist(e){return!!this.fields.has(e)}_autoScroll(e){const{autoScrollToError:t}=this.getFormProps();if(!t)return;let r={behavior:"smooth",block:"start"};typeof t=="object"&&(r=t),e?setTimeout(()=>this._getErrorFieldAndScroll(r),100):this._getErrorFieldAndScroll(r)}_getErrorFieldAndScroll(e){const t=this._adapter.getAllErrorDOM();if(t&&t.length)try{const r=t[0].parentNode.parentNode;Fb(r,e)}catch{}}scrollToField(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(e)){const r=this._adapter.getFieldDOM(e);Fb(r,t)}}scrollToError(e){let t=e&&e.scrollOpts?e.scrollOpts:{behavior:"smooth",block:"start"},r=e&&e.field,s=e&&e.index,i,a;if(typeof s=="number"){let l=this._adapter.getAllErrorDOM()[s];l&&(i=l.parentNode.parentNode)}else if(r)a=this._adapter.getFieldErrorDOM(r),a&&(i=a.parentNode.parentNode);else if(typeof r>"u"){let o=this._adapter.getAllErrorDOM();o&&o.length&&(i=o[0].parentNode.parentNode)}i&&Fb(i,t)}}const BT=g.createContext({});BT.displayName="FormState";const Zj=g.createContext({});Zj.displayName="FormApi";const Rp=g.createContext({});Rp.displayName="FormUpdater";const P_e=g.createContext({shouldUseInitValue:!0}),C0=Xs.PREFIX;class Ap extends T.PureComponent{generatorText(e){const{helpTextId:t,errorMessageId:r}=this.props,s=this.props.error;let i=r;if(s||(i=t),typeof e=="string")return g.createElement("span",{id:i},e);if(Array.isArray(e)){const a=e.filter(o=>o);return a.length?g.createElement("span",{id:i},a.join(", ")):null}else if(g.isValidElement(e))return e;return null}render(){const{error:e,className:t,style:r,validateStatus:s,helpText:i,showValidateIcon:a,isInInputGroup:o}=this.props,l=R({[C0+"-field-error-message"]:!!e,[C0+"-field-help-text"]:!!i},t);if(!e&&!i)return null;const u={warning:g.createElement(G1,null),error:g.createElement(pf,null)},d=e?this.generatorText(e):this.generatorText(i),h=`${C0}-field-validate-status-icon`;let f=null;return o?f=g.createElement(pf,{className:h}):u[s]&&(f=g.cloneElement(u[s],{className:h})),g.createElement("div",{className:l,style:r},a&&d?f:null,d)}}Ap.propTypes={error:c.oneOfType([c.bool,c.string,c.array,c.node]),className:c.string,style:c.object,validateStatus:c.string,showValidateIcon:c.bool,helpText:c.node,isInInputGroup:c.bool,errorMessageId:c.string,helpTextId:c.string};var x_e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const qd=Xs.PREFIX,R_e=n=>{let e,t,r,s,i,a="top";try{const E=T.useContext(Rp).getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);e=E.labelCol,t=E.wrapperCol,r=E.labelWidth,s=E.labelAlign,a=E.labelPosition?E.labelPosition:a}catch{}n.labelPosition&&(a=n.labelPosition);let{children:o,label:l,className:u,style:d,error:h,noLabel:f}=n;x_e(n,["children","label","className","style","error","noLabel"]);const p=e&&t,_=R({[`${qd}-field`]:!0,[`${qd}-slot`]:!0},u),y=R({[`${qd}-col-${s}`]:!0});switch(!0){case(Ia(l)&&!g.isValidElement(l)):break;case(Oe(l)||jt(l)):l={text:l};break;case g.isValidElement(l):l={text:l};break}let v=null;if(typeof h!==void 0){let b={};switch(!0){case(Ia(h)&&!g.isValidElement(h)):b=h;break;case(Oe(h)||jt(h)):b={error:h};break;case g.isValidElement(h):b={error:h};break}v=g.createElement(Ap,Object.assign({},b))}let m=Object.assign({align:s,width:r},l),w=R({[`${qd}-field-main`]:!0,[`${qd}-slot-main`]:!0});switch(!0){case(!p&&!f):i=g.createElement(g.Fragment,null,g.createElement(Hi,Object.assign({},m)),g.createElement("div",{className:w},o,v));break;case(!p&&f):i=g.createElement(g.Fragment,null,g.createElement("div",{className:w},o,v));break;case(p&&a==="top"):i=g.createElement(g.Fragment,null,g.createElement("div",{style:{overflow:"hidden"}},g.createElement(zr,Object.assign({},e,{className:y}),g.createElement(Hi,Object.assign({},m)))),g.createElement(zr,null,o,v));break;case(p&&a!=="top"):i=g.createElement(g.Fragment,null,g.createElement(zr,Object.assign({},e,{className:y}),g.createElement(Hi,Object.assign({},m))),g.createElement(zr,null,o,v));break}return g.createElement("div",{className:_,"x-label-pos":a,style:d},i)},RA=Xs.PREFIX;class Jj extends T.PureComponent{render(){const{text:e,className:t,style:r,children:s}=this.props,i=R({[RA+"-section"]:!0},t),a=RA+"-section-text";return g.createElement("section",{className:i,style:r},g.createElement("h5",{className:a},e),s)}}Jj.propTypes={text:c.node,className:c.string,style:c.object,children:c.node};function eV(){return T.useContext(BT)}function A_e(){return T.useContext(Rp)}function T0(n){const e=T.useRef(),[t,r]=T.useState(n);return e.current=t,[t,a=>{e.current=a,r(a)},()=>e.current]}function D_e(){return T.useContext(P_e)}var k_e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ku=Xs.PREFIX,N_e=n=>{const{fieldSet:e}=n,t=eV(),r=e.map(s=>Tr(t.errors,s));return _l(r)?null:g.createElement(Ap,{error:r,showValidateIcon:n.showValidateIcon,isInInputGroup:n.isInInputGroup})};class tV extends T.Component{renderLabel(e,t){return e?Oe(e)?g.createElement(Hi,{width:t.labelWidth,text:e}):g.createElement(Hi,Object.assign({width:t.labelWidth},e)):null}render(){const e=this.props,{children:t,label:r,extraText:s,extraTextPosition:i}=e,a=k_e(e,["children","label","extraText","extraTextPosition"]),l=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),u=this.props.labelPosition||l.labelPosition,d=[],h=g.Children.map(t,I=>I&&I.props&&I.props.field?(d.push(I.props.field),g.cloneElement(I,{isInInputGroup:!0})):null),f=R({[`${ku}-field-group`]:!0}),p=l.labelCol,_=l.wrapperCol,y=l.labelAlign,v=p&&_,m=p?`${ku}-col-${y}`:"",w=this.renderLabel(r,l),b=g.createElement(CT,Object.assign({disabled:l.disabled},a),h),E=g.createElement(N_e,{fieldSet:d,showValidateIcon:l.showValidateIcon,isInInputGroup:!0}),S=R(`${ku}-field-extra`,{[`${ku}-field-extra-string`]:typeof s=="string",[`${ku}-field-extra-middle`]:i==="middle",[`${ku}-field-extra-bottom`]:i==="bottom"}),C=s?g.createElement("div",{className:S,"x-semi-prop":"extraText"},s):null;let O;switch(!0){case!v:O=g.createElement(g.Fragment,null,w,g.createElement("div",null,i==="middle"?C:null,b,i==="bottom"?C:null,E));break;case(v&&u==="top"):O=g.createElement(g.Fragment,null,g.createElement("div",{style:{overflow:"hidden"}},g.createElement(zr,Object.assign({},p,{className:m}),w)),g.createElement(zr,Object.assign({},_),i==="middle"?C:null,b,i==="bottom"?C:null,E));break;case(v&&u!=="top"):O=g.createElement(g.Fragment,null,g.createElement(zr,Object.assign({},p,{className:m}),w),g.createElement(zr,Object.assign({},_),i==="middle"?C:null,b,i==="bottom"?C:null,E));break}return g.createElement("div",{"x-label-pos":u,className:f},O)}}tV.contextType=Rp;const bi=Xs.PREFIX,O0=typeof window<"u"?T.useLayoutEffect:T.useEffect;function Mn(n,e){let t=(r,s)=>{let{field:i,label:a,labelPosition:o,labelWidth:l,labelAlign:u,labelCol:d,wrapperCol:h,noLabel:f,noErrorMessage:p,isInInputGroup:_,initValue:y,validate:v,validateStatus:m,trigger:w,allowEmptyString:b,allowEmpty:E,emptyValue:S,rules:C,required:O,keepState:I,transform:P,name:x,fieldClassName:D,fieldStyle:$,convert:M,stopValidateWithError:V,helpText:B,extraText:F,extraTextPosition:W,pure:N,id:j,rest:L}=O_e(r),{options:te,shouldInject:Q}=T_e(e,r);if(Nt(typeof i>"u"&&te.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!Q)return g.createElement(n,Object.assign({},L,{ref:s}));eV();const ie=A_e();if(!ie.getFormProps)return Nt(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let le=ie.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),Ee=o||le.labelPosition,he=l||le.labelWidth,de=u||le.labelAlign,ue=d||le.labelCol,q=h||le.wrapperCol,se=W||le.extraTextPosition||"bottom",vt=C_e(V,le.stopValidateWithError,!1),$t=S_e(w,le.trigger),Cn=typeof i<"u"?ie.getValue(i):void 0,Ot=typeof y<"u"?y:Cn,jn;try{jn=D_e(),jn&&(Ot=jn.shouldUseInitValue&&typeof y<"u"?y:Cn)}catch{}const[_t,wr,fs]=T0(typeof Ot!==void 0?Ot:null),Xo=$t.includes("mount");E=E||ie.getFormProps().allowEmpty;const[en,Er,fi]=T0(),[pi,Ua]=T.useState(),[bu,wu,gi]=T0(0),[tr,Vn]=T.useState(m),Qr=T.useRef(!1),nr=T.useRef(C),mi=T.useRef(v),Ms=T.useRef(null),ea=(_e,Xe)=>{Ua(_e),ie.updateStateTouched(i,_e,Xe)},Un=(_e,Xe)=>{Qr.current||_e!==fi()&&(Er(_e),ie.updateStateError(i,_e,Xe),_l(_e)?Vn("success"):Vn("error"))},Fs=(_e,Xe)=>{wr(_e);let Vt=Object.assign(Object.assign({},Xe),{allowEmpty:E});ie.updateStateValue(i,_e,Vt)},Ba=()=>{let _e={notNotify:!0,notUpdate:!0};Fs(Ot!==null?Ot:void 0,_e),Un(void 0,_e),ea(void 0,_e),Vn("default")},Ha=(_e,Xe)=>{let Vt=nr.current||[];const at=w_e(i,Vt),nn={[i]:_e},bt=new Promise((Pt,eb)=>{at.validate(nn,{first:vt},(na,ra)=>{}).then(na=>{Qr.current||Ms.current!==bt||(Vn("success"),Un(void 0,Xe),Pt({}))}).catch(na=>{if(Qr.current||Ms.current!==bt)return;let{errors:ra,fields:Qp}=na;if(ra&&Qp){let Jo=ra.map(Dd=>Dd.message);Jo.length===1&&(Jo=Jo[0]),Un(Jo,Xe),_l(Jo)||(Vn("error"),Pt(ra))}else throw Vn("error"),Un(na.message,Xe),Pt(na.message),na})});return Ms.current=bt,bt},Qo=(_e,Xe,Vt)=>{const at=new Promise(nn=>{let bt;try{bt=mi.current(_e,Xe)}catch(Pt){bt=Pt}bt===void 0?(nn({}),Un(void 0,Vt)):Ef(bt)?bt.then(Pt=>{Qr.current||Ms.current!==at||(_l(Pt)?(Un(void 0,Vt),nn(null)):(Un(Pt,Vt),nn(Pt)))}):_l(bt)?(Un(void 0,Vt),nn(null)):(Un(bt,Vt),nn(bt))});return Ms.current=at,at},yi=(_e,Xe)=>{let Vt=_e,at=nr.current;return P&&(Vt=P(_e)),mi.current?Qo(Vt,ie.getValue(),Xe):at?Ha(Vt,Xe):null},Zo=function(_e,Xe){if(te.onKeyChangeFnName in r&&typeof r[te.onKeyChangeFnName]=="function"){for(var at=arguments.length,nn=new Array(at>2?at-2:0),bt=2;bt<at;bt++)nn[bt-2]=arguments[bt];r[te.onKeyChangeFnName](_e,Xe,...nn)}let Pt;te.valuePath?Pt=Tr(_e,te.valuePath):Pt=_e,typeof M=="function"&&(Pt=M(Pt)),b||E||Pt===S&&(Pt=void 0);try{Xe&&Xe.target&&Xe.target.selectionStart&&wu(Xe.target.selectionStart)}catch{}ea(!0,{notNotify:!0,notUpdate:!0}),Fs(Pt),$t.includes("change")&&yi(Pt)},It=function(){if(r.onBlur&&r.onBlur(...arguments),pi||ea(!0),$t.includes("blur")){let _e=fs();yi(_e)}},hn={setValue:Fs,setTouched:ea,setError:Un,reset:Ba,validate:yi},qt={value:_t,error:en,touched:pi,status:tr};O0(()=>{nr.current=C,mi.current=v},[C,v]),O0(()=>(Qr.current=!1,Xo&&yi(_t),()=>{Qr.current=!0}),[]),O0(()=>{if(typeof i>"u")return()=>{};const _e=fs();return ie.register(i,{value:_e,error:en,touched:pi,status:tr},{field:i,fieldApi:hn,keepState:I,allowEmpty:E||b}),()=>{ie.unRegister(i)}},[i]);const fn=j||i,pn=`${fn}-label`,tn=`${fn}-helpText`,Sr=`${fn}-extraText`,ta=`${fn}-errormessage`,gn=()=>{let _e=m||tr;const Xe=R(`${bi}-field-extra`,{[`${bi}-field-extra-string`]:typeof F=="string",[`${bi}-field-extra-middle`]:se==="middle",[`${bi}-field-extra-bottom`]:se==="bottom"}),Vt=F?g.createElement("div",{className:Xe,id:Sr,"x-semi-prop":"extraText"},F):null;let at=Object.assign(Object.assign({id:fn,disabled:le.disabled},L),{ref:s,onBlur:It,[te.onKeyChangeFnName]:Zo,[te.valueKey]:_t,validateStatus:_e,"aria-required":O,"aria-labelledby":pn});x&&(at.name=x),B&&(at["aria-describedby"]=F?`${tn} ${Sr}`:tn),F&&(at["aria-describedby"]=B?`${tn} ${Sr}`:Sr),tr==="error"&&(at["aria-errormessage"]=ta,at["aria-invalid"]=!0);const nn=R({[`${bi}-field`]:!0,[`${bi}-field-${x}`]:!!x,[D]:!!D}),bt=R({[`${bi}-field-main`]:!0});Ee==="inset"&&!f&&(at.insetLabel=a||i,at.insetLabelId=pn,typeof a=="object"&&!oE(a)&&(at.insetLabel=a.text,at.insetLabelId=pn));const Pt=g.createElement(n,Object.assign({},at));if(_)return Pt;if(N){let Dd=R(L.className,{[`${bi}-field-pure`]:!0,[`${bi}-field-${x}`]:!!x,[D]:!!D});return at.className=Dd,g.createElement(n,Object.assign({},at))}let eb=ue&&q;const na=de?`${bi}-col-${de}`:"";let ra=null;if(!f&&Ee!=="inset"){let Dd=typeof a=="object"&&!oE(a)?a:{};ra=g.createElement(Hi,Object.assign({text:a||i,id:pn,required:O,name:fn||x||i,width:he,align:de},Dd))}const Qp=g.createElement("div",{className:bt},se==="middle"?Vt:null,Pt,p?null:g.createElement(Ap,{error:en,validateStatus:_e,helpText:B,helpTextId:tn,errorMessageId:ta,showValidateIcon:le.showValidateIcon}),se==="bottom"?Vt:null),Jo=g.createElement(g.Fragment,null,Ee==="top"?g.createElement("div",{style:{overflow:"hidden"}},g.createElement(zr,Object.assign({},ue,{className:na}),ra)):g.createElement(zr,Object.assign({},ue,{className:na}),ra),g.createElement(zr,Object.assign({},q),Qp));return g.createElement("div",{className:nn,style:$,"x-label-pos":Ee,"x-field-id":i,"x-extra-pos":se},eb?Jo:g.createElement(g.Fragment,null,ra,Qp))},vi=[...Object.values(qt),...Object.values(r),i,Ee,de,le.disabled];return te.shouldMemo?T.useMemo(gn,[...vi]):gn()};return t=T.forwardRef(t),t.displayName=b_e(n),t}const $_e=Mn(En,{maintainCursor:!0}),L_e=Mn(Ime,{maintainCursor:!0}),M_e=Mn(Nj,{maintainCursor:!0}),HT=Mn(rn);HT.Option=rn.Option;HT.OptGroup=rn.OptGroup;const F_e=Mn(wp),j_e=Mn(Ra,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),V_e=Mn(RT,{valuePath:"target.value"}),U_e=Mn(Kl,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),B_e=Mn(Gge),H_e=Mn($T,{valueKey:"checked"}),z_e=Mn(NT),K_e=Mn(Tf),W_e=Mn(f_),G_e=Mn(Uc),Y_e=Mn(h_),q_e=Mn(jc,{valueKey:"value",onKeyChangeFnName:"onChange"}),X_e=Mn(g_,{valueKey:"fileList",valuePath:"fileList",onKeyChangeFnName:"onChange"}),Q_e=Mn(Op);var Z_e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const I0=Xs.PREFIX;class Ge extends we{constructor(e){super(e),this.state={formId:""},Nt(!!(e.component&&e.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),Nt(e.component&&e.children&&!Vx(e.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),Nt(e.render&&e.children&&!Vx(e.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new I_e(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:Qte,notifySubmit:(e,t)=>{this.props.onSubmit(e,t)},notifySubmitFail:(e,t,r)=>{this.props.onSubmitFail(e,t,r)},forceUpdate:e=>{this.forceUpdate(e)},notifyChange:e=>{this.props.onChange(e)},notifyValueChange:(e,t)=>{this.props.onValueChange(e,t)},notifyErrorChange:(e,t)=>{this.props.onErrorChange(e,t)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:am()})},getInitValues:()=>this.props.initValues,getFormProps:e=>{if(typeof e>"u")return this.props;if(typeof e=="string")return this.props[e];{const t={};return e.forEach(r=>{t[r]=this.props[r]}),t}},getAllErrorDOM:()=>{const{formId:e}=this.state,{id:t}=this.props,r=t||e;return document.querySelectorAll(`form[x-form-id="${r}"] .${Xs.PREFIX}-field-error-message`)},getFieldDOM:e=>document.querySelector(`.${Xs.PREFIX}-field[x-field-id="${e}"]`),getFieldErrorDOM:e=>{const{formId:t}=this.state,{id:r}=this.props;let i=`form[x-form-id="${r||t}"] .${Xs.PREFIX}-field[x-field-id="${e}"] .${Xs.PREFIX}-field-error-message`;return document.querySelector(i)}})}get content(){const{children:e,component:t,render:r}=this.props,s=this.foundation.getFormState(),i={formState:s,formApi:this.foundation.getFormApi(),values:s.values};return t?g.createElement(t,i):r?r(i):typeof e=="function"?e(i):e}submit(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.submit&&e.stopPropagation(),this.foundation.submit(e)}reset(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.reset&&e.stopPropagation(),this.foundation.reset()}render(){const t=this.foundation.getFormState(!1),r=this.foundation.getModifyFormStateApi(),{formId:s}=this.state,i=this.props,{children:a,getFormApi:o,onChange:l,onSubmit:u,onSubmitFail:d,onErrorChange:h,onValueChange:f,component:p,render:_,validateFields:y,initValues:v,layout:m,style:w,className:b,labelPosition:E,labelWidth:S,labelAlign:C,labelCol:O,wrapperCol:I,allowEmpty:P,autoScrollToError:x,showValidateIcon:D,stopValidateWithError:$,extraTextPosition:M,id:V,trigger:B}=i,F=Z_e(i,["children","getFormApi","onChange","onSubmit","onSubmitFail","onErrorChange","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),W=R(I0,b,{[I0+"-vertical"]:m==="vertical",[I0+"-horizontal"]:m==="horizontal"}),N=I&&O,j=g.createElement("form",Object.assign({style:w},F,{onReset:this.reset,onSubmit:this.submit,className:W,id:V||s,"x-form-id":V||s}),this.content),L=g.createElement(u_,null,j);return g.createElement(Rp.Provider,{value:r},g.createElement(Zj.Provider,{value:this.formApi},g.createElement(BT.Provider,{value:t},N?L:j)))}}Ge.propTypes={"aria-label":c.string,onSubmit:c.func,onSubmitFail:c.func,onChange:c.func,onReset:c.func,onValueChange:c.func,autoScrollToError:c.oneOfType([c.bool,c.object]),allowEmpty:c.bool,className:c.string,component:c.oneOfType([c.node,c.func]),disabled:c.bool,extraTextPosition:c.oneOf(uh.EXTRA_POS),getFormApi:c.func,initValues:c.object,validateFields:c.func,layout:c.oneOf(uh.LAYOUT),labelPosition:c.oneOf(uh.LABEL_POS),labelWidth:c.oneOfType([c.number,c.string]),labelAlign:c.oneOf(uh.LABEL_ALIGN),labelCol:c.object,render:c.func,style:c.object,showValidateIcon:c.bool,stopValidateWithError:c.bool,stopPropagation:c.shape({submit:c.bool,reset:c.bool}),id:c.string,wrapperCol:c.object,trigger:c.oneOfType([c.oneOf(["blur","change","custom","mount"]),c.arrayOf(c.oneOf(["blur","change","custom","mount"]))])};Ge.defaultProps={onChange:k,onSubmitFail:k,onSubmit:k,onReset:k,onValueChange:k,onErrorChange:k,layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0};Ge.Input=$_e;Ge.TextArea=M_e;Ge.InputNumber=L_e;Ge.Select=HT;Ge.Checkbox=j_e;Ge.CheckboxGroup=F_e;Ge.Radio=U_e;Ge.RadioGroup=V_e;Ge.DatePicker=B_e;Ge.TimePicker=K_e;Ge.Switch=H_e;Ge.Slider=z_e;Ge.TreeSelect=W_e;Ge.Cascader=G_e;Ge.Rating=Y_e;Ge.AutoComplete=q_e;Ge.Upload=X_e;Ge.TagInput=Q_e;Ge.Slot=R_e;Ge.ErrorMessage=Ap;Ge.InputGroup=tV;Ge.Label=Hi;Ge.Section=Jj;var AA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},J_e=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],a=n[t++],o=n[t++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],a=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},rV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],a=s+1<n.length,o=a?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,d=i>>2,h=(i&3)<<4|o>>4;let f=(o&15)<<2|u>>6,p=u&63;l||(p=64,a||(f=64)),r.push(t[d],t[h],t[f],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):J_e(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],o=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||o==null||u==null||h==null)throw new ebe;const f=i<<2|o>>4;if(r.push(f),u!==64){const p=o<<4&240|u>>2;if(r.push(p),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ebe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tbe=function(n){const e=nV(n);return rV.encodeByteArray(e,!0)},Ry=function(n){return tbe(n).replace(/\./g,"")},sV=function(n){try{return rV.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nbe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rbe=()=>nbe().__FIREBASE_DEFAULTS__,sbe=()=>{if(typeof process>"u"||typeof AA>"u")return;const n=AA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ibe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&sV(n[1]);return e&&JSON.parse(e)},zT=()=>{try{return rbe()||sbe()||ibe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iV=n=>{var e,t;return(t=(e=zT())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},abe=n=>{const e=iV(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aV=()=>{var n;return(n=zT())===null||n===void 0?void 0:n.config},oV=n=>{var e;return(e=zT())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class obe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lbe(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ry(JSON.stringify(t)),Ry(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ube(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function cbe(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dbe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hbe(){const n=_r();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fbe(){try{return typeof indexedDB=="object"}catch{return!1}}function pbe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gbe="FirebaseError";class Fa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gbe,Object.setPrototypeOf(this,Fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dp.prototype.create)}}class Dp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?mbe(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Fa(s,o,r)}}function mbe(n,e){return n.replace(ybe,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ybe=/\{\$([^}]+)}/g;function vbe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ay(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],a=e[s];if(DA(i)&&DA(a)){if(!Ay(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function DA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function hh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _be(n,e){const t=new bbe(n,e);return t.subscribe.bind(t)}class bbe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wbe(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=P0),s.error===void 0&&(s.error=P0),s.complete===void 0&&(s.complete=P0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wbe(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function P0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(n){return n&&n._delegate?n._delegate:n}class Gl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ebe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new obe;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cbe(e))try{this.getOrInitializeService({instanceIdentifier:dl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dl){return this.instances.has(e)}getOptions(e=dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sbe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dl){return this.component?this.component.multipleInstances?e:dl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sbe(n){return n===dl?void 0:n}function Cbe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tbe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ebe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const Obe={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Ibe=Be.INFO,Pbe={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},xbe=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Pbe[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let KT=class{constructor(e){this.name=e,this._logLevel=Ibe,this._logHandler=xbe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Obe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}};const Rbe=(n,e)=>e.some(t=>n instanceof t);let kA,NA;function Abe(){return kA||(kA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dbe(){return NA||(NA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lV=new WeakMap,OS=new WeakMap,uV=new WeakMap,x0=new WeakMap,WT=new WeakMap;function kbe(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",a)},i=()=>{t(Io(n.result)),s()},a=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&lV.set(t,n)}).catch(()=>{}),WT.set(e,n),e}function Nbe(n){if(OS.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",a),n.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",a),n.addEventListener("abort",a)});OS.set(n,e)}let IS={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return OS.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uV.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Io(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $be(n){IS=n(IS)}function Lbe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(R0(this),e,...t);return uV.set(r,e.sort?e.sort():[e]),Io(r)}:Dbe().includes(n)?function(...e){return n.apply(R0(this),e),Io(lV.get(this))}:function(...e){return Io(n.apply(R0(this),e))}}function Mbe(n){return typeof n=="function"?Lbe(n):(n instanceof IDBTransaction&&Nbe(n),Rbe(n,Abe())?new Proxy(n,IS):n)}function Io(n){if(n instanceof IDBRequest)return kbe(n);if(x0.has(n))return x0.get(n);const e=Mbe(n);return e!==n&&(x0.set(n,e),WT.set(e,n)),e}const R0=n=>WT.get(n);function Fbe(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(n,e),o=Io(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Io(a.result),l.oldVersion,l.newVersion,Io(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const jbe=["get","getKey","getAll","getAllKeys","count"],Vbe=["put","add","delete","clear"],A0=new Map;function $A(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(A0.get(e))return A0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Vbe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jbe.includes(t)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),s&&l.done]))[0]};return A0.set(e,i),i}$be(n=>({...n,get:(e,t,r)=>$A(e,t)||n.get(e,t,r),has:(e,t)=>!!$A(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ube{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Bbe(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Bbe(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const PS="@firebase/app",LA="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new KT("@firebase/app"),Hbe="@firebase/app-compat",zbe="@firebase/analytics-compat",Kbe="@firebase/analytics",Wbe="@firebase/app-check-compat",Gbe="@firebase/app-check",Ybe="@firebase/auth",qbe="@firebase/auth-compat",Xbe="@firebase/database",Qbe="@firebase/database-compat",Zbe="@firebase/functions",Jbe="@firebase/functions-compat",e0e="@firebase/installations",t0e="@firebase/installations-compat",n0e="@firebase/messaging",r0e="@firebase/messaging-compat",s0e="@firebase/performance",i0e="@firebase/performance-compat",a0e="@firebase/remote-config",o0e="@firebase/remote-config-compat",l0e="@firebase/storage",u0e="@firebase/storage-compat",c0e="@firebase/firestore",d0e="@firebase/firestore-compat",h0e="firebase",f0e="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="[DEFAULT]",p0e={[PS]:"fire-core",[Hbe]:"fire-core-compat",[Kbe]:"fire-analytics",[zbe]:"fire-analytics-compat",[Gbe]:"fire-app-check",[Wbe]:"fire-app-check-compat",[Ybe]:"fire-auth",[qbe]:"fire-auth-compat",[Xbe]:"fire-rtdb",[Qbe]:"fire-rtdb-compat",[Zbe]:"fire-fn",[Jbe]:"fire-fn-compat",[e0e]:"fire-iid",[t0e]:"fire-iid-compat",[n0e]:"fire-fcm",[r0e]:"fire-fcm-compat",[s0e]:"fire-perf",[i0e]:"fire-perf-compat",[a0e]:"fire-rc",[o0e]:"fire-rc-compat",[l0e]:"fire-gcs",[u0e]:"fire-gcs-compat",[c0e]:"fire-fst",[d0e]:"fire-fst-compat","fire-js":"fire-js",[h0e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=new Map,RS=new Map;function g0e(n,e){try{n.container.addComponent(e)}catch(t){Yl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hc(n){const e=n.name;if(RS.has(e))return Yl.debug(`There were multiple attempts to register component ${e}.`),!1;RS.set(e,n);for(const t of Dy.values())g0e(t,n);return!0}function GT(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Po=new Dp("app","Firebase",m0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0e{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=f0e;function cV(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xS,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Po.create("bad-app-name",{appName:String(s)});if(t||(t=aV()),!t)throw Po.create("no-options");const i=Dy.get(s);if(i){if(Ay(t,i.options)&&Ay(r,i.config))return i;throw Po.create("duplicate-app",{appName:s})}const a=new Tbe(s);for(const l of RS.values())a.addComponent(l);const o=new y0e(t,r,a);return Dy.set(s,o),o}function dV(n=xS){const e=Dy.get(n);if(!e&&n===xS&&aV())return cV();if(!e)throw Po.create("no-app",{appName:n});return e}function xo(n,e,t){var r;let s=(r=p0e[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yl.warn(o.join(" "));return}Hc(new Gl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0e="firebase-heartbeat-database",_0e=1,If="firebase-heartbeat-store";let D0=null;function hV(){return D0||(D0=Fbe(v0e,_0e,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(If)}}}).catch(n=>{throw Po.create("idb-open",{originalErrorMessage:n.message})})),D0}async function b0e(n){try{return await(await hV()).transaction(If).objectStore(If).get(fV(n))}catch(e){if(e instanceof Fa)Yl.warn(e.message);else{const t=Po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yl.warn(t.message)}}}async function MA(n,e){try{const r=(await hV()).transaction(If,"readwrite");await r.objectStore(If).put(e,fV(n)),await r.done}catch(t){if(t instanceof Fa)Yl.warn(t.message);else{const r=Po.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Yl.warn(r.message)}}}function fV(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0e=1024,E0e=30*24*60*60*1e3;class S0e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new T0e(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=FA();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=E0e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FA(),{heartbeatsToSend:r,unsentEntries:s}=C0e(this._heartbeatsCache.heartbeats),i=Ry(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function FA(){return new Date().toISOString().substring(0,10)}function C0e(n,e=w0e){const t=[];let r=n.slice();for(const s of n){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),jA(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),jA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class T0e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fbe()?pbe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await b0e(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return MA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return MA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jA(n){return Ry(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0e(n){Hc(new Gl("platform-logger",e=>new Ube(e),"PRIVATE")),Hc(new Gl("heartbeat",e=>new S0e(e),"PRIVATE")),xo(PS,LA,n),xo(PS,LA,"esm2017"),xo("fire-js","")}O0e("");function YT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function pV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I0e=pV,gV=new Dp("auth","Firebase",pV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new KT("@firebase/auth");function P0e(n,...e){ky.logLevel<=Be.WARN&&ky.warn(`Auth (${Ed}): ${n}`,...e)}function ym(n,...e){ky.logLevel<=Be.ERROR&&ky.error(`Auth (${Ed}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,...e){throw qT(n,...e)}function zi(n,...e){return qT(n,...e)}function x0e(n,e,t){const r=Object.assign(Object.assign({},I0e()),{[e]:t});return new Dp("auth","Firebase",r).create(e,{appName:n.name})}function qT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return gV.create(n,...e)}function me(n,e,...t){if(!n)throw qT(e,...t)}function fa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ym(e),new Error(e)}function Da(n,e){n||fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function R0e(){return VA()==="http:"||VA()==="https:"}function VA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R0e()||cbe()||"connection"in navigator)?navigator.onLine:!0}function D0e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.shortDelay=e,this.longDelay=t,Da(t>e,"Short delay should be less than long delay!"),this.isMobile=ube()||dbe()}get(){return A0e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n,e){Da(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0e=new Np(3e4,6e4);function ja(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ji(n,e,t,r,s={}){return yV(n,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=kp(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),mV.fetch()(vV(n,n.config.apiHost,t,o),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function yV(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},k0e),e);try{const s=new L0e(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ng(n,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ng(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Ng(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw Ng(n,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw x0e(n,d,u);ai(n,d)}}catch(s){if(s instanceof Fa)throw s;ai(n,"network-request-failed",{message:String(s)})}}async function $p(n,e,t,r,s={}){const i=await Ji(n,e,t,r,s);return"mfaPendingCredential"in i&&ai(n,"multi-factor-auth-required",{_serverResponse:i}),i}function vV(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?XT(n.config,s):`${n.config.apiScheme}://${s}`}function $0e(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L0e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),N0e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ng(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=zi(n,e,r);return s.customData._tokenResponse=t,s}function UA(n){return n!==void 0&&n.enterprise!==void 0}class M0e{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $0e(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function F0e(n,e){return Ji(n,"GET","/v2/recaptchaConfig",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0e(n,e){return Ji(n,"POST","/v1/accounts:delete",e)}async function V0e(n,e){return Ji(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U0e(n,e=!1){const t=Sn(n),r=await t.getIdToken(e),s=QT(r);me(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Lh(k0(s.auth_time)),issuedAtTime:Lh(k0(s.iat)),expirationTime:Lh(k0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function k0(n){return Number(n)*1e3}function QT(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ym("JWT malformed, contained fewer than 3 sections"),null;try{const s=sV(t);return s?JSON.parse(s):(ym("Failed to decode base64 JWT payload"),null)}catch(s){return ym("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function B0e(n){const e=QT(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Fa&&H0e(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function H0e({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lh(this.lastLoginAt),this.creationTime=Lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(n){var e;const t=n.auth,r=await n.getIdToken(),s=await zc(n,V0e(t,{idToken:r}));me(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?G0e(i.providerUserInfo):[],o=W0e(n.providerData,a),l=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _V(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function K0e(n){const e=Sn(n);await Ny(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W0e(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function G0e(n){return n.map(e=>{var{providerId:t}=e,r=YT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0e(n,e){const t=await yV(n,{},async()=>{const r=kp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,a=vV(n,s,"/v1/token",`key=${i}`),o=await n._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",mV.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function q0e(n,e){return Ji(n,"POST","/v2/accounts:revokeToken",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B0e(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await Y0e(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,a=new Pf;return r&&(me(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(me(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(me(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pf,this.toJSON())}_performRefresh(){return fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Al{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=YT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _V(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await zc(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return U0e(this,e)}reload(){return K0e(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Al(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ny(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await zc(this,j0e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,a,o,l,u,d;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(s=t.email)!==null&&s!==void 0?s:void 0,p=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,_=(a=t.photoURL)!==null&&a!==void 0?a:void 0,y=(o=t.tenantId)!==null&&o!==void 0?o:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=t.createdAt)!==null&&u!==void 0?u:void 0,w=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:E,isAnonymous:S,providerData:C,stsTokenManager:O}=t;me(b&&O,e,"internal-error");const I=Pf.fromJSON(this.name,O);me(typeof b=="string",e,"internal-error"),Xa(h,e.name),Xa(f,e.name),me(typeof E=="boolean",e,"internal-error"),me(typeof S=="boolean",e,"internal-error"),Xa(p,e.name),Xa(_,e.name),Xa(y,e.name),Xa(v,e.name),Xa(m,e.name),Xa(w,e.name);const P=new Al({uid:b,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:S,photoURL:_,phoneNumber:p,tenantId:y,stsTokenManager:I,createdAt:m,lastLoginAt:w});return C&&Array.isArray(C)&&(P.providerData=C.map(x=>Object.assign({},x))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new Pf;s.updateFromServerResponse(t);const i=new Al({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ny(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new Map;function pa(n){Da(n instanceof Function,"Expected a class definition");let e=BA.get(n);return e?(Da(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bV.type="NONE";const HA=bV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(n,e,t){return`firebase:${n}:${e}:${t}`}class wc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=vm(this.userKey,s.apiKey,i),this.fullPersistenceKey=vm("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Al._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new wc(pa(HA),e,r);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||pa(HA);const a=vm(r,e.config.apiKey,e.name);let o=null;for(const u of t)try{const d=await u._get(a);if(d){const h=Al._fromJSON(e,d);u!==i&&(o=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new wc(i,e,r):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new wc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TV(e))return"Blackberry";if(OV(e))return"Webos";if(ZT(e))return"Safari";if((e.includes("chrome/")||EV(e))&&!e.includes("edge/"))return"Chrome";if(CV(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wV(n=_r()){return/firefox\//i.test(n)}function ZT(n=_r()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EV(n=_r()){return/crios\//i.test(n)}function SV(n=_r()){return/iemobile/i.test(n)}function CV(n=_r()){return/android/i.test(n)}function TV(n=_r()){return/blackberry/i.test(n)}function OV(n=_r()){return/webos/i.test(n)}function m_(n=_r()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function X0e(n=_r()){var e;return m_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q0e(){return hbe()&&document.documentMode===10}function IV(n=_r()){return m_(n)||CV(n)||OV(n)||TV(n)||/windows phone/i.test(n)||SV(n)}function Z0e(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(n,e=[]){let t;switch(n){case"Browser":t=zA(_r());break;case"Worker":t=`${zA(_r())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ed}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((a,o)=>{try{const l=e(i);a(l)}catch(l){o(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ewe(n,e={}){return Ji(n,"GET","/v2/passwordPolicy",ja(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const twe=6;class nwe{constructor(e){var t,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:twe,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rwe{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KA(this),this.idTokenSubscription=new KA(this),this.beforeStateQueue=new J0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pa(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await wc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ny(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D0e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Sn(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ewe(this),t=new nwe(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await q0e(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pa(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await wc.create(this,[pa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&P0e(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function gu(n){return Sn(n)}class KA{constructor(e){this.auth=e,this.observer=null,this.addObserver=_be(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function swe(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}function xV(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=zi("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",swe().appendChild(r)})}function iwe(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const awe="https://www.google.com/recaptcha/enterprise.js?render=",owe="recaptcha-enterprise",lwe="NO_RECAPTCHA";class uwe{constructor(e){this.type=owe,this.auth=gu(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{F0e(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new M0e(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function s(i,a,o){const l=window.grecaptcha;UA(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(lwe)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(o=>{if(!t&&UA(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}xV(awe+o).then(()=>{s(o,i,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function WA(n,e,t,r=!1){const s=new uwe(n);let i;try{i=await s.verify(t)}catch{i=await s.verify(t,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function DS(n,e,t,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await WA(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await WA(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cwe(n,e){const t=GT(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Ay(i,e??{}))return s;ai(s,"already-initialized")}return t.initialize({options:e})}function dwe(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(pa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hwe(n,e,t){const r=gu(n);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=RV(e),{host:a,port:o}=fwe(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),pwe()}function RV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fwe(n){const e=RV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:GA(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:GA(a)}}}function GA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pwe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fa("not implemented")}_getIdTokenResponse(e){return fa("not implemented")}_linkToIdToken(e,t){return fa("not implemented")}_getReauthenticationResolver(e){return fa("not implemented")}}async function gwe(n,e){return Ji(n,"POST","/v1/accounts:update",e)}async function mwe(n,e){return Ji(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ywe(n,e){return $p(n,"POST","/v1/accounts:signInWithPassword",ja(n,e))}async function vwe(n,e){return Ji(n,"POST","/v1/accounts:sendOobCode",ja(n,e))}async function _we(n,e){return vwe(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bwe(n,e){return $p(n,"POST","/v1/accounts:signInWithEmailLink",ja(n,e))}async function wwe(n,e){return $p(n,"POST","/v1/accounts:signInWithEmailLink",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends JT{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new xf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new xf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DS(e,t,"signInWithPassword",ywe);case"emailLink":return bwe(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return DS(e,r,"signUpPassword",mwe);case"emailLink":return wwe(e,{idToken:t,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(n,e){return $p(n,"POST","/v1/accounts:signInWithIdp",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ewe="http://localhost";class ql extends JT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ql(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=YT(t,["providerId","signInMethod"]);if(!r||!s)return null;const a=new ql(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Ec(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ec(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ec(e,t)}buildRequest(){const e={requestUri:Ewe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Swe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cwe(n){const e=dh(hh(n)).link,t=e?dh(hh(e)).deep_link_id:null,r=dh(hh(n)).deep_link_id;return(r?dh(hh(r)).link:null)||r||t||e||n}class eO{constructor(e){var t,r,s,i,a,o;const l=dh(hh(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Swe((s=l.mode)!==null&&s!==void 0?s:null);me(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const t=Cwe(e);try{return new eO(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.providerId=Sd.PROVIDER_ID}static credential(e,t){return xf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=eO.parseLink(t);return me(r,"argument-error"),xf._fromEmailAndCode(e,r.code,r.tenantId)}}Sd.PROVIDER_ID="password";Sd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends AV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Lp{constructor(){super("facebook.com")}static credential(e){return ql._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Lp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ql._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return io.credential(t,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Lp{constructor(){super("github.com")}static credential(e){return ql._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Lp{constructor(){super("twitter.com")}static credential(e,t){return ql._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return oo.credential(t,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Twe(n,e){return $p(n,"POST","/v1/accounts:signUp",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Al._fromIdTokenResponse(e,r,s),a=YA(r);return new Xl({user:i,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=YA(r);return new Xl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function YA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends Fa{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$y.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new $y(e,t,r,s)}}function DV(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$y._fromErrorAndOperation(n,i,e,r):i})}async function Owe(n,e,t=!1){const r=await zc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iwe(n,e,t=!1){const{auth:r}=n,s="reauthenticate";try{const i=await zc(n,DV(r,s,e,n),t);me(i.idToken,r,"internal-error");const a=QT(i.idToken);me(a,r,"internal-error");const{sub:o}=a;return me(n.uid===o,r,"user-mismatch"),Xl._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ai(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(n,e,t=!1){const r="signIn",s=await DV(n,r,e),i=await Xl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function Pwe(n,e){return kV(gu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(n){const e=gu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xwe(n,e,t){const r=gu(n),a=await DS(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Twe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&NV(n),l}),o=await Xl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Rwe(n,e,t){return Pwe(Sn(n),Sd.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NV(n),r})}async function Awe(n,e){const t=Sn(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:i}=await _we(t.auth,s);i!==n.email&&await n.reload()}function Dwe(n,e){return kwe(Sn(n),null,e)}async function kwe(n,e,t){const{auth:r}=n,i={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(i.password=t);const a=await zc(n,gwe(r,i));await n._updateTokensIfNecessary(a,!0)}function Nwe(n,e,t,r){return Sn(n).onIdTokenChanged(e,t,r)}function $we(n,e,t){return Sn(n).beforeAuthStateChanged(e,t)}function Lwe(n,e,t,r){return Sn(n).onAuthStateChanged(e,t,r)}function Mwe(n){return Sn(n).signOut()}const Ly="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ly,"1"),this.storage.removeItem(Ly),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fwe(){const n=_r();return ZT(n)||m_(n)}const jwe=1e3,Vwe=10;class LV extends $V{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Fwe()&&Z0e(),this.fallbackToPolling=IV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}const s=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);Q0e()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Vwe):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},jwe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LV.type="LOCAL";const Uwe=LV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV extends $V{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MV.type="SESSION";const FV=MV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bwe(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new y_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async u=>u(t.origin,i)),l=await Bwe(o);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}y_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hwe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const u=tO("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function zwe(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function Kwe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wwe(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Gwe(){return jV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="firebaseLocalStorageDb",Ywe=1,My="firebaseLocalStorage",UV="fbase_key";class Mp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function v_(n,e){return n.transaction([My],e?"readwrite":"readonly").objectStore(My)}function qwe(){const n=indexedDB.deleteDatabase(VV);return new Mp(n).toPromise()}function kS(){const n=indexedDB.open(VV,Ywe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(My,{keyPath:UV})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(My)?e(r):(r.close(),await qwe(),e(await kS()))})})}async function qA(n,e,t){const r=v_(n,!0).put({[UV]:e,value:t});return new Mp(r).toPromise()}async function Xwe(n,e){const t=v_(n,!1).get(e),r=await new Mp(t).toPromise();return r===void 0?null:r.value}function XA(n,e){const t=v_(n,!0).delete(e);return new Mp(t).toPromise()}const Qwe=800,Zwe=3;class BV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kS(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Zwe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=y_._getInstance(Gwe()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Kwe(),!this.activeServiceWorker)return;this.sender=new Hwe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wwe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kS();return await qA(e,Ly,"1"),await XA(e,Ly),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>qA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Xwe(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=v_(s,!1).getAll();return new Mp(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qwe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BV.type="LOCAL";const Jwe=BV;new Np(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eEe(n,e){return e?pa(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO extends JT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ec(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ec(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tEe(n){return kV(n.auth,new nO(n),n.bypassAuthState)}function nEe(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),Iwe(t,new nO(n),n.bypassAuthState)}async function rEe(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),Owe(t,new nO(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tEe;case"linkViaPopup":case"linkViaRedirect":return rEe;case"reauthViaPopup":case"reauthViaRedirect":return nEe;default:ai(this.auth,"internal-error")}}resolve(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sEe=new Np(2e3,1e4);class lc extends HV{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,lc.currentPopupAction&&lc.currentPopupAction.cancel(),lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Da(this.filter.length===1,"Popup operations only handle one event");const e=tO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sEe.get())};e()}}lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iEe="pendingRedirect",_m=new Map;class aEe extends HV{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=_m.get(this.auth._key());if(!e){try{const r=await oEe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}_m.set(this.auth._key(),e)}return this.bypassAuthState||_m.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oEe(n,e){const t=cEe(e),r=uEe(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function lEe(n,e){_m.set(n._key(),e)}function uEe(n){return pa(n._redirectPersistence)}function cEe(n){return vm(iEe,n.config.apiKey,n.name)}async function dEe(n,e,t=!1){const r=gu(n),s=eEe(r,e),a=await new aEe(r,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hEe=10*60*1e3;class fEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pEe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!zV(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hEe&&this.cachedEventUids.clear(),this.cachedEventUids.has(QA(e))}saveEventToCache(e){this.cachedEventUids.add(QA(e)),this.lastProcessedEventTime=Date.now()}}function QA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zV({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pEe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zV(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gEe(n,e={}){return Ji(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yEe=/^https?/;async function vEe(n){if(n.config.emulator)return;const{authorizedDomains:e}=await gEe(n);for(const t of e)try{if(_Ee(t))return}catch{}ai(n,"unauthorized-domain")}function _Ee(n){const e=AS(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!yEe.test(t))return!1;if(mEe.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bEe=new Np(3e4,6e4);function ZA(){const n=Ki().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wEe(n){return new Promise((e,t)=>{var r,s,i;function a(){ZA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZA(),t(zi(n,"network-request-failed"))},timeout:bEe.get()})}if(!((s=(r=Ki().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ki().gapi)===null||i===void 0)&&i.load)a();else{const o=iwe("iframefcb");return Ki()[o]=()=>{gapi.load?a():t(zi(n,"network-request-failed"))},xV(`https://apis.google.com/js/api.js?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw bm=null,e})}let bm=null;function EEe(n){return bm=bm||wEe(n),bm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SEe=new Np(5e3,15e3),CEe="__/auth/iframe",TEe="emulator/auth/iframe",OEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PEe(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?XT(e,TEe):`https://${n.config.authDomain}/${CEe}`,r={apiKey:e.apiKey,appName:n.name,v:Ed},s=IEe.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${kp(r).slice(1)}`}async function xEe(n){const e=await EEe(n),t=Ki().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:PEe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OEe,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=zi(n,"network-request-failed"),o=Ki().setTimeout(()=>{i(a)},SEe.get());function l(){Ki().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const REe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AEe=500,DEe=600,kEe="_blank",NEe="http://localhost";class JA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $Ee(n,e,t,r=AEe,s=DEe){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},REe),{width:r.toString(),height:s.toString(),top:i,left:a}),u=_r().toLowerCase();t&&(o=EV(u)?kEe:t),wV(u)&&(e=e||NEe,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,_])=>`${f}${p}=${_},`,"");if(X0e(u)&&o!=="_self")return LEe(e||"",o),new JA(null);const h=window.open(e||"",o,d);me(h,n,"popup-blocked");try{h.focus()}catch{}return new JA(h)}function LEe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MEe="__/auth/handler",FEe="emulator/auth/handler",jEe=encodeURIComponent("fac");async function eD(n,e,t,r,s,i){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ed,eventId:s};if(e instanceof AV){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",vbe(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof Lp){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await n._getAppCheckToken(),u=l?`#${jEe}=${encodeURIComponent(l)}`:"";return`${VEe(n)}?${kp(o).slice(1)}${u}`}function VEe({config:n}){return n.emulator?XT(n,FEe):`https://${n.authDomain}/${MEe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="webStorageSupport";class UEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FV,this._completeRedirectFn=dEe,this._overrideRedirectResult=lEe}async _openPopup(e,t,r,s){var i;Da((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await eD(e,t,r,AS(),s);return $Ee(e,a,tO())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await eD(e,t,r,AS(),s);return zwe(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Da(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await xEe(e),r=new fEe(e);return t.register("authEvent",s=>(me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(N0,{type:N0},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[N0];a!==void 0&&t(!!a),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vEe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IV()||ZT()||m_()}}const BEe=UEe;var tD="@firebase/auth",nD="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zEe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function KEe(n){Hc(new Gl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;me(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PV(n)},u=new rwe(r,s,i,l);return dwe(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hc(new Gl("auth-internal",e=>{const t=gu(e.getProvider("auth").getImmediate());return(r=>new HEe(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xo(tD,nD,zEe(n)),xo(tD,nD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEe=5*60,GEe=oV("authIdTokenMaxAge")||WEe;let rD=null;const YEe=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>GEe)return;const s=t==null?void 0:t.token;rD!==s&&(rD=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qEe(n=dV()){const e=GT(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cwe(n,{popupRedirectResolver:BEe,persistence:[Jwe,Uwe,FV]}),r=oV("authTokenSyncURL");if(r){const i=YEe(r);$we(t,i,()=>i(t.currentUser)),Nwe(t,a=>i(a))}const s=iV("auth");return s&&hwe(t,`http://${s}`),t}KEe("Browser");var XEe="firebase",QEe="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xo(XEe,QEe,"app");var ZEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,rO=rO||{},ve=ZEe||self;function __(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function b_(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function JEe(n,e,t){return n.call.apply(n.bind,arguments)}function eSe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function gr(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gr=JEe:gr=eSe,gr.apply(null,arguments)}function $g(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,i){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return e.prototype[s].apply(r,a)}}function Go(){this.s=this.s,this.o=this.o}var tSe=0;Go.prototype.s=!1;Go.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),tSe!=0)};Go.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sO(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function sD(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(__(r)){const s=n.length||0,i=r.length||0;n.length=s+i;for(let a=0;a<i;a++)n[s+a]=r[a]}else n.push(r)}}function mr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mr.prototype.h=function(){this.defaultPrevented=!0};var nSe=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};ve.addEventListener("test",t,e),ve.removeEventListener("test",t,e)}catch{}return n}();function Rf(n){return/^[\s\xa0]*$/.test(n)}function w_(){var n=ve.navigator;return n&&(n=n.userAgent)?n:""}function xi(n){return w_().indexOf(n)!=-1}function iO(n){return iO[" "](n),n}iO[" "]=function(){};function rSe(n,e){var t=XSe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}var sSe=xi("Opera"),Kc=xi("Trident")||xi("MSIE"),WV=xi("Edge"),NS=WV||Kc,GV=xi("Gecko")&&!(w_().toLowerCase().indexOf("webkit")!=-1&&!xi("Edge"))&&!(xi("Trident")||xi("MSIE"))&&!xi("Edge"),iSe=w_().toLowerCase().indexOf("webkit")!=-1&&!xi("Edge");function YV(){var n=ve.document;return n?n.documentMode:void 0}var $S;e:{var $0="",L0=function(){var n=w_();if(GV)return/rv:([^\);]+)(\)|;)/.exec(n);if(WV)return/Edge\/([\d\.]+)/.exec(n);if(Kc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(iSe)return/WebKit\/(\S+)/.exec(n);if(sSe)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(L0&&($0=L0?L0[1]:""),Kc){var M0=YV();if(M0!=null&&M0>parseFloat($0)){$S=String(M0);break e}}$S=$0}var LS;if(ve.document&&Kc){var iD=YV();LS=iD||parseInt($S,10)||void 0}else LS=void 0;var aSe=LS;function Af(n,e){if(mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(GV){e:{try{iO(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:oSe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Af.$.h.call(this)}}Fn(Af,mr);var oSe={2:"touch",3:"pen",4:"mouse"};Af.prototype.h=function(){Af.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var E_="closure_listenable_"+(1e6*Math.random()|0),lSe=0;function uSe(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++lSe,this.fa=this.ia=!1}function S_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function aO(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function cSe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}function qV(n){const e={};for(const t in n)e[t]=n[t];return e}const aD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XV(n,e){let t,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(t in r)n[t]=r[t];for(let i=0;i<aD.length;i++)t=aD[i],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function C_(n){this.src=n,this.g={},this.h=0}C_.prototype.add=function(n,e,t,r,s){var i=n.toString();n=this.g[i],n||(n=this.g[i]=[],this.h++);var a=FS(n,e,r,s);return-1<a?(e=n[a],t||(e.ia=!1)):(e=new uSe(e,this.src,i,!!r,s),e.ia=t,n.push(e)),e};function MS(n,e){var t=e.type;if(t in n.g){var r=n.g[t],s=KV(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(S_(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function FS(n,e,t,r){for(var s=0;s<n.length;++s){var i=n[s];if(!i.fa&&i.listener==e&&i.capture==!!t&&i.la==r)return s}return-1}var oO="closure_lm_"+(1e6*Math.random()|0),F0={};function QV(n,e,t,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)QV(n,e[i],t,r,s);return null}return t=e3(t),n&&n[E_]?n.O(e,t,b_(r)?!!r.capture:!1,s):dSe(n,e,t,!1,r,s)}function dSe(n,e,t,r,s,i){if(!e)throw Error("Invalid event type");var a=b_(s)?!!s.capture:!!s,o=uO(n);if(o||(n[oO]=o=new C_(n)),t=o.add(e,t,r,a,i),t.proxy)return t;if(r=hSe(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)nSe||(s=a),s===void 0&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(JV(e.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return t}function hSe(){function n(t){return e.call(n.src,n.listener,t)}const e=fSe;return n}function ZV(n,e,t,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)ZV(n,e[i],t,r,s);else r=b_(r)?!!r.capture:!!r,t=e3(t),n&&n[E_]?(n=n.i,e=String(e).toString(),e in n.g&&(i=n.g[e],t=FS(i,t,r,s),-1<t&&(S_(i[t]),Array.prototype.splice.call(i,t,1),i.length==0&&(delete n.g[e],n.h--)))):n&&(n=uO(n))&&(e=n.g[e.toString()],n=-1,e&&(n=FS(e,t,r,s)),(t=-1<n?e[n]:null)&&lO(t))}function lO(n){if(typeof n!="number"&&n&&!n.fa){var e=n.src;if(e&&e[E_])MS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(JV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=uO(e))?(MS(t,n),t.h==0&&(t.src=null,e[oO]=null)):S_(n)}}}function JV(n){return n in F0?F0[n]:F0[n]="on"+n}function fSe(n,e){if(n.fa)n=!0;else{e=new Af(e,this);var t=n.listener,r=n.la||n.src;n.ia&&lO(n),n=t.call(r,e)}return n}function uO(n){return n=n[oO],n instanceof C_?n:null}var j0="__closure_events_fn_"+(1e9*Math.random()>>>0);function e3(n){return typeof n=="function"?n:(n[j0]||(n[j0]=function(e){return n.handleEvent(e)}),n[j0])}function Ln(){Go.call(this),this.i=new C_(this),this.S=this,this.J=null}Fn(Ln,Go);Ln.prototype[E_]=!0;Ln.prototype.removeEventListener=function(n,e,t,r){ZV(this,n,e,t,r)};function Xn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,typeof e=="string")e=new mr(e,n);else if(e instanceof mr)e.target=e.target||n;else{var s=e;e=new mr(r,n),XV(e,s)}if(s=!0,t)for(var i=t.length-1;0<=i;i--){var a=e.g=t[i];s=Lg(a,r,!0,e)&&s}if(a=e.g=n,s=Lg(a,r,!0,e)&&s,s=Lg(a,r,!1,e)&&s,t)for(i=0;i<t.length;i++)a=e.g=t[i],s=Lg(a,r,!1,e)&&s}Ln.prototype.N=function(){if(Ln.$.N.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)S_(t[r]);delete n.g[e],n.h--}}this.J=null};Ln.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)};Ln.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};function Lg(n,e,t,r){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.fa&&a.capture==t){var o=a.listener,l=a.la||a.src;a.ia&&MS(n.i,a),s=o.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var cO=ve.JSON.stringify;class pSe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function gSe(){var n=dO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class mSe{constructor(){this.h=this.g=null}add(e,t){const r=t3.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var t3=new pSe(()=>new ySe,n=>n.reset());class ySe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vSe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function _Se(n){ve.setTimeout(()=>{throw n},0)}let Df,kf=!1,dO=new mSe,n3=()=>{const n=ve.Promise.resolve(void 0);Df=()=>{n.then(bSe)}};var bSe=()=>{for(var n;n=gSe();){try{n.h.call(n.g)}catch(t){_Se(t)}var e=t3;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kf=!1};function T_(n,e){Ln.call(this),this.h=n||1,this.g=e||ve,this.j=gr(this.qb,this),this.l=Date.now()}Fn(T_,Ln);Z=T_.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xn(this,"tick"),this.ga&&(hO(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function hO(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}Z.N=function(){T_.$.N.call(this),hO(this),delete this.g};function fO(n,e,t){if(typeof n=="function")t&&(n=gr(n,t));else if(n&&typeof n.handleEvent=="function")n=gr(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(n,e||0)}function r3(n){n.g=fO(()=>{n.g=null,n.i&&(n.i=!1,r3(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}class wSe extends Go{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:r3(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nf(n){Go.call(this),this.h=n,this.g={}}Fn(Nf,Go);var oD=[];function s3(n,e,t,r){Array.isArray(t)||(t&&(oD[0]=t.toString()),t=oD);for(var s=0;s<t.length;s++){var i=QV(e,t[s],r||n.handleEvent,!1,n.h||n);if(!i)break;n.g[i.key]=i}}function i3(n){aO(n.g,function(e,t){this.g.hasOwnProperty(t)&&lO(e)},n),n.g={}}Nf.prototype.N=function(){Nf.$.N.call(this),i3(this)};Nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function O_(){this.g=!0}O_.prototype.Ea=function(){this.g=!1};function ESe(n,e,t,r,s,i){n.info(function(){if(n.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");a=2<=h.length&&h[1]=="type"?a+(d+"="+u+"&"):a+(d+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+t+`
`+a})}function SSe(n,e,t,r,s,i,a){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+t+`
`+i+" "+a})}function uc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+TSe(n,t)+(r?" "+r:"")})}function CSe(n,e){n.info(function(){return"TIMEOUT: "+e})}O_.prototype.info=function(){};function TSe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return cO(t)}catch{return e}}var mu={},lD=null;function I_(){return lD=lD||new Ln}mu.Ta="serverreachability";function a3(n){mr.call(this,mu.Ta,n)}Fn(a3,mr);function $f(n){const e=I_();Xn(e,new a3(e))}mu.STAT_EVENT="statevent";function o3(n,e){mr.call(this,mu.STAT_EVENT,n),this.stat=e}Fn(o3,mr);function Rr(n){const e=I_();Xn(e,new o3(e,n))}mu.Ua="timingevent";function l3(n,e){mr.call(this,mu.Ua,n),this.size=e}Fn(l3,mr);function Fp(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){n()},e)}var P_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},u3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pO(){}pO.prototype.h=null;function uD(n){return n.h||(n.h=n.i())}function c3(){}var jp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gO(){mr.call(this,"d")}Fn(gO,mr);function mO(){mr.call(this,"c")}Fn(mO,mr);var jS;function x_(){}Fn(x_,pO);x_.prototype.g=function(){return new XMLHttpRequest};x_.prototype.i=function(){return{}};jS=new x_;function Vp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Nf(this),this.P=OSe,n=NS?125:void 0,this.V=new T_(n),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new d3}function d3(){this.i=null,this.g="",this.h=!1}var OSe=45e3,h3={},VS={};Z=Vp.prototype;Z.setTimeout=function(n){this.P=n};function US(n,e,t){n.L=1,n.A=A_(ka(e)),n.u=t,n.S=!0,f3(n,null)}function f3(n,e){n.G=Date.now(),Up(n),n.B=ka(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),w3(t.i,"t",r),n.o=0,t=n.l.J,n.h=new d3,n.g=B3(n.l,t?e:null,!n.u),0<n.O&&(n.M=new wSe(gr(n.Pa,n,n.g),n.O)),s3(n.U,n.g,"readystatechange",n.nb),e=n.I?qV(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),$f(),ESe(n.j,n.v,n.B,n.m,n.W,n.u)}Z.nb=function(n){n=n.target;const e=this.M;e&&Di(n)==3?e.l():this.Pa(n)};Z.Pa=function(n){try{if(n==this.g)e:{const d=Di(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||NS||this.g&&(this.h.h||this.g.ja()||fD(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?$f(3):$f(2)),R_(this);var t=this.g.da();this.ca=t;t:if(p3(this)){var r=fD(this.g);n="";var s=r.length,i=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bl(this),Mh(this);var a="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=n,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=t==200,SSe(this.j,this.v,this.B,this.m,this.W,d,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rf(o)){var u=o;break t}}u=null}if(t=u)uc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,BS(this,t);else{this.i=!1,this.s=3,Rr(12),bl(this),Mh(this);break e}}this.S?(g3(this,d,a),NS&&this.i&&d==3&&(s3(this.U,this.V,"tick",this.mb),this.V.start())):(uc(this.j,this.m,a,null),BS(this,a)),d==4&&bl(this),this.i&&!this.J&&(d==4?F3(this.l,this):(this.i=!1,Up(this)))}else GSe(this.g),t==400&&0<a.indexOf("Unknown SID")?(this.s=3,Rr(12)):(this.s=0,Rr(13)),bl(this),Mh(this)}}}catch{}finally{}};function p3(n){return n.g?n.v=="GET"&&n.L!=2&&n.l.Ha:!1}function g3(n,e,t){let r=!0,s;for(;!n.J&&n.o<t.length;)if(s=ISe(n,t),s==VS){e==4&&(n.s=4,Rr(14),r=!1),uc(n.j,n.m,null,"[Incomplete Response]");break}else if(s==h3){n.s=4,Rr(15),uc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}else uc(n.j,n.m,s,null),BS(n,s);p3(n)&&n.o!=0&&(n.h.g=n.h.g.slice(n.o),n.o=0),e!=4||t.length!=0||n.h.h||(n.s=1,Rr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,e=n.l,e.g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),EO(e),e.M=!0,Rr(11))):(uc(n.j,n.m,t,"[Invalid Chunked Response]"),bl(n),Mh(n))}Z.mb=function(){if(this.g){var n=Di(this.g),e=this.g.ja();this.o<e.length&&(R_(this),g3(this,n,e),this.i&&n!=4&&Up(this))}};function ISe(n,e){var t=n.o,r=e.indexOf(`
`,t);return r==-1?VS:(t=Number(e.substring(t,r)),isNaN(t)?h3:(r+=1,r+t>e.length?VS:(e=e.slice(r,r+t),n.o=r+t,e)))}Z.cancel=function(){this.J=!0,bl(this)};function Up(n){n.Y=Date.now()+n.P,m3(n,n.P)}function m3(n,e){if(n.C!=null)throw Error("WatchDog timer not null");n.C=Fp(gr(n.lb,n),e)}function R_(n){n.C&&(ve.clearTimeout(n.C),n.C=null)}Z.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(CSe(this.j,this.B),this.L!=2&&($f(),Rr(17)),bl(this),this.s=2,Mh(this)):m3(this,this.Y-n)};function Mh(n){n.l.H==0||n.J||F3(n.l,n)}function bl(n){R_(n);var e=n.M;e&&typeof e.sa=="function"&&e.sa(),n.M=null,hO(n.V),i3(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function BS(n,e){try{var t=n.l;if(t.H!=0&&(t.g==n||HS(t.i,n))){if(!n.K&&HS(t.i,n)&&t.H==3){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!t.u){if(t.g)if(t.g.G+3e3<n.G)Vy(t),$_(t);else break e;wO(t),Rr(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&t.A==0&&!t.v&&(t.v=Fp(gr(t.ib,t),6e3));if(1>=C3(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else wl(t,11)}else if((n.K||t.g==n)&&Vy(t),!Rf(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(t.V=u[0],u=u[1],t.H==2)if(u[0]=="c"){t.K=u[1],t.pa=u[2];const d=u[3];d!=null&&(t.ra=d,t.l.info("VER="+t.ra));const h=u[4];h!=null&&(t.Ga=h,t.l.info("SVER="+t.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,t.L=r,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const p=n.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(yO(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,At(r.I,r.F,y))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms")),r=t;var a=n;if(r.wa=U3(r,r.J?r.pa:null,r.Y),a.K){T3(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(R_(o),Up(o)),r.g=a}else L3(r);0<t.j.length&&L_(t)}else u[0]!="stop"&&u[0]!="close"||wl(t,7);else t.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wl(t,7):bO(t):u[0]!="noop"&&t.h&&t.h.Aa(u),t.A=0)}}$f(4)}catch{}}function PSe(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(__(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}e=[],t=0;for(r in n)e[t++]=n[r];return e}function xSe(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(__(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}function y3(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(__(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=xSe(n),r=PSe(n),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],t&&t[i],n)}var v3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RSe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var i=n[t].substring(0,r);s=n[t].substring(r+1)}else i=n[t];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Dl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Dl){this.h=n.h,Fy(this,n.j),this.s=n.s,this.g=n.g,jy(this,n.m),this.l=n.l;var e=n.i,t=new Lf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),cD(this,t),this.o=n.o}else n&&(e=String(n).match(v3))?(this.h=!1,Fy(this,e[1]||"",!0),this.s=fh(e[2]||""),this.g=fh(e[3]||"",!0),jy(this,e[4]),this.l=fh(e[5]||"",!0),cD(this,e[6]||"",!0),this.o=fh(e[7]||"")):(this.h=!1,this.i=new Lf(null,this.h))}Dl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ph(e,dD,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(ph(e,dD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(ph(t,t.charAt(0)=="/"?kSe:DSe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ph(t,$Se)),n.join("")};function ka(n){return new Dl(n)}function Fy(n,e,t){n.j=t?fh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function jy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function cD(n,e,t){e instanceof Lf?(n.i=e,LSe(n.i,n.h)):(t||(e=ph(e,NSe)),n.i=new Lf(e,n.h))}function At(n,e,t){n.i.set(e,t)}function A_(n){return At(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ph(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,ASe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ASe(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var dD=/[#\/\?@]/g,DSe=/[#\?:]/g,kSe=/[#\?]/g,NSe=/[#\?@]/g,$Se=/#/g;function Lf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yo(n){n.g||(n.g=new Map,n.h=0,n.i&&RSe(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}Z=Lf.prototype;Z.add=function(n,e){Yo(this),this.i=null,n=Cd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function _3(n,e){Yo(n),e=Cd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function b3(n,e){return Yo(n),e=Cd(n,e),n.g.has(e)}Z.forEach=function(n,e){Yo(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)};Z.ta=function(){Yo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let i=0;i<s.length;i++)t.push(e[r])}return t};Z.Z=function(n){Yo(this);let e=[];if(typeof n=="string")b3(this,n)&&(e=e.concat(this.g.get(Cd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};Z.set=function(n,e){return Yo(this),this.i=null,n=Cd(this,n),b3(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};Z.get=function(n,e){return n?(n=this.Z(n),0<n.length?String(n[0]):e):e};function w3(n,e,t){_3(n,e),0<t.length&&(n.i=null,n.g.set(Cd(n,e),sO(t)),n.h+=t.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;a[r]!==""&&(s+="="+encodeURIComponent(String(a[r]))),n.push(s)}}return this.i=n.join("&")};function Cd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function LSe(n,e){e&&!n.j&&(Yo(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(_3(this,r),w3(this,s,t))},n)),n.j=e}var MSe=class{constructor(n,e){this.g=n,this.map=e}};function E3(n){this.l=n||FSe,ve.PerformanceNavigationTiming?(n=ve.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var FSe=10;function S3(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function C3(n){return n.h?1:n.g?n.g.size:0}function HS(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function yO(n,e){n.g?n.g.add(e):n.h=e}function T3(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}E3.prototype.cancel=function(){if(this.i=O3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function O3(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return sO(n.i)}var jSe=class{stringify(n){return ve.JSON.stringify(n,void 0)}parse(n){return ve.JSON.parse(n,void 0)}};function VSe(){this.g=new jSe}function USe(n,e,t){const r=t||"";try{y3(n,function(s,i){let a=s;b_(s)&&(a=cO(s)),e.push(r+i+"="+encodeURIComponent(a))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function BSe(n,e){const t=new O_;if(ve.Image){const r=new Image;r.onload=$g(Mg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=$g(Mg,t,r,"TestLoadImage: error",!1,e),r.onabort=$g(Mg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=$g(Mg,t,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}function Mg(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function D_(n){this.l=n.ec||null,this.j=n.ob||!1}Fn(D_,pO);D_.prototype.g=function(){return new k_(this.l,this.j)};D_.prototype.i=function(n){return function(){return n}}({});function k_(n,e){Ln.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=vO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fn(k_,Ln);var vO=0;Z=k_.prototype;Z.open=function(n,e){if(this.readyState!=vO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mf(this)};Z.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bp(this)),this.readyState=vO};Z.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mf(this)),this.g&&(this.readyState=3,Mf(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;I3(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function I3(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}Z.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bp(this):Mf(this),this.readyState==3&&I3(this)}};Z.Za=function(n){this.g&&(this.response=this.responseText=n,Bp(this))};Z.Ya=function(n){this.g&&(this.response=n,Bp(this))};Z.ka=function(){this.g&&Bp(this)};function Bp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mf(n)}Z.setRequestHeader=function(n,e){this.v.append(n,e)};Z.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function Mf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(k_.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var HSe=ve.JSON.parse;function Jt(n){Ln.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P3,this.L=this.M=!1}Fn(Jt,Ln);var P3="",zSe=/^https?$/i,KSe=["POST","PUT"];Z=Jt.prototype;Z.Oa=function(n){this.M=n};Z.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jS.g(),this.C=this.u?uD(this.u):uD(jS),this.g.onreadystatechange=gr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(i){hD(this,i);return}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())t.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(t.keys()).find(i=>i.toLowerCase()=="content-type"),s=ve.FormData&&n instanceof ve.FormData,!(0<=KV(KSe,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of t)this.g.setRequestHeader(i,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{A3(this),0<this.B&&((this.L=WSe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gr(this.ua,this)):this.A=fO(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(i){hD(this,i)}};function WSe(n){return Kc&&typeof n.timeout=="number"&&n.ontimeout!==void 0}Z.ua=function(){typeof rO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xn(this,"timeout"),this.abort(8))};function hD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,x3(n),N_(n)}function x3(n){n.F||(n.F=!0,Xn(n,"complete"),Xn(n,"error"))}Z.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xn(this,"complete"),Xn(this,"abort"),N_(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),N_(this,!0)),Jt.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?R3(this):this.kb())};Z.kb=function(){R3(this)};function R3(n){if(n.h&&typeof rO<"u"&&(!n.C[1]||Di(n)!=4||n.da()!=2)){if(n.v&&Di(n)==4)fO(n.La,0,n);else if(Xn(n,"readystatechange"),Di(n)==4){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=a===0){var s=String(n.I).match(v3)[1]||null;!s&&ve.self&&ve.self.location&&(s=ve.self.location.protocol.slice(0,-1)),r=!zSe.test(s?s.toLowerCase():"")}t=r}if(t)Xn(n,"complete"),Xn(n,"success");else{n.m=6;try{var i=2<Di(n)?n.g.statusText:""}catch{i=""}n.j=i+" ["+n.da()+"]",x3(n)}}finally{N_(n)}}}}function N_(n,e){if(n.g){A3(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Xn(n,"ready");try{t.onreadystatechange=r}catch{}}}function A3(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ve.clearTimeout(n.A),n.A=null)}Z.isActive=function(){return!!this.g};function Di(n){return n.g?n.g.readyState:0}Z.da=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),HSe(e)}};function fD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case P3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function GSe(n){const e={};n=(n.g&&2<=Di(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<n.length;r++){if(Rf(n[r]))continue;var t=vSe(n[r]);const s=t[0];if(t=t[1],typeof t!="string")continue;t=t.trim();const i=e[s]||[];e[s]=i,i.push(t)}cSe(e,function(r){return r.join(", ")})}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function D3(n){let e="";return aO(n,function(t,r){e+=r,e+=":",e+=t,e+=`\r
`}),e}function _O(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=D3(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):At(n,e,t))}function Xd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function k3(n){this.Ga=0,this.j=[],this.l=new O_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xd("baseRetryDelayMs",5e3,n),this.hb=Xd("retryDelaySeedMs",1e4,n),this.eb=Xd("forwardChannelMaxRetries",2,n),this.xa=Xd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new E3(n&&n.concurrentRequestLimit),this.Ja=new VSe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Z=k3.prototype;Z.ra=8;Z.H=1;function bO(n){if(N3(n),n.H==3){var e=n.W++,t=ka(n.I);if(At(t,"SID",n.K),At(t,"RID",e),At(t,"TYPE","terminate"),Hp(n,t),e=new Vp(n,n.l,e),e.L=2,e.A=A_(ka(t)),t=!1,ve.navigator&&ve.navigator.sendBeacon)try{t=ve.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&ve.Image&&(new Image().src=e.A,t=!0),t||(e.g=B3(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Up(e)}V3(n)}function $_(n){n.g&&(EO(n),n.g.cancel(),n.g=null)}function N3(n){$_(n),n.u&&(ve.clearTimeout(n.u),n.u=null),Vy(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&ve.clearTimeout(n.m),n.m=null)}function L_(n){if(!S3(n.i)&&!n.m){n.m=!0;var e=n.Na;Df||n3(),kf||(Df(),kf=!0),dO.add(e,n),n.C=0}}function YSe(n,e){return C3(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=e.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=Fp(gr(n.Na,n,e),j3(n,n.C)),n.C++,!0)}Z.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Vp(this,this.l,n);let i=this.s;if(this.U&&(i?(i=qV(i),XV(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){t:{var r=this.j[t];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=t;break e}if(e===4096||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$3(this,s,e),t=ka(this.I),At(t,"RID",n),At(t,"CVER",22),this.F&&At(t,"X-HTTP-Session-Id",this.F),Hp(this,t),i&&(this.O?e="headers="+encodeURIComponent(String(D3(i)))+"&"+e:this.o&&_O(t,this.o,i)),yO(this.i,s),this.bb&&At(t,"TYPE","init"),this.P?(At(t,"$req",e),At(t,"SID","null"),s.aa=!0,US(s,t,null)):US(s,t,e),this.H=2}}else this.H==3&&(n?pD(this,n):this.j.length==0||S3(this.i)||pD(this))};function pD(n,e){var t;e?t=e.m:t=n.W++;const r=ka(n.I);At(r,"SID",n.K),At(r,"RID",t),At(r,"AID",n.V),Hp(n,r),n.o&&n.s&&_O(r,n.o,n.s),t=new Vp(n,n.l,t,n.C+1),n.o===null&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=$3(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),yO(n.i,t),US(t,r,e)}function Hp(n,e){n.na&&aO(n.na,function(t,r){At(e,r,t)}),n.h&&y3({},function(t,r){At(e,r,t)})}function $3(n,e,t){t=Math.min(n.j.length,t);var r=n.h?gr(n.h.Va,n.h,n):null;e:{var s=n.j;let i=-1;for(;;){const a=["count="+t];i==-1?0<t?(i=s[0].g,a.push("ofs="+i)):i=0:a.push("ofs="+i);let o=!0;for(let l=0;l<t;l++){let u=s[l].g;const d=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),o=!1;else try{USe(d,a,"req"+u+"_")}catch{r&&r(d)}}if(o){r=a.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function L3(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Df||n3(),kf||(Df(),kf=!0),dO.add(e,n),n.A=0}}function wO(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=Fp(gr(n.Ma,n),j3(n,n.A)),n.A++,!0)}Z.Ma=function(){if(this.u=null,M3(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Fp(gr(this.jb,this),n)}};Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rr(10),$_(this),M3(this))};function EO(n){n.B!=null&&(ve.clearTimeout(n.B),n.B=null)}function M3(n){n.g=new Vp(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var e=ka(n.wa);At(e,"RID","rpc"),At(e,"SID",n.K),At(e,"AID",n.V),At(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&At(e,"TO",n.qa),At(e,"TYPE","xmlhttp"),Hp(n,e),n.o&&n.s&&_O(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=A_(ka(e)),t.u=null,t.S=!0,f3(t,n)}Z.ib=function(){this.v!=null&&(this.v=null,$_(this),wO(this),Rr(19))};function Vy(n){n.v!=null&&(ve.clearTimeout(n.v),n.v=null)}function F3(n,e){var t=null;if(n.g==e){Vy(n),EO(n),n.g=null;var r=2}else if(HS(n.i,e))t=e.F,T3(n.i,e),r=1;else return;if(n.H!=0){if(e.i)if(r==1){t=e.u?e.u.length:0,e=Date.now()-e.G;var s=n.C;r=I_(),Xn(r,new l3(r,t)),L_(n)}else L3(n);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&YSe(n,e)||r==2&&wO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:wl(n,5);break;case 4:wl(n,10);break;case 3:wl(n,6);break;default:wl(n,2)}}}function j3(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function wl(n,e){if(n.l.info("Error code "+e),e==2){var t=null;n.h&&(t=null);var r=gr(n.pb,n);t||(t=new Dl("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||Fy(t,"https"),A_(t)),BSe(t.toString(),r)}else Rr(2);n.H=0,n.h&&n.h.za(e),V3(n),N3(n)}Z.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Rr(2)):(this.l.info("Failed to ping google.com"),Rr(1))};function V3(n){if(n.H=0,n.ma=[],n.h){const e=O3(n.i);(e.length!=0||n.j.length!=0)&&(sD(n.ma,e),sD(n.ma,n.j),n.i.i.length=0,sO(n.j),n.j.length=0),n.h.ya()}}function U3(n,e,t){var r=t instanceof Dl?ka(t):new Dl(t);if(r.g!="")e&&(r.g=e+"."+r.g),jy(r,r.m);else{var s=ve.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Dl(null);r&&Fy(i,r),e&&(i.g=e),s&&jy(i,s),t&&(i.l=t),r=i}return t=n.F,e=n.Da,t&&e&&At(r,t,e),At(r,"VER",n.ra),Hp(n,r),r}function B3(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n.Ha&&!n.va?new Jt(new D_({ob:t})):new Jt(n.va),e.Oa(n.J),e}Z.isActive=function(){return!!this.h&&this.h.isActive(this)};function H3(){}Z=H3.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.isActive=function(){return!0};Z.Va=function(){};function Uy(){if(Kc&&!(10<=Number(aSe)))throw Error("Environmental error: no available transport.")}Uy.prototype.g=function(n,e){return new ls(n,e)};function ls(n,e){Ln.call(this),this.g=new k3(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Rf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rf(e)&&(this.g.F=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new Td(this)}Fn(ls,Ln);ls.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Rr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=U3(n,null,n.Y),L_(n)};ls.prototype.close=function(){bO(this.g)};ls.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=cO(n),n=t);e.j.push(new MSe(e.fb++,n)),e.H==3&&L_(e)};ls.prototype.N=function(){this.g.h=null,delete this.j,bO(this.g),delete this.g,ls.$.N.call(this)};function z3(n){gO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}Fn(z3,gO);function K3(){mO.call(this),this.status=1}Fn(K3,mO);function Td(n){this.g=n}Fn(Td,H3);Td.prototype.Ba=function(){Xn(this.g,"a")};Td.prototype.Aa=function(n){Xn(this.g,new z3(n))};Td.prototype.za=function(n){Xn(this.g,new K3)};Td.prototype.ya=function(){Xn(this.g,"b")};function qSe(){this.blockSize=-1}function oi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Fn(oi,qSe);oi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function V0(n,e,t){t||(t=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;e=n.g[0],t=n.g[1],s=n.g[2];var i=n.g[3],a=e+(i^t&(s^i))+r[0]+3614090360&4294967295;e=t+(a<<7&4294967295|a>>>25),a=i+(s^e&(t^s))+r[1]+3905402710&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(t^i&(e^t))+r[2]+606105819&4294967295,s=i+(a<<17&4294967295|a>>>15),a=t+(e^s&(i^e))+r[3]+3250441966&4294967295,t=s+(a<<22&4294967295|a>>>10),a=e+(i^t&(s^i))+r[4]+4118548399&4294967295,e=t+(a<<7&4294967295|a>>>25),a=i+(s^e&(t^s))+r[5]+1200080426&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(t^i&(e^t))+r[6]+2821735955&4294967295,s=i+(a<<17&4294967295|a>>>15),a=t+(e^s&(i^e))+r[7]+4249261313&4294967295,t=s+(a<<22&4294967295|a>>>10),a=e+(i^t&(s^i))+r[8]+1770035416&4294967295,e=t+(a<<7&4294967295|a>>>25),a=i+(s^e&(t^s))+r[9]+2336552879&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(t^i&(e^t))+r[10]+4294925233&4294967295,s=i+(a<<17&4294967295|a>>>15),a=t+(e^s&(i^e))+r[11]+2304563134&4294967295,t=s+(a<<22&4294967295|a>>>10),a=e+(i^t&(s^i))+r[12]+1804603682&4294967295,e=t+(a<<7&4294967295|a>>>25),a=i+(s^e&(t^s))+r[13]+4254626195&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(t^i&(e^t))+r[14]+2792965006&4294967295,s=i+(a<<17&4294967295|a>>>15),a=t+(e^s&(i^e))+r[15]+1236535329&4294967295,t=s+(a<<22&4294967295|a>>>10),a=e+(s^i&(t^s))+r[1]+4129170786&4294967295,e=t+(a<<5&4294967295|a>>>27),a=i+(t^s&(e^t))+r[6]+3225465664&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^t&(i^e))+r[11]+643717713&4294967295,s=i+(a<<14&4294967295|a>>>18),a=t+(i^e&(s^i))+r[0]+3921069994&4294967295,t=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(t^s))+r[5]+3593408605&4294967295,e=t+(a<<5&4294967295|a>>>27),a=i+(t^s&(e^t))+r[10]+38016083&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^t&(i^e))+r[15]+3634488961&4294967295,s=i+(a<<14&4294967295|a>>>18),a=t+(i^e&(s^i))+r[4]+3889429448&4294967295,t=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(t^s))+r[9]+568446438&4294967295,e=t+(a<<5&4294967295|a>>>27),a=i+(t^s&(e^t))+r[14]+3275163606&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^t&(i^e))+r[3]+4107603335&4294967295,s=i+(a<<14&4294967295|a>>>18),a=t+(i^e&(s^i))+r[8]+1163531501&4294967295,t=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(t^s))+r[13]+2850285829&4294967295,e=t+(a<<5&4294967295|a>>>27),a=i+(t^s&(e^t))+r[2]+4243563512&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^t&(i^e))+r[7]+1735328473&4294967295,s=i+(a<<14&4294967295|a>>>18),a=t+(i^e&(s^i))+r[12]+2368359562&4294967295,t=s+(a<<20&4294967295|a>>>12),a=e+(t^s^i)+r[5]+4294588738&4294967295,e=t+(a<<4&4294967295|a>>>28),a=i+(e^t^s)+r[8]+2272392833&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^t)+r[11]+1839030562&4294967295,s=i+(a<<16&4294967295|a>>>16),a=t+(s^i^e)+r[14]+4259657740&4294967295,t=s+(a<<23&4294967295|a>>>9),a=e+(t^s^i)+r[1]+2763975236&4294967295,e=t+(a<<4&4294967295|a>>>28),a=i+(e^t^s)+r[4]+1272893353&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^t)+r[7]+4139469664&4294967295,s=i+(a<<16&4294967295|a>>>16),a=t+(s^i^e)+r[10]+3200236656&4294967295,t=s+(a<<23&4294967295|a>>>9),a=e+(t^s^i)+r[13]+681279174&4294967295,e=t+(a<<4&4294967295|a>>>28),a=i+(e^t^s)+r[0]+3936430074&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^t)+r[3]+3572445317&4294967295,s=i+(a<<16&4294967295|a>>>16),a=t+(s^i^e)+r[6]+76029189&4294967295,t=s+(a<<23&4294967295|a>>>9),a=e+(t^s^i)+r[9]+3654602809&4294967295,e=t+(a<<4&4294967295|a>>>28),a=i+(e^t^s)+r[12]+3873151461&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^t)+r[15]+530742520&4294967295,s=i+(a<<16&4294967295|a>>>16),a=t+(s^i^e)+r[2]+3299628645&4294967295,t=s+(a<<23&4294967295|a>>>9),a=e+(s^(t|~i))+r[0]+4096336452&4294967295,e=t+(a<<6&4294967295|a>>>26),a=i+(t^(e|~s))+r[7]+1126891415&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~t))+r[14]+2878612391&4294967295,s=i+(a<<15&4294967295|a>>>17),a=t+(i^(s|~e))+r[5]+4237533241&4294967295,t=s+(a<<21&4294967295|a>>>11),a=e+(s^(t|~i))+r[12]+1700485571&4294967295,e=t+(a<<6&4294967295|a>>>26),a=i+(t^(e|~s))+r[3]+2399980690&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~t))+r[10]+4293915773&4294967295,s=i+(a<<15&4294967295|a>>>17),a=t+(i^(s|~e))+r[1]+2240044497&4294967295,t=s+(a<<21&4294967295|a>>>11),a=e+(s^(t|~i))+r[8]+1873313359&4294967295,e=t+(a<<6&4294967295|a>>>26),a=i+(t^(e|~s))+r[15]+4264355552&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~t))+r[6]+2734768916&4294967295,s=i+(a<<15&4294967295|a>>>17),a=t+(i^(s|~e))+r[13]+1309151649&4294967295,t=s+(a<<21&4294967295|a>>>11),a=e+(s^(t|~i))+r[4]+4149444226&4294967295,e=t+(a<<6&4294967295|a>>>26),a=i+(t^(e|~s))+r[11]+3174756917&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~t))+r[2]+718787259&4294967295,s=i+(a<<15&4294967295|a>>>17),a=t+(i^(s|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+i&4294967295}oi.prototype.j=function(n,e){e===void 0&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=t;)V0(this,n,i),i+=this.blockSize;if(typeof n=="string"){for(;i<e;)if(r[s++]=n.charCodeAt(i++),s==this.blockSize){V0(this,r),s=0;break}}else for(;i<e;)if(r[s++]=n[i++],s==this.blockSize){V0(this,r),s=0;break}}this.h=s,this.i+=e};oi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=t&255,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};function ft(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var i=n[s]|0;r&&i==e||(t[s]=i,r=!1)}this.g=t}var XSe={};function SO(n){return-128<=n&&128>n?rSe(n,function(e){return new ft([e|0],0>e?-1:0)}):new ft([n|0],0>n?-1:0)}function ki(n){if(isNaN(n)||!isFinite(n))return Sc;if(0>n)return Kn(ki(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=zS;return new ft(e,0)}function W3(n,e){if(n.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(n.charAt(0)=="-")return Kn(W3(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ki(Math.pow(e,8)),r=Sc,s=0;s<n.length;s+=8){var i=Math.min(8,n.length-s),a=parseInt(n.substring(s,s+i),e);8>i?(i=ki(Math.pow(e,i)),r=r.R(i).add(ki(a))):(r=r.R(t),r=r.add(ki(a)))}return r}var zS=4294967296,Sc=SO(0),KS=SO(1),gD=SO(16777216);Z=ft.prototype;Z.ea=function(){if(Cs(this))return-Kn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:zS+r)*e,e*=zS}return n};Z.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(ga(this))return"0";if(Cs(this))return"-"+Kn(this).toString(n);for(var e=ki(Math.pow(n,6)),t=this,r="";;){var s=Hy(t,e).g;t=By(t,s.R(e));var i=((0<t.g.length?t.g[0]:t.h)>>>0).toString(n);if(t=s,ga(t))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Z.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function ga(n){if(n.h!=0)return!1;for(var e=0;e<n.g.length;e++)if(n.g[e]!=0)return!1;return!0}function Cs(n){return n.h==-1}Z.X=function(n){return n=By(this,n),Cs(n)?-1:ga(n)?0:1};function Kn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ft(t,~n.h).add(KS)}Z.abs=function(){return Cs(this)?Kn(this):this};Z.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(n.D(s)&65535),a=(i>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,t[s]=a<<16|i}return new ft(t,t[t.length-1]&-2147483648?-1:0)};function By(n,e){return n.add(Kn(e))}Z.R=function(n){if(ga(this)||ga(n))return Sc;if(Cs(this))return Cs(n)?Kn(this).R(Kn(n)):Kn(Kn(this).R(n));if(Cs(n))return Kn(this.R(Kn(n)));if(0>this.X(gD)&&0>n.X(gD))return ki(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var i=this.D(r)>>>16,a=this.D(r)&65535,o=n.D(s)>>>16,l=n.D(s)&65535;t[2*r+2*s]+=a*l,Fg(t,2*r+2*s),t[2*r+2*s+1]+=i*l,Fg(t,2*r+2*s+1),t[2*r+2*s+1]+=a*o,Fg(t,2*r+2*s+1),t[2*r+2*s+2]+=i*o,Fg(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ft(t,0)};function Fg(n,e){for(;(n[e]&65535)!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Qd(n,e){this.g=n,this.h=e}function Hy(n,e){if(ga(e))throw Error("division by zero");if(ga(n))return new Qd(Sc,Sc);if(Cs(n))return e=Hy(Kn(n),e),new Qd(Kn(e.g),Kn(e.h));if(Cs(e))return e=Hy(n,Kn(e)),new Qd(Kn(e.g),e.h);if(30<n.g.length){if(Cs(n)||Cs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=KS,r=e;0>=r.X(n);)t=mD(t),r=mD(r);var s=Nu(t,1),i=Nu(r,1);for(r=Nu(r,2),t=Nu(t,2);!ga(r);){var a=i.add(r);0>=a.X(n)&&(s=s.add(t),i=a),r=Nu(r,1),t=Nu(t,1)}return e=By(n,s.R(e)),new Qd(s,e)}for(s=Sc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=Math.ceil(Math.log(t)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=ki(t),a=i.R(e);Cs(a)||0<a.X(n);)t-=r,i=ki(t),a=i.R(e);ga(i)&&(i=KS),s=s.add(i),n=By(n,a)}return new Qd(s,n)}Z.gb=function(n){return Hy(this,n).h};Z.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ft(t,this.h&n.h)};Z.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ft(t,this.h|n.h)};Z.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ft(t,this.h^n.h)};function mD(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ft(t,n.h)}function Nu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],i=0;i<r;i++)s[i]=0<e?n.D(i+t)>>>e|n.D(i+t+1)<<32-e:n.D(i+t);return new ft(s,n.h)}Uy.prototype.createWebChannel=Uy.prototype.g;ls.prototype.send=ls.prototype.u;ls.prototype.open=ls.prototype.m;ls.prototype.close=ls.prototype.close;P_.NO_ERROR=0;P_.TIMEOUT=8;P_.HTTP_ERROR=6;u3.COMPLETE="complete";c3.EventType=jp;jp.OPEN="a";jp.CLOSE="b";jp.ERROR="c";jp.MESSAGE="d";Ln.prototype.listen=Ln.prototype.O;Jt.prototype.listenOnce=Jt.prototype.P;Jt.prototype.getLastError=Jt.prototype.Sa;Jt.prototype.getLastErrorCode=Jt.prototype.Ia;Jt.prototype.getStatus=Jt.prototype.da;Jt.prototype.getResponseJson=Jt.prototype.Wa;Jt.prototype.getResponseText=Jt.prototype.ja;Jt.prototype.send=Jt.prototype.ha;Jt.prototype.setWithCredentials=Jt.prototype.Oa;oi.prototype.digest=oi.prototype.l;oi.prototype.reset=oi.prototype.reset;oi.prototype.update=oi.prototype.j;ft.prototype.add=ft.prototype.add;ft.prototype.multiply=ft.prototype.R;ft.prototype.modulo=ft.prototype.gb;ft.prototype.compare=ft.prototype.X;ft.prototype.toNumber=ft.prototype.ea;ft.prototype.toString=ft.prototype.toString;ft.prototype.getBits=ft.prototype.D;ft.fromNumber=ki;ft.fromString=W3;var QSe=function(){return new Uy},ZSe=function(){return I_()},U0=P_,JSe=u3,eCe=mu,yD={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jg=c3,tCe=Jt,nCe=oi,Cc=ft;const vD="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new KT("@firebase/firestore");function Zd(){return Ql.logLevel}function oe(n,...e){if(Ql.logLevel<=Be.DEBUG){const t=e.map(CO);Ql.debug(`Firestore (${Od}): ${n}`,...t)}}function Na(n,...e){if(Ql.logLevel<=Be.ERROR){const t=e.map(CO);Ql.error(`Firestore (${Od}): ${n}`,...t)}}function Wc(n,...e){if(Ql.logLevel<=Be.WARN){const t=e.map(CO);Ql.warn(`Firestore (${Od}): ${n}`,...t)}}function CO(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(n="Unexpected state"){const e=`FIRESTORE (${Od}) INTERNAL ASSERTION FAILED: `+n;throw Na(e),new Error(e)}function Ct(n,e){n||ye()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Fa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rCe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ur.UNAUTHENTICATED))}shutdown(){}}class sCe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iCe{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wa,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wa)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string"),new G3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string"),new ur(e)}}class aCe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oCe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new aCe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lCe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uCe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=i=>{i.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,oe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct(typeof t.token=="string"),this.R=t.token,new lCe(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cCe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=cCe(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function Gc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ne(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Pn(0,0))}static max(){return new be(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,r){t===void 0?t=0:t>e.length&&ye(),r===void 0?r=e.length-t:r>e.length-t&&ye(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ff.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ff?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),a=t.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dt extends Ff{construct(e,t,r){return new Dt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Dt(t)}static emptyPath(){return new Dt([])}}const dCe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Ff{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return dCe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new ne(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new ne(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Dt.fromString(e))}static fromName(e){return new ce(Dt.fromString(e).popFirst(5))}static empty(){return new ce(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Dt(e.slice()))}}function hCe(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Pn(t+1,0):new Pn(t,r));return new $o(s,ce.empty(),e)}function fCe(n){return new $o(n.readTime,n.key,-1)}class $o{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $o(be.min(),ce.empty(),-1)}static max(){return new $o(be.max(),ce.empty(),-1)}}function pCe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gCe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mCe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==gCe)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):H.reject(t)}static resolve(e){return new H((t,r)=>{t(e)})}static reject(e){return new H((t,r)=>{r(e)})}static waitFor(e){return new H((t,r)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&t()},l=>r(l))}),a=!0,i===s&&t()})}static or(e){let t=H.resolve(!1);for(const r of e)t=t.next(s=>s?H.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new H((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const u=l;t(e[u]).next(d=>{a[u]=d,++o,o===i&&r(a)},d=>s(d))}})}static doWhile(e,t){return new H((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function Kp(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.se(r),this.oe=r=>t.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}TO._e=-1;function M_(n){return n==null}function zy(n){return n===0&&1/n==-1/0}function yCe(n){return typeof n=="number"&&Number.isInteger(n)&&!zy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function q3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new Gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vg(this.root,e,this.comparator,!0)}}class Vg{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??zn.RED,this.left=s??zn.EMPTY,this.right=i??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new zn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return zn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,t,r,s,i){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bD(this.data.getIterator())}getIteratorFrom(e){return new bD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class bD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new rs([])}unionWith(e){let t=new Qn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new X3("Invalid base64 string: "+i):i}}(e);return new br(t)}static fromUint8Array(e){const t=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const vCe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(n){if(Ct(!!n),typeof n=="string"){let e=0;const t=vCe.exec(n);if(Ct(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yn(n.seconds),nanos:yn(n.nanos)}}function yn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zl(n){return typeof n=="string"?br.fromBase64String(n):br.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function IO(n){const e=n.mapValue.fields.__previous_value__;return OO(e)?IO(e):e}function jf(n){const e=Lo(n.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ce{constructor(e,t,r,s,i,a,o,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Vf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug={mapValue:{}};function Jl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OO(n)?4:bCe(n)?9007199254740991:10:ye()}function Xi(n,e){if(n===e)return!0;const t=Jl(n);if(t!==Jl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jf(n).isEqual(jf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Lo(s.timestampValue),o=Lo(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return Zl(s.bytesValue).isEqual(Zl(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return yn(s.geoPointValue.latitude)===yn(i.geoPointValue.latitude)&&yn(s.geoPointValue.longitude)===yn(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return yn(s.integerValue)===yn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=yn(s.doubleValue),o=yn(i.doubleValue);return a===o?zy(a)===zy(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return Gc(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(_D(a)!==_D(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Xi(a[l],o[l])))return!1;return!0}(n,e);default:return ye()}}function Uf(n,e){return(n.values||[]).find(t=>Xi(t,e))!==void 0}function Yc(n,e){if(n===e)return 0;const t=Jl(n),r=Jl(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(i,a){const o=yn(i.integerValue||i.doubleValue),l=yn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return wD(n.timestampValue,e.timestampValue);case 4:return wD(jf(n),jf(e));case 5:return st(n.stringValue,e.stringValue);case 6:return function(i,a){const o=Zl(i),l=Zl(a);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=st(o[u],l[u]);if(d!==0)return d}return st(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const o=st(yn(i.latitude),yn(a.latitude));return o!==0?o:st(yn(i.longitude),yn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const o=i.values||[],l=a.values||[];for(let u=0;u<o.length&&u<l.length;++u){const d=Yc(o[u],l[u]);if(d)return d}return st(o.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Ug.mapValue&&a===Ug.mapValue)return 0;if(i===Ug.mapValue)return 1;if(a===Ug.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=st(l[h],d[h]);if(f!==0)return f;const p=Yc(o[l[h]],u[d[h]]);if(p!==0)return p}return st(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ye()}}function wD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Lo(n),r=Lo(e),s=st(t.seconds,r.seconds);return s!==0?s:st(t.nanos,r.nanos)}function qc(n){return WS(n)}function WS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Lo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=WS(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${WS(t.fields[a])}`;return s+"}"}(n.mapValue):ye()}function ED(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function GS(n){return!!n&&"integerValue"in n}function PO(n){return!!n&&"arrayValue"in n}function SD(n){return!!n&&"nullValue"in n}function CD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wm(n){return!!n&&"mapValue"in n}function Fh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bCe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fh(t)}setAll(e){let t=Gn.emptyPath(),r={},s=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=o.popLast()}a?r[o.lastSegment()]=Fh(a):s.push(o.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());wm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];wm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){yu(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Br(Fh(this.value))}}function Q3(n){const e=[];return yu(n.fields,(t,r)=>{const s=new Gn([t]);if(wm(r)){const i=Q3(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t,r,s,i,a,o){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new dr(e,0,be.min(),be.min(),be.min(),Br.empty(),0)}static newFoundDocument(e,t,r,s){return new dr(e,1,t,be.min(),r,s,0)}static newNoDocument(e,t){return new dr(e,2,t,be.min(),be.min(),Br.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,be.min(),be.min(),Br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t){this.position=e,this.inclusive=t}}function TD(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],a=n.position[s];if(i.field.isKeyField()?r=ce.comparator(ce.fromName(a.referenceValue),t.key):r=Yc(a,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function OD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t="asc"){this.field=e,this.dir=t}}function wCe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{}class bn extends Z3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new SCe(e,t,r):t==="array-contains"?new OCe(e,r):t==="in"?new ICe(e,r):t==="not-in"?new PCe(e,r):t==="array-contains-any"?new xCe(e,r):new bn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CCe(e,r):new TCe(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yc(t,this.value)):t!==null&&Jl(this.value)===Jl(t)&&this.matchesComparison(Yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Z3{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new li(e,t)}matches(e){return J3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function J3(n){return n.op==="and"}function e4(n){return ECe(n)&&J3(n)}function ECe(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}function YS(n){if(n instanceof bn)return n.field.canonicalString()+n.op.toString()+qc(n.value);if(e4(n))return n.filters.map(e=>YS(e)).join(",");{const e=n.filters.map(t=>YS(t)).join(",");return`${n.op}(${e})`}}function t4(n,e){return n instanceof bn?function(r,s){return s instanceof bn&&r.op===s.op&&r.field.isEqual(s.field)&&Xi(r.value,s.value)}(n,e):n instanceof li?function(r,s){return s instanceof li&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,o)=>i&&t4(a,s.filters[o]),!0):!1}(n,e):void ye()}function n4(n){return n instanceof bn?function(t){return`${t.field.canonicalString()} ${t.op} ${qc(t.value)}`}(n):n instanceof li?function(t){return t.op.toString()+" {"+t.getFilters().map(n4).join(" ,")+"}"}(n):"Filter"}class SCe extends bn{constructor(e,t,r){super(e,t,r),this.key=ce.fromName(r.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class CCe extends bn{constructor(e,t){super(e,"in",t),this.keys=r4("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TCe extends bn{constructor(e,t){super(e,"not-in",t),this.keys=r4("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function r4(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ce.fromName(r.referenceValue))}class OCe extends bn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return PO(t)&&Uf(t.arrayValue,this.value)}}class ICe extends bn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Uf(this.value.arrayValue,t)}}class PCe extends bn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Uf(this.value.arrayValue,t)}}class xCe extends bn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!PO(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Uf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RCe{constructor(e,t=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.ce=null}}function ID(n,e=null,t=[],r=[],s=null,i=null,a=null){return new RCe(n,e,t,r,s,i,a)}function xO(n){const e=Ie(n);if(e.ce===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>YS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),M_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qc(r)).join(",")),e.ce=t}return e.ce}function RO(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wCe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!t4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OD(n.startAt,e.startAt)&&OD(n.endAt,e.endAt)}function qS(n){return ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t=null,r=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function ACe(n,e,t,r,s,i,a,o){return new Id(n,e,t,r,s,i,a,o)}function AO(n){return new Id(n)}function PD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function s4(n){return n.collectionGroup!==null}function jh(n){const e=Ie(n);if(e.le===null){e.le=[];const t=new Set;for(const i of e.explicitOrderBy)e.le.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Qn(Gn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.le.push(new Bf(i,r))}),t.has(Gn.keyField().canonicalString())||e.le.push(new Bf(Gn.keyField(),r))}return e.le}function Wi(n){const e=Ie(n);return e.he||(e.he=DCe(e,jh(n))),e.he}function DCe(n,e){if(n.limitType==="F")return ID(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bf(s.field,i)});const t=n.endAt?new Ky(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ky(n.startAt.position,n.startAt.inclusive):null;return ID(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function XS(n,e){const t=n.filters.concat([e]);return new Id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function QS(n,e,t){return new Id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function F_(n,e){return RO(Wi(n),Wi(e))&&n.limitType===e.limitType}function i4(n){return`${xO(Wi(n))}|lt:${n.limitType}`}function ju(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>n4(s)).join(", ")}]`),M_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>qc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>qc(s)).join(",")),`Target(${r})`}(Wi(n))}; limitType=${n.limitType})`}function j_(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of jh(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(a,o,l){const u=TD(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,jh(r),s)||r.endAt&&!function(a,o,l){const u=TD(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,jh(r),s))}(n,e)}function kCe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function a4(n){return(e,t)=>{let r=!1;for(const s of jh(n)){const i=NCe(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function NCe(n,e,t){const r=n.field.isKeyField()?ce.comparator(e.key,t.key):function(i,a,o){const l=a.data.field(i),u=o.data.field(i);return l!==null&&u!==null?Yc(l,u):ye()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yu(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return q3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ce=new Gt(ce.comparator);function $a(){return $Ce}const o4=new Gt(ce.comparator);function gh(...n){let e=o4;for(const t of n)e=e.insert(t.key,t);return e}function l4(n){let e=o4;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function El(){return Vh()}function u4(){return Vh()}function Vh(){return new Pd(n=>n.toString(),(n,e)=>n.isEqual(e))}const LCe=new Gt(ce.comparator),MCe=new Qn(ce.comparator);function $e(...n){let e=MCe;for(const t of n)e=e.add(t);return e}const FCe=new Qn(st);function jCe(){return FCe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zy(e)?"-0":e}}function d4(n){return{integerValue:""+n}}function VCe(n,e){return yCe(e)?d4(e):c4(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this._=void 0}}function UCe(n,e,t){return n instanceof Hf?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&OO(i)&&(i=IO(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof zf?f4(n,e):n instanceof Kf?p4(n,e):function(s,i){const a=h4(s,i),o=xD(a)+xD(s.Ie);return GS(a)&&GS(s.Ie)?d4(o):c4(s.serializer,o)}(n,e)}function BCe(n,e,t){return n instanceof zf?f4(n,e):n instanceof Kf?p4(n,e):t}function h4(n,e){return n instanceof Wy?function(r){return GS(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Hf extends V_{}class zf extends V_{constructor(e){super(),this.elements=e}}function f4(n,e){const t=g4(e);for(const r of n.elements)t.some(s=>Xi(s,r))||t.push(r);return{arrayValue:{values:t}}}class Kf extends V_{constructor(e){super(),this.elements=e}}function p4(n,e){let t=g4(e);for(const r of n.elements)t=t.filter(s=>!Xi(s,r));return{arrayValue:{values:t}}}class Wy extends V_{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function xD(n){return yn(n.integerValue||n.doubleValue)}function g4(n){return PO(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HCe{constructor(e,t){this.field=e,this.transform=t}}function zCe(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof zf&&s instanceof zf||r instanceof Kf&&s instanceof Kf?Gc(r.elements,s.elements,Xi):r instanceof Wy&&s instanceof Wy?Xi(r.Ie,s.Ie):r instanceof Hf&&s instanceof Hf}(n.transform,e.transform)}class KCe{constructor(e,t){this.version=e,this.transformResults=t}}class ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Em(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class U_{}function m4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new DO(n.key,ti.none()):new Wp(n.key,n.data,ti.none());{const t=n.data,r=Br.empty();let s=new Qn(Gn.comparator);for(let i of e.fields)if(!s.has(i)){let a=t.field(i);a===null&&i.length>1&&(i=i.popLast(),a=t.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new qo(n.key,r,new rs(s.toArray()),ti.none())}}function WCe(n,e,t){n instanceof Wp?function(s,i,a){const o=s.value.clone(),l=AD(s.fieldTransforms,i,a.transformResults);o.setAll(l),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof qo?function(s,i,a){if(!Em(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=AD(s.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(y4(s)),l.setAll(o),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Uh(n,e,t,r){return n instanceof Wp?function(i,a,o,l){if(!Em(i.precondition,a))return o;const u=i.value.clone(),d=DD(i.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof qo?function(i,a,o,l){if(!Em(i.precondition,a))return o;const u=DD(i.fieldTransforms,l,a),d=a.data;return d.setAll(y4(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(i,a,o){return Em(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function GCe(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=h4(r.transform,s||null);i!=null&&(t===null&&(t=Br.empty()),t.set(r.field,i))}return t||null}function RD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Gc(r,s,(i,a)=>zCe(i,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wp extends U_{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qo extends U_{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function y4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function AD(n,e,t){const r=new Map;Ct(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,BCe(a,o,t[s]))}return r}function DD(n,e,t){const r=new Map;for(const s of n){const i=s.transform,a=t.data.field(s.field);r.set(s.field,UCe(i,a,e))}return r}class DO extends U_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YCe extends U_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qCe{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&WCe(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Uh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Uh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=u4();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(s.key)?null:o;const l=m4(a,o);l!==null&&r.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&Gc(this.mutations,e.mutations,(t,r)=>RD(t,r))&&Gc(this.baseMutations,e.baseMutations,(t,r)=>RD(t,r))}}class kO{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ct(e.mutations.length===r.length);let s=function(){return LCe}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new kO(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XCe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QCe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,He;function ZCe(n){switch(n){default:return ye();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function v4(n){if(n===void 0)return Na("GRPC error has no .code"),U.UNKNOWN;switch(n){case mn.OK:return U.OK;case mn.CANCELLED:return U.CANCELLED;case mn.UNKNOWN:return U.UNKNOWN;case mn.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case mn.INTERNAL:return U.INTERNAL;case mn.UNAVAILABLE:return U.UNAVAILABLE;case mn.UNAUTHENTICATED:return U.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case mn.NOT_FOUND:return U.NOT_FOUND;case mn.ALREADY_EXISTS:return U.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return U.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case mn.ABORTED:return U.ABORTED;case mn.OUT_OF_RANGE:return U.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return U.UNIMPLEMENTED;case mn.DATA_LOSS:return U.DATA_LOSS;default:return ye()}}(He=mn||(mn={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JCe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1e=new Cc([4294967295,4294967295],0);function kD(n){const e=JCe().encode(n),t=new nCe;return t.update(e),new Uint8Array(t.digest())}function ND(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Cc([t,r],0),new Cc([s,i],0)]}class NO{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mh(`Invalid padding: ${t}`);if(r<0)throw new mh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new mh(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Cc.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(Cc.fromNumber(r)));return s.compare(e1e)===1&&(s=new Cc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=kD(e),[r,s]=ND(t);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);if(!this.Ae(a))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new NO(i,s,t);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Te===0)return;const t=kD(e),[r,s]=ND(t);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);this.Re(a)}}Re(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Gp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new B_(be.min(),s,new Gt(st),$a(),$e())}}class Gp{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gp(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t,r,s){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=s}}class _4{constructor(e,t){this.targetId=e,this.fe=t}}class b4{constructor(e,t,r=br.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class $D{constructor(){this.ge=0,this.pe=MD(),this.ye=br.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=$e(),t=$e(),r=$e();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ye()}}),new Gp(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=MD()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ct(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class t1e{constructor(e){this.Le=e,this.ke=new Map,this.qe=$a(),this.Qe=LD(),this.Ke=new Gt(st)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:ye()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.fe.count,s=this.Ye(t);if(s){const i=s.target;if(qS(i))if(r===0){const a=new ce(i.path);this.We(t,a,dr.newNoDocument(a,be.min()))}else Ct(r===1);else{const a=this.Ze(t);if(a!==r){const o=this.Xe(e),l=o?this.et(o,e,a):1;if(l!==0){this.He(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,u)}}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let a,o;try{a=Zl(r).toUint8Array()}catch(l){if(l instanceof X3)return Wc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new NO(a,s,i)}catch(l){return Wc(l instanceof mh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Te===0?null:o}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const a=this.Le.nt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.We(t,i,null),s++)}),s}it(e){const t=new Map;this.ke.forEach((i,a)=>{const o=this.Ye(a);if(o){if(i.current&&qS(o.target)){const l=new ce(o.target.path);this.qe.get(l)!==null||this.st(a,l)||this.We(a,l,dr.newNoDocument(l,e))}i.De&&(t.set(a,i.ve()),i.Fe())}});let r=$e();this.Qe.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.qe.forEach((i,a)=>a.setReadTime(e));const s=new B_(e,t,this.Ke,this.qe,r);return this.qe=$a(),this.Qe=LD(),this.Ke=new Gt(st),s}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,t)?s.Me(t,1):s.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new $D,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Qn(st),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new $D),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function LD(){return new Gt(ce.comparator)}function MD(){return new Gt(ce.comparator)}const n1e={asc:"ASCENDING",desc:"DESCENDING"},r1e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s1e={and:"AND",or:"OR"};class i1e{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ZS(n,e){return n.useProto3Json||M_(e)?e:{value:e}}function Gy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a1e(n,e){return Gy(n,e.toTimestamp())}function Gi(n){return Ct(!!n),be.fromTimestamp(function(t){const r=Lo(t);return new Pn(r.seconds,r.nanos)}(n))}function $O(n,e){return function(r){return new Dt(["projects",r.projectId,"databases",r.database])}(n).child("documents").child(e).canonicalString()}function E4(n){const e=Dt.fromString(n);return Ct(O4(e)),e}function JS(n,e){return $O(n.databaseId,e.path)}function B0(n,e){const t=E4(e);if(t.get(1)!==n.databaseId.projectId)throw new ne(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ne(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(S4(t))}function eC(n,e){return $O(n.databaseId,e)}function o1e(n){const e=E4(n);return e.length===4?Dt.emptyPath():S4(e)}function tC(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function S4(n){return Ct(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function FD(n,e,t){return{name:JS(n,e),fields:t.value.mapValue.fields}}function l1e(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ct(d===void 0||typeof d=="string"),br.fromBase64String(d||"")):(Ct(d===void 0||d instanceof Uint8Array),br.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?U.UNKNOWN:v4(u.code);return new ne(d,u.message||"")}(a);t=new b4(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=B0(n,r.document.name),i=Gi(r.document.updateTime),a=r.document.createTime?Gi(r.document.createTime):be.min(),o=new Br({mapValue:{fields:r.document.fields}}),l=dr.newFoundDocument(s,i,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Sm(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=B0(n,r.document),i=r.readTime?Gi(r.readTime):be.min(),a=dr.newNoDocument(s,i),o=r.removedTargetIds||[];t=new Sm([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=B0(n,r.document),i=r.removedTargetIds||[];t=new Sm([],i,s,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new QCe(s,i),o=r.targetId;t=new _4(o,a)}}return t}function u1e(n,e){let t;if(e instanceof Wp)t={update:FD(n,e.key,e.value)};else if(e instanceof DO)t={delete:JS(n,e.key)};else if(e instanceof qo)t={update:FD(n,e.key,e.data),updateMask:v1e(e.fieldMask)};else{if(!(e instanceof YCe))return ye();t={verify:JS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const o=a.transform;if(o instanceof Hf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof zf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Kf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wy)return{fieldPath:a.field.canonicalString(),increment:o.Ie};throw ye()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:a1e(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ye()}(n,e.precondition)),t}function c1e(n,e){return n&&n.length>0?(Ct(e!==void 0),n.map(t=>function(s,i){let a=s.updateTime?Gi(s.updateTime):Gi(i);return a.isEqual(be.min())&&(a=Gi(i)),new KCe(a,s.transformResults||[])}(t,e))):[]}function d1e(n,e){return{documents:[eC(n,e.path)]}}function h1e(n,e){const t={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(t.parent=eC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=eC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return T4(li.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Vu(h.field),direction:g1e(h.dir)}}(u))}(e.orderBy);i&&(t.structuredQuery.orderBy=i);const a=ZS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t}function f1e(n){let e=o1e(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ct(r===1);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];t.where&&(i=function(h){const f=C4(h);return f instanceof li&&e4(f)?f.getFilters():[f]}(t.where));let a=[];t.orderBy&&(a=function(h){return h.map(f=>function(_){return new Bf(Uu(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(t.orderBy));let o=null;t.limit&&(o=function(h){let f;return f=typeof h=="object"?h.value:h,M_(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Ky(p,f)}(t.startAt));let u=null;return t.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Ky(p,f)}(t.endAt)),ACe(e,s,a,i,o,"F",l,u)}function p1e(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function C4(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Uu(t.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Uu(t.unaryFilter.field);return bn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Uu(t.unaryFilter.field);return bn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Uu(t.unaryFilter.field);return bn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(n):n.fieldFilter!==void 0?function(t){return bn.create(Uu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return li.create(t.compositeFilter.filters.map(r=>C4(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye()}}(t.compositeFilter.op))}(n):ye()}function g1e(n){return n1e[n]}function m1e(n){return r1e[n]}function y1e(n){return s1e[n]}function Vu(n){return{fieldPath:n.canonicalString()}}function Uu(n){return Gn.fromServerFormat(n.fieldPath)}function T4(n){return n instanceof bn?function(t){if(t.op==="=="){if(CD(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NAN"}};if(SD(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CD(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NAN"}};if(SD(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(t.field),op:m1e(t.op),value:t.value}}}(n):n instanceof li?function(t){const r=t.getFilters().map(s=>T4(s));return r.length===1?r[0]:{compositeFilter:{op:y1e(t.op),filters:r}}}(n):ye()}function v1e(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function O4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,t,r,s,i=be.min(),a=be.min(),o=br.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1e{constructor(e){this.ut=e}}function b1e(n){const e=f1e({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?QS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1e{constructor(){this.on=new E1e}addToCollectionParentIndex(e,t){return this.on.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve($o.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve($o.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class E1e{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Qn(Dt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Xc(0)}static Nn(){return new Xc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1e{constructor(){this.changes=new Pd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1e{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1e{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Uh(r.mutation,s,rs.empty(),Pn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$e()){const s=El();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let a=gh();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=El();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$e()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,r,s){let i=$a();const a=Vh(),o=function(){return Vh()}();return t.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof qo)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Uh(d.mutation,u,d.mutation.getFieldMask(),Pn.now())):a.set(u.key,rs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>a.set(u,d)),t.forEach((u,d)=>{var h;return o.set(u,new C1e(d,(h=a.get(u))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,t){const r=Vh();let s=new Gt((a,o)=>a-o),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let d=r.get(l)||rs.empty();d=o.applyToLocalView(u,d),r.set(l,d);const h=(s.get(o.batchId)||$e()).add(l);s=s.insert(o.batchId,h)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,h=u4();d.forEach(f=>{if(!i.has(f)){const p=m4(t.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return H.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(a){return ce.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):s4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):H.resolve(El());let o=-1,l=i;return a.next(u=>H.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,$e())).next(d=>({batchId:o,changes:l4(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(r=>{let s=gh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let a=gh();return this.indexManager.getCollectionParents(e,i).next(o=>H.forEach(o,l=>{const u=function(h,f){return new Id(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(a=>{i.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,dr.newInvalidDocument(d)))});let o=gh();return a.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Uh(d.mutation,u,rs.empty(),Pn.now()),j_(t,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1e{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return H.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Gi(s.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(s){return{name:s.name,query:b1e(s.bundledQuery),readTime:Gi(s.readTime)}}(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1e{constructor(){this.overlays=new Gt(ce.comparator),this.lr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const r=El();return H.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.lt(e,t,i)}),H.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){const s=El(),i=t.length+1,a=new ce(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Gt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=El(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=El(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=s)););return H.resolve(o)}lt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new XCe(t,r));let i=this.lr.get(t);i===void 0&&(i=$e(),this.lr.set(t,i)),this.lr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.hr=new Qn(An.Pr),this.Ir=new Qn(An.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new An(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new An(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new ce(new Dt([])),r=new An(t,e),s=new An(t,e+1),i=[];return this.Ir.forEachInRange([r,s],a=>{this.dr(a),i.push(a.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ce(new Dt([])),r=new An(t,e),s=new An(t,e+1);let i=$e();return this.Ir.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const t=new An(e,0),r=this.hr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class An{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ce.comparator(e.key,t.key)||st(e.gr,t.gr)}static Tr(e,t){return st(e.gr,t.gr)||ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1e{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Qn(An.Pr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new qCe(i,t,r,s);this.mutationQueue.push(a);for(const o of s)this.yr=this.yr.add(new An(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return H.resolve(a)}lookupMutationBatch(e,t){return H.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Sr(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new An(t,0),s=new An(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],a=>{const o=this.wr(a.gr);i.push(o)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(st);return t.forEach(s=>{const i=new An(s,0),a=new An(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,a],o=>{r=r.add(o.gr)})}),H.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;ce.isDocumentKey(i)||(i=i.child(""));const a=new An(new ce(i),0);let o=new Qn(st);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(o=o.add(l.gr)),!0)},a),H.resolve(this.br(o))}br(e){const t=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ct(this.Dr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return H.forEach(t.mutations,s=>{const i=new An(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new An(t,0),s=this.yr.firstAfterOrEqual(r);return H.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1e{constructor(e){this.Cr=e,this.docs=function(){return new Gt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,a=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=$a();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dr.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=$a();const a=t.path,o=new ce(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||pCe(fCe(d),r)<=0||(s.has(d.key)||j_(t,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,t,r,s){ye()}vr(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new R1e(this)}getSize(e){return H.resolve(this.size)}}class R1e extends S1e{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1e{constructor(e){this.persistence=e,this.Fr=new Pd(t=>xO(t),RO),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Mr=0,this.Or=new LO,this.targetCount=0,this.Nr=Xc.On()}forEachTarget(e,t){return this.Fr.forEach((r,s)=>t(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),H.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Xc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.kn(t),H.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Fr.forEach((a,o)=>{o.sequenceNumber<=t&&r.get(o.targetId)===null&&(this.Fr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.Or.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1e{constructor(e,t){this.Br={},this.overlays={},this.Lr=new TO(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new A1e(this),this.indexManager=new w1e,this.remoteDocumentCache=function(s){return new x1e(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new _1e(t),this.Kr=new O1e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I1e,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new P1e(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){oe("MemoryPersistence","Starting transaction:",e);const s=new k1e(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,t){return H.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class k1e extends mCe{constructor(e){super(),this.currentSequenceNumber=e}}class MO{constructor(e){this.persistence=e,this.Gr=new LO,this.zr=null}static jr(e){return new MO(e)}get Hr(){if(this.zr)return this.zr;throw ye()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),H.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Hr,r=>{const s=ce.fromPath(r);return this.Jr(e,s).next(i=>{i||t.removeEntry(s,be.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return H.or([()=>H.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=s}static Qi(e,t){let r=$e(),s=$e();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new FO(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1e{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.zi(e,t).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ji(e,t,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new N1e;return this.Hi(e,t,a).next(o=>{if(i.result=o,this.$i)return this.Ji(e,t,a,o.size)})}).next(()=>i.result)}Ji(e,t,r,s){return r.documentReadCount<this.Ui?(Zd()<=Be.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ju(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),H.resolve()):(Zd()<=Be.DEBUG&&oe("QueryEngine","Query:",ju(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Zd()<=Be.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ju(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(t))):H.resolve())}zi(e,t){if(PD(t))return H.resolve(null);let r=Wi(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=QS(t,null,"F"),r=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=$e(...i);return this.Gi.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(t,o);return this.Zi(t,u,a,l.readTime)?this.zi(e,QS(t,null,"F")):this.Xi(e,u,t,l)}))})))}ji(e,t,r,s){return PD(t)||s.isEqual(be.min())?H.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const a=this.Yi(t,i);return this.Zi(t,a,r,s)?H.resolve(null):(Zd()<=Be.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ju(t)),this.Xi(e,a,t,hCe(s,-1)).next(o=>o))})}Yi(e,t){let r=new Qn(a4(e));return t.forEach((s,i)=>{j_(e,i)&&(r=r.add(i))}),r}Zi(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,t,r){return Zd()<=Be.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ju(t)),this.Gi.getDocumentsMatchingQuery(e,t,$o.min(),r)}Xi(e,t,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1e{constructor(e,t,r,s){this.persistence=e,this.es=t,this.serializer=s,this.ts=new Gt(st),this.ns=new Pd(i=>xO(i),RO),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T1e(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function M1e(n,e,t,r){return new L1e(n,e,t,r)}async function I4(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let l=$e();for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:a,addedBatchIds:o}))})})}function F1e(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.ss.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const h=u.batch,f=h.keys();let p=H.resolve();return f.forEach(_=>{p=p.next(()=>d.getEntry(l,_)).next(y=>{const v=u.docVersions.get(_);Ct(v!==null),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=$e();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function P4(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function j1e(n,e){const t=Ie(n),r=e.snapshotVersion;let s=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=t.ss.newChangeBuffer({trackRemovals:!0});s=t.ts;const o=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;o.push(t.qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>t.qr.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(br.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(y,v,m){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,d)&&o.push(t.qr.updateTargetData(i,p))});let l=$a(),u=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(i,d))}),o.push(V1e(i,a,e.documentUpdates).next(d=>{l=d.us,u=d.cs})),!r.isEqual(be.min())){const d=t.qr.getLastRemoteSnapshotVersion(i).next(h=>t.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(d)}return H.waitFor(o).next(()=>a.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(t.ts=s,i))}function V1e(n,e,t){let r=$e(),s=$e();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=$a();return t.forEach((o,l)=>{const u=i.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):oe("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{us:a,cs:s}})}function U1e(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B1e(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.qr.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):t.qr.allocateTargetId(r).next(a=>(s=new mo(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}async function nC(n,e,t){const r=Ie(n),s=r.ts.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Kp(a))throw a;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function jD(n,e,t){const r=Ie(n);let s=be.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const h=Ie(l),f=h.ns.get(d);return f!==void 0?H.resolve(h.ts.get(f)):h.qr.getTargetData(u,d)}(r,a,Wi(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(a,e,t?s:be.min(),t?i:$e())).next(o=>(H1e(r,kCe(e),o),{documents:o,ls:i})))}function H1e(n,e,t){let r=n.rs.get(e)||be.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.rs.set(e,r)}class VD{constructor(){this.activeTargetIds=jCe()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z1e{constructor(){this.eo=new VD,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new VD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1e{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg=null;function H0(){return Bg===null?Bg=function(){return 268435456+Math.round(2147483648*Math.random())}():Bg++,"0x"+Bg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1e{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection";class Y1e extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(t,r,s,i,a){const o=H0(),l=this.So(t,r);oe("RestConnection",`Sending RPC '${t}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,i,a),this.Do(t,l,u,s).then(d=>(oe("RestConnection",`Received RPC '${t}' ${o}: `,d),d),d=>{throw Wc("RestConnection",`RPC '${t}' ${o} failed with error: `,d,"url: ",l,"request:",s),d})}Co(t,r,s,i,a,o){return this.wo(t,r,s,i,a)}bo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Od}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),s&&s.headers.forEach((i,a)=>t[a]=i)}So(t,r){const s=W1e[t];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,s){const i=H0();return new Promise((a,o)=>{const l=new tCe;l.setWithCredentials(!0),l.listenOnce(JSe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case U0.NO_ERROR:const d=l.getResponseJson();oe(ar,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),a(d);break;case U0.TIMEOUT:oe(ar,`RPC '${e}' ${i} timed out`),o(new ne(U.DEADLINE_EXCEEDED,"Request time out"));break;case U0.HTTP_ERROR:const h=l.getStatus();if(oe(ar,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const _=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(m)>=0?m:U.UNKNOWN}(p.status);o(new ne(_,p.message))}else o(new ne(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new ne(U.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{oe(ar,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);oe(ar,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",u,r,15)})}vo(e,t,r){const s=H0(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=QSe(),o=ZSe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=i.join("");oe(ar,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=a.createWebChannel(d,l);let f=!1,p=!1;const _=new G1e({co:v=>{p?oe(ar,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(oe(ar,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),oe(ar,`RPC '${e}' stream ${s} sending:`,v),h.send(v))},lo:()=>h.close()}),y=(v,m,w)=>{v.listen(m,b=>{try{w(b)}catch(E){setTimeout(()=>{throw E},0)}})};return y(h,jg.EventType.OPEN,()=>{p||oe(ar,`RPC '${e}' stream ${s} transport opened.`)}),y(h,jg.EventType.CLOSE,()=>{p||(p=!0,oe(ar,`RPC '${e}' stream ${s} transport closed`),_.Ro())}),y(h,jg.EventType.ERROR,v=>{p||(p=!0,Wc(ar,`RPC '${e}' stream ${s} transport errored:`,v),_.Ro(new ne(U.UNAVAILABLE,"The operation could not be completed")))}),y(h,jg.EventType.MESSAGE,v=>{var m;if(!p){const w=v.data[0];Ct(!!w);const b=w,E=b.error||((m=b[0])===null||m===void 0?void 0:m.error);if(E){oe(ar,`RPC '${e}' stream ${s} received error:`,E);const S=E.status;let C=function(P){const x=mn[P];if(x!==void 0)return v4(x)}(S),O=E.message;C===void 0&&(C=U.INTERNAL,O="Unknown error status: "+S+" with message "+E.message),p=!0,_.Ro(new ne(C,O)),h.close()}else oe(ar,`RPC '${e}' stream ${s} received:`,w),_.Vo(w)}}),y(o,eCe.STAT_EVENT,v=>{v.stat===yD.PROXY?oe(ar,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===yD.NOPROXY&&oe(ar,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function z0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n){return new i1e(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,t-r);s>0&&oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t,r,s,i,a,o,l){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new x4(e,t)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Na(t.toString()),Na("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===t&&this.s_(r,s)},r=>{e(()=>{const s=new ne(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q1e extends R4{constructor(e,t,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=l1e(this.serializer,e),r=function(i){if(!("targetChange"in i))return be.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?be.min():a.readTime?Gi(a.readTime):be.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=tC(this.serializer),t.addTarget=function(i,a){let o;const l=a.target;if(o=qS(l)?{documents:d1e(i,l)}:{query:h1e(i,l)},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=w4(i,a.resumeToken);const u=ZS(i,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(be.min())>0){o.readTime=Gy(i,a.snapshotVersion.toTimestamp());const u=ZS(i,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=p1e(this.serializer,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=tC(this.serializer),t.removeTarget=e,this.e_(t)}}class X1e extends R4{constructor(e,t,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=c1e(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.I_(r,t)}return Ct(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=tC(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>u1e(this.serializer,r))};this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1e extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new ne(U.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,t,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(U.UNKNOWN,s.toString())})}Co(e,t,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Co(e,t,r,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(U.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class Z1e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Na(t),this.f_=!1):oe("OnlineStateTracker",t)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1e{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(a=>{r.enqueueAndForget(async()=>{vu(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ie(l);u.C_.add(4),await Yp(u),u.M_.set("Unknown"),u.C_.delete(4),await z_(u)}(this))})}),this.M_=new Z1e(r,s)}}async function z_(n){if(vu(n))for(const e of n.v_)await e(!0)}async function Yp(n){for(const e of n.v_)await e(!1)}function A4(n,e){const t=Ie(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),UO(t)?VO(t):xd(t).Ho()&&jO(t,e))}function D4(n,e){const t=Ie(n),r=xd(t);t.D_.delete(e),r.Ho()&&k4(t,e),t.D_.size===0&&(r.Ho()?r.Zo():vu(t)&&t.M_.set("Unknown"))}function jO(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xd(n).u_(e)}function k4(n,e){n.x_.Oe(e),xd(n).c_(e)}function VO(n){n.x_=new t1e({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),xd(n).start(),n.M_.g_()}function UO(n){return vu(n)&&!xd(n).jo()&&n.D_.size>0}function vu(n){return Ie(n).C_.size===0}function N4(n){n.x_=void 0}async function eTe(n){n.D_.forEach((e,t)=>{jO(n,e)})}async function tTe(n,e){N4(n),UO(n)?(n.M_.w_(e),VO(n)):n.M_.set("Unknown")}async function nTe(n,e,t){if(n.M_.set("Online"),e instanceof b4&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.D_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.D_.delete(o),s.x_.removeTarget(o))}(n,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yy(n,r)}else if(e instanceof Sm?n.x_.$e(e):e instanceof _4?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(be.min()))try{const r=await P4(n.localStore);t.compareTo(r)>=0&&await function(i,a){const o=i.x_.it(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.D_.get(u);d&&i.D_.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=i.D_.get(l);if(!d)return;i.D_.set(l,d.withResumeToken(br.EMPTY_BYTE_STRING,d.snapshotVersion)),k4(i,l);const h=new mo(d.target,l,u,d.sequenceNumber);jO(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await Yy(n,r)}}async function Yy(n,e,t){if(!Kp(e))throw e;n.C_.add(1),await Yp(n),n.M_.set("Offline"),t||(t=()=>P4(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await t(),n.C_.delete(1),await z_(n)})}function $4(n,e){return e().catch(t=>Yy(n,t,e))}async function K_(n){const e=Ie(n),t=Mo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;rTe(e);)try{const s=await U1e(e.localStore,r);if(s===null){e.b_.length===0&&t.Zo();break}r=s.batchId,sTe(e,s)}catch(s){await Yy(e,s)}L4(e)&&M4(e)}function rTe(n){return vu(n)&&n.b_.length<10}function sTe(n,e){n.b_.push(e);const t=Mo(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function L4(n){return vu(n)&&!Mo(n).jo()&&n.b_.length>0}function M4(n){Mo(n).start()}async function iTe(n){Mo(n).E_()}async function aTe(n){const e=Mo(n);for(const t of n.b_)e.P_(t.mutations)}async function oTe(n,e,t){const r=n.b_.shift(),s=kO.from(r,e,t);await $4(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await K_(n)}async function lTe(n,e){e&&Mo(n).h_&&await async function(r,s){if(function(a){return ZCe(a)&&a!==U.ABORTED}(s.code)){const i=r.b_.shift();Mo(r).Yo(),await $4(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await K_(r)}}(n,e),L4(n)&&M4(n)}async function BD(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=vu(t);t.C_.add(3),await Yp(t),r&&t.M_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),await z_(t)}async function uTe(n,e){const t=Ie(n);e?(t.C_.delete(2),await z_(t)):e||(t.C_.add(2),await Yp(t),t.M_.set("Unknown"))}function xd(n){return n.O_||(n.O_=function(t,r,s){const i=Ie(t);return i.A_(),new q1e(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{ho:eTe.bind(null,n),Io:tTe.bind(null,n),a_:nTe.bind(null,n)}),n.v_.push(async e=>{e?(n.O_.Yo(),UO(n)?VO(n):n.M_.set("Unknown")):(await n.O_.stop(),N4(n))})),n.O_}function Mo(n){return n.N_||(n.N_=function(t,r,s){const i=Ie(t);return i.A_(),new X1e(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{ho:iTe.bind(null,n),Io:lTe.bind(null,n),T_:aTe.bind(null,n),I_:oTe.bind(null,n)}),n.v_.push(async e=>{e?(n.N_.Yo(),await K_(n)):(await n.N_.stop(),n.b_.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))})),n.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const a=Date.now()+r,o=new BO(e,t,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function HO(n,e){if(Na("AsyncQueue",`${e}: ${n}`),Kp(n))return new ne(U.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ce.comparator(t.key,r.key):(t,r)=>ce.comparator(t.key,r.key),this.keyedMap=gh(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new Tc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.B_=new Gt(ce.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(t,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(t):e.type===1&&r.type===2?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):ye():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qc{constructor(e,t,r,s,i,a,o,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,s,i){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new Qc(e,t,Tc.emptySet(t),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cTe{constructor(){this.k_=void 0,this.listeners=[]}}class dTe{constructor(){this.queries=new Pd(e=>i4(e),F_),this.onlineState="Unknown",this.q_=new Set}}async function F4(n,e){const t=Ie(n),r=e.query;let s=!1,i=t.queries.get(r);if(i||(s=!0,i=new cTe),s)try{i.k_=await t.onListen(r)}catch(a){const o=HO(a,`Initialization of query '${ju(e.query)}' failed`);return void e.onError(o)}t.queries.set(r,i),i.listeners.push(e),e.Q_(t.onlineState),i.k_&&e.K_(i.k_)&&zO(t)}async function j4(n,e){const t=Ie(n),r=e.query;let s=!1;const i=t.queries.get(r);if(i){const a=i.listeners.indexOf(e);a>=0&&(i.listeners.splice(a,1),s=i.listeners.length===0)}if(s)return t.queries.delete(r),t.onUnlisten(r)}function hTe(n,e){const t=Ie(n);let r=!1;for(const s of e){const i=s.query,a=t.queries.get(i);if(a){for(const o of a.listeners)o.K_(s)&&(r=!0);a.k_=s}}r&&zO(t)}function fTe(n,e,t){const r=Ie(n),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(t);r.queries.delete(e)}function zO(n){n.q_.forEach(e=>{e.next()})}class V4{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Qc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const r=t!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}H_(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.key=e}}class B4{constructor(e){this.key=e}}class pTe{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=$e(),this.mutatedKeys=$e(),this._a=a4(e),this.aa=new Tc(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new HD,s=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=j_(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?_!==y&&(r.track({type:3,doc:p}),v=!0):this.ha(f,p)||(r.track({type:2,doc:p}),v=!0,(l&&this._a(p,l)>0||u&&this._a(p,u)<0)&&(o=!0)):!f&&p?(r.track({type:0,doc:p}),v=!0):f&&!p&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(o=!0)),v&&(p?(a=a.add(p),i=y?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{aa:a,la:r,Zi:o,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const a=e.la.L_();a.sort((d,h)=>function(p,_){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return y(p)-y(_)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(r),s=s!=null&&s;const o=t&&!s?this.Ia():[],l=this.oa.size===0&&this.current&&!s?1:0,u=l!==this.sa;return this.sa=l,a.length!==0||u?{snapshot:new Qc(this.query,e.aa,i,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new HD,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=$e(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new B4(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new U4(r))}),t}da(e){this.ia=e.ls,this.oa=$e();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Qc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class gTe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mTe{constructor(e){this.key=e,this.Ra=!1}}class yTe{constructor(e,t,r,s,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Va={},this.ma=new Pd(o=>i4(o),F_),this.fa=new Map,this.ga=new Set,this.pa=new Gt(ce.comparator),this.ya=new Map,this.wa=new LO,this.Sa={},this.ba=new Map,this.Da=Xc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function vTe(n,e){const t=PTe(n);let r,s;const i=t.ma.get(e);if(i)r=i.targetId,t.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const a=await B1e(t.localStore,Wi(e)),o=t.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,s=await _Te(t,e,r,o==="current",a.resumeToken),t.isPrimaryClient&&A4(t.remoteStore,a)}return s}async function _Te(n,e,t,r,s){n.va=(h,f,p)=>async function(y,v,m,w){let b=v.view.ca(m);b.Zi&&(b=await jD(y.localStore,v.query,!1).then(({documents:O})=>v.view.ca(O,b)));const E=w&&w.targetChanges.get(v.targetId),S=w&&w.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(b,y.isPrimaryClient,E,S);return KD(y,v.targetId,C.Ta),C.snapshot}(n,h,f,p);const i=await jD(n.localStore,e,!0),a=new pTe(e,i.ls),o=a.ca(i.documents),l=Gp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),u=a.applyChanges(o,n.isPrimaryClient,l);KD(n,t,u.Ta);const d=new gTe(e,t,a);return n.ma.set(e,d),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}async function bTe(n,e){const t=Ie(n),r=t.ma.get(e),s=t.fa.get(r.targetId);if(s.length>1)return t.fa.set(r.targetId,s.filter(i=>!F_(i,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||await nC(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),D4(t.remoteStore,r.targetId),rC(t,r.targetId)}).catch(zp)):(rC(t,r.targetId),await nC(t.localStore,r.targetId,!0))}async function wTe(n,e,t){const r=xTe(n);try{const s=await function(a,o){const l=Ie(a),u=Pn.now(),d=o.reduce((p,_)=>p.add(_.key),$e());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=$a(),y=$e();return l.ss.getEntries(p,d).next(v=>{_=v,_.forEach((m,w)=>{w.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(v=>{h=v;const m=[];for(const w of o){const b=GCe(w,h.get(w.key).overlayedDocument);b!=null&&m.push(new qo(w.key,b,Q3(b.value.mapValue),ti.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,o)}).next(v=>{f=v;const m=v.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,m)})}).then(()=>({batchId:f.batchId,changes:l4(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let u=a.Sa[a.currentUser.toKey()];u||(u=new Gt(st)),u=u.insert(o,l),a.Sa[a.currentUser.toKey()]=u}(r,s.batchId,t),await qp(r,s.changes),await K_(r.remoteStore)}catch(s){const i=HO(s,"Failed to persist write");t.reject(i)}}async function H4(n,e){const t=Ie(n);try{const r=await j1e(t.localStore,e);e.targetChanges.forEach((s,i)=>{const a=t.ya.get(i);a&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Ra=!0:s.modifiedDocuments.size>0?Ct(a.Ra):s.removedDocuments.size>0&&(Ct(a.Ra),a.Ra=!1))}),await qp(t,r,e)}catch(r){await zp(r)}}function zD(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ma.forEach((i,a)=>{const o=a.view.Q_(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=Ie(a);l.onlineState=o;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.listeners)f.Q_(o)&&(u=!0)}),u&&zO(l)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ETe(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.ya.get(e),i=s&&s.key;if(i){let a=new Gt(ce.comparator);a=a.insert(i,dr.newNoDocument(i,be.min()));const o=$e().add(i),l=new B_(be.min(),new Map,new Gt(st),a,o);await H4(r,l),r.pa=r.pa.remove(i),r.ya.delete(e),KO(r)}else await nC(r.localStore,e,!1).then(()=>rC(r,e,t)).catch(zp)}async function STe(n,e){const t=Ie(n),r=e.batch.batchId;try{const s=await F1e(t.localStore,e);K4(t,r,null),z4(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await qp(t,s)}catch(s){await zp(s)}}async function CTe(n,e,t){const r=Ie(n);try{const s=await function(a,o){const l=Ie(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(Ct(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);K4(r,e,t),z4(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await qp(r,s)}catch(s){await zp(s)}}function z4(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function K4(n,e,t){const r=Ie(n);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function rC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||W4(n,r)})}function W4(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);t!==null&&(D4(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),KO(n))}function KD(n,e,t){for(const r of t)r instanceof U4?(n.wa.addReference(r.key,e),TTe(n,r)):r instanceof B4?(oe("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||W4(n,r.key)):ye()}function TTe(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(oe("SyncEngine","New document in limbo: "+t),n.ga.add(r),KO(n))}function KO(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ce(Dt.fromString(e)),r=n.Da.next();n.ya.set(r,new mTe(t)),n.pa=n.pa.insert(t,r),A4(n.remoteStore,new mo(Wi(AO(t.path)),r,"TargetPurposeLimboResolution",TO._e))}}async function qp(n,e,t){const r=Ie(n),s=[],i=[],a=[];r.ma.isEmpty()||(r.ma.forEach((o,l)=>{a.push(r.va(l,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=FO.Qi(l.targetId,u);i.push(d)}}))}),await Promise.all(a),r.Va.a_(s),await async function(l,u){const d=Ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(u,f=>H.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>H.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Kp(h))throw h;oe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),_=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(_);d.ts=d.ts.insert(f,y)}}}(r.localStore,i))}async function OTe(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await I4(t.localStore,e);t.currentUser=e,function(i,a){i.ba.forEach(o=>{o.forEach(l=>{l.reject(new ne(U.CANCELLED,a))})}),i.ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qp(t,r._s)}}function ITe(n,e){const t=Ie(n),r=t.ya.get(e);if(r&&r.Ra)return $e().add(r.key);{let s=$e();const i=t.fa.get(e);if(!i)return s;for(const a of i){const o=t.ma.get(a);s=s.unionWith(o.view.ua)}return s}}function PTe(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=H4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ITe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ETe.bind(null,e),e.Va.a_=hTe.bind(null,e.eventManager),e.Va.Fa=fTe.bind(null,e.eventManager),e}function xTe(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=STe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CTe.bind(null,e),e}class WD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=H_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return M1e(this.persistence,new $1e,e.initialUser,this.serializer)}createPersistence(e){return new D1e(MO.jr,this.serializer)}createSharedClientState(e){return new z1e}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class RTe{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OTe.bind(null,this.syncEngine),await uTe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dTe}()}createDatastore(e){const t=H_(e.databaseInfo.databaseId),r=function(i){return new Y1e(i)}(e.databaseInfo);return function(i,a,o,l){return new Q1e(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,a,o){return new J1e(r,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>zD(this.syncEngine,t,0),function(){return UD.D()?new UD:new K1e}())}createSyncEngine(e,t){return function(s,i,a,o,l,u,d){const h=new yTe(s,i,a,o,l,u);return d&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(t){const r=Ie(t);oe("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Yp(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Na("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ATe{constructor(e,t,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=ur.UNAUTHENTICATED,this.clientId=Y3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{oe("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(oe("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=HO(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function K0(n,e){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=await n.getConfiguration();await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await I4(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function GD(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kTe(n);oe("FirestoreClient","Initializing OnlineComponentProvider");const r=await n.getConfiguration();await e.initialize(t,r),n.setCredentialChangeListener(s=>BD(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,i)=>BD(e.remoteStore,i)),n._onlineComponents=e}function DTe(n){return n.name==="FirebaseError"?n.code===U.FAILED_PRECONDITION||n.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function kTe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await K0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!DTe(t))throw t;Wc("Error using user provided cache. Falling back to memory cache: "+t),await K0(n,new WD)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await K0(n,new WD);return n._offlineComponents}async function Y4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await GD(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await GD(n,new RTe))),n._onlineComponents}function NTe(n){return Y4(n).then(e=>e.syncEngine)}async function q4(n){const e=await Y4(n),t=e.eventManager;return t.onListen=vTe.bind(null,e.syncEngine),t.onUnlisten=bTe.bind(null,e.syncEngine),t}function $Te(n,e,t={}){const r=new wa;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,u){const d=new G4({next:f=>{a.enqueueAndForget(()=>j4(i,h));const p=f.docs.has(o);!p&&f.fromCache?u.reject(new ne(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new ne(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new V4(AO(o.path),d,{includeMetadataChanges:!0,J_:!0});return F4(i,h)}(await q4(n),n.asyncQueue,e,t,r)),r.promise}function LTe(n,e,t={}){const r=new wa;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,u){const d=new G4({next:f=>{a.enqueueAndForget(()=>j4(i,h)),f.fromCache&&l.source==="server"?u.reject(new ne(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new V4(o,d,{includeMetadataChanges:!0,J_:!0});return F4(i,h)}(await q4(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(n,e,t){if(!t)throw new ne(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MTe(n,e,t,r){if(e===!0&&r===!0)throw new ne(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qD(n){if(!ce.isDocumentKey(n))throw new ne(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XD(n){if(ce.isDocumentKey(n))throw new ne(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function W_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye()}function La(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ne(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=W_(n);throw new ne(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MTe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ne(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ne(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ne(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class G_{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rCe;switch(r.type){case"firstParty":return new oCe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=YD.get(t);r&&(oe("ComponentProvider","Removing Datastore"),YD.delete(t),r.terminate())}(this),Promise.resolve()}}function FTe(n,e,t,r={}){var s;const i=(n=La(n,G_))._getSettings(),a=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Wc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=ur.MOCK_USER;else{o=lbe(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ne(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ur(u)}n._authCredentials=new sCe(new G3(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _u(this.firestore,e,this._query)}}class Yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class Ro extends _u{constructor(e,t,r){super(e,t,AO(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new ce(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function Y_(n,e,...t){if(n=Sn(n),Q4("collection","path",e),n instanceof G_){const r=Dt.fromString(e,...t);return XD(r),new Ro(n,null,r)}{if(!(n instanceof Yr||n instanceof Ro))throw new ne(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dt.fromString(e,...t));return XD(r),new Ro(n.firestore,null,r)}}function Rd(n,e,...t){if(n=Sn(n),arguments.length===1&&(e=Y3.newId()),Q4("doc","path",e),n instanceof G_){const r=Dt.fromString(e,...t);return qD(r),new Yr(n,null,new ce(r))}{if(!(n instanceof Yr||n instanceof Ro))throw new ne(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dt.fromString(e,...t));return qD(r),new Yr(n.firestore,n instanceof Ro?n.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jTe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new x4(this,"async_queue_retry"),this.iu=()=>{const t=z0();t&&oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=z0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=z0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new wa;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Kp(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Na("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const s=BO.createAndSchedule(this,e,t,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&ye()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Ad extends G_{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=function(){return new jTe}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z4(this),this._firestoreClient.terminate()}}function VTe(n,e){const t=typeof n=="object"?n:dV(),r=typeof n=="string"?n:"(default)",s=GT(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=abe("firestore");i&&FTe(s,...i)}return s}function WO(n){return n._firestoreClient||Z4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Z4(n){var e,t,r;const s=n._freezeSettings(),i=function(o,l,u,d){return new _Ce(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,X4(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._firestoreClient=new ATe(n._authCredentials,n._appCheckCredentials,n._queue,i),!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zc(br.fromBase64String(e))}catch(t){throw new ne(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zc(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ne(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UTe=/^__.*__$/;class BTe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wp(e,this.data,t,this.fieldTransforms)}}class J4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function e5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class YO{constructor(e,t,r,s,i,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new YO(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return qy(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(e5(this.Iu)&&UTe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class HTe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||H_(e)}pu(e,t,r,s=!1){return new YO({Iu:e,methodName:t,gu:r,path:Gn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qO(n){const e=n._freezeSettings(),t=H_(n._databaseId);return new HTe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zTe(n,e,t,r,s,i={}){const a=n.pu(i.merge||i.mergeFields?2:0,e,t,s);QO("Data must be an object, but it was:",a,r);const o=t5(r,a);let l,u;if(i.merge)l=new rs(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=sC(e,h,t);if(!a.contains(f))throw new ne(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);r5(d,f)||d.push(f)}l=new rs(d),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new BTe(new Br(o),l,u)}class Q_ extends X_{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Q_}}class XO extends X_{_toFieldTransform(e){return new HCe(e.path,new Hf)}isEqual(e){return e instanceof XO}}function KTe(n,e,t,r){const s=n.pu(1,e,t);QO("Data must be an object, but it was:",s,r);const i=[],a=Br.empty();yu(r,(l,u)=>{const d=ZO(e,l,t);u=Sn(u);const h=s.Ru(d);if(u instanceof Q_)i.push(d);else{const f=Xp(u,h);f!=null&&(i.push(d),a.set(d,f))}});const o=new rs(i);return new J4(a,o,s.fieldTransforms)}function WTe(n,e,t,r,s,i){const a=n.pu(1,e,t),o=[sC(e,r,t)],l=[s];if(i.length%2!=0)throw new ne(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)o.push(sC(e,i[f])),l.push(i[f+1]);const u=[],d=Br.empty();for(let f=o.length-1;f>=0;--f)if(!r5(u,o[f])){const p=o[f];let _=l[f];_=Sn(_);const y=a.Ru(p);if(_ instanceof Q_)u.push(p);else{const v=Xp(_,y);v!=null&&(u.push(p),d.set(p,v))}}const h=new rs(u);return new J4(d,h,a.fieldTransforms)}function GTe(n,e,t,r=!1){return Xp(t,n.pu(r?4:3,e))}function Xp(n,e){if(n5(n=Sn(n)))return QO("Unsupported field value:",e,n),t5(n,e);if(n instanceof X_)return function(r,s){if(!e5(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const o of r){let l=Xp(o,s.Vu(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VCe(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pn.fromDate(r);return{timestampValue:Gy(s.serializer,i)}}if(r instanceof Pn){const i=new Pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gy(s.serializer,i)}}if(r instanceof GO)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zc)return{bytesValue:w4(s.serializer,r._byteString)};if(r instanceof Yr){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$O(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${W_(r)}`)}(n,e)}function t5(n,e){const t={};return q3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yu(n,(r,s)=>{const i=Xp(s,e.Eu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function n5(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pn||n instanceof GO||n instanceof Zc||n instanceof Yr||n instanceof X_)}function QO(n,e,t){if(!n5(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=W_(t);throw r==="an object"?e.mu(n+" a custom object"):e.mu(n+" "+r)}}function sC(n,e,t){if((e=Sn(e))instanceof q_)return e._internalPath;if(typeof e=="string")return ZO(n,e);throw qy("Field path arguments must be of type string or ",n,!1,void 0,t)}const YTe=new RegExp("[~\\*/\\[\\]]");function ZO(n,e,t){if(e.search(YTe)>=0)throw qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new q_(...e.split("."))._internalPath}catch{throw qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qy(n,e,t,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new ne(U.INVALID_ARGUMENT,o+n+l)}function r5(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qTe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(JO("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qTe extends s5{data(){return super.data()}}function JO(n,e){return typeof e=="string"?ZO(n,e):e instanceof q_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XTe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ne(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eI{}class i5 extends eI{}function QTe(n,e,...t){let r=[];e instanceof eI&&r.push(e),r=r.concat(t),function(i){const a=i.filter(l=>l instanceof nI).length,o=i.filter(l=>l instanceof tI).length;if(a>1||a>0&&o>0)throw new ne(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class tI extends i5{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new tI(e,t,r)}_apply(e){const t=this._parse(e);return a5(e._query,t),new _u(e.firestore,e.converter,XS(e._query,t))}_parse(e){const t=qO(e.firestore);return function(i,a,o,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ne(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){JD(h,d);const p=[];for(const _ of h)p.push(ZD(l,i,_));f={arrayValue:{values:p}}}else f=ZD(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||JD(h,d),f=GTe(o,a,h,d==="in"||d==="not-in");return bn.create(u,d,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class nI extends eI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nI(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const l of o)a5(a,l),a=XS(a,l)}(e._query,t),new _u(e.firestore,e.converter,XS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rI extends i5{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rI(e,t)}_apply(e){const t=function(s,i,a){if(s.startAt!==null)throw new ne(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ne(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bf(i,a)}(e._query,this._field,this._direction);return new _u(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Id(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function ZTe(n,e="asc"){const t=e,r=JO("orderBy",n);return rI._create(r,t)}function ZD(n,e,t){if(typeof(t=Sn(t))=="string"){if(t==="")throw new ne(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s4(e)&&t.indexOf("/")!==-1)throw new ne(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Dt.fromString(t));if(!ce.isDocumentKey(r))throw new ne(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ED(n,new ce(r))}if(t instanceof Yr)return ED(n,t._key);throw new ne(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${W_(t)}.`)}function JD(n,e){if(!Array.isArray(n)||n.length===0)throw new ne(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a5(n,e){const t=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ne(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JTe{convertValue(e,t="none"){switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ye()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return yu(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertGeoPoint(e){return new GO(yn(e.latitude),yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=IO(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jf(e));default:return null}}convertTimestamp(e){const t=Lo(e);return new Pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Dt.fromString(e);Ct(O4(r));const s=new Vf(r.get(1),r.get(3)),i=new ce(r.popFirst(5));return s.isEqual(t)||Na(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eOe(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class o5 extends s5{constructor(e,t,r,s,i,a){super(e,t,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(JO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cm extends o5{data(e={}){return super.data(e)}}class tOe{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new yh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cm(this._firestore,this._userDataWriter,r.key,r,new yh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ne(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Cm(s._firestore,s._userDataWriter,o.doc.key,o.doc,new yh(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Cm(s._firestore,s._userDataWriter,o.doc.key,o.doc,new yh(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:nOe(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nOe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rOe(n){n=La(n,Yr);const e=La(n.firestore,Ad);return $Te(WO(e),n._key).then(t=>iOe(e,n,t))}class l5 extends JTe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,t)}}function u5(n){n=La(n,_u);const e=La(n.firestore,Ad),t=WO(e),r=new l5(e);return XTe(n._query),LTe(t,n._query).then(s=>new tOe(e,r,n,s))}function sI(n,e,t,...r){n=La(n,Yr);const s=La(n.firestore,Ad),i=qO(s);let a;return a=typeof(e=Sn(e))=="string"||e instanceof q_?WTe(i,"updateDoc",n._key,e,t,r):KTe(i,"updateDoc",n._key,e),iI(s,[a.toMutation(n._key,ti.exists(!0))])}function sOe(n){return iI(La(n.firestore,Ad),[new DO(n._key,ti.none())])}function c5(n,e){const t=La(n.firestore,Ad),r=Rd(n),s=eOe(n.converter,e);return iI(t,[zTe(qO(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then(()=>r)}function iI(n,e){return function(r,s){const i=new wa;return r.asyncQueue.enqueueAndForget(async()=>wTe(await NTe(r),s,i)),i.promise}(WO(n),e)}function iOe(n,e,t){const r=t.docs.get(e._key),s=new l5(n);return new o5(n,s,e._key,r,new yh(t.hasPendingWrites,t.fromCache),e.converter)}function aOe(){return new XO("serverTimestamp")}(function(e,t=!0){(function(s){Od=s})(Ed),Hc(new Gl("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new Ad(new iCe(r.getProvider("auth-internal")),new uCe(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vf(u.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xo(vD,"4.4.0",e),xo(vD,"4.4.0","esm2017")})();const oOe={apiKey:"AIzaSyB662kBup4nhIZUwUbUpiOvHO2dgknO6rc",authDomain:"dango-c161e.firebaseapp.com",projectId:"dango-c161e",storageBucket:"dango-c161e.firebasestorage.app",messagingSenderId:"837192116631",appId:"1:837192116631:web:a014f6ea1d544603547cd2"},d5=cV(oOe),Z_=qEe(d5),Va=VTe(d5),lOe=async(n,e)=>{try{return await Rwe(Z_,n,e)}catch(t){const r=t;throw console.error("Sign in error:",{code:r.code,message:r.message,name:r.name}),t}},uOe=async(n,e)=>{try{return await xwe(Z_,n,e)}catch(t){const r=t;throw console.error("Sign up error:",{code:r.code,message:r.message,name:r.name}),t}},cOe=async()=>{try{await Mwe(Z_)}catch(n){throw n}},dOe=n=>Lwe(Z_,n),hOe=async(n,e)=>{try{await Dwe(n,e)}catch(t){throw t}},iC=async n=>{try{await Awe(n)}catch(e){throw console.error("Email verification error:",e),e}};class fOe{constructor(){js(this,"user",null);js(this,"loading",!0);js(this,"error",null);f1(this),this.initAuth()}initAuth(){dOe(e=>{this.setUser(e),this.setLoading(!1)})}setUser(e){this.user=e}setLoading(e){this.loading=e}setError(e){this.error=e}async login(e,t){try{return await lOe(e,t),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async register(e,t){try{const r=await uOe(e,t);return r.user&&await iC(r.user),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async resendVerificationEmail(){try{if(!this.user)throw new Error("No user logged in");return await iC(this.user),!0}catch(e){const t=e;return this.setError(t.message),!1}}async logout(){try{return await cOe(),this.setError(null),!0}catch(e){const t=e;return this.setError(t.message),!1}}async updatePassword(e){try{if(!this.user)throw new Error("No user logged in");return await hOe(this.user,e),this.setError(null),!0}catch(t){const r=t;return this.setError(r.message),!1}}get isEmailVerified(){var e;return((e=this.user)==null?void 0:e.emailVerified)??!1}}const Ce=new fOe,h5=({stage:n,size:e=64})=>{const t=e*.5,r=70,s=2*Math.PI*r,i=n/7*s,a=s-i;return A.jsxs("div",{style:{width:e,height:e,position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center"},children:[A.jsxs("svg",{style:{width:"100%",height:"100%",transform:"rotate(-90deg)",overflow:"visible"},viewBox:"0 0 200 200",children:[A.jsx("circle",{cx:"100",cy:"100",r,stroke:"#ddd",strokeWidth:t,fill:"none"}),A.jsx("circle",{cx:"100",cy:"100",r,stroke:"#4CAF50",strokeWidth:t,fill:"none",strokeLinecap:"round",style:{strokeDasharray:s,strokeDashoffset:a,transition:"stroke-dashoffset 0.5s ease"}})]}),A.jsx("div",{style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:A.jsx("span",{style:{fontSize:e*.25,fontFamily:"Arial",color:"#333"},children:n})})]})};function pOe(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const ek={};function aC(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&ek[e[0]]||(typeof e[0]=="string"&&(ek[e[0]]=new Date),pOe(...e))}const f5=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function tk(n,e,t){n.loadNamespaces(e,f5(n,t))}function nk(n,e,t,r){typeof t=="string"&&(t=[t]),t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,f5(n,r))}function gOe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=e.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(r,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,n)&&(!s||a(i,n)))}function mOe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(aC("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,n))return!1}}):gOe(n,e,t)}const yOe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,vOe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},_Oe=n=>vOe[n],bOe=n=>n.replace(yOe,_Oe);let oC={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:bOe};function wOe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};oC={...oC,...n}}function EOe(){return oC}let p5;function SOe(n){p5=n}function COe(){return p5}const TOe={type:"3rdParty",init(n){wOe(n.options.react),SOe(n)}},OOe=T.createContext();class IOe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const POe=(n,e)=>{const t=T.useRef();return T.useEffect(()=>{t.current=n},[n,e]),t.current};function g5(n,e,t,r){return n.getFixedT(e,t,r)}function xOe(n,e,t,r){return T.useCallback(g5(n,e,t,r),[n,e,t,r])}function hi(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:r,defaultNS:s}=T.useContext(OOe)||{},i=t||r||COe();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new IOe),!i){aC("You will need to pass in an i18next instance by using initReactI18next");const E=(C,O)=>typeof O=="string"?O:O&&typeof O=="object"&&typeof O.defaultValue=="string"?O.defaultValue:Array.isArray(C)?C[C.length-1]:C,S=[E,{},!1];return S.t=E,S.i18n={},S.ready=!1,S}i.options.react&&i.options.react.wait!==void 0&&aC("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...EOe(),...i.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=s||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>mOe(E,i,a)),h=xOe(i,e.lng||null,a.nsMode==="fallback"?u:u[0],l),f=()=>h,p=()=>g5(i,e.lng||null,a.nsMode==="fallback"?u:u[0],l),[_,y]=T.useState(f);let v=u.join();e.lng&&(v=`${e.lng}${v}`);const m=POe(v),w=T.useRef(!0);T.useEffect(()=>{const{bindI18n:E,bindI18nStore:S}=a;w.current=!0,!d&&!o&&(e.lng?nk(i,e.lng,u,()=>{w.current&&y(p)}):tk(i,u,()=>{w.current&&y(p)})),d&&m&&m!==v&&w.current&&y(p);function C(){w.current&&y(p)}return E&&i&&i.on(E,C),S&&i&&i.store.on(S,C),()=>{w.current=!1,E&&i&&E.split(" ").forEach(O=>i.off(O,C)),S&&i&&S.split(" ").forEach(O=>i.store.off(O,C))}},[i,v]),T.useEffect(()=>{w.current&&d&&y(f)},[i,l,d]);const b=[_,i,d];if(b.t=_,b.i18n=i,b.ready=d,d||!d&&!o)return b;throw new Promise(E=>{e.lng?nk(i,e.lng,u,()=>E()):tk(i,u,()=>E())})}const ROe=n=>T.createElement("svg",{t:1734834395145,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":11320,...n},T.createElement("path",{d:"M512.006827 1020.59008C231.120213 1020.59008 3.413333 792.85248 3.413333 512.003413S231.120213 3.40992 512.006827 3.40992 1020.586667 231.1168 1020.586667 512.003413c0 280.89344-227.730773 508.586667-508.57984 508.586667z m278.278826-537.378133a19.13856 19.13856 0 0 0-19.135146-19.135147h-211.162454V252.914347a19.135147 19.135147 0 0 0-19.135146-19.135147H483.2256a19.135147 19.135147 0 0 0-19.13856 19.135147v211.11808H252.91776a19.135147 19.135147 0 0 0-19.135147 19.13856v57.57952a19.135147 19.135147 0 0 0 19.135147 19.135146h211.121493v211.2a19.135147 19.135147 0 0 0 19.135147 19.13856h57.57952a19.13856 19.13856 0 0 0 19.13856-19.13856v-211.101013h211.2a19.135147 19.135147 0 0 0 19.131733-19.13856l0.06144-57.634133z",fill:"currentColor","p-id":11321})),AOe=n=>T.createElement("svg",{t:1735127311755,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":1470,...n},T.createElement("path",{d:"M810.005333 554.005333l-256 0 0 256-84.010667 0 0-256-256 0 0-84.010667 256 0 0-256 84.010667 0 0 256 256 0 0 84.010667z",fill:"currentColor","p-id":1471})),DOe=n=>T.createElement("svg",{t:1735120231535,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":5109,...n},T.createElement("path",{d:"M469.333333 128a42.666667 42.666667 0 0 1 0 85.333333H213.333333v597.333334h597.333334v-256l0.298666-4.992A42.666667 42.666667 0 0 1 896 554.666667v256a85.333333 85.333333 0 0 1-85.333333 85.333333H213.333333a85.333333 85.333333 0 0 1-85.333333-85.333333V213.333333a85.333333 85.333333 0 0 1 85.333333-85.333333z m414.72 12.501333a42.666667 42.666667 0 0 1 0 60.330667L491.861333 593.066667a42.666667 42.666667 0 0 1-60.330666-60.330667l392.192-392.192a42.666667 42.666667 0 0 1 60.330666 0z",fill:"currentColor","p-id":5110})),kOe=n=>T.createElement("svg",{t:1745111861903,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":9457,...n},T.createElement("path",{d:"M69.157287 700.35703l-35.836982 155.634895c-0.511957 2.047828-1.023914 3.583698-1.535871 5.631526l-19.454362 84.984845v1.023913l-0.511957 1.535871c-8.19131 43.516336 30.205457 81.913103 73.721793 73.721793l2.047828-0.511957h0.511956l84.984845-19.454362h0.511957l163.826205-37.372853-268.265412-265.193671zM981.976428 248.299093L764.906705 31.22937c-41.468508-41.468508-110.070732-41.468508-151.53924 0L537.597845 106.998991l368.608963 368.608963 75.76962-75.76962c41.980465-41.468508 41.980465-110.070732 0-151.539241zM496.641293 147.443585l-375.264403 375.264403c-9.727181 63.482655 4.095655 105.46312 69.114181 100.343551L450.565173 371.168748l23.03806 23.03806L220.184571 639.43416c15.870664 102.903336 82.937017 143.34793 173.553387 155.634895-11.775009 71.673965 7.167397 115.702258 96.247896 96.247896l375.264402-375.264403-272.361067-272.361067L496.641293 147.443585z",fill:"currentColor","p-id":9458})),NOe=n=>T.createElement("svg",{t:1734839170370,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":14940,...n},T.createElement("path",{d:"M849.340051 799.881616c66.621327-77.68736 106.876146-178.648796 106.876146-289.01544 0-245.333568-198.88263-444.216197-444.216197-444.216197S67.783803 265.531586 67.783803 510.866177s198.88263 444.216197 444.216197 444.216197c110.366643 0 211.32808-40.254819 289.01544-106.876146l96.868211 96.868211c13.343913 13.343913 34.979676 13.343913 48.324612 0s13.343913-34.979676 0-48.324612L849.340051 799.881616zM512.313132 882.035708c-204.817806 0-370.855376-166.037571-370.855376-370.855376s166.037571-370.855376 370.855376-370.855376 370.855376 166.037571 370.855376 370.855376S717.130937 882.035708 512.313132 882.035708z",fill:"currentColor","p-id":14941})),m5=n=>T.createElement("svg",{t:1734832919596,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":10339,...n},T.createElement("path",{d:"M933.464007 512c0-59.806107 37.527708-110.542652 90.189092-130.818441-12.582573-49.328475-31.985482-95.798856-57.347103-138.479935-51.578726 22.906709-113.991194 13.570063-156.287509-28.725228-42.289152-42.295292-51.631938-104.712877-28.723182-156.289556-42.683125-25.355481-89.151459-44.757367-138.481981-57.33994-20.273742 52.661384-71.012334 90.182952-130.813325 90.182952-59.808154 0-110.546745-37.521568-130.820488-90.182952C331.84899 12.929474 285.380656 32.330336 242.697531 57.68684c22.908756 51.576679 13.566994 113.994264-28.723182 156.289556-42.297338 42.295292-104.709807 51.631938-156.287509 28.725228-25.361621 42.681078-44.757367 89.151459-57.33994 138.479935 52.661384 20.275789 90.180905 71.012334 90.180905 130.818441S53.008284 622.538559 0.346901 642.818441c12.582573 49.328475 31.985482 95.798856 57.33994 138.479935 51.578726-22.906709 113.991194-13.570063 156.287509 28.725228 42.289152 42.291199 51.631938 104.70776 28.723182 156.287509 42.683125 25.355481 89.151459 44.759413 138.481981 57.341986 20.273742-52.66343 71.012334-90.187045 130.820488-90.187045 59.799968 0 110.538559 37.523615 130.813325 90.187045 49.330522-12.582573 95.798856-31.985482 138.481981-57.341986-22.908756-51.580772-13.566994-113.996311 28.723182-156.287509 42.297338-42.295292 104.708783-51.631938 156.287509-28.725228 25.354458-42.681078 44.757367-89.151459 57.347103-138.479935C970.991716 622.538559 933.464007 571.806107 933.464007 512zM512 652.500964c-77.599356 0-140.503011-62.904679-140.503011-140.500964s62.904679-140.500964 140.503011-140.500964c77.591169 0 140.495848 62.904679 140.495848 140.500964S589.591169 652.500964 512 652.500964z",fill:"currentColor","p-id":10340})),$Oe=n=>T.createElement("svg",{t:1734832829969,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":9182,...n},T.createElement("path",{d:"M948.48 831.488l-134.464-279.744-0.064-0.064-19.392-40.32-83.136-172.864V128H729.6c17.664 0 32-14.336 32-32s-14.336-32-32-32H281.6c-17.664 0-32 14.336-32 32s14.336 32 32 32h24.576v210.496l-95.36 198.272-6.4 13.248c-0.064 0.128-0.128 0.32-0.192 0.448L69.12 831.488c-17.664 36.736-15.232 79.296 6.464 113.856 21.696 34.496 59.008 55.104 99.776 55.104h666.88c40.768 0 78.08-20.608 99.776-55.104 21.696-34.56 24.128-77.12 6.464-113.856z m-360.128-182.208c-49.216 22.4-169.152-28.48-227.84-83.968a207.84 207.84 0 0 1-10.368-10.752c-1.152-1.28-2.368-2.56-3.648-3.776-1.024-1.088-2.112-2.048-3.264-3.072-1.088-0.96-2.24-1.92-3.392-2.816-0.256-0.192-0.448-0.384-0.704-0.576-1.152-0.896-2.24-1.728-3.392-2.496-1.344-0.96-2.688-1.792-4.032-2.624-1.216-0.768-2.432-1.472-3.648-2.112-5.824-3.264-12.16-5.76-18.88-7.616-1.536-0.448-3.136-0.896-4.8-1.216-1.6-0.384-3.264-0.704-4.992-1.024a0.192 0.192 0 0 0-0.256 0c-1.472-0.32-3.072-0.576-4.608-0.768-0.32-0.064-0.64-0.064-0.96-0.128-1.408-0.192-2.88-0.32-4.416-0.448-0.192-0.064-0.448-0.064-0.704-0.064-0.448-0.064-0.832-0.128-1.28-0.128L367.04 359.68c2.048-4.352 3.136-9.088 3.136-13.888V132.352h277.248v213.44c0 4.8 1.088 9.536 3.136 13.888l95.232 197.952c-44.672 35.968-117.376 73.408-157.44 91.648z",fill:"currentColor","p-id":9183})),aI=n=>T.createElement("svg",{t:1735016617676,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4263,...n},T.createElement("path",{d:"M528.4 492.6c-10.6 10.7-10.6 28 0 38.7l239 241.3C699.2 845 602.8 890.2 495.9 890.2c-207 0-374.7-169.3-374.7-378.3 0-208.9 167.7-378.2 374.7-378.2 106.9 0 203.3 45.2 271.6 117.6L528.4 492.6z m-52.4-115c42 0 76-34.3 76-76.7 0-42.4-34-76.7-76-76.7s-76 34.4-76 76.7c0 42.4 34.1 76.7 76 76.7z m397.3 198.5c7.6 2.7 13.7 8.3 17.2 15.7 3.4 7.4 3.9 15.7 1.1 23.4-4.3 12.1-15.8 20.2-28.5 20.2-3.5 0-6.9-0.6-10.2-1.8L718.5 585c-7.6-2.7-13.7-8.3-17.2-15.7-3.4-7.4-3.9-15.7-1.1-23.4 4.3-12.1 15.8-20.3 28.5-20.3 3.5 0 6.9 0.6 10.2 1.8l134.4 48.7zM721.5 450.5c1.5-8.1 6-15 12.6-19.6l121.3-84c5.1-3.5 11-5.4 17.1-5.4 10 0 19.4 5 25 13.3 9.5 13.9 5.9 33-7.8 42.5l-121.3 83.9c-5.1 3.5-11 5.4-17.1 5.4-10 0-19.3-5-25-13.3-4.6-6.7-6.3-14.8-4.8-22.8z",fill:"currentColor","p-id":4264})),LOe=n=>T.createElement("svg",{t:1734831752503,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4061,...n},T.createElement("path",{d:"M785.171864 102.424232H136.60875q-136.517822 0-136.563803 136.563803V887.436197q0 136.517822 136.563803 136.563803h648.563114q136.517822 0 136.563803-136.563803V238.988035q0-136.517822-136.563803-136.563803z m-207.305693 697.969783l-37.336636-136.448851h-172.429045l-37.336636 136.448851H222.984206l170.129991-531.541269h125.045543l170.911669 531.541269z",fill:"currentColor","p-id":4062}),T.createElement("path",{d:"M454.981738 349.434586h-2.873817a3810.383013 3810.383013 0 0 1-45.245381 173.785487l-15.840482 58.212045h126.447966l-15.840481-58.212045c-16.415245-55.315238-30.807323-116.309138-46.647805-173.785487z",fill:"currentColor","p-id":4063}),T.createElement("path",{d:"M984.040029 40.004918A136.609785 136.609785 0 0 0 887.479764 0.001379H239.031603a136.586794 136.586794 0 0 0-136.563804 123.919007v12.644797l28.945089 28.99107h72.397208L155.690898 117.437054a85.064995 85.064995 0 0 1 83.294724-66.212753h648.448161a85.317891 85.317891 0 0 1 85.432844 85.340882v648.448161a84.674156 84.674156 0 0 1-66.212754 83.294724l-63.913699-63.844728v72.397208l44.73959 44.73959h11.93209a136.356889 136.356889 0 0 0 124.539751-136.563804V136.565183a136.081002 136.081002 0 0 0-39.888586-96.560265z",fill:"currentColor","p-id":4064})),MOe=async n=>{try{const e=Y_(Va,`users/${n}/words`);return(await u5(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching words:",e),e}},rk=async(n,e)=>{try{const t=Y_(Va,`users/${n}/words`);return(await c5(t,{...e,createdAt:aOe()})).id}catch(t){throw console.error("Error adding word:",t),t}},FOe=async(n,e)=>{try{const t=Rd(Va,`users/${n}/words/${e}`);await sOe(t)}catch(t){throw console.error("Error deleting word:",t),t}},jOe=async(n,e,t)=>{try{const r=Rd(Va,`users/${n}/words/${e}`);await sI(r,t)}catch(r){throw console.error("Error updating word:",r),r}},VOe=async(n,e)=>{try{const t=Rd(Va,`users/${n}/words/${e}`),r=await rOe(t);if(!r.exists())throw new Error("Word not found");return{id:r.id,...r.data()}}catch(t){throw console.error("Error fetching word:",t),t}},UOe=async(n,e,t)=>{const{id:r,...s}=t,i=Rd(Va,"users",n,"words",e);await sI(i,s)},lC=()=>{const n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999).getTime()},BOe=7;class HOe{constructor(){js(this,"words",[]);js(this,"loading",!1);js(this,"initialized",!1);f1(this)}get todayWords(){const e=lC();return this.words.filter(t=>t.nextReviewDate<=e).length}get completedWordsCount(){return this.words.filter(e=>e.stage===BOe).length}async loadWords(){var e;if(!(!((e=Ce.user)!=null&&e.uid)||this.loading)){this.loading=!0;try{const t=await MOe(Ce.user.uid);Ja(()=>{this.words=t,this.initialized=!0})}catch(t){console.error("Error loading words:",t)}finally{Ja(()=>{this.loading=!1})}}}updateWords(e){this.words=e}}const vn=new HOe,zOe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class Xy{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||zOe,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Xy(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Xy(this.logger,e)}}var Ni=new Xy;class J_{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(t)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&[].concat(this.observers[e]).forEach(a=>{a(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(a=>{a.apply(a,[e,...r])})}}function Jd(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t}function sk(n){return n==null?"":""+n}function KOe(n,e,t){n.forEach(r=>{e[r]&&(t[r]=e[r])})}function oI(n,e,t){function r(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function s(){return!n||typeof n=="string"}const i=typeof e!="string"?[].concat(e):e.split(".");for(;i.length>1;){if(s())return{};const a=r(i.shift());!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={}}return s()?{}:{obj:n,k:r(i.shift())}}function ik(n,e,t){const{obj:r,k:s}=oI(n,e,Object);r[s]=t}function WOe(n,e,t,r){const{obj:s,k:i}=oI(n,e,Object);s[i]=s[i]||[],s[i].push(t)}function Qy(n,e){const{obj:t,k:r}=oI(n,e);if(t)return t[r]}function GOe(n,e,t){const r=Qy(n,t);return r!==void 0?r:Qy(e,t)}function y5(n,e,t){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?typeof n[r]=="string"||n[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?t&&(n[r]=e[r]):y5(n[r],e[r],t):n[r]=e[r]);return n}function $u(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var YOe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function qOe(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>YOe[e]):n}const XOe=[" ",",","?","!",";"];function QOe(n,e,t){e=e||"",t=t||"";const r=XOe.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(r.length===0)return!0;const s=new RegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(n);if(!i){const a=n.indexOf(t);a>0&&!s.test(n.substring(0,a))&&(i=!0)}return i}function Zy(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let i=0;i<r.length;++i){if(!s||typeof s[r[i]]=="string"&&i+1<r.length)return;if(s[r[i]]===void 0){let a=2,o=r.slice(i,i+a).join(t),l=s[o];for(;l===void 0&&r.length>i+a;)a++,o=r.slice(i,i+a).join(t),l=s[o];if(l===void 0)return;if(l===null)return null;if(e.endsWith(o)){if(typeof l=="string")return l;if(o&&typeof l[o]=="string")return l[o]}const u=r.slice(i+a).join(t);return u?Zy(l,u,t):void 0}s=s[r[i]]}return s}function Jy(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class ak extends J_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o=[e,t];r&&typeof r!="string"&&(o=o.concat(r)),r&&typeof r=="string"&&(o=o.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(o=e.split("."));const l=Qy(this.data,o);return l||!a||typeof r!="string"?l:Zy(this.data&&this.data[e]&&this.data[e][t],r,i)}addResource(e,t,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,t];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=t,t=o[1]),this.addNamespaces(t),ik(this.data,o,s),i.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Object.prototype.toString.apply(r[i])==="[object Array]")&&this.addResource(e,t,i,r[i],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=t,t=o[1]),this.addNamespaces(t);let l=Qy(this.data,o)||{};s?y5(l,r,i):l={...l,...r},ik(this.data,o,l),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var v5={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,t,r,s))}),e}};const ok={};class ev extends J_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),KOe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ni.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!QOe(e,r,s);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return typeof i=="string"&&(i=[i]),{key:e,namespaces:i}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),l=o[o.length-1],u=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const E=t.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${E}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${E}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}const h=this.resolve(e,t);let f=h&&h.res;const p=h&&h.usedKey||a,_=h&&h.exactUsedKey||a,y=Object.prototype.toString.apply(f),v=["[object Number]","[object Function]","[object RegExp]"],m=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&v.indexOf(y)<0&&!(typeof m=="string"&&y==="[object Array]")){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...t,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(h.res=E,h.usedParams=this.getUsedParamsDetails(t),h):E}if(i){const E=y==="[object Array]",S=E?[]:{},C=E?_:p;for(const O in f)if(Object.prototype.hasOwnProperty.call(f,O)){const I=`${C}${i}${O}`;S[O]=this.translate(I,{...t,joinArrays:!1,ns:o}),S[O]===I&&(S[O]=f[O])}f=S}}else if(w&&typeof m=="string"&&y==="[object Array]")f=f.join(m),f&&(f=this.extendTranslation(f,e,t,r));else{let E=!1,S=!1;const C=t.count!==void 0&&typeof t.count!="string",O=ev.hasDefaultValue(t),I=C?this.pluralResolver.getSuffix(u,t.count,t):"",P=t.ordinal&&C?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",x=t[`defaultValue${I}`]||t[`defaultValue${P}`]||t.defaultValue;!this.isValidLookup(f)&&O&&(E=!0,f=x),this.isValidLookup(f)||(S=!0,f=a);const $=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:f,M=O&&x!==f&&this.options.updateMissing;if(S||E||M){if(this.logger.log(M?"updateKey":"missingKey",u,l,a,M?x:f),i){const W=this.resolve(a,{...t,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let W=0;W<B.length;W++)V.push(B[W]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(t.lng||this.language):V.push(t.lng||this.language);const F=(W,N,j)=>{const L=O&&j!==f?j:$;this.options.missingKeyHandler?this.options.missingKeyHandler(W,l,N,L,M,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(W,l,N,L,M,t),this.emit("missingKey",W,l,N,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?V.forEach(W=>{this.pluralResolver.getSuffixes(W,t).forEach(N=>{F([W],a+N,t[`defaultValue${N}`]||x)})}):F(V,a,x))}f=this.extendTranslation(f,e,t,h,r),S&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${a}`),(S||E)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,E?f:void 0):f=this.options.parseMissingKeyHandler(f))}return s?(h.res=f,h.usedParams=this.getUsedParamsDetails(t),h):f}extendTranslation(e,t,r,s,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language,r),u){const f=e.match(this.interpolator.nestingRegexp),p=f&&f.length;d<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,p=new Array(f),_=0;_<f;_++)p[_]=arguments[_];return i&&i[0]===p[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):a.translate(...p,t)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=typeof o=="string"?[o]:o;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=v5.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,a,o;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,t),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=t.count!==void 0&&typeof t.count!="string",p=f&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),_=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(v=>{this.isValidLookup(r)||(o=v,!ok[`${y[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(ok[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${s}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(m=>{if(this.isValidLookup(r))return;a=m;const w=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,m,v,t);else{let E;f&&(E=this.pluralResolver.getSuffix(m,t.count,t));const S=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(w.push(d+E),t.ordinal&&E.indexOf(C)===0&&w.push(d+E.replace(C,this.options.pluralSeparator)),p&&w.push(d+S)),_){const O=`${d}${this.options.contextSeparator}${t.context}`;w.push(O),f&&(w.push(O+E),t.ordinal&&E.indexOf(C)===0&&w.push(O+E.replace(C,this.options.pluralSeparator)),p&&w.push(O+S))}}let b;for(;b=w.pop();)this.isValidLookup(r)||(i=b,r=this.getResource(m,v,b,t))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of t)delete s[i]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}function W0(n){return n.charAt(0).toUpperCase()+n.slice(1)}class lk{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ni.create("languageUtils")}getScriptPartFromCode(e){if(e=Jy(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Jy(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=W0(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=W0(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=W0(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&i.indexOf(s)===0)return i})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):typeof e=="string"&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}let ZOe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],JOe={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const eIe=["v1","v2","v3"],tIe=["v4"],uk={zero:0,one:1,two:2,few:3,many:4,other:5};function nIe(){const n={};return ZOe.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:JOe[e.fc]}})}),n}class rIe{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Ni.create("pluralResolver"),(!this.options.compatibilityJSON||tIe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=nIe()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Jy(e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>uk[s]-uk[i]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!eIe.includes(this.options.compatibilityJSON)}}function ck(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=GOe(n,e,t);return!i&&s&&typeof t=="string"&&(i=Zy(n,t,r),i===void 0&&(i=Zy(e,t,r))),i}class sIe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ni.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=t.escape!==void 0?t.escape:qOe,this.escapeValue=t.escapeValue!==void 0?t.escapeValue:!0,this.useRawValueToEscape=t.useRawValueToEscape!==void 0?t.useRawValueToEscape:!1,this.prefix=t.prefix?$u(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?$u(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?$u(t.nestingPrefix):t.nestingPrefixEscaped||$u("$t("),this.nestingSuffix=t.nestingSuffix?$u(t.nestingSuffix):t.nestingSuffixEscaped||$u(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=t.alwaysFormat!==void 0?t.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,t,r,s){let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(_){return _.replace(/\$/g,"$$$$")}const d=_=>{if(_.indexOf(this.formatSeparator)<0){const w=ck(t,l,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...s,...t,interpolationkey:_}):w}const y=_.split(this.formatSeparator),v=y.shift().trim(),m=y.join(this.formatSeparator).trim();return this.format(ck(t,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,{...s,...t,interpolationkey:v})};this.resetRegExp();const h=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>u(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?u(this.escape(_)):u(_)}].forEach(_=>{for(o=0;i=_.regex.exec(e);){const y=i[1].trim();if(a=d(y),a===void 0)if(typeof h=="function"){const m=h(e,i,s);a=typeof m=="string"?m:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))a="";else if(f){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=sk(a));const v=_.safeValue(a);if(e=e.replace(i[0],v),f?(_.regex.lastIndex+=a.length,_.regex.lastIndex-=i[0].length):_.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,a;function o(l,u){const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,a);const p=f.match(/'/g),_=f.match(/"/g);(p&&p.length%2===0&&!_||_.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${d}${f}`}return delete a.defaultValue,l}for(;s=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=d.shift(),l=d,u=!0}if(i=t(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&typeof i!="string")return i;typeof i!="string"&&(i=sk(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}function iIe(n){let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(a=>{if(!a)return;const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");t[o.trim()]||(t[o.trim()]=u),u==="false"&&(t[o.trim()]=!1),u==="true"&&(t[o.trim()]=!0),isNaN(u)||(t[o.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:t}}function Lu(n){const e={};return function(r,s,i){const a=s+JSON.stringify(i);let o=e[a];return o||(o=n(Jy(s),i),e[a]=o),o(r)}}class aIe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ni.create("formatter"),this.options=e,this.formats={number:Lu((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return i=>s.format(i)}),currency:Lu((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return i=>s.format(i)}),datetime:Lu((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return i=>s.format(i)}),relativetime:Lu((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return i=>s.format(i,r.range||"day")}),list:Lu((t,r)=>{const s=new Intl.ListFormat(t,{...r});return i=>s.format(i)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Lu(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((o,l)=>{const{formatName:u,formatOptions:d}=iIe(l);if(this.formats[u]){let h=o;try{const f=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=f.locale||f.lng||s.locale||s.lng||r;h=this.formats[u](o,p,{...d,...s,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}function oIe(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}class lIe extends J_{constructor(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Ni.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,t,r,s){const i={},a={},o={},l={};return e.forEach(u=>{let d=!0;t.forEach(h=>{const f=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,d=!1,a[f]===void 0&&(a[f]=!0),i[f]===void 0&&(i[f]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const s=e.split("|"),i=s[0],a=s[1];t&&this.emit("failedLoading",i,a,t),r&&this.store.addResourceBundle(i,a,r),this.state[e]=t?-1:2;const o={};this.queue.forEach(l=>{WOe(l.loaded,[i],a),oIe(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const d=l.loaded[u];d.length&&d.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,i*2,a)},i);return}a(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const i=this.queueLoad(e,t,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,t,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,t,r,s,l):d=u(e,t,r,s),d&&typeof d.then=="function"?d.then(h=>o(null,h)).catch(o):o(null,d)}catch(d){o(d)}else u(e,t,r,s,o,l)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}function dk(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(s=>{t[s]=r[s]})}return t},interpolation:{escapeValue:!0,format:(n,e,t,r)=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function hk(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function Hg(){}function uIe(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class Wf extends J_{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=hk(e),this.services={},this.logger=Ni,this.modules={external:[]},uIe(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=dk();this.options={...s,...this.options,...hk(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function i(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Ni.init(i(this.modules.logger),this.options):Ni.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=aIe);const h=new lk(this.options);this.store=new ak(this.options.resources,this.options);const f=this.services;f.logger=Ni,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new rIe(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=i(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new sIe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new lIe(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var _=arguments.length,y=new Array(_>1?_-1:0),v=1;v<_;v++)y[v-1]=arguments[v];e.emit(p,...y)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new ev(this.services,this.options),this.translator.on("*",function(p){for(var _=arguments.length,y=new Array(_>1?_-1:0),v=1;v<_;v++)y[v-1]=arguments[v];e.emit(p,...y)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Hg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=Jd(),u=()=>{const d=(h,f)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hg;const s=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,t,r){const s=Jd();return e||(e=this.languages),t||(t=this.options.ns),r||(r=Hg),this.services.backendConnector.reload(e,t,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&v5.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=Jd();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(l,function(){return r.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{a(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,t,r){var s=this;const i=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([a,o].concat(d))}else l={...o};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix=l.keyPrefix||r||i.keyPrefix;const f=s.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(a)?p=a.map(_=>`${l.keyPrefix}${f}${_}`):p=l.keyPrefix?`${l.keyPrefix}${f}${a}`:a,s.t(p,l)};return typeof e=="string"?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,t){const r=Jd();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Jd();typeof e=="string"&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0);return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new lk(dk());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Wf(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hg;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Wf(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new ak(this.store.data,s),i.services.resourceStore=i.store),i.translator=new ev(i.services,s),i.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];i.emit(o,...u)}),i.init(s,t),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const er=Wf.createInstance();er.createInstance=Wf.createInstance;er.createInstance;er.dir;er.init;er.loadResources;er.reloadResources;er.use;er.changeLanguage;er.getFixedT;er.t;er.exists;er.setDefaultNamespace;er.hasLoadedNamespace;er.loadNamespaces;er.loadLanguages;const cIe=async n=>{try{const e=Y_(Va,`users/${n}/groups`),t=QTe(e,ZTe("order"));return(await u5(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error in getGroups:",e),e}},dIe=async(n,e)=>{try{const t=Y_(Va,`users/${n}/groups`);return await c5(t,{...e,created_at:Date.now()})}catch(t){throw console.error("Error in createGroup:",t),t}},hIe=async(n,e,t)=>{try{const r=Rd(Va,`users/${n}/groups/${e}`);return await sI(r,{...t,updated_at:Date.now()}),!0}catch(r){throw console.error("Error in updateGroup:",r),r}};class fIe{constructor(){js(this,"rawGroups",[]);js(this,"loading",!1);js(this,"initialized",!1);js(this,"currentGroupId","default");f1(this,{groups:Nc,currentGroup:Nc})}get allGroups(){return[this.defaultGroup,...this.rawGroups]}get groups(){return this.rawGroups}get currentGroup(){return this.groups.find(e=>e.id===this.currentGroupId)}get defaultGroup(){return{id:"default",name:er.t("common.all"),order:-1,created_at:0}}async loadGroups(){var e;if(!(!((e=Ce.user)!=null&&e.uid)||this.loading)){this.loading=!0;try{const t=await cIe(Ce.user.uid);Ja(()=>{this.rawGroups=t,this.initialized=!0})}catch(t){console.error("Error loading groups:",t)}finally{Ja(()=>{this.loading=!1})}}}async createGroup(e){var t;if((t=Ce.user)!=null&&t.uid){this.loading=!0;try{const r={name:e,order:this.rawGroups.length,created_at:Date.now()},s=await dIe(Ce.user.uid,r);Ja(()=>{this.rawGroups.push({id:s.id,...r}),this.currentGroupId=s.id})}catch(r){console.error("Error creating group:",r)}finally{Ja(()=>{this.loading=!1})}}}async updateGroup(e,t){var r;if(!((r=Ce.user)!=null&&r.uid)){console.error("No user ID available");return}if(e==="default"){console.error("Cannot update default group");return}this.loading=!0;try{await hIe(Ce.user.uid,e,{name:t}),Ja(()=>{const s=this.rawGroups.findIndex(i=>i.id===e);s!==-1&&(this.rawGroups[s]={...this.rawGroups[s],name:t})})}catch(s){console.error("Error updating group:",s)}finally{Ja(()=>{this.loading=!1})}}setCurrentGroup(e){this.groups.some(t=>t.id===e)?this.currentGroupId=e:(console.error(`Invalid group ID: ${e}`),this.currentGroupId="default")}}const an=new fIe,pIe="_layout_vje1q_1",gIe="_content_vje1q_7",mIe="_nav_vje1q_11",yIe="_navItem_vje1q_22",vIe="_title_vje1q_33",_Ie="_active_vje1q_41",bIe="_icon_vje1q_47",zs={layout:pIe,content:gIe,nav:mIe,navItem:yIe,title:vIe,active:_Ie,icon:bIe},wIe=Ls(({children:n})=>{const e=ru(),t=_v(),{t:r}=hi();T.useEffect(()=>{Ce.user&&(vn.initialized||vn.loadWords(),an.initialized||an.loadGroups())},[Ce.user]);const s=[{key:"/",text:r("nav.task"),icon:A.jsx($Oe,{className:zs.icon})},{key:"/practise",text:r("nav.practise"),icon:A.jsx(kOe,{className:zs.icon})},{key:"/add",text:r("nav.add"),icon:A.jsx(ROe,{className:zs.icon})},{key:"/word",text:r("nav.wordlist"),icon:A.jsx(LOe,{className:zs.icon})},{key:"/profile",text:r("nav.profile"),icon:A.jsx(m5,{className:zs.icon})}];return A.jsxs("div",{className:zs.layout,children:[A.jsx("main",{className:zs.content,children:n}),A.jsx("nav",{className:zs.nav,children:s.map(i=>A.jsxs("div",{className:`${zs.navItem} ${t.pathname===i.key?zs.active:""}`,onClick:()=>e(i.key),children:[i.icon,A.jsx("div",{className:zs.title,children:i.text})]},i.key))})]})});function _5(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=_5(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function tv(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=_5(n))&&(r&&(r+=" "),r+=e);return r}function lI(){const[n,e]=T.useState(null);return T.useEffect(()=>{const r=()=>{const s=window.speechSynthesis.getVoices(),i=s.find(a=>a.name==="Kyoko")||s.find(a=>(a.lang.toLowerCase().includes("ja")||a.name.toLowerCase().includes("japanese"))&&a.name.toLowerCase().includes("female"))||s.find(a=>a.lang.toLowerCase().includes("ja")||a.name.toLowerCase().includes("japanese"));e(i||null)};return speechSynthesis.onvoiceschanged=r,r(),()=>{speechSynthesis.onvoiceschanged=null}},[]),T.useCallback((r,s)=>{s==null||s.stopPropagation(),window.speechSynthesis.cancel();const i=new SpeechSynthesisUtterance(r);i.lang="ja-JP",n&&(i.voice=n),window.speechSynthesis.speak(i)},[n])}const EIe="_header_n3qlo_1",SIe="_box_n3qlo_7",CIe="_boxTitle_n3qlo_15",TIe="_num_n3qlo_19",OIe="_percent_n3qlo_27",IIe="_today_n3qlo_37",PIe="_reviewArea_n3qlo_43",xIe="_completedMessage_n3qlo_50",RIe="_wordCard_n3qlo_54",AIe="_statistics_n3qlo_62",DIe="_left_n3qlo_71",kIe="_groupInfo_n3qlo_74",NIe="_question_n3qlo_78",$Ie="_answer_n3qlo_82",LIe="_voice_n3qlo_89",MIe="_icon_n3qlo_91",FIe="_cardFoot_n3qlo_97",jIe="_button_n3qlo_103",VIe="_button2_n3qlo_104",pt={header:EIe,box:SIe,boxTitle:CIe,num:TIe,percent:OIe,today:IIe,reviewArea:PIe,completedMessage:xIe,wordCard:RIe,statistics:AIe,left:DIe,groupInfo:kIe,question:NIe,answer:$Ie,voice:LIe,icon:MIe,cardFoot:FIe,button:jIe,button2:VIe},{Text:UIe,Title:fk}=$r,vh=[1,2,4,7,15,30,60],uC=7,pk=n=>{if(n===uC)return 1/0;const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()+vh[n]).getTime()},BIe=Ls(()=>{const{t:n}=hi(),[e,t]=T.useState(!1),[r,s]=T.useState(null),[i,a]=T.useState(!1),o=lI(),l=f=>({word:f,isJapaneseQuestion:Math.random()<.5});T.useEffect(()=>{const f=lC(),p=vn.words.filter(_=>_.nextReviewDate<=f);s(p[0]?l(p[0]):null)},[vn.words]);const u=T.useCallback(f=>{if(!f)return n("common.all");const p=an.groups.find(_=>_.id===f);return p?p.name:n("common.all")},[an.groups,n]),d=T.useCallback(async f=>{var p,_;if(r){a(!0);const y=vn.words.map(v=>{if(v.id===r.word.id){let m;return f?v.stage===vh.length-1?m=uC:m=Math.min(v.stage+1,vh.length-1):m=Math.max(0,v.stage-1),{...v,reviewCount:v.reviewCount+1,correctCount:f?v.correctCount+1:v.correctCount,stage:m,nextReviewDate:pk(m)}}return v});try{if(!((p=Ce.user)!=null&&p.uid))return;const v=r.word;let m;f?v.stage===vh.length-1?m=uC:m=Math.min(v.stage+1,vh.length-1):m=Math.max(0,v.stage-1),await jOe((_=Ce.user)==null?void 0:_.uid,r.word.id,{reviewCount:r.word.reviewCount+1,correctCount:f?r.word.correctCount+1:r.word.correctCount,stage:m,nextReviewDate:pk(m)}),vn.updateWords(y);const w=lC(),b=y.filter(E=>E.nextReviewDate<=w);s(b[0]?l(b[0]):null),t(!1)}catch(v){console.error("Error updating word progress in Firestore:",v)}finally{a(!1)}}},[r]),h=vn.todayWords;return A.jsx("div",{className:"container",children:A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:pt.header,children:[A.jsxs("div",{className:pt.box,children:[A.jsx("div",{className:pt.boxTitle,children:n("review.todayReview")}),A.jsx("div",{className:tv(pt.num,pt.today),children:h})]}),A.jsxs("div",{className:pt.box,children:[A.jsx("div",{className:pt.boxTitle,children:n("review.completedWords")}),A.jsx("div",{className:tv(pt.num),children:vn.completedWordsCount})]}),A.jsxs("div",{className:pt.box,children:[A.jsx("div",{className:pt.boxTitle,children:n("review.totalWords")}),A.jsx("div",{className:pt.num,children:vn.words.length})]})]}),A.jsx("div",{className:pt.reviewArea,children:r?A.jsxs("div",{className:pt.wordCard,children:[A.jsxs("div",{className:pt.statistics,children:[A.jsxs("div",{className:pt.left,children:[A.jsx("div",{className:pt.groupInfo,children:A.jsx(qn,{color:"blue",size:"large",children:u(r.word.groupId)})}),n("review.accuracy"),"：",A.jsxs("span",{children:[r.word.reviewCount===0?"0":(r.word.correctCount/r.word.reviewCount*100).toFixed(1),"%"]})]}),A.jsx(h5,{stage:r==null?void 0:r.word.stage,size:48})]}),A.jsx("div",{className:pt.questionWrapper,children:A.jsx(fk,{heading:4,className:pt.question,children:r.isJapaneseQuestion?r.word.japanese:r.word.chinese})}),e?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:pt.answerWrapper,children:[A.jsx(fk,{heading:4,className:pt.answer,children:r.isJapaneseQuestion?r.word.chinese:r.word.japanese}),A.jsx(xe,{type:"tertiary",size:"small",className:pt.voice,icon:A.jsx(aI,{className:pt.icon}),onClick:f=>o(r.word.japanese,f),style:{marginLeft:8}})]}),A.jsxs("div",{className:pt.cardFoot,children:[A.jsx(xe,{theme:"solid",size:"large",className:pt.button2,onClick:()=>d(!1),loading:i,children:n("review.forgotten")}),A.jsx(xe,{type:"secondary",theme:"solid",size:"large",className:pt.button,onClick:()=>d(!0),loading:i,children:n("review.remembered")})]})]}):A.jsx("div",{className:pt.cardFoot,children:A.jsx(xe,{type:"secondary",theme:"solid",size:"large",className:pt.button,onClick:()=>t(!0),children:n("review.showAnswer")})})]}):A.jsx("div",{className:pt.completedMessage,children:A.jsx(UIe,{type:"secondary",size:"normal",children:n("review.completed")})})})]})})}),HIe="_title_4hmd6_1",zIe="_form_4hmd6_4",KIe="_input_4hmd6_8",WIe="_submitButton_4hmd6_12",wi={title:HIe,form:zIe,input:KIe,submitButton:WIe},{Text:GIe}=$r,YIe=Ls(()=>{var m,w;const{t:n}=hi(),[e,t]=T.useState(""),[r,s]=T.useState(""),[i,a]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState(""),[h,f]=T.useState(!1),[p,_]=T.useState(!1),y=T.useCallback(async b=>{var E;if(b.preventDefault(),!(!((E=Ce.user)!=null&&E.uid)||h)){if(!e.trim()||!r.trim()){ln.error(n("addWord.requiredFields"));return}f(!0);try{const S={japanese:e.trim(),chinese:r.trim(),groupId:i,createdAt:Date.now(),nextReviewDate:Date.now(),reviewCount:0,correctCount:0,stage:0};await rk(Ce.user.uid,S),await vn.loadWords(),t(""),s(""),ln.success(n("addWord.addSuccess"))}catch(S){console.error("Error adding word:",S),ln.error(n("addWord.addError"))}finally{f(!1)}}},[e,r,i,(m=Ce.user)==null?void 0:m.uid,h,n]),v=T.useCallback(async()=>{var b;if(!(!((b=Ce.user)!=null&&b.uid)||!u.trim()||p)){_(!0);try{const E=JSON.parse(u);if(!Array.isArray(E)){ln.error(n("common.invalidJSON"));return}let S=0,C=0;for(const O of E){if(!O.japanese||!O.chinese){C++;continue}const I={japanese:O.japanese.trim(),chinese:O.chinese.trim(),groupId:o,createdAt:Date.now(),nextReviewDate:Date.now(),reviewCount:0,correctCount:0,stage:0};try{await rk(Ce.user.uid,I),S++}catch(P){console.error("Error adding word:",P),C++}}await vn.loadWords(),d(""),ln.success(n("addWord.batchUploadResult",{success:S,error:C}))}catch(E){console.error("Error parsing JSON:",E),ln.error(n("addWord.invalidJSON"))}finally{_(!1)}}},[u,o,(w=Ce.user)==null?void 0:w.uid,p,n]);return Ce.user?A.jsx("div",{className:"container",children:A.jsxs("div",{className:"card",children:[A.jsx("h2",{className:wi.title,children:n("nav.add")}),A.jsx(Vi,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:A.jsx("form",{onSubmit:y,className:wi.form,children:A.jsxs(Vi,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:[A.jsx(En,{value:e,onChange:b=>t(b),placeholder:n("common.japanese"),className:wi.input,size:"large",showClear:!0,disabled:h}),A.jsx(En,{value:r,onChange:b=>s(b),placeholder:n("common.chinese"),className:wi.input,size:"large",showClear:!0,disabled:h}),A.jsx(rn,{value:i,onChange:b=>a(b),disabled:h,size:"large",style:{width:"100%"},placeholder:n("common.group"),children:an.groups.map(b=>A.jsx(rn.Option,{value:b.id,children:b.name},b.id))}),A.jsx(xe,{type:"secondary",htmlType:"submit",theme:"solid",size:"large",className:wi.submitButton,loading:h,children:n("common.addButton")})]})})}),A.jsx("h2",{className:wi.title,style:{marginTop:"48px"},children:n("addWord.batchUploadTitle")}),A.jsxs(Vi,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:[A.jsx(Nj,{value:u,onChange:b=>d(b),placeholder:`[
  {"japanese": "言葉1", "chinese": "词语1"},
  {"japanese": "言葉2", "chinese": "词语2"}
]`,className:wi.jsonInput,rows:5,disabled:p}),A.jsx(rn,{value:o,onChange:b=>l(b),disabled:p,size:"large",style:{width:"100%"},placeholder:n("common.group"),children:an.groups.map(b=>A.jsx(rn.Option,{value:b.id,children:b.name},b.id))}),A.jsx(xe,{type:"secondary",theme:"solid",size:"large",className:wi.submitButton,loading:p,onClick:v,children:n("addWord.batchUploadButton")})]})]})}):A.jsx("div",{className:wi.container,children:A.jsx("div",{className:wi.card,children:A.jsx(GIe,{children:n("common.pleaseLogin")})})})}),qIe="_reviewArea_7l94r_1",XIe="_completedMessage_7l94r_8",QIe="_wordCard_7l94r_12",ZIe="_statistics_7l94r_20",JIe="_left_7l94r_29",ePe="_groupInfo_7l94r_32",tPe="_question_7l94r_36",nPe="_answer_7l94r_40",rPe="_voice_7l94r_47",sPe="_icon_7l94r_49",iPe="_cardFoot_7l94r_55",aPe="_button_7l94r_61",oPe="_button2_7l94r_62",lPe="_stageSelector_7l94r_71",Bn={reviewArea:qIe,completedMessage:XIe,wordCard:QIe,statistics:ZIe,left:JIe,groupInfo:ePe,question:tPe,answer:nPe,voice:rPe,icon:sPe,cardFoot:iPe,button:aPe,button2:oPe,stageSelector:lPe},{Text:uPe,Title:gk}=$r,mk=7,cPe=Ls(()=>{const{t:n}=hi(),[e,t]=T.useState(!1),[r,s]=T.useState(null),[i,a]=T.useState([]),[o,l]=T.useState({min:0,max:6}),[u,d]=T.useState(!0);T.useEffect(()=>{const y=vn.words.filter(v=>v.stage>=o.min&&v.stage<=o.max).map(v=>({word:v,isJapaneseQuestion:u}));a(y),s(y[Math.floor(Math.random()*y.length)])},[vn.words,o,u]);const h=lI(),f=T.useCallback(_=>{if(!_)return n("common.all");const y=an.groups.find(v=>v.id===_);return y?y.name:n("common.all")},[an.groups,n]),p=T.useCallback(()=>{t(!1),s(i[Math.floor(Math.random()*i.length)])},[i]);return A.jsxs("div",{className:"container",children:[A.jsxs("div",{className:Bn.stageSelector,children:[A.jsx(rn,{style:{width:150,marginRight:8},value:o.min,onChange:_=>l(y=>({...y,min:_})),children:Array.from({length:mk+1},(_,y)=>A.jsxs(rn.Option,{value:y,children:[n("practise.minStage"),": ",y]},y))}),A.jsx(rn,{style:{width:150},value:o.max,onChange:_=>l(y=>({...y,max:_})),children:Array.from({length:mk+1},(_,y)=>A.jsxs(rn.Option,{value:y,children:[n("practise.maxStage"),": ",y]},y))}),A.jsxs(rn,{defaultValue:"japanese",onChange:_=>{typeof _=="string"&&d(_==="japanese")},children:[A.jsx(rn.Option,{value:"japanese",children:n("practise.japanese")}),A.jsx(rn.Option,{value:"chinese",children:n("practise.chinese")})]})]}),A.jsx("div",{className:Bn.reviewArea,children:r?A.jsxs("div",{className:Bn.wordCard,children:[A.jsxs("div",{className:Bn.statistics,children:[A.jsxs("div",{className:Bn.left,children:[A.jsx("div",{className:Bn.groupInfo,children:A.jsx(qn,{color:"blue",size:"large",children:f(r.word.groupId)})}),n("review.accuracy"),"：",A.jsxs("span",{children:[r.word.reviewCount===0?"0":(r.word.correctCount/r.word.reviewCount*100).toFixed(1),"%"]})]}),A.jsx(h5,{stage:r==null?void 0:r.word.stage,size:48})]}),A.jsx("div",{className:Bn.questionWrapper,children:A.jsx(gk,{heading:4,className:Bn.question,children:r.isJapaneseQuestion?r.word.japanese:r.word.chinese})}),e?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:Bn.answerWrapper,children:[A.jsx(gk,{heading:4,className:Bn.answer,children:r.isJapaneseQuestion?r.word.chinese:r.word.japanese}),A.jsx(xe,{type:"tertiary",size:"small",className:Bn.voice,icon:A.jsx(aI,{className:Bn.icon}),onClick:_=>h(r.word.japanese,_),style:{marginLeft:8}})]}),A.jsx("div",{className:Bn.cardFoot,children:A.jsx(xe,{type:"secondary",theme:"solid",size:"large",className:Bn.button,onClick:p,children:n("practise.next")})})]}):A.jsx("div",{className:Bn.cardFoot,children:A.jsx(xe,{type:"secondary",theme:"solid",size:"large",className:Bn.button,onClick:()=>t(!0),children:n("review.showAnswer")})})]}):A.jsx("div",{className:Bn.completedMessage,children:A.jsx(uPe,{type:"secondary",size:"normal",children:n("review.completed")})})})]})}),dPe="_wordList_1vshj_1",hPe="_title_1vshj_6",fPe="_list_1vshj_10",pPe="_wordCard_1vshj_14",gPe="_wordCardBody_1vshj_21",mPe="_wordCardContent_1vshj_25",yPe="_stage_1vshj_35",vPe="_remove_1vshj_52",_Pe="_icon_1vshj_55",bPe="_pronunciationContainer_1vshj_59",wPe="_voice_1vshj_64",EPe="_groupContainer_1vshj_75",SPe="_tabs_1vshj_84",CPe="_tab_1vshj_84",TPe="_active_1vshj_98",OPe="_setting_1vshj_103",or={wordList:dPe,title:hPe,list:fPe,wordCard:pPe,wordCardBody:gPe,wordCardContent:mPe,stage:yPe,remove:vPe,icon:_Pe,pronunciationContainer:bPe,voice:wPe,groupContainer:EPe,tabs:SPe,tab:CPe,active:TPe,setting:OPe},{Text:eh,Title:IPe}=$r,PPe=Ls(()=>{const{t:n}=hi(),e=ru(),[t,r]=T.useState(""),s=lI(),i=T.useMemo(()=>{let a=an.currentGroupId==="default"?vn.words:vn.words.filter(o=>o.groupId===an.currentGroupId);if(t){const o=t.toLowerCase();a=a.filter(l=>l.japanese.toLowerCase().includes(o)||l.chinese.toLowerCase().includes(o))}return[...a].sort((o,l)=>{if(o.stage!==l.stage)return o.stage-l.stage;const u=o.reviewCount-o.correctCount;return l.reviewCount-l.correctCount-u})},[vn.words,t,an.currentGroupId]);return Ce.user?A.jsx("div",{className:tv("container",or.list),children:A.jsxs("div",{className:"card",children:[A.jsx("div",{className:or.searchContainer,children:A.jsx(En,{prefix:A.jsx(NOe,{className:or.icon}),placeholder:n("common.search"),size:"large",value:t,onChange:a=>r(a),style:{marginBottom:16}})}),A.jsxs("div",{className:or.groupContainer,children:[A.jsx("div",{className:or.tabs,children:an.allGroups.map(a=>A.jsx("div",{role:"button",tabIndex:0,onClick:()=>an.setCurrentGroup(a.id),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&an.setCurrentGroup(a.id)},className:tv(or.tab,{[or.active]:a.id===an.currentGroupId}),children:A.jsx("span",{children:a.name})},a.id))}),A.jsx("div",{className:or.setting,onClick:()=>e("/word/group-setting"),children:A.jsx(m5,{className:or.icon})})]}),A.jsx(Vi,{vertical:!0,align:"start",style:{width:"100%"},children:vn.loading?A.jsx(eh,{type:"tertiary",children:n("common.loading")}):i.length===0?A.jsx(eh,{type:"tertiary",children:n(t?"addWord.noSearchResults":"addWord.emptyList")}):i.map(a=>A.jsx("div",{className:or.wordCard,children:A.jsxs("div",{className:or.wordCardContent,children:[A.jsxs(Vi,{vertical:!0,align:"start",children:[A.jsx("div",{children:A.jsxs(IPe,{heading:5,className:or.title,children:[a.japanese," ",A.jsx("span",{className:or.stage,children:a.stage})]})}),A.jsx(eh,{children:a.chinese}),A.jsx(eh,{type:"tertiary",size:"small",children:n("addWord.nextReview",{date:new Date(a.nextReviewDate).toLocaleDateString()})})]}),A.jsx(xe,{type:"tertiary",size:"small",className:or.voice,icon:A.jsx(aI,{className:or.icon}),onClick:o=>s(a.japanese,o),style:{marginLeft:8}}),A.jsx(xe,{type:"primary",theme:"borderless",className:or.remove,onClick:()=>e(`/word/${a.id}`),children:n("common.details")})]})},a.id))})]})}):A.jsx("div",{className:"container",children:A.jsx("div",{className:"card",children:A.jsx(eh,{children:n("common.pleaseLogin")})})})}),xPe="_container_1vs6g_1",RPe="_actionButtons_1vs6g_7",APe="_button_1vs6g_12",DPe="_button2_1vs6g_13",Ei={container:xPe,actionButtons:RPe,button:APe,button2:DPe},{Text:G0}=$r,kPe=Ls(()=>{var p;const{t:n}=hi(),{id:e}=TB(),t=ru(),[r,s]=T.useState(null),[i,a]=T.useState(!0),[o,l]=T.useState(!1),[u,d]=T.useState(!1);T.useEffect(()=>{an.initialized||an.loadGroups()},[]),T.useEffect(()=>{(async()=>{var y;if(!(!((y=Ce.user)!=null&&y.uid)||!e))try{const v=await VOe(Ce.user.uid,e);s(v)}catch(v){console.error("Error loading word:",v)}finally{a(!1)}})()},[e,(p=Ce.user)==null?void 0:p.uid]);const h=async _=>{var y;if(!(!((y=Ce.user)!=null&&y.uid)||!e||!r)){l(!0);try{await UOe(Ce.user.uid,e,{...r,japanese:_.japanese,chinese:_.chinese,groupId:_.groupId}),await vn.loadWords(),t("/word")}catch(v){console.error("Error updating word:",v)}finally{l(!1)}}},f=async()=>{var _;if(!(!((_=Ce.user)!=null&&_.uid)||!e)){d(!0);try{await FOe(Ce.user.uid,e),await vn.loadWords(),t("/word")}catch(y){console.error("Error deleting word:",y)}finally{d(!1)}}};return Ce.user?i?A.jsx("div",{className:Ei.container,children:A.jsx("div",{className:Ei.card,children:A.jsx(G0,{children:n("common.loading")})})}):r?A.jsx("div",{className:Ei.container,children:A.jsx("div",{className:Ei.card,children:A.jsxs(Ge,{initValues:{japanese:r.japanese,chinese:r.chinese,groupId:r.groupId},onSubmit:h,children:[A.jsx(Ge.Input,{field:"japanese",label:n("common.japanese"),rules:[{required:!0}],size:"large"}),A.jsx(Ge.Input,{field:"chinese",label:n("common.chinese"),rules:[{required:!0}],size:"large"}),A.jsx(Ge.Select,{field:"groupId",label:n("common.group"),size:"large",placeholder:n("common.group"),style:{width:"100%"},children:an.groups.map(_=>A.jsx(Ge.Select.Option,{value:_.id,children:_.name},_.id))}),A.jsxs("div",{className:Ei.actionButtons,children:[A.jsx(xe,{theme:"solid",type:"secondary",htmlType:"submit",loading:o,className:Ei.button,size:"large",children:n("common.save")}),A.jsx(xe,{theme:"solid",type:"danger",onClick:f,loading:u,size:"large",children:n("common.deleteButton")}),A.jsx(xe,{theme:"solid",type:"tertiary",size:"large",onClick:()=>t("/word"),children:n("common.cancel")})]})]})})}):A.jsx("div",{className:Ei.container,children:A.jsx("div",{className:Ei.card,children:A.jsx(G0,{children:n("common.notFound")})})}):A.jsx("div",{className:Ei.container,children:A.jsx("div",{className:Ei.card,children:A.jsx(G0,{children:n("common.pleaseLogin")})})})}),NPe="_header_1a01b_1",$Pe="_gridContainer_1a01b_7",LPe="_groupItem_1a01b_15",MPe="_name_1a01b_24",FPe="_editIcon_1a01b_28",jPe="_icon_1a01b_35",ia={header:NPe,gridContainer:$Pe,groupItem:LPe,name:MPe,editIcon:FPe,icon:jPe},{Text:VPe,Title:UPe}=$r,BPe=Ls(()=>{const{t:n}=hi(),e=ru(),[t,r]=T.useState(!1),[s,i]=T.useState(""),[a,o]=T.useState(null),l=async()=>{if(s.trim())try{a?(await an.updateGroup(a.id,s.trim()),ln.success(n("group.updateSuccess"))):(await an.createGroup(s.trim()),ln.success(n("group.createSuccess"))),u()}catch(h){ln.error(n(a?"group.updateError":"group.createError")),console.error(h)}},u=()=>{r(!1),i(""),o(null)},d=h=>{h?(o(h),i(h.name)):(o(null),i("")),r(!0)};return Ce.user?A.jsx("div",{className:"container",children:A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:ia.header,children:[A.jsx(UPe,{heading:3,style:{margin:0},children:n("group.settings")}),A.jsx(xe,{theme:"outline",type:"tertiary",onClick:()=>e("/word"),children:n("common.back")})]}),A.jsx(Vi,{vertical:!0,align:"start",style:{width:"100%",marginTop:24},className:ia.group,children:A.jsxs("div",{className:ia.gridContainer,children:[an.groups.map(h=>A.jsxs("div",{className:ia.groupItem,children:[A.jsx("div",{className:ia.name,children:h.name}),A.jsx(Vi,{children:A.jsx(xe,{theme:"outline",type:"tertiary",icon:A.jsx(DOe,{className:ia.editIcon}),onClick:()=>d(h)})})]},h.id)),A.jsx("div",{className:ia.groupItem,children:A.jsx(xe,{theme:"outline",type:"secondary",icon:A.jsx(AOe,{className:ia.icon}),onClick:()=>d()})})]})}),A.jsx(os,{title:n(a?"common.edit":"group.create"),visible:t,onOk:l,okButtonProps:{size:"large",type:"secondary"},onCancel:u,okText:n("common.confirm"),cancelText:n("common.cancel"),cancelButtonProps:{size:"large"},className:ia.modal,centered:!0,children:A.jsx(En,{value:s,size:"large",onChange:h=>i(h),placeholder:n("group.nameInputPlaceholder")})})]})}):A.jsx("div",{className:"container",children:A.jsx("div",{className:"card",children:A.jsx(VPe,{children:n("common.pleaseLogin")})})})}),HPe="_email_1ym1f_1",zPe="_actionSection_1ym1f_6",KPe="_actionButton_1ym1f_13",WPe="_version_1ym1f_17",th={email:HPe,actionSection:zPe,actionButton:KPe,version:WPe},{Title:GPe}=$r,YPe=Ls(()=>{const{t:n}=hi(),{user:e}=Ce,t=ru(),r=T.useCallback(async()=>{try{await Ce.logout(),ln.success(n("profile.logoutSuccess"))}catch{ln.error(n("profile.logoutError"))}},[n]),s=T.useCallback(()=>{try{const i=vn.words.map(({japanese:h,chinese:f})=>({japanese:h,chinese:f})),a=JSON.stringify(i,null,2),o=new Blob([a],{type:"application/json"}),l=URL.createObjectURL(o),u=document.createElement("a");u.href=l;const d=new Date().toISOString().split("T")[0];u.download=`vocabulary_${d}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l),ln.success(n("common.exportSuccess"))}catch(i){console.error("Export error:",i),ln.error(n("common.exportError"))}},[n]);return A.jsx("div",{className:"container",children:A.jsxs("div",{className:"card",children:[A.jsx(GPe,{heading:3,children:n("profile.title")}),A.jsx("div",{className:th.email,children:e==null?void 0:e.email}),(e==null?void 0:e.emailVerified)&&A.jsx(qn,{color:"green",type:"light",children:n("profile.verified")}),A.jsxs("div",{className:th.actionSection,children:[A.jsx(xe,{theme:"solid",type:"secondary",size:"large",className:th.actionButton,onClick:s,children:n("common.export")}),A.jsx(xe,{theme:"solid",type:"secondary",size:"large",className:th.actionButton,onClick:()=>t("/change-password"),children:n("profile.changePassword")}),A.jsx(xe,{theme:"solid",type:"tertiary",size:"large",onClick:r,children:n("profile.logoutButton")})]}),A.jsx("div",{className:th.version,children:"Version 1.0.0"})]})})}),qPe="_actionButtons_t8f3o_1",yk={actionButtons:qPe},{Title:XPe}=$r,QPe=Ls(()=>{const{t:n}=hi(),e=ru(),[t,r]=T.useState(!1),s=T.useCallback(async i=>{if(i.newPassword!==i.confirmPassword){ln.error(n("profile.passwordMismatch"));return}r(!0);try{await Ce.updatePassword(i.newPassword),ln.success(n("profile.passwordUpdateSuccess")),e("/profile")}catch{ln.error(n("profile.passwordUpdateError"))}finally{r(!1)}},[n,e]);return A.jsx("div",{className:"container",children:A.jsxs("div",{className:"card",children:[A.jsx(XPe,{heading:3,children:n("profile.changePassword")}),A.jsxs(Ge,{onSubmit:s,children:[A.jsx(Ge.Input,{field:"newPassword",label:n("profile.newPassword"),size:"large",type:"password",rules:[{required:!0,message:n("profile.passwordRequired")},{min:6,message:n("profile.passwordMinLength")}]}),A.jsx(Ge.Input,{field:"confirmPassword",label:n("profile.confirmPassword"),size:"large",type:"password",rules:[{required:!0,message:n("profile.confirmPasswordRequired")}]}),A.jsxs("div",{className:yk.actionButtons,children:[A.jsx(xe,{htmlType:"submit",type:"secondary",theme:"solid",size:"large",className:yk.button,loading:t,children:n("common.confirm")}),A.jsx(xe,{theme:"solid",type:"tertiary",size:"large",onClick:()=>e("/profile"),children:n("common.cancel")})]})]})]})})}),ZPe="_container_ot96o_1",JPe="_card_ot96o_9",exe="_solgen_ot96o_13",txe="_title_ot96o_19",nxe="_form_ot96o_26",rxe="_input_ot96o_32",sxe="_button_ot96o_37",aa={container:ZPe,card:JPe,solgen:exe,title:txe,form:nxe,input:rxe,button:sxe},ixe=Ls(()=>{const{t:n}=hi(),[e,t]=T.useState(""),[r,s]=T.useState(""),[i,a]=T.useState(!0),o=T.useCallback(()=>{a(u=>!u)},[]),l=T.useCallback(async u=>{if(u.preventDefault(),!e||!r){ln.error(n("login.errorMessages.emailRequired")+" "+n("login.errorMessages.passwordRequired"));return}(i?await Ce.login(e,r):await Ce.register(e,r))?ln.success(n(i?"login.successMessages.loginSuccess":"login.successMessages.registerSuccess")):ln.error(n(i?"login.errorMessages.loginFailed":"login.errorMessages.registerFailed"))},[e,r,i,n]);return A.jsx("div",{className:aa.container,children:A.jsxs("div",{className:aa.card,children:[A.jsx("h1",{className:aa.solgen,children:n("login.solgen")}),A.jsx("div",{className:aa.title,children:n(i?"login.title.login":"login.title.register")}),A.jsxs("form",{onSubmit:l,className:aa.form,children:[A.jsx(En,{type:"email",placeholder:n("login.placeholder.email"),value:e,onChange:t,size:"large",className:aa.input}),A.jsx(En,{type:"password",placeholder:n("login.placeholder.password"),value:r,onChange:s,size:"large",className:aa.input}),A.jsx(xe,{type:"secondary",htmlType:"submit",theme:"solid",size:"large",className:aa.button,children:n(i?"login.button.login":"login.button.register")}),A.jsx(xe,{type:"tertiary",block:!0,size:"large",onClick:o,className:aa.switchButton,children:n(i?"login.button.switchToRegister":"login.button.switchToLogin")})]})]})})}),axe="_title_gfftk_1",oxe="_actionButtons_gfftk_5",lxe="_button_gfftk_11",Y0={title:axe,actionButtons:oxe,button:lxe},uxe=Ls(()=>{const{t:n}=hi(),[e,t]=T.useState(!1),r=async()=>{if(Ce.user){t(!0);try{await iC(Ce.user),ln.success(n("verification.emailSentSuccess"))}catch{ln.error(n("verification.emailSentError"))}finally{t(!1)}}};return A.jsx("div",{className:"container",children:A.jsxs("div",{className:"card",children:[A.jsx("h2",{className:Y0.title,children:n("verification.title")}),A.jsx($r.Paragraph,{children:n("verification.description")}),A.jsxs("div",{className:Y0.actionButtons,children:[A.jsx(xe,{theme:"solid",type:"secondary",size:"large",className:Y0.button,loading:e,onClick:r,children:n("verification.resendButton")}),A.jsx(xe,{theme:"solid",type:"tertiary",size:"large",onClick:()=>Ce.logout(),children:n("profile.logoutButton")})]})]})})}),Mu=({element:n})=>Ce.user?Ce.isEmailVerified?n:A.jsx(Ph,{to:"/verify-email",replace:!0}):A.jsx(Ph,{to:"/login",replace:!0}),cxe=Ls(()=>Ce.loading?A.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(qi,{size:"large"})}):Ce.user?Ce.isEmailVerified?A.jsx(wIe,{children:A.jsxs(Pb,{children:[A.jsx(jr,{path:"/",element:A.jsx(Mu,{element:A.jsx(BIe,{})})}),A.jsx(jr,{path:"/practise",element:A.jsx(Mu,{element:A.jsx(cPe,{})})}),A.jsx(jr,{path:"/add",element:A.jsx(Mu,{element:A.jsx(YIe,{})})}),A.jsx(jr,{path:"/word",element:A.jsx(Mu,{element:A.jsx(PPe,{})})}),A.jsx(jr,{path:"/word/:id",element:A.jsx(kPe,{})}),A.jsx(jr,{path:"/word/group-setting",element:A.jsx(BPe,{})}),A.jsx(jr,{path:"/profile",element:A.jsx(Mu,{element:A.jsx(YPe,{})})}),A.jsx(jr,{path:"/change-password",element:A.jsx(Mu,{element:A.jsx(QPe,{})})}),A.jsx(jr,{path:"*",element:A.jsx(Ph,{to:"/",replace:!0})})]})}):A.jsxs(Pb,{children:[A.jsx(jr,{path:"/verify-email",element:A.jsx(uxe,{})}),A.jsx(jr,{path:"*",element:A.jsx(Ph,{to:"/verify-email",replace:!0})})]}):A.jsxs(Pb,{children:[A.jsx(jr,{path:"/login",element:A.jsx(ixe,{})}),A.jsx(jr,{path:"*",element:A.jsx(Ph,{to:"/login",replace:!0})})]}));var b5=[],dxe=b5.forEach,hxe=b5.slice;function fxe(n){return dxe.call(hxe.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var vk=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pxe=function(e,t,r){var s=r||{};s.path=s.path||"/";var i=encodeURIComponent(t),a="".concat(e,"=").concat(i);if(s.maxAge>0){var o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(s.domain){if(!vk.test(s.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(s.domain)}if(s.path){if(!vk.test(s.path))throw new TypeError("option path is invalid");a+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite){var l=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},_k={create:function(e,t,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=pxe(e,encodeURIComponent(t),i)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var i=r[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},gxe={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=_k.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&_k.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},mxe={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),i=s.split("&"),a=0;a<i.length;a++){var o=i[a].indexOf("=");if(o>0){var l=i[a].substring(0,o);l===e.lookupQuerystring&&(t=i[a].substring(o+1))}}}return t}},nh=null,bk=function(){if(nh!==null)return nh;try{nh=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{nh=!1}return nh},yxe={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&bk()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&bk()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},rh=null,wk=function(){if(rh!==null)return rh;try{rh=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{rh=!1}return rh},vxe={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&wk()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&wk()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},_xe={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},bxe={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},wxe={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},Exe={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};function Sxe(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var w5=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Me(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return Fe(n,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=fxe(r,this.options||{},Sxe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(gxe),this.addDetector(mxe),this.addDetector(yxe),this.addDetector(vxe),this.addDetector(_xe),this.addDetector(bxe),this.addDetector(wxe),this.addDetector(Exe)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var s=[];return t.forEach(function(i){if(r.detectors[i]){var a=r.detectors[i].lookup(r.options);a&&typeof a=="string"&&(a=[a]),a&&(s=s.concat(a))}}),s=s.map(function(i){return r.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(t,s.options)}))}}]),n}();w5.type="languageDetector";const Cxe={common:{ok:"はい",cancel:"キャンセル",confirm:"確認",edit:"編集",back:"戻る",japanese:"日本語",chinese:"中国語",group:"グループ",addButton:"追加",all:"全て",deleteButton:"削除",loading:"ローディング中...",pleaseLogin:"ログインしてください",search:"検索...",details:"詳細",save:"保存",export:"エクスポート",exportSuccess:"エクスポートに成功しました",exportError:"エクスポートに失敗しました",notFound:"単語が見つかりません"},nav:{task:"タスク",practise:"練習",add:"単語追加",wordlist:"単語帳",profile:"プロフィール"},review:{addButton:"単語を追加",todayReview:"今日の復習",correctRate:"正解率",totalReviews:"総復習回数",totalWords:"単語総数",showAnswer:"答えを見る",remembered:"覚えた",forgotten:"忘れた",completedWords:"完成",completed:"今日の復習は終わりました！",accuracy:"正解率",memoryLevel:"レベル"},practise:{minStage:"最小ステージ",maxStage:"最大ステージ",next:"次の単語",japanese:"日本語問題",chinese:"中国語問題"},addWord:{listTitle:"単語リスト",emptyList:"まだ単語がありません。",nextReview:"次の復習: {{date}}",deleteConfirm:{title:"削除の確認",content:"この単語を削除してもよろしいですか？"},batchUploadTitle:"一括アップロード（JSON形式）",batchUploadButton:"一括アップロード",invalidJSON:"無効なJSON形式です",batchUploadResult:"アップロード完了：成功 {{success}} 件、失敗 {{error}} 件",addSuccess:"追加しました",addError:"追加に失敗しました",noSearchResults:"一致する単語が見つかりません",requiredFields:"日本語と中国語は必須です"},profile:{title:"プロフィール",verified:"認証済み",logoutButton:"ログアウト",logoutSuccess:"ログアウトしました",logoutError:"ログアウトに失敗しました",changePassword:"パスワード変更",newPassword:"新しいパスワード",confirmPassword:"パスワード（確認）",passwordRequired:"パスワードを入力してください",confirmPasswordRequired:"確認用パスワードを入力してください",passwordMinLength:"パスワードは6文字以上で入力してください",passwordMismatch:"パスワードが一致しません",passwordUpdateSuccess:"パスワードを更新しました",passwordUpdateError:"パスワードの更新に失敗しました"},login:{solgen:"忘れる前に覚える、新しい単語習得の旅へ。",title:{login:"ログイン",register:"新規登録"},placeholder:{email:"メールアドレス",password:"パスワード"},button:{login:"ログイン",register:"登録",switchToRegister:"新規登録へ",switchToLogin:"ログインへ"},errorMessages:{emailRequired:"メールアドレスを入力してください。",passwordRequired:"パスワードを入力してください。",loginFailed:"ログインに失敗しました",registerFailed:"登録に失敗しました"},successMessages:{loginSuccess:"ログインしました",registerSuccess:"登録しました"}},verification:{title:"メール認証が必要です",description:"続行するにはメールアドレスを認証してください。受信トレイで認証メールを確認してください。",resendButton:"認証メールを再送する",emailSentSuccess:"認証メールを送信しました！",emailSentError:"認証メールの送信に失敗しました。もう一度お試しください。"},group:{settings:"グループ設定",create:"新規グループ作成",nameInputPlaceholder:"グループ名を入力してください",createSuccess:"グループを作成しました",updateSuccess:"グループを更新しました",createError:"グループの作成に失敗しました",updateError:"グループの更新に失敗しました"}};er.use(w5).use(TOe).init({resources:{ja:{translation:Cxe}},fallbackLng:"ja",interpolation:{escapeValue:!1}});q0.createRoot(document.getElementById("root")).render(A.jsx(g.StrictMode,{children:A.jsx(BB,{children:A.jsx(cxe,{})})}));
