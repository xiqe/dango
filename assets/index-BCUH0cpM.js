var b5=Object.defineProperty;var w5=(n,e,t)=>e in n?b5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Us=(n,e,t)=>(w5(n,typeof e!="symbol"?e+"":e,t),t);function E5(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ge(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vk={exports:{}},rv={},_k={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=Symbol.for("react.element"),S5=Symbol.for("react.portal"),C5=Symbol.for("react.fragment"),T5=Symbol.for("react.strict_mode"),O5=Symbol.for("react.profiler"),I5=Symbol.for("react.provider"),P5=Symbol.for("react.context"),x5=Symbol.for("react.forward_ref"),R5=Symbol.for("react.suspense"),A5=Symbol.for("react.memo"),D5=Symbol.for("react.lazy"),lI=Symbol.iterator;function k5(n){return n===null||typeof n!="object"?null:(n=lI&&n[lI]||n["@@iterator"],typeof n=="function"?n:null)}var bk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wk=Object.assign,Ek={};function ed(n,e,t){this.props=n,this.context=e,this.refs=Ek,this.updater=t||bk}ed.prototype.isReactComponent={};ed.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ed.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Sk(){}Sk.prototype=ed.prototype;function dC(n,e,t){this.props=n,this.context=e,this.refs=Ek,this.updater=t||bk}var hC=dC.prototype=new Sk;hC.constructor=dC;wk(hC,ed.prototype);hC.isPureReactComponent=!0;var uI=Array.isArray,Ck=Object.prototype.hasOwnProperty,fC={current:null},Tk={key:!0,ref:!0,__self:!0,__source:!0};function Ok(n,e,t){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Ck.call(e,r)&&!Tk.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Yf,type:n,key:i,ref:a,props:s,_owner:fC.current}}function N5(n,e){return{$$typeof:Yf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function pC(n){return typeof n=="object"&&n!==null&&n.$$typeof===Yf}function $5(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var cI=/\/+/g;function nb(n,e){return typeof n=="object"&&n!==null&&n.key!=null?$5(""+n.key):e.toString(36)}function Kg(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Yf:case S5:a=!0}}if(a)return a=n,s=s(a),n=r===""?"."+nb(a,0):r,uI(s)?(t="",n!=null&&(t=n.replace(cI,"$&/")+"/"),Kg(s,e,t,"",function(u){return u})):s!=null&&(pC(s)&&(s=N5(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(cI,"$&/")+"/")+n)),e.push(s)),1;if(a=0,r=r===""?".":r+":",uI(n))for(var o=0;o<n.length;o++){i=n[o];var l=r+nb(i,o);a+=Kg(i,e,t,l,s)}else if(l=k5(n),typeof l=="function")for(n=l.call(n),o=0;!(i=n.next()).done;)i=i.value,l=r+nb(i,o++),a+=Kg(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function eg(n,e,t){if(n==null)return n;var r=[],s=0;return Kg(n,r,"","",function(i){return e.call(t,i,s++)}),r}function L5(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ar={current:null},Wg={transition:null},M5={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Wg,ReactCurrentOwner:fC};function Ik(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:eg,forEach:function(n,e,t){eg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return eg(n,function(){e++}),e},toArray:function(n){return eg(n,function(e){return e})||[]},only:function(n){if(!pC(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ne.Component=ed;Ne.Fragment=C5;Ne.Profiler=O5;Ne.PureComponent=dC;Ne.StrictMode=T5;Ne.Suspense=R5;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M5;Ne.act=Ik;Ne.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=wk({},n.props),s=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=fC.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)Ck.call(e,l)&&!Tk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Yf,type:n.type,key:s,ref:i,props:r,_owner:a}};Ne.createContext=function(n){return n={$$typeof:P5,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:I5,_context:n},n.Consumer=n};Ne.createElement=Ok;Ne.createFactory=function(n){var e=Ok.bind(null,n);return e.type=n,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(n){return{$$typeof:x5,render:n}};Ne.isValidElement=pC;Ne.lazy=function(n){return{$$typeof:D5,_payload:{_status:-1,_result:n},_init:L5}};Ne.memo=function(n,e){return{$$typeof:A5,type:n,compare:e===void 0?null:e}};Ne.startTransition=function(n){var e=Wg.transition;Wg.transition={};try{n()}finally{Wg.transition=e}};Ne.unstable_act=Ik;Ne.useCallback=function(n,e){return Ar.current.useCallback(n,e)};Ne.useContext=function(n){return Ar.current.useContext(n)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(n){return Ar.current.useDeferredValue(n)};Ne.useEffect=function(n,e){return Ar.current.useEffect(n,e)};Ne.useId=function(){return Ar.current.useId()};Ne.useImperativeHandle=function(n,e,t){return Ar.current.useImperativeHandle(n,e,t)};Ne.useInsertionEffect=function(n,e){return Ar.current.useInsertionEffect(n,e)};Ne.useLayoutEffect=function(n,e){return Ar.current.useLayoutEffect(n,e)};Ne.useMemo=function(n,e){return Ar.current.useMemo(n,e)};Ne.useReducer=function(n,e,t){return Ar.current.useReducer(n,e,t)};Ne.useRef=function(n){return Ar.current.useRef(n)};Ne.useState=function(n){return Ar.current.useState(n)};Ne.useSyncExternalStore=function(n,e,t){return Ar.current.useSyncExternalStore(n,e,t)};Ne.useTransition=function(){return Ar.current.useTransition()};Ne.version="18.3.1";_k.exports=Ne;var T=_k.exports;const g=ge(T),F5=E5({__proto__:null,default:g},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5=T,V5=Symbol.for("react.element"),U5=Symbol.for("react.fragment"),B5=Object.prototype.hasOwnProperty,H5=j5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z5={key:!0,ref:!0,__self:!0,__source:!0};function Pk(n,e,t){var r,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)B5.call(e,r)&&!z5.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:V5,type:n,key:i,ref:a,props:s,_owner:H5.current}}rv.Fragment=U5;rv.jsx=Pk;rv.jsxs=Pk;vk.exports=rv;var R=vk.exports,X0={},xk={exports:{}},ls={},Rk={exports:{}},Ak={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e($,j){var M=$.length;$.push(j);e:for(;0<M;){var te=M-1>>>1,Q=$[te];if(0<s(Q,j))$[te]=j,$[M]=Q,M=te;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var j=$[0],M=$.pop();if(M!==j){$[0]=M;e:for(var te=0,Q=$.length,ie=Q>>>1;te<ie;){var le=2*(te+1)-1,Ee=$[le],he=le+1,de=$[he];if(0>s(Ee,M))he<Q&&0>s(de,Ee)?($[te]=de,$[he]=M,te=he):($[te]=Ee,$[le]=M,te=le);else if(he<Q&&0>s(de,M))$[te]=de,$[he]=M,te=he;else break e}}return j}function s($,j){var M=$.sortIndex-j.sortIndex;return M!==0?M:$.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,_=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var j=t(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=$)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function E($){if(m=!1,w($),!_)if(t(l)!==null)_=!0,F(S);else{var j=t(u);j!==null&&W(E,j.startTime-$)}}function S($,j){_=!1,m&&(m=!1,y(I),I=-1),p=!0;var M=f;try{for(w(j),h=t(l);h!==null&&(!(h.expirationTime>j)||$&&!D());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var Q=te(h.expirationTime<=j);j=n.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(l)&&r(l),w(j)}else r(l);h=t(l)}if(h!==null)var ie=!0;else{var le=t(u);le!==null&&W(E,le.startTime-j),ie=!1}return ie}finally{h=null,f=M,p=!1}}var C=!1,O=null,I=-1,P=5,x=-1;function D(){return!(n.unstable_now()-x<P)}function N(){if(O!==null){var $=n.unstable_now();x=$;var j=!0;try{j=O(!0,$)}finally{j?L():(C=!1,O=null)}}else C=!1}var L;if(typeof b=="function")L=function(){b(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=N,L=function(){B.postMessage(null)}}else L=function(){v(N,0)};function F($){O=$,C||(C=!0,L())}function W($,j){I=v(function(){$(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){_||p||(_=!0,F(S))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function($){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var M=f;f=j;try{return $()}finally{f=M}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,j){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var M=f;f=$;try{return j()}finally{f=M}},n.unstable_scheduleCallback=function($,j,M){var te=n.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?te+M:te):M=te,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=M+Q,$={id:d++,callback:j,priorityLevel:$,startTime:M,expirationTime:Q,sortIndex:-1},M>te?($.sortIndex=M,e(u,$),t(l)===null&&$===t(u)&&(m?(y(I),I=-1):m=!0,W(E,M-te))):($.sortIndex=Q,e(l,$),_||p||(_=!0,F(S))),$},n.unstable_shouldYield=D,n.unstable_wrapCallback=function($){var j=f;return function(){var M=f;f=j;try{return $.apply(this,arguments)}finally{f=M}}}})(Ak);Rk.exports=Ak;var K5=Rk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W5=T,ss=K5;function G(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dk=new Set,Hh={};function tu(n,e){Ic(n,e),Ic(n+"Capture",e)}function Ic(n,e){for(Hh[n]=e,n=0;n<e.length;n++)Dk.add(e[n])}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q0=Object.prototype.hasOwnProperty,G5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dI={},hI={};function Y5(n){return Q0.call(hI,n)?!0:Q0.call(dI,n)?!1:G5.test(n)?hI[n]=!0:(dI[n]=!0,!1)}function q5(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function X5(n,e,t,r){if(e===null||typeof e>"u"||q5(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dr(n,e,t,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Qn[n]=new Dr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Qn[e]=new Dr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Qn[n]=new Dr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Qn[n]=new Dr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Qn[n]=new Dr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Qn[n]=new Dr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Qn[n]=new Dr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Qn[n]=new Dr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Qn[n]=new Dr(n,5,!1,n.toLowerCase(),null,!1,!1)});var gC=/[\-:]([a-z])/g;function mC(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(gC,mC);Qn[e]=new Dr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(gC,mC);Qn[e]=new Dr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(gC,mC);Qn[e]=new Dr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Qn[n]=new Dr(n,1,!1,n.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Qn[n]=new Dr(n,1,!1,n.toLowerCase(),null,!0,!0)});function yC(n,e,t,r){var s=Qn.hasOwnProperty(e)?Qn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(X5(e,t,s,r)&&(t=null),r||s===null?Y5(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Fa=W5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tg=Symbol.for("react.element"),Hu=Symbol.for("react.portal"),zu=Symbol.for("react.fragment"),vC=Symbol.for("react.strict_mode"),Z0=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),Nk=Symbol.for("react.context"),_C=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),ew=Symbol.for("react.suspense_list"),bC=Symbol.for("react.memo"),Za=Symbol.for("react.lazy"),$k=Symbol.for("react.offscreen"),fI=Symbol.iterator;function Nd(n){return n===null||typeof n!="object"?null:(n=fI&&n[fI]||n["@@iterator"],typeof n=="function"?n:null)}var Wt=Object.assign,rb;function ih(n){if(rb===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);rb=e&&e[1]||""}return`
`+rb+n}var sb=!1;function ib(n,e){if(!n||sb)return"";sb=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{sb=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ih(n):""}function Q5(n){switch(n.tag){case 5:return ih(n.type);case 16:return ih("Lazy");case 13:return ih("Suspense");case 19:return ih("SuspenseList");case 0:case 2:case 15:return n=ib(n.type,!1),n;case 11:return n=ib(n.type.render,!1),n;case 1:return n=ib(n.type,!0),n;default:return""}}function tw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case zu:return"Fragment";case Hu:return"Portal";case Z0:return"Profiler";case vC:return"StrictMode";case J0:return"Suspense";case ew:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Nk:return(n.displayName||"Context")+".Consumer";case kk:return(n._context.displayName||"Context")+".Provider";case _C:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case bC:return e=n.displayName||null,e!==null?e:tw(n.type)||"Memo";case Za:e=n._payload,n=n._init;try{return tw(n(e))}catch{}}return null}function Z5(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tw(e);case 8:return e===vC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Do(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J5(n){var e=Lk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ng(n){n._valueTracker||(n._valueTracker=J5(n))}function Mk(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Lk(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Om(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function nw(n,e){var t=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function pI(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Do(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fk(n,e){e=e.checked,e!=null&&yC(n,"checked",e,!1)}function rw(n,e){Fk(n,e);var t=Do(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?sw(n,e.type,t):e.hasOwnProperty("defaultValue")&&sw(n,e.type,Do(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function gI(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function sw(n,e,t){(e!=="number"||Om(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ah=Array.isArray;function dc(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Do(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function iw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function mI(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(G(92));if(ah(t)){if(1<t.length)throw Error(G(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Do(t)}}function jk(n,e){var t=Do(e.value),r=Do(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function yI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Vk(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Vk(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var rg,Uk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(rg=rg||document.createElement("div"),rg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function zh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var bh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eU=["Webkit","ms","Moz","O"];Object.keys(bh).forEach(function(n){eU.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),bh[e]=bh[n]})});function Bk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||bh.hasOwnProperty(n)&&bh[n]?(""+e).trim():e+"px"}function Hk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=Bk(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var tU=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ow(n,e){if(e){if(tU[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function lw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uw=null;function wC(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var cw=null,hc=null,fc=null;function vI(n){if(n=Qf(n)){if(typeof cw!="function")throw Error(G(280));var e=n.stateNode;e&&(e=lv(e),cw(n.stateNode,n.type,e))}}function zk(n){hc?fc?fc.push(n):fc=[n]:hc=n}function Kk(){if(hc){var n=hc,e=fc;if(fc=hc=null,vI(n),e)for(n=0;n<e.length;n++)vI(e[n])}}function Wk(n,e){return n(e)}function Gk(){}var ab=!1;function Yk(n,e,t){if(ab)return n(e,t);ab=!0;try{return Wk(n,e,t)}finally{ab=!1,(hc!==null||fc!==null)&&(Gk(),Kk())}}function Kh(n,e){var t=n.stateNode;if(t===null)return null;var r=lv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(G(231,e,typeof t));return t}var dw=!1;if(Sa)try{var $d={};Object.defineProperty($d,"passive",{get:function(){dw=!0}}),window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{dw=!1}function nU(n,e,t,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var wh=!1,Im=null,Pm=!1,hw=null,rU={onError:function(n){wh=!0,Im=n}};function sU(n,e,t,r,s,i,a,o,l){wh=!1,Im=null,nU.apply(rU,arguments)}function iU(n,e,t,r,s,i,a,o,l){if(sU.apply(this,arguments),wh){if(wh){var u=Im;wh=!1,Im=null}else throw Error(G(198));Pm||(Pm=!0,hw=u)}}function nu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function qk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function _I(n){if(nu(n)!==n)throw Error(G(188))}function aU(n){var e=n.alternate;if(!e){if(e=nu(n),e===null)throw Error(G(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return _I(s),n;if(i===r)return _I(s),e;i=i.sibling}throw Error(G(188))}if(t.return!==r.return)t=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a)throw Error(G(189))}}if(t.alternate!==r)throw Error(G(190))}if(t.tag!==3)throw Error(G(188));return t.stateNode.current===t?n:e}function Xk(n){return n=aU(n),n!==null?Qk(n):null}function Qk(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Qk(n);if(e!==null)return e;n=n.sibling}return null}var Zk=ss.unstable_scheduleCallback,bI=ss.unstable_cancelCallback,oU=ss.unstable_shouldYield,lU=ss.unstable_requestPaint,on=ss.unstable_now,uU=ss.unstable_getCurrentPriorityLevel,EC=ss.unstable_ImmediatePriority,Jk=ss.unstable_UserBlockingPriority,xm=ss.unstable_NormalPriority,cU=ss.unstable_LowPriority,eN=ss.unstable_IdlePriority,sv=null,$i=null;function dU(n){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(sv,n,void 0,(n.current.flags&128)===128)}catch{}}var Js=Math.clz32?Math.clz32:pU,hU=Math.log,fU=Math.LN2;function pU(n){return n>>>=0,n===0?32:31-(hU(n)/fU|0)|0}var sg=64,ig=4194304;function oh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Rm(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~s;o!==0?r=oh(o):(i&=a,i!==0&&(r=oh(i)))}else a=t&~s,a!==0?r=oh(a):i!==0&&(r=oh(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Js(e),s=1<<t,r|=n[t],e&=~s;return r}function gU(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mU(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-Js(i),o=1<<a,l=s[a];l===-1?(!(o&t)||o&r)&&(s[a]=gU(o,e)):l<=e&&(n.expiredLanes|=o),i&=~o}}function fw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tN(){var n=sg;return sg<<=1,!(sg&4194240)&&(sg=64),n}function ob(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function qf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Js(e),n[e]=t}function yU(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-Js(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function SC(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Js(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var ht=0;function nN(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var rN,CC,sN,iN,aN,pw=!1,ag=[],vo=null,_o=null,bo=null,Wh=new Map,Gh=new Map,no=[],vU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wI(n,e){switch(n){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":Wh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(e.pointerId)}}function Ld(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Qf(e),e!==null&&CC(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function _U(n,e,t,r,s){switch(e){case"focusin":return vo=Ld(vo,n,e,t,r,s),!0;case"dragenter":return _o=Ld(_o,n,e,t,r,s),!0;case"mouseover":return bo=Ld(bo,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return Wh.set(i,Ld(Wh.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gh.set(i,Ld(Gh.get(i)||null,n,e,t,r,s)),!0}return!1}function oN(n){var e=fl(n.target);if(e!==null){var t=nu(e);if(t!==null){if(e=t.tag,e===13){if(e=qk(t),e!==null){n.blockedOn=e,aN(n.priority,function(){sN(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=gw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);uw=r,t.target.dispatchEvent(r),uw=null}else return e=Qf(t),e!==null&&CC(e),n.blockedOn=t,!1;e.shift()}return!0}function EI(n,e,t){Gg(n)&&t.delete(e)}function bU(){pw=!1,vo!==null&&Gg(vo)&&(vo=null),_o!==null&&Gg(_o)&&(_o=null),bo!==null&&Gg(bo)&&(bo=null),Wh.forEach(EI),Gh.forEach(EI)}function Md(n,e){n.blockedOn===e&&(n.blockedOn=null,pw||(pw=!0,ss.unstable_scheduleCallback(ss.unstable_NormalPriority,bU)))}function Yh(n){function e(s){return Md(s,n)}if(0<ag.length){Md(ag[0],n);for(var t=1;t<ag.length;t++){var r=ag[t];r.blockedOn===n&&(r.blockedOn=null)}}for(vo!==null&&Md(vo,n),_o!==null&&Md(_o,n),bo!==null&&Md(bo,n),Wh.forEach(e),Gh.forEach(e),t=0;t<no.length;t++)r=no[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<no.length&&(t=no[0],t.blockedOn===null);)oN(t),t.blockedOn===null&&no.shift()}var pc=Fa.ReactCurrentBatchConfig,Am=!0;function wU(n,e,t,r){var s=ht,i=pc.transition;pc.transition=null;try{ht=1,TC(n,e,t,r)}finally{ht=s,pc.transition=i}}function EU(n,e,t,r){var s=ht,i=pc.transition;pc.transition=null;try{ht=4,TC(n,e,t,r)}finally{ht=s,pc.transition=i}}function TC(n,e,t,r){if(Am){var s=gw(n,e,t,r);if(s===null)yb(n,e,r,Dm,t),wI(n,r);else if(_U(s,n,e,t,r))r.stopPropagation();else if(wI(n,r),e&4&&-1<vU.indexOf(n)){for(;s!==null;){var i=Qf(s);if(i!==null&&rN(i),i=gw(n,e,t,r),i===null&&yb(n,e,r,Dm,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else yb(n,e,r,null,t)}}var Dm=null;function gw(n,e,t,r){if(Dm=null,n=wC(r),n=fl(n),n!==null)if(e=nu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=qk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Dm=n,null}function lN(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uU()){case EC:return 1;case Jk:return 4;case xm:case cU:return 16;case eN:return 536870912;default:return 16}default:return 16}}var uo=null,OC=null,Yg=null;function uN(){if(Yg)return Yg;var n,e=OC,t=e.length,r,s="value"in uo?uo.value:uo.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===s[i-r];r++);return Yg=s.slice(n,1<r?1-r:void 0)}function qg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function og(){return!0}function SI(){return!1}function us(n){function e(t,r,s,i,a){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?og:SI,this.isPropagationStopped=SI,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=og)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=og)},persist:function(){},isPersistent:og}),e}var td={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IC=us(td),Xf=Wt({},td,{view:0,detail:0}),SU=us(Xf),lb,ub,Fd,iv=Wt({},Xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PC,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fd&&(Fd&&n.type==="mousemove"?(lb=n.screenX-Fd.screenX,ub=n.screenY-Fd.screenY):ub=lb=0,Fd=n),lb)},movementY:function(n){return"movementY"in n?n.movementY:ub}}),CI=us(iv),CU=Wt({},iv,{dataTransfer:0}),TU=us(CU),OU=Wt({},Xf,{relatedTarget:0}),cb=us(OU),IU=Wt({},td,{animationName:0,elapsedTime:0,pseudoElement:0}),PU=us(IU),xU=Wt({},td,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),RU=us(xU),AU=Wt({},td,{data:0}),TI=us(AU),DU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $U(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=NU[n])?!!e[n]:!1}function PC(){return $U}var LU=Wt({},Xf,{key:function(n){if(n.key){var e=DU[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=qg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kU[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PC,charCode:function(n){return n.type==="keypress"?qg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),MU=us(LU),FU=Wt({},iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OI=us(FU),jU=Wt({},Xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PC}),VU=us(jU),UU=Wt({},td,{propertyName:0,elapsedTime:0,pseudoElement:0}),BU=us(UU),HU=Wt({},iv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zU=us(HU),KU=[9,13,27,32],xC=Sa&&"CompositionEvent"in window,Eh=null;Sa&&"documentMode"in document&&(Eh=document.documentMode);var WU=Sa&&"TextEvent"in window&&!Eh,cN=Sa&&(!xC||Eh&&8<Eh&&11>=Eh),II=" ",PI=!1;function dN(n,e){switch(n){case"keyup":return KU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hN(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ku=!1;function GU(n,e){switch(n){case"compositionend":return hN(e);case"keypress":return e.which!==32?null:(PI=!0,II);case"textInput":return n=e.data,n===II&&PI?null:n;default:return null}}function YU(n,e){if(Ku)return n==="compositionend"||!xC&&dN(n,e)?(n=uN(),Yg=OC=uo=null,Ku=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cN&&e.locale!=="ko"?null:e.data;default:return null}}var qU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!qU[n.type]:e==="textarea"}function fN(n,e,t,r){zk(r),e=km(e,"onChange"),0<e.length&&(t=new IC("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Sh=null,qh=null;function XU(n){CN(n,0)}function av(n){var e=Yu(n);if(Mk(e))return n}function QU(n,e){if(n==="change")return e}var pN=!1;if(Sa){var db;if(Sa){var hb="oninput"in document;if(!hb){var RI=document.createElement("div");RI.setAttribute("oninput","return;"),hb=typeof RI.oninput=="function"}db=hb}else db=!1;pN=db&&(!document.documentMode||9<document.documentMode)}function AI(){Sh&&(Sh.detachEvent("onpropertychange",gN),qh=Sh=null)}function gN(n){if(n.propertyName==="value"&&av(qh)){var e=[];fN(e,qh,n,wC(n)),Yk(XU,e)}}function ZU(n,e,t){n==="focusin"?(AI(),Sh=e,qh=t,Sh.attachEvent("onpropertychange",gN)):n==="focusout"&&AI()}function JU(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return av(qh)}function e6(n,e){if(n==="click")return av(e)}function t6(n,e){if(n==="input"||n==="change")return av(e)}function n6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var si=typeof Object.is=="function"?Object.is:n6;function Xh(n,e){if(si(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!Q0.call(e,s)||!si(n[s],e[s]))return!1}return!0}function DI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function kI(n,e){var t=DI(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=DI(t)}}function mN(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?mN(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function yN(){for(var n=window,e=Om();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Om(n.document)}return e}function RC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function r6(n){var e=yN(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&mN(t.ownerDocument.documentElement,t)){if(r!==null&&RC(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=kI(t,i);var a=kI(t,r);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var s6=Sa&&"documentMode"in document&&11>=document.documentMode,Wu=null,mw=null,Ch=null,yw=!1;function NI(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;yw||Wu==null||Wu!==Om(r)||(r=Wu,"selectionStart"in r&&RC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ch&&Xh(Ch,r)||(Ch=r,r=km(mw,"onSelect"),0<r.length&&(e=new IC("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Wu)))}function lg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Gu={animationend:lg("Animation","AnimationEnd"),animationiteration:lg("Animation","AnimationIteration"),animationstart:lg("Animation","AnimationStart"),transitionend:lg("Transition","TransitionEnd")},fb={},vN={};Sa&&(vN=document.createElement("div").style,"AnimationEvent"in window||(delete Gu.animationend.animation,delete Gu.animationiteration.animation,delete Gu.animationstart.animation),"TransitionEvent"in window||delete Gu.transitionend.transition);function ov(n){if(fb[n])return fb[n];if(!Gu[n])return n;var e=Gu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in vN)return fb[n]=e[t];return n}var _N=ov("animationend"),bN=ov("animationiteration"),wN=ov("animationstart"),EN=ov("transitionend"),SN=new Map,$I="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(n,e){SN.set(n,e),tu(e,[n])}for(var pb=0;pb<$I.length;pb++){var gb=$I[pb],i6=gb.toLowerCase(),a6=gb[0].toUpperCase()+gb.slice(1);jo(i6,"on"+a6)}jo(_N,"onAnimationEnd");jo(bN,"onAnimationIteration");jo(wN,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(EN,"onTransitionEnd");Ic("onMouseEnter",["mouseout","mouseover"]);Ic("onMouseLeave",["mouseout","mouseover"]);Ic("onPointerEnter",["pointerout","pointerover"]);Ic("onPointerLeave",["pointerout","pointerover"]);tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o6=new Set("cancel close invalid load scroll toggle".split(" ").concat(lh));function LI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,iU(r,e,void 0,n),n.currentTarget=null}function CN(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;LI(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;LI(s,o,u),i=l}}}if(Pm)throw n=hw,Pm=!1,hw=null,n}function Pt(n,e){var t=e[Ew];t===void 0&&(t=e[Ew]=new Set);var r=n+"__bubble";t.has(r)||(TN(e,n,2,!1),t.add(r))}function mb(n,e,t){var r=0;e&&(r|=4),TN(t,n,r,e)}var ug="_reactListening"+Math.random().toString(36).slice(2);function Qh(n){if(!n[ug]){n[ug]=!0,Dk.forEach(function(t){t!=="selectionchange"&&(o6.has(t)||mb(t,!1,n),mb(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ug]||(e[ug]=!0,mb("selectionchange",!1,e))}}function TN(n,e,t,r){switch(lN(e)){case 1:var s=wU;break;case 4:s=EU;break;default:s=TC}t=s.bind(null,e,t,n),s=void 0,!dw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function yb(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=fl(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Yk(function(){var u=i,d=wC(t),h=[];e:{var f=SN.get(n);if(f!==void 0){var p=IC,_=n;switch(n){case"keypress":if(qg(t)===0)break e;case"keydown":case"keyup":p=MU;break;case"focusin":_="focus",p=cb;break;case"focusout":_="blur",p=cb;break;case"beforeblur":case"afterblur":p=cb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=TU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VU;break;case _N:case bN:case wN:p=PU;break;case EN:p=BU;break;case"scroll":p=SU;break;case"wheel":p=zU;break;case"copy":case"cut":case"paste":p=RU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=OI}var m=(e&4)!==0,v=!m&&n==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var b=u,w;b!==null;){w=b;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=Kh(b,y),E!=null&&m.push(Zh(b,E,w)))),v)break;b=b.return}0<m.length&&(f=new p(f,_,null,t,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==uw&&(_=t.relatedTarget||t.fromElement)&&(fl(_)||_[Ca]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=t.relatedTarget||t.toElement,p=u,_=_?fl(_):null,_!==null&&(v=nu(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(m=CI,E="onMouseLeave",y="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(m=OI,E="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?f:Yu(p),w=_==null?f:Yu(_),f=new m(E,b+"leave",p,t,d),f.target=v,f.relatedTarget=w,E=null,fl(d)===u&&(m=new m(y,b+"enter",_,t,d),m.target=w,m.relatedTarget=v,E=m),v=E,p&&_)t:{for(m=p,y=_,b=0,w=m;w;w=Su(w))b++;for(w=0,E=y;E;E=Su(E))w++;for(;0<b-w;)m=Su(m),b--;for(;0<w-b;)y=Su(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Su(m),y=Su(y)}m=null}else m=null;p!==null&&MI(h,f,p,m,!1),_!==null&&v!==null&&MI(h,v,_,m,!0)}}e:{if(f=u?Yu(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=QU;else if(xI(f))if(pN)S=t6;else{S=JU;var C=ZU}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=e6);if(S&&(S=S(n,u))){fN(h,S,t,d);break e}C&&C(n,f,u),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&sw(f,"number",f.value)}switch(C=u?Yu(u):window,n){case"focusin":(xI(C)||C.contentEditable==="true")&&(Wu=C,mw=u,Ch=null);break;case"focusout":Ch=mw=Wu=null;break;case"mousedown":yw=!0;break;case"contextmenu":case"mouseup":case"dragend":yw=!1,NI(h,t,d);break;case"selectionchange":if(s6)break;case"keydown":case"keyup":NI(h,t,d)}var O;if(xC)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ku?dN(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(cN&&t.locale!=="ko"&&(Ku||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ku&&(O=uN()):(uo=d,OC="value"in uo?uo.value:uo.textContent,Ku=!0)),C=km(u,I),0<C.length&&(I=new TI(I,n,null,t,d),h.push({event:I,listeners:C}),O?I.data=O:(O=hN(t),O!==null&&(I.data=O)))),(O=WU?GU(n,t):YU(n,t))&&(u=km(u,"onBeforeInput"),0<u.length&&(d=new TI("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=O))}CN(h,e)})}function Zh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function km(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Kh(n,t),i!=null&&r.unshift(Zh(n,i,s)),i=Kh(n,e),i!=null&&r.push(Zh(n,i,s))),n=n.return}return r}function Su(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function MI(n,e,t,r,s){for(var i=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Kh(t,i),l!=null&&a.unshift(Zh(t,l,o))):s||(l=Kh(t,i),l!=null&&a.push(Zh(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var l6=/\r\n?/g,u6=/\u0000|\uFFFD/g;function FI(n){return(typeof n=="string"?n:""+n).replace(l6,`
`).replace(u6,"")}function cg(n,e,t){if(e=FI(e),FI(n)!==e&&t)throw Error(G(425))}function Nm(){}var vw=null,_w=null;function bw(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ww=typeof setTimeout=="function"?setTimeout:void 0,c6=typeof clearTimeout=="function"?clearTimeout:void 0,jI=typeof Promise=="function"?Promise:void 0,d6=typeof queueMicrotask=="function"?queueMicrotask:typeof jI<"u"?function(n){return jI.resolve(null).then(n).catch(h6)}:ww;function h6(n){setTimeout(function(){throw n})}function vb(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),Yh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Yh(e)}function wo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function VI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var nd=Math.random().toString(36).slice(2),Ci="__reactFiber$"+nd,Jh="__reactProps$"+nd,Ca="__reactContainer$"+nd,Ew="__reactEvents$"+nd,f6="__reactListeners$"+nd,p6="__reactHandles$"+nd;function fl(n){var e=n[Ci];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ca]||t[Ci]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=VI(n);n!==null;){if(t=n[Ci])return t;n=VI(n)}return e}n=t,t=n.parentNode}return null}function Qf(n){return n=n[Ci]||n[Ca],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Yu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(G(33))}function lv(n){return n[Jh]||null}var Sw=[],qu=-1;function Vo(n){return{current:n}}function Dt(n){0>qu||(n.current=Sw[qu],Sw[qu]=null,qu--)}function wt(n,e){qu++,Sw[qu]=n.current,n.current=e}var ko={},mr=Vo(ko),zr=Vo(!1),Nl=ko;function Pc(n,e){var t=n.type.contextTypes;if(!t)return ko;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Kr(n){return n=n.childContextTypes,n!=null}function $m(){Dt(zr),Dt(mr)}function UI(n,e,t){if(mr.current!==ko)throw Error(G(168));wt(mr,e),wt(zr,t)}function ON(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,Z5(n)||"Unknown",s));return Wt({},t,r)}function Lm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ko,Nl=mr.current,wt(mr,n),wt(zr,zr.current),!0}function BI(n,e,t){var r=n.stateNode;if(!r)throw Error(G(169));t?(n=ON(n,e,Nl),r.__reactInternalMemoizedMergedChildContext=n,Dt(zr),Dt(mr),wt(mr,n)):Dt(zr),wt(zr,t)}var ua=null,uv=!1,_b=!1;function IN(n){ua===null?ua=[n]:ua.push(n)}function g6(n){uv=!0,IN(n)}function Uo(){if(!_b&&ua!==null){_b=!0;var n=0,e=ht;try{var t=ua;for(ht=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ua=null,uv=!1}catch(s){throw ua!==null&&(ua=ua.slice(n+1)),Zk(EC,Uo),s}finally{ht=e,_b=!1}}return null}var Xu=[],Qu=0,Mm=null,Fm=0,vs=[],_s=0,$l=null,da=1,ha="";function sl(n,e){Xu[Qu++]=Fm,Xu[Qu++]=Mm,Mm=n,Fm=e}function PN(n,e,t){vs[_s++]=da,vs[_s++]=ha,vs[_s++]=$l,$l=n;var r=da;n=ha;var s=32-Js(r)-1;r&=~(1<<s),t+=1;var i=32-Js(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,da=1<<32-Js(e)+s|t<<s|r,ha=i+n}else da=1<<i|t<<s|r,ha=n}function AC(n){n.return!==null&&(sl(n,1),PN(n,1,0))}function DC(n){for(;n===Mm;)Mm=Xu[--Qu],Xu[Qu]=null,Fm=Xu[--Qu],Xu[Qu]=null;for(;n===$l;)$l=vs[--_s],vs[_s]=null,ha=vs[--_s],vs[_s]=null,da=vs[--_s],vs[_s]=null}var rs=null,es=null,Ft=!1,qs=null;function xN(n,e){var t=Ts(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function HI(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,rs=n,es=wo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,rs=n,es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=$l!==null?{id:da,overflow:ha}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ts(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,rs=n,es=null,!0):!1;default:return!1}}function Cw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Tw(n){if(Ft){var e=es;if(e){var t=e;if(!HI(n,e)){if(Cw(n))throw Error(G(418));e=wo(t.nextSibling);var r=rs;e&&HI(n,e)?xN(r,t):(n.flags=n.flags&-4097|2,Ft=!1,rs=n)}}else{if(Cw(n))throw Error(G(418));n.flags=n.flags&-4097|2,Ft=!1,rs=n}}}function zI(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rs=n}function dg(n){if(n!==rs)return!1;if(!Ft)return zI(n),Ft=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!bw(n.type,n.memoizedProps)),e&&(e=es)){if(Cw(n))throw RN(),Error(G(418));for(;e;)xN(n,e),e=wo(e.nextSibling)}if(zI(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(G(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){es=wo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}es=null}}else es=rs?wo(n.stateNode.nextSibling):null;return!0}function RN(){for(var n=es;n;)n=wo(n.nextSibling)}function xc(){es=rs=null,Ft=!1}function kC(n){qs===null?qs=[n]:qs.push(n)}var m6=Fa.ReactCurrentBatchConfig;function jd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(G(309));var r=t.stateNode}if(!r)throw Error(G(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(G(284));if(!t._owner)throw Error(G(290,n))}return n}function hg(n,e){throw n=Object.prototype.toString.call(e),Error(G(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function KI(n){var e=n._init;return e(n._payload)}function AN(n){function e(y,b){if(n){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function t(y,b){if(!n)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(y,b){return y=To(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function a(y){return n&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,E){return b===null||b.tag!==6?(b=Ob(w,y.mode,E),b.return=y,b):(b=s(b,w),b.return=y,b)}function l(y,b,w,E){var S=w.type;return S===zu?d(y,b,w.props.children,E,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Za&&KI(S)===b.type)?(E=s(b,w.props),E.ref=jd(y,b,w),E.return=y,E):(E=nm(w.type,w.key,w.props,null,y.mode,E),E.ref=jd(y,b,w),E.return=y,E)}function u(y,b,w,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Ib(w,y.mode,E),b.return=y,b):(b=s(b,w.children||[]),b.return=y,b)}function d(y,b,w,E,S){return b===null||b.tag!==7?(b=Tl(w,y.mode,E,S),b.return=y,b):(b=s(b,w),b.return=y,b)}function h(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ob(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tg:return w=nm(b.type,b.key,b.props,null,y.mode,w),w.ref=jd(y,null,b),w.return=y,w;case Hu:return b=Ib(b,y.mode,w),b.return=y,b;case Za:var E=b._init;return h(y,E(b._payload),w)}if(ah(b)||Nd(b))return b=Tl(b,y.mode,w,null),b.return=y,b;hg(y,b)}return null}function f(y,b,w,E){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:o(y,b,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tg:return w.key===S?l(y,b,w,E):null;case Hu:return w.key===S?u(y,b,w,E):null;case Za:return S=w._init,f(y,b,S(w._payload),E)}if(ah(w)||Nd(w))return S!==null?null:d(y,b,w,E,null);hg(y,w)}return null}function p(y,b,w,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,o(b,y,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case tg:return y=y.get(E.key===null?w:E.key)||null,l(b,y,E,S);case Hu:return y=y.get(E.key===null?w:E.key)||null,u(b,y,E,S);case Za:var C=E._init;return p(y,b,w,C(E._payload),S)}if(ah(E)||Nd(E))return y=y.get(w)||null,d(b,y,E,S,null);hg(b,E)}return null}function _(y,b,w,E){for(var S=null,C=null,O=b,I=b=0,P=null;O!==null&&I<w.length;I++){O.index>I?(P=O,O=null):P=O.sibling;var x=f(y,O,w[I],E);if(x===null){O===null&&(O=P);break}n&&O&&x.alternate===null&&e(y,O),b=i(x,b,I),C===null?S=x:C.sibling=x,C=x,O=P}if(I===w.length)return t(y,O),Ft&&sl(y,I),S;if(O===null){for(;I<w.length;I++)O=h(y,w[I],E),O!==null&&(b=i(O,b,I),C===null?S=O:C.sibling=O,C=O);return Ft&&sl(y,I),S}for(O=r(y,O);I<w.length;I++)P=p(O,y,I,w[I],E),P!==null&&(n&&P.alternate!==null&&O.delete(P.key===null?I:P.key),b=i(P,b,I),C===null?S=P:C.sibling=P,C=P);return n&&O.forEach(function(D){return e(y,D)}),Ft&&sl(y,I),S}function m(y,b,w,E){var S=Nd(w);if(typeof S!="function")throw Error(G(150));if(w=S.call(w),w==null)throw Error(G(151));for(var C=S=null,O=b,I=b=0,P=null,x=w.next();O!==null&&!x.done;I++,x=w.next()){O.index>I?(P=O,O=null):P=O.sibling;var D=f(y,O,x.value,E);if(D===null){O===null&&(O=P);break}n&&O&&D.alternate===null&&e(y,O),b=i(D,b,I),C===null?S=D:C.sibling=D,C=D,O=P}if(x.done)return t(y,O),Ft&&sl(y,I),S;if(O===null){for(;!x.done;I++,x=w.next())x=h(y,x.value,E),x!==null&&(b=i(x,b,I),C===null?S=x:C.sibling=x,C=x);return Ft&&sl(y,I),S}for(O=r(y,O);!x.done;I++,x=w.next())x=p(O,y,I,x.value,E),x!==null&&(n&&x.alternate!==null&&O.delete(x.key===null?I:x.key),b=i(x,b,I),C===null?S=x:C.sibling=x,C=x);return n&&O.forEach(function(N){return e(y,N)}),Ft&&sl(y,I),S}function v(y,b,w,E){if(typeof w=="object"&&w!==null&&w.type===zu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tg:e:{for(var S=w.key,C=b;C!==null;){if(C.key===S){if(S=w.type,S===zu){if(C.tag===7){t(y,C.sibling),b=s(C,w.props.children),b.return=y,y=b;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Za&&KI(S)===C.type){t(y,C.sibling),b=s(C,w.props),b.ref=jd(y,C,w),b.return=y,y=b;break e}t(y,C);break}else e(y,C);C=C.sibling}w.type===zu?(b=Tl(w.props.children,y.mode,E,w.key),b.return=y,y=b):(E=nm(w.type,w.key,w.props,null,y.mode,E),E.ref=jd(y,b,w),E.return=y,y=E)}return a(y);case Hu:e:{for(C=w.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){t(y,b.sibling),b=s(b,w.children||[]),b.return=y,y=b;break e}else{t(y,b);break}else e(y,b);b=b.sibling}b=Ib(w,y.mode,E),b.return=y,y=b}return a(y);case Za:return C=w._init,v(y,b,C(w._payload),E)}if(ah(w))return _(y,b,w,E);if(Nd(w))return m(y,b,w,E);hg(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(t(y,b.sibling),b=s(b,w),b.return=y,y=b):(t(y,b),b=Ob(w,y.mode,E),b.return=y,y=b),a(y)):t(y,b)}return v}var Rc=AN(!0),DN=AN(!1),jm=Vo(null),Vm=null,Zu=null,NC=null;function $C(){NC=Zu=Vm=null}function LC(n){var e=jm.current;Dt(jm),n._currentValue=e}function Ow(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function gc(n,e){Vm=n,NC=Zu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Br=!0),n.firstContext=null)}function ks(n){var e=n._currentValue;if(NC!==n)if(n={context:n,memoizedValue:e,next:null},Zu===null){if(Vm===null)throw Error(G(308));Zu=n,Vm.dependencies={lanes:0,firstContext:n}}else Zu=Zu.next=n;return e}var pl=null;function MC(n){pl===null?pl=[n]:pl.push(n)}function kN(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,MC(e)):(t.next=s.next,s.next=t),e.interleaved=t,Ta(n,r)}function Ta(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ja=!1;function FC(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NN(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ya(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Eo(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ta(n,t)}return s=r.interleaved,s===null?(e.next=e,MC(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ta(n,t)}function Xg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,SC(n,t)}}function WI(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Um(n,e,t,r){var s=n.updateQueue;Ja=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=u=l=null,o=i;do{var f=o.lane,p=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=n,m=o;switch(f=e,p=t,m.tag){case 1:if(_=m.payload,typeof _=="function"){h=_.call(p,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=m.payload,f=typeof _=="function"?_.call(p,h,f):_,f==null)break e;h=Wt({},h,f);break e;case 2:Ja=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ml|=a,n.lanes=a,n.memoizedState=h}}function GI(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Zf={},Li=Vo(Zf),ef=Vo(Zf),tf=Vo(Zf);function gl(n){if(n===Zf)throw Error(G(174));return n}function jC(n,e){switch(wt(tf,e),wt(ef,n),wt(Li,Zf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:aw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=aw(e,n)}Dt(Li),wt(Li,e)}function Ac(){Dt(Li),Dt(ef),Dt(tf)}function $N(n){gl(tf.current);var e=gl(Li.current),t=aw(e,n.type);e!==t&&(wt(ef,n),wt(Li,t))}function VC(n){ef.current===n&&(Dt(Li),Dt(ef))}var Ht=Vo(0);function Bm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bb=[];function UC(){for(var n=0;n<bb.length;n++)bb[n]._workInProgressVersionPrimary=null;bb.length=0}var Qg=Fa.ReactCurrentDispatcher,wb=Fa.ReactCurrentBatchConfig,Ll=0,Kt=null,Tn=null,Dn=null,Hm=!1,Th=!1,nf=0,y6=0;function nr(){throw Error(G(321))}function BC(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!si(n[t],e[t]))return!1;return!0}function HC(n,e,t,r,s,i){if(Ll=i,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qg.current=n===null||n.memoizedState===null?w6:E6,n=t(r,s),Th){i=0;do{if(Th=!1,nf=0,25<=i)throw Error(G(301));i+=1,Dn=Tn=null,e.updateQueue=null,Qg.current=S6,n=t(r,s)}while(Th)}if(Qg.current=zm,e=Tn!==null&&Tn.next!==null,Ll=0,Dn=Tn=Kt=null,Hm=!1,e)throw Error(G(300));return n}function zC(){var n=nf!==0;return nf=0,n}function Si(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Kt.memoizedState=Dn=n:Dn=Dn.next=n,Dn}function Ns(){if(Tn===null){var n=Kt.alternate;n=n!==null?n.memoizedState:null}else n=Tn.next;var e=Dn===null?Kt.memoizedState:Dn.next;if(e!==null)Dn=e,Tn=n;else{if(n===null)throw Error(G(310));Tn=n,n={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Dn===null?Kt.memoizedState=Dn=n:Dn=Dn.next=n}return Dn}function rf(n,e){return typeof e=="function"?e(n):e}function Eb(n){var e=Ns(),t=e.queue;if(t===null)throw Error(G(311));t.lastRenderedReducer=n;var r=Tn,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((Ll&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,Kt.lanes|=d,Ml|=d}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,si(r,e.memoizedState)||(Br=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,Kt.lanes|=i,Ml|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Sb(n){var e=Ns(),t=e.queue;if(t===null)throw Error(G(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do i=n(i,a.action),a=a.next;while(a!==s);si(i,e.memoizedState)||(Br=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function LN(){}function MN(n,e){var t=Kt,r=Ns(),s=e(),i=!si(r.memoizedState,s);if(i&&(r.memoizedState=s,Br=!0),r=r.queue,KC(VN.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Dn!==null&&Dn.memoizedState.tag&1){if(t.flags|=2048,sf(9,jN.bind(null,t,r,s,e),void 0,null),$n===null)throw Error(G(349));Ll&30||FN(t,e,s)}return s}function FN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function jN(n,e,t,r){e.value=t,e.getSnapshot=r,UN(e)&&BN(n)}function VN(n,e,t){return t(function(){UN(e)&&BN(n)})}function UN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!si(n,t)}catch{return!0}}function BN(n){var e=Ta(n,1);e!==null&&ei(e,n,1,-1)}function YI(n){var e=Si();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:n},e.queue=n,n=n.dispatch=b6.bind(null,Kt,n),[e.memoizedState,n]}function sf(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function HN(){return Ns().memoizedState}function Zg(n,e,t,r){var s=Si();Kt.flags|=n,s.memoizedState=sf(1|e,t,void 0,r===void 0?null:r)}function cv(n,e,t,r){var s=Ns();r=r===void 0?null:r;var i=void 0;if(Tn!==null){var a=Tn.memoizedState;if(i=a.destroy,r!==null&&BC(r,a.deps)){s.memoizedState=sf(e,t,i,r);return}}Kt.flags|=n,s.memoizedState=sf(1|e,t,i,r)}function qI(n,e){return Zg(8390656,8,n,e)}function KC(n,e){return cv(2048,8,n,e)}function zN(n,e){return cv(4,2,n,e)}function KN(n,e){return cv(4,4,n,e)}function WN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function GN(n,e,t){return t=t!=null?t.concat([n]):null,cv(4,4,WN.bind(null,e,n),t)}function WC(){}function YN(n,e){var t=Ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&BC(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function qN(n,e){var t=Ns();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&BC(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function XN(n,e,t){return Ll&21?(si(t,e)||(t=tN(),Kt.lanes|=t,Ml|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Br=!0),n.memoizedState=t)}function v6(n,e){var t=ht;ht=t!==0&&4>t?t:4,n(!0);var r=wb.transition;wb.transition={};try{n(!1),e()}finally{ht=t,wb.transition=r}}function QN(){return Ns().memoizedState}function _6(n,e,t){var r=Co(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},ZN(n))JN(e,t);else if(t=kN(n,e,t,r),t!==null){var s=Rr();ei(t,n,r,s),e$(t,e,r)}}function b6(n,e,t){var r=Co(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(ZN(n))JN(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,t);if(s.hasEagerState=!0,s.eagerState=o,si(o,a)){var l=e.interleaved;l===null?(s.next=s,MC(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=kN(n,e,s,r),t!==null&&(s=Rr(),ei(t,n,r,s),e$(t,e,r))}}function ZN(n){var e=n.alternate;return n===Kt||e!==null&&e===Kt}function JN(n,e){Th=Hm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function e$(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,SC(n,t)}}var zm={readContext:ks,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},w6={readContext:ks,useCallback:function(n,e){return Si().memoizedState=[n,e===void 0?null:e],n},useContext:ks,useEffect:qI,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Zg(4194308,4,WN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Zg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Zg(4,2,n,e)},useMemo:function(n,e){var t=Si();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Si();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=_6.bind(null,Kt,n),[r.memoizedState,n]},useRef:function(n){var e=Si();return n={current:n},e.memoizedState=n},useState:YI,useDebugValue:WC,useDeferredValue:function(n){return Si().memoizedState=n},useTransition:function(){var n=YI(!1),e=n[0];return n=v6.bind(null,n[1]),Si().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Kt,s=Si();if(Ft){if(t===void 0)throw Error(G(407));t=t()}else{if(t=e(),$n===null)throw Error(G(349));Ll&30||FN(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,qI(VN.bind(null,r,i,n),[n]),r.flags|=2048,sf(9,jN.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Si(),e=$n.identifierPrefix;if(Ft){var t=ha,r=da;t=(r&~(1<<32-Js(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=nf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=y6++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},E6={readContext:ks,useCallback:YN,useContext:ks,useEffect:KC,useImperativeHandle:GN,useInsertionEffect:zN,useLayoutEffect:KN,useMemo:qN,useReducer:Eb,useRef:HN,useState:function(){return Eb(rf)},useDebugValue:WC,useDeferredValue:function(n){var e=Ns();return XN(e,Tn.memoizedState,n)},useTransition:function(){var n=Eb(rf)[0],e=Ns().memoizedState;return[n,e]},useMutableSource:LN,useSyncExternalStore:MN,useId:QN,unstable_isNewReconciler:!1},S6={readContext:ks,useCallback:YN,useContext:ks,useEffect:KC,useImperativeHandle:GN,useInsertionEffect:zN,useLayoutEffect:KN,useMemo:qN,useReducer:Sb,useRef:HN,useState:function(){return Sb(rf)},useDebugValue:WC,useDeferredValue:function(n){var e=Ns();return Tn===null?e.memoizedState=n:XN(e,Tn.memoizedState,n)},useTransition:function(){var n=Sb(rf)[0],e=Ns().memoizedState;return[n,e]},useMutableSource:LN,useSyncExternalStore:MN,useId:QN,unstable_isNewReconciler:!1};function Gs(n,e){if(n&&n.defaultProps){e=Wt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Iw(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Wt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var dv={isMounted:function(n){return(n=n._reactInternals)?nu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Rr(),s=Co(n),i=ya(r,s);i.payload=e,t!=null&&(i.callback=t),e=Eo(n,i,s),e!==null&&(ei(e,n,s,r),Xg(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Rr(),s=Co(n),i=ya(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Eo(n,i,s),e!==null&&(ei(e,n,s,r),Xg(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Rr(),r=Co(n),s=ya(t,r);s.tag=2,e!=null&&(s.callback=e),e=Eo(n,s,r),e!==null&&(ei(e,n,r,t),Xg(e,n,r))}};function XI(n,e,t,r,s,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Xh(t,r)||!Xh(s,i):!0}function t$(n,e,t){var r=!1,s=ko,i=e.contextType;return typeof i=="object"&&i!==null?i=ks(i):(s=Kr(e)?Nl:mr.current,r=e.contextTypes,i=(r=r!=null)?Pc(n,s):ko),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function QI(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&dv.enqueueReplaceState(e,e.state,null)}function Pw(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},FC(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ks(i):(i=Kr(e)?Nl:mr.current,s.context=Pc(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Iw(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dv.enqueueReplaceState(s,s.state,null),Um(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Dc(n,e){try{var t="",r=e;do t+=Q5(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function Cb(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function xw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var C6=typeof WeakMap=="function"?WeakMap:Map;function n$(n,e,t){t=ya(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Wm||(Wm=!0,jw=r),xw(n,e)},t}function r$(n,e,t){t=ya(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){xw(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){xw(n,e),typeof r!="function"&&(So===null?So=new Set([this]):So.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function ZI(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new C6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=F6.bind(null,n,e,t),e.then(n,n))}function JI(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function eP(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ya(-1,1),e.tag=2,Eo(t,e,1))),t.lanes|=1),n)}var T6=Fa.ReactCurrentOwner,Br=!1;function Tr(n,e,t,r){e.child=n===null?DN(e,null,t,r):Rc(e,n.child,t,r)}function tP(n,e,t,r,s){t=t.render;var i=e.ref;return gc(e,s),r=HC(n,e,t,r,i,s),t=zC(),n!==null&&!Br?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Oa(n,e,s)):(Ft&&t&&AC(e),e.flags|=1,Tr(n,e,r,s),e.child)}function nP(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!e1(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,s$(n,e,i,r,s)):(n=nm(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:Xh,t(a,r)&&n.ref===e.ref)return Oa(n,e,s)}return e.flags|=1,n=To(i,r),n.ref=e.ref,n.return=e,e.child=n}function s$(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(Xh(i,r)&&n.ref===e.ref)if(Br=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(Br=!0);else return e.lanes=n.lanes,Oa(n,e,s)}return Rw(n,e,t,r,s)}function i$(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(ec,Jr),Jr|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,wt(ec,Jr),Jr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,wt(ec,Jr),Jr|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,wt(ec,Jr),Jr|=r;return Tr(n,e,s,t),e.child}function a$(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Rw(n,e,t,r,s){var i=Kr(t)?Nl:mr.current;return i=Pc(e,i),gc(e,s),t=HC(n,e,t,r,i,s),r=zC(),n!==null&&!Br?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Oa(n,e,s)):(Ft&&r&&AC(e),e.flags|=1,Tr(n,e,t,s),e.child)}function rP(n,e,t,r,s){if(Kr(t)){var i=!0;Lm(e)}else i=!1;if(gc(e,s),e.stateNode===null)Jg(n,e),t$(e,t,r),Pw(e,t,r,s),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=ks(u):(u=Kr(t)?Nl:mr.current,u=Pc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&QI(e,a,r,u),Ja=!1;var f=e.memoizedState;a.state=f,Um(e,r,a,s),l=e.memoizedState,o!==r||f!==l||zr.current||Ja?(typeof d=="function"&&(Iw(e,t,d,r),l=e.memoizedState),(o=Ja||XI(e,t,o,r,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,NN(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:Gs(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=ks(l):(l=Kr(t)?Nl:mr.current,l=Pc(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&QI(e,a,r,l),Ja=!1,f=e.memoizedState,a.state=f,Um(e,r,a,s);var _=e.memoizedState;o!==h||f!==_||zr.current||Ja?(typeof p=="function"&&(Iw(e,t,p,r),_=e.memoizedState),(u=Ja||XI(e,t,u,r,f,_,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return Aw(n,e,t,r,i,s)}function Aw(n,e,t,r,s,i){a$(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&BI(e,t,!1),Oa(n,e,i);r=e.stateNode,T6.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=Rc(e,n.child,null,i),e.child=Rc(e,null,o,i)):Tr(n,e,o,i),e.memoizedState=r.state,s&&BI(e,t,!0),e.child}function o$(n){var e=n.stateNode;e.pendingContext?UI(n,e.pendingContext,e.pendingContext!==e.context):e.context&&UI(n,e.context,!1),jC(n,e.containerInfo)}function sP(n,e,t,r,s){return xc(),kC(s),e.flags|=256,Tr(n,e,t,r),e.child}var Dw={dehydrated:null,treeContext:null,retryLane:0};function kw(n){return{baseLanes:n,cachePool:null,transitions:null}}function l$(n,e,t){var r=e.pendingProps,s=Ht.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),wt(Ht,s&1),n===null)return Tw(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=pv(a,r,0,null),n=Tl(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=kw(t),e.memoizedState=Dw,n):GC(e,a));if(s=n.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return O6(n,e,a,r,o,s,t);if(i){i=r.fallback,a=e.mode,s=n.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=To(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=To(o,i):(i=Tl(i,a,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=n.child.memoizedState,a=a===null?kw(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=Dw,r}return i=n.child,n=i.sibling,r=To(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function GC(n,e){return e=pv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function fg(n,e,t,r){return r!==null&&kC(r),Rc(e,n.child,null,t),n=GC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function O6(n,e,t,r,s,i,a){if(t)return e.flags&256?(e.flags&=-257,r=Cb(Error(G(422))),fg(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pv({mode:"visible",children:r.children},s,0,null),i=Tl(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Rc(e,n.child,null,a),e.child.memoizedState=kw(a),e.memoizedState=Dw,i);if(!(e.mode&1))return fg(n,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(G(419)),r=Cb(i,r,void 0),fg(n,e,a,r)}if(o=(a&n.childLanes)!==0,Br||o){if(r=$n,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ta(n,s),ei(r,n,s,-1))}return JC(),r=Cb(Error(G(421))),fg(n,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=j6.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,es=wo(s.nextSibling),rs=e,Ft=!0,qs=null,n!==null&&(vs[_s++]=da,vs[_s++]=ha,vs[_s++]=$l,da=n.id,ha=n.overflow,$l=e),e=GC(e,r.children),e.flags|=4096,e)}function iP(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Ow(n.return,e,t)}function Tb(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function u$(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tr(n,e,r.children,t),r=Ht.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&iP(n,t,e);else if(n.tag===19)iP(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(wt(Ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&Bm(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Tb(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Bm(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Tb(e,!0,t,null,i);break;case"together":Tb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Oa(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ml|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(G(153));if(e.child!==null){for(n=e.child,t=To(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=To(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function I6(n,e,t){switch(e.tag){case 3:o$(e),xc();break;case 5:$N(e);break;case 1:Kr(e.type)&&Lm(e);break;case 4:jC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;wt(jm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wt(Ht,Ht.current&1),e.flags|=128,null):t&e.child.childLanes?l$(n,e,t):(wt(Ht,Ht.current&1),n=Oa(n,e,t),n!==null?n.sibling:null);wt(Ht,Ht.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return u$(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wt(Ht,Ht.current),r)break;return null;case 22:case 23:return e.lanes=0,i$(n,e,t)}return Oa(n,e,t)}var c$,Nw,d$,h$;c$=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Nw=function(){};d$=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,gl(Li.current);var i=null;switch(t){case"input":s=nw(n,s),r=nw(n,r),i=[];break;case"select":s=Wt({},s,{value:void 0}),r=Wt({},r,{value:void 0}),i=[];break;case"textarea":s=iw(n,s),r=iw(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Nm)}ow(t,r);var a;t=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(i||(i=[]),i.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pt("scroll",n),i||o===l||(i=[])):(i=i||[]).push(u,l))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};h$=function(n,e,t,r){t!==r&&(e.flags|=4)};function Vd(n,e){if(!Ft)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function rr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function P6(n,e,t){var r=e.pendingProps;switch(DC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(e),null;case 1:return Kr(e.type)&&$m(),rr(e),null;case 3:return r=e.stateNode,Ac(),Dt(zr),Dt(mr),UC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(dg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qs!==null&&(Bw(qs),qs=null))),Nw(n,e),rr(e),null;case 5:VC(e);var s=gl(tf.current);if(t=e.type,n!==null&&e.stateNode!=null)d$(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return rr(e),null}if(n=gl(Li.current),dg(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[Ci]=e,r[Jh]=i,n=(e.mode&1)!==0,t){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(s=0;s<lh.length;s++)Pt(lh[s],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":pI(r,i),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pt("invalid",r);break;case"textarea":mI(r,i),Pt("invalid",r)}ow(t,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&cg(r.textContent,o,n),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&cg(r.textContent,o,n),s=["children",""+o]):Hh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Pt("scroll",r)}switch(t){case"input":ng(r),gI(r,i,!0);break;case"textarea":ng(r),yI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Nm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Vk(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Ci]=e,n[Jh]=r,c$(n,e,!1,!1),e.stateNode=n;e:{switch(a=lw(t,r),t){case"dialog":Pt("cancel",n),Pt("close",n),s=r;break;case"iframe":case"object":case"embed":Pt("load",n),s=r;break;case"video":case"audio":for(s=0;s<lh.length;s++)Pt(lh[s],n);s=r;break;case"source":Pt("error",n),s=r;break;case"img":case"image":case"link":Pt("error",n),Pt("load",n),s=r;break;case"details":Pt("toggle",n),s=r;break;case"input":pI(n,r),s=nw(n,r),Pt("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=Wt({},r,{value:void 0}),Pt("invalid",n);break;case"textarea":mI(n,r),s=iw(n,r),Pt("invalid",n);break;default:s=r}ow(t,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Hk(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uk(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&zh(n,l):typeof l=="number"&&zh(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Pt("scroll",n):l!=null&&yC(n,i,l,a))}switch(t){case"input":ng(n),gI(n,r,!1);break;case"textarea":ng(n),yI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Do(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?dc(n,!!r.multiple,i,!1):r.defaultValue!=null&&dc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Nm)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rr(e),null;case 6:if(n&&e.stateNode!=null)h$(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(t=gl(tf.current),gl(Li.current),dg(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ci]=e,(i=r.nodeValue!==t)&&(n=rs,n!==null))switch(n.tag){case 3:cg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&cg(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ci]=e,e.stateNode=r}return rr(e),null;case 13:if(Dt(Ht),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ft&&es!==null&&e.mode&1&&!(e.flags&128))RN(),xc(),e.flags|=98560,i=!1;else if(i=dg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ci]=e}else xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rr(e),i=!1}else qs!==null&&(Bw(qs),qs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ht.current&1?In===0&&(In=3):JC())),e.updateQueue!==null&&(e.flags|=4),rr(e),null);case 4:return Ac(),Nw(n,e),n===null&&Qh(e.stateNode.containerInfo),rr(e),null;case 10:return LC(e.type._context),rr(e),null;case 17:return Kr(e.type)&&$m(),rr(e),null;case 19:if(Dt(Ht),i=e.memoizedState,i===null)return rr(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Vd(i,!1);else{if(In!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Bm(n),a!==null){for(e.flags|=128,Vd(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return wt(Ht,Ht.current&1|2),e.child}n=n.sibling}i.tail!==null&&on()>kc&&(e.flags|=128,r=!0,Vd(i,!1),e.lanes=4194304)}else{if(!r)if(n=Bm(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Vd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ft)return rr(e),null}else 2*on()-i.renderingStartTime>kc&&t!==1073741824&&(e.flags|=128,r=!0,Vd(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=on(),e.sibling=null,t=Ht.current,wt(Ht,r?t&1|2:t&1),e):(rr(e),null);case 22:case 23:return ZC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jr&1073741824&&(rr(e),e.subtreeFlags&6&&(e.flags|=8192)):rr(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function x6(n,e){switch(DC(e),e.tag){case 1:return Kr(e.type)&&$m(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ac(),Dt(zr),Dt(mr),UC(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return VC(e),null;case 13:if(Dt(Ht),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(G(340));xc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Dt(Ht),null;case 4:return Ac(),null;case 10:return LC(e.type._context),null;case 22:case 23:return ZC(),null;case 24:return null;default:return null}}var pg=!1,ur=!1,R6=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ju(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Xt(n,e,r)}else t.current=null}function $w(n,e,t){try{t()}catch(r){Xt(n,e,r)}}var aP=!1;function A6(n,e){if(vw=Am,n=yN(),RC(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===s&&(o=a),f===i&&++d===r&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(_w={focusedElem:n,selectionRange:t},Am=!1,re=e;re!==null;)if(e=re,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,re=n;else for(;re!==null;){e=re;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var m=_.memoizedProps,v=_.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Gs(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(E){Xt(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}return _=aP,aP=!1,_}function Oh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&$w(e,t,i)}s=s.next}while(s!==r)}}function hv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Lw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function f$(n){var e=n.alternate;e!==null&&(n.alternate=null,f$(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ci],delete e[Jh],delete e[Ew],delete e[f6],delete e[p6])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function p$(n){return n.tag===5||n.tag===3||n.tag===4}function oP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||p$(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Nm));else if(r!==4&&(n=n.child,n!==null))for(Mw(n,e,t),n=n.sibling;n!==null;)Mw(n,e,t),n=n.sibling}function Fw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Fw(n,e,t),n=n.sibling;n!==null;)Fw(n,e,t),n=n.sibling}var Hn=null,Ys=!1;function Ka(n,e,t){for(t=t.child;t!==null;)g$(n,e,t),t=t.sibling}function g$(n,e,t){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(sv,t)}catch{}switch(t.tag){case 5:ur||Ju(t,e);case 6:var r=Hn,s=Ys;Hn=null,Ka(n,e,t),Hn=r,Ys=s,Hn!==null&&(Ys?(n=Hn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Hn.removeChild(t.stateNode));break;case 18:Hn!==null&&(Ys?(n=Hn,t=t.stateNode,n.nodeType===8?vb(n.parentNode,t):n.nodeType===1&&vb(n,t),Yh(n)):vb(Hn,t.stateNode));break;case 4:r=Hn,s=Ys,Hn=t.stateNode.containerInfo,Ys=!0,Ka(n,e,t),Hn=r,Ys=s;break;case 0:case 11:case 14:case 15:if(!ur&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&$w(t,e,a),s=s.next}while(s!==r)}Ka(n,e,t);break;case 1:if(!ur&&(Ju(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){Xt(t,e,o)}Ka(n,e,t);break;case 21:Ka(n,e,t);break;case 22:t.mode&1?(ur=(r=ur)||t.memoizedState!==null,Ka(n,e,t),ur=r):Ka(n,e,t);break;default:Ka(n,e,t)}}function lP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new R6),e.forEach(function(r){var s=V6.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function Bs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Hn=o.stateNode,Ys=!1;break e;case 3:Hn=o.stateNode.containerInfo,Ys=!0;break e;case 4:Hn=o.stateNode.containerInfo,Ys=!0;break e}o=o.return}if(Hn===null)throw Error(G(160));g$(i,a,s),Hn=null,Ys=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Xt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m$(e,n),e=e.sibling}function m$(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Bs(e,n),bi(n),r&4){try{Oh(3,n,n.return),hv(3,n)}catch(m){Xt(n,n.return,m)}try{Oh(5,n,n.return)}catch(m){Xt(n,n.return,m)}}break;case 1:Bs(e,n),bi(n),r&512&&t!==null&&Ju(t,t.return);break;case 5:if(Bs(e,n),bi(n),r&512&&t!==null&&Ju(t,t.return),n.flags&32){var s=n.stateNode;try{zh(s,"")}catch(m){Xt(n,n.return,m)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Fk(s,i),lw(o,a);var u=lw(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?Hk(s,h):d==="dangerouslySetInnerHTML"?Uk(s,h):d==="children"?zh(s,h):yC(s,d,h,u)}switch(o){case"input":rw(s,i);break;case"textarea":jk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?dc(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?dc(s,!!i.multiple,i.defaultValue,!0):dc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jh]=i}catch(m){Xt(n,n.return,m)}}break;case 6:if(Bs(e,n),bi(n),r&4){if(n.stateNode===null)throw Error(G(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(m){Xt(n,n.return,m)}}break;case 3:if(Bs(e,n),bi(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Yh(e.containerInfo)}catch(m){Xt(n,n.return,m)}break;case 4:Bs(e,n),bi(n);break;case 13:Bs(e,n),bi(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(XC=on())),r&4&&lP(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(ur=(u=ur)||d,Bs(e,n),ur=u):Bs(e,n),bi(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(re=n,d=n.child;d!==null;){for(h=re=d;re!==null;){switch(f=re,p=f.child,f.tag){case 0:case 11:case 14:case 15:Oh(4,f,f.return);break;case 1:Ju(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(m){Xt(r,t,m)}}break;case 5:Ju(f,f.return);break;case 22:if(f.memoizedState!==null){cP(h);continue}}p!==null?(p.return=f,re=p):cP(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Bk("display",a))}catch(m){Xt(n,n.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Xt(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bs(e,n),bi(n),r&4&&lP(n);break;case 21:break;default:Bs(e,n),bi(n)}}function bi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(p$(t)){var r=t;break e}t=t.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zh(s,""),r.flags&=-33);var i=oP(n);Fw(n,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=oP(n);Mw(n,o,a);break;default:throw Error(G(161))}}catch(l){Xt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function D6(n,e,t){re=n,y$(n)}function y$(n,e,t){for(var r=(n.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||pg;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||ur;o=pg;var u=ur;if(pg=a,(ur=l)&&!u)for(re=s;re!==null;)a=re,l=a.child,a.tag===22&&a.memoizedState!==null?dP(s):l!==null?(l.return=a,re=l):dP(s);for(;i!==null;)re=i,y$(i),i=i.sibling;re=s,pg=o,ur=u}uP(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):uP(n)}}function uP(n){for(;re!==null;){var e=re;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ur||hv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ur)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Gs(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&GI(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}GI(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}ur||e.flags&512&&Lw(e)}catch(f){Xt(e,e.return,f)}}if(e===n){re=null;break}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}}function cP(n){for(;re!==null;){var e=re;if(e===n){re=null;break}var t=e.sibling;if(t!==null){t.return=e.return,re=t;break}re=e.return}}function dP(n){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{hv(4,e)}catch(l){Xt(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Xt(e,s,l)}}var i=e.return;try{Lw(e)}catch(l){Xt(e,i,l)}break;case 5:var a=e.return;try{Lw(e)}catch(l){Xt(e,a,l)}}}catch(l){Xt(e,e.return,l)}if(e===n){re=null;break}var o=e.sibling;if(o!==null){o.return=e.return,re=o;break}re=e.return}}var k6=Math.ceil,Km=Fa.ReactCurrentDispatcher,YC=Fa.ReactCurrentOwner,Rs=Fa.ReactCurrentBatchConfig,We=0,$n=null,bn=null,Yn=0,Jr=0,ec=Vo(0),In=0,af=null,Ml=0,fv=0,qC=0,Ih=null,Vr=null,XC=0,kc=1/0,la=null,Wm=!1,jw=null,So=null,gg=!1,co=null,Gm=0,Ph=0,Vw=null,em=-1,tm=0;function Rr(){return We&6?on():em!==-1?em:em=on()}function Co(n){return n.mode&1?We&2&&Yn!==0?Yn&-Yn:m6.transition!==null?(tm===0&&(tm=tN()),tm):(n=ht,n!==0||(n=window.event,n=n===void 0?16:lN(n.type)),n):1}function ei(n,e,t,r){if(50<Ph)throw Ph=0,Vw=null,Error(G(185));qf(n,t,r),(!(We&2)||n!==$n)&&(n===$n&&(!(We&2)&&(fv|=t),In===4&&ro(n,Yn)),Wr(n,r),t===1&&We===0&&!(e.mode&1)&&(kc=on()+500,uv&&Uo()))}function Wr(n,e){var t=n.callbackNode;mU(n,e);var r=Rm(n,n===$n?Yn:0);if(r===0)t!==null&&bI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&bI(t),e===1)n.tag===0?g6(hP.bind(null,n)):IN(hP.bind(null,n)),d6(function(){!(We&6)&&Uo()}),t=null;else{switch(nN(r)){case 1:t=EC;break;case 4:t=Jk;break;case 16:t=xm;break;case 536870912:t=eN;break;default:t=xm}t=T$(t,v$.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function v$(n,e){if(em=-1,tm=0,We&6)throw Error(G(327));var t=n.callbackNode;if(mc()&&n.callbackNode!==t)return null;var r=Rm(n,n===$n?Yn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Ym(n,r);else{e=r;var s=We;We|=2;var i=b$();($n!==n||Yn!==e)&&(la=null,kc=on()+500,Cl(n,e));do try{L6();break}catch(o){_$(n,o)}while(!0);$C(),Km.current=i,We=s,bn!==null?e=0:($n=null,Yn=0,e=In)}if(e!==0){if(e===2&&(s=fw(n),s!==0&&(r=s,e=Uw(n,s))),e===1)throw t=af,Cl(n,0),ro(n,r),Wr(n,on()),t;if(e===6)ro(n,r);else{if(s=n.current.alternate,!(r&30)&&!N6(s)&&(e=Ym(n,r),e===2&&(i=fw(n),i!==0&&(r=i,e=Uw(n,i))),e===1))throw t=af,Cl(n,0),ro(n,r),Wr(n,on()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:il(n,Vr,la);break;case 3:if(ro(n,r),(r&130023424)===r&&(e=XC+500-on(),10<e)){if(Rm(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){Rr(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=ww(il.bind(null,n,Vr,la),e);break}il(n,Vr,la);break;case 4:if(ro(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var a=31-Js(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k6(r/1960))-r,10<r){n.timeoutHandle=ww(il.bind(null,n,Vr,la),r);break}il(n,Vr,la);break;case 5:il(n,Vr,la);break;default:throw Error(G(329))}}}return Wr(n,on()),n.callbackNode===t?v$.bind(null,n):null}function Uw(n,e){var t=Ih;return n.current.memoizedState.isDehydrated&&(Cl(n,e).flags|=256),n=Ym(n,e),n!==2&&(e=Vr,Vr=t,e!==null&&Bw(e)),n}function Bw(n){Vr===null?Vr=n:Vr.push.apply(Vr,n)}function N6(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!si(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(n,e){for(e&=~qC,e&=~fv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Js(e),r=1<<t;n[t]=-1,e&=~r}}function hP(n){if(We&6)throw Error(G(327));mc();var e=Rm(n,0);if(!(e&1))return Wr(n,on()),null;var t=Ym(n,e);if(n.tag!==0&&t===2){var r=fw(n);r!==0&&(e=r,t=Uw(n,r))}if(t===1)throw t=af,Cl(n,0),ro(n,e),Wr(n,on()),t;if(t===6)throw Error(G(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,il(n,Vr,la),Wr(n,on()),null}function QC(n,e){var t=We;We|=1;try{return n(e)}finally{We=t,We===0&&(kc=on()+500,uv&&Uo())}}function Fl(n){co!==null&&co.tag===0&&!(We&6)&&mc();var e=We;We|=1;var t=Rs.transition,r=ht;try{if(Rs.transition=null,ht=1,n)return n()}finally{ht=r,Rs.transition=t,We=e,!(We&6)&&Uo()}}function ZC(){Jr=ec.current,Dt(ec)}function Cl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,c6(t)),bn!==null)for(t=bn.return;t!==null;){var r=t;switch(DC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$m();break;case 3:Ac(),Dt(zr),Dt(mr),UC();break;case 5:VC(r);break;case 4:Ac();break;case 13:Dt(Ht);break;case 19:Dt(Ht);break;case 10:LC(r.type._context);break;case 22:case 23:ZC()}t=t.return}if($n=n,bn=n=To(n.current,null),Yn=Jr=e,In=0,af=null,qC=fv=Ml=0,Vr=Ih=null,pl!==null){for(e=0;e<pl.length;e++)if(t=pl[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}t.pending=r}pl=null}return n}function _$(n,e){do{var t=bn;try{if($C(),Qg.current=zm,Hm){for(var r=Kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hm=!1}if(Ll=0,Dn=Tn=Kt=null,Th=!1,nf=0,YC.current=null,t===null||t.return===null){In=1,af=e,bn=null;break}e:{var i=n,a=t.return,o=t,l=e;if(e=Yn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=JI(a);if(p!==null){p.flags&=-257,eP(p,a,o,i,e),p.mode&1&&ZI(i,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var m=new Set;m.add(l),e.updateQueue=m}else _.add(l);break e}else{if(!(e&1)){ZI(i,u,e),JC();break e}l=Error(G(426))}}else if(Ft&&o.mode&1){var v=JI(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),eP(v,a,o,i,e),kC(Dc(l,o));break e}}i=l=Dc(l,o),In!==4&&(In=2),Ih===null?Ih=[i]:Ih.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=n$(i,l,e);WI(i,y);break e;case 1:o=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(So===null||!So.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=r$(i,o,e);WI(i,E);break e}}i=i.return}while(i!==null)}E$(t)}catch(S){e=S,bn===t&&t!==null&&(bn=t=t.return);continue}break}while(!0)}function b$(){var n=Km.current;return Km.current=zm,n===null?zm:n}function JC(){(In===0||In===3||In===2)&&(In=4),$n===null||!(Ml&268435455)&&!(fv&268435455)||ro($n,Yn)}function Ym(n,e){var t=We;We|=2;var r=b$();($n!==n||Yn!==e)&&(la=null,Cl(n,e));do try{$6();break}catch(s){_$(n,s)}while(!0);if($C(),We=t,Km.current=r,bn!==null)throw Error(G(261));return $n=null,Yn=0,In}function $6(){for(;bn!==null;)w$(bn)}function L6(){for(;bn!==null&&!oU();)w$(bn)}function w$(n){var e=C$(n.alternate,n,Jr);n.memoizedProps=n.pendingProps,e===null?E$(n):bn=e,YC.current=null}function E$(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=x6(t,e),t!==null){t.flags&=32767,bn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{In=6,bn=null;return}}else if(t=P6(t,e,Jr),t!==null){bn=t;return}if(e=e.sibling,e!==null){bn=e;return}bn=e=n}while(e!==null);In===0&&(In=5)}function il(n,e,t){var r=ht,s=Rs.transition;try{Rs.transition=null,ht=1,M6(n,e,t,r)}finally{Rs.transition=s,ht=r}return null}function M6(n,e,t,r){do mc();while(co!==null);if(We&6)throw Error(G(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(G(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(yU(n,i),n===$n&&(bn=$n=null,Yn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||gg||(gg=!0,T$(xm,function(){return mc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Rs.transition,Rs.transition=null;var a=ht;ht=1;var o=We;We|=4,YC.current=null,A6(n,t),m$(t,n),r6(_w),Am=!!vw,_w=vw=null,n.current=t,D6(t),lU(),We=o,ht=a,Rs.transition=i}else n.current=t;if(gg&&(gg=!1,co=n,Gm=s),i=n.pendingLanes,i===0&&(So=null),dU(t.stateNode),Wr(n,on()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wm)throw Wm=!1,n=jw,jw=null,n;return Gm&1&&n.tag!==0&&mc(),i=n.pendingLanes,i&1?n===Vw?Ph++:(Ph=0,Vw=n):Ph=0,Uo(),null}function mc(){if(co!==null){var n=nN(Gm),e=Rs.transition,t=ht;try{if(Rs.transition=null,ht=16>n?16:n,co===null)var r=!1;else{if(n=co,co=null,Gm=0,We&6)throw Error(G(331));var s=We;for(We|=4,re=n.current;re!==null;){var i=re,a=i.child;if(re.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Oh(8,d,i)}var h=d.child;if(h!==null)h.return=d,re=h;else for(;re!==null;){d=re;var f=d.sibling,p=d.return;if(f$(d),d===u){re=null;break}if(f!==null){f.return=p,re=f;break}re=p}}}var _=i.alternate;if(_!==null){var m=_.child;if(m!==null){_.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}re=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,re=a;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oh(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,re=y;break e}re=i.return}}var b=n.current;for(re=b;re!==null;){a=re;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,re=w;else e:for(a=b;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hv(9,o)}}catch(S){Xt(o,o.return,S)}if(o===a){re=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,re=E;break e}re=o.return}}if(We=s,Uo(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(sv,n)}catch{}r=!0}return r}finally{ht=t,Rs.transition=e}}return!1}function fP(n,e,t){e=Dc(t,e),e=n$(n,e,1),n=Eo(n,e,1),e=Rr(),n!==null&&(qf(n,1,e),Wr(n,e))}function Xt(n,e,t){if(n.tag===3)fP(n,n,t);else for(;e!==null;){if(e.tag===3){fP(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(So===null||!So.has(r))){n=Dc(t,n),n=r$(e,n,1),e=Eo(e,n,1),n=Rr(),e!==null&&(qf(e,1,n),Wr(e,n));break}}e=e.return}}function F6(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Rr(),n.pingedLanes|=n.suspendedLanes&t,$n===n&&(Yn&t)===t&&(In===4||In===3&&(Yn&130023424)===Yn&&500>on()-XC?Cl(n,0):qC|=t),Wr(n,e)}function S$(n,e){e===0&&(n.mode&1?(e=ig,ig<<=1,!(ig&130023424)&&(ig=4194304)):e=1);var t=Rr();n=Ta(n,e),n!==null&&(qf(n,e,t),Wr(n,t))}function j6(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),S$(n,t)}function V6(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),S$(n,t)}var C$;C$=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||zr.current)Br=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Br=!1,I6(n,e,t);Br=!!(n.flags&131072)}else Br=!1,Ft&&e.flags&1048576&&PN(e,Fm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jg(n,e),n=e.pendingProps;var s=Pc(e,mr.current);gc(e,t),s=HC(null,e,r,n,s,t);var i=zC();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(r)?(i=!0,Lm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,FC(e),s.updater=dv,e.stateNode=s,s._reactInternals=e,Pw(e,r,n,t),e=Aw(null,e,r,!0,i,t)):(e.tag=0,Ft&&i&&AC(e),Tr(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Jg(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=B6(r),n=Gs(r,n),s){case 0:e=Rw(null,e,r,n,t);break e;case 1:e=rP(null,e,r,n,t);break e;case 11:e=tP(null,e,r,n,t);break e;case 14:e=nP(null,e,r,Gs(r.type,n),t);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gs(r,s),Rw(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gs(r,s),rP(n,e,r,s,t);case 3:e:{if(o$(e),n===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,NN(n,e),Um(e,r,null,t);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dc(Error(G(423)),e),e=sP(n,e,r,t,s);break e}else if(r!==s){s=Dc(Error(G(424)),e),e=sP(n,e,r,t,s);break e}else for(es=wo(e.stateNode.containerInfo.firstChild),rs=e,Ft=!0,qs=null,t=DN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(xc(),r===s){e=Oa(n,e,t);break e}Tr(n,e,r,t)}e=e.child}return e;case 5:return $N(e),n===null&&Tw(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,a=s.children,bw(r,s)?a=null:i!==null&&bw(r,i)&&(e.flags|=32),a$(n,e),Tr(n,e,a,t),e.child;case 6:return n===null&&Tw(e),null;case 13:return l$(n,e,t);case 4:return jC(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Rc(e,null,r,t):Tr(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gs(r,s),tP(n,e,r,s,t);case 7:return Tr(n,e,e.pendingProps,t),e.child;case 8:return Tr(n,e,e.pendingProps.children,t),e.child;case 12:return Tr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,wt(jm,r._currentValue),r._currentValue=a,i!==null)if(si(i.value,a)){if(i.children===s.children&&!zr.current){e=Oa(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ya(-1,t&-t),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),Ow(i.return,t,e),o.lanes|=t;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(G(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),Ow(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Tr(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,gc(e,t),s=ks(s),r=r(s),e.flags|=1,Tr(n,e,r,t),e.child;case 14:return r=e.type,s=Gs(r,e.pendingProps),s=Gs(r.type,s),nP(n,e,r,s,t);case 15:return s$(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gs(r,s),Jg(n,e),e.tag=1,Kr(r)?(n=!0,Lm(e)):n=!1,gc(e,t),t$(e,r,s),Pw(e,r,s,t),Aw(null,e,r,!0,n,t);case 19:return u$(n,e,t);case 22:return i$(n,e,t)}throw Error(G(156,e.tag))};function T$(n,e){return Zk(n,e)}function U6(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(n,e,t,r){return new U6(n,e,t,r)}function e1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function B6(n){if(typeof n=="function")return e1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===_C)return 11;if(n===bC)return 14}return 2}function To(n,e){var t=n.alternate;return t===null?(t=Ts(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function nm(n,e,t,r,s,i){var a=2;if(r=n,typeof n=="function")e1(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case zu:return Tl(t.children,s,i,e);case vC:a=8,s|=8;break;case Z0:return n=Ts(12,t,e,s|2),n.elementType=Z0,n.lanes=i,n;case J0:return n=Ts(13,t,e,s),n.elementType=J0,n.lanes=i,n;case ew:return n=Ts(19,t,e,s),n.elementType=ew,n.lanes=i,n;case $k:return pv(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case kk:a=10;break e;case Nk:a=9;break e;case _C:a=11;break e;case bC:a=14;break e;case Za:a=16,r=null;break e}throw Error(G(130,n==null?n:typeof n,""))}return e=Ts(a,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function Tl(n,e,t,r){return n=Ts(7,n,r,e),n.lanes=t,n}function pv(n,e,t,r){return n=Ts(22,n,r,e),n.elementType=$k,n.lanes=t,n.stateNode={isHidden:!1},n}function Ob(n,e,t){return n=Ts(6,n,null,e),n.lanes=t,n}function Ib(n,e,t){return e=Ts(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function H6(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ob(0),this.expirationTimes=ob(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ob(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function t1(n,e,t,r,s,i,a,o,l){return n=new H6(n,e,t,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ts(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},FC(i),n}function z6(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hu,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function O$(n){if(!n)return ko;n=n._reactInternals;e:{if(nu(n)!==n||n.tag!==1)throw Error(G(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(n.tag===1){var t=n.type;if(Kr(t))return ON(n,t,e)}return e}function I$(n,e,t,r,s,i,a,o,l){return n=t1(t,r,!0,n,s,i,a,o,l),n.context=O$(null),t=n.current,r=Rr(),s=Co(t),i=ya(r,s),i.callback=e??null,Eo(t,i,s),n.current.lanes=s,qf(n,s,r),Wr(n,r),n}function gv(n,e,t,r){var s=e.current,i=Rr(),a=Co(s);return t=O$(t),e.context===null?e.context=t:e.pendingContext=t,e=ya(i,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Eo(s,e,a),n!==null&&(ei(n,s,a,i),Xg(n,s,a)),a}function qm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function pP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function n1(n,e){pP(n,e),(n=n.alternate)&&pP(n,e)}function K6(){return null}var P$=typeof reportError=="function"?reportError:function(n){console.error(n)};function r1(n){this._internalRoot=n}mv.prototype.render=r1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(G(409));gv(n,e,null,null)};mv.prototype.unmount=r1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Fl(function(){gv(null,n,null,null)}),e[Ca]=null}};function mv(n){this._internalRoot=n}mv.prototype.unstable_scheduleHydration=function(n){if(n){var e=iN();n={blockedOn:null,target:n,priority:e};for(var t=0;t<no.length&&e!==0&&e<no[t].priority;t++);no.splice(t,0,n),t===0&&oN(n)}};function s1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function gP(){}function W6(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=qm(a);i.call(u)}}var a=I$(e,r,n,0,null,!1,!1,"",gP);return n._reactRootContainer=a,n[Ca]=a.current,Qh(n.nodeType===8?n.parentNode:n),Fl(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=qm(l);o.call(u)}}var l=t1(n,0,!1,null,null,!1,!1,"",gP);return n._reactRootContainer=l,n[Ca]=l.current,Qh(n.nodeType===8?n.parentNode:n),Fl(function(){gv(e,l,t,r)}),l}function vv(n,e,t,r,s){var i=t._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=qm(a);o.call(l)}}gv(e,a,n,s)}else a=W6(t,e,n,s,r);return qm(a)}rN=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=oh(e.pendingLanes);t!==0&&(SC(e,t|1),Wr(e,on()),!(We&6)&&(kc=on()+500,Uo()))}break;case 13:Fl(function(){var r=Ta(n,1);if(r!==null){var s=Rr();ei(r,n,1,s)}}),n1(n,1)}};CC=function(n){if(n.tag===13){var e=Ta(n,134217728);if(e!==null){var t=Rr();ei(e,n,134217728,t)}n1(n,134217728)}};sN=function(n){if(n.tag===13){var e=Co(n),t=Ta(n,e);if(t!==null){var r=Rr();ei(t,n,e,r)}n1(n,e)}};iN=function(){return ht};aN=function(n,e){var t=ht;try{return ht=n,e()}finally{ht=t}};cw=function(n,e,t){switch(e){case"input":if(rw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=lv(r);if(!s)throw Error(G(90));Mk(r),rw(r,s)}}}break;case"textarea":jk(n,t);break;case"select":e=t.value,e!=null&&dc(n,!!t.multiple,e,!1)}};Wk=QC;Gk=Fl;var G6={usingClientEntryPoint:!1,Events:[Qf,Yu,lv,zk,Kk,QC]},Ud={findFiberByHostInstance:fl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y6={bundleType:Ud.bundleType,version:Ud.version,rendererPackageName:Ud.rendererPackageName,rendererConfig:Ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fa.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Xk(n),n===null?null:n.stateNode},findFiberByHostInstance:Ud.findFiberByHostInstance||K6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{sv=mg.inject(Y6),$i=mg}catch{}}ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G6;ls.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s1(e))throw Error(G(200));return z6(n,e,null,t)};ls.createRoot=function(n,e){if(!s1(n))throw Error(G(299));var t=!1,r="",s=P$;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=t1(n,1,!1,null,null,t,!1,r,s),n[Ca]=e.current,Qh(n.nodeType===8?n.parentNode:n),new r1(e)};ls.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(G(188)):(n=Object.keys(n).join(","),Error(G(268,n)));return n=Xk(e),n=n===null?null:n.stateNode,n};ls.flushSync=function(n){return Fl(n)};ls.hydrate=function(n,e,t){if(!yv(e))throw Error(G(200));return vv(null,n,e,!0,t)};ls.hydrateRoot=function(n,e,t){if(!s1(n))throw Error(G(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",a=P$;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=I$(e,null,n,1,t??null,s,!1,i,a),n[Ca]=e.current,Qh(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new mv(e)};ls.render=function(n,e,t){if(!yv(e))throw Error(G(200));return vv(null,n,e,!1,t)};ls.unmountComponentAtNode=function(n){if(!yv(n))throw Error(G(40));return n._reactRootContainer?(Fl(function(){vv(null,null,n,!1,function(){n._reactRootContainer=null,n[Ca]=null})}),!0):!1};ls.unstable_batchedUpdates=QC;ls.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!yv(t))throw Error(G(200));if(n==null||n._reactInternals===void 0)throw Error(G(38));return vv(n,e,t,!1,r)};ls.version="18.3.1-next-f1338f8080-20240426";function x$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x$)}catch(n){console.error(n)}}x$(),xk.exports=ls;var Os=xk.exports;const Pr=ge(Os);var mP=Os;X0.createRoot=mP.createRoot,X0.hydrateRoot=mP.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function of(){return of=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},of.apply(this,arguments)}var ho;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ho||(ho={}));const yP="popstate";function q6(n){n===void 0&&(n={});function e(s,i){let{pathname:a="/",search:o="",hash:l=""}=ru(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Hw("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:R$(i))}function r(s,i){i1(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Q6(e,t,r,n)}function En(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function i1(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X6(){return Math.random().toString(36).substr(2,8)}function vP(n,e){return{usr:n.state,key:n.key,idx:e}}function Hw(n,e,t,r){return t===void 0&&(t=null),of({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ru(e):e,{state:t,key:e&&e.key||r||X6()})}function R$(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ru(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Q6(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=ho.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(of({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=ho.Pop;let v=d(),y=v==null?null:v-u;u=v,l&&l({action:o,location:m.location,delta:y})}function f(v,y){o=ho.Push;let b=Hw(m.location,v,y);t&&t(b,v),u=d()+1;let w=vP(b,u),E=m.createHref(b);try{a.pushState(w,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(E)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=ho.Replace;let b=Hw(m.location,v,y);t&&t(b,v),u=d();let w=vP(b,u),E=m.createHref(b);a.replaceState(w,"",E),i&&l&&l({action:o,location:m.location,delta:0})}function _(v){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof v=="string"?v:R$(v);return b=b.replace(/ $/,"%20"),En(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return n(s,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(yP,h),l=v,()=>{s.removeEventListener(yP,h),l=null}},createHref(v){return e(s,v)},createURL:_,encodeLocation(v){let y=_(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(v){return a.go(v)}};return m}var _P;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(_P||(_P={}));function Z6(n,e,t){return t===void 0&&(t="/"),J6(n,e,t)}function J6(n,e,t,r){let s=typeof e=="string"?ru(e):e,i=k$(s.pathname||"/",t);if(i==null)return null;let a=A$(n);eB(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=hB(i);o=uB(a[l],u)}return o}function A$(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(En(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ol([r,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(En(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),A$(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:oB(u,i.index),routesMeta:d})};return n.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of D$(i.path))s(i,a,l)}),e}function D$(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=D$(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function eB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lB(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const tB=/^:[\w-]+$/,nB=3,rB=2,sB=1,iB=10,aB=-2,bP=n=>n==="*";function oB(n,e){let t=n.split("/"),r=t.length;return t.some(bP)&&(r+=aB),e&&(r+=rB),t.filter(s=>!bP(s)).reduce((s,i)=>s+(tB.test(i)?nB:i===""?sB:iB),r)}function lB(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function uB(n,e,t){let{routesMeta:r}=n,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=cB({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Ol([i,h.pathname]),pathnameBase:mB(Ol([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ol([i,h.pathnameBase]))}return a}function cB(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=dB(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=o[h]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const _=o[h];return p&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:n}}function dB(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),i1(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hB(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return i1(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function k$(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function fB(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ru(n):n;return{pathname:t?t.startsWith("/")?t:pB(t,e):e,search:yB(r),hash:vB(s)}}function pB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Pb(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gB(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function N$(n,e){let t=gB(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function $$(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=ru(n):(s=of({},n),En(!s.pathname||!s.pathname.includes("?"),Pb("?","pathname","search",s)),En(!s.pathname||!s.pathname.includes("#"),Pb("#","pathname","hash",s)),En(!s.search||!s.search.includes("#"),Pb("#","search","hash",s)));let i=n===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=fB(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ol=n=>n.join("/").replace(/\/\/+/g,"/"),mB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yB=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _B(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const L$=["post","put","patch","delete"];new Set(L$);const bB=["get",...L$];new Set(bB);/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lf.apply(this,arguments)}const a1=T.createContext(null),wB=T.createContext(null),Jf=T.createContext(null),_v=T.createContext(null),Bo=T.createContext({outlet:null,matches:[],isDataRoute:!1}),M$=T.createContext(null);function ep(){return T.useContext(_v)!=null}function bv(){return ep()||En(!1),T.useContext(_v).location}function F$(n){T.useContext(Jf).static||T.useLayoutEffect(n)}function su(){let{isDataRoute:n}=T.useContext(Bo);return n?$B():EB()}function EB(){ep()||En(!1);let n=T.useContext(a1),{basename:e,future:t,navigator:r}=T.useContext(Jf),{matches:s}=T.useContext(Bo),{pathname:i}=bv(),a=JSON.stringify(N$(s,t.v7_relativeSplatPath)),o=T.useRef(!1);return F$(()=>{o.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=$$(u,JSON.parse(a),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ol([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,n])}function SB(){let{matches:n}=T.useContext(Bo),e=n[n.length-1];return e?e.params:{}}function CB(n,e){return TB(n,e)}function TB(n,e,t,r){ep()||En(!1);let{navigator:s}=T.useContext(Jf),{matches:i}=T.useContext(Bo),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=bv(),d;if(e){var h;let v=typeof e=="string"?ru(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||En(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=Z6(n,{pathname:p}),m=RB(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Ol([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ol([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,t,r);return e&&m?T.createElement(_v.Provider,{value:{location:lf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ho.Pop}},m):m}function OB(){let n=NB(),e=_B(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:s},t):null,null)}const IB=T.createElement(OB,null);class PB extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?T.createElement(Bo.Provider,{value:this.props.routeContext},T.createElement(M$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xB(n){let{routeContext:e,match:t,children:r}=n,s=T.useContext(a1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(Bo.Provider,{value:e},r)}function RB(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(s=t)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||En(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,_=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,_=!1,m=null,v=null;t&&(p=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||IB,l&&(u<0&&f===0?(LB("route-fallback"),_=!0,v=null):u===f&&(_=!0,v=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),b=()=>{let w;return p?w=m:_?w=v:h.route.Component?w=T.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,T.createElement(xB,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(PB,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var j$=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(j$||{}),V$=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(V$||{});function AB(n){let e=T.useContext(a1);return e||En(!1),e}function DB(n){let e=T.useContext(wB);return e||En(!1),e}function kB(n){let e=T.useContext(Bo);return e||En(!1),e}function U$(n){let e=kB(),t=e.matches[e.matches.length-1];return t.route.id||En(!1),t.route.id}function NB(){var n;let e=T.useContext(M$),t=DB(),r=U$();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function $B(){let{router:n}=AB(j$.UseNavigateStable),e=U$(V$.UseNavigateStable),t=T.useRef(!1);return F$(()=>{t.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,lf({fromRouteId:e},i)))},[n,e])}const wP={};function LB(n,e,t){wP[n]||(wP[n]=!0)}function xh(n){let{to:e,replace:t,state:r,relative:s}=n;ep()||En(!1);let{future:i,static:a}=T.useContext(Jf),{matches:o}=T.useContext(Bo),{pathname:l}=bv(),u=su(),d=$$(e,N$(o,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return T.useEffect(()=>u(JSON.parse(h),{replace:t,state:r,relative:s}),[u,h,s,t,r]),null}function Fr(n){En(!1)}function MB(n){let{basename:e="/",children:t=null,location:r,navigationType:s=ho.Pop,navigator:i,static:a=!1,future:o}=n;ep()&&En(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:a,future:lf({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=ru(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:_="default"}=r,m=T.useMemo(()=>{let v=k$(d,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:_},navigationType:s}},[l,d,h,f,p,_,s]);return m==null?null:T.createElement(Jf.Provider,{value:u},T.createElement(_v.Provider,{children:t,value:m}))}function xb(n){let{children:e,location:t}=n;return CB(zw(e),t)}new Promise(()=>{});function zw(n,e){e===void 0&&(e=[]);let t=[];return T.Children.forEach(n,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){t.push.apply(t,zw(r.props.children,i));return}r.type!==Fr&&En(!1),!r.props.index||!r.props.children||En(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=zw(r.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const FB="6";try{window.__reactRouterVersion=FB}catch{}const jB="startTransition",EP=F5[jB];function VB(n){let{basename:e,children:t,future:r,window:s}=n,i=T.useRef();i.current==null&&(i.current=q6({window:s,v5Compat:!0}));let a=i.current,[o,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=T.useCallback(h=>{u&&EP?EP(()=>l(h)):l(h)},[l,u]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.createElement(MB,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:r})}var SP;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(SP||(SP={}));var CP;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(CP||(CP={}));function Ge(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var UB={};function o1(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:UB}var B$=Object.assign,Xm=Object.getOwnPropertyDescriptor,Mi=Object.defineProperty,wv=Object.prototype,Kw=[];Object.freeze(Kw);var H$={};Object.freeze(H$);var BB=typeof Proxy<"u",HB=Object.toString();function z$(){BB||Ge("Proxy not available")}function K$(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var tc=function(){};function ii(n){return typeof n=="function"}function jl(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Ev(n){return n!==null&&typeof n=="object"}function Ia(n){if(!Ev(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===HB}function W$(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function tp(n,e,t){Mi(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function G$(n,e,t){Mi(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function iu(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(r){return Ev(r)&&r[t]===!0}}function rd(n){return n instanceof Map}function np(n){return n instanceof Set}var Y$=typeof Object.getOwnPropertySymbols<"u";function zB(n){var e=Object.keys(n);if(!Y$)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(r){return wv.propertyIsEnumerable.call(n,r)})):e}var Nc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Y$?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function q$(n){return n===null?null:typeof n=="object"?""+n:n}function va(n,e){return wv.hasOwnProperty.call(n,e)}var KB=Object.getOwnPropertyDescriptors||function(e){var t={};return Nc(e).forEach(function(r){t[r]=Xm(e,r)}),t};function WB(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,qB(r.key),r)}}function l1(n,e,t){return e&&WB(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Vl(){return Vl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vl.apply(this,arguments)}function X$(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ww(n,e)}function Ww(n,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ww(n,e)}function Rb(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function GB(n,e){if(n){if(typeof n=="string")return TP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TP(n,e)}}function TP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function nc(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=GB(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YB(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function qB(n){var e=YB(n,"string");return typeof e=="symbol"?e:String(e)}var Ri=Symbol("mobx-stored-annotations");function Fi(n){function e(t,r){if(rp(r))return n.decorate_20223_(t,r);sd(t,r,n)}return Object.assign(e,n)}function sd(n,e,t){va(n,Ri)||tp(n,Ri,Vl({},n[Ri])),n9(t)||(n[Ri][e]=t)}function XB(n){return va(n,Ri)||tp(n,Ri,Vl({},n[Ri])),n[Ri]}function rp(n){return typeof n=="object"&&typeof n.kind=="string"}var pe=Symbol("mobx administration"),sp=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=tt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return gL(this)},e.reportChanged=function(){Is(),mL(this),Ps()},e.toString=function(){return this.name_},n}(),u1=iu("Atom",sp);function Q$(n,e,t){e===void 0&&(e=tc),t===void 0&&(t=tc);var r=new sp(n);return e!==tc&&sH(r,e),t!==tc&&EL(r,t),r}function QB(n,e){return jL(n,e)}function ZB(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Qm={structural:QB,default:ZB};function Ul(n,e,t){return IL(n)?n:Array.isArray(n)?Wn.array(n,{name:t}):Ia(n)?Wn.object(n,void 0,{name:t}):rd(n)?Wn.map(n,{name:t}):np(n)?Wn.set(n,{name:t}):typeof n=="function"&&!Ov(n)&&!cf(n)?W$(n)?Mc(n):uf(t,n):n}function JB(n,e,t){if(n==null||Pv(n)||Iv(n)||ou(n)||id(n))return n;if(Array.isArray(n))return Wn.array(n,{name:t,deep:!1});if(Ia(n))return Wn.object(n,void 0,{name:t,deep:!1});if(rd(n))return Wn.map(n,{name:t,deep:!1});if(np(n))return Wn.set(n,{name:t,deep:!1})}function Sv(n){return n}function e9(n,e){return jL(n,e)?e:n}var t9="override";function n9(n){return n.annotationType_===t9}function ip(n,e){return{annotationType_:n,options_:e,make_:r9,extend_:s9,decorate_20223_:i9}}function r9(n,e,t,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(n,e,t,!1)===null?0:1;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(Ov(t.value))return 1;var i=Z$(n,this,e,t,!1);return Mi(r,e,i),2}function s9(n,e,t,r){var s=Z$(n,this,e,t);return n.defineProperty_(e,s,r)}function i9(n,e){var t=e.kind,r=e.name,s=e.addInitializer,i=this,a=function(u){var d,h,f,p;return Bl((d=(h=i.options_)==null?void 0:h.name)!=null?d:r.toString(),u,(f=(p=i.options_)==null?void 0:p.autoAction)!=null?f:!1)};if(t=="field"){s(function(){sd(this,r,i)});return}if(t=="method"){var o;return Ov(n)||(n=a(n)),(o=this.options_)!=null&&o.bound&&s(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),n}Ge("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+t+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function a9(n,e,t,r){e.annotationType_,r.value}function Z$(n,e,t,r,s){var i,a,o,l,u,d,h;s===void 0&&(s=X.safeDescriptors),a9(n,e,t,r);var f=r.value;if((i=e.options_)!=null&&i.bound){var p;f=f.bind((p=n.proxy_)!=null?p:n.target_)}return{value:Bl((a=(o=e.options_)==null?void 0:o.name)!=null?a:t.toString(),f,(l=(u=e.options_)==null?void 0:u.autoAction)!=null?l:!1,(d=e.options_)!=null&&d.bound?(h=n.proxy_)!=null?h:n.target_:void 0),configurable:s?n.isPlainObject_:!0,enumerable:!1,writable:!s}}function J$(n,e){return{annotationType_:n,options_:e,make_:o9,extend_:l9,decorate_20223_:u9}}function o9(n,e,t,r){var s;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!va(n.target_,e)||!cf(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(cf(t.value))return 1;var i=eL(n,this,e,t,!1,!1);return Mi(r,e,i),2}function l9(n,e,t,r){var s,i=eL(n,this,e,t,(s=this.options_)==null?void 0:s.bound);return n.defineProperty_(e,i,r)}function u9(n,e){var t,r=e.name,s=e.addInitializer;return cf(n)||(n=Mc(n)),(t=this.options_)!=null&&t.bound&&s(function(){var i=this,a=i[r].bind(i);a.isMobXFlow=!0,i[r]=a}),n}function c9(n,e,t,r){e.annotationType_,r.value}function eL(n,e,t,r,s,i){i===void 0&&(i=X.safeDescriptors),c9(n,e,t,r);var a=r.value;if(cf(a)||(a=Mc(a)),s){var o;a=a.bind((o=n.proxy_)!=null?o:n.target_),a.isMobXFlow=!0}return{value:a,configurable:i?n.isPlainObject_:!0,enumerable:!1,writable:!i}}function c1(n,e){return{annotationType_:n,options_:e,make_:d9,extend_:h9,decorate_20223_:f9}}function d9(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function h9(n,e,t,r){return p9(n,this,e,t),n.defineComputedProperty_(e,Vl({},this.options_,{get:t.get,set:t.set}),r)}function f9(n,e){var t=this,r=e.name,s=e.addInitializer;return s(function(){var i=lu(this)[pe],a=Vl({},t.options_,{get:n,context:this});a.name||(a.name="ObservableObject."+r.toString()),i.values_.set(r,new Lc(a))}),function(){return this[pe].getObservablePropValue_(r)}}function p9(n,e,t,r){e.annotationType_,r.get}function Cv(n,e){return{annotationType_:n,options_:e,make_:g9,extend_:m9,decorate_20223_:y9}}function g9(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function m9(n,e,t,r){var s,i;return v9(n,this),n.defineObservableProperty_(e,t.value,(s=(i=this.options_)==null?void 0:i.enhancer)!=null?s:Ul,r)}function y9(n,e){var t=this,r=e.kind,s=e.name,i=new WeakSet;function a(o,l){var u,d,h=lu(o)[pe],f=new Il(l,(u=(d=t.options_)==null?void 0:d.enhancer)!=null?u:Ul,"ObservableObject."+s.toString(),!1);h.values_.set(s,f),i.add(o)}if(r=="accessor")return{get:function(){return i.has(this)||a(this,n.get.call(this)),this[pe].getObservablePropValue_(s)},set:function(l){return i.has(this)||a(this,l),this[pe].setObservablePropValue_(s,l)},init:function(l){return i.has(this)||a(this,l),l}}}function v9(n,e,t,r){e.annotationType_}var _9="true",b9=tL();function tL(n){return{annotationType_:_9,options_:n,make_:w9,extend_:E9,decorate_20223_:S9}}function w9(n,e,t,r){var s,i;if(t.get)return $c.make_(n,e,t,r);if(t.set){var a=Bl(e.toString(),t.set);return r===n.target_?n.defineProperty_(e,{configurable:X.safeDescriptors?n.isPlainObject_:!0,set:a})===null?0:2:(Mi(r,e,{configurable:!0,set:a}),2)}if(r!==n.target_&&typeof t.value=="function"){var o;if(W$(t.value)){var l,u=(l=this.options_)!=null&&l.autoBind?Mc.bound:Mc;return u.make_(n,e,t,r)}var d=(o=this.options_)!=null&&o.autoBind?uf.bound:uf;return d.make_(n,e,t,r)}var h=((s=this.options_)==null?void 0:s.deep)===!1?Wn.ref:Wn;if(typeof t.value=="function"&&(i=this.options_)!=null&&i.autoBind){var f;t.value=t.value.bind((f=n.proxy_)!=null?f:n.target_)}return h.make_(n,e,t,r)}function E9(n,e,t,r){var s,i;if(t.get)return $c.extend_(n,e,t,r);if(t.set)return n.defineProperty_(e,{configurable:X.safeDescriptors?n.isPlainObject_:!0,set:Bl(e.toString(),t.set)},r);if(typeof t.value=="function"&&(s=this.options_)!=null&&s.autoBind){var a;t.value=t.value.bind((a=n.proxy_)!=null?a:n.target_)}var o=((i=this.options_)==null?void 0:i.deep)===!1?Wn.ref:Wn;return o.extend_(n,e,t,r)}function S9(n,e){Ge("'"+this.annotationType_+"' cannot be used as a decorator")}var C9="observable",T9="observable.ref",O9="observable.shallow",I9="observable.struct",nL={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(nL);function yg(n){return n||nL}var Gw=Cv(C9),P9=Cv(T9,{enhancer:Sv}),x9=Cv(O9,{enhancer:JB}),R9=Cv(I9,{enhancer:e9}),rL=Fi(Gw);function vg(n){return n.deep===!0?Ul:n.deep===!1?Sv:D9(n.defaultDecorator)}function A9(n){var e;return n?(e=n.defaultDecorator)!=null?e:tL(n):void 0}function D9(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:Ul}function sL(n,e,t){if(rp(e))return Gw.decorate_20223_(n,e);if(jl(e)){sd(n,e,Gw);return}return IL(n)?n:Ia(n)?Wn.object(n,e,t):Array.isArray(n)?Wn.array(n,e):rd(n)?Wn.map(n,e):np(n)?Wn.set(n,e):typeof n=="object"&&n!==null?n:Wn.box(n,e)}B$(sL,rL);var k9={box:function(e,t){var r=yg(t);return new Il(e,vg(r),r.name,!0,r.equals)},array:function(e,t){var r=yg(t);return(X.useProxies===!1||r.proxy===!1?PH:vH)(e,vg(r),r.name)},map:function(e,t){var r=yg(t);return new AL(e,vg(r),r.name)},set:function(e,t){var r=yg(t);return new NL(e,vg(r),r.name)},object:function(e,t,r){return Ho(function(){return CL(X.useProxies===!1||(r==null?void 0:r.proxy)===!1?lu({},r):pH({},r),e,t)})},ref:Fi(P9),shallow:Fi(x9),deep:rL,struct:Fi(R9)},Wn=B$(sL,k9),iL="computed",N9="computed.struct",Yw=c1(iL),$9=c1(N9,{equals:Qm.structural}),$c=function(e,t){if(rp(t))return Yw.decorate_20223_(e,t);if(jl(t))return sd(e,t,Yw);if(Ia(e))return Fi(c1(iL,e));var r=Ia(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new Lc(r)};Object.assign($c,Yw);$c.struct=Fi($9);var OP,IP,Zm=0,L9=1,M9=(OP=(IP=Xm(function(){},"name"))==null?void 0:IP.configurable)!=null?OP:!1,PP={value:"action",configurable:!0,writable:!1,enumerable:!1};function Bl(n,e,t,r){t===void 0&&(t=!1);function s(){return aL(n,t,e,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return e.toString()},M9&&(PP.value=n,Mi(s,"name",PP)),s}function aL(n,e,t,r,s){var i=F9(n,e);try{return t.apply(r,s)}catch(a){throw i.error_=a,a}finally{j9(i)}}function F9(n,e,t,r){var s=!1,i=0,a=X.trackingDerivation,o=!e||!a;Is();var l=X.allowStateChanges;o&&(au(),l=d1(!0));var u=f1(!0),d={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:s,startTime_:i,actionId_:L9++,parentActionId_:Zm};return Zm=d.actionId_,d}function j9(n){Zm!==n.actionId_&&Ge(30),Zm=n.parentActionId_,n.error_!==void 0&&(X.suppressReactionErrors=!0),h1(n.prevAllowStateChanges_),Rh(n.prevAllowStateReads_),Ps(),n.runAsAction_&&_a(n.prevDerivation_),X.suppressReactionErrors=!1}function d1(n){var e=X.allowStateChanges;return X.allowStateChanges=n,e}function h1(n){X.allowStateChanges=n}var oL;oL=Symbol.toPrimitive;var Il=function(n){X$(e,n);function e(r,s,i,a,o){var l;return i===void 0&&(i="ObservableValue"),o===void 0&&(o=Qm.default),l=n.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=s,l.name_=i,l.equals=o,l.value_=s(r,void 0,i),l}var t=e.prototype;return t.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==X.UNCHANGED&&this.setNewValue_(s)},t.prepareNewValue_=function(s){if(bs(this)){var i=ws(this,{object:this,type:ji,newValue:s});if(!i)return X.UNCHANGED;s=i.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?X.UNCHANGED:s},t.setNewValue_=function(s){var i=this.value_;this.value_=s,this.reportChanged(),ti(this)&&ni(this,{type:ji,object:this,newValue:s,oldValue:i})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(s){return ap(this,s)},t.observe_=function(s,i){return i&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:ji,newValue:this.value_,oldValue:void 0}),op(this,s)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return q$(this.get())},t[oL]=function(){return this.valueOf()},e}(sp),lL;lL=Symbol.toPrimitive;var Lc=function(){function n(t){this.dependenciesState_=tt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=tt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new ey(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Jm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||Ge(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=Bl("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Qm.structural:Qm.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){z9(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing_&&Ge(32,this.name_,this.derivation),X.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)qw(this)&&(this.warnAboutUntrackedRead_(),Is(),this.value_=this.computeValue_(!1),Ps());else if(gL(this),qw(this)){var r=X.trackingContext;this.keepAlive_&&!r&&(X.trackingContext=this),this.trackAndCompute()&&H9(this),X.trackingContext=r}var s=this.value_;if(rm(s))throw s.cause;return s},e.set=function(r){if(this.setter_){this.isRunningSetter_&&Ge(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else Ge(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===tt.NOT_TRACKING_,i=this.computeValue_(!0),a=s||rm(r)||rm(i)||!this.equals_(r,i);return a&&(this.value_=i),a},e.computeValue_=function(r){this.isComputing_=!0;var s=d1(!1),i;if(r)i=uL(this,this.derivation,this.scope_);else if(X.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(a){i=new ey(a)}return h1(s),this.isComputing_=!1,i},e.suspend_=function(){this.keepAlive_||(Xw(this),this.value_=void 0)},e.observe_=function(r,s){var i=this,a=!0,o=void 0;return J9(function(){var l=i.get();if(!a||s){var u=au();r({observableKind:"computed",debugObjectName:i.name_,type:ji,object:i,newValue:l,oldValue:o}),_a(u)}a=!1,o=l})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return q$(this.get())},e[lL]=function(){return this.valueOf()},n}(),Tv=iu("ComputedValue",Lc),tt;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(tt||(tt={}));var Jm;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(Jm||(Jm={}));var ey=function(e){this.cause=void 0,this.cause=e};function rm(n){return n instanceof ey}function qw(n){switch(n.dependenciesState_){case tt.UP_TO_DATE_:return!1;case tt.NOT_TRACKING_:case tt.STALE_:return!0;case tt.POSSIBLY_STALE_:{for(var e=f1(!0),t=au(),r=n.observing_,s=r.length,i=0;i<s;i++){var a=r[i];if(Tv(a)){if(X.disableErrorBoundaries)a.get();else try{a.get()}catch{return _a(t),Rh(e),!0}if(n.dependenciesState_===tt.STALE_)return _a(t),Rh(e),!0}}return dL(n),_a(t),Rh(e),!1}}}function uL(n,e,t){var r=f1(!0);dL(n),n.newObserving_=new Array(n.observing_.length+100),n.unboundDepsCount_=0,n.runId_=++X.runId;var s=X.trackingDerivation;X.trackingDerivation=n,X.inBatch++;var i;if(X.disableErrorBoundaries===!0)i=e.call(t);else try{i=e.call(t)}catch(a){i=new ey(a)}return X.inBatch--,X.trackingDerivation=s,V9(n),Rh(r),i}function V9(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,r=tt.UP_TO_DATE_,s=0,i=n.unboundDepsCount_,a=0;a<i;a++){var o=t[a];o.diffValue_===0&&(o.diffValue_=1,s!==a&&(t[s]=o),s++),o.dependenciesState_>r&&(r=o.dependenciesState_)}for(t.length=s,n.newObserving_=null,i=e.length;i--;){var l=e[i];l.diffValue_===0&&fL(l,n),l.diffValue_=0}for(;s--;){var u=t[s];u.diffValue_===1&&(u.diffValue_=0,B9(u,n))}r!==tt.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function Xw(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)fL(e[t],n);n.dependenciesState_=tt.NOT_TRACKING_}function cL(n){var e=au();try{return n()}finally{_a(e)}}function au(){var n=X.trackingDerivation;return X.trackingDerivation=null,n}function _a(n){X.trackingDerivation=n}function f1(n){var e=X.allowStateReads;return X.allowStateReads=n,e}function Rh(n){X.allowStateReads=n}function dL(n){if(n.dependenciesState_!==tt.UP_TO_DATE_){n.dependenciesState_=tt.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=tt.UP_TO_DATE_}}var sm=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},im=!0,hL=!1,X=function(){var n=o1();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(im=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new sm().version&&(im=!1),im?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new sm):(setTimeout(function(){hL||Ge(35)},1),new sm)}();function U9(){if((X.pendingReactions.length||X.inBatch||X.isRunningReactions)&&Ge(36),hL=!0,im){var n=o1();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),X=new sm}}function B9(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function fL(n,e){n.observers_.delete(e),n.observers_.size===0&&pL(n)}function pL(n){n.isPendingUnobservation_===!1&&(n.isPendingUnobservation_=!0,X.pendingUnobservations.push(n))}function Is(){X.inBatch++}function Ps(){if(--X.inBatch===0){yL();for(var n=X.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation_=!1,t.observers_.size===0&&(t.isBeingObserved_&&(t.isBeingObserved_=!1,t.onBUO()),t instanceof Lc&&t.suspend_())}X.pendingUnobservations=[]}}function gL(n){var e=X.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved_&&X.trackingContext&&(n.isBeingObserved_=!0,n.onBO())),n.isBeingObserved_):(n.observers_.size===0&&X.inBatch>0&&pL(n),!1)}function mL(n){n.lowestObserverState_!==tt.STALE_&&(n.lowestObserverState_=tt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===tt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=tt.STALE_}))}function H9(n){n.lowestObserverState_!==tt.STALE_&&(n.lowestObserverState_=tt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===tt.POSSIBLY_STALE_?e.dependenciesState_=tt.STALE_:e.dependenciesState_===tt.UP_TO_DATE_&&(n.lowestObserverState_=tt.UP_TO_DATE_)}))}function z9(n){n.lowestObserverState_===tt.UP_TO_DATE_&&(n.lowestObserverState_=tt.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===tt.UP_TO_DATE_&&(e.dependenciesState_=tt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ty=function(){function n(t,r,s,i){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=tt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Jm.NONE,this.name_=t,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=i}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,X.pendingReactions.push(this),yL())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){Is(),this.isScheduled_=!1;var r=X.trackingContext;if(X.trackingContext=this,qw(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}X.trackingContext=r,Ps()}},e.track=function(r){if(!this.isDisposed_){Is(),this.isRunning_=!0;var s=X.trackingContext;X.trackingContext=this;var i=uL(this,r,void 0);X.trackingContext=s,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Xw(this),rm(i)&&this.reportExceptionInDerivation_(i.cause),Ps()}},e.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(X.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";X.suppressReactionErrors||console.error(i,r),X.globalReactionErrorHandlers.forEach(function(a){return a(r,s)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Is(),Xw(this),Ps()))},e.getDisposer_=function(r){var s=this,i=function a(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[pe]=this,i},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},n}(),K9=100,Qw=function(e){return e()};function yL(){X.inBatch>0||X.isRunningReactions||Qw(W9)}function W9(){X.isRunningReactions=!0;for(var n=X.pendingReactions,e=0;n.length>0;){++e===K9&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),r=0,s=t.length;r<s;r++)t[r].runReaction_()}X.isRunningReactions=!1}var ny=iu("Reaction",ty);function G9(n){var e=Qw;Qw=function(r){return n(function(){return e(r)})}}function Ah(){return!1}function Y9(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var vL="action",q9="action.bound",_L="autoAction",X9="autoAction.bound",bL="<unnamed action>",Zw=ip(vL),Q9=ip(q9,{bound:!0}),Jw=ip(_L,{autoAction:!0}),Z9=ip(X9,{autoAction:!0,bound:!0});function wL(n){var e=function(r,s){if(ii(r))return Bl(r.name||bL,r,n);if(ii(s))return Bl(r,s,n);if(rp(s))return(n?Jw:Zw).decorate_20223_(r,s);if(jl(s))return sd(r,s,n?Jw:Zw);if(jl(r))return Fi(ip(n?_L:vL,{name:r,autoAction:n}))};return e}var rc=wL(!1);Object.assign(rc,Zw);var uf=wL(!0);Object.assign(uf,Jw);rc.bound=Fi(Q9);uf.bound=Fi(Z9);function eo(n){return aL(n.name||bL,!1,n,this,void 0)}function Ov(n){return ii(n)&&n.isMobxAction===!0}function J9(n,e){var t,r,s,i,a;e===void 0&&(e=H$);var o=(t=(r=e)==null?void 0:r.name)!=null?t:"Autorun",l=!e.scheduler&&!e.delay,u;if(l)u=new ty(o,function(){this.track(f)},e.onError,e.requiresObservable);else{var d=tH(e),h=!1;u=new ty(o,function(){h||(h=!0,d(function(){h=!1,u.isDisposed_||u.track(f)}))},e.onError,e.requiresObservable)}function f(){n(u)}return(s=e)!=null&&(i=s.signal)!=null&&i.aborted||u.schedule_(),u.getDisposer_((a=e)==null?void 0:a.signal)}var eH=function(e){return e()};function tH(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:eH}var nH="onBO",rH="onBUO";function sH(n,e,t){return SL(nH,n,e,t)}function EL(n,e,t){return SL(rH,n,e,t)}function SL(n,e,t,r){var s=iy(e),i=ii(r)?r:t,a=n+"L";return s[a]?s[a].add(i):s[a]=new Set([i]),function(){var o=s[a];o&&(o.delete(i),o.size===0&&delete s[a])}}var iH="never",_g="always",aH="observed";function oH(n){n.isolateGlobalState===!0&&U9();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(X.useProxies=e===_g?!0:e===iH?!1:typeof Proxy<"u"),e==="ifavailable"&&(X.verifyProxies=!0),t!==void 0){var r=t===_g?_g:t===aH;X.enforceActions=r,X.allowStateChanges=!(r===!0||r===_g)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in n&&(X[s]=!!n[s])}),X.allowStateReads=!X.observableRequiresReaction,n.reactionScheduler&&G9(n.reactionScheduler)}function CL(n,e,t,r){var s=KB(e);return Ho(function(){var i=lu(n,r)[pe];Nc(s).forEach(function(a){i.extend_(a,s[a],t&&a in t?t[a]:!0)})}),n}function lH(n,e){return TL(iy(n,e))}function TL(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=uH(n.observing_).map(TL)),e}function uH(n){return Array.from(new Set(n))}var cH=0;function OL(){this.message="FLOW_CANCELLED"}OL.prototype=Object.create(Error.prototype);var Ab=J$("flow"),dH=J$("flow.bound",{bound:!0}),Mc=Object.assign(function(e,t){if(rp(t))return Ab.decorate_20223_(e,t);if(jl(t))return sd(e,t,Ab);var r=e,s=r.name||"<unnamed flow>",i=function(){var o=this,l=arguments,u=++cH,d=rc(s+" - runid: "+u+" - init",r).apply(o,l),h,f=void 0,p=new Promise(function(_,m){var v=0;h=m;function y(E){f=void 0;var S;try{S=rc(s+" - runid: "+u+" - yield "+v++,d.next).call(d,E)}catch(C){return m(C)}w(S)}function b(E){f=void 0;var S;try{S=rc(s+" - runid: "+u+" - yield "+v++,d.throw).call(d,E)}catch(C){return m(C)}w(S)}function w(E){if(ii(E==null?void 0:E.then)){E.then(w,m);return}return E.done?_(E.value):(f=Promise.resolve(E.value),f.then(y,b))}y(void 0)});return p.cancel=rc(s+" - runid: "+u+" - cancel",function(){try{f&&xP(f);var _=d.return(void 0),m=Promise.resolve(_.value);m.then(tc,tc),xP(m),h(new OL)}catch(v){h(v)}}),p};return i.isMobXFlow=!0,i},Ab);Mc.bound=Fi(dH);function xP(n){ii(n.cancel)&&n.cancel()}function cf(n){return(n==null?void 0:n.isMobXFlow)===!0}function hH(n,e){return n?Pv(n)||!!n[pe]||u1(n)||ny(n)||Tv(n):!1}function IL(n){return hH(n)}function ca(n,e){e===void 0&&(e=void 0),Is();try{return n.apply(e)}finally{Ps()}}function Cu(n){return n[pe]}var fH={has:function(e,t){return Cu(e).has_(t)},get:function(e,t){return Cu(e).get_(t)},set:function(e,t,r){var s;return jl(t)?(s=Cu(e).set_(t,r,!0))!=null?s:!0:!1},deleteProperty:function(e,t){var r;return jl(t)?(r=Cu(e).delete_(t,!0))!=null?r:!0:!1},defineProperty:function(e,t,r){var s;return(s=Cu(e).defineProperty_(t,r))!=null?s:!0},ownKeys:function(e){return Cu(e).ownKeys_()},preventExtensions:function(e){Ge(13)}};function pH(n,e){var t,r;return z$(),n=lu(n,e),(r=(t=n[pe]).proxy_)!=null?r:t.proxy_=new Proxy(n,fH)}function bs(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function ap(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),K$(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function ws(n,e){var t=au();try{for(var r=[].concat(n.interceptors_||[]),s=0,i=r.length;s<i&&(e=r[s](e),e&&!e.type&&Ge(14),!!e);s++);return e}finally{_a(t)}}function ti(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function op(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),K$(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function ni(n,e){var t=au(),r=n.changeListeners_;if(r){r=r.slice();for(var s=0,i=r.length;s<i;s++)r[s](e);_a(t)}}function gH(n,e,t){return Ho(function(){var r,s=lu(n,t)[pe];(r=e)!=null||(e=XB(n)),Nc(e).forEach(function(i){return s.make_(i,e[i])})}),n}var Db=Symbol("mobx-keys");function p1(n,e,t){return Ia(n)?CL(n,n,e,t):(Ho(function(){var r=lu(n,t)[pe];if(!n[Db]){var s=Object.getPrototypeOf(n),i=new Set([].concat(Nc(n),Nc(s)));i.delete("constructor"),i.delete(pe),tp(s,Db,i)}n[Db].forEach(function(a){return r.make_(a,e&&a in e?e[a]:!0)})}),n)}var RP="splice",ji="update",mH=1e4,yH={get:function(e,t){var r=e[pe];return t===pe?r:t==="length"?r.getArrayLength_():typeof t=="string"&&!isNaN(t)?r.get_(parseInt(t)):va(ry,t)?ry[t]:e[t]},set:function(e,t,r){var s=e[pe];return t==="length"&&s.setArrayLength_(r),typeof t=="symbol"||isNaN(t)?e[t]=r:s.set_(parseInt(t),r),!0},preventExtensions:function(){Ge(15)}},g1=function(){function n(t,r,s,i){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=i,this.atom_=new sp(t),this.enhancer_=function(a,o){return r(a,o,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return ap(this,r)},e.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),op(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Ge("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var i=new Array(r-s),a=0;a<r-s;a++)i[a]=void 0;this.spliceWithArray_(s,0,i)}else this.spliceWithArray_(r,s-r)},e.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&Ge(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&FL(r+s+1)},e.spliceWithArray_=function(r,s,i){var a=this;this.atom_;var o=this.values_.length;if(r===void 0?r=0:r>o?r=o:r<0&&(r=Math.max(0,o+r)),arguments.length===1?s=o-r:s==null?s=0:s=Math.max(0,Math.min(s,o-r)),i===void 0&&(i=Kw),bs(this)){var l=ws(this,{object:this.proxy_,type:RP,index:r,removedCount:s,added:i});if(!l)return Kw;s=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(h){return a.enhancer_(h,void 0)}),this.legacyMode_){var u=i.length-s;this.updateArrayLength_(o,u)}var d=this.spliceItemsIntoValues_(r,s,i);return(s!==0||i.length!==0)&&this.notifyArraySplice_(r,i,d),this.dehanceValues_(d)},e.spliceItemsIntoValues_=function(r,s,i){if(i.length<mH){var a;return(a=this.values_).splice.apply(a,[r,s].concat(i))}else{var o=this.values_.slice(r,r+s),l=this.values_.slice(r+s);this.values_.length+=i.length-s;for(var u=0;u<i.length;u++)this.values_[r+u]=i[u];for(var d=0;d<l.length;d++)this.values_[r+i.length+d]=l[d];return o}},e.notifyArrayChildUpdate_=function(r,s,i){var a=!this.owned_&&Ah(),o=ti(this),l=o||a?{observableKind:"array",object:this.proxy_,type:ji,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:i}:null;this.atom_.reportChanged(),o&&ni(this,l)},e.notifyArraySplice_=function(r,s,i){var a=!this.owned_&&Ah(),o=ti(this),l=o||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:RP,index:r,removed:i,added:s,removedCount:i.length,addedCount:s.length}:null;this.atom_.reportChanged(),o&&ni(this,l)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,s){var i=this.values_;if(this.legacyMode_&&r>i.length&&Ge(17,r,i.length),r<i.length){this.atom_;var a=i[r];if(bs(this)){var o=ws(this,{type:ji,object:this.proxy_,index:r,newValue:s});if(!o)return;s=o.newValue}s=this.enhancer_(s,a);var l=s!==a;l&&(i[r]=s,this.notifyArrayChildUpdate_(r,s,a))}else{for(var u=new Array(r+1-i.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=s,this.spliceWithArray_(i.length,0,u)}},n}();function vH(n,e,t,r){return t===void 0&&(t="ObservableArray"),r===void 0&&(r=!1),z$(),Ho(function(){var s=new g1(t,e,r,!1);G$(s.values_,pe,s);var i=new Proxy(s.values_,yH);return s.proxy_=i,n&&n.length&&s.spliceWithArray_(0,0,n),i})}var ry={clear:function(){return this.splice(0)},replace:function(e){var t=this[pe];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];var a=this[pe];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,s)},spliceWithArray:function(e,t,r){return this[pe].spliceWithArray_(e,t,r)},push:function(){for(var e=this[pe],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[pe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[pe],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return X.trackingDerivation&&Ge(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){X.trackingDerivation&&Ge(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[pe],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};Ct("at",cs);Ct("concat",cs);Ct("flat",cs);Ct("includes",cs);Ct("indexOf",cs);Ct("join",cs);Ct("lastIndexOf",cs);Ct("slice",cs);Ct("toString",cs);Ct("toLocaleString",cs);Ct("toSorted",cs);Ct("toSpliced",cs);Ct("with",cs);Ct("every",di);Ct("filter",di);Ct("find",di);Ct("findIndex",di);Ct("findLast",di);Ct("findLastIndex",di);Ct("flatMap",di);Ct("forEach",di);Ct("map",di);Ct("some",di);Ct("toReversed",di);Ct("reduce",PL);Ct("reduceRight",PL);function Ct(n,e){typeof Array.prototype[n]=="function"&&(ry[n]=e(n))}function cs(n){return function(){var e=this[pe];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function di(n){return function(e,t){var r=this,s=this[pe];s.atom_.reportObserved();var i=s.dehanceValues_(s.values_);return i[n](function(a,o){return e.call(t,a,o,r)})}}function PL(n){return function(){var e=this,t=this[pe];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_),s=arguments[0];return arguments[0]=function(i,a,o){return s(i,a,o,e)},r[n].apply(r,arguments)}}var _H=iu("ObservableArrayAdministration",g1);function Iv(n){return Ev(n)&&_H(n[pe])}var xL,RL,bH={},fo="add",sy="delete";xL=Symbol.iterator;RL=Symbol.toStringTag;var AL=function(){function n(t,r,s){var i=this;r===void 0&&(r=Ul),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[pe]=bH,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,ii(Map)||Ge(18),Ho(function(){i.keysAtom_=Q$("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,t&&i.merge(t)})}var e=n.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var s=this;if(!X.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var a=i=new Il(this.has_(r),Sv,"ObservableMap.key?",!1);this.hasMap_.set(r,a),EL(a,function(){return s.hasMap_.delete(r)})}return i.get()},e.set=function(r,s){var i=this.has_(r);if(bs(this)){var a=ws(this,{type:i?ji:fo,object:this,newValue:s,name:r});if(!a)return this;s=a.newValue}return i?this.updateValue_(r,s):this.addValue_(r,s),this},e.delete=function(r){var s=this;if(this.keysAtom_,bs(this)){var i=ws(this,{type:sy,object:this,name:r});if(!i)return!1}if(this.has_(r)){var a=Ah(),o=ti(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:sy,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ca(function(){var u;s.keysAtom_.reportChanged(),(u=s.hasMap_.get(r))==null||u.setNewValue_(!1);var d=s.data_.get(r);d.setNewValue_(void 0),s.data_.delete(r)}),o&&ni(this,l),!0}return!1},e.updateValue_=function(r,s){var i=this.data_.get(r);if(s=i.prepareNewValue_(s),s!==X.UNCHANGED){var a=Ah(),o=ti(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:ji,object:this,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&ni(this,l)}},e.addValue_=function(r,s){var i=this;this.keysAtom_,ca(function(){var u,d=new Il(s,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,d),s=d.value_,(u=i.hasMap_.get(r))==null||u.setNewValue_(!0),i.keysAtom_.reportChanged()});var a=Ah(),o=ti(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:fo,object:this,name:r,newValue:s}:null;o&&ni(this,l)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,s=this.keys();return df({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:r.get(l)}}})},e.entries=function(){var r=this,s=this.keys();return df({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:[l,r.get(l)]}}})},e[xL]=function(){return this.entries()},e.forEach=function(r,s){for(var i=nc(this),a;!(a=i()).done;){var o=a.value,l=o[0],u=o[1];r.call(s,u,l,this)}},e.merge=function(r){var s=this;return ou(r)&&(r=new Map(r)),ca(function(){Ia(r)?zB(r).forEach(function(i){return s.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var a=i[0],o=i[1];return s.set(a,o)}):rd(r)?(r.constructor!==Map&&Ge(19,r),r.forEach(function(i,a){return s.set(a,i)})):r!=null&&Ge(20,r)}),this},e.clear=function(){var r=this;ca(function(){cL(function(){for(var s=nc(r.keys()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},e.replace=function(r){var s=this;return ca(function(){for(var i=wH(r),a=new Map,o=!1,l=nc(s.data_.keys()),u;!(u=l()).done;){var d=u.value;if(!i.has(d)){var h=s.delete(d);if(h)o=!0;else{var f=s.data_.get(d);a.set(d,f)}}}for(var p=nc(i.entries()),_;!(_=p()).done;){var m=_.value,v=m[0],y=m[1],b=s.data_.has(v);if(s.set(v,y),s.data_.has(v)){var w=s.data_.get(v);a.set(v,w),b||(o=!0)}}if(!o)if(s.data_.size!==a.size)s.keysAtom_.reportChanged();else for(var E=s.data_.keys(),S=a.keys(),C=E.next(),O=S.next();!C.done;){if(C.value!==O.value){s.keysAtom_.reportChanged();break}C=E.next(),O=S.next()}s.data_=a}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,s){return op(this,r)},e.intercept_=function(r){return ap(this,r)},l1(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:RL,get:function(){return"Map"}}]),n}(),ou=iu("ObservableMap",AL);function wH(n){if(rd(n)||ou(n))return n;if(Array.isArray(n))return new Map(n);if(Ia(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return Ge(21,n)}var DL,kL,EH={};DL=Symbol.iterator;kL=Symbol.toStringTag;var NL=function(){function n(t,r,s){var i=this;r===void 0&&(r=Ul),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[pe]=EH,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,ii(Set)||Ge(22),this.enhancer_=function(a,o){return r(a,o,s)},Ho(function(){i.atom_=Q$(i.name_),t&&i.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;ca(function(){cL(function(){for(var s=nc(r.data_.values()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},e.forEach=function(r,s){for(var i=nc(this),a;!(a=i()).done;){var o=a.value;r.call(s,o,o,this)}},e.add=function(r){var s=this;if(this.atom_,bs(this)){var i=ws(this,{type:fo,object:this,newValue:r});if(!i)return this}if(!this.has(r)){ca(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var a=!1,o=ti(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:fo,object:this,newValue:r}:null;o&&ni(this,l)}return this},e.delete=function(r){var s=this;if(bs(this)){var i=ws(this,{type:sy,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var a=!1,o=ti(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:sy,object:this,oldValue:r}:null;return ca(function(){s.atom_.reportChanged(),s.data_.delete(r)}),o&&ni(this,l),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,s=Array.from(this.keys()),i=Array.from(this.values());return df({next:function(){var o=r;return r+=1,o<i.length?{value:[s[o],i[o]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,s=0,i=Array.from(this.data_.values());return df({next:function(){return s<i.length?{value:r.dehanceValue_(i[s++]),done:!1}:{done:!0}}})},e.replace=function(r){var s=this;return id(r)&&(r=new Set(r)),ca(function(){Array.isArray(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):np(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):r!=null&&Ge("Cannot initialize set from "+r)}),this},e.observe_=function(r,s){return op(this,r)},e.intercept_=function(r){return ap(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[DL]=function(){return this.values()},l1(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:kL,get:function(){return"Set"}}]),n}(),id=iu("ObservableSet",NL),AP=Object.create(null),DP="remove",$L=function(){function n(t,r,s,i){r===void 0&&(r=new Map),i===void 0&&(i=b9),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=r,this.name_=s,this.defaultAnnotation_=i,this.keysAtom_=new sp("ObservableObject.keys"),this.isPlainObject_=Ia(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,s){var i=this.values_.get(r);if(i instanceof Lc)return i.set(s),!0;if(bs(this)){var a=ws(this,{type:ji,object:this.proxy_||this.target_,name:r,newValue:s});if(!a)return null;s=a.newValue}if(s=i.prepareNewValue_(s),s!==X.UNCHANGED){var o=ti(this),l=!1,u=o||l?{type:ji,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&ni(this,u)}return!0},e.get_=function(r){return X.trackingDerivation&&!va(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,s,i){return i===void 0&&(i=!1),va(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):i?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},e.has_=function(r){if(!X.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Il(r in this.target_,Sv,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},e.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var i;if((i=this.target_[Ri])!=null&&i[r])return;Ge(1,s.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==wv;){var o=Xm(a,r);if(o){var l=s.make_(this,r,o,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}NP(this,s,r)}},e.extend_=function(r,s,i,a){if(a===void 0&&(a=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,s,a);var o=i.extend_(this,r,s,a);return o&&NP(this,i,r),o},e.defineProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Is();var a=this.delete_(r);if(!a)return a;if(bs(this)){var o=ws(this,{object:this.proxy_||this.target_,name:r,type:fo,newValue:s.value});if(!o)return null;var l=o.newValue;s.value!==l&&(s=Vl({},s,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,s))return!1}else Mi(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{Ps()}return!0},e.defineObservableProperty_=function(r,s,i,a){a===void 0&&(a=!1),this.keysAtom_;try{Is();var o=this.delete_(r);if(!o)return o;if(bs(this)){var l=ws(this,{object:this.proxy_||this.target_,name:r,type:fo,newValue:s});if(!l)return null;s=l.newValue}var u=kP(r),d={configurable:X.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,r,d))return!1}else Mi(this.target_,r,d);var h=new Il(s,i,"ObservableObject.key",!1);this.values_.set(r,h),this.notifyPropertyAddition_(r,h.value_)}finally{Ps()}return!0},e.defineComputedProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Is();var a=this.delete_(r);if(!a)return a;if(bs(this)){var o=ws(this,{object:this.proxy_||this.target_,name:r,type:fo,newValue:void 0});if(!o)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var l=kP(r),u={configurable:X.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Mi(this.target_,r,u);this.values_.set(r,new Lc(s)),this.notifyPropertyAddition_(r,void 0)}finally{Ps()}return!0},e.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!va(this.target_,r))return!0;if(bs(this)){var i=ws(this,{object:this.proxy_||this.target_,name:r,type:DP});if(!i)return null}try{var a,o;Is();var l=ti(this),u=!1,d=this.values_.get(r),h=void 0;if(!d&&(l||u)){var f;h=(f=Xm(this.target_,r))==null?void 0:f.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(d&&(this.values_.delete(r),d instanceof Il&&(h=d.value_),mL(d)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(o=a.get(r))==null||o.set(r in this.target_),l||u){var p={type:DP,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:r};l&&ni(this,p)}}finally{Ps()}return!0},e.observe_=function(r,s){return op(this,r)},e.intercept_=function(r){return ap(this,r)},e.notifyPropertyAddition_=function(r,s){var i,a,o=ti(this),l=!1;if(o||l){var u=o||l?{type:fo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;o&&ni(this,u)}(i=this.pendingKeys_)==null||(a=i.get(r))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Nc(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function lu(n,e){var t;if(va(n,pe))return n;var r=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",s=new $L(n,new Map,String(r),A9(e));return tp(n,pe,s),n}var SH=iu("ObservableObjectAdministration",$L);function kP(n){return AP[n]||(AP[n]={get:function(){return this[pe].getObservablePropValue_(n)},set:function(t){return this[pe].setObservablePropValue_(n,t)}})}function Pv(n){return Ev(n)?SH(n[pe]):!1}function NP(n,e,t){var r;(r=n.target_[Ri])==null||delete r[t]}var CH=ML(0),TH=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1}(),kb=0,LL=function(){};function OH(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}OH(LL,Array.prototype);var m1=function(n,e,t){X$(r,n);function r(i,a,o,l){var u;return o===void 0&&(o="ObservableArray"),l===void 0&&(l=!1),u=n.call(this)||this,Ho(function(){var d=new g1(o,a,l,!0);d.proxy_=Rb(u),G$(Rb(u),pe,d),i&&i.length&&u.spliceWithArray(0,0,i),TH&&Object.defineProperty(Rb(u),"0",CH)}),u}var s=r.prototype;return s.concat=function(){this[pe].atom_.reportObserved();for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),o.map(function(u){return Iv(u)?u.slice():u}))},s[t]=function(){var i=this,a=0;return df({next:function(){return a<i.length?{value:i[a++],done:!1}:{done:!0,value:void 0}}})},l1(r,[{key:"length",get:function(){return this[pe].getArrayLength_()},set:function(a){this[pe].setArrayLength_(a)}},{key:e,get:function(){return"Array"}}]),r}(LL,Symbol.toStringTag,Symbol.iterator);Object.entries(ry).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&tp(m1.prototype,e,t)});function ML(n){return{enumerable:!1,configurable:!0,get:function(){return this[pe].get_(n)},set:function(t){this[pe].set_(n,t)}}}function IH(n){Mi(m1.prototype,""+n,ML(n))}function FL(n){if(n>kb){for(var e=kb;e<n+100;e++)IH(e);kb=n}}FL(1e3);function PH(n,e,t){return new m1(n,e,t)}function iy(n,e){if(typeof n=="object"&&n!==null){if(Iv(n))return e!==void 0&&Ge(23),n[pe].atom_;if(id(n))return n.atom_;if(ou(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||Ge(25,e,eE(n)),t}if(Pv(n)){if(!e)return Ge(26);var r=n[pe].values_.get(e);return r||Ge(27,e,eE(n)),r}if(u1(n)||Tv(n)||ny(n))return n}else if(ii(n)&&ny(n[pe]))return n[pe];Ge(28)}function xH(n,e){if(n||Ge(29),u1(n)||Tv(n)||ny(n)||ou(n)||id(n))return n;if(n[pe])return n[pe];Ge(24,n)}function eE(n,e){var t;if(e!==void 0)t=iy(n,e);else{if(Ov(n))return n.name;Pv(n)||ou(n)||id(n)?t=xH(n):t=iy(n)}return t.name_}function Ho(n){var e=au(),t=d1(!0);Is();try{return n()}finally{Ps(),h1(t),_a(e)}}var $P=wv.toString;function jL(n,e,t){return t===void 0&&(t=-1),tE(n,e,t)}function tE(n,e,t,r,s){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var i=typeof n;if(i!=="function"&&i!=="object"&&typeof e!="object")return!1;var a=$P.call(n);if(a!==$P.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=LP(n),e=LP(e);var o=a==="[object Array]";if(!o){if(typeof n!="object"||typeof e!="object")return!1;var l=n.constructor,u=e.constructor;if(l!==u&&!(ii(l)&&l instanceof l&&ii(u)&&u instanceof u)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),r=r||[],s=s||[];for(var d=r.length;d--;)if(r[d]===n)return s[d]===e;if(r.push(n),s.push(e),o){if(d=n.length,d!==e.length)return!1;for(;d--;)if(!tE(n[d],e[d],t-1,r,s))return!1}else{var h=Object.keys(n),f;if(d=h.length,Object.keys(e).length!==d)return!1;for(;d--;)if(f=h[d],!(va(e,f)&&tE(n[f],e[f],t-1,r,s)))return!1}return r.pop(),s.pop(),!0}function LP(n){return Iv(n)?n.slice():rd(n)||ou(n)||np(n)||id(n)?Array.from(n.entries()):n}function df(n){return n[Symbol.iterator]=RH,n}function RH(){return this}["Symbol","Map","Set"].forEach(function(n){var e=o1();typeof e[n]>"u"&&Ge("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Y9,extras:{getDebugName:eE},$mobx:pe});if(!T.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!gH)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function AH(n){n()}function DH(n){n||(n=AH),oH({reactionScheduler:n})}function kH(n){return lH(n)}var NH=1e4,$H=1e4,LH=function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=NH),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var s=Date.now();t.registrations.forEach(function(i,a){s-i.registeredAt>=r&&(t.finalize(i.value),t.registrations.delete(a))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){this.registrations.set(r,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,$H))}}),n}(),MH=typeof FinalizationRegistry<"u"?FinalizationRegistry:LH,nE=new MH(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),VL={exports:{}},UL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=T;function FH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var jH=typeof Object.is=="function"?Object.is:FH,VH=Fc.useState,UH=Fc.useEffect,BH=Fc.useLayoutEffect,HH=Fc.useDebugValue;function zH(n,e){var t=e(),r=VH({inst:{value:t,getSnapshot:e}}),s=r[0].inst,i=r[1];return BH(function(){s.value=t,s.getSnapshot=e,Nb(s)&&i({inst:s})},[n,t,e]),UH(function(){return Nb(s)&&i({inst:s}),n(function(){Nb(s)&&i({inst:s})})},[n]),HH(t),t}function Nb(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!jH(n,t)}catch{return!0}}function KH(n,e){return e()}var WH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KH:zH;UL.useSyncExternalStore=Fc.useSyncExternalStore!==void 0?Fc.useSyncExternalStore:WH;VL.exports=UL;var GH=VL.exports,YH=function(){};function MP(n){n.reaction=new ty("observer".concat(n.name),function(){var e;n.stateVersion=Symbol(),(e=n.onStoreChange)===null||e===void 0||e.call(n)})}function qH(n,e){e===void 0&&(e="observed");var t=g.useRef(null);if(!t.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(o){return nE.unregister(r),r.onStoreChange=o,r.reaction||(MP(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};t.current=r}var s=t.current;s.reaction||(MP(s),nE.register(t,s,s)),g.useDebugValue(s.reaction,kH),GH.useSyncExternalStore(s.subscribe,s.getSnapshot,YH);var i,a;if(s.reaction.track(function(){try{i=n()}catch(o){a=o}}),a)throw a;return i}var BL=typeof Symbol=="function"&&Symbol.for,FP=BL?Symbol.for("react.forward_ref"):typeof T.forwardRef=="function"&&T.forwardRef(function(n){return null}).$$typeof,jP=BL?Symbol.for("react.memo"):typeof T.memo=="function"&&T.memo(function(n){return null}).$$typeof;function Ms(n,e){var t;if(jP&&n.$$typeof===jP)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(t=void 0)!==null&&t!==void 0?t:!1,s=n,i=n.displayName||n.name;if(FP&&n.$$typeof===FP&&(r=!0,s=n.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(o,l){return qH(function(){return s(o,l)},i)};return a.displayName=n.displayName,Object.defineProperty(a,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(a.contextTypes=n.contextTypes),r&&(a=T.forwardRef(a)),a=T.memo(a),QH(n,a),a}var XH={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function QH(n,e){Object.keys(n).forEach(function(t){XH[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}var $b;DH(Os.unstable_batchedUpdates);$b=nE.finalizeAllImmediately;function ZH(){}var HL=ZH;const k=ge(HL);var JH=Array.isArray,Zn=JH;const y1=ge(Zn);var ez=typeof Jp=="object"&&Jp&&Jp.Object===Object&&Jp,zL=ez,tz=zL,nz=typeof self=="object"&&self&&self.Object===Object&&self,rz=tz||nz||Function("return this")(),hi=rz,sz=hi,iz=sz.Symbol,ad=iz,VP=ad,KL=Object.prototype,az=KL.hasOwnProperty,oz=KL.toString,Bd=VP?VP.toStringTag:void 0;function lz(n){var e=az.call(n,Bd),t=n[Bd];try{n[Bd]=void 0;var r=!0}catch{}var s=oz.call(n);return r&&(e?n[Bd]=t:delete n[Bd]),s}var uz=lz,cz=Object.prototype,dz=cz.toString;function hz(n){return dz.call(n)}var fz=hz,UP=ad,pz=uz,gz=fz,mz="[object Null]",yz="[object Undefined]",BP=UP?UP.toStringTag:void 0;function vz(n){return n==null?n===void 0?yz:mz:BP&&BP in Object(n)?pz(n):gz(n)}var fi=vz;function _z(n){return n!=null&&typeof n=="object"}var Yr=_z,bz=fi,wz=Yr,Ez="[object Symbol]";function Sz(n){return typeof n=="symbol"||wz(n)&&bz(n)==Ez}var od=Sz,Cz=Zn,Tz=od,Oz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iz=/^\w*$/;function Pz(n,e){if(Cz(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Tz(n)?!0:Iz.test(n)||!Oz.test(n)||e!=null&&n in Object(e)}var v1=Pz;function xz(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var qr=xz;const Pa=ge(qr);var Rz=fi,Az=qr,Dz="[object AsyncFunction]",kz="[object Function]",Nz="[object GeneratorFunction]",$z="[object Proxy]";function Lz(n){if(!Az(n))return!1;var e=Rz(n);return e==kz||e==Nz||e==Dz||e==$z}var xv=Lz;const Te=ge(xv);var Mz=hi,Fz=Mz["__core-js_shared__"],jz=Fz,Lb=jz,HP=function(){var n=/[^.]+$/.exec(Lb&&Lb.keys&&Lb.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Vz(n){return!!HP&&HP in n}var Uz=Vz,Bz=Function.prototype,Hz=Bz.toString;function zz(n){if(n!=null){try{return Hz.call(n)}catch{}try{return n+""}catch{}}return""}var WL=zz,Kz=xv,Wz=Uz,Gz=qr,Yz=WL,qz=/[\\^$.*+?()[\]{}|]/g,Xz=/^\[object .+?Constructor\]$/,Qz=Function.prototype,Zz=Object.prototype,Jz=Qz.toString,e8=Zz.hasOwnProperty,t8=RegExp("^"+Jz.call(e8).replace(qz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n8(n){if(!Gz(n)||Wz(n))return!1;var e=Kz(n)?t8:Xz;return e.test(Yz(n))}var r8=n8;function s8(n,e){return n==null?void 0:n[e]}var i8=s8,a8=r8,o8=i8;function l8(n,e){var t=o8(n,e);return a8(t)?t:void 0}var uu=l8,u8=uu,c8=u8(Object,"create"),Rv=c8,zP=Rv;function d8(){this.__data__=zP?zP(null):{},this.size=0}var h8=d8;function f8(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var p8=f8,g8=Rv,m8="__lodash_hash_undefined__",y8=Object.prototype,v8=y8.hasOwnProperty;function _8(n){var e=this.__data__;if(g8){var t=e[n];return t===m8?void 0:t}return v8.call(e,n)?e[n]:void 0}var b8=_8,w8=Rv,E8=Object.prototype,S8=E8.hasOwnProperty;function C8(n){var e=this.__data__;return w8?e[n]!==void 0:S8.call(e,n)}var T8=C8,O8=Rv,I8="__lodash_hash_undefined__";function P8(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=O8&&e===void 0?I8:e,this}var x8=P8,R8=h8,A8=p8,D8=b8,k8=T8,N8=x8;function ld(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ld.prototype.clear=R8;ld.prototype.delete=A8;ld.prototype.get=D8;ld.prototype.has=k8;ld.prototype.set=N8;var $8=ld;function L8(){this.__data__=[],this.size=0}var M8=L8;function F8(n,e){return n===e||n!==n&&e!==e}var lp=F8,j8=lp;function V8(n,e){for(var t=n.length;t--;)if(j8(n[t][0],e))return t;return-1}var Av=V8,U8=Av,B8=Array.prototype,H8=B8.splice;function z8(n){var e=this.__data__,t=U8(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():H8.call(e,t,1),--this.size,!0}var K8=z8,W8=Av;function G8(n){var e=this.__data__,t=W8(e,n);return t<0?void 0:e[t][1]}var Y8=G8,q8=Av;function X8(n){return q8(this.__data__,n)>-1}var Q8=X8,Z8=Av;function J8(n,e){var t=this.__data__,r=Z8(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var e7=J8,t7=M8,n7=K8,r7=Y8,s7=Q8,i7=e7;function ud(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ud.prototype.clear=t7;ud.prototype.delete=n7;ud.prototype.get=r7;ud.prototype.has=s7;ud.prototype.set=i7;var Dv=ud,a7=uu,o7=hi,l7=a7(o7,"Map"),_1=l7,KP=$8,u7=Dv,c7=_1;function d7(){this.size=0,this.__data__={hash:new KP,map:new(c7||u7),string:new KP}}var h7=d7;function f7(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var p7=f7,g7=p7;function m7(n,e){var t=n.__data__;return g7(e)?t[typeof e=="string"?"string":"hash"]:t.map}var kv=m7,y7=kv;function v7(n){var e=y7(this,n).delete(n);return this.size-=e?1:0,e}var _7=v7,b7=kv;function w7(n){return b7(this,n).get(n)}var E7=w7,S7=kv;function C7(n){return S7(this,n).has(n)}var T7=C7,O7=kv;function I7(n,e){var t=O7(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var P7=I7,x7=h7,R7=_7,A7=E7,D7=T7,k7=P7;function cd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}cd.prototype.clear=x7;cd.prototype.delete=R7;cd.prototype.get=A7;cd.prototype.has=D7;cd.prototype.set=k7;var b1=cd,GL=b1,N7="Expected a function";function w1(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(N7);var t=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=t.cache;if(i.has(s))return i.get(s);var a=n.apply(this,r);return t.cache=i.set(s,a)||i,a};return t.cache=new(w1.Cache||GL),t}w1.Cache=GL;var $7=w1,L7=$7,M7=500;function F7(n){var e=L7(n,function(r){return t.size===M7&&t.clear(),r}),t=e.cache;return e}var j7=F7,V7=j7,U7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B7=/\\(\\)?/g,H7=V7(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(U7,function(t,r,s,i){e.push(s?i.replace(B7,"$1"):r||t)}),e}),YL=H7;function z7(n,e){for(var t=-1,r=n==null?0:n.length,s=Array(r);++t<r;)s[t]=e(n[t],t,n);return s}var dd=z7,WP=ad,K7=dd,W7=Zn,G7=od,GP=WP?WP.prototype:void 0,YP=GP?GP.toString:void 0;function qL(n){if(typeof n=="string")return n;if(W7(n))return K7(n,qL)+"";if(G7(n))return YP?YP.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var XL=qL,Y7=XL;function q7(n){return n==null?"":Y7(n)}var Nv=q7;const Tu=ge(Nv);var X7=Zn,Q7=v1,Z7=YL,J7=Nv;function eK(n,e){return X7(n)?n:Q7(n,e)?[n]:Z7(J7(n))}var hd=eK,tK=od;function nK(n){if(typeof n=="string"||tK(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var cu=nK,rK=hd,sK=cu;function iK(n,e){e=rK(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[sK(e[t++])];return t&&t==r?n:void 0}var $v=iK,aK=$v;function oK(n,e,t){var r=n==null?void 0:aK(n,e);return r===void 0?t:r}var QL=oK;const K=ge(QL),ZL=function(n){if(K(process,"env.NODE_ENV")==="development"){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console.log(n,...t)}};class Pe{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:k,getProps:k,getState:k,getStates:k,setState:k,getContext:k,getContexts:k,getCache:k,setCache:k,getCaches:k,stopPropagation:k,persistEvent:k}}constructor(e){this._adapter=Object.assign(Object.assign({},Pe.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,t){return this._adapter.setState(Object.assign({},e),t)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,t){return e&&this._adapter.setCache(e,t)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const t=this.getProps();return e in t}_isInProps(e){const t=this.getProps();return e in t}init(e){}destroy(){}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];ZL(e,...r)}_persistEvent(e){this._adapter.persistEvent(e)}}function hf(n){return Object.keys(n).reduce((e,t)=>(t.substr(0,5)==="data-"&&(e[t]=n[t]),e),{})}const{hasOwnProperty:lK}=Object.prototype;class we extends T.Component{constructor(e){super(e),this.isControlled=t=>!!(t&&this.props&&typeof this.props=="object"&&lK.call(this.props,t)),this.setStateAsync=t=>new Promise(r=>{this.setState(t,r)}),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&typeof this.foundation.init=="function"&&this.foundation.init()}componentWillUnmount(){this.foundation&&typeof this.foundation.destroy=="function"&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,t)=>this.setState(Object.assign({},e),t),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,t)=>e&&(this.cache[e]=t),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch{}},persistEvent:e=>{e&&e.persist&&typeof e.persist=="function"&&e.persist()}}}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return ZL(e,...r)}getDataAttr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return hf(e)}}we.propTypes={};we.defaultProps={};var uK=hi,cK=function(){return uK.Date.now()},dK=cK,hK=/\s/;function fK(n){for(var e=n.length;e--&&hK.test(n.charAt(e)););return e}var pK=fK,gK=pK,mK=/^\s+/;function yK(n){return n&&n.slice(0,gK(n)+1).replace(mK,"")}var vK=yK,_K=vK,qP=qr,bK=od,XP=NaN,wK=/^[-+]0x[0-9a-f]+$/i,EK=/^0b[01]+$/i,SK=/^0o[0-7]+$/i,CK=parseInt;function TK(n){if(typeof n=="number")return n;if(bK(n))return XP;if(qP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=qP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=_K(n);var t=EK.test(n);return t||SK.test(n)?CK(n.slice(2),t?2:8):wK.test(n)?XP:+n}var E1=TK;const Es=ge(E1);var OK=qr,Mb=dK,QP=E1,IK="Expected a function",PK=Math.max,xK=Math.min;function RK(n,e,t){var r,s,i,a,o,l,u=0,d=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(IK);e=QP(e)||0,OK(t)&&(d=!!t.leading,h="maxWait"in t,i=h?PK(QP(t.maxWait)||0,e):i,f="trailing"in t?!!t.trailing:f);function p(C){var O=r,I=s;return r=s=void 0,u=C,a=n.apply(I,O),a}function _(C){return u=C,o=setTimeout(y,e),d?p(C):a}function m(C){var O=C-l,I=C-u,P=e-O;return h?xK(P,i-I):P}function v(C){var O=C-l,I=C-u;return l===void 0||O>=e||O<0||h&&I>=i}function y(){var C=Mb();if(v(C))return b(C);o=setTimeout(y,m(C))}function b(C){return o=void 0,f&&r?p(C):(r=s=void 0,a)}function w(){o!==void 0&&clearTimeout(o),u=0,r=l=s=o=void 0}function E(){return o===void 0?a:b(Mb())}function S(){var C=Mb(),O=v(C);if(r=arguments,s=this,l=C,O){if(o===void 0)return _(l);if(h)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),a}return S.cancel=w,S.flush=E,S}var JL=RK;const eM=ge(JL);var AK=JL,DK=qr,kK="Expected a function";function NK(n,e,t){var r=!0,s=!0;if(typeof n!="function")throw new TypeError(kK);return DK(t)&&(r="leading"in t?!!t.leading:r,s="trailing"in t?!!t.trailing:s),AK(n,e,{leading:r,maxWait:e,trailing:s})}var $K=NK;const ay=ge($K);var tM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(i=s(i,r(o)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var o in i)e.call(i,o)&&i[o]&&(a=s(a,o));return a}function s(i,a){return a?i?i+" "+a:i+a:i}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(tM);var LK=tM.exports;const A=ge(LK);var nM={exports:{}},MK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FK=MK,jK=FK;function rM(){}function sM(){}sM.resetWarningCache=rM;var VK=function(){function n(r,s,i,a,o,l){if(l!==jK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sM,resetWarningCache:rM};return t.PropTypes=t,t};nM.exports=VK();var UK=nM.exports;const c=ge(UK),Y="semi",fd=["default","error","warning","success"];function ZP(n){return typeof n=="object"&&n!=null&&n.nodeType===1}function JP(n,e){return(!e||n!=="hidden")&&n!=="visible"&&n!=="clip"}function Fb(n,e){if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){var t=getComputedStyle(n,null);return JP(t.overflowY,e)||JP(t.overflowX,e)||function(r){var s=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!s&&(s.clientHeight<r.scrollHeight||s.clientWidth<r.scrollWidth)}(n)}return!1}function bg(n,e,t,r,s,i,a,o){return i<n&&a>e||i>n&&a<e?0:i<=n&&o<=t||a>=e&&o>=t?i-n-r:a>e&&o<t||i<n&&o>t?a-e+s:0}var ex=function(n,e){var t=window,r=e.scrollMode,s=e.block,i=e.inline,a=e.boundary,o=e.skipOverflowHiddenElements,l=typeof a=="function"?a:function(Tt){return Tt!==a};if(!ZP(n))throw new TypeError("Invalid target");for(var u,d,h=document.scrollingElement||document.documentElement,f=[],p=n;ZP(p)&&l(p);){if((p=(d=(u=p).parentElement)==null?u.getRootNode().host||null:d)===h){f.push(p);break}p!=null&&p===document.body&&Fb(p)&&!Fb(document.documentElement)||p!=null&&Fb(p,o)&&f.push(p)}for(var _=t.visualViewport?t.visualViewport.width:innerWidth,m=t.visualViewport?t.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,b=n.getBoundingClientRect(),w=b.height,E=b.width,S=b.top,C=b.right,O=b.bottom,I=b.left,P=s==="start"||s==="nearest"?S:s==="end"?O:S+w/2,x=i==="center"?I+E/2:i==="end"?C:I,D=[],N=0;N<f.length;N++){var L=f[N],V=L.getBoundingClientRect(),B=V.height,F=V.width,W=V.top,$=V.right,j=V.bottom,M=V.left;if(r==="if-needed"&&S>=0&&I>=0&&O<=m&&C<=_&&S>=W&&O<=j&&I>=M&&C<=$)return D;var te=getComputedStyle(L),Q=parseInt(te.borderLeftWidth,10),ie=parseInt(te.borderTopWidth,10),le=parseInt(te.borderRightWidth,10),Ee=parseInt(te.borderBottomWidth,10),he=0,de=0,ue="offsetWidth"in L?L.offsetWidth-L.clientWidth-Q-le:0,q="offsetHeight"in L?L.offsetHeight-L.clientHeight-ie-Ee:0,se="offsetWidth"in L?L.offsetWidth===0?0:F/L.offsetWidth:0,yt="offsetHeight"in L?L.offsetHeight===0?0:B/L.offsetHeight:0;if(h===L)he=s==="start"?P:s==="end"?P-m:s==="nearest"?bg(y,y+m,m,ie,Ee,y+P,y+P+w,w):P-m/2,de=i==="start"?x:i==="center"?x-_/2:i==="end"?x-_:bg(v,v+_,_,Q,le,v+x,v+x+E,E),he=Math.max(0,he+y),de=Math.max(0,de+v);else{he=s==="start"?P-W-ie:s==="end"?P-j+Ee+q:s==="nearest"?bg(W,j,B,ie,Ee+q,P,P+w,w):P-(W+B/2)+q/2,de=i==="start"?x-M-Q:i==="center"?x-(M+F/2)+ue/2:i==="end"?x-$+le+ue:bg(M,$,F,Q,le+ue,x,x+E,E);var Nt=L.scrollLeft,Cn=L.scrollTop;P+=Cn-(he=Math.max(0,Math.min(Cn+he/yt,L.scrollHeight-B/yt+q))),x+=Nt-(de=Math.max(0,Math.min(Nt+de/se,L.scrollWidth-F/se+ue)))}D.push({el:L,top:he,left:de})}return D};function iM(n){return n===Object(n)&&Object.keys(n).length!==0}function BK(n,e){e===void 0&&(e="auto");var t="scrollBehavior"in document.body.style;n.forEach(function(r){var s=r.el,i=r.top,a=r.left;s.scroll&&t?s.scroll({top:i,left:a,behavior:e}):(s.scrollTop=i,s.scrollLeft=a)})}function HK(n){return n===!1?{block:"end",inline:"nearest"}:iM(n)?n:{block:"start",inline:"nearest"}}function jb(n,e){var t=n.isConnected||n.ownerDocument.documentElement.contains(n);if(iM(e)&&typeof e.behavior=="function")return e.behavior(t?ex(n,e):[]);if(t){var r=HK(e);return BK(ex(n,r),r.behavior)}}const Lv={PREFIX:`${Y}-typography`},hr={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small","inherit"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]};var zK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const KK=Lv.PREFIX;let Mv=class extends T.PureComponent{render(){const e=this.props,{component:t,className:r,children:s,forwardRef:i}=e,a=zK(e,["component","className","children","forwardRef"]),o=t,l=A(KK,r);return g.createElement(o,Object.assign({className:l,ref:i},a),s)}};Mv.defaultProps={component:"article",style:{},className:""};Mv.propTypes={component:c.string,style:c.object,className:c.string};function WK(n){return n===null}var GK=WK;const Hl=ge(GK);var YK=fi,qK=Zn,XK=Yr,QK="[object String]";function ZK(n){return typeof n=="string"||!qK(n)&&XK(n)&&YK(n)==QK}var aM=ZK;const Oe=ge(aM);var JK=Dv;function eW(){this.__data__=new JK,this.size=0}var tW=eW;function nW(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var rW=nW;function sW(n){return this.__data__.get(n)}var iW=sW;function aW(n){return this.__data__.has(n)}var oW=aW,lW=Dv,uW=_1,cW=b1,dW=200;function hW(n,e){var t=this.__data__;if(t instanceof lW){var r=t.__data__;if(!uW||r.length<dW-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new cW(r)}return t.set(n,e),this.size=t.size,this}var fW=hW,pW=Dv,gW=tW,mW=rW,yW=iW,vW=oW,_W=fW;function pd(n){var e=this.__data__=new pW(n);this.size=e.size}pd.prototype.clear=gW;pd.prototype.delete=mW;pd.prototype.get=yW;pd.prototype.has=vW;pd.prototype.set=_W;var Fv=pd,bW=uu,wW=function(){try{var n=bW(Object,"defineProperty");return n({},"",{}),n}catch{}}(),oM=wW,tx=oM;function EW(n,e,t){e=="__proto__"&&tx?tx(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var S1=EW,SW=S1,CW=lp;function TW(n,e,t){(t!==void 0&&!CW(n[e],t)||t===void 0&&!(e in n))&&SW(n,e,t)}var lM=TW;function OW(n){return function(e,t,r){for(var s=-1,i=Object(e),a=r(e),o=a.length;o--;){var l=a[n?o:++s];if(t(i[l],l,i)===!1)break}return e}}var IW=OW,PW=IW,xW=PW(),uM=xW,oy={exports:{}};oy.exports;(function(n,e){var t=hi,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,a=i?t.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var h=u.length,f=o?o(h):new u.constructor(h);return u.copy(f),f}n.exports=l})(oy,oy.exports);var cM=oy.exports,RW=hi,AW=RW.Uint8Array,dM=AW,nx=dM;function DW(n){var e=new n.constructor(n.byteLength);return new nx(e).set(new nx(n)),e}var C1=DW,kW=C1;function NW(n,e){var t=e?kW(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var hM=NW;function $W(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var T1=$W,LW=qr,rx=Object.create,MW=function(){function n(){}return function(e){if(!LW(e))return{};if(rx)return rx(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),FW=MW;function jW(n,e){return function(t){return n(e(t))}}var fM=jW,VW=fM,UW=VW(Object.getPrototypeOf,Object),O1=UW,BW=Object.prototype;function HW(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||BW;return n===t}var up=HW,zW=FW,KW=O1,WW=up;function GW(n){return typeof n.constructor=="function"&&!WW(n)?zW(KW(n)):{}}var pM=GW,YW=fi,qW=Yr,XW="[object Arguments]";function QW(n){return qW(n)&&YW(n)==XW}var ZW=QW,sx=ZW,JW=Yr,gM=Object.prototype,eG=gM.hasOwnProperty,tG=gM.propertyIsEnumerable,nG=sx(function(){return arguments}())?sx:function(n){return JW(n)&&eG.call(n,"callee")&&!tG.call(n,"callee")},cp=nG,rG=9007199254740991;function sG(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=rG}var I1=sG,iG=xv,aG=I1;function oG(n){return n!=null&&aG(n.length)&&!iG(n)}var Qi=oG,lG=Qi,uG=Yr;function cG(n){return uG(n)&&lG(n)}var P1=cG,ly={exports:{}};function dG(){return!1}var mM=dG;const ff=ge(mM);ly.exports;(function(n,e){var t=hi,r=mM,s=e&&!e.nodeType&&e,i=s&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===s,o=a?t.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;n.exports=u})(ly,ly.exports);var dp=ly.exports,hG=fi,fG=O1,pG=Yr,gG="[object Object]",mG=Function.prototype,yG=Object.prototype,yM=mG.toString,vG=yG.hasOwnProperty,_G=yM.call(Object);function bG(n){if(!pG(n)||hG(n)!=gG)return!1;var e=fG(n);if(e===null)return!0;var t=vG.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&yM.call(t)==_G}var x1=bG;const wG=ge(x1);var EG=fi,SG=I1,CG=Yr,TG="[object Arguments]",OG="[object Array]",IG="[object Boolean]",PG="[object Date]",xG="[object Error]",RG="[object Function]",AG="[object Map]",DG="[object Number]",kG="[object Object]",NG="[object RegExp]",$G="[object Set]",LG="[object String]",MG="[object WeakMap]",FG="[object ArrayBuffer]",jG="[object DataView]",VG="[object Float32Array]",UG="[object Float64Array]",BG="[object Int8Array]",HG="[object Int16Array]",zG="[object Int32Array]",KG="[object Uint8Array]",WG="[object Uint8ClampedArray]",GG="[object Uint16Array]",YG="[object Uint32Array]",xt={};xt[VG]=xt[UG]=xt[BG]=xt[HG]=xt[zG]=xt[KG]=xt[WG]=xt[GG]=xt[YG]=!0;xt[TG]=xt[OG]=xt[FG]=xt[IG]=xt[jG]=xt[PG]=xt[xG]=xt[RG]=xt[AG]=xt[DG]=xt[kG]=xt[NG]=xt[$G]=xt[LG]=xt[MG]=!1;function qG(n){return CG(n)&&SG(n.length)&&!!xt[EG(n)]}var XG=qG;function QG(n){return function(e){return n(e)}}var gd=QG,uy={exports:{}};uy.exports;(function(n,e){var t=zL,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,a=i&&t.process,o=function(){try{var l=s&&s.require&&s.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();n.exports=o})(uy,uy.exports);var hp=uy.exports,ZG=XG,JG=gd,ix=hp,ax=ix&&ix.isTypedArray,eY=ax?JG(ax):ZG,jv=eY;function tY(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var vM=tY,nY=S1,rY=lp,sY=Object.prototype,iY=sY.hasOwnProperty;function aY(n,e,t){var r=n[e];(!(iY.call(n,e)&&rY(r,t))||t===void 0&&!(e in n))&&nY(n,e,t)}var Vv=aY,oY=Vv,lY=S1;function uY(n,e,t,r){var s=!t;t||(t={});for(var i=-1,a=e.length;++i<a;){var o=e[i],l=r?r(t[o],n[o],o,t,n):void 0;l===void 0&&(l=n[o]),s?lY(t,o,l):oY(t,o,l)}return t}var du=uY;function cY(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var _M=cY,dY=9007199254740991,hY=/^(?:0|[1-9]\d*)$/;function fY(n,e){var t=typeof n;return e=e??dY,!!e&&(t=="number"||t!="symbol"&&hY.test(n))&&n>-1&&n%1==0&&n<e}var Uv=fY,pY=_M,gY=cp,mY=Zn,yY=dp,vY=Uv,_Y=jv,bY=Object.prototype,wY=bY.hasOwnProperty;function EY(n,e){var t=mY(n),r=!t&&gY(n),s=!t&&!r&&yY(n),i=!t&&!r&&!s&&_Y(n),a=t||r||s||i,o=a?pY(n.length,String):[],l=o.length;for(var u in n)(e||wY.call(n,u))&&!(a&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vY(u,l)))&&o.push(u);return o}var bM=EY;function SY(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var CY=SY,TY=qr,OY=up,IY=CY,PY=Object.prototype,xY=PY.hasOwnProperty;function RY(n){if(!TY(n))return IY(n);var e=OY(n),t=[];for(var r in n)r=="constructor"&&(e||!xY.call(n,r))||t.push(r);return t}var AY=RY,DY=bM,kY=AY,NY=Qi;function $Y(n){return NY(n)?DY(n,!0):kY(n)}var fp=$Y,LY=du,MY=fp;function FY(n){return LY(n,MY(n))}var jY=FY,ox=lM,VY=cM,UY=hM,BY=T1,HY=pM,lx=cp,ux=Zn,zY=P1,KY=dp,WY=xv,GY=qr,YY=x1,qY=jv,cx=vM,XY=jY;function QY(n,e,t,r,s,i,a){var o=cx(n,t),l=cx(e,t),u=a.get(l);if(u){ox(n,t,u);return}var d=i?i(o,l,t+"",n,e,a):void 0,h=d===void 0;if(h){var f=ux(l),p=!f&&KY(l),_=!f&&!p&&qY(l);d=l,f||p||_?ux(o)?d=o:zY(o)?d=BY(o):p?(h=!1,d=VY(l,!0)):_?(h=!1,d=UY(l,!0)):d=[]:YY(l)||lx(l)?(d=o,lx(o)?d=XY(o):(!GY(o)||WY(o))&&(d=HY(l))):h=!1}h&&(a.set(l,d),s(d,l,r,i,a),a.delete(l)),ox(n,t,d)}var ZY=QY,JY=Fv,eq=lM,tq=uM,nq=ZY,rq=qr,sq=fp,iq=vM;function wM(n,e,t,r,s){n!==e&&tq(e,function(i,a){if(s||(s=new JY),rq(i))nq(n,e,a,t,wM,r,s);else{var o=r?r(iq(n,a),i,a+"",n,e,s):void 0;o===void 0&&(o=i),eq(n,a,o)}},sq)}var aq=wM;function oq(n){return n}var pp=oq;function lq(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var uq=lq,cq=uq,dx=Math.max;function dq(n,e,t){return e=dx(e===void 0?n.length-1:e,0),function(){for(var r=arguments,s=-1,i=dx(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=t(a),cq(n,this,o)}}var EM=dq;function hq(n){return function(){return n}}var fq=hq,pq=fq,hx=oM,gq=pp,mq=hx?function(n,e){return hx(n,"toString",{configurable:!0,enumerable:!1,value:pq(e),writable:!0})}:gq,yq=mq,vq=800,_q=16,bq=Date.now;function wq(n){var e=0,t=0;return function(){var r=bq(),s=_q-(r-t);if(t=r,s>0){if(++e>=vq)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var Eq=wq,Sq=yq,Cq=Eq,Tq=Cq(Sq),SM=Tq,Oq=pp,Iq=EM,Pq=SM;function xq(n,e){return Pq(Iq(n,e,Oq),n+"")}var R1=xq,Rq=lp,Aq=Qi,Dq=Uv,kq=qr;function Nq(n,e,t){if(!kq(t))return!1;var r=typeof e;return(r=="number"?Aq(t)&&Dq(e,t.length):r=="string"&&e in t)?Rq(t[e],n):!1}var A1=Nq,$q=R1,Lq=A1;function Mq(n){return $q(function(e,t){var r=-1,s=t.length,i=s>1?t[s-1]:void 0,a=s>2?t[2]:void 0;for(i=n.length>3&&typeof i=="function"?(s--,i):void 0,a&&Lq(t[0],t[1],a)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var o=t[r];o&&n(e,o,r,i)}return e})}var CM=Mq,Fq=aq,jq=CM,Vq=jq(function(n,e,t){Fq(n,e,t)}),Uq=Vq;const Bq=ge(Uq);function Hq(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var TM=Hq,zq=fM,Kq=zq(Object.keys,Object),Wq=Kq,Gq=up,Yq=Wq,qq=Object.prototype,Xq=qq.hasOwnProperty;function Qq(n){if(!Gq(n))return Yq(n);var e=[];for(var t in Object(n))Xq.call(n,t)&&t!="constructor"&&e.push(t);return e}var OM=Qq,Zq=bM,Jq=OM,eX=Qi;function tX(n){return eX(n)?Zq(n):Jq(n)}var zo=tX,nX=du,rX=zo;function sX(n,e){return n&&nX(e,rX(e),n)}var iX=sX,aX=du,oX=fp;function lX(n,e){return n&&aX(e,oX(e),n)}var uX=lX;function cX(n,e){for(var t=-1,r=n==null?0:n.length,s=0,i=[];++t<r;){var a=n[t];e(a,t,n)&&(i[s++]=a)}return i}var dX=cX;function hX(){return[]}var IM=hX,fX=dX,pX=IM,gX=Object.prototype,mX=gX.propertyIsEnumerable,fx=Object.getOwnPropertySymbols,yX=fx?function(n){return n==null?[]:(n=Object(n),fX(fx(n),function(e){return mX.call(n,e)}))}:pX,D1=yX,vX=du,_X=D1;function bX(n,e){return vX(n,_X(n),e)}var wX=bX;function EX(n,e){for(var t=-1,r=e.length,s=n.length;++t<r;)n[s+t]=e[t];return n}var k1=EX,SX=k1,CX=O1,TX=D1,OX=IM,IX=Object.getOwnPropertySymbols,PX=IX?function(n){for(var e=[];n;)SX(e,TX(n)),n=CX(n);return e}:OX,PM=PX,xX=du,RX=PM;function AX(n,e){return xX(n,RX(n),e)}var DX=AX,kX=k1,NX=Zn;function $X(n,e,t){var r=e(n);return NX(n)?r:kX(r,t(n))}var xM=$X,LX=xM,MX=D1,FX=zo;function jX(n){return LX(n,FX,MX)}var RM=jX,VX=xM,UX=PM,BX=fp;function HX(n){return VX(n,BX,UX)}var AM=HX,zX=uu,KX=hi,WX=zX(KX,"DataView"),GX=WX,YX=uu,qX=hi,XX=YX(qX,"Promise"),QX=XX,ZX=uu,JX=hi,eQ=ZX(JX,"Set"),DM=eQ,tQ=uu,nQ=hi,rQ=tQ(nQ,"WeakMap"),sQ=rQ,rE=GX,sE=_1,iE=QX,aE=DM,oE=sQ,kM=fi,md=WL,px="[object Map]",iQ="[object Object]",gx="[object Promise]",mx="[object Set]",yx="[object WeakMap]",vx="[object DataView]",aQ=md(rE),oQ=md(sE),lQ=md(iE),uQ=md(aE),cQ=md(oE),al=kM;(rE&&al(new rE(new ArrayBuffer(1)))!=vx||sE&&al(new sE)!=px||iE&&al(iE.resolve())!=gx||aE&&al(new aE)!=mx||oE&&al(new oE)!=yx)&&(al=function(n){var e=kM(n),t=e==iQ?n.constructor:void 0,r=t?md(t):"";if(r)switch(r){case aQ:return vx;case oQ:return px;case lQ:return gx;case uQ:return mx;case cQ:return yx}return e});var gp=al,dQ=Object.prototype,hQ=dQ.hasOwnProperty;function fQ(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&hQ.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var pQ=fQ,gQ=C1;function mQ(n,e){var t=e?gQ(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var yQ=mQ,vQ=/\w*$/;function _Q(n){var e=new n.constructor(n.source,vQ.exec(n));return e.lastIndex=n.lastIndex,e}var bQ=_Q,_x=ad,bx=_x?_x.prototype:void 0,wx=bx?bx.valueOf:void 0;function wQ(n){return wx?Object(wx.call(n)):{}}var EQ=wQ,SQ=C1,CQ=yQ,TQ=bQ,OQ=EQ,IQ=hM,PQ="[object Boolean]",xQ="[object Date]",RQ="[object Map]",AQ="[object Number]",DQ="[object RegExp]",kQ="[object Set]",NQ="[object String]",$Q="[object Symbol]",LQ="[object ArrayBuffer]",MQ="[object DataView]",FQ="[object Float32Array]",jQ="[object Float64Array]",VQ="[object Int8Array]",UQ="[object Int16Array]",BQ="[object Int32Array]",HQ="[object Uint8Array]",zQ="[object Uint8ClampedArray]",KQ="[object Uint16Array]",WQ="[object Uint32Array]";function GQ(n,e,t){var r=n.constructor;switch(e){case LQ:return SQ(n);case PQ:case xQ:return new r(+n);case MQ:return CQ(n,t);case FQ:case jQ:case VQ:case UQ:case BQ:case HQ:case zQ:case KQ:case WQ:return IQ(n,t);case RQ:return new r;case AQ:case NQ:return new r(n);case DQ:return TQ(n);case kQ:return new r;case $Q:return OQ(n)}}var YQ=GQ,qQ=gp,XQ=Yr,QQ="[object Map]";function ZQ(n){return XQ(n)&&qQ(n)==QQ}var JQ=ZQ,eZ=JQ,tZ=gd,Ex=hp,Sx=Ex&&Ex.isMap,nZ=Sx?tZ(Sx):eZ,rZ=nZ,sZ=gp,iZ=Yr,aZ="[object Set]";function oZ(n){return iZ(n)&&sZ(n)==aZ}var lZ=oZ,uZ=lZ,cZ=gd,Cx=hp,Tx=Cx&&Cx.isSet,dZ=Tx?cZ(Tx):uZ,NM=dZ;const $M=ge(NM);var hZ=Fv,fZ=TM,pZ=Vv,gZ=iX,mZ=uX,yZ=cM,vZ=T1,_Z=wX,bZ=DX,wZ=RM,EZ=AM,SZ=gp,CZ=pQ,TZ=YQ,OZ=pM,IZ=Zn,PZ=dp,xZ=rZ,RZ=qr,AZ=NM,DZ=zo,kZ=fp,NZ=1,$Z=2,LZ=4,LM="[object Arguments]",MZ="[object Array]",FZ="[object Boolean]",jZ="[object Date]",VZ="[object Error]",MM="[object Function]",UZ="[object GeneratorFunction]",BZ="[object Map]",HZ="[object Number]",FM="[object Object]",zZ="[object RegExp]",KZ="[object Set]",WZ="[object String]",GZ="[object Symbol]",YZ="[object WeakMap]",qZ="[object ArrayBuffer]",XZ="[object DataView]",QZ="[object Float32Array]",ZZ="[object Float64Array]",JZ="[object Int8Array]",eJ="[object Int16Array]",tJ="[object Int32Array]",nJ="[object Uint8Array]",rJ="[object Uint8ClampedArray]",sJ="[object Uint16Array]",iJ="[object Uint32Array]",bt={};bt[LM]=bt[MZ]=bt[qZ]=bt[XZ]=bt[FZ]=bt[jZ]=bt[QZ]=bt[ZZ]=bt[JZ]=bt[eJ]=bt[tJ]=bt[BZ]=bt[HZ]=bt[FM]=bt[zZ]=bt[KZ]=bt[WZ]=bt[GZ]=bt[nJ]=bt[rJ]=bt[sJ]=bt[iJ]=!0;bt[VZ]=bt[MM]=bt[YZ]=!1;function am(n,e,t,r,s,i){var a,o=e&NZ,l=e&$Z,u=e&LZ;if(t&&(a=s?t(n,r,s,i):t(n)),a!==void 0)return a;if(!RZ(n))return n;var d=IZ(n);if(d){if(a=CZ(n),!o)return vZ(n,a)}else{var h=SZ(n),f=h==MM||h==UZ;if(PZ(n))return yZ(n,o);if(h==FM||h==LM||f&&!s){if(a=l||f?{}:OZ(n),!o)return l?bZ(n,mZ(a,n)):_Z(n,gZ(a,n))}else{if(!bt[h])return s?n:{};a=TZ(n,h,o)}}i||(i=new hZ);var p=i.get(n);if(p)return p;i.set(n,a),AZ(n)?n.forEach(function(v){a.add(am(v,e,t,v,n,i))}):xZ(n)&&n.forEach(function(v,y){a.set(y,am(v,e,t,y,n,i))});var _=u?l?EZ:wZ:l?kZ:DZ,m=d?void 0:_(n);return fZ(m||n,function(v,y){m&&(y=v,v=n[y]),pZ(a,y,am(v,e,t,y,n,i))}),a}var jM=am;function aJ(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var oJ=aJ;function lJ(n,e,t){var r=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=n[r+e];return i}var N1=lJ,uJ=$v,cJ=N1;function dJ(n,e){return e.length<2?n:uJ(n,cJ(e,0,-1))}var hJ=dJ,fJ=hd,pJ=oJ,gJ=hJ,mJ=cu;function yJ(n,e){return e=fJ(e,n),n=gJ(n,e),n==null||delete n[mJ(pJ(e))]}var VM=yJ,vJ=x1;function _J(n){return vJ(n)?void 0:n}var bJ=_J,Ox=ad,wJ=cp,EJ=Zn,Ix=Ox?Ox.isConcatSpreadable:void 0;function SJ(n){return EJ(n)||wJ(n)||!!(Ix&&n&&n[Ix])}var CJ=SJ,TJ=k1,OJ=CJ;function UM(n,e,t,r,s){var i=-1,a=n.length;for(t||(t=OJ),s||(s=[]);++i<a;){var o=n[i];e>0&&t(o)?e>1?UM(o,e-1,t,r,s):TJ(s,o):r||(s[s.length]=o)}return s}var BM=UM,IJ=BM;function PJ(n){var e=n==null?0:n.length;return e?IJ(n,1):[]}var xJ=PJ,RJ=xJ,AJ=EM,DJ=SM;function kJ(n){return DJ(AJ(n,void 0,RJ),n+"")}var HM=kJ,NJ=dd,$J=jM,LJ=VM,MJ=hd,FJ=du,jJ=bJ,VJ=HM,UJ=AM,BJ=1,HJ=2,zJ=4,KJ=VJ(function(n,e){var t={};if(n==null)return t;var r=!1;e=NJ(e,function(i){return i=MJ(i,n),r||(r=i.length>1),i}),FJ(n,UJ(n),t),r&&(t=$J(t,BJ|HJ|zJ,jJ));for(var s=e.length;s--;)LJ(t,e[s]);return t}),WJ=KJ;const Ko=ge(WJ);function GJ(n){return n===void 0}var YJ=GJ;const dt=ge(YJ);var qJ="__lodash_hash_undefined__";function XJ(n){return this.__data__.set(n,qJ),this}var QJ=XJ;function ZJ(n){return this.__data__.has(n)}var JJ=ZJ,eee=b1,tee=QJ,nee=JJ;function cy(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new eee;++e<t;)this.add(n[e])}cy.prototype.add=cy.prototype.push=tee;cy.prototype.has=nee;var $1=cy;function ree(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var see=ree;function iee(n,e){return n.has(e)}var L1=iee,aee=$1,oee=see,lee=L1,uee=1,cee=2;function dee(n,e,t,r,s,i){var a=t&uee,o=n.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=i.get(n),d=i.get(e);if(u&&d)return u==e&&d==n;var h=-1,f=!0,p=t&cee?new aee:void 0;for(i.set(n,e),i.set(e,n);++h<o;){var _=n[h],m=e[h];if(r)var v=a?r(m,_,h,e,n,i):r(_,m,h,n,e,i);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!oee(e,function(y,b){if(!lee(p,b)&&(_===y||s(_,y,t,r,i)))return p.push(b)})){f=!1;break}}else if(!(_===m||s(_,m,t,r,i))){f=!1;break}}return i.delete(n),i.delete(e),f}var zM=dee;function hee(n){var e=-1,t=Array(n.size);return n.forEach(function(r,s){t[++e]=[s,r]}),t}var fee=hee;function pee(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var M1=pee,Px=ad,xx=dM,gee=lp,mee=zM,yee=fee,vee=M1,_ee=1,bee=2,wee="[object Boolean]",Eee="[object Date]",See="[object Error]",Cee="[object Map]",Tee="[object Number]",Oee="[object RegExp]",Iee="[object Set]",Pee="[object String]",xee="[object Symbol]",Ree="[object ArrayBuffer]",Aee="[object DataView]",Rx=Px?Px.prototype:void 0,Vb=Rx?Rx.valueOf:void 0;function Dee(n,e,t,r,s,i,a){switch(t){case Aee:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Ree:return!(n.byteLength!=e.byteLength||!i(new xx(n),new xx(e)));case wee:case Eee:case Tee:return gee(+n,+e);case See:return n.name==e.name&&n.message==e.message;case Oee:case Pee:return n==e+"";case Cee:var o=yee;case Iee:var l=r&_ee;if(o||(o=vee),n.size!=e.size&&!l)return!1;var u=a.get(n);if(u)return u==e;r|=bee,a.set(n,e);var d=mee(o(n),o(e),r,s,i,a);return a.delete(n),d;case xee:if(Vb)return Vb.call(n)==Vb.call(e)}return!1}var kee=Dee,Ax=RM,Nee=1,$ee=Object.prototype,Lee=$ee.hasOwnProperty;function Mee(n,e,t,r,s,i){var a=t&Nee,o=Ax(n),l=o.length,u=Ax(e),d=u.length;if(l!=d&&!a)return!1;for(var h=l;h--;){var f=o[h];if(!(a?f in e:Lee.call(e,f)))return!1}var p=i.get(n),_=i.get(e);if(p&&_)return p==e&&_==n;var m=!0;i.set(n,e),i.set(e,n);for(var v=a;++h<l;){f=o[h];var y=n[f],b=e[f];if(r)var w=a?r(b,y,f,e,n,i):r(y,b,f,n,e,i);if(!(w===void 0?y===b||s(y,b,t,r,i):w)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var E=n.constructor,S=e.constructor;E!=S&&"constructor"in n&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(m=!1)}return i.delete(n),i.delete(e),m}var Fee=Mee,Ub=Fv,jee=zM,Vee=kee,Uee=Fee,Dx=gp,kx=Zn,Nx=dp,Bee=jv,Hee=1,$x="[object Arguments]",Lx="[object Array]",wg="[object Object]",zee=Object.prototype,Mx=zee.hasOwnProperty;function Kee(n,e,t,r,s,i){var a=kx(n),o=kx(e),l=a?Lx:Dx(n),u=o?Lx:Dx(e);l=l==$x?wg:l,u=u==$x?wg:u;var d=l==wg,h=u==wg,f=l==u;if(f&&Nx(n)){if(!Nx(e))return!1;a=!0,d=!1}if(f&&!d)return i||(i=new Ub),a||Bee(n)?jee(n,e,t,r,s,i):Vee(n,e,l,t,r,s,i);if(!(t&Hee)){var p=d&&Mx.call(n,"__wrapped__"),_=h&&Mx.call(e,"__wrapped__");if(p||_){var m=p?n.value():n,v=_?e.value():e;return i||(i=new Ub),s(m,v,t,r,i)}}return f?(i||(i=new Ub),Uee(n,e,t,r,s,i)):!1}var Wee=Kee,Gee=Wee,Fx=Yr;function KM(n,e,t,r,s){return n===e?!0:n==null||e==null||!Fx(n)&&!Fx(e)?n!==n&&e!==e:Gee(n,e,t,r,KM,s)}var F1=KM,Yee=F1;function qee(n,e){return Yee(n,e)}var Xee=qee;const ke=ge(Xee);var Qee=OM,Zee=gp,Jee=cp,ete=Zn,tte=Qi,nte=dp,rte=up,ste=jv,ite="[object Map]",ate="[object Set]",ote=Object.prototype,lte=ote.hasOwnProperty;function ute(n){if(n==null)return!0;if(tte(n)&&(ete(n)||typeof n=="string"||typeof n.splice=="function"||nte(n)||ste(n)||Jee(n)))return!n.length;var e=Zee(n);if(e==ite||e==ate)return!n.size;if(rte(n))return!Qee(n).length;for(var t in n)if(lte.call(n,t))return!1;return!0}var cte=ute;const pt=ge(cte);var dte=uM,hte=zo;function fte(n,e){return n&&dte(n,e,hte)}var pte=fte,gte=Qi;function mte(n,e){return function(t,r){if(t==null)return t;if(!gte(t))return n(t,r);for(var s=t.length,i=e?s:-1,a=Object(t);(e?i--:++i<s)&&r(a[i],i,a)!==!1;);return t}}var yte=mte,vte=pte,_te=yte,bte=_te(vte),WM=bte,wte=pp;function Ete(n){return typeof n=="function"?n:wte}var GM=Ete,Ste=TM,Cte=WM,Tte=GM,Ote=Zn;function Ite(n,e){var t=Ote(n)?Ste:Cte;return t(n,Tte(e))}var Pte=Ite,xte=Pte;const Rte=ge(xte);function kt(n,e){n&&console.warn(`Warning: ${e}`)}function ct(n){return n==null}let YM=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else ct(t)&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?([...this._eventMap.get(e)].forEach(a=>a(...r)),!0):!1}};function Ke(n){try{return n instanceof HTMLElement}catch{return typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function qM(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(const s of t)n.appendChild(s);return n}function Ate(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];if(n.children&&n.children.length){const s=n.children[0];for(const i of t)n.insertBefore(i,s)}else qM(n,...t);return n}function Dte(n){if(n&&typeof n=="object")return typeof n.toJSON=="function"?n.toJSON():["left","top","right","bottom","width","height"].reduce((t,r)=>(t[r]=n[r],t),{})}function Xs(n){n.stopPropagation(),n.preventDefault()}const Eg={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},Ou={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};let kte=class extends Pe{constructor(e){var t;super(Object.assign({},e)),t=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(r,s)=>{this._adapter.setDisplayNone(r,s)},this.updateStateIfCursorOnTrigger=r=>{var s,i;if(!((s=r==null?void 0:r.matches)===null||s===void 0)&&s.call(r,":hover")){const a=this._adapter.getEventName(),o=this.getState("triggerEventSet");(i=o[a.mouseEnter])===null||i===void 0||i.call(o)}},this.onResize=()=>{this.getState("visible")&&this.calcPosition()},this.delayShow=()=>{const r=this.getProp("mouseEnterDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},r):this.show()},this.show=()=>{if(this._adapter.getAnimatingState())return;const r=this.getProp("content"),s=this.getProp("trigger"),i=this.getProp("clickTriggerToHide"),{visible:a,displayNone:o}=this.getStates();if(o&&this.setDisplayNone(!1),!a){if(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),s==="hover"){const l=()=>{var u;const d=this._adapter.getTriggerDOM();s&&!(!((u=d==null?void 0:d.matches)===null||u===void 0)&&u.call(d,":hover"))&&this.hide(),this._adapter.off("portalInserted",l)};this._adapter.on("portalInserted",l)}this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(r,{left:-9999,top:-9999}),s==="custom"&&this._adapter.registerClickOutsideHandler(()=>{}),(s==="click"||i||s==="contextMenu")&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent()}},this.calcPosition=function(r,s,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;r=(pt(r)?t._adapter.getTriggerBounding():r)||Object.assign({},Ou),i=(pt(i)?t._adapter.getPopupContainerRect():i)||Object.assign({},Ou),s=(pt(s)?t._adapter.getWrapperBounding():s)||Object.assign({},Ou);let o=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i}),l=t.getProp("position");if(t.getProp("autoAdjustOverflow")){const{position:u,isHeightOverFlow:d,isWidthOverFlow:h}=t.adjustPosIfNeed(l,o,r,s,i);(l!==u||d||h)&&(l=u,o=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i,position:l,spacing:null,isOverFlow:[d,h]}))}return a&&t._mounted&&t._adapter.setPosition(Object.assign(Object.assign({},o),{position:l})),o},this.delayHide=()=>{const r=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},r):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=r=>{const{guardFocus:s,closeOnEsc:i}=this.getProps();switch(r&&r.key){case"Escape":i&&this._handleEscKeyDown(r);break;case"Tab":if(s){const a=this._adapter.getContainer(),o=this._adapter.getFocusableElements(a);o.length&&(r.shiftKey?this._handleContainerShiftTabKeyDown(o,r):this._handleContainerTabKeyDown(o,r))}break}},this._timer=null}init(){const{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),e||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){const e=this.getProp("trigger"),{triggerEventSet:t,portalEventSet:r}=this._generateEvent(e);this._bindTriggerEvent(t),this._bindPortalEvent(r),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"reverse",s=arguments.length>3?arguments[3]:void 0;switch(r){case"reverse":return this._reversePos(e,t);case"expand":return this._expandPos(e,s);case"reduce":return this._reducePos(e);default:return this._reversePos(e,t)}}_reversePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){if(Eg.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(Eg.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else{if(Eg.LEFT.test(e))return e.replace("left","right").replace("Left","Right");if(Eg.RIGHT.test(e))return e.replace("right","left").replace("Right","Left")}return e}_expandPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}_reducePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=["Top","Bottom","Left","Right"].find(r=>e.endsWith(r));return t?e.replace(t,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){const t=this._adapter.getEventName(),r={[t.keydown]:i=>{this._handleTriggerKeydown(i)}};let s={};switch(e){case"focus":r[t.focus]=()=>{this.delayShow()},r[t.blur]=()=>{this.delayHide()},s=r;break;case"click":r[t.click]=()=>{this.show()},s={};break;case"hover":r[t.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},r[t.mouseLeave]=()=>{this.delayHide()},r[t.focus]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayShow()},r[t.blur]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayHide()},s=Object.assign({},r),this.getProp("clickToHide")&&(s[t.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},s[t.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":break;case"contextMenu":r[t.contextMenu]=i=>{i.preventDefault(),this.show()};break}return{triggerEventSet:r,portalEventSet:s}}_shouldShow(){this.getProp("visible")&&this.show()}_togglePortalVisible(e){const t=this.getState("visible"),r=this.getState("isInsert");(t!==e||r!==e)&&this._adapter.togglePortalVisible(e,()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)})}_roundPixel(e){return typeof e=="number"?Math.round(e):e}calcTransformOrigin(e,t,r,s){if(e&&t&&r!=null&&s!=null){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(t.width/2)}px ${-s*100}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(t.width/2)}px) ${-s*100}%`;if(["leftTop","rightTop"].includes(e))return`${-r*100}% ${this._roundPixel(t.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${-r*100}% calc(100% - ${this._roundPixel(t.height/2)}px)`}return`${-r*100}% ${-s*100}%`}return null}calcPosStyle(e){var t;const{spacing:r,isOverFlow:s}=e,{innerWidth:i}=window,a=(pt(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},Ou),o=(pt(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},Ou),l=(pt(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},Ou),u=e.position!=null?e.position:this.getProp("position"),d=r??this.getProp("spacing"),{arrowPointAtCenter:h,showArrow:f,arrowBounding:p}=this.getProps(),_=f&&h;let m=d,v=0;if(typeof d!="number"){const q=u.includes("top")||u.includes("bottom");m=q?d.y:d.x,v=q?d.x:d.y}const y=K(p,"width",24),b=K(p,"width",24),w=K(p,"offsetY",0),E=6,S=6;let C,O,I=0,P=0;const x=a.left+a.width/2,D=a.top+a.height/2,N=E+y/2,L=S+b/2,V=l.height-o.height,B=l.width-o.width,F=V>0?V:0,W=B>0?B:0,$=s&&s[0],j=s&&s[1],M=x-o.left<o.right-x,te=D-o.top<o.bottom-D,Q=l.width>i,ie=Math.abs((l==null?void 0:l.width)-((t=this._adapter.getContainer())===null||t===void 0?void 0:t.clientWidth))>1;switch(ie&&(m=m*l.width/this._adapter.getContainer().clientWidth),u){case"top":C=j?M?o.left+l.width/2:o.right-l.width/2+W:x+v,O=$?o.bottom+F:a.top-m,I=-.5,P=-1;break;case"topLeft":C=j?Q?o.left:o.right-l.width:_?x-N+v:a.left+v,O=$?o.bottom+F:a.top-m,P=-1;break;case"topRight":C=j?o.right+W:_?x+N+v:a.right+v,O=$?o.bottom+F:a.top-m,P=-1,I=-1;break;case"left":C=j?o.right+W-m+N:a.left-m,O=$?te?o.top+l.height/2:o.bottom-l.height/2+F:D+v,I=-1,P=-.5;break;case"leftTop":C=j?o.right+W-m+N:a.left-m,O=$?o.top:_?D-L+v:a.top+v,I=-1;break;case"leftBottom":C=j?o.right+W-m+N:a.left-m,O=$?o.bottom+F:_?D+L+v:a.bottom+v,I=-1,P=-1;break;case"bottom":C=j?M?o.left+l.width/2:o.right-l.width/2+W:x+v,O=$?o.top+L-m:a.top+a.height+m,I=-.5;break;case"bottomLeft":C=j?Q?o.left:o.right-l.width:_?x-N+v:a.left+v,O=$?o.top+L-m:a.top+a.height+m;break;case"bottomRight":C=j?o.right+W:_?x+N+v:a.right+v,O=$?o.top+L-m:a.top+a.height+m,I=-1;break;case"right":C=j?o.left-m+N:a.right+m,O=$?te?o.top+l.height/2:o.bottom-l.height/2+F:D+v,P=-.5;break;case"rightTop":C=j?o.left-m+N:a.right+m,O=$?o.top:_?D-L+v:a.top+v;break;case"rightBottom":C=j?o.left-m+N:a.right+m,O=$?o.bottom+F:_?D+L+v:a.bottom+v,P=-1;break;case"leftTopOver":C=a.left-m,O=a.top-m;break;case"rightTopOver":C=a.right+m,O=a.top-m,I=-1;break;case"leftBottomOver":C=a.left-m,O=a.bottom+m,P=-1;break;case"rightBottomOver":C=a.right+m,O=a.bottom+m,I=-1,P=-1;break}const le=this.calcTransformOrigin(u,a,I,P),Ee=this._adapter.containerIsBody();if(C=C-o.left,O=O-o.top,ie&&(C/=l.width/this._adapter.getContainer().clientWidth),ie&&(O/=l.height/this._adapter.getContainer().clientHeight),Ee&&!this._adapter.containerIsRelativeOrAbsolute()){const q=this._adapter.getDocumentElementBounding();C+=o.left-q.left,O+=o.top-q.top}C=Ee?C:C+o.scrollLeft,O=Ee?O:O+o.scrollTop;const he=a.height;if(this.getProp("showArrow")&&!h&&he<=(b/2+w)*2){const q=he/2-(w+b/2);(u.includes("Top")||u.includes("Bottom"))&&!u.includes("Over")&&(O=u.includes("Top")?O+q:O-q)}const de={left:this._roundPixel(C),top:this._roundPixel(O)};let ue="";return I!=null&&(ue+=`translateX(${I*100}%) `,Object.defineProperty(de,"translateX",{enumerable:!1,value:I})),P!=null&&(ue+=`translateY(${P*100}%) `,Object.defineProperty(de,"translateY",{enumerable:!1,value:P})),le!=null&&(de.transformOrigin=le),ue&&(de.transform=ue),de}isLR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,t,r){return e<r&&t>r}isOverFlow(e,t,r){return e<r&&t<r}isHalfOverFlow(e,t,r){return e<r||t<r}isHalfAllEnough(e,t,r){return e>=r||t>=r}getReverse(e,t,r,s){return e&&s||r}adjustPosIfNeed(e,t,r,s,i){const{innerWidth:a,innerHeight:o}=window,{margin:l}=this.getProps(),u=typeof l=="number"?l:l.marginLeft,d=typeof l=="number"?l:l.marginTop,h=typeof l=="number"?l:l.marginRight,f=typeof l=="number"?l:l.marginBottom;let p=!1,_=!1;const m=this.getProp("spacing");let v=m,y=0;if(typeof m!="number"){const b=e.includes("top")||e.includes("bottom");v=b?m.y:m.x,y=b?m.x:m.y}if(s.width>0&&s.height>0){const b=r.left,w=r.right,E=r.top,S=r.bottom,C=a-b,O=o-E,I=a-w,P=o-S,x=s.width>r.width,D=s.height>r.height,N=E-d<s.height+v&&P-f>s.height+v,L=b-u<s.width+v&&I-h>s.width+v,V=P-f<s.height+v&&E-d>s.height+v,B=I-h<s.width+v&&b-u>s.width+v;O-f<s.height+v&&S-d>s.height+v,S-d<s.height+v&&O-f>s.height+v;const F=O<s.height+y&&S>s.height+y,W=S<s.height+y&&O>s.height+y,$=C<s.width+y&&w>s.width+y,j=w<s.width+y&&C>s.width+y,M=O<s.height+v&&S>s.height+v,te=S<s.height+v&&O>s.height+v,Q=C<s.width&&w>s.width,ie=w<s.width&&C>s.width,le=E-i.top,Ee=b-i.left,he=le+r.height,de=Ee+r.width,ue=i.bottom-S,q=i.right-w,se=ue+r.height,yt=q+r.width,Nt=this.isReverse(le-d,ue-f,s.height+v),Cn=this.isReverse(Ee-u,q-h,s.width+v),Tt=this.isReverse(ue-f,le-d,s.height+v),jn=this.isReverse(q-h,Ee-u,s.width+v);this.isReverse(se-f,he-d,s.height+v),this.isReverse(he-d,se-f,s.height+v);const vt=this.isReverse(se,he,s.height+y),br=this.isReverse(he,se,s.height+y),hs=this.isReverse(yt,de,s.width+y),Qo=this.isReverse(de,yt,s.width+y),nn=r.height/2,wr=r.width/2,pi=this.isOverFlow(E-d,P-f,s.height+v),gi=this.isOverFlow(b-u,I-h,s.width+v),Ba=this.isOverFlow(S-d,O-f,s.height+v),wu=this.isOverFlow(w-u,C-h,s.width+v),Eu=this.isHalfOverFlow(S-nn,O-nn,(s.height+y)/2),mi=this.isHalfOverFlow(w-wr,C-wr,(s.width+y)/2),er=this.isHalfAllEnough(S-nn,O-nn,(s.height+y)/2),Vn=this.isHalfAllEnough(w-wr,C-wr,(s.width+y)/2),Xr=this.isOverFlow(le-d,ue-f,s.height+v),tr=this.isOverFlow(Ee-u,q-h,s.width+v),yi=this.isOverFlow(he-d,se-f,s.height+v),js=this.isOverFlow(de-u,yt-h,s.width+v),ea=this.isHalfOverFlow(he-nn,se-nn,(s.height+y)/2),Un=this.isHalfOverFlow(de-wr,yt-wr,(s.width+y)/2),Vs=this.isHalfAllEnough(he-nn,se-nn,(s.height+y)/2),Ha=this.isHalfAllEnough(de-wr,yt-wr,(s.width+y)/2),za=this.getReverse(pi,Xr,N,Nt),Zo=this.getReverse(gi,tr,L,Cn),vi=this.getReverse(pi,Xr,V,Tt),Jo=this.getReverse(gi,tr,B,jn),Ot=this.getReverse(Ba,yi,F,vt),hn=this.getReverse(Ba,yi,W,br),qt=this.getReverse(wu,js,$,hs),fn=this.getReverse(wu,js,j,Qo),pn=Eu&&ea,rn=mi&&Un;switch(e){case"top":za&&(e=this._adjustPos(e,!0)),rn&&(qt||fn)&&(e=this._adjustPos(e,!0,"expand",qt?"Right":"Left"));break;case"topLeft":za&&(e=this._adjustPos(e,!0)),qt&&x&&(e=this._adjustPos(e)),_&&(Vn||Ha)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":za&&(e=this._adjustPos(e,!0)),fn&&x&&(e=this._adjustPos(e)),_&&(Vn||Ha)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":Zo&&(e=this._adjustPos(e)),pn&&(Ot||hn)&&(e=this._adjustPos(e,!1,"expand",Ot?"Bottom":"Top"));break;case"leftTop":Zo&&(e=this._adjustPos(e)),Ot&&D&&(e=this._adjustPos(e,!0)),p&&(er||Vs)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":Zo&&(e=this._adjustPos(e)),hn&&D&&(e=this._adjustPos(e,!0)),p&&(er||Vs)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":vi&&(e=this._adjustPos(e,!0)),rn&&(qt||fn)&&(e=this._adjustPos(e,!0,"expand",qt?"Right":"Left"));break;case"bottomLeft":vi&&(e=this._adjustPos(e,!0)),qt&&x&&(e=this._adjustPos(e)),_&&(Vn||Ha)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":vi&&(e=this._adjustPos(e,!0)),fn&&x&&(e=this._adjustPos(e)),_&&(Vn||Ha)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":Jo&&(e=this._adjustPos(e)),pn&&(Ot||hn)&&(e=this._adjustPos(e,!1,"expand",Ot?"Bottom":"Top"));break;case"rightTop":Jo&&(e=this._adjustPos(e)),Ot&&D&&(e=this._adjustPos(e,!0)),p&&(er||Vs)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":Jo&&(e=this._adjustPos(e)),hn&&D&&(e=this._adjustPos(e,!0)),p&&(er||Vs)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":M&&(e=this._adjustPos(e,!0)),Q&&(e=this._adjustPos(e));break;case"leftBottomOver":te&&(e=this._adjustPos(e,!0)),Q&&(e=this._adjustPos(e));break;case"rightTopOver":M&&(e=this._adjustPos(e,!0)),ie&&(e=this._adjustPos(e));break;case"rightBottomOver":te&&(e=this._adjustPos(e,!0)),ie&&(e=this._adjustPos(e));break}this.isTB(e)&&(p=pi&&Xr,e==="top"||e==="bottom"?_=mi&&Un||w<0||I<0:_=wu&&js||w<0||I<0),this.isLR(e)&&(_=gi&&tr,e==="left"||e==="right"?p=Eu&&ea||E<0||O<0:p=Ba&&yi||E<0||O<0)}return{position:e,isHeightOverFlow:p,isWidthOverFlow:_}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){const{closeOnEsc:t,disableArrowKeyDown:r}=this.getProps(),s=this._adapter.getContainer(),i=this._adapter.getFocusableElements(s),a=i.length;switch(e&&e.key){case"Escape":Xs(e),t&&this._handleEscKeyDown(e);break;case"ArrowUp":!r&&a&&this._handleTriggerArrowUpKeydown(i,e);break;case"ArrowDown":!r&&a&&this._handleTriggerArrowDownKeydown(i,e);break}}focusTrigger(){const{trigger:e,returnFocusOnClose:t,preventScroll:r}=this.getProps();if(t&&e!=="custom"){const s=this._adapter.getTriggerNode();s&&"focus"in s&&s.focus({preventScroll:r})}}_handleEscKeyDown(e){const{trigger:t}=this.getProps();t!=="custom"&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[e.length-1]===s&&(e[0].focus({preventScroll:r}),t.preventDefault())}_handleContainerShiftTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[0]===s&&(e[e.length-1].focus({preventScroll:r}),t.preventDefault())}_handleTriggerArrowDownKeydown(e,t){const{preventScroll:r}=this.getProps();e[0].focus({preventScroll:r}),t.preventDefault()}_handleTriggerArrowUpKeydown(e,t){const{preventScroll:r}=this.getProps();e[e.length-1].focus({preventScroll:r}),t.preventDefault()}};const Nte={PREFIX:`${Y}-tooltip`},Pl={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},ol={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0};function dy(n){return`${n}-${new Date().getTime()}-${Math.random()}`}function om(){var n,e;try{return(e=(n=crypto==null?void 0:crypto.randomUUID)===null||n===void 0?void 0:n.call(crypto))!==null&&e!==void 0?e:String(9987e3+-1e11).replace(/[018]/g,t=>(Number(t)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(t)/4).toString(16))}catch{return dy("semi")}}function xa(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefix:e="",length:t=7}=n,r="0123456789abcdefghijklmnopqrstuvwxyz",s=r.length;let i="";for(let a=0;a<t;a++){const o=Math.floor(Math.random()*s);i+=r.charAt(o)}return e?`${e}-${i}`:i}function lE(n){return g.isValidElement(n)}function jx(n){return g.Children.count(n)===0}var $te=Vv,Lte=hd,Mte=Uv,Vx=qr,Fte=cu;function jte(n,e,t,r){if(!Vx(n))return n;e=Lte(e,n);for(var s=-1,i=e.length,a=i-1,o=n;o!=null&&++s<i;){var l=Fte(e[s]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=a){var d=o[l];u=r?r(d,l,o):void 0,u===void 0&&(u=Vx(d)?d:Mte(e[s+1])?[]:{})}$te(o,l,u),o=o[l]}return n}var XM=jte,Vte=XM;function Ute(n,e,t){return n==null?n:Vte(n,e,t)}var Bte=Ute;const yc=ge(Bte);var Hte=jM,zte=1,Kte=4;function Wte(n,e){return e=typeof e=="function"?e:void 0,Hte(n,zte|Kte,e)}var Gte=Wte;const QM=ge(Gte);class Yte{constructor(){this.config={}}}const Bb=new Yte;var Ux=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};function Sg(n,e){n&&typeof n.stopPropagation=="function"&&n.stopPropagation(),n.nativeEvent&&typeof n.nativeEvent.stopImmediatePropagation=="function"&&n.nativeEvent.stopImmediatePropagation()}function qte(n,e){return QM(n,t=>{if(typeof e=="function")return e(t);if(typeof t=="function"||g.isValidElement(t)||Object.prototype.toString.call(t)==="[object Error]")return t;if(Array.isArray(t)&&t.length===0){const r=Object.keys(t);if(r.length){const s=[];r.forEach(i=>{yc(s,i,t[i])});try{kt(K(process,"env.NODE_ENV")!=="production",`[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.
                    The maximum length of an array is 4294967295.
                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript`)}catch{}return s}else return}})}const Xte=(n,e)=>{let{match:t,unmatch:r,callInInit:s=!0}=e;if(typeof window<"u"){let o=function(l){l.matches?t&&t(l):r&&r(l)};var i=o;const a=window.matchMedia(n);return s&&o(a),Object.prototype.hasOwnProperty.call(a,"addEventListener")?(a.addEventListener("change",o),()=>a.removeEventListener("change",o)):(a.addListener(o),()=>a.removeListener(o))}return()=>{}},dr=n=>g.isValidElement(n)&&K(n.type,"elementType")==="Icon";function ZM(){return document?document.activeElement:null}function JM(n){if(!Ke(n))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(n.querySelectorAll(t))}function j1(n,e){return Ux(this,void 0,void 0,function*(){if(e===0){yield n();return}else{yield new Promise(t=>{setTimeout(()=>Ux(this,void 0,void 0,function*(){yield j1(n,e-1),t()}),0)});return}})}function Qte(){return globalThis&&Object.prototype.toString.call(globalThis)==="[object Window]"?window.innerWidth-document.documentElement.clientWidth:0}function ds(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=()=>{var r,s;return((s=(r=Bb==null?void 0:Bb.config)===null||r===void 0?void 0:r.overrideDefaultProps)===null||s===void 0?void 0:s[n])||{}};return new Proxy(Object.assign({},e),{get(r,s,i){const a=t();return s in a?a[s]:Reflect.get(r,s,i)},set(r,s,i,a){return Reflect.set(r,s,i,a)},ownKeys(){const r=t();return Array.from(new Set([...Reflect.ownKeys(e),...Object.keys(r)]))},getOwnPropertyDescriptor(r,s){const i=t();return s in i?Reflect.getOwnPropertyDescriptor(i,s):Reflect.getOwnPropertyDescriptor(r,s)}})}const kr=g.createContext({}),Zte=()=>document.body;class mp extends T.PureComponent{constructor(e,t){var r;super(e),r=this,this.initContainer=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var a,o;try{let l;if(!r.el||!(!((a=r.state)===null||a===void 0)&&a.container)||!Array.from(r.state.container.childNodes).includes(r.el)){r.el=document.createElement("div");const d=(r.props.getPopupContainer||s.getPopupContainer||Zte)();return d.appendChild(r.el),r.addStyle(r.props.style),r.addClass(r.props.prefixCls,s,r.props.className),l=d,l}}catch(l){if(!i)throw l}return(o=r.state)===null||o===void 0?void 0:o.container},this.addStyle=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.el)for(const i of Object.keys(s))r.el.style[i]=s[i]},this.addClass=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.context;const{direction:a}=i;for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];const d=A(s,...l,{[`${s}-rtl`]:a==="rtl"});r.el&&(r.el.className=d)},this.state={container:this.initContainer(t,!0)}}componentDidMount(){const e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){const{didUpdate:t}=this.props;t&&t(e)}componentWillUnmount(){const{container:e}=this.state;e&&e.removeChild(this.el)}render(){const{state:e,props:t}=this;return e.container?Os.createPortal(t.children,this.el):null}}mp.contextType=kr;mp.defaultProps={prefixCls:`${Y}-portal`};mp.propTypes={children:c.node,prefixCls:c.string,getPopupContainer:c.func,className:c.string,didUpdate:c.func};var Jte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ene=n=>{const{className:e,style:t}=n,r=Jte(n,["className","style"]);return g.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),g.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))};var tne=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const nne=n=>{const{className:e,style:t}=n,r=tne(n,["className","style"]);return g.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),g.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},rne=c.shape({offsetX:c.number,offsetY:c.number,width:c.number,height:c.number});class pf extends g.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var t,r;(r=(t=this.props).onAnimationStart)===null||r===void 0||r.call(t)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var t,r;(r=(t=this.props).onAnimationEnd)===null||r===void 0||r.call(t,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,t,r,s;(t=(e=this.props).onAnimationStart)===null||t===void 0||t.call(e),this.props.motion||((s=(r=this.props).onAnimationEnd)===null||s===void 0||s.call(r,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,t,r){const s=Object.keys(this.props).filter(i=>!ke(this.props[i],e[i]));s.includes("animationState"),(s.includes("startClassName")||s.includes("replayKey")||s.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var i,a,o,l;(a=(i=this.props).onAnimationStart)===null||a===void 0||a.call(i),this.props.motion||((l=(o=this.props).onAnimationEnd)===null||l===void 0||l.call(o,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var e;return this.props.motion?this.props.children({animationClassName:(e=this.state.currentClassName)!==null&&e!==void 0?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}pf.defaultProps={motion:!0,replayKey:""};var Bx=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const lm=Nte.PREFIX,sne=Pl.POSITION_SET,ine=Pl.TRIGGER_SET,ane=["flex","block","table","flow-root","grid"],one=()=>document.body;class fr extends we{constructor(e){super(e),this.isAnimating=!1,this.setContainerEl=t=>this.containerEl={current:t},this.isSpecial=t=>{if(Ke(t))return!!t.disabled;if(T.isValidElement(t)){if(K(t,"props.disabled"))return Pl.STATUS_DISABLED;const s=K(t,"props.loading"),i=!pt(t)&&!pt(t.type)&&(K(t,"type.elementType")==="Button"||K(t,"type.elementType")==="IconButton");if(s&&i)return Pl.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{const{placement:t}=this.state,{showArrow:r,prefixCls:s,style:i}=this.props;let a=null;const o=A([`${s}-icon-arrow`]),l=K(i,"backgroundColor"),u=t!=null&&t.includes("left")||t!=null&&t.includes("right")?g.createElement(nne,null):g.createElement(ene,null);return r&&(T.isValidElement(r)?a=r:a=g.cloneElement(u,{className:o,style:{color:l,fill:"currentColor"}})),a},this.handlePortalInnerClick=t=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&Sg(t)},this.handlePortalMouseDown=t=>{this.props.stopPropagation&&Sg(t)},this.handlePortalFocus=t=>{this.props.stopPropagation&&Sg(t)},this.handlePortalBlur=t=>{this.props.stopPropagation&&Sg(t)},this.handlePortalInnerKeyDown=t=>{this.foundation.handleContainerKeydown(t)},this.renderContentNode=t=>{const r={initialFocusRef:this.initialFocusRef};return Te(t)?t(r):t},this.renderPortal=()=>{const{containerStyle:t={},visible:r,portalEventSet:s,placement:i,displayNone:a,transitionState:o,id:l,isPositionUpdated:u}=this.state,{prefixCls:d,content:h,showArrow:f,style:p,motion:_,role:m,zIndex:v}=this.props,y=this.renderContentNode(h),{className:b}=this.props,w=this.context.direction,E=A(b,{[`${d}-wrapper`]:!0,[`${d}-wrapper-show`]:r,[`${d}-with-arrow`]:!!f,[`${d}-rtl`]:w==="rtl"}),S=this.renderIcon(),C=Ko(t,_?["transformOrigin"]:void 0),O=K(t,"transformOrigin"),I=K(p,"opacity",null),P=I||1,x=g.createElement(pf,{fillMode:"forwards",animationState:o,motion:_&&u,startClassName:o==="enter"?`${lm}-animation-show`:`${lm}-animation-hide`,onAnimationStart:()=>this.isAnimating=!0,onAnimationEnd:()=>{var D,N;o==="leave"&&(this.didLeave(),(N=(D=this.props).afterClose)===null||N===void 0||N.call(D)),this.isAnimating=!1}},D=>{let{animationStyle:N,animationClassName:L,animationEventsNeedBind:V}=D;return g.createElement("div",Object.assign({className:A(E,L),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},N),a?{display:"none"}:{}),{transformOrigin:O}),p),I?{opacity:u?P:"0"}:{})},s,V,{role:m,"x-placement":i,id:l}),g.createElement("div",{className:`${lm}-content`},y),S)});return g.createElement(mp,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:v}},g.createElement("div",{tabIndex:-1,className:`${Y}-portal-inner`,style:C,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},x))},this.wrapSpan=t=>{const{wrapperClassName:r}=this.props,s=K(t,"props.style.display"),i=K(t,"props.block"),a=typeof t=="string",o={};return a||(o.display="inline-block"),(i||ane.includes(s))&&(o.width="100%"),g.createElement("span",{className:r,style:o},t)},this.mergeEvents=(t,r)=>{const s={};return Rte(r,(i,a)=>{typeof i=="function"&&(s[a]=function(){i(...arguments),t&&typeof t[a]=="function"&&t[a](...arguments)})}),s},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new kte(this.adapter),this.eventManager=new YM,this.triggerEl=g.createRef(),this.containerEl=g.createRef(),this.initialFocusRef=g.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},getAnimatingState:()=>this.isAnimating,insertPortal:(t,r)=>{var{position:s}=r,i=Bx(r,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),i)},()=>{setTimeout(()=>{this.setState(a=>(a.transitionState==="enter"&&this.eventManager.emit("portalInserted"),{}))},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:t=>{this.setState({triggerEventSet:t})},registerPortalEvent:t=>{this.setState({portalEventSet:t})},getTriggerBounding:()=>{const t=this.adapter.getTriggerNode();return this.triggerEl.current=t,t&&t.getBoundingClientRect()},getPopupContainerRect:()=>{const t=this.getPopupContainer();let r=null;if(t&&Ke(t)){const s=Dte(t.getBoundingClientRect());r=Object.assign(Object.assign({},s),{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})}return r},containerIsBody:()=>this.getPopupContainer()===document.body,containerIsRelative:()=>{const t=this.getPopupContainer();return window.getComputedStyle(t).getPropertyValue("position")==="relative"},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{const t=this.containerEl&&this.containerEl.current;return t&&t.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:t=>{var{position:r}=t,s=Bx(t,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),s),placement:r,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(t,r)=>{this.setState({displayNone:t},r)},updatePlacementAttr:t=>{this.setState({placement:t})},togglePortalVisible:(t,r)=>{const s={};s.transitionState=t?"enter":"leave",s.visible=t,this.mounted&&this.setState(s,()=>{r()})},registerClickOutsideHandler:t=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=r=>{if(!this.mounted)return!1;let s=this.triggerEl&&this.triggerEl.current,i=this.containerEl&&this.containerEl.current;s=Pr.findDOMNode(s),i=Pr.findDOMNode(i);const a=r.target,o=r.composedPath&&r.composedPath()||[a],l=this.props.clickTriggerToHide?s&&s.contains(a)||o.includes(s):!1;(s&&!s.contains(a)&&i&&!i.contains(a)&&!(o.includes(i)||o.includes(s))||l)&&(this.props.onClickOutSide(r),t())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:t=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=ay(r=>{if(!this.mounted)return!1;t(r)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:t=>{this.props.onVisibleChange(t)},registerScrollHandler:t=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=ay(r=>{if(!this.mounted)return!1;const s=this.adapter.getTriggerNode();if(r.target.contains(s)){const a={x:r.target.scrollLeft,y:r.target.scrollTop};t(a)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{const t=this.getPopupContainer();if(t&&Ke(t)){const s=window.getComputedStyle(t).getPropertyValue("position");this.containerPosition=s}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let t=this.triggerEl.current;return Ke(this.triggerEl.current)||(t=Pr.findDOMNode(this.triggerEl.current)),t},getFocusableElements:t=>JM(t),getActiveElement:()=>ZM(),setInitialFocus:()=>{const{preventScroll:t}=this.props,r=K(this,"initialFocusRef.current");r&&"focus"in r&&r.focus({preventScroll:t})},notifyEscKeydown:t=>{this.props.onEscKeyDown(t)},setId:()=>{this.setState({id:xa()})},getTriggerDOM:()=>this.triggerEl.current?Pr.findDOMNode(this.triggerEl.current):null})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||one,this.foundation.init(),j1(()=>{let e=this.triggerEl.current;e&&(e instanceof HTMLElement||(e=Os.findDOMNode(e))),this.foundation.updateStateIfCursorOnTrigger(e)},1)}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,t){kt(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),ke(e.rePosKey,this.props.rePosKey)||this.rePosition()}render(){const{isInsert:e,triggerEventSet:t,visible:r,id:s}=this.state,{wrapWhenSpecial:i,role:a,trigger:o}=this.props;let{children:l}=this.props;const u=Object.assign({},K(l,"props.style")),d={};if(i){const p=this.isSpecial(l);p?(u.pointerEvents="none",p===Pl.STATUS_DISABLED&&(d.cursor="not-allowed"),l=T.cloneElement(l,{style:u}),o!=="custom"&&(l=this.wrapSpan(l)),this.isWrapped=!0):T.isValidElement(l)||(l=this.wrapSpan(l),this.isWrapped=!0)}let h={};a==="dialog"?(h["aria-expanded"]=r?"true":"false",h["aria-haspopup"]="dialog",h["aria-controls"]=s):h["aria-describedby"]=s;const f=g.cloneElement(l,Object.assign(Object.assign(Object.assign(Object.assign({},h),l.props),this.mergeEvents(l.props,t)),{style:Object.assign(Object.assign({},K(l,"props.style")),d),className:A(K(l,"props.className")),ref:p=>{this.triggerEl.current=p;const{ref:_}=l;typeof _=="function"?_(p):_&&typeof _=="object"&&(_.current=p)},tabIndex:l.props.tabIndex||0,"data-popupid":s}));return g.createElement(g.Fragment,null,e?this.renderPortal():null,f)}}fr.contextType=kr;fr.propTypes={children:c.node,motion:c.bool,autoAdjustOverflow:c.bool,position:c.oneOf(sne),getPopupContainer:c.func,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(ine).isRequired,className:c.string,wrapperClassName:c.string,clickToHide:c.bool,clickTriggerToHide:c.bool,visible:c.bool,style:c.object,content:c.oneOfType([c.node,c.func]),prefixCls:c.string,onVisibleChange:c.func,onClickOutSide:c.func,spacing:c.oneOfType([c.number,c.object]),margin:c.oneOfType([c.number,c.object]),showArrow:c.oneOfType([c.bool,c.node]),zIndex:c.number,rePosKey:c.oneOfType([c.string,c.number]),arrowBounding:rne,transformFromCenter:c.bool,arrowPointAtCenter:c.bool,stopPropagation:c.bool,role:c.string,wrapWhenSpecial:c.bool,guardFocus:c.bool,returnFocusOnClose:c.bool,preventScroll:c.bool,keepDOM:c.bool};fr.__SemiComponentName__="Tooltip";fr.defaultProps=ds(fr.__SemiComponentName__,{arrowBounding:ol.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:lm,role:"tooltip",mouseEnterDelay:ol.MOUSE_ENTER_DELAY,mouseLeaveDelay:ol.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:k,onClickOutSide:k,spacing:ol.SPACING,margin:ol.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:ol.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:k,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1});var V1={exports:{}};const e2=(n,{target:e=document.body}={})=>{const t=document.createElement("textarea"),r=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const s=document.getSelection();let i=!1;s.rangeCount>0&&(i=s.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;let a=!1;try{a=document.execCommand("copy")}catch{}return t.remove(),i&&(s.removeAllRanges(),s.addRange(i)),r&&r.focus(),a};V1.exports=e2;V1.exports.default=e2;var lne=V1.exports;const une=ge(lne);function gt(){}const cne=g.createContext(null);function vc(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}function Ti(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",s;if(r==="formatting"&&n.formattingValues){var i=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):i;s=n.formattingValues[a]||n.formattingValues[i]}else{var o=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[l]||n.values[o]}var u=n.argumentCallback?n.argumentCallback(e):e;return s[u]}}function Oi(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],o=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?hne(o,function(h){return h.test(a)}):dne(o,function(h){return h.test(a)}),u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var d=e.slice(a.length);return{value:u,rest:d}}}function dne(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function hne(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function t2(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var s=r[0],i=e.match(n.parsePattern);if(!i)return null;var a=n.valueCallback?n.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;var o=e.slice(s.length);return{value:a,rest:o}}}function Yi(n){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(n)}function Et(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Se(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function xe(n){Se(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Yi(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function po(n,e){Se(2,arguments);var t=xe(n),r=Et(e);if(isNaN(r))return new Date(NaN);if(!r)return t;var s=t.getDate(),i=new Date(t.getTime());i.setMonth(t.getMonth()+r+1,0);var a=i.getDate();return s>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),s),t)}function fne(n,e){Se(2,arguments);var t=xe(n).getTime(),r=Et(e);return new Date(t+r)}var pne={};function yd(){return pne}function n2(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function Hx(n){Se(1,arguments);var e=xe(n);return e.setHours(0,0,0,0),e}function hy(n,e){Se(2,arguments);var t=Et(e);return po(n,t*12)}var U1=6e4,B1=36e5,gne=1e3;function H1(n,e){Se(2,arguments);var t=Hx(n),r=Hx(e);return t.getTime()===r.getTime()}function uE(n){return Se(1,arguments),n instanceof Date||Yi(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Ss(n){if(Se(1,arguments),!uE(n)&&typeof n!="number")return!1;var e=xe(n);return!isNaN(Number(e))}function ll(n,e){Se(2,arguments);var t=xe(n),r=xe(e),s=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return s*12+i}function mne(n,e){Se(2,arguments);var t=xe(n),r=xe(e);return t.getFullYear()-r.getFullYear()}function yne(n){Se(1,arguments);var e=xe(n);return e.setDate(1),e.setHours(0,0,0,0),e}function r2(n,e){Se(2,arguments);var t=Et(e);return fne(n,-t)}var vne=864e5;function _ne(n){Se(1,arguments);var e=xe(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=t-r;return Math.floor(s/vne)+1}function jc(n){Se(1,arguments);var e=1,t=xe(n),r=t.getUTCDay(),s=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-s),t.setUTCHours(0,0,0,0),t}function s2(n){Se(1,arguments);var e=xe(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var s=jc(r),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var a=jc(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function bne(n){Se(1,arguments);var e=s2(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=jc(t);return r}var wne=6048e5;function i2(n){Se(1,arguments);var e=xe(n),t=jc(e).getTime()-bne(e).getTime();return Math.round(t/wne)+1}function Ra(n,e){var t,r,s,i,a,o,l,u;Se(1,arguments);var d=yd(),h=Et((t=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=xe(n),p=f.getUTCDay(),_=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-_),f.setUTCHours(0,0,0,0),f}function z1(n,e){var t,r,s,i,a,o,l,u;Se(1,arguments);var d=xe(n),h=d.getUTCFullYear(),f=yd(),p=Et((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(h+1,0,p),_.setUTCHours(0,0,0,0);var m=Ra(_,e),v=new Date(0);v.setUTCFullYear(h,0,p),v.setUTCHours(0,0,0,0);var y=Ra(v,e);return d.getTime()>=m.getTime()?h+1:d.getTime()>=y.getTime()?h:h-1}function Ene(n,e){var t,r,s,i,a,o,l,u;Se(1,arguments);var d=yd(),h=Et((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=z1(n,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var _=Ra(p,e);return _}var Sne=6048e5;function a2(n,e){Se(1,arguments);var t=xe(n),r=Ra(t,e).getTime()-Ene(t,e).getTime();return Math.round(r/Sne)+1}function ut(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}var Wa={y:function(e,t){var r=e.getUTCFullYear(),s=r>0?r:1-r;return ut(t==="yy"?s%100:s,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):ut(r+1,2)},d:function(e,t){return ut(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return ut(e.getUTCHours()%12||12,t.length)},H:function(e,t){return ut(e.getUTCHours(),t.length)},m:function(e,t){return ut(e.getUTCMinutes(),t.length)},s:function(e,t){return ut(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return ut(i,t.length)}},Iu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cne={G:function(e,t,r){var s=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Wa.y(e,t)},Y:function(e,t,r,s){var i=z1(e,s),a=i>0?i:1-i;if(t==="YY"){var o=a%100;return ut(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ut(a,t.length)},R:function(e,t){var r=s2(e);return ut(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return ut(r,t.length)},Q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return ut(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return ut(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){var s=e.getUTCMonth();switch(t){case"M":case"MM":return Wa.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){var s=e.getUTCMonth();switch(t){case"L":return String(s+1);case"LL":return ut(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){var i=a2(e,s);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ut(i,t.length)},I:function(e,t,r){var s=i2(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):ut(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Wa.d(e,t)},D:function(e,t,r){var s=_ne(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ut(s,t.length)},E:function(e,t,r){var s=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ut(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ut(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var s=e.getUTCDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return ut(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var s=e.getUTCHours(),i;switch(s===12?i=Iu.noon:s===0?i=Iu.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var s=e.getUTCHours(),i;switch(s>=17?i=Iu.evening:s>=12?i=Iu.afternoon:s>=4?i=Iu.morning:i=Iu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Wa.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Wa.H(e,t)},K:function(e,t,r){var s=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ut(s,t.length)},k:function(e,t,r){var s=e.getUTCHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):ut(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Wa.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Wa.s(e,t)},S:function(e,t){return Wa.S(e,t)},X:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Kx(a);case"XXXX":case"XX":return ul(a);case"XXXXX":case"XXX":default:return ul(a,":")}},x:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(t){case"x":return Kx(a);case"xxxx":case"xx":return ul(a);case"xxxxx":case"xxx":default:return ul(a,":")}},O:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zx(a,":");case"OOOO":default:return"GMT"+ul(a,":")}},z:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zx(a,":");case"zzzz":default:return"GMT"+ul(a,":")}},t:function(e,t,r,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return ut(a,t.length)},T:function(e,t,r,s){var i=s._originalDate||e,a=i.getTime();return ut(a,t.length)}};function zx(n,e){var t=n>0?"-":"+",r=Math.abs(n),s=Math.floor(r/60),i=r%60;if(i===0)return t+String(s);var a=e;return t+String(s)+a+ut(i,2)}function Kx(n,e){if(n%60===0){var t=n>0?"-":"+";return t+ut(Math.abs(n)/60,2)}return ul(n,e)}function ul(n,e){var t=e||"",r=n>0?"-":"+",s=Math.abs(n),i=ut(Math.floor(s/60),2),a=ut(s%60,2);return r+i+t+a}var Wx=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},o2=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Tne=function(e,t){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Wx(e,t);var a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Wx(s,t)).replace("{{time}}",o2(i,t))},cE={p:o2,P:Tne},One=["D","DD"],Ine=["YY","YYYY"];function l2(n){return One.indexOf(n)!==-1}function u2(n){return Ine.indexOf(n)!==-1}function fy(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Pne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xne=function(e,t,r){var s,i=Pne[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s},Rne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ane={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kne={date:vc({formats:Rne,defaultWidth:"full"}),time:vc({formats:Ane,defaultWidth:"full"}),dateTime:vc({formats:Dne,defaultWidth:"full"})},Nne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$ne=function(e,t,r,s){return Nne[e]},Lne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Une={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Bne=function(e,t){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Hne={ordinalNumber:Bne,era:Ti({values:Lne,defaultWidth:"wide"}),quarter:Ti({values:Mne,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ti({values:Fne,defaultWidth:"wide"}),day:Ti({values:jne,defaultWidth:"wide"}),dayPeriod:Ti({values:Vne,defaultWidth:"wide",formattingValues:Une,defaultFormattingWidth:"wide"})},zne=/^(\d+)(th|st|nd|rd)?/i,Kne=/\d+/i,Wne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gne={any:[/^b/i,/^(a|c)/i]},Yne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qne={any:[/1/i,/2/i,/3/i,/4/i]},Xne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ere={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nre={ordinalNumber:t2({matchPattern:zne,parsePattern:Kne,valueCallback:function(e){return parseInt(e,10)}}),era:Oi({matchPatterns:Wne,defaultMatchWidth:"wide",parsePatterns:Gne,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:Yne,defaultMatchWidth:"wide",parsePatterns:qne,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Oi({matchPatterns:Xne,defaultMatchWidth:"wide",parsePatterns:Qne,defaultParseWidth:"any"}),day:Oi({matchPatterns:Zne,defaultMatchWidth:"wide",parsePatterns:Jne,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:ere,defaultMatchWidth:"any",parsePatterns:tre,defaultParseWidth:"any"})},c2={code:"en-US",formatDistance:xne,formatLong:kne,formatRelative:$ne,localize:Hne,match:nre,options:{weekStartsOn:0,firstWeekContainsDate:1}},rre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ire=/^'([^]*?)'?$/,are=/''/g,ore=/[a-zA-Z]/;function et(n,e,t){var r,s,i,a,o,l,u,d,h,f,p,_,m,v,y,b,w,E;Se(2,arguments);var S=String(e),C=yd(),O=(r=(s=t==null?void 0:t.locale)!==null&&s!==void 0?s:C.locale)!==null&&r!==void 0?r:c2,I=Et((i=(a=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:C.firstWeekContainsDate)!==null&&a!==void 0?a:(h=C.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Et((p=(_=(m=(v=t==null?void 0:t.weekStartsOn)!==null&&v!==void 0?v:t==null||(y=t.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&m!==void 0?m:C.weekStartsOn)!==null&&_!==void 0?_:(w=C.locale)===null||w===void 0||(E=w.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var x=xe(n);if(!Ss(x))throw new RangeError("Invalid time value");var D=n2(x),N=r2(x,D),L={firstWeekContainsDate:I,weekStartsOn:P,locale:O,_originalDate:x},V=S.match(sre).map(function(B){var F=B[0];if(F==="p"||F==="P"){var W=cE[F];return W(B,O.formatLong)}return B}).join("").match(rre).map(function(B){if(B==="''")return"'";var F=B[0];if(F==="'")return lre(B);var W=Cne[F];if(W)return!(t!=null&&t.useAdditionalWeekYearTokens)&&u2(B)&&fy(B,e,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&l2(B)&&fy(B,e,String(n)),W(N,B,O.localize,L);if(F.match(ore))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return B}).join("");return V}function lre(n){var e=n.match(ire);return e?e[1].replace(are,"'"):n}function ure(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function d2(n){Se(1,arguments);var e=xe(n),t=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function cre(n){Se(1,arguments);var e=xe(n),t=e.getHours();return t}function dre(n){Se(1,arguments);var e=xe(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function hre(n,e){Se(2,arguments);var t=xe(n),r=xe(e);return t.getTime()>r.getTime()}function h2(n,e){Se(2,arguments);var t=xe(n),r=xe(e);return t.getTime()<r.getTime()}function py(n,e){Se(2,arguments);var t=xe(n),r=xe(e);return t.getTime()===r.getTime()}function Gx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function fre(n,e){if(n){if(typeof n=="string")return Gx(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Gx(n,e):void 0}}function Yx(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=fre(n))||e){t&&(n=t);var r=0,s=function(){};return{s,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){o=!0,i=u},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw i}}}}function ee(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gy(n,e){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},gy(n,e)}function Ye(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gy(n,e)}function my(n){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},my(n)}function f2(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f2=function(){return!!n})()}function pre(n,e){if(e&&(Yi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(n)}function qe(n){var e=f2();return function(){var t,r=my(n);if(e){var s=my(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return pre(this,t)}}function Me(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gre(n,e){if(Yi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Yi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function p2(n){var e=gre(n,"string");return Yi(e)=="symbol"?e:e+""}function mre(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,p2(r.key),r)}}function Fe(n,e,t){return e&&mre(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function J(n,e,t){return(e=p2(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var yre=10,g2=function(){function n(){Me(this,n),J(this,"priority",void 0),J(this,"subPriority",0)}return Fe(n,[{key:"validate",value:function(t,r){return!0}}]),n}(),vre=function(n){Ye(t,n);var e=qe(t);function t(r,s,i,a,o){var l;return Me(this,t),l=e.call(this),l.value=r,l.validateValue=s,l.setValue=i,l.priority=a,o&&(l.subPriority=o),l}return Fe(t,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,a){return this.setValue(s,i,this.value,a)}}]),t}(g2),_re=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",yre),J(ee(r),"subPriority",-1),r}return Fe(t,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var a=new Date(0);return a.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),a.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),a}}]),t}(g2),it=function(){function n(){Me(this,n),J(this,"incompatibleTokens",void 0),J(this,"priority",void 0),J(this,"subPriority",void 0)}return Fe(n,[{key:"run",value:function(t,r,s,i){var a=this.parse(t,r,s,i);return a?{setter:new vre(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(t,r,s){return!0}}]),n}(),bre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",140),J(ee(r),"incompatibleTokens",["R","u","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,a){return i.era=a,s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),un={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ii={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function cn(n,e){return n&&{value:e(n.value),rest:n.rest}}function zt(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Pi(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:r*(s*B1+i*U1+a*gne),rest:e.slice(t[0].length)}}function m2(n){return zt(un.anyDigitsSigned,n)}function en(n,e){switch(n){case 1:return zt(un.singleDigit,e);case 2:return zt(un.twoDigits,e);case 3:return zt(un.threeDigits,e);case 4:return zt(un.fourDigits,e);default:return zt(new RegExp("^\\d{1,"+n+"}"),e)}}function yy(n,e){switch(n){case 1:return zt(un.singleDigitSigned,e);case 2:return zt(un.twoDigitsSigned,e);case 3:return zt(un.threeDigitsSigned,e);case 4:return zt(un.fourDigitsSigned,e);default:return zt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function K1(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function y2(n,e){var t=e>0,r=t?e:1-e,s;if(r<=50)s=n||100;else{var i=r+50,a=Math.floor(i/100)*100,o=n>=i%100;s=n+a-(o?100:0)}return t?s:1-s}function v2(n){return n%400===0||n%4===0&&n%100!==0}var wre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",130),J(ee(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return cn(en(4,s),o);case"yo":return cn(a.ordinalNumber(s,{unit:"year"}),o);default:return cn(en(i.length,s),o)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a){var o=s.getUTCFullYear();if(a.isTwoDigitYear){var l=y2(a.year,o);return s.setUTCFullYear(l,0,1),s.setUTCHours(0,0,0,0),s}var u=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(u,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),Ere=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",130),J(ee(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return cn(en(4,s),o);case"Yo":return cn(a.ordinalNumber(s,{unit:"year"}),o);default:return cn(en(i.length,s),o)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a,o){var l=z1(s,o);if(a.isTwoDigitYear){var u=y2(a.year,l);return s.setUTCFullYear(u,0,o.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Ra(s,o)}var d=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(d,0,o.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Ra(s,o)}}]),t}(it),Sre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",130),J(ee(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i){return yy(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,a){var o=new Date(0);return o.setUTCFullYear(a,0,4),o.setUTCHours(0,0,0,0),jc(o)}}]),t}(it),Cre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",130),J(ee(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i){return yy(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,a){return s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),Tre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",120),J(ee(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"Q":case"QQ":return en(i.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),Ore=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",120),J(ee(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"q":case"qq":return en(i.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),Ire=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),J(ee(r),"priority",110),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return u-1};switch(i){case"M":return cn(zt(un.month,s),o);case"MM":return cn(en(2,s),o);case"Mo":return cn(a.ordinalNumber(s,{unit:"month"}),o);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),t}(it),Pre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",110),J(ee(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return u-1};switch(i){case"L":return cn(zt(un.month,s),o);case"LL":return cn(en(2,s),o);case"Lo":return cn(a.ordinalNumber(s,{unit:"month"}),o);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),t}(it);function xre(n,e,t){Se(2,arguments);var r=xe(n),s=Et(e),i=a2(r,t)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var Rre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",100),J(ee(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"w":return zt(un.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a,o){return Ra(xre(s,a,o),o)}}]),t}(it);function Are(n,e){Se(2,arguments);var t=xe(n),r=Et(e),s=i2(t)-r;return t.setUTCDate(t.getUTCDate()-s*7),t}var Dre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",100),J(ee(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"I":return zt(un.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a){return jc(Are(s,a))}}]),t}(it),kre=[31,28,31,30,31,30,31,31,30,31,30,31],Nre=[31,29,31,30,31,30,31,31,30,31,30,31],$re=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"subPriority",1),J(ee(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"d":return zt(un.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),o=v2(a),l=s.getUTCMonth();return o?i>=1&&i<=Nre[l]:i>=1&&i<=kre[l]}},{key:"set",value:function(s,i,a){return s.setUTCDate(a),s.setUTCHours(0,0,0,0),s}}]),t}(it),Lre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"subpriority",1),J(ee(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"D":case"DD":return zt(un.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),o=v2(a);return o?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,a){return s.setUTCMonth(0,a),s.setUTCHours(0,0,0,0),s}}]),t}(it);function W1(n,e,t){var r,s,i,a,o,l,u,d;Se(2,arguments);var h=yd(),f=Et((r=(s=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&s!==void 0?s:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=xe(n),_=Et(e),m=p.getUTCDay(),v=_%7,y=(v+7)%7,b=(y<f?7:0)+_-m;return p.setUTCDate(p.getUTCDate()+b),p}var Mre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,o){return s=W1(s,a,o),s.setUTCHours(0,0,0,0),s}}]),t}(it),Fre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a,o){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+h};switch(i){case"e":case"ee":return cn(en(i.length,s),l);case"eo":return cn(a.ordinalNumber(s,{unit:"day"}),l);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,o){return s=W1(s,a,o),s.setUTCHours(0,0,0,0),s}}]),t}(it),jre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a,o){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+h};switch(i){case"c":case"cc":return cn(en(i.length,s),l);case"co":return cn(a.ordinalNumber(s,{unit:"day"}),l);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,o){return s=W1(s,a,o),s.setUTCHours(0,0,0,0),s}}]),t}(it);function Vre(n,e){Se(2,arguments);var t=Et(e);t%7===0&&(t=t-7);var r=1,s=xe(n),i=s.getUTCDay(),a=t%7,o=(a+7)%7,l=(o<r?7:0)+t-i;return s.setUTCDate(s.getUTCDate()+l),s}var Ure=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",90),J(ee(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){var o=function(u){return u===0?7:u};switch(i){case"i":case"ii":return en(i.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return cn(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiii":return cn(a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiiii":return cn(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiii":default:return cn(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,a){return s=Vre(s,a),s.setUTCHours(0,0,0,0),s}}]),t}(it),Bre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",80),J(ee(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(K1(a),0,0,0),s}}]),t}(it),Hre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",80),J(ee(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(K1(a),0,0,0),s}}]),t}(it),zre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",80),J(ee(r),"incompatibleTokens",["a","b","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(K1(a),0,0,0),s}}]),t}(it),Kre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",70),J(ee(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"h":return zt(un.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,a){var o=s.getUTCHours()>=12;return o&&a<12?s.setUTCHours(a+12,0,0,0):!o&&a===12?s.setUTCHours(0,0,0,0):s.setUTCHours(a,0,0,0),s}}]),t}(it),Wre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",70),J(ee(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"H":return zt(un.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,a){return s.setUTCHours(a,0,0,0),s}}]),t}(it),Gre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",70),J(ee(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"K":return zt(un.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){var o=s.getUTCHours()>=12;return o&&a<12?s.setUTCHours(a+12,0,0,0):s.setUTCHours(a,0,0,0),s}}]),t}(it),Yre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",70),J(ee(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"k":return zt(un.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,a){var o=a<=24?a%24:a;return s.setUTCHours(o,0,0,0),s}}]),t}(it),qre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",60),J(ee(r),"incompatibleTokens",["t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"m":return zt(un.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCMinutes(a,0,0),s}}]),t}(it),Xre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",50),J(ee(r),"incompatibleTokens",["t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i,a){switch(i){case"s":return zt(un.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return en(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCSeconds(a,0),s}}]),t}(it),Qre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",30),J(ee(r),"incompatibleTokens",["t","T"]),r}return Fe(t,[{key:"parse",value:function(s,i){var a=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return cn(en(i.length,s),a)}},{key:"set",value:function(s,i,a){return s.setUTCMilliseconds(a),s}}]),t}(it),Zre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",10),J(ee(r),"incompatibleTokens",["t","T","x"]),r}return Fe(t,[{key:"parse",value:function(s,i){switch(i){case"X":return Pi(Ii.basicOptionalMinutes,s);case"XX":return Pi(Ii.basic,s);case"XXXX":return Pi(Ii.basicOptionalSeconds,s);case"XXXXX":return Pi(Ii.extendedOptionalSeconds,s);case"XXX":default:return Pi(Ii.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),t}(it),Jre=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",10),J(ee(r),"incompatibleTokens",["t","T","X"]),r}return Fe(t,[{key:"parse",value:function(s,i){switch(i){case"x":return Pi(Ii.basicOptionalMinutes,s);case"xx":return Pi(Ii.basic,s);case"xxxx":return Pi(Ii.basicOptionalSeconds,s);case"xxxxx":return Pi(Ii.extendedOptionalSeconds,s);case"xxx":default:return Pi(Ii.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),t}(it),ese=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",40),J(ee(r),"incompatibleTokens","*"),r}return Fe(t,[{key:"parse",value:function(s){return m2(s)}},{key:"set",value:function(s,i,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),t}(it),tse=function(n){Ye(t,n);var e=qe(t);function t(){var r;Me(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),J(ee(r),"priority",20),J(ee(r),"incompatibleTokens","*"),r}return Fe(t,[{key:"parse",value:function(s){return m2(s)}},{key:"set",value:function(s,i,a){return[new Date(a),{timestampIsSet:!0}]}}]),t}(it),nse={G:new bre,y:new wre,Y:new Ere,R:new Sre,u:new Cre,Q:new Tre,q:new Ore,M:new Ire,L:new Pre,w:new Rre,I:new Dre,d:new $re,D:new Lre,E:new Mre,e:new Fre,c:new jre,i:new Ure,a:new Bre,b:new Hre,B:new zre,h:new Kre,H:new Wre,K:new Gre,k:new Yre,m:new qre,s:new Xre,S:new Qre,X:new Zre,x:new Jre,t:new ese,T:new tse},rse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ise=/^'([^]*?)'?$/,ase=/''/g,ose=/\S/,lse=/[a-zA-Z]/;function _2(n,e,t,r){var s,i,a,o,l,u,d,h,f,p,_,m,v,y,b,w,E,S;Se(3,arguments);var C=String(n),O=String(e),I=yd(),P=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:I.locale)!==null&&s!==void 0?s:c2;if(!P.match)throw new RangeError("locale must contain match property");var x=Et((a=(o=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:I.firstWeekContainsDate)!==null&&o!==void 0?o:(f=I.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=Et((_=(m=(v=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&v!==void 0?v:I.weekStartsOn)!==null&&m!==void 0?m:(E=I.locale)===null||E===void 0||(S=E.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&_!==void 0?_:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(O==="")return C===""?xe(t):new Date(NaN);var N={firstWeekContainsDate:x,weekStartsOn:D,locale:P},L=[new _re],V=O.match(sse).map(function(ue){var q=ue[0];if(q in cE){var se=cE[q];return se(ue,P.formatLong)}return ue}).join("").match(rse),B=[],F=Yx(V),W;try{var $=function(){var q=W.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&u2(q)&&fy(q,O,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&l2(q)&&fy(q,O,n);var se=q[0],yt=nse[se];if(yt){var Nt=yt.incompatibleTokens;if(Array.isArray(Nt)){var Cn=B.find(function(jn){return Nt.includes(jn.token)||jn.token===se});if(Cn)throw new RangeError("The format string mustn't contain `".concat(Cn.fullToken,"` and `").concat(q,"` at the same time"))}else if(yt.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(q,"` and any other token at the same time"));B.push({token:se,fullToken:q});var Tt=yt.run(C,q,P.match,N);if(!Tt)return{v:new Date(NaN)};L.push(Tt.setter),C=Tt.rest}else{if(se.match(lse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+se+"`");if(q==="''"?q="'":se==="'"&&(q=use(q)),C.indexOf(q)===0)C=C.slice(q.length);else return{v:new Date(NaN)}}};for(F.s();!(W=F.n()).done;){var j=$();if(Yi(j)==="object")return j.v}}catch(ue){F.e(ue)}finally{F.f()}if(C.length>0&&ose.test(C))return new Date(NaN);var M=L.map(function(ue){return ue.priority}).sort(function(ue,q){return q-ue}).filter(function(ue,q,se){return se.indexOf(ue)===q}).map(function(ue){return L.filter(function(q){return q.priority===ue}).sort(function(q,se){return se.subPriority-q.subPriority})}).map(function(ue){return ue[0]}),te=xe(t);if(isNaN(te.getTime()))return new Date(NaN);var Q=r2(te,n2(te)),ie={},le=Yx(M),Ee;try{for(le.s();!(Ee=le.n()).done;){var he=Ee.value;if(!he.validate(Q,N))return new Date(NaN);var de=he.set(Q,ie,N);Array.isArray(de)?(Q=de[0],ure(ie,de[1])):Q=de}}catch(ue){le.e(ue)}finally{le.f()}return Q}function use(n){return n.match(ise)[1].replace(ase,"'")}function qx(n){Se(1,arguments);var e=xe(n);return e.setMilliseconds(0),e}function Xx(n,e){Se(2,arguments);var t=qx(n),r=qx(e);return t.getTime()===r.getTime()}function cse(n,e){Se(2,arguments);var t=xe(n).getTime(),r=xe(e.start).getTime(),s=xe(e.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return t>=r&&t<=s}function As(n,e){var t;Se(1,arguments);var r=Et((t=void 0)!==null&&t!==void 0?t:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var s=pse(n),i;if(s.date){var a=gse(s.date,r);i=mse(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,u;if(s.time&&(l=yse(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(u=vse(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(o+l+u)}var Cg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dse=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hse=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fse=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pse(n){var e={},t=n.split(Cg.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Cg.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Cg.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var s=Cg.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function gse(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function mse(n,e){if(e===null)return new Date(NaN);var t=n.match(dse);if(!t)return new Date(NaN);var r=!!t[4],s=Hd(t[1]),i=Hd(t[2])-1,a=Hd(t[3]),o=Hd(t[4]),l=Hd(t[5])-1;if(r)return Sse(e,o,l)?_se(e,o,l):new Date(NaN);var u=new Date(0);return!wse(e,i,a)||!Ese(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}function Hd(n){return n?parseInt(n):1}function yse(n){var e=n.match(hse);if(!e)return NaN;var t=Hb(e[1]),r=Hb(e[2]),s=Hb(e[3]);return Cse(t,r,s)?t*B1+r*U1+s*1e3:NaN}function Hb(n){return n&&parseFloat(n.replace(",","."))||0}function vse(n){if(n==="Z")return 0;var e=n.match(fse);if(!e)return 0;var t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Tse(r,s)?t*(r*B1+s*U1):NaN}function _se(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var bse=[31,null,31,30,31,30,31,31,30,31,30,31];function b2(n){return n%400===0||n%4===0&&n%100!==0}function wse(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(bse[e]||(b2(n)?29:28))}function Ese(n,e){return e>=1&&e<=(b2(n)?366:365)}function Sse(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Cse(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Tse(n,e){return e>=0&&e<=59}function ml(n,e){Se(2,arguments);var t=xe(n),r=Et(e),s=t.getFullYear(),i=t.getDate(),a=new Date(0);a.setFullYear(s,r,15),a.setHours(0,0,0,0);var o=d2(a);return t.setMonth(r,Math.min(i,o)),t}function w2(n,e){if(Se(2,arguments),Yi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=xe(n);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=ml(t,e.month)),e.date!=null&&t.setDate(Et(e.date)),e.hours!=null&&t.setHours(Et(e.hours)),e.minutes!=null&&t.setMinutes(Et(e.minutes)),e.seconds!=null&&t.setSeconds(Et(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(Et(e.milliseconds)),t)}function dE(n,e){Se(2,arguments);var t=xe(n),r=Et(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function Ose(n,e){Se(2,arguments);var t=Et(e);return po(n,-t)}function Ise(n,e){Se(2,arguments);var t=Et(e);return hy(n,-t)}function Pse(n,e,t){Se(2,arguments);var r=Ra(n,t),s=Ra(e,t);return r.getTime()===s.getTime()}var xse={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},Rse=function(e,t,r){var s,i=xse[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?s+"":s+"":s},Ase={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},Dse={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},kse={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Nse={date:vc({formats:Ase,defaultWidth:"full"}),time:vc({formats:Dse,defaultWidth:"full"}),dateTime:vc({formats:kse,defaultWidth:"full"})};function Qx(n,e,t){var r="eeee p";return Pse(n,e,t)?r:n.getTime()>e.getTime()?"''"+r:"''"+r}var $se={lastWeek:Qx,yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:Qx,other:"PP p"},Lse=function(e,t,r,s){var i=$se[e];return typeof i=="function"?i(t,r,s):i},Mse={narrow:["",""],abbreviated:["",""],wide:["",""]},Fse={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},jse={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},Vse={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Use={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Bse={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Hse=function(e,t){var r=Number(e);switch(t==null?void 0:t.unit){case"date":return r.toString()+"";case"hour":return r.toString()+"";case"minute":return r.toString()+"";case"second":return r.toString()+"";default:return" "+r.toString()}},zse={ordinalNumber:Hse,era:Ti({values:Mse,defaultWidth:"wide"}),quarter:Ti({values:Fse,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ti({values:jse,defaultWidth:"wide"}),day:Ti({values:Vse,defaultWidth:"wide"}),dayPeriod:Ti({values:Use,defaultWidth:"wide",formattingValues:Bse,defaultFormattingWidth:"wide"})},Kse=/^(\s*)?\d+(|||)?/i,Wse=/\d+/i,Gse={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},Yse={any:[/^()/i,/^()/i]},qse={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},Xse={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},Qse={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},Zse={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},Jse={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},eie={any:[//i,//i,//i,//i,//i,//i,//i]},tie={any:/^(?|?||[]|?||?||)/i},nie={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},rie={ordinalNumber:t2({matchPattern:Kse,parsePattern:Wse,valueCallback:function(e){return parseInt(e,10)}}),era:Oi({matchPatterns:Gse,defaultMatchWidth:"wide",parsePatterns:Yse,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:qse,defaultMatchWidth:"wide",parsePatterns:Xse,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Oi({matchPatterns:Qse,defaultMatchWidth:"wide",parsePatterns:Zse,defaultParseWidth:"any"}),day:Oi({matchPatterns:Jse,defaultMatchWidth:"wide",parsePatterns:eie,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:tie,defaultMatchWidth:"any",parsePatterns:nie,defaultParseWidth:"any"})},G1={code:"zh-CN",formatDistance:Rse,formatLong:Nse,formatRelative:Lse,localize:zse,match:rie,options:{weekStartsOn:1,firstWeekContainsDate:4}};const Zx={code:"zh-CN",dateFnsLocale:G1,Pagination:{pageSize:"${pageSize}",total:"${total}",jumpTo:"",page:""},Modal:{confirm:"",cancel:""},Tabs:{more:""},TimePicker:{placeholder:{time:"",timeRange:""},begin:"",end:"",hour:"",minute:"",second:"",AM:"",PM:""},DatePicker:{placeholder:{date:"",dateTime:"",dateRange:["",""],dateTimeRange:["",""],monthRange:["",""]},presets:"",footer:{confirm:"",cancel:""},selectDate:"",selectTime:"",year:"",month:"",day:"",monthText:"${year} ${month}",months:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",Sun:""},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"",expandText:""},Popconfirm:{confirm:"",cancel:""},Table:{emptyText:"",pageText:" ${currentStart} - ${currentEnd}  ${total} ",descend:"",ascend:"",cancelSort:""},Select:{emptyText:"",createText:""},Cascader:{emptyText:""},Tree:{emptyText:"",searchPlaceholder:""},List:{emptyText:""},Calendar:{allDay:"",AM:"${time}",PM:"${time}",datestring:"",remaining:"${remained}"},Upload:{mainText:"",illegalTips:"",legalTips:"",retry:"",replace:"",clear:"",selectedFiles:"",illegalSize:"",fail:""},TreeSelect:{searchPlaceholder:""},Typography:{copy:"",copied:"",expand:"",collapse:""},Transfer:{emptyLeft:"",emptySearch:"",emptyRight:"",placeholder:"",clear:"",selectAll:"",clearSelectAll:"",total:"${total}",selected:"${total}"},Form:{optional:""},Image:{preview:"",loading:"",loadError:"",prevTip:"",nextTip:"",zoomInTip:"",zoomOutTip:"",rotateTip:"",downloadTip:"",adaptiveTip:"",originTip:""},Chat:{deleteConfirm:"",clearContext:"",copySuccess:"",stop:"",copy:"",copied:"",dropAreaText:""}};class dn extends T.Component{renderChildren(e,t){const{componentName:r}=this.props;let s=e;e!=null&&e.code||(s=Zx);const i=K(Zx,"dateFnsLocale"),a=K(s,"dateFnsLocale",i);return t(s[r],s.code,a)}render(){const{children:e}=this.props;return g.createElement(kr.Consumer,null,t=>{let{locale:r}=t;return g.createElement(cne.Consumer,null,s=>this.renderChildren(r||s,e))})}}dn.propTypes={componentName:c.string.isRequired,children:c.any};dn.defaultProps={componentName:""};const sie="semi";var iie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const E2=g.forwardRef((n,e)=>{const{svg:t,spin:r=!1,rotate:s,style:i,className:a,prefixCls:o=sie,type:l,size:u="default"}=n,d=iie(n,["svg","spin","rotate","style","className","prefixCls","type","size"]),h=A(`${o}-icon`,{[`${o}-icon-extra-small`]:u==="extra-small",[`${o}-icon-small`]:u==="small",[`${o}-icon-default`]:u==="default",[`${o}-icon-large`]:u==="large",[`${o}-icon-extra-large`]:u==="extra-large",[`${o}-icon-spinning`]:r===!0,[`${o}-icon-${l}`]:!!l},a),f={};return Number.isSafeInteger(s)&&(f.transform=`rotate(${s}deg)`),Object.assign(f,i),g.createElement("span",Object.assign({role:"img",ref:e,"aria-label":l,className:h,style:f},d),t)});E2.elementType="Icon";const nt=(n,e)=>{const t=g.forwardRef((r,s)=>g.createElement(E2,Object.assign({svg:g.createElement(n),type:e,ref:s},r)));return t.elementType="Icon",t};function aie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z",fill:"currentColor"}))}const gf=nt(aie,"alert_circle");function oie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.23 2.4-8.7 16.67A2 2 0 0 0 3.3 22h17.4a2 2 0 0 0 1.77-2.93L13.77 2.4a2 2 0 0 0-3.54 0ZM13.14 14a1.15 1.15 0 0 1-2.28 0l-.58-4.03a1.73 1.73 0 1 1 3.44 0l-.58 4.03Zm.36 4.49a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const Y1=nt(oie,"alert_triangle");function lie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20V8h16v12H4ZM2 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm4 6.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2ZM11 15a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Z",fill:"currentColor"}))}const S2=nt(lie,"calendar");function uie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M2 5v14a3 3 0 0 0 3 3h7.1a7.02 7.02 0 0 1-1.43-2H6a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2.67c.75.36 1.43.85 2 1.43V5a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3Z",fill:"currentColor"}),T.createElement("path",{d:"M16 10h1c-.54 0-1.06.06-1.57.18A1 1 0 0 1 16 10Z",fill:"currentColor"}),T.createElement("path",{d:"M13.5 10.94a1 1 0 0 0-1-.94h-1a1 1 0 0 0-1 1v1a1 1 0 0 0 .77.97 7.03 7.03 0 0 1 2.23-2.03Z",fill:"currentColor"}),T.createElement("path",{d:"M7 10a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H7Z",fill:"currentColor"}),T.createElement("path",{d:"M6 16a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-1Z",fill:"currentColor"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-4-2a1 1 0 1 0-2 0v2c0 .27.1.52.3.7l1.5 1.5a1 1 0 0 0 1.4-1.4L18 16.58V15Z",fill:"currentColor"}))}const cie=nt(uie,"calendar_clock");function die(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M5 12.5c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 5 12.5Z",fill:"currentColor"}))}const hie=nt(die,"checkbox_indeterminate");function fie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.41 7.3c.66.51.78 1.45.28 2.11l-6.5 8.5a1.5 1.5 0 0 1-2.37.01l-3.5-4.5a1.5 1.5 0 1 1 2.36-1.84L10 14.54l5.32-6.95a1.5 1.5 0 0 1 2.1-.28Z",fill:"currentColor"}))}const pie=nt(fie,"checkbox_tick");function gie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08 7.6a1.5 1.5 0 0 1 2.12 0l5.66 5.65 5.66-5.65a1.5 1.5 0 1 1 2.12 2.12l-6.72 6.72a1.5 1.5 0 0 1-2.12 0L4.08 9.72a1.5 1.5 0 0 1 0-2.12Z",fill:"currentColor"}))}const Bv=nt(gie,"chevron_down");function mie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.28 4.24a1.5 1.5 0 0 1 0 2.12l-5.66 5.66 5.66 5.65a1.5 1.5 0 1 1-2.12 2.13l-6.72-6.72a1.5 1.5 0 0 1 0-2.12l6.72-6.72a1.5 1.5 0 0 1 2.12 0Z",fill:"currentColor"}))}const C2=nt(mie,"chevron_left");function yie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.44 19.8a1.5 1.5 0 0 1 0-2.13l5.66-5.65-5.66-5.66a1.5 1.5 0 1 1 2.12-2.12l6.72 6.72a1.5 1.5 0 0 1 0 2.12L9.56 19.8a1.5 1.5 0 0 1-2.12 0Z",fill:"currentColor"}))}const T2=nt(yie,"chevron_right");function vie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.64 16.44a1.5 1.5 0 0 1-2.12 0l-5.66-5.66-5.66 5.66a1.5 1.5 0 1 1-2.12-2.12L10.8 7.6a1.5 1.5 0 0 1 2.12 0l6.72 6.72a1.5 1.5 0 0 1 0 2.12Z",fill:"currentColor"}))}const _ie=nt(vie,"chevron_up");function bie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.04-6.14a1.5 1.5 0 0 1-2.13.04l-2.87-2.78L9.26 17A1.5 1.5 0 0 1 7.1 14.9l2.78-2.87L7 9.26A1.5 1.5 0 1 1 9.1 7.1l2.87 2.78L14.74 7A1.5 1.5 0 0 1 16.9 9.1l-2.78 2.87L17 14.74c.6.58.61 1.53.04 2.12Z",fill:"currentColor"}))}const Wo=nt(bie,"clear");function wie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm1.5-16.5v4.88l3.56 3.56a1.5 1.5 0 0 1-2.12 2.12l-4-4A1.5 1.5 0 0 1 10.5 12V6.5a1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const O2=nt(wie,"clock");function Eie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M17.66 19.78a1.5 1.5 0 0 0 2.12-2.12L14.12 12l5.66-5.66a1.5 1.5 0 0 0-2.12-2.12L12 9.88 6.34 4.22a1.5 1.5 0 1 0-2.12 2.12L9.88 12l-5.66 5.66a1.5 1.5 0 0 0 2.12 2.12L12 14.12l5.66 5.66Z",fill:"currentColor"}))}const Hv=nt(Eie,"close");function Sie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M7 4c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-1V8c0-2-1-3-3-3H7V4Z",fill:"currentColor"}),T.createElement("path",{d:"M5 7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H5Z",fill:"currentColor"}))}const Cie=nt(Sie,"copy");function Tie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.62 4.4c.5.53.5 1.38 0 1.91L7.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.33.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.62 4.4c.5.53.5 1.38 0 1.91L14.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.34.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}))}const Oie=nt(Tie,"double_chevron_left");function Iie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.38 4.4c.51-.53 1.34-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L9.86 12 4.38 6.31a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.38 4.4c.51-.53 1.33-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L16.86 12l-5.48-5.69a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}))}const Pie=nt(Iie,"double_chevron_right");function xie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7 3.7a1 1 0 0 0-1.4-1.4L17.3 5.26A11.59 11.59 0 0 0 12 4C5 4 1 10 1 12c0 1.18 1.38 3.73 3.94 5.64L2.3 20.3a1 1 0 1 0 1.42 1.42l18-18ZM7.84 14.77l1.46-1.47a3 3 0 0 1 4-4l1.47-1.46a5 5 0 0 0-6.93 6.93Z",fill:"currentColor"}),T.createElement("path",{d:"M12 20c-1.22 0-2.35-.18-3.38-.5l2.57-2.57a5 5 0 0 0 5.75-5.75l3.56-3.56C22.13 9.27 23 11.07 23 12c0 2-4 8-11 8Z",fill:"currentColor"}))}const Rie=nt(xie,"eye_closed_solid");function Aie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12s4 8 11 8 11-6 11-8-4-8-11-8Zm5 8a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-5 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",fill:"currentColor"}))}const Die=nt(Aie,"eye_opened");function kie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a1 1 0 0 0-1-1H6a2 2 0 0 0-2 2v18c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V10a1 1 0 0 0-1-1h-5a2 2 0 0 1-2-2V2ZM7 8a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H8a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm1 4a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2H8Zm11.07-9.5H14.5a1 1 0 0 1-1-1V1.93a.8.8 0 0 1 1.37-.56l4.76 4.76a.8.8 0 0 1-.56 1.37Z",fill:"currentColor"}))}const hE=nt(kie,"file");function Nie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M5 2a3 3 0 0 0-3 3v3h20c0-2-1-4-3-4h-6.45a3 3 0 0 1-1.87-.66l-1.13-.9A2 2 0 0 0 8.3 2H5Z",fill:"currentColor"}),T.createElement("path",{d:"M22 10H2v9a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-9Z",fill:"currentColor"}))}const $ie=nt(Nie,"folder");function Lie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h3.3a2 2 0 0 1 1.25.44l1.13.9a3 3 0 0 0 1.87.66H18c2 0 3 2 3 4H7.53A2 2 0 0 0 5.6 9.48L2.57 20.76C2.21 20.26 2 19.66 2 19V5Zm20.17 5H9.5a2 2 0 0 0-1.92 1.44l-2.7 9.28A1 1 0 0 0 5.82 22H18.5a2 2 0 0 0 1.92-1.44l2.7-9.28a1 1 0 0 0-.95-1.28Z",fill:"currentColor"}))}const Mie=nt(Lie,"folder_open");function Fie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M9 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),T.createElement("path",{d:"M9 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),T.createElement("path",{d:"M11 19a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),T.createElement("path",{d:"M15 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),T.createElement("path",{d:"M17 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),T.createElement("path",{d:"M15 21a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}))}const jie=nt(Fie,"handle");function Vie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm-.17-8.4c-.86 0-1.3-.53-1.3-1.23 0-1.05.53-1.72 1.74-2.64l.06-.05c.83-.62 1.4-1.06 1.4-1.85 0-.9-.83-1.4-1.76-1.4-.76 0-1.34.28-1.8.87-.33.34-.6.53-1.05.53C8.38 8.83 8 8.3 8 7.7c0-.6.34-1.22.88-1.68A5.15 5.15 0 0 1 12.28 5c2.71 0 4.62 1.34 4.62 3.64 0 1.68-1 2.5-2.2 3.31-.8.59-1.17.93-1.48 1.62-.33.6-.58 1.04-1.4 1.04Zm-.02 4.17c-.94 0-1.71-.6-1.71-1.54 0-.94.77-1.55 1.7-1.55.95 0 1.7.6 1.7 1.55 0 .93-.75 1.54-1.7 1.54Z",fill:"currentColor"}))}const Uie=nt(Vie,"help_circle");function Bie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm2-16a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-5 3.75c0-.41.34-.75.75-.75h2.75a1 1 0 0 1 1 1v5.5h.75a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h.75v-5h-.75a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}const I2=nt(Bie,"info_circle");function Hie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))}const zie=nt(Hie,"radio");function Kie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 12a7.5 7.5 0 0 1 13.8-4.07l-2-.4a1.5 1.5 0 0 0-.6 2.94l5 1c.76.15 1.51-.3 1.74-1.04l1.5-5a1.5 1.5 0 1 0-2.88-.86l-.43 1.45A10.49 10.49 0 0 0 1.5 12a10.5 10.5 0 0 0 20.4 3.5 1.5 1.5 0 1 0-2.83-1A7.5 7.5 0 0 1 4.5 12Z",fill:"currentColor"}))}const Wie=nt(Kie,"refresh");function Gie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2a8.5 8.5 0 1 0 4.86 15.48l4.08 4.08a1.5 1.5 0 1 0 2.12-2.12l-4.08-4.08A8.5 8.5 0 0 0 10.5 2ZM5 10.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0Z",fill:"currentColor"}))}const P2=nt(Gie,"search");function Yie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"M10.75 1.9c.4-1.2 2.1-1.2 2.5 0l1.99 6.12h6.45a1.3 1.3 0 0 1 .77 2.37l-5.22 3.78 2 6.11c.39 1.2-1 2.2-2.02 1.46L12 17.96l-5.22 3.78c-1.02.75-2.4-.25-2.01-1.46l1.99-6.11-5.22-3.78a1.3 1.3 0 0 1 .77-2.37h6.45l2-6.12Z",fill:"currentColor"}))}const qie=nt(Yie,"star");function Xie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.35 4.27c.68.47.86 1.4.38 2.08l-10 14.5a1.5 1.5 0 0 1-2.33.17l-6.5-7a1.5 1.5 0 0 1 2.2-2.04l5.23 5.63 8.94-12.96a1.5 1.5 0 0 1 2.08-.38Z",fill:"currentColor"}))}const zv=nt(Xie,"tick");function Qie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.88-13.18-6.2 7.6a1.5 1.5 0 0 1-2.37 0l-3.5-4a1.5 1.5 0 1 1 2.37-1.84l2.3 2.46L15.5 8a1.5 1.5 0 1 1 2.38 1.82Z",fill:"currentColor"}))}const x2=nt(Qie,"tick_circle");function Zie(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{d:"m20.56 9.66-7.8 8.97a1 1 0 0 1-1.51 0L3.44 9.66A1 1 0 0 1 4.19 8h15.62a1 1 0 0 1 .75 1.66Z",fill:"currentColor"}))}const Jie=nt(Zie,"tree_triangle_down");function eae(n){return T.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.84 8.06A6.5 6.5 0 1 0 5.18 11 4.5 4.5 0 0 0 5.5 20H17a6 6 0 0 0 .84-11.94Zm-5.52.2a.5.5 0 0 0-.64 0l-5.15 4.3a.25.25 0 0 0 .16.44H10v4.5c0 .28.22.5.5.5h3a.5.5 0 0 0 .5-.5V13h3.31c.23 0 .34-.3.16-.44l-5.15-4.3Z",fill:"currentColor"}))}const tae=nt(eae,"upload"),Nn={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,UP:38,DOWN:40},q1="Enter",R2="Escape";function $s(n){return K(n,"key")===q1}const zb=Lv.PREFIX;class X1 extends g.PureComponent{constructor(e){super(e),this.copy=t=>{const{content:r,duration:s,onCopy:i}=this.props,a=une(r);i&&i(t,r,a),this.setCopied(r,s)},this.setCopied=(t,r)=>{this.setState({copied:!0,item:t}),this._timeId=setTimeout(()=>{this.resetCopied()},r*1e3)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:t}=this.props;return typeof t<"u"?t:g.createElement(dn,{componentName:"Typography"},r=>g.createElement("span",null,g.createElement(zv,null),r.copied))},this.renderCopyIcon=()=>{const{icon:t}=this.props,r={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:i=>$s(i)&&this.copy(i)},s=g.createElement("a",{className:`${zb}-action-copy-icon`},g.createElement(Cie,Object.assign({onClick:this.copy},r)));return g.isValidElement(t)?g.cloneElement(t,r):s},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:r,copyTip:s,render:i}=this.props,{copied:a}=this.state,o=A(t,{[`${zb}-action-copy`]:!a,[`${zb}-action-copied`]:a});return i?i(a,this.copy,this.props):g.createElement(dn,{componentName:"Typography"},l=>g.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:o,ref:r},a?this.renderSuccessTip():g.createElement(fr,{content:typeof s<"u"?s:l.copy},this.renderCopyIcon())))}}X1.propTypes={content:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node,duration:c.number,style:c.object,className:c.string,icon:c.node};X1.defaultProps={content:"",onCopy:gt,duration:3,style:{},className:""};const A2={PREFIX:`${Y}-popover`,ARROW:`${Y}-popover-icon-arrow`},xl={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},is={ARROW_BOUNDING:Object.assign(Object.assign({},ol.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030};var nae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const D2=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{position:e="",className:t,arrowStyle:r,popStyle:s}=n,i=nae(n,["position","className","arrowStyle","popStyle"]),a=e.indexOf("top")===0||e.indexOf("bottom")===0,o=A(t,A2.ARROW),l=K(r,"borderOpacity",xl.DEFAULT_ARROW_STYLE.borderOpacity),u=K(r,"backgroundColor",K(s,"backgroundColor",xl.DEFAULT_ARROW_STYLE.backgroundColor)),d=K(r,"borderColor",K(s,"borderColor",xl.DEFAULT_ARROW_STYLE.borderColor)),h=Object.assign(Object.assign({},i),{width:is.ARROW_BOUNDING.width,height:is.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:o});return a?g.createElement("svg",Object.assign({},h),g.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:d,opacity:l}),g.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:u})):g.createElement("svg",Object.assign({},h),g.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:d,opacity:l}),g.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:u}))};D2.propTypes={position:c.string,className:c.string,arrowStyle:c.object,popStyle:c.object};var rae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const sae=xl.POSITION_SET,iae=xl.TRIGGER_SET;class yr extends g.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var t;(t=this.tooltipRef.current)===null||t===void 0||t.focusTrigger()},this.renderPopCard=t=>{let{initialFocusRef:r}=t;const{content:s,contentClassName:i,prefixCls:a}=this.props,{direction:o}=this.context,l=A(a,i,{[`${a}-rtl`]:o==="rtl"}),u=this.renderContentNode({initialFocusRef:r,content:s});return g.createElement("div",{className:l},g.createElement("div",{className:`${a}-content`},u))},this.renderContentNode=t=>{const{initialFocusRef:r,content:s}=t,i={initialFocusRef:r};return Te(s)?s(i):s},this.tooltipRef=g.createRef()}render(){const e=this.props,{children:t,prefixCls:r,showArrow:s,arrowStyle:i={},arrowBounding:a,position:o,style:l,trigger:u}=e,d=rae(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:h}=this.props;const f={position:o,className:"",popStyle:l,arrowStyle:i},p=s?g.createElement(D2,Object.assign({},f)):!1;ct(h)&&(h=s?is.SPACING_WITH_ARROW:is.SPACING);const _=u==="click"||u==="custom"?"dialog":"tooltip";return g.createElement(fr,Object.assign({guardFocus:!0,ref:this.tooltipRef},d,{trigger:u,position:o,style:l,content:this.renderPopCard,prefixCls:r,spacing:h,showArrow:p,arrowBounding:a,role:_}),t)}}yr.contextType=kr;yr.propTypes={children:c.node,content:c.oneOfType([c.node,c.func]),visible:c.bool,autoAdjustOverflow:c.bool,motion:c.bool,position:c.oneOf(sae),margin:c.oneOfType([c.number,c.object]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(iae).isRequired,contentClassName:c.oneOfType([c.string,c.array]),onVisibleChange:c.func,onClickOutSide:c.func,style:c.object,spacing:c.oneOfType([c.number,c.object]),zIndex:c.number,showArrow:c.bool,arrowStyle:c.shape({borderColor:c.string,backgroundColor:c.string,borderOpacity:c.oneOfType([c.string,c.number])}),arrowPointAtCenter:c.bool,arrowBounding:c.object,prefixCls:c.string,guardFocus:c.bool,disableArrowKeyDown:c.bool};yr.__SemiComponentName__="Popover";yr.defaultProps=ds(yr.__SemiComponentName__,{arrowBounding:is.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:is.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:A2.PREFIX,onClickOutSide:k,onEscKeyDown:k,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});let $t;function Kb(n){if(!n)return 0;const e=n.match(/^\d*(\.\d*)?/);return e?Number(e[0]):0}function aae(n){return Array.prototype.slice.apply(n).map(t=>`${t}: ${n.getPropertyValue(t)};`).join("")}const oae=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,o=arguments.length>7?arguments[7]:void 0;if(t.length===0)return"";$t||($t=document.createElement("div"),$t.setAttribute("aria-hidden","true"),document.body.appendChild($t));const l=window.getComputedStyle(n),u=aae(l),d=Kb(l.lineHeight),h=Math.round(d*(e+1)+Kb(l.paddingTop)+Kb(l.paddingBottom));$t.setAttribute("style",u),$t.style.position="fixed",$t.style.left="0",l.getPropertyValue("width")==="auto"&&($t.style.width=`${n.offsetWidth}px`),$t.style.height="auto",$t.style.top="-999999px",$t.style.zIndex="-1000",o&&($t.style.fontWeight="600"),$t.style.textOverflow="clip",$t.style.webkitLineClamp="none",Pr.render(g.createElement(g.Fragment,null),$t);function f(){const w=$t.scrollWidth<=$t.offsetWidth,E=$t.scrollHeight<h;return e===1?w&&E:E}const p=document.createElement("span"),_=document.createTextNode(t);if(p.appendChild(_),i.length>0){const w=document.createTextNode(i);p.appendChild(w)}$t.appendChild(p),Object.values(Ko(r,"expand")).map(w=>w&&$t.appendChild(w.cloneNode(!0)));function m(){$t.innerHTML="",$t.appendChild(p),Object.values(r).map(w=>w&&$t.appendChild(w.cloneNode(!0)))}function v(w,E){const S=w.length;return E?a==="end"?w.slice(0,E)+s:w.slice(0,E)+s+w.slice(S-E,S):s}function y(w,E){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E.length,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const I=Math.floor((S+C)/2),P=v(E,I);if(w.textContent=P,S>=C-1&&C>0)for(let x=C;x>=S;x-=1){const D=v(E,x);if(w.textContent=D,f())return D}else if(C===0)return s;return f()?y(w,E,I,C,I):y(w,E,S,I,O)}let b=t;return f()||(m(),b=y(_,t,0,a==="middle"?Math.floor(t.length/2):t.length)),$t.innerHTML="",b},k2=g.createContext("normal");var vy;(function(n){n.Width="width",n.Height="height",n.All="all"})(vy||(vy={}));class Oo extends we{constructor(e){var t;super(e),t=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return Os.findDOMNode(this.childNode||this)}catch{return null}},this.handleResizeEventTriggered=r=>{var s,i,a,o;if(this.props.observerProperty===vy.All)(i=(s=this.props).onResize)===null||i===void 0||i.call(s,r);else{const l=[];for(const u of r)this.formerPropertyValue.has(u.target)?u.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(u.target)&&(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u)):(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u));l.length>0&&((o=(a=this.props).onResize)===null||o===void 0||o.call(a,l))}},this.observeElement=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const s=t.getElement();if(t.observer||(t.observer=new ResizeObserver(t.handleResizeEventTriggered)),!(s&&s instanceof Element)){t.observer.disconnect();return}s===t.element&&!r||(t.observer.disconnect(),t.element=s,t.observer.observe(s),t.props.observeParent&&s.parentNode&&s.parentNode.ownerDocument&&s.parentNode.ownerDocument.defaultView&&s.parentNode instanceof s.parentNode.ownerDocument.defaultView.HTMLElement&&(t._parentNode=s.parentNode,t.observer.observe(t._parentNode)))},this.mergeRef=(r,s)=>{this.childNode=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;(e=this.observeElement)===null||e===void 0||e.call(this)}componentDidUpdate(e){var t;(t=this.observeElement)===null||t===void 0||t.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){const e=g.Children.only(this.props.children),{ref:t}=e;return g.cloneElement(e,{ref:r=>this.mergeRef(t,r)})}}Oo.propTypes={onResize:c.func,observeParent:c.bool,observerProperty:c.string,delayTick:c.number};Oo.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0};var Wb=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})},lae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Rn=Lv.PREFIX,uae="...",cae=(n,e)=>{const{mark:t,code:r,underline:s,strong:i,link:a,disabled:o}=n;let l=e;const u=(d,h)=>{let f={};d&&(typeof d=="object"&&(f=Object.assign({},d)),l=g.createElement(h,f,l))};return u(t,"mark"),u(r,"code"),u(s&&!a,"u"),u(i,"strong"),u(n.delete,"del"),u(a,o?"span":"a"),l};class hu extends T.Component{constructor(e){super(e),this.observerTakingEffect=!1,this.onResize=t=>Wb(this,void 0,void 0,function*(){return this.rafId&&window.cancelAnimationFrame(this.rafId),new Promise(r=>{this.rafId=window.requestAnimationFrame(()=>Wb(this,void 0,void 0,function*(){yield this.getEllipsisState(),r()}))})}),this.canUseCSSEllipsis=()=>{const{copyable:t}=this.props,{expandable:r,expandText:s,pos:i,suffix:a}=this.getEllipsisOpt();return!r&&dt(s)&&!t&&i==="end"&&!a.length},this.shouldTruncated=t=>!t||t<1?!1:t<=1?this.compareSingleRow():this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight,this.compareSingleRow=()=>{if(!(document&&document.createRange))return!1;const t=this.wrapperRef.current,r=t.getBoundingClientRect().width,s=Array.from(t.childNodes),i=document.createRange(),a=s.reduce((o,l)=>{var u;return i.selectNodeContents(l),o+((u=i.getBoundingClientRect().width)!==null&&u!==void 0?u:0)},0);return i.detach(),a>r},this.showTooltip=()=>{var t,r;const{isOverflowed:s,isTruncated:i,expanded:a}=this.state,{showTooltip:o,expandable:l,expandText:u}=this.getEllipsisOpt(),d=this.canUseCSSEllipsis(),h=!a&&(d?s:i),p=!l&&dt(u)&&h&&o;if(!p)return p;const _={type:"tooltip"};return typeof o=="object"?o.type&&o.type.toLowerCase()==="popover"?Bq({opts:{showArrow:!0}},o,{opts:{className:A({[`${Rn}-ellipsis-popover`]:!0,[(t=o==null?void 0:o.opts)===null||t===void 0?void 0:t.className]:!!(!((r=o==null?void 0:o.opts)===null||r===void 0)&&r.className)})}}):Object.assign(Object.assign({},_),o):_},this.onHover=()=>{if(this.canUseCSSEllipsis()){const{rows:r,suffix:s,pos:i}=this.getEllipsisOpt(),a=this.shouldTruncated(r);this.setState({isOverflowed:a,isTruncated:!1});return}},this.getEllipsisState=()=>Wb(this,void 0,void 0,function*(){const{rows:t,suffix:r,pos:s}=this.getEllipsisOpt(),{children:i,strong:a}=this.props;if(!this.wrapperRef||!this.wrapperRef.current){yield this.onResize();return}const{expanded:o}=this.state;if(this.canUseCSSEllipsis())return;if(Hl(i))return new Promise(f=>{this.setState({isTruncated:!1,isOverflowed:!1},f)});if(kt("children"in this.props&&typeof i!="string","[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!t||t<0||o)return;const u={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},d=Array.isArray(i)?i.join(""):String(i),h=oae(this.wrapperRef.current,t,d,u,uae,r,s,a);return new Promise(f=>{this.setState({isOverflowed:!1,ellipsisContent:h,isTruncated:d!==h},f)})}),this.toggleOverflow=t=>{const{onExpand:r,expandable:s,collapsible:i}=this.getEllipsisOpt(),{expanded:a}=this.state;r&&r(!a,t),(s&&!a||i&&a)&&this.setState({expanded:!a})},this.getEllipsisOpt=()=>{const{ellipsis:t}=this.props;return t?Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:t.expandable?this.expandStr:void 0,collapseText:t.collapsible?this.collapseStr:void 0},typeof t=="object"?t:null):{}},this.renderExpandable=()=>{const{expanded:t,isTruncated:r}=this.state;if(!r)return null;const{expandText:s,expandable:i,collapseText:a,collapsible:o}=this.getEllipsisOpt(),l=!i&&dt(s),u=!o&&dt(a);let d;return!t&&!l?d=s:t&&!u&&(d=a),!l||!u?g.createElement("a",{role:"button",tabIndex:0,className:`${Rn}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":d,onClick:this.toggleOverflow,onKeyPress:h=>$s(h)&&this.toggleOverflow(h)},d):null},this.getEllipsisStyle=()=>{const{ellipsis:t,component:r}=this.props;if(!t)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:s}=this.getEllipsisOpt(),{expanded:i}=this.state,a=!i&&this.canUseCSSEllipsis(),o=A({[`${Rn}-ellipsis`]:!0,[`${Rn}-ellipsis-single-line`]:s===1,[`${Rn}-ellipsis-multiple-line`]:s>1,[`${Rn}-ellipsis-multiple-line-text`]:s>1&&r==="span",[`${Rn}-ellipsis-overflow-ellipsis`]:s===1&&a,[`${Rn}-ellipsis-overflow-ellipsis-text`]:s===1&&a&&r==="span"}),l=a&&s>1?{WebkitLineClamp:s}:{};return{ellipsisCls:o,ellipsisStyle:l}},this.renderEllipsisText=t=>{const{suffix:r}=t,{children:s}=this.props,{isTruncated:i,expanded:a,ellipsisContent:o}=this.state;return a||!i?g.createElement("span",{onMouseEnter:this.onHover},s,r&&r.length?r:null):g.createElement("span",{onMouseEnter:this.onHover},o,r)},this.state={editable:!1,copied:!1,isOverflowed:!1,ellipsisContent:e.children,expanded:!1,isTruncated:!1,prevChildren:null},this.wrapperRef=g.createRef(),this.expandRef=g.createRef(),this.copyRef=g.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize().then(()=>j1(()=>this.observerTakingEffect=!0,1))}static getDerivedStateFromProps(e,t){const{prevChildren:r}=t,s={};return s.prevChildren=e.children,e.ellipsis&&r!==e.children&&(s.isOverflowed=!1,s.ellipsisContent=e.children,s.expanded=!1,s.isTruncated=!0),s}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}renderOperations(){return g.createElement(g.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:r}=this.props;if(!t)return null;const s=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:r;let i,a=!1;Array.isArray(s)?(i="",s.forEach(l=>{typeof l=="object"&&(a=!0),i+=String(l)})):(typeof s!="object"||(a=!0),i=String(s)),kt(a,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const o=Object.assign({content:i,duration:3},typeof t=="object"?t:null);return g.createElement(X1,Object.assign({},o,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props,r=t==="inherit"?this.context:t;if(!e)return null;const s=r==="small"?"small":"default";return g.createElement("span",{className:`${Rn}-icon`,"x-semi-prop":"icon"},dr(e)?g.cloneElement(e,{size:s}):e)}renderContent(){const e=this.props,{component:t,children:r,className:s,type:i,spacing:a,disabled:o,style:l,ellipsis:u,icon:d,size:h,link:f,heading:p,weight:_}=e,m=lae(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),v=Ko(m,["strong","editable","mark","copyable","underline","code","delete"]),y=h==="inherit"?this.context:h,b=this.renderIcon(),w=this.getEllipsisOpt(),{ellipsisCls:E,ellipsisStyle:S}=this.getEllipsisStyle();let C=u?this.renderEllipsisText(w):r;const O=A({[`${Rn}-link-text`]:f,[`${Rn}-link-underline`]:this.props.underline&&f});C=cae(this.props,g.createElement(g.Fragment,null,b,this.props.link?g.createElement("span",{className:O},C):C));const I=/^h[1-6]$/,P=Oe(p)&&I.test(p),x=A(s,E,{[`${Rn}-${i}`]:i&&!f,[`${Rn}-${y}`]:y,[`${Rn}-link`]:f,[`${Rn}-disabled`]:o,[`${Rn}-${a}`]:a,[`${Rn}-${p}`]:P,[`${Rn}-${p}-weight-${_}`]:P&&_&&isNaN(Number(_))}),D=Object.assign(Object.assign({},isNaN(Number(_))?{}:{fontWeight:_}),l);return g.createElement(Mv,Object.assign({className:x,style:Object.assign(Object.assign({},D),S),component:t,forwardRef:this.wrapperRef},v),C,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),r=this.renderContent();if(t){const{type:s,opts:i,renderTooltip:a}=t;return Te(a)?a(e,r):s.toLowerCase()==="popover"?g.createElement(yr,Object.assign({content:e,position:"top"},i),r):g.createElement(fr,Object.assign({content:e,position:"top"},i),r)}else return r}render(){var e=this;const{size:t}=this.props,r=t==="inherit"?this.context:t,s=g.createElement(k2.Provider,{value:r},g.createElement(dn,{componentName:"Typography"},i=>(this.expandStr=i.expand,this.collapseStr=i.collapse,this.renderTipWrapper())));return this.props.ellipsis?g.createElement(Oo,{onResize:function(){e.observerTakingEffect&&e.onResize(...arguments)},observeParent:!0,observerProperty:vy.Width},s):s}}hu.propTypes={children:c.node,copyable:c.oneOfType([c.shape({text:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node}),c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.shape({rows:c.number,expandable:c.bool,expandText:c.string,onExpand:c.func,suffix:c.string,showTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),collapsible:c.bool,collapseText:c.string,pos:c.oneOf(["end","middle"])}),c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),spacing:c.oneOf(hr.SPACING),strong:c.bool,size:c.oneOf(hr.SIZE),type:c.oneOf(hr.TYPE),style:c.object,className:c.string,icon:c.oneOfType([c.node,c.string]),heading:c.string,component:c.string};hu.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""};hu.contextType=k2;let Kv=class extends T.PureComponent{render(){return g.createElement(hu,Object.assign({component:"span"},this.props))}};Kv.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(hr.TYPE),size:c.oneOf(hr.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string,weight:c.number};Kv.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};var dae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let Q1=class extends T.PureComponent{render(){const e=this.props,{heading:t}=e,r=dae(e,["heading"]),s=hr.HEADING.indexOf(t)!==-1?`h${t}`:"h1";return g.createElement(hu,Object.assign({component:s,heading:s},r))}};Q1.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(hr.TYPE),heading:c.oneOf(hr.HEADING),style:c.object,className:c.string,component:c.string,weight:c.oneOfType([c.oneOf(hr.WEIGHT),c.number])};Q1.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};const hae=Lv.PREFIX;class Wv extends T.PureComponent{render(){const{className:e}=this.props,t=A(e,`${hae}-paragraph`);return g.createElement(hu,Object.assign({component:"p"},this.props,{className:t}))}}Wv.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(hr.TYPE),size:c.oneOf(hr.SIZE),spacing:c.oneOf(hr.SPACING),style:c.object,className:c.string,component:c.string};Wv.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};class fae{constructor(e,t,r,s,i){this.ruleMethods={"bytes-decimal":a=>{const o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let l=0;for(;a>=1e3;)a/=1e3,l++;return`${this.truncatePrecision(a)} ${o[l]}`},"bytes-binary":a=>{const o=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let l=0;for(;a>=1024;)a/=1024,l++;return`${this.truncatePrecision(a)} ${o[l]}`},percentages:a=>`${this.truncatePrecision(a*100)}%`,exponential:a=>{const l=a.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(l[0]))}e${l[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=typeof i<"u",this.content=e,this.rule=t,this.precision=r,this.truncate=s,this.parser=i}format(){return this.isDiyParser?this.parser(this.content):this.rule==="text"?Gb(this.content).map(e=>Yb(e)?this.truncatePrecision(e):e).join(""):this.rule==="numbers"?Gb(this.content).filter(e=>Yb(e)).map(e=>this.truncatePrecision(e)).join(","):Gb(this.content).map(e=>Yb(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=t.toString().split(".");if(r.length===1)return t.toFixed(this.precision);const s=r[1].length;return s<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-s)}`:t.toString()}}function Gb(n){const e=/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g;return n.match(e)||[]}function Yb(n){return!(isNaN(Number(n))||n.replace(/\s+/g,"")==="")}class Z1 extends T.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),e=e.map(t=>typeof t=="string"||typeof t=="number"?new fae(String(t),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():typeof t=="function"?this.formatNodeDFS(t()):typeof t=="object"&&"children"in t.props?Object.assign(Object.assign({},t),{props:Object.assign(Object.assign({},t.props),{children:this.formatNodeDFS(t.props.children)})}):t),e.length===1?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),g.createElement(hu,Object.assign({component:"span"},e))}}Z1.propTypes={rule:c.oneOf(hr.RULE),precision:c.number,truncate:c.oneOf(hr.TRUNCATE),parser:c.func,copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(hr.TYPE),size:c.oneOf(hr.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string};Z1.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const Nr=Mv;Nr.Text=Kv;Nr.Title=Q1;Nr.Paragraph=Wv;Nr.Numeral=Z1;const N2={PREFIX:`${Y}-autocomplete`,PREFIX_OPTION:`${Y}-autocomplete-option`},J1={SIZE:["small","large","default"],POSITION:Pl.POSITION_SET,STATUS:fd};var pae=fi,gae=Yr,mae="[object Number]";function yae(n){return typeof n=="number"||gae(n)&&pae(n)==mae}var $2=yae;const jt=ge($2);class vae extends Pe{constructor(e){super(Object.assign({},e)),this.isPanelOpen=!1}init(){this._setDropdownWidth();const{defaultOpen:e,data:t,defaultValue:r,value:s}=this.getProps();if(t&&t.length){const a=this._generateList(t);this._adapter.updateOptionList(a)}e&&this.openDropdown();let i;typeof r<"u"&&(i=r),typeof s<"u"&&(i=s),typeof i<"u"&&this.handleValueChange(i)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&jt(e.width)||e&&Oe(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}handleInputClick(e){const{options:t}=this.getStates(),{disabled:r}=this.getProps();r||(this.isPanelOpen?this.closeDropdown():this.openDropdown())}openDropdown(){this.isPanelOpen=!0,this._adapter.toggleListVisible(!0),this._setDropdownWidth(),this._adapter.registerClickOutsideHandler(e=>this.closeDropdown(e)),this._adapter.notifyDropdownVisibleChange(!0),this._modifyFocusIndexOnPanelOpen()}closeDropdown(e){this.isPanelOpen=!1,this._adapter.toggleListVisible(!1),this._adapter.unregisterClickOutsideHandler(),this._adapter.notifyDropdownVisibleChange(!1)}_generateList(e){const{renderItem:t}=this.getProps(),r=[];return e&&e.length&&e.forEach((s,i)=>{const a=String(new Date().getTime())+i;let o={};Oe(s)||jt(s)?o={value:s,key:a,label:s,show:!0}:Pa(s)&&!dt(s.value)&&(o=Object.assign({show:!0},s)),t&&typeof t=="function"&&(o.label=t(s)),r.push(o)}),r}handleSearch(e){this._adapter.updateInputValue(e),this._adapter.notifySearch(e),this._adapter.notifyChange(e),this._modifyFocusIndex(e),this.isPanelOpen||this.openDropdown()}handleSelect(e,t){const{renderSelectedItem:r}=this.getProps();let s="";r&&typeof r=="function"?(s=r(e),kt(typeof s!="string","Warning: [Semi AutoComplete] renderSelectedItem must return string, please check your function return")):s=e.value,this._isControlledComponent()?(this.closeDropdown(),this.notifySelect(e)):(this._adapter.updateInputValue(s),this.updateSelection(e),this.notifySelect(e),this.closeDropdown()),this._adapter.notifyChange(s),this._adapter.updateFocusIndex(t)}updateSelection(e){const t=new Map;e&&t.set(e.label,e),this._adapter.updateSelection(t)}notifySelect(e){this._backwardLabelInValue()?this._adapter.notifySelect(e):this._adapter.notifySelect(e.value)}_backwardLabelInValue(){const e=this.getProps();let{onSelectWithObject:t}=e;return t}handleDataChange(e){const t=this._generateList(e);this._adapter.updateOptionList(t),this._adapter.rePositionDropdown()}handleValueChange(e){let{data:t,defaultActiveFirstOption:r}=this.getProps(),s="";this._backwardLabelInValue()&&Object.prototype.toString.call(e)==="[object Object]"?s=e.value:s=e;let i=this._getRenderSelectedItem();const a=this._generateList(t);let o=a.length?a.filter(h=>i(h)===s):[];const l=o.length,u=a.findIndex(h=>i(h)===s);let d="";if(l)o=o[0],d=i(o);else{const h=this._backwardLabelInValue()?e:{label:s,value:s};d=i(h)}this._adapter.updateInputValue(d),this.updateSelection(l?o:null),u===-1&&r?this._adapter.updateFocusIndex(0):this._adapter.updateFocusIndex(u)}_modifyFocusIndex(e){let{focusIndex:t}=this.getStates(),{data:r,defaultActiveFirstOption:s}=this.getProps(),i=-1;if(e){let a=this._getRenderSelectedItem();i=this._generateList(r).findIndex(l=>a(l)===e)}i===-1&&s?t!==0&&this._adapter.updateFocusIndex(0):i!==t&&this._adapter.updateFocusIndex(i)}_modifyFocusIndexOnPanelOpen(){let{inputValue:e}=this.getStates();this._modifyFocusIndex(e)}_getRenderSelectedItem(){let{renderSelectedItem:e}=this.getProps();return typeof e>"u"&&(e=t=>t==null?void 0:t.value),e}handleClear(){this._adapter.notifyClear()}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}_handleKeyDown(e){const t=e.keyCode,{visible:r}=this.getStates();switch(t){case Nn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Nn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Nn.ENTER:e.preventDefault(),this._handleEnterKeyDown();break;case Nn.ESC:this.closeDropdown();break;case Nn.TAB:this.closeDropdown();break}this._adapter.notifyKeyDown(e)}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(o=>o.show),i=s.length;let a=t+e;if(a<0&&(a=i-1),a>=i&&(a=0),e>0){let o=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){const{visible:t}=this.getStates();t?this._getEnableFocusIndex(e):this.openDropdown()}_handleEnterKeyDown(){const{visible:e,options:t,focusIndex:r}=this.getStates();if(!e)this.openDropdown();else if(r!==void 0&&r!==-1&&t.length!==0){const i=t.filter(a=>a.show)[r];this.handleSelect(i,r)}else this.closeDropdown()}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleFocus(e){this.bindKeyBoardEvent(),this._adapter.notifyFocus(e)}handleBlur(e){this._persistEvent(e),this._adapter.notifyBlur(e)}}const _ae=`${Y}-spin`,bae={PREFIX:_ae},wae={SIZE:["small","middle","large"]};class eT extends Pe{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},eT.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:r}=this._adapter.getStates();if(r){const s=this;this._timer=setTimeout(()=>{s._adapter.setState({loading:e,delay:0})},t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var Eae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let Jx=-1;function L2(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:e,className:t}=n,r=Eae(n,["id","className"]);let s=e;ct(s)&&(Jx++,s=Jx);const i=`linearGradient-${s}`;return g.createElement("svg",Object.assign({},r,{className:t,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),g.createElement("defs",null,g.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:i},g.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),g.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),g.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),g.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),g.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${i})`,strokeWidth:"4",strokeLinecap:"round"})))}var Sae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const tl=bae.PREFIX;class qi extends we{constructor(e){super(e),this.foundation=new eT(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?e.spinning===!1?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:r}=this.state;return r?g.createElement("div",{className:`${tl}-wrapper`},e?g.createElement("div",{className:`${tl}-animate`,"x-semi-prop":"indicator"},e):g.createElement(L2,null),t?g.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:r,wrapperClassName:s,childStyle:i,size:a}=e,o=Sae(e,["children","style","wrapperClassName","childStyle","size"]),{loading:l}=this.state,u=A(tl,s,{[`${tl}-${a}`]:a,[`${tl}-block`]:t,[`${tl}-hidden`]:!l});return g.createElement("div",Object.assign({className:u,style:r},this.getDataAttr(o)),this.renderSpin(),g.createElement("div",{className:`${tl}-children`,style:i,"x-semi-prop":"children"},t))}}qi.propTypes={size:c.oneOf(wae.SIZE),spinning:c.bool,children:c.node,indicator:c.node,delay:c.number,tip:c.node,wrapperClassName:c.string,childStyle:c.object,style:c.object};qi.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};const Gv={PREFIX:`${Y}-input`},Go={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},Cae={};function M2(n){const{value:e,maxLength:t,getValueLength:r}=n;if(Te(r)){let s=0,i=e.length;for(;s<i;){const a=s+Math.floor((i-s)/2),o=e.slice(0,a+1);r(o)>t?i=a:s=a+1}return e.slice(0,s)}else return e.slice(0,t)}let Tae=class F2 extends Pe{static get inputDefaultAdapter(){return{notifyChange:k,setValue:k}}constructor(e){super(Object.assign(Object.assign({},F2.inputDefaultAdapter),e))}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}setValue(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let a=e;r&&Te(i)&&(a=this.handleVisibleMaxLength(e)),s&&Te(i)&&this.handleVisibleMinLength(a),this._isControlledComponent()?this._adapter.notifyChange(a,t):(this._adapter.setValue(a),this._adapter.notifyChange(a,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(jt(t)&&t>=0&&Te(r)&&Oe(e)){const i=r(e);if(i<t){const a=e.length+(t-i);a!==s&&this._adapter.setMinLength(a)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();return jt(t)&&t>=0&&Te(r)&&Oe(e)&&r(e)>t?(console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)):e}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return M2({value:e,maxLength:t,getValueLength:r})}handleClear(e){let t=e;const r="";this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),(!t||typeof t!="object")&&(t={}),yc(t,Go.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange(r,t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){e==="password"?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),r=this._adapter.getState("eyeClosed");return t==="password"?r?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===q1&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:r}=this._adapter.getStates(),{showClear:s,disabled:i,showClearIgnoreDisabled:a}=this._adapter.getProps();return e&&s&&(!i||a)&&(t||r)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&Te(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(e==null?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}};var Oae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Qe=Gv.PREFIX,Iae=Go.SIZE,Pae=Go.STATUS,xae=Go.MODE;class tT extends we{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.handleClick=r=>{this.foundation.handleClick(r)},this.handleMouseOver=r=>{this.setState({isHovering:!0})},this.handleMouseLeave=r=>{this.setState({isHovering:!1})},this.handleModeChange=r=>{this.foundation.handleModeChange(r)},this.handleClickEye=r=>{this.foundation.handleClickEye(r)},this.handleMouseDown=r=>{this.foundation.handleMouseDown(r)},this.handleMouseUp=r=>{this.foundation.handleMouseUp(r)},this.handleModeEnterPress=r=>{this.foundation.handleModeEnterPress(r)},this.handleClickPrefixOrSuffix=r=>{this.foundation.handleClickPrefixOrSuffix(r)},this.handlePreventMouseDown=r=>{this.foundation.handlePreventMouseDown(r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,cachedValue:e.value,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:e.mode==="password",minLength:e.minLength},this.inputRef=g.createRef(),this.prefixRef=g.createRef(),this.suffixRef=g.createRef(),this.foundation=new Tae(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&(t||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:r})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=A({[`${Qe}-prepend`]:!0,[`${Qe}-prepend-text`]:e&&Oe(e),[`${Qe}-prepend-icon`]:dr(e)});return g.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=A({[`${Qe}-append`]:!0,[`${Qe}-append-text`]:e&&Oe(e),[`${Qe}-append-icon`]:dr(e)});return g.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=A(`${Qe}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?g.createElement("div",{className:e,onMouseDown:this.handleClear},t||g.createElement(Wo,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:r}=this.props,s=A(`${Qe}-modebtn`),i=e?g.createElement(Rie,null):g.createElement(Die,null),a=t==="password"&&!r,o=e?"Show password":"Hidden password";return a?g.createElement("div",{role:"button",tabIndex:0,"aria-label":o,className:s,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},i):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(!s)return null;const i=A({[`${Qe}-prefix`]:!0,[`${Qe}-inset-label`]:t,[`${Qe}-prefix-text`]:s&&Oe(s),[`${Qe}-prefix-icon`]:dr(s)});return g.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSuffix(e){const{suffix:t,hideSuffix:r}=this.props;if(!t)return null;const s=A({[`${Qe}-suffix`]:!0,[`${Qe}-suffix-text`]:t&&Oe(t),[`${Qe}-suffix-icon`]:dr(t),[`${Qe}-suffix-hidden`]:e&&!!r});return g.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!dt(e)){if(typeof e=="function")return t=>{e(t),this.inputRef={current:t}};if(Object.prototype.toString.call(e)==="[object Object]")return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:r,autoFocus:s,clearIcon:i,className:a,disabled:o,defaultValue:l,placeholder:u,prefix:d,mode:h,insetLabel:f,insetLabelId:p,validateStatus:_,type:m,readonly:v,size:y,suffix:b,style:w,showClear:E,onEnterPress:S,onClear:C,hideSuffix:O,inputStyle:I,forwardRef:P,maxLength:x,getValueLength:D,preventScroll:N,borderless:L,showClearIgnoreDisabled:V,onlyBorder:B}=e,F=Oae(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:W,isFocus:$,minLength:j}=this.state,M=this.foundation.isAllowClear(),te=dr(b),Q=this.getInputRef(),ie=`${Qe}-wrapper`,le=A(ie,a,{[`${Qe}-wrapper__with-prefix`]:d||f,[`${Qe}-wrapper__with-suffix`]:b,[`${Qe}-wrapper__with-suffix-hidden`]:M&&!!O,[`${Qe}-wrapper__with-suffix-icon`]:te,[`${Qe}-wrapper__with-append`]:r,[`${Qe}-wrapper__with-prepend`]:t,[`${Qe}-wrapper__with-append-only`]:r&&!t,[`${Qe}-wrapper__with-prepend-only`]:!r&&t,[`${ie}-readonly`]:v,[`${ie}-disabled`]:o,[`${ie}-warning`]:_==="warning",[`${ie}-error`]:_==="error",[`${ie}-focus`]:$,[`${ie}-clearable`]:E,[`${ie}-modebtn`]:h==="password",[`${ie}-hidden`]:m==="hidden",[`${ie}-${y}`]:y,[`${Qe}-borderless`]:L,[`${Qe}-only_border`]:B!=null}),Ee=A(Qe,{[`${Qe}-${y}`]:y,[`${Qe}-disabled`]:o,[`${Qe}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${Qe}-sibling-modebtn`]:h==="password"}),he=W??"",de=Object.assign(Object.assign({},F),{style:I,className:Ee,disabled:o,readOnly:v,type:this.foundation.handleInputType(m),placeholder:u,onInput:q=>this.foundation.handleInput(q),onChange:q=>this.foundation.handleChange(q.target.value,q),onFocus:q=>this.foundation.handleFocus(q),onBlur:q=>this.foundation.handleBlur(q),onKeyUp:q=>this.foundation.handleKeyUp(q),onKeyDown:q=>this.foundation.handleKeyDown(q),onKeyPress:q=>this.foundation.handleKeyPress(q),value:he});Te(D)||(de.maxLength=x),j&&(de.minLength=j),_==="error"&&(de["aria-invalid"]="true");let ue=Object.assign({},w);return B!==void 0&&(ue=Object.assign({borderWidth:B},w)),g.createElement("div",{className:le,style:ue,onMouseEnter:q=>this.handleMouseOver(q),onMouseLeave:q=>this.handleMouseLeave(q),onClick:q=>this.handleClick(q)},this.renderPrepend(),this.renderPrefix(),g.createElement("input",Object.assign({},de,{ref:Q})),this.renderClearBtn(),this.renderSuffix(M),this.renderModeBtn(),this.renderAppend())}}tT.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,addonBefore:c.node,addonAfter:c.node,clearIcon:c.node,prefix:c.node,suffix:c.node,mode:c.oneOf(xae),value:c.any,defaultValue:c.any,disabled:c.bool,readonly:c.bool,autoFocus:c.bool,type:c.string,showClear:c.bool,hideSuffix:c.bool,placeholder:c.any,size:c.oneOf(Iae),className:c.string,style:c.object,validateStatus:c.oneOf(Pae),onClear:c.func,onChange:c.func,onBlur:c.func,onFocus:c.func,onInput:c.func,onKeyDown:c.func,onKeyUp:c.func,onKeyPress:c.func,onEnterPress:c.func,insetLabel:c.node,insetLabelId:c.string,inputStyle:c.object,getValueLength:c.func,preventScroll:c.bool,borderless:c.bool};tT.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:k,onChange:k,onBlur:k,onFocus:k,onInput:k,onKeyDown:k,onKeyUp:k,onKeyPress:k,onEnterPress:k,validateStatus:"default",borderless:!1};const Zt=g.forwardRef((n,e)=>g.createElement(tT,Object.assign({},n,{forwardRef:e})));var Rae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class fu extends g.PureComponent{render(){const e=this.props,{triggerRender:t,componentName:r}=e,s=Rae(e,["triggerRender","componentName"]);return t(Object.assign({},s))}}fu.propTypes={triggerRender:c.func.isRequired,componentName:c.string,componentProps:c.object,value:c.any,inputValue:c.string,placeholder:c.oneOfType([c.string,c.array]),className:c.string,style:c.object};const Aae={PREFIX:`${Y}-highlight`},Dae=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");class kae extends Pe{constructor(e){super(Object.assign({},e)),this.findAll=t=>{let{autoEscape:r=!0,caseSensitive:s=!1,searchWords:i,sourceString:a}=t;Oe(i)&&(i=[i]);const o=this.findChunks({autoEscape:r,caseSensitive:s,searchWords:i,sourceString:a}),l=this.combineChunks({chunks:o});return this.fillInChunks({chunksToHighlight:l,totalLength:a?a.length:0})},this.findChunks=t=>{let{autoEscape:r,caseSensitive:s,searchWords:i,sourceString:a}=t;return i.map(o=>typeof o=="string"?{text:o}:o).filter(o=>o.text).reduce((o,l)=>{let u=l.text;r&&(u=Dae(u));const d=new RegExp(u,s?"g":"gi");let h;for(;h=d.exec(a);){const f=h.index,p=d.lastIndex;p>f&&o.push({highlight:!0,start:f,end:p,className:l.className,style:l.style}),h.index===d.lastIndex&&d.lastIndex++}return o},[])},this.combineChunks=t=>{let{chunks:r}=t;return r.sort((s,i)=>s.start-i.start).reduce((s,i)=>{if(s.length===0)return[i];{const a=s.pop();if(i.start<=a.end){const o=Math.max(a.end,i.end);s.push({highlight:!0,start:a.start,end:o,className:a.className||i.className,style:Object.assign(Object.assign({},a.style),i.style)})}else s.push(a,i);return s}},[])},this.fillInChunks=t=>{let{chunksToHighlight:r,totalLength:s}=t;const i=[],a=(o,l,u,d,h)=>{l-o>0&&i.push({start:o,end:l,highlight:u,className:d,style:h})};if(r.length===0)a(0,s,!1);else{let o=0;r.forEach(l=>{a(o,l.start,!1),a(l.start,l.end,!0,l.className,l.style),o=l.end}),a(o,s,!1)}return i}}}const Nae=Aae.PREFIX;class yp extends T.PureComponent{constructor(){super(...arguments),this.getHighLightTextHTML=e=>{let{sourceString:t="",searchWords:r=[],option:s={autoEscape:!0,caseSensitive:!1}}=e;const i=new kae().findAll(Object.assign({sourceString:t,searchWords:r},s)),a=s.highlightTag||"mark",o=s.highlightClassName||"",l=s.highlightStyle||{};return i.map((u,d)=>{const{end:h,start:f,highlight:p,style:_,className:m}=u,v=t.substr(f,h-f);return p?g.createElement(a,{style:Object.assign(Object.assign({},l),_),className:`${o} ${m||""}`.trim(),key:v+d},v):v})}}render(){const{searchWords:e,sourceString:t,component:r,highlightClassName:s,highlightStyle:i,caseSensitive:a,autoEscape:o}=this.props,l=A({[`${Nae}-tag`]:!0},s),u={highlightTag:r,highlightClassName:l,highlightStyle:i,caseSensitive:a,autoEscape:o};return this.getHighLightTextHTML({sourceString:t,searchWords:e,option:u})}}yp.propTypes={style:c.object,className:c.string,autoEscape:c.bool,caseSensitive:c.bool,sourceString:c.string,searchWords:c.arrayOf(c.string),highlightStyle:c.object,highlightClassName:c.string,component:c.string};yp.defaultProps={component:"mark",autoEscape:!0,caseSensitive:!1,sourceString:""};var eR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let vp=class extends T.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,a=eR(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:r,label:s||i}),t)}renderOptionContent(e){let{children:t,inputValue:r,prefixCls:s}=e;return Oe(t)&&r?g.createElement(yp,{searchWords:[r],sourceString:t,highlightClassName:`${s}-keyword`}):t}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:a,empty:o,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:p,onMouseEnter:_,prefixCls:m,renderOptionItem:v,inputValue:y}=e,b=eR(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue"]),w=A(m,{[`${m}-disabled`]:r,[`${m}-selected`]:i,[`${m}-focused`]:d,[`${m}-empty`]:o,[f]:f}),E=A([`${m}-icon`]);return o?l===null?null:g.createElement(dn,{componentName:"Select"},S=>g.createElement("div",{className:w,"x-semi-prop":"emptyContent"},l||S.emptyText)):typeof v=="function"?v(Object.assign({disabled:r,focused:d,selected:i,style:p,label:a,value:s,inputValue:y,onMouseEnter:S=>_(S),onClick:S=>this.onClick(Object.assign({value:s,label:a,children:t},b),S)},b)):g.createElement("div",{className:w,onClick:S=>{this.onClick(Object.assign({value:s,label:a,children:t},b),S)},onMouseEnter:S=>_&&_(S),role:"option","aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:p},h?g.createElement("div",{className:E},g.createElement(zv,null)):null,Oe(t)?g.createElement("div",{className:`${m}-text`},this.renderOptionContent({children:t,inputValue:y,prefixCls:m})):t)}};vp.isSelectOption=!0;vp.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};vp.defaultProps={prefixCls:N2.PREFIX_OPTION};const Ga=N2.PREFIX,$ae=J1.SIZE,Lae=J1.POSITION,Mae=J1.STATUS;class Vc extends we{constructor(e){super(e),this.onSelect=(r,s,i)=>{this.foundation.handleSelect(r,s)},this.onSearch=r=>{this.foundation.handleSearch(r)},this.onBlur=r=>this.foundation.handleBlur(r),this.onFocus=r=>this.foundation.handleFocus(r),this.onInputClear=()=>this.foundation.handleClear(),this.handleInputClick=r=>this.foundation.handleInputClick(r),this.foundation=new vae(this.adapter);const t=1;this.state={dropdownMinWidth:null,inputValue:"",options:[],visible:!1,focusIndex:e.defaultActiveFirstOption?0:-1,selection:new Map,rePosKey:t},this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.clickOutsideHandler=null,this.optionListId="",kt("triggerRender"in this.props&&typeof this.props.triggerRender=="function",`[Semi AutoComplete]
            - If you are using the following props: 'suffix', 'prefix', 'showClear', 'validateStatus', and 'size',
            please notice that they will be removed in the next major version.
            Please use 'componentProps' to retrieve these props instead.
            - If you are using 'onBlur', 'onFocus', please try to avoid using them and look for changes in the future.`)}get adapter(){const e={registerKeyDown:t=>{const r={onKeyDown:t};this.setState({keyboardEventSet:r})},unregisterKeyDown:t=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:t=>{this.setState({focusIndex:t})},updateScrollTop:t=>{let r;r=`.${Ga}-option-selected`,t!==void 0&&(r=`.${Ga}-option:nth-child(${t+1})`);let s=document.querySelector(`#${Ga}-${this.optionListId} ${r}`);if(Array.isArray(s)&&(s=s[0]),s){const i=s.parentNode;i.scrollTop=s.offsetTop-i.offsetTop-i.clientHeight/2+s.clientHeight/2}}};return Object.assign(Object.assign(Object.assign({},super.adapter),e),{getTriggerWidth:()=>{const t=this.triggerRef.current;return t&&t.getBoundingClientRect().width},setOptionWrapperWidth:t=>{this.setState({dropdownMinWidth:t})},updateInputValue:t=>{this.setState({inputValue:t})},toggleListVisible:t=>{this.setState({visible:t})},updateOptionList:t=>{this.setState({options:t})},updateSelection:t=>{this.setState({selection:t})},notifySearch:t=>{this.props.onSearch(t)},notifyChange:t=>{this.props.onChange(t)},notifySelect:t=>{this.props.onSelect(t)},notifyDropdownVisibleChange:t=>{this.props.onDropdownVisibleChange(t)},notifyClear:()=>{this.props.onClear()},notifyFocus:t=>{this.props.onFocus(t)},notifyBlur:t=>{this.props.onBlur(t)},notifyKeyDown:t=>{this.props.onKeyDown(t)},rePositionDropdown:()=>{let{rePosKey:t}=this.state;t=t+1,this.setState({rePosKey:t})},registerClickOutsideHandler:t=>{const r=s=>{const i=this.optionsRef&&this.optionsRef.current,a=this.triggerRef&&this.triggerRef.current,o=Pr.findDOMNode(i),l=s.target,u=s.composedPath&&s.composedPath()||[l];o&&(!o.contains(l)||!o.contains(l.parentNode))&&a&&!a.contains(l)&&!(u.includes(a)||u.includes(o))&&t(s)};this.clickOutsideHandler=r,document.addEventListener("mousedown",r,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&document.removeEventListener("mousedown",this.clickOutsideHandler,!1)}})}componentDidMount(){this.foundation.init(),this.optionListId=xa()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){ke(this.props.data,e.data)||this.foundation.handleDataChange(this.props.data),this.props.value!==e.value&&this.foundation.handleValueChange(this.props.value)}renderInput(){const{size:e,prefix:t,insetLabel:r,insetLabelId:s,suffix:i,placeholder:a,style:o,className:l,showClear:u,disabled:d,triggerRender:h,validateStatus:f,autoFocus:p,value:_,id:m,clearIcon:v}=this.props,{inputValue:y,keyboardEventSet:b,selection:w}=this.state,S=Object.assign(Object.assign(Object.assign({style:o,className:typeof h=="function"?A(l):A({[Ga]:!0,[`${Ga}-disabled`]:d},l),onClick:this.handleInputClick,ref:this.triggerRef,id:m},b),{tabIndex:-1}),this.getDataAttr(this.props)),C={disabled:d,placeholder:a,autoFocus:p,onChange:this.onSearch,onClear:this.onInputClear,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],suffix:i,prefix:t||r,insetLabelId:s,showClear:u,validateStatus:f,size:e,onBlur:this.onBlur,onFocus:this.onFocus,clearIcon:v};return g.createElement("div",Object.assign({},S),typeof h=="function"?g.createElement(fu,Object.assign({},C,{inputValue:typeof _<"u"?_:y,value:Array.from(w.values()),triggerRender:h,componentName:"AutoComplete",componentProps:Object.assign({},this.props)})):g.createElement(Zt,Object.assign({},C,{value:typeof _<"u"?_:y})))}renderLoading(){const e=`${Ga}-loading-wrapper`;return g.createElement("div",{className:e},g.createElement(qi,null))}renderOption(e,t){const{focusIndex:r}=this.state,s=t===r;return g.createElement(vp,Object.assign({showTick:!1,onSelect:(i,a)=>this.onSelect(i,t,a),focused:s,onMouseEnter:()=>this.foundation.handleOptionMouseEnter(t),key:e.key||e.label+e.value+t},e),e.label)}renderOptionList(){const{maxHeight:e,dropdownStyle:t,dropdownClassName:r,loading:s,emptyContent:i}=this.props,{options:a,dropdownMinWidth:o}=this.state,l=A({[`${Ga}-option-list`]:!0},r);let u;a.length===0?u=i:u=a.filter(h=>h.show).map((h,f)=>this.renderOption(h,f));const d=Object.assign({maxHeight:e,minWidth:o},t);return g.createElement("div",{className:l,role:"listbox",style:d,id:`${Ga}-${this.optionListId}`},s?this.renderLoading():u)}render(){const{position:e,motion:t,zIndex:r,mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l}=this.props,{visible:u,rePosKey:d}=this.state,h=this.renderInput(),f=this.renderOptionList();return g.createElement(yr,{mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:a,trigger:"custom",motion:t,visible:u,content:f,position:e,ref:this.optionsRef,zIndex:r,stopPropagation:o,getPopupContainer:l,rePosKey:d},h)}}Vc.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoAdjustOverflow:c.bool,className:c.string,clearIcon:c.node,children:c.node,data:c.array,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.number]),defaultActiveFirstOption:c.bool,disabled:c.bool,dropdownMatchSelectWidth:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,emptyContent:c.node,id:c.string,insetLabel:c.node,insetLabelId:c.string,onSearch:c.func,onSelect:c.func,onClear:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onKeyDown:c.func,position:c.oneOf(Lae),placeholder:c.string,prefix:c.node,onChangeWithObject:c.bool,onSelectWithObject:c.bool,renderItem:c.func,renderSelectedItem:c.func,suffix:c.node,showClear:c.bool,size:c.oneOf($ae),style:c.object,stopPropagation:c.oneOfType([c.bool,c.string]),maxHeight:c.oneOfType([c.string,c.number]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,motion:c.oneOfType([c.bool,c.func,c.object]),getPopupContainer:c.func,triggerRender:c.func,value:c.oneOfType([c.string,c.number]),validateStatus:c.oneOf(Mae),zIndex:c.number};Vc.Option=vp;Vc.__SemiComponentName__="AutoComplete";Vc.defaultProps=ds(Vc.__SemiComponentName__,{stopPropagation:!0,motion:!0,zIndex:is.DEFAULT_Z_INDEX,position:"bottomLeft",data:[],showClear:!1,size:"default",onFocus:k,onSearch:k,onClear:k,onBlur:k,onSelect:k,onChange:k,onSelectWithObject:!1,onDropdownVisibleChange:k,defaultActiveFirstOption:!1,dropdownMatchSelectWidth:!0,loading:!1,maxHeight:300,validateStatus:"default",autoFocus:!1,emptyContent:null,onKeyDown:k});const Fae={PREFIX:`${Y}-avatar`},Yv={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"]};class jae extends Pe{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{kt(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:t}=this.getProps(),r=this._adapter.getAvatarNode(),s=r==null?void 0:r.firstChild,[i,a]=[(r==null?void 0:r.offsetWidth)||0,(s==null?void 0:s.offsetWidth)||0];if(i!==0&&a!==0&&t*2<i){const o=i-t*2>a?1:(i-t*2)/a;this._adapter.setScale(o)}}}init(){const{children:e}=this.getProps();typeof e=="string"&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();(e?e():void 0)!==!1&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}const Vae=n=>{let{gradientStart:e,gradientEnd:t}=n;const r=xa();return g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none"},g.createElement("g",{filter:"url(#filter0_d_6_2)"},g.createElement("path",{d:"M40.4918 46.5592C44.6795 43.176 46.261 34.1333 47.5301 25.6141C49.5854 11.8168 39.6662 1 25.8097 1C11.2857 1 3 11.4279 3 25.3518C3 33.7866 6.29361 43.8947 10.4602 46.5592C12.5868 47.9192 12.5868 47.9051 25.8097 47.9192C38.3651 47.9282 38.5352 48.14 40.4918 46.5592Z",fill:`url(#${r})`})),g.createElement("defs",null,g.createElement("filter",{id:"filter0_d_6_2",x:"0.789215",y:"0.447304",width:"49.2216",height:"51.3549",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},g.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),g.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),g.createElement("feOffset",{dy:"1.65809"}),g.createElement("feGaussianBlur",{stdDeviation:"1.10539"}),g.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),g.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_6_2"}),g.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_6_2",result:"shape"})),g.createElement("linearGradient",{id:r,x1:"17.671",y1:"31.7392",x2:"17.671",y2:"47.9333",gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:e}),g.createElement("stop",{offset:"1",stopColor:t}))))};var Uae=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Bae=Yv.SIZE,Hae=Yv.SHAPE,zae=Yv.COLOR,Ze=Fae.PREFIX;class Uc extends we{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:t,onClick:r,imgAttr:s,src:i,srcSet:a,alt:o}=this.props,{isImgExist:l}=this.state;let u=t;const d=r!==gt,h=i&&l,f={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(h){const p=d?`clickable Avatar: ${o}`:o,_=Object.assign(Object.assign({src:i,srcSet:a,onError:this.handleError},s),{className:A({[`${Ze}-no-focus-visible`]:d})}),m=d?Object.assign(Object.assign({},_),f):_;u=g.createElement("img",Object.assign({alt:p},m))}else if(typeof t=="string"){const p=o??t,m={role:"img","aria-label":d?`clickable Avatar: ${p}`:p,className:A(`${Ze}-label`,{[`${Ze}-no-focus-visible`]:d})},v=d?Object.assign(Object.assign({},m),f):m,y={transform:`scale(${this.state.scale})`};u=g.createElement("span",{className:`${Ze}-content`,style:y},g.createElement("span",Object.assign({},v,{"x-semi-prop":"children"}),t))}return u},this.renderBottomSlot=()=>{var t,r;if(!this.props.bottomSlot)return null;if(this.props.bottomSlot.render)return this.props.bottomSlot.render();const s=(t=this.props.bottomSlot.render)!==null&&t!==void 0?t:()=>{var i;const a={};return this.props.bottomSlot.bgColor&&(a.backgroundColor=this.props.bottomSlot.bgColor),this.props.bottomSlot.textColor&&(a.color=this.props.bottomSlot.textColor),g.createElement("span",{style:a,className:A(`${Ze}-bottom_slot-shape_${this.props.bottomSlot.shape}`,`${Ze}-bottom_slot-shape_${this.props.bottomSlot.shape}-${this.props.size}`,(i=this.props.bottomSlot.className)!==null&&i!==void 0?i:"")},this.props.bottomSlot.text)};return g.createElement("div",{className:A([`${Ze}-bottom_slot`]),style:(r=this.props.bottomSlot.style)!==null&&r!==void 0?r:{}},s())},this.renderTopSlot=()=>{var t,r,s,i;if(!this.props.topSlot)return null;if(this.props.topSlot.render)return this.props.topSlot.render();const a={};return this.props.topSlot.textColor&&(a.color=this.props.topSlot.textColor),g.createElement("div",{style:(t=this.props.topSlot.style)!==null&&t!==void 0?t:{},className:A([`${Ze}-top_slot-wrapper`,(r=this.props.topSlot.className)!==null&&r!==void 0?r:"",{[`${Ze}-animated`]:this.props.contentMotion}])},g.createElement("div",{className:A([`${Ze}-top_slot-bg`,`${Ze}-top_slot-bg-${this.props.size}`])},g.createElement("div",{className:A([`${Ze}-top_slot-bg-svg`,`${Ze}-top_slot-bg-svg-${this.props.size}`])},g.createElement(Vae,{gradientStart:(s=this.props.topSlot.gradientStart)!==null&&s!==void 0?s:"var(--semi-color-primary)",gradientEnd:(i=this.props.topSlot.gradientEnd)!==null&&i!==void 0?i:"var(--semi-color-primary)"}))),g.createElement("div",{className:A([`${Ze}-top_slot`])},g.createElement("div",{style:a,className:A([`${Ze}-top_slot-content`,`${Ze}-top_slot-content-${this.props.size}`])},this.props.topSlot.text)))},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=g.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,r=t;this.setState({hoverContent:r},()=>{const{onMouseEnter:s}=this.props;s&&s(e)})},notifyLeave:e=>{this.setState({hoverContent:""},()=>{const{onMouseLeave:t}=this.props;t&&t(e)})},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return(e=this.avatarRef)===null||e===void 0?void 0:e.current}})}componentDidMount(){this.foundation=new jae(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const t=new Image(0,0);t.src=this.props.src,t.onload=()=>{this.setState({isImgExist:!0})},t.onerror=()=>{this.setState({isImgExist:!1})},t.onabort=()=>{this.setState({isImgExist:!1})}}typeof this.props.children=="string"&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),Xs(e);break;case"Escape":e.target.blur();break}}render(){var e;const t=this.props,{shape:r,children:s,size:i,color:a,className:o,hoverMask:l,onClick:u,imgAttr:d,src:h,srcSet:f,style:p,alt:_,gap:m,bottomSlot:v,topSlot:y,border:b,contentMotion:w}=t,E=Uae(t,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap","bottomSlot","topSlot","border","contentMotion"]),{isImgExist:S,hoverContent:C,focusVisible:O}=this.state;let I={};Yv.SIZE.includes(i)||(I={width:i,height:i}),I=Object.assign(Object.assign({},I),p);const P=v||y||b,x={onClick:u,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},D=h&&S,N=A(Ze,{[`${Ze}-${r}`]:r,[`${Ze}-${i}`]:i,[`${Ze}-${a}`]:a&&!D,[`${Ze}-img`]:D,[`${Ze}-focus`]:O,[`${Ze}-animated`]:w},o),L=C?g.createElement("div",{className:`${Ze}-hover`,"x-semi-prop":"hoverContent"},C):null;let V=g.createElement("span",Object.assign({},E,{style:P?{}:I,className:N},P?{}:x,{role:"listitem",ref:this.avatarRef}),this.getContent(),L);if(b){const B={};typeof b=="object"&&(b!=null&&b.color)&&(B.borderColor=b==null?void 0:b.color),V=g.createElement("div",{style:Object.assign({position:"relative"},I)},V,g.createElement("span",{style:B,className:A([`${Ze}-additionalBorder`,`${Ze}-additionalBorder-${i}`,{[`${Ze}-${r}`]:r}])}),typeof this.props.border=="object"&&this.props.border.motion&&g.createElement("span",{style:B,className:A([`${Ze}-additionalBorder`,`${Ze}-additionalBorder-${i}`,{[`${Ze}-${r}`]:r,[`${Ze}-additionalBorder-animated`]:typeof this.props.border=="object"&&((e=this.props.border)===null||e===void 0?void 0:e.motion)}])}))}return P?g.createElement("span",Object.assign({className:A([`${Ze}-wrapper`]),style:I},x),V,y&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&r==="circle"&&this.renderTopSlot(),v&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&this.renderBottomSlot()):V}}Uc.__SemiComponentName__="Avatar";Uc.defaultProps=ds(Uc.__SemiComponentName__,{size:"medium",color:"grey",shape:"circle",gap:3,onClick:gt,onMouseEnter:gt,onMouseLeave:gt});Uc.propTypes={children:c.node,color:c.oneOf(zae),shape:c.oneOf(Hae),size:c.oneOf(Bae),hoverMask:c.node,className:c.string,style:c.object,gap:c.number,imgAttr:c.object,src:c.string,srcSet:c.string,alt:c.string,onError:c.func,onClick:c.func,onMouseEnter:c.func,onMouseLeave:c.func,bottomSlot:c.shape({render:c.func,shape:c.oneOf(["circle","square"]),text:c.node,bgColor:c.string,textColor:c.string,className:c.string,style:c.object}),topSlot:c.shape({render:c.func,gradientStart:c.string,gradientEnd:c.string,text:c.node,textColor:c.string,className:c.string,style:c.object}),border:c.oneOfType([c.shape({color:c.string,motion:c.bool}),c.bool]),contentMotion:c.bool};Uc.elementType="Avatar";var Kae=4,Wae=.001,Gae=1e-7,Yae=10,uh=11,Tg=1/(uh-1),qae=typeof Float32Array=="function";function j2(n,e){return 1-3*e+3*n}function V2(n,e){return 3*e-6*n}function U2(n){return 3*n}function _y(n,e,t){return((j2(e,t)*n+V2(e,t))*n+U2(e))*n}function B2(n,e,t){return 3*j2(e,t)*n*n+2*V2(e,t)*n+U2(e)}function Xae(n,e,t,r,s){var i,a,o=0;do a=e+(t-e)/2,i=_y(a,r,s)-n,i>0?t=a:e=a;while(Math.abs(i)>Gae&&++o<Yae);return a}function Qae(n,e,t,r){for(var s=0;s<Kae;++s){var i=B2(e,t,r);if(i===0)return e;var a=_y(e,t,r)-n;e-=a/i}return e}function Zae(n){return n}var Jae=function(e,t,r,s){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===s)return Zae;for(var i=qae?new Float32Array(uh):new Array(uh),a=0;a<uh;++a)i[a]=_y(a*Tg,e,r);function o(l){for(var u=0,d=1,h=uh-1;d!==h&&i[d]<=l;++d)u+=Tg;--d;var f=(l-i[d])/(i[d+1]-i[d]),p=u+f*Tg,_=B2(p,e,r);return _>=Wae?Qae(l,p,e,r):_===0?p:Xae(l,u,u+Tg,e,r)}return function(u){return u===0?0:u===1?1:_y(o(u),t,s)}};const qb=ge(Jae);function tR(n,e,t){return Math.min(Math.max(n,e),t)}function eoe(n){const e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(t=>parseFloat(t)):[]}function Og(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;const t=tR(n,1,10),r=tR(e,.1,2);return s=>s===0||s===1?s:-t*Math.pow(2,10*(s-1))*Math.sin((s-1-r/(Math.PI*2)*Math.asin(1/t))*(Math.PI*2)/r)}const Xb=(()=>{const n=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],Og],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(r,s)=>i=>1-Og(r,s)(1-i)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(r,s)=>i=>i<.5?Og(r,s)(i*2)/2:1-Og(r,s)(i*-2+2)/2]},t={linear:[.25,.25,.75,.75]};for(const r of Object.keys(e))e[r].forEach((s,i)=>{t["ease"+r+n[i]]=s});return t})();function nR(n){if(typeof n=="function")return n;!n||typeof n!="string"?n="linear":n=n.trim();let e=n.split("(")[0];const t=eoe(n);let r;return e==="cubic-bezier"||e==="cubicBezier"?qb(...t.length?t:Xb.linear):((!e||typeof e!="string"||typeof e=="string"&&Xb[e]==null)&&(e="linear"),r=Xb[e],typeof r=="function"?r(...t):t.length?qb(...t):qb(...r))}let toe=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else t==null&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?(this._eventMap.get(e).forEach(i=>i(...r)),!0):!1}};function mf(n){return!!(n&&typeof n=="object"&&(n.duration>0||typeof n.easing=="string"||typeof n.easing=="function"))}function noe(n,e,t,r,s){for(const i of Object.keys(e)){const a=e[i],o=typeof a=="number"?a:a.val;if(!(typeof a=="object"&&a.done)){if(mf(a)&&r&&s&&a.duration){if(a.duration+r<=s||o!==n[i])return!1}else if(typeof t[i]=="number"&&t[i]!==0)return!1;if(n[i]!==o)return!1}}return!0}function Ig(n){const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=typeof n[t]=="number"?n[t]:n[t].val);return e}const Pu=[0,0];function rR(n,e,t,r,s,i,a){const o=-s*(e-r),l=-i*t,u=o+l,d=t+u*n,h=e+d*n;return Math.abs(d)<a&&Math.abs(h-r)<a?(Pu[0]=r,Pu[1]=0,Pu):(Pu[0]=h,Pu[1]=d,Pu)}function roe(n){const e={},t=n&&Object.keys(n)||[];for(const r of t)e[r]=0;return e}const soe={default:{tension:170,friction:26}},ioe=Object.assign(Object.assign({},soe.default),{precision:.01});function aoe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(mf(e)){const r=nR(e.easing),s=typeof e.duration=="number"&&e.duration>0?e.duration:1e3;e=Object.assign(Object.assign({},e),{easing:r,duration:s})}let t=Object.assign(Object.assign(Object.assign({},ioe),e),{done:!1});if(n&&typeof n=="object"&&"val"in n){if(mf(n)){const r=nR(n.easing),s=typeof n.duration=="number"&&n.duration>0?n.duration:parseInt(e.duration)||1e3;n=Object.assign(Object.assign({},n),{easing:r,duration:s})}t=Object.assign(Object.assign({},t),n)}else t=Object.assign(Object.assign({},t),{val:n});return t}const zd=()=>Date.now(),Ya=1e3/60;class H2 extends toe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this._props=Object.assign({},e),this._config=Object.assign({},t),this.initStates()}_wrapConfig(e,t){t=t&&typeof t=="object"?t:this._config;const r={};for(const s of Object.keys(e))r[s]=aoe(e[s],t);return r}initStates(e,t){e=e&&typeof e=="object"?e:this._props,t=t&&typeof t=="object"?t:this._config;const{from:r,to:s}=e;if(this._from={},r)for(const o of Object.keys(r))this._from[o]=typeof r[o]=="object"&&r[o].val?r[o].val:r[o];this._to=this._wrapConfig(s,t),this._delay=parseInt(t.delay)||0;const i=this._from&&Ig(this._from)||Ig(this._to),a=roe(i);this._currentStyle=Object.assign({},i),this._currentVelocity=Object.assign({},a),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},a),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){this._timer==null&&(this._timer=requestAnimationFrame(e=>{const t=zd();if(noe(this._currentStyle,this._to,this._currentVelocity,this._startedTime||t,t)||this._ended||this._stopped){this._wasAnimating&&!this._ended&&!this._stopped&&(this._timer=setTimeout(()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())},Ya)),this.resetPlayStates();return}this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,this._startedTime===0&&(this._startedTime=t);const r=t,s=r-this._prevTime;this._prevTime=r,r-this._startedTime<this._delay&&(this._timer=null,this.animate());const i={},a={},o={},l={},u=this._to&&Object.keys(this._to)||[];for(const d of u){const h=this._to[d];this._accumulatedTime[d]=typeof this._accumulatedTime[d]!="number"?s:this._accumulatedTime[d]+s;const f=this._from[d]!=null&&typeof this._from[d]=="object"?this._from[d].val:this._from[d],p=h.val;if(typeof h=="number")o[d]=h,l[d]=0,i[d]=h,a[d]=0;else{let _=this._lastIdealStyle[d],m=this._lastIdealVelocity[d];if(mf(this._config)||mf(h)){const{easing:v,duration:y}=h;_=f+v((r-this._startedTime)/y)*(p-f),r>=this._startedTime+y&&(_=p,h.done=!0),i[d]=_,o[d]=_}else if(p!=null&&p===this._currentStyle[d])o[d]=p,l[d]=0,i[d]=p,a[d]=0;else{const v=(this._accumulatedTime[d]-Math.floor(this._accumulatedTime[d]/Ya)*Ya)/Ya,y=Math.floor(this._accumulatedTime[d]/Ya);for(let E=0;E<y;E++)[_,m]=rR(Ya/1e3,_,m,h.val,h.tension,h.friction,h.precision);const[b,w]=rR(Ya/1e3,_,m,h.val,h.tension,h.friction,h.precision);o[d]=_+(b-_)*v,l[d]=m+(w-m)*v,i[d]=_,a[d]=m,this._accumulatedTime[d]-=y*Ya}}}this._timer=null,this._currentStyle=Object.assign({},o),this._currentVelocity=Object.assign({},l),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},a),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())}))}start(){this._prevTime=zd(),this._startedTime=zd(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=zd(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){const t=zd()-this._pausedTime;this._paused=!1,this._startedTime+=t,this._prevTime+=t,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();const e=Object.assign({},this._props),[t,r]=[e.to,e.from];e.from=t,e.to=r,this._props=Object.assign({},e),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},Ig(this._props.from))}getFinalStates(){return Object.assign({},Ig(this._props.to))}}const z2={PREFIX:`${Y}-button`},_p={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light","outline"],DEFAULT_ICON_POSITION:"left"},ooe={SIZE:["extra-small","small","default","large","extra-large","custom"]};var loe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const uoe=_p.sizes,{htmlTypes:coe,btnTypes:doe}=_p;let bp=class extends T.PureComponent{render(){const e=this.props,{children:t,block:r,htmlType:s,loading:i,circle:a,className:o,style:l,disabled:u,size:d,theme:h,type:f,prefixCls:p,iconPosition:_}=e,m=loe(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),v=Object.assign(Object.assign({disabled:u},Ko(m,["x-semi-children-alias"])),{className:A(p,{[`${p}-${f}`]:!u&&f,[`${p}-disabled`]:u,[`${p}-size-large`]:d==="large",[`${p}-size-small`]:d==="small",[`${p}-light`]:h==="light",[`${p}-block`]:r,[`${p}-circle`]:a,[`${p}-borderless`]:h==="borderless",[`${p}-outline`]:h==="outline",[`${p}-${f}-disabled`]:u&&f},o),type:s,"aria-disabled":u}),y={};return o&&o.includes("-with-icon")||(y["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),g.createElement("button",Object.assign({},v,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:l}),g.createElement("span",Object.assign({className:A(`${p}-content`,this.props.contentClassName),onClick:b=>u&&b.stopPropagation()},y),t))}};bp.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:gt,onClick:gt,onMouseEnter:gt,onMouseLeave:gt,prefixCls:z2.PREFIX};bp.propTypes={children:c.node,disabled:c.bool,prefixCls:c.string,style:c.object,size:c.oneOf(uoe),type:c.oneOf(doe),block:c.bool,onClick:c.func,onMouseDown:c.func,circle:c.bool,loading:c.bool,htmlType:c.oneOf(coe),theme:c.oneOf(_p.themes),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func,"aria-label":c.string,contentClassName:c.string};var hoe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const foe=ooe.SIZE;class xs extends T.PureComponent{render(){const e=this.props,{children:t,iconPosition:r,iconSize:s,iconStyle:i,style:a,icon:o,noHorizontalPadding:l,theme:u,className:d,prefixCls:h,loading:f}=e,p=hoe(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),_=Object.assign({},a);Array.isArray(l)?(l.includes("left")&&(_.paddingLeft=0),l.includes("right")&&(_.paddingRight=0)):l===!0?(_.paddingLeft=0,_.paddingRight=0):typeof l=="string"&&(l==="left"&&(_.paddingLeft=0),l==="right"&&(_.paddingRight=0));let m=null,v=null;f&&!p.disabled?v=g.createElement(L2,null):g.isValidElement(o)&&(v=o);const y=A({[`${h}-content-left`]:r==="right",[`${h}-content-right`]:r==="left"}),b=this.props["x-semi-children-alias"]||"children",w=t!=null?g.createElement("span",{className:y,"x-semi-prop":b},t):null;r==="left"?m=g.createElement(g.Fragment,null,v,w):m=g.createElement(g.Fragment,null,w,v);const E=A(d,`${h}-with-icon`,{[`${h}-with-icon-only`]:w==null||w==="",[`${h}-loading`]:f});return g.createElement(bp,Object.assign({},p,{className:E,theme:u,style:_}),m)}}xs.defaultProps={iconPosition:_p.DEFAULT_ICON_POSITION,prefixCls:z2.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:k,onMouseLeave:k};xs.elementType="IconButton";xs.propTypes={iconStyle:c.object,style:c.object,loading:c.bool,prefixCls:c.string,icon:c.oneOfType([c.object,c.string,c.node]),iconSize:c.oneOf(foe),noHorizontalPadding:c.oneOfType([c.bool,c.string,c.array]),children:c.node,theme:c.string,iconPosition:c.oneOf(_p.iconPositions),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func};class Re extends g.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e)}render(){const e=Object.assign({},this.props),t=!!e.icon,r=!!e.loading,s=!!e.disabled;return t||r&&!s?g.createElement(xs,Object.assign({},e)):g.createElement(bp,Object.assign({},e))}}Re.__SemiComponentName__="Button";Re.propTypes=Object.assign(Object.assign({},bp.propTypes),xs.propTypes);Re.defaultProps=ds(Re.__SemiComponentName__);Re.elementType="Button";const poe={PREFIX:`${Y}-space`},cl={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"},goe="Symbol(react.fragment)",fE=n=>{let e=[];return g.Children.forEach(n,t=>{t!=null&&(Array.isArray(t)?e=e.concat(fE(t)):T.isValidElement(t)&&t.type&&t.type.toString()===goe&&t.props?e=e.concat(fE(t.props.children)):e.push(t))}),e},Hs=poe.PREFIX;class Vi extends T.PureComponent{render(){const{children:e=null,style:t,className:r,spacing:s,wrap:i,align:a,vertical:o}=this.props,l=i&&o?!1:i,u=Object.assign({},t);let d="",h="";Oe(s)?(d=s,h=s):jt(s)?(u.rowGap=s,u.columnGap=s):y1(s)&&(Oe(s[0])?d=s[0]:jt(s[0])&&(u.columnGap=`${s[0]}px`),Oe(s[1])?h=s[1]:jt(s[1])&&(u.rowGap=`${s[1]}px`));const f=A(Hs,r,{[`${Hs}-align-${a}`]:a,[`${Hs}-vertical`]:o,[`${Hs}-horizontal`]:!o,[`${Hs}-wrap`]:l,[`${Hs}-tight-horizontal`]:d===cl.SPACING_TIGHT,[`${Hs}-tight-vertical`]:h===cl.SPACING_TIGHT,[`${Hs}-medium-horizontal`]:d===cl.SPACING_MEDIUM,[`${Hs}-medium-vertical`]:h===cl.SPACING_MEDIUM,[`${Hs}-loose-horizontal`]:d===cl.SPACING_LOOSE,[`${Hs}-loose-vertical`]:h===cl.SPACING_LOOSE}),p=fE(e),_=hf(this.props);return g.createElement("div",Object.assign({},_,{className:f,style:u,"x-semi-prop":"children"}),p)}}Vi.propTypes={wrap:c.bool,align:c.oneOf(cl.ALIGN_SET),vertical:c.bool,spacing:c.oneOfType([c.string,c.number,c.array]),children:c.node,style:c.object,className:c.string};Vi.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};function moe(n,e,t,r){for(var s=n.length,i=t+(r?1:-1);r?i--:++i<s;)if(e(n[i],i,n))return i;return-1}var K2=moe;function yoe(n){return n!==n}var voe=yoe;function _oe(n,e,t){for(var r=t-1,s=n.length;++r<s;)if(n[r]===e)return r;return-1}var boe=_oe,woe=K2,Eoe=voe,Soe=boe;function Coe(n,e,t){return e===e?Soe(n,e,t):woe(n,Eoe,t)}var W2=Coe,Toe=E1,Ooe=1/0,Ioe=17976931348623157e292;function Poe(n){if(!n)return n===0?n:0;if(n=Toe(n),n===Ooe||n===-1/0){var e=n<0?-1:1;return e*Ioe}return n===n?n:0}var xoe=Poe,Roe=xoe;function Aoe(n){var e=Roe(n),t=e%1;return e===e?t?e-t:e:0}var qv=Aoe,Doe=dd;function koe(n,e){return Doe(e,function(t){return n[t]})}var Noe=koe,$oe=Noe,Loe=zo;function Moe(n){return n==null?[]:$oe(n,Loe(n))}var G2=Moe;const Y2=ge(G2);var Foe=W2,joe=Qi,Voe=aM,Uoe=qv,Boe=G2,Hoe=Math.max;function zoe(n,e,t,r){n=joe(n)?n:Boe(n),t=t&&!r?Uoe(t):0;var s=n.length;return t<0&&(t=Hoe(s+t,0)),Voe(n)?t<=s&&n.indexOf(e,t)>-1:!!s&&Foe(n,e,t)>-1}var Koe=zoe;const sc=ge(Koe);var Woe=Vv,Goe=du,Yoe=CM,qoe=Qi,Xoe=up,Qoe=zo,Zoe=Object.prototype,Joe=Zoe.hasOwnProperty,ele=Yoe(function(n,e){if(Xoe(e)||qoe(e)){Goe(e,Qoe(e),n);return}for(var t in e)Joe.call(e,t)&&Woe(n,t,e[t])}),tle=ele;const nle=ge(tle);var rle=W2;function sle(n,e){var t=n==null?0:n.length;return!!t&&rle(n,e,0)>-1}var q2=sle;function ile(n,e,t){for(var r=-1,s=n==null?0:n.length;++r<s;)if(t(e,n[r]))return!0;return!1}var X2=ile,ale=$1,ole=q2,lle=X2,ule=dd,cle=gd,dle=L1,hle=200;function fle(n,e,t,r){var s=-1,i=ole,a=!0,o=n.length,l=[],u=e.length;if(!o)return l;t&&(e=ule(e,cle(t))),r?(i=lle,a=!1):e.length>=hle&&(i=dle,a=!1,e=new ale(e));e:for(;++s<o;){var d=n[s],h=t==null?d:t(d);if(d=r||d!==0?d:0,a&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;l.push(d)}else i(e,h,r)||l.push(d)}return l}var Q2=fle,ple=Q2,gle=BM,mle=R1,sR=P1,yle=mle(function(n,e){return sR(n)?ple(n,gle(e,1,sR,!0)):[]}),vle=yle;const by=ge(vle);var _le=$v,ble=XM,wle=hd;function Ele(n,e,t){for(var r=-1,s=e.length,i={};++r<s;){var a=e[r],o=_le(n,a);t(o,a)&&ble(i,wle(a,n),o)}return i}var Sle=Ele;function Cle(n,e){return n!=null&&e in Object(n)}var Tle=Cle,Ole=hd,Ile=cp,Ple=Zn,xle=Uv,Rle=I1,Ale=cu;function Dle(n,e,t){e=Ole(e,n);for(var r=-1,s=e.length,i=!1;++r<s;){var a=Ale(e[r]);if(!(i=n!=null&&t(n,a)))break;n=n[a]}return i||++r!=s?i:(s=n==null?0:n.length,!!s&&Rle(s)&&xle(a,s)&&(Ple(n)||Ile(n)))}var kle=Dle,Nle=Tle,$le=kle;function Lle(n,e){return n!=null&&$le(n,e,Nle)}var Z2=Lle,Mle=Sle,Fle=Z2;function jle(n,e){return Mle(n,e,function(t,r){return Fle(n,r)})}var Vle=jle,Ule=Vle,Ble=HM,Hle=Ble(function(n,e){return n==null?{}:Ule(n,e)}),zle=Hle;const zl=ge(zle);var Kle=od;function Wle(n,e,t){for(var r=-1,s=n.length;++r<s;){var i=n[r],a=e(i);if(a!=null&&(o===void 0?a===a&&!Kle(a):t(a,o)))var o=a,l=i}return l}var Gle=Wle;function Yle(n,e){return n>e}var qle=Yle,Xle=Gle,Qle=qle,Zle=pp;function Jle(n){return n&&n.length?Xle(n,Zle,Qle):void 0}var eue=Jle;const tue=ge(eue);var Qb=DM,nue=HL,rue=M1,sue=1/0,iue=Qb&&1/rue(new Qb([,-0]))[1]==sue?function(n){return new Qb(n)}:nue,aue=iue,oue=$1,lue=q2,uue=X2,cue=L1,due=aue,hue=M1,fue=200;function pue(n,e,t){var r=-1,s=lue,i=n.length,a=!0,o=[],l=o;if(t)a=!1,s=uue;else if(i>=fue){var u=e?null:due(n);if(u)return hue(u);a=!1,s=cue,l=new oue}else l=e?[]:o;e:for(;++r<i;){var d=n[r],h=e?e(d):d;if(d=t||d!==0?d:0,a&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),o.push(d)}else s(l,h,t)||(l!==o&&l.push(h),o.push(d))}return o}var gue=pue,mue=gue;function yue(n){return n&&n.length?mue(n):[]}var vue=yue;const _ue=ge(vue),J2={PREFIX:`${Y}-tree`,PREFIX_OPTION:`${Y}-tree-option`};function eF(n,e){return`${n}-${e}`}function Xv(n){return!Hl(n)&&!dt(n)}function so(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const s=[],i=!!r,a=K(t,"key","key"),o=K(t,"children","children");function l(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map((h,f)=>{const p=eF(d?d.pos:"0",f),_=h[a],m={};t&&Object.entries(Ko(t,"children")).forEach(b=>{let[w,E]=b;const S=h[E];!dt(S)&&(m[w]=S)});const v=Object.assign(Object.assign(Object.assign({},zl(h,["key","label","value","icon","disabled","isLeaf"])),m),{parent:d,pos:p,children:null,data:h,_innerDataTag:!0,isEnd:[...d?d.isEnd:[],f===u.length-1]}),y=typeof r=="boolean";return(!i||!y&&r.has(_))&&s.push(v),e.has(_)&&(!i||!y&&r.has(_))?v.children=l(h[o]||[],v):v.children=[],v})}return l(n),s}function bue(n,e,t){const r=K(t,"key","key"),s=K(t,"children","children"),i=(a,o,l)=>{const u=a?a[s]:n,d=a?eF(l.pos,o):"0";if(a){const h=K(a,r,null),f={data:Object.assign({},a),ind:o,pos:d,key:h!==null?h:d,parentPos:l.node?l.pos:null,level:Number(l.level)+1};e(f)}u&&u.forEach((h,f)=>{i(h,f,{node:a,pos:d,level:l?Number(l.level)+1:-1})})};i(null)}function wue(n,e){const t={},r={},s={},i={posEntities:t,keyEntities:r,valueEntities:s},a=K(e,"value","value");return bue(n,o=>{const{pos:l,key:u,parentPos:d}=o,h=Object.assign({},o),f=K(h,`data.${a}`,null);f!==null&&(s[f]=u),t[l]=h,r[u]=h,h.parent=t[d],h.parent&&(h.parent.children=h.parent.children||[],h.parent.children.push(h))},e),i}function dl(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!Xv(n))return[];if(!t&&Array.isArray(n)?n=n.length?[n[0]]:[]:Array.isArray(n)||(n=[n]),pt(e))return n;const r=[];return n.forEach(s=>{s in e?r.push(e[s]):s&&r.push(s)}),r}function Ui(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{if(!i)return;const{children:a}=i;Xv(a)&&a.forEach(l=>{r.push(l.key),s(e[l.key])})};return n.forEach(i=>{t&&r.push(i),s(e[i])}),r}function Eue(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=[];return n&&n.forEach(s=>{const i=e[s];i&&i.children&&i.children.forEach(a=>{(!t.length||!t.includes(a.key))&&r.push(a.key)})}),r}function nT(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[];return n.forEach(i=>{e[i]&&e[i].parent&&r.push(e[i].parent.key)}),Eue(_ue(r),e,t?[]:n)}function Bi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{i.parent&&(r.push(i.parent.key),s(i.parent))};return n.forEach(i=>{e[i]&&s(e[i]),t&&r.push(i)}),r}function Sue(n,e){const t={};return n.forEach(r=>{if(!e[r])return;const{level:s}=e[r];t[s]?t[s].push(r):t[s]=[r]}),t}function wp(n,e){const t=Array.isArray(n)?n:[n],r=Ui(t,e,!0),s=new Set([...r]);let i=new Set([]),a=[];const o=Sue(t,e),l=u=>{const{key:d,parent:h,level:f}=u;if(!h||a.includes(d))return;const p=nT([d],e);if(a=[...a,...p],p.every(m=>s.has(m)))s.add(h.key),f-1 in o&&f?o[f-1].push(h.key):o[f-1]=[h.key];else{const m=Bi([d],e,!1);i=new Set([...i,...m])}};for(;!pt(o);){const u=tue(Object.keys(o).map(d=>Number(d)));o[u].forEach(d=>l(e[d])),delete o[u]}return{checkedKeys:s,halfCheckedKeys:i}}function Zb(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Array.isArray(n)||(n=[n]),t){const r=Bi(n,e,!0);return new Set(r)}return new Set(n)}function iR(n,e,t,r){const s=dl(n,r,t);return new Set(Bi(s,e,!1))}function aR(n,e,t){let r="show";const s=[...n],i=[...e];if(Math.abs(s.length-i.length)!==1)return{motionType:r,motionKeys:[]};let a=[];return s.length>i.length?(r="hide",a=by(s,i)):a=by(i,s),{motionType:a.length===1?r:"show",motionKeys:a.length===1?Ui(a,t,!1):[]}}function tF(n,e,t,r){if(!t)return!0;let s=t,i=e;return typeof t=="boolean"&&(s=(a,o)=>{const l=a.toLowerCase();return o.toString().toLowerCase().includes(l)}),r&&(i=e[r]),s(n,i,e)}function Qs(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3?arguments[3]:void 0;const s=[],i=new Set(n);return t?n.forEach(a=>{e[a]&&!Xv(e[a].children)&&s.push(a),!e[a]&&r&&s.push(a)}):n.forEach(a=>{if(!e[a]){r&&s.push(a);return}const{parent:o}=e[a];o&&i.has(o.key)||s.push(a)}),s}function oR(n,e,t){const r=[],s=i=>{t[i].children&&t[i].children.forEach(a=>{const{key:o}=a;r.push(o),e.has(o)&&s(o)})};return s(n),r}function nF(n,e,t,r){const s=Ui([n],e,!0),i=e[n];t=new Set([...t,n]);const a=o=>{if(!o.parent)return;const{key:l}=o;if(nT([l],e).every(h=>t.has(h))){const h=o.parent;t.add(h.key),a(h)}else{const h=Bi([l],e,!1);r=new Set([...r,...h])}};return a(i),{checkedKeys:new Set([...t,...s]),halfCheckedKeys:r}}function rF(n,e,t,r){const s=Ui([n],e,!0),i=e[n];s.forEach(o=>{t.has(o)&&t.delete(o),r.has(o)&&r.delete(o)});const a=o=>{const l=o.parent;if(!l||!t.has(l.key)&&!r.has(l.key))return;const{key:u}=o,h=nT([u],e).some(p=>t.has(p)||r.has(p)),f=Bi([u],e,!1);h?f.forEach(p=>{t.has(p)&&(t.delete(p),r.add(p))}):(t.has(l.key)&&t.delete(l.key),r.has(l.key)&&r.delete(l.key),a(l))};return i&&a(i),{checkedKeys:t,halfCheckedKeys:r}}function Cue(n){const{showFilteredOnly:e,keyEntities:t,inputValue:r,treeData:s,filterTreeNode:i,filterProps:a,prevExpandedKeys:o,keyMaps:l}=n;let u=[];u=Object.values(t).filter(_=>tF(r,_.data,i,a)).map(_=>_.key);let d=Bi(u,t,!1);if(o.length){const _=o.filter(m=>!!t[m]);d=d.concat(_)}const h=Ui(u,t,!0),f=new Set([...h,...d]);return{flattenNodes:so(s,new Set(d),l,e&&f),filteredKeys:new Set(u),filteredExpandedKeys:new Set(d),filteredShownKeys:f}}function wy(n,e){const t=K(e,"value","value"),r=K(e,"key","key");return Array.isArray(n)?n.map(s=>K(s,t,s[r])):K(n,t,n[r])}function qa(n,e,t){return e&&Xv(n)?wy(n,t):n}function lR(n,e){return[...n].filter(r=>r in e)}function sF(n,e){const t=K(e,"disabled","disabled"),r=Object.keys(n).filter(i=>n[i].data[t]),{checkedKeys:s}=wp(r,n);return s}const iF={PREFIX:`${Y}-cascader`,PREFIX_OPTION:`${Y}-cascader-option`},Mt={SIZE_SET:["small","large","default"],VALIDATE_STATUS:["success","default","error","warning"],SHOW_NEXT_BY_CLICK:"click",SHOW_NEXT_BY_HOVER:"hover",LEAF_ONLY_MERGE_TYPE:"leafOnly",AUTO_MERGE_VALUE_MERGE_TYPE:"autoMergeValue",NONE_MERGE_TYPE:"none",SEARCH_POSITION_TRIGGER:"trigger",RELATED:"related",UN_RELATED:"unRelated"},aF="_SEMI_CASCADER_SPLIT_";function Tue(n,e){return`${n}-${e}`}function Oue(n){return!Hl(n)&&!dt(n)}function Iue(n){return Array.isArray(n)?n:[n]}function Pue(n,e,t,r){if(!t)return!0;let s=t,i;return typeof t=="boolean"?(s=(a,o)=>{const l=a.toLowerCase();return o.toLowerCase().includes(l)},i=r.join("")):i=r.join(),s(n,i,e)}function xue(n,e){const t=(r,s,i)=>{const a=r?r.children:n;let o=null;if(r){const l=i?`${i.key}${aF}${r.value}`:`${r.value}`,u=i?Tue(i.pos,s):`${s}`;o={data:Object.assign({},r),ind:s,key:l,pos:u,level:i?i.level+1:0,parentKey:i?i.key:null,path:i?[...i.path,l]:[l],valuePath:i?[...i.valuePath,r.value]:[r.value]},e(o)}a&&a.forEach((l,u)=>{t(l,u,o)})};t(null)}function Rue(n){return n!=null&&n.length?Array.isArray(n[0])?n.map(e=>Ey(e)):[Ey(n)]:[]}function Ey(n){return n.join(aF)}function Aue(n,e){const t=n.split("-").map(i=>Number(i));let r=e,s=[];return t.forEach((i,a)=>{var o;r=a===0?r[i]:(o=r==null?void 0:r.children)===null||o===void 0?void 0:o[i],s.push(r==null?void 0:r.value)}),Ey(s)}function oF(n){const e={};return xue(n,t=>{const{key:r,parentKey:s}=t,i=Object.assign({},t);e[r]=i,i.parent=e[s],i.parent&&(i.parent.children=i.parent.children||[],i.parent.children.push(i))}),e}function pE(n,e){let t;return e?t=Mt.LEAF_ONLY_MERGE_TYPE:n?t=Mt.AUTO_MERGE_VALUE_MERGE_TYPE:t=Mt.NONE_MERGE_TYPE,t}class Due extends Pe{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===R2&&this.getState("isOpen")&&this.close(t)},this.updateSearching=t=>{this._adapter.updateStates({isSearching:!1})},this.handleTagRemoveByKey=t=>{var r,s;const{keyEntities:i}=this.getStates(),{disabled:a}=this.getProps();if(a)return;const o=(r=i[t])!==null&&r!==void 0?r:{};!(!((s=o==null?void 0:o.data)===null||s===void 0)&&s.disable)&&this._handleMultipleSelect(o),this._adapter.rePositionDropdown()},this.handleTagRemoveInTrigger=t=>{const{treeData:r}=this.getStates(),s=Aue(t,r);this.handleTagRemoveByKey(s)}}init(){const e=this.getProp("open")||this.getProp("defaultOpen");this.collectOptions(!0),this._adapter.updateLoadingKeyRefValue(new Set),this._adapter.updateLoadedKeyRefValue(new Set),e&&!this._isDisabled()&&this.open()}destroy(){this._adapter.unregisterClickOutsideHandler()}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filterTreeNode")}_notifyChange(e){const{onChangeWithObject:t,multiple:r}=this.getProps(),s=t?[]:"value";if(r){const i=[];e.forEach(a=>{const o=this.getItemPropPath(a,s);i.push(o)}),this._adapter.notifyChange(i)}else{const i=dt(e)||!("key"in e)?[]:this.getItemPropPath(e.key,s);this._adapter.notifyChange(i)}}_isLeaf(e){return this.getProp("loadData")?!!e.isLeaf:!e.children||!e.children.length}_clearInput(){this._adapter.updateInputValue("")}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}_isOptionDisabled(e,t){return Bi([e],t,!0).some(s=>t[s].data.disabled)}getItemPropPath(e,t,r){const s=r||this.getState("keyEntities"),i=s[e];let a=[];if(i)if(i._notExist)a=i.path;else{const o=i.path;a=Array.isArray(t)?o.map(l=>s[l].data):o.map(l=>s[l].data[t])}return a}_getCacheValue(e){const{selectedKeys:t}=this.getStates(),r=Array.from(t)[0];let s;if(pt(e[r]))if(sc(r,"not-exist-")){const i=r.match(/not-exist-(\S*)/)[1];pt(e[i])?s=i:s=e[i].valuePath}else s=r;else s=e[r].valuePath;return s}collectOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{treeData:t,value:r,defaultValue:s}=this.getProps(),i=oF(t);this._adapter.rePositionDropdown();let a;e?a=s:pt(i)||(a=this._getCacheValue(i));const o=this._isControlledComponent()?dt(r)?[]:r:a;Oue(o)?this.updateSelectedKey(o,i):this._adapter.updateStates({keyEntities:i})}handleValueChange(e){const{keyEntities:t}=this.getStates();this.updateSelectedKey(e,t)}_getClearSelectedKey(e){const t={},{searchPlaceholder:r,placeholder:s,multiple:i}=this.getProps();return t.selectedKeys=new Set([]),t.activeKeys=new Set([]),t.filteredKeys=new Set([]),e&&!i&&(t.inputPlaceHolder=r||s||"",t.inputValue=""),t}updateSelectedKey(e,t){const{changeOnSelect:r,onChangeWithObject:s,multiple:i}=this.getProps(),{activeKeys:a,loading:o,keyEntities:l,selectedKeys:u}=this.getStates(),d=this._adapter.getLoadingKeyRefValue(),h=this._isFilterable(),f=[...a].filter(w=>d.has(w)),p=Iue(e),_=s&&Pa(p[0])?p.map(w=>w.value):p,m=Rue(_);let v={};const y=m.length>0?m[0]:void 0,b=y?t[y]:void 0;if(b)if(r||this._isLeaf(b.data)){if(v.selectedKeys=new Set([y]),f.length||(v.activeKeys=new Set(b.path)),h&&!i){const w=this.renderDisplayText(y,t);v.inputPlaceHolder=w}}else ke(m,Array.from(u))&&(v=this._getClearSelectedKey(h));else if(e&&e.length){const w=_[_.length-1],E=`not-exist-${w}`,S={data:{label:w,value:w},key:E,path:_,_notExist:!0};if(v.selectedKeys=new Set([E]),h&&!i){const C=this._defaultRenderText(_);v.inputPlaceHolder=C}t[E]=S}else if(o){v.keyEntities=nle(l,t),this._adapter.updateStates(v);return}else v=this._getClearSelectedKey(h);v.keyEntities=t,this._adapter.updateStates(v)}open(){const e=this._isFilterable(),{multiple:t}=this.getProps();this._adapter.openMenu(),e&&(this._clearInput(),!t&&this.toggle2SearchInput(!0)),this._isControlledComponent()&&this.reCalcActiveKeys(),this._adapter.notifyDropdownVisibleChange(!0),this._adapter.registerClickOutsideHandler(r=>this.close(r))}reCalcActiveKeys(){const{selectedKeys:e,activeKeys:t,keyEntities:r}=this.getStates(),s=[...e][0],i=r[s];if(!i)return;const a=new Set(i.path);ke(a,t)||this._adapter.updateStates({activeKeys:a})}close(e,t){const{multiple:r}=this.getProps();if(this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.unregisterClickOutsideHandler(),this._isFilterable()){const{selectedKeys:s,isSearching:i}=this.getStates();let a="";t&&!r?a=this.renderDisplayText(t):s.size&&!r&&(a=this.renderDisplayText([...s][0])),this._adapter.updateStates({inputValue:a}),!r&&this.toggle2SearchInput(!1),!r&&this._adapter.updateFocusState(!1)}this._notifyBlur(e)}focus(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.focusInput(),this._adapter.updateFocusState(!0)}blur(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.blurInput(),this._adapter.updateFocusState(!1)}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focus()):this._adapter.toggleInputShow(e,()=>{})}handleItemClick(e,t){this._isDisabled()||(this.handleSingleSelect(e,t),this._adapter.rePositionDropdown())}handleItemHover(e,t){this._isDisabled()||this.handleShowNextByHover(t)}handleShowNextByHover(e){const{keyEntities:t}=this.getStates(),{data:r,key:s}=e,i=this._isLeaf(r),a=t[s].path;this._adapter.updateStates({activeKeys:new Set(a)}),i||this.notifyIfLoadData(e)}onItemCheckboxClick(e){this._isDisabled()||(this._handleMultipleSelect(e),this._adapter.rePositionDropdown())}handleClick(e){const t=this._isDisabled(),r=this._isFilterable(),{isOpen:s}=this.getStates();t||(s?s&&!r&&this.close(e):(this.open(),this._notifyFocus(e)))}handleSelectionEnterPress(e){$s(e)&&this.handleClick(e)}toggleHoverState(e){this._adapter.toggleHovering(e)}_defaultRenderText(e,t){const r=this.getProp("separator");return t&&typeof t=="function"?t(e):e.join(r)}renderDisplayText(e,t){const r=this.getProp("displayRender"),s=this.getProp("displayProp"),i=this.getItemPropPath(e,s,t);return this._defaultRenderText(i,r)}handleNodeLoad(e){const{data:t,key:r}=e,s=new Set(this._adapter.getLoadingKeyRefValue()),a=new Set(this._adapter.getLoadedKeyRefValue()).add(r),o=new Set([...s]);o.delete(r),this._adapter.notifyOnLoad(a,t),this._adapter.updateLoadingKeyRefValue(o),this._adapter.updateLoadedKeyRefValue(a),this._adapter.updateStates({loadingKeys:o,loadedKeys:a})}notifyIfLoadData(e){const{data:t,key:r}=e;if(this._adapter.updateStates({loading:!1}),!t.isLeaf&&!t.children&&this.getProp("loadData")){const s=this._adapter.getLoadedKeyRefValue(),i=new Set(this._adapter.getLoadingKeyRefValue());if(s.has(r)||i.has(r))return;this._adapter.updateStates({loading:!0});const{keyEntities:a}=this.getStates(),o=this.getItemPropPath(r,[],a),l=i.add(r);this._adapter.updateLoadingKeyRefValue(l),this._adapter.updateStates({loadingKeys:l}),this._adapter.notifyLoadData(o,this.handleNodeLoad.bind(this,e))}}handleSingleSelect(e,t){const{changeOnSelect:r,filterLeafOnly:s,multiple:i,enableLeafClick:a}=this.getProps(),{keyEntities:o,selectedKeys:l,isSearching:u}=this.getStates(),d=this._isFilterable(),{data:h,key:f}=t,p=this._isLeaf(h),_=o[f].path,m=[f],v=f!==[...l][0];if(!p&&!r&&!u){this._adapter.updateStates({activeKeys:new Set(_)}),this.notifyIfLoadData(t);return}if(i)this._adapter.updateStates({activeKeys:new Set(_)}),p&&a&&this.onItemCheckboxClick(t);else if(this._adapter.notifySelect(h.value),v){if(this._notifyChange(t),this.notifyIfLoadData(t),this._isControlledComponent()){this._adapter.updateStates({activeKeys:new Set(_)}),p&&this.close(e);return}this._adapter.updateStates({activeKeys:new Set(_),selectedKeys:new Set(m)});const y=this.renderDisplayText(f);d&&this._adapter.updateInputPlaceHolder(y),p?this.close(e,f):!s&&u&&this.close(e,f)}else this.close(e)}_handleMultipleSelect(e){const{checkRelation:t}=this.getProps();t===Mt.RELATED?this._handleRelatedMultipleSelect(e):t==="unRelated"&&this._handleUnRelatedMultipleSelect(e),this._adapter.updateStates({inputValue:""})}_handleRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s,resolvedCheckedKeys:i}=this.getStates(),{autoMergeValue:a,max:o,disableStrictly:l,leafOnly:u}=this.getProps(),d=r.has(t),h=l?this.calcCheckedStatus(!d,t):!d,{checkedKeys:f,halfCheckedKeys:p}=l?this.calcNonDisabledCheckedKeys(t,h):this.calcCheckedKeys(t,h),_=pE(a,u),m=_===Mt.LEAF_ONLY_MERGE_TYPE,v=_===Mt.NONE_MERGE_TYPE,y=new Set(Qs(f,s,m)),b=v?f:y;if(jt(o)){if(v){if(r.size<f.size&&f.size>o){const w=[];f.forEach(E=>{w.push(s[E])}),this._adapter.notifyOnExceed(w);return}}else if(i.size<y.size&&y.size>o){const w=[];y.forEach(E=>{w.push(s[E])}),this._adapter.notifyOnExceed(w);return}}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:f,halfCheckedKeys:p,resolvedCheckedKeys:y}),this._notifyChange(b),h&&this._notifySelect(b)}_handleUnRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s}=this.getStates(),{max:i}=this.getProps(),a=new Set(r);let o;if(r.has(t))a.delete(t),o=!1;else{if(jt(i)&&r.size>=i){const u=[];r.forEach(d=>{u.push(s[d])}),this._adapter.notifyOnExceed(u);return}a.add(t),o=!0}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:a}),this._notifyChange(a),o&&this._notifySelect(a)}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),a=Qs(Ui([e],r,!1),r,!0);if(!a.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=a.filter(d=>!s.has(d)),u=t?[...l,...i]:by(Qs([...i],r,!0),l);return wp(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),a=Qs(Ui([t],s,!1),s,!0);return a.some(d=>i.has(d))?!a.filter(d=>!i.has(d)).every(d=>r.has(d)):e}_notifySelect(e){const{keyEntities:t}=this.getStates(),r=[];e.forEach(i=>{var a,o;const l=(o=(a=t[i])===null||a===void 0?void 0:a.data)===null||o===void 0?void 0:o.value;l!==void 0&&r.push(l)});const s=r.length===1?r[0]:r;this._adapter.notifySelect(s)}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?nF(e,r,s,i):rF(e,r,s,i)}handleInputChange(e){this._adapter.updateInputValue(e);const{keyEntities:t}=this.getStates(),{treeNodeFilterProp:r,filterTreeNode:s,filterLeafOnly:i}=this.getProps();let a=[];e&&(a=Object.values(t).filter(o=>{const{key:l,_notExist:u,data:d}=o;if(u)return!1;const h=this.getItemPropPath(l,r);return Pue(e,d,s,h)}).filter(o=>s&&!i||this._isLeaf(o)).map(o=>o.key)),this._adapter.updateStates({isSearching:!!e,filteredKeys:new Set(a)}),this._adapter.notifyOnSearch(e),this._adapter.rePositionDropdown()}handleClear(){const{isSearching:e}=this.getStates(),{searchPlaceholder:t,placeholder:r,multiple:s}=this.getProps(),i=this._isFilterable(),a=this._isControlledComponent(),o={};s?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch(""),o.checkedKeys=new Set([]),o.halfCheckedKeys=new Set([]),o.selectedKeys=new Set([]),o.activeKeys=new Set([]),o.resolvedCheckedKeys=new Set([]),this._adapter.notifyChange([])):i&&e?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")):(i&&(o.inputValue="",o.inputPlaceHolder=t||r||"",this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")),a||(o.selectedKeys=new Set([])),o.activeKeys=new Set([]),o.filteredKeys=new Set([]),this._adapter.notifyChange([])),this._adapter.updateStates(o),this._adapter.notifyClear(),this._adapter.rePositionDropdown()}handleClearEnterPress(e){$s(e)&&this.handleClear()}getRenderData(){const{keyEntities:e,isSearching:t}=this.getStates(),r=this._isFilterable();return t&&r?this.getFilteredData():Object.values(e).filter(s=>s.parentKey===null&&!s._notExist).sort((s,i)=>parseInt(s.ind,10)-parseInt(i.ind,10))}getFilteredData(){const{treeNodeFilterProp:e,filterSorter:t}=this.getProps(),{filteredKeys:r,keyEntities:s,inputValue:i}=this.getStates(),a=[];return[...r].forEach(l=>{const u=s[l];if(!u)return;const d=this.getItemPropPath(l,[]),h=d.map(p=>p[e]),f=this._isOptionDisabled(l,s);a.push({data:u.data,pathData:d,key:l,disabled:f,searchText:h})}),Te(t)&&a.sort((l,u)=>t(l.pathData,u.pathData,i)),a}handleListScroll(e,t){const{activeKeys:r,keyEntities:s}=this.getStates(),i=[...r][r.size-1],a=i?K(s,[i,"data"],null):null;this._adapter.notifyListScroll(e,{panelIndex:t,activeNode:a})}}var kue=fi,Nue=Yr,$ue="[object Boolean]";function Lue(n){return n===!0||n===!1||Nue(n)&&kue(n)==$ue}var Mue=Lue;const lF=ge(Mue),um={PREFIX:`${Y}-checkbox`,INPUT:`${Y}-checkbox-input`,WRAPPER:""},Fue={PREFIX:`${Y}-checkboxGroup`},Ai={DIRECTION_SET:["horizontal","vertical"],TYPE_DEFAULT:"default",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",DEFAULT_DIRECTION:"vertical"};class jue extends Pe{constructor(e){super(Object.assign({},e)),this.clickState=!1,this.handleFocusVisible=t=>{const{target:r}=t;try{if(this.clickState){this.clickState=!1;return}r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{kt(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}notifyChange(e,t){const r=this._adapter.generateEvent(e,t);this._adapter.notifyChange(r)}handleChange(e){if(this.getProp("disabled"))return;if((e==null?void 0:e.type)==="click"&&(this.clickState=!0),this._adapter.focusCheckboxEntity(),this._adapter.getIsInGroup()){this._adapter.getGroupDisabled()||this.handleChangeInGroup(e);return}const i=!this.getState("checked");this._isControlledComponent("checked")?this.notifyChange(i,e):(this.setChecked(i),this.notifyChange(i,e))}handleChangeInGroup(e){const{value:t}=this.getProps(),i=!this._adapter.getGroupValue().includes(t),a=this._adapter.generateEvent(i,e);this._adapter.notifyChange(a),this._adapter.notifyGroupChange(a)}handleEnterPress(e){$s(e)&&this.handleChange(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}destroy(){}}const rT=g.createContext({});class Qv extends T.PureComponent{blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){const{indeterminate:e,checked:t,disabled:r,prefixCls:s,name:i,isPureCardType:a,addonId:o,extraId:l,focusInner:u,onInputFocus:d,onInputBlur:h}=this.props,f=s||um.PREFIX,p=A({[`${f}-inner`]:!0,[`${f}-inner-checked`]:!!t,[`${f}-inner-pureCardType`]:a},um.WRAPPER),_=A({[`${f}-inner-display`]:!0,[`${f}-focus`]:u,[`${f}-focus-border`]:u&&!t}),m=t?g.createElement(pie,null):e?g.createElement(hie,null):null,v={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":r,"aria-checked":t,"aria-labelledby":o,"aria-describedby":l||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:um.INPUT,onChange:k,checked:t,disabled:r,onFocus:d,onBlur:h};return i&&(v.name=i),g.createElement("span",{className:p},g.createElement("input",Object.assign({},v,{ref:y=>{this.inputEntity=y}})),g.createElement("span",{className:_},m))}}Qv.contextType=rT;Qv.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,disabled:c.bool,onChange:c.func,children:c.node,grouped:c.bool,value:c.any,isPureCardType:c.bool,addonId:c.string,extraId:c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};Qv.defaultProps={onChange:k};class Aa extends we{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{const{onChange:t}=this.props;t&&t(e)},generateEvent:(e,t)=>{const{props:r}=this;return{target:Object.assign(Object.assign({},r),{checked:e}),stopPropagation:()=>{t.stopPropagation()},preventDefault:()=>{t.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation()}}}},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:e=>{this.context.checkboxGroup.onChange(e)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:xa({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:xa({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})},focusCheckboxEntity:()=>{this.focus()}})}constructor(e){super(e),this.handleChange=r=>this.foundation.handleChange(r),this.handleEnterPress=r=>this.foundation.handleEnterPress(r),this.handleFocusVisible=r=>{this.foundation.handleFocusVisible(r)},this.handleBlur=r=>{this.foundation.handleBlur()};const t=!1;this.state={checked:e.checked||e.defaultChecked||t,addonId:e.addonId,extraId:e.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new jue(this.adapter)}componentDidUpdate(e){this.props.checked!==e.checked&&(dt(this.props.checked)?this.foundation.setChecked(!1):lF(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return!!(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){const{disabled:e,style:t,prefixCls:r,className:s,indeterminate:i,children:a,onMouseEnter:o,onMouseLeave:l,extra:u,value:d,role:h,tabIndex:f,id:p,type:_}=this.props,{checked:m,addonId:v,extraId:y,focusVisible:b}=this.state,w={checked:m,disabled:e},E=this.isInGroup();if(E){if(this.context.checkboxGroup.value){const L=(this.context.checkboxGroup.value||[]).includes(d);w.checked=L}this.context.checkboxGroup.disabled&&(w.disabled=this.context.checkboxGroup.disabled||this.props.disabled);const{isCardType:D,isPureCardType:N}=this.context.checkboxGroup;w.isCardType=D,w.isPureCardType=N,w.name=this.context.checkboxGroup.name}else w.isPureCardType=_===Ai.TYPE_PURECARD,w.isCardType=_===Ai.TYPE_CARD||w.isPureCardType;const S=r||um.PREFIX,C=w.isCardType||w.isPureCardType,O=A(S,{[`${S}-disabled`]:w.disabled,[`${S}-indeterminate`]:i,[`${S}-checked`]:w.checked,[`${S}-unChecked`]:!w.checked,[`${S}-cardType`]:w.isCardType,[`${S}-cardType_disabled`]:w.disabled&&w.isCardType,[`${S}-cardType_enable`]:!(w.disabled&&w.isCardType),[`${S}-cardType_checked`]:w.isCardType&&w.checked&&!w.disabled,[`${S}-cardType_checked_disabled`]:w.isCardType&&w.checked&&w.disabled,[s]:!!s,[`${S}-focus`]:b&&C}),I=A(`${S}-extra`,{[`${S}-cardType_extra_noChildren`]:w.isCardType&&!a});E&&this.context.checkboxGroup.name;const P=this.props["x-semi-children-alias"]||"children",x=()=>!a&&!u?null:g.createElement("div",{className:`${S}-content`},a?g.createElement("span",{id:v,className:`${S}-addon`,"x-semi-prop":P},a):null,u?g.createElement("div",{id:y,className:I,"x-semi-prop":"extra"},u):null);return g.createElement("span",Object.assign({role:h,tabIndex:f,style:t,className:O,id:p,onMouseEnter:o,onMouseLeave:l,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),g.createElement(Qv,Object.assign({},this.props,w,{addonId:a&&v,extraId:u&&y,isPureCardType:w.isPureCardType,ref:D=>{this.checkboxEntity=D},focusInner:b&&!C,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),x())}}Aa.contextType=rT;Aa.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,defaultChecked:c.bool,disabled:c.bool,indeterminate:c.bool,onChange:c.func,value:c.any,style:c.object,className:c.string,prefixCls:c.string,onMouseEnter:c.func,onMouseLeave:c.func,extra:c.node,index:c.number,"aria-label":c.string,tabIndex:c.number,preventScroll:c.bool,type:c.string};Aa.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:k,onMouseEnter:k,onMouseLeave:k,type:"default"};Aa.elementType="Checkbox";class sT extends Pe{static get checkboxGroupDefaultAdapter(){return{}}constructor(e){super(Object.assign(Object.assign({},sT.checkboxGroupDefaultAdapter),e))}init(){const{defaultValue:e,value:t}=this.getProps();typeof e<"u"&&!Array.isArray(e)&&kt(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),typeof t<"u"&&!Array.isArray(t)&&kt(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(e){this._adapter.notifyChange(e)}handleChange(e){const t=this.getState("value");let r=[];Array.isArray(t)||(r=[t]),e.target.checked?r=[...t,e.target.value]:r=t.filter((i,a)=>i!==e.target.value),"value"in this.getProps()?this.notifyChange(r):(this._adapter.updateGroupValue(r),this.notifyChange(r))}getFormatName(){return this.getProp("name")||"default"}handlePropValueChange(e){Array.isArray(e)?this._adapter.updateGroupValue(e):(typeof e>"u"&&this._adapter.updateGroupValue([]),kt(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}}class Ep extends we{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:e=>{this.setState({value:e})},notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}constructor(e){super(e),this.state={value:e.value||e.defaultValue},this.foundation=new sT(this.adapter),this.onChange=this.onChange.bind(this)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){ke(e.value,this.props.value)||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(e){this.foundation.handleChange(e)}render(){const{children:e,options:t,prefixCls:r,direction:s,className:i,id:a,style:o,type:l,disabled:u}=this.props,d=l===Ai.TYPE_PURECARD,h=l===Ai.TYPE_CARD||d,f=r||Fue.PREFIX,p=A({[f]:!0,[`${f}-wrapper`]:!0,[`${f}-${s}`]:s,[`${f}-${s}-cardType`]:s&&h,[`${f}-${s}-pureCardType`]:s&&d},i),_=this.state.value.slice();let m;return t?m=(t||[]).map((v,y)=>typeof v=="string"?g.createElement(Aa,{role:"listitem",key:y,disabled:this.props.disabled,value:v,prefixCls:r},v):g.createElement(Aa,{role:"listitem",key:y,disabled:v.disabled||this.props.disabled,value:v.value,prefixCls:r,extra:v.extra,className:v.className,style:v.style,onChange:v.onChange},v.label)):e&&(m=g.Children.toArray(e).map((v,y)=>g.cloneElement(v,{key:y,role:"listitem"}))),g.createElement("div",Object.assign({id:a,role:"list","aria-label":this.props["aria-label"],className:p,style:o,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),g.createElement(rT.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:_,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:h,isPureCardType:d}}},m))}}Ep.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,defaultValue:c.array,disabled:c.bool,name:c.string,options:c.array,value:c.array,onChange:c.func,children:c.node,prefixCls:c.string,direction:c.oneOf(Ai.DIRECTION_SET),className:c.string,type:c.oneOf([Ai.TYPE_DEFAULT,Ai.TYPE_CARD,Ai.TYPE_PURECARD]),style:c.object};Ep.defaultProps={disabled:!1,onChange:()=>{},type:Ai.TYPE_DEFAULT,defaultValue:[],direction:Ai.DEFAULT_DIRECTION};class gE extends Aa{}gE.Group=Ep;function mE(){return mE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mE.apply(null,arguments)}function Vue(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,gy(n,e)}var uR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Uue(n,e){return!!(n===e||uR(n)&&uR(e))}function Bue(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Uue(n[t],e[t]))return!1;return!0}function Jb(n,e){e===void 0&&(e=Bue);var t,r=[],s,i=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return i&&t===this&&e(o,r)||(s=n.apply(this,o),i=!0,t=this,r=o),s}return a}var Hue=typeof performance=="object"&&typeof performance.now=="function",cR=Hue?function(){return performance.now()}:function(){return Date.now()};function dR(n){cancelAnimationFrame(n.id)}function zue(n,e){var t=cR();function r(){cR()-t>=e?n.call(null):s.id=requestAnimationFrame(r)}var s={id:requestAnimationFrame(r)};return s}var e0=-1;function hR(n){if(n===void 0&&(n=!1),e0===-1||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),e0=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return e0}var xu=null;function fR(n){if(n===void 0&&(n=!1),xu===null||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?xu="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?xu="negative":xu="positive-ascending"),document.body.removeChild(e),xu}return xu}var Kue=150,Wue=function(e,t){return e};function Gue(n){var e,t=n.getItemOffset,r=n.getEstimatedTotalSize,s=n.getItemSize,i=n.getOffsetForIndexAndAlignment,a=n.getStartIndexForOffset,o=n.getStopIndexForStartIndex,l=n.initInstanceProps,u=n.shouldResetStyleCacheOnItemSizeChange,d=n.validateProps;return e=function(h){Vue(f,h);function f(_){var m;return m=h.call(this,_)||this,m._instanceProps=l(m.props,ee(m)),m._outerRef=void 0,m._resetIsScrollingTimeoutId=null,m.state={instance:ee(m),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof m.props.initialScrollOffset=="number"?m.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},m._callOnItemsRendered=void 0,m._callOnItemsRendered=Jb(function(v,y,b,w){return m.props.onItemsRendered({overscanStartIndex:v,overscanStopIndex:y,visibleStartIndex:b,visibleStopIndex:w})}),m._callOnScroll=void 0,m._callOnScroll=Jb(function(v,y,b){return m.props.onScroll({scrollDirection:v,scrollOffset:y,scrollUpdateWasRequested:b})}),m._getItemStyle=void 0,m._getItemStyle=function(v){var y=m.props,b=y.direction,w=y.itemSize,E=y.layout,S=m._getItemStyleCache(u&&w,u&&E,u&&b),C;if(S.hasOwnProperty(v))C=S[v];else{var O=t(m.props,v,m._instanceProps),I=s(m.props,v,m._instanceProps),P=b==="horizontal"||E==="horizontal",x=b==="rtl",D=P?O:0;S[v]=C={position:"absolute",left:x?void 0:D,right:x?D:void 0,top:P?0:O,height:P?"100%":I,width:P?I:"100%"}}return C},m._getItemStyleCache=void 0,m._getItemStyleCache=Jb(function(v,y,b){return{}}),m._onScrollHorizontal=function(v){var y=v.currentTarget,b=y.clientWidth,w=y.scrollLeft,E=y.scrollWidth;m.setState(function(S){if(S.scrollOffset===w)return null;var C=m.props.direction,O=w;if(C==="rtl")switch(fR()){case"negative":O=-w;break;case"positive-descending":O=E-b-w;break}return O=Math.max(0,Math.min(O,E-b)),{isScrolling:!0,scrollDirection:S.scrollOffset<O?"forward":"backward",scrollOffset:O,scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._onScrollVertical=function(v){var y=v.currentTarget,b=y.clientHeight,w=y.scrollHeight,E=y.scrollTop;m.setState(function(S){if(S.scrollOffset===E)return null;var C=Math.max(0,Math.min(E,w-b));return{isScrolling:!0,scrollDirection:S.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._outerRefSetter=function(v){var y=m.props.outerRef;m._outerRef=v,typeof y=="function"?y(v):y!=null&&typeof y=="object"&&y.hasOwnProperty("current")&&(y.current=v)},m._resetIsScrollingDebounced=function(){m._resetIsScrollingTimeoutId!==null&&dR(m._resetIsScrollingTimeoutId),m._resetIsScrollingTimeoutId=zue(m._resetIsScrolling,Kue)},m._resetIsScrolling=function(){m._resetIsScrollingTimeoutId=null,m.setState({isScrolling:!1},function(){m._getItemStyleCache(-1,null)})},m}f.getDerivedStateFromProps=function(m,v){return Yue(m,v),d(m),null};var p=f.prototype;return p.scrollTo=function(m){m=Math.max(0,m),this.setState(function(v){return v.scrollOffset===m?null:{scrollDirection:v.scrollOffset<m?"forward":"backward",scrollOffset:m,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},p.scrollToItem=function(m,v){v===void 0&&(v="auto");var y=this.props,b=y.itemCount,w=y.layout,E=this.state.scrollOffset;m=Math.max(0,Math.min(m,b-1));var S=0;if(this._outerRef){var C=this._outerRef;w==="vertical"?S=C.scrollWidth>C.clientWidth?hR():0:S=C.scrollHeight>C.clientHeight?hR():0}this.scrollTo(i(this.props,m,v,E,this._instanceProps,S))},p.componentDidMount=function(){var m=this.props,v=m.direction,y=m.initialScrollOffset,b=m.layout;if(typeof y=="number"&&this._outerRef!=null){var w=this._outerRef;v==="horizontal"||b==="horizontal"?w.scrollLeft=y:w.scrollTop=y}this._callPropsCallbacks()},p.componentDidUpdate=function(){var m=this.props,v=m.direction,y=m.layout,b=this.state,w=b.scrollOffset,E=b.scrollUpdateWasRequested;if(E&&this._outerRef!=null){var S=this._outerRef;if(v==="horizontal"||y==="horizontal")if(v==="rtl")switch(fR()){case"negative":S.scrollLeft=-w;break;case"positive-ascending":S.scrollLeft=w;break;default:var C=S.clientWidth,O=S.scrollWidth;S.scrollLeft=O-C-w;break}else S.scrollLeft=w;else S.scrollTop=w}this._callPropsCallbacks()},p.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&dR(this._resetIsScrollingTimeoutId)},p.render=function(){var m=this.props,v=m.children,y=m.className,b=m.direction,w=m.height,E=m.innerRef,S=m.innerElementType,C=m.innerTagName,O=m.itemCount,I=m.itemData,P=m.itemKey,x=P===void 0?Wue:P,D=m.layout,N=m.outerElementType,L=m.outerTagName,V=m.style,B=m.useIsScrolling,F=m.width,W=this.state.isScrolling,$=b==="horizontal"||D==="horizontal",j=$?this._onScrollHorizontal:this._onScrollVertical,M=this._getRangeToRender(),te=M[0],Q=M[1],ie=[];if(O>0)for(var le=te;le<=Q;le++)ie.push(T.createElement(v,{data:I,key:x(le,I),index:le,isScrolling:B?W:void 0,style:this._getItemStyle(le)}));var Ee=r(this.props,this._instanceProps);return T.createElement(N||L||"div",{className:y,onScroll:j,ref:this._outerRefSetter,style:mE({position:"relative",height:w,width:F,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:b},V)},T.createElement(S||C||"div",{children:ie,ref:E,style:{height:$?"100%":Ee,pointerEvents:W?"none":void 0,width:$?Ee:"100%"}}))},p._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var m=this.props.itemCount;if(m>0){var v=this._getRangeToRender(),y=v[0],b=v[1],w=v[2],E=v[3];this._callOnItemsRendered(y,b,w,E)}}if(typeof this.props.onScroll=="function"){var S=this.state,C=S.scrollDirection,O=S.scrollOffset,I=S.scrollUpdateWasRequested;this._callOnScroll(C,O,I)}},p._getRangeToRender=function(){var m=this.props,v=m.itemCount,y=m.overscanCount,b=this.state,w=b.isScrolling,E=b.scrollDirection,S=b.scrollOffset;if(v===0)return[0,0,0,0];var C=a(this.props,S,this._instanceProps),O=o(this.props,C,S,this._instanceProps),I=!w||E==="backward"?Math.max(1,y):1,P=!w||E==="forward"?Math.max(1,y):1;return[Math.max(0,C-I),Math.max(0,Math.min(v-1,O+P)),C,O]},f}(T.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Yue=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},iT=Gue({getItemOffset:function(e,t){var r=e.itemSize;return t*r},getItemSize:function(e,t){var r=e.itemSize;return r},getEstimatedTotalSize:function(e){var t=e.itemCount,r=e.itemSize;return r*t},getOffsetForIndexAndAlignment:function(e,t,r,s,i,a){var o=e.direction,l=e.height,u=e.itemCount,d=e.itemSize,h=e.layout,f=e.width,p=o==="horizontal"||h==="horizontal",_=p?f:l,m=Math.max(0,u*d-_),v=Math.min(m,t*d),y=Math.max(0,t*d-_+d+a);switch(r==="smart"&&(s>=y-_&&s<=v+_?r="auto":r="center"),r){case"start":return v;case"end":return y;case"center":{var b=Math.round(y+(v-y)/2);return b<Math.ceil(_/2)?0:b>m+Math.floor(_/2)?m:b}case"auto":default:return s>=y&&s<=v?s:s<y?y:v}},getStartIndexForOffset:function(e,t){var r=e.itemCount,s=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/s)))},getStopIndexForStartIndex:function(e,t,r){var s=e.direction,i=e.height,a=e.itemCount,o=e.itemSize,l=e.layout,u=e.width,d=s==="horizontal"||l==="horizontal",h=t*o,f=d?u:i,p=Math.ceil((f+r-h)/o);return Math.max(0,Math.min(a-1,t+p-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const que=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,a=s[e];return i(a,e,r)},lt=iF.PREFIX_OPTION;let Zv=class extends T.PureComponent{constructor(){var e;super(...arguments),e=this,this.onClick=(t,r)=>{const{onItemClick:s}=this.props;r.data.disabled||"disabled"in r&&r.disabled||s(t,r)},this.handleItemEnterPress=(t,r)=>{$s(t)&&this.onClick(t,r)},this.onHover=(t,r)=>{const{showNext:s,onItemHover:i}=this.props;r.data.disabled||s===Mt.SHOW_NEXT_BY_HOVER&&i(t,r)},this.onCheckboxChange=(t,r)=>{const{onItemCheckboxClick:s}=this.props;t.stopPropagation(),t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation(),s(r)},this.getItemStatus=t=>{const{activeKeys:r,selectedKeys:s,loadedKeys:i,loadingKeys:a}=this.props,o={active:!1,selected:!1,loading:!1};return r.has(t)&&(o.active=!0),s.has(t)&&(o.selected=!0),a.has(t)&&!i.has(t)&&(o.loading=!0),o},this.renderIcon=function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=i=>i+(r?` ${lt}-icon-left`:"");switch(t){case"child":const{expandIcon:i}=e.props;return i||g.createElement(T2,{className:s(`${lt}-icon ${lt}-icon-expand`)});case"tick":return g.createElement(zv,{className:s(`${lt}-icon ${lt}-icon-active`)});case"loading":return g.createElement(qi,{wrapperClassName:s(`${lt}-spin-icon`)});case"empty":return g.createElement("span",{"aria-hidden":!0,className:s(`${lt}-icon ${lt}-icon-empty`)});default:return null}},this.highlight=t=>{const r=[],{keyword:s,separator:i}=this.props;return t.forEach((a,o)=>{typeof a=="string"&&sc(a,s)?a.split(s).forEach((l,u)=>{u>0&&r.push(g.createElement("span",{className:`${lt}-label-highlight`,key:`${u}-${o}`},s)),r.push(l)}):r.push(a),o!==t.length-1&&r.push(i)}),r},this.renderFlattenOptionItem=(t,r,s)=>{var i;const{multiple:a,selectedKeys:o,checkedKeys:l,halfCheckedKeys:u,keyword:d,filterRender:h,virtualize:f}=this.props,{searchText:p,key:_,disabled:m,pathData:v}=t,y=o.has(_),b=A(lt,{[`${lt}-flatten`]:!h,[`${lt}-disabled`]:m,[`${lt}-select`]:y&&!a}),w=C=>{this.onClick(C,t)},E=C=>this.handleItemEnterPress(C,t),S=C=>this.onCheckboxChange(C,t);if(h){const C={className:b,inputValue:d,disabled:m,data:v,checkStatus:{checked:l.has(t.key),halfChecked:u.has(t.key)},selected:y,onClick:w,onCheck:S},O=h(C),I=f?{key:_,style:Object.assign(Object.assign({},(i=O.props.style)!==null&&i!==void 0?i:{}),s)}:{key:_};return g.cloneElement(O,I)}return g.createElement("li",{role:"menuitem",className:b,style:s,key:_,onClick:w,onKeyPress:E},g.createElement("span",{className:`${lt}-label`},!a&&this.renderIcon("empty"),a&&g.createElement(gE,{onChange:S,disabled:m,indeterminate:u.has(t.key),checked:l.has(t.key),className:`${lt}-label-checkbox`}),this.highlight(p)))},this.renderFlattenOption=t=>{const{virtualize:r}=this.props;return g.createElement("ul",{className:`${lt}-list`,key:"flatten-list"},r?this.renderVirtualizeList(t):t.map(i=>this.renderFlattenOptionItem(i)))},this.renderVirtualizeList=t=>{var r;const{direction:s}=this.context,{virtualize:i}=this.props;return g.createElement(iT,{height:i.height,itemCount:t.length,itemSize:i.itemSize,itemData:{visibleOptions:t,renderOption:this.renderFlattenOptionItem},width:(r=i.width)!==null&&r!==void 0?r:"100%",style:{direction:s}},que)}}renderItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const{multiple:r,checkedKeys:s,halfCheckedKeys:i}=this.props;let a;const o=t.length;return t.push(g.createElement("ul",{role:"menu",className:`${lt}-list`,key:e[0].key,onScroll:l=>this.props.onListScroll(l,o)},e.map(l=>{const{data:u,key:d,parentKey:h}=l,{children:f,label:p,disabled:_,isLeaf:m}=u,{active:v,selected:y,loading:b}=this.getItemStatus(d),w=!!f&&f.length,E=w||this.props.loadData&&!m;v&&w&&(a=l);const S=A(lt,{[`${lt}-active`]:v&&!y,[`${lt}-select`]:y&&!r,[`${lt}-disabled`]:_}),C=h?{"aria-owns":`cascaderItem-${h}`}:{};return g.createElement("li",Object.assign({role:"menuitem",id:`cascaderItem-${d}`,"aria-expanded":v,"aria-haspopup":!!E,"aria-disabled":_},C,{className:S,key:d,onClick:O=>{this.onClick(O,l)},onKeyPress:O=>this.handleItemEnterPress(O,l),onMouseEnter:O=>{this.onHover(O,l)}}),g.createElement("span",{className:`${lt}-label`},y&&!r&&this.renderIcon("tick"),!y&&!r&&this.renderIcon("empty"),r&&g.createElement(gE,{onChange:O=>this.onCheckboxChange(O,l),disabled:_,indeterminate:i.has(l.key),checked:s.has(l.key),className:`${lt}-label-checkbox`}),g.createElement("span",null,p)),E?this.renderIcon(b?"loading":"child",!0):null)}))),a&&t.concat(this.renderItem(a.children,t)),t}renderEmpty(){const{emptyContent:e}=this.props;return e===null?null:g.createElement(dn,{componentName:"Cascader"},t=>g.createElement("ul",{className:`${lt} ${lt}-empty`,key:"empty-list"},g.createElement("span",{className:`${lt}-label`,"x-semi-prop":"emptyContent"},e||t.emptyText)))}render(){const{data:e,searchable:t}=this.props,{direction:r}=this.context,s=!e||!e.length;let i;const a=A({[`${lt}-lists`]:!0,[`${lt}-lists-rtl`]:r==="rtl",[`${lt}-lists-empty`]:s});return s?i=this.renderEmpty():i=t?this.renderFlattenOption(e):this.renderItem(e),g.createElement("div",{className:a},i)}};Zv.contextType=kr;Zv.propTypes={data:c.array,emptyContent:c.node,searchable:c.bool,onItemClick:c.func,onItemHover:c.func,multiple:c.bool,showNext:c.oneOf([Mt.SHOW_NEXT_BY_CLICK,Mt.SHOW_NEXT_BY_HOVER]),checkedKeys:c.object,halfCheckedKeys:c.object,onItemCheckboxClick:c.func,separator:c.string,keyword:c.string,virtualize:c.object,expandIcon:c.node};Zv.defaultProps={empty:!1};const uF={PREFIX:`${Y}-tag`},vd={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]};var Xue=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const sr=uF.PREFIX,cF=vd.TAG_COLOR,dF=vd.TAG_SIZE,hF=vd.TAG_TYPE,Que=vd.AVATAR_SHAPE;class Jt extends T.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,r){const{onClose:s}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),s&&s(t,e,r),!e.defaultPrevented&&this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:r,onKeyDown:s}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),Xs(e);break;case"Enter":r(e),Xs(e);break;case"Escape":e.target.blur();break}s&&s(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return g.createElement(Uc,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:r,size:s,color:i,closable:a,visible:o,onClose:l,onClick:u,className:d,type:h,shape:f,avatarSrc:p,avatarShape:_,tabIndex:m,prefixIcon:v,suffixIcon:y}=e,b=Xue(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:w}=this.state,E=u!==Jt.defaultProps.onClick||a,S={role:"button",tabIndex:m||0,onKeyDown:this.handleKeyDown},C=Object.assign(Object.assign({},b),{onClick:u,tabIndex:m,className:A(sr,{[`${sr}-default`]:s==="default",[`${sr}-small`]:s==="small",[`${sr}-large`]:s==="large",[`${sr}-square`]:f==="square",[`${sr}-circle`]:f==="circle",[`${sr}-${h}`]:h,[`${sr}-${i}-${h}`]:i&&h,[`${sr}-closable`]:a,[`${sr}-invisible`]:!w,[`${sr}-avatar-${_}`]:p},d)}),O=E?Object.assign(Object.assign({},C),S):C,I=a?g.createElement("div",{className:`${sr}-close`,onClick:D=>this.close(D,r,t)},g.createElement(Hv,{size:"small"})):null,P=Oe(r),x=A(`${sr}-content`,`${sr}-content-${P?"ellipsis":"center"}`);return g.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${a?"Closable ":""}Tag: ${r}`:""},O),v?g.createElement("div",{className:`${sr}-prefix-icon`},v):null,p?this.renderAvatar():null,g.createElement("div",{className:x},r),y?g.createElement("div",{className:`${sr}-suffix-icon`},y):null,I)}}Jt.defaultProps={size:dF[0],color:cF[0],closable:!1,type:hF[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null};Jt.propTypes={children:c.node,tagKey:c.oneOfType([c.string,c.number]),size:c.oneOf(dF),color:c.oneOf(cF),type:c.oneOf(hF),closable:c.bool,visible:c.bool,onClose:c.func,onClick:c.func,prefixIcon:c.node,suffixIcon:c.node,style:c.object,className:c.string,avatarSrc:c.string,avatarShape:c.oneOf(Que),"aria-label":c.string};const Zue={PREFIX:`${Y}-tagInput`},pR={SIZE_SET:["large","default","small"],STATUS:["success","default","error","warning"]},Pg=(n,e)=>{let t=[];if(Oe(e)||jt(e))t=n.split(e);else if(y1(e)){const r=e[0];t=n;for(let s=1;s<e.length;s++)t=t.split(e[s]).join(r);t=t.split(r)}else t.push(n);return t};function Jue(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}class ece extends Pe{constructor(e){super(Object.assign({},e)),this.handleInputChange=t=>{const{value:r}=t.target,{entering:s}=this.getStates();s?this._onInputChange(r,t):this._checkInputChangeValid(r)&&this._onInputChange(r,t)},this.handleInputCompositionStart=t=>{const{maxLength:r}=this.getProps();jt(r)&&this._adapter.setEntering(!0)},this.handleInputCompositionEnd=t=>{const{value:r}=t.target,{maxLength:s,onInputExceed:i,separator:a}=this.getProps();if(!jt(s))return;this._adapter.setEntering(!1);let o=!0;const l=Pg(r,a);let u=0;for(;u<l.length;u++)if(l[u].length>s){o=!1,Te(i)&&i(r);break}if(o)this._adapter.setInputValue(r);else{const d=l.slice(0,u);u<l.length&&d.push(l[u].slice(0,s)),this._adapter.setInputValue(d.join(a))}},this._checkInputChangeValid=t=>{const{maxLength:r,onInputExceed:s,separator:i}=this._adapter.getProps(),{inputValue:a}=this._adapter.getStates();let o=!0;if(jt(r)){const l=Pg(t,i),u=Pg(a,i),d=Math.max(l.length,u.length);for(let h=0;h<d;h++)if(!dt(l[h])&&(dt(u[h])||l[h].length>u[h].length)&&l[h].length>r){o=!1,Te(s)&&s(t);break}}return o},this.handleKeyDown=t=>{const{inputValue:r,tagsArray:s}=this._adapter.getStates(),i=t.keyCode;i===Nn.ENTER&&(t.preventDefault(),r!==""&&this._handleAddTags(t));const{length:a}=s;if(i===Nn.BACKSPACE&&r===""&&a>0){const o=s.slice(0,a-1),l=s[a-1];this._onRemove(o,l,a-1)}this._adapter.notifyKeyDown(t)}}_handleAddTags(e){const{separator:t,max:r,onExceed:s,allowDuplicates:i}=this._adapter.getProps(),{inputValue:a,tagsArray:o}=this._adapter.getStates();let l=Pg(a,t);l=l.filter((d,h)=>!i&&(o.includes(d)||l.indexOf(d)!==h)?!1:Oe(d)&&d.trim()!=="");let u=o.concat(l);jt(r)&&u.length>r&&(Te(s)&&s(u),u=u.slice(0,r),l=l.slice(0,r-o.length)),l.length>0&&this._onAdd(u,l),this._onInputChange("",e)}handleInputBlur(e){const{addOnBlur:t}=this._adapter.getProps();t===!0&&this._handleAddTags(e),this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputFocus(e){this._adapter.setFocusing(!0),this._adapter.notifyFocus(e)}handleClearEnterPress(e){$s(e)&&this.handleClearBtn(e)}handleClearBtn(e){const{inputValue:t,tagsArray:r}=this._adapter.getStates();r.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),t.length>0&&this._onInputChange("",e),e.stopPropagation()}handleTagClose(e){const{tagsArray:t}=this._adapter.getStates(),r=[...t];r.splice(e,1);const s=t[e];this._onRemove(r,s,e)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(e){const{disabled:t}=this.getProps();if(t)return;this._adapter.getClickOutsideHandler()||(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(s=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&this._adapter.toggleFocusing(!0)}handlePreventMouseDown(e){e&&Te(e.preventDefault)&&e.preventDefault()}_onRemove(e,t,r){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagRemove(t,r)}_onAdd(e,t){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagAdd(t)}_onInputChange(e,t){this._adapter.setInputValue(e),this._adapter.notifyInputChange(e,t)}handleSortEnd(e){const{oldIndex:t,newIndex:r}=e,{tagsArray:s}=this.getStates(),i=Jue(s,t,r);this._isControlledComponent()||this._adapter.setTagsArray(i),this._adapter.notifyTagChange(i)}}function tce(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return T.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _d(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function aT(n){return"nodeType"in n}function $r(n){var e,t;return n?_d(n)?n:aT(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function oT(n){const{Document:e}=$r(n);return n instanceof e}function Sp(n){return _d(n)?!1:n instanceof $r(n).HTMLElement}function fF(n){return n instanceof $r(n).SVGElement}function bd(n){return n?_d(n)?n.document:aT(n)?oT(n)?n:Sp(n)||fF(n)?n.ownerDocument:document:document:document}const ai=Jv?T.useLayoutEffect:T.useEffect;function e_(n){const e=T.useRef(n);return ai(()=>{e.current=n}),T.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function nce(){const n=T.useRef(null),e=T.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=T.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function yf(n,e){e===void 0&&(e=[n]);const t=T.useRef(n);return ai(()=>{t.current!==n&&(t.current=n)},e),t}function Cp(n,e){const t=T.useRef();return T.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Sy(n){const e=e_(n),t=T.useRef(null),r=T.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function Cy(n){const e=T.useRef();return T.useEffect(()=>{e.current=n},[n]),e.current}let t0={};function Tp(n,e){return T.useMemo(()=>{if(e)return e;const t=t0[n]==null?0:t0[n]+1;return t0[n]=t,n+"-"+t},[n,e])}function pF(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((i,a)=>{const o=Object.entries(a);for(const[l,u]of o){const d=i[l];d!=null&&(i[l]=d+n*u)}return i},{...e})}}const _c=pF(1),vf=pF(-1);function rce(n){return"clientX"in n&&"clientY"in n}function t_(n){if(!n)return!1;const{KeyboardEvent:e}=$r(n.target);return e&&n instanceof e}function sce(n){if(!n)return!1;const{TouchEvent:e}=$r(n.target);return e&&n instanceof e}function Ty(n){if(sce(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return rce(n)?{x:n.clientX,y:n.clientY}:null}const No=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[No.Translate.toString(n),No.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),gR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ice(n){return n.matches(gR)?n:n.querySelector(gR)}const ace={display:"none"};function oce(n){let{id:e,value:t}=n;return g.createElement("div",{id:e,style:ace},t)}function lce(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return g.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function uce(){const[n,e]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const gF=T.createContext(null);function cce(n){const e=T.useContext(gF);T.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function dce(){const[n]=T.useState(()=>new Set),e=T.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[T.useCallback(r=>{let{type:s,event:i}=r;n.forEach(a=>{var o;return(o=a[s])==null?void 0:o.call(a,i)})},[n]),e]}const hce={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fce={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function pce(n){let{announcements:e=fce,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=hce}=n;const{announce:i,announcement:a}=uce(),o=Tp("DndLiveRegion"),[l,u]=T.useState(!1);if(T.useEffect(()=>{u(!0)},[]),cce(T.useMemo(()=>({onDragStart(h){let{active:f}=h;i(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:p}=h;e.onDragMove&&i(e.onDragMove({active:f,over:p}))},onDragOver(h){let{active:f,over:p}=h;i(e.onDragOver({active:f,over:p}))},onDragEnd(h){let{active:f,over:p}=h;i(e.onDragEnd({active:f,over:p}))},onDragCancel(h){let{active:f,over:p}=h;i(e.onDragCancel({active:f,over:p}))}}),[i,e])),!l)return null;const d=g.createElement(g.Fragment,null,g.createElement(oce,{id:r,value:s.draggable}),g.createElement(lce,{id:o,announcement:a}));return t?Os.createPortal(d,t):d}var On;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(On||(On={}));function Oy(){}function n0(n,e){return T.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function gce(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return T.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const oi=Object.freeze({x:0,y:0});function mF(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function mce(n,e){const t=Ty(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function yF(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function yce(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function mR(n){let{left:e,top:t,height:r,width:s}=n;return[{x:e,y:t},{x:e+s,y:t},{x:e,y:t+r},{x:e+s,y:t+r}]}function vF(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function yR(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const vce=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=yR(e,e.left,e.top),i=[];for(const a of r){const{id:o}=a,l=t.get(o);if(l){const u=mF(yR(l),s);i.push({id:o,data:{droppableContainer:a,value:u}})}}return i.sort(yF)},_ce=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=mR(e),i=[];for(const a of r){const{id:o}=a,l=t.get(o);if(l){const u=mR(l),d=s.reduce((f,p,_)=>f+mF(u[_],p),0),h=Number((d/4).toFixed(4));i.push({id:o,data:{droppableContainer:a,value:h}})}}return i.sort(yF)};function bce(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),i=Math.min(e.top+e.height,n.top+n.height),a=s-r,o=i-t;if(r<s&&t<i){const l=e.width*e.height,u=n.width*n.height,d=a*o,h=d/(l+u-d);return Number(h.toFixed(4))}return 0}const wce=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const i of r){const{id:a}=i,o=t.get(a);if(o){const l=bce(o,e);l>0&&s.push({id:a,data:{droppableContainer:i,value:l}})}}return s.sort(yce)};function Ece(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function _F(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:oi}function Sce(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((a,o)=>({...a,top:a.top+n*o.y,bottom:a.bottom+n*o.y,left:a.left+n*o.x,right:a.right+n*o.x}),{...t})}}const Cce=Sce(1);function bF(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Tce(n,e,t){const r=bF(e);if(!r)return n;const{scaleX:s,scaleY:i,x:a,y:o}=r,l=n.left-a-(1-s)*parseFloat(t),u=n.top-o-(1-i)*parseFloat(t.slice(t.indexOf(" ")+1)),d=s?n.width/s:n.width,h=i?n.height/i:n.height;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l}}const Oce={ignoreTransform:!1};function wd(n,e){e===void 0&&(e=Oce);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=$r(n).getComputedStyle(n);u&&(t=Tce(t,u,d))}const{top:r,left:s,width:i,height:a,bottom:o,right:l}=t;return{top:r,left:s,width:i,height:a,bottom:o,right:l}}function vR(n){return wd(n,{ignoreTransform:!0})}function Ice(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Pce(n,e){return e===void 0&&(e=$r(n).getComputedStyle(n)),e.position==="fixed"}function xce(n,e){e===void 0&&(e=$r(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?t.test(i):!1})}function n_(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(oT(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!Sp(s)||fF(s)||t.includes(s))return t;const i=$r(n).getComputedStyle(s);return s!==n&&xce(s,i)&&t.push(s),Pce(s,i)?t:r(s.parentNode)}return n?r(n):t}function wF(n){const[e]=n_(n,1);return e??null}function r0(n){return!Jv||!n?null:_d(n)?n:aT(n)?oT(n)||n===bd(n).scrollingElement?window:Sp(n)?n:null:null}function EF(n){return _d(n)?n.scrollX:n.scrollLeft}function SF(n){return _d(n)?n.scrollY:n.scrollTop}function yE(n){return{x:EF(n),y:SF(n)}}var kn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(kn||(kn={}));function CF(n){return!Jv||!n?!1:n===document.scrollingElement}function TF(n){const e={x:0,y:0},t=CF(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,i=n.scrollLeft<=e.x,a=n.scrollTop>=r.y,o=n.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:a,isRight:o,maxScroll:r,minScroll:e}}const Rce={x:.2,y:.2};function Ace(n,e,t,r,s){let{top:i,left:a,right:o,bottom:l}=t;r===void 0&&(r=10),s===void 0&&(s=Rce);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=TF(n),p={x:0,y:0},_={x:0,y:0},m={height:e.height*s.y,width:e.width*s.x};return!u&&i<=e.top+m.height?(p.y=kn.Backward,_.y=r*Math.abs((e.top+m.height-i)/m.height)):!d&&l>=e.bottom-m.height&&(p.y=kn.Forward,_.y=r*Math.abs((e.bottom-m.height-l)/m.height)),!f&&o>=e.right-m.width?(p.x=kn.Forward,_.x=r*Math.abs((e.right-m.width-o)/m.width)):!h&&a<=e.left+m.width&&(p.x=kn.Backward,_.x=r*Math.abs((e.left+m.width-a)/m.width)),{direction:p,speed:_}}function Dce(n){if(n===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function OF(n){return n.reduce((e,t)=>_c(e,yE(t)),oi)}function kce(n){return n.reduce((e,t)=>e+EF(t),0)}function Nce(n){return n.reduce((e,t)=>e+SF(t),0)}function IF(n,e){if(e===void 0&&(e=wd),!n)return;const{top:t,left:r,bottom:s,right:i}=e(n);wF(n)&&(s<=0||i<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const $ce=[["x",["left","right"],kce],["y",["top","bottom"],Nce]];class lT{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=n_(t),s=OF(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,a,o]of $ce)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=o(r),d=s[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Dh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Lce(n){const{EventTarget:e}=$r(n);return n instanceof e?n:bd(n)}function s0(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var ys;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(ys||(ys={}));function _R(n){n.preventDefault()}function Mce(n){n.stopPropagation()}var Ue;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Ue||(Ue={}));const PF={start:[Ue.Space,Ue.Enter],cancel:[Ue.Esc],end:[Ue.Space,Ue.Enter,Ue.Tab]},Fce=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Ue.Right:return{...t,x:t.x+25};case Ue.Left:return{...t,x:t.x-25};case Ue.Down:return{...t,y:t.y+25};case Ue.Up:return{...t,y:t.y-25}}};class uT{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Dh(bd(t)),this.windowListeners=new Dh($r(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ys.Resize,this.handleCancel),this.windowListeners.add(ys.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ys.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&IF(r),t(oi)}handleKeyDown(e){if(t_(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:i=PF,coordinateGetter:a=Fce,scrollBehavior:o="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:oi;this.referenceCoordinates||(this.referenceCoordinates=d);const h=a(e,{active:t,context:r.current,currentCoordinates:d});if(h){const f=vf(h,d),p={x:0,y:0},{scrollableAncestors:_}=r.current;for(const m of _){const v=e.code,{isTop:y,isRight:b,isLeft:w,isBottom:E,maxScroll:S,minScroll:C}=TF(m),O=Dce(m),I={x:Math.min(v===Ue.Right?O.right-O.width/2:O.right,Math.max(v===Ue.Right?O.left:O.left+O.width/2,h.x)),y:Math.min(v===Ue.Down?O.bottom-O.height/2:O.bottom,Math.max(v===Ue.Down?O.top:O.top+O.height/2,h.y))},P=v===Ue.Right&&!b||v===Ue.Left&&!w,x=v===Ue.Down&&!E||v===Ue.Up&&!y;if(P&&I.x!==h.x){const D=m.scrollLeft+f.x,N=v===Ue.Right&&D<=S.x||v===Ue.Left&&D>=C.x;if(N&&!f.y){m.scrollTo({left:D,behavior:o});return}N?p.x=m.scrollLeft-D:p.x=v===Ue.Right?m.scrollLeft-S.x:m.scrollLeft-C.x,p.x&&m.scrollBy({left:-p.x,behavior:o});break}else if(x&&I.y!==h.y){const D=m.scrollTop+f.y,N=v===Ue.Down&&D<=S.y||v===Ue.Up&&D>=C.y;if(N&&!f.x){m.scrollTo({top:D,behavior:o});return}N?p.y=m.scrollTop-D:p.y=v===Ue.Down?m.scrollTop-S.y:m.scrollTop-C.y,p.y&&m.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(e,_c(vf(h,this.referenceCoordinates),p))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}uT.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=PF,onActivation:s}=e,{active:i}=t;const{code:a}=n.nativeEvent;if(r.start.includes(a)){const o=i.activatorNode.current;return o&&n.target!==o?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function bR(n){return!!(n&&"distance"in n)}function wR(n){return!!(n&&"delay"in n)}class cT{constructor(e,t,r){var s;r===void 0&&(r=Lce(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=bd(a),this.documentListeners=new Dh(this.document),this.listeners=new Dh(r),this.windowListeners=new Dh($r(a)),this.initialCoordinates=(s=Ty(i))!=null?s:oi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ys.Resize,this.handleCancel),this.windowListeners.add(ys.DragStart,_R),this.windowListeners.add(ys.VisibilityChange,this.handleCancel),this.windowListeners.add(ys.ContextMenu,_R),this.documentListeners.add(ys.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(wR(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(bR(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ys.Click,Mce,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ys.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!s)return;const l=(t=Ty(e))!=null?t:oi,u=vf(s,l);if(!r&&o){if(bR(o)){if(o.tolerance!=null&&s0(u,o.tolerance))return this.handleCancel();if(s0(u,o.distance))return this.handleStart()}if(wR(o)&&s0(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ue.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const jce={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class xF extends cT{constructor(e){const{event:t}=e,r=bd(t.target);super(e,jce,r)}}xF.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const Vce={move:{name:"mousemove"},end:{name:"mouseup"}};var vE;(function(n){n[n.RightClick=2]="RightClick"})(vE||(vE={}));class RF extends cT{constructor(e){super(e,Vce,bd(e.event.target))}}RF.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===vE.RightClick?!1:(r==null||r({event:t}),!0)}}];const i0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class AF extends cT{constructor(e){super(e,i0)}static setup(){return window.addEventListener(i0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(i0.move.name,e)};function e(){}}}AF.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var kh;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(kh||(kh={}));var _f;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(_f||(_f={}));function Uce(n){let{acceleration:e,activator:t=kh.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:a=5,order:o=_f.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=n;const p=Hce({delta:h,disabled:!i}),[_,m]=nce(),v=T.useRef({x:0,y:0}),y=T.useRef({x:0,y:0}),b=T.useMemo(()=>{switch(t){case kh.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case kh.DraggableRect:return s}},[t,s,l]),w=T.useRef(null),E=T.useCallback(()=>{const C=w.current;if(!C)return;const O=v.current.x*y.current.x,I=v.current.y*y.current.y;C.scrollBy(O,I)},[]),S=T.useMemo(()=>o===_f.TreeOrder?[...u].reverse():u,[o,u]);T.useEffect(()=>{if(!i||!u.length||!b){m();return}for(const C of S){if((r==null?void 0:r(C))===!1)continue;const O=u.indexOf(C),I=d[O];if(!I)continue;const{direction:P,speed:x}=Ace(C,I,b,e,f);for(const D of["x","y"])p[D][P[D]]||(x[D]=0,P[D]=0);if(x.x>0||x.y>0){m(),w.current=C,_(E,a),v.current=x,y.current=P;return}}v.current={x:0,y:0},y.current={x:0,y:0},m()},[e,E,r,m,i,a,JSON.stringify(b),JSON.stringify(p),_,u,S,d,JSON.stringify(f)])}const Bce={x:{[kn.Backward]:!1,[kn.Forward]:!1},y:{[kn.Backward]:!1,[kn.Forward]:!1}};function Hce(n){let{delta:e,disabled:t}=n;const r=Cy(e);return Cp(s=>{if(t||!r||!s)return Bce;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[kn.Backward]:s.x[kn.Backward]||i.x===-1,[kn.Forward]:s.x[kn.Forward]||i.x===1},y:{[kn.Backward]:s.y[kn.Backward]||i.y===-1,[kn.Forward]:s.y[kn.Forward]||i.y===1}}},[t,e,r])}function zce(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Cp(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function Kce(n,e){return T.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,i=s.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...t,...i]},[]),[n,e])}var bf;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(bf||(bf={}));var _E;(function(n){n.Optimized="optimized"})(_E||(_E={}));const ER=new Map;function Wce(n,e){let{dragging:t,dependencies:r,config:s}=e;const[i,a]=T.useState(null),{frequency:o,measure:l,strategy:u}=s,d=T.useRef(n),h=v(),f=yf(h),p=T.useCallback(function(y){y===void 0&&(y=[]),!f.current&&a(b=>b===null?y:b.concat(y.filter(w=>!b.includes(w))))},[f]),_=T.useRef(null),m=Cp(y=>{if(h&&!t)return ER;if(!y||y===ER||d.current!==n||i!=null){const b=new Map;for(let w of n){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const E=w.node.current,S=E?new lT(l(E),E):null;w.rect.current=S,S&&b.set(w.id,S)}return b}return y},[n,i,t,h,l]);return T.useEffect(()=>{d.current=n},[n]),T.useEffect(()=>{h||p()},[t,h]),T.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),T.useEffect(()=>{h||typeof o!="number"||_.current!==null||(_.current=setTimeout(()=>{p(),_.current=null},o))},[o,h,p,...r]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(u){case bf.Always:return!1;case bf.BeforeDragging:return t;default:return!t}}}function dT(n,e){return Cp(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function Gce(n,e){return dT(n,e)}function Yce(n){let{callback:e,disabled:t}=n;const r=e_(e),s=T.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,t]);return T.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function r_(n){let{callback:e,disabled:t}=n;const r=e_(e),s=T.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[t]);return T.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function qce(n){return new lT(wd(n),n)}function SR(n,e,t){e===void 0&&(e=qce);const[r,s]=T.useState(null);function i(){s(l=>{if(!n)return null;if(n.isConnected===!1){var u;return(u=l??t)!=null?u:null}const d=e(n);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const a=Yce({callback(l){if(n)for(const u of l){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(n)){i();break}}}}),o=r_({callback:i});return ai(()=>{i(),n?(o==null||o.observe(n),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),a==null||a.disconnect())},[n]),r}function Xce(n){const e=dT(n);return _F(n,e)}const CR=[];function Qce(n){const e=T.useRef(n),t=Cp(r=>n?r&&r!==CR&&n&&e.current&&n.parentNode===e.current.parentNode?r:n_(n):CR,[n]);return T.useEffect(()=>{e.current=n},[n]),t}function Zce(n){const[e,t]=T.useState(null),r=T.useRef(n),s=T.useCallback(i=>{const a=r0(i.target);a&&t(o=>o?(o.set(a,yE(a)),new Map(o)):null)},[]);return T.useEffect(()=>{const i=r.current;if(n!==i){a(i);const o=n.map(l=>{const u=r0(l);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,yE(u)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),r.current=n}return()=>{a(n),a(i)};function a(o){o.forEach(l=>{const u=r0(l);u==null||u.removeEventListener("scroll",s)})}},[s,n]),T.useMemo(()=>n.length?e?Array.from(e.values()).reduce((i,a)=>_c(i,a),oi):OF(n):oi,[n,e])}function TR(n,e){e===void 0&&(e=[]);const t=T.useRef(null);return T.useEffect(()=>{t.current=null},e),T.useEffect(()=>{const r=n!==oi;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?vf(n,t.current):oi}function Jce(n){T.useEffect(()=>{if(!Jv)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function ede(n,e){return T.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:i}=r;return t[s]=a=>{i(a,e)},t},{}),[n,e])}function DF(n){return T.useMemo(()=>n?Ice(n):null,[n])}const OR=[];function tde(n,e){e===void 0&&(e=wd);const[t]=n,r=DF(t?$r(t):null),[s,i]=T.useState(OR);function a(){i(()=>n.length?n.map(l=>CF(l)?r:new lT(e(l),l)):OR)}const o=r_({callback:a});return ai(()=>{o==null||o.disconnect(),a(),n.forEach(l=>o==null?void 0:o.observe(l))},[n]),s}function kF(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Sp(e)?e:n}function nde(n){let{measure:e}=n;const[t,r]=T.useState(null),s=T.useCallback(u=>{for(const{target:d}of u)if(Sp(d)){r(h=>{const f=e(d);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),i=r_({callback:s}),a=T.useCallback(u=>{const d=kF(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?e(d):null)},[e,i]),[o,l]=Sy(a);return T.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const rde=[{sensor:xF,options:{}},{sensor:uT,options:{}}],sde={current:{}},cm={draggable:{measure:vR},droppable:{measure:vR,strategy:bf.WhileDragging,frequency:_E.Optimized},dragOverlay:{measure:wd}};class Nh extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const ide={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Nh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Oy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:cm,measureDroppableContainers:Oy,windowRect:null,measuringScheduled:!1},NF={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Oy,draggableNodes:new Map,over:null,measureDroppableContainers:Oy},Op=T.createContext(NF),$F=T.createContext(ide);function ade(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Nh}}}function ode(n,e){switch(e.type){case On.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case On.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case On.DragEnd:case On.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case On.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new Nh(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case On.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const a=new Nh(n.droppable.containers);return a.set(t,{...i,disabled:s}),{...n,droppable:{...n.droppable,containers:a}}}case On.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const i=new Nh(n.droppable.containers);return i.delete(t),{...n,droppable:{...n.droppable,containers:i}}}default:return n}}function lde(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=T.useContext(Op),i=Cy(r),a=Cy(t==null?void 0:t.id);return T.useEffect(()=>{if(!e&&!r&&i&&a!=null){if(!t_(i)||document.activeElement===i.target)return;const o=s.get(a);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const h=ice(d);if(h){h.focus();break}}})}},[r,e,s,a,i]),null}function LF(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,i)=>i({transform:s,...r}),t):t}function ude(n){return T.useMemo(()=>({draggable:{...cm.draggable,...n==null?void 0:n.draggable},droppable:{...cm.droppable,...n==null?void 0:n.droppable},dragOverlay:{...cm.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function cde(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const i=T.useRef(!1),{x:a,y:o}=typeof s=="boolean"?{x:s,y:s}:s;ai(()=>{if(!a&&!o||!e){i.current=!1;return}if(i.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=t(u),h=_F(d,r);if(a||(h.x=0),o||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=wF(u);f&&f.scrollBy({top:h.y,left:h.x})}},[e,a,o,r,t])}const s_=T.createContext({...oi,scaleX:1,scaleY:1});var to;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(to||(to={}));const dde=T.memo(function(e){var t,r,s,i;let{id:a,accessibility:o,autoScroll:l=!0,children:u,sensors:d=rde,collisionDetection:h=wce,measuring:f,modifiers:p,..._}=e;const m=T.useReducer(ode,void 0,ade),[v,y]=m,[b,w]=dce(),[E,S]=T.useState(to.Uninitialized),C=E===to.Initialized,{draggable:{active:O,nodes:I,translate:P},droppable:{containers:x}}=v,D=O!=null?I.get(O):null,N=T.useRef({initial:null,translated:null}),L=T.useMemo(()=>{var Ot;return O!=null?{id:O,data:(Ot=D==null?void 0:D.data)!=null?Ot:sde,rect:N}:null},[O,D]),V=T.useRef(null),[B,F]=T.useState(null),[W,$]=T.useState(null),j=yf(_,Object.values(_)),M=Tp("DndDescribedBy",a),te=T.useMemo(()=>x.getEnabled(),[x]),Q=ude(f),{droppableRects:ie,measureDroppableContainers:le,measuringScheduled:Ee}=Wce(te,{dragging:C,dependencies:[P.x,P.y],config:Q.droppable}),he=zce(I,O),de=T.useMemo(()=>W?Ty(W):null,[W]),ue=Jo(),q=Gce(he,Q.draggable.measure);cde({activeNode:O!=null?I.get(O):null,config:ue.layoutShiftCompensation,initialRect:q,measure:Q.draggable.measure});const se=SR(he,Q.draggable.measure,q),yt=SR(he?he.parentElement:null),Nt=T.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:x,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Cn=x.getNodeFor((t=Nt.current.over)==null?void 0:t.id),Tt=nde({measure:Q.dragOverlay.measure}),jn=(r=Tt.nodeRef.current)!=null?r:he,vt=C?(s=Tt.rect)!=null?s:se:null,br=!!(Tt.nodeRef.current&&Tt.rect),hs=Xce(br?null:se),Qo=DF(jn?$r(jn):null),nn=Qce(C?Cn??he:null),wr=tde(nn),pi=LF(p,{transform:{x:P.x-hs.x,y:P.y-hs.y,scaleX:1,scaleY:1},activatorEvent:W,active:L,activeNodeRect:se,containerNodeRect:yt,draggingNodeRect:vt,over:Nt.current.over,overlayNodeRect:Tt.rect,scrollableAncestors:nn,scrollableAncestorRects:wr,windowRect:Qo}),gi=de?_c(de,P):null,Ba=Zce(nn),wu=TR(Ba),Eu=TR(Ba,[se]),mi=_c(pi,wu),er=vt?Cce(vt,pi):null,Vn=L&&er?h({active:L,collisionRect:er,droppableRects:ie,droppableContainers:te,pointerCoordinates:gi}):null,Xr=vF(Vn,"id"),[tr,yi]=T.useState(null),js=br?pi:_c(pi,Eu),ea=Ece(js,(i=tr==null?void 0:tr.rect)!=null?i:null,se),Un=T.useRef(null),Vs=T.useCallback((Ot,hn)=>{let{sensor:qt,options:fn}=hn;if(V.current==null)return;const pn=I.get(V.current);if(!pn)return;const rn=Ot.nativeEvent,Er=new qt({active:V.current,activeNode:pn,event:rn,options:fn,context:Nt,onAbort(gn){if(!I.get(gn))return;const{onDragAbort:_e}=j.current,Xe={id:gn};_e==null||_e(Xe),b({type:"onDragAbort",event:Xe})},onPending(gn,_i,_e,Xe){if(!I.get(gn))return;const{onDragPending:at}=j.current,sn={id:gn,constraint:_i,initialCoordinates:_e,offset:Xe};at==null||at(sn),b({type:"onDragPending",event:sn})},onStart(gn){const _i=V.current;if(_i==null)return;const _e=I.get(_i);if(!_e)return;const{onDragStart:Xe}=j.current,Vt={activatorEvent:rn,active:{id:_i,data:_e.data,rect:N}};Os.unstable_batchedUpdates(()=>{Xe==null||Xe(Vt),S(to.Initializing),y({type:On.DragStart,initialCoordinates:gn,active:_i}),b({type:"onDragStart",event:Vt}),F(Un.current),$(rn)})},onMove(gn){y({type:On.DragMove,coordinates:gn})},onEnd:ta(On.DragEnd),onCancel:ta(On.DragCancel)});Un.current=Er;function ta(gn){return async function(){const{active:_e,collisions:Xe,over:Vt,scrollAdjustedTranslate:at}=Nt.current;let sn=null;if(_e&&at){const{cancelDrop:_t}=j.current;sn={activatorEvent:rn,active:_e,collisions:Xe,delta:at,over:Vt},gn===On.DragEnd&&typeof _t=="function"&&await Promise.resolve(_t(sn))&&(gn=On.DragCancel)}V.current=null,Os.unstable_batchedUpdates(()=>{y({type:gn}),S(to.Uninitialized),yi(null),F(null),$(null),Un.current=null;const _t=gn===On.DragEnd?"onDragEnd":"onDragCancel";if(sn){const It=j.current[_t];It==null||It(sn),b({type:_t,event:sn})}})}}},[I]),Ha=T.useCallback((Ot,hn)=>(qt,fn)=>{const pn=qt.nativeEvent,rn=I.get(fn);if(V.current!==null||!rn||pn.dndKit||pn.defaultPrevented)return;const Er={active:rn};Ot(qt,hn.options,Er)===!0&&(pn.dndKit={capturedBy:hn.sensor},V.current=fn,Vs(qt,hn))},[I,Vs]),za=Kce(d,Ha);Jce(d),ai(()=>{se&&E===to.Initializing&&S(to.Initialized)},[se,E]),T.useEffect(()=>{const{onDragMove:Ot}=j.current,{active:hn,activatorEvent:qt,collisions:fn,over:pn}=Nt.current;if(!hn||!qt)return;const rn={active:hn,activatorEvent:qt,collisions:fn,delta:{x:mi.x,y:mi.y},over:pn};Os.unstable_batchedUpdates(()=>{Ot==null||Ot(rn),b({type:"onDragMove",event:rn})})},[mi.x,mi.y]),T.useEffect(()=>{const{active:Ot,activatorEvent:hn,collisions:qt,droppableContainers:fn,scrollAdjustedTranslate:pn}=Nt.current;if(!Ot||V.current==null||!hn||!pn)return;const{onDragOver:rn}=j.current,Er=fn.get(Xr),ta=Er&&Er.rect.current?{id:Er.id,rect:Er.rect.current,data:Er.data,disabled:Er.disabled}:null,gn={active:Ot,activatorEvent:hn,collisions:qt,delta:{x:pn.x,y:pn.y},over:ta};Os.unstable_batchedUpdates(()=>{yi(ta),rn==null||rn(gn),b({type:"onDragOver",event:gn})})},[Xr]),ai(()=>{Nt.current={activatorEvent:W,active:L,activeNode:he,collisionRect:er,collisions:Vn,droppableRects:ie,draggableNodes:I,draggingNode:jn,draggingNodeRect:vt,droppableContainers:x,over:tr,scrollableAncestors:nn,scrollAdjustedTranslate:mi},N.current={initial:vt,translated:er}},[L,he,Vn,er,I,jn,vt,ie,x,tr,nn,mi]),Uce({...ue,delta:P,draggingRect:er,pointerCoordinates:gi,scrollableAncestors:nn,scrollableAncestorRects:wr});const Zo=T.useMemo(()=>({active:L,activeNode:he,activeNodeRect:se,activatorEvent:W,collisions:Vn,containerNodeRect:yt,dragOverlay:Tt,draggableNodes:I,droppableContainers:x,droppableRects:ie,over:tr,measureDroppableContainers:le,scrollableAncestors:nn,scrollableAncestorRects:wr,measuringConfiguration:Q,measuringScheduled:Ee,windowRect:Qo}),[L,he,se,W,Vn,yt,Tt,I,x,ie,tr,le,nn,wr,Q,Ee,Qo]),vi=T.useMemo(()=>({activatorEvent:W,activators:za,active:L,activeNodeRect:se,ariaDescribedById:{draggable:M},dispatch:y,draggableNodes:I,over:tr,measureDroppableContainers:le}),[W,za,L,se,y,M,I,tr,le]);return g.createElement(gF.Provider,{value:w},g.createElement(Op.Provider,{value:vi},g.createElement($F.Provider,{value:Zo},g.createElement(s_.Provider,{value:ea},u)),g.createElement(lde,{disabled:(o==null?void 0:o.restoreFocus)===!1})),g.createElement(pce,{...o,hiddenTextDescribedById:M}));function Jo(){const Ot=(B==null?void 0:B.autoScrollEnabled)===!1,hn=typeof l=="object"?l.enabled===!1:l===!1,qt=C&&!Ot&&!hn;return typeof l=="object"?{...l,enabled:qt}:{enabled:qt}}}),hde=T.createContext(null),IR="button",fde="Draggable";function pde(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const i=Tp(fde),{activators:a,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=T.useContext(Op),{role:p=IR,roleDescription:_="draggable",tabIndex:m=0}=s??{},v=(l==null?void 0:l.id)===e,y=T.useContext(v?s_:hde),[b,w]=Sy(),[E,S]=Sy(),C=ede(a,e),O=yf(t);ai(()=>(h.set(e,{id:e,key:i,node:b,activatorNode:E,data:O}),()=>{const P=h.get(e);P&&P.key===i&&h.delete(e)}),[h,e]);const I=T.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":r,"aria-pressed":v&&p===IR?!0:void 0,"aria-roledescription":_,"aria-describedby":d.draggable}),[r,p,m,v,_,d.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:I,isDragging:v,listeners:r?void 0:C,node:b,over:f,setNodeRef:w,setActivatorNodeRef:S,transform:y}}function MF(){return T.useContext($F)}const gde="Droppable",mde={timeout:25};function yde(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const i=Tp(gde),{active:a,dispatch:o,over:l,measureDroppableContainers:u}=T.useContext(Op),d=T.useRef({disabled:t}),h=T.useRef(!1),f=T.useRef(null),p=T.useRef(null),{disabled:_,updateMeasurementsFor:m,timeout:v}={...mde,...s},y=yf(m??r),b=T.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),p.current=null},v)},[v]),w=r_({callback:b,disabled:_||!a}),E=T.useCallback((I,P)=>{w&&(P&&(w.unobserve(P),h.current=!1),I&&w.observe(I))},[w]),[S,C]=Sy(E),O=yf(e);return T.useEffect(()=>{!w||!S.current||(w.disconnect(),h.current=!1,w.observe(S.current))},[S,w]),T.useEffect(()=>(o({type:On.RegisterDroppable,element:{id:r,key:i,disabled:t,node:S,rect:f,data:O}}),()=>o({type:On.UnregisterDroppable,key:i,id:r})),[r]),T.useEffect(()=>{t!==d.current.disabled&&(o({type:On.SetDroppableDisabled,id:r,key:i,disabled:t}),d.current.disabled=t)},[r,i,t,o]),{active:a,rect:f,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:C}}function vde(n){let{animation:e,children:t}=n;const[r,s]=T.useState(null),[i,a]=T.useState(null),o=Cy(t);return!t&&!r&&o&&s(o),ai(()=>{if(!i)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){s(null);return}Promise.resolve(e(u,i)).then(()=>{s(null)})},[e,r,i]),g.createElement(g.Fragment,null,t,r?T.cloneElement(r,{ref:a}):null)}const _de={x:0,y:0,scaleX:1,scaleY:1};function bde(n){let{children:e}=n;return g.createElement(Op.Provider,{value:NF},g.createElement(s_.Provider,{value:_de},e))}const wde={position:"fixed",touchAction:"none"},Ede=n=>t_(n)?"transform 250ms ease":void 0,Sde=T.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:s,children:i,className:a,rect:o,style:l,transform:u,transition:d=Ede}=n;if(!o)return null;const h=s?u:{...u,scaleX:1,scaleY:1},f={...wde,width:o.width,height:o.height,top:o.top,left:o.left,transform:No.Transform.toString(h),transformOrigin:s&&r?mce(r,o):void 0,transition:typeof d=="function"?d(r):d,...l};return g.createElement(t,{className:a,style:f,ref:e},i)}),Cde=n=>e=>{let{active:t,dragOverlay:r}=e;const s={},{styles:i,className:a}=n;if(i!=null&&i.active)for(const[o,l]of Object.entries(i.active))l!==void 0&&(s[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(i!=null&&i.dragOverlay)for(const[o,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(o,l);return a!=null&&a.active&&t.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(s))t.node.style.setProperty(l,u);a!=null&&a.active&&t.node.classList.remove(a.active)}},Tde=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:No.Transform.toString(e)},{transform:No.Transform.toString(t)}]},Ode={duration:250,easing:"ease",keyframes:Tde,sideEffects:Cde({styles:{active:{opacity:"0"}}})};function Ide(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:s}=n;return e_((i,a)=>{if(e===null)return;const o=t.get(i);if(!o)return;const l=o.node.current;if(!l)return;const u=kF(a);if(!u)return;const{transform:d}=$r(a).getComputedStyle(a),h=bF(d);if(!h)return;const f=typeof e=="function"?e:Pde(e);return IF(l,s.draggable.measure),f({active:{id:i,data:o.data,node:l,rect:s.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:a,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function Pde(n){const{duration:e,easing:t,sideEffects:r,keyframes:s}={...Ode,...n};return i=>{let{active:a,dragOverlay:o,transform:l,...u}=i;if(!e)return;const d={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},h={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/o.rect.height:1},f={x:l.x-d.x,y:l.y-d.y,...h},p=s({...u,active:a,dragOverlay:o,transform:{initial:l,final:f}}),[_]=p,m=p[p.length-1];if(JSON.stringify(_)===JSON.stringify(m))return;const v=r==null?void 0:r({active:a,dragOverlay:o,...u}),y=o.node.animate(p,{duration:e,easing:t,fill:"forwards"});return new Promise(b=>{y.onfinish=()=>{v==null||v(),b()}})}}let PR=0;function xde(n){return T.useMemo(()=>{if(n!=null)return PR++,PR},[n])}const Rde=g.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:s,transition:i,modifiers:a,wrapperElement:o="div",className:l,zIndex:u=999}=n;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:p,draggableNodes:_,droppableContainers:m,dragOverlay:v,over:y,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:E,windowRect:S}=MF(),C=T.useContext(s_),O=xde(h==null?void 0:h.id),I=LF(a,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:p,draggingNodeRect:v.rect,over:y,overlayNodeRect:v.rect,scrollableAncestors:w,scrollableAncestorRects:E,transform:C,windowRect:S}),P=dT(f),x=Ide({config:r,draggableNodes:_,droppableContainers:m,measuringConfiguration:b}),D=P?v.setRef:void 0;return g.createElement(bde,null,g.createElement(vde,{animation:x},h&&O?g.createElement(Sde,{key:O,id:h.id,ref:D,as:o,activatorEvent:d,adjustScale:e,className:l,transition:i,rect:P,style:{zIndex:u,...s},transform:I},t):null))});function FF(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function Ade(n,e){return n.reduce((t,r,s)=>{const i=e.get(r);return i&&(t[s]=i),t},Array(n.length))}function xg(n){return n!==null&&n>=0}function Dde(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function kde(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const hT=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const i=FF(e,r,t),a=e[s],o=i[s];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},jF="Sortable",VF=g.createContext({activeIndex:-1,containerId:jF,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:hT,disabled:{draggable:!1,droppable:!1}});function Nde(n){let{children:e,id:t,items:r,strategy:s=hT,disabled:i=!1}=n;const{active:a,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:d}=MF(),h=Tp(jF,t),f=o.rect!==null,p=T.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),_=a!=null,m=a?p.indexOf(a.id):-1,v=u?p.indexOf(u.id):-1,y=T.useRef(p),b=!Dde(p,y.current),w=v!==-1&&m===-1||b,E=kde(i);ai(()=>{b&&_&&d(p)},[b,p,_,d]),T.useEffect(()=>{y.current=p},[p]);const S=T.useMemo(()=>({activeIndex:m,containerId:h,disabled:E,disableTransforms:w,items:p,overIndex:v,useDragOverlay:f,sortedRects:Ade(p,l),strategy:s}),[m,h,E.draggable,E.droppable,w,p,v,l,f,s]);return g.createElement(VF.Provider,{value:S},e)}const $de=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return FF(t,r,s).indexOf(e)},Lde=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:i,newIndex:a,previousItems:o,previousContainerId:l,transition:u}=n;return!u||!r||o!==i&&s===a?!1:t?!0:a!==s&&e===l},Mde={duration:200,easing:"ease"},UF="transform",Fde=No.Transition.toString({property:UF,duration:0,easing:"linear"}),jde={roleDescription:"sortable"};function Vde(n){let{disabled:e,index:t,node:r,rect:s}=n;const[i,a]=T.useState(null),o=T.useRef(t);return ai(()=>{if(!e&&t!==o.current&&r.current){const l=s.current;if(l){const u=wd(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&a(d)}}t!==o.current&&(o.current=t)},[e,t,r,s]),T.useEffect(()=>{i&&a(null)},[i]),i}function Ude(n){let{animateLayoutChanges:e=Lde,attributes:t,disabled:r,data:s,getNewIndex:i=$de,id:a,strategy:o,resizeObserverConfig:l,transition:u=Mde}=n;const{items:d,containerId:h,activeIndex:f,disabled:p,disableTransforms:_,sortedRects:m,overIndex:v,useDragOverlay:y,strategy:b}=T.useContext(VF),w=Bde(r,p),E=d.indexOf(a),S=T.useMemo(()=>({sortable:{containerId:h,index:E,items:d},...s}),[h,s,E,d]),C=T.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:O,node:I,isOver:P,setNodeRef:x}=yde({id:a,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...l}}),{active:D,activatorEvent:N,activeNodeRect:L,attributes:V,setNodeRef:B,listeners:F,isDragging:W,over:$,setActivatorNodeRef:j,transform:M}=pde({id:a,data:S,attributes:{...jde,...t},disabled:w.draggable}),te=tce(x,B),Q=!!D,ie=Q&&!_&&xg(f)&&xg(v),le=!y&&W,Ee=le&&ie?M:null,de=ie?Ee??(o??b)({rects:m,activeNodeRect:L,activeIndex:f,overIndex:v,index:E}):null,ue=xg(f)&&xg(v)?i({id:a,items:d,activeIndex:f,overIndex:v}):E,q=D==null?void 0:D.id,se=T.useRef({activeId:q,items:d,newIndex:ue,containerId:h}),yt=d!==se.current.items,Nt=e({active:D,containerId:h,isDragging:W,isSorting:Q,id:a,index:E,items:d,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:u,wasDragging:se.current.activeId!=null}),Cn=Vde({disabled:!Nt,index:E,node:I,rect:O});return T.useEffect(()=>{Q&&se.current.newIndex!==ue&&(se.current.newIndex=ue),h!==se.current.containerId&&(se.current.containerId=h),d!==se.current.items&&(se.current.items=d)},[Q,ue,h,d]),T.useEffect(()=>{if(q===se.current.activeId)return;if(q&&!se.current.activeId){se.current.activeId=q;return}const jn=setTimeout(()=>{se.current.activeId=q},50);return()=>clearTimeout(jn)},[q]),{active:D,activeIndex:f,attributes:V,data:S,rect:O,index:E,newIndex:ue,items:d,isOver:P,isSorting:Q,isDragging:W,listeners:F,node:I,overIndex:v,over:$,setNodeRef:te,setActivatorNodeRef:j,setDroppableNodeRef:x,setDraggableNodeRef:B,transform:Cn??de,transition:Tt()};function Tt(){if(Cn||yt&&se.current.newIndex===E)return Fde;if(!(le&&!t_(N)||!u)&&(Q||Nt))return No.Transition.toString({...u,property:UF})}}function Bde(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}function Iy(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Hde=[Ue.Down,Ue.Right,Ue.Up,Ue.Left],zde=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:s,droppableContainers:i,over:a,scrollableAncestors:o}}=e;if(Hde.includes(n.code)){if(n.preventDefault(),!t||!r)return;const l=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const f=s.get(h.id);if(f)switch(n.code){case Ue.Down:r.top<f.top&&l.push(h);break;case Ue.Up:r.top>f.top&&l.push(h);break;case Ue.Left:r.left>f.left&&l.push(h);break;case Ue.Right:r.left<f.left&&l.push(h);break}});const u=_ce({collisionRect:r,droppableRects:s,droppableContainers:l});let d=vF(u,"id");if(d===(a==null?void 0:a.id)&&u.length>1&&(d=u[1].id),d!=null){const h=i.get(t.id),f=i.get(d),p=f?s.get(f.id):null,_=f==null?void 0:f.node.current;if(_&&p&&h&&f){const v=n_(_).some((C,O)=>o[O]!==C),y=BF(h,f),b=Kde(h,f),w=v||!y?{x:0,y:0}:{x:b?r.width-p.width:0,y:b?r.height-p.height:0},E={x:p.left,y:p.top};return w.x&&w.y?E:vf(E,w)}}}};function BF(n,e){return!Iy(n)||!Iy(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function Kde(n,e){return!Iy(n)||!Iy(e)||!BF(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const Wde="semi-sortable";function Gde(n){return g.createElement("div",Object.assign({style:{overflow:"auto"}},n))}const Yde={coordinateGetter:zde};function qde(n){let{items:e,onSortEnd:t,adjustScale:r,renderItem:s,transition:i,collisionDetection:a=vce,strategy:o=hT,useDragOverlay:l=!0,dragOverlayCls:u,container:d=Gde,prefix:h=Wde}=n;const[f,p]=T.useState(null),_=gce(n0(RF),n0(AF),n0(uT,Yde)),m=T.useCallback(E=>e.indexOf(E),[e]),v=T.useMemo(()=>f?m(f):-1,[m,f]),y=T.useCallback(E=>{let{active:S}=E;S&&p(S.id)},[]),b=T.useCallback(E=>{let{over:S}=E;if(p(null),S){const C=m(S.id);v!==C&&t({oldIndex:v,newIndex:C})}},[v,m,t]),w=T.useCallback(()=>{p(null)},[]);return g.createElement(dde,{sensors:_,collisionDetection:a,onDragStart:y,onDragEnd:b,onDragCancel:w,autoScroll:{order:_f.ReversedTreeOrder}},g.createElement(Nde,{items:e,strategy:o},g.createElement(d,null,e.map((E,S)=>g.createElement(Xde,{key:E,id:E,index:S,renderItem:s,useDragOverlay:l,prefix:h,transition:i})))),l?Os.createPortal(g.createElement(Rde,{adjustScale:r,style:{zIndex:void 0},className:u},f?s({id:f,sortableHandle:E=>E}):null),document.body):null)}function Xde(n){let{animateLayoutChanges:e,id:t,renderItem:r,prefix:s,transition:i}=n;const{listeners:a,setNodeRef:o,transform:l,transition:u,active:d,isOver:h,attributes:f}=Ude({id:t,animateLayoutChanges:e,transition:i}),p=T.useCallback(v=>()=>g.createElement("span",Object.assign({},a,{style:{lineHeight:0},onMouseDown:y=>{a.onMouseDown(y),y.preventDefault(),y.stopPropagation()}}),g.createElement(v,null)),[a]),_=A(`${s}-sortable-item`,{[`${s}-sortable-item-over`]:h,[`${s}-sortable-item-active`]:(d==null?void 0:d.id)===t}),m=T.useMemo(()=>Hl(i)?void 0:{transform:No.Transform.toString(Object.assign(Object.assign({},l),{scaleX:1,scaleY:1})),transition:u},[i,l,u]);return g.createElement("div",Object.assign({ref:o,style:m,className:_},f),r({id:t,sortableHandle:p}))}var Qde=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const je=Zue.PREFIX;function Zde(n){return g.createElement("div",Object.assign({className:`${je}-sortable-list`},n))}class Ip extends we{constructor(e){super(e),this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleKeyDown=t=>{this.foundation.handleKeyDown(t)},this.handleInputFocus=t=>{this.foundation.handleInputFocus(t)},this.handleInputBlur=t=>{this.foundation.handleInputBlur(t)},this.handleClearBtn=t=>{this.foundation.handleClearBtn(t)},this.handleClearEnterPress=t=>{this.foundation.handleClearEnterPress(t)},this.handleTagClose=t=>{this.foundation.handleTagClose(t)},this.handleInputMouseLeave=t=>{this.foundation.handleInputMouseLeave()},this.handleClick=t=>{this.foundation.handleClick(t)},this.handleInputMouseEnter=t=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=t=>{this.foundation.handleClickPrefixOrSuffix(t)},this.handlePreventMouseDown=t=>{this.foundation.handlePreventMouseDown(t)},this.getAllTags=()=>{const{tagsArray:t}=this.state;return t.map((r,s)=>this.renderTag(r,s))},this.renderTag=(t,r,s)=>{const{size:i,disabled:a,renderTagItem:o,showContentTooltip:l,draggable:u}=this.props,{active:d}=this.state,h=d&&u,f=A(`${je}-wrapper-tag`,{[`${je}-wrapper-tag-size-${i}`]:i,[`${je}-wrapper-tag-icon`]:h}),p=A(`${je}-wrapper-typo`,{[`${je}-wrapper-typo-disabled`]:a}),_=A({[`${je}-drag-item`]:h,[`${je}-wrapper-tag-icon`]:h}),m=s&&s(()=>g.createElement(jie,{className:`${je}-drag-handler`})),v=h?t:`${r}${t}`,y=()=>{!a&&this.handleTagClose(r)};return Te(o)?g.createElement("div",{className:_,key:v},h&&s?g.createElement(m,null):null,o(t,r,y)):g.createElement(Jt,{className:f,color:"white",size:i==="small"?"small":"large",type:"light",onClose:y,closable:!a,key:v,visible:!0,"aria-label":`${a?"":"Closable "}Tag: ${t}`},h&&s?g.createElement(m,null):null,g.createElement(Wv,{className:p,ellipsis:{showTooltip:l,rows:1}},t))},this.renderSortTag=t=>{const{id:r,sortableHandle:s}=t,{tagsArray:i}=this.state,a=i.indexOf(r);return this.renderTag(r,a,s)},this.onSortEnd=t=>{this.foundation.handleSortEnd(t)},this.handleInputCompositionStart=t=>{this.foundation.handleInputCompositionStart(t)},this.handleInputCompositionEnd=t=>{this.foundation.handleInputCompositionEnd(t)},this.foundation=new ece(this.adapter),this.state={tagsArray:e.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=g.createRef(),this.tagInputRef=g.createRef(),this.clickOutsideHandler=null}static getDerivedStateFromProps(e,t){const{value:r,inputValue:s}=e,{tagsArray:i}=t;let a;return y1(r)?a=r:"value"in e&&!r?a=[]:a=i,{tagsArray:a,inputValue:Oe(s)?s:t.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:e=>{this.setState({inputValue:e})},setTagsArray:e=>{this.setState({tagsArray:e})},setFocusing:e=>{this.setState({focusing:e})},toggleFocusing:e=>{const{preventScroll:t}=this.props,r=this.inputRef&&this.inputRef.current;e?r&&r.focus({preventScroll:t}):r&&r.blur(),this.setState({focusing:e})},setHovering:e=>{this.setState({hovering:e})},setActive:e=>{this.setState({active:e})},setEntering:e=>{this.setState({entering:e})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:e=>{this.props.onBlur(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyInputChange:(e,t)=>{this.props.onInputChange(e,t)},notifyTagChange:e=>{this.props.onChange(e)},notifyTagAdd:e=>{this.props.onAdd(e)},notifyTagRemove:(e,t)=>{this.props.onRemove(e,t)},notifyKeyDown:e=>{this.props.onKeyDown(e)},registerClickOutsideHandler:e=>{const t=r=>{const s=this.tagInputRef&&this.tagInputRef.current,i=r.target,a=r.composedPath&&r.composedPath()||[i];s&&!s.contains(i)&&!a.includes(s)&&e(r)};this.clickOutsideHandler=t,document.addEventListener("click",t,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&t&&(this.inputRef.current.focus({preventScroll:r}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){const{hovering:e,tagsArray:t,inputValue:r}=this.state,{showClear:s,disabled:i,clearIcon:a}=this.props,o=A(`${je}-clearBtn`,{[`${je}-clearBtn-invisible`]:!e||r===""&&t.length===0||i});return s?g.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:o,onClick:l=>this.handleClearBtn(l),onKeyPress:l=>this.handleClearEnterPress(l)},a||g.createElement(Wo,null)):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(Hl(s)||dt(s))return null;const i=A(`${je}-prefix`,{[`${je}-inset-label`]:t,[`${je}-prefix-text`]:s&&Oe(s),[`${je}-prefix-icon`]:dr(s)});return g.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix"},s)}renderSuffix(){const{suffix:e}=this.props;if(Hl(e)||dt(e))return null;const t=A(`${je}-suffix`,{[`${je}-suffix-text`]:e&&Oe(e),[`${je}-suffix-icon`]:dr(e)});return g.createElement("div",{className:t,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},e)}renderTags(){const{disabled:e,maxTagCount:t,showRestTagsPopover:r,restTagsPopoverProps:s={},draggable:i,expandRestTagsOnClick:a}=this.props,{tagsArray:o,active:l}=this.state,u=A(`${je}-wrapper-n`,{[`${je}-wrapper-n-disabled`]:e}),d=this.getAllTags();let h=[],f=[...d];(!l||!a)&&t&&t<d.length&&(f=d.slice(0,t),h=d.slice(t));const p=g.createElement("span",{className:u},"+",o.length-t),_=d.map((m,v)=>({item:m,key:o[v]}));return l&&i&&_.length>0?g.createElement(qde,{items:o,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:Zde,prefix:je,transition:null,dragOverlayCls:`${je}-right-item-drag-item-move`}):g.createElement(g.Fragment,null,f,h.length>0&&(r?g.createElement(yr,Object.assign({content:h,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},s),p):p))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){const{preventScroll:e,disabled:t}=this.props;this.inputRef.current.focus({preventScroll:e}),t||this.foundation.handleClick()}render(){const e=this.props,{size:t,style:r,className:s,disabled:i,placeholder:a,validateStatus:o,prefix:l,insetLabel:u,suffix:d}=e,h=Qde(e,["size","style","className","disabled","placeholder","validateStatus","prefix","insetLabel","suffix"]),{focusing:f,hovering:p,tagsArray:_,inputValue:m,active:v}=this.state,y=A(je,s,{[`${je}-focus`]:f||v,[`${je}-disabled`]:i,[`${je}-hover`]:p&&!i,[`${je}-error`]:o==="error",[`${je}-warning`]:o==="warning",[`${je}-small`]:t==="small",[`${je}-large`]:t==="large",[`${je}-with-prefix`]:!!l||!!u,[`${je}-with-suffix`]:!!d}),b=A(`${je}-wrapper-input`,`${je}-wrapper-input-${t}`),w=A(`${je}-wrapper`);return g.createElement("div",Object.assign({ref:this.tagInputRef,style:r,className:y,"aria-disabled":i,"aria-label":this.props["aria-label"],"aria-invalid":o==="error",onMouseEnter:E=>{this.handleInputMouseEnter(E)},onMouseLeave:E=>{this.handleInputMouseLeave(E)},onClick:E=>{this.handleClick(E)}},this.getDataAttr(h)),this.renderPrefix(),g.createElement("div",{className:w},this.renderTags(),g.createElement(Zt,{"aria-label":"input value",ref:this.inputRef,className:b,disabled:i,value:m,size:t,placeholder:_.length===0?a:"",onKeyDown:E=>{this.handleKeyDown(E)},onChange:(E,S)=>{this.handleInputChange(S)},onBlur:E=>{this.handleInputBlur(E)},onFocus:E=>{this.handleInputFocus(E)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}}Ip.propTypes={children:c.node,clearIcon:c.node,style:c.object,className:c.string,disabled:c.bool,allowDuplicates:c.bool,max:c.number,maxTagCount:c.number,maxLength:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,showContentTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),defaultValue:c.array,value:c.array,inputValue:c.string,placeholder:c.string,separator:c.oneOfType([c.string,c.array]),showClear:c.bool,addOnBlur:c.bool,draggable:c.bool,expandRestTagsOnClick:c.bool,autoFocus:c.bool,renderTagItem:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onInputChange:c.func,onExceed:c.func,onInputExceed:c.func,onAdd:c.func,onRemove:c.func,onKeyDown:c.func,size:c.oneOf(pR.SIZE_SET),validateStatus:c.oneOf(pR.STATUS),prefix:c.oneOfType([c.string,c.node]),suffix:c.oneOfType([c.string,c.node]),"aria-label":c.string,preventScroll:c.bool};Ip.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:k,onFocus:k,onChange:k,onInputChange:k,onExceed:k,onInputExceed:k,onAdd:k,onRemove:k,onKeyDown:k};const Ae=iF.PREFIX,Jde=0;class Bc extends we{constructor(e){super(e),this.search=t=>{this.handleInputChange(t)},this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleTagRemoveInTrigger=t=>{this.foundation.handleTagRemoveInTrigger(t)},this.handleTagClose=(t,r,s)=>{r.preventDefault(),this.foundation.handleTagRemoveByKey(s)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:a,disabled:o,displayProp:l,displayRender:u,disableStrictly:d}=this.props;if(s[t]){const h=o||s[t].data.disabled||d&&i.has(t),f=A(`${Ae}-selection-tag`,{[`${Ae}-selection-tag-disabled`]:h});return Te(u)?u(s[t],r):g.createElement(Jt,{size:a==="default"?"large":a,key:`tag-${t}-${r}`,color:"white",tagKey:t,className:f,closable:!0,onClose:this.handleTagClose},s[t].data[l])}return null},this.onRemoveInTagInput=t=>{this.foundation.handleTagRemoveByKey(t)},this.handleItemClick=(t,r)=>{this.foundation.handleItemClick(t,r)},this.handleItemHover=(t,r)=>{this.foundation.handleItemHover(t,r)},this.onItemCheckboxClick=t=>{this.foundation.onItemCheckboxClick(t)},this.handleListScroll=(t,r)=>{this.foundation.handleListScroll(t,r)},this.renderContent=()=>{const{inputValue:t,isSearching:r,activeKeys:s,selectedKeys:i,checkedKeys:a,halfCheckedKeys:o,loadedKeys:l,loadingKeys:u}=this.state,{filterTreeNode:d,dropdownClassName:h,dropdownStyle:f,loadData:p,emptyContent:_,separator:m,topSlot:v,bottomSlot:y,showNext:b,multiple:w,filterRender:E,virtualizeInSearch:S,expandIcon:C}=this.props,O=!!d&&r,I=A(h,`${Ae}-popover`),P=this.foundation.getRenderData();return g.createElement("div",{className:I,role:"listbox",style:f,onKeyDown:this.foundation.handleKeyDown},v,g.createElement(Zv,{activeKeys:s,selectedKeys:i,separator:m,loadedKeys:l,loadingKeys:u,onItemClick:this.handleItemClick,onItemHover:this.handleItemHover,showNext:b,onItemCheckboxClick:this.onItemCheckboxClick,onListScroll:this.handleListScroll,searchable:O,keyword:t,emptyContent:_,loadData:p,data:P,multiple:w,checkedKeys:a,halfCheckedKeys:o,filterRender:E,virtualize:S,expandIcon:C}),y)},this.renderPlusN=t=>{const{disabled:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props,a=A(`${Ae}-selection-n`,{[`${Ae}-selection-n-disabled`]:r}),o=g.createElement("span",{className:a},"+",t.length);return s?g.createElement(yr,Object.assign({content:t,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},i),o):o},this.renderMultipleTags=()=>{const{autoMergeValue:t,maxTagCount:r,checkRelation:s}=this.props,{checkedKeys:i,resolvedCheckedKeys:a}=this.state,o=this.mergeType===Mt.NONE_MERGE_TYPE||s===Mt.UN_RELATED?i:a,l=[],u=[];return[...o].forEach((d,h)=>{const f=!jt(r)||r>=h+1,p=this.renderTagItem(d,h);f?l.push(p):u.push(p)}),g.createElement(g.Fragment,null,l,!pt(u)&&this.renderPlusN(u))},this.renderDisplayText=()=>{const{displayProp:t,separator:r,displayRender:s}=this.props,{selectedKeys:i}=this.state;let a="";if(i.size){const o=this.foundation.getItemPropPath([...i][0],t);s&&typeof s=="function"?a=s(o):a=o.map((l,u)=>g.createElement(T.Fragment,{key:`${l}-${u}`},u<o.length-1?g.createElement(g.Fragment,null,l,r):l))}return a},this.renderSelectContent=()=>{const{placeholder:t,filterTreeNode:r,multiple:s,searchPosition:i}=this.props,{checkedKeys:a}=this.state;if(!(!!r&&i===Mt.SEARCH_POSITION_TRIGGER)){if(s)return a.size===0?g.createElement("span",{className:`${Ae}-selection-placeholder`},t):this.renderMultipleTags();{const u=this.renderDisplayText(),d=A({[`${Ae}-selection-placeholder`]:!u});return g.createElement("span",{className:d},u||t)}}return s?this.renderTagInput():this.renderInput()},this.renderSuffix=()=>{const{suffix:t}=this.props,r=A({[`${Ae}-suffix`]:!0,[`${Ae}-suffix-text`]:t&&Oe(t),[`${Ae}-suffix-icon`]:dr(t)});return g.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,a=A({[`${Ae}-prefix`]:!0,[`${Ae}-inset-label`]:r,[`${Ae}-prefix-text`]:i&&Oe(i),[`${Ae}-prefix-icon`]:dr(i)});return g.createElement("div",{className:a,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderCustomTrigger=()=>{var t;const{disabled:r,triggerRender:s,multiple:i}=this.props,{selectedKeys:a,inputValue:o,inputPlaceHolder:l,resolvedCheckedKeys:u,checkedKeys:d,keyEntities:h}=this.state;let f;return i?this.mergeType===Mt.NONE_MERGE_TYPE?(f=new Set,d.forEach(p=>{var _;f.add((_=h[p])===null||_===void 0?void 0:_.pos)})):(f=new Set,u.forEach(p=>{var _;f.add((_=h[p])===null||_===void 0?void 0:_.pos)})):f=(t=h[[...a][0]])===null||t===void 0?void 0:t.pos,g.createElement(fu,{value:f,inputValue:o,onChange:this.handleInputChange,onClear:this.handleClear,placeholder:l,disabled:r,triggerRender:s,componentName:"Cascader",componentProps:Object.assign({},this.props),onSearch:this.handleInputChange,onRemove:this.handleTagRemoveInTrigger})},this.handleMouseOver=()=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=()=>{this.foundation.toggleHoverState(!1)},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear()},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.showClearBtn=()=>{const{showClear:t,disabled:r,multiple:s}=this.props,{selectedKeys:i,isOpen:a,isHovering:o,checkedKeys:l,inputValue:u}=this.state,d=i.size,h=s&&l.size;return t&&(u||d||h)&&!r&&(a||o)},this.renderClearBtn=()=>{const t=A(`${Ae}-clearbtn`),{clearIcon:r}=this.props;return this.showClearBtn()?g.createElement("div",{className:t,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress,role:"button",tabIndex:0},r||g.createElement(Wo,null)):null},this.renderArrow=()=>{const{arrowIcon:t}=this.props;return this.showClearBtn()?null:t?g.createElement("div",{className:A(`${Ae}-arrow`),"x-semi-prop":"arrowIcon"},t):null},this.renderSelection=()=>{const{disabled:t,multiple:r,filterTreeNode:s,style:i,size:a,className:o,validateStatus:l,prefix:u,suffix:d,insetLabel:h,triggerRender:f,showClear:p,id:_,borderless:m}=this.props,{isOpen:v,isFocus:y,isInput:b,checkedKeys:w}=this.state,E=!!s,S=typeof f=="function",C=S?A(o):A(Ae,o,{[`${Ae}-borderless`]:m,[`${Ae}-focus`]:y||v&&!b,[`${Ae}-disabled`]:t,[`${Ae}-single`]:!0,[`${Ae}-filterable`]:E,[`${Ae}-error`]:l==="error",[`${Ae}-warning`]:l==="warning",[`${Ae}-small`]:a==="small",[`${Ae}-large`]:a==="large",[`${Ae}-with-prefix`]:u||h,[`${Ae}-with-suffix`]:d}),O=p?{onMouseEnter:()=>this.handleMouseOver(),onMouseLeave:()=>this.handleMouseLeave()}:{},I=A(`${Ae}-selection`,{[`${Ae}-selection-multiple`]:r&&!pt(w)}),P=S?this.renderCustomTrigger():[g.createElement(T.Fragment,{key:"prefix"},u||h?this.renderPrefix():null),g.createElement(T.Fragment,{key:"selection"},g.createElement("div",{className:I},this.renderSelectContent())),g.createElement(T.Fragment,{key:"suffix"},d?this.renderSuffix():null),g.createElement(T.Fragment,{key:"clearbtn"},this.renderClearBtn()),g.createElement(T.Fragment,{key:"arrow"},this.renderArrow())];return g.createElement("div",Object.assign({className:C,style:i,ref:this.triggerRef,onClick:x=>this.foundation.handleClick(x),onKeyPress:x=>this.foundation.handleSelectionEnterPress(x),"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],id:_,onKeyDown:this.foundation.handleKeyDown},O,{role:"combobox",tabIndex:0},this.getDataAttr(this.props)),P)},this.state={disabledKeys:new Set,isOpen:e.defaultOpen,rePosKey:Jde,keyEntities:{},selectedKeys:new Set([]),activeKeys:new Set([]),filteredKeys:new Set([]),inputValue:"",isSearching:!1,inputPlaceHolder:e.searchPlaceholder||e.placeholder,prevProps:{},isHovering:!1,checkedKeys:new Set([]),halfCheckedKeys:new Set([]),resolvedCheckedKeys:new Set([]),loadedKeys:new Set,loadingKeys:new Set,loading:!1,showInput:!1},this.options={},this.isEmpty=!1,this.mergeType=pE(e.autoMergeValue,e.leafOnly),this.inputRef=g.createRef(),this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.clickOutsideHandler=null,this.foundation=new Due(this.adapter),this.loadingKeysRef=g.createRef(),this.loadedKeysRef=g.createRef()}get adapter(){var e=this;const t={updateInputValue:s=>{this.setState({inputValue:s})},updateInputPlaceHolder:s=>{this.setState({inputPlaceHolder:s})},focusInput:()=>{const{preventScroll:s}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:s})},blurInput:()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.blur()}},r={registerClickOutsideHandler:s=>{const i=a=>{const o=this.optionsRef&&this.optionsRef.current,l=this.triggerRef&&this.triggerRef.current,u=Pr.findDOMNode(o),d=a.target,h=a.composedPath&&a.composedPath()||[d];u&&(!u.contains(d)||!u.contains(d.parentNode))&&l&&!l.contains(d)&&!(h.includes(l)||h.includes(u))&&s(a)};this.clickOutsideHandler=i,document.addEventListener("mousedown",i,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1)},rePositionDropdown:()=>{let{rePosKey:s}=this.state;s=s+1,this.setState({rePosKey:s})}};return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),{updateStates:s=>{this.setState(Object.assign({},s))},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:s=>{this.setState({isOpen:!1},()=>{s&&s()})},updateSelection:s=>this.setState({selectedKeys:s}),notifyChange:s=>{this.props.onChange&&this.props.onChange(s)},notifySelect:s=>{this.props.onSelect&&this.props.onSelect(s)},notifyOnSearch:s=>{this.props.onSearch&&this.props.onSearch(s)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},notifyDropdownVisibleChange:s=>{this.props.onDropdownVisibleChange(s)},toggleHovering:s=>{this.setState({isHovering:s})},notifyLoadData:(s,i)=>{const{loadData:a}=this.props;a&&new Promise(o=>{a(s).then(()=>{setTimeout(()=>{i(),this.setState({loading:!1}),o()})})})},notifyOnLoad:(s,i)=>{const{onLoad:a}=this.props;a&&a(s,i)},notifyListScroll:(s,i)=>{let{panelIndex:a,activeNode:o}=i;this.props.onListScroll(s,{panelIndex:a,activeNode:o})},notifyOnExceed:s=>this.props.onExceed(s),notifyClear:()=>this.props.onClear(),toggleInputShow:(s,i)=>{this.setState({showInput:s},()=>{i()})},updateFocusState:s=>{this.setState({isFocus:s})},updateLoadingKeyRefValue:s=>{this.loadingKeysRef.current=s},getLoadingKeyRefValue:()=>this.loadingKeysRef.current,updateLoadedKeyRefValue:s=>{this.loadedKeysRef.current=s},getLoadedKeyRefValue:()=>this.loadedKeysRef.current})}static getDerivedStateFromProps(e,t){const{multiple:r,value:s,defaultValue:i,onChangeWithObject:a,leafOnly:o,autoMergeValue:l,checkRelation:u}=e,{prevProps:d}=t;let h=t.keyEntities||{};const f={},p=v=>{const y=pt(d)&&v in e,b=d&&!ke(d[v],e[v]);return y||b},_=()=>{const v=!d&&"treeData"in e,y=d&&d.treeData!==e.treeData;return v||y},m=(v,y)=>{let b=[];Array.isArray(v)?b=Array.isArray(v[0])?v:[v]:v!==void 0&&(b=[[v]]);const w=[];return b.forEach(S=>{const C=a&&Pa(S[0])?S.map(O=>O==null?void 0:O.value):S;C.length>0&&w.push(C)}),w.reduce((S,C)=>{const O=Ey(C);return y[O]&&S.push(O),S},[])};if(r){const v=p("treeData")||_(),y=p("value")||pt(d)&&i;if(v||y){v&&(f.treeData=e.treeData,h=oF(e.treeData),f.keyEntities=h);let b=t.checkedKeys;if(y){const w=p("value")?s:i;b=m(w,h)}else v&&"value"in e&&(b=m(s,h));if($M(b)&&(b=[...b]),u===Mt.RELATED){const w=wp(b,h),E=new Set(w.checkedKeys),S=new Set(w.halfCheckedKeys);e.disableStrictly&&(f.disabledKeys=sF(h));const C=pE(l,o)===Mt.LEAF_ONLY_MERGE_TYPE;f.checkedKeys=E,f.halfCheckedKeys=S,f.resolvedCheckedKeys=new Set(Qs(E,h,C))}else f.checkedKeys=new Set(b);f.prevProps=e}}return f}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e){if(this.props.multiple)return;let t=!1;ke(e.treeData,this.props.treeData)||(t=!0,this.foundation.collectOptions()),e.value!==this.props.value&&!t&&this.foundation.handleValueChange(this.props.value)}renderTagInput(){const{size:e,disabled:t,placeholder:r,maxTagCount:s,showRestTagsPopover:i,restTagsPopoverProps:a,checkRelation:o}=this.props,{inputValue:l,checkedKeys:u,keyEntities:d,resolvedCheckedKeys:h}=this.state,f=A(`${Ae}-tagInput-wrapper`),p=this.mergeType===Mt.NONE_MERGE_TYPE||o===Mt.UN_RELATED?u:h;return g.createElement(Ip,{className:f,ref:this.inputRef,disabled:t,size:e,value:[...p],showRestTagsPopover:i,restTagsPopoverProps:a,maxTagCount:s,renderTagItem:this.renderTagItem,inputValue:l,onInputChange:this.handleInputChange,onRemove:this.onRemoveInTagInput,placeholder:r,expandRestTagsOnClick:!1})}renderInput(){const{size:e,disabled:t}=this.props,r=A(`${Ae}-input`),{inputValue:s,inputPlaceHolder:i,showInput:a}=this.state,o={disabled:t,value:s,className:r,onChange:this.handleInputChange},l=A({[`${Ae}-search-wrapper`]:!0,[`${Ae}-search-wrapper-${e}`]:e!=="default"}),u=this.renderDisplayText(),d=A({[`${Ae}-selection-placeholder`]:!u,[`${Ae}-selection-text-hide`]:a&&s,[`${Ae}-selection-text-inactive`]:a&&!s});return g.createElement("div",{className:l},g.createElement("span",{className:d},u||i),a&&g.createElement(Zt,Object.assign({ref:this.inputRef,size:e},o)))}close(){this.foundation.close()}open(){this.foundation.open()}focus(){this.foundation.focus()}blur(){this.foundation.blur()}render(){const{zIndex:e,getPopupContainer:t,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:a,position:o,motion:l,dropdownMargin:u}=this.props,{isOpen:d,rePosKey:h}=this.state,{direction:f}=this.context,p=this.renderContent(),_=this.renderSelection(),m=o??(f==="rtl"?"bottomRight":"bottomLeft");return g.createElement(yr,{getPopupContainer:t,zIndex:e,motion:l,margin:u,ref:this.optionsRef,content:p,visible:d,trigger:"custom",rePosKey:h,position:m,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:a,afterClose:()=>this.foundation.updateSearching(!1)},_)}}Bc.__SemiComponentName__="Cascader";Bc.contextType=kr;Bc.propTypes={"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,"aria-label":c.string,arrowIcon:c.node,borderless:c.bool,clearIcon:c.node,changeOnSelect:c.bool,defaultValue:c.oneOfType([c.string,c.array]),disabled:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),emptyContent:c.node,motion:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),filterLeafOnly:c.bool,placeholder:c.string,searchPlaceholder:c.string,size:c.oneOf(Mt.SIZE_SET),style:c.object,className:c.string,treeData:c.arrayOf(c.shape({value:c.oneOfType([c.string,c.number]),label:c.any})),treeNodeFilterProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,id:c.string,displayProp:c.string,displayRender:c.func,onChange:c.func,onSearch:c.func,onSelect:c.func,onBlur:c.func,onFocus:c.func,children:c.node,getPopupContainer:c.func,zIndex:c.number,value:c.oneOfType([c.string,c.number,c.array]),validateStatus:c.oneOf(Mt.VALIDATE_STATUS),showNext:c.oneOf([Mt.SHOW_NEXT_BY_CLICK,Mt.SHOW_NEXT_BY_HOVER]),stopPropagation:c.oneOfType([c.bool,c.string]),showClear:c.bool,defaultOpen:c.bool,autoAdjustOverflow:c.bool,onDropdownVisibleChange:c.func,triggerRender:c.func,onListScroll:c.func,onChangeWithObject:c.bool,bottomSlot:c.node,topSlot:c.node,multiple:c.bool,autoMergeValue:c.bool,maxTagCount:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,max:c.number,separator:c.string,onExceed:c.func,onClear:c.func,loadData:c.func,onLoad:c.func,loadedKeys:c.array,disableStrictly:c.bool,leafOnly:c.bool,enableLeafClick:c.bool,preventScroll:c.bool,position:c.string,searchPosition:c.string};Bc.defaultProps=ds(Bc.__SemiComponentName__,{borderless:!1,leafOnly:!1,arrowIcon:g.createElement(Bv,null),stopPropagation:!0,motion:!0,defaultOpen:!1,zIndex:is.DEFAULT_Z_INDEX,showClear:!1,autoClearSearchValue:!0,changeOnSelect:!1,disableStrictly:!1,autoMergeValue:!0,multiple:!1,filterTreeNode:!1,filterLeafOnly:!0,showRestTagsPopover:!1,restTagsPopoverProps:{},separator:" / ",size:"default",treeNodeFilterProp:"label",displayProp:"label",treeData:[],showNext:Mt.SHOW_NEXT_BY_CLICK,onExceed:k,onClear:k,onDropdownVisibleChange:k,onListScroll:k,enableLeafClick:!1,"aria-label":"Cascader",searchPosition:Mt.SEARCH_POSITION_TRIGGER,checkRelation:Mt.RELATED});class ehe extends Pe{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=t=>{this._adapter.setDOMInRenderTree(t)},this.updateDOMHeight=t=>{this._adapter.setDOMHeight(t)},this.updateVisible=t=>{this._adapter.setVisible(t)},this.updateIsTransitioning=t=>{this._adapter.setIsTransitioning(t)}}}const xR={PREFIX:`${Y}-collapsible`};class $o extends we{constructor(e){super(e),this.domRef=g.createRef(),this.hasBeenRendered=!1,this.handleResize=t=>{const r=t[0];if(r){const s=$o.getEntryInfo(r);this.foundation.updateDOMHeight(s.height),this.foundation.updateDOMInRenderTree(s.isShown)}},this.isChildrenInRenderTree=()=>this.domRef.current?this.domRef.current.offsetHeight>0:!1,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new ehe(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);const e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(e,t,r){const s=Object.keys(zl(this.props,["reCalcKey","isOpen"])).filter(a=>!ke(this.props[a],e[a])),i=Object.keys(zl(this.state,["domInRenderTree"])).filter(a=>!ke(this.state[a],t[a]));s.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),i.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),s.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&e.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){const e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||this.props.collapseHeight!==0?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),t=A(`${xR.PREFIX}-wrapper`,{[`${xR.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),r=this.props.keepDOM&&(this.props.lazyRender?this.hasBeenRendered:!0)||this.props.collapseHeight!==0||this.state.visible||this.props.isOpen;return r&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),g.createElement("div",Object.assign({className:t,style:e,onTransitionEnd:()=>{var s,i;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),(i=(s=this.props).onMotionEnd)===null||i===void 0||i.call(s)}},this.getDataAttr(this.props)),g.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},r&&this.props.children))}}$o.__SemiComponentName__="Collapsible";$o.defaultProps=ds($o.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1});$o.getEntryInfo=n=>{let e;n.borderBoxSize?e=!(n.borderBoxSize[0].blockSize===0&&n.borderBoxSize[0].inlineSize===0):e=!(n.contentRect.height===0&&n.contentRect.width===0);let t=0;return n.borderBoxSize?t=Math.ceil(n.borderBoxSize[0].blockSize):t=n.target.clientHeight,{isShown:e,height:t}};$o.propTypes={motion:c.bool,children:c.node,isOpen:c.bool,duration:c.number,keepDOM:c.bool,collapseHeight:c.number,style:c.object,className:c.string,reCalcKey:c.oneOfType([c.string,c.number])};var the=VM;function nhe(n,e){return n==null?!0:the(n,e)}var rhe=nhe;const bE=ge(rhe);var she=dd,ihe=T1,ahe=Zn,ohe=od,lhe=YL,uhe=cu,che=Nv;function dhe(n){return ahe(n)?she(n,uhe):ohe(n)?[n]:ihe(lhe(che(n)))}var hhe=dhe;const wf=ge(hhe),RR=n=>{const e=wf(n);return jt(n)&&e.length===1?!1:Number.isInteger(+e[e.length-1])};function fhe(n){if(Pa(n)){const e=Y2(n);return e.length?e.every(t=>typeof t>"u"):!0}else return!1}function fT(n,e){if(e.length===0)return;const t=K(n,e);(Array.isArray(t)&&t.every(r=>r==null)||fhe(t))&&bE(n,e),fT(n,e.slice(0,e.length-1))}function phe(n){return Y2(n).length===0}function Cr(n,e){return K(n,e)}function dm(n,e){bE(n,e);let t=wf(e);t=t.slice(0,t.length-1),fT(n,t)}function a0(n,e,t,r){if(r||t!==void 0)return yc(n,e,t);if(RR(e)&&Cr(n,e)!==void 0){yc(n,e,void 0);let s=wf(e);s=s.slice(0,s.length-1),fT(n,s)}else!RR(e)&&Cr(n,e)!==void 0&&dm(n,e)}function HF(n,e){return n&&(typeof n=="function"||typeof n=="object")&&e&&(typeof e=="function"||typeof e=="object")&&Object.entries(e).forEach(t=>{let[r,s]=t;n[r]=s}),n}const ghe={DAY_TODAY:`${Y}-datepicker-day-today`,DAY_IN_RANGE:`${Y}-datepicker-day-inrange`,DAY_HOVER:`${Y}-datepicker-day-inhover`,DAY_SELECTED:`${Y}-datepicker-day-selected`,DAY_SELECTED_START:`${Y}-datepicker-day-selected-start`,DAY_SELECTED_END:`${Y}-datepicker-day-selected-end`,DAY_DISABLED:`${Y}-datepicker-day-disabled`,DAY_HOVER_DAY:`${Y}-datepicker-day-hoverday`,DAY_HOVER_DAY_OFFSET:`${Y}-datepicker-day-hoverday-offset`,DAY_IN_OFFSET_RANGE:`${Y}-datepicker-day-inoffsetrange`,DAY_SELECTED_RANGE_HOVER:`${Y}-datepicker-day-selectedrange-hover`,DAY_OFFSET_RANGE_START:`${Y}-datepicker-day-offsetrange-start`,DAY_OFFSET_RANGE_END:`${Y}-datepicker-day-offsetrange-end`,DAY_SELECTED_START_AFTER_HOVER:`${Y}-datepicker-day-selected-start-afterhover`,DAY_SELECTED_END_BEFORE_HOVER:`${Y}-datepicker-day-selected-end-beforehover`,DAY_HOVER_DAY_BEFORE_RANGE:`${Y}-datepicker-day-hoverday-beforerange`,DAY_HOVER_DAY_AFTER_RANGE:`${Y}-datepicker-day-hoverday-afterrange`,DAY_HOVER_DAY_IN_RANGE:`${Y}-datepicker-day-hoverday-inrange`,DAY_HOVER_DAY_AROUND_SINGLE_SELECTED:`${Y}-datepicker-day-hoverday-around-singleselected`},fe=Object.assign({PREFIX:`${Y}-datepicker`,NAVIGATION:`${Y}-datepicker-navigation`,PANEL_YAM:`${Y}-datepicker-panel-yam`,MONTH:`${Y}-datepicker-month`,WEEKDAY:`${Y}-datepicker-weekday`,WEEKS:`${Y}-datepicker-weeks`,WEEK:`${Y}-datepicker-week`,DAY:`${Y}-datepicker-day`},ghe),mhe={FORMAT_FULL_DATE:"yyyy-MM-dd",FORMAT_TIME_PICKER:"HH:mm:ss",FORMAT_DATE_TIME:"yyyy-MM-dd HH:mm:ss",FORMAT_YEAR_MONTH:"yyyy-MM"},z=Object.assign({DEFAULT_SEPARATOR_MULTIPLE:",",DEFAULT_SEPARATOR_RANGE:" ~ ",SIZE_SET:["small","default","large"],TYPE_SET:["date","dateRange","year","month","monthRange","dateTime","dateTimeRange"],PRESET_POSITION_SET:["left","right","top","bottom"],DENSITY_SET:["default","compact"],PANEL_TYPE_LEFT:"left",PANEL_TYPE_RIGHT:"right",STATUS:fd,POSITION_SET:xl.POSITION_SET,POSITION_INLINE_INPUT:"leftTopOver"},mhe),Hc={WEEK_START_ON:0,WEEK_HEIGHT:36,SPACING:is.SPACING,SPACING_INSET_INPUT:1};var yhe=fi,vhe=Yr,_he="[object Date]";function bhe(n){return vhe(n)&&yhe(n)==_he}var whe=bhe,Ehe=whe,She=gd,AR=hp,DR=AR&&AR.isDate,Che=DR?She(DR):Ehe,The=Che;const kR=ge(The);function ba(n){return typeof n=="string"}function NR(n,e){const t=ba(n)?As(n):n,r=ba(e)?As(e):e;return hre(t,r)}function ic(n,e){const t=ba(n)?As(n):n,r=ba(e)?As(e):e;return h2(t,r)}function Ru(n,e){let{start:t,end:r}=e;const s=ba(n)?As(n):n,i=ba(t)?As(t):t,a=ba(r)?As(r):r;return h2(i,a)&&cse(s,{start:i,end:a})&&!py(s,i)&&!py(s,a)}function Xa(n,e){const t=ba(n)?As(n):n,r=ba(e)?As(e):e;return H1(t,r)}function Ds(n){return n&&Object.prototype.toString.call(n)==="[object Date]"&&!isNaN(n)}function Ohe(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function wE(n){return Ohe(n)&&Ds(new Date(n))}const zF={date:z.FORMAT_FULL_DATE,dateTime:z.FORMAT_DATE_TIME,dateRange:z.FORMAT_FULL_DATE,dateTimeRange:z.FORMAT_DATE_TIME,month:z.FORMAT_YEAR_MONTH,monthRange:z.FORMAT_YEAR_MONTH},Ihe=n=>zF;function go(n){return n&&zF[n]}const Phe=(n,e)=>{const t=new Date().getFullYear();let r=typeof n=="number"?n:t-100,s=typeof e=="number"?e:t+100;return s<r&&([r,s]=[s,r]),Array.from({length:s-r+1},(i,a)=>r+a)},Rg=(n,e)=>{if(!e)return"";const t=new Date(e),r=Te(n)?n(t):t;return et(new Date(r),z.FORMAT_FULL_DATE)};function $R(n,e){const t=new Date().getFullYear(),r=new Date().getMonth(),s=e.right||r+2,i=n.right||(s<=12?t:t+1);return{year:{left:n.left||t,right:i},month:{left:e.left||r+1,right:s<=12?s:1}}}var EE={exports:{}},SE={exports:{}},KF={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(KF);var Yt=KF.exports,CE={exports:{}},TE={exports:{}},WF={exports:{}};(function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(WF);var GF=WF.exports,OE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(s.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+s.length+" present")}n.exports=e.default})(OE,OE.exports);var Lr=OE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(GF),s=t(Lr);function i(a){return(0,s.default)(1,arguments),a instanceof Date||(0,r.default)(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}n.exports=e.default})(TE,TE.exports);var xhe=TE.exports,IE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(GF),s=t(Lr);function i(a){(0,s.default)(1,arguments);var o=Object.prototype.toString.call(a);return a instanceof Date||(0,r.default)(a)==="object"&&o==="[object Date]"?new Date(a.getTime()):typeof a=="number"||o==="[object Number]"?new Date(a):((typeof a=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}n.exports=e.default})(IE,IE.exports);var Zi=IE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(xhe),s=t(Zi),i=t(Lr);function a(o){if((0,i.default)(1,arguments),!(0,r.default)(o)&&typeof o!="number")return!1;var l=(0,s.default)(o);return!isNaN(Number(l))}n.exports=e.default})(CE,CE.exports);var Rhe=CE.exports,PE={exports:{}},xE={exports:{}},RE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}n.exports=e.default})(RE,RE.exports);var pu=RE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(pu),s=t(Zi),i=t(Lr);function a(o,l){(0,i.default)(2,arguments);var u=(0,s.default)(o).getTime(),d=(0,r.default)(l);return new Date(u+d)}n.exports=e.default})(xE,xE.exports);var Ahe=xE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(Ahe),s=t(Lr),i=t(pu);function a(o,l){(0,s.default)(2,arguments);var u=(0,i.default)(l);return(0,r.default)(o,-u)}n.exports=e.default})(PE,PE.exports);var Dhe=PE.exports,AE={exports:{}},DE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(Zi),s=t(Lr),i=864e5;function a(o){(0,s.default)(1,arguments);var l=(0,r.default)(o),u=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var d=l.getTime(),h=u-d;return Math.floor(h/i)+1}n.exports=e.default})(DE,DE.exports);var khe=DE.exports,kE={exports:{}},NE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(Zi),s=t(Lr);function i(a){(0,s.default)(1,arguments);var o=1,l=(0,r.default)(a),u=l.getUTCDay(),d=(u<o?7:0)+u-o;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}n.exports=e.default})(NE,NE.exports);var pT=NE.exports,$E={exports:{}},LE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(Zi),s=t(Lr),i=t(pT);function a(o){(0,s.default)(1,arguments);var l=(0,r.default)(o),u=l.getUTCFullYear(),d=new Date(0);d.setUTCFullYear(u+1,0,4),d.setUTCHours(0,0,0,0);var h=(0,i.default)(d),f=new Date(0);f.setUTCFullYear(u,0,4),f.setUTCHours(0,0,0,0);var p=(0,i.default)(f);return l.getTime()>=h.getTime()?u+1:l.getTime()>=p.getTime()?u:u-1}n.exports=e.default})(LE,LE.exports);var YF=LE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(YF),s=t(pT),i=t(Lr);function a(o){(0,i.default)(1,arguments);var l=(0,r.default)(o),u=new Date(0);u.setUTCFullYear(l,0,4),u.setUTCHours(0,0,0,0);var d=(0,s.default)(u);return d}n.exports=e.default})($E,$E.exports);var Nhe=$E.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(Zi),s=t(pT),i=t(Nhe),a=t(Lr),o=6048e5;function l(u){(0,a.default)(1,arguments);var d=(0,r.default)(u),h=(0,s.default)(d).getTime()-(0,i.default)(d).getTime();return Math.round(h/o)+1}n.exports=e.default})(kE,kE.exports);var $he=kE.exports,ME={exports:{}},FE={exports:{}},gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.getDefaultOptions=Lhe;gu.setDefaultOptions=Mhe;var qF={};function Lhe(){return qF}function Mhe(n){qF=n}(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(Zi),s=t(Lr),i=t(pu),a=gu;function o(l,u){var d,h,f,p,_,m,v,y;(0,s.default)(1,arguments);var b=(0,a.getDefaultOptions)(),w=(0,i.default)((d=(h=(f=(p=u==null?void 0:u.weekStartsOn)!==null&&p!==void 0?p:u==null||(_=u.locale)===null||_===void 0||(m=_.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&f!==void 0?f:b.weekStartsOn)!==null&&h!==void 0?h:(v=b.locale)===null||v===void 0||(y=v.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&d!==void 0?d:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var E=(0,r.default)(l),S=E.getUTCDay(),C=(S<w?7:0)+S-w;return E.setUTCDate(E.getUTCDate()-C),E.setUTCHours(0,0,0,0),E}n.exports=e.default})(FE,FE.exports);var gT=FE.exports,jE={exports:{}},VE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(Zi),s=t(Lr),i=t(gT),a=t(pu),o=gu;function l(u,d){var h,f,p,_,m,v,y,b;(0,s.default)(1,arguments);var w=(0,r.default)(u),E=w.getUTCFullYear(),S=(0,o.getDefaultOptions)(),C=(0,a.default)((h=(f=(p=(_=d==null?void 0:d.firstWeekContainsDate)!==null&&_!==void 0?_:d==null||(m=d.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&p!==void 0?p:S.firstWeekContainsDate)!==null&&f!==void 0?f:(y=S.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=new Date(0);O.setUTCFullYear(E+1,0,C),O.setUTCHours(0,0,0,0);var I=(0,i.default)(O,d),P=new Date(0);P.setUTCFullYear(E,0,C),P.setUTCHours(0,0,0,0);var x=(0,i.default)(P,d);return w.getTime()>=I.getTime()?E+1:w.getTime()>=x.getTime()?E:E-1}n.exports=e.default})(VE,VE.exports);var XF=VE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(XF),s=t(Lr),i=t(gT),a=t(pu),o=gu;function l(u,d){var h,f,p,_,m,v,y,b;(0,s.default)(1,arguments);var w=(0,o.getDefaultOptions)(),E=(0,a.default)((h=(f=(p=(_=d==null?void 0:d.firstWeekContainsDate)!==null&&_!==void 0?_:d==null||(m=d.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&p!==void 0?p:w.firstWeekContainsDate)!==null&&f!==void 0?f:(y=w.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&h!==void 0?h:1),S=(0,r.default)(u,d),C=new Date(0);C.setUTCFullYear(S,0,E),C.setUTCHours(0,0,0,0);var O=(0,i.default)(C,d);return O}n.exports=e.default})(jE,jE.exports);var Fhe=jE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(Zi),s=t(gT),i=t(Fhe),a=t(Lr),o=6048e5;function l(u,d){(0,a.default)(1,arguments);var h=(0,r.default)(u),f=(0,s.default)(h,d).getTime()-(0,i.default)(h,d).getTime();return Math.round(f/o)+1}n.exports=e.default})(ME,ME.exports);var jhe=ME.exports,UE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){for(var i=r<0?"-":"",a=Math.abs(r).toString();a.length<s;)a="0"+a;return i+a}n.exports=e.default})(UE,UE.exports);var QF=UE.exports,BE={exports:{}};(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(QF),s={y:function(o,l){var u=o.getUTCFullYear(),d=u>0?u:1-u;return(0,r.default)(l==="yy"?d%100:d,l.length)},M:function(o,l){var u=o.getUTCMonth();return l==="M"?String(u+1):(0,r.default)(u+1,2)},d:function(o,l){return(0,r.default)(o.getUTCDate(),l.length)},a:function(o,l){var u=o.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(o,l){return(0,r.default)(o.getUTCHours()%12||12,l.length)},H:function(o,l){return(0,r.default)(o.getUTCHours(),l.length)},m:function(o,l){return(0,r.default)(o.getUTCMinutes(),l.length)},s:function(o,l){return(0,r.default)(o.getUTCSeconds(),l.length)},S:function(o,l){var u=l.length,d=o.getUTCMilliseconds(),h=Math.floor(d*Math.pow(10,u-3));return(0,r.default)(h,l.length)}},i=s;e.default=i,n.exports=e.default})(BE,BE.exports);var Vhe=BE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(khe),s=t($he),i=t(YF),a=t(jhe),o=t(XF),l=t(QF),u=t(Vhe),d={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h={G:function(y,b,w){var E=y.getUTCFullYear()>0?1:0;switch(b){case"G":case"GG":case"GGG":return w.era(E,{width:"abbreviated"});case"GGGGG":return w.era(E,{width:"narrow"});case"GGGG":default:return w.era(E,{width:"wide"})}},y:function(y,b,w){if(b==="yo"){var E=y.getUTCFullYear(),S=E>0?E:1-E;return w.ordinalNumber(S,{unit:"year"})}return u.default.y(y,b)},Y:function(y,b,w,E){var S=(0,o.default)(y,E),C=S>0?S:1-S;if(b==="YY"){var O=C%100;return(0,l.default)(O,2)}return b==="Yo"?w.ordinalNumber(C,{unit:"year"}):(0,l.default)(C,b.length)},R:function(y,b){var w=(0,i.default)(y);return(0,l.default)(w,b.length)},u:function(y,b){var w=y.getUTCFullYear();return(0,l.default)(w,b.length)},Q:function(y,b,w){var E=Math.ceil((y.getUTCMonth()+1)/3);switch(b){case"Q":return String(E);case"QQ":return(0,l.default)(E,2);case"Qo":return w.ordinalNumber(E,{unit:"quarter"});case"QQQ":return w.quarter(E,{width:"abbreviated",context:"formatting"});case"QQQQQ":return w.quarter(E,{width:"narrow",context:"formatting"});case"QQQQ":default:return w.quarter(E,{width:"wide",context:"formatting"})}},q:function(y,b,w){var E=Math.ceil((y.getUTCMonth()+1)/3);switch(b){case"q":return String(E);case"qq":return(0,l.default)(E,2);case"qo":return w.ordinalNumber(E,{unit:"quarter"});case"qqq":return w.quarter(E,{width:"abbreviated",context:"standalone"});case"qqqqq":return w.quarter(E,{width:"narrow",context:"standalone"});case"qqqq":default:return w.quarter(E,{width:"wide",context:"standalone"})}},M:function(y,b,w){var E=y.getUTCMonth();switch(b){case"M":case"MM":return u.default.M(y,b);case"Mo":return w.ordinalNumber(E+1,{unit:"month"});case"MMM":return w.month(E,{width:"abbreviated",context:"formatting"});case"MMMMM":return w.month(E,{width:"narrow",context:"formatting"});case"MMMM":default:return w.month(E,{width:"wide",context:"formatting"})}},L:function(y,b,w){var E=y.getUTCMonth();switch(b){case"L":return String(E+1);case"LL":return(0,l.default)(E+1,2);case"Lo":return w.ordinalNumber(E+1,{unit:"month"});case"LLL":return w.month(E,{width:"abbreviated",context:"standalone"});case"LLLLL":return w.month(E,{width:"narrow",context:"standalone"});case"LLLL":default:return w.month(E,{width:"wide",context:"standalone"})}},w:function(y,b,w,E){var S=(0,a.default)(y,E);return b==="wo"?w.ordinalNumber(S,{unit:"week"}):(0,l.default)(S,b.length)},I:function(y,b,w){var E=(0,s.default)(y);return b==="Io"?w.ordinalNumber(E,{unit:"week"}):(0,l.default)(E,b.length)},d:function(y,b,w){return b==="do"?w.ordinalNumber(y.getUTCDate(),{unit:"date"}):u.default.d(y,b)},D:function(y,b,w){var E=(0,r.default)(y);return b==="Do"?w.ordinalNumber(E,{unit:"dayOfYear"}):(0,l.default)(E,b.length)},E:function(y,b,w){var E=y.getUTCDay();switch(b){case"E":case"EE":case"EEE":return w.day(E,{width:"abbreviated",context:"formatting"});case"EEEEE":return w.day(E,{width:"narrow",context:"formatting"});case"EEEEEE":return w.day(E,{width:"short",context:"formatting"});case"EEEE":default:return w.day(E,{width:"wide",context:"formatting"})}},e:function(y,b,w,E){var S=y.getUTCDay(),C=(S-E.weekStartsOn+8)%7||7;switch(b){case"e":return String(C);case"ee":return(0,l.default)(C,2);case"eo":return w.ordinalNumber(C,{unit:"day"});case"eee":return w.day(S,{width:"abbreviated",context:"formatting"});case"eeeee":return w.day(S,{width:"narrow",context:"formatting"});case"eeeeee":return w.day(S,{width:"short",context:"formatting"});case"eeee":default:return w.day(S,{width:"wide",context:"formatting"})}},c:function(y,b,w,E){var S=y.getUTCDay(),C=(S-E.weekStartsOn+8)%7||7;switch(b){case"c":return String(C);case"cc":return(0,l.default)(C,b.length);case"co":return w.ordinalNumber(C,{unit:"day"});case"ccc":return w.day(S,{width:"abbreviated",context:"standalone"});case"ccccc":return w.day(S,{width:"narrow",context:"standalone"});case"cccccc":return w.day(S,{width:"short",context:"standalone"});case"cccc":default:return w.day(S,{width:"wide",context:"standalone"})}},i:function(y,b,w){var E=y.getUTCDay(),S=E===0?7:E;switch(b){case"i":return String(S);case"ii":return(0,l.default)(S,b.length);case"io":return w.ordinalNumber(S,{unit:"day"});case"iii":return w.day(E,{width:"abbreviated",context:"formatting"});case"iiiii":return w.day(E,{width:"narrow",context:"formatting"});case"iiiiii":return w.day(E,{width:"short",context:"formatting"});case"iiii":default:return w.day(E,{width:"wide",context:"formatting"})}},a:function(y,b,w){var E=y.getUTCHours(),S=E/12>=1?"pm":"am";switch(b){case"a":case"aa":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"aaa":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return w.dayPeriod(S,{width:"narrow",context:"formatting"});case"aaaa":default:return w.dayPeriod(S,{width:"wide",context:"formatting"})}},b:function(y,b,w){var E=y.getUTCHours(),S;switch(E===12?S=d.noon:E===0?S=d.midnight:S=E/12>=1?"pm":"am",b){case"b":case"bb":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"bbb":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return w.dayPeriod(S,{width:"narrow",context:"formatting"});case"bbbb":default:return w.dayPeriod(S,{width:"wide",context:"formatting"})}},B:function(y,b,w){var E=y.getUTCHours(),S;switch(E>=17?S=d.evening:E>=12?S=d.afternoon:E>=4?S=d.morning:S=d.night,b){case"B":case"BB":case"BBB":return w.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"BBBBB":return w.dayPeriod(S,{width:"narrow",context:"formatting"});case"BBBB":default:return w.dayPeriod(S,{width:"wide",context:"formatting"})}},h:function(y,b,w){if(b==="ho"){var E=y.getUTCHours()%12;return E===0&&(E=12),w.ordinalNumber(E,{unit:"hour"})}return u.default.h(y,b)},H:function(y,b,w){return b==="Ho"?w.ordinalNumber(y.getUTCHours(),{unit:"hour"}):u.default.H(y,b)},K:function(y,b,w){var E=y.getUTCHours()%12;return b==="Ko"?w.ordinalNumber(E,{unit:"hour"}):(0,l.default)(E,b.length)},k:function(y,b,w){var E=y.getUTCHours();return E===0&&(E=24),b==="ko"?w.ordinalNumber(E,{unit:"hour"}):(0,l.default)(E,b.length)},m:function(y,b,w){return b==="mo"?w.ordinalNumber(y.getUTCMinutes(),{unit:"minute"}):u.default.m(y,b)},s:function(y,b,w){return b==="so"?w.ordinalNumber(y.getUTCSeconds(),{unit:"second"}):u.default.s(y,b)},S:function(y,b){return u.default.S(y,b)},X:function(y,b,w,E){var S=E._originalDate||y,C=S.getTimezoneOffset();if(C===0)return"Z";switch(b){case"X":return p(C);case"XXXX":case"XX":return _(C);case"XXXXX":case"XXX":default:return _(C,":")}},x:function(y,b,w,E){var S=E._originalDate||y,C=S.getTimezoneOffset();switch(b){case"x":return p(C);case"xxxx":case"xx":return _(C);case"xxxxx":case"xxx":default:return _(C,":")}},O:function(y,b,w,E){var S=E._originalDate||y,C=S.getTimezoneOffset();switch(b){case"O":case"OO":case"OOO":return"GMT"+f(C,":");case"OOOO":default:return"GMT"+_(C,":")}},z:function(y,b,w,E){var S=E._originalDate||y,C=S.getTimezoneOffset();switch(b){case"z":case"zz":case"zzz":return"GMT"+f(C,":");case"zzzz":default:return"GMT"+_(C,":")}},t:function(y,b,w,E){var S=E._originalDate||y,C=Math.floor(S.getTime()/1e3);return(0,l.default)(C,b.length)},T:function(y,b,w,E){var S=E._originalDate||y,C=S.getTime();return(0,l.default)(C,b.length)}};function f(v,y){var b=v>0?"-":"+",w=Math.abs(v),E=Math.floor(w/60),S=w%60;if(S===0)return b+String(E);var C=y;return b+String(E)+C+(0,l.default)(S,2)}function p(v,y){if(v%60===0){var b=v>0?"-":"+";return b+(0,l.default)(Math.abs(v)/60,2)}return _(v,y)}function _(v,y){var b=y||"",w=v>0?"-":"+",E=Math.abs(v),S=(0,l.default)(Math.floor(E/60),2),C=(0,l.default)(E%60,2);return w+S+b+C}var m=h;e.default=m,n.exports=e.default})(AE,AE.exports);var Uhe=AE.exports,HE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},r=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},s=function(l,u){var d=l.match(/(P+)(p+)?/)||[],h=d[1],f=d[2];if(!f)return t(l,u);var p;switch(h){case"P":p=u.dateTime({width:"short"});break;case"PP":p=u.dateTime({width:"medium"});break;case"PPP":p=u.dateTime({width:"long"});break;case"PPPP":default:p=u.dateTime({width:"full"});break}return p.replace("{{date}}",t(h,u)).replace("{{time}}",r(f,u))},i={p:r,P:s},a=i;e.default=a,n.exports=e.default})(HE,HE.exports);var Bhe=HE.exports,zE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}n.exports=e.default})(zE,zE.exports);var ZF=zE.exports,Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});Pp.isProtectedDayOfYearToken=Khe;Pp.isProtectedWeekYearToken=Whe;Pp.throwProtectedError=Ghe;var Hhe=["D","DD"],zhe=["YY","YYYY"];function Khe(n){return Hhe.indexOf(n)!==-1}function Whe(n){return zhe.indexOf(n)!==-1}function Ghe(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var KE={exports:{}},WE={exports:{}},GE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(a,o,l){var u,d=t[a];return typeof d=="string"?u=d:o===1?u=d.one:u=d.other.replace("{{count}}",o.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+u:u+" ago":u},s=r;e.default=s,n.exports=e.default})(GE,GE.exports);var Yhe=GE.exports,YE={exports:{}},qE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.width?String(s.width):r.defaultWidth,a=r.formats[i]||r.formats[r.defaultWidth];return a}}n.exports=e.default})(qE,qE.exports);var qhe=qE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(qhe),s={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o={date:(0,r.default)({formats:s,defaultWidth:"full"}),time:(0,r.default)({formats:i,defaultWidth:"full"}),dateTime:(0,r.default)({formats:a,defaultWidth:"full"})},l=o;e.default=l,n.exports=e.default})(YE,YE.exports);var Xhe=YE.exports,XE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(a,o,l,u){return t[a]},s=r;e.default=s,n.exports=e.default})(XE,XE.exports);var Qhe=XE.exports,QE={exports:{}},ZE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s,i){var a=i!=null&&i.context?String(i.context):"standalone",o;if(a==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,u=i!=null&&i.width?String(i.width):l;o=r.formattingValues[u]||r.formattingValues[l]}else{var d=r.defaultWidth,h=i!=null&&i.width?String(i.width):r.defaultWidth;o=r.values[h]||r.values[d]}var f=r.argumentCallback?r.argumentCallback(s):s;return o[f]}}n.exports=e.default})(ZE,ZE.exports);var Zhe=ZE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Zhe),s={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d=function(_,m){var v=Number(_),y=v%100;if(y>20||y<10)switch(y%10){case 1:return v+"st";case 2:return v+"nd";case 3:return v+"rd"}return v+"th"},h={ordinalNumber:d,era:(0,r.default)({values:s,defaultWidth:"wide"}),quarter:(0,r.default)({values:i,defaultWidth:"wide",argumentCallback:function(_){return _-1}}),month:(0,r.default)({values:a,defaultWidth:"wide"}),day:(0,r.default)({values:o,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},f=h;e.default=f,n.exports=e.default})(QE,QE.exports);var Jhe=QE.exports,JE={exports:{}},eS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.width,u=l&&i.matchPatterns[l]||i.matchPatterns[i.defaultMatchWidth],d=a.match(u);if(!d)return null;var h=d[0],f=l&&i.parsePatterns[l]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(f)?s(f,function(v){return v.test(h)}):r(f,function(v){return v.test(h)}),_;_=i.valueCallback?i.valueCallback(p):p,_=o.valueCallback?o.valueCallback(_):_;var m=a.slice(h.length);return{value:_,rest:m}}}function r(i,a){for(var o in i)if(i.hasOwnProperty(o)&&a(i[o]))return o}function s(i,a){for(var o=0;o<i.length;o++)if(a(i[o]))return o}n.exports=e.default})(eS,eS.exports);var efe=eS.exports,tS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.match(r.matchPattern);if(!a)return null;var o=a[0],l=s.match(r.parsePattern);if(!l)return null;var u=r.valueCallback?r.valueCallback(l[0]):l[0];u=i.valueCallback?i.valueCallback(u):u;var d=s.slice(o.length);return{value:u,rest:d}}}n.exports=e.default})(tS,tS.exports);var tfe=tS.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(efe),s=t(tfe),i=/^(\d+)(th|st|nd|rd)?/i,a=/\d+/i,o={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y={ordinalNumber:(0,s.default)({matchPattern:i,parsePattern:a,valueCallback:function(E){return parseInt(E,10)}}),era:(0,r.default)({matchPatterns:o,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any",valueCallback:function(E){return E+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:p,defaultMatchWidth:"wide",parsePatterns:_,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:m,defaultMatchWidth:"any",parsePatterns:v,defaultParseWidth:"any"})},b=y;e.default=b,n.exports=e.default})(JE,JE.exports);var nfe=JE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Yhe),s=t(Xhe),i=t(Qhe),a=t(Jhe),o=t(nfe),l={code:"en-US",formatDistance:r.default,formatLong:s.default,formatRelative:i.default,localize:a.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;e.default=u,n.exports=e.default})(WE,WE.exports);var rfe=WE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(rfe),s=r.default;e.default=s,n.exports=e.default})(KE,KE.exports);var sfe=KE.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=w;var r=t(Rhe),s=t(Dhe),i=t(Zi),a=t(Uhe),o=t(Bhe),l=t(ZF),u=Pp,d=t(pu),h=t(Lr),f=gu,p=t(sfe),_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v=/^'([^]*?)'?$/,y=/''/g,b=/[a-zA-Z]/;function w(S,C,O){var I,P,x,D,N,L,V,B,F,W,$,j,M,te,Q,ie,le,Ee;(0,h.default)(2,arguments);var he=String(C),de=(0,f.getDefaultOptions)(),ue=(I=(P=O==null?void 0:O.locale)!==null&&P!==void 0?P:de.locale)!==null&&I!==void 0?I:p.default,q=(0,d.default)((x=(D=(N=(L=O==null?void 0:O.firstWeekContainsDate)!==null&&L!==void 0?L:O==null||(V=O.locale)===null||V===void 0||(B=V.options)===null||B===void 0?void 0:B.firstWeekContainsDate)!==null&&N!==void 0?N:de.firstWeekContainsDate)!==null&&D!==void 0?D:(F=de.locale)===null||F===void 0||(W=F.options)===null||W===void 0?void 0:W.firstWeekContainsDate)!==null&&x!==void 0?x:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var se=(0,d.default)(($=(j=(M=(te=O==null?void 0:O.weekStartsOn)!==null&&te!==void 0?te:O==null||(Q=O.locale)===null||Q===void 0||(ie=Q.options)===null||ie===void 0?void 0:ie.weekStartsOn)!==null&&M!==void 0?M:de.weekStartsOn)!==null&&j!==void 0?j:(le=de.locale)===null||le===void 0||(Ee=le.options)===null||Ee===void 0?void 0:Ee.weekStartsOn)!==null&&$!==void 0?$:0);if(!(se>=0&&se<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ue.localize)throw new RangeError("locale must contain localize property");if(!ue.formatLong)throw new RangeError("locale must contain formatLong property");var yt=(0,i.default)(S);if(!(0,r.default)(yt))throw new RangeError("Invalid time value");var Nt=(0,l.default)(yt),Cn=(0,s.default)(yt,Nt),Tt={firstWeekContainsDate:q,weekStartsOn:se,locale:ue,_originalDate:yt},jn=he.match(m).map(function(vt){var br=vt[0];if(br==="p"||br==="P"){var hs=o.default[br];return hs(vt,ue.formatLong)}return vt}).join("").match(_).map(function(vt){if(vt==="''")return"'";var br=vt[0];if(br==="'")return E(vt);var hs=a.default[br];if(hs)return!(O!=null&&O.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(vt)&&(0,u.throwProtectedError)(vt,C,String(S)),!(O!=null&&O.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(vt)&&(0,u.throwProtectedError)(vt,C,String(S)),hs(Cn,vt,ue.localize,Tt);if(br.match(b))throw new RangeError("Format string contains an unescaped latin alphabet character `"+br+"`");return vt}).join("");return jn}function E(S){var C=S.match(v);return C?C[1].replace(y,"'"):S}n.exports=e.default})(SE,SE.exports);var ife=SE.exports,nS={exports:{}},rS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(a,o,l){var u=i(a,l.timeZone,l.locale);return u.formatToParts?r(u,o):s(u,o)}function r(a,o){for(var l=a.formatToParts(o),u=l.length-1;u>=0;--u)if(l[u].type==="timeZoneName")return l[u].value}function s(a,o){var l=a.format(o).replace(/\u200E/g,""),u=/ [\w-+ ]+$/.exec(l);return u?u[0].substr(1):""}function i(a,o,l){if(l&&!l.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(l?[l.code,"en-US"]:void 0,{timeZone:o,timeZoneName:a})}n.exports=e.default})(rS,rS.exports);var afe=rS.exports,sS={exports:{}},iS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l,u){var d=o(u);return d.formatToParts?s(d,l):i(d,l)}var r={year:0,month:1,day:2,hour:3,minute:4,second:5};function s(l,u){try{for(var d=l.formatToParts(u),h=[],f=0;f<d.length;f++){var p=r[d[f].type];p>=0&&(h[p]=parseInt(d[f].value,10))}return h}catch(_){if(_ instanceof RangeError)return[NaN];throw _}}function i(l,u){var d=l.format(u).replace(/\u200E/g,""),h=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(d);return[h[3],h[1],h[2],h[4],h[5],h[6]]}var a={};function o(l){if(!a[l]){var u=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),d=u==="06/25/2014, 00:00:00"||u==="06/25/2014 00:00:00";a[l]=d?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return a[l]}n.exports=e.default})(iS,iS.exports);var ofe=iS.exports,aS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s,i,a,o,l,u){var d=new Date(0);return d.setUTCFullYear(r,s,i),d.setUTCHours(a,o,l,u),d}n.exports=e.default})(aS,aS.exports);var JF=aS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(ofe),r=s(JF);function s(m){return m&&m.__esModule?m:{default:m}}var i=36e5,a=6e4,o={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function l(m,v,y){var b,w;if(!m||(b=o.timezoneZ.exec(m),b))return 0;var E;if(b=o.timezoneHH.exec(m),b)return E=parseInt(b[1],10),f(E)?-(E*i):NaN;if(b=o.timezoneHHMM.exec(m),b){E=parseInt(b[1],10);var S=parseInt(b[2],10);return f(E,S)?(w=Math.abs(E)*i+S*a,E>0?-w:w):NaN}if(_(m)){v=new Date(v||Date.now());var C=y?v:u(v),O=d(C,m),I=y?O:h(v,O,m);return-I}return NaN}function u(m){return(0,r.default)(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds())}function d(m,v){var y=(0,t.default)(m,v),b=(0,r.default)(y[0],y[1]-1,y[2],y[3]%24,y[4],y[5],0).getTime(),w=m.getTime(),E=w%1e3;return w-=E>=0?E:1e3+E,b-w}function h(m,v,y){var b=m.getTime(),w=b-v,E=d(new Date(w),y);if(v===E)return v;w-=E-v;var S=d(new Date(w),y);return E===S?E:Math.max(E,S)}function f(m,v){return-23<=m&&m<=23&&(v==null||0<=v&&v<=59)}var p={};function _(m){if(p[m])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:m}),p[m]=!0,!0}catch{return!1}}n.exports=e.default})(sS,sS.exports);var xp=sS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(afe),r=s(xp);function s(p){return p&&p.__esModule?p:{default:p}}var i=60*1e3,a={X:function(p,_,m,v){var y=o(v.timeZone,v._originalDate||p);if(y===0)return"Z";switch(_){case"X":return d(y);case"XXXX":case"XX":return u(y);case"XXXXX":case"XXX":default:return u(y,":")}},x:function(p,_,m,v){var y=o(v.timeZone,v._originalDate||p);switch(_){case"x":return d(y);case"xxxx":case"xx":return u(y);case"xxxxx":case"xxx":default:return u(y,":")}},O:function(p,_,m,v){var y=o(v.timeZone,v._originalDate||p);switch(_){case"O":case"OO":case"OOO":return"GMT"+h(y,":");case"OOOO":default:return"GMT"+u(y,":")}},z:function(p,_,m,v){var y=v._originalDate||p;switch(_){case"z":case"zz":case"zzz":return(0,t.default)("short",y,v);case"zzzz":default:return(0,t.default)("long",y,v)}}};function o(p,_){var m=p?(0,r.default)(p,_,!0)/i:_.getTimezoneOffset();if(Number.isNaN(m))throw new RangeError("Invalid time zone specified: "+p);return m}function l(p,_){for(var m=p<0?"-":"",v=Math.abs(p).toString();v.length<_;)v="0"+v;return m+v}function u(p,_){var m=_||"",v=p>0?"-":"+",y=Math.abs(p),b=l(Math.floor(y/60),2),w=l(Math.floor(y%60),2);return v+b+m+w}function d(p,_){if(p%60===0){var m=p>0?"-":"+";return m+l(Math.abs(p)/60,2)}return u(p,_)}function h(p,_){var m=p>0?"-":"+",v=Math.abs(p),y=Math.floor(v/60),b=v%60;if(b===0)return m+String(y);var w=_;return m+String(y)+w+l(b,2)}var f=a;e.default=f,n.exports=e.default})(nS,nS.exports);var lfe=nS.exports,oS={exports:{}},lS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,r=t;e.default=r,n.exports=e.default})(lS,lS.exports);var ej=lS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=a(pu),r=a(ZF),s=a(xp),i=a(ej);function a(I){return I&&I.__esModule?I:{default:I}}var o=36e5,l=6e4,u=2,d={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:i.default};function h(I,P){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(I===null)return new Date(NaN);var x=P||{},D=x.additionalDigits==null?u:(0,t.default)(x.additionalDigits);if(D!==2&&D!==1&&D!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(I instanceof Date||typeof I=="object"&&Object.prototype.toString.call(I)==="[object Date]")return new Date(I.getTime());if(typeof I=="number"||Object.prototype.toString.call(I)==="[object Number]")return new Date(I);if(!(typeof I=="string"||Object.prototype.toString.call(I)==="[object String]"))return new Date(NaN);var N=f(I),L=p(N.date,D),V=L.year,B=L.restDateString,F=_(B,V);if(isNaN(F))return new Date(NaN);if(F){var W=F.getTime(),$=0,j;if(N.time&&($=m(N.time),isNaN($)))return new Date(NaN);if(N.timeZone||x.timeZone){if(j=(0,s.default)(N.timeZone||x.timeZone,new Date(W+$)),isNaN(j))return new Date(NaN)}else j=(0,r.default)(new Date(W+$)),j=(0,r.default)(new Date(W+$+j));return new Date(W+$+j)}else return new Date(NaN)}function f(I){var P={},x=d.dateTimePattern.exec(I),D;if(x?(P.date=x[1],D=x[3]):(x=d.datePattern.exec(I),x?(P.date=x[1],D=x[2]):(P.date=null,D=I)),D){var N=d.timeZone.exec(D);N?(P.time=D.replace(N[1],""),P.timeZone=N[1].trim()):P.time=D}return P}function p(I,P){var x=d.YYY[P],D=d.YYYYY[P],N;if(N=d.YYYY.exec(I)||D.exec(I),N){var L=N[1];return{year:parseInt(L,10),restDateString:I.slice(L.length)}}if(N=d.YY.exec(I)||x.exec(I),N){var V=N[1];return{year:parseInt(V,10)*100,restDateString:I.slice(V.length)}}return{year:null}}function _(I,P){if(P===null)return null;var x,D,N,L;if(I.length===0)return D=new Date(0),D.setUTCFullYear(P),D;if(x=d.MM.exec(I),x)return D=new Date(0),N=parseInt(x[1],10)-1,E(P,N)?(D.setUTCFullYear(P,N),D):new Date(NaN);if(x=d.DDD.exec(I),x){D=new Date(0);var V=parseInt(x[1],10);return S(P,V)?(D.setUTCFullYear(P,0,V),D):new Date(NaN)}if(x=d.MMDD.exec(I),x){D=new Date(0),N=parseInt(x[1],10)-1;var B=parseInt(x[2],10);return E(P,N,B)?(D.setUTCFullYear(P,N,B),D):new Date(NaN)}if(x=d.Www.exec(I),x)return L=parseInt(x[1],10)-1,C(P,L)?v(P,L):new Date(NaN);if(x=d.WwwD.exec(I),x){L=parseInt(x[1],10)-1;var F=parseInt(x[2],10)-1;return C(P,L,F)?v(P,L,F):new Date(NaN)}return null}function m(I){var P,x,D;if(P=d.HH.exec(I),P)return x=parseFloat(P[1].replace(",",".")),O(x)?x%24*o:NaN;if(P=d.HHMM.exec(I),P)return x=parseInt(P[1],10),D=parseFloat(P[2].replace(",",".")),O(x,D)?x%24*o+D*l:NaN;if(P=d.HHMMSS.exec(I),P){x=parseInt(P[1],10),D=parseInt(P[2],10);var N=parseFloat(P[3].replace(",","."));return O(x,D,N)?x%24*o+D*l+N*1e3:NaN}return null}function v(I,P,x){P=P||0,x=x||0;var D=new Date(0);D.setUTCFullYear(I,0,4);var N=D.getUTCDay()||7,L=P*7+x+1-N;return D.setUTCDate(D.getUTCDate()+L),D}var y=[31,28,31,30,31,30,31,31,30,31,30,31],b=[31,29,31,30,31,30,31,31,30,31,30,31];function w(I){return I%400===0||I%4===0&&I%100!==0}function E(I,P,x){if(P<0||P>11)return!1;if(x!=null){if(x<1)return!1;var D=w(I);if(D&&x>b[P]||!D&&x>y[P])return!1}return!0}function S(I,P){if(P<1)return!1;var x=w(I);return!(x&&P>366||!x&&P>365)}function C(I,P,x){return!(P<0||P>52||x!=null&&(x<0||x>6))}function O(I,P,x){return!(I!=null&&(I<0||I>=25)||P!=null&&(P<0||P>=60)||x!=null&&(x<0||x>=60))}n.exports=e.default})(oS,oS.exports);var i_=oS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(ife),r=i(lfe),s=i(i_);function i(l){return l&&l.__esModule?l:{default:l}}var a=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function o(l,u,d){var h=String(u),f=d||{},p=h.match(a);if(p){var _=(0,s.default)(l,f);h=p.reduce(function(m,v){if(v[0]==="'")return m;var y=m.indexOf(v),b=m[y-1]==="'",w=m.replace(v,"'"+r.default[v[0]](_,v,null,f)+"'");return b?w.substring(0,y-1)+w.substring(y+1):w},h)}return(0,t.default)(l,h,f)}n.exports=e.default})(EE,EE.exports);var tj=EE.exports,uS={exports:{}},cS={exports:{}},dS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r}n.exports=e.default})(dS,dS.exports);var ufe=dS.exports;(function(n,e){var t=Yt.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=t(ufe);function s(i){return(0,r.default)({},i)}n.exports=e.default})(cS,cS.exports);var nj=cS.exports,hS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(xp),r=s(i_);function s(a){return a&&a.__esModule?a:{default:a}}function i(a,o,l){var u=(0,r.default)(a,l),d=(0,t.default)(o,u,!0),h=new Date(u.getTime()-d),f=new Date(0);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}n.exports=e.default})(hS,hS.exports);var rj=hS.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(nj),r=i(tj),s=i(rj);function i(o){return o&&o.__esModule?o:{default:o}}function a(o,l,u,d){var h=(0,t.default)(d);return h.timeZone=l,(0,r.default)((0,s.default)(o,l),u,h)}n.exports=e.default})(uS,uS.exports);var cfe=uS.exports,fS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(xp);function r(i){return i&&i.__esModule?i:{default:i}}function s(i,a){return-(0,t.default)(i,a)}n.exports=e.default})(fS,fS.exports);var dfe=fS.exports,pS={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=o(nj),r=o(i_),s=o(ej),i=o(xp),a=o(JF);function o(u){return u&&u.__esModule?u:{default:u}}function l(u,d,h){if(typeof u=="string"&&!u.match(s.default)){var f=(0,t.default)(h);return f.timeZone=d,(0,r.default)(u,f)}var p=(0,r.default)(u,h),_=(0,a.default)(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds()).getTime(),m=(0,i.default)(d,new Date(_));return new Date(_+m)}n.exports=e.default})(pS,pS.exports);var hfe=pS.exports,sj={format:tj,formatInTimeZone:cfe,getTimezoneOffset:dfe,toDate:i_,utcToZonedTime:rj,zonedTimeToUtc:hfe};const ffe=[[-11,["Pacific/Midway"]],[-10,["Pacific/Honolulu"]],[-9.5,["Pacific/Marquesas"]],[-9,["Pacific/Gambier"]],[-8,["Pacific/Pitcairn"]],[-7,["America/Phoenix"]],[-6,["America/Tegucigalpa"]],[-5,["America/Bogota"]],[-4,["America/Puerto_Rico"]],[-3.5,["America/St_Johns"]],[-3,["America/Montevideo"]],[-2,["Atlantic/South_Georgia"]],[-1,["Atlantic/Cape_Verde"]],[0,["Africa/Accra"]],[1,["Africa/Bangui"]],[2,["Africa/Cairo"]],[3,["Asia/Bahrain","Indian/Antananarivo"]],[3.5,["Asia/Tehran"]],[4,["Asia/Dubai","Asia/Muscat"]],[4.5,["Asia/Kabul"]],[5,["Asia/Samarkand","Asia/Karachi"]],[5.5,["Asia/Kolkata"]],[5.75,["Asia/Kathmandu"]],[6,["Asia/Dhaka"]],[6.5,["Asia/Rangoon","Asia/Rangoon"]],[7,["Asia/Jakarta","Asia/Phnom_Penh","Asia/Bangkok"]],[8,["Asia/Shanghai","Asia/Singapore"]],[8.75,["Australia/Eucla"]],[9,["Asia/Tokyo","Asia/Seoul","Asia/Pyongyang"]],[9.5,["Australia/Darwin"]],[10,["Pacific/Guam"]],[10.5,["Australia/Adelaide"]],[11,["Pacific/Guadalcanal"]],[12,["Pacific/Funafuti"]],[13,["Pacific/Enderbury"]],[13.75,["Pacific/Chatham"]],[14,["Pacific/Kiritimati"]]],LR={0:"Etc/GMT",1:"Etc/GMT-1",2:"Etc/GMT-2",3:"Etc/GMT-3",4:"Etc/GMT-4",5:"Etc/GMT-5",6:"Etc/GMT-6",7:"Etc/GMT-7",8:"Etc/GMT-8",9:"Etc/GMT-9",10:"Etc/GMT-10",11:"Etc/GMT-11",12:"Etc/GMT-12",13:"Etc/GMT-13",14:"Etc/GMT-14","-1":"Etc/GMT+1","-2":"Etc/GMT+2","-3":"Etc/GMT+3","-4":"Etc/GMT+4","-5":"Etc/GMT+5","-6":"Etc/GMT+6","-7":"Etc/GMT+7","-8":"Etc/GMT+8","-9":"Etc/GMT+9","-10":"Etc/GMT+10","-11":"Etc/GMT+11","-12":"Etc/GMT+12"},pfe=/([\-\+]{1})(\d{2})\:(\d{2})/,ij=n=>{let e=null;if(typeof n=="string"){if(e=n.match(pfe),!e)return n;const t=parseInt(e[1]+1,10),r=parseInt(e[2],10),s=parseInt(e[3],10);n=t*(r+s/60)}if(typeof n=="number"){if(n in LR){const r=LR[n];if(gfe(r))return r}const t=ffe.find(r=>r[0]===n);return t&&t[1][0]}},MR={};function gfe(n){if(MR[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),MR[n]=!0,!0}catch{return!1}}const gS=(n,e,t)=>sj.utcToZonedTime(n,ij(e),t),bc=(n,e,t)=>sj.zonedTimeToUtc(n,ij(e),t);function Bt(n,e,t,r){let s=null;if(n){e&&(t=t||new Date,s=_2(n,e,t,{locale:r})),Ss(s)||(s=As(n)),Ss(s)||(s=new Date(Date.parse(n)));const i=Ss(s)&&String(s.getFullYear()).length>4;(!Ss(s)||i)&&(s=null)}return s}function hm(n){const{format:e,type:t}=n,r=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4})/i,s=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4}) (H{0,2}[^a-z\s]*m{0,2}[^a-z\s]*s{0,2})/i,i=go(t);let a;switch(t){case"dateTime":case"dateTimeRange":const o=s.exec(e);a=o&&o[1]&&o[2]?`${o[1]} ${o[2]}`:i;break;case"date":case"month":case"monthRange":case"dateRange":default:const l=r.exec(e);a=l&&l[1]||i;break}return a}function mS(n){const e=" ",{inputValue:t="",rangeSeparator:r,type:s}=n;let i,a,o,l;const u={monthLeft:{dateInput:"",timeInput:""},monthRight:{dateInput:"",timeInput:""}};switch(s){case"date":case"month":case"monthRange":u.monthLeft.dateInput=t;break;case"dateRange":[i="",o=""]=t.split(r),u.monthLeft.dateInput=i,u.monthRight.dateInput=o;break;case"dateTime":[i="",a=""]=t.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=a;break;case"dateTimeRange":const[d="",h=""]=t.split(r);[i="",a=""]=d.split(e),[o="",l=""]=h.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=a,u.monthRight.dateInput=o,u.monthRight.timeInput=l;break}return u}function fm(n){return["string","number"].includes(typeof n)&&n!==""}class mfe extends Pe{constructor(e){super(Object.assign({},e)),this.clearRangeInputFocus=()=>{const{type:t}=this._adapter.getProps(),{rangeInputFocus:r}=this._adapter.getStates();t==="dateTimeRange"&&r&&this._adapter.setRangeInputFocus(!1)},this._isRangeType=()=>{const t=this._adapter.getProp("type");return/range/i.test(t)},this._isRangeValueComplete=t=>{let r=!1;return Array.isArray(t)&&(r=!t.some(s=>ct(s))),r}}init(){const e=this.getProp("timeZone");this._isControlledComponent()?this.initFromProps({timeZone:e,value:this.getProp("value")}):this._isInProps("defaultValue")&&this.initFromProps({timeZone:e,value:this.getProp("defaultValue")}),this.initPanelOpenStatus(this.getProp("defaultOpen"))}initFromProps(e){let{value:t,timeZone:r,prevTimeZone:s}=e;const i=(Array.isArray(t)?[...t]:(t||t===0)&&[t])||[],a=this.parseWithTimezone(i,r,s);this._adapter.updatePrevTimezone(s),this.clearInputValue(),this._adapter.updateValue(a),this.resetCachedSelectedValue(a),this.initRangeInputFocus(a),this._adapter.needConfirm()&&this._adapter.updateCachedSelectedValue(a)}initRangeInputFocus(e){const{triggerRender:t}=this.getProps();this._isRangeType()&&Te(t)&&e.length===0&&this._adapter.setRangeInputFocus("rangeStart")}parseWithTimezone(e,t,r){const s=[];if(Array.isArray(e)&&e.length)for(const i of e){let a=(i||i===0)&&this._parseValue(i);a?(fm(r)&&(a=bc(a,r)),s.push(fm(t)?gS(a,t):a)):kt(!0,`[Semi DatePicker] value cannot be parsed, value: ${String(i)}`)}return s}_isMultiple(){return!!this.getProp("multiple")}_parseValue(e){const t=this._adapter.getProp("dateFnsLocale");let r;if(!e&&e!==0)return new Date;if(Ds(e))r=e;else if(Oe(e))r=Bt(e,this.getProp("format"),void 0,t);else if(wE(e))r=new Date(e);else throw new TypeError("defaultValue should be valid Date object/timestamp or string");return r}destroy(){this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide()}initPanelOpenStatus(e){(this.getProp("open")||e)&&!this.getProp("disabled")?(this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()):(this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide())}openPanel(){this.getProp("disabled")||(this._isControlledComponent("open")||this.open(),this._adapter.notifyOpenChange(!0))}clearInsetInputValue(){const{insetInput:e}=this._adapter.getProps();e&&this._adapter.updateInsetInputValue(null)}resetCachedSelectedValue(e){const{value:t,cachedSelectedValue:r}=this._adapter.getStates(),s=Array.isArray(e)?e:t;ke(s,r)||this._adapter.updateCachedSelectedValue(s)}closePanel(){this._isControlledComponent("open")?this.resetInnerSelectedStates():this.close(),this._adapter.notifyOpenChange(!1)}open(){this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()}close(){this._adapter.togglePanel(!1),this.resetInnerSelectedStates(),this._adapter.unregisterClickOutSide()}focus(e){if(this._isRangeType()){const t=e??"rangeStart";this._adapter.setRangeInputFocus(t)}else this._adapter.setInputFocus()}blur(){this._isRangeType()?this._adapter.setRangeInputBlur():this._adapter.setInputBlur()}resetInnerSelectedStates(){setTimeout(()=>{const{value:e,cachedSelectedValue:t}=this._adapter.getStates();ke(e,t)||this.resetCachedSelectedValue(e)},0),this.resetFocus(),this.clearInputValue()}resetFocus(e){this._adapter.setRangeInputFocus(!1),this._adapter.notifyBlur(e)}isCachedSelectedValueValid(e){const t=e||this._adapter.getState("cachedSelectedValue"),{type:r}=this._adapter.getProps();let s=!0;switch(!0){case r==="dateRange":case r==="dateTimeRange":this._isRangeValueComplete(t)||(s=!1);break;default:const i=t==null?void 0:t.filter(a=>a);Array.isArray(i)&&i.length||(s=!1);break}return s}clearInputValue(){this._adapter.updateInputValue(null),this._adapter.updateInsetInputValue(null)}handleInputChange(e,t){const r=this._isMultiple()?this.parseMultipleInput(e):this.parseInput(e),{value:s}=this.getStates();if(this._updateCachedSelectedValueFromInput(e),r&&r.length||e===""){if(K(t,Go.CLEARBTN_CLICKED_EVENT_FLAG)&&this._isControlledComponent("value")){this._notifyChange(r);return}this._updateValueAndInput(r,e==="",e);const i=this._getChangedDates(r);this._someDateDisabled(i,r)||ke(r,s)||this._notifyChange(r)}else this._adapter.updateInputValue(e)}handleInsetInputChange(e){const{insetInputStr:t,format:r,insetInputValue:s}=e,i=this._isMultiple(),a=i?this.parseMultipleInput(t,r):this.parseInput(t,r),{value:o}=this.getStates();if(this._updateCachedSelectedValueFromInput(t),a&&a.length){const l=this._getChangedDates(a);if(!this._someDateDisabled(l,a)){ke(a,o)||(!this._isControlledComponent()&&!this._adapter.needConfirm()&&this._adapter.updateValue(a),this._notifyChange(a));const u=i?this.formatMultipleDates(a):this.formatDates(a);this._adapter.updateInputValue(u)}}this._adapter.updateInsetInputValue(s)}_updateCachedSelectedValueFromInput(e){const t=this.getLooseDateFromInput(e),r=this._getChangedDates(t);this._someDateDisabled(r,t)||this.resetCachedSelectedValue(t)}handleInputBlur(){}handleRangeEndTabPress(e){this._adapter.setRangeInputFocus(!1)}handleInputFocus(e,t){const r=this._adapter.getState("rangeInputFocus");t&&this._adapter.setRangeInputFocus(t),(!t||!["rangeStart","rangeEnd"].includes(r))&&this._adapter.notifyFocus(e,t)}handleSetRangeFocus(e){this._adapter.setRangeInputFocus(e)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){const t=[];this._isControlledComponent("value")||(this._updateValueAndInput(t,!0,""),this._adapter.updateInsetInputValue(null),this.resetCachedSelectedValue(t)),this._notifyChange(t),this._adapter.setRangeInputFocus(!1),this._adapter.notifyClear(e)}handleRangeInputBlur(e,t){}handleInputComplete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e?this._isMultiple()?this.parseMultipleInput(e,",",!0):this.parseInput(e):[];if(t=t&&t.length?t:this.getState("value"),!t||!t.length){const i=new Date;this._isRangeType()?t=[i,i]:t=[i]}this._updateValueAndInput(t);const{value:r}=this.getStates(),s=this._getChangedDates(t);!this._someDateDisabled(s,t)&&!ke(t,r)&&this._notifyChange(t)}parseInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=[];const{dateFnsLocale:s,rangeSeparator:i}=this.getProps();if(e&&e.length){const a=this.getProp("type"),o=t||this.getProp("format")||go(a);let l,u;const d=new Date;switch(a){case"date":case"dateTime":case"month":l=e?Bt(e,o,d,s):"",u=l&&Ss(l)&&this.localeFormat(l,o),l&&u===e&&(r=[l]);break;case"dateRange":case"dateTimeRange":case"monthRange":const h=i,f=e.split(h);l=f&&f.reduce((p,_)=>{const m=_&&Bt(_,o,d,s);return m&&p.push(m),p},[]),u=l&&l.map(p=>p&&Ss(p)&&this.localeFormat(p,o)).join(h),l&&u===e&&(l.sort((p,_)=>p.getTime()-_.getTime()),r=l);break}}return r}getLooseDateFromInput(e){return this._isMultiple()?this.parseMultipleInputLoose(e):this.parseInputLoose(e)}parseInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=[];const{dateFnsLocale:r,rangeSeparator:s,type:i,format:a}=this.getProps();if(e&&e.length){const o=a||go(i);let l,u;const d=new Date;switch(i){case"date":case"dateTime":case"month":const h=Bt(e,o,d,r);Ds(h)?(u=this.localeFormat(h,o),u===e&&(l=h)):l=null,t=[l];break;case"dateRange":case"dateTimeRange":const f=s,p=e.split(f);l=p&&p.reduce((_,m)=>{let v=null;const y=Bt(m,o,d,r);return Ds(y)&&(u=this.localeFormat(y,o),u===m&&(v=y)),_.push(v),_},[]),Array.isArray(l)&&l.every(_=>Ss(_))&&l.sort((_,m)=>_.getTime()-m.getTime()),t=l;break}}return t}parseMultipleInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),a=[];for(const o of i){let l=o&&this.parseInputLoose(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!a.filter(u=>!!l.find(d=>Xx(u,d)))&&a.push(...l):a.push(...l);else return[];if(s&&s>0&&a.length>s)return[]}return a}parseMultipleInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),a=[];for(const o of i){let l=o&&this.parseInput(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!a.filter(u=>!!l.find(d=>Xx(u,d)))&&a.push(...l):a.push(...l);else return[];if(s&&s>0&&a.length>s)return[]}return a}formatDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r="";const s=this.getProp("rangeSeparator");if(Array.isArray(e)&&e.length){const i=this.getProp("type"),a=t||this.getProp("format")||go(i);switch(i){case"date":case"dateTime":case"month":r=this.localeFormat(e[0],a);break;case"dateRange":case"dateTimeRange":case"monthRange":const o=!ct(e[0]),l=!ct(e[1]);o&&l?r=`${this.localeFormat(e[0],a)}${s}${this.localeFormat(e[1],a)}`:o?r=`${this.localeFormat(e[0],a)}${s}`:l&&(r=`${s}${this.localeFormat(e[1],a)}`);break}}return r}formatMultipleDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2?arguments[2]:void 0;const s=[];if(Array.isArray(e)&&e.length)switch(this.getProp("type")){case"date":case"dateTime":case"month":e.forEach(a=>s.push(this.formatDates([a],r)));break;case"dateRange":case"dateTimeRange":case"monthRange":for(let a=0;a<e.length;a+=2)s.push(this.formatDates(e.slice(a,a+2),r));break}return s.join(t)}_updateValueAndInput(e,t,r){let s;if(t||e){Array.isArray(e)?s=e:s=e?[e]:[];const i=this._getChangedDates(s);!this._isControlledComponent()&&!this._someDateDisabled(i,s)&&!this._adapter.needConfirm()&&this._adapter.updateValue(s)}this._adapter.updateInputValue(r)}handleSelectedChange(e,t){const{type:r,format:s,rangeSeparator:i,insetInput:a}=this._adapter.getProps(),{value:o}=this.getStates(),l=this._isControlledComponent(),u=Pa(t)?t.fromPreset:t,d=K(t,"closePanel",!0),h=K(t,"needCheckFocusRecord",!0),f=Array.isArray(e)?[...e]:e?[e]:[],p=this._getChangedDates(f);let _,m;if(!this._someDateDisabled(p,f)){if(this.resetCachedSelectedValue(f),_=this._isMultiple()?this.formatMultipleDates(f):this.formatDates(f),a){const b=hm({format:s,type:r}),w=this._isMultiple()?this.formatMultipleDates(f,void 0,b):this.formatDates(f,b);m=mS({inputValue:w,type:r,rangeSeparator:i})}if(this._isRangeType()&&!this._isRangeValueComplete(f)){this._adapter.updateInputValue(_),this._adapter.updateInsetInputValue(m);return}else(!l||u)&&(this._updateValueAndInput(f,!0,_),this._adapter.updateInsetInputValue(m));ke(e,o)||this._notifyChange(e)}const v=!h||h&&this._adapter.couldPanelClosed();(r==="date"&&!this._isMultiple()&&d||r==="dateRange"&&this._isRangeValueComplete(f)&&d&&v)&&this.closePanel()}handleYMSelectedChange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{currentMonth:t,currentYear:r}=e,{type:s}=this.getProps();if(s==="month"){const i=new Date(r.left,t.left-1);this.handleSelectedChange([i])}else{const i=new Date(r.left,t.left-1),a=new Date(r.right,t.right-1);this.handleSelectedChange([i,a])}}handleConfirm(){const{cachedSelectedValue:e,value:t}=this._adapter.getStates(),r=this._isRangeValueComplete(e),s=r?e:t;if(this._adapter.needConfirm()&&!this._isControlledComponent()&&this._adapter.updateValue(s),this.closePanel(),r){const{notifyValue:i,notifyDate:a}=this.disposeCallbackArgs(e);this._adapter.notifyConfirm(a,i)}}handleCancel(){this.closePanel();const e=this.getState("value"),{notifyValue:t,notifyDate:r}=this.disposeCallbackArgs(e);this._adapter.notifyCancel(r,t)}handlePresetClick(e,t){const{type:r,timeZone:s}=this.getProps(),i=this.getState("prevTimezone"),a=typeof e.start=="function"?e.start():e.start,o=typeof e.end=="function"?e.end():e.end;let l;switch(r){case"month":case"dateTime":case"date":l=this.parseWithTimezone([a],s,i),this.handleSelectedChange(l);break;case"dateTimeRange":case"dateRange":l=this.parseWithTimezone([a,o],s,i),this.handleSelectedChange(l,{needCheckFocusRecord:!1});break}this._adapter.notifyPresetsClick(e,t)}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");fm(r)&&(t=t.map(l=>bc(l,r)));const s=this.getProp("type"),i=this.getProp("format")||go(s);let a,o;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],i),[o]=t);break;case"dateRange":case"dateTimeRange":case"monthRange":a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t];break}return{notifyValue:a,notifyDate:o}}_notifyChange(e){if(this._isRangeType()&&!this._isRangeValueComplete(e))return;const{onChangeWithDateFirst:t}=this.getProps(),{notifyValue:r,notifyDate:s}=this.disposeCallbackArgs(e);t?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_getChangedDates(e){const t=this._adapter.getProp("type"),{cachedSelectedValue:r}=this._adapter.getStates(),s=[];switch(t){case"dateRange":case"dateTimeRange":const[i,a]=r,[o,l]=e;py(o,i)||s.push(o),py(l,a)||s.push(l);break;default:const u=new Set;r.forEach(d=>u.add(uE(d)&&d.valueOf()));for(const d of e)u.has(uE(d)&&d.valueOf())||s.push(d)}return s}_someDateDisabled(e,t){const{rangeInputFocus:r}=this.getStates(),s={rangeStart:"",rangeEnd:"",rangeInputFocus:r};if(this._isRangeType()&&Array.isArray(t)){if(Ss(t[0])){const a=et(t[0],"yyyy-MM-dd");s.rangeStart=a}if(Ss(t[1])){const a=et(t[1],"yyyy-MM-dd");s.rangeEnd=a}}let i=!1;for(const a of e)if(!ct(a)&&this.disabledDisposeDate(a,s)){i=!0;break}return i}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return et(e,t,{locale:r})}disposeDateFn(e,t){const{notifyDate:r}=this.disposeCallbackArgs(t),s=Array.isArray(t),i=Array.isArray(r);let a;s===i?a=r:a=s?[r]:r[0];for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];return e(a,...l)}disabledDisposeDate(e){const{disabledDate:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}disabledDisposeTime(e){const{disabledTime:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}handleTriggerWrapperClick(e){const{disabled:t,triggerRender:r}=this._adapter.getProps(),{rangeInputFocus:s}=this._adapter.getStates();t||(this._isRangeType()&&!s?(this._adapter.isEventTarget(e)?setTimeout(()=>{this.handleInputFocus(e,"rangeStart")},0):Te(r)&&this._adapter.setRangeInputFocus("rangeStart"),this.openPanel()):this.openPanel())}handlePanelVisibleChange(e){e?(this._adapter.setInsetInputFocus(),setTimeout(()=>{this._adapter.setTriggerDisabled(!0)},0)):this._adapter.setTriggerDisabled(!1)}}function Au(n,e){let{groupInnerSeparator:t=z.DEFAULT_SEPARATOR_RANGE,groupSize:r=1,groupSeparator:s=z.DEFAULT_SEPARATOR_MULTIPLE}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,a="";if((r<=0||typeof r!="number")&&(r=1),Array.isArray(n)&&n.length){const o=[],{length:l}=n;for(let u=0;u<l;u++){u%r===0&&o.push([]);const d=Math.floor(u/r);o[d].push(n[u])}a=o.map(u=>u.map(d=>d?et(d,e,{locale:i}):"").join(t)).join(s)}return a}function aj(n){const{defaultPickerValue:e,format:t,dateFnsLocale:r}=n;let s=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:void 0;switch(!0){case Ds(s):break;case wE(s):s=new Date(s);break;case typeof s=="string":s=Bt(s,t,void 0,r);break;default:s=new Date;break}switch(!0){case Ds(i):break;case wE(i):i=new Date(i);break;case typeof i=="string":i=Bt(i,t,void 0,r);break;default:i=po(s,1);break}return{nowDate:s,nextDate:i}}var yfe=Function.prototype.toString,o0=Object.create,vfe=Object.prototype.toString,_fe=function(){function n(){this._keys=[],this._values=[]}return n.prototype.has=function(e){return!!~this._keys.indexOf(e)},n.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},n.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},n}();function bfe(){return new _fe}function wfe(){return new WeakMap}var Efe=typeof WeakMap<"u"?wfe:bfe;function mT(n){if(!n)return o0(null);var e=n.constructor;if(e===Object)return n===Object.prototype?{}:o0(n);if(e&&~yfe.call(e).indexOf("[native code]"))try{return new e}catch{}return o0(n)}function Sfe(n){var e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}function Cfe(n){return n.flags}var Tfe=/test/g.flags==="g"?Cfe:Sfe;function oj(n){var e=vfe.call(n);return e.substring(8,e.length-1)}function Ofe(n){return n[Symbol.toStringTag]||oj(n)}var Ife=typeof Symbol<"u"?Ofe:oj,Pfe=Object.defineProperty,xfe=Object.getOwnPropertyDescriptor,lj=Object.getOwnPropertyNames,yT=Object.getOwnPropertySymbols,uj=Object.prototype,cj=uj.hasOwnProperty,Rfe=uj.propertyIsEnumerable,dj=typeof yT=="function";function Afe(n){return lj(n).concat(yT(n))}var Dfe=dj?Afe:lj;function a_(n,e,t){for(var r=Dfe(n),s=0,i=r.length,a=void 0,o=void 0;s<i;++s)if(a=r[s],!(a==="callee"||a==="caller")){if(o=xfe(n,a),!o){e[a]=t.copier(n[a],t);continue}!o.get&&!o.set&&(o.value=t.copier(o.value,t));try{Pfe(e,a,o)}catch{e[a]=o.value}}return e}function kfe(n,e){var t=new e.Constructor;e.cache.set(n,t);for(var r=0,s=n.length;r<s;++r)t[r]=e.copier(n[r],e);return t}function Nfe(n,e){var t=new e.Constructor;return e.cache.set(n,t),a_(n,t,e)}function hj(n,e){return n.slice(0)}function $fe(n,e){return n.slice(0,n.size,n.type)}function Lfe(n,e){return new e.Constructor(hj(n.buffer))}function Mfe(n,e){return new e.Constructor(n.getTime())}function fj(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r,s){t.set(s,e.copier(r,e))}),t}function Ffe(n,e){return a_(n,fj(n,e),e)}function jfe(n,e){var t=mT(e.prototype);e.cache.set(n,t);for(var r in n)cj.call(n,r)&&(t[r]=e.copier(n[r],e));return t}function Vfe(n,e){var t=mT(e.prototype);e.cache.set(n,t);for(var r in n)cj.call(n,r)&&(t[r]=e.copier(n[r],e));for(var s=yT(n),i=0,a=s.length,o=void 0;i<a;++i)o=s[i],Rfe.call(n,o)&&(t[o]=e.copier(n[o],e));return t}var Ufe=dj?Vfe:jfe;function Bfe(n,e){var t=mT(e.prototype);return e.cache.set(n,t),a_(n,t,e)}function l0(n,e){return new e.Constructor(n.valueOf())}function Hfe(n,e){var t=new e.Constructor(n.source,Tfe(n));return t.lastIndex=n.lastIndex,t}function pm(n,e){return n}function pj(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r){t.add(e.copier(r,e))}),t}function zfe(n,e){return a_(n,pj(n,e),e)}var Kfe=Array.isArray,vT=Object.assign,Wfe=Object.getPrototypeOf||function(n){return n.__proto__},gj={array:kfe,arrayBuffer:hj,blob:$fe,dataView:Lfe,date:Mfe,error:pm,map:fj,object:Ufe,regExp:Hfe,set:pj},Gfe=vT({},gj,{array:Nfe,map:Ffe,object:Bfe,set:zfe});function Yfe(n){return{Arguments:n.object,Array:n.array,ArrayBuffer:n.arrayBuffer,Blob:n.blob,Boolean:l0,DataView:n.dataView,Date:n.date,Error:n.error,Float32Array:n.arrayBuffer,Float64Array:n.arrayBuffer,Int8Array:n.arrayBuffer,Int16Array:n.arrayBuffer,Int32Array:n.arrayBuffer,Map:n.map,Number:l0,Object:n.object,Promise:pm,RegExp:n.regExp,Set:n.set,String:l0,WeakMap:pm,WeakSet:pm,Uint8Array:n.arrayBuffer,Uint8ClampedArray:n.arrayBuffer,Uint16Array:n.arrayBuffer,Uint32Array:n.arrayBuffer,Uint64Array:n.arrayBuffer}}function mj(n){var e=vT({},gj,n),t=Yfe(e),r=t.Array,s=t.Object;function i(a,o){if(o.prototype=o.Constructor=void 0,!a||typeof a!="object")return a;if(o.cache.has(a))return o.cache.get(a);if(o.prototype=Wfe(a),o.Constructor=o.prototype&&o.prototype.constructor,!o.Constructor||o.Constructor===Object)return s(a,o);if(Kfe(a))return r(a,o);var l=t[Ife(a)];return l?l(a,o):typeof a.then=="function"?a:s(a,o)}return function(o){return i(o,{Constructor:void 0,cache:Efe(),copier:i,prototype:void 0})}}function qfe(n){return mj(vT({},Gfe,n))}qfe({});var Da=mj({});const FR="Enter",Xfe="Tab";class Qfe extends Pe{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleClick(e){this._adapter.notifyClick(e)}handleChange(e,t){this._adapter.notifyChange(e,t)}handleInputComplete(e){e.key===FR&&this._adapter.notifyEnter(e.target.value)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){this.stopPropagation(e),this._adapter.notifyRangeInputClear(e)}handleRangeInputEnterPress(e,t){e.key===FR&&this._adapter.notifyEnter(t)}handleRangeInputEndKeyPress(e){e.key===Xfe&&this._adapter.notifyTabPress(e)}handleRangeInputFocus(e,t){this._adapter.notifyRangeInputFocus(e,t)}formatShowText(e,t){const{type:r,dateFnsLocale:s,format:i,rangeSeparator:a}=this._adapter.getProps(),o=t||i||go(r);let l="";switch(r){case"date":l=Au(e,o,void 0,s);break;case"dateRange":l=Au(e,o,{groupSize:2,groupInnerSeparator:a},s);break;case"dateTime":l=Au(e,o,void 0,s);break;case"dateTimeRange":l=Au(e,o,{groupSize:2,groupInnerSeparator:a},s);break;case"month":l=Au(e,o,void 0,s);break;case"monthRange":l=Au(e,o,{groupSize:2,groupInnerSeparator:a},s);break}return l}handleInsetInputChange(e){const{value:t,valuePath:r,insetInputValue:s}=e,{format:i,type:a,rangeSeparator:o}=this._adapter.getProps(),l=hm({type:a,format:i}),u=yc(Da(s),r,t),d=this.concatInsetInputValue({insetInputValue:u}),h=mS({inputValue:d,type:a,rangeSeparator:o}),f=this._autoFillTimeToInsetInputValue({insetInputValue:h,valuePath:r,format:l}),p=this.concatInsetInputValue({insetInputValue:f});this._adapter.notifyInsetInputChange({insetInputValue:f,format:l,insetInputStr:p})}_autoFillTimeToInsetInputValue(e){const{valuePath:t,insetInputValue:r,format:s}=e,{type:i,defaultPickerValue:a,dateFnsLocale:o}=this._adapter.getProps(),l=Da(r),{nowDate:u,nextDate:d}=aj({defaultPickerValue:a,format:s,dateFnsLocale:o});if(i.includes("Time")){let h="";const f=K(s.split(" "),"0",z.FORMAT_FULL_DATE),p=K(s.split(" "),"1",z.FORMAT_TIME_PICKER);switch(t){case"monthLeft.dateInput":const _=l.monthLeft.dateInput;if(!l.monthLeft.timeInput&&_.length===f.length){const v=Bt(l.monthLeft.dateInput,f);Ds(v)&&(h=et(u,p),l.monthLeft.timeInput=h)}break;case"monthRight.dateInput":const m=l.monthRight.dateInput;if(!l.monthRight.timeInput&&m.length===f.length){const v=Bt(m,f);Ds(v)&&(h=et(d,p),l.monthRight.timeInput=h)}break}}return l}getInsetInputPlaceholder(){const{type:e,format:t,rangeSeparator:r}=this._adapter.getProps(),s=hm({type:e,format:t});let i,a;switch(e){case"date":case"month":case"dateRange":i=s;break;case"dateTime":case"dateTimeRange":[i,a]=s.split(" ");break;case"monthRange":i=s+r+s;break}return{datePlaceholder:i,timePlaceholder:a}}getInsetInputValue(e){let{value:t,insetInputValue:r}=e;const{type:s,rangeSeparator:i,format:a}=this._adapter.getProps();let o="";if(Pa(r))o=this.concatInsetInputValue({insetInputValue:r});else{const u=hm({format:a,type:s});o=this.formatShowText(t,u)}return mS({inputValue:o,type:s,rangeSeparator:i})}concatInsetDateAndTime(e){let{date:t,time:r}=e;return`${t} ${r}`}concatInsetDateRange(e){let{rangeStart:t,rangeEnd:r}=e;const{rangeSeparator:s}=this._adapter.getProps();return`${t}${s}${r}`}concatInsetInputValue(e){let{insetInputValue:t}=e;const{type:r}=this._adapter.getProps();let s="";switch(r){case"date":case"month":case"monthRange":s=t.monthLeft.dateInput;break;case"dateRange":s=this.concatInsetDateRange({rangeStart:t.monthLeft.dateInput,rangeEnd:t.monthRight.dateInput});break;case"dateTime":s=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput});break;case"dateTimeRange":const i=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput}),a=this.concatInsetDateAndTime({date:t.monthRight.dateInput,time:t.monthRight.timeInput});s=this.concatInsetDateRange({rangeStart:i,rangeEnd:a});break}return s}}function jR(n){const{insetInputValue:e,valuePath:t,onFocus:r,onChange:s,placeholder:i,forwardRef:a}=n,o=K(e,t);return g.createElement(Zt,{value:o,onChange:(l,u)=>{s({value:l,event:u,insetInputValue:e,valuePath:t})},onFocus:r,placeholder:i,ref:a})}function VR(n){const{insetInputValue:e,valuePath:t,type:r,onFocus:s,onChange:i,placeholder:a,disabled:o}=n;if(!r.includes("Time"))return null;const u=K(e,t);return g.createElement(Zt,{value:u,onChange:(d,h)=>{i({value:d,event:h,insetInputValue:e,valuePath:t})},onFocus:s,placeholder:a,disabled:o})}var Zfe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Py extends we{constructor(e){super(e),this.handleChange=(t,r)=>this.foundation.handleChange(t,r),this.handleEnterPress=t=>this.foundation.handleInputComplete(t),this.handleInputClear=t=>this.foundation.handleInputClear(t),this.handleRangeInputChange=(t,r,s)=>{const i=this.getRangeInputValue(t,r);this.foundation.handleChange(i,s)},this.handleRangeInputClear=t=>{this.foundation.handleRangeInputClear(t)},this.handleRangeInputEnterPress=(t,r,s)=>{const i=this.getRangeInputValue(r,s);this.foundation.handleRangeInputEnterPress(t,i)},this.handleRangeInputEndKeyPress=t=>{this.foundation.handleRangeInputEndKeyPress(t)},this.handleRangeInputFocus=(t,r)=>{this.foundation.handleRangeInputFocus(t,r)},this.handleRangeStartFocus=t=>{this.handleRangeInputFocus(t,"rangeStart")},this.handleInsetInputChange=t=>{this.foundation.handleInsetInputChange(t)},this.getRangeInputValue=(t,r)=>{const{rangeSeparator:s}=this.props;return`${t}${s}${r}`},this.foundation=new Qfe(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateIsFocusing:t=>this.setState({isFocusing:t}),notifyClick:function(){return e.props.onClick(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyEnter:function(){return e.props.onEnterPress(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyRangeInputClear:function(){return e.props.onRangeClear(...arguments)},notifyRangeInputFocus:function(){return e.props.onFocus(...arguments)},notifyTabPress:function(){return e.props.onRangeEndTabPress(...arguments)},notifyInsetInputChange:t=>this.props.onInsetInputChange(t)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}formatText(e){return e&&e.length?this.foundation.formatShowText(e):""}renderRangePrefix(){const{prefix:e,insetLabel:t,prefixCls:r,disabled:s,rangeInputFocus:i}=this.props,a=e||t;return a?g.createElement("div",{className:`${r}-range-input-prefix`,onClick:o=>!s&&!i&&this.handleRangeStartFocus(o),"x-semi-prop":"prefix,insetLabel"},a):null}renderRangeSeparator(e,t){const{disabled:r,rangeSeparator:s}=this.props,i=A({[`${fe.PREFIX}-range-input-separator`]:!0,[`${fe.PREFIX}-range-input-separator-active`]:(e||t)&&!r});return g.createElement("span",{onClick:a=>!r&&this.handleRangeStartFocus(a),className:i},s)}renderRangeClearBtn(e,t){const{showClear:r,prefixCls:s,disabled:i,clearIcon:a,showClearIgnoreDisabled:o}=this.props;return(e||t)&&r&&!(i&&!o)?g.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear range input value",className:`${s}-range-input-clearbtn`,onMouseDown:d=>this.handleRangeInputClear(d)},a||g.createElement(Wo,{"aria-hidden":!0})):null}renderRangeSuffix(e){const{prefixCls:t,disabled:r,rangeInputFocus:s}=this.props;return e?g.createElement("div",{className:`${t}-range-input-suffix`,onClick:a=>!r&&!s&&this.handleRangeStartFocus(a)},e):null}renderRangeInput(e){const{placeholder:t,inputStyle:r,disabled:s,inputReadOnly:i,autofocus:a,size:o,text:l,suffix:u,inputCls:d,rangeInputStartRef:h,rangeInputEndRef:f,rangeInputFocus:p,prefixCls:_,rangeSeparator:m,borderless:v}=e,[y,b=""]=l.split(m)||[],w=o==="large"?"default":"small",E=Array.isArray(t)?t:[t,t],[S,C]=E,O=A(`${_}-range-input-wrapper-start`,`${_}-range-input-wrapper`,{[`${_}-range-input-wrapper-active`]:p==="rangeStart"&&!s,[`${_}-range-input-wrapper-start-with-prefix`]:this.props.prefix||this.props.insetLabel,[`${_}-borderless`]:v}),I=A(`${_}-range-input-wrapper-end`,`${_}-range-input-wrapper`,{[`${_}-range-input-wrapper-active`]:p==="rangeEnd"&&!s,[`${_}-borderless`]:v});return g.createElement(g.Fragment,null,this.renderRangePrefix(),g.createElement("div",{onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeStart"),className:`${d} ${O}`},g.createElement(Zt,{borderless:v,size:w,style:r,disabled:s,readonly:i,placeholder:S,value:y,onChange:(P,x)=>this.handleRangeInputChange(P,b,x),onEnterPress:P=>this.handleRangeInputEnterPress(P,y,b),onFocus:P=>this.handleRangeInputFocus(P,"rangeStart"),autoFocus:a,ref:h})),this.renderRangeSeparator(y,b),g.createElement("div",{className:`${d} ${I}`,onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeEnd")},g.createElement(Zt,{borderless:v,size:w,style:r,disabled:s,readonly:i,placeholder:C,value:b,onChange:(P,x)=>this.handleRangeInputChange(y,P,x),onEnterPress:P=>this.handleRangeInputEnterPress(P,y,b),onFocus:P=>this.handleRangeInputFocus(P,"rangeEnd"),onKeyDown:this.handleRangeInputEndKeyPress,ref:f})),this.renderRangeClearBtn(y,b),this.renderRangeSuffix(u))}isRenderMultipleInputs(){const{type:e}=this.props;return e.includes("Range")&&e!=="monthRange"}renderInputInset(){const{type:e,handleInsetDateFocus:t,handleInsetTimeFocus:r,value:s,insetInputValue:i,prefixCls:a,rangeInputStartRef:o,rangeInputEndRef:l,density:u,insetInput:d}=this.props,h=this.foundation.getInsetInputValue({value:s,insetInputValue:i}),{dateStart:f,dateEnd:p,timeStart:_,timeEnd:m}=K(d,"placeholder",{}),{datePlaceholder:v,timePlaceholder:y}=this.foundation.getInsetInputPlaceholder(),b=`${a}-inset-input-wrapper`,w=`${a}-inset-input-separator`;return g.createElement("div",{className:b,"x-type":e},g.createElement(jR,{forwardRef:o,insetInputValue:h,placeholder:f??v,valuePath:"monthLeft.dateInput",onChange:this.handleInsetInputChange,onFocus:E=>t(E,"rangeStart")}),g.createElement(VR,{disabled:!h.monthLeft.dateInput,insetInputValue:h,placeholder:_??y,type:e,valuePath:"monthLeft.timeInput",onChange:this.handleInsetInputChange,onFocus:r}),this.isRenderMultipleInputs()&&g.createElement(g.Fragment,null,g.createElement("div",{className:w},u==="compact"?null:"-"),g.createElement(jR,{forwardRef:l,insetInputValue:h,placeholder:p??v,valuePath:"monthRight.dateInput",onChange:this.handleInsetInputChange,onFocus:E=>t(E,"rangeEnd")}),g.createElement(VR,{disabled:!h.monthRight.dateInput,insetInputValue:h,placeholder:m??y,type:e,valuePath:"monthRight.timeInput",onChange:this.handleInsetInputChange,onFocus:r})))}renderTriggerInput(){const e=this.props,{placeholder:t,type:r,value:s,inputValue:i,inputStyle:a,disabled:o,showClear:l,inputReadOnly:u,insetLabel:d,validateStatus:h,block:f,prefixCls:p,multiple:_,dateFnsLocale:m,onBlur:v,onClear:y,onFocus:b,prefix:w,autofocus:E,size:S,inputRef:C,rangeInputStartRef:O,rangeInputEndRef:I,onRangeClear:P,onRangeBlur:x,onRangeEndTabPress:D,rangeInputFocus:N,rangeSeparator:L,insetInput:V,insetInputValue:B,defaultPickerValue:F,showClearIgnoreDisabled:W}=e,$=Zfe(e,["placeholder","type","value","inputValue","inputStyle","disabled","showClear","inputReadOnly","insetLabel","validateStatus","block","prefixCls","multiple","dateFnsLocale","onBlur","onClear","onFocus","prefix","autofocus","size","inputRef","rangeInputStartRef","rangeInputEndRef","onRangeClear","onRangeBlur","onRangeEndTabPress","rangeInputFocus","rangeSeparator","insetInput","insetInputValue","defaultPickerValue","showClearIgnoreDisabled"]),j=g.createElement(S2,{"aria-hidden":!0}),M=g.createElement(cie,{"aria-hidden":!0}),te=r.includes("Time")?M:j;let Q="";ct(i)?s&&(Q=this.formatText(s)):Q=i;const ie=A({[`${p}-input-readonly`]:u,[`${p}-monthRange-input`]:r==="monthRange"}),le=Object.assign(Object.assign({},this.props),{text:Q,suffix:te,inputCls:ie});return this.isRenderMultipleInputs()?this.renderRangeInput(le):g.createElement(Zt,Object.assign({},$,{ref:C,insetLabel:d,disabled:o,showClearIgnoreDisabled:W,readonly:u,className:ie,style:a,hideSuffix:l,placeholder:r==="monthRange"&&Array.isArray(t)?t[0]+L+t[1]:t,onEnterPress:this.handleEnterPress,onChange:this.handleChange,onClear:this.handleInputClear,suffix:te,showClear:l,value:Q,validateStatus:h,prefix:w,autoFocus:E,size:S,onBlur:v,onFocus:b}))}render(){const{insetInput:e}=this.props;return e?this.renderInputInset():this.renderTriggerInput()}}Py.propTypes={borderless:c.bool,onClick:c.func,onChange:c.func,onEnterPress:c.func,onBlur:c.func,onClear:c.func,onFocus:c.func,value:c.array,disabled:c.bool,type:c.oneOf(z.TYPE_SET),showClear:c.bool,format:c.string,inputStyle:c.object,inputReadOnly:c.bool,insetLabel:c.node,validateStatus:c.string,prefix:c.node,prefixCls:c.string,dateFnsLocale:c.object.isRequired,placeholder:c.oneOfType([c.string,c.array]),rangeInputFocus:c.oneOfType([c.string,c.bool]),rangeInputStartRef:c.object,rangeInputEndRef:c.object,rangeSeparator:c.string,insetInput:c.oneOfType([c.bool,c.object]),insetInputValue:c.object,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array])};Py.defaultProps={borderless:!1,showClear:!0,onClick:gt,onChange:gt,onEnterPress:gt,onBlur:gt,onClear:gt,onFocus:gt,type:"date",inputStyle:{},inputReadOnly:!1,prefixCls:fe.PREFIX,rangeSeparator:z.DEFAULT_SEPARATOR_RANGE};function yj(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r="";const s=typeof e=="number"&&e<10?`0${e}`:e.toString(),i=typeof t=="number"&&t<10?`0${t}`:t.toString();return r=`${String(n)}-${s}-${i}`,r}function Jfe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const t={dayNumber:"",dateNumberFull:"",fullDate:""},r=d2(n),s=et(n,"yyyy"),i=et(n,"MM"),a=dre(n),o=yne(n),l=Number(et(o,"e",{weekStartsOn:e})),u=[];let d=[];for(let h=1;h<l;h++)d.push(t);for(let h=0;h<r;h++){const f=h+1,p=f<10?`0${f}`:f.toString(),_=yj(s,i,f);d.push({dayNumber:f,dayNumberFull:p,fullDate:_}),d.length===7?(u.push(d),d=[]):_===et(a,"yyyy-MM-dd")&&(u.push(d),d=[])}return u}const epe=(n,e)=>{const t=Jfe(n,e);return{monthText:et(n,"yyyy-MM"),weeks:t,month:n}},UR={month:ll,year:mne},tpe={prevMonth:Ose,nextMonth:po,prevYear:Ise,nextYear:hy};class npe extends Pe{constructor(e){super(Object.assign({},e)),this.newBiMonthPanelDate=[this.getState("monthLeft").pickerDate,this.getState("monthRight").pickerDate]}init(){const e=this.getProp("defaultValue");this.initDefaultPickerValue(),this.updateSelectedFromProps(e)}initDefaultPickerValue(){const e=Bt(this.getProp("defaultPickerValue"));e&&Ds(e)&&(this._updatePanelDetail(z.PANEL_TYPE_LEFT,{pickerDate:e}),this._updatePanelDetail(z.PANEL_TYPE_RIGHT,{pickerDate:po(e,1)}))}updateSelectedFromProps(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.getProp("type"),{selected:s,rangeStart:i,rangeEnd:a}=this.getStates();if(e&&(e!=null&&e.length))switch(r){case"date":this._initDatePickerFromValue(e,t);break;case"dateRange":this._initDateRangePickerFromValue(e);break;case"dateTime":this._initDateTimePickerFromValue(e);break;case"dateTimeRange":this._initDateTimeRangePickerFormValue(e);break}else(Array.isArray(e)&&!e.length||!e)&&($M(s)&&s.size&&this._adapter.updateDaySelected(new Set),i&&this._adapter.setRangeStart(""),a&&this._adapter.setRangeEnd(""))}calcDisabledTime(e){const{disabledTime:t,type:r}=this.getProps();if(typeof t=="function"&&e&&["dateTime","dateTimeRange"].includes(r)){const{rangeStart:s,rangeEnd:i,monthLeft:a}=this.getStates(),o=[];r==="dateTimeRange"?(s&&o.push(s),s&&i&&o.push(i)):a&&a.showDate&&o.push(a.showDate);const l=o.map(d=>d instanceof Date?d:As(d)),u=r==="dateTimeRange"?l:l[0];return t(u,e)}}_initDatePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{monthLeft:r}=this._adapter.getStates(),s=Object.assign({},r);this._adapter.updateMonthOnLeft(s);const i=new Set,a=this._isMultiple();a?e.forEach(o=>{o&&i.add(et(o,z.FORMAT_FULL_DATE))}):e[0]&&i.add(et(e[0],z.FORMAT_FULL_DATE)),t?a?!(e!=null&&e.some(l=>l&&ll(l,r.pickerDate)===0))&&this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,s.pickerDate),this._adapter.updateDaySelected(i)}_initDateRangePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.getState("monthLeft"),s=this.getState("monthRight"),i=this._autoAdjustMonth(Object.assign(Object.assign({},r),{pickerDate:e[0]||r.pickerDate}),Object.assign(Object.assign({},s),{pickerDate:e[1]||s.pickerDate}));if(Array.isArray(e)&&e.filter(d=>d).length>1)this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(z.PANEL_TYPE_RIGHT,i.monthRight.pickerDate);else{const d=e.find(h=>h);if(d){const h=Math.abs(ll(d,r.pickerDate))>0,f=Math.abs(ll(d,s.pickerDate))>0;h&&f&&(this.handleShowDateAndTime(z.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(z.PANEL_TYPE_RIGHT,i.monthRight.pickerDate))}}const o=t?z.FORMAT_DATE_TIME:z.FORMAT_FULL_DATE;let l=e[0]&&et(e[0],o),u=e[1]&&et(e[1],o);this._isNeedSwap(l,u)&&([l,u]=[u,l]),this._adapter.setRangeStart(l),this._adapter.setRangeEnd(u),this._adapter.setHoverDay(u)}_initDateTimePickerFromValue(e){this._initDatePickerFromValue(e)}_initDateTimeRangePickerFormValue(e){this._initDateRangePickerFromValue(e,!0)}destroy(){}handleSyncChangeMonths(e){const{panelType:t,target:r}=e,{type:s}=this._adapter.getProps(),{monthLeft:i,monthRight:a}=this._adapter.getStates();this.isRangeType(s)&&(t==="right"&&ll(r,i.pickerDate)===0?this.handleYearOrMonthChange("prevMonth","left",1,!0):t==="left"&&ll(a.pickerDate,r)===0&&this.handleYearOrMonthChange("nextMonth","right",1,!0))}getTargetChangeDate(e){const{panelType:t,switchType:r}=e,{monthRight:s,monthLeft:i}=this._adapter.getStates(),a=t==="left"?i.pickerDate:s.pickerDate;let o;switch(r){case"prevMonth":o=po(a,-1);break;case"nextMonth":o=po(a,1);break;case"prevYear":o=hy(a,-1);break;case"nextYear":o=hy(a,1);break}return o}toMonth(e,t){const{type:r}=this._adapter.getProps(),s=this._getDiff("month",t,e);this.handleYearOrMonthChange(s<0?"prevMonth":"nextMonth",e,Math.abs(s),!1),this.isRangeType(r)&&this.handleSyncChangeMonths({panelType:e,target:t})}toYear(e,t){const r=this._getDiff("year",t,e);this.handleYearOrMonthChange(r<0?"prevYear":"nextYear",e,Math.abs(r),!1)}toYearMonth(e,t){this.toYear(e,t),this.toMonth(e,t)}isRangeType(e){const{type:t}=this.getProps(),r=e||t;return typeof r=="string"&&/range/i.test(r)}handleSwitchMonthOrYear(e,t){const{type:r,syncSwitchMonth:s}=this.getProps(),i=this.isRangeType(r);if(i&&s)this.handleYearOrMonthChange(e,"left",1,!0),this.handleYearOrMonthChange(e,"right",1,!0);else if(this.handleYearOrMonthChange(e,t),i){const a=this.getTargetChangeDate({panelType:t,switchType:e});this.handleSyncChangeMonths({panelType:t,target:a})}}prevMonth(e){this.handleSwitchMonthOrYear("prevMonth",e)}nextMonth(e){this.handleSwitchMonthOrYear("nextMonth",e)}prevYear(e){this.handleSwitchMonthOrYear("prevYear",e)}nextYear(e){this.handleSwitchMonthOrYear("nextYear",e)}_getDiff(e,t,r){const s=this._getPanelDetail(r);return UR[e]&&UR[e](t,s.pickerDate)}_getPanelDetail(e){return e===z.PANEL_TYPE_RIGHT?this.getState("monthRight"):this.getState("monthLeft")}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return et(e,t,{locale:r})}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");fm(r)&&(t=t.map(l=>bc(l,r)));const s=this.getProp("type"),i=this.getProp("format")||go(s);let a,o;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],i),[o]=t);break;case"dateRange":case"dateTimeRange":a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t];break}return{notifyValue:a,notifyDate:o}}handleYearOrMonthChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.PANEL_TYPE_LEFT,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{autoSwitchDate:i,type:a}=this.getProps(),{monthLeft:o,monthRight:l}=this.getStates(),u=this.isRangeType(a),d=u&&t===z.PANEL_TYPE_LEFT,h=this._getPanelDetail(t),{pickerDate:f}=h,p=tpe[e],_=p(f,r),m=t===z.PANEL_TYPE_LEFT&&!ke(_,o.pickerDate)||t===z.PANEL_TYPE_RIGHT&&!ke(_,l.pickerDate);if(this._updatePanelDetail(t,{pickerDate:_}),m)if(u){if(d?this.newBiMonthPanelDate[0]=_:this.newBiMonthPanelDate[1]=_,!(d&&s)){const{notifyValue:v,notifyDate:y}=this.disposeCallbackArgs(this.newBiMonthPanelDate);this._adapter.notifyPanelChange(y,v)}}else{const{notifyValue:v,notifyDate:y}=this.disposeCallbackArgs(_);this._adapter.notifyPanelChange(y,v)}i&&this.updateDateAfterChangeYM(e,_)}updateDateAfterChangeYM(e,t){const{multiple:r,disabledDate:s,type:i}=this.getProps(),{selected:a,rangeStart:o,rangeEnd:l,monthLeft:u}=this.getStates(),d=["dateRange","dateTimeRange"].includes(e),h={closePanel:!1};if(!r&&!d&&a.size){const f=Array.from(a)[0],p=new Date(f),_=t.getFullYear(),m=t.getMonth();let v=w2(p,{year:_,month:m});if(i==="dateTime"&&(v=this._mergeDateAndTime(v,u.pickerDate)),s(v,{rangeStart:o,rangeEnd:l}))return;this._adapter.notifySelectedChange([v],h)}}_isMultiple(){return!!this.getProp("multiple")&&this.getProp("type")==="date"}_isRange(){}handleDayClick(e,t){const r=this.getProp("type");switch(!0){case(r==="date"||r==="dateTime"):this.handleDateSelected(e,t);break;case(r==="dateRange"||r==="dateTimeRange"):this.handleRangeSelected(e);break}}handleDateSelected(e,t){const{max:r,type:s,isControlledComponent:i,dateFnsLocale:a}=this.getProps(),o=this._isMultiple(),{selected:l}=this.getStates(),u=this._getPanelDetail(t),d=new Set(o?[...l]:[]),{fullDate:h}=e,f=u.pickerDate,p=h;o?d.has(p)?d.delete(p):r&&d.size===r?this._adapter.notifyMaxLimit():d.add(p):d.add(p);const _=[...d].map(m=>s==="dateTime"?this._mergeDateAndTime(m,f):Bt(m,z.FORMAT_FULL_DATE,void 0,a));this.handleShowDateAndTime(t,f),i||this._adapter.updateDaySelected(d),this._adapter.notifySelectedChange(_)}handleShowDateAndTime(e,t,r){const s=r||t;this._updatePanelDetail(e,{showDate:s,pickerDate:t})}_mergeDateAndTime(e,t){const r=this._adapter.getProp("dateFnsLocale"),s=et(Ds(e)?e:Bt(e,z.FORMAT_FULL_DATE,void 0,r),z.FORMAT_FULL_DATE),i=et(Ds(t)?t:Bt(t,z.FORMAT_TIME_PICKER,void 0,r),z.FORMAT_TIME_PICKER),a=this.getValidTimeFormat();return Bt(`${s} ${i}`,a,void 0,r)}handleRangeSelected(e){let{rangeStart:t,rangeEnd:r}=this.getStates();const{startDateOffset:s,endDateOffset:i,type:a,dateFnsLocale:o,rangeInputFocus:l,triggerRender:u}=this._adapter.getProps(),{fullDate:d}=e;let h=!1,f=!1;const p=(s||i)&&a==="dateRange";p?(t=Rg(s,d),r=Rg(i,d)):l==="rangeEnd"?(r=d,t&&r&&ic(r,t.trim().split(/\s+/)[0])&&(t=null,h=!0)):(l==="rangeStart"||!l)&&(t=d,t&&r&&ic(r.trim().split(/\s+/)[0],t)&&(r=null,f=!0)),/range/i.test(a)&&(p?(this._adapter.setRangeStart(t),this._adapter.setRangeEnd(r)):l==="rangeEnd"?(this._adapter.setRangeEnd(r),h&&this._adapter.setRangeStart(t),(!this._adapter.isAnotherPanelHasOpened("rangeEnd")||!t)&&this._adapter.setRangeInputFocus("rangeStart")):(l==="rangeStart"||!l)&&(this._adapter.setRangeStart(t),f&&this._adapter.setRangeEnd(r),(!this._adapter.isAnotherPanelHasOpened("rangeStart")||!r)&&this._adapter.setRangeInputFocus("rangeEnd")));const m=this.getValidDateFormat();if(t||r){const[v,y]=[Bt(t,m,void 0,o),Bt(r,m,void 0,o)];let b=[v,y];if(a==="dateTimeRange"){const E=this.getState("monthLeft").pickerDate,S=this.getState("monthRight").pickerDate,C=t?this._mergeDateAndTime(t,E):null,O=r?this._mergeDateAndTime(r,S):null;H1(v,y)&&ic(O,C)?b=[C,C]:b=[C,O]}const w=!(a==="dateRange"&&p);this._adapter.notifySelectedChange(b,{needCheckFocusRecord:w})}}_isNeedSwap(e,t){return e&&t&&ic(t,e)}handleDayHover(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fullDate:""};const{fullDate:t}=e,{startDateOffset:r,endDateOffset:s,type:i}=this.getProps();if(this._adapter.setHoverDay(t),(r||s)&&i==="dateRange"){const a=Rg(r,t),o=Rg(s,t);this._adapter.setOffsetRangeStart(a),this._adapter.setOffsetRangeEnd(o)}}_autoAdjustMonth(e,t){let r=e,s=t;const i=ll(e.pickerDate,t.pickerDate);return i>0?(r=Object.assign({},t),s=Object.assign({},e)):i===0&&(r=e,s=Object.assign(Object.assign({},t),{pickerDate:po(t.pickerDate,1)})),{monthLeft:r,monthRight:s}}getValidTimeFormat(){const e=this.getProp("format")||z.FORMAT_TIME_PICKER,t=[];return(sc(e,"h")||sc(e,"H"))&&t.push("HH"),sc(e,"m")&&t.push("mm"),sc(e,"s")&&t.push("ss"),t.join(":")}getValidDateFormat(){return this.getProp("format")||Ihe(this.getProp("type"))}handleTimeChange(e,t){const{rangeEnd:r,rangeStart:s}=this.getStates(),i=this.getProp("dateFnsLocale"),a=e.timeStampValue,o=this.getProp("type"),l=this._getPanelDetail(t),{showDate:u}=l,d=new Date(a),h=this.getValidDateFormat(),f=t===z.PANEL_TYPE_RIGHT?r:s;let p,_,m;if(o==="dateTimeRange"&&f){const C=Bt(f,h,void 0,i);p=C.getFullYear(),_=C.getMonth(),m=C.getDate()}else p=u.getFullYear(),_=u.getMonth(),m=u.getDate();const v=d.getHours(),y=d.getMinutes(),b=d.getSeconds(),w=d.getMilliseconds(),E=[p,_,m,v,y,b,w],S=new Date(...E);if(o==="dateTimeRange")this.handleShowDateAndTime(t,S,u),this._updateTimeInDateRange(t,S);else{const C=yj(p,_+1,m);this.handleDateSelected({fullDate:C,fullValidDate:S},t),this.handleShowDateAndTime(t,S),this._adapter.notifySelectedChange([S])}}_updateTimeInDateRange(e,t){const{isControlledComponent:r,dateFnsLocale:s}=this.getProps();let i=this.getState("rangeStart"),a=this.getState("rangeEnd");const o=this.getValidDateFormat();if(i&&a){let l=Bt(i,o,void 0,s),u=Bt(a,o,void 0,s);e===z.PANEL_TYPE_RIGHT?(u=this._mergeDateAndTime(t,t),a=et(u,z.FORMAT_DATE_TIME),this._isNeedSwap(i,a)&&([i,a]=[a,i],[l,u]=[u,l]),r||this._adapter.setRangeEnd(a)):(l=this._mergeDateAndTime(t,t),i=et(l,z.FORMAT_DATE_TIME),this._isNeedSwap(i,a)&&([i,a]=[a,i],[l,u]=[u,l]),r||this._adapter.setRangeStart(i)),this._adapter.notifySelectedChange([l,u])}}_updatePanelDetail(e,t){const{monthLeft:r,monthRight:s}=this.getStates();e===z.PANEL_TYPE_RIGHT?this._adapter.updateMonthOnRight(Object.assign(Object.assign({},s),t)):this._adapter.updateMonthOnLeft(Object.assign(Object.assign({},r),t))}showYearPicker(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!0})}showTimePicker(e,t){this.getProp("disabledTimePicker")||this._updatePanelDetail(e,{isTimePickerOpen:!0,isYearPickerOpen:!1})}showDatePanel(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!1})}getYAMOpenType(){const{monthLeft:e,monthRight:t}=this._adapter.getStates(),r=e.isYearPickerOpen,s=t.isYearPickerOpen;return r&&s?"both":r?"left":s?"right":"none"}}const BR=fe.NAVIGATION;class _T extends T.PureComponent{constructor(e){super(e),this.navRef=g.createRef()}render(){const{forwardRef:e,monthText:t,onMonthClick:r,onNextMonth:s,onPrevMonth:i,onPrevYear:a,onNextYear:o,density:l,shouldBimonthSwitch:u,panelType:d}=this.props,h="borderless",f=l==="compact"?"default":"large",p=!0,_=l==="compact"?"small":"default",m=d===z.PANEL_TYPE_LEFT,v=d===z.PANEL_TYPE_RIGHT,y=u&&m,b=u&&v,w={},E={};b&&(w.visibility="hidden"),y&&(E.visibility="hidden");const S=e||this.navRef;return g.createElement("div",{className:BR,ref:S},g.createElement(xs,{key:"double-chevron-left","aria-label":"Previous year",icon:g.createElement(Oie,{"aria-hidden":!0,size:f}),size:_,theme:h,noHorizontalPadding:p,onClick:a,style:w}),g.createElement(xs,{key:"chevron-left","aria-label":"Previous month",icon:g.createElement(C2,{"aria-hidden":!0,size:f}),size:_,onClick:i,theme:h,noHorizontalPadding:p,style:w}),g.createElement("div",{className:`${BR}-month`},g.createElement(Re,{onClick:r,theme:h,size:_},g.createElement("span",null,t))),g.createElement(xs,{key:"chevron-right","aria-label":"Next month",icon:g.createElement(T2,{"aria-hidden":!0,size:f}),size:_,onClick:s,theme:h,noHorizontalPadding:p,style:E}),g.createElement(xs,{key:"double-chevron-right","aria-label":"Next year",icon:g.createElement(Pie,{"aria-hidden":!0,size:f}),size:_,theme:h,noHorizontalPadding:p,onClick:o,style:E}))}}_T.propTypes={monthText:c.string,density:c.string,onMonthClick:c.func,onNextMonth:c.func,onPrevMonth:c.func,onNextYear:c.func,onPrevYear:c.func,navPrev:c.node,navNext:c.node,shouldBimonthSwitch:c.bool,panelType:c.oneOf([z.PANEL_TYPE_LEFT,z.PANEL_TYPE_RIGHT])};_T.defaultProps={monthText:"",onMonthClick:k,onNextMonth:k,onPrevMonth:k,onNextYear:k,onPrevYear:k};const rpe=n=>{let{weekStartsOn:e=0}=n;const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let r=0;r<e;r++)t.push(t.shift());return t};class spe extends Pe{constructor(e){super(Object.assign({},e))}init(){this._getToday(),this.getMonthTable()}_getToday(){const t=et(new Date,"yyyy-MM-dd");this._adapter.updateToday(t)}getMonthTable(){const e=this._adapter.getProp("month"),t=this.getState("weeksRowNum");if(e){this.updateWeekDays();const r=this._adapter.getProp("weekStartsOn"),s=epe(e,r),{weeks:i}=s;this._adapter.updateMonthTable(s),ct(t)?this._adapter.setWeeksRowNum(i.length):Array.isArray(i)&&i.length!==t&&this._adapter.setWeeksRowNum(i.length,()=>{this._adapter.notifyWeeksRowNumChange(i.length)})}}updateWeekDays(){const e=this._adapter.getProp("weekStartsOn"),t=rpe({weekStartsOn:e});this._adapter.setWeekDays(t)}destroy(){}handleClick(e){this._adapter.notifyDayClick(e)}handleHover(e){this._adapter.notifyDayHover(e)}}const ipe=fe.PREFIX;class bT extends we{constructor(e){super(e),this.state={weekdays:[],month:{weeks:[],monthText:""},todayText:"",weeksRowNum:e.weeksRowNum},this.monthRef=g.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToday:e=>this.setState({todayText:e}),setWeekDays:e=>this.setState({weekdays:e}),setWeeksRowNum:(e,t)=>this.setState({weeksRowNum:e},t),updateMonthTable:e=>this.setState({month:e}),notifyDayClick:e=>this.props.onDayClick(e),notifyDayHover:e=>this.props.onDayHover(e),notifyWeeksRowNumChange:e=>this.props.onWeeksRowNumChange(e)})}componentDidMount(){this.foundation=new spe(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){e.month!==this.props.month&&this.foundation.getMonthTable()}getSingleDayStatus(e){const{rangeInputFocus:t}=this.props,{fullDate:r,todayText:s,selected:i,disabledDate:a,rangeStart:o,rangeEnd:l}=e,u={rangeStart:o,rangeEnd:l,rangeInputFocus:t},d=r===s,h=i.has(r);let f=a&&a(As(r),u);return!f&&this.props.rangeInputFocus==="rangeStart"&&l&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeEnd&&(f=NR(r,l.trim().split(/\s+/)[0])),!f&&this.props.rangeInputFocus==="rangeEnd"&&o&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeStart&&(f=ic(r,o.trim().split(/\s+/)[0])),{isToday:d,isSelected:h,isDisabled:f}}getDateRangeStatus(e){const{rangeStart:t,rangeEnd:r,fullDate:s,hoverDay:i,offsetRangeStart:a,offsetRangeEnd:o,rangeInputFocus:l}=e,u=!!(t||r),d=!!(t&&r),h=a||o;if(!u)return{};const f=Xa(i,s);let p,_,m,v,y;t&&(m=Xa(s,t),l==="rangeEnd"&&(p=Ru(s,{start:t,end:i}))),r&&(v=Xa(s,r),l==="rangeStart"&&(_=Ru(s,{start:i,end:r}))),!d&&u&&(y=f);let b;h||(b=p||_||f);let w,E,S,C,O,I;return d&&(w=Ru(s,{start:t,end:r}),h||(E=m&&NR(t,i),S=v&&ic(r,i),C=f&&l==="rangeStart",O=f&&l==="rangeEnd",I=f&&Ru(i,{start:t,end:r}))),{isHoverDay:f,isSelectedStart:m,isSelectedEnd:v,isInRange:w,isHover:b,isSelectedStartAfterHover:E,isSelectedEndBeforeHover:S,isHoverDayInRange:I,isHoverDayInStartSelection:C,isHoverDayInEndSelection:O,isHoverDayAroundOneSelected:y}}getOffsetDateStatus(e){const{offsetRangeStart:t,offsetRangeEnd:r,rangeStart:s,rangeEnd:i,fullDate:a,hoverDay:o}=e;if(!(t||r))return{};const u=Ru(a,{start:s,end:i}),d=Xa(o,a),h=s&&Xa(a,s),f=i&&Xa(a,i),p=!!(s&&i),_=Xa(a,t),m=Xa(a,r),v=d;let y,b;return p&&(y=u&&d),!!(t&&r)&&(b=h||Ru(a,{start:t,end:r})||f),{isOffsetRangeStart:_,isOffsetRangeEnd:m,isHoverInOffsetRange:y,isHoverDayOffset:v,isInOffsetRange:b}}getDayStatus(e,t){const{fullDate:r}=e,{hoverDay:s,rangeStart:i,rangeEnd:a,todayText:o,offsetRangeStart:l,offsetRangeEnd:u,disabledDate:d,selected:h,rangeInputFocus:f}=t,p=this.getSingleDayStatus({fullDate:r,todayText:o,hoverDay:s,selected:h,disabledDate:d,rangeStart:i,rangeEnd:a}),_=this.getDateRangeStatus(Object.assign({fullDate:r,rangeStart:i,rangeEnd:a,hoverDay:s,offsetRangeStart:l,offsetRangeEnd:u,rangeInputFocus:f},p)),m=this.getOffsetDateStatus(Object.assign(Object.assign({offsetRangeStart:l,offsetRangeEnd:u,rangeStart:i,rangeEnd:a,fullDate:r,hoverDay:s},p),_));return Object.assign(Object.assign(Object.assign({},p),_),m)}renderDayOfWeek(){const{locale:e}=this.props,t=A(fe.WEEKDAY),r=A(`${ipe}-weekday-item`),{weekdays:s}=this.state,i=s.map(a=>e.weeks[a]);return g.createElement("div",{role:"row",className:t},i.map((a,o)=>g.createElement("div",{role:"columnheader",key:a+o,className:r},a)))}renderWeeks(){const{month:e}=this.state,{weeks:t}=e,{weeksRowNum:r}=this.props;let s={};r&&(s={height:r*Hc.WEEK_HEIGHT});const i=A(fe.WEEKS);return g.createElement("div",{className:i,style:s},t.map((a,o)=>this.renderWeek(a,o)))}renderWeek(e,t){const r=fe.WEEK;return g.createElement("div",{role:"row",className:r,key:t},e.map((s,i)=>this.renderDay(s,i)))}renderDay(e,t){const{todayText:r}=this.state,{renderFullDate:s,renderDate:i}=this.props,{fullDate:a,dayNumber:o}=e;if(!a)return g.createElement("div",{role:"gridcell",tabIndex:-1,key:o+t,className:fe.DAY},g.createElement("span",null));const l=this.getDayStatus(e,Object.assign({todayText:r},this.props)),u=A(fe.DAY,{[fe.DAY_TODAY]:l.isToday,[fe.DAY_IN_RANGE]:l.isInRange,[fe.DAY_HOVER]:l.isHover,[fe.DAY_SELECTED]:l.isSelected,[fe.DAY_SELECTED_START]:l.isSelectedStart,[fe.DAY_SELECTED_END]:l.isSelectedEnd,[fe.DAY_DISABLED]:l.isDisabled,[fe.DAY_HOVER_DAY]:l.isHoverDayOffset,[fe.DAY_IN_OFFSET_RANGE]:l.isInOffsetRange,[fe.DAY_SELECTED_RANGE_HOVER]:l.isHoverInOffsetRange,[fe.DAY_OFFSET_RANGE_START]:l.isOffsetRangeStart,[fe.DAY_OFFSET_RANGE_END]:l.isOffsetRangeEnd,[fe.DAY_SELECTED_START_AFTER_HOVER]:l.isSelectedStartAfterHover,[fe.DAY_SELECTED_END_BEFORE_HOVER]:l.isSelectedEndBeforeHover,[fe.DAY_HOVER_DAY_BEFORE_RANGE]:l.isHoverDayInStartSelection,[fe.DAY_HOVER_DAY_AFTER_RANGE]:l.isHoverDayInEndSelection,[fe.DAY_HOVER_DAY_AROUND_SINGLE_SELECTED]:l.isHoverDayAroundOneSelected}),d=A({[`${fe.DAY}-main`]:!0}),h=[o,a,l],f=Te(s);return g.createElement("div",{role:"gridcell",tabIndex:l.isDisabled?-1:0,"aria-disabled":l.isDisabled,"aria-selected":l.isSelected,"aria-label":a,className:f?fe.DAY:u,title:a,key:o+t,onClick:p=>!l.isDisabled&&this.foundation.handleClick(e),onMouseEnter:()=>this.foundation.handleHover(e),onMouseLeave:()=>this.foundation.handleHover()},f?s(...h):g.createElement("div",{className:d},Te(i)?i(o,a):g.createElement("span",null,o)))}render(){const{forwardRef:e,multiple:t}=this.props,r=this.renderDayOfWeek(),s=this.renderWeeks(),i=A(fe.MONTH),a=e||this.monthRef;return g.createElement("div",{role:"grid","aria-multiselectable":t,ref:a,className:i},r,s)}}bT.propTypes={month:c.object,selected:c.object,rangeStart:c.string,rangeEnd:c.string,offsetRangeStart:c.string,offsetRangeEnd:c.string,onDayClick:c.func,onDayHover:c.func,weekStartsOn:c.number,disabledDate:c.func,weeksRowNum:c.number,onWeeksRowNumChange:c.func,renderDate:c.func,renderFullDate:c.func,hoverDay:c.string,startDateOffset:c.func,endDateOffset:c.func,rangeInputFocus:c.oneOfType([c.string,c.bool]),focusRecordsRef:c.object,multiple:c.bool};bT.defaultProps={month:new Date,selected:new Set,rangeStart:"",rangeEnd:"",onDayClick:k,onDayHover:k,onWeeksRowNumChange:k,weekStartsOn:Hc.WEEK_START_ON,disabledDate:ff,weeksRowNum:0};const u0="time",c0="timeRange",ape=" ~ ",yS={PREFIX:`${Y}-timepicker`,RANGE_PICKER:`${Y}-timepicker-range-panel`,RANGE_PANEL_LISTS:`${Y}-timepicker-lists`},Qt={TYPES:[u0,c0],TYPE_TIME_RANGE_PICKER:c0,DEFAULT_TYPE:u0,DEFAULT_RANGE_SEPARATOR:ape,SIZE:Go.SIZE,DEFAULT_FORMAT:"HH:mm:ss",DEFAULT_FORMAT_A:"a h:mm:ss",STATUS:fd,DEFAULT_POSITION:{[u0]:"bottomLeft",[c0]:"bottomLeft"}},jr={PREFIX:`${Y}-scrolllist`,SELECTED:`${Y}-scrolllist-item-selected`},ope={MODE:["normal","wheel"]},Ag={DEFAULT_ITEM_HEIGHT:36,DEFAULT_SCROLL_DURATION:120};var lpe=_M,upe=GM,cpe=qv,dpe=9007199254740991,d0=4294967295,hpe=Math.min;function fpe(n,e){if(n=cpe(n),n<1||n>dpe)return[];var t=d0,r=hpe(n,d0);e=upe(e),n-=d0;for(var s=lpe(r,e);++t<n;)e(t);return s}var ppe=fpe;const HR=ge(ppe);var gpe=Fv,mpe=F1,ype=1,vpe=2;function _pe(n,e,t,r){var s=t.length,i=s,a=!r;if(n==null)return!i;for(n=Object(n);s--;){var o=t[s];if(a&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++s<i;){o=t[s];var l=o[0],u=n[l],d=o[1];if(a&&o[2]){if(u===void 0&&!(l in n))return!1}else{var h=new gpe;if(r)var f=r(u,d,l,n,e,h);if(!(f===void 0?mpe(d,u,ype|vpe,r,h):f))return!1}}return!0}var bpe=_pe,wpe=qr;function Epe(n){return n===n&&!wpe(n)}var vj=Epe,Spe=vj,Cpe=zo;function Tpe(n){for(var e=Cpe(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,Spe(s)]}return e}var Ope=Tpe;function Ipe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var _j=Ipe,Ppe=bpe,xpe=Ope,Rpe=_j;function Ape(n){var e=xpe(n);return e.length==1&&e[0][2]?Rpe(e[0][0],e[0][1]):function(t){return t===n||Ppe(t,n,e)}}var Dpe=Ape,kpe=F1,Npe=QL,$pe=Z2,Lpe=v1,Mpe=vj,Fpe=_j,jpe=cu,Vpe=1,Upe=2;function Bpe(n,e){return Lpe(n)&&Mpe(e)?Fpe(jpe(n),e):function(t){var r=Npe(t,n);return r===void 0&&r===e?$pe(t,n):kpe(e,r,Vpe|Upe)}}var Hpe=Bpe;function zpe(n){return function(e){return e==null?void 0:e[n]}}var Kpe=zpe,Wpe=$v;function Gpe(n){return function(e){return Wpe(e,n)}}var Ype=Gpe,qpe=Kpe,Xpe=Ype,Qpe=v1,Zpe=cu;function Jpe(n){return Qpe(n)?qpe(Zpe(n)):Xpe(n)}var ege=Jpe,tge=Dpe,nge=Hpe,rge=pp,sge=Zn,ige=ege;function age(n){return typeof n=="function"?n:n==null?rge:typeof n=="object"?sge(n)?nge(n[0],n[1]):tge(n):ige(n)}var wT=age,oge=K2,lge=wT,uge=qv,cge=Math.max;function dge(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var s=t==null?0:uge(t);return s<0&&(s=cge(r+s,0)),oge(n,lge(e),s)}var bj=dge;const ac=ge(bj);var hge=WM,fge=Qi;function pge(n,e){var t=-1,r=fge(n)?Array(n.length):[];return hge(n,function(s,i,a){r[++t]=e(s,i,a)}),r}var gge=pge,mge=dd,yge=wT,vge=gge,_ge=Zn;function bge(n,e){var t=_ge(n)?mge:vge;return t(n,yge(e))}var wge=bge;const Ege=ge(wge);var Sge=wT,Cge=Qi,Tge=zo;function Oge(n){return function(e,t,r){var s=Object(e);if(!Cge(e)){var i=Sge(t);e=Tge(e),t=function(o){return i(s[o],o,s)}}var a=n(e,t,r);return a>-1?s[i?e[a]:a]:void 0}}var Ige=Oge,Pge=Ige,xge=bj,Rge=Pge(xge),Age=Rge;const vS=ge(Age);var Dge=N1,kge=A1,zR=qv;function Nge(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&kge(n,e,t)?(e=0,t=r):(e=e==null?0:zR(e),t=t===void 0?r:zR(t)),Dge(n,e,t)):[]}var $ge=Nge;const h0=ge($ge);class Lge extends Pe{constructor(){super(...arguments),this._cachedSelectedNode=null}selectIndex(e,t){const{type:r,list:s}=this.getProps();if(e>-1&&Array.isArray(s)&&s.length&&Ke(t)){const i=e%s.length,a=s[i],o=t.children[e];this._adapter.setSelectedNode(o),this._adapter.notifySelectItem(Object.assign(Object.assign({},a),{value:a.value,type:r,index:i}))}}selectNode(e,t){const{type:r,list:s}=this.getProps();if(Ke(e)&&Ke(t)){const a=ac(t.children,d=>d===e)%s.length,l=ac(t.children,d=>d===this._cachedSelectedNode)%s.length,u=s[a];this._adapter.setSelectedNode(e),this._adapter.scrollToCenter(e),this._cachedSelectedNode!==e&&(this._cachedSelectedNode=e,l!==a&&this._adapter.notifySelectItem(Object.assign(Object.assign({},u),{value:u.value,type:r,index:a})))}}shouldAppend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(Ke(e)&&Ke(t)){const i=e.querySelectorAll(s),a=i[i.length-1],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),d=u.height*o.length;let h=u.top,f=0;for(;h<=l.top+l.height*r;)f+=1,h+=d;return f}}return!1}shouldPrepend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(Ke(e)&&Ke(t)){const a=e.querySelectorAll(s)[0],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),d=u.height*o.length;let h=u.top,f=0;for(;h+u.height>=l.top-l.height*r;)f+=1,h-=d;return f}}return 0}initWheelList(e,t,r){const{list:s}=this.getProps();if(Ke(t)&&Ke(e)&&s&&s.length){const i=e.children;h0(i,0,s.length);const a=this.shouldPrepend(e,t),o=this.shouldAppend(e,t);this._adapter.setState({prependCount:a,appendCount:o},r)}}adjustInfiniteList(e,t,r){const{list:s}=this.getProps(),i="li";if(Ke(t)&&Ke(e)&&s&&s.length){const a=e.querySelectorAll(i),o=a.length,l=1,u=this.shouldPrepend(e,t,l),d=this.shouldAppend(e,t,l);if(u)for(let h=0;h<u;h++){const f=h0(a,o-s.length*(h+1),o-s.length*h);Ate(e,...f)}if(d)for(let h=0;h<d;h++){const f=h0(a,h*s.length,(h+1)*s.length);qM(e,...f)}}}getNearestNodeInfo(e,t){if(Ke(e)&&Ke(t)){const s=t.getBoundingClientRect().top,i=e.querySelectorAll("li");let a=null,o=-1,l=1/0;return Array.from(i).map((u,d)=>{const f=u.getBoundingClientRect().top,p=Math.abs(f-s);p<l&&!this._adapter.isDisabledIndex(d)&&(l=p,a=u,o=d)}),{nearestNode:a,nearestIndex:o}}}getTargetNode(e,t){if(e&&Ke(t)){const r="li",s=e.target,i=t.querySelectorAll(r),a=this.getProp("list"),o=Array.isArray(a)?a.length:0;let l=-1,u=-1,d=null;const h=vS(i,(f,p)=>{if(f===s||f.contains(s))return l=p,o>0&&(u=p%o),!0});return u>-1&&(d=a[u]),{targetNode:h,targetIndex:l,indexInList:u,infoInList:d}}return null}}const Mge=(n,e,t)=>{const r=new H2({from:{scrollTop:n.scrollTop},to:{scrollTop:e}},{duration:t});return r.on("frame",s=>{let{scrollTop:i}=s;n.scrollTop=i}),r},KR=1e3/60,WR=/^\s*$/,gm="wheel";class fa extends we{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),e=this,this._cacheNode=(r,s)=>r&&s&&Object.prototype.hasOwnProperty.call(this,r)&&(this[r]=s),this._cacheSelectedNode=r=>this._cacheNode("selectedNode",r),this._cacheWillSelectNode=r=>this._cacheNode("willSelectNode",r),this._cacheListNode=r=>this._cacheNode("list",r),this._cacheSelectorNode=r=>this._cacheNode("selector",r),this._cacheWrapperNode=r=>this._cacheNode("wrapper",r),this._isFirst=r=>{const{list:s}=this;if(Ke(r)&&Ke(s)){const i=s.children;return ac(i,r)===0}return!1},this._isLast=r=>{const{list:s}=this;if(Ke(r)&&Ke(s)){const{children:i}=s;return ac(i,r)===i.length-1}return!1},this.indexIsSame=(r,s)=>{const{list:i}=this.props;if(i.length)return r%i.length===s%i.length},this.isDisabledIndex=r=>{const{list:s}=this.props;if(Array.isArray(s)&&s.length&&r>-1){const i=s.length,a=r%i;return this.isDisabledData(s[a])}return!1},this.isDisabledNode=r=>{const s=this.list;if(Ke(r)&&Ke(s)){const i=ac(s.children,a=>a===r);return this.isDisabledIndex(i)}return!1},this.isDisabledData=r=>r&&typeof r=="object"&&r.disabled,this.isWheelMode=()=>this.props.mode===gm,this.addClassToNode=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jr.SELECTED;const{list:i}=e;if(r=r||e.selectedNode,Ke(r)&&Ke(i)){const{children:a}=i,o=new RegExp(`\\s*${s}\\s*`,"g");Ege(a,l=>{l.className=l.className&&l.className.replace(o," "),WR.test(l.className)&&(l.className="")}),r.className&&!WR.test(r.className)?r.className+=` ${s}`:r.className=s}},this.getIndexByNode=r=>ac(this.list.children,r),this.getNodeByIndex=r=>r>-1?vS(this.list.children,(i,a)=>a===r):vS(this.list.children,i=>!this.isDisabledNode(i)),this.scrollToIndex=(r,s)=>{s=typeof s=="number"?s:Ag.DEFAULT_SCROLL_DURATION,r=r??this.props.selectedIndex,this.scrollToNode(this.selectedNode,s)},this.scrollToNode=(r,s)=>{const{wrapper:i}=this,a=i.offsetHeight,o=this.getItmHeight(r),l=(r.offsetTop||this.list.children.length*o/2)-(a-o)/2;this.scrollToPos(l,s)},this.scrollToPos=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ag.DEFAULT_SCROLL_DURATION;const{wrapper:i}=e;if(s&&e.props.motion)if(e.scrollAnimation&&(e.scrollAnimation.destroy(),e.scrolling=!1),i.scrollTop===r){if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}else e.scrollAnimation=Mge(i,r,s),e.scrollAnimation.on("rest",()=>{if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}),e.scrollAnimation.start();else i.scrollTop=r},this.scrollToSelectItem=r=>{const{nearestNode:s}=this.foundation.getNearestNodeInfo(this.list,this.selector);this.props.cycled&&this.throttledAdjustList(r,s),this.debouncedSelect(r,s)},this.scrollToCenter=(r,s,i)=>{if(r=r||this.selectedNode,s=s||this.wrapper,Ke(r)&&Ke(s)){const a=s.getBoundingClientRect(),o=r.getBoundingClientRect(),l=s.scrollTop+(o.top-(a.top+a.height/2-o.height/2));this.scrollToPos(l,typeof i=="number"?i:Ag.DEFAULT_SCROLL_DURATION)}},this.clickToSelectItem=r=>{r&&r.nativeEvent&&r.nativeEvent.stopImmediatePropagation();const{targetNode:s,infoInList:i}=this.foundation.getTargetNode(r,this.list);s&&i&&!i.disabled&&this.debouncedSelect(null,s)},this.getItmHeight=r=>r&&r.offsetHeight||Ag.DEFAULT_ITEM_HEIGHT,this.renderItemList=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{selectedIndex:s,mode:i,transform:a,list:o}=e.props;return o.map((l,u)=>{const{transform:d}=l,h=typeof d=="function"?d:a,f=s===u,p=A({[`${jr.PREFIX}-item-sel`]:f&&i!==gm,[`${jr.PREFIX}-item-disabled`]:!!l.disabled});let _="";f&&typeof h=="function"?_=h(l.value,l.text):_=l.text==null?l.value:l.text;const m={};return!e.isWheelMode()&&!l.disabled&&(m.onClick=()=>e.foundation.selectIndex(u,e.list)),g.createElement("li",Object.assign({key:r+u},m,{className:p,role:"option","aria-selected":f,"aria-disabled":l.disabled}),_)})},this.renderNormalList=()=>{const{list:r,className:s,style:i}=this.props,a=this.renderItemList(),o=A(`${jr.PREFIX}-item`,s);return g.createElement("div",{style:i,className:o,ref:this._cacheWrapperNode},g.createElement("ul",{role:"listbox","aria-multiselectable":!1,"aria-label":this.props["aria-label"],ref:this._cacheListNode},a))},this.renderInfiniteList=()=>{const{list:r,cycled:s,className:i,style:a}=this.props,{prependCount:o,appendCount:l}=this.state,u=HR(o).reduce((y,b)=>{const w=this.renderItemList(`pre_${b}_`);return y.unshift(...w),y},[]),d=HR(l).reduce((y,b)=>{const w=this.renderItemList(`app_${b}_`);return y.push(...w),y},[]),h=this.renderItemList(),f=A(`${jr.PREFIX}-list-outer`,{[`${jr.PREFIX}-list-outer-nocycle`]:!s}),p=A(`${jr.PREFIX}-item-wheel`,i),_=A(`${jr.PREFIX}-selector`),m=A(`${jr.PREFIX}-shade`,`${jr.PREFIX}-shade-pre`),v=A(`${jr.PREFIX}-shade`,`${jr.PREFIX}-shade-post`);return g.createElement("div",{className:p,style:a},g.createElement("div",{className:m}),g.createElement("div",{className:_,ref:this._cacheSelectorNode}),g.createElement("div",{className:v}),g.createElement("div",{className:f,ref:this._cacheWrapperNode,onScroll:this.scrollToSelectItem},g.createElement("ul",{role:"listbox","aria-label":this.props["aria-label"],"aria-multiselectable":!1,ref:this._cacheListNode,onClick:this.clickToSelectItem},u,h,d)))},this.state={prependCount:0,appendCount:0},this.selectedNode=null,this.willSelectNode=null,this.list=null,this.wrapper=null,this.selector=null,this.scrollAnimation=null,this.foundation=new Lge(this.adapter),this.throttledAdjustList=ay((r,s)=>{this.foundation.adjustInfiniteList(this.list,this.wrapper,s)},KR),this.debouncedSelect=eM((r,s)=>{this._cacheSelectedNode(s),this.foundation.selectNode(s,this.list)},KR*2)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setState:(t,r)=>this.setState(Object.assign({},t),r),setPrependCount:t=>this.setState({prependCount:t}),setAppendCount:t=>this.setState({appendCount:t}),isDisabledIndex:this.isDisabledIndex,setSelectedNode:t=>this._cacheWillSelectNode(t),notifySelectItem:function(){return e.props.onSelect(...arguments)},scrollToCenter:this.scrollToCenter})}componentWillUnmount(){this.props.cycled&&(this.throttledAdjustList.cancel(),this.debouncedSelect.cancel())}componentDidMount(){this.foundation.init();const{mode:e,cycled:t,selectedIndex:r,list:s}=this.props,i=this.getNodeByIndex(typeof r=="number"&&r>-1?r:0);this._cacheSelectedNode(i),this._cacheWillSelectNode(i),e===gm&&t?this.foundation.initWheelList(this.list,this.wrapper,()=>{this.scrollToNode(i,0)}):this.scrollToNode(i,0)}componentDidUpdate(e){const{selectedIndex:t}=this.props;if(e.selectedIndex!==t){const r=this.getIndexByNode(this.willSelectNode);if(!this.indexIsSame(r,t)){const s=this.getNodeByOffset(this.selectedNode,t-e.selectedIndex,this.list);this._cacheWillSelectNode(s)}this._cacheSelectedNode(this.willSelectNode),this.scrollToIndex(t)}}getNodeByOffset(e,t,r){const{list:s}=this.props;if(Ke(e)&&Ke(r)&&typeof t=="number"&&Array.isArray(s)&&s.length){t=t%s.length;let a=this.getIndexByNode(e)+t;for(;a<0;)a+=s.length;if(t)return this.getNodeByIndex(a)}return e}render(){return this.isWheelMode()?this.renderInfiniteList():this.renderNormalList()}}fa.propTypes={mode:c.oneOf(ope.MODE),cycled:c.bool,list:c.array,selectedIndex:c.number,onSelect:c.func,transform:c.func,className:c.string,style:c.object,motion:c.oneOfType([c.func,c.bool]),type:c.oneOfType([c.string,c.number])};fa.defaultProps={selectedIndex:0,motion:!0,list:[],onSelect:k,cycled:!1,mode:gm};class Fge extends Pe{}var jge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class o_ extends we{constructor(e){super(e),this.foundation=new Fge(this.adapter)}render(){const e=this.props,{children:t,header:r,footer:s,prefixCls:i,bodyHeight:a,className:o,style:l}=e,u=jge(e,["children","header","footer","prefixCls","bodyHeight","className","style"]),d=A(o,{[i||jr.PREFIX]:!0}),h=A({[`${i||jr.PREFIX}-header`]:!0});return g.createElement("div",Object.assign({className:d,style:l},this.getDataAttr(u)),r?g.createElement("div",{className:h},g.createElement("div",{className:`${h}-title`,"x-semi-prop":this.props["x-semi-header-alias"]||"header"},r),g.createElement("div",{className:`${d}-line`})):null,g.createElement("div",{className:`${d}-body`,style:{height:a||""},"x-semi-prop":"children"},t),s?g.createElement("div",{className:`${d}-footer`,"x-semi-prop":this.props["x-semi-footer-alias"]||"footer"},s):null)}}o_.Item=fa;o_.propTypes={className:c.string,header:c.node,footer:c.node,children:c.node,bodyHeight:c.oneOfType([c.number,c.string])};const wj=1e3*60*60,GR=24*wj,f0=(n,e)=>{let t=`${n}`;n<10&&(t=`0${n}`);let r=!1;return e&&e.indexOf(n)>=0&&(r=!0),{value:t,disabled:r}};function p0(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const s=[];for(let i=0;i<n;i+=r)(!e||e.indexOf(i)<0||!t)&&s.push(i);return s}class Vge extends Pe{constructor(e){super(Object.assign({},e))}isAM(){return this.getProp("isAM")}initData(){const{timeStampValue:e,hourStep:t,disabledMinutes:r,disabledSeconds:s,hideDisabledOptions:i,minuteStep:a,secondStep:o}=this.getProps(),l=this.getValidFormat(),u=this.getDisplayDateFromTimeStamp(e),d=this.disabledHours(),h=r(u?u.getHours():null),f=s(u?u.getHours():null,u?u.getMinutes():null),p=p0(24,d,i,t),_=p0(60,h,i,a),m=p0(60,f,i,o);return{showHour:!!l.match(/HH|hh|H|h/g),showMinute:!!l.match(/mm/g),showSecond:!!l.match(/ss/g),hourOptions:p,minuteOptions:_,secondOptions:m}}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||Qt.DEFAULT_TYPE;return e||Qt.DEFAULT_POSITION[t]}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?Qt.DEFAULT_FORMAT_A:Qt.DEFAULT_FORMAT}disabledHours(){const{use12Hours:e,disabledHours:t}=this.getProps();let r=t&&t();return e&&Array.isArray(r)&&(this.isAM()?r=r.filter(s=>s<12).map(s=>s===0?12:s):r=r.map(s=>s===12?12:s-12)),r}getValidFormat(e){let t=ct(e)?this.getProp("format"):e;return t=this.getDefaultFormatIfNeed(),t=typeof t=="string"?t:Qt.DEFAULT_FORMAT,t}getDisplayDateFromTimeStamp(e){let t;return e&&(t=new Date(e)),!e||!Ds(t)?this.createDateDefault():t}createDateDefault(){return new Date(parseInt(String(Date.now()/GR),10)*GR-8*wj)}}class Ef extends we{constructor(e){super(e),this.cacheRefCurrent=(t,r)=>{t&&typeof t=="string"&&this.adapter.setCache(t,r)},this.reselect=()=>{["ampm","hour","minute","second"].forEach(r=>{const s=this.adapter.getCache(r);s&&s.scrollToIndex&&s.scrollToIndex()})},this.onItemChange=t=>{let{type:r,value:s,disabled:i}=t,{onChange:a,use12Hours:o,isAM:l,format:u,timeStampValue:d}=this.props;const h=this.foundation.getDisplayDateFromTimeStamp(d);if(r==="hour")o?l?h.setHours(Number(s)%12):h.setHours(Number(s)%12+12):h.setHours(Number(s));else if(r==="minute")h.setMinutes(Number(s));else if(r==="ampm"){const f=s.toUpperCase();o&&(f==="PM"&&(l=!1,h.getHours()<12&&h.setHours(h.getHours()%12+12)),f==="AM"&&(l=!0,h.getHours()>=12&&h.setHours(h.getHours()-12)))}else h.setSeconds(Number(s));a&&a({isAM:l,value:et(h,u&&u.replace(/(\s+)A/g,"$1a")),timeStampValue:Number(h)})},this.onEnterSelectPanel=t=>{const{onCurrentSelectPanelChange:r}=this.props;r(t)},this.getDisplayDateFromTimeStamp=t=>this.foundation.getDisplayDateFromTimeStamp(t),this.foundation=new Vge(this.adapter),this.state=Object.assign({},this.foundation.initData())}componentDidUpdate(e,t){(e.timeStampValue!==this.props.timeStampValue||e.format!==this.props.format)&&this.setState(Object.assign({},this.foundation.initData()))}componentWillUnmount(){}componentDidMount(){}renderHourSelect(e,t){const{prefixCls:r,disabledHours:s,use12Hours:i,scrollItemProps:a}=this.props,{showHour:o,hourOptions:l}=this.state;if(!o)return null;const u=s();let d,h;i?(d=[12].concat(l.filter(_=>_<12&&_>0)),h=e%12||12):(d=l,h=e);const f=_=>_+t.hour,p=`${r}-list-hour`;return g.createElement(fa,Object.assign({ref:_=>this.cacheRefCurrent("hour",_),mode:"normal",transform:f,className:p,list:d.map(_=>f0(_,u)),selectedIndex:d.indexOf(h),type:"hour",onSelect:this.onItemChange},a))}renderMinuteSelect(e,t){const{prefixCls:r,disabledMinutes:s,timeStampValue:i,scrollItemProps:a}=this.props,{showMinute:o,minuteOptions:l}=this.state;if(!o)return null;const u=new Date(i),d=s&&s(u.getHours()),h=`${r}-list-minute`,f=p=>p+t.minute;return g.createElement(fa,Object.assign({ref:p=>this.cacheRefCurrent("minute",p),mode:"normal",transform:f,list:l.map(p=>f0(p,d)),selectedIndex:l.indexOf(e),type:"minute",onSelect:this.onItemChange,className:h},a))}renderSecondSelect(e,t){const{prefixCls:r,disabledSeconds:s,timeStampValue:i,scrollItemProps:a}=this.props,{showSecond:o,secondOptions:l}=this.state;if(!o)return null;const u=new Date(i),d=s&&s(u.getHours(),u.getMinutes()),h=`${r}-list-second`,f=p=>String(p)+t.second;return g.createElement(fa,Object.assign({ref:p=>this.cacheRefCurrent("second",p),mode:"normal",transform:f,list:l.map(p=>f0(p,d)),selectedIndex:l.indexOf(e),className:h,type:"second",onSelect:this.onItemChange},a))}renderAMPMSelect(e,t){const{prefixCls:r,use12Hours:s,isAM:i,scrollItemProps:a}=this.props;if(!s)return null;const o=[{value:"AM",text:e.AM||""},{value:"PM",text:e.PM||""}],l=i?0:1,u=`${r}-list-ampm`;return g.createElement(fa,Object.assign({ref:d=>this.cacheRefCurrent("ampm",d),mode:"normal",className:u,list:o,selectedIndex:l,type:"ampm",onSelect:this.onItemChange},a))}render(){const{timeStampValue:e,panelHeader:t,panelFooter:r}=this.props,s=this.getDisplayDateFromTimeStamp(e);return g.createElement(dn,{componentName:"TimePicker"},(i,a)=>g.createElement(o_,{header:t,footer:r,"x-semi-header-alias":"panelHeader","x-semi-footer-alias":"panelFooter"},this.renderAMPMSelect(i,a),this.renderHourSelect(s.getHours(),i),this.renderMinuteSelect(s.getMinutes(),i),this.renderSecondSelect(s.getSeconds(),i)))}}Ef.propTypes={format:c.string,defaultOpenValue:c.object,prefixCls:c.string,onChange:c.func,showHour:c.bool,showMinute:c.bool,showSecond:c.bool,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,hideDisabledOptions:c.bool,onCurrentSelectPanelChange:c.func,use12Hours:c.bool,isAM:c.bool,timeStampValue:c.any,scrollItemProps:c.object};Ef.defaultProps={disabledHours:k,disabledMinutes:k,disabledSeconds:k,format:Qt.DEFAULT_FORMAT};class Uge extends Pe{constructor(e){super(Object.assign({},e))}init(){}destroy(){}selectYear(e,t){const{currentYear:r,currentMonth:s}=this.getStates(),{type:i}=this.getProps(),a=z.PANEL_TYPE_LEFT,o=z.PANEL_TYPE_RIGHT,l=Da(r);if(l[t]=e.value,i==="monthRange"){const u=l[a]===l[o]&&s[a]>s[o];t===a&&e.value>l[o]||t===a&&u?l[o]=e.value+1:t===o&&u&&(l[a]=e.value-1)}this._adapter.setCurrentYear(l,()=>this.autoSelectMonth(e,t,l)),this._adapter.notifySelectYear(l)}selectMonth(e,t){const{currentMonth:r,currentYear:s}=this.getStates(),{type:i}=this.getProps(),a=z.PANEL_TYPE_LEFT,o=z.PANEL_TYPE_RIGHT,l=Da(r);l[t]=e.month,i==="monthRange"&&t===a&&s[a]===s[o]&&e.value>l[o]&&(l[o]=e.month),this._adapter.setCurrentMonth(l),this._adapter.notifySelectMonth(l)}autoSelectMonth(e,t,r){const{disabledDate:s,locale:i}=this._adapter.getProps(),{months:a,currentMonth:o}=this._adapter.getStates(),l=t===z.PANEL_TYPE_LEFT?"right":"left",u=dE(Date.now(),e.year),d=s(ml(u,o[t]-1)),h=s(ml(dE(Date.now(),r[l]),o[l]-1));if(!d&&!h)return;let f=r,p=o;if(d){const _=a.findIndex(v=>{let{month:y}=v;return y===o[t]});let m;m=a.slice(_).find(v=>{let{month:y}=v;return!s(ml(u,y-1))}),m||(m=a.slice(0,_).find(v=>{let{month:y}=v;return!s(ml(u,y-1))})),m&&!h?p[t]=m.month:m&&h&&(f={left:e.year,right:e.year},p={left:m.month,right:m.month})}else!d&&h&&(f={left:e.year,right:e.year},p={left:o[t],right:o[t]});this._adapter.setCurrentYearAndMonth(f,p),this._adapter.notifySelectYearAndMonth(f,p)}backToMain(){this._adapter.notifyBackToMain()}}const YR=`${Y}-datepicker`;class l_ extends we{constructor(e){super(e),this.selectYear=(a,o)=>{this.foundation.selectYear(a,o)},this.selectMonth=(a,o)=>{this.foundation.selectMonth(a,o)},this.reselect=()=>{["yearRef","monthRef"].forEach(o=>{const l=this[o];l&&l.current&&l.current.scrollToIndex&&l.current.scrollToIndex()})},this.backToMain=a=>{a.nativeEvent.stopImmediatePropagation(),this.foundation.backToMain()};let{currentYear:t,currentMonth:r}=e;const{year:s,month:i}=$R(t,r);this.state={years:Phe(e.startYear,e.endYear).map(a=>({value:a,year:a})),months:Array(12).fill(0).map((a,o)=>({value:o+1,month:o+1})),currentYear:s,currentMonth:i},this.yearRef=g.createRef(),this.monthRef=g.createRef(),this.foundation=new Uge(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setCurrentYear:(e,t)=>this.setState({currentYear:e},t),setCurrentMonth:e=>this.setState({currentMonth:e}),setCurrentYearAndMonth:(e,t)=>this.setState({currentYear:e,currentMonth:t}),notifySelectYear:e=>this.props.onSelect({currentMonth:this.state.currentMonth,currentYear:e}),notifySelectMonth:e=>this.props.onSelect({currentYear:this.state.currentYear,currentMonth:e}),notifySelectYearAndMonth:(e,t)=>this.props.onSelect({currentYear:e,currentMonth:t}),notifyBackToMain:()=>this.props.onBackToMain()})}static getDerivedStateFromProps(e,t){const r={},{year:s,month:i}=$R(e.currentYear,e.currentMonth);return ke(e.currentYear,t.currentYear)||(r.currentYear=s),ke(e.currentMonth,t.currentMonth)||(r.currentMonth=i),r}renderColYear(e){const{years:t,currentYear:r,currentMonth:s,months:i}=this.state,{disabledDate:a,localeCode:o,yearCycled:l,yearAndMonthOpts:u}=this.props,d=ml(Date.now(),s[e]-1),h=z.PANEL_TYPE_LEFT,f=z.PANEL_TYPE_RIGHT,p=v=>e===f&&r[h]?r[h]>v:!1,_=t.map(v=>{let{value:y,year:b}=v;const w=i.every(S=>{let{month:C}=S;return a(w2(d,{year:b,month:C-1}))}),E=p(b);return{year:b,value:y,disabled:w||E}});let m=v=>v;return(o==="zh-CN"||o==="zh-TW")&&(m=v=>`${v}`),g.createElement(fa,Object.assign({ref:this.yearRef,cycled:l,list:_,transform:m,selectedIndex:t.findIndex(v=>v.value===r[e]),type:"year",onSelect:v=>this.selectYear(v,e),mode:"normal"},u))}renderColMonth(e){const{months:t,currentMonth:r,currentYear:s}=this.state,{locale:i,localeCode:a,monthCycled:o,disabledDate:l,yearAndMonthOpts:u}=this.props;let d=v=>v;const h=dE(Date.now(),s[e]),f=z.PANEL_TYPE_LEFT,p=z.PANEL_TYPE_RIGHT;(a==="zh-CN"||a==="zh-TW")&&(d=v=>`${v}`);const _=t.map(v=>{let{value:y,month:b}=v;const w=e===p&&r[f]&&s[f]===s[p]&&r[f]>b;return{month:b,disabled:l(ml(h,b-1))||w,value:i.fullMonths[y]}}),m=_.findIndex(v=>v.month===r[e]);return g.createElement(fa,Object.assign({ref:this.monthRef,cycled:o,list:_,transform:d,selectedIndex:m,type:"month",onSelect:v=>this.selectMonth(v,e),mode:"normal"},u))}renderPanel(e){return g.createElement(g.Fragment,null,g.createElement(o_,null,this.renderColYear(e),this.renderColMonth(e)))}render(){const{locale:e,noBackBtn:t,density:r,presetPosition:s,renderQuickControls:i,renderDateInput:a,type:o}=this.props,l=`${YR}-yearmonth-header`,u=`${YR}-yearmonth-body`,d=e.selectDate,h=r==="compact"?"default":"large",f=r==="compact"?"small":"default",p=z.PANEL_TYPE_LEFT,_=z.PANEL_TYPE_RIGHT;let m=null;return o==="month"?m=this.renderPanel(p):m=g.createElement("div",{className:u},this.renderPanel(p),this.renderPanel(_)),g.createElement(g.Fragment,null,t?null:g.createElement("div",{className:l},g.createElement(xs,{noHorizontalPadding:!1,icon:g.createElement(C2,{"aria-hidden":!0,size:h}),size:f,onClick:this.backToMain},g.createElement("span",null,d))),s?g.createElement("div",{style:{display:"flex"}},s==="left"&&o!=="monthRange"&&i,g.createElement("div",null,a,m),s==="right"&&o!=="monthRange"&&i):g.createElement(g.Fragment,null,a,m))}}l_.propTypes={currentYear:c.object,currentMonth:c.object,onSelect:c.func,locale:c.object,localeCode:c.string,monthCycled:c.bool,yearCycled:c.bool,noBackBtn:c.bool,disabledDate:c.func,density:c.string,presetPosition:c.oneOf(z.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node,type:c.oneOf(z.TYPE_SET),startYear:c.number,endYear:c.number};l_.defaultProps={disabledDate:ff,monthCycled:!1,yearCycled:!1,noBackBtn:!1,onSelect:k,type:"month"};const Qr=fe.PREFIX;class ET extends we{constructor(e){super(e),this.cacheRefCurrent=(o,l)=>{typeof o=="string"&&o.length&&this.adapter.setCache(o,l)},this.leftIsYearOrTime=o=>{const{monthLeft:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.rightIsYearOrTime=o=>{const{monthRight:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.calcScrollListHeight=()=>{const o=this.adapter.getCache(`wrap-${z.PANEL_TYPE_LEFT}`),l=this.adapter.getCache(`wrap-${z.PANEL_TYPE_RIGHT}`),u=this.adapter.getCache(`switch-${z.PANEL_TYPE_LEFT}`),d=this.adapter.getCache(`switch-${z.PANEL_TYPE_RIGHT}`),h=o&&o.getBoundingClientRect(),f=l&&l.getBoundingClientRect();let p=h&&h.height||0,_=f&&f.height||0;return u&&(p+=u.getBoundingClientRect().height),d&&(_+=d.getBoundingClientRect().height),Math.max(p,_)},this.handleWeeksRowNumChange=(o,l)=>{const u=l===z.PANEL_TYPE_RIGHT,d=l===z.PANEL_TYPE_RIGHT,h=this.leftIsYearOrTime()&&this.rightIsYearOrTime();if(this.foundation.isRangeType()&&!h){const f={weeksRowNum:o,currentPanelHeight:this.calcScrollListHeight()};this.setState(f,()=>{(this.leftIsYearOrTime()&&d||this.rightIsYearOrTime()&&u)&&this.reselect()})}},this.reselect=()=>{[`timepicker-${z.PANEL_TYPE_LEFT}`,`timepicker-${z.PANEL_TYPE_RIGHT}`,`yam-${z.PANEL_TYPE_LEFT}`,`yam-${z.PANEL_TYPE_RIGHT}`].forEach(l=>{const u=this.adapter.getCache(l);u&&typeof u.reselect=="function"&&u.reselect()})},this.getYAMOpenType=()=>this.foundation.getYAMOpenType();const t=e.format||go(e.type),{nowDate:r,nextDate:s}=aj({defaultPickerValue:e.defaultPickerValue,format:t,dateFnsLocale:e.dateFnsLocale}),i={selected:new Set},a={monthLeft:{pickerDate:r,showDate:r,isTimePickerOpen:!1,isYearPickerOpen:!1},monthRight:{pickerDate:s,showDate:s,isTimePickerOpen:!1,isYearPickerOpen:!1},maxWeekNum:0,hoverDay:"",rangeStart:e.rangeStart,rangeEnd:"",currentPanelHeight:0,offsetRangeStart:"",offsetRangeEnd:""};this.state=Object.assign(Object.assign({},i),a),this.foundation=new npe(this.adapter)}get dateAdapter(){return{updateDaySelected:e=>this.setState({selected:e})}}get rangeAdapter(){return{setRangeStart:e=>this.setState({rangeStart:e}),setRangeEnd:e=>this.setState({rangeEnd:e}),setHoverDay:e=>this.setState({hoverDay:e}),setWeeksHeight:e=>this.setState({maxWeekNum:e}),setOffsetRangeStart:e=>this.setState({offsetRangeStart:e}),setOffsetRangeEnd:e=>this.setState({offsetRangeEnd:e})}}get adapter(){return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),this.dateAdapter),this.rangeAdapter),{updateMonthOnLeft:e=>this.setState({monthLeft:e}),updateMonthOnRight:e=>this.setState({monthRight:e}),notifySelectedChange:(e,t)=>this.props.onChange(e,t),notifyMaxLimit:e=>this.props.onMaxSelect(e),notifyPanelChange:(e,t)=>this.props.onPanelChange(e,t),setRangeInputFocus:e=>this.props.setRangeInputFocus(e),isAnotherPanelHasOpened:e=>this.props.isAnotherPanelHasOpened(e)})}componentDidMount(){super.componentDidMount()}componentDidUpdate(e,t){const{defaultValue:r,defaultPickerValue:s}=this.props;if(e.defaultValue!==r&&this.foundation.updateSelectedFromProps(r),e.defaultPickerValue!==s&&this.foundation.initDefaultPickerValue(),this.foundation.isRangeType()){const a=this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),o=this.leftIsYearOrTime(t)&&!this.rightIsYearOrTime(t)||!this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),l=this.leftIsYearOrTime()&&this.rightIsYearOrTime(),u=this.leftIsYearOrTime()&&!this.rightIsYearOrTime()||!this.leftIsYearOrTime()&&this.rightIsYearOrTime();o&&l?this.setState({currentPanelHeight:this.calcScrollListHeight()},this.reselect):a&&u&&this.reselect()}}renderPanel(e,t){let r=A(`${Qr}-month-grid-${t}`);const{monthLeft:s,monthRight:i,currentPanelHeight:a}=this.state,{insetInput:o}=this.props,l=t===z.PANEL_TYPE_RIGHT?i:s,{isTimePickerOpen:u,isYearPickerOpen:d}=l,h=this.renderMonth(e,t),f=d?g.createElement("div",{className:`${Qr}-yam`},this.renderYearAndMonth(t,l)):null,p=u?g.createElement("div",{className:`${Qr}-tpk`},this.renderTimePicker(t,l)):null,_={},m=this.adapter.getCache(`wrap-${z.PANEL_TYPE_LEFT}`),v=this.adapter.getCache(`wrap-${z.PANEL_TYPE_RIGHT}`),y=t===z.PANEL_TYPE_RIGHT?v:m;this.foundation.isRangeType()?((d||u)&&(_.minWidth=y.getBoundingClientRect().width),this.leftIsYearOrTime()&&this.rightIsYearOrTime()&&!o&&(_.minHeight=a||this.calcScrollListHeight())):this.props.type!=="year"&&this.props.type!=="month"&&(u||d)&&(r=A(r,`${Qr}-yam-showing`));const w=!(d||u)?"date":d?"year":"time";return g.createElement("div",{className:r,key:t,style:_,"x-open-type":w},f,p,this.foundation.isRangeType()?h:d||u?null:h,this.renderSwitch(t))}showYearPicker(e,t){t.nativeEvent.stopImmediatePropagation(),this.foundation.showYearPicker(e)}renderMonth(e,t){const{selected:r,rangeStart:s,rangeEnd:i,hoverDay:a,maxWeekNum:o,offsetRangeStart:l,offsetRangeEnd:u}=this.state,{weekStartsOn:d,disabledDate:h,locale:f,localeCode:p,renderDate:_,renderFullDate:m,startDateOffset:v,endDateOffset:y,density:b,rangeInputFocus:w,syncSwitchMonth:E,multiple:S}=this.props;let C="";if(e){const D=e?et(e,"yyyy"):"",N=e?et(e,"L"):"",L=f.months[N];C=f.monthText.replace("${year}",D).replace("${month}",L)}let O={};const I=t===z.PANEL_TYPE_RIGHT?this.state.monthRight:this.state.monthLeft,P=this.foundation.isRangeType(),x=P&&E;return P&&I&&(I.isYearPickerOpen||I.isTimePickerOpen)&&(O={visibility:"hidden",position:"absolute",pointerEvents:"none"}),g.createElement("div",{ref:D=>this.cacheRefCurrent(`wrap-${t}`,D),style:O},g.createElement(_T,{forwardRef:D=>this.cacheRefCurrent(`nav-${t}`,D),monthText:C,density:b,onMonthClick:D=>this.showYearPicker(t,D),onPrevMonth:()=>this.foundation.prevMonth(t),onNextMonth:()=>this.foundation.nextMonth(t),onNextYear:()=>this.foundation.nextYear(t),onPrevYear:()=>this.foundation.prevYear(t),shouldBimonthSwitch:x,panelType:t}),g.createElement(bT,{locale:f,localeCode:p,forwardRef:D=>this.cacheRefCurrent(`month-${t}`,D),disabledDate:h,weekStartsOn:d,month:e,selected:r,rangeStart:s,rangeEnd:i,rangeInputFocus:w,offsetRangeStart:l,offsetRangeEnd:u,hoverDay:a,weeksRowNum:o,renderDate:_,renderFullDate:m,onDayClick:D=>this.foundation.handleDayClick(D,t),onDayHover:D=>this.foundation.handleDayHover(D,t),onWeeksRowNumChange:D=>this.handleWeeksRowNumChange(D,t),startDateOffset:v,endDateOffset:y,focusRecordsRef:this.props.focusRecordsRef,multiple:S}))}renderTimePicker(e,t){const{type:r,locale:s,format:i,hideDisabledOptions:a,timePickerOpts:o,dateFnsLocale:l}=this.props,{pickerDate:u}=t,d=A(`${Qr}-time`),h=Object.assign(Object.assign({},o),{hideDisabledOptions:a}),f=this.foundation.calcDisabledTime(e);f&&["disabledHours","disabledMinutes","disabledSeconds"].forEach(w=>{f[w]&&(h[w]=f[w])});const{rangeStart:p,rangeEnd:_}=this.state,m=this.foundation.getValidDateFormat();let v,y;r==="dateTimeRange"&&p&&_&&H1(v=Bt(p,m,void 0,l),y=Bt(_,m,void 0,l))&&(e===z.PANEL_TYPE_RIGHT?p&&(h.startDate=v):_&&(h.endDate=y));const b=s.selectTime;return g.createElement("div",{className:d},g.createElement(Ef,Object.assign({ref:w=>this.cacheRefCurrent(`timepicker-${e}`,w),panelHeader:b,format:i||z.FORMAT_TIME_PICKER,timeStampValue:u,onChange:w=>this.foundation.handleTimeChange(w,e)},h)))}renderYearAndMonth(e,t){const{pickerDate:r}=t,{locale:s,localeCode:i,density:a,yearAndMonthOpts:o,startYear:l,endYear:u}=this.props,d=r.getFullYear(),h=r.getMonth()+1;return g.createElement(l_,{ref:f=>this.cacheRefCurrent(`yam-${e}`,f),locale:s,localeCode:i,currentYear:{left:d,right:0},currentMonth:{left:h,right:0},onSelect:f=>this.foundation.toYearMonth(e,new Date(f.currentYear.left,f.currentMonth.left-1)),onBackToMain:()=>{this.foundation.showDatePanel(e);const f=this.adapter.getCache(`wrap-${e}`);f&&(f.style.height="auto")},density:a,yearAndMonthOpts:o,startYear:l,endYear:u})}renderSwitch(e){const{rangeStart:t,rangeEnd:r,monthLeft:s,monthRight:i}=this.state,{type:a,locale:o,disabledTimePicker:l,density:u,dateFnsLocale:d,insetInput:h}=this.props;if(!a.includes("Time")||h)return null;let f,p;const{FORMAT_SWITCH_DATE:_}=o.localeFormatToken,m=this.foundation.getValidTimeFormat(),v=this.foundation.getValidDateFormat();e===z.PANEL_TYPE_LEFT?(f=s,p=t?et(Bt(t,v,void 0,d),_):""):(f=i,p=r?et(Bt(r,v,void 0,d),_):"");const{isTimePickerOpen:y,showDate:b}=f,w=b?et(b,_):"",E=b?et(b,m):"",S=["default"].includes(u),C=A(`${Qr}-switch`),O=A({[`${Qr}-switch-date`]:!0,[`${Qr}-switch-date-active`]:!y}),I=A({[`${Qr}-switch-time`]:!0,[`${Qr}-switch-time-disabled`]:l,[`${Qr}-switch-date-active`]:y}),P=A(`${Qr}-switch-text`);return g.createElement("div",{className:C,ref:x=>this.adapter.setCache(`switch-${e}`,x)},g.createElement("div",{role:"button","aria-label":"Switch to date panel",className:O,onClick:x=>this.foundation.showDatePanel(e)},S&&g.createElement(S2,{"aria-hidden":!0}),g.createElement("span",{className:P},p||w)),g.createElement("div",{role:"button","aria-label":"Switch to time panel",className:I,onClick:x=>this.foundation.showTimePicker(e,!0)},S&&g.createElement(O2,{"aria-hidden":!0}),g.createElement("span",{className:P},E)))}render(){const{monthLeft:e,monthRight:t}=this.state,{type:r,insetInput:s,presetPosition:i,renderQuickControls:a,renderDateInput:o}=this.props,l=A({[`${Qr}-month-grid`]:!0}),u=z.PANEL_TYPE_LEFT,d=z.PANEL_TYPE_RIGHT;let h=null;r==="date"||r==="dateTime"?h=this.renderPanel(e.pickerDate,u):r==="dateRange"||r==="dateTimeRange"?h=[this.renderPanel(e.pickerDate,u),this.renderPanel(t.pickerDate,d)]:(r==="year"||r==="month")&&(h="year month");const f=this.getYAMOpenType();return g.createElement("div",{style:{display:"flex"}},i==="left"&&a,g.createElement("div",null,o,g.createElement("div",{className:l,"x-type":r,"x-panel-yearandmonth-open-type":f,"x-insetinput":s?"true":"false","x-preset-position":a===null?"null":i,ref:p=>this.cacheRefCurrent("monthGrid",p)},h)),i==="right"&&a)}}ET.propTypes={type:c.oneOf(z.TYPE_SET),defaultValue:c.array,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),multiple:c.bool,max:c.number,weekStartsOn:c.number,disabledDate:c.func,disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,navPrev:c.node,navNext:c.node,onMaxSelect:c.func,timePickerOpts:c.object,isControlledComponent:c.bool,rangeStart:c.oneOfType([c.string]),rangeInputFocus:c.oneOfType([c.bool,c.string]),locale:c.object,localeCode:c.string,format:c.string,renderDate:c.func,renderFullDate:c.func,startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,density:c.string,dateFnsLocale:c.object.isRequired,timeZone:c.oneOfType([c.string,c.number]),syncSwitchMonth:c.bool,onPanelChange:c.func,focusRecordsRef:c.object,triggerRender:c.func,presetPosition:c.oneOf(z.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node};ET.defaultProps={type:"date",rangeStart:"",multiple:!1,weekStartsOn:Hc.WEEK_START_ON,disabledDate:ff,onMaxSelect:k,locale:{}};const Mr=fe.PREFIX,{Text:Bge}=Nr;class ST extends T.PureComponent{render(){const{presets:e,onPresetClick:t,type:r,presetPosition:s,insetInput:i,locale:a}=this.props,o=r==="dateRange"||r==="dateTimeRange",l=s==="top"||s==="bottom",u=r==="month",d=l&&o,h=l&&u,f=A(`${Mr}-quick-control`,{[`${Mr}-quick-control-${r}`]:r,[`${Mr}-quick-control-${s}`]:!0}),p=A({[`${Mr}-quick-control-header`]:!0}),_=A({[`${Mr}-quick-control-${s}-content-wrapper`]:!0}),m=A({[`${Mr}-quick-control-${s}-content`]:!d&&!h,[`${Mr}-quick-control-${s}-range-content`]:d,[`${Mr}-quick-control-${s}-month-content`]:h}),v=A({[`${Mr}-quick-control-${s}-content-item`]:!d&&!h,[`${Mr}-quick-control-${s}-range-content-item`]:d,[`${Mr}-quick-control-${s}-month-content-item`]:h}),y=A({[`${Mr}-quick-control-${s}-content-item-ellipsis`]:!d&&!h,[`${Mr}-quick-control-${s}-range-content-item-ellipsis`]:d,[`${Mr}-quick-control-${s}-month-content-item-ellipsis`]:h});return e.length?g.createElement("div",{className:f,"x-insetinput":i?"true":"false"},!l&&g.createElement("div",{className:p},a.presets),g.createElement("div",{className:_},g.createElement("div",{className:m},e.map((b,w)=>{const E=typeof b=="function"?b():b;return g.createElement(Re,{size:"small",type:"primary",onClick:S=>t(E,S),key:w},g.createElement("div",{className:v},g.createElement(Bge,{ellipsis:{showTooltip:!0},className:y},E.text)))})))):null}}ST.propTypes={presets:c.array,presetPosition:c.oneOf(z.PRESET_POSITION_SET),onPresetClick:c.func,type:c.string,insetInput:c.oneOfType([c.bool,c.object]),locale:c.object};ST.defaultProps={presets:[],presetPosition:"bottom",onPresetClick:gt};function Hge(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:e,locale:t,onCancelClick:r,onConfirmClick:s}=n,i=A(`${e}-footer`);return g.createElement("div",{className:i},g.createElement(Re,{theme:"borderless",onClick:r},K(t,"footer.cancel","")),g.createElement(Re,{theme:"solid",onClick:s},K(t,"footer.confirm","")))}var zge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let Kl=class extends we{constructor(e){var t;super(e),t=this,this.setTriggerRef=r=>this.triggerElRef.current=r,this.handleSelectedChange=(r,s)=>this.foundation.handleSelectedChange(r,s),this.handleYMSelectedChange=r=>this.foundation.handleYMSelectedChange(r),this.disabledDisposeDate=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return t.foundation.disabledDisposeDate(r,...i)},this.disabledDisposeTime=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return t.foundation.disabledDisposeTime(r,...i)},this.handleOpenPanel=()=>this.foundation.openPanel(),this.handleInputChange=function(){return t.foundation.handleInputChange(...arguments)},this.handleInsetInputChange=r=>this.foundation.handleInsetInputChange(r),this.handleInputComplete=r=>this.foundation.handleInputComplete(r),this.handleInputBlur=r=>this.foundation.handleInputBlur(K(r,"nativeEvent.target.value"),r),this.handleInputFocus=function(){return t.foundation.handleInputFocus(...arguments)},this.handleInputClear=r=>this.foundation.handleInputClear(r),this.handleTriggerWrapperClick=r=>this.foundation.handleTriggerWrapperClick(r),this.handleSetRangeFocus=r=>this.foundation.handleSetRangeFocus(r),this.handleRangeInputBlur=(r,s)=>this.foundation.handleRangeInputBlur(r,s),this.handleRangeInputClear=r=>this.foundation.handleRangeInputClear(r),this.handleRangeEndTabPress=r=>this.foundation.handleRangeEndTabPress(r),this.isAnotherPanelHasOpened=r=>r==="rangeStart"?this.focusRecordsRef.current.rangeEnd:this.focusRecordsRef.current.rangeStart,this.handleInsetDateFocus=(r,s)=>{const i=K(this,"monthGrid.current.foundation");i&&(i.showDatePanel(z.PANEL_TYPE_LEFT),i.showDatePanel(z.PANEL_TYPE_RIGHT)),this.handleInputFocus(r,s)},this.handleInsetTimeFocus=()=>{const r=K(this,"monthGrid.current.foundation");r&&(r.showTimePicker(z.PANEL_TYPE_LEFT),r.showTimePicker(z.PANEL_TYPE_RIGHT))},this.handlePanelVisibleChange=r=>{this.foundation.handlePanelVisibleChange(r)},this.handleConfirm=r=>this.foundation.handleConfirm(),this.handleCancel=r=>this.foundation.handleCancel(),this.renderFooter=(r,s)=>this.adapter.needConfirm()?g.createElement(Hge,Object.assign({},this.props,{locale:r,localeCode:s,onConfirmClick:this.handleConfirm,onCancelClick:this.handleCancel})):null,this.renderPanel=(r,s,i)=>{const{dropdownClassName:a,dropdownStyle:o,density:l,topSlot:u,bottomSlot:d,presetPosition:h,type:f,leftSlot:p,rightSlot:_}=this.props,m=A(fe.PREFIX,{[fe.PANEL_YAM]:this.adapter.typeIsYearOrMonth(),[`${fe.PREFIX}-compact`]:l==="compact"},a);return g.createElement("div",{ref:this.panelRef,className:m,style:o,"x-type":f},g.createElement("div",{className:`${fe.PREFIX}-container`},p&&g.createElement("div",{className:`${fe.PREFIX}-leftSlot`,"x-semi-prop":"leftSlot"},p),g.createElement("div",null,u&&g.createElement("div",{className:`${fe.PREFIX}-topSlot`,"x-semi-prop":"topSlot"},u),h==="top"&&f!=="monthRange"&&this.renderQuickControls(),this.adapter.typeIsYearOrMonth()?this.renderYearMonthPanel(r,s):this.renderMonthGrid(r,s,i),h==="bottom"&&f!=="monthRange"&&this.renderQuickControls(),d&&g.createElement("div",{className:`${fe.PREFIX}-bottomSlot`,"x-semi-prop":"bottomSlot"},d)),_&&g.createElement("div",{className:`${fe.PREFIX}-rightSlot`,"x-semi-prop":"rightSlot"},_)),this.renderFooter(r,s))},this.renderYearMonthPanel=(r,s)=>{const{density:i,presetPosition:a,yearAndMonthOpts:o,type:l,startYear:u,endYear:d}=this.props,h=this.state.value[0],f={left:0,right:0},p={left:0,right:0};if(kR(h)&&(f.left=h.getFullYear(),p.left=h.getMonth()+1),l==="monthRange"){const _=this.state.value[1];kR(_)&&(f.right=_.getFullYear(),p.right=_.getMonth()+1)}return g.createElement(l_,{locale:r,localeCode:s,disabledDate:this.disabledDisposeDate,noBackBtn:!0,monthCycled:!0,onSelect:this.handleYMSelectedChange,currentYear:f,currentMonth:p,density:i,presetPosition:a,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),type:l,yearAndMonthOpts:o,startYear:u,endYear:d})},this.wrapPopover=r=>{const{panelShow:s}=this.state,{direction:i}=this.context,a=i==="rtl"?"bottomRight":"bottomLeft",{motion:o,zIndex:l,position:u=a,getPopupContainer:d,locale:h,localeCode:f,dateFnsLocale:p,stopPropagation:_,autoAdjustOverflow:m,spacing:v,dropdownMargin:y}=this.props;return g.createElement(yr,{getPopupContainer:d,autoAdjustOverflow:m,zIndex:l,motion:o,margin:y,content:this.renderPanel(h,f,p),trigger:"custom",position:u,visible:s,stopPropagation:_,spacing:v,onVisibleChange:this.handlePanelVisibleChange},r)},this.state={panelShow:e.open||e.defaultOpen,isRange:!1,inputValue:null,value:[],cachedSelectedValue:[],prevTimeZone:null,rangeInputFocus:void 0,autofocus:e.autoFocus||this.isRangeType(e.type,e.triggerRender)&&(e.open||e.defaultOpen),insetInputValue:null,triggerDisabled:void 0},this.triggerElRef=g.createRef(),this.panelRef=g.createRef(),this.monthGrid=g.createRef(),this.inputRef=g.createRef(),this.rangeInputStartRef=g.createRef(),this.rangeInputEndRef=g.createRef(),this.focusRecordsRef=g.createRef(),this.focusRecordsRef.current={rangeStart:!1,rangeEnd:!1},this.foundation=new mfe(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:(t,r)=>{this.setState({panelShow:t},r),t||(this.focusRecordsRef.current.rangeEnd=!1,this.focusRecordsRef.current.rangeStart=!1)},registerClickOutSide:()=>{this.clickOutSideHandler&&(this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=null),this.clickOutSideHandler=t=>{const r=this.triggerElRef&&this.triggerElRef.current,s=this.panelRef&&this.panelRef.current,i=t.target,a=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(a.includes(r)||a.includes(s))&&(this.props.onClickOutSide(t),this.adapter.needConfirm()||this.foundation.closePanel())},document.addEventListener("mousedown",this.clickOutSideHandler)},unregisterClickOutSide:()=>{document.removeEventListener("mousedown",this.clickOutSideHandler)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyCancel:function(){return e.props.onCancel(...arguments)},notifyConfirm:function(){return e.props.onConfirm(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyPresetsClick:function(){return e.props.onPresetClick(...arguments)},updateValue:t=>this.setState({value:t}),updatePrevTimezone:t=>this.setState({prevTimeZone:t}),updateCachedSelectedValue:t=>{let r=t;t&&!Array.isArray(t)&&(r=[...t]),this.setState({cachedSelectedValue:r})},updateInputValue:t=>{this.setState({inputValue:t})},updateInsetInputValue:t=>{const{insetInput:r}=this.props;r&&!ke(t,this.state.insetInputValue)&&this.setState({insetInputValue:t})},needConfirm:()=>["dateTime","dateTimeRange"].includes(this.props.type)&&this.props.needConfirm===!0,typeIsYearOrMonth:()=>["month","year","monthRange"].includes(this.props.type),setRangeInputFocus:t=>{const{preventScroll:r}=this.props;switch(t!==this.state.rangeInputFocus&&this.setState({rangeInputFocus:t}),t){case"rangeStart":const s=K(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeStart=!0},0);break;case"rangeEnd":const i=K(this,"rangeInputEndRef.current");i&&i.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeEnd=!0},0);break;default:return}},couldPanelClosed:()=>this.focusRecordsRef.current.rangeStart&&this.focusRecordsRef.current.rangeEnd,isEventTarget:t=>t&&t.target===t.currentTarget,setInsetInputFocus:()=>{const{preventScroll:t}=this.props,{rangeInputFocus:r}=this.state;switch(r){case"rangeEnd":if(document.activeElement!==this.rangeInputEndRef.current){const s=K(this,"rangeInputEndRef.current");s&&s.focus({preventScroll:t})}break;case"rangeStart":default:if(document.activeElement!==this.rangeInputStartRef.current){const s=K(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:t})}break}},setInputFocus:()=>{const{preventScroll:t}=this.props,r=K(this,"inputRef.current");r&&r.focus({preventScroll:t})},setInputBlur:()=>{const t=K(this,"inputRef.current");t&&t.blur()},setRangeInputBlur:()=>{const{rangeInputFocus:t}=this.state;if(t==="rangeStart"){const r=K(this,"rangeInputStartRef.current");r&&r.blur()}else if(t==="rangeEnd"){const r=K(this,"rangeInputEndRef.current");r&&r.blur()}this.adapter.setRangeInputFocus(!1)},setTriggerDisabled:t=>{this.setState({triggerDisabled:t})}})}isRangeType(e,t){return/range/i.test(e)&&!Te(t)}componentDidUpdate(e){ke(e.value,this.props.value)?this.props.timeZone!==e.timeZone&&this.foundation.initFromProps({value:this.state.value,timeZone:this.props.timeZone,prevTimeZone:e.timeZone}):this.foundation.initFromProps(Object.assign({},this.props)),e.open!==this.props.open&&(this.foundation.initPanelOpenStatus(),this.props.open||this.foundation.clearRangeInputFocus())}componentDidMount(){this._mounted=!0,super.componentDidMount()}componentWillUnmount(){this._mounted=!1,super.componentWillUnmount()}open(){this.foundation.open()}close(){this.foundation.close()}focus(e){this.foundation.focus(e)}blur(){this.foundation.blur()}renderMonthGrid(e,t,r){const{type:s,multiple:i,max:a,weekStartsOn:o,timePickerOpts:l,defaultPickerValue:u,format:d,hideDisabledOptions:h,disabledTimePicker:f,renderDate:p,renderFullDate:_,startDateOffset:m,endDateOffset:v,autoSwitchDate:y,density:b,syncSwitchMonth:w,onPanelChange:E,timeZone:S,triggerRender:C,insetInput:O,presetPosition:I,yearAndMonthOpts:P,startYear:x,endYear:D}=this.props,{cachedSelectedValue:N,rangeInputFocus:L}=this.state,V=N;return g.createElement(ET,{ref:this.monthGrid,locale:e,localeCode:t,dateFnsLocale:r,weekStartsOn:o,type:s,multiple:i,max:a,format:d,disabledDate:this.disabledDisposeDate,hideDisabledOptions:h,disabledTimePicker:f,disabledTime:this.disabledDisposeTime,defaultValue:V,defaultPickerValue:u,timePickerOpts:l,isControlledComponent:!this.adapter.needConfirm()&&this.isControlled("value"),onChange:this.handleSelectedChange,renderDate:p,renderFullDate:_,startDateOffset:m,endDateOffset:v,autoSwitchDate:y,density:b,rangeInputFocus:L,setRangeInputFocus:this.handleSetRangeFocus,isAnotherPanelHasOpened:this.isAnotherPanelHasOpened,syncSwitchMonth:w,onPanelChange:E,timeZone:S,focusRecordsRef:this.focusRecordsRef,triggerRender:C,insetInput:O,presetPosition:I,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),yearAndMonthOpts:P,startYear:x,endYear:D})}renderQuickControls(){const{presets:e,type:t,presetPosition:r,insetInput:s,locale:i}=this.props;return g.createElement(ST,{type:t,presets:e,insetInput:s,presetPosition:r,onPresetClick:(a,o)=>this.foundation.handlePresetClick(a,o),locale:i})}renderDateInput(){const{insetInput:e,dateFnsLocale:t,density:r,type:s,format:i,rangeSeparator:a,defaultPickerValue:o}=this.props,{insetInputValue:l,value:u}=this.state,d={dateFnsLocale:t,format:i,insetInputValue:l,rangeSeparator:a,type:s,value:u,handleInsetDateFocus:this.handleInsetDateFocus,handleInsetTimeFocus:this.handleInsetTimeFocus,onInsetInputChange:this.handleInsetInputChange,rangeInputStartRef:this.rangeInputStartRef,rangeInputEndRef:this.rangeInputEndRef,density:r,defaultPickerValue:o};return e?g.createElement(Py,Object.assign({},d,{insetInput:e})):null}renderInner(e){const{clearIcon:t,type:r,format:s,multiple:i,disabled:a,showClear:o,insetLabel:l,insetLabelId:u,placeholder:d,validateStatus:h,inputStyle:f,prefix:p,locale:_,dateFnsLocale:m,triggerRender:v,size:y,inputReadOnly:b,rangeSeparator:w,insetInput:E,defaultPickerValue:S,borderless:C}=this.props,{value:O,inputValue:I,rangeInputFocus:P,triggerDisabled:x}=this.state,D=this.isRangeType(r,v),N=a||E&&x,L=A(`${fe.PREFIX}-input`,{[`${fe.PREFIX}-range-input`]:D,[`${fe.PREFIX}-range-input-${y}`]:D&&y,[`${fe.PREFIX}-range-input-active`]:D&&P&&!N,[`${fe.PREFIX}-range-input-disabled`]:D&&N,[`${fe.PREFIX}-range-input-${h}`]:D&&h,[`${fe.PREFIX}-borderless`]:C}),V=d||_.placeholder[r],B=Object.assign(Object.assign({},e),{showClearIgnoreDisabled:!!E,placeholder:V,clearIcon:t,disabled:N,inputValue:I,value:O,defaultPickerValue:S,onChange:this.handleInputChange,onEnterPress:this.handleInputComplete,block:!0,inputStyle:f,showClear:o,insetLabel:l,insetLabelId:u,type:r,format:s,multiple:i,validateStatus:h,inputReadOnly:b||!!E,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onClear:this.handleInputClear,prefix:p,size:y,autofocus:this.state.autofocus,dateFnsLocale:m,rangeInputFocus:P,rangeSeparator:w,onRangeBlur:this.handleRangeInputBlur,onRangeClear:this.handleRangeInputClear,onRangeEndTabPress:this.handleRangeEndTabPress,rangeInputStartRef:E?null:this.rangeInputStartRef,rangeInputEndRef:E?null:this.rangeInputEndRef,inputRef:this.inputRef});return g.createElement("div",{role:"combobox","aria-label":Array.isArray(O)&&O.length?"Change date":"Choose date","aria-disabled":a,onClick:this.handleTriggerWrapperClick,className:L},typeof v=="function"?g.createElement(fu,Object.assign({},B,{triggerRender:v,componentName:"DatePicker",componentProps:Object.assign({},this.props)})):g.createElement(Py,Object.assign({},B)))}render(){const e=this.props,{style:t,className:r,prefixCls:s,type:i}=e,a=zge(e,["style","className","prefixCls","type"]),o=Object.assign({style:t,className:A(r,{[s]:!0}),ref:this.setTriggerRef,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(a)),l=[];i.toLowerCase().includes("range")||l.push("borderless");const u=this.renderInner(zl(this.props,l)),d=this.wrapPopover(u);return g.createElement("div",Object.assign({},o),d)}};Kl.contextType=kr;Kl.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,type:c.oneOf(z.TYPE_SET),size:c.oneOf(z.SIZE_SET),clearIcon:c.node,density:c.oneOf(z.DENSITY_SET),defaultValue:c.oneOfType([c.string,c.number,c.object,c.array]),value:c.oneOfType([c.string,c.number,c.object,c.array]),defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,format:c.string,disabled:c.bool,multiple:c.bool,max:c.number,placeholder:c.oneOfType([c.string,c.array]),presets:c.array,presetPosition:c.oneOf(z.PRESET_POSITION_SET),onChange:c.func,onChangeWithDateFirst:c.bool,weekStartsOn:c.number,disabledDate:c.func,timePickerOpts:c.object,showClear:c.bool,onOpenChange:c.func,open:c.bool,defaultOpen:c.bool,motion:c.oneOfType([c.bool,c.func,c.object]),className:c.string,prefixCls:c.string,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,position:c.oneOf(xl.POSITION_SET),getPopupContainer:c.func,onCancel:c.func,onConfirm:c.func,needConfirm:c.bool,inputStyle:c.object,timeZone:c.oneOfType([c.string,c.number]),triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),autoAdjustOverflow:c.bool,onBlur:c.func,onFocus:c.func,onClear:c.func,style:c.object,autoFocus:c.bool,inputReadOnly:c.bool,validateStatus:c.oneOf(z.STATUS),renderDate:c.func,renderFullDate:c.func,spacing:c.oneOfType([c.number,c.object]),startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),topSlot:c.node,bottomSlot:c.node,dateFnsLocale:c.object,syncSwitchMonth:c.bool,onPanelChange:c.func,rangeSeparator:c.string,preventScroll:c.bool,yearAndMonthOpts:c.object,onClickOutSide:c.func};Kl.__SemiComponentName__="DatePicker";Kl.defaultProps=ds(Kl.__SemiComponentName__,{onChangeWithDateFirst:!0,borderless:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,prefixCls:fe.PREFIX,presetPosition:"bottom",zIndex:is.DEFAULT_Z_INDEX,type:"date",size:"default",density:"default",multiple:!1,defaultOpen:!1,disabledHours:k,disabledMinutes:k,disabledSeconds:k,hideDisabledOptions:!1,onBlur:k,onFocus:k,onClear:k,onCancel:k,onConfirm:k,onChange:k,onOpenChange:k,onPanelChange:k,onPresetClick:k,weekStartsOn:Hc.WEEK_START_ON,disabledDate:ff,disabledTime:ff,inputReadOnly:!1,spacing:Hc.SPACING,autoSwitchDate:!0,syncSwitchMonth:!1,rangeSeparator:z.DEFAULT_SEPARATOR_RANGE,insetInput:!1,onClickOutSide:k});const Kge=HF(g.forwardRef((n,e)=>{const t=Object.assign({},n),{type:r,format:s,rangeSeparator:i}=t;return typeof s=="string"&&s&&(/[Hhms]+/.test(s)||(r==="dateTime"?t.type="date":r==="dateTimeRange"&&(t.type="dateRange"))),i&&typeof i=="string"&&(t.rangeSeparator=` ${i.trim()} `),t.insetInput&&(t.position||(t.position=z.POSITION_INLINE_INPUT),t.position.includes("Over")&&!t.spacing&&(t.spacing=Hc.SPACING_INSET_INPUT)),g.createElement(kr.Consumer,null,a=>{let{timeZone:o}=a;return g.createElement(dn,{componentName:"DatePicker"},(l,u,d)=>g.createElement(Kl,Object.assign({timeZone:o,localeCode:u,locale:l,dateFnsLocale:d},t,{ref:e})))})}),Kl),rt={DIALOG:`${Y}-modal`},qR={SIZE:["small","medium","large","full-width"],directions:["ltr","rtl"]};function Wge(n){return n!==null&&typeof n=="object"}function Sf(n){return Wge(n)&&typeof n.then=="function"}class Gge extends Pe{constructor(e){super(Object.assign({},e)),this.toggleDisplayNone=(t,r)=>{this._adapter.toggleDisplayNone(t,r)}}destroy(){this.afterHide()}handleCancel(e){var t;const r=this._adapter.notifyCancel(e);Sf(r)&&(this._adapter.setState({onCancelReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onCancelReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(s=>{throw this._adapter.setState({onCancelReturnPromiseStatus:"rejected"}),s}))}handleOk(e){var t;const r=this._adapter.notifyOk(e);Sf(r)&&(this._adapter.setState({onOKReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onOKReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(s=>{throw this._adapter.setState({onOKReturnPromiseStatus:"rejected"}),s}))}beforeShow(){this._adapter.disabledBodyScroll()}afterHide(){this._adapter.enabledBodyScroll(),this._adapter.notifyClose()}enabledBodyScroll(){this._adapter.enabledBodyScroll()}}class CT extends Pe{constructor(e){super(Object.assign(Object.assign({},CT.defaultAdapter),e)),this.handleKeyDown=t=>{const{closeOnEsc:r}=this.getProps();if(r&&t.keyCode===Nn.ESC){t.stopPropagation(),this.close(t);return}}}destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){const{dialogMouseDown:t}=this.getStates();e.target===e.currentTarget&&!t&&this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}}var Yge=Q2,qge=R1,Xge=P1,Qge=qge(function(n,e){return Xge(n)?Yge(n,e):[]}),Zge=Qge;const Jge=ge(Zge);class mo{constructor(e,t){var r;this.addFocusRedirectListener=s=>(this.focusRedirectListenerList.push(s),()=>this.removeFocusRedirectListener(s)),this.removeFocusRedirectListener=s=>{this.focusRedirectListenerList=Jge(this.focusRedirectListenerList,s)},this.destroy=()=>{var s;(s=this.container)===null||s===void 0||s.removeEventListener("keydown",this.onKeyPress)},this.shouldFocusRedirect=s=>{if(!this.enable)return!1;for(const i of this.focusRedirectListenerList)if(!i(s))return!1;return!0},this.focusElement=(s,i)=>{const{preventScroll:a}=this.options;s==null||s.focus({preventScroll:a}),i.preventDefault()},this.onKeyPress=s=>{if(s&&s.key==="Tab"){const i=mo.getFocusableElements(this.container);i.length&&(s.shiftKey?this.handleContainerShiftTabKeyDown(i,s):this.handleContainerTabKeyDown(i,s))}},this.handleContainerTabKeyDown=(s,i)=>{const a=mo.getActiveElement(),o=s[s.length-1]===a,l=s[0];o&&this.shouldFocusRedirect(l)&&this.focusElement(l,i)},this.handleContainerShiftTabKeyDown=(s,i)=>{const a=mo.getActiveElement(),o=s[0]===a,l=s[s.length-1];o&&this.shouldFocusRedirect(l)&&this.focusElement(l,i)},Object.freeze(t),this.container=e,this.options=t,this.enable=(r=t==null?void 0:t.enable)!==null&&r!==void 0?r:!0,this.focusRedirectListenerList=t!=null&&t.onFocusRedirectListener?Array.isArray(t.onFocusRedirectListener)?[...t.onFocusRedirectListener]:[t.onFocusRedirectListener]:[],this.container.addEventListener("keydown",this.onKeyPress)}get enable(){return this._enable}set enable(e){this._enable=e}static getFocusableElements(e){if(!Ke(e))return[];const r=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(r))}static getActiveElement(){return document?document.activeElement:null}}var g0=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let eme=0;class u_ extends we{constructor(e){super(e),this.onKeyDown=t=>{this.foundation.handleKeyDown(t)},this.onDialogMouseDown=()=>{this.foundation.handleDialogMouseDown()},this.onMaskMouseUp=()=>{this.foundation.handleMaskMouseUp()},this.onMaskClick=t=>{this.foundation.handleMaskClick(t)},this.close=t=>{this.foundation.close(t)},this.getMaskElement=()=>{const t=g0(this.props,[]),{mask:r,maskClassName:s}=t;if(r){const i=A(`${rt.DIALOG}-mask`,{});return g.createElement("div",Object.assign({key:"mask"},this.props.maskExtraProps,{className:A(i,s),style:t.maskStyle}))}return null},this.renderCloseBtn=()=>{const{closable:t,closeIcon:r}=this.props;let s;if(t){const i=r||g.createElement(Hv,{"x-semi-prop":"closeIcon"});s=g.createElement(xs,{"aria-label":"close",className:`${rt.DIALOG}-close`,key:"close-btn",onClick:this.close,type:"tertiary",icon:i,theme:"borderless",size:"small"})}return s},this.renderIcon=()=>{const{icon:t}=this.props;return t?g.createElement("span",{className:`${rt.DIALOG}-icon-wrapper`,"x-semi-prop":"icon"},t):null},this.renderHeader=()=>{if("header"in this.props)return this.props.header;const{title:t}=this.props,r=this.renderCloseBtn(),s=this.renderIcon();return t==null?null:g.createElement("div",{className:`${rt.DIALOG}-header`},s,g.createElement(Nr.Title,{heading:5,className:`${rt.DIALOG}-title`,id:`${rt.DIALOG}-title`,"x-semi-prop":"title"},t),r)},this.renderBody=()=>{const{bodyStyle:t,children:r,title:s}=this.props,i=A(`${rt.DIALOG}-body`,{[`${rt.DIALOG}-withIcon`]:this.props.icon}),a=this.renderCloseBtn(),o=this.renderIcon();return s!=null||"header"in this.props?g.createElement("div",{className:i,id:`${rt.DIALOG}-body`,style:t,"x-semi-prop":"children"},r):g.createElement("div",{className:`${rt.DIALOG}-body-wrapper`},o,g.createElement("div",{className:i,style:t,"x-semi-prop":"children"},r),a)},this.getDialogElement=()=>{const t=g0(this.props,[]),r={},s=A(`${rt.DIALOG}`,{[`${rt.DIALOG}-centered`]:t.centered,[`${rt.DIALOG}-${t.size}`]:t.size});t.width&&(r.width=t.width),t.height&&(r.height=t.height),t.isFullScreen&&(r.width="100%",r.height="100%",r.margin="unset");const i=this.renderBody(),a=this.renderHeader(),o=t.footer?g.createElement("div",{className:`${rt.DIALOG}-footer`,"x-semi-prop":"footer"},t.footer):null;return g.createElement("div",{key:"dialog-element",className:s,onMouseDown:this.onDialogMouseDown,style:Object.assign(Object.assign({},t.style),r),id:this.dialogId},g.createElement("div",{role:"dialog",ref:this.modalDialogRef,"aria-modal":"true","aria-labelledby":`${rt.DIALOG}-title`,"aria-describedby":`${rt.DIALOG}-body`,onAnimationEnd:t.onAnimationEnd,className:A([`${rt.DIALOG}-content`,t.contentClassName,{[`${rt.DIALOG}-content-fullScreen`]:t.isFullScreen}])},a,i,o))},this.state={dialogMouseDown:!1,prevFocusElement:mo.getActiveElement()},this.foundation=new CT(this.adapter),this.dialogId=`dialog-${eme++}`,this.modalDialogRef=g.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyClose:e=>{this.props.onClose(e)},notifyDialogMouseDown:()=>{this.setState({dialogMouseDown:!0})},notifyDialogMouseUp:()=>{this.state.dialogMouseDown&&(this.timeoutId=setTimeout(()=>{this.setState({dialogMouseDown:!1})},0))},addKeyDownEventListener:()=>{this.props.closeOnEsc&&document.addEventListener("keydown",this.foundation.handleKeyDown)},removeKeyDownEventListener:()=>{this.props.closeOnEsc&&document.removeEventListener("keydown",this.foundation.handleKeyDown)},getMouseState:()=>this.state.dialogMouseDown,modalDialogFocus:()=>{var e,t,r;const{preventScroll:s}=this.props;let i;if(this.modalDialogRef){const a=mo.getActiveElement();i=this.modalDialogRef.current.contains(a),(e=this.focusTrapHandle)===null||e===void 0||e.destroy(),this.focusTrapHandle=new mo(this.modalDialogRef.current,{preventScroll:s})}i||(r=(t=this.modalDialogRef)===null||t===void 0?void 0:t.current)===null||r===void 0||r.focus({preventScroll:s})},modalDialogBlur:()=>{var e,t;(e=this.modalDialogRef)===null||e===void 0||e.current.blur(),(t=this.focusTrapHandle)===null||t===void 0||t.destroy()},prevFocusElementReFocus:()=>{const{prevFocusElement:e}=this.state,{preventScroll:t}=this.props,r=K(e,"focus");Te(r)&&e.focus({preventScroll:t})}})}componentDidMount(){var e;this.foundation.handleKeyDownEventListenerMount(),this.foundation.modalDialogFocus();const t=mo.getFocusableElements(this.modalDialogRef.current);this.modalDialogRef.current.contains(document.activeElement)||(e=t[0])===null||e===void 0||e.focus()}componentWillUnmount(){clearTimeout(this.timeoutId),this.foundation.destroy()}render(){var e;const t=this.props,{maskClosable:r,className:s,getPopupContainer:i,maskFixed:a,getContainerContext:o}=t,l=g0(t,["maskClosable","className","getPopupContainer","maskFixed","getContainerContext"]),{direction:u}=this.context,d=A(s,{[`${rt.DIALOG}-popup`]:i&&i()!==((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body)&&!a,[`${rt.DIALOG}-fixed`]:a,[`${rt.DIALOG}-rtl`]:u==="rtl"}),h=o(),f=this.getDataAttr(l),p=g.createElement("div",Object.assign({className:d},f),this.getMaskElement(),g.createElement("div",Object.assign({role:"none",className:A({[`${rt.DIALOG}-wrap`]:!0,[`${rt.DIALOG}-wrap-center`]:this.props.centered}),onClick:r?this.onMaskClick:null,onMouseUp:r?this.onMaskMouseUp:null},this.props.contentExtraProps),this.getDialogElement()));return h&&h.Provider?g.createElement(h.Provider,{value:h.value},p):p}}u_.contextType=kr;u_.propTypes={close:c.func,getContainerContext:c.func,contentClassName:c.string,maskClassName:c.string,onAnimationEnd:c.func,preventScroll:c.bool};u_.defaultProps={close:k,getContainerContext:k,contentClassName:"",maskClassName:""};var tme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ej=n=>{const[e,t]=T.useState(!0),[r,s]=T.useState(),[i,a]=T.useState(),{direction:o}=n,{title:l,content:u,icon:d,type:h,onCancel:f,onOk:p,className:_}=n,m=tme(n,["title","content","icon","type","onCancel","onOk","className"]),v=T.useCallback(I=>{const P=p&&p(I);P&&P.then?(s(!0),P.then(function(){t(!1),s(!1)},x=>{s(!1)})):t(!1)},[p]),y=T.useCallback(I=>{const P=f&&f(I);P&&P.then?(a(!0),P.then(function(){t(!1),a(!1)},x=>{a(!1)})):t(!1)},[f]),b=`${rt.DIALOG}-confirm`,w=A(_,b,{[`${b}-rtl`]:o==="rtl"}),E=A(`${rt.DIALOG}-${h}`),S=dr(d)?g.cloneElement(d,{className:`${b}-icon ${E}-icon`,size:"extra-large"}):d,C=l==null?null:g.createElement("span",{className:`${b}-title-text`},l),O=A(`${b}-content`,{[`${b}-content-withIcon`]:n.icon});return g.createElement(as,Object.assign({className:w,title:C,confirmLoading:r,cancelLoading:i,onOk:v,onCancel:y,icon:S,visible:e},m),g.createElement("div",{className:O,"x-semi-prop":"content"},u))};function Rp(n){const e=document.createElement("div");document.body.appendChild(e);let t=Object.assign({},n);const r=()=>{Pr.unmountComponentAtNode(e)&&e.parentNode&&e.parentNode.removeChild(e);for(let l=0;l<yl.length;l++)if(yl[l]===i){yl.splice(l,1);break}};function s(o){const{afterClose:l}=o;Pr.render(g.createElement(Ej,Object.assign({},o,{afterClose:function(){l==null||l(...arguments),r()},motion:n.motion})),e)}function i(){t=Object.assign(Object.assign({},t),{visible:!1}),s(t)}function a(o){t=Object.assign(Object.assign({},t),o),s(t)}return s(t),yl.push(i),{destroy:i,update:a}}function Sj(n){return Object.assign({type:"info",icon:g.createElement(I2,null)},n)}function Cj(n){return Object.assign({type:"success",icon:g.createElement(x2,null)},n)}function Tj(n){return Object.assign({type:"warning",icon:g.createElement(Y1,null)},n)}function Oj(n){return Object.assign({type:"error",icon:g.createElement(gf,null),okButtonProps:Object.assign({type:"danger"},n.okButtonProps)},Ko(n,["okButtonProps"]))}function Ij(n){return Object.assign({type:"confirm",icon:g.createElement(Uie,null)},n)}var nme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const rme=(n,e)=>{var{afterClose:t,config:r}=n;nme(n,["afterClose","config"]);const[s,i]=g.useState(r);g.useImperativeHandle(e,()=>({destroy:()=>{i(o=>Object.assign(Object.assign({},o),{visible:!1}))},update:o=>{i(l=>Object.assign(Object.assign({},l),o))}}));const a=()=>{var o;(o=r==null?void 0:r.afterClose)===null||o===void 0||o.call(r),t()};return g.createElement(Ej,Object.assign({},s,{afterClose:a}))},sme=g.forwardRef(rme);let XR=0;function ime(){const[n,e]=g.useState([]);function t(r){return e(s=>[...s,r]),()=>{e(s=>s.filter(i=>i!==r))}}return[n,t]}function ame(){const[n,e]=ime();function t(r){return function(i){XR+=1;const a=g.createRef();let o;const l=g.createElement(sme,{key:`semi-modal-${XR}`,config:r(i),ref:a,afterClose:()=>{o()}});return o=e(l),{destroy:()=>{a.current&&a.current.destroy()},update:u=>{a.current&&a.current.update(u)}}}}return[{info:t(Sj),success:t(Cj),error:t(Oj),warning:t(Tj),confirm:t(Ij)},g.createElement(g.Fragment,null,n)]}var ome=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let yl=[];class as extends we{constructor(e){super(e),this.bodyOverflow=null,this.handleCancel=t=>{this.foundation.handleCancel(t)},this.handleOk=t=>{this.foundation.handleOk(t)},this.updateState=()=>{const{visible:t}=this.props;this.foundation.toggleDisplayNone(!t)},this.renderFooter=()=>{const{okText:t,okType:r,cancelText:s,confirmLoading:i,cancelLoading:a,hasCancel:o,footerFill:l}=this.props,u=d=>{var h;return o?g.createElement(Re,Object.assign({"aria-label":"cancel",onClick:this.handleCancel,loading:a===void 0?this.state.onCancelReturnPromiseStatus==="pending":a,type:"tertiary",block:l,autoFocus:!0},this.props.cancelButtonProps,{style:Object.assign(Object.assign({},l?{marginLeft:"unset"}:{}),(h=this.props.cancelButtonProps)===null||h===void 0?void 0:h.style),"x-semi-children-alias":"cancelText"}),s||d.cancel):null};return g.createElement(dn,{componentName:"Modal"},(d,h)=>g.createElement("div",{className:A({[`${rt.DIALOG}-footerfill`]:l})},u(d),g.createElement(Re,Object.assign({"aria-label":"confirm",type:r,theme:"solid",block:l,loading:i===void 0?this.state.onOKReturnPromiseStatus==="pending":i,onClick:this.handleOk},this.props.okButtonProps,{"x-semi-children-alias":"okText"}),t||d.confirm)))},this.renderDialog=()=>{var t;let r=this.props,{footer:s,className:i,motion:a,maskStyle:o,keepDOM:l,style:u,zIndex:d,getPopupContainer:h,visible:f,modalContentClass:p}=r,_=ome(r,["footer","className","motion","maskStyle","keepDOM","style","zIndex","getPopupContainer","visible","modalContentClass"]),m=u;const v=o,y="footer"in this.props?s:this.renderFooter();let b={zIndex:d};h&&h()!==((t=globalThis==null?void 0:globalThis.document)===null||t===void 0?void 0:t.body)&&(b={zIndex:d,position:"static"});const w=A(i,{[`${rt.DIALOG}-displayNone`]:l&&this.state.displayNone}),E=this.props.visible||this.props.keepDOM&&(!this.props.lazyRender||this._haveRendered)||this.props.motion&&!this.state.displayNone;return E&&(this._haveRendered=!0),g.createElement(pf,{motion:this.props.motion,animationState:f?"enter":"leave",startClassName:f?`${rt.DIALOG}-content-animate-show`:`${rt.DIALOG}-content-animate-hide`,onAnimationEnd:()=>{this.updateState()}},S=>{let{animationClassName:C,animationEventsNeedBind:O}=S;return g.createElement(pf,{motion:this.props.motion,animationState:f?"enter":"leave",startClassName:f?`${rt.DIALOG}-mask-animate-show`:`${rt.DIALOG}-mask-animate-hide`,onAnimationEnd:()=>{this.updateState()}},I=>{let{animationClassName:P,animationEventsNeedBind:x}=I;return E?g.createElement(mp,{style:b,getPopupContainer:h}," ",g.createElement(u_,Object.assign({},_,{contentExtraProps:O,maskExtraProps:x,isFullScreen:this.state.isFullScreen,contentClassName:`${C} ${p}`,maskClassName:P,className:w,getPopupContainer:h,maskStyle:v,style:m,ref:this.modalRef,footer:y,onClose:this.handleCancel}))):g.createElement(g.Fragment,null)})})},this.state={displayNone:!e.visible,isFullScreen:e.fullScreen},this.foundation=new Gge(this.adapter),this.modalRef=g.createRef(),this.scrollBarWidth=0,this.originBodyWidth="100%"}get adapter(){return Object.assign(Object.assign({},super.adapter),{getProps:()=>this.props,disabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;this.bodyOverflow=document.body.style.overflow||"",(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!==null&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyCancel:e=>this.props.onCancel(e),notifyOk:e=>this.props.onOk(e),notifyClose:()=>{this.props.afterClose()},toggleDisplayNone:(e,t)=>{e!==this.state.displayNone&&this.setState({displayNone:e},t||k)},notifyFullScreen:e=>{e!==this.state.isFullScreen&&this.setState({isFullScreen:e})}})}static getDerivedStateFromProps(e,t){const r={};return e.fullScreen!==t.isFullScreen&&(r.isFullScreen=e.fullScreen),e.visible&&t.displayNone&&(r.displayNone=!1),r}componentDidMount(){this.scrollBarWidth=Qte(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,t,r){!e.visible&&this.props.visible&&this.foundation.beforeShow(),!t.displayNone&&this.state.displayNone&&this.foundation.afterHide()}componentWillUnmount(){this.props.visible?this.foundation.destroy():this.foundation.enabledBodyScroll()}render(){const{visible:e,keepDOM:t,lazyRender:r}=this.props;return this.renderDialog()}}as.propTypes={mask:c.bool,closable:c.bool,centered:c.bool,visible:c.bool,width:c.oneOfType([c.string,c.number]),height:c.oneOfType([c.string,c.number]),confirmLoading:c.bool,cancelLoading:c.bool,okText:c.string,okType:c.string,cancelText:c.string,maskClosable:c.bool,onCancel:c.func,onOk:c.func,afterClose:c.func,okButtonProps:c.object,cancelButtonProps:c.object,style:c.object,className:c.string,maskStyle:c.object,bodyStyle:c.object,zIndex:c.number,title:c.node,icon:c.node,header:c.node,footer:c.node,hasCancel:c.bool,motion:c.bool,children:c.node,getPopupContainer:c.func,getContainerContext:c.func,maskFixed:c.bool,closeIcon:c.node,closeOnEsc:c.bool,size:c.oneOf(qR.SIZE),keepDOM:c.bool,lazyRender:c.bool,direction:c.oneOf(qR.directions),fullScreen:c.bool,footerFill:c.bool};as.__SemiComponentName__="Modal";as.defaultProps=ds(as.__SemiComponentName__,{zIndex:1e3,motion:!0,mask:!0,centered:!1,closable:!0,visible:!1,okType:"primary",maskClosable:!0,hasCancel:!0,onCancel:k,onOk:k,afterClose:k,maskFixed:!1,closeOnEsc:!0,size:"small",keepDOM:!1,lazyRender:!0,fullScreen:!1});as.useModal=ame;as.info=function(n){return Rp(Sj(n))};as.success=function(n){return Rp(Cj(n))};as.error=function(n){return Rp(Oj(n))};as.warning=function(n){return Rp(Tj(n))};as.confirm=function(n){return Rp(Ij(n))};as.destroyAll=function(){for(let e=0,t=yl.length;e<t;e++){const r=yl[e];r&&r()}yl=[]};const Pj={PREFIX:`${Y}`};var lme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const QR=["xxl","xl","lg","md","sm","xs"],xj=g.createContext(null),ZR={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class c_ extends g.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(ZR).map(e=>Xte(ZR[e],{match:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})}))},unmatch:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})}))}}))}componentWillUnmount(){this.unRegisters.forEach(e=>e())}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach((s,i)=>{if(typeof s=="object")for(let a=0;a<QR.length;a++){const o=QR[a];if(this.state.screens[o]&&s[o]!==void 0){t[i]=s[o];break}}else t[i]=s||0}),t}render(){const e=this.props,{prefixCls:t,type:r,justify:s,align:i,className:a,style:o,children:l}=e,u=lme(e,["prefixCls","type","justify","align","className","style","children"]),d=this.getGutter(),h=`${t}-row`,f=A({[h]:r!=="flex",[`${h}-${r}`]:r,[`${h}-${r}-${s}`]:r&&s,[`${h}-${r}-${i}`]:r&&i},a),p=Object.assign(Object.assign(Object.assign({},d[0]>0?{marginLeft:d[0]/-2,marginRight:d[0]/-2}:{}),d[1]>0?{marginTop:d[1]/-2,marginBottom:d[1]/-2}:{}),o),_=Object.assign({},u);return delete _.gutter,g.createElement(xj.Provider,{value:{gutters:d}},g.createElement("div",Object.assign({},_,{className:f,style:p,"x-semi-prop":"children"}),l))}}c_.propTypes={type:c.oneOf(["flex"]),align:c.oneOf(["top","middle","bottom"]),justify:c.oneOf(["start","end","center","space-around","space-between"]),className:c.string,style:c.object,children:c.node,gutter:c.oneOfType([c.object,c.number,c.array]),prefixCls:c.string};c_.defaultProps={prefixCls:Pj.PREFIX};c_.RowContext={gutters:c.any};var ume=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Du=c.oneOfType([c.object,c.number]);class Hr extends g.Component{render(){const{props:e}=this,{prefixCls:t,span:r,order:s,offset:i,push:a,pull:o,className:l,children:u}=e,d=ume(e,["prefixCls","span","order","offset","push","pull","className","children"]);let h={};const f=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach(v=>{let y={};typeof e[v]=="number"?y.span=e[v]:typeof e[v]=="object"&&(y=e[v]||{}),delete d[v],h=Object.assign(Object.assign({},h),{[`${f}-${v}-${y.span}`]:y.span!==void 0,[`${f}-${v}-order-${y.order}`]:y.order||y.order===0,[`${f}-${v}-offset-${y.offset}`]:y.offset||y.offset===0,[`${f}-${v}-push-${y.push}`]:y.push||y.push===0,[`${f}-${v}-pull-${y.pull}`]:y.pull||y.pull===0})});const p=A(f,{[`${f}-${r}`]:r!==void 0,[`${f}-order-${s}`]:s,[`${f}-offset-${i}`]:i,[`${f}-push-${a}`]:a,[`${f}-pull-${o}`]:o},l,h);let{style:_}=d,m;try{m=this.context.gutters}catch{throw new Error("please make sure <Col> inside <Row>")}return _=Object.assign(Object.assign(Object.assign({},m[0]>0?{paddingLeft:m[0]/2,paddingRight:m[0]/2}:{}),m[1]>0?{paddingTop:m[1]/2,paddingBottom:m[1]/2}:{}),_),g.createElement("div",Object.assign({},d,{style:_,className:p,"x-semi-prop":"children"}),u)}}Hr.contextType=xj;Hr.propTypes={span:c.number,order:c.number,offset:c.number,push:c.number,pull:c.number,className:c.string,children:c.node,xs:Du,sm:Du,md:Du,lg:Du,xl:Du,xxl:Du,prefixCls:c.string};Hr.defaultProps={prefixCls:Pj.PREFIX};const Zs={PREFIX:`${Y}-form`},ch={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"},sa=Zs.PREFIX;class Hi extends T.PureComponent{render(){const{children:e,required:t,text:r,disabled:s,name:i,width:a,align:o,style:l,className:u,extra:d,id:h,optional:f}=this.props,p=A(u,{[`${sa}-field-label`]:!0,[`${sa}-field-label-left`]:o==="left",[`${sa}-field-label-right`]:o==="right",[`${sa}-field-label-required`]:t,[`${sa}-field-label-disabled`]:s,[`${sa}-field-label-with-extra`]:d}),_=l||{};a&&(_.width=a);const m=g.createElement(dn,{componentName:"Form"},b=>g.createElement("span",{className:`${sa}-field-label-optional-text`},b.optional)),v=g.createElement("div",{className:`${sa}-field-label-text`,"x-semi-prop":"label"},typeof r<"u"?r:e,f?m:null),y=g.createElement(g.Fragment,null,v,g.createElement("div",{className:`${sa}-field-label-extra`},d));return g.createElement("label",{className:p,htmlFor:i,style:_,id:h},d?y:v)}}Hi.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1};Hi.propTypes={id:c.string,children:c.node,required:c.bool,text:c.node,disabled:c.bool,name:c.string,align:c.string,width:c.oneOfType([c.number,c.string]),style:c.object,className:c.string,extra:c.node,optional:c.bool};var JR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const nl=Gv.PREFIX,cme=Go.SIZE;class TT extends we{renderGroupWithLabel(e){const t=this.props,{size:r,className:s,label:i,labelPosition:a}=t;JR(t,["size","className","label","labelPosition"]);const o=A({[`${nl}-group-wrapper`]:!0,[`${nl}-group-wrapper-with-top-label`]:a==="top",[`${nl}-group-wrapper-with-left-label`]:a==="left"}),l=A(`${nl}-group`,s,{[`${nl}-${r}`]:r!=="default"}),u="input-group";return g.createElement("div",{className:o},i&&i.text?g.createElement(Hi,Object.assign({name:u},i)):null,g.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:i&&i.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:r,className:s,children:i,label:a,onBlur:o,onFocus:l,disabled:u}=e,d=JR(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),h=A(`${nl}-group`,{[`${nl}-${t}`]:t!=="default"},s);let f;return i&&(f=(Array.isArray(i)?i:[i]).map((p,_)=>{if(p){const{onBlur:m,onFocus:v,disabled:y}=p.props,b=Te(m)&&K(m,"name")!=="noop"?m:o,w=Te(v)&&K(v,"name")!=="noop"?v:l,E=typeof y=="boolean"?y:u;return g.cloneElement(p,Object.assign(Object.assign({key:_},d),{size:t,onBlur:b,onFocus:w,disabled:E}))}return null})),a&&a.text?this.renderGroupWithLabel(f):g.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:h,style:r,onFocus:this.props.onFocus,onBlur:this.props.onBlur},f)}}TT.propTypes={className:c.string,children:c.node,size:c.oneOf(cme),style:c.object,onBlur:c.func,onFocus:c.func,label:c.object,labelPosition:c.string};TT.defaultProps={size:"default",className:"",onBlur:gt,onFocus:gt};let Zr=null;const eA={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},tA=n=>{Object.keys(eA).forEach(e=>{n.style.setProperty(e,eA[e],"important")})},nA=(n,e)=>{const t=n.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function dme(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0;Zr||(Zr=document.createElement("textarea"),Zr.setAttribute("tab-index","-1"),Zr.setAttribute("aria-hidden","true"),tA(Zr)),Zr.parentNode===null&&document.body.appendChild(Zr);const{paddingSize:s,borderSize:i,sizingStyle:a}=n,{boxSizing:o}=a;Object.keys(a).forEach(f=>{Zr.style[f]=a[f]}),tA(Zr),Zr.value=e;let l=nA(Zr,n);Zr.value="x";const u=nA(Zr,n)-s-i;let d=u*t;o==="border-box"&&(d=d+s+i),l=Math.max(d,l);let h=u*r;return o==="border-box"&&(h=h+s+i),l=Math.min(h,l),l}const hme=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],fme=n=>{const e=window.getComputedStyle(n);if(e===null)return null;const t=zl(e,hme),{boxSizing:r}=t;if(r==="")return null;const s=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),i=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:s,borderSize:i}};class OT extends Pe{static get textAreaDefaultAdapter(){return{notifyChange:k,setValue:k,toggleFocusing:k,toggleHovering:k,notifyFocus:k,notifyBlur:k,notifyKeyDown:k,notifyEnterPress:k}}constructor(e){super(Object.assign(Object.assign({},OT.textAreaDefaultAdapter),e)),this.resizeTextarea=()=>{var t;const{height:r}=this.getStates(),{rows:s,autosize:i}=this.getProps(),a=this._adapter.getRef(),o=fme(a);if(!o)return;const[l,u]=i!==null&&typeof i=="object"?[(t=i==null?void 0:i.minRows)!==null&&t!==void 0?t:s,i==null?void 0:i.maxRows]:[s],d=dme(o,a.value||a.placeholder||"x",l,u);if(r!==d){this._adapter.notifyHeightUpdate(d),a.style.height=`${d}px`;return}}}destroy(){}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let a=e;r&&Te(i)&&(a=this.handleVisibleMaxLength(e)),s&&Te(i)&&this.handleVisibleMinLength(a),this._isControlledComponent()?this._adapter.notifyChange(a,t):(this._adapter.setValue(a),this._adapter.notifyChange(a,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(jt(t)&&t>=0&&Te(r)&&Oe(e)){const i=r(e);if(i<t){const a=e.length+(t-i);a!==s&&this._adapter.setMinLength(a)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();if(jt(t)&&t>=0&&Oe(e)){if(Te(r)){if(r(e)>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)}else if(e.length>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),e.slice(0,t);return e}}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return M2({value:e,maxLength:t,getValueLength:r})}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){const{value:t}=this.getStates(),{maxLength:r}=this.getProps();let s=t;r&&(s=this.handleVisibleMaxLength(t),s!==t&&(this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,e))),this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(s,e)}handleKeyDown(e){const{disabledEnterStartNewLine:t}=this.getProps();t&&e.key==="Enter"&&!e.shiftKey&&e.preventDefault(),this._adapter.notifyKeyDown(e),e.keyCode===13&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){const{value:e,isFocus:t,isHover:r}=this._adapter.getStates(),{showClear:s,disabled:i,readonly:a}=this._adapter.getProps();return e&&s&&!i&&(t||r)&&!a}handleClear(e){const{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var pme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Sr=Gv.PREFIX;class IT extends we{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.setRef=r=>{this.libRef.current=r;const{forwardRef:s}=this.props;typeof s=="function"?s(r):s&&typeof s=="object"&&(s.current=r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,isFocus:!1,isHover:!1,height:0,minLength:e.minLength,cachedValue:e.value},this.focusing=!1,this.foundation=new OT(this.adapter),this.libRef=g.createRef(),this.throttledResizeTextarea=ay(this.foundation.resizeTextarea,10)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentWillUnmount(){var e,t;this.throttledResizeTextarea&&((t=(e=this.throttledResizeTextarea)===null||e===void 0?void 0:e.cancel)===null||t===void 0||t.call(e),this.throttledResizeTextarea=null)}componentDidUpdate(e,t){(this.props.value!==e.value||this.props.placeholder!==e.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){const{showClear:e}=this.props,t=this.foundation.isAllowClear(),r=A(`${Sr}-clearbtn`,{[`${Sr}-clearbtn-hidden`]:!t});return e?g.createElement("div",{className:r,onClick:this.handleClear},g.createElement(Wo,null)):null}renderCounter(){let e,t,r,s;const{showCounter:i,maxCount:a,getValueLength:o}=this.props;if(i||a){const{value:l}=this.state;t=l?Te(o)?o(l):l.length:0,r=a||null,s=A(`${Sr}-textarea-counter`,{[`${Sr}-textarea-counter-exceed`]:t>r}),e=g.createElement("div",{className:s},t,r?"/":null,r)}else e=null;return e}render(){const e=this.props,{autosize:t,placeholder:r,onEnterPress:s,onResize:i,disabled:a,readonly:o,className:l,showCounter:u,validateStatus:d,maxCount:h,defaultValue:f,style:p,forwardRef:_,getValueLength:m,maxLength:v,minLength:y,showClear:b,borderless:w,autoFocus:E}=e,S=pme(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:C,value:O,minLength:I}=this.state,P=A(l,`${Sr}-textarea-wrapper`,{[`${Sr}-textarea-borderless`]:w,[`${Sr}-textarea-wrapper-disabled`]:a,[`${Sr}-textarea-wrapper-readonly`]:o,[`${Sr}-textarea-wrapper-${d}`]:!!d,[`${Sr}-textarea-wrapper-focus`]:C}),x=A(`${Sr}-textarea`,{[`${Sr}-textarea-disabled`]:a,[`${Sr}-textarea-readonly`]:o,[`${Sr}-textarea-autosize`]:Pa(t)?dt(t==null?void 0:t.maxRows):t,[`${Sr}-textarea-showClear`]:b}),D=Object.assign(Object.assign({},Ko(S,"insetLabel","insetLabelId","getValueLength","onClear","showClear","disabledEnterStartNewLine")),{autoFocus:E||this.props.autofocus,className:x,disabled:a,readOnly:o,placeholder:r||null,onChange:N=>this.foundation.handleChange(N.target.value,N),onFocus:N=>this.foundation.handleFocus(N),onBlur:N=>this.foundation.handleBlur(N.nativeEvent),onKeyDown:N=>this.foundation.handleKeyDown(N),value:O??""});return Te(m)||(D.maxLength=v),I&&(D.minLength=I),g.createElement("div",{className:P,style:p,onMouseEnter:N=>this.foundation.handleMouseEnter(N),onMouseLeave:N=>this.foundation.handleMouseLeave(N)},t?g.createElement(Oo,{onResize:this.throttledResizeTextarea},g.createElement("textarea",Object.assign({},D,{ref:this.setRef}))):g.createElement("textarea",Object.assign({},D,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}IT.propTypes={autosize:c.oneOfType([c.bool,c.object]),borderless:c.bool,placeholder:c.string,value:c.string,rows:c.number,cols:c.number,maxCount:c.number,onEnterPress:c.func,validateStatus:c.string,className:c.string,style:c.object,showClear:c.bool,onClear:c.func,onResize:c.func,getValueLength:c.func,disabledEnterStartNewLine:c.bool};IT.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:k,onChange:k,onBlur:k,onFocus:k,onKeyDown:k,onResize:k,onClear:k};const Rj=g.forwardRef((n,e)=>g.createElement(IT,Object.assign({},n,{forwardRef:e})));var gme=$2;function mme(n){return gme(n)&&n!=+n}var yme=mme;const vme=ge(yme),_me=(n,e)=>{const{isNaN:t}=Number;return t(n)&&t(e)},bme=Object.assign({},Gv),vl=Object.assign(Object.assign({},Cae),{DEFAULT_STEP:1,DEFAULT_SHIFT_STEP:10,DEFAULT_PRESS_TIMEOUT:250,DEFAULT_PRESS_INTERVAL:0,MOUSE_BUTTON_LEFT:0}),wme=Object.assign({},Go);function Eme(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=Math.pow(10,Math.max(t,r));return(n*s+e*s)/s}function rA(n,e){return Eme(n,-e)}class Sme extends Pe{init(){this._setInitValue()}destroy(){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}isControlled(){return this._isControlledComponent("value")}_doInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=e,i=e,a=!0;const o=this.isControlled();typeof e!="number"&&(i=this.doParse(e,!1),a=!isNaN(i)),a&&(s=i,o||this._adapter.setNumber(i)),o||this._adapter.setValue(e,r),this.getProp("keepFocus")&&this._adapter.setFocusing(!0,()=>{this._adapter.setClickUpOrDown(!0)}),this.notifyChange(s,t)}_registerInterval(e){const t=this.getProp("pressInterval")||vl.DEFAULT_PRESS_INTERVAL;this._intervalHasRegistered=!0,this._interval=setInterval(()=>{typeof e=="function"&&this._intervalHasRegistered&&e()},t)}_unregisterInterval(){this._interval&&(this._intervalHasRegistered=!1,clearInterval(this._interval),this._interval=null)}_registerTimer(e){const t=this.getProp("pressTimeout")||vl.DEFAULT_PRESS_TIMEOUT;this._timerHasRegistered=!0,this._timer=setTimeout(()=>{this._timerHasRegistered&&typeof e=="function"&&e()},t)}_unregisterTimer(){this._timer&&(this._timerHasRegistered=!1,clearTimeout(this._timer),this._timer=null)}handleInputFocus(e){this.getState("value"),this._adapter.recordCursorPosition(),this._adapter.setFocusing(!0,null),this._adapter.setClickUpOrDown(!1),this._adapter.notifyFocus(e)}handleInputChange(e,t){const r=this.doParse(e,!0,!0,!0),s=this.doParse(e,!1,!1,!1),i=this.afterParser(e);this._adapter.recordCursorPosition();let a,o=s,l=e;if(e==="")this.isControlled()||(o=null);else if(this.isValidNumber(s)&&this.isValidNumber(r))a=s,l=this.doFormat(s,!1);else{if(typeof s=="number"&&!isNaN(s)){l=this.doFormat(s,!1);const u=i.lastIndexOf("."),d=i.length-1-u,h=this._getPrecLen(s);if(h){if(h<d)for(let f=0;f<d-h;f++)l+="0"}else{const f=u>-1?i.slice(u):"";l+=f}o=s}else l=this.doFormat(i,!1);a=i}!this.isControlled()&&(o===null||typeof o=="number"&&!isNaN(o))&&this._adapter.setNumber(o),this._adapter.setValue(this.isControlled()?l:this.doFormat(i,!1),()=>{this._adapter.restoreCursor()}),this.notifyChange(a,t)}handleInputKeyDown(e){const t=e.keyCode;if(t===Nn.UP||t===Nn.DOWN){this._adapter.setClickUpOrDown(!0),this._adapter.recordCursorPosition();const r=t===Nn.UP?this.add(null,e):this.minus(null,e);this._doInput(r,e,()=>{this._adapter.restoreCursor()}),e.preventDefault()}this._adapter.notifyKeyDown(e)}handleInputBlur(e){const t=Tu(this.getState("value"));let r=this.getState("number");if(r!=null||t!=null&&t!==""){const s=this.doParse(t,!1,!0,!0);let i=!1,a=!1,o,l;this.isValidNumber(s)&&r!==s&&(o=s,this.isControlled()||(r=o),i=!0);const u=this.doFormat(r,!0);if(u!==t&&(l=u,a=!0),a||i){const d=l??o;l!=null&&this._adapter.setValue(l),o!=null&&(this._isControlledComponent("value")||this._adapter.setNumber(o)),this.notifyChange(d,e)}}this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputMouseEnter(e){this._adapter.setHovering(!0)}handleInputMouseLeave(e){this._adapter.setHovering(!1)}handleInputMouseMove(e){this._adapter.setHovering(!0)}handleMouseUp(e){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}handleUpClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.upClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.upClick(e)})}))}handleDownClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.downClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.downClick(e)})}))}_isMouseButtonLeft(e){return K(e,"button")===vl.MOUSE_BUTTON_LEFT}_preventDefault(e){const t=this._adapter.getProp("keepFocus"),r=this._adapter.getProp("innerButtons");(t||r)&&e.preventDefault()}handleMouseLeave(e){this._adapter.registerGlobalEvent("mouseup",()=>{this.handleMouseUp(e)})}upClick(e){const t=this.add(null,e);this._doInput(t,e),this._adapter.notifyUpClick(t,e)}downClick(e){const t=this.minus(null,e);this._doInput(t,e),this._adapter.notifyDownClick(t,e)}_setInitValue(){const{defaultValue:e,value:t}=this.getProps(),r=this._isControlledComponent("value")?t:e,s=this.doParse(Tu(r),!1,!0,!0);let i=null;typeof s=="number"&&!isNaN(s)&&(i=s);const a=typeof i=="number"?this.doFormat(i,!0):"";this._adapter.setNumber(i),this._adapter.setValue(a),Oe(a)&&a!==String(r??"")&&this.notifyChange(a,null)}add(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");e=e==null?s:Number(e);const i=Math.abs(Es(e)),a=this.getState("number");let o=this.toNumber(a)||0;const l=this.getProp("min"),u=this.getProp("max"),d=this._getPrecLen(l),h=this._getPrecLen(u),f=this._getPrecLen(o),p=this._getPrecLen(e),_=Math.pow(10,Math.max(d,h,f,p));return e<0?Math.abs(rA(l,o))>=i&&(o=(o*_+e*_)/_):e>0&&Math.abs(rA(u,o))>=i&&(o=(o*_+e*_)/_),typeof l=="number"&&l>o&&(o=l),typeof u=="number"&&u<o&&(o=u),this.doFormat(o,!0)}minus(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");return e=e==null?s:Number(e),this.add(-e,t)}_getPrecLen(e){typeof e!="string"&&(e=String(Math.abs(Number(e||""))));const t=e.indexOf(".")+1;return t?e.length-t:0}_adjustPrec(e){const t=this.getProp("precision");return typeof t=="number"&&e!==""&&e!==null&&!Number.isNaN(Number(e))&&(e=Number(e).toFixed(t)),Tu(e)}doFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r;const s=this.getProp("formatter");return t?r=this._adjustPrec(e):r=Tu(e),typeof s=="function"&&(r=s(r)),r}fetchMinOrMax(e){const{min:t,max:r}=this.getProps();return e<t?t:e>r?r:e}doParse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof e=="number")return s&&(e=this.fetchMinOrMax(e)),r&&(e=this._adjustPrec(e)),Es(e);const i=this.getProp("parser");if(typeof i=="function"&&(e=i(e)),t&&typeof e=="string"){const a=e.indexOf(".")===-1||e.indexOf(".")>-1&&(e==="0"||e.lastIndexOf("0")<e.length-1),o=e.lastIndexOf(".")<e.length-1&&e.split("").filter(l=>l===".").length<2;if(!a||!o)return NaN}return r&&(e=this._adjustPrec(e)),typeof e=="string"&&e.length?s?this.fetchMinOrMax(Es(e)):Es(e):NaN}afterParser(e){const t=this.getProp("parser");return Tu(typeof e=="string"&&typeof t=="function"?t(e):e)}toNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number")return e;if(typeof e=="string"){const r=this.getProp("parser");typeof r=="function"&&(e=r(e)),t&&(e=this._adjustPrec(e))}return Es(e)}isValidNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number"&&!isNaN(e)){const{min:r,max:s,precision:i}=this.getProps(),a=this._getPrecLen(e),o=t?typeof i=="number"&&a<=i||typeof i!="number":!0;if(e>=r&&e<=s&&o)return!0}return!1}isValidString(e){if(typeof e=="string"&&e.length){const t=this.doParse(e);return this.isValidNumber(t)}return!1}notifyChange(e,t){if(e==null||e==="")this._adapter.notifyChange("",t);else{const r=this.toNumber(e,!0);typeof r=="number"&&!isNaN(r)?(this._adapter.notifyChange(r,t),this.notifyNumberChange(r,t)):this._adapter.notifyChange(this.afterParser(e),t)}}notifyNumberChange(e,t){const{number:r}=this.getStates();this.isValidNumber(e)&&e!==r&&this._adapter.notifyNumberChange(e,t)}updateStates(e,t){this._adapter.updateStates(e,t)}}var Cme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class xy extends we{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setValue:(t,r)=>this.setState({value:t},r),setNumber:(t,r)=>this.setState({number:t},r),setFocusing:(t,r)=>this.setState({focusing:t},r),setHovering:t=>this.setState({hovering:t}),notifyChange:function(){return e.props.onChange(...arguments)},notifyNumberChange:function(){return e.props.onNumberChange(...arguments)},notifyBlur:t=>this.props.onBlur(t),notifyFocus:t=>this.props.onFocus(t),notifyUpClick:(t,r)=>this.props.onUpClick(t,r),notifyDownClick:(t,r)=>this.props.onDownClick(t,r),notifyKeyDown:t=>this.props.onKeyDown(t),registerGlobalEvent:(t,r)=>{t&&typeof r=="function"&&(this.adapter.unregisterGlobalEvent(t),this.adapter.setCache(t,r),document.addEventListener(t,r))},unregisterGlobalEvent:t=>{if(t){const r=this.adapter.getCache(t);document.removeEventListener(t,r),this.adapter.setCache(t,null)}},recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(t){console.warn(t)}},restoreByAfter:t=>{if(ct(t))return!1;const r=this.inputNode.value,s=r.lastIndexOf(t);return s===-1?!1:s+t.length===r.length?(this.adapter.fixCaret(s,s),!0):!1},restoreCursor:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.cursorAfter;return ct(t)?!1:Array.prototype.some.call(t,(r,s)=>{const i=t.substring(s);return e.adapter.restoreByAfter(i)})},fixCaret:(t,r)=>{if(!(t===void 0||r===void 0||!this.inputNode||!this.inputNode.value))try{const s=this.inputNode.selectionStart,i=this.inputNode.selectionEnd;(t!==s||r!==i)&&this.inputNode.setSelectionRange(t,r)}catch{}},setClickUpOrDown:t=>{this.clickUpOrDown=t},updateStates:(t,r)=>{this.setState(t,r)}})}constructor(e){super(e),this.setInputRef=t=>{const{forwardedRef:r}=this.props;this.inputNode=t,r&&typeof r=="object"?r.current=t:typeof r=="function"&&r(t)},this.handleInputFocus=t=>this.foundation.handleInputFocus(t),this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.handleInputBlur=t=>this.foundation.handleInputBlur(t),this.handleInputKeyDown=t=>this.foundation.handleInputKeyDown(t),this.handleInputMouseEnter=t=>this.foundation.handleInputMouseEnter(t),this.handleInputMouseLeave=t=>this.foundation.handleInputMouseLeave(t),this.handleInputMouseMove=t=>this.foundation.handleInputMouseMove(t),this.handleUpClick=t=>this.foundation.handleUpClick(t),this.handleDownClick=t=>this.foundation.handleDownClick(t),this.handleMouseUp=t=>this.foundation.handleMouseUp(t),this.handleMouseLeave=t=>this.foundation.handleMouseLeave(t),this.renderButtons=()=>{const{prefixCls:t,disabled:r,innerButtons:s,max:i,min:a}=this.props,{hovering:o,focusing:l,number:u}=this.state,d=r||u===i,h=r||u===a,f=A(`${t}-number-suffix-btns`,{[`${t}-number-suffix-btns-inner`]:s,[`${t}-number-suffix-btns-inner-hover`]:s&&o&&!l}),p=A(`${t}-number-button`,`${t}-number-button-up`,{[`${t}-number-button-up-disabled`]:r,[`${t}-number-button-up-not-allowed`]:d}),_=A(`${t}-number-button`,`${t}-number-button-down`,{[`${t}-number-button-down-disabled`]:r,[`${t}-number-button-down-not-allowed`]:h});return g.createElement("div",{className:f},g.createElement("span",{className:p,onMouseDown:d?k:this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},g.createElement(_ie,{size:"extra-small"})),g.createElement("span",{className:_,onMouseDown:h?k:this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},g.createElement(Bv,{size:"extra-small"})))},this.renderSuffix=()=>{const{innerButtons:t,suffix:r}=this.props,{hovering:s,focusing:i}=this.state;return t&&(s||i)?this.renderButtons():r},this.state={value:"",number:null,focusing:!!e.autofocus||!1,hovering:!1},this.inputNode=null,this.foundation=new Sme(this.adapter),this.clickUpOrDown=!1}componentDidUpdate(e){const{value:t,preventScroll:r}=this.props,{focusing:s}=this.state;let i;if(t!==e.value&&!_me(t,e.value)){if(ct(t)||t==="")i="",this.foundation.updateStates({value:i,number:null});else{let a=t;typeof t=="number"&&(a=this.foundation.doFormat(t));const o=this.foundation.doParse(a,!1,!0,!0),l=typeof t=="number"?t:this.foundation.doParse(a,!1,!1,!1);if(s)if(this.foundation.isValidNumber(o)&&o!==this.state.number){const u={number:o};this.clickUpOrDown&&(u.value=this.foundation.doFormat(u.number,!0),i=u.value),this.foundation.updateStates(u,()=>this.adapter.restoreCursor())}else vme(l)?this.foundation.updateStates({value:a}):(i=this.foundation.doFormat(l,!1),this.foundation.updateStates({value:i}));else this.foundation.isValidNumber(o)?(i=this.foundation.doFormat(o),this.foundation.updateStates({number:o,value:i})):(i="",this.foundation.updateStates({number:null,value:i}))}i&&Oe(i)&&i!==String(this.props.value)&&this.foundation.notifyChange(i,null)}this.clickUpOrDown&&this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:r})}render(){const e=this.props,{disabled:t,className:r,prefixCls:s,min:i,max:a,step:o,shiftStep:l,precision:u,formatter:d,parser:h,forwardedRef:f,onUpClick:p,onDownClick:_,pressInterval:m,pressTimeout:v,suffix:y,size:b,hideButtons:w,innerButtons:E,style:S,onNumberChange:C,keepFocus:O,defaultValue:I}=e,P=Cme(e,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue"]),{value:x,number:D}=this.state,N=A(r,`${s}-number`,{[`${s}-number-size-${b}`]:b}),L=this.renderButtons(),V={"aria-disabled":t,step:o};return D&&(V["aria-valuenow"]=D),a!==1/0&&(V["aria-valuemax"]=a),i!==-1/0&&(V["aria-valuemin"]=i),g.createElement("div",{className:N,style:S,onMouseMove:F=>this.handleInputMouseMove(F),onMouseEnter:F=>this.handleInputMouseEnter(F),onMouseLeave:F=>this.handleInputMouseLeave(F)},g.createElement(Zt,Object.assign({role:"spinbutton"},V,P,{size:b,disabled:t,ref:this.setInputRef,value:x,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),w||E?null:L)}}xy.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autofocus:c.bool,clearIcon:c.node,className:c.string,defaultValue:c.oneOfType([c.number,c.string]),disabled:c.bool,formatter:c.func,forwardedRef:c.any,hideButtons:c.bool,innerButtons:c.bool,insetLabel:c.node,insetLabelId:c.string,keepFocus:c.bool,max:c.number,min:c.number,parser:c.func,precision:c.number,prefixCls:c.string,pressInterval:c.number,pressTimeout:c.number,preventScroll:c.bool,shiftStep:c.number,step:c.number,style:c.object,suffix:c.any,value:c.oneOfType([c.number,c.string]),onBlur:c.func,onChange:c.func,onDownClick:c.func,onKeyDown:c.func,onNumberChange:c.func,onUpClick:c.func};xy.defaultProps={forwardedRef:k,innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:bme.PREFIX,pressInterval:vl.DEFAULT_PRESS_TIMEOUT,pressTimeout:vl.DEFAULT_PRESS_TIMEOUT,shiftStep:vl.DEFAULT_SHIFT_STEP,size:wme.DEFAULT_SIZE,step:vl.DEFAULT_STEP,onBlur:k,onChange:k,onDownClick:k,onFocus:k,onKeyDown:k,onNumberChange:k,onUpClick:k};const Tme=HF(g.forwardRef(function(e,t){return g.createElement(xy,Object.assign({},e,{forwardedRef:t}))}),xy),Ome={PREFIX:Y+"-overflow-list"},sA={COLLAPSE:"collapse",SCROLL:"scroll"},iA={START:"start",END:"end"},Ime={GROW:1},Rl={BOUNDARY_SET:Object.values(iA),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(sA),MODE_MAP:sA,BOUNDARY_MAP:iA,OVERFLOW_DIR:Ime},aA={MINIMUM_HTML_ELEMENT_WIDTH:4};class PT extends g.PureComponent{componentDidMount(){const{items:e}=this.props;this.cachedKeys=Object.keys(e);const{root:t,threshold:r,rootMargin:s,option:i,onIntersect:a}=this.props;this.observer=new IntersectionObserver(a,Object.assign({root:t,threshold:r,rootMargin:s},i)),this.observeElement()}componentDidUpdate(){const{items:e}=this.props,t=Object.keys(e);ke(this.cachedKeys,t)||(this.observeElement(!0),this.cachedKeys=t)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{items:t}=this.props;if(pt(t)){this.observer.disconnect();return}e&&this.observer.disconnect(),Object.keys(t).forEach(r=>{const s=t[r];s&&Ke(s)&&this.observer.observe(s)})}render(){const{children:e}=this.props;return e}}PT.propTypes={onIntersect:c.func,option:c.object,root:c.any,threshold:c.number,rootMargin:c.string,items:c.object};PT.defaultProps={onIntersect:()=>{},threshold:.75,rootMargin:"0px",option:{},items:{}};const Pme=Rl.BOUNDARY_MAP;class xme extends Pe{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{const{renderMode:t}=this.getProps();return t==="scroll"},this.getReversedItems=()=>{const{items:t}=this.getProps();return Da(t).reverse()}}getOverflowItem(){const{items:e}=this.getProps(),{visibleState:t,overflow:r}=this.getStates();if(!this.isScrollMode())return r;const s=e.map(l=>{let{key:u}=l;return!!t.get(u)}),i=s.indexOf(!0),a=s.lastIndexOf(!0),o=[];return o[0]=i>=0?e.slice(0,i):[],o[1]=a>=0?e.slice(a+1,e.length):e.slice(),o}handleIntersect(e){const t=Da(this.getState("visibleState")),r={};e.forEach(l=>{const u=K(l,"target.dataset.scrollkey"),d=l.isIntersecting;r[u]=l,t.set(u,d)});let s=!1;for(const l of t.values())if(l){s=!0;break}const i=s,[a]=e,o=a.boundingClientRect.y;if(!i&&this.previousY!==void 0&&o!==this.previousY){this.previousY=o;return}this.previousY=o,this._adapter.updateVisibleState(t),this._adapter.notifyIntersect(r)}handleCollapseOverflow(){const{minVisibleItems:e,collapseFrom:t}=this.getProps(),{overflowWidth:r,containerWidth:s,pivot:i,overflowStatus:a}=this.getStates(),{items:o,onOverflow:l}=this.getProps();let u=r,d=0,h=!1;for(const f of this._adapter.getItemSizeMap().values()){if(u+=f,u>s){h=!0;break}if(d===o.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:o.length-1,visible:o,overflow:[]});break}d++}if(h){const f=Math.max(e,d),p=t===Pme.START,_=p?this.getReversedItems().slice(0,f).reverse():o.slice(0,f),m=p?this.getReversedItems().slice(f).reverse():o.slice(f);this._adapter.updateStates({overflowStatus:"overflowed",pivot:f,visible:_,overflow:m}),i!==f&&l(m);return}}}const Kd=Ome.PREFIX,m0=Rl.BOUNDARY_MAP,oA=Rl.OVERFLOW_DIR,Wd=Rl.MODE_MAP;class Cf extends we{constructor(e){var t;super(e),t=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{const{renderMode:r}=this.props;return r===Wd.SCROLL},this.resize=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var s;const i=(s=r[0])===null||s===void 0?void 0:s.target.clientWidth;t.setState({containerWidth:i,overflowStatus:"calculating"})},this.reintersect=r=>{this.foundation.handleIntersect(r)},this.mergeRef=(r,s,i)=>{this.itemRefs[i]=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},this.renderOverflow=()=>{const r=this.foundation.getOverflowItem();return this.props.overflowRenderer(r)},this.getItemKey=(r,s)=>{const{itemKey:i}=this.props;return Te(i)?i(r):K(r,i||"key",s)},this.renderItemList=()=>{const{className:r,wrapperClassName:s,wrapperStyle:i,style:a,visibleItemRenderer:o,renderMode:l,collapseFrom:u}=this.props,{visible:d,overflowStatus:h}=this.state;let f=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(f)&&(f=g.createElement(g.Fragment,null,f)),g.isValidElement(f))){const m=g.cloneElement(f);f=g.createElement(Oo,{onResize:v=>{let[y]=v;this.setState({overflowWidth:y.target.clientWidth,overflowStatus:"calculating"})}},g.createElement("div",{className:`${Kd}-overflow`},m))}const p=l===Wd.SCROLL?(()=>{const m=[g.createElement("div",{className:A(s,`${Kd}-scroll-wrapper`),ref:v=>{this.scroller=v},style:Object.assign({},i),key:`${Kd}-scroll-wrapper`},d.map(o).map(v=>{const{forwardRef:y,key:b}=v;return g.cloneElement(v,{ref:w=>this.mergeRef(y,w,b),"data-scrollkey":`${b}`,key:b})}))];return this.props.overflowRenderDirection==="both"?(m.unshift(f[0]),m.push(f[1])):this.props.overflowRenderDirection==="start"?(m.unshift(f[1]),m.unshift(f[0])):(m.push(f[0]),m.push(f[1])),m})():[u===m0.START?f:null,d.map((m,v)=>{const{key:y}=m,b=o(m,v),w=g.cloneElement(b);return g.createElement(Oo,{key:y??v,onResize:E=>{let[S]=E;return this.onItemResize(S,m,v)}},g.createElement("div",{key:y??v,className:`${Kd}-item`},w))}),u===m0.END?f:null];return g.createElement("div",{className:A(`${Kd}`,r),style:Object.assign(Object.assign({},a),l===Wd.COLLAPSE?{maxWidth:"100%",visibility:h==="calculating"?"hidden":"visible"}:null)},...p)},this.onItemResize=(r,s,i)=>{const a=this.getItemKey(s,i),o=this.itemSizeMap.get(a);o?o!==r.target.clientWidth&&(this.itemSizeMap.set(a,r.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(a,r.target.clientWidth);const{maxCount:l}=this.state;this.itemSizeMap.size===l&&this.setState({overflowStatus:"calculating"})},this.state={direction:oA.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new xme(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,t){const{prevProps:r}=t,s={};s.prevProps=e;const i=a=>!r&&a in e||r&&!ke(r[a],e[a]);if(i("items")||i("style")){if(s.direction=oA.GROW,s.lastOverflowCount=0,s.maxCount=0,e.renderMode===Wd.SCROLL)s.visible=e.items,s.overflow=[];else{let a=e.items.length;Math.floor(t.containerWidth/aA.MINIMUM_HTML_ELEMENT_WIDTH)!==0&&(a=Math.min(a,Math.floor(t.containerWidth/aA.MINIMUM_HTML_ELEMENT_WIDTH)));const o=e.collapseFrom===m0.START,l=o?Da(e.items).reverse().slice(0,a):e.items.slice(0,a),u=o?Da(e.items).reverse().slice(a):e.items.slice(a);s.visible=l,s.overflow=u,s.maxCount=a}s.pivot=-1,s.overflowStatus="calculating"}return s}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e},()=>{var t,r;(r=(t=this.props).onVisibleStateChange)===null||r===void 0||r.call(t,e)})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,t){const r=e.items.map(u=>u.key),s=this.props.items.map(u=>u.key);ke(r,s)||(this.itemRefs={},this.setState({visibleState:new Map}));const{overflow:i,containerWidth:a,visible:o,overflowStatus:l}=this.state;this.isScrollMode()||l!=="calculating"||this.foundation.handleCollapseOverflow()}render(){const e=this.renderItemList(),{renderMode:t}=this.props;return t===Wd.SCROLL?g.createElement(PT,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):g.createElement(Oo,{onResize:this.resize},e)}}Cf.__SemiComponentName__="OverflowList";Cf.defaultProps=ds(Cf.__SemiComponentName__,{collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null,overflowRenderDirection:"both"});Cf.propTypes={className:c.string,collapseFrom:c.oneOf(Rl.BOUNDARY_SET),direction:c.oneOf(Rl.POSITION_SET),items:c.array,minVisibleItems:c.number,onIntersect:c.func,onOverflow:c.func,overflowRenderer:c.func,renderMode:c.oneOf(Rl.MODE_SET),style:c.object,threshold:c.number,visibleItemRenderer:c.func,wrapperClassName:c.string,wrapperStyle:c.object,collapseMask:c.object,overflowRenderDirection:c.string};const xT={PREFIX:`${Y}-select`,PREFIX_OPTION:`${Y}-select-option`,PREFIX_GROUP:`${Y}-select-group`},wa={SIZE_SET:["small","large","default"],POSITION_SET:Pl.POSITION_SET,STATUS:fd,SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_DROPDOWN:"dropdown"},Aj={LIST_HEIGHT:270};var lA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Rme extends Pe{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();const e=this.getProp("defaultOpen"),t=this.getProp("open"),r=this._collectOptions();this._setDefaultSelection(r),(e||t)&&this.open(void 0,r),this.getProp("autoFocus")&&this.focus()}focus(){const e=this._isFilterable(),t=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&t?this.focusInput():e&&!t?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&jt(e.width)||e&&Oe(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_collectOptions(){const e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:t}=this.getProps();const{defaultValue:r}=this.getProps();this._isControlledComponent()||(t=r),this._update(t,e)}handleOptionListChange(){const e=this._collectOptions(),{selections:t}=this.getStates();this.updateOptionsActiveStatus(t,e);const{defaultActiveFirstOption:r}=this.getProps();r&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){const e=this.getState("selections");let t;const{onChangeWithObject:r}=this.getProps(),s=this._isMultiple();switch(!0){case(s&&!!e.size):try{t=[...e].map(a=>r?a[1]:a[1].value)}catch{t=[]}break;case(s&&!e.size):t=[];break;case(!s&&!!e.size):try{t=r?[...e][0][1]:[...e][0][1].value}catch{}break;case(!s&&!e.size):break}const i=this._adapter.getOptionsFromChildren();this._update(t,i)}handleValueChange(e){const{allowCreate:t,autoClearSearchValue:r,remote:s}=this.getProps(),{inputValue:i}=this.getStates();let a;t&&this._isControlledComponent()?(a=this.getState("options"),a.forEach(o=>o._show=!0)):a=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!r&&i&&!s&&(a=this._filterOption(a,i)),this._update(e,a)}_update(e,t){let r;this._isMultiple()?(r=this._updateMultiple(e,t),this.updateOverflowItemCount(r.size)):r=this._updateSingle(e,t),this._adapter.updateSelection(r),this.updateOptionsActiveStatus(r,t)}_updateSingle(e,t){const r=new Map,{onChangeWithObject:s}=this.getProps(),i=s&&typeof e<"u"?e.value:e,a=t.filter(l=>l.value===i),o=!a.length&&typeof i<"u"&&i!==null;if(a.length){const l=a[0],u=Object.assign({},l);r.set(u.label,u)}else if(o){let l={value:e,label:e,_notExist:!0,_scrollIndex:-1};s&&(l=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),r.set(l.label,l)}return r}_updateMultiple(e,t){const r=this.getState("selections");let s=[];const i=Array.isArray(e);this.checkMultipleProps(),r.size&&(s=[...r].map(u=>u[1]));const a=new Map;let o=e;const{onChangeWithObject:l}=this.getProps();return l&&i&&(o=e.map(u=>u.value)),i&&o.length&&o.forEach((u,d)=>{const h=t.findIndex(f=>f.value===u);if(h!==-1)a.set(t[h].label,t[h]);else{const f=s.findIndex(p=>p.value===u);if(f!==-1){const p=s[f];if(l){const _=Object.assign({},e[d]);ke(_,p)?a.set(p.label,p):a.set(_.label,_)}else a.set(p.label,p)}else{let p={value:u,label:u,_notExist:!0};l&&(p=Object.assign(Object.assign({},e[d]),{_notExist:!0})),a.set(p.label,Object.assign(Object.assign({},p),{_scrollIndex:-1}))}}}),a}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(e){const{clickToHide:t}=this.getProps(),{isOpen:r}=this.getStates();this._isDisabled()||(r?r&&t?this.close({event:e}):r&&!t&&this.focusInput():(this.open(),this._notifyFocus(e)))}open(e,t){const r=this._isFilterable(),s=t||this.getState("options");if(r){const a=this._filterOption(s,"").filter(o=>!o._inputCreateOnly);this._adapter.updateOptions(a),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(()=>{const{searchPosition:i,autoFocus:a}=this.getProps();a&&i===wa.SEARCH_POSITION_DROPDOWN&&this._adapter.focusDropdownInput()}),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(i=>{this.close({event:i}),this._notifyBlur(i),this._adapter.updateFocusState(!1)})}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focusInput()):this._adapter.toggleInputShow(e,()=>{})}close(e){const{event:t,closeCb:r,notToggleInput:s}=e||{},{isFocus:i}=this.getStates();this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),i&&this._focusTrigger(),this._adapter.unregisterClickOutsideHandler();const a=this._isFilterable();a&&!s&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{a&&this.clearInput(t),r&&r()})}onSelect(e,t,r){if(this._isDisabled())return;e._inputCreateOnly&&this._adapter.notifyCreate(e),this._isMultiple()?this._handleMultipleSelect(e,r):this._handleSingleSelect(e,r),this._adapter.updateFocusIndex(t)}_handleSingleSelect(e,t){var{value:r,label:s}=e,i=lA(e,["value","label"]);const a=new Map().set(s,Object.assign({value:r,label:s},i));this._notifySelect(r,Object.assign({value:r,label:s},i));const o=this._isFilterable();this._isControlledComponent()?this.close({event:t,notToggleInput:!0,closeCb:()=>{this._notifyChange(a),o&&this.toggle2SearchInput(!1)}}):(this._adapter.updateSelection(a),this._notifyChange(a),this.close({event:t,closeCb:()=>{this.updateOptionsActiveStatus(a)}}))}_handleMultipleSelect(e,t){var{value:r,label:s}=e,i=lA(e,["value","label"]);const a=this._adapter.getMaxLimit(),o=this._adapter.getSelections(),{autoClearSearchValue:l}=this.getProps();if(o.has(s))this._notifyDeselect(r,Object.assign({value:r,label:s},i)),o.delete(s);else if(a&&o.size===a){this._adapter.notifyMaxLimit(Object.assign({value:r,label:s},Ko(i,"_scrollIndex")));return}else this._notifySelect(r,Object.assign({value:r,label:s},i)),o.set(s,Object.assign({value:r,label:s},i));if(this._isControlledComponent())this._notifyChange(o),this._isFilterable()&&(l&&this.clearInput(t),this.focusInput());else{this._adapter.updateSelection(o),this.updateOverflowItemCount(o.size),this._adapter.rePositionDropdown();let{options:u}=this.getStates();this._isFilterable()&&(l&&(this.clearInput(t),u=this._filterOption(u,"")),this.focusInput()),this.updateOptionsActiveStatus(o,u),this._notifyChange(o)}}clearSelected(){const e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());const{isOpen:t}=this.getStates();t&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getState("options");const{allowCreate:r}=this.getProps(),s=t.map(i=>(e.has(i.label)?(i._selected=!0,r&&delete i._inputCreateOnly):(i._inputCreateOnly&&(i._show=!1),i._selected=!1),i));this._adapter.updateOptions(s)}removeTag(e){const t=this._adapter.getSelections();t.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(t)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(t),this.updateOverflowItemCount(t.size),this.updateOptionsActiveStatus(t),this._adapter.rePositionDropdown(),this._notifyChange(t))}clearInput(e){const{inputValue:t}=this.getStates();if(t!==""){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);const{options:r}=this.getStates(),{remote:s}=this.getProps();let i=r;s||(i=this._filterOption(r,"")),this._adapter.updateOptions(i)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,t){this._adapter.updateInputValue(e);const{options:r,isOpen:s}=this.getStates(),{allowCreate:i,remote:a}=this.getProps();let o=r;a||(o=this._filterOption(r,e)),o=this._createOptionByInput(i,o,e),this._adapter.updateOptions(o),this._adapter.notifySearch(e,t),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,t){const r=this.getProp("filter");if(r){if(typeof r=="boolean"&&r){const s=t.toLowerCase();return e.map(i=>{const a=i.label.toString().toLowerCase(),o=i._parentGroup&&i._parentGroup.label,l=a.includes(s),u=Oe(o)&&o.toLowerCase().includes(s);return l||u?i._show=!0:i._show=!1,i})}else if(typeof r=="function")return e.map(s=>(r(t,s)?s._show=!0:s._show=!1,s))}else return e}_createOptionByInput(e,t,r){if(e)if(r){const s={_show:!0,_selected:!1,value:r,label:r,_inputCreateOnly:!0};let i=-1,a=-1;t.forEach((o,l)=>{!o._show&&!o._inputCreateOnly||(o.label===r&&(a=l),o._inputCreateOnly&&(i=l,o.value=r,o.label=r,o._show=!0))}),i===-1&&a===-1&&t.push(s),a!==-1&&(t=t.filter(o=>!o._inputCreateOnly))}else t=t.filter(s=>!s._inputCreateOnly);return t}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){const t=e.keyCode,{loading:r,filter:s,multiple:i,disabled:a}=this.getProps(),{isOpen:o}=this.getStates();if(!(r||a))switch(t){case Nn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Nn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Nn.BACKSPACE:this._handleBackspaceKeyDown();break;case Nn.ENTER:Xs(e),this._handleEnterKeyDown(e);break;case Nn.ESC:o&&this.close({event:e}),s&&!i&&this._focusTrigger();break;case Nn.TAB:this._handleTabKeyDown(e);break}}handleContainerKeyDown(e){const t=e.keyCode,{isOpen:r}=this.getStates();switch(t){case Nn.TAB:r&&this._handleTabKeyDown(e);break}}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(o=>o._show),i=s.length;let a=t+e;if(a<0&&(a=i-1),a>=i&&(a=0),e>0){let o=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){const{isOpen:t}=this.getStates();t?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){const{isOpen:t}=this.getStates();if(this._adapter.updateFocusState(!1),t){const r=this._adapter.getContainer(),s=this._adapter.getFocusableElements(r);s.length>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(s,e):this._handlePanelOpenTabKeyDown(s,e):(this.close({event:e}),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[e.length-1]&&(this._focusTrigger(),this.close({event:t}),Xs(t)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),Xs(t))}_handlePanelOpenShiftTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),Xs(t)):(this.close({event:t}),this._notifyBlur(t))}_handleEnterKeyDown(e){const{isOpen:t,options:r,focusIndex:s}=this.getStates();if(!t)this.open();else if(s!==-1){const i=r.filter(o=>o._show),{length:a}=i;if(a<=s)return;if(i&&a){const o=i[s];if(o.disabled)return;this.onSelect(o,s,e)}}else this.close({event:e})}_handleBackspaceKeyDown(){if(this._isMultiple()){const e=this._adapter.getSelections(),{inputValue:t}=this.getStates(),r=e.size;if(r&&!t){const s=[...e.keys()];let i=r-1,a=s[i],o=e.get(a),l=!1;if(o.disabled&&i===0)return;for(;o.disabled&&i!==0;)i=i-1,a=s[i],o=e.get(a),i==0&&o.disabled&&(l=!0);l||this.removeTag(o)}}}_notifyChange(e){const{onChangeWithObject:t}=this.getProps(),r=this.getState("selections");let s;const i=[...e.values()],a=this._isMultiple();if(this._diffSelections(e,r,a))switch(!0){case t:this._notifyChangeWithObject(e);break;case(!t&&!a):s=i.length?i[0].value:void 0,this._adapter.notifyChange(s);break;case(!t&&a):s=i.length?i.map(l=>l.value):[],this._adapter.notifyChange(s);break}}_removeInternalKey(e){let t=Object.assign({},e);return delete t._parentGroup,delete t._show,delete t._selected,delete t._scrollIndex,delete t._keyInJsx,"_keyInOptionList"in t&&(t.key=t._keyInOptionList,delete t._keyInOptionList),t}_notifySelect(e,t){const r=this._removeInternalKey(t);this._adapter.notifySelect(e,r)}_notifyDeselect(e,t){const r=this._removeInternalKey(t);this._adapter.notifyDeselect(e,r)}_diffSelections(e,t,r){let s=!0,i=!0;if(!r){const a=[...e.values()],o=[...t.values()],l=a[0]?a[0].value:a[0],u=o[0]?o[0].value:o[0];i=!ke(l,u);const d=a[0]?a[0].label:a[0],h=o[0]?o[0].label:o[0];s=!ke(d,h)}return i||s}_notifyChangeWithObject(e){this.getState("selections");const t=[];for(const r of e.entries()){let s=Object.assign({label:r[0]},r[1]);s=this._removeInternalKey(s),t.push(s)}this._isMultiple()?this._adapter.notifyChange(t):this._adapter.notifyChange(t[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){const{filter:t,searchPosition:r}=this.getProps();t&&r===wa.SEARCH_POSITION_TRIGGER&&this.clearInput(e),this.focus(),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===q1&&this.handleClick(e)}handleClearBtnEnterPress(e){$s(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){const{filter:t,autoFocus:r}=this.getProps(),{isOpen:s,isFocus:i}=this.getStates();i&&!s&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){const{filter:t,autoFocus:r}=this.getProps(),{showInput:s}=this.getStates(),i=this._isMultiple();t&&!i&&(s||r)&&this.toggle2SearchInput(!1)}selectAll(){const{options:e}=this.getStates(),{onChangeWithObject:t}=this.getProps();let r=[];if(!this._isMultiple()){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}t?r=e:r=e.map(i=>i.value),this.handleValueChange(r),this._adapter.notifyChange(r)}checkMultipleProps(e){if(this._isMultiple()){const t=e||this.getProps(),{defaultValue:r,value:s}=t,i=s||r;!ct(i)&&!Array.isArray(i)&&kt(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,t){const{maxTagCount:r,ellipsisTrigger:s}=this.getProps();s&&(t?this._adapter.updateOverflowItemCount(t):typeof r=="number"&&(e-r>0?this._adapter.updateOverflowItemCount(e-r):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){const{isFullTags:e}=this.getStates();e||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}const Gd=uF.PREFIX,Dj=vd.TAG_SIZE,Ame=vd.AVATAR_SHAPE;class Tf extends T.PureComponent{renderNTag(e,t){const{size:r,showPopover:s,popoverProps:i,onPlusNMouseEnter:a}=this.props;let o=g.createElement(Jt,{closable:!1,size:r,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:a},"+",e);return s&&(o=g.createElement(yr,Object.assign({showArrow:!0,content:t,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${Gd}-rest-group-popover`},i,{key:"_+n_Popover"}),o)),o}renderMergeTags(e){const{maxTagCount:t,tagList:r,restCount:s}=this.props,i=s||r.length-t;let a=e;const o=e.slice(0,t),l=e.slice(t);let u=null;return i>0&&(u=this.renderNTag(i,l),o.push(u),a=o),a}renderAllTags(){const{tagList:e,size:t,mode:r,avatarShape:s,onTagClose:i}=this.props;return e.map(o=>{if(r==="custom")return o;const l=Object.assign({},o);return l.size||(l.size=t),l.avatarShape||(l.avatarShape=s),l.tagKey||(typeof l.children=="string"||typeof l.children=="number"?l.tagKey=l.children:l.tagKey=Math.random()),g.createElement(Jt,Object.assign({},l,{key:l.tagKey,onClose:(u,d,h)=>{l.onClose&&l.onClose(u,d,h),i&&i(u,d,h)}}))})}render(){const{style:e,className:t,maxTagCount:r,size:s}=this.props,i=A({[`${Gd}-group`]:!0,[`${Gd}-group-max`]:r,[`${Gd}-group-small`]:s==="small",[`${Gd}-group-large`]:s==="large"},t),a=this.renderAllTags(),o=typeof r>"u"?a:this.renderMergeTags(a);return g.createElement("div",{style:e,className:i},o)}}Tf.defaultProps={style:{},className:"",size:Dj[0],avatarShape:"square",onTagClose:()=>{},onPlusNMouseEnter:()=>{}};Tf.propTypes={children:c.node,style:c.object,className:c.string,maxTagCount:c.number,restCount:c.number,tagList:c.array,size:c.oneOf(Dj),mode:c.string,onTagClose:c.func,showPopover:c.bool,popoverProps:c.object,avatarShape:c.oneOf(Ame)};var Dme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const uA=(n,e,t,r)=>{const s=n.props;if(!n||!s)return null;const i=Object.assign(Object.assign({value:s.value,label:s.label||s.children||s.value,_show:!0,_selected:!1,_scrollIndex:t},s),{_parentGroup:e});return i._keyInJsx=r||n.key,i},kme=n=>{let e=[],t=[];const r={label:"",children:[],_show:!1};let s=g.Children.toArray(n);s=s.filter(o=>o&&o.props);let i="",a=-1;return s.forEach(o=>{if(o.type.isSelectOption){i="option",a++;const l=uA(o,void 0,a);r.children.push(l),t.push(l)}else if(o.type.isSelectOptionGroup){i="group";let l=o.props,{children:u}=l,d=Dme(l,["children"]),h=[];Array.isArray(u)?h=u.map(_=>_.key):h.push(u.key),u=g.Children.toArray(u);const f=u.map((_,m)=>{let v=_.key;return h[m]===null&&(v=o.key+""+_.key),a++,uA(_,d,a,v)}),p=Object.assign(Object.assign({},o.props),{children:f,key:o.key});e.push(p),t=t.concat(f)}else kt(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),i==="option"&&(e=[r]),{optionGroups:e,options:t}},kj=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,a=s[e];return i(a,e,r)};var cA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Al extends T.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,a=cA(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:r,label:s||i}),t)}renderOptionContent(e){let{config:t,children:r,inputValue:s,prefixCls:i}=e;return Oe(r)&&s?g.createElement(yp,{searchWords:t.searchWords,sourceString:t.sourceString,highlightClassName:t.highlightClassName}):r}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:a,empty:o,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:p,onMouseEnter:_,prefixCls:m,renderOptionItem:v,inputValue:y,semiOptionId:b}=e,w=cA(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),E=A(m,{[`${m}-disabled`]:r,[`${m}-selected`]:i,[`${m}-focused`]:d,[`${m}-empty`]:o,[f]:f}),S=A([`${m}-icon`]);if(o)return l===null?null:g.createElement(dn,{componentName:"Select"},O=>g.createElement("div",{className:E,"x-semi-prop":"emptyContent"},l||O.emptyText));if(typeof v=="function"){const O=A(f,{[`${m}-custom`]:!0,[`${m}-custom-selected`]:i});return v(Object.assign({disabled:r,focused:d,selected:i,style:p,label:a,value:s,inputValue:y,onMouseEnter:I=>_(I),onClick:I=>this.onClick(Object.assign({value:s,label:a,children:t},w),I),className:O},w))}const C={searchWords:[y],sourceString:t,highlightClassName:`${m}-keyword`};return g.createElement("div",Object.assign({className:E,onClick:O=>{this.onClick(Object.assign({value:s,label:a,children:t},w),O)},onMouseEnter:O=>_&&_(O),role:"option",id:b,"aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:p},hf(w)),h?g.createElement("div",{className:S},g.createElement(zv,null)):null,Oe(t)?g.createElement("div",{className:`${m}-text`},this.renderOptionContent({children:t,config:C,inputValue:y,prefixCls:m})):t)}}Al.isSelectOption=!0;Al.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};Al.defaultProps={prefixCls:xT.PREFIX_OPTION};var Nme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const $me=xT.PREFIX_GROUP;class d_ extends we{render(){const e=this.props,{label:t,className:r,style:s}=e,i=Nme(e,["label","className","style"]),a=A(r,{[$me]:!0});return!t&&typeof t!="number"?null:g.createElement("div",Object.assign({className:a,style:s},this.getDataAttr(i)),t)}}d_.isSelectOptionGroup=!0;d_.propTypes={children:c.oneOfType([c.array,c.node]),label:c.node,className:c.string,style:c.object};var Lme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ae=xT.PREFIX,Mme=0;class Ls extends we{constructor(e){super(e),this.setOptionContainerEl=t=>this.optionContainerEl={current:t},this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.getTagItem=(t,r,s)=>{const{size:i,disabled:a}=this.props,o=t[0],{value:l}=t[1],u=t[1].disabled||a,d=(_,m)=>{m&&typeof m.preventDefault=="function"&&m.preventDefault(),this.foundation.removeTag({label:o,value:l})},{content:h,isRenderInTag:f}=s(t[1],{index:r,disabled:u,onClose:d}),p={disabled:u,closable:!u,onClose:d};return f?g.createElement(Jt,Object.assign({},p,{color:"white",size:i||"large",key:l,tabIndex:-1}),h):g.createElement(T.Fragment,{key:l},h)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:Mme,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=g.createRef(),this.inputRef=g.createRef(),this.dropdownInputRef=g.createRef(),this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.optionContainerEl=g.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new YM,this.foundation=new Rme(this.adapter)}get adapter(){var e=this;const t={registerKeyDown:i=>{const a={onKeyDown:i};this.setState({keyboardEventSet:a})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:i=>{this.setState({focusIndex:i})},scrollToFocusOption:()=>{}},r={updateInputValue:i=>{this.setState({inputValue:i})},toggleInputShow:(i,a)=>{this.setState({showInput:i},()=>{a()})},focusInput:()=>{const{preventScroll:i}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:i})},focusDropdownInput:()=>{const{preventScroll:i}=this.props;this.dropdownInputRef&&this.dropdownInputRef.current&&this.dropdownInputRef.current.focus({preventScroll:i})}},s={notifyMaxLimit:i=>this.props.onExceed(i),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:i=>{const a=o=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=Pr.findDOMNode(l),h=o.target,f=o.composedPath&&o.composedPath()||[h];!(d&&d.contains(h))&&!(u&&u.contains(h))&&!(f.includes(u)||f.includes(d))&&i(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:i}=this.state;i=i+1,this.setState({optionKey:i})},notifyDeselect:(i,a)=>{delete a._parentGroup,this.props.onDeselect(i,a)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{on:(i,a)=>this.eventManager.on(i,a),off:i=>this.eventManager.off(i),once:(i,a)=>this.eventManager.once(i,a),emit:i=>this.eventManager.emit(i),getOptionsFromChildren:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.props.children,a=[],o=[];const{optionList:l}=e.props;if(l&&l.length)o=l.map((u,d)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:d},u)),a[0]={children:o,label:""};else{const u=kme(i);a=u.optionGroups,o=u.options}return e.setState({optionGroups:a}),o},updateOptions:i=>{this.setState({options:i})},openMenu:i=>{this.setState({isOpen:!0},()=>{i==null||i()})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},updateSelection:i=>{this.setState({selections:i})},getSelections:()=>new Map(this.state.selections),notifyChange:i=>{this.props.onChange(i)},notifySelect:(i,a)=>{delete a._parentGroup,this.props.onSelect(i,a)},notifyDropdownVisibleChange:i=>{this.props.onDropdownVisibleChange(i)},notifySearch:(i,a)=>{this.props.onSearch(i,a)},notifyCreate:i=>{this.props.onCreate(i)},notifyMouseEnter:i=>{this.props.onMouseEnter(i)},notifyMouseLeave:i=>{this.props.onMouseLeave(i)},notifyFocus:i=>{this.props.onFocus(i)},notifyBlur:i=>{this.props.onBlur(i)},notifyClear:()=>{this.props.onClear()},notifyListScroll:i=>{this.props.onListScroll(i)},updateHovering:i=>{this.setState({isHovering:i})},updateFocusState:i=>{this.setState({isFocus:i})},updateOverflowItemCount:i=>{this.setState({overflowItemCount:i})},focusTrigger:()=>{try{const{preventScroll:i}=this.props;this.triggerRef.current.focus({preventScroll:i})}catch{}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:i=>JM(i),getActiveElement:()=>ZM(),setIsFocusInContainer:i=>{this.setState({isFocusInContainer:i})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:i=>{let a;"renderOptionItem"in this.props?(a=`.${ae}-option-custom-selected`,i!==void 0&&(a=`.${ae}-option-custom:nth-child(${i+1})`)):(a=`.${ae}-option-selected`,i!==void 0&&(a=`.${ae}-option:nth-child(${i+1})`));let o=document.querySelector(`#${ae}-${this.selectOptionListID} ${a}`);if(Array.isArray(o)&&(o=o[0]),o){const l=o.parentNode;l.scrollTop=o.offsetTop-l.offsetTop-l.clientHeight/2+o.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=xa(),this.selectID=this.props.id||xa()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){const r=g.Children.toArray(e.children).map(a=>a.key),s=g.Children.toArray(this.props.children).map(a=>a.key);let i=!1;(!ke(r,s)||!ke(e.optionList,this.props.optionList))&&(i=!0,this.foundation.handleOptionListChange()),(!ke(this.props.value,e.value)||i)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderTriggerInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i}=this.props,a=K(s,"className"),o=A(`${ae}-input`,{[`${ae}-input-single`]:!t,[`${ae}-input-multiple`]:t},a),{inputValue:l,focusIndex:u}=this.state,d=Object.assign({value:l,disabled:r,className:o,onChange:this.handleInputChange},s);let h={};return t&&(h={width:l?`${l.length*16}px`:"2px"},d.style=h),g.createElement(Zt,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:"",onFocus:f=>{t&&i&&this.setState({isFocus:!0}),f.stopPropagation()},onBlur:f=>this.foundation.handleInputBlur(f)},d))}renderDropdownInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i,searchPosition:a,searchPlaceholder:o}=this.props,{inputValue:l,focusIndex:u}=this.state,d=A(`${ae}-dropdown-search-wrapper`,{}),h=K(s,"className"),f=A(`${ae}-dropdown-input`,{[`${ae}-dropdown-input-single`]:!t,[`${ae}-dropdown-input-multiple`]:t},h),p=Object.assign(Object.assign({value:l,disabled:r,className:f,onChange:this.handleInputChange,placeholder:o,showClear:!0},s),{onKeyDown:_=>this.foundation._handleKeyDown(_)});return g.createElement("div",{className:d},g.createElement(Zt,Object.assign({ref:this.dropdownInputRef,prefix:g.createElement(P2,null),"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:""},p)))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,t,r){this.foundation.onSelect(e,t,r)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,t){this.handleInputChange(e,t)}renderEmpty(){return g.createElement(Al,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){const e=`${ae}-loading-wrapper`;return g.createElement("div",{className:e},g.createElement(qi,null))}renderOption(e,t,r){const{focusIndex:s,inputValue:i}=this.state,{renderOptionItem:a}=this.props;let o;const l=t===s;let u=r||{};return e.style&&(u=Object.assign(Object.assign({},u),e.style)),e._inputCreateOnly?o=this.renderCreateOption(e,l,t,r):("key"in e&&(e._keyInOptionList=e.key),o=g.createElement(Al,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(d,h)=>this.onSelect(d,t,h),focused:l,onMouseEnter:()=>this.onOptionHover(t),style:u,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+t,renderOptionItem:a,inputValue:i,semiOptionId:`${this.selectID}-option-${t}`}),e.label)),o}renderCreateOption(e,t,r,s){const{renderCreateItem:i}=this.props;if(typeof i>"u")return g.createElement(Al,Object.assign({key:e.key||e.label+e.value,onSelect:(l,u)=>this.onSelect(l,r,u),onMouseEnter:()=>this.onOptionHover(r),showTick:!0},e,{focused:t,style:s}),g.createElement(dn,{componentName:"Select"},l=>g.createElement(g.Fragment,null,g.createElement("span",{className:`${ae}-create-tips`},l.createText),e.value)));const a=i(e.value,t,s);return g.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:o=>this.onSelect(e,r,o),key:e.key||e.label},a)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){const t=[],r=new Map;return e.forEach((s,i)=>{const a=s._parentGroup,o=this.renderOption(s,i);if(a&&!r.has(a.label)){const l=g.createElement(d_,Object.assign({},a,{key:a.label}));r.set(a.label,!0),t.push(l)}t.push(o)}),t}renderVirtualizeList(e){const{virtualize:t}=this.props,{direction:r}=this.context,{height:s,width:i,itemSize:a}=t;return g.createElement(iT,{ref:this.virtualizeListRef,height:s||Aj.LIST_HEIGHT,itemCount:e.length,itemSize:a,itemData:{visibleOptions:e,renderOption:this.renderOption},width:i||"100%",style:{direction:r}},kj)}renderOptions(e){const{dropdownMinWidth:t,options:r,selections:s}=this.state,{maxHeight:i,dropdownClassName:a,dropdownStyle:o,outerTopSlot:l,innerTopSlot:u,outerBottomSlot:d,innerBottomSlot:h,loading:f,virtualize:p,multiple:_,emptyContent:m,searchPosition:v,filter:y}=this.props,b=r.filter(O=>O._show);let w=this.renderWithGroup(b);p&&(w=this.renderVirtualizeList(b));const E=Object.assign({minWidth:t},o),S=A({[`${ae}-option-list`]:!0,[`${ae}-option-list-chosen`]:s.size}),C=!r.length||!r.some(O=>O._show);return g.createElement("div",{id:`${ae}-${this.selectOptionListID}`,className:A({[`${ae}-option-list-wrapper`]:!(C&&m===null)},a),style:E,ref:this.setOptionContainerEl,onKeyDown:O=>this.foundation.handleContainerKeyDown(O)},l?g.createElement("div",{className:`${ae}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},l):null,v===wa.SEARCH_POSITION_DROPDOWN&&y?this.renderDropdownInput():null,g.createElement("div",{style:{maxHeight:`${i}px`},className:S,role:"listbox","aria-multiselectable":_,onScroll:O=>this.foundation.handleListScroll(O)},u?g.createElement("div",{className:`${ae}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},u):null,f?this.renderLoading():C?this.renderEmpty():w,h?g.createElement("div",{className:`${ae}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},h):null),d?g.createElement("div",{className:`${ae}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},d):null)}renderSingleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i}=this.props,{showInput:a,inputValue:o}=this.state;let l="";const u=[...e];if(typeof r>"u"&&(r=p=>p.label),u.length){const p=u[0][1];l=r(p)}const d=s===wa.SEARCH_POSITION_TRIGGER,h=A({[`${ae}-selection-text`]:!0,[`${ae}-selection-placeholder`]:!l&&l!==0,[`${ae}-selection-text-hide`]:o&&a&&d,[`${ae}-selection-text-inactive`]:!o&&a&&d}),f=`${ae}-content-wrapper`;return g.createElement(g.Fragment,null,g.createElement("div",{className:f},g.createElement("span",{className:h,"x-semi-prop":"placeholder"},l||l===0?l:i),t&&a&&d?this.renderTriggerInput():null))}renderTag(e,t,r){const{size:s,disabled:i}=this.props;let{renderSelectedItem:a}=this.props;const o=e[0],{value:l}=e[1],u=e[1].disabled||i,d=(m,v)=>{v&&typeof v.preventDefault=="function"&&v.preventDefault(),this.foundation.removeTag({label:o,value:l})};typeof a>"u"&&(a=m=>({isRenderInTag:!0,content:m.label}));const{content:h,isRenderInTag:f}=a(e[1],{index:t,disabled:u,onClose:d}),p={disabled:u,closable:!u,onClose:d},_=r&&!Te(this.props.renderSelectedItem)?g.createElement(Kv,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},h):h;return f?g.createElement(Jt,Object.assign({},p,{color:"white",size:s||"large",key:l,style:{maxWidth:"100%"}}),_):g.createElement(T.Fragment,{key:l},_)}renderNTag(e,t){const{size:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props;let a=g.createElement(Jt,{closable:!1,size:r||"large",color:"grey",className:`${ae}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return s&&(a=g.createElement(yr,Object.assign({showArrow:!0,content:g.createElement(Vi,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},t.map((o,l)=>this.renderTag(o,l))),trigger:"hover",position:"top",autoAdjustOverflow:!0},i,{key:`_+${e}_Popover`}),a)),a}renderOverflow(e,t){return e.length&&e[0]?this.renderTag(e[0],t,!0):null}handleOverflow(e){const{overflowItemCount:t,selections:r}=this.state,{maxTagCount:s}=this.props,i=r.size-s>0?r.size-s+e.length-1:e.length-1;t!==i&&this.foundation.updateOverflowItemCount(r.size,i)}renderCollapsedTags(e,t){const{overflowItemCount:r}=this.state,s=typeof t=="number"?e.slice(0,t):e;return g.createElement("div",{className:`${ae}-content-wrapper-collapse`},g.createElement(Cf,{items:s,key:String(e.length),overflowRenderer:i=>this.renderOverflow(i,t-1),onOverflow:i=>this.handleOverflow(i),visibleItemRenderer:(i,a)=>this.renderTag(i,a)}),r>0&&this.renderNTag(r,e.slice(e.length-r)))}renderOneLineTags(e,t){let{renderSelectedItem:r}=this.props;const{showRestTagsPopover:s,restTagsPopoverProps:i,maxTagCount:a}=this.props,{isFullTags:o}=this.state;let l;if(typeof r>"u"&&(r=u=>({isRenderInTag:!0,content:u.label})),s){const d=(o?e:e.slice(0,a)).map((h,f)=>this.getTagItem(h,f,r));l=g.createElement(Tf,{tagList:d,maxTagCount:t,restCount:o?void 0:e.length-a,size:"large",mode:"custom",showPopover:s,popoverProps:i,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{const d=e.slice(0,a).map((h,f)=>this.getTagItem(h,f,r));l=g.createElement(Tf,{tagList:d,maxTagCount:t,restCount:e.length-a,size:"large",mode:"custom"})}return l}renderMultipleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i,maxTagCount:a,expandRestTagsOnClick:o,ellipsisTrigger:l}=this.props,{inputValue:u,isOpen:d}=this.state,h=[...e];typeof r>"u"&&(r=E=>({isRenderInTag:!0,content:E.label}));const f=A({[`${ae}-content-wrapper`]:!0,[`${ae}-content-wrapper-one-line`]:a&&!d,[`${ae}-content-wrapper-empty`]:!h.length}),p=A({[`${ae}-selection-text`]:!0,[`${ae}-selection-placeholder`]:!h.length,[`${ae}-selection-text-hide`]:h&&h.length}),_=i&&!u?g.createElement("span",{className:p},i):null,m=h.length>a?a:void 0,v=!a,y=l?this.renderCollapsedTags(h,m):this.renderOneLineTags(h,m),b=v||o&&d?h.map((E,S)=>this.renderTag(E,S)):y,w=t&&s===wa.SEARCH_POSITION_TRIGGER;return g.createElement(g.Fragment,null,g.createElement("div",{className:f},h&&h.length?b:_,w?this.renderTriggerInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){const{virtualize:t}=this.props,{selections:r}=this.state;if(e)if(t){let s=-1;if(r.forEach(i=>{const a=K(i,"_scrollIndex");jt(a)&&a>=0&&(s=s!==-1&&s<a?s:a)}),s!==-1)try{this.virtualizeListRef.current.scrollToItem(s,"center")}catch{}}else this.foundation.updateScrollTop()}renderSuffix(){const{suffix:e}=this.props,t=A({[`${ae}-suffix`]:!0,[`${ae}-suffix-text`]:e&&Oe(e),[`${ae}-suffix-icon`]:dr(e)});return g.createElement("div",{className:t,"x-semi-prop":"suffix"},e)}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t,i=A({[`${ae}-prefix`]:!0,[`${ae}-inset-label`]:t,[`${ae}-prefix-text`]:s&&Oe(s),[`${ae}-prefix-icon`]:dr(s)});return g.createElement("div",{className:i,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSelection(){const e=this.props,{disabled:t,multiple:r,filter:s,style:i,id:a,size:o,className:l,validateStatus:u,showArrow:d,suffix:h,prefix:f,insetLabel:p,placeholder:_,triggerRender:m,arrowIcon:v,clearIcon:y,borderless:b}=e,w=Lme(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:E,isOpen:S,keyboardEventSet:C,inputValue:O,isHovering:I,isFocus:P,showInput:x,focusIndex:D}=this.state,N=typeof m=="function",L=!!s,V=N?A(l):A(ae,l,{[`${ae}-borderless`]:b,[`${ae}-open`]:S,[`${ae}-focus`]:P,[`${ae}-disabled`]:t,[`${ae}-single`]:!r,[`${ae}-multiple`]:r,[`${ae}-filterable`]:L,[`${ae}-small`]:o==="small",[`${ae}-large`]:o==="large",[`${ae}-error`]:u==="error",[`${ae}-warning`]:u==="warning",[`${ae}-no-arrow`]:!d,[`${ae}-with-prefix`]:f||p,[`${ae}-with-suffix`]:h}),B=this.props.showClear&&(E.size||O)&&!t&&(I||S),F=d?g.createElement("div",{className:`${ae}-arrow`,"x-semi-prop":"arrowIcon"},v):g.createElement("div",{className:`${ae}-arrow-empty`}),W=y||g.createElement(Wo,null),$=N?g.createElement(fu,{value:Array.from(E.values()),inputValue:O,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:M=>this.foundation.removeTag(M),onClear:this.onClear,disabled:t,triggerRender:m,placeholder:_,componentName:"Select",componentProps:Object.assign({},this.props)}):[g.createElement(T.Fragment,{key:"prefix"},f||p?this.renderPrefix():null),g.createElement(T.Fragment,{key:"selection"},g.createElement("div",{className:A(`${ae}-selection`)},r?this.renderMultipleSelection(E,L):this.renderSingleSelection(E,L))),g.createElement(T.Fragment,{key:"suffix"},h?this.renderSuffix():null),g.createElement(T.Fragment,{key:"clearicon"},B?g.createElement("div",{className:A(`${ae}-clear`),onClick:this.onClear},W):F)],j=t||L&&x||L&&r?-1:0;return g.createElement("div",Object.assign({role:"combobox","aria-disabled":t,"aria-expanded":S,"aria-controls":`${ae}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":E.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:V,ref:M=>this.triggerRef.current=M,onClick:M=>this.foundation.handleClick(M),style:i,id:this.selectID,tabIndex:j,"aria-activedescendant":D!==-1?`${this.selectID}-option-${D}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:M=>this.foundation.handleTriggerFocus(M),onBlur:M=>this.foundation.handleTriggerBlur(M),onKeyPress:this.onKeyPress},C,this.getDataAttr(w)),$)}render(){const{direction:e}=this.context,t=e==="rtl"?"bottomRight":"bottomLeft",{children:r,position:s=t,zIndex:i,getPopupContainer:a,motion:o,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,spacing:h,stopPropagation:f,dropdownMargin:p}=this.props,{isOpen:_,optionKey:m}=this.state,v=this.renderSelection();return g.createElement(yr,{getPopupContainer:a,motion:o,margin:p,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,zIndex:i,ref:this.optionsRef,content:()=>this.renderOptions(r),visible:_,trigger:"custom",rePosKey:m,position:s,spacing:h,stopPropagation:f,disableArrowKeyDown:!0,onVisibleChange:y=>this.handlePopoverVisibleChange(y),afterClose:()=>this.foundation.handlePopoverClose()},v)}}Ls.contextType=kr;Ls.Option=Al;Ls.OptGroup=d_;Ls.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoClearSearchValue:c.bool,borderless:c.bool,children:c.node,clearIcon:c.node,defaultValue:c.oneOfType([c.string,c.number,c.array,c.object]),ellipsisTrigger:c.bool,value:c.oneOfType([c.string,c.number,c.array,c.object]),placeholder:c.node,onChange:c.func,multiple:c.bool,filter:c.oneOfType([c.func,c.bool]),max:c.number,maxTagCount:c.number,maxHeight:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,size:c.oneOf(wa.SIZE_SET),disabled:c.bool,emptyContent:c.node,expandRestTagsOnClick:c.bool,onDropdownVisibleChange:c.func,zIndex:c.number,position:c.oneOf(wa.POSITION_SET),onSearch:c.func,getPopupContainer:c.func,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),outerTopSlot:c.node,innerTopSlot:c.node,inputProps:c.object,outerBottomSlot:c.node,innerBottomSlot:c.node,optionList:c.array,dropdownMatchSelectWidth:c.bool,loading:c.bool,defaultOpen:c.bool,validateStatus:c.oneOf(wa.STATUS),defaultActiveFirstOption:c.bool,triggerRender:c.func,stopPropagation:c.bool,searchPosition:c.string,motion:c.bool,onChangeWithObject:c.bool,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,showClear:c.bool,showArrow:c.bool,renderSelectedItem:c.func,allowCreate:c.bool,renderCreateItem:c.func,onMouseEnter:c.func,onMouseLeave:c.func,clickToHide:c.bool,onExceed:c.func,onCreate:c.func,remote:c.bool,onDeselect:c.func,onSelect:c.func,autoAdjustOverflow:c.bool,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,spacing:c.oneOfType([c.number,c.object]),onBlur:c.func,onFocus:c.func,onClear:c.func,virtualize:c.object,renderOptionItem:c.func,onListScroll:c.func,arrowIcon:c.node,preventScroll:c.bool};Ls.__SemiComponentName__="Select";Ls.defaultProps=ds(Ls.__SemiComponentName__,{stopPropagation:!0,motion:!0,borderless:!1,zIndex:is.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:k,onChangeWithObject:!1,onChange:k,onSearch:k,onMouseEnter:k,onMouseLeave:k,onDeselect:k,onSelect:k,onCreate:k,onExceed:k,onFocus:k,onBlur:k,onClear:k,onListScroll:k,maxHeight:Aj.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,searchPosition:wa.SEARCH_POSITION_TRIGGER,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:g.createElement(Bv,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1});const Fme={PREFIX:`${Y}-progress`},Ir={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};function jme(n,e,t){try{const r=Vme(n,e,t);if(r.length!==0)return r}catch{return}}function Vme(n,e,t){if(n.sort((s,i)=>s.percent-i.percent),n[0].percent>e)return Ir.STROKE_DEFAULT;const r=n[n.length-1];if(r.percent<e)return Yd(r.color);for(const[s,i]of n.entries()){if(i.percent===e)return Yd(i.color);if(e>i.percent)continue;const a=n[s-1];return t?Ume({startColor:Yd(a.color),endColor:Yd(i.color),size:i.percent-a.percent-1},e-a.percent-1):Yd(a.color)}}function Ume(n,e){const{startColor:t,endColor:r,size:s}=n,i=t.split(""),a=r.split(""),o=[parseInt(`${i[1]}${i[2]}`,16),parseInt(`${a[1]}${a[2]}`,16)],l=[parseInt(`${i[3]}${i[4]}`,16),parseInt(`${a[3]}${a[4]}`,16)],u=[parseInt(`${i[5]}${i[6]}`,16),parseInt(`${a[5]}${a[6]}`,16)],d=[parseInt(`${i[7]}${i[8]}`,16),parseInt(`${a[7]}${a[8]}`,16)],h=(o[0]-o[1])/(s+1),f=(l[0]-l[1])/(s+1),p=(u[0]-u[1])/(s+1),_=(d[0]-d[1])/(s+1);function m(y){const b=Math.round(o[0]-h*(y+1)).toString(16),w=Math.round(l[0]-f*(y+1)).toString(16),E=Math.round(u[0]-p*(y+1)).toString(16),S=`${v(b)}${v(w)}${v(E)}`,C=Math.floor(_*(y+1)+d[1]).toString(16);return ms.Hex(`#${S}`,C)}function v(y){return y.length===1?`0${y}`:y.length===0?"00":y}if(typeof e>"u"){const y=[t];for(let b=0;b<s;b+=1)y.push(m(b));return y}return m(e)}function Yd(n){if(n=n.trim().toLowerCase(),oc.hex.test(n))return ms.Hex(n,void 0);if(oc.hslA.test(n))return ms.Hex(ms.HslA(n),void 0);if(oc.rgbA.test(n))return ms.Hex(ms.RgbA(n),void 0);if(oc.semiDesignTokens.test(n))return dA.ALONG.indexOf(n)!==-1?ms.SemiDesignToken(n):dA.SEQUENCE.indexOf(n)!==-1?ms.SemiDesignToken(`${n}-5`):ms.SemiDesignToken(`${n}`)}const ms={Hex(n,e){return n=n.replace("#",""),n.length===8?`#${n}`:n.length===6?`#${n}${e||"ff"}`:(n.length===3&&(n=n.split("").map(t=>t+t).join("")),`#${n}${e||"ff"}`)},SemiDesignToken(n){if(typeof window>"u")return;const e=getComputedStyle(document.body).getPropertyValue(`--semi-${n}`);if(e==="")return;const t=`rgba(${e}, 1)`;return ms.RgbA(t)},HslA(n){const e=oc.hslA.exec(n),t=parseInt(e[2]),r=parseInt(e[3])/100,s=parseInt(e[4])/100,i=e[5],a=(1-Math.abs(2*s-1))*r,o=a*(1-Math.abs(t/60%2-1)),l=s-a/2;let u=0,d=0,h=0;return 0<=t&&t<60?(u=a,d=o,h=0):60<=t&&t<120?(u=o,d=a,h=0):120<=t&&t<180?(u=0,d=a,h=o):180<=t&&t<240?(u=0,d=o,h=a):240<=t&&t<300?(u=o,d=0,h=a):300<=t&&t<360&&(u=a,d=0,h=o),u=Math.round((u+l)*255).toString(16),d=Math.round((d+l)*255).toString(16),h=Math.round((h+l)*255).toString(16),ms.utils.pAL(u,d,h,i)},RgbA(n){const e=oc.rgbA.exec(n),t=parseInt(e[2],10).toString(16),r=parseInt(e[3],10).toString(16),s=parseInt(e[4],10).toString(16),i=e[5];return ms.utils.pAL(t,r,s,i)},utils:{pAL(n,e,t,r){return n.length==1&&(n="0"+n),e.length==1&&(e="0"+e),t.length==1&&(t="0"+t),typeof r<"u"?(r=Math.round(parseInt(r)*255).toString(16),r.length==1&&(r="0"+r),"#"+n+e+t+r):"#"+n+e+t}}},oc={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},dA={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var hA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const zs=Fme.PREFIX;class Ry extends T.Component{constructor(e){super(e),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}componentDidUpdate(e){if(isNaN(this.props.percent)||isNaN(e.percent))throw new Error("[Semi Progress]:percent can not be NaN");if(e.percent!==this.props.percent){if(!this.props.motion){this.setState({percentNumber:this.props.percent});return}this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new H2({from:{value:e.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",t=>{if(this._mounted===!1)return;const r=parseInt(t.value);this.setState({percentNumber:r})}),this.animation.on("rest",()=>{this._mounted!==!1&&this.setState({percentNumber:this.props.percent})}),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){const e=this.props,{strokeLinecap:t,style:r,className:s,strokeWidth:i,format:a,size:o,stroke:l,strokeGradient:u,showInfo:d,percent:h,orbitStroke:f,id:p}=e,_=hA(e,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),m=this.props["aria-label"],v=this.props["aria-labelledby"],y=this.props["aria-valuetext"],{percentNumber:b}=this.state,w={wrapper:A(`${zs}-circle`,s),svg:A(`${zs}-circle-ring`),circle:A(`${zs}-circle-ring-inner`)},E=this.calcPercent(h),S=this.calcPercent(b);let C;this.props.width?C=this.props.width:o===Ir.DEFAULT_SIZE?C=72:C=24;const O=this.selectStroke(l,h,u),I=C/2,P=C/2,x=(C-i)/2,D=x*2*Math.PI,N=(1-E/100)*D,L=`${D} ${D}`,V=a(S);return g.createElement("div",Object.assign({id:p,className:w.wrapper,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":S,"aria-labelledby":v,"aria-label":m,"aria-valuetext":y},hf(_)),g.createElement("svg",{key:o,className:w.svg,height:C,width:C,"aria-hidden":!0},g.createElement("circle",{strokeDashoffset:0,strokeWidth:i,strokeDasharray:L,strokeLinecap:t,fill:"transparent",stroke:f,r:x,cx:P,cy:I,"aria-hidden":!0}),g.createElement("circle",{className:w.circle,strokeDashoffset:N,strokeWidth:i,strokeDasharray:L,strokeLinecap:t,fill:"transparent",stroke:O,r:x,cx:P,cy:I,"aria-hidden":!0})),d&&o!=="small"?g.createElement("span",{className:`${zs}-circle-text`},V):null)}calcPercent(e){let t;return e>100?t=100:e<0?t=0:t=e,t}selectStroke(e,t,r){if(typeof e=="string")return e;const s=jme(e,t,r);return typeof s<"u"?s:Ir.STROKE_DEFAULT}renderLineProgress(){const e=this.props,{className:t,style:r,stroke:s,strokeGradient:i,direction:a,format:o,showInfo:l,size:u,percent:d,orbitStroke:h,id:f}=e,p=hA(e,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),_=this.props["aria-label"],m=this.props["aria-labelledby"],v=this.props["aria-valuetext"],{percentNumber:y}=this.state,b=A(zs,t,{[`${zs}-horizontal`]:a===Ir.DEFAULT_DIRECTION,[`${zs}-vertical`]:a!==Ir.DEFAULT_DIRECTION,[`${zs}-large`]:u==="large"}),w=A({[`${zs}-track`]:!0}),E=A(`${zs}-track-inner`),S=this.calcPercent(d),C=this.calcPercent(y),I={background:this.selectStroke(s,d,i)};a===Ir.DEFAULT_DIRECTION?I.width=`${S}%`:I.height=`${S}%`;const P=o(C);return g.createElement("div",Object.assign({id:f,className:b,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":S,"aria-labelledby":m,"aria-label":_,"aria-valuetext":v},hf(p)),g.createElement("div",{className:w,style:h?{backgroundColor:h}:{},"aria-hidden":!0},g.createElement("div",{className:E,style:I,"aria-hidden":!0})),l?g.createElement("div",{className:`${zs}-line-text`},P):null)}render(){const{type:e}=this.props;return e==="line"?this.renderLineProgress():this.renderCircleProgress()}}Ry.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-valuetext":c.string,className:c.string,direction:c.oneOf(Ir.directions),format:c.oneOfType([c.func,c.node]),id:c.string,motion:c.oneOfType([c.bool,c.func,c.object]),orbitStroke:c.string,percent:c.number,scale:c.number,showInfo:c.bool,size:c.oneOf(Ir.sizes),stroke:c.oneOfType([c.string,c.arrayOf(c.shape({percent:c.number,color:c.string}))]),strokeGradient:c.bool,strokeLinecap:c.oneOf(Ir.strokeLineCap),strokeWidth:c.number,style:c.object,type:c.oneOf(Ir.types),width:c.number};Ry.defaultProps={className:"",direction:Ir.DEFAULT_DIRECTION,format:n=>`${n}%`,motion:!0,orbitStroke:"var(--semi-color-fill-0)",percent:0,showInfo:!1,size:Ir.DEFAULT_SIZE,stroke:Ir.STROKE_DEFAULT,strokeGradient:!1,strokeLinecap:Ir.DEFAULT_LINECAP,strokeWidth:4,style:{},type:Ir.DEFAULT_TYPE};const Nj={PREFIX:`${Y}-radio`},Bme={PREFIX:`${Y}-radioGroup`},an={DIRECTION_SET:["horizontal","vertical"],DEFAULT_DIRECTION:"horizontal",MODE:["advanced",""],TYPE_DEFAULT:"default",TYPE_BUTTON:"button",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",BUTTON_SIZE:["middle","small","large"]};class Hme extends Pe{constructor(e){super(Object.assign({},e))}init(){const e=this._getDisplayValue();this._setValue(e)}_getDisplayValue(){const{value:e,defaultValue:t}=this.getProps();let r;return"value"in this.getProps()?r=e:"defaultValue"in this.getProps()&&(r=t),r}handleChange(e){const t=this.getProp("mode"),r=this.getState("value"),{checked:s,value:i}=e.target,a=this._adapter.isInProps("value"),o=Object.assign(Object.assign({},e),{target:Object.assign(Object.assign({},e.target),{value:i})});t==="advanced"&&!s&&(o.target.value=void 0),a||(t==="advanced"&&!s?this._setValue(void 0):this._setValue(i)),(t==="advanced"||r!==i)&&this._adapter.notifyChange(o)}handlePropValueChange(e){this._setValue(e)}_setValue(e){this._adapter.setValue(e)}destroy(){}}class zme extends Pe{constructor(){super(...arguments),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{kt(!0,"Warning: [Semi Radio] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this._adapter.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}setHover(e){this._adapter.setHover(e)}setChecked(e){this._adapter.setChecked(e)}}class Kme extends Pe{constructor(e){super(Object.assign({},e))}init(){const e=this._adapter.getProp("checked"),t=this._adapter.getProp("defaultChecked");this.setChecked(e||t)}setChecked(e){this._adapter.setNativeControlChecked(e)}getChecked(){return this._adapter.getProp("checked")}handleChange(e){const t="checked"in this.getProps(),{checked:r}=e.target,s=()=>{e.stopPropagation()},i=()=>{e.preventDefault()},a={target:Object.assign(Object.assign({},this.getProps()),{checked:r}),stopPropagation:s,preventDefault:i};t?this._adapter.notifyChange(a):(this.setChecked(r),this._adapter.notifyChange(a))}destroy(){}}const RT=g.createContext(null);class h_ extends we{constructor(e){super(e),this.state={checked:!1},this.foundation=new Kme(this.adapter),this.onChange=this.onChange.bind(this)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{this.props.onChange(e)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e){e.checked!==this.props.checked&&this.foundation.setChecked(this.props.checked)}componentWillUnmount(){this.foundation.destroy()}blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}onChange(e){this.foundation.handleChange(e)}render(){const{disabled:e,mode:t,autoFocus:r,name:s,isButtonRadio:i,isPureCardRadioGroup:a,addonId:o,extraId:l,"aria-label":u,focusInner:d,onInputFocus:h,onInputBlur:f}=this.props,{checked:p}=this.state,_=this.props.prefixCls||Nj.PREFIX,m=A({[`${_}-inner`]:!0,[`${_}-inner-checked`]:!!p,[`${_}-inner-buttonRadio`]:i,[`${_}-inner-pureCardRadio`]:a}),v=A({[`${_}-focus`]:d,[`${_}-focus-border`]:d&&!p,[`${_}-inner-display`]:!i});return g.createElement("span",{className:m},g.createElement("input",{ref:y=>{this.inputEntity=y},autoFocus:r,type:t==="advanced"?"checkbox":"radio",checked:!!p,disabled:e,onChange:this.onChange,name:s,"aria-label":u,"aria-labelledby":o,"aria-describedby":l,onFocus:h,onBlur:f}),g.createElement("span",{className:v},p?g.createElement(zie,null):null))}}h_.contextType=RT;h_.propTypes={checked:c.bool,disabled:c.bool,isButtonRadio:c.bool,onChange:c.func,mode:c.oneOf(["advanced",""]),"aria-label":c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};h_.defaultProps={onChange:k,isButtonRadio:!1};var Wme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Wl extends we{constructor(e){super(e),this.onChange=t=>{const{onChange:r}=this.props;if(this.isInGroup()){const{radioGroup:s}=this.context;s.onChange&&s.onChange(t)}!("checked"in this.props)&&this.foundation.setChecked(t.target.checked),r&&r(t)},this.handleMouseEnter=t=>{this.props.onMouseEnter(t),this.foundation.setHover(!0)},this.handleMouseLeave=t=>{this.props.onMouseLeave(t),this.foundation.setHover(!1)},this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:e.addonId,extraId:e.extraId,checked:e.checked||e.defaultChecked||!1},this.foundation=new zme(this.adapter),this.radioEntity=null}componentDidUpdate(e){this.props.checked!==e.checked&&(dt(this.props.checked)?this.foundation.setChecked(!1):lF(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:e=>{this.setState({hover:e})},setAddonId:()=>{this.setState({addonId:xa({prefix:"addon"})})},setChecked:e=>{this.setState({checked:e})},setExtraId:()=>{this.setState({extraId:xa({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){const e=this.props,{addonClassName:t,addonStyle:r,disabled:s,style:i,className:a,prefixCls:o,displayMode:l,children:u,extra:d,mode:h,type:f,value:p,name:_}=e,m=Wme(e,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]);let v,y,b,w,E,S,C,O,I;const{hover:P,addonId:x,extraId:D,focusVisible:N,checked:L}=this.state,V={checked:L,disabled:s};this.isInGroup()?(v=this.context.radioGroup.value===p,y=s||this.context.radioGroup.disabled,b=this.context.mode,w=this.context.radioGroup.isButtonRadio,E=this.context.radioGroup.isCardRadio,S=this.context.radioGroup.isPureCardRadio,O=this.context.radioGroup.buttonSize,I=o||this.context.radioGroup.prefixCls,V.checked=v,V.disabled=y):(v=L,y=s,b=h,C=f==="button",I=o,w=f===an.TYPE_BUTTON,S=f===an.TYPE_PURECARD,E=f===an.TYPE_CARD||S);const B=typeof w>"u"?C:w,F=I||Nj.PREFIX,W=E||S||B,$=A(F,{[`${F}-disabled`]:y,[`${F}-checked`]:v,[`${F}-${l}`]:!!l,[`${F}-buttonRadioComponent`]:C,[`${F}-buttonRadioGroup`]:w,[`${F}-buttonRadioGroup-${O}`]:w&&O,[`${F}-cardRadioGroup`]:E,[`${F}-cardRadioGroup_disabled`]:y&&E,[`${F}-cardRadioGroup_checked`]:E&&v&&!y,[`${F}-cardRadioGroup_checked_disabled`]:E&&v&&y,[`${F}-cardRadioGroup_hover`]:E&&!v&&P&&!y,[a]:!!a,[`${F}-focus`]:N&&(E||S)}),j=this.isInGroup()&&this.context.radioGroup.name,M=A({[`${F}-addon`]:!B,[`${F}-addon-buttonRadio`]:B,[`${F}-addon-buttonRadio-checked`]:B&&v,[`${F}-addon-buttonRadio-disabled`]:B&&y,[`${F}-addon-buttonRadio-hover`]:B&&!v&&!y&&P,[`${F}-addon-buttonRadio-${O}`]:B&&O,[`${F}-focus`]:N&&B},t),te=()=>!u&&!d?null:g.createElement("div",{className:A([`${F}-content`,{[`${F}-isCardRadioGroup_content`]:E}])},u?g.createElement("span",{className:M,style:r,id:x,"x-semi-prop":"children"},u):null,d&&!B?g.createElement("div",{className:`${F}-extra`,id:D,"x-semi-prop":"extra"},d):null);return g.createElement("label",Object.assign({style:i,className:$,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(m)),g.createElement(h_,Object.assign({},this.props,V,{mode:b,name:_??j,isButtonRadio:B,isPureCardRadioGroup:S,onChange:this.onChange,ref:Q=>{this.radioEntity=Q},addonId:u&&x,extraId:d&&D,focusInner:N&&!W,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),te())}}Wl.contextType=RT;Wl.propTypes={autoFocus:c.bool,checked:c.bool,defaultChecked:c.bool,value:c.any,style:c.object,className:c.string,disabled:c.bool,prefixCls:c.string,displayMode:c.oneOf(["vertical",""]),onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,mode:c.oneOf(an.MODE),extra:c.node,addonStyle:c.object,addonClassName:c.string,type:c.oneOf([an.TYPE_DEFAULT,an.TYPE_BUTTON,an.TYPE_CARD,an.TYPE_PURECARD]),"aria-label":c.string,preventScroll:c.bool};Wl.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:k,onMouseLeave:k,mode:"",type:"default"};Wl.elementType="Radio";var Gme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class AT extends we{constructor(e){super(e),this.onChange=t=>{this.foundation.handleChange(t)},this.getFormatName=()=>this.props.name||"default",this.state={value:e.value||e.defaultValue},this.foundation=new Hme(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){typeof e.value=="number"&&isNaN(e.value)&&typeof this.props.value=="number"&&isNaN(this.props.value)||e.value!==this.props.value&&this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>{this.setState({value:e})},getProps:()=>this.props,isInProps:e=>e in this.props,notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}render(){const e=this.props,{children:t,options:r,mode:s,prefixCls:i,className:a,style:o,direction:l,type:u,buttonSize:d,id:h}=e,f=Gme(e,["children","options","mode","prefixCls","className","style","direction","type","buttonSize","id"]),p=u===an.TYPE_BUTTON,_=u===an.TYPE_PURECARD,m=u===an.TYPE_CARD||_,v=u===an.TYPE_DEFAULT,y=i||Bme.PREFIX,b=A(a,{[y]:!0,[`${y}-wrapper`]:!0,[`${y}-${l}`]:l&&!p,[`${y}-${l}-default`]:l&&v,[`${y}-${l}-card`]:l&&m,[`${y}-buttonRadio`]:p}),w=this.state.value;let E;return r?E=(r||[]).map((S,C)=>typeof S=="string"?g.createElement(Wl,{key:C,disabled:this.props.disabled,value:S},S):g.createElement(Wl,{key:C,disabled:S.disabled||this.props.disabled,value:S.value,extra:S.extra,className:S.className,style:S.style},S.label)):t&&(E=g.Children.map(t,(S,C)=>g.isValidElement(S)?g.cloneElement(S,{key:C}):null)),g.createElement("div",Object.assign({className:b,style:o,id:h,"aria-label":this.props["aria-label"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(f)),g.createElement(RT.Provider,{value:{radioGroup:{onChange:this.onChange,value:w,disabled:this.props.disabled,name:this.getFormatName(),isButtonRadio:p,isCardRadio:m,isPureCardRadio:_,buttonSize:d,prefixCls:i},mode:s}},E))}}AT.propTypes={defaultValue:c.any,disabled:c.bool,name:c.string,options:c.array,buttonSize:c.oneOf(an.BUTTON_SIZE),type:c.oneOf([an.TYPE_DEFAULT,an.TYPE_BUTTON,an.TYPE_CARD,an.TYPE_PURECARD]),value:c.any,onChange:c.func,children:c.node,prefixCls:c.string,className:c.string,style:c.object,direction:c.oneOf(an.DIRECTION_SET),mode:c.oneOf(an.MODE),"aria-label":c.string,"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,id:c.string};AT.defaultProps={disabled:!1,onChange:k,direction:an.DEFAULT_DIRECTION,mode:"",type:an.TYPE_DEFAULT,buttonSize:"middle"};const mm={PREFIX:`${Y}-rating`},$j={SIZE_SET:["default","small"]};class DT extends Pe{constructor(e){super(Object.assign(Object.assign({},DT.defaultAdapter),e)),this.handleStarFocusVisible=t=>{const{target:r}=t,{count:s}=this.getProps();try{r.matches(":focus-visible")&&this._adapter.setEmptyStarFocusVisible(!0)}catch{kt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleStarBlur=t=>{const{emptyStarFocusVisible:r}=this.getStates();r&&this._adapter.setEmptyStarFocusVisible(!1)}}init(){const{autoFocus:e,disabled:t}=this.getProps();e&&!t&&this._adapter.focus()}_getScroll(e,t){let r=t?e.pageYOffset:e.pageXOffset;const s=t?"scrollTop":"scrollLeft";if(typeof r!="number"){const i=e.document;r=i.documentElement[s],typeof r!="number"&&(r=i.body[s])}return r}_getClientPosition(e){let t,r;const s=e.ownerDocument,{body:i}=s,a=s&&s.documentElement,o=e.getBoundingClientRect();return t=o.left,r=o.top,t-=a.clientLeft||i.clientLeft||0,r-=a.clientTop||i.clientTop||0,{left:t,top:r}}_getOffsetLeft(e){const t=this._getClientPosition(e),r=e.ownerDocument,s=r.defaultView||r.parentWindow;return t.left+=this._getScroll(s),t.left}getStarValue(e,t){const{allowHalf:r}=this.getProps(),i=this._adapter.getContext("direction")==="rtl";let a=e+1;if(r){const o=this._adapter.getStarDOM(e),l=this._getOffsetLeft(o),u=o.clientWidth;(i&&t-l>u/2||!i&&t-l<u/2)&&(a-=.5)}return a}handleHover(e,t){const r=this.getStarValue(t,e.pageX),{clearedValue:s,hoverValue:i}=this.getStates();r!==i&&r!==s&&this._adapter.notifyHoverChange(r,null)}handleMouseLeave(){this._adapter.notifyHoverChange(void 0,null)}handleClick(e,t){const{allowClear:r}=this.getProps(),{value:s}=this.getStates(),i=this.getStarValue(t,e.pageX),a=r?i===s:!1;this._adapter.updateValue(a?0:i),a?this._adapter.notifyHoverChange(void 0,i):this._adapter.clearValue(null)}handleFocus(e){this._adapter.notifyFocus(e)}handleBlur(e){this._adapter.notifyBlur(e)}handleKeyDown(e,t){const{key:r}=e,{count:s,allowHalf:i}=this.getProps(),o=this._adapter.getContext("direction")==="rtl",l=i?.5:1;let u,d;r==="ArrowRight"||r==="ArrowUp"?u=t+(o?-l:l):(r==="ArrowLeft"||r==="ArrowDown")&&(u=t+(o?l:-l)),u>s?d=0:u<0?d=s:d=u,["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(r)&&(this._adapter.notifyKeyDown(e),this._adapter.updateValue(d),this.changeFocusStar(d,e),e.preventDefault(),this._adapter.notifyHoverChange(void 0,null))}changeFocusStar(e,t){const{count:r,allowHalf:s,preventScroll:i}=this.getProps(),a=Math.ceil(e)-1,o=[...t.currentTarget.childNodes].map(l=>l.childNodes[0].childNodes);a<0?o[r][0].focus({preventScroll:i}):o[a][s?e*10%10===5?0:1:0].focus({preventScroll:i})}}class kT extends Pe{constructor(e){super(Object.assign(Object.assign({},kT.defaultAdapter),e)),this.handleFocusVisible=(t,r)=>{const{target:s}=t;try{s.matches(":focus-visible")&&(r==="first"?this._adapter.setFirstStarFocus(!0):this._adapter.setSecondStarFocus(!0))}catch{kt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleBlur=(t,r)=>{const{firstStarFocus:s,secondStarFocus:i}=this.getStates();r==="first"?s&&this._adapter.setFirstStarFocus(!1):i&&this._adapter.setSecondStarFocus(!1)}}}class Lj extends we{constructor(e){super(e),this.firstStar=null,this.secondStar=null,this.onHover=t=>{const{onHover:r,index:s}=this.props;r(t,s)},this.onClick=t=>{const{onClick:r,index:s}=this.props;r(t,s)},this.onFocus=(t,r)=>{const{onFocus:s}=this.props;s&&s(t),this.foundation.handleFocusVisible(t,r)},this.onBlur=(t,r)=>{const{onBlur:s}=this.props;s&&s(t),this.foundation.handleBlur(t,r)},this.onKeyDown=t=>{const{onClick:r,index:s}=this.props;t.keyCode===13&&r(t,s)},this.starFocus=()=>{const{value:t,index:r,preventScroll:s}=this.props;t-r===.5?this.firstStar.focus({preventScroll:s}):this.secondStar.focus({preventScroll:s})},this.saveFirstStar=t=>{this.firstStar=t},this.saveSecondStar=t=>{this.secondStar=t},this.state={firstStarFocus:!1,secondStarFocus:!1},this.foundation=new kT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setFirstStarFocus:e=>{this.setState({firstStarFocus:e})},setSecondStarFocus:e=>{this.setState({secondStarFocus:e})}})}render(){const{index:e,prefixCls:t,character:r,count:s,value:i,disabled:a,allowHalf:o,focused:l,size:u,ariaLabelPrefix:d}=this.props,{firstStarFocus:h,secondStarFocus:f}=this.state,p=e+1,_=p-i,m=o&&_<1&&_>0,v=1-_,y=p<=i,b=typeof u=="number",w=A(t,{[`${t}-half`]:m,[`${t}-full`]:y,[`${t}-${u}`]:!b}),E=b?{width:u,height:u,fontSize:u}:{},S=b?"inherit":u==="small"?"default":"extra-large",C=r||g.createElement(qie,{size:S,style:{display:"block"}}),O=e===s,I=A(`${t}-wrapper`,{[`${t}-disabled`]:a,[`${mm.PREFIX}-focus`]:(h||f)&&i!==0}),P={onClick:a?null:this.onClick,onKeyDown:a?null:this.onKeyDown,onMouseMove:a?null:this.onHover,className:I},x=o?s*2+1:s+1,D={ref:this.saveFirstStar,role:"radio","aria-checked":i===e+.5,"aria-posinset":2*e+1,"aria-setsize":x,"aria-disabled":a,"aria-label":`${e+.5} ${d}s`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:A(`${t}-first`,`${mm.PREFIX}-no-focus`),tabIndex:!a&&i===e+.5?0:-1,onFocus:V=>{this.onFocus(V,"first")},onBlur:V=>{this.onBlur(V,"first")}},N=!a&&(i===e+1||O&&i===0)?0:-1,L={ref:this.saveSecondStar,role:"radio","aria-checked":O?i===0:i===e+1,"aria-posinset":o?2*(e+1):e+1,"aria-setsize":x,"aria-disabled":a,"aria-label":`${O?0:e+1} ${d}${e===0?"":"s"}`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:A(`${t}-second`,`${mm.PREFIX}-no-focus`),tabIndex:N,onFocus:V=>{this.onFocus(V,"second")},onBlur:V=>{this.onBlur(V,"second")}};return g.createElement("li",{className:w,style:Object.assign({},E),key:e},g.createElement("div",Object.assign({},P),o&&!O&&g.createElement("div",Object.assign({},D,{style:{width:`${v*100}%`}}),C),g.createElement("div",Object.assign({},L,{"x-semi-prop":"character"}),C)))}}Lj.propTypes={value:c.number,index:c.number,prefixCls:c.string,allowHalf:c.bool,onHover:c.func,onClick:c.func,character:c.node,focused:c.bool,disabled:c.bool,count:c.number,ariaLabelPrefix:c.string,size:c.oneOfType([c.oneOf($j.SIZE_SET),c.number]),"aria-describedby":c.string,onFocus:c.func,onBlur:c.func,preventScroll:c.bool};var Yme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class f_ extends we{constructor(e){super(e),this.rate=null,this.onHover=(r,s)=>{this.foundation.handleHover(r,s)},this.onMouseLeave=()=>{this.foundation.handleMouseLeave()},this.onClick=(r,s)=>{this.foundation.handleClick(r,s)},this.onFocus=r=>{this.foundation.handleFocus(r)},this.onBlur=r=>{this.foundation.handleBlur(r)},this.onKeyDown=r=>{const{value:s}=this.state;this.foundation.handleKeyDown(r,s)},this.focus=()=>{const{disabled:r,preventScroll:s}=this.props;r||this.rate.focus({preventScroll:s})},this.blur=()=>{const{disabled:r}=this.props;r||this.rate.blur()},this.saveRef=r=>s=>{this.stars[r]=s},this.saveRate=r=>{this.rate=r},this.handleStarFocusVisible=r=>{this.foundation.handleStarFocusVisible(r)},this.handleStarBlur=r=>{this.foundation.handleStarBlur(r)},this.getAriaLabelPrefix=()=>{if(this.props["aria-label"])return this.props["aria-label"];let r="star";const{character:s}=this.props;return typeof s=="string"&&(r=s),r},this.getItemList=r=>{const{count:s,allowHalf:i,prefixCls:a,disabled:o,character:l,size:u,tooltips:d}=this.props,{value:h,hoverValue:f,focused:p}=this.state;return[...Array(s+1).keys()].map(m=>{const v=g.createElement(Lj,{ref:this.saveRef(m),index:m,count:s,prefixCls:`${a}-star`,allowHalf:i,value:f===void 0?h:f,onClick:o?gt:this.onClick,onHover:o?gt:this.onHover,key:m,disabled:o,character:l,focused:p,size:m===s?0:u,ariaLabelPrefix:r,onFocus:o||s!==m?gt:this.handleStarFocusVisible,onBlur:o||s!==m?gt:this.handleStarBlur});if(d){const y=d[m]?d[m]:"",b=f-1===m;return g.createElement(fr,{visible:b,trigger:"custom",content:y,key:`${m}-${b}`},v)}return v})};const t=e.value===void 0?e.defaultValue:e.value;this.stars={},this.state={value:t,focused:!1,hoverValue:void 0,clearedValue:null,emptyStarFocusVisible:!1},this.foundation=new DT(this.adapter)}static getDerivedStateFromProps(e,t){return"value"in e&&e.value!==void 0?Object.assign(Object.assign({},t),{value:e.value}):t}get adapter(){return Object.assign(Object.assign({},super.adapter),{focus:()=>{const{disabled:e,count:t}=this.props,{value:r}=this.state;if(!e){const s=Math.ceil(r)-1;this.stars[s<0?t:s].starFocus()}},getStarDOM:e=>{const t=this.stars&&this.stars[e];return Pr.findDOMNode(t)},notifyHoverChange:(e,t)=>{const{onHoverChange:r}=this.props;this.setState({hoverValue:e,clearedValue:t}),r(e)},updateValue:e=>{const{onChange:t}=this.props;"value"in this.props||this.setState({value:e}),t(e)},clearValue:e=>{this.setState({clearedValue:e})},notifyFocus:e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)},notifyBlur:e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),t&&t(e)},notifyKeyDown:e=>{const{onKeyDown:t}=this.props;this.setState({focused:!1}),t&&t(e)},setEmptyStarFocusVisible:e=>{this.setState({emptyStarFocusVisible:e})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,prefixCls:r,disabled:s,className:i,id:a,count:o,tabIndex:l}=e,u=Yme(e,["style","prefixCls","disabled","className","id","count","tabIndex"]),{value:d,emptyStarFocusVisible:h}=this.state,f=this.getAriaLabelPrefix(),p=`Rating: ${d} of ${o} ${f}${d===1?"":"s"},`,_=this.getItemList(f),m=A(r,{[`${r}-disabled`]:s,[`${r}-focus`]:h},i);return g.createElement("ul",Object.assign({"aria-label":p,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],className:m,style:t,onMouseLeave:s?gt:this.onMouseLeave,tabIndex:s?-1:l,onFocus:s?gt:this.onFocus,onBlur:s?gt:this.onBlur,onKeyDown:s?gt:this.onKeyDown,ref:this.saveRate,id:a},this.getDataAttr(u)),_)}}f_.contextType=kr;f_.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-label":c.string,"aria-labelledby":c.string,"aria-required":c.bool,disabled:c.bool,value:c.number,defaultValue:c.number,count:c.number,allowHalf:c.bool,allowClear:c.bool,style:c.object,prefixCls:c.string,onChange:c.func,onHoverChange:c.func,className:c.string,character:c.node,tabIndex:c.number,onFocus:c.func,onBlur:c.func,onKeyDown:c.func,autoFocus:c.bool,size:c.oneOfType([c.oneOf($j.SIZE_SET),c.number]),tooltips:c.arrayOf(c.string),id:c.string,preventScroll:c.bool};f_.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:mm.PREFIX,onChange:gt,onHoverChange:gt,tabIndex:-1,size:"default"};const or={PREFIX:`${Y}-slider`,VERTICAL:`${Y}-slider-vertical`,TRACK:`${Y}-slider-track`,DOTS:`${Y}-slider-dots`,MARKS:`${Y}-slider-marks`,HANDLE:`${Y}-slider-handle`,HANDLE_DOT:`${Y}-slider-handle-dot`},fA=(n,e)=>(!globalThis.Touch||!(n instanceof Touch)||["stopPropagation","preventDefault"].forEach(r=>{let s=e[r];s&&(typeof s=="function"&&(s=function(){return e[r](...arguments)}),n[r]?kt(!0,`"The key ${r}" exist in Touch.`):n[r]=s)}),n);class NT extends Pe{constructor(e){var t;super(Object.assign(Object.assign({},NT.defaultAdapter),e)),t=this,this.getMinAndMaxPercent=r=>{const{range:s,min:i,max:a}=this._adapter.getProps(),o=s?(r[0]-i)/(a-i):(r-i)/(a-i),l=s?(r[1]-i)/(a-i):1;return{min:this._checkValidity(o),max:this._checkValidity(l)}},this._checkValidity=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r>i?i:r<s?s:r},this.computeHandleVisibleVal=(r,s,i)=>{const{focusPos:a,currentValue:o}=this._adapter.getStates(),l={min:!1,max:!1};let u;return s?u={min:s(i?this.outPutValue(o[0]):this.outPutValue(o)),max:i?s(this.outPutValue(o[1])):null}:u={min:i?this.outPutValue(o[0]):this.outPutValue(o),max:i?this.outPutValue(o[1]):null},r?(l.min=!0,l.max=!0):typeof r>"u"&&s&&(a==="min"?l.min=!0:a==="max"&&(l.max=!0)),{tipVisible:l,tipChildren:u}},this.valueFormatIsCorrect=r=>Array.isArray(r)?typeof r[0]=="number"&&typeof r[0]=="number":typeof r=="number",this.handleMousePos=(r,s)=>{const i=this._adapter.getParentRect(),a=this._adapter.getScrollParentVal(),o=i?i.left:0,l=i?i.top:0;return{x:r-o+a.scrollLeft,y:s-l+a.scrollTop}},this.getScrollParent=r=>{const s=r,i=/(auto|scroll)/,a=(u,d)=>window.getComputedStyle(u,null).getPropertyValue(d),o=u=>i.test(a(u,"overflow")+a(u,"overflow-y")+a(u,"overflow-x")),l=u=>!u||u===document.body||!(u instanceof Element)?document.body:o(u)?u:l(u.parentNode);return l(s)},this.checkMeetMinMax=r=>{const{vertical:s,verticalReverse:i,range:a}=this._adapter.getProps(),o=this._adapter.getState("currentValue");this.transValueToPos(o);const{sliderX:l,sliderY:u,sliderWidth:d,sliderHeight:h}=this._adapter.getSliderLengths(),{chooseMovePos:f,isDrag:p}=this._adapter.getStates(),_=s?h:d;let m;s&&i?m=u+_:m=s?u:l;let v;return s&&i?v=u:v=s?u+h:l+d,s&&i?r>=m?r=m:r<=v&&(r=v):r<=m?r=m:r>=v&&(r=v),r},this.transPosToValue=(r,s)=>{const i=this.checkMeetMinMax(r),{min:a,max:o,currentValue:l}=this._adapter.getStates(),{range:u,vertical:d,step:h,verticalReverse:f}=this._adapter.getProps(),{sliderX:p,sliderY:_,sliderWidth:m,sliderHeight:v}=this._adapter.getSliderLengths(),y=d?_:p,b=d?v:m;let w;d&&f?w=(y+b-i)/b*(o-a)+a:w=(i-y)/b*(o-a)+a;let E;return u?E=s?l[0]:l[1]:E=l,h!==1&&(w=Math.round(w/h)*h),u&&w!==E?s?[w,l[1]]:[l[0],w]:!u&&w!==E?w:!1},this.transValueToPos=r=>{const{min:s,max:i}=this._adapter.getStates(),{vertical:a,range:o,verticalReverse:l}=this._adapter.getProps(),{sliderX:u,sliderY:d,sliderWidth:h,sliderHeight:f}=this._adapter.getSliderLengths(),p=a?d:u,_=a?f:h;return o?[(r[0]-s)*_/(i-s)+p,(r[1]-s)*_/(i-s)+p]:(r-s)*_/(i-s)+p},this.isMarkActive=r=>{const{min:s,max:i,range:a,included:o}=this._adapter.getProps(),l=this._adapter.getState("currentValue");return typeof(r/1)=="number"&&r>=s&&r<=i?a?(r>l[1]||r<l[0])&&o?"unActive":"active":r<=l&&o?"active":"unActive":!1},this.outPutValue=r=>{const s=o=>{var l,u;return/^\d+(\.\d+)?$/.test(String(o))&&(u=(l=o.toString().split(".")[1])===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0},i=this._adapter.getProp("step"),a=(()=>{const o=s(i),l=Math.pow(10,o);return u=>Math.round(u*l)/l})();if(Array.isArray(r)){const o=a(r[0]),l=a(r[1]);return o>l?this.getState("focusPos")==="min"?[l,l]:[o,o]:[o,l]}else return a(r)},this.handleDisabledChange=r=>{this._adapter.updateDisabled(r)},this.checkAndUpdateIsInRenderTreeState=()=>this._adapter.checkAndUpdateIsInRenderTreeState(),this.calculateOutputValue=(r,s)=>{const i=this.transPosToValue(r,s);if(i!==!1)return this.outPutValue(i)},this.handleValueChange=(r,s)=>{const{min:i,max:a}=this._adapter.getStates();let o=null;const l={};this.valueFormatIsCorrect(s)?(Array.isArray(r)&&Array.isArray(s)&&(s=[s[0]<i?i:s[0],s[1]>a?a:s[1]],o=Object.assign(l,{currentValue:s})),typeof r=="number"&&typeof s=="number"&&(s>a?s=a:s=s<i?i:s,o=Object.assign(l,{currentValue:s}))):o=l,o&&this._adapter.transNewPropsToState(o)},this.onHandleDown=(r,s)=>{this._adapter.onHandleDown(r);const i=this._adapter.getState("disabled"),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(i)return!1;this._adapter.setStateVal("isDrag",!0),this._adapter.setStateVal("chooseMovePos",s),s==="min"?this._adapter.setDragging([!0,o[1]]):this._adapter.setDragging([o[0],!0]);const l=this.handleMousePos(r.clientX,r.clientY);let u=a?l.y:l.x;if(!this._adapter.isEventFromHandle(r))this._dragOffset=0;else{const d=this._getHandleCenterPosition(a,r.target);this._dragOffset=u-d,u=d}return!0},this.onHandleMove=r=>{this._adapter.setEventDefault(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(s)return!1;this.onHandleEnter(i);const l=this.handleMousePos(r.clientX,r.clientY);let u=a?l.y:l.x;if(u=u-this._dragOffset,i==="min"&&o[0]||i==="max"&&o[1]){const d=this.calculateOutputValue(u,i==="min");if(d===void 0)return!1;this._adapter.notifyChange(d),this._adapter.onHandleMove(u,i==="min",void 0,!1,d)}return!0},this.onHandleTouchStart=(r,s)=>{const i=this._adapter.getMinHandleEl(),a=this._adapter.getMaxHandleEl();if(r.target===i||r.target===a){Xs(r);const o=fA(r.touches[0],r);this.onHandleDown(o,s)}},this.onHandleTouchMove=r=>{const s=this._adapter.getMinHandleEl(),i=this._adapter.getMaxHandleEl();if(r.target===s||r.target===i){const a=fA(r.touches[0],r);this.onHandleMove(a)}},this.onHandleEnter=r=>{const{disabled:s,focusPos:i}=this._adapter.getStates();s||!i&&r!==i&&this._adapter.onHandleEnter(r)},this.onHandleLeave=()=>{const r=this._adapter.getState("disabled"),s=this._adapter.getState("isDrag");!r&&!s&&this._adapter.onHandleLeave()},this.onHandleUp=r=>{this._adapter.onHandleUpBefore(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{dragging:a}=this._adapter.getOverallVars();return s?!1:(i==="min"?this._adapter.setDragging([!1,a[1]]):this._adapter.setDragging([a[0],!1]),this._adapter.setStateVal("isDrag",!1),this._adapter.onHandleLeave(),this._adapter.onHandleUpAfter(),!0)},this._handleValueDecreaseWithKeyBoard=(r,s)=>{const{min:i,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(s==="min")if(o){let l=a[0]-r;return l=l<i?i:l,[l,a[1]]}else{let l=a-r;return l=l<i?i:l,l}else{let l=a[1]-r;return l=l<a[0]?a[0]:l,[a[0],l]}},this._handleValueIncreaseWithKeyBoard=(r,s)=>{const{max:i,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(s==="min")if(o){let l=a[0]+r;return l=l>a[1]?a[1]:l,[l,a[1]]}else{let l=a+r;return l=l>i?i:l,l}else{let l=a[1]+r;return l=l>i?i:l,[a[0],l]}},this._handleHomeKey=r=>{const{min:s,currentValue:i}=this.getStates(),{range:a}=this.getProps();return r==="min"?a?[s,i[1]]:s:[i[0],i[0]]},this._handleEndKey=r=>{const{max:s,currentValue:i}=this.getStates(),{range:a}=this.getProps();return r==="min"?a?[i[1],i[1]]:s:[i[0],s]},this.handleKeyDown=(r,s)=>{const{min:i,max:a,currentValue:o}=this.getStates(),{step:l,range:u}=this.getProps();let d;switch(r.key){case"ArrowLeft":case"ArrowDown":d=this._handleValueDecreaseWithKeyBoard(l,s);break;case"ArrowRight":case"ArrowUp":d=this._handleValueIncreaseWithKeyBoard(l,s);break;case"PageUp":d=this._handleValueIncreaseWithKeyBoard(10*l,s);break;case"PageDown":d=this._handleValueDecreaseWithKeyBoard(10*l,s);break;case"Home":d=this._handleHomeKey(s);break;case"End":d=this._handleEndKey(s);break}if(["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(r.key)){let h=!0;Array.isArray(o)?h=!(o[0]===d[0]&&o[1]===d[1]):h=o!==d,h&&(this._adapter.updateCurrentValue(d),this._adapter.notifyChange(d)),Xs(r)}},this._noTooltip=()=>{const{tipFormatter:r,tooltipVisible:s}=this.getProps();return r===null||s===!1},this.onFocus=(r,s)=>{if(this._noTooltip())return;Xs(r);const{target:a}=r;try{a.matches(":focus-visible")&&(s==="min"?this._adapter.setStateVal("firstDotFocusVisible",!0):this._adapter.setStateVal("secondDotFocusVisible",!0))}catch{kt(!0,"Warning: [Semi Slider] The current browser does not support the focus-visible")}},this.onBlur=(r,s)=>{if(this._noTooltip())return;const{firstDotFocusVisible:a,secondDotFocusVisible:o}=this.getStates();s==="min"?a&&this._adapter.setStateVal("firstDotFocusVisible",!1):o&&this._adapter.setStateVal("secondDotFocusVisible",!1)},this.handleWrapClick=r=>{const{disabled:s,isDrag:i}=this._adapter.getStates();if(i||s||this._adapter.isEventFromHandle(r))return;const{vertical:a}=this.getProps(),o=this.handleMousePos(r.clientX,r.clientY),l=a?o.y:o.x,u=this.checkWhichHandle(l),d=this.calculateOutputValue(l,u);d!==void 0&&(this._adapter.notifyChange(d),!this._isControlledComponent()&&this.setHandlePos(l,u,!0,d))},this.setHandlePos=function(r,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3?arguments[3]:void 0;t._adapter.onHandleMove(r,s,()=>t._adapter.onHandleUpAfter(),i,a)},this.checkWhichHandle=r=>{const{vertical:s,verticalReverse:i}=this.getProps(),{currentValue:a}=this._adapter.getStates(),o=this.transValueToPos(a);let l=!0;return Array.isArray(o)&&(r>o[1]||Math.abs(r-o[0])>Math.abs(r-o[1]))&&(l=!1),s&&i&&(l=!l),l},this.handleWrapperEnter=()=>{this._adapter.setStateVal("showBoundary",!0)},this.handleWrapperLeave=()=>{this._adapter.setStateVal("showBoundary",!1)}}init(){this._checkCurrentValue(),this._dragOffset=0}_checkCurrentValue(){const{currentValue:e,min:t,max:r}=this.getStates();let s;Array.isArray(e)?(s=[],s[0]=this._checkValidity(e[0],t,r),s[1]=this._checkValidity(e[1],t,r)):s=this._checkValidity(e,t,r),this._adapter.updateCurrentValue(s)}destroy(){this._adapter.unSubscribeEventListener()}_getHandleCenterPosition(e,t){const r=t.getBoundingClientRect(),{x:s,y:i}=this.handleMousePos(r.left+r.width*.5,r.top+r.height*.5);return e?i:s}}var qme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const fs=or.PREFIX;function Xme(n){return n?!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length):!1}class $T extends we{constructor(e){super(e),this.renderHandle=()=>{var r,s,i,a,o;const{vertical:l,range:u,tooltipVisible:d,tipFormatter:h,"aria-label":f,"aria-labelledby":p,"aria-valuetext":_,getAriaValueText:m,disabled:v}=this.props,{chooseMovePos:y,isDrag:b,isInRenderTree:w,firstDotFocusVisible:E,secondDotFocusVisible:S}=this.state,C=l?"top":"left",O=this.foundation.getMinAndMaxPercent(this.state.currentValue),I=O.min,P=O.max,{tipVisible:x,tipChildren:D}=this.foundation.computeHandleVisibleVal(d&&w,h,u),N=A(or.HANDLE,{[`${or.HANDLE}-clicked`]:y==="min"&&b}),L=A(or.HANDLE,{[`${or.HANDLE}-clicked`]:y==="max"&&b}),{min:V,max:B,currentValue:F}=this.state,W={"aria-label":f??(v?"Disabled Slider":void 0),"aria-labelledby":p,"aria-disabled":v};l&&Object.assign(W,{"aria-orientation":"vertical"});const $=this.props.handleDot;return u?g.createElement(g.Fragment,null,g.createElement(fr,{content:D.min,position:"top",trigger:"custom",rePosKey:I,visible:w&&(x.min||E),className:`${or.HANDLE}-tooltip`},g.createElement("span",Object.assign({ref:this.minHanleEl,className:N,style:{[C]:`${I*100}%`,zIndex:y==="min"?2:1},onMouseDown:M=>{this.foundation.onHandleDown(M,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:M=>{this.foundation.onHandleTouchStart(M,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:M=>{this.foundation.onHandleUp(M)},onTouchEnd:M=>{this.foundation.onHandleUp(M)},onKeyDown:M=>{this.foundation.handleKeyDown(M,"min")},onFocus:M=>{this.foundation.onFocus(M,"min")},onBlur:M=>{this.foundation.onBlur(M,"min")},role:"slider",tabIndex:v?-1:0},W,{"aria-valuetext":m?m(F[0],0):_,"aria-valuenow":F[0],"aria-valuemax":F[1],"aria-valuemin":V}),($==null?void 0:$[0])&&g.createElement("div",{className:or.HANDLE_DOT,style:Object.assign(Object.assign({},!((r=$[0])===null||r===void 0)&&r.size?{width:$[0].size,height:$[0].size}:{}),!((s=$[0])===null||s===void 0)&&s.color?{backgroundColor:$[0].color}:{})}))),g.createElement(fr,{content:D.max,position:"top",trigger:"custom",rePosKey:P,visible:w&&(x.max||S),className:`${or.HANDLE}-tooltip`},g.createElement("span",Object.assign({ref:this.maxHanleEl,className:L,style:{[C]:`${P*100}%`,zIndex:y==="max"?2:1},onMouseDown:M=>{this.foundation.onHandleDown(M,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:M=>{this.foundation.onHandleUp(M)},onTouchStart:M=>{this.foundation.onHandleTouchStart(M,"max")},onTouchEnd:M=>{this.foundation.onHandleUp(M)},onKeyDown:M=>{this.foundation.handleKeyDown(M,"max")},onFocus:M=>{this.foundation.onFocus(M,"max")},onBlur:M=>{this.foundation.onBlur(M,"max")},role:"slider",tabIndex:v?-1:0},W,{"aria-valuetext":m?m(F[1],1):_,"aria-valuenow":F[1],"aria-valuemax":B,"aria-valuemin":F[0]}),((i=this.props.handleDot)===null||i===void 0?void 0:i[1])&&g.createElement("div",{className:or.HANDLE_DOT,style:Object.assign(Object.assign({},!((a=this.props.handleDot[1])===null||a===void 0)&&a.size?{width:this.props.handleDot[1].size,height:this.props.handleDot[1].size}:{}),!((o=this.props.handleDot[1])===null||o===void 0)&&o.color?{backgroundColor:this.props.handleDot[1].color}:{})})))):g.createElement(fr,{content:D.min,showArrow:this.props.showArrow,position:"top",trigger:"custom",rePosKey:I,visible:w&&(x.min||E),className:`${or.HANDLE}-tooltip`},g.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:N,style:{[C]:`${I*100}%`,zIndex:y==="min"&&b?2:1},onMouseDown:M=>{this.foundation.onHandleDown(M,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:M=>{this.foundation.onHandleTouchStart(M,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:M=>{this.foundation.onHandleUp(M)},onTouchEnd:M=>{this.foundation.onHandleUp(M)},onKeyDown:M=>{this.foundation.handleKeyDown(M,"min")},onFocus:M=>{this.foundation.onFocus(M,"min")},onBlur:M=>{this.foundation.onBlur(M,"min")},role:"slider","aria-valuetext":m?m(F,0):_,tabIndex:v?-1:0},W,{"aria-valuenow":F,"aria-valuemax":B,"aria-valuemin":V}),$&&g.createElement("div",{className:or.HANDLE_DOT,style:Object.assign(Object.assign({},$!=null&&$.size?{width:$.size,height:$.size}:{}),$!=null&&$.color?{backgroundColor:$.color}:{})})))},this.renderTrack=()=>{const{range:r,included:s,vertical:i}=this.props,a=this.foundation.getMinAndMaxPercent(this.state.currentValue),o=a.min,l=a.max;let u=i?{height:r?`${Math.abs(l-o)*100}%`:`${o*100}%`,top:r?`${Math.min(o,l)*100}%`:0}:{width:r?`${Math.abs(l-o)*100}%`:`${o*100}%`,left:r?`${Math.min(o,l)*100}%`:0};return u=s?u:{},g.createElement("div",{className:or.TRACK,style:u,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{const{min:r,max:s,vertical:i,marks:a}=this.props,o=i?"top":"left";return a&&Object.keys(a).length>0?g.createElement("div",{className:or.DOTS},Object.keys(a).map(u=>{const d=this.foundation.isMarkActive(Number(u)),h=A(`${fs}-dot`,{[`${fs}-dot-active`]:this.foundation.isMarkActive(Number(u))==="active"}),f=(Number(u)-r)/(s-r),p=g.createElement("span",{key:u,onClick:this.foundation.handleWrapClick,className:h,style:{[o]:`calc(${f*100}% - 2px)`}});return d?this.props.tooltipOnMark?g.createElement(fr,{content:a[u]},p):p:null})):null},this.renderLabel=()=>{if(!this.props.showMarkLabel)return null;const{min:r,max:s,vertical:i,marks:a,verticalReverse:o}=this.props,l=i?"top":"left";return a&&Object.keys(a).length>0?g.createElement("div",{className:or.MARKS+(i&&o?"-reverse":"")},Object.keys(a).map(d=>{const h=this.foundation.isMarkActive(Number(d)),f=(Number(d)-r)/(s-r);return h?g.createElement("span",{key:d,className:A(`${fs}-mark${i&&o?"-reverse":""}`),style:{[l]:`${f*100}%`},onClick:this.foundation.handleWrapClick},a[d]):null})):null},this._getAriaValueText=(r,s)=>{const{getAriaValueText:i}=this.props;return i?i(r,s):r};let{value:t}=this.props;t||(t=this.props.defaultValue),this.state={currentValue:t||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=g.createRef(),this.minHanleEl=g.createRef(),this.maxHanleEl=g.createRef(),this.dragging=[!1,!1],this.foundation=new NT(this.adapter),this.eventListenerSet=new Set,this.handleDownEventListenerSet=new Set}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{var t;if(this.sliderEl&&this.sliderEl.current){const r=this.sliderEl.current.getBoundingClientRect(),s=(t=this.sliderEl.current.offsetParent)===null||t===void 0?void 0:t.getBoundingClientRect(),i={x:s?r.left-s.left:this.sliderEl.current.offsetLeft,y:s?r.top-s.top:this.sliderEl.current.offsetTop};return{sliderX:i.x,sliderY:i.y,sliderWidth:r.width,sliderHeight:r.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{const t=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(t)return t.getBoundingClientRect()},getScrollParentVal:()=>{const t=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}},isEventFromHandle:t=>{const r=[this.minHanleEl,this.maxHanleEl];let s=!1;return r.forEach(i=>{if(!i)return;const a=i&&i.current,o=Pr.findDOMNode(a);o&&o.contains(t.target)&&(s=!0)}),s},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:t=>{this.setState({disabled:t})},transNewPropsToState(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k;this.setState(t,r)},notifyChange:t=>{this.props.onChange(Array.isArray(t)?[...t].sort((r,s)=>r-s):t)},setDragging:t=>{this.dragging=t},updateCurrentValue:t=>{const{currentValue:r}=this.state;t!==r&&this.setState({currentValue:t})},setOverallVars:(t,r)=>{this[t]=r},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:t=>{this.handleDownEventListenerSet.add(this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1)),this.handleDownEventListenerSet.add(this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1)),this.handleDownEventListenerSet.add(this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1))},onHandleMove:function(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4?arguments[4]:void 0;if(!e.foundation.checkAndUpdateIsInRenderTreeState())return;const{value:l}=e.props;let u=a;if(u===void 0){const h=e.foundation.transPosToValue(t,r);if(h===!1)return;u=e.foundation.outPutValue(h)}const{currentValue:d}=e.state;if(!ke(e.foundation.outPutValue(d),u)){if(!i&&e.foundation.valueFormatIsCorrect(l))return!1;e.setState({currentValue:u},s)}},setEventDefault:t=>{t.stopPropagation(),t.preventDefault()},setStateVal:(t,r)=>{this.setState({[t]:r})},checkAndUpdateIsInRenderTreeState:()=>{const t=Xme(this.sliderEl.current);return t!==this.state.isInRenderTree&&this.setState({isInRenderTree:t}),t},onHandleEnter:t=>{this.setState({focusPos:t})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:t=>{var r,s;(s=(r=this.props).onMouseUp)===null||s===void 0||s.call(r,t),t.stopPropagation(),t.preventDefault(),Array.from(this.handleDownEventListenerSet).forEach(i=>i()),this.handleDownEventListenerSet.clear()},onHandleUpAfter:()=>{const{currentValue:t}=this.state,r=this.foundation.outPutValue(t);this.props.onAfterChange(r)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(t=>t())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e,t){const r=!ke(this.props.value,e.value);if(this.props.disabled!==e.disabled&&this.foundation.handleDisabledChange(this.props.disabled),r){const i=this.props.value,a=this.state.currentValue;this.foundation.handleValueChange(a,i),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){const{disabled:e,currentValue:t,min:r,max:s}=this.state,i=this.props,{vertical:a,verticalReverse:o,style:l,railStyle:u,range:d,className:h}=i,f=qme(i,["vertical","verticalReverse","style","railStyle","range","className"]),p=A(`${fs}-wrapper`,{[`${fs}-disabled`]:e,[`${or.VERTICAL}-wrapper`]:a,[`${fs}-reverse`]:a&&o},h),_=A(`${fs}-boundary`,{[`${fs}-boundary-show`]:this.props.showBoundary&&this.state.showBoundary}),m=A({[`${fs}`]:!a,[or.VERTICAL]:a}),v=Array.isArray(t)?[...t].sort():t,y=d?`Range: ${this._getAriaValueText(v[0],0)} to ${this._getAriaValueText(v[1],1)}`:void 0,b=g.createElement("div",Object.assign({className:p,style:l,ref:this.sliderEl,"aria-label":y,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(f)),g.createElement("div",{className:`${fs}-rail`,onClick:this.foundation.handleWrapClick,style:u}),this.renderTrack(),this.renderStepDot(),g.createElement("div",null,this.renderHandle()),this.renderLabel(),g.createElement("div",{className:_},g.createElement("span",{className:`${fs}-boundary-min`},r),g.createElement("span",{className:`${fs}-boundary-max`},s)));return a?b:g.createElement("div",{className:m},b)}_addEventListener(e,t,r){if(e.addEventListener){for(var s=arguments.length,i=new Array(s>3?s-3:0),a=3;a<s;a++)i[a-3]=arguments[a];e.addEventListener(t,r,...i);const o=()=>{e==null||e.removeEventListener(t,r),Promise.resolve().then(()=>{this.eventListenerSet.delete(o)})};return this.eventListenerSet.add(o),o}else return k}}$T.propTypes={defaultValue:c.oneOfType([c.number,c.array]),disabled:c.bool,showMarkLabel:c.bool,included:c.bool,marks:c.object,max:c.number,min:c.number,range:c.bool,step:c.number,tipFormatter:c.func,value:c.oneOfType([c.number,c.array]),vertical:c.bool,onAfterChange:c.func,onChange:c.func,onMouseUp:c.func,tooltipOnMark:c.bool,tooltipVisible:c.bool,showArrow:c.bool,style:c.object,className:c.string,showBoundary:c.bool,railStyle:c.object,verticalReverse:c.bool,getAriaValueText:c.func,handleDot:c.oneOfType([c.shape({size:c.string,color:c.string}),c.arrayOf(c.shape({size:c.string,color:c.string}))])};$T.defaultProps={disabled:!1,showMarkLabel:!0,tooltipOnMark:!1,included:!0,max:100,min:0,range:!1,showArrow:!0,step:1,tipFormatter:n=>n,vertical:!1,showBoundary:!1,onAfterChange:n=>{},onChange:n=>{},verticalReverse:!1};class Qme extends Pe{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{kt(!0,"Warning: [Semi Switch] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{disabled:e}=this.getProps();this.setDisabled(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}setDisabled(e){this._adapter.setNativeControlDisabled(e)}handleChange(e,t){typeof this.getProps().checked<"u"?this._adapter.notifyChange(e,t):(this._adapter.setNativeControlChecked(e),this._adapter.notifyChange(e,t))}destroy(){}}const ps={PREFIX:`${Y}-switch`,FOCUS:`${Y}-switch-focus`,LARGE:`${Y}-switch-large`,SMALL:`${Y}-switch-small`,CHECKED:`${Y}-switch-checked`,DISABLED:`${Y}-switch-disabled`,KNOB:`${Y}-switch-knob`,NATIVE_CONTROL:`${Y}-switch-native-control`,CHECKED_TEXT:`${Y}-switch-checked-text`,UNCHECKED_TEXT:`${Y}-switch-unchecked-text`,LOADING_SPIN:`${Y}-switch-loading-spin`,LOADING:`${Y}-switch-loading`},Zme={SIZE_MAP:["default","small","large"]};var Jme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class LT extends we{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={nativeControlChecked:e.defaultChecked||e.checked,nativeControlDisabled:!1,focusVisible:!1},this.switchRef=g.createRef(),this.foundation=new Qme(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){this.props.checked!==e.checked&&this.foundation.setChecked(this.props.checked),this.props.disabled!==e.disabled&&this.foundation.setDisabled(this.props.disabled)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({nativeControlChecked:e})},setNativeControlDisabled:e=>{this.setState({nativeControlDisabled:e})},setFocusVisible:e=>{this.setState({focusVisible:e})},notifyChange:(e,t)=>{this.props.onChange(e,t)}})}render(){const{nativeControlChecked:e,nativeControlDisabled:t,focusVisible:r}=this.state,s=this.props,{className:i,style:a,onMouseEnter:o,onMouseLeave:l,size:u,checkedText:d,uncheckedText:h,loading:f,id:p}=s,_=Jme(s,["className","style","onMouseEnter","onMouseLeave","size","checkedText","uncheckedText","loading","id"]),m=A(i,{[ps.PREFIX]:!0,[ps.CHECKED]:e,[ps.DISABLED]:t,[ps.LARGE]:u==="large",[ps.SMALL]:u==="small",[ps.LOADING]:f,[ps.FOCUS]:r}),v={type:"checkbox",className:ps.NATIVE_CONTROL,disabled:t||f,checked:e||!1},y=d&&e&&u!=="small",b=h&&!e&&u!=="small";return g.createElement("div",Object.assign({className:m,style:a,onMouseEnter:o,onMouseLeave:l},this.getDataAttr(_)),f?g.createElement(qi,{wrapperClassName:ps.LOADING_SPIN,size:u==="default"?"middle":u}):g.createElement("div",{className:ps.KNOB,"aria-hidden":!0}),y?g.createElement("div",{className:ps.CHECKED_TEXT,"x-semi-prop":"checkedText"},d):null,b?g.createElement("div",{className:ps.UNCHECKED_TEXT,"x-semi-prop":"uncheckedText"},h):null,g.createElement("input",Object.assign({},v,{ref:this.switchRef,id:p,role:"switch","aria-checked":e,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-disabled":this.props.disabled,onChange:w=>this.foundation.handleChange(w.target.checked,w),onFocus:w=>this.handleFocusVisible(w),onBlur:w=>this.handleBlur(w)})))}}LT.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,className:c.string,checked:c.bool,checkedText:c.node,defaultChecked:c.bool,disabled:c.bool,loading:c.bool,onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,style:c.object,size:c.oneOf(Zme.SIZE_MAP),uncheckedText:c.node,id:c.string};LT.defaultProps={disabled:!1,className:"",onChange:k,loading:!1,onMouseEnter:k,onMouseLeave:k,size:"default"};var eye="\\ud800-\\udfff",tye="\\u0300-\\u036f",nye="\\ufe20-\\ufe2f",rye="\\u20d0-\\u20ff",sye=tye+nye+rye,iye="\\ufe0e\\ufe0f",aye="\\u200d",oye=RegExp("["+aye+eye+sye+iye+"]");function lye(n){return oye.test(n)}var Mj=lye,uye=N1;function cye(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:uye(n,e,t)}var dye=cye,hye=fi,fye=Yr,pye="[object RegExp]";function gye(n){return fye(n)&&hye(n)==pye}var mye=gye,yye=mye,vye=gd,pA=hp,gA=pA&&pA.isRegExp,_ye=gA?vye(gA):yye,bye=_ye;function wye(n){return n.split("")}var Eye=wye,Fj="\\ud800-\\udfff",Sye="\\u0300-\\u036f",Cye="\\ufe20-\\ufe2f",Tye="\\u20d0-\\u20ff",Oye=Sye+Cye+Tye,Iye="\\ufe0e\\ufe0f",Pye="["+Fj+"]",_S="["+Oye+"]",bS="\\ud83c[\\udffb-\\udfff]",xye="(?:"+_S+"|"+bS+")",jj="[^"+Fj+"]",Vj="(?:\\ud83c[\\udde6-\\uddff]){2}",Uj="[\\ud800-\\udbff][\\udc00-\\udfff]",Rye="\\u200d",Bj=xye+"?",Hj="["+Iye+"]?",Aye="(?:"+Rye+"(?:"+[jj,Vj,Uj].join("|")+")"+Hj+Bj+")*",Dye=Hj+Bj+Aye,kye="(?:"+[jj+_S+"?",_S,Vj,Uj,Pye].join("|")+")",Nye=RegExp(bS+"(?="+bS+")|"+kye+Dye,"g");function $ye(n){return n.match(Nye)||[]}var Lye=$ye,Mye=Eye,Fye=Mj,jye=Lye;function Vye(n){return Fye(n)?jye(n):Mye(n)}var Uye=Vye,Bye=XL,Hye=dye,zye=Mj,Kye=A1,Wye=bye,Gye=Uye,Yye=Nv,qye=4294967295;function Xye(n,e,t){return t&&typeof t!="number"&&Kye(n,e,t)&&(e=t=void 0),t=t===void 0?qye:t>>>0,t?(n=Yye(n),n&&(typeof e=="string"||e!=null&&!Wye(e))&&(e=Bye(e),!e&&zye(n))?Hye(Gye(n),0,t):n.split(e,t)):[]}var Qye=Xye;const y0=ge(Qye),Dg=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G1;if(n instanceof Date)return n;if(typeof n=="number")return new Date(Es(n));if(typeof n=="string"){if(n==="")return;let r=new Date;return r=_2(n,e,r,{locale:t}),r}else if(typeof n>"u")return;return new Date},kg=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G1;return et(n,e,{locale:t})},Zye=(n,e)=>{if(typeof n=="function"){const t=n();if(Array.isArray(t)&&!ct(e)&&t.some(r=>Es(r)===Es(e)))return!0}return!1},Jye=(n,e,t)=>{if(typeof n=="function"){const r=n(e);if(Array.isArray(r)&&!ct(e)&&!ct(t)&&r.some(s=>Es(s)===Es(t)))return!0}return!1},eve=(n,e,t,r)=>{if(typeof n=="function"){const s=n(e,t);if(Array.isArray(s)&&!ct(e)&&!ct(t)&&!ct(r)&&s.some(i=>Es(i)===Es(r)))return!0}return!1},v0=n=>Array.isArray(n)?[...n]:[],tve=(n,e)=>{let t=!0;const r="BDEGHKLMOPQRSTXYabcehimopqstuwxyz",s=new RegExp(`[${r}]`,"g"),i=new RegExp(`[^${r}]`,"g"),a=/[H|m|s]{1,2}/,o=e.split(i),l=e.replace(s,""),u=new RegExp(`[${l}]`,"g"),d=n.split(u);if(o.length!==d.length)t=!1;else for(let h=0,f=d.length;h<f;h++){const p=o[h],_=d[h];if(a.test(p)&&_.length<p.length){t=!1;break}}return t};let nve=class extends Pe{constructor(e){super(Object.assign({},e))}init(){this.initDataFromDefaultValue(),(this._isControlledComponent("open")?this.getProp("open"):this.getProp("defaultOpen"))&&!this._isControlledComponent("open")&&this._adapter.registerClickOutSide()}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||Qt.DEFAULT_TYPE,s=this.getContext("direction")==="rtl"?"bottomRight":"";return e||s||Qt.DEFAULT_POSITION[t]}isDisabledHMS(e){let{hours:t,minutes:r,seconds:s}=e;const{disabledHours:i,disabledMinutes:a,disabledSeconds:o}=this.getProps(),l=!ct(t)&&Zye(i,t),u=!ct(t)&&!ct(r)&&Jye(a,t,r),d=!ct(t)&&!ct(r)&&!ct(s)&&eve(o,t,r,s);return l||u||d}isValidTimeZone(e){return["string","number"].includes(typeof e)&&e!==""}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?Qt.DEFAULT_FORMAT_A:Qt.DEFAULT_FORMAT}initDataFromDefaultValue(){const e=this.getProp("defaultValue");let t=this.getProp("value");const r=this.getProp("timeZone"),s=this.getValidFormat(),{rangeSeparator:i,dateFnsLocale:a}=this.getProps();t=t||e,Array.isArray(t)||(t=t?[t]:[]);const o=[];let l=!1;t.forEach(h=>{const f=Dg(h,s,a);isNaN(f.getTime())||o.push(this.isValidTimeZone(r)?gS(f,r):f)});const u=[!0,!1];o.map((h,f)=>{u[f]=cre(h)<12}),o.length===t.length?t=o:(t=[],t.length&&(l=!0));let d="";l||(d=t.map(h=>kg(h,s,a)).join(i)),this.setState({isAM:u,value:t,inputValue:d,invalid:l})}getValidFormat(e){let t=e;return ct(t)&&(t=this.getDefaultFormatIfNeed()),typeof t!="string"&&(t=Qt.DEFAULT_FORMAT),t}handlePanelChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.getValidFormat(),s=this.getProp("dateFnsLocale"),i=this.getState("value");let a=this.getState("isAM");const o=v0(i);if(a=v0(a),e){const l=!!e.isAM,u=Dg(e.timeStampValue,r,s);o[t]=u,a[t]=l;const d=this.formatValue(o);if(this.getState("isAM")[t]!==e.isAM&&this.setState({isAM:a}),!this._isControlledComponent("value")){const h=this.validateDates(o);this.setState({isAM:a,value:o,inputValue:d,invalid:h})}this._hasChanged(o,i)&&this._notifyChange(o,d)}}refreshProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{value:t,timeZone:r,__prevTimeZone:s}=e;let i=this.parseValue(t),a=i.some(l=>isNaN(Number(l)));a||(this.isValidTimeZone(r)&&(i=i.map(l=>gS(this.isValidTimeZone(s)?bc(l,s):l,r))),a=i.some(l=>this.isDisabledHMS({hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds()})));const o=this.formatValue(i);this.setState({value:i,invalid:a,inputValue:o})}handleFocus(e){this.getState("open")||this.handlePanelOpen(),this._adapter.notifyFocus(e)}setPanel(e){this._adapter.togglePanel(e)}destroy(){this._adapter.unregisterClickOutSide()}handlePanelOpen(){this._isControlledComponent("open")||(this._adapter.registerClickOutSide(),this.setPanel(!0)),this._adapter.notifyOpenChange(!0)}handlePanelClose(e,t){this._isControlledComponent("open")||(this._adapter.unregisterClickOutSide(),this.setPanel(!1)),this._adapter.notifyOpenChange(!1),this._adapter.notifyBlur(t)}handleVisibleChange(e){this._isControlledComponent("open")||this._adapter.togglePanel(e),this._adapter.notifyOpenChange(e)}handleInputChange(e){this._adapter.setInputValue(e);const t=this.getProp("rangeSeparator"),r=y0(e,t),s=this.getValidFormat();if(e!==""&&r.some(d=>!tve(d,s)))return;const i=this.parseInput(e),a=this.validateDates(i),o={invalid:a},l=this.getState("value");let u=v0(l);a||(o.value=i,u=[...i]),this._isControlledComponent("value")||this.setState(o),this._hasChanged(u,l)&&this._notifyChange(u,e)}doValidate(e){if(typeof e=="string")return this.validateStr(e);if(Array.isArray(e))return this.validateDates(e)}validateStr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=this.parseInput(e);return this.validateDates(t)}validateDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=e.some(r=>isNaN(Number(r)));return t||(t=e.some(r=>this.isDisabledHMS({hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds()}))),t}handleInputBlur(e){const t=this.getState("invalid"),r=this.getState("inputValue"),s=this.getState("value");r?t?this.setState({inputValue:this.formatValue(s),invalid:!1}):this.setState({inputValue:this.formatValue(s)}):this.setState({inputValue:"",value:[],invalid:!1})}formatValue(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");let i=e;if(i&&!Array.isArray(i)&&(i=i[i]),i&&Array.isArray(i))return i.map(o=>{let l;return dt(o)?l="":l=kg(o,t,s),l}).join(r)}parseInput(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");return e&&typeof e=="string"?y0(e,r).map(i=>Dg(i,t,s)):[]}parseValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getValidFormat(),r=this.getProp("dateFnsLocale");let s=e;return Array.isArray(s)||(s=s?[s]:[]),Array.isArray(s)?s.map(i=>Dg(i,t,r)):[]}_notifyChange(e,t){let r=t,s=e;const i=this.getProp("timeZone");if(this._adapter.isRangePicker()){const o=this.getProp("rangeSeparator");r=y0(t,o)}else s=Array.isArray(s)?s[0]:s;if(this.isValidTimeZone(i)&&s){const o=this.getValidFormat();Array.isArray(s)?(s=s.map(l=>bc(l,i)),r=s.map(l=>et(l,o))):(s=bc(s,i),r=et(s,o))}this.getProp("onChangeWithDateFirst")?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_hasChanged(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=this.getValidFormat(),s=this.getProp("dateFnsLocale");return e.length!==t.length||e.some((i,a)=>{const o=t[a];return!(Ss(i)&&Ss(o)&&kg(i,r,s)===kg(o,r,s))})}};class rve extends Pe{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleFocus(e){this.storeCursor(),this._adapter.notifyFocus(e)}handleChange(e){this.storeCursor(),this._adapter.notifyChange(e)}handleBlur(e){this.clearCursor(),this._adapter.notifyBlur(e)}storeCursor(){const e=this.getCache("inputNode");if(e){const{selectionStart:t}=e;this.setCache("cursorIndex",t)}}restoreCursor(){const e=this.getCache("inputNode"),t=this.getCache("cursorIndex");e&&!ct(t)&&(e.selectionStart=t,e.selectionEnd=t)}clearCursor(){this.setCache("cursorIndex",null),this.setCache("beforeStr",null),this.setCache("afterStr",null)}}var sve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class MT extends we{constructor(e){super(e),this.setRef=t=>this.adapter.setCache("inputNode",t),this.handleClick=t=>this.props.onClick(t),this.handleFocus=t=>this.foundation.handleFocus(t),this.handleBlur=t=>this.foundation.handleBlur(t),this.handleChange=t=>this.foundation.handleChange(t),this.foundation=new rve(this.adapter),this.state={}}componentDidMount(){super.componentDidMount();const{focusOnOpen:e,preventScroll:t}=this.props;e&&(window.requestAnimationFrame||window.setTimeout)(()=>{const s=this.adapter.getCache("inputNode");s&&(s.focus({preventScroll:t}),s.select())})}componentDidUpdate(e){const{timeStampValue:t}=this.props;this.isControlled("timeStampValue")&&t!==this.state.timeStampValue&&this.foundation.restoreCursor(),this.props.value!==e.value&&this.foundation.restoreCursor()}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyChange:function(){return e.props.onChange(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)}})}getInput(){const e=this.props,{prefixCls:t,placeholder:r,inputReadOnly:s,onFocus:i,disabled:a,type:o,locale:l,localeCode:u,insetLabel:d,validateStatus:h,value:f,onChange:p,invalid:_,format:m,clearText:v,disabledHours:y,disabledMinutes:b,disabledSeconds:w,onEsc:E,defaultOpenValue:S,currentSelectPanel:C,focusOnOpen:O,timeStampValue:I,timeZone:P,defaultOpen:x,dateFnsLocale:D}=e,N=sve(e,["prefixCls","placeholder","inputReadOnly","onFocus","disabled","type","locale","localeCode","insetLabel","validateStatus","value","onChange","invalid","format","clearText","disabledHours","disabledMinutes","disabledSeconds","onEsc","defaultOpenValue","currentSelectPanel","focusOnOpen","timeStampValue","timeZone","defaultOpen","dateFnsLocale"]),L=A(`${t}-input`,{[`${t}-input-invalid`]:_,[`${t}-input-readonly`]:s}),V=_?"error":h;return g.createElement(Zt,Object.assign({},N,{hideSuffix:!0,className:L,ref:this.setRef,value:f,placeholder:r||l.placeholder[o],readonly:!!s,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,suffix:g.createElement(O2,{onClick:this.handleClick}),validateStatus:V,disabled:a,insetLabel:d}))}render(){const{prefixCls:e}=this.props;return g.createElement("div",{className:`${e}-input-wrap`},this.getInput())}}MT.propTypes={borderless:c.bool,format:c.string,prefixCls:c.string,placeholder:c.string,clearText:c.string,inputReadOnly:c.bool,hourOptions:c.array,minuteOptions:c.array,secondOptions:c.array,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,onChange:c.func,onFocus:c.func,onBlur:c.func,onEsc:c.func,onClick:c.func,defaultOpenValue:c.object,currentSelectPanel:c.string,focusOnOpen:c.bool,timeStampValue:c.any,locale:c.object,localeCode:c.string,insetLabel:c.node,validateStatus:c.string,preventScroll:c.bool};MT.defaultProps={borderless:!1,inputReadOnly:!1,onChange:k,onBlur:k,onFocus:k,onClick:k,disabledHours:k,disabledMinutes:k,disabledSeconds:k,format:Qt.DEFAULT_FORMAT};const mA={panelHeader:c.oneOfType([c.node,c.string]),panelFooter:c.oneOfType([c.node,c.string])},ive={},ave=[c.string,c.number,c.instanceOf(Date)],yA=c.oneOfType([...ave,c.arrayOf(c.string),c.arrayOf(c.number),c.arrayOf(c.instanceOf(Date))]);var ove=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Ed extends we{constructor(e){var t;super(e),t=this,this.onCurrentSelectPanelChange=s=>{this.setState({currentSelectPanel:s})},this.handlePanelChange=(s,i)=>this.foundation.handlePanelChange(s,i),this.handleInput=s=>this.foundation.handleInputChange(s),this.createPanelProps=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const{panels:i,panelFooter:a,panelHeader:o,locale:l}=t.props,u={panelHeader:o,panelFooter:a};if(t.adapter.isRangePicker()){const d={0:l.begin,1:l.end};u.panelHeader=K(i,s,ct(o)?K(d,s,null):Array.isArray(o)?o[s]:o),u.panelFooter=K(i,s,Array.isArray(a)?a[s]:a)}return u},this.handlePanelVisibleChange=s=>this.foundation.handleVisibleChange(s),this.openPanel=()=>{this.foundation.handlePanelOpen()},this.handleFocus=s=>{this.foundation.handleFocus(s)},this.handleBlur=s=>this.foundation.handleInputBlur(s),this.setTimePickerRef=s=>this.timePickerRef.current=s;const{format:r=Qt.DEFAULT_FORMAT}=e;this.state={open:e.open||e.defaultOpen||!1,value:[],inputValue:"",currentSelectPanel:0,isAM:[!0,!1],showHour:!!r.match(/HH|hh|H|h/g),showMinute:!!r.match(/mm/g),showSecond:!!r.match(/ss/g),invalid:void 0},this.foundation=new nve(this.adapter),this.timePickerRef=g.createRef(),this.savePanelRef=g.createRef(),this.useCustomTrigger=typeof this.props.triggerRender=="function"}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:t=>{this.setState({open:t})},registerClickOutSide:()=>{this.clickOutSideHandler&&this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=t=>{const r=this.savePanelRef&&this.savePanelRef.current,s=this.timePickerRef&&this.timePickerRef.current,i=t.target,a=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(a.includes(s)||a.includes(r))&&this.foundation.handlePanelClose(!0,t)},document.addEventListener("mousedown",this.clickOutSideHandler)},setInputValue:(t,r)=>this.setState({inputValue:t},r),unregisterClickOutSide:()=>{this.clickOutSideHandler&&(document.removeEventListener("mousedown",this.clickOutSideHandler),this.clickOutSideHandler=null)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyChange:(t,r)=>this.props.onChange&&this.props.onChange(t,r),notifyFocus:function(){return e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur&&e.props.onBlur(...arguments)},isRangePicker:()=>this.props.type===Qt.TYPE_TIME_RANGE_PICKER})}static getDerivedStateFromProps(e,t){return"open"in e&&e.open!==t.open?{open:e.open}:null}componentDidUpdate(e){this.isControlled("value")&&this.props.value!==e.value?this.foundation.refreshProps(Object.assign({},this.props)):this.props.timeZone!==e.timeZone&&this.foundation.refreshProps({timeZone:this.props.timeZone,__prevTimeZone:e.timeZone,value:this.state.value})}getPanelElement(){const{prefixCls:e,type:t}=this.props,{isAM:r,value:s}=this.state,i=this.foundation.getDefaultFormatIfNeed(),a=[g.createElement(Ef,Object.assign({},this.props,{key:0,format:i,isAM:r[0],timeStampValue:s[0],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,0),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(0)))];t===Qt.TYPE_TIME_RANGE_PICKER&&a.push(g.createElement(Ef,Object.assign({},this.props,{key:1,format:i,isAM:r[1],timeStampValue:s[1],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,1),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(1))));const o=A({[yS.RANGE_PANEL_LISTS]:this.adapter.isRangePicker()});return g.createElement("div",{ref:this.savePanelRef,className:o},a.map(l=>l))}getPopupClassName(){const{use12Hours:e,prefixCls:t,popupClassName:r}=this.props,{showHour:s,showMinute:i,showSecond:a}=this.state;let o=0;return s&&(o+=1),i&&(o+=1),a&&(o+=1),e&&(o+=1),A(`${t}-panel`,r,{[`${t}-panel-narrow`]:(!s||!i||!a)&&!e,[yS.RANGE_PICKER]:this.adapter.isRangePicker()},`${t}-panel-column-${o}`)}focus(){}blur(){}render(){const e=this.props,{prefixCls:t,placeholder:r,disabled:s,defaultValue:i,dropdownMargin:a,className:o,popupStyle:l,size:u,style:d,locale:h,localeCode:f,zIndex:p,getPopupContainer:_,insetLabel:m,insetLabelId:v,inputStyle:y,showClear:b,panelHeader:w,panelFooter:E,rangeSeparator:S,onOpenChange:C,onChangeWithDateFirst:O,popupClassName:I,hideDisabledOptions:P,use12Hours:x,minuteStep:D,hourStep:N,secondStep:L,scrollItemProps:V,triggerRender:B,motion:F,autoAdjustOverflow:W,stopPropagation:$}=e,j=ove(e,["prefixCls","placeholder","disabled","defaultValue","dropdownMargin","className","popupStyle","size","style","locale","localeCode","zIndex","getPopupContainer","insetLabel","insetLabelId","inputStyle","showClear","panelHeader","panelFooter","rangeSeparator","onOpenChange","onChangeWithDateFirst","popupClassName","hideDisabledOptions","use12Hours","minuteStep","hourStep","secondStep","scrollItemProps","triggerRender","motion","autoAdjustOverflow","stopPropagation"]),M=this.foundation.getDefaultFormatIfNeed(),te=this.foundation.getPosition(),{open:Q,inputValue:ie,invalid:le,value:Ee}=this.state,he=this.getPopupClassName(),de=A({[`${t}-header`]:!0}),ue=A({[`${t}-panel`]:!0,[`${t}-panel-${u}`]:u}),q=Object.assign(Object.assign({},j),{disabled:s,prefixCls:t,size:u,showClear:s?!1:b,style:y,value:ie,onFocus:this.handleFocus,insetLabel:m,insetLabelId:v,format:M,locale:h,localeCode:f,invalid:le,placeholder:r,onChange:this.handleInput,onBlur:this.handleBlur}),se={};return this.useCustomTrigger&&(se.onClick=this.openPanel),g.createElement("div",Object.assign({ref:this.setTimePickerRef,className:A({[t]:!0},o),style:d},se),g.createElement(yr,{getPopupContainer:_,zIndex:p,prefixCls:ue,contentClassName:he,style:l,content:this.getPanelElement(),trigger:"custom",position:te,visible:s?!1:!!Q,motion:F,margin:a,autoAdjustOverflow:W,stopPropagation:$},this.useCustomTrigger?g.createElement(fu,{triggerRender:B,disabled:s,value:Ee,inputValue:ie,onChange:this.handleInput,placeholder:r,componentName:"TimePicker",componentProps:Object.assign({},this.props)}):g.createElement("span",{className:de},g.createElement(MT,Object.assign({},q)))))}}Ed.contextType=kr;Ed.propTypes=Object.assign(Object.assign({"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,prefixCls:c.string,borderless:c.bool,clearText:c.string,clearIcon:c.node,value:yA,inputReadOnly:c.bool,disabled:c.bool,showClear:c.bool,defaultValue:yA,open:c.bool,defaultOpen:c.bool,onOpenChange:c.func,position:c.any,getPopupContainer:c.func,placeholder:c.string,format:c.string,style:c.object,className:c.string,popupClassName:c.string,popupStyle:c.object,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,dropdownMargin:c.oneOfType([c.number,c.object]),hideDisabledOptions:c.bool,onChange:c.func,use12Hours:c.bool,hourStep:c.number,minuteStep:c.number,secondStep:c.number,focusOnOpen:c.bool,autoFocus:c.bool,size:c.oneOf(Qt.SIZE),stopPropagation:c.bool,panels:c.arrayOf(c.shape(mA)),onFocus:c.func,onBlur:c.func,locale:c.object,localeCode:c.string,dateFnsLocale:c.object,zIndex:c.oneOfType([c.number,c.string]),insetLabel:c.node,insetLabelId:c.string,validateStatus:c.oneOf(Qt.STATUS),type:c.oneOf(Qt.TYPES),rangeSeparator:c.string,triggerRender:c.func,timeZone:c.oneOfType([c.string,c.number]),scrollItemProps:c.object,motion:c.oneOfType([c.bool,c.func,c.object]),autoAdjustOverflow:c.bool},mA),{inputStyle:c.object,preventScroll:c.bool});Ed.defaultProps=Object.assign({autoAdjustOverflow:!0,borderless:!1,getPopupContainer:()=>document.body,showClear:!0,zIndex:is.DEFAULT_Z_INDEX,rangeSeparator:Qt.DEFAULT_RANGE_SEPARATOR,onOpenChange:k,clearText:"clear",prefixCls:yS.PREFIX,inputReadOnly:!1,style:{},stopPropagation:!0,className:"",popupClassName:"",popupStyle:{left:"0px",top:"0px"},disabledHours:()=>[],disabledMinutes:()=>[],disabledSeconds:()=>[],hideDisabledOptions:!1,onFocus:k,onBlur:k,onChange:k,onChangeWithDateFirst:!0,use12Hours:!1,focusOnOpen:!1,onKeyDown:k,size:"default",type:Qt.DEFAULT_TYPE,motion:!0},ive);class Of extends g.PureComponent{render(){const{type:e}=this.props;return g.createElement(kr.Consumer,null,t=>{let{timeZone:r}=t;return g.createElement(dn,{componentName:"TimePicker"},(s,i,a)=>g.createElement(Ed,Object.assign({timeZone:r,placeholder:K(s,["placeholder",e])},this.props,{locale:s,localeCode:i,dateFnsLocale:a})))})}}Of.propTypes=Ed.propTypes;Of.__SemiComponentName__="TimePicker";Of.defaultProps=ds(Of.__SemiComponentName__,Ed.defaultProps);class FT extends Pe{constructor(e){super(Object.assign(Object.assign({},FT.defaultAdapter),e)),this.handleMouseInSideChange=t=>{this._adapter.handleMouseInSideChange(t)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map(r=>{let{id:s}=r;return s}).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let r=this._adapter.getState("list");r=r.map(i=>i.id===e?Object.assign(Object.assign({},i),t):i);const s=r.filter(i=>i.id===e);this._adapter.updateToast(r,[],s)}removeToast(e){let t=this._adapter.getState("list");const r=[];t=t.filter(s=>s.id===e?(r.push(s),!1):!0),this._adapter.updateToast(t,r,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const vA=`${Y}-toast`,ju={PREFIX:vA,WRAPPER:`${vA}-wrapper`},$h={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]},lve={duration:3};class jT extends Pe{constructor(e){super(Object.assign(Object.assign({},jT.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&jt(e)&&(this._timer=setTimeout(()=>{this.close()},e*1e3))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}const Ks=ju.PREFIX;let Gl=class extends we{constructor(e){super(e),this.toastEle=g.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new jT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:e,icon:t}=this.props,s={warning:g.createElement(Y1,null),success:g.createElement(x2,null),info:g.createElement(I2,null),error:g.createElement(gf,null)}[e],i="large",a=A(`${Ks}-icon`,`${Ks}-icon-${e}`);return t?dr(t)?g.cloneElement(t,{size:i,className:`${Ks}-icon`}):t:e&&s?g.cloneElement(s,{size:i,className:a}):null}render(){const{content:e,type:t,theme:r,showClose:s,textMaxWidth:i,className:a,style:o}=this.props,l=this.props.direction||this.context.direction,u=A(Ks,a,{[`${Ks}-${t}`]:!0,[`${Ks}-${r}`]:r==="light",[`${Ks}-rtl`]:l==="rtl"}),d={};d.maxWidth=i;const h="borderless",f="small",p=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,_=g.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:u,style:Object.assign(Object.assign({},o),{transform:`translate3d(0,0,${p*-10}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},g.createElement("div",{className:`${Ks}-content`},this.renderIcon(),g.createElement("span",{className:`${Ks}-content-text`,style:d,"x-semi-prop":"content"},e),s&&g.createElement("div",{className:`${Ks}-close-button`},g.createElement(xs,{onClick:m=>this.close(m),type:"tertiary",icon:g.createElement(Hv,{"x-semi-prop":"icon"}),theme:h,size:f}))));if(this.props.stack){const m=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return g.createElement("div",{className:`${Ks}-zero-height-wrapper`,style:{height:m}},_)}else return _}};Gl.contextType=kr;Gl.propTypes={onClose:c.func,content:c.node,close:c.func,duration:c.number,theme:c.oneOf($h.themes),type:c.oneOf($h.types),textMaxWidth:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,showClose:c.bool,stack:c.bool,stackExpanded:c.bool,icon:c.node,direction:c.oneOf($h.directions)};Gl.__SemiComponentName__="Toast";Gl.defaultProps=ds(Gl.__SemiComponentName__,{onClose:k,content:"",close:k,duration:lve.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var uve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const cve=(n,e)=>{var{afterClose:t}=n,r=uve(n,["afterClose"]);const[s,i]=T.useState(!0),a=()=>{i(!1)};return g.useImperativeHandle(e,()=>({close:()=>{i(!1)}})),T.useEffect(()=>{s||t(r.id)},[s]),s?g.createElement(Gl,Object.assign({},r,{close:a})):null},dve=g.forwardRef(cve),qd={motion:!0,zIndex:1010,duration:3};function hve(){const[n,e]=g.useState([]);function t(r,s){return e(i=>[{element:r,config:s},...i]),i=>{e(a=>a.filter(o=>{let{config:l}=o;return l.id!==i}))}}return[n,t]}function fve(){const[n,e]=hve(),t=T.useRef(new Map),r=i=>{const a=dy("semi_toast_"),o=Object.assign(Object.assign({},i),{id:a});let l;const u=g.createElement(dve,Object.assign({},o,{key:a,afterClose:d=>l(d),ref:d=>{var h;t.current.set(a,{close:(h=d==null?void 0:d.close)!==null&&h!==void 0?h:k})}}));return l=e(u,Object.assign({},o)),a},s=i=>{var a;const{close:o}=(a=t.current.get(i))!==null&&a!==void 0?a:{};o==null||o()};return[{success:i=>r(Object.assign(Object.assign(Object.assign({},qd),i),{type:"success"})),info:i=>r(Object.assign(Object.assign(Object.assign({},qd),i),{type:"info"})),error:i=>r(Object.assign(Object.assign(Object.assign({},qd),i),{type:"error"})),warning:i=>r(Object.assign(Object.assign(Object.assign({},qd),i),{type:"warning"})),open:i=>r(Object.assign(Object.assign(Object.assign({},qd),i),{type:"default"})),close:i=>s(i)},g.createElement(g.Fragment,null,Array.isArray(n)&&n.length?g.createElement(g.Fragment,null,n.map(i=>i.element)):null)]}const pve=()=>{var n;return n=class ot extends we{constructor(t){super(t),this.stack=!1,this.innerWrapperRef=g.createRef(),this.handleMouseEnter=r=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=r=>{var s;this.stack&&(!((s=this.foundation.getInputWrapperRect())===null||s===void 0)&&s.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new FT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(t,r,s)=>{this.setState({list:t,removedItems:r,updatedItems:s})},handleMouseInSideChange:t=>{this.setState({mouseInSide:t})},getInputWrapperRect:()=>{var t;return(t=this.innerWrapperRef.current)===null||t===void 0?void 0:t.getBoundingClientRect()}})}static create(t){var r;const s=(r=t.id)!==null&&r!==void 0?r:dy("toast");if(ot.ref){const i=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(a=>{a in t&&(i.style[a]=typeof t[a]=="number"?`${t[a]}px`:t[a])}),!!t.stack!==ot.ref.stack&&(ot.ref.stack=!!t.stack),ot.ref.has(s)?ot.ref.update(s,Object.assign(Object.assign({},t),{id:s})):ot.ref.add(Object.assign(Object.assign({},t),{id:s}))}else{const i=document.createElement("div");this.wrapperId||(this.wrapperId=dy("toast-wrapper").slice(0,26)),i.className=ju.WRAPPER,i.id=this.wrapperId,i.style.zIndex=String(typeof t.zIndex=="number"?t.zIndex:ot.defaultOpts.zIndex),["top","left","bottom","right"].map(a=>{if(a in ot.defaultOpts||a in t){const o=t[a]?t[a]:ot.defaultOpts[a];i.style[a]=typeof o=="number"?`${o}px`:o}}),ot.defaultOpts.getPopupContainer?ot.defaultOpts.getPopupContainer().appendChild(i):document.body.appendChild(i),Pr.render(g.createElement(ot,{ref:a=>ot.ref=a}),i,()=>{ot.ref.add(Object.assign(Object.assign({},t),{id:s})),ot.ref.stack=!!t.stack})}return s}static close(t){ot.ref&&ot.ref.remove(t)}static destroyAll(){if(ot.ref){ot.ref.destroyAll();const t=document.querySelector(`#${this.wrapperId}`);Pr.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),ot.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ot.defaultOpts),t),{type:"info"}))}static warning(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ot.defaultOpts),t),{type:"warning"}))}static error(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ot.defaultOpts),t),{type:"error"}))}static success(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ot.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach(r=>{r in t&&(ot.defaultOpts[r]=t[r])}),typeof t.theme=="string"&&$h.themes.includes(t.theme)&&(ot.defaultOpts.theme=t.theme),typeof t.zIndex=="number"&&(ot.defaultOpts.zIndex=t.zIndex),typeof t.duration=="number"&&(ot.defaultOpts.duration=t.duration),typeof t.getPopupContainer=="function"&&(ot.defaultOpts.getPopupContainer=t.getPopupContainer)}has(t){return this.foundation.hasToast(t)}add(t){return this.foundation.addToast(t)}update(t,r){return this.foundation.updateToast(t,r)}remove(t){return this.foundation.removeToast(t)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:t}=this.state;const{removedItems:r,updatedItems:s}=this.state;t=Array.from(new Set([...t,...r]));const i=s.map(o=>{let{id:l}=o;return l}),a=o=>{var l;!((l=o==null?void 0:o.foundation)===null||l===void 0)&&l._id&&i.includes(o.foundation._id)&&o.foundation.restartCloseTimer()};return g.createElement(g.Fragment,null,g.createElement("div",{className:A({[`${ju.PREFIX}-innerWrapper`]:!0,[`${ju.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t.map((o,l)=>{const u=r.find(d=>d.id===o.id)!==void 0;return g.createElement(pf,{key:o.id,motion:o.motion,animationState:u?"leave":"enter",startClassName:u?`${ju.PREFIX}-animation-hide`:`${ju.PREFIX}-animation-show`},d=>{let{animationClassName:h,animationEventsNeedBind:f,isAnimating:p}=d;return u&&!p?null:g.createElement(Gl,Object.assign({},o,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:t.length,index:l},className:A({[o.className]:!!o.className,[h]:!0})},f,{style:Object.assign({},o.style),close:_=>this.remove(_),ref:a}))})})))}},n.defaultOpts={motion:!0,zIndex:1010,content:""},n.propTypes={content:c.node,duration:c.number,onClose:c.func,icon:c.node,direction:c.oneOf($h.directions),stack:c.bool},n.defaultProps={},n};class gve{static create(e){const t=pve();return t.useToast=fve,e&&t.config(e),t}}const ln=gve.create();function _0(n){return QM(n,e=>{if(wG(e)&&!e._innerDataTag||g.isValidElement(e))return e})}const mve=J2.PREFIX;class VT extends T.PureComponent{constructor(e){super(e),this._onResize=t=>{const r=t&&t[1]&&t[1].target;if(r){const s=K(r,"offsetHeight")||0,i=window.getComputedStyle(r)||{},a=parseInt(K(i,"paddingTop"),10)||0,o=parseInt(K(i,"paddingBottom"),10)||0,l=s-a-o;this.state.height!==l&&this.setState({height:s-a-o})}},this.state={height:this.props.defaultHeight||0}}componentDidMount(){const{height:e}=this.state}render(){const{children:e,defaultWidth:t,defaultHeight:r}=this.props,{height:s}=this.state;let i=!1;return(s===0||typeof s!="number")&&(i=!0),g.createElement(Oo,{observeParent:!0,onResize:this._onResize},g.createElement("div",{style:{height:r,overflow:"visible"},className:`${mve}-auto-wrapper`},!i&&e({height:s,width:t})))}}VT.propTypes={defaultHeight:c.oneOfType([c.number,c.string]),defaultWidth:c.oneOfType([c.number,c.string])};VT.defaultProps={defaultHeight:"100%",defaultWidth:"100%"};const UT=g.createContext(null),yve=n=>{let{prefixcls:e,level:t,isEnd:r,showLine:s}=n;const i=`${e}-indent-unit`,a=[];for(let o=0;o<t;o+=1)a.push(T.createElement("span",{key:o,className:A(i,{[`${i}-end`]:r[o]})}));return T.createElement("span",{"aria-hidden":"true",className:A(`${e}-indent`,{[`${e}-indent-show-line`]:s})},a)},vve=T.memo(yve);var _ve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Je=J2.PREFIX_OPTION;class wc extends T.PureComponent{constructor(e){super(e),this.onSelect=t=>{const{onNodeSelect:r}=this.context;r(t,this.props)},this.onExpand=t=>{const{onNodeExpand:r}=this.context;t&&t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),r(t,this.props)},this.onCheck=t=>{var r,s;if(this.isDisabled())return;const{onNodeCheck:i}=this.context;t.stopPropagation(),(s=(r=t.nativeEvent)===null||r===void 0?void 0:r.stopImmediatePropagation)===null||s===void 0||s.call(r),i(t,this.props)},this.handleCheckEnterPress=t=>{$s(t)&&this.onCheck(t)},this.onContextMenu=t=>{const{onNodeRightClick:r}=this.context;r(t,this.props)},this.onClick=t=>{const{expandAction:r}=this.context;if(r==="doubleClick"){this.debounceSelect(t);return}this.onSelect(t),r==="click"&&this.onExpand(t)},this.handleliEnterPress=t=>{$s(t)&&this.onClick(t)},this.onDoubleClick=t=>{const{expandAction:r,onNodeDoubleClick:s}=this.context;t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),Te(s)&&s(t,this.props),r==="doubleClick"&&this.onExpand(t)},this.onDragStart=t=>{const{onNodeDragStart:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}));try{t.dataTransfer.setData("text/plain","")}catch{}},this.onDragEnter=t=>{const{onNodeDragEnter:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragOver=t=>{const{onNodeDragOver:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragLeave=t=>{const{onNodeDragLeave:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragEnd=t=>{const{onNodeDragEnd:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDrop=t=>{const{onNodeDrop:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.getNodeChildren=()=>{const{children:t}=this.props;return t||[]},this.isLeaf=()=>{const{isLeaf:t,loaded:r}=this.props,{loadData:s}=this.context,i=this.getNodeChildren().length!==0;return t===!1?!1:t||!s&&!i||s&&r&&!i},this.isDisabled=()=>{const{disabled:t}=this.props,{treeDisabled:r}=this.context;return t===!1?!1:!!(r||t)},this.renderSwitcher=()=>this.isLeaf()?g.createElement("span",{className:A(`${Je}-switcher`)},g.createElement("span",{className:`${Je}-switcher-leaf-line`})):null,this.renderRealLabel=()=>{const{renderLabel:t}=this.context,{label:r,keyword:s,data:i,filtered:a,treeNodeFilterProp:o}=this.props;return Te(t)?t(r,i,s):Oe(r)&&a&&s?g.createElement(yp,{highlightClassName:`${Je}-highlight`,component:"span",sourceString:r,searchWords:[s]}):r},this.setRef=t=>{this.refNode=t},this.state={},this.debounceSelect=eM(this.onSelect,500,{leading:!0,trailing:!1})}renderArrow(){const e=!this.isLeaf(),{loading:t,expanded:r,showLine:s}=this.props;return t?g.createElement(qi,{wrapperClassName:`${Je}-spin-icon`}):e?g.createElement(Jie,{role:"button","aria-label":`${r?"Expand":"Collapse"} the tree item`,className:`${Je}-expand-icon`,size:"small",onClick:this.onExpand}):s?this.renderSwitcher():g.createElement("span",{className:`${Je}-empty-icon`})}renderCheckbox(){const{checked:e,halfChecked:t,eventKey:r}=this.props,s=this.isDisabled();return g.createElement("div",{role:"none",onClick:this.onCheck,onKeyPress:this.handleCheckEnterPress},g.createElement(Aa,{"aria-label":"Toggle the checked state of checkbox",value:r,indeterminate:t,checked:e,disabled:!!s}))}renderIcon(){const{directory:e,treeIcon:t}=this.context,{expanded:r,icon:s,data:i}=this.props;return s||(t?typeof t=="function"?t(this.props):t:e?this.isLeaf()?g.createElement(hE,{className:`${Je}-item-icon`}):r?g.createElement(Mie,{className:`${Je}-item-icon`}):g.createElement($ie,{className:`${Je}-item-icon`}):null)}renderEmptyNode(){const{emptyContent:e}=this.props,t=A(Je,{[`${Je}-empty`]:!0});return g.createElement("ul",{className:t},g.createElement("li",{className:`${Je}-label ${Je}-label-empty`,"x-semi-prop":"emptyContent"},e))}render(){const e=this.props,{eventKey:t,expanded:r,selected:s,checked:i,halfChecked:a,loading:o,active:l,level:u,empty:d,filtered:h,treeNodeFilterProp:f,display:p,style:_,isEnd:m,showLine:v}=e,y=_ve(e,["eventKey","expanded","selected","checked","halfChecked","loading","active","level","empty","filtered","treeNodeFilterProp","display","style","isEnd","showLine"]);if(d)return this.renderEmptyNode();const{multiple:b,draggable:w,renderFullLabel:E,dragOverNodeKey:S,dropPosition:C,labelEllipsis:O}=this.context,I=m[m.length-1],P=this.isDisabled(),x=S===t&&C===0,D=S===t&&C===-1,N=S===t&&C===1,L=A(Je,{[`${Je}-level-${u+1}`]:!0,[`${Je}-fullLabel-level-${u+1}`]:E,[`${Je}-collapsed`]:!r,[`${Je}-disabled`]:!!P,[`${Je}-selected`]:s,[`${Je}-active`]:!b&&l,[`${Je}-ellipsis`]:O,[`${Je}-drag-over`]:!P&&x,[`${Je}-draggable`]:!P&&w&&!E,[`${Je}-fullLabel-draggable`]:!P&&w&&E,[`${Je}-fullLabel-drag-over-gap-top`]:!P&&D&&E,[`${Je}-fullLabel-drag-over-gap-bottom`]:!P&&N&&E,[`${Je}-tree-node-last-leaf`]:I}),V={onClick:this.onClick,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,className:L,onExpand:this.onExpand,data:y.data,level:u,onCheck:this.onCheck,style:_,expandIcon:this.renderArrow(),checkStatus:{checked:i,halfChecked:a},expandStatus:{expanded:r,loading:o},filtered:h,searchWord:y.keyword},B={onDoubleClick:this.onDoubleClick,onDragStart:w?this.onDragStart:void 0,onDragEnter:w?this.onDragEnter:void 0,onDragOver:w?this.onDragOver:void 0,onDragLeave:w?this.onDragLeave:void 0,onDrop:w?this.onDrop:void 0,onDragEnd:w?this.onDragEnd:void 0,draggable:!P&&w||void 0};if(E){const j=E(Object.assign({},V));return w?g.cloneElement(j,Object.assign({ref:this.setRef},B)):pt(_)?j:g.cloneElement(j,{style:Object.assign(Object.assign({},K(j,["props","style"])),_)})}const F=A(`${Je}-label`,{[`${Je}-drag-over-gap-top`]:!P&&D,[`${Je}-drag-over-gap-bottom`]:!P&&N}),W=K(y,["data","children","length"]),$=Oe(y.pos)?Number(y.pos.split("-")[u+1])+1:1;return g.createElement("li",Object.assign({className:L,role:"treeitem","aria-disabled":P,"aria-checked":i,"aria-selected":s,"aria-setsize":W,"aria-posinset":$,"aria-expanded":r,"aria-level":u+1,"data-key":t,onClick:this.onClick,onKeyPress:this.handleliEnterPress,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,ref:this.setRef,style:_},B),g.createElement(vve,{showLine:v,prefixcls:Je,level:u,isEnd:m}),this.renderArrow(),g.createElement("span",{className:F},b?this.renderCheckbox():null,this.renderIcon(),g.createElement("span",{className:`${Je}-label-text`},this.renderRealLabel())))}}wc.contextType=UT;wc.propTypes={expanded:c.bool,selected:c.bool,checked:c.bool,halfChecked:c.bool,active:c.bool,disabled:c.bool,loaded:c.bool,loading:c.bool,isLeaf:c.bool,pos:c.string,children:c.oneOfType([c.array,c.object]),icon:c.node,directory:c.bool,keyword:c.string,treeNodeFilterProp:c.string,selectedKey:c.string,motionKey:c.oneOfType([c.string,c.arrayOf(c.string)]),isEnd:c.arrayOf(c.bool),showLine:c.bool};wc.defaultProps={selectedKey:"",motionKey:""};var bve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function wve(n){const{open:e,children:t}=n,r=bve(n,["open","children"]),[s,i]=T.useState(n.open);return T.useEffect(()=>{setTimeout(()=>{i(!n.open)},0)},[]),g.createElement($o,Object.assign({},r,{isOpen:s}),t)}const _A=n=>n.key;class zj extends T.PureComponent{constructor(e){super(e),this.onMotionEnd=()=>{typeof this.props.onMotionEnd=="function"&&this.props.onMotionEnd(),this.setState({transitionNodes:[]})},this.state={transitionNodes:[]}}static getDerivedStateFromProps(e,t){const{flattenNodes:r=[],motionKeys:s,motionType:i,flattenList:a=[]}=e,o=!ke(t.cachedMotionKeys,s)||!ke(t.cachedData.map(_=>_.key),r.map(_=>_.key)),l=[...s];if(!o||!l.length)return null;const u=[],d=[];let h=0,f={};return(i==="hide"&&a?a:r).forEach((_,m)=>{const v=_A(_);s.has(v)?(d.push(_),v===l[0]&&(h=m)):u.push(_)}),u.splice(h,0,d),f={transitionNodes:u,cachedData:r,cachedMotionKeys:s,cachedMotionType:i},f}render(){const{flattenNodes:e,motionType:t,searchTargetIsDeep:r,renderTreeNode:s}=this.props,{transitionNodes:i}=this.state;return(i.length&&!r?i:e).map(l=>{const u=Array.isArray(l);if(u&&!l.length)return null;if(u&&l.length){const d=_A(l[0]);return g.createElement(wve,{open:t==="hide",duration:200,motion:!!t,key:`motion-${d}`,onMotionEnd:this.onMotionEnd},l.map(h=>s(h)))}return s(l)})}}zj.contextType=UT;const Kj={PREFIX:`${Y}-tree-select`,PREFIX_TREE:`${Y}-tree`},Or={SIZE_SET:["small","large","default"],SEARCH_POSITION_DROPDOWN:"dropdown",SEARCH_POSITION_TRIGGER:"trigger",STATUS:fd};class Eve extends Pe{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===R2&&this.getState("isOpen")&&this.close(t)},this._registerClickOutsideHandler=()=>{this._adapter.registerClickOutsideHandler(t=>{this.handlerTriggerBlur(t),this.close(t)})},this.clearInputValue=()=>{const{inputValue:t}=this.getStates();t&&this._adapter.updateInputValue("")},this.onClickSingleTriggerSearchItem=t=>{this.focusInput(!0)}}init(){const{searchAutoFocus:e,searchPosition:t,filterTreeNode:r}=this.getProps(),s=t===Or.SEARCH_POSITION_TRIGGER&&r,i=e&&s;this._setDropdownWidth();const a=!this._isDisabled();(this.getProp("defaultOpen")||i)&&a&&(this.open(),this._registerClickOutsideHandler()),i&&a&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&jt(e.width)||e&&Oe(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getProp("disabled")||e.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){const{inputValue:e}=this.getStates(),{showFilteredOnly:t}=this.getProps();return!!e&&t}findDataForValue(e){const{value:t,defaultValue:r,keyMaps:s}=this.getProps(),i=K(s,"value","value"),a=K(s,"key","key");let o=[];return t?o=Array.isArray(t)?t:[t]:r&&(o=Array.isArray(r)?r:[r]),o.find(l=>l[i]===e||l[a]===e)}constructDataForValue(e){const{treeNodeLabelProp:t,keyMaps:r}=this.getProps(),s=K(r,"key","key"),i=K(r,"label",t);return{[s]:e,[i]:e}}getDataForKeyNotInKeyEntities(e){const{onChangeWithObject:t}=this.getProps();return t?this.findDataForValue(e):this.constructDataForValue(e)}getTreeNodeProps(e){const{expandedKeys:t=new Set([]),selectedKeys:r=[],checkedKeys:s=new Set([]),halfCheckedKeys:i=new Set([]),realCheckedKeys:a=new Set([]),keyEntities:o={},filteredKeys:l=new Set([]),inputValue:u="",loadedKeys:d,loadingKeys:h,filteredExpandedKeys:f=new Set([]),disabledKeys:p=new Set([])}=this.getStates(),{treeNodeFilterProp:_,checkRelation:m}=this.getProps(),v=o[e];if(!v)return null;let b=!1,w=!1;m==="related"?(b=s.has(e),w=i.has(e)):m==="unRelated"&&(b=a.has(e),w=!1);const S={eventKey:e,expanded:!!u?f.has(e):t.has(e),selected:r.includes(e),checked:b,halfChecked:w,pos:String(v?v.pos:""),level:v.level,filtered:l.has(e),keyword:u,treeNodeFilterProp:_,loading:h.has(e)&&!d.has(e),loaded:d.has(e)};return this.getProp("disableStrictly")&&p.has(e)&&(S.disabled=!0),S}handleNodeLoad(e,t,r,s){const{loadData:i}=this.getProps(),{key:a}=r;return!i||e.has(a)||t.has(a)?{}:(i(r).then(()=>{const o=new Set(this.getState("loadedKeys")),l=new Set(this.getState("loadingKeys")),u=o.add(a),d=new Set([...l]);d.delete(a),this._adapter.notifyLoad(u,r),this._isLoadControlled()||this._adapter.updateState({loadedKeys:u}),this._adapter.setState({loadingKeys:d}),s()}),{loadingKeys:t.add(a)})}focusInput(e){this._adapter.updateInputFocus(e)}_notifyMultipleChange(e,t){const{keyEntities:r}=this.getStates(),{leafOnly:s,checkRelation:i,keyMaps:a,autoMergeValue:o}=this.getProps();let l=[];i==="related"?l=o?Qs(e,r,s,!0):e:i==="unRelated"&&(l=e);const u=l.map(d=>r[d]&&r[d].key===d?r[d].data:this.getDataForKeyNotInKeyEntities(d));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(u,t);else{const d=wy(u,a);this._adapter.notifyChange(d,u,t)}}_notifyChange(e,t){const{keyEntities:r}=this.getStates(),{keyMaps:s}=this.getProps();if(this._isMultiple()&&Array.isArray(e))this._notifyMultipleChange(e,t);else{const i=dt(e)?e:r[e].data,a=dt(e)?e:wy(i,s);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(i,t):this._adapter.notifyChange(a,i,t)}}_notifyFocus(e){this._adapter.notifyFocus(e)}handleTriggerFocus(e){this._adapter.updateIsFocus(!0),this._notifyFocus(e),this._registerClickOutsideHandler()}_notifyBlur(e){this._adapter.notifyBlur(e)}handlerTriggerBlur(e){this.getState("isFocus")&&(this._adapter.updateIsFocus(!1),this._notifyBlur(e),this._adapter.unregisterClickOutsideHandler())}toggleHoverState(e){this._adapter.toggleHovering(e)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(e){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(e){const t=this._isDisabled(),{isOpen:r,inputValue:s,isFocus:i}=this.getStates(),{searchPosition:a,clickTriggerToHide:o}=this.getProps();if(!t)if(i||this.handleTriggerFocus(e),r){if(a==="trigger"&&s)return;o&&this.close(e)}else this.open()}handleSelectionEnterPress(e){$s(e)&&this.handleClick(e)}handleClear(e){const{searchPosition:t,filterTreeNode:r}=this.getProps(),{inputValue:s,selectedKeys:i}=this.getStates(),a=this._isMultiple(),o=this._isControlledComponent(),l=a?[]:void 0;this._notifyChange(l,e),o||(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),r&&t===Or.SEARCH_POSITION_TRIGGER&&s!==""&&(pt(i)?this.handleInputChange(""):this.clearInput()),this._adapter.notifyClear(e)}handleClearEnterPress(e){$s(e)&&this.handleClear(e)}removeTag(e){const{disableStrictly:t,checkRelation:r,keyMaps:s}=this.getProps(),{keyEntities:i,disabledKeys:a,realCheckedKeys:o}=this.getStates(),l=i[e]&&i[e].key===e?i[e].data:this.getDataForKeyNotInKeyEntities(e),u=K(s,"disabled","disabled");if(!(l[u]||t&&a.has(e))){if(r==="unRelated"){const d=new Set(o);d.delete(e),this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:d}),this._adapter.rePositionDropdown())}else if(r==="related"){const{checkedKeys:d,halfCheckedKeys:h}=this.calcCheckedKeys(e,!1);this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:d,halfCheckedKeys:h}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(e,!1,l),this._adapter.rePositionDropdown()}}clearInput(){const{flattenNodes:e,expandedKeys:t,selectedKeys:r,keyEntities:s,treeData:i}=this.getStates(),{keyMaps:a}=this.getProps(),o=new Set(t);this._isExpandControlled();const l=Bi(r,s,!1);l.forEach(d=>o.add(d));const u=so(i,o,a);this._adapter.updateState({expandedKeys:o,flattenNodes:u,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(l),filteredShownKeys:new Set([])}),this._adapter.rePositionDropdown()}handleInputChange(e){this._adapter.updateInputValue(e);const{flattenNodes:t,expandedKeys:r,selectedKeys:s,keyEntities:i,treeData:a}=this.getStates(),{showFilteredOnly:o,filterTreeNode:l,treeNodeFilterProp:u,keyMaps:d}=this.getProps(),h=u!=="label"?u:K(d,"label","label"),f=new Set(r);let p=[],_=[],m=[],v=[],y=new Set([]);if(!e)m=Bi(s,i,!1),m.forEach(w=>f.add(w)),v=so(a,f,d);else{const w=Object.values(i).filter(S=>{const{data:C}=S;return tF(e,C,l,h)});p=w.map(S=>S.data),_=w.map(S=>S.key),m=Bi(_,i,!1);const E=Ui(_,i,!0);y=new Set([...E,...m]),v=so(a,new Set(m),d,o&&y)}const b=new Set(m);this._adapter.notifySearch(e,Array.from(b),p),this._adapter.updateState({expandedKeys:f,flattenNodes:v,motionKeys:new Set([]),filteredKeys:new Set(_),filteredExpandedKeys:b,filteredShownKeys:y}),this._adapter.rePositionDropdown()}handleNodeSelect(e,t){this._isDisabled(t)||(this._isMultiple()?this.handleMultipleSelect(e,t):this.handleSingleSelect(e,t))}handleSingleSelect(e,t){let r=[...this.getState("selectedKeys")];const{clickToHide:s}=this.getProps(),{selected:i,eventKey:a,data:o}=t;this._adapter.notifySelect(a,!0,o),!r.includes(a)&&!i&&(r=[a],this._notifyChange(a,e),this._isControlledComponent()||this._adapter.updateState({selectedKeys:r})),s&&(this._isSelectToClose()||!o.children)&&(this.close(e),this.handlerTriggerBlur(e))}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?nF(e,r,s,i):rF(e,r,s,i)}handleMultipleSelect(e,t){const{searchPosition:r,disableStrictly:s,checkRelation:i}=this.getProps(),{inputValue:a,realCheckedKeys:o}=this.getStates(),{checked:l,eventKey:u,data:d}=t;if(i==="related"){const h=s?this.calcCheckedStatus(!l,u):!l,{checkedKeys:f,halfCheckedKeys:p}=s?this.calcNonDisabledCheckedKeys(u,h):this.calcCheckedKeys(u,h);this._adapter.notifySelect(u,h,d),this._notifyChange([...f],e),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:f,halfCheckedKeys:p}),this._adapter.rePositionDropdown())}else if(i==="unRelated"){const h=new Set(o);let f;o.has(u)?(h.delete(u),f=!1):(h.add(u),f=!0),this._adapter.notifySelect(u,f,d),this._notifyChange([...h],e),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:h}),this._adapter.rePositionDropdown())}r===Or.SEARCH_POSITION_TRIGGER&&a!==""&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),a=Qs(Ui([e],r,!1),r,!0);if(!a.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=a.filter(d=>!s.has(d)),u=t?[...l,...i]:by(Qs([...i],r,!0,!0),l);return wp(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),a=Qs(Ui([t],s,!1),s,!0);return a.some(d=>i.has(d))?!a.filter(d=>!i.has(d)).every(d=>r.has(d)):e}handleNodeExpandInSearch(e,t){const{treeData:r,filteredShownKeys:s,keyEntities:i}=this.getStates(),{keyMaps:a}=this.getProps(),o=this._showFilteredOnly(),l=new Set(this.getState("filteredExpandedKeys"));let u="show";const{eventKey:d,expanded:h,data:f}=t;if(h?l.has(d)&&(l.delete(d),u="hide"):l.add(d),this._adapter.cacheFlattenNodes(u==="hide"&&this._isAnimated()),!this._isExpandControlled()){const p=so(r,l,a,o&&s),_=this._isAnimated()?oR(d,l,i):[],m={filteredExpandedKeys:l,flattenNodes:p,motionKeys:new Set(_),motionType:u};this._adapter.updateState(m)}this._adapter.notifyExpand(l,{expanded:!h,node:f})}handleNodeExpand(e,t){const{loadData:r,keyMaps:s}=this.getProps(),{inputValue:i,keyEntities:a}=this.getStates(),o=!!i;if(!r&&(!t.children||!t.children.length))return;const l=this._isExpandControlled();if(o){this.handleNodeExpandInSearch(e,t);return}const{treeData:u}=this.getStates(),d=new Set(this.getState("expandedKeys"));let h="show";const{eventKey:f,expanded:p,data:_}=t;if(p?d.has(f)&&(d.delete(f),h="hide"):d.add(f),this._adapter.cacheFlattenNodes(h==="hide"&&this._isAnimated()),!l){const m=so(u,d,s),v=this._isAnimated()?oR(f,d,a):[],y={expandedKeys:d,flattenNodes:m,motionKeys:new Set(v),motionType:h};this._adapter.updateState(y)}this._adapter.notifyExpand(d,{expanded:!p,node:_})}getRenderTextInSingle(){const{renderSelectedItem:e,treeNodeLabelProp:t,keyMaps:r}=this.getProps(),{selectedKeys:s,keyEntities:i}=this.getStates(),a=K(r,"label",t),o=Te(e)?e:d=>K(d,a,null);let l;if(s.length){const d=s[0];l=i[d]&&i[d].key===d?i[d].data:this.getDataForKeyNotInKeyEntities(d)}return l?o(l):null}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(e,t){this._adapter.updateLoadKeys(e,t)}handlePopoverVisibleChange(e){const{filterTreeNode:t,searchAutoFocus:r,searchPosition:s}=this.getProps();e===!1&&t&&this.clearInputValue(),t&&s===Or.SEARCH_POSITION_DROPDOWN&&e&&r&&this.focusInput(!0)}handleAfterClose(){const{filterTreeNode:e}=this.getProps();e&&this.clearInput()}}var Sve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const De=Kj.PREFIX,rl=Kj.PREFIX_TREE,Cve=0;class p_ extends we{constructor(e){super(e),this.renderSuffix=()=>{const{suffix:t}=this.props,r=A({[`${De}-suffix`]:!0,[`${De}-suffix-text`]:t&&Oe(t),[`${De}-suffix-icon`]:dr(t)});return g.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,a=A({[`${De}-prefix`]:!0,[`${De}-inset-label`]:r,[`${De}-prefix-text`]:i&&Oe(i),[`${De}-prefix-icon`]:dr(i)});return g.createElement("div",{className:a,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderContent=()=>{const{dropdownMinWidth:t}=this.state,{dropdownStyle:r,dropdownClassName:s}=this.props,i=Object.assign({minWidth:t},r),a=A(s,`${De}-popover`);return g.createElement("div",{className:a,style:i,onKeyDown:this.foundation.handleKeyDown},this.renderTree())},this.removeTag=t=>{this.foundation.removeTag(t)},this.handleClick=t=>{this.foundation.handleClick(t)},this.getDataForKeyNotInKeyEntities=t=>this.foundation.getDataForKeyNotInKeyEntities(t),this.handleSelectionEnterPress=t=>{this.foundation.handleSelectionEnterPress(t)},this.hasValue=()=>{const{multiple:t,checkRelation:r}=this.props,{realCheckedKeys:s,checkedKeys:i,selectedKeys:a}=this.state;let o=!1;return t?r==="related"?o=!!i.size:r==="unRelated"&&(o=!!s.size):o=!!a.length,o},this.showClearBtn=()=>{const{showClear:t,disabled:r,searchPosition:s}=this.props,{inputValue:i,isOpen:a,isHovering:o}=this.state,l=s===Or.SEARCH_POSITION_TRIGGER&&i;return t&&(this.hasValue()||l)&&!r&&(a||o)},this.renderTagList=t=>{const{keyEntities:r,disabledKeys:s}=this.state,{treeNodeLabelProp:i,leafOnly:a,disabled:o,disableStrictly:l,size:u,renderSelectedItem:d,keyMaps:h}=this.props,f=K(h,"label",i),p=Te(d)?d:m=>({isRenderInTag:!0,content:K(m,f,null)}),_=[];return t.forEach((m,v)=>{const y=r[m]&&r[m].key===m?r[m].data:this.getDataForKeyNotInKeyEntities(m),b=(O,I)=>{I&&typeof I.preventDefault=="function"&&I.preventDefault(),this.removeTag(m)},{content:w,isRenderInTag:E}=y?p(y,{index:v,onClose:b}):{};if(Hl(w)||dt(w))return;const C={closable:!(o||y.disabled||l&&s.has(y.key)),color:"white",visible:!0,onClose:b,key:`tag-${m}-${v}`,size:u==="small"?"small":"large"};E?_.push(g.createElement(Jt,Object.assign({},C),w)):_.push(w)}),_},this.renderSingleTriggerSearchItem=()=>{const{placeholder:t,disabled:r}=this.props,{inputTriggerFocus:s}=this.state,i=this.foundation.getRenderTextInSingle(),a=A(`${De}-selection-TriggerSearchItem`,{[`${De}-selection-TriggerSearchItem-placeholder`]:(s||!i)&&!r,[`${De}-selection-TriggerSearchItem-disabled`]:r});return g.createElement("span",{className:a,onClick:this.foundation.onClickSingleTriggerSearchItem},i||t)},this.renderSingleTriggerSearch=()=>{const{inputValue:t}=this.state;return g.createElement(g.Fragment,null,this.renderInput(),!t&&this.renderSingleTriggerSearchItem())},this.renderSelectContent=t=>{const{multiple:r,placeholder:s,maxTagCount:i,searchPosition:a,filterTreeNode:o,showRestTagsPopover:l,restTagsPopoverProps:u}=this.props;if(o&&a===Or.SEARCH_POSITION_TRIGGER)return r?this.renderTagInput(t):this.renderSingleTriggerSearch();if(!r||!this.hasValue()){const f=this.foundation.getRenderTextInSingle(),p=A(`${De}-selection-content`,{[`${De}-selection-placeholder`]:!f});return g.createElement("span",{className:p},f||s)}const h=this.renderTagList(t);return g.createElement(Tf,{maxTagCount:i,tagList:h,size:"large",mode:"custom",showPopover:l,popoverProps:u})},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear(t)},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.handleMouseOver=t=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=t=>{this.foundation.toggleHoverState(!1)},this.search=t=>{const{isOpen:r}=this.state;r||this.foundation.open(),this.foundation.handleInputChange(t)},this.close=()=>{this.foundation.close(null)},this.renderArrow=()=>{const t=this.showClearBtn(),{arrowIcon:r}=this.props;return t?null:r?g.createElement("div",{className:A(`${De}-arrow`),"x-semi-prop":"arrowIcon"},r):null},this.renderClearBtn=()=>{const t=this.showClearBtn(),{clearIcon:r}=this.props,s=A(`${De}-clearbtn`);return t?g.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TreeSelect value",className:s,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress},r||g.createElement(Wo,null)):null},this.renderSelection=()=>{const t=this.props,{disabled:r,multiple:s,filterTreeNode:i,validateStatus:a,prefix:o,suffix:l,style:u,size:d,insetLabel:h,className:f,placeholder:p,showClear:_,leafOnly:m,searchPosition:v,triggerRender:y,borderless:b,autoMergeValue:w,checkRelation:E}=t,S=Sve(t,["disabled","multiple","filterTreeNode","validateStatus","prefix","suffix","style","size","insetLabel","className","placeholder","showClear","leafOnly","searchPosition","triggerRender","borderless","autoMergeValue","checkRelation"]),{inputValue:C,selectedKeys:O,checkedKeys:I,keyEntities:P,isFocus:x,realCheckedKeys:D}=this.state,N=!!i,L=typeof y=="function",V=_?{onMouseEnter:Q=>this.handleMouseOver(Q),onMouseLeave:Q=>this.handleMouseLeave(Q)}:{},B=v===Or.SEARCH_POSITION_TRIGGER&&N,F=B&&pt(I),W=B&&!pt(I),$=L?A(f):A(De,{[`${De}-borderless`]:b,[`${De}-focus`]:x,[`${De}-disabled`]:r,[`${De}-single`]:!s,[`${De}-multiple`]:s,[`${De}-multiple-tagInput-empty`]:s&&F,[`${De}-multiple-tagInput-notEmpty`]:s&&W,[`${De}-filterable`]:N,[`${De}-error`]:a==="error",[`${De}-warning`]:a==="warning",[`${De}-small`]:d==="small",[`${De}-large`]:d==="large",[`${De}-with-prefix`]:o||h,[`${De}-with-suffix`]:l,[`${De}-with-suffix`]:l},f);let j,M=[];s?w?E==="related"?M=Qs([...I],P,m,!0):E==="unRelated"&&(M=[...D]):M=[...I]:M=O,L?j=g.createElement(fu,{inputValue:C,value:M.map(Q=>K(P,[Q,"data"])),disabled:r,placeholder:p,onClear:this.handleClear,componentName:"TreeSelect",triggerRender:y,componentProps:Object.assign({},this.props),onSearch:this.search,onRemove:this.removeTag}):j=[g.createElement(T.Fragment,{key:"prefix"},o||h?this.renderPrefix():null),g.createElement(T.Fragment,{key:"selection"},g.createElement("div",{className:`${De}-selection`},this.renderSelectContent(M))),g.createElement(T.Fragment,{key:"suffix"},l?this.renderSuffix():null),g.createElement(T.Fragment,{key:"clearBtn"},_||B&&C?this.renderClearBtn():null),g.createElement(T.Fragment,{key:"arrow"},this.renderArrow())];const te=r?null:0;return g.createElement("div",Object.assign({role:"combobox","aria-disabled":r,"aria-haspopup":"tree",tabIndex:te,className:$,style:u,ref:this.triggerRef,onClick:this.handleClick,onKeyPress:this.handleSelectionEnterPress,onKeyDown:this.foundation.handleKeyDown,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},V,this.getDataAttr(S)),j)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:a,leafOnly:o,disabled:l,disableStrictly:u,renderSelectedItem:d,treeNodeLabelProp:h,keyMaps:f}=this.props,p=K(f,"label",h),m=Qs([t],s,o,!0).map(P=>s[t]&&s[t].key===t?s[t].data:this.getDataForKeyNotInKeyEntities(t)),v=wy(m,f),y=A(`${De}-selection-tag`,{[`${De}-selection-tag-disabled`]:l}),b=!pt(m)&&!pt(m[0]),w=u&&b&&i.has(m[0].key),E=b&&!m[0].disabled&&!l&&!w,S=(P,x)=>{x.preventDefault(),this.removeTag(t)},C={size:a==="small"?"small":"large",key:`tag-${v}-${r}`,color:"white",className:y,closable:E,onClose:S},O=m[0],I=Te(d)?d:P=>({isRenderInTag:!0,content:K(P,p,null)});if(Te(I)){const{content:P,isRenderInTag:x}=O?I(O,{index:r,onClose:S}):{};return x?g.createElement(Jt,Object.assign({},C),P):P}return g.createElement(Jt,Object.assign({},C),v)},this.renderTagInput=t=>{const{disabled:r,size:s,searchAutoFocus:i,placeholder:a,maxTagCount:o,showRestTagsPopover:l,restTagsPopoverProps:u,searchPosition:d,filterTreeNode:h,preventScroll:f}=this.props,{inputValue:p}=this.state,_=h&&d===Or.SEARCH_POSITION_TRIGGER?i:void 0;return g.createElement(Ip,{maxTagCount:o,disabled:r,onInputChange:m=>this.search(m),ref:this.tagInputRef,placeholder:a,value:t,inputValue:p,size:s,showRestTagsPopover:l,restTagsPopoverProps:u,autoFocus:_,renderTagItem:(m,v)=>this.renderTagItem(m,v),onRemove:m=>this.removeTag(m),expandRestTagsOnClick:!1,preventScroll:f})},this.renderInput=()=>{const{searchPlaceholder:t,searchRender:r,showSearchClear:s,searchPosition:i,searchAutoFocus:a,multiple:o,disabled:l,preventScroll:u}=this.props,{inputValue:d,inputTriggerFocus:h}=this.state,f=i===Or.SEARCH_POSITION_DROPDOWN,p=A({[`${rl}-input`]:f,[`${De}-inputTrigger`]:!f}),_={value:d,className:p,preventScroll:u,onChange:E=>this.search(E)},y=f?{showClear:s,prefix:g.createElement(P2,null)}:{autofocus:a,onFocus:E=>this.foundation.handleInputTriggerFocus(),onBlur:E=>this.foundation.handleInputTriggerBlur(),disabled:l},b=A({[`${rl}-search-wrapper`]:f,[`${De}-triggerSingleSearch-wrapper`]:!f&&!o,[`${De}-triggerSingleSearch-upper`]:!f&&h}),w=typeof r=="function"||typeof r=="boolean";return w&&!r?null:g.createElement("div",{className:b},g.createElement(dn,{componentName:"TreeSelect"},E=>{const S=f?t||E.searchPlaceholder:"";return w?r(Object.assign(Object.assign(Object.assign({},y),_),{placeholder:S})):g.createElement(Zt,Object.assign({"aria-label":"Filter TreeSelect item",ref:this.inputRef,placeholder:S},_,y))}))},this.renderEmpty=()=>{const{emptyContent:t}=this.props;return t===null?null:t?g.createElement(wc,{empty:!0,emptyContent:this.props.emptyContent}):g.createElement(dn,{componentName:"Tree"},r=>g.createElement(wc,{empty:!0,emptyContent:r.emptyText}))},this.onNodeLoad=t=>new Promise(r=>this.foundation.setLoadKeys(t,r)),this.onNodeSelect=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeCheck=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeExpand=(t,r)=>{this.foundation.handleNodeExpand(t,r)},this.getTreeNodeRequiredProps=()=>{const{expandedKeys:t,selectedKeys:r,checkedKeys:s,halfCheckedKeys:i,keyEntities:a,filteredKeys:o}=this.state;return{expandedKeys:t||new Set,selectedKeys:r||[],checkedKeys:s||new Set,halfCheckedKeys:i||new Set,filteredKeys:o||new Set,keyEntities:a}},this.getTreeNodeKey=t=>{const{data:r}=t,{key:s}=r;return s},this.handlePopoverVisibleChange=t=>{this.foundation.handlePopoverVisibleChange(t)},this.afterClose=()=>{this.foundation.handleAfterClose()},this.renderTreeNode=(t,r,s)=>{const{data:i,key:a}=t,o=this.foundation.getTreeNodeProps(a),{showLine:l}=this.props;if(!o)return null;const u=zl(t,["key","label","disabled","isLeaf","icon","isEnd"]),{keyMaps:d}=this.props,h=i[K(d,"children","children")];return!dt(h)&&(u.children=h),g.createElement(wc,Object.assign({},o,i,u,{data:i,style:s,showLine:l}))},this.itemKey=(t,r)=>{const{visibleOptions:s}=r;return s[t].key},this.renderNodeList=()=>{const{flattenNodes:t,cachedFlattenNodes:r,motionKeys:s,motionType:i,filteredKeys:a}=this.state,{direction:o}=this.context,{virtualize:l,motionExpand:u}=this.props,d="expandedKeys"in this.props;if(!l||pt(l))return g.createElement(zj,{flattenNodes:t,flattenList:r,motionKeys:u?s:new Set([]),motionType:i,searchTargetIsDeep:d&&u&&pt(s)&&!pt(a),onMotionEnd:this.onMotionEnd,renderTreeNode:this.renderTreeNode});const h={visibleOptions:t,renderOption:this.renderTreeNode};return g.createElement(VT,{defaultHeight:l.height,defaultWidth:l.width},f=>{let{height:p,width:_}=f;return g.createElement(iT,{itemCount:t.length,itemSize:l.itemSize,height:p,width:_,itemKey:this.itemKey,itemData:h,className:`${rl}-virtual-list`,style:{direction:o}},kj)})},this.renderTree=()=>{const{keyEntities:t,motionKeys:r,motionType:s,inputValue:i,filteredKeys:a,flattenNodes:o,checkedKeys:l,realCheckedKeys:u}=this.state,{loadData:d,filterTreeNode:h,disabled:f,multiple:p,showFilteredOnly:_,motionExpand:m,outerBottomSlot:v,outerTopSlot:y,expandAction:b,labelEllipsis:w,virtualize:E,optionListStyle:S,searchPosition:C,renderLabel:O,renderFullLabel:I,checkRelation:P,emptyContent:x}=this.props,D=A(`${rl}-wrapper`),N=!!i&&!a.size,L=pt(o)||_&&N,V=C===Or.SEARCH_POSITION_DROPDOWN,B=A(`${rl}-option-list ${rl}-option-list-block`,{[`${rl}-option-list-hidden`]:x===null&&L});return g.createElement(UT.Provider,{value:{loadData:d,treeDisabled:f,motion:m,motionKeys:r,motionType:s,expandAction:b,filterTreeNode:h,keyEntities:t,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeRightClick:k,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,renderTreeNode:this.renderTreeNode,multiple:p,showFilteredOnly:_,isSearching:!!i,renderLabel:O,renderFullLabel:I,labelEllipsis:typeof w>"u"?E:w}},g.createElement("div",{className:D},y,!y&&h&&V&&this.renderInput(),g.createElement("div",{className:B,role:"tree","aria-multiselectable":!!p,style:S},L?this.renderEmpty():p?g.createElement(Ep,{value:Array.from(P==="related"?l:u)},this.renderNodeList()):this.renderNodeList()),v))},this.state={inputTriggerFocus:!1,isOpen:!1,isFocus:!1,rePosKey:Cve,dropdownMinWidth:null,inputValue:"",keyEntities:{},treeData:[],flattenNodes:[],cachedFlattenNodes:void 0,selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([]),disabledKeys:new Set,motionKeys:new Set([]),motionType:"hide",expandedKeys:new Set(e.expandedKeys),filteredKeys:new Set,filteredExpandedKeys:new Set,filteredShownKeys:new Set,prevProps:null,isHovering:!1,cachedKeyValuePairs:{},loadedKeys:new Set,loadingKeys:new Set},this.inputRef=g.createRef(),this.tagInputRef=g.createRef(),this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.clickOutsideHandler=null,this.foundation=new Eve(this.adapter),this.treeSelectID=Math.random().toString(36).slice(2),this.onMotionEnd=()=>{this.adapter.rePositionDropdown()}}static getDerivedStateFromProps(e,t){const{prevProps:r,rePosKey:s}=t,{keyMaps:i}=e,a=y=>!r&&y in e||r&&!ke(r[y],e[y]);let o;const l=e.onChangeWithObject;let u=t.keyEntities||{},d=t.cachedKeyValuePairs||{};const h={prevProps:e},f=a("treeData"),p=a("expandedKeys"),_=!!(e.filterTreeNode&&t.inputValue&&t.inputValue.length);if(f){o=e.treeData,h.treeData=o;const y=wue(o,i);h.keyEntities=Object.assign({},y.keyEntities),u=h.keyEntities,h.cachedKeyValuePairs=Object.assign({},y.valueEntities),d=h.cachedKeyValuePairs}o&&e.motion&&!ke(Object.keys(h.keyEntities),Object.keys(t.keyEntities))&&r&&e.motion&&(h.motionKeys=new Set([]),h.motionType=null);const m=f&&e.expandAll;if(_){let y;if(o&&(y=Cue({treeData:o,inputValue:t.inputValue,filterTreeNode:e.filterTreeNode,filterProps:e.treeNodeFilterProp,showFilteredOnly:e.showFilteredOnly,keyEntities:h.keyEntities,prevExpandedKeys:[...t.filteredExpandedKeys],keyMaps:i}),h.flattenNodes=y.flattenNodes,h.motionKeys=new Set([]),h.filteredKeys=y.filteredKeys,h.filteredShownKeys=y.filteredShownKeys,h.filteredExpandedKeys=y.filteredExpandedKeys),e.expandedKeys){if(h.filteredExpandedKeys=Zb(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion){const b=t?t.filteredExpandedKeys:new Set([]);if(!o){const w=aR(b,h.filteredExpandedKeys,u);let{motionKeys:E}=w;const{motionType:S}=w;e.showFilteredOnly&&(E=E.filter(C=>t.filteredShownKeys.has(C))),S==="hide"&&(h.cachedFlattenNodes=_0(t.flattenNodes)),h.motionKeys=new Set(E),h.motionType=S}}h.flattenNodes=so(o||t.treeData,h.filteredExpandedKeys||t.filteredExpandedKeys,i,e.showFilteredOnly&&t.filteredShownKeys)}}else{if(p||r&&a("autoExpandParent")){if(h.expandedKeys=Zb(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion&&!o){const{motionKeys:y,motionType:b}=aR(t.expandedKeys,h.expandedKeys,u);h.motionKeys=new Set(y),h.motionType=b,b==="hide"&&(h.cachedFlattenNodes=_0(t.flattenNodes))}}else!r&&(e.defaultExpandAll||e.expandAll)||m?h.expandedKeys=new Set(Object.keys(u)):!r&&e.defaultExpandedKeys?h.expandedKeys=Zb(e.defaultExpandedKeys,u):!r&&e.defaultValue?h.expandedKeys=iR(qa(e.defaultValue,l,i),u,e.multiple,d):!r&&e.value&&(h.expandedKeys=iR(qa(e.value,l,i),u,e.multiple,d));if(h.expandedKeys||delete h.expandedKeys,o||h.expandedKeys){const y=so(o||t.treeData,h.expandedKeys||t.expandedKeys,i);h.flattenNodes=y}}const v=e.multiple;if(!v)a("value")?h.selectedKeys=dl(qa(e.value,l,i),d,v):!r&&e.defaultValue?h.selectedKeys=dl(qa(e.defaultValue,l,i),d,v):o&&(e.value?h.selectedKeys=dl(qa(e.value,l,i)||"",d,v):h.selectedKeys=lR(t.selectedKeys,u));else{let y;if(a("value")?y=dl(qa(e.value,l,i),d,v):!r&&e.defaultValue?y=dl(qa(e.defaultValue,l,i),d,v):o&&(e.value?y=dl(qa(e.value,l,i)||[],d,v):y=lR(e.checkRelation==="related"?t.checkedKeys:t.realCheckedKeys,u)),y){if(e.checkRelation==="unRelated")h.realCheckedKeys=new Set(y);else if(e.checkRelation==="related"){const{checkedKeys:b,halfCheckedKeys:w}=wp(y,u);h.checkedKeys=b,h.halfCheckedKeys=w}}}return a("loadedKeys")&&(h.loadedKeys=new Set(e.loadedKeys)),(f||a("value"))&&(h.rePosKey=s+1),o&&e.disableStrictly&&e.checkRelation==="related"&&(h.disabledKeys=sF(u,i)),h}get adapter(){var e=this;const t={updateInputValue:i=>{this.setState({inputValue:i})}},r={registerClickOutsideHandler:i=>{this.adapter.unregisterClickOutsideHandler();const a=o=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=Pr.findDOMNode(l),h=o.target,f=o.composedPath&&o.composedPath()||[h];d&&(!d.contains(h)||!d.contains(h.parentNode))&&u&&!u.contains(h)&&!(f.includes(u)||f.includes(d))&&i(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{rePosKey:i}=this.state;i=i+1,this.setState({rePosKey:i})}},s={updateState:i=>{this.setState(Object.assign({},i))},notifySelect:(i,a,o)=>{this.props.onSelect&&this.props.onSelect(i,a,o)},notifySearch:(i,a,o)=>{this.props.onSearch&&this.props.onSearch(i,a,o)},cacheFlattenNodes:i=>{this.setState({cachedFlattenNodes:i?_0(this.state.flattenNodes):void 0})},notifyLoad:(i,a)=>{const{onLoad:o}=this.props;Te(o)&&o(i,a)},notifyClear:i=>{this.props.onClear&&this.props.onClear(i)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{updateLoadKeys:(i,a)=>{this.setState(o=>{let{loadedKeys:l,loadingKeys:u}=o;return this.foundation.handleNodeLoad(l,u,i,a)})},updateState:i=>{this.setState(Object.assign({},i))},openMenu:()=>{this.setState({isOpen:!0},()=>{this.props.onVisibleChange(!0)})},closeMenu:i=>{this.setState({isOpen:!1},()=>{i&&i(),this.props.onVisibleChange(!1)})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},notifyChange:(i,a,o)=>{this.props.onChange&&this.props.onChange(i,a,o)},notifyChangeWithObject:(i,a)=>{this.props.onChange&&this.props.onChange(i,a)},notifyExpand:(i,a)=>{let{expanded:o,node:l}=a;this.props.onExpand&&this.props.onExpand([...i],{expanded:o,node:l}),o&&this.props.loadData&&this.onNodeLoad(l)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},toggleHovering:i=>{this.setState({isHovering:i})},updateInputFocus:i=>{if(i){if(this.inputRef&&this.inputRef.current){const{preventScroll:a}=this.props;this.inputRef.current.focus({preventScroll:a})}this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.focus()}else this.inputRef&&this.inputRef.current&&this.inputRef.current.blur(),this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.blur()},updateIsFocus:i=>{this.setState({isFocus:i})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.renderContent(),{motion:t,zIndex:r,mouseLeaveDelay:s,mouseEnterDelay:i,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l,dropdownMargin:u,position:d}=this.props,{isOpen:h,rePosKey:f}=this.state,p=this.renderSelection(),_=d||"bottomLeft";return g.createElement(yr,{stopPropagation:o,getPopupContainer:l,zIndex:r,motion:t,margin:u,ref:this.optionsRef,content:e,visible:h,trigger:"custom",rePosKey:f,position:_,autoAdjustOverflow:a,mouseLeaveDelay:s,mouseEnterDelay:i,onVisibleChange:this.handlePopoverVisibleChange,afterClose:this.afterClose},p)}}p_.contextType=kr;p_.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,loadedKeys:c.arrayOf(c.string),loadData:c.func,onLoad:c.func,arrowIcon:c.node,clearIcon:c.node,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.array,c.object]),defaultExpandAll:c.bool,defaultExpandedKeys:c.array,expandAll:c.bool,disabled:c.bool,disableStrictly:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),multiple:c.bool,searchPlaceholder:c.string,searchAutoFocus:c.bool,virtualize:c.object,treeNodeFilterProp:c.string,onChange:c.func,onClear:c.func,onSearch:c.func,onSelect:c.func,onExpand:c.func,onChangeWithObject:c.bool,onBlur:c.func,onFocus:c.func,value:c.oneOfType([c.string,c.number,c.array,c.object]),expandedKeys:c.array,autoExpandParent:c.bool,showClear:c.bool,showSearchClear:c.bool,autoAdjustOverflow:c.bool,showFilteredOnly:c.bool,showLine:c.bool,motionExpand:c.bool,emptyContent:c.node,keyMaps:c.object,leafOnly:c.bool,treeData:c.arrayOf(c.shape({key:c.string,value:c.oneOfType([c.string,c.number]),label:c.any})),dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),motion:c.bool,placeholder:c.string,maxTagCount:c.number,size:c.oneOf(Or.SIZE_SET),className:c.string,style:c.object,treeNodeLabelProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,getPopupContainer:c.func,dropdownMatchSelectWidth:c.bool,validateStatus:c.oneOf(Or.STATUS),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),outerBottomSlot:c.node,outerTopSlot:c.node,onVisibleChange:c.func,expandAction:c.oneOf(["click","doubleClick",!1]),searchPosition:c.oneOf([Or.SEARCH_POSITION_DROPDOWN,Or.SEARCH_POSITION_TRIGGER]),clickToHide:c.bool,renderLabel:c.func,renderFullLabel:c.func,labelEllipsis:c.bool,optionListStyle:c.object,searchRender:c.oneOfType([c.func,c.bool]),renderSelectedItem:c.func,checkRelation:c.string,"aria-label":c.string,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,preventScroll:c.bool,clickTriggerToHide:c.bool,autoMergeValue:c.bool};p_.defaultProps={borderless:!1,searchPosition:Or.SEARCH_POSITION_DROPDOWN,arrowIcon:g.createElement(Bv,null),autoExpandParent:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,motionExpand:!0,expandAll:!1,zIndex:is.DEFAULT_Z_INDEX,disableStrictly:!1,multiple:!1,filterTreeNode:!1,size:"default",treeNodeFilterProp:"label",onChangeWithObject:!1,treeNodeLabelProp:"label",dropdownMatchSelectWidth:!0,defaultOpen:!1,showSearchClear:!0,showClear:!1,onVisibleChange:k,expandAction:!1,clickToHide:!0,searchAutoFocus:!1,checkRelation:"related","aria-label":"TreeSelect",showRestTagsPopover:!1,restTagsPopoverProps:{},clickTriggerToHide:!0,autoMergeValue:!0};const Tve=`${Y}-upload`,bA="picture",wA="list",Ove=.95,Wj={PREFIX:Tve},EA="auto",Ive="custom",Ve={FILE_STATUS_UPLOADING:"uploading",FILE_STATUS_SUCCESS:"success",FILE_STATUS_UPLOAD_FAIL:"uploadFail",FILE_STATUS_VALIDATING:"validating",FILE_STATUS_VALID_FAIL:"validateFail",FILE_STATUS_WAIT_UPLOAD:"wait",FILE_LIST_PIC:bA,FILE_LIST_DEFAULT:wA,LIST_TYPE:[bA,wA],DRAG_AREA_DEFAULT:"default",DRAG_AREA_LEGAL:"legal",DRAG_AREA_ILLEGAL:"illegal",TRIGGER_AUTO:EA,UPLOAD_TRIGGER:[EA,Ive],VALIDATE_STATUS:fd,PROMPT_POSITION:["left","right","bottom"]},Pve={PROGRESS_COEFFICIENT:Ove};var wS=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const lc=1024,b0=1048576;function ES(n){if(n<lc)return`${(n/lc).toFixed(2)}KB`;if(n>=lc&&n<b0)return`${(n/lc).toFixed(1)}KB`;if(n>=b0)return`${(n/b0).toFixed(1)}MB`}function xve(n,e){return n.indexOf(e,n.length-e.length)!==-1}function Rve(n){return wS(this,void 0,void 0,function*(){return new Promise((e,t)=>{const r=n.createReader();let s=[];function i(){r.readEntries(a=>{const o=Array.prototype.slice.apply(a);s=s.concat(o),!o.length?e(s):i()},t)}i()})})}function Ave(n){return wS(this,void 0,void 0,function*(){const e=[],t=(r,s)=>wS(this,void 0,void 0,function*(){if(s=s||"",r.path=s,r.isFile)e.push(new Promise((i,a)=>{r.file(o=>{r.fullPath&&!o.webkitRelativePath&&(Object.defineProperties(o,{webkitRelativePath:{writable:!0}}),o.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(o,{webkitRelativePath:{writable:!1}})),i(o)},a)}));else if(r.isDirectory){const i=yield Rve(r);for(let a=0;a<i.length;a++){const o=i[a];yield t(o,`${s}${r.name}/`)}}});try{const r=n.map(i=>t(i.webkitGetAsEntry()));return yield Promise.all(r),yield Promise.all(e)}catch(r){return console.warn("Captured error while loop directory."),console.error(r),[]}})}var Dve=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const{FILE_STATUS_UPLOADING:SA,FILE_STATUS_SUCCESS:kve,FILE_STATUS_UPLOAD_FAIL:Nve,FILE_STATUS_VALID_FAIL:w0,FILE_STATUS_WAIT_UPLOAD:CA,DRAG_AREA_DEFAULT:E0,DRAG_AREA_LEGAL:$ve,TRIGGER_AUTO:Ng}=Ve;class Lve extends Pe{constructor(e){super(Object.assign({},e)),this.destroyState=!1}init(){this.destroyState=!1;const{disabled:e,addOnPasting:t}=this.getProps();t&&!e&&this.bindPastingHandler()}destroy(){const{disabled:e,addOnPasting:t}=this.getProps();this.releaseMemory(),e||this.unbindPastingHandler(),this.destroyState=!0}getError(e){let{action:t,xhr:r,message:s,fileName:i}=e;const a=r?r.status:0,o=s||`cannot post ${i} to ${t}, xhr status: ${a}'`,l=new Error(o);return l.status=a,l.method="post",l.url=t,l}getBody(e){if(!e)return;const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}checkFileSize(e){const{size:t}=e,{maxSize:r,minSize:s}=this.getProps();let i=!1;return(t>r*lc||t<s*lc)&&(i=!0),i}handleChange(e){const t=[],{limit:r,transformFile:s,accept:i}=this.getProps(),{fileList:a}=this.getStates();let o=Array.from(e);if(typeof i<"u"&&(o=o.filter(u=>{const d=this.checkFileFormat(i,u);return d||t.push(u),d}),t.length!==0&&this._adapter.notifyAcceptInvalid(t),o.length===0))return;o=o.map(u=>(s&&(u=s(u)),u.uid||(u.uid=om()),this.checkFileSize(u)&&(u._sizeInvalid=!0,u.status=w0,this._adapter.notifySizeError(u,a)),u));const l=a.length+o.length;if(typeof r<"u"&&l>r){if(this._adapter.notifyExceed(o),r===1){o=o.slice(-1),this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.replaceFileList(o);return}const u=r-a.length;o=o.slice(0,u)}this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.addFilesToList(o)}handleReplaceChange(e){if(e.length===0)return;const{transformFile:t,uploadTrigger:r,accept:s}=this.getProps(),{replaceIdx:i,fileList:a}=this.getStates();let o=Array.from(e).pop();if(typeof s<"u"&&!this.checkFileFormat(s,o)){this._adapter.notifyAcceptInvalid([o]);return}t&&(o=t(o)),o.uid||(o.uid=om()),this.checkFileSize(o)&&(o._sizeInvalid=!0,o.status=w0,this._adapter.notifySizeError(o,a)),this._adapter.notifyFileSelect([o]);const l=this.buildFileItem(o,r),u=[...a];u.splice(i,1,l),this._adapter.notifyChange({currentFile:l,fileList:u}),this._adapter.updateFileList(u,()=>{this._adapter.resetReplaceInput(),l._sizeInvalid||this.upload(l)})}buildFileItem(e,t){const{_sizeInvalid:r,status:s}=e;try{delete e._sizeInvalid,delete e.status}catch{}const i={status:s||(t===Ng?SA:CA),name:e.name,size:ES(e.size),uid:e.uid,percent:0,fileInstance:e,url:this._createURL(e)};return r&&(i._sizeInvalid=!0),this.isImage(e)&&(i.preview=!0),i}replaceFileList(e){const{uploadTrigger:t}=this.getProps(),r=e.map(s=>this.buildFileItem(s,t));this._adapter.notifyChange({fileList:r,currentFile:r[0]}),this._adapter.updateFileList(r,()=>{t===Ng&&this.startUpload(r)})}addFilesToList(e){const t=this.getState("fileList").slice(),{uploadTrigger:r}=this.getProps(),s=e.map(i=>this.buildFileItem(i,r));s.forEach(i=>{const a=t.findIndex(o=>o.uid===i.uid);a!==-1?t[a]=i:(t.push(i),this._adapter.notifyChange({fileList:t,currentFile:i}))}),this._adapter.updateFileList(t,()=>{r===Ng&&this.startUpload(s)})}insertFileToList(e,t){const{limit:r,transformFile:s,accept:i,uploadTrigger:a}=this.getProps(),{fileList:o}=this.getStates(),l=[];let u=Array.from(e);if(typeof i<"u"&&(u=u.filter(p=>{const _=this.checkFileFormat(i,p);return _||l.push(p),_}),l.length!==0&&this._adapter.notifyAcceptInvalid(l),u.length===0))return;u=u.map(p=>(p.uid||(p.uid=om()),this.checkFileSize(p)&&(p._sizeInvalid=!0,p.status=w0,this._adapter.notifySizeError(p,o)),s&&(p=s(p)),p));const d=o.length+u.length;if(typeof r<"u"&&d>r){if(r===1){u=u.slice(-1),this._adapter.notifyFileSelect(u),this._adapter.resetInput(),this.replaceFileList(u);return}const p=r-o.length;u=u.slice(0,p),this._adapter.notifyExceed(u)}const h=u.map(p=>this.buildFileItem(p,a)),f=o.slice();typeof t<"u"?f.splice(t,0,...h):f.push(...h),this._adapter.notifyFileSelect(u),this._adapter.notifyChange({fileList:f,currentFile:null}),this._adapter.updateFileList(f,()=>{a===Ng&&this.startUpload(h)})}manualUpload(){const e=this.getState("fileList").filter(t=>t.status===CA);this.startUpload(e)}startUpload(e){e.forEach(t=>{t._sizeInvalid||this.upload(t)})}upload(e){const{beforeUpload:t}=this.getProps();if(typeof t>"u"){this.post(e);return}if(typeof t=="function"){const{fileList:r}=this.getStates(),s=this._adapter.notifyBeforeUpload({file:e,fileList:r});switch(!0){case s===!0:{this.post(e);break}case s===!1:{const i={shouldUpload:!1,status:Ve.FILE_STATUS_VALID_FAIL};this.handleBeforeUploadResultInObject(i,e);break}case(s&&Sf(s)):{Promise.resolve(s).then(i=>{let a={shouldUpload:!0};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),i)),this.handleBeforeUploadResultInObject(a,e)},i=>{let a={shouldUpload:!1,status:Ve.FILE_STATUS_VALID_FAIL};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),i)),this.handleBeforeUploadResultInObject(a,e)});break}case typeof s=="object":this.handleBeforeUploadResultInObject(s,e);break}}}handleBeforeUploadResultInObject(e,t){const{shouldUpload:r,status:s,autoRemove:i,validateMessage:a,fileInstance:o}=e;let l=this.getState("fileList").slice();if(i)l=l.filter(u=>u.uid!==t.uid);else{const u=this._getFileIndex(t,l);if(u<0)return;s&&(l[u].status=s),a&&(l[u].validateMessage=a),o&&(o.uid=t.uid,l[u].fileInstance=o,l[u].size=ES(o.size),l[u].name=o.name,l[u].url=this._createURL(o)),l[u].shouldUpload=r}this._adapter.updateFileList(l),this._adapter.notifyChange({fileList:l,currentFile:t}),r&&this.post(t)}post(e){const{fileInstance:t}=e,r=this.getProps();if(typeof XMLHttpRequest>"u")return;const s=new XMLHttpRequest,i=new FormData,{action:a}=r;let{data:o}=r;o&&(typeof o=="function"&&(o=o(t)),Object.keys(o).forEach(d=>{i.append(d,o[d])}));const l=r.name||r.fileName||t.name;if(r.customRequest)return r.customRequest({fileName:l,data:o,file:e,fileInstance:t,onProgress:d=>this.handleProgress({e:d,fileInstance:t}),onError:(d,h)=>this.handleError({e:h,xhr:d,fileInstance:t}),onSuccess:(d,h)=>this.handleSuccess({response:d,fileInstance:t,e:h,isCustomRequest:!0}),withCredentials:r.withCredentials,action:r.action});i.append(l,t),s.open("post",a,!0),r.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0),s.upload&&(s.upload.onprogress=d=>{this.destroyState?s.abort():this.handleProgress({e:d,fileInstance:t})}),s.onload=d=>{this.destroyState||this.handleOnLoad({e:d,xhr:s,fileInstance:t})},s.onerror=d=>{this.destroyState||this.handleError({e:d,xhr:s,fileInstance:t})};let u=r.headers||{};typeof u=="function"&&(u=u(t));for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&u[d]!==null&&s.setRequestHeader(d,u[d]);s.send(i)}handleProgress(e){let{e:t,fileInstance:r}=e;const{fileList:s}=this.getStates(),i=s.slice();let a=0;t.total>0&&(a=Number((t.loaded/t.total*100*Pve.PROGRESS_COEFFICIENT).toFixed(0))||0);const o=this._getFileIndex(r,i);o<0||(i[o].percent=a,i[o].status=SA,this._adapter.notifyProgress(a,r,i),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:i[o]}))}handleOnLoad(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),a=this._getFileIndex(s,i);a<0||(r.status<200||r.status>=300?this.handleError({e:t,xhr:r,fileInstance:s}):this.handleSuccess({e:t,xhr:r,fileInstance:s,index:a}))}handleSuccess(e){let{e:t,fileInstance:r,isCustomRequest:s=!1,xhr:i,response:a}=e;const{fileList:o}=this.getStates();let l=null;const u=this._getFileIndex(r,o);if(u<0)return;s?l=a:l=this.getBody(i);const d=o.slice(),{afterUpload:h}=this.getProps();if(d[u].status=kve,d[u].percent=100,this._adapter.notifyProgress(100,r,d),d[u].response=l,t&&(d[u].event=t),h&&typeof h=="function"){const{autoRemove:f,status:p,validateMessage:_,name:m,url:v}=this._adapter.notifyAfterUpload({response:l,file:d[u],fileList:d})||{};p&&(d[u].status=p),_&&(d[u].validateMessage=_),m&&(d[u].name=m),v&&(d[u].url=v),f&&d.splice(u,1)}this._adapter.notifySuccess(l,r,d),this._adapter.notifyChange({fileList:d,currentFile:d[u]}),this._adapter.updateFileList(d)}_getFileIndex(e,t){return t.findIndex(r=>r.uid===e.uid)}handleRemove(e){const{disabled:t}=this.getProps();if(t)return;const{fileList:r}=this.getStates();Promise.resolve(this._adapter.notifyBeforeRemove(e,r)).then(s=>{if(s===!1)return;const i=r.slice(),a=this._getFileIndex(e,r);a<0||(i.splice(a,1),this._adapter.notifyRemove(e.fileInstance,i,e),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:e}))})}handleError(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),a=this._getFileIndex(s,i);if(a<0)return;const{action:o}=this.getProps(),l=i.slice(),u=this.getError({action:o,xhr:r,fileName:s.name});l[a].status=Nve,l[a].response=u,l[a].event=t,this._adapter.notifyError(u,s,l,r),this._adapter.updateFileList(l),this._adapter.notifyChange({currentFile:l[a],fileList:l})}handleClear(){const{disabled:e}=this.getProps(),{fileList:t}=this.getStates();e||Promise.resolve(this._adapter.notifyBeforeClear(t)).then(r=>{r!==!1&&(this._adapter.updateFileList([]),this._adapter.notifyClear(),this._adapter.notifyChange({fileList:[]}))}).catch(r=>{})}_createURL(e){const t=URL.createObjectURL(e),{localUrls:r}=this.getStates(),s=r.slice();return s.push(t),this._adapter.updateLocalUrls(s),t}releaseMemory(){const{localUrls:e}=this.getStates();e.forEach(t=>{this._releaseBlob(t)})}_releaseBlob(e){try{URL.revokeObjectURL(e)}catch(t){console.log(t)}}isImage(e){return/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(e.type)}isMultiple(){return!!this.getProp("multiple")}handleDragEnter(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget=e.currentTarget;const{disabled:t}=this.getProps();t||this._adapter.updateDragAreaStatus($ve)}handleDirectoryDrop(e){return Dve(this,void 0,void 0,function*(){const t=this.getState("fileList").slice(),r=[].slice.call(e.dataTransfer.items),s=yield Ave(r);this.handleChange(s),this._adapter.updateDragAreaStatus(E0),this._adapter.notifyDrop(e,s,t)})}handleDrop(e){e.preventDefault(),e.stopPropagation();const{disabled:t,directory:r}=this.getProps(),s=this.getState("fileList").slice();if(!t){if(r){this.handleDirectoryDrop(e);return}const i=Array.from(e.dataTransfer.files);this.handleChange(i),this._adapter.updateDragAreaStatus(E0),this._adapter.notifyDrop(e,i,s)}}handleDragOver(e){e.preventDefault(),e.stopPropagation()}handleDragLeave(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget===e.target&&this._adapter.updateDragAreaStatus(E0)}checkFileFormat(e,t){const r=e.split(",").map(a=>a.trim()).filter(a=>a),s=t.type||"",i=s.replace(/\/.*$/,"");return r.some(a=>{if(a.charAt(0)==="."){const o=t.name||"",l=a.split(".").pop().toLowerCase();return xve(o.toLowerCase(),l)}if(/\/\*$/.test(a)){const o=a.replace(/\/.*$/,"");return i===o}return/^[^\/]+\/[^\/]+$/.test(a)?s===a:!1})}retry(e){const{onRetry:t}=this.getProps();t&&typeof t=="function"&&t(e),this.post(e)}handlePreviewClick(e){this._adapter.notifyPreviewClick(e)}readFileFromClipboard(e){for(const t of e)for(const r of t.types)r.startsWith("image")&&t.getType(r).then(s=>s.arrayBuffer()).then(s=>{const i=r.split("/")[1],a=new File([s],`upload.${i}`,{type:r});this.handleChange([a])})}handlePasting(e){const r=this._adapter.isMac()?e.metaKey:e.ctrlKey,{addOnPasting:s}=this.getProps();s&&r&&e.code==="KeyV"&&navigator.permissions.query({name:"clipboard-read"}).then(a=>{a.state==="granted"||a.state==="prompt"?navigator.clipboard.read().then(o=>{this.readFileFromClipboard(o)}):this._adapter.notifyPastingError(a)}).catch(a=>{this._adapter.notifyPastingError(a)})}bindPastingHandler(){this._adapter.registerPastingHandler(e=>this.handlePasting(e))}unbindPastingHandler(){this._adapter.unRegisterPastingHandler()}}class Mve extends Pe{constructor(e){super(Object.assign({},e))}handleImageError(e){this._adapter.updateFallbackPreview(!0)}}const mt=Wj.PREFIX,Fve=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("circle",{cx:"7.99992",cy:"7.99992",r:"6.66667",fill:"white"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.00008C15.3332 12.0502 12.0499 15.3334 7.99984 15.3334C3.94975 15.3334 0.666504 12.0502 0.666504 8.00008C0.666504 3.94999 3.94975 0.666748 7.99984 0.666748C12.0499 0.666748 15.3332 3.94999 15.3332 8.00008ZM8.99984 11.6667C8.99984 11.1145 8.55212 10.6667 7.99984 10.6667C7.44755 10.6667 6.99984 11.1145 6.99984 11.6667C6.99984 12.219 7.44755 12.6667 7.99984 12.6667C8.55212 12.6667 8.99984 12.219 8.99984 11.6667ZM7.99984 3.33341C7.27573 3.33341 6.7003 3.94171 6.74046 4.66469L6.94437 8.33495C6.97549 8.89513 7.4388 9.33341 7.99984 9.33341C8.56087 9.33341 9.02419 8.89513 9.05531 8.33495L9.25921 4.66469C9.29938 3.94171 8.72394 3.33341 7.99984 3.33341Z",fill:"#F93920"}))},jve=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#16161A",fillOpacity:"0.6"}),g.createElement("path",{d:"M9 10.25V18.25L10.25 13.25H17.875V11.75C17.875 11.4739 17.6511 11.25 17.375 11.25H14L12.75 9.75H9.5C9.22386 9.75 9 9.97386 9 10.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 18.25L19 13.25H10.2031L9 18.25H18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Vve=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("path",{d:"M6 17V7.58824C6 7.26336 6.26863 7 6.6 7H10.5L12 8.76471H16.05C16.3814 8.76471 16.65 9.02806 16.65 9.35294V11.1176H7.5L6 17ZM6 17L7.44375 11.1176H18L16.8 17L6 17Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};class g_ extends we{constructor(e){super(e),this.state={fallbackPreview:!1},this.foundation=new Mve(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateFallbackPreview:e=>this.setState({fallbackPreview:e})})}transSize(e){return typeof e=="number"?ES(e):e}renderValidateMessage(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(typeof t=="string"&&e===Ve.FILE_STATUS_VALIDATING):r=g.createElement(g.Fragment,null,g.createElement(qi,{size:"small",wrapperClassName:`${mt}-file-card-icon-loading`}),t);break;case typeof t=="string":r=g.createElement(g.Fragment,null,g.createElement(gf,{className:`${mt}-file-card-icon-error`}),t);break;case lE(t):r=t;break}return r}renderPicValidateMsg(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(t&&e===Ve.FILE_STATUS_VALIDATING):r=g.createElement(qi,{size:"small",wrapperClassName:`${mt}-picture-file-card-icon-loading`});break;case(t&&(e===Ve.FILE_STATUS_VALID_FAIL||e===Ve.FILE_STATUS_UPLOAD_FAIL)):r=g.createElement("div",{className:`${mt}-picture-file-card-icon-error`},g.createElement(Fve,null));break}return r?g.createElement(fr,{content:t,trigger:"hover",position:"bottom"},r):null}renderPic(e){const{fallbackPreview:t}=this.state,{url:r,percent:s,status:i,disabled:a,style:o,onPreviewClick:l,showPicInfo:u,renderPicInfo:d,renderPicPreviewIcon:h,renderThumbnail:f,name:p,index:_,picHeight:m,picWidth:v}=this.props,y=i===Ve.FILE_STATUS_UPLOADING&&s!==100,b=i===Ve.FILE_STATUS_UPLOAD_FAIL&&this.props.showRetry,w=i===Ve.FILE_STATUS_SUCCESS&&this.props.showReplace,E=i===Ve.FILE_STATUS_SUCCESS&&!this.props.showReplace,S=typeof f=="function",C=A({[`${mt}-picture-file-card`]:!0,[`${mt}-picture-file-card-preview-fallback`]:t,[`${mt}-picture-file-card-disabled`]:a,[`${mt}-picture-file-card-show-pointer`]:typeof l<"u",[`${mt}-picture-file-card-error`]:i===Ve.FILE_STATUS_UPLOAD_FAIL,[`${mt}-picture-file-card-uploading`]:y,[`${mt}-picture-file-card-custom-thumbnail`]:S&&m&&v}),O=g.createElement("div",{role:"button",tabIndex:0,className:`${mt}-picture-file-card-retry`,onClick:F=>this.onRetry(F)},g.createElement(Wie,{className:`${mt}-picture-file-card-icon-retry`})),I=g.createElement(fr,{trigger:"hover",position:"top",content:e.replace,showArrow:!1,spacing:4},g.createElement("div",{role:"button",tabIndex:0,className:`${mt}-picture-file-card-replace`,onClick:F=>this.onReplace(F)},g.createElement(jve,{className:`${mt}-picture-file-card-icon-replace`}))),P=g.createElement("div",{className:`${mt}-picture-file-card-preview`},typeof h=="function"?h(this.props):null),x=g.createElement("div",{role:"button",tabIndex:0,className:`${mt}-picture-file-card-close`,onClick:F=>this.onRemove(F)},g.createElement(Wo,{className:`${mt}-picture-file-card-icon-close`})),D=typeof d=="function"?d(this.props):g.createElement("div",{className:`${mt}-picture-file-card-pic-info`},_+1);let N={},L=o?Object.assign({},o):{};m&&(L.height=m,N.height=m),v&&(L.width=v,N.width=v);const B=S?f(this.props):t?g.createElement(hE,{size:"large"}):g.createElement("img",{src:r,alt:p,onError:F=>this.foundation.handleImageError(F),style:N});return g.createElement("div",{role:"listitem",className:C,style:L,onClick:l},B,y?g.createElement(Ry,{percent:s,type:"circle",size:"small",orbitStroke:"#FFF","aria-label":"uploading file progress"}):null,b?O:null,w&&I,E&&P,u&&D,!a&&x,this.renderPicValidateMsg())}renderFile(e){const{name:t,size:r,percent:s,url:i,showRetry:a,showReplace:o,preview:l,previewFile:u,status:d,style:h,onPreviewClick:f,renderFileOperation:p}=this.props,{fallbackPreview:_}=this.state,m=A({[`${mt}-file-card`]:!0,[`${mt}-file-card-fail`]:d===Ve.FILE_STATUS_VALID_FAIL||d===Ve.FILE_STATUS_UPLOAD_FAIL,[`${mt}-file-card-show-pointer`]:typeof f<"u"}),v=A({[`${mt}-file-card-preview`]:!0,[`${mt}-file-card-preview-placeholder`]:!l||u||_}),y=`${mt}-file-card-info`,b=`${mt}-file-card-close`,w=`${mt}-file-card-replace`,E=!(s===100||typeof s>"u")&&d===Ve.FILE_STATUS_UPLOADING,S=d===Ve.FILE_STATUS_UPLOAD_FAIL&&a,C=d===Ve.FILE_STATUS_SUCCESS&&o,O=this.transSize(r);let I=l&&!_?g.createElement("img",{src:i,alt:t,onError:x=>this.foundation.handleImageError(x)}):g.createElement(hE,{size:"large"});u&&(I=u(this.props));const P=typeof p=="function"?p(this.props):g.createElement(Re,{onClick:x=>this.onRemove(x),type:"tertiary",icon:g.createElement(Hv,null),theme:"borderless",size:"small",className:b});return g.createElement("div",{role:"listitem",className:m,style:h,onClick:f},g.createElement("div",{className:v},I),g.createElement("div",{className:`${y}-main`},g.createElement("div",{className:`${y}-main-text`},g.createElement("span",{className:`${y}-name`},t),g.createElement("span",null,g.createElement("span",{className:`${y}-size`},O),C&&g.createElement(fr,{trigger:"hover",position:"top",showArrow:!1,content:e.replace},g.createElement(Re,{onClick:x=>this.onReplace(x),type:"tertiary",theme:"borderless",size:"small",icon:g.createElement(Vve,null),className:w})))),E?g.createElement(Ry,{percent:s,style:{width:"100%"},"aria-label":"uploading file progress"}):null,g.createElement("div",{className:`${y}-main-control`},g.createElement("span",{className:`${y}-validate-message`},this.renderValidateMessage()),S?g.createElement("span",{role:"button",tabIndex:0,className:`${y}-retry`,onClick:x=>this.onRetry(x)},e.retry):null)),P)}onRemove(e){e.stopPropagation(),this.props.onRemove()}onReplace(e){e.stopPropagation(),this.props.onReplace()}onRetry(e){e.stopPropagation(),this.props.onRetry()}render(){const{listType:e}=this.props;return e===Ve.FILE_LIST_PIC?g.createElement(dn,{componentName:"Upload"},t=>this.renderPic(t)):e===Ve.FILE_LIST_DEFAULT?g.createElement(dn,{componentName:"Upload"},t=>this.renderFile(t)):null}}g_.propTypes={className:c.string,disabled:c.bool,listType:c.string,name:c.string,onPreviewClick:c.func,onRemove:c.func,onReplace:c.func,onRetry:c.func,percent:c.number,preview:c.bool,previewFile:c.func,picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),showReplace:c.bool,showRetry:c.bool,size:c.oneOfType([c.number,c.string]),status:c.string,style:c.object,url:c.string,validateMessage:c.node,index:c.number};g_.defaultProps={listType:Ve.FILE_LIST_DEFAULT,name:"",onRemove:()=>{},onRetry:()=>{},preview:!1,size:""};var Uve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ut=Wj.PREFIX;class m_ extends we{constructor(e){super(e),this.inputRef=null,this.replaceInputRef=null,this.onClick=()=>{const{inputRef:t,props:r}=this,{onOpenFileDialog:s}=r;this.props.disabled||!t||!t.current||(t.current.click(),s&&s())},this.onChange=t=>{const{files:r}=t.target;this.foundation.handleChange(r)},this.replace=t=>{this.setState({replaceIdx:t},()=>{this.replaceInputRef.current.click()})},this.onReplaceChange=t=>{const{files:r}=t.target;this.foundation.handleReplaceChange(r)},this.clear=()=>{this.foundation.handleClear()},this.remove=t=>{this.foundation.handleRemove(t)},this.insert=(t,r)=>this.foundation.insertFileToList(t,r),this.upload=()=>{this.foundation.manualUpload()},this.openFileDialog=()=>{this.onClick()},this.renderFile=(t,r,s)=>{const{name:i,status:a,validateMessage:o,_sizeInvalid:l,uid:u}=t,{previewFile:d,listType:h,itemStyle:f,showPicInfo:p,renderPicInfo:_,renderPicPreviewIcon:m,renderFileOperation:v,renderFileItem:y,renderThumbnail:b,disabled:w,onPreviewClick:E,picWidth:S,picHeight:C}=this.props,O=()=>this.remove(t),I=()=>{this.foundation.retry(t)},P=()=>{this.replace(r)},x=Object.assign(Object.assign(Object.assign({},zl(this.props,["showRetry","showReplace",""])),t),{previewFile:d,listType:h,onRemove:O,onRetry:I,index:r,key:u||`${i}${r}`,style:f,disabled:w,showPicInfo:p,renderPicInfo:_,renderPicPreviewIcon:m,renderFileOperation:v,renderThumbnail:b,onReplace:P,onPreviewClick:typeof E<"u"?()=>this.foundation.handlePreviewClick(t):void 0,picWidth:S,picHeight:C});return a===Ve.FILE_STATUS_UPLOAD_FAIL&&!o&&(x.validateMessage=s.fail),l&&!o&&(x.validateMessage=s.illegalSize),typeof y>"u"?g.createElement(g_,Object.assign({},x)):y(x)},this.renderFileList=()=>{const{listType:t}=this.props;return t===Ve.FILE_LIST_PIC?this.renderFileListPic():t===Ve.FILE_LIST_DEFAULT?this.renderFileListDefault():null},this.renderFileListPic=()=>{const{showUploadList:t,limit:r,disabled:s,children:i,draggable:a,hotSpotLocation:o,picHeight:l,picWidth:u}=this.props,{fileList:d,dragAreaStatus:h}=this.state,f=this.props.fileList||d,p=r?r>f.length:!0,_=`${Ut}-drag-area`,m=A(`${Ut}-add`,{[`${Ut}-picture-add`]:!0,[`${Ut}-picture-add-disabled`]:s}),v=A(`${Ut}-file-list`,{[`${Ut}-picture-file-list`]:!0}),y=A({[`${_}-legal`]:h===Ve.DRAG_AREA_LEGAL,[`${_}-illegal`]:h===Ve.DRAG_AREA_ILLEGAL}),b=`${Ut}-file-list-main`,w={role:"button",className:m,onClick:this.onClick,style:{height:l,width:u}},E={className:v},S={onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter};a&&Object.assign(w,S,{className:A(m,y)});const C=g.createElement("div",Object.assign({},w,{"x-semi-prop":"children"}),i);return!t||!f.length?p?C:null:g.createElement(dn,{componentName:"Upload"},O=>g.createElement("div",Object.assign({},E),g.createElement("div",{className:b,role:"list","aria-label":"picture list"},p&&o==="start"?C:null,f.map((I,P)=>this.renderFile(I,P,O)),p&&o==="end"?C:null)))},this.renderFileListDefault=()=>{const{showUploadList:t,limit:r,disabled:s}=this.props,{fileList:i}=this.state,a=this.props.fileList||i,o=A(`${Ut}-file-list`),l=`${Ut}-file-list-title`,u=`${Ut}-file-list-main`,d=r!==1&&a.length,h=this.props.showClear&&!s,f={className:o};return!t||!a.length?null:g.createElement(dn,{componentName:"Upload"},p=>g.createElement("div",Object.assign({},f),d?g.createElement("div",{className:l},g.createElement("span",{className:`${l}-choosen`},p.selectedFiles),h?g.createElement("span",{role:"button",tabIndex:0,onClick:this.clear,className:`${l}-clear`},p.clear):null):null,g.createElement("div",{className:u,role:"list","aria-label":"file list"},a.map((_,m)=>this.renderFile(_,m,p)))))},this.onDrop=t=>{this.foundation.handleDrop(t)},this.onDragOver=t=>{this.foundation.handleDragOver(t)},this.onDragLeave=t=>{this.foundation.handleDragLeave(t)},this.onDragEnter=t=>{this.foundation.handleDragEnter(t)},this.renderAddContent=()=>{const{draggable:t,children:r,listType:s,disabled:i}=this.props,a=A(`${Ut}-add`);return s===Ve.FILE_LIST_PIC?null:t?this.renderDragArea():g.createElement("div",{role:"button",tabIndex:0,"aria-disabled":i,className:a,onClick:this.onClick},r)},this.renderDragArea=()=>{const{dragAreaStatus:t}=this.state,{children:r,dragIcon:s,dragMainText:i,dragSubText:a,disabled:o}=this.props,l=`${Ut}-drag-area`,u=A(l,{[`${l}-legal`]:t===Ve.DRAG_AREA_LEGAL,[`${l}-illegal`]:t===Ve.DRAG_AREA_ILLEGAL,[`${l}-custom`]:r});return g.createElement(dn,{componentName:"Upload"},d=>g.createElement("div",{role:"button",tabIndex:0,"aria-disabled":o,className:u,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onClick:this.onClick},r||g.createElement(g.Fragment,null,g.createElement("div",{className:`${l}-icon`,"x-semi-prop":"dragIcon"},s||g.createElement(tae,{size:"extra-large"})),g.createElement("div",{className:`${l}-text`},g.createElement("div",{className:`${l}-main-text`,"x-semi-prop":"dragMainText"},i||d.mainText),g.createElement("div",{className:`${l}-sub-text`,"x-semi-prop":"dragSubText"},a),g.createElement("div",{className:`${l}-tips`},t===Ve.DRAG_AREA_LEGAL&&g.createElement("span",{className:`${l}-tips-legal`},d.legalTips),t===Ve.DRAG_AREA_ILLEGAL&&g.createElement("span",{className:`${l}-tips-illegal`},d.illegalTips))))))},this.state={fileList:e.defaultFileList||[],replaceIdx:-1,inputKey:Math.random(),replaceInputKey:Math.random(),dragAreaStatus:"default",localUrls:[]},this.foundation=new Lve(this.adapter),this.inputRef=g.createRef(),this.replaceInputRef=g.createRef()}static getDerivedStateFromProps(e){const{fileList:t}=e;return"fileList"in e?{fileList:t||[]}:null}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyFileSelect:e=>this.props.onFileChange(e),notifyError:(e,t,r,s)=>this.props.onError(e,t,r,s),notifySuccess:(e,t,r)=>this.props.onSuccess(e,t,r),notifyProgress:(e,t,r)=>this.props.onProgress(e,t,r),notifyRemove:(e,t,r)=>this.props.onRemove(e,t,r),notifySizeError:(e,t)=>this.props.onSizeError(e,t),notifyExceed:e=>this.props.onExceed(e),updateFileList:(e,t)=>{typeof t=="function"?this.setState({fileList:e},t):this.setState({fileList:e})},notifyBeforeUpload:e=>{let{file:t,fileList:r}=e;return this.props.beforeUpload({file:t,fileList:r})},notifyAfterUpload:e=>{let{response:t,file:r,fileList:s}=e;return this.props.afterUpload({response:t,file:r,fileList:s})},resetInput:()=>{this.setState(e=>({inputKey:Math.random()}))},resetReplaceInput:()=>{this.setState(e=>({replaceInputKey:Math.random()}))},isMac:()=>navigator.platform.toUpperCase().indexOf("MAC")>=0,registerPastingHandler:e=>{document.body.addEventListener("keydown",e),this.pastingCb=e},unRegisterPastingHandler:()=>{this.pastingCb&&document.body.removeEventListener("keydown",this.pastingCb)},notifyPastingError:e=>this.props.onPastingError(e),updateDragAreaStatus:e=>this.setState({dragAreaStatus:e}),notifyChange:e=>{let{currentFile:t,fileList:r}=e;return this.props.onChange({currentFile:t,fileList:r})},updateLocalUrls:e=>this.setState({localUrls:e}),notifyClear:()=>this.props.onClear(),notifyPreviewClick:e=>this.props.onPreviewClick(e),notifyDrop:(e,t,r)=>this.props.onDrop(e,t,r),notifyAcceptInvalid:e=>this.props.onAcceptInvalid(e),notifyBeforeRemove:(e,t)=>this.props.beforeRemove(e,t),notifyBeforeClear:e=>this.props.beforeClear(e)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,className:r,multiple:s,accept:i,disabled:a,children:o,capture:l,listType:u,prompt:d,promptPosition:h,draggable:f,validateMessage:p,validateStatus:_,directory:m}=e,v=Uve(e,["style","className","multiple","accept","disabled","children","capture","listType","prompt","promptPosition","draggable","validateMessage","validateStatus","directory"]),y=A(Ut,{[`${Ut}-picture`]:u===Ve.FILE_LIST_PIC,[`${Ut}-disabled`]:a,[`${Ut}-default`]:_==="default",[`${Ut}-error`]:_==="error",[`${Ut}-warning`]:_==="warning",[`${Ut}-success`]:_==="success"},r),b=A(`${Ut}-hidden-input`),w=A(`${Ut}-hidden-input-replace`),E=A(`${Ut}-prompt`),S=A(`${Ut}-validate-message`),C=m?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return g.createElement("div",Object.assign({className:y,style:t,"x-prompt-pos":h},this.getDataAttr(v)),g.createElement("input",Object.assign({key:this.state.inputKey,capture:l,multiple:s,accept:i,onChange:this.onChange,type:"file",autoComplete:"off",tabIndex:-1,className:b,ref:this.inputRef},C)),g.createElement("input",{key:this.state.replaceInputKey,multiple:!1,accept:i,onChange:this.onReplaceChange,type:"file",autoComplete:"off",tabIndex:-1,className:w,ref:this.replaceInputRef}),this.renderAddContent(),d?g.createElement("div",{className:E,"x-semi-prop":"prompt"},d):null,p?g.createElement("div",{className:S,"x-semi-prop":"validateMessage"},p):null,this.renderFileList())}}m_.propTypes={accept:c.string,action:c.string.isRequired,addOnPasting:c.bool,afterUpload:c.func,beforeClear:c.func,beforeRemove:c.func,beforeUpload:c.func,children:c.node,className:c.string,customRequest:c.func,data:c.oneOfType([c.object,c.func]),defaultFileList:c.array,directory:c.bool,disabled:c.bool,dragIcon:c.node,dragMainText:c.node,dragSubText:c.node,draggable:c.bool,fileList:c.array,fileName:c.string,headers:c.oneOfType([c.object,c.func]),hotSpotLocation:c.oneOf(["start","end"]),itemStyle:c.object,limit:c.number,listType:c.oneOf(Ve.LIST_TYPE),maxSize:c.number,minSize:c.number,multiple:c.bool,name:c.string,onAcceptInvalid:c.func,onChange:c.func,onClear:c.func,onDrop:c.func,onError:c.func,onExceed:c.func,onFileChange:c.func,onOpenFileDialog:c.func,onPreviewClick:c.func,onProgress:c.func,onRemove:c.func,onRetry:c.func,onSizeError:c.func,onSuccess:c.func,onPastingError:c.func,previewFile:c.func,prompt:c.node,promptPosition:c.oneOf(Ve.PROMPT_POSITION),picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),renderFileItem:c.func,renderPicPreviewIcon:c.func,renderFileOperation:c.func,renderPicInfo:c.func,renderThumbnail:c.func,showClear:c.bool,showPicInfo:c.bool,showReplace:c.bool,showRetry:c.bool,showUploadList:c.bool,style:c.object,timeout:c.number,transformFile:c.func,uploadTrigger:c.oneOf(Ve.UPLOAD_TRIGGER),validateMessage:c.node,validateStatus:c.oneOf(Ve.VALIDATE_STATUS),withCredentials:c.bool};m_.defaultProps={defaultFileList:[],disabled:!1,listType:"list",hotSpotLocation:"end",multiple:!1,onAcceptInvalid:k,onChange:k,beforeRemove:()=>!0,beforeClear:()=>!0,onClear:k,onDrop:k,onError:k,onExceed:k,onFileChange:k,onOpenFileDialog:k,onProgress:k,onRemove:k,onRetry:k,onSizeError:k,onSuccess:k,onPastingError:k,promptPosition:"right",showClear:!0,showPicInfo:!1,showReplace:!1,showRetry:!0,showUploadList:!0,uploadTrigger:"auto",withCredentials:!1};m_.FileCard=g_;function _l(){return _l=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_l.apply(this,arguments)}function Bve(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,If(n,e)}function SS(n){return SS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},SS(n)}function If(n,e){return If=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},If(n,e)}function Hve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ym(n,e,t){return Hve()?ym=Reflect.construct:ym=function(s,i,a){var o=[null];o.push.apply(o,i);var l=Function.bind.apply(s,o),u=new l;return a&&If(u,a.prototype),u},ym.apply(null,arguments)}function zve(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function CS(n){var e=typeof Map=="function"?new Map:void 0;return CS=function(r){if(r===null||!zve(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return ym(r,arguments,SS(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),If(s,r)},CS(n)}var Kve=/%[sdj%]/g,Wve=function(){};function TS(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function ts(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=1,s=e[0],i=e.length;if(typeof s=="function")return s.apply(null,e.slice(1));if(typeof s=="string"){var a=String(s).replace(Kve,function(o){if(o==="%%")return"%";if(r>=i)return o;switch(o){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch{return"[Circular]"}break;default:return o}});return a}return s}function Gve(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function xn(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Gve(e)&&typeof n=="string"&&!n)}function Yve(n,e,t){var r=[],s=0,i=n.length;function a(o){r.push.apply(r,o),s++,s===i&&t(r)}n.forEach(function(o){e(o,a)})}function TA(n,e,t){var r=0,s=n.length;function i(a){if(a&&a.length){t(a);return}var o=r;r=r+1,o<s?e(n[o],i):t([])}i([])}function qve(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t])}),e}var OA=function(n){Bve(e,n);function e(t,r){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=t,s.fields=r,s}return e}(CS(Error));function Xve(n,e,t,r){if(e.first){var s=new Promise(function(h,f){var p=function(v){return r(v),v.length?f(new OA(v,TS(v))):h()},_=qve(n);TA(_,t,p)});return s.catch(function(h){return h}),s}var i=e.firstFields||[];i===!0&&(i=Object.keys(n));var a=Object.keys(n),o=a.length,l=0,u=[],d=new Promise(function(h,f){var p=function(m){if(u.push.apply(u,m),l++,l===o)return r(u),u.length?f(new OA(u,TS(u))):h()};a.length||(r(u),h()),a.forEach(function(_){var m=n[_];i.indexOf(_)!==-1?TA(m,t,p):Yve(m,t,p)})});return d.catch(function(h){return h}),d}function IA(n){return function(e){return e&&e.message?(e.field=e.field||n.fullField,e):{message:typeof e=="function"?e():e,field:e.field||n.fullField}}}function PA(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=_l({},n[t],r):n[t]=r}}return n}function Gj(n,e,t,r,s,i){n.required&&(!t.hasOwnProperty(n.field)||xn(e,i||n.type))&&r.push(ts(s.messages.required,n.fullField))}function Qve(n,e,t,r,s){(/^\s+$/.test(e)||e==="")&&r.push(ts(s.messages.whitespace,n.fullField))}var S0={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},dh={integer:function(e){return dh.number(e)&&parseInt(e,10)===e},float:function(e){return dh.number(e)&&!dh.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!dh.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&!!e.match(S0.email)&&e.length<255},url:function(e){return typeof e=="string"&&!!e.match(S0.url)},hex:function(e){return typeof e=="string"&&!!e.match(S0.hex)}};function Zve(n,e,t,r,s){if(n.required&&e===void 0){Gj(n,e,t,r,s);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=n.type;i.indexOf(a)>-1?dh[a](e)||r.push(ts(s.messages.types[a],n.fullField,n.type)):a&&typeof e!==n.type&&r.push(ts(s.messages.types[a],n.fullField,n.type))}function Jve(n,e,t,r,s){var i=typeof n.len=="number",a=typeof n.min=="number",o=typeof n.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,d=null,h=typeof e=="number",f=typeof e=="string",p=Array.isArray(e);if(h?d="number":f?d="string":p&&(d="array"),!d)return!1;p&&(u=e.length),f&&(u=e.replace(l,"_").length),i?u!==n.len&&r.push(ts(s.messages[d].len,n.fullField,n.len)):a&&!o&&u<n.min?r.push(ts(s.messages[d].min,n.fullField,n.min)):o&&!a&&u>n.max?r.push(ts(s.messages[d].max,n.fullField,n.max)):a&&o&&(u<n.min||u>n.max)&&r.push(ts(s.messages[d].range,n.fullField,n.min,n.max))}var ku="enum";function e_e(n,e,t,r,s){n[ku]=Array.isArray(n[ku])?n[ku]:[],n[ku].indexOf(e)===-1&&r.push(ts(s.messages[ku],n.fullField,n[ku].join(", ")))}function t_e(n,e,t,r,s){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(e)||r.push(ts(s.messages.pattern.mismatch,n.fullField,e,n.pattern));else if(typeof n.pattern=="string"){var i=new RegExp(n.pattern);i.test(e)||r.push(ts(s.messages.pattern.mismatch,n.fullField,e,n.pattern))}}}var Le={required:Gj,whitespace:Qve,type:Zve,range:Jve,enum:e_e,pattern:t_e};function n_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e,"string")&&!n.required)return t();Le.required(n,e,r,i,s,"string"),xn(e,"string")||(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s),Le.pattern(n,e,r,i,s),n.whitespace===!0&&Le.whitespace(n,e,r,i,s))}t(i)}function r_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&Le.type(n,e,r,i,s)}t(i)}function s_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(e===""&&(e=void 0),xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s))}t(i)}function i_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&Le.type(n,e,r,i,s)}t(i)}function a_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),xn(e)||Le.type(n,e,r,i,s)}t(i)}function o_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s))}t(i)}function l_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s))}t(i)}function u_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(e==null&&!n.required)return t();Le.required(n,e,r,i,s,"array"),e!=null&&(Le.type(n,e,r,i,s),Le.range(n,e,r,i,s))}t(i)}function c_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&Le.type(n,e,r,i,s)}t(i)}var d_e="enum";function h_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s),e!==void 0&&Le[d_e](n,e,r,i,s)}t(i)}function f_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e,"string")&&!n.required)return t();Le.required(n,e,r,i,s),xn(e,"string")||Le.pattern(n,e,r,i,s)}t(i)}function p_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e,"date")&&!n.required)return t();if(Le.required(n,e,r,i,s),!xn(e,"date")){var o;e instanceof Date?o=e:o=new Date(e),Le.type(n,o,r,i,s),o&&Le.range(n,o.getTime(),r,i,s)}}t(i)}function g_e(n,e,t,r,s){var i=[],a=Array.isArray(e)?"array":typeof e;Le.required(n,e,r,i,s,a),t(i)}function C0(n,e,t,r,s){var i=n.type,a=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(xn(e,i)&&!n.required)return t();Le.required(n,e,r,a,s,i),xn(e,i)||Le.type(n,e,r,a,s)}t(a)}function m_e(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(xn(e)&&!n.required)return t();Le.required(n,e,r,i,s)}t(i)}var Lh={string:n_e,method:r_e,number:s_e,boolean:i_e,regexp:a_e,integer:o_e,float:l_e,array:u_e,object:c_e,enum:h_e,pattern:f_e,date:p_e,url:C0,hex:C0,email:C0,required:g_e,any:m_e};function OS(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var BT=OS();function Io(n){this.rules=null,this._messages=BT,this.define(n)}Io.prototype={messages:function(e){return e&&(this._messages=PA(OS(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if(typeof e!="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t,r;for(t in e)e.hasOwnProperty(t)&&(r=e[t],this.rules[t]=Array.isArray(r)?r:[r])},validate:function(e,t,r){var s=this;t===void 0&&(t={}),r===void 0&&(r=function(){});var i=e,a=t,o=r;if(typeof a=="function"&&(o=a,a={}),!this.rules||Object.keys(this.rules).length===0)return o&&o(),Promise.resolve();function l(m){var v,y=[],b={};function w(E){if(Array.isArray(E)){var S;y=(S=y).concat.apply(S,E)}else y.push(E)}for(v=0;v<m.length;v++)w(m[v]);y.length?b=TS(y):(y=null,b=null),o(y,b)}if(a.messages){var u=this.messages();u===BT&&(u=OS()),PA(u,a.messages),a.messages=u}else a.messages=this.messages();var d,h,f={},p=a.keys||Object.keys(this.rules);p.forEach(function(m){d=s.rules[m],h=i[m],d.forEach(function(v){var y=v;typeof y.transform=="function"&&(i===e&&(i=_l({},i)),h=i[m]=y.transform(h)),typeof y=="function"?y={validator:y}:y=_l({},y),y.validator=s.getValidationMethod(y),y.field=m,y.fullField=y.fullField||m,y.type=s.getType(y),y.validator&&(f[m]=f[m]||[],f[m].push({rule:y,value:h,source:i,field:m}))})});var _={};return Xve(f,a,function(m,v){var y=m.rule,b=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");b=b&&(y.required||!y.required&&m.value),y.field=m.field;function w(C,O){return _l({},O,{fullField:y.fullField+"."+C})}function E(C){C===void 0&&(C=[]);var O=C;if(Array.isArray(O)||(O=[O]),!a.suppressWarning&&O.length&&Io.warning("async-validator:",O),O.length&&y.message!==void 0&&(O=[].concat(y.message)),O=O.map(IA(y)),a.first&&O.length)return _[y.field]=1,v(O);if(!b)v(O);else{if(y.required&&!m.value)return y.message!==void 0?O=[].concat(y.message).map(IA(y)):a.error&&(O=[a.error(y,ts(a.messages.required,y.field))]),v(O);var I={};if(y.defaultField)for(var P in m.value)m.value.hasOwnProperty(P)&&(I[P]=y.defaultField);I=_l({},I,m.rule.fields);for(var x in I)if(I.hasOwnProperty(x)){var D=Array.isArray(I[x])?I[x]:[I[x]];I[x]=D.map(w.bind(null,x))}var N=new Io(I);N.messages(a.messages),m.rule.options&&(m.rule.options.messages=a.messages,m.rule.options.error=a.error),N.validate(m.value,m.rule.options||a,function(L){var V=[];O&&O.length&&V.push.apply(V,O),L&&L.length&&V.push.apply(V,L),v(V.length?V:null)})}}var S;y.asyncValidator?S=y.asyncValidator(y,m.value,E,m.source,a):y.validator&&(S=y.validator(y,m.value,E,m.source,a),S===!0?E():S===!1?E(y.message||y.field+" fails"):S instanceof Array?E(S):S instanceof Error&&E(S.message)),S&&S.then&&S.then(function(){return E()},function(C){return E(C)})},function(m){l(m)})},getType:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!Lh.hasOwnProperty(e.type))throw new Error(ts("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if(typeof e.validator=="function")return e.validator;var t=Object.keys(e),r=t.indexOf("message");return r!==-1&&t.splice(r,1),t.length===1&&t[0]==="required"?Lh.required:Lh[this.getType(e)]||!1}};Io.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Lh[e]=t};Io.warning=Wve;Io.messages=BT;Io.validators=Lh;var y_e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function v_e(n){const e=n.displayName||n.name;return e?`SemiField${e}`:"SemiField"}function __e(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t={};return t[n]=e,new Io(t)}function b_e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=!1;return typeof n=="object"&&"required"in n?e=n.required:Array.isArray(n)&&n.length&&n.forEach(t=>{t.required&&(e=!0)}),e}function bl(n){let e=!0;return typeof n=="string"&&n.length?e=!1:Array.isArray(n)&&n.length?e=n.every(t=>bl(t)):typeof n=="boolean"?e=n:n&&typeof n.$$typeof=="symbol"&&n.$$typeof.toString()==="Symbol(react.element)"&&(e=!1),e}function w_e(n,e){let t=[],r=[];return dt(n)?dt(e)?t=ch.DEFAULT_TRIGGER:t=e:t=n,Array.isArray(t)&&(r=t),typeof t=="string"&&(r[0]=t),r}function E_e(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return dt(n)?dt(e)?t:e:n}function S_e(n,e){const r=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),n),s="field"in e?!0:r.shouldInject;return{options:r,shouldInject:s}}function C_e(n){let t=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),n),{field:r,label:s,labelPosition:i,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,initValue:d,validate:h,validateStatus:f,trigger:p,allowEmptyString:_,allowEmpty:m,emptyValue:v,rules:y,onChange:b,keepState:w,transform:E,name:S,fieldClassName:C,fieldStyle:O,noLabel:I,noErrorMessage:P,isInInputGroup:x,stopValidateWithError:D,convert:N,showValidateIcon:L,helpText:V,extraText:B,extraTextPosition:F,pure:W,id:$}=t,j=y_e(t,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete j.defaultChecked,delete j.defaultValue,delete j.checked,typeof d<"u"&&(d=Da(d));const M=b_e(y);return v=typeof v<"u"?v:"",{field:r,label:s,labelPosition:i,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,noLabel:I,noErrorMessage:P,isInInputGroup:x,initValue:d,validate:h,validateStatus:f,trigger:p,allowEmptyString:_,allowEmpty:m,emptyValue:v,rules:y,required:M,keepState:w,transform:E,name:S,fieldClassName:C,fieldStyle:O,convert:N,stopValidateWithError:D,showValidateIcon:L,helpText:V,extraText:B,extraTextPosition:F,pure:W,rest:j,id:$}}class T_e extends Pe{constructor(e){super(Object.assign({},e));let{initValues:t}=this._adapter.getProps();t=this._adapter.cloneDeep(t),this.data={values:t||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this),this.scrollToError=this.scrollToError.bind(this)}init(){this._adapter.initFormId()}getField(e){return this.fields.get(e)}register(e,t,r){if(this.registered[e],this.registered[e]=!0,this.fields.set(e,r),!r.keepState){const s=r.allowEmpty||!1,i={notNotify:!0,notUpdate:!1,allowEmpty:s};let a=t.value;!s&&a===""&&(a=void 0),this.updateStateValue(e,a,i),t.error&&this.updateStateError(e,t.error,i)}}unRegister(e){const t=this.fields.get(e);try{t.keepState||(dm(this.data.values,e),dm(this.data.errors,e),dm(this.data.touched,e))}catch{console.error(`some thing wrong when unregister field:${e}`)}this.fields.delete(e),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(e,t){this.updateArrayField(e,{updateKey:new Date().valueOf(),initValue:t})}unRegisterArrayField(e){this.registeredArrayField.delete(e)}getArrayField(e){return this.registeredArrayField.get(e)}updateArrayField(e,t){const r=Object.assign(Object.assign({},this.registeredArrayField.get(e)),t);this.registeredArrayField.set(e,r)}validate(e){const{validateFields:t}=this.getProps();return t&&Te(t)?this._formValidate():this._fieldsValidate(e)}_formValidate(){const{values:e}=this.data,{validateFields:t}=this.getProps();return new Promise((r,s)=>{let i;try{i=t(e)}catch(a){i=a}if(i)Sf(i)?i.then(a=>{if(a)this.data.errors=a,this._adapter.notifyChange(this.data),this.injectErrorToField(a),this._adapter.forceUpdate(),this._autoScroll(100),s(a);else{const o=this._adapter.cloneDeep(e);r(o),this.injectErrorToField({})}},a=>{this._autoScroll(100),s(a)}):(this.data.errors=i,this.injectErrorToField(i),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),s(i));else{const a=this._adapter.cloneDeep(e);r(a),this.injectErrorToField({})}})}_fieldsValidate(e){const{values:t}=this.data;return new Promise((r,s)=>{let i=[];const a=this._getOperateFieldMap(e);a.forEach((o,l)=>{const u=this.getValue(l),d={notNotify:!0,notUpdate:!0},h=o.fieldApi.validate(u,d);i.push(h),o.fieldApi.setTouched(!0,d)}),Promise.all(i).then(()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();const o=this.getError();if(this._isValid(a)){const l=this._adapter.cloneDeep(t);r(l)}else this._autoScroll(),s(o)})})}submit(e){const{values:t}=this.data;this.validate().then(r=>{const s=this._adapter.cloneDeep(r);this._adapter.notifySubmit(s,e)}).catch(r=>{const s=this._adapter.cloneDeep(r),i=this._adapter.cloneDeep(t);this._adapter.notifySubmitFail(s,i,e)})}_getNestedField(e){const t=this.fields,r=[...t].map(i=>i[0]);let s=new Map;return r.forEach(i=>{let a=wf(i),o=wf(e);if(o.every((l,u)=>o[u]===a[u])){const l=t.get(i);s.set(i,l)}}),s}_getOperateFieldMap(e){let t=new Map;return dt(e)?t=this.fields:e.forEach(r=>{const s=this.fields.get(r);if(dt(s)){const i=this._getNestedField(r);t=new Map([...t,...i])}else t.set(r,s)}),t}reset(e){this._getOperateFieldMap(e).forEach(r=>{r.fieldApi.reset()}),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){[...this.registeredArrayField.keys()].forEach(t=>{const s=this.registeredArrayField.get(t).initValue;this.updateStateValue(t,s,{notNotify:!0,notUpdate:!0}),this.updateArrayField(t,{updateKey:new Date().valueOf()})})}injectErrorToField(e){this.fields.forEach(t=>{const r=Cr(e,t.field),s={notNotify:!0,notUpdate:!0};t.fieldApi.setError(r,s)})}getValue(e,t){const r=typeof e>"u",s=t&&t.needClone;let i,a;switch(!0){case(!r&&!s):i=Cr(this.data.values,e);break;case(!r&&s):a=Cr(this.data.values,e),i=this._adapter.cloneDeep(a);break;case(r&&!s):i=Object.assign({},this.data.values);break;case(r&&s):i=this._adapter.cloneDeep(this.data.values);break}return i}setValues(e,t){let{isOverride:r=!1}=t;const s=this._adapter.cloneDeep(e);this.fields.forEach(i=>{const a=Cr(s,i.field),o={notNotify:!0,notUpdate:!0};i.fieldApi.setValue(a,o)}),this.registeredArrayField.size&&[...this.registeredArrayField.keys()].forEach(a=>{this.updateArrayField(a,{updateKey:new Date().valueOf()})}),r&&(this.data.values=s),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},e)),this._adapter.forceUpdate()}updateStateValue(e,t,r,s){const i=r&&r.notNotify,a=r&&r.notUpdate,o=r&&r.fieldAllowEmpty,l=this.getProp("allowEmpty"),u=o||l;a0(this.data.values,e,t,u),i||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[e]:t})),a||this._adapter.forceUpdate(s)}getTouched(e){return typeof e>"u"?this.data.touched:Cr(this.data.touched,e)}updateStateTouched(e,t,r,s){const i=r&&r.notNotify,a=r&&r.notUpdate;a0(this.data.touched,e,t),i||this._adapter.notifyChange(this.data),a||this._adapter.forceUpdate(s)}getError(e){return typeof e>"u"?this.data.errors:Cr(this.data.errors,e)}updateStateError(e,t,r,s){const i=r&&r.notNotify,a=r&&r.notUpdate;a0(this.data.errors,e,t),i||this._adapter.notifyChange(this.data),this._adapter.notifyErrorChange(this.data.errors,{[e]:t}),a||this._adapter.forceUpdate(s)}getFieldSetterApi(){return{setValue:(s,i,a)=>{const o=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);o?o.setValue(l,a):(this.updateStateValue(s,l,a,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Cr(this.data.values,h),p={notNotify:!0,notUpdate:!0};d.fieldApi.setValue(f,p)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setError:(s,i,a)=>{const o=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);o?o.setError(l,a):(this.updateStateError(s,l,a,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Cr(this.data.errors,h),p={notNotify:!0,notUpdate:!0};d.fieldApi.setError(f,p)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setTouched:(s,i,a)=>{const o=this.fields.get(s)?this.fields.get(s).fieldApi:void 0;o?o.setTouched(i,a):(this.updateStateTouched(s,i,a,()=>{let l=this._getNestedField(s);l.size&&l.forEach(u=>{let d=u.field,h=Cr(this.data.touched,d),f={notNotify:!0,notUpdate:!0};u.fieldApi.setTouched(h,f)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){const e=this.getFieldSetterApi();return Object.assign(Object.assign({},e),{reset:t=>this.reset(t),validate:t=>this.validate(t),getValue:t=>this.getValue(t,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getFormProps:t=>this.getFormProps(t),getInitValue:t=>this.getInitValue(t),getInitValues:()=>this.getInitValues(),getTouched:t=>this.getTouched(t),getError:t=>this.getError(t),setValues:(t,r)=>this.setValues(t,r||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:t=>this.getFieldExist(t),scrollToField:(t,r)=>this.scrollToField(t,r),scrollToError:t=>this.scrollToError(t)})}getFormState(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(e){let t=!0;return e?[...e.keys()].forEach(s=>{const i=Cr(this.data.errors,s);bl(i)||(t=!1)}):t=!!phe(this.data.errors),t}getInitValues(){return this._adapter.getInitValues()}getInitValue(e){return typeof e>"u"?this._adapter.getInitValues():Cr(this._adapter.getInitValues(),e)}getFormProps(e){return this._adapter.getFormProps(e)}getFieldExist(e){return!!this.fields.has(e)}_autoScroll(e){const{autoScrollToError:t}=this.getFormProps();if(!t)return;let r={behavior:"smooth",block:"start"};typeof t=="object"&&(r=t),e?setTimeout(()=>this._getErrorFieldAndScroll(r),100):this._getErrorFieldAndScroll(r)}_getErrorFieldAndScroll(e){const t=this._adapter.getAllErrorDOM();if(t&&t.length)try{const r=t[0].parentNode.parentNode;jb(r,e)}catch{}}scrollToField(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(e)){const r=this._adapter.getFieldDOM(e);jb(r,t)}}scrollToError(e){let t=e&&e.scrollOpts?e.scrollOpts:{behavior:"smooth",block:"start"},r=e&&e.field,s=e&&e.index,i,a;if(typeof s=="number"){let l=this._adapter.getAllErrorDOM()[s];l&&(i=l.parentNode.parentNode)}else if(r)a=this._adapter.getFieldErrorDOM(r),a&&(i=a.parentNode.parentNode);else if(typeof r>"u"){let o=this._adapter.getAllErrorDOM();o&&o.length&&(i=o[0].parentNode.parentNode)}i&&jb(i,t)}}const HT=g.createContext({});HT.displayName="FormState";const Yj=g.createContext({});Yj.displayName="FormApi";const Ap=g.createContext({});Ap.displayName="FormUpdater";const O_e=g.createContext({shouldUseInitValue:!0}),T0=Zs.PREFIX;class Dp extends T.PureComponent{generatorText(e){const{helpTextId:t,errorMessageId:r}=this.props,s=this.props.error;let i=r;if(s||(i=t),typeof e=="string")return g.createElement("span",{id:i},e);if(Array.isArray(e)){const a=e.filter(o=>o);return a.length?g.createElement("span",{id:i},a.join(", ")):null}else if(g.isValidElement(e))return e;return null}render(){const{error:e,className:t,style:r,validateStatus:s,helpText:i,showValidateIcon:a,isInInputGroup:o}=this.props,l=A({[T0+"-field-error-message"]:!!e,[T0+"-field-help-text"]:!!i},t);if(!e&&!i)return null;const u={warning:g.createElement(Y1,null),error:g.createElement(gf,null)},d=e?this.generatorText(e):this.generatorText(i),h=`${T0}-field-validate-status-icon`;let f=null;return o?f=g.createElement(gf,{className:h}):u[s]&&(f=g.cloneElement(u[s],{className:h})),g.createElement("div",{className:l,style:r},a&&d?f:null,d)}}Dp.propTypes={error:c.oneOfType([c.bool,c.string,c.array,c.node]),className:c.string,style:c.object,validateStatus:c.string,showValidateIcon:c.bool,helpText:c.node,isInInputGroup:c.bool,errorMessageId:c.string,helpTextId:c.string};var I_e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Xd=Zs.PREFIX,P_e=n=>{let e,t,r,s,i,a="top";try{const E=T.useContext(Ap).getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);e=E.labelCol,t=E.wrapperCol,r=E.labelWidth,s=E.labelAlign,a=E.labelPosition?E.labelPosition:a}catch{}n.labelPosition&&(a=n.labelPosition);let{children:o,label:l,className:u,style:d,error:h,noLabel:f}=n;I_e(n,["children","label","className","style","error","noLabel"]);const p=e&&t,_=A({[`${Xd}-field`]:!0,[`${Xd}-slot`]:!0},u),m=A({[`${Xd}-col-${s}`]:!0});switch(!0){case(Pa(l)&&!g.isValidElement(l)):break;case(Oe(l)||jt(l)):l={text:l};break;case g.isValidElement(l):l={text:l};break}let v=null;if(typeof h!==void 0){let w={};switch(!0){case(Pa(h)&&!g.isValidElement(h)):w=h;break;case(Oe(h)||jt(h)):w={error:h};break;case g.isValidElement(h):w={error:h};break}v=g.createElement(Dp,Object.assign({},w))}let y=Object.assign({align:s,width:r},l),b=A({[`${Xd}-field-main`]:!0,[`${Xd}-slot-main`]:!0});switch(!0){case(!p&&!f):i=g.createElement(g.Fragment,null,g.createElement(Hi,Object.assign({},y)),g.createElement("div",{className:b},o,v));break;case(!p&&f):i=g.createElement(g.Fragment,null,g.createElement("div",{className:b},o,v));break;case(p&&a==="top"):i=g.createElement(g.Fragment,null,g.createElement("div",{style:{overflow:"hidden"}},g.createElement(Hr,Object.assign({},e,{className:m}),g.createElement(Hi,Object.assign({},y)))),g.createElement(Hr,null,o,v));break;case(p&&a!=="top"):i=g.createElement(g.Fragment,null,g.createElement(Hr,Object.assign({},e,{className:m}),g.createElement(Hi,Object.assign({},y))),g.createElement(Hr,null,o,v));break}return g.createElement("div",{className:_,"x-label-pos":a,style:d},i)},xA=Zs.PREFIX;class qj extends T.PureComponent{render(){const{text:e,className:t,style:r,children:s}=this.props,i=A({[xA+"-section"]:!0},t),a=xA+"-section-text";return g.createElement("section",{className:i,style:r},g.createElement("h5",{className:a},e),s)}}qj.propTypes={text:c.node,className:c.string,style:c.object,children:c.node};function Xj(){return T.useContext(HT)}function x_e(){return T.useContext(Ap)}function O0(n){const e=T.useRef(),[t,r]=T.useState(n);return e.current=t,[t,a=>{e.current=a,r(a)},()=>e.current]}function R_e(){return T.useContext(O_e)}var A_e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Nu=Zs.PREFIX,D_e=n=>{const{fieldSet:e}=n,t=Xj(),r=e.map(s=>Cr(t.errors,s));return bl(r)?null:g.createElement(Dp,{error:r,showValidateIcon:n.showValidateIcon,isInInputGroup:n.isInInputGroup})};class Qj extends T.Component{renderLabel(e,t){return e?Oe(e)?g.createElement(Hi,{width:t.labelWidth,text:e}):g.createElement(Hi,Object.assign({width:t.labelWidth},e)):null}render(){const e=this.props,{children:t,label:r,extraText:s,extraTextPosition:i}=e,a=A_e(e,["children","label","extraText","extraTextPosition"]),l=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),u=this.props.labelPosition||l.labelPosition,d=[],h=g.Children.map(t,I=>I&&I.props&&I.props.field?(d.push(I.props.field),g.cloneElement(I,{isInInputGroup:!0})):null),f=A({[`${Nu}-field-group`]:!0}),p=l.labelCol,_=l.wrapperCol,m=l.labelAlign,v=p&&_,y=p?`${Nu}-col-${m}`:"",b=this.renderLabel(r,l),w=g.createElement(TT,Object.assign({disabled:l.disabled},a),h),E=g.createElement(D_e,{fieldSet:d,showValidateIcon:l.showValidateIcon,isInInputGroup:!0}),S=A(`${Nu}-field-extra`,{[`${Nu}-field-extra-string`]:typeof s=="string",[`${Nu}-field-extra-middle`]:i==="middle",[`${Nu}-field-extra-bottom`]:i==="bottom"}),C=s?g.createElement("div",{className:S,"x-semi-prop":"extraText"},s):null;let O;switch(!0){case!v:O=g.createElement(g.Fragment,null,b,g.createElement("div",null,i==="middle"?C:null,w,i==="bottom"?C:null,E));break;case(v&&u==="top"):O=g.createElement(g.Fragment,null,g.createElement("div",{style:{overflow:"hidden"}},g.createElement(Hr,Object.assign({},p,{className:y}),b)),g.createElement(Hr,Object.assign({},_),i==="middle"?C:null,w,i==="bottom"?C:null,E));break;case(v&&u!=="top"):O=g.createElement(g.Fragment,null,g.createElement(Hr,Object.assign({},p,{className:y}),b),g.createElement(Hr,Object.assign({},_),i==="middle"?C:null,w,i==="bottom"?C:null,E));break}return g.createElement("div",{"x-label-pos":u,className:f},O)}}Qj.contextType=Ap;const wi=Zs.PREFIX,I0=typeof window<"u"?T.useLayoutEffect:T.useEffect;function Mn(n,e){let t=(r,s)=>{let{field:i,label:a,labelPosition:o,labelWidth:l,labelAlign:u,labelCol:d,wrapperCol:h,noLabel:f,noErrorMessage:p,isInInputGroup:_,initValue:m,validate:v,validateStatus:y,trigger:b,allowEmptyString:w,allowEmpty:E,emptyValue:S,rules:C,required:O,keepState:I,transform:P,name:x,fieldClassName:D,fieldStyle:N,convert:L,stopValidateWithError:V,helpText:B,extraText:F,extraTextPosition:W,pure:$,id:j,rest:M}=C_e(r),{options:te,shouldInject:Q}=S_e(e,r);if(kt(typeof i>"u"&&te.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!Q)return g.createElement(n,Object.assign({},M,{ref:s}));Xj();const ie=x_e();if(!ie.getFormProps)return kt(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let le=ie.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),Ee=o||le.labelPosition,he=l||le.labelWidth,de=u||le.labelAlign,ue=d||le.labelCol,q=h||le.wrapperCol,se=W||le.extraTextPosition||"bottom",yt=E_e(V,le.stopValidateWithError,!1),Nt=w_e(b,le.trigger),Cn=typeof i<"u"?ie.getValue(i):void 0,Tt=typeof m<"u"?m:Cn,jn;try{jn=R_e(),jn&&(Tt=jn.shouldUseInitValue&&typeof m<"u"?m:Cn)}catch{}const[vt,br,hs]=O0(typeof Tt!==void 0?Tt:null),Qo=Nt.includes("mount");E=E||ie.getFormProps().allowEmpty;const[nn,wr,pi]=O0(),[gi,Ba]=T.useState(),[wu,Eu,mi]=O0(0),[er,Vn]=T.useState(y),Xr=T.useRef(!1),tr=T.useRef(C),yi=T.useRef(v),js=T.useRef(null),ea=(_e,Xe)=>{Ba(_e),ie.updateStateTouched(i,_e,Xe)},Un=(_e,Xe)=>{Xr.current||_e!==pi()&&(wr(_e),ie.updateStateError(i,_e,Xe),bl(_e)?Vn("success"):Vn("error"))},Vs=(_e,Xe)=>{br(_e);let Vt=Object.assign(Object.assign({},Xe),{allowEmpty:E});ie.updateStateValue(i,_e,Vt)},Ha=()=>{let _e={notNotify:!0,notUpdate:!0};Vs(Tt!==null?Tt:void 0,_e),Un(void 0,_e),ea(void 0,_e),Vn("default")},za=(_e,Xe)=>{let Vt=tr.current||[];const at=__e(i,Vt),sn={[i]:_e},_t=new Promise((It,tb)=>{at.validate(sn,{first:yt},(na,ra)=>{}).then(na=>{Xr.current||js.current!==_t||(Vn("success"),Un(void 0,Xe),It({}))}).catch(na=>{if(Xr.current||js.current!==_t)return;let{errors:ra,fields:Zp}=na;if(ra&&Zp){let el=ra.map(kd=>kd.message);el.length===1&&(el=el[0]),Un(el,Xe),bl(el)||(Vn("error"),It(ra))}else throw Vn("error"),Un(na.message,Xe),It(na.message),na})});return js.current=_t,_t},Zo=(_e,Xe,Vt)=>{const at=new Promise(sn=>{let _t;try{_t=yi.current(_e,Xe)}catch(It){_t=It}_t===void 0?(sn({}),Un(void 0,Vt)):Sf(_t)?_t.then(It=>{Xr.current||js.current!==at||(bl(It)?(Un(void 0,Vt),sn(null)):(Un(It,Vt),sn(It)))}):bl(_t)?(Un(void 0,Vt),sn(null)):(Un(_t,Vt),sn(_t))});return js.current=at,at},vi=(_e,Xe)=>{let Vt=_e,at=tr.current;return P&&(Vt=P(_e)),yi.current?Zo(Vt,ie.getValue(),Xe):at?za(Vt,Xe):null},Jo=function(_e,Xe){if(te.onKeyChangeFnName in r&&typeof r[te.onKeyChangeFnName]=="function"){for(var at=arguments.length,sn=new Array(at>2?at-2:0),_t=2;_t<at;_t++)sn[_t-2]=arguments[_t];r[te.onKeyChangeFnName](_e,Xe,...sn)}let It;te.valuePath?It=Cr(_e,te.valuePath):It=_e,typeof L=="function"&&(It=L(It)),w||E||It===S&&(It=void 0);try{Xe&&Xe.target&&Xe.target.selectionStart&&Eu(Xe.target.selectionStart)}catch{}ea(!0,{notNotify:!0,notUpdate:!0}),Vs(It),Nt.includes("change")&&vi(It)},Ot=function(){if(r.onBlur&&r.onBlur(...arguments),gi||ea(!0),Nt.includes("blur")){let _e=hs();vi(_e)}},hn={setValue:Vs,setTouched:ea,setError:Un,reset:Ha,validate:vi},qt={value:vt,error:nn,touched:gi,status:er};I0(()=>{tr.current=C,yi.current=v},[C,v]),I0(()=>(Xr.current=!1,Qo&&vi(vt),()=>{Xr.current=!0}),[]),I0(()=>{if(typeof i>"u")return()=>{};const _e=hs();return ie.register(i,{value:_e,error:nn,touched:gi,status:er},{field:i,fieldApi:hn,keepState:I,allowEmpty:E||w}),()=>{ie.unRegister(i)}},[i]);const fn=j||i,pn=`${fn}-label`,rn=`${fn}-helpText`,Er=`${fn}-extraText`,ta=`${fn}-errormessage`,gn=()=>{let _e=y||er;const Xe=A(`${wi}-field-extra`,{[`${wi}-field-extra-string`]:typeof F=="string",[`${wi}-field-extra-middle`]:se==="middle",[`${wi}-field-extra-bottom`]:se==="bottom"}),Vt=F?g.createElement("div",{className:Xe,id:Er,"x-semi-prop":"extraText"},F):null;let at=Object.assign(Object.assign({id:fn,disabled:le.disabled},M),{ref:s,onBlur:Ot,[te.onKeyChangeFnName]:Jo,[te.valueKey]:vt,validateStatus:_e,"aria-required":O,"aria-labelledby":pn});x&&(at.name=x),B&&(at["aria-describedby"]=F?`${rn} ${Er}`:rn),F&&(at["aria-describedby"]=B?`${rn} ${Er}`:Er),er==="error"&&(at["aria-errormessage"]=ta,at["aria-invalid"]=!0);const sn=A({[`${wi}-field`]:!0,[`${wi}-field-${x}`]:!!x,[D]:!!D}),_t=A({[`${wi}-field-main`]:!0});Ee==="inset"&&!f&&(at.insetLabel=a||i,at.insetLabelId=pn,typeof a=="object"&&!lE(a)&&(at.insetLabel=a.text,at.insetLabelId=pn));const It=g.createElement(n,Object.assign({},at));if(_)return It;if($){let kd=A(M.className,{[`${wi}-field-pure`]:!0,[`${wi}-field-${x}`]:!!x,[D]:!!D});return at.className=kd,g.createElement(n,Object.assign({},at))}let tb=ue&&q;const na=de?`${wi}-col-${de}`:"";let ra=null;if(!f&&Ee!=="inset"){let kd=typeof a=="object"&&!lE(a)?a:{};ra=g.createElement(Hi,Object.assign({text:a||i,id:pn,required:O,name:fn||x||i,width:he,align:de},kd))}const Zp=g.createElement("div",{className:_t},se==="middle"?Vt:null,It,p?null:g.createElement(Dp,{error:nn,validateStatus:_e,helpText:B,helpTextId:rn,errorMessageId:ta,showValidateIcon:le.showValidateIcon}),se==="bottom"?Vt:null),el=g.createElement(g.Fragment,null,Ee==="top"?g.createElement("div",{style:{overflow:"hidden"}},g.createElement(Hr,Object.assign({},ue,{className:na}),ra)):g.createElement(Hr,Object.assign({},ue,{className:na}),ra),g.createElement(Hr,Object.assign({},q),Zp));return g.createElement("div",{className:sn,style:N,"x-label-pos":Ee,"x-field-id":i,"x-extra-pos":se},tb?el:g.createElement(g.Fragment,null,ra,Zp))},_i=[...Object.values(qt),...Object.values(r),i,Ee,de,le.disabled];return te.shouldMemo?T.useMemo(gn,[..._i]):gn()};return t=T.forwardRef(t),t.displayName=v_e(n),t}const k_e=Mn(Zt,{maintainCursor:!0}),N_e=Mn(Tme,{maintainCursor:!0}),$_e=Mn(Rj,{maintainCursor:!0}),zT=Mn(Ls);zT.Option=Ls.Option;zT.OptGroup=Ls.OptGroup;const L_e=Mn(Ep),M_e=Mn(Aa,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),F_e=Mn(AT,{valuePath:"target.value"}),j_e=Mn(Wl,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),V_e=Mn(Kge),U_e=Mn(LT,{valueKey:"checked"}),B_e=Mn($T),H_e=Mn(Of),z_e=Mn(p_),K_e=Mn(Bc),W_e=Mn(f_),G_e=Mn(Vc,{valueKey:"value",onKeyChangeFnName:"onChange"}),Y_e=Mn(m_,{valueKey:"fileList",valuePath:"fileList",onKeyChangeFnName:"onChange"}),q_e=Mn(Ip);var X_e=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const P0=Zs.PREFIX;class He extends we{constructor(e){super(e),this.state={formId:""},kt(!!(e.component&&e.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),kt(e.component&&e.children&&!jx(e.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),kt(e.render&&e.children&&!jx(e.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new T_e(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:qte,notifySubmit:(e,t)=>{this.props.onSubmit(e,t)},notifySubmitFail:(e,t,r)=>{this.props.onSubmitFail(e,t,r)},forceUpdate:e=>{this.forceUpdate(e)},notifyChange:e=>{this.props.onChange(e)},notifyValueChange:(e,t)=>{this.props.onValueChange(e,t)},notifyErrorChange:(e,t)=>{this.props.onErrorChange(e,t)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:om()})},getInitValues:()=>this.props.initValues,getFormProps:e=>{if(typeof e>"u")return this.props;if(typeof e=="string")return this.props[e];{const t={};return e.forEach(r=>{t[r]=this.props[r]}),t}},getAllErrorDOM:()=>{const{formId:e}=this.state,{id:t}=this.props,r=t||e;return document.querySelectorAll(`form[x-form-id="${r}"] .${Zs.PREFIX}-field-error-message`)},getFieldDOM:e=>document.querySelector(`.${Zs.PREFIX}-field[x-field-id="${e}"]`),getFieldErrorDOM:e=>{const{formId:t}=this.state,{id:r}=this.props;let i=`form[x-form-id="${r||t}"] .${Zs.PREFIX}-field[x-field-id="${e}"] .${Zs.PREFIX}-field-error-message`;return document.querySelector(i)}})}get content(){const{children:e,component:t,render:r}=this.props,s=this.foundation.getFormState(),i={formState:s,formApi:this.foundation.getFormApi(),values:s.values};return t?g.createElement(t,i):r?r(i):typeof e=="function"?e(i):e}submit(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.submit&&e.stopPropagation(),this.foundation.submit(e)}reset(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.reset&&e.stopPropagation(),this.foundation.reset()}render(){const t=this.foundation.getFormState(!1),r=this.foundation.getModifyFormStateApi(),{formId:s}=this.state,i=this.props,{children:a,getFormApi:o,onChange:l,onSubmit:u,onSubmitFail:d,onErrorChange:h,onValueChange:f,component:p,render:_,validateFields:m,initValues:v,layout:y,style:b,className:w,labelPosition:E,labelWidth:S,labelAlign:C,labelCol:O,wrapperCol:I,allowEmpty:P,autoScrollToError:x,showValidateIcon:D,stopValidateWithError:N,extraTextPosition:L,id:V,trigger:B}=i,F=X_e(i,["children","getFormApi","onChange","onSubmit","onSubmitFail","onErrorChange","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),W=A(P0,w,{[P0+"-vertical"]:y==="vertical",[P0+"-horizontal"]:y==="horizontal"}),$=I&&O,j=g.createElement("form",Object.assign({style:b},F,{onReset:this.reset,onSubmit:this.submit,className:W,id:V||s,"x-form-id":V||s}),this.content),M=g.createElement(c_,null,j);return g.createElement(Ap.Provider,{value:r},g.createElement(Yj.Provider,{value:this.formApi},g.createElement(HT.Provider,{value:t},$?M:j)))}}He.propTypes={"aria-label":c.string,onSubmit:c.func,onSubmitFail:c.func,onChange:c.func,onReset:c.func,onValueChange:c.func,autoScrollToError:c.oneOfType([c.bool,c.object]),allowEmpty:c.bool,className:c.string,component:c.oneOfType([c.node,c.func]),disabled:c.bool,extraTextPosition:c.oneOf(ch.EXTRA_POS),getFormApi:c.func,initValues:c.object,validateFields:c.func,layout:c.oneOf(ch.LAYOUT),labelPosition:c.oneOf(ch.LABEL_POS),labelWidth:c.oneOfType([c.number,c.string]),labelAlign:c.oneOf(ch.LABEL_ALIGN),labelCol:c.object,render:c.func,style:c.object,showValidateIcon:c.bool,stopValidateWithError:c.bool,stopPropagation:c.shape({submit:c.bool,reset:c.bool}),id:c.string,wrapperCol:c.object,trigger:c.oneOfType([c.oneOf(["blur","change","custom","mount"]),c.arrayOf(c.oneOf(["blur","change","custom","mount"]))])};He.defaultProps={onChange:k,onSubmitFail:k,onSubmit:k,onReset:k,onValueChange:k,onErrorChange:k,layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0};He.Input=k_e;He.TextArea=$_e;He.InputNumber=N_e;He.Select=zT;He.Checkbox=M_e;He.CheckboxGroup=L_e;He.Radio=j_e;He.RadioGroup=F_e;He.DatePicker=V_e;He.TimePicker=H_e;He.Switch=U_e;He.Slider=B_e;He.TreeSelect=z_e;He.Cascader=K_e;He.Rating=W_e;He.AutoComplete=G_e;He.Upload=Y_e;He.TagInput=q_e;He.Slot=P_e;He.ErrorMessage=Dp;He.InputGroup=Qj;He.Label=Hi;He.Section=qj;var RA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Q_e=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],a=n[t++],o=n[t++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],a=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},Jj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],a=s+1<n.length,o=a?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,d=i>>2,h=(i&3)<<4|o>>4;let f=(o&15)<<2|u>>6,p=u&63;l||(p=64,a||(f=64)),r.push(t[d],t[h],t[f],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Q_e(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],o=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||o==null||u==null||h==null)throw new Z_e;const f=i<<2|o>>4;if(r.push(f),u!==64){const p=o<<4&240|u>>2;if(r.push(p),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Z_e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J_e=function(n){const e=Zj(n);return Jj.encodeByteArray(e,!0)},Ay=function(n){return J_e(n).replace(/\./g,"")},eV=function(n){try{return Jj.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ebe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tbe=()=>ebe().__FIREBASE_DEFAULTS__,nbe=()=>{if(typeof process>"u"||typeof RA>"u")return;const n=RA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rbe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&eV(n[1]);return e&&JSON.parse(e)},KT=()=>{try{return tbe()||nbe()||rbe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tV=n=>{var e,t;return(t=(e=KT())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sbe=n=>{const e=tV(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},nV=()=>{var n;return(n=KT())===null||n===void 0?void 0:n.config},rV=n=>{var e;return(e=KT())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ibe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function abe(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ay(JSON.stringify(t)),Ay(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function obe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function lbe(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ube(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cbe(){const n=vr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dbe(){try{return typeof indexedDB=="object"}catch{return!1}}function hbe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fbe="FirebaseError";class ja extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fbe,Object.setPrototypeOf(this,ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kp.prototype.create)}}class kp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?pbe(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new ja(s,o,r)}}function pbe(n,e){return n.replace(gbe,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const gbe=/\{\$([^}]+)}/g;function mbe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dy(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],a=e[s];if(AA(i)&&AA(a)){if(!Dy(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function AA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function fh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ybe(n,e){const t=new vbe(n,e);return t.subscribe.bind(t)}class vbe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_be(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=x0),s.error===void 0&&(s.error=x0),s.complete===void 0&&(s.complete=x0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _be(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function x0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(n){return n&&n._delegate?n._delegate:n}class Yl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bbe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ibe;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ebe(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wbe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wbe(n){return n===hl?void 0:n}function Ebe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sbe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bbe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const Cbe={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Tbe=Be.INFO,Obe={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Ibe=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Obe[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let WT=class{constructor(e){this.name=e,this._logLevel=Tbe,this._logHandler=Ibe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cbe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}};const Pbe=(n,e)=>e.some(t=>n instanceof t);let DA,kA;function xbe(){return DA||(DA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rbe(){return kA||(kA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sV=new WeakMap,IS=new WeakMap,iV=new WeakMap,R0=new WeakMap,GT=new WeakMap;function Abe(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",a)},i=()=>{t(Po(n.result)),s()},a=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&sV.set(t,n)}).catch(()=>{}),GT.set(e,n),e}function Dbe(n){if(IS.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",a),n.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",a),n.addEventListener("abort",a)});IS.set(n,e)}let PS={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return IS.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iV.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kbe(n){PS=n(PS)}function Nbe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(A0(this),e,...t);return iV.set(r,e.sort?e.sort():[e]),Po(r)}:Rbe().includes(n)?function(...e){return n.apply(A0(this),e),Po(sV.get(this))}:function(...e){return Po(n.apply(A0(this),e))}}function $be(n){return typeof n=="function"?Nbe(n):(n instanceof IDBTransaction&&Dbe(n),Pbe(n,xbe())?new Proxy(n,PS):n)}function Po(n){if(n instanceof IDBRequest)return Abe(n);if(R0.has(n))return R0.get(n);const e=$be(n);return e!==n&&(R0.set(n,e),GT.set(e,n)),e}const A0=n=>GT.get(n);function Lbe(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(n,e),o=Po(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Po(a.result),l.oldVersion,l.newVersion,Po(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Mbe=["get","getKey","getAll","getAllKeys","count"],Fbe=["put","add","delete","clear"],D0=new Map;function NA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(D0.get(e))return D0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Fbe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Mbe.includes(t)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),s&&l.done]))[0]};return D0.set(e,i),i}kbe(n=>({...n,get:(e,t,r)=>NA(e,t)||n.get(e,t,r),has:(e,t)=>!!NA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jbe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Vbe(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Vbe(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xS="@firebase/app",$A="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new WT("@firebase/app"),Ube="@firebase/app-compat",Bbe="@firebase/analytics-compat",Hbe="@firebase/analytics",zbe="@firebase/app-check-compat",Kbe="@firebase/app-check",Wbe="@firebase/auth",Gbe="@firebase/auth-compat",Ybe="@firebase/database",qbe="@firebase/database-compat",Xbe="@firebase/functions",Qbe="@firebase/functions-compat",Zbe="@firebase/installations",Jbe="@firebase/installations-compat",e0e="@firebase/messaging",t0e="@firebase/messaging-compat",n0e="@firebase/performance",r0e="@firebase/performance-compat",s0e="@firebase/remote-config",i0e="@firebase/remote-config-compat",a0e="@firebase/storage",o0e="@firebase/storage-compat",l0e="@firebase/firestore",u0e="@firebase/firestore-compat",c0e="firebase",d0e="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="[DEFAULT]",h0e={[xS]:"fire-core",[Ube]:"fire-core-compat",[Hbe]:"fire-analytics",[Bbe]:"fire-analytics-compat",[Kbe]:"fire-app-check",[zbe]:"fire-app-check-compat",[Wbe]:"fire-auth",[Gbe]:"fire-auth-compat",[Ybe]:"fire-rtdb",[qbe]:"fire-rtdb-compat",[Xbe]:"fire-fn",[Qbe]:"fire-fn-compat",[Zbe]:"fire-iid",[Jbe]:"fire-iid-compat",[e0e]:"fire-fcm",[t0e]:"fire-fcm-compat",[n0e]:"fire-perf",[r0e]:"fire-perf-compat",[s0e]:"fire-rc",[i0e]:"fire-rc-compat",[a0e]:"fire-gcs",[o0e]:"fire-gcs-compat",[l0e]:"fire-fst",[u0e]:"fire-fst-compat","fire-js":"fire-js",[c0e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new Map,AS=new Map;function f0e(n,e){try{n.container.addComponent(e)}catch(t){ql.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zc(n){const e=n.name;if(AS.has(e))return ql.debug(`There were multiple attempts to register component ${e}.`),!1;AS.set(e,n);for(const t of ky.values())f0e(t,n);return!0}function YT(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xo=new kp("app","Firebase",p0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0e{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=d0e;function aV(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:RS,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw xo.create("bad-app-name",{appName:String(s)});if(t||(t=nV()),!t)throw xo.create("no-options");const i=ky.get(s);if(i){if(Dy(t,i.options)&&Dy(r,i.config))return i;throw xo.create("duplicate-app",{appName:s})}const a=new Sbe(s);for(const l of AS.values())a.addComponent(l);const o=new g0e(t,r,a);return ky.set(s,o),o}function oV(n=RS){const e=ky.get(n);if(!e&&n===RS&&nV())return aV();if(!e)throw xo.create("no-app",{appName:n});return e}function Ro(n,e,t){var r;let s=(r=h0e[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ql.warn(o.join(" "));return}zc(new Yl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0e="firebase-heartbeat-database",y0e=1,Pf="firebase-heartbeat-store";let k0=null;function lV(){return k0||(k0=Lbe(m0e,y0e,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Pf)}}}).catch(n=>{throw xo.create("idb-open",{originalErrorMessage:n.message})})),k0}async function v0e(n){try{return await(await lV()).transaction(Pf).objectStore(Pf).get(uV(n))}catch(e){if(e instanceof ja)ql.warn(e.message);else{const t=xo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ql.warn(t.message)}}}async function LA(n,e){try{const r=(await lV()).transaction(Pf,"readwrite");await r.objectStore(Pf).put(e,uV(n)),await r.done}catch(t){if(t instanceof ja)ql.warn(t.message);else{const r=xo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ql.warn(r.message)}}}function uV(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0e=1024,b0e=30*24*60*60*1e3;class w0e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new S0e(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=MA();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=b0e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=MA(),{heartbeatsToSend:r,unsentEntries:s}=E0e(this._heartbeatsCache.heartbeats),i=Ay(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function MA(){return new Date().toISOString().substring(0,10)}function E0e(n,e=_0e){const t=[];let r=n.slice();for(const s of n){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),FA(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),FA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class S0e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dbe()?hbe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await v0e(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return LA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return LA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function FA(n){return Ay(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0e(n){zc(new Yl("platform-logger",e=>new jbe(e),"PRIVATE")),zc(new Yl("heartbeat",e=>new w0e(e),"PRIVATE")),Ro(xS,$A,n),Ro(xS,$A,"esm2017"),Ro("fire-js","")}C0e("");function qT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function cV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T0e=cV,dV=new kp("auth","Firebase",cV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=new WT("@firebase/auth");function O0e(n,...e){Ny.logLevel<=Be.WARN&&Ny.warn(`Auth (${Sd}): ${n}`,...e)}function vm(n,...e){Ny.logLevel<=Be.ERROR&&Ny.error(`Auth (${Sd}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n,...e){throw XT(n,...e)}function zi(n,...e){return XT(n,...e)}function I0e(n,e,t){const r=Object.assign(Object.assign({},T0e()),{[e]:t});return new kp("auth","Firebase",r).create(e,{appName:n.name})}function XT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return dV.create(n,...e)}function me(n,e,...t){if(!n)throw XT(e,...t)}function pa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vm(e),new Error(e)}function ka(n,e){n||pa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function P0e(){return jA()==="http:"||jA()==="https:"}function jA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P0e()||lbe()||"connection"in navigator)?navigator.onLine:!0}function R0e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t){this.shortDelay=e,this.longDelay=t,ka(t>e,"Short delay should be less than long delay!"),this.isMobile=obe()||ube()}get(){return x0e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n,e){ka(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0e=new $p(3e4,6e4);function Va(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ji(n,e,t,r,s={}){return fV(n,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=Np(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),hV.fetch()(pV(n,n.config.apiHost,t,o),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function fV(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},A0e),e);try{const s=new N0e(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw $g(n,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $g(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw $g(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw $g(n,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw I0e(n,d,u);li(n,d)}}catch(s){if(s instanceof ja)throw s;li(n,"network-request-failed",{message:String(s)})}}async function Lp(n,e,t,r,s={}){const i=await Ji(n,e,t,r,s);return"mfaPendingCredential"in i&&li(n,"multi-factor-auth-required",{_serverResponse:i}),i}function pV(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?QT(n.config,s):`${n.config.apiScheme}://${s}`}function k0e(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N0e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),D0e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $g(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=zi(n,e,r);return s.customData._tokenResponse=t,s}function VA(n){return n!==void 0&&n.enterprise!==void 0}class $0e{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return k0e(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function L0e(n,e){return Ji(n,"GET","/v2/recaptchaConfig",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0e(n,e){return Ji(n,"POST","/v1/accounts:delete",e)}async function F0e(n,e){return Ji(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j0e(n,e=!1){const t=Sn(n),r=await t.getIdToken(e),s=ZT(r);me(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Mh(N0(s.auth_time)),issuedAtTime:Mh(N0(s.iat)),expirationTime:Mh(N0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function N0(n){return Number(n)*1e3}function ZT(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vm("JWT malformed, contained fewer than 3 sections"),null;try{const s=eV(t);return s?JSON.parse(s):(vm("Failed to decode base64 JWT payload"),null)}catch(s){return vm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function V0e(n){const e=ZT(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ja&&U0e(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function U0e({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mh(this.lastLoginAt),this.creationTime=Mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $y(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Kc(n,F0e(t,{idToken:r}));me(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?K0e(i.providerUserInfo):[],o=z0e(n.providerData,a),l=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new gV(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function H0e(n){const e=Sn(n);await $y(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z0e(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function K0e(n){return n.map(e=>{var{providerId:t}=e,r=qT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0e(n,e){const t=await fV(n,{},async()=>{const r=Np({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,a=pV(n,s,"/v1/token",`key=${i}`),o=await n._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",hV.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function G0e(n,e){return Ji(n,"POST","/v2/accounts:revokeToken",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V0e(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await W0e(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,a=new xf;return r&&(me(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(me(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(me(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xf,this.toJSON())}_performRefresh(){return pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dl{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=qT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gV(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Kc(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return j0e(this,e)}reload(){return H0e(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await $y(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Kc(this,M0e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,a,o,l,u,d;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(s=t.email)!==null&&s!==void 0?s:void 0,p=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,_=(a=t.photoURL)!==null&&a!==void 0?a:void 0,m=(o=t.tenantId)!==null&&o!==void 0?o:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=t.createdAt)!==null&&u!==void 0?u:void 0,b=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:E,isAnonymous:S,providerData:C,stsTokenManager:O}=t;me(w&&O,e,"internal-error");const I=xf.fromJSON(this.name,O);me(typeof w=="string",e,"internal-error"),Qa(h,e.name),Qa(f,e.name),me(typeof E=="boolean",e,"internal-error"),me(typeof S=="boolean",e,"internal-error"),Qa(p,e.name),Qa(_,e.name),Qa(m,e.name),Qa(v,e.name),Qa(y,e.name),Qa(b,e.name);const P=new Dl({uid:w,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:S,photoURL:_,phoneNumber:p,tenantId:m,stsTokenManager:I,createdAt:y,lastLoginAt:b});return C&&Array.isArray(C)&&(P.providerData=C.map(x=>Object.assign({},x))),v&&(P._redirectEventId=v),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new xf;s.updateFromServerResponse(t);const i=new Dl({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await $y(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new Map;function ga(n){ka(n instanceof Function,"Expected a class definition");let e=UA.get(n);return e?(ka(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,UA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mV.type="NONE";const BA=mV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,e,t){return`firebase:${n}:${e}:${t}`}class Ec{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_m(this.userKey,s.apiKey,i),this.fullPersistenceKey=_m("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ec(ga(BA),e,r);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ga(BA);const a=_m(r,e.config.apiKey,e.name);let o=null;for(const u of t)try{const d=await u._get(a);if(d){const h=Dl._fromJSON(e,d);u!==i&&(o=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ec(i,e,r):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Ec(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_V(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wV(e))return"Blackberry";if(EV(e))return"Webos";if(JT(e))return"Safari";if((e.includes("chrome/")||vV(e))&&!e.includes("edge/"))return"Chrome";if(bV(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yV(n=vr()){return/firefox\//i.test(n)}function JT(n=vr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vV(n=vr()){return/crios\//i.test(n)}function _V(n=vr()){return/iemobile/i.test(n)}function bV(n=vr()){return/android/i.test(n)}function wV(n=vr()){return/blackberry/i.test(n)}function EV(n=vr()){return/webos/i.test(n)}function y_(n=vr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Y0e(n=vr()){var e;return y_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q0e(){return cbe()&&document.documentMode===10}function SV(n=vr()){return y_(n)||bV(n)||EV(n)||wV(n)||/windows phone/i.test(n)||_V(n)}function X0e(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(n,e=[]){let t;switch(n){case"Browser":t=HA(vr());break;case"Worker":t=`${HA(vr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((a,o)=>{try{const l=e(i);a(l)}catch(l){o(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0e(n,e={}){return Ji(n,"GET","/v2/passwordPolicy",Va(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0e=6;class ewe{constructor(e){var t,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:J0e,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class twe{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zA(this),this.idTokenSubscription=new zA(this),this.beforeStateQueue=new Q0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ga(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ec.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $y(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R0e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Sn(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ga(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z0e(this),t=new ewe(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await G0e(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ga(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await Ec.create(this,[ga(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&O0e(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function mu(n){return Sn(n)}class zA{constructor(e){this.auth=e,this.observer=null,this.addObserver=ybe(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nwe(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}function TV(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=zi("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",nwe().appendChild(r)})}function rwe(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const swe="https://www.google.com/recaptcha/enterprise.js?render=",iwe="recaptcha-enterprise",awe="NO_RECAPTCHA";class owe{constructor(e){this.type=iwe,this.auth=mu(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{L0e(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new $0e(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function s(i,a,o){const l=window.grecaptcha;VA(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(awe)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(o=>{if(!t&&VA(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}TV(swe+o).then(()=>{s(o,i,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function KA(n,e,t,r=!1){const s=new owe(n);let i;try{i=await s.verify(t)}catch{i=await s.verify(t,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function kS(n,e,t,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await KA(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await KA(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lwe(n,e){const t=YT(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Dy(i,e??{}))return s;li(s,"already-initialized")}return t.initialize({options:e})}function uwe(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ga);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cwe(n,e,t){const r=mu(n);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=OV(e),{host:a,port:o}=dwe(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),hwe()}function OV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dwe(n){const e=OV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:WA(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:WA(a)}}}function WA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hwe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pa("not implemented")}_getIdTokenResponse(e){return pa("not implemented")}_linkToIdToken(e,t){return pa("not implemented")}_getReauthenticationResolver(e){return pa("not implemented")}}async function fwe(n,e){return Ji(n,"POST","/v1/accounts:update",e)}async function pwe(n,e){return Ji(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gwe(n,e){return Lp(n,"POST","/v1/accounts:signInWithPassword",Va(n,e))}async function mwe(n,e){return Ji(n,"POST","/v1/accounts:sendOobCode",Va(n,e))}async function ywe(n,e){return mwe(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vwe(n,e){return Lp(n,"POST","/v1/accounts:signInWithEmailLink",Va(n,e))}async function _we(n,e){return Lp(n,"POST","/v1/accounts:signInWithEmailLink",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends eO{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Rf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Rf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kS(e,t,"signInWithPassword",gwe);case"emailLink":return vwe(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kS(e,r,"signUpPassword",pwe);case"emailLink":return _we(e,{idToken:t,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(n,e){return Lp(n,"POST","/v1/accounts:signInWithIdp",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bwe="http://localhost";class Xl extends eO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=qT(t,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Xl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Sc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Sc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sc(e,t)}buildRequest(){const e={requestUri:bwe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Np(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wwe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ewe(n){const e=hh(fh(n)).link,t=e?hh(fh(e)).deep_link_id:null,r=hh(fh(n)).deep_link_id;return(r?hh(fh(r)).link:null)||r||t||e||n}class tO{constructor(e){var t,r,s,i,a,o;const l=hh(fh(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=wwe((s=l.mode)!==null&&s!==void 0?s:null);me(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const t=Ewe(e);try{return new tO(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.providerId=Cd.PROVIDER_ID}static credential(e,t){return Rf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=tO.parseLink(t);return me(r,"argument-error"),Rf._fromEmailAndCode(e,r.code,r.tenantId)}}Cd.PROVIDER_ID="password";Cd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends IV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Mp{constructor(){super("facebook.com")}static credential(e){return Xl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Mp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ao.credential(t,r)}catch{return null}}}ao.GOOGLE_SIGN_IN_METHOD="google.com";ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Mp{constructor(){super("github.com")}static credential(e){return Xl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Mp{constructor(){super("twitter.com")}static credential(e,t){return Xl._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return lo.credential(t,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Swe(n,e){return Lp(n,"POST","/v1/accounts:signUp",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Dl._fromIdTokenResponse(e,r,s),a=GA(r);return new Ql({user:i,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=GA(r);return new Ql({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function GA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends ja{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ly.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Ly(e,t,r,s)}}function PV(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ly._fromErrorAndOperation(n,i,e,r):i})}async function Cwe(n,e,t=!1){const r=await Kc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ql._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Twe(n,e,t=!1){const{auth:r}=n,s="reauthenticate";try{const i=await Kc(n,PV(r,s,e,n),t);me(i.idToken,r,"internal-error");const a=ZT(i.idToken);me(a,r,"internal-error");const{sub:o}=a;return me(n.uid===o,r,"user-mismatch"),Ql._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&li(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(n,e,t=!1){const r="signIn",s=await PV(n,r,e),i=await Ql._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function Owe(n,e){return xV(mu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(n){const e=mu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Iwe(n,e,t){const r=mu(n),a=await kS(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Swe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&RV(n),l}),o=await Ql._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Pwe(n,e,t){return Owe(Sn(n),Cd.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RV(n),r})}async function xwe(n,e){const t=Sn(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:i}=await ywe(t.auth,s);i!==n.email&&await n.reload()}function Rwe(n,e){return Awe(Sn(n),null,e)}async function Awe(n,e,t){const{auth:r}=n,i={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(i.password=t);const a=await Kc(n,fwe(r,i));await n._updateTokensIfNecessary(a,!0)}function Dwe(n,e,t,r){return Sn(n).onIdTokenChanged(e,t,r)}function kwe(n,e,t){return Sn(n).beforeAuthStateChanged(e,t)}function Nwe(n,e,t,r){return Sn(n).onAuthStateChanged(e,t,r)}function $we(n){return Sn(n).signOut()}const My="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(My,"1"),this.storage.removeItem(My),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lwe(){const n=vr();return JT(n)||y_(n)}const Mwe=1e3,Fwe=10;class DV extends AV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Lwe()&&X0e(),this.fallbackToPolling=SV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}const s=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);q0e()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Fwe):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Mwe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DV.type="LOCAL";const jwe=DV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV extends AV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kV.type="SESSION";const NV=kV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vwe(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new v_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async u=>u(t.origin,i)),l=await Vwe(o);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}v_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uwe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const u=nO("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function Bwe(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function Hwe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zwe(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Kwe(){return $V()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="firebaseLocalStorageDb",Wwe=1,Fy="firebaseLocalStorage",MV="fbase_key";class Fp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function __(n,e){return n.transaction([Fy],e?"readwrite":"readonly").objectStore(Fy)}function Gwe(){const n=indexedDB.deleteDatabase(LV);return new Fp(n).toPromise()}function NS(){const n=indexedDB.open(LV,Wwe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fy,{keyPath:MV})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Fy)?e(r):(r.close(),await Gwe(),e(await NS()))})})}async function YA(n,e,t){const r=__(n,!0).put({[MV]:e,value:t});return new Fp(r).toPromise()}async function Ywe(n,e){const t=__(n,!1).get(e),r=await new Fp(t).toPromise();return r===void 0?null:r.value}function qA(n,e){const t=__(n,!0).delete(e);return new Fp(t).toPromise()}const qwe=800,Xwe=3;class FV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await NS(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Xwe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $V()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=v_._getInstance(Kwe()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Hwe(),!this.activeServiceWorker)return;this.sender=new Uwe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zwe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await NS();return await YA(e,My,"1"),await qA(e,My),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>YA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Ywe(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=__(s,!1).getAll();return new Fp(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qwe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FV.type="LOCAL";const Qwe=FV;new $p(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zwe(n,e){return e?ga(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO extends eO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Jwe(n){return xV(n.auth,new rO(n),n.bypassAuthState)}function eEe(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),Twe(t,new rO(n),n.bypassAuthState)}async function tEe(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),Cwe(t,new rO(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jwe;case"linkViaPopup":case"linkViaRedirect":return tEe;case"reauthViaPopup":case"reauthViaRedirect":return eEe;default:li(this.auth,"internal-error")}}resolve(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nEe=new $p(2e3,1e4);class uc extends jV{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,uc.currentPopupAction&&uc.currentPopupAction.cancel(),uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ka(this.filter.length===1,"Popup operations only handle one event");const e=nO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nEe.get())};e()}}uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rEe="pendingRedirect",bm=new Map;class sEe extends jV{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=bm.get(this.auth._key());if(!e){try{const r=await iEe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bm.set(this.auth._key(),e)}return this.bypassAuthState||bm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iEe(n,e){const t=lEe(e),r=oEe(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function aEe(n,e){bm.set(n._key(),e)}function oEe(n){return ga(n._redirectPersistence)}function lEe(n){return _m(rEe,n.config.apiKey,n.name)}async function uEe(n,e,t=!1){const r=mu(n),s=Zwe(r,e),a=await new sEe(r,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cEe=10*60*1e3;class dEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hEe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!VV(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cEe&&this.cachedEventUids.clear(),this.cachedEventUids.has(XA(e))}saveEventToCache(e){this.cachedEventUids.add(XA(e)),this.lastProcessedEventTime=Date.now()}}function XA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function VV({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hEe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VV(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fEe(n,e={}){return Ji(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gEe=/^https?/;async function mEe(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fEe(n);for(const t of e)try{if(yEe(t))return}catch{}li(n,"unauthorized-domain")}function yEe(n){const e=DS(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!gEe.test(t))return!1;if(pEe.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vEe=new $p(3e4,6e4);function QA(){const n=Ki().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _Ee(n){return new Promise((e,t)=>{var r,s,i;function a(){QA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QA(),t(zi(n,"network-request-failed"))},timeout:vEe.get()})}if(!((s=(r=Ki().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ki().gapi)===null||i===void 0)&&i.load)a();else{const o=rwe("iframefcb");return Ki()[o]=()=>{gapi.load?a():t(zi(n,"network-request-failed"))},TV(`https://apis.google.com/js/api.js?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw wm=null,e})}let wm=null;function bEe(n){return wm=wm||_Ee(n),wm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wEe=new $p(5e3,15e3),EEe="__/auth/iframe",SEe="emulator/auth/iframe",CEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OEe(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?QT(e,SEe):`https://${n.config.authDomain}/${EEe}`,r={apiKey:e.apiKey,appName:n.name,v:Sd},s=TEe.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Np(r).slice(1)}`}async function IEe(n){const e=await bEe(n),t=Ki().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:OEe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CEe,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=zi(n,"network-request-failed"),o=Ki().setTimeout(()=>{i(a)},wEe.get());function l(){Ki().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xEe=500,REe=600,AEe="_blank",DEe="http://localhost";class ZA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kEe(n,e,t,r=xEe,s=REe){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},PEe),{width:r.toString(),height:s.toString(),top:i,left:a}),u=vr().toLowerCase();t&&(o=vV(u)?AEe:t),yV(u)&&(e=e||DEe,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,_])=>`${f}${p}=${_},`,"");if(Y0e(u)&&o!=="_self")return NEe(e||"",o),new ZA(null);const h=window.open(e||"",o,d);me(h,n,"popup-blocked");try{h.focus()}catch{}return new ZA(h)}function NEe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ee="__/auth/handler",LEe="emulator/auth/handler",MEe=encodeURIComponent("fac");async function JA(n,e,t,r,s,i){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Sd,eventId:s};if(e instanceof IV){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",mbe(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof Mp){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await n._getAppCheckToken(),u=l?`#${MEe}=${encodeURIComponent(l)}`:"";return`${FEe(n)}?${Np(o).slice(1)}${u}`}function FEe({config:n}){return n.emulator?QT(n,LEe):`https://${n.authDomain}/${$Ee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="webStorageSupport";class jEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NV,this._completeRedirectFn=uEe,this._overrideRedirectResult=aEe}async _openPopup(e,t,r,s){var i;ka((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await JA(e,t,r,DS(),s);return kEe(e,a,nO())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await JA(e,t,r,DS(),s);return Bwe(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(ka(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await IEe(e),r=new dEe(e);return t.register("authEvent",s=>(me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($0,{type:$0},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[$0];a!==void 0&&t(!!a),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mEe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SV()||JT()||y_()}}const VEe=jEe;var eD="@firebase/auth",tD="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BEe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function HEe(n){zc(new Yl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;me(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CV(n)},u=new twe(r,s,i,l);return uwe(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zc(new Yl("auth-internal",e=>{const t=mu(e.getProvider("auth").getImmediate());return(r=>new UEe(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ro(eD,tD,BEe(n)),Ro(eD,tD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zEe=5*60,KEe=rV("authIdTokenMaxAge")||zEe;let nD=null;const WEe=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KEe)return;const s=t==null?void 0:t.token;nD!==s&&(nD=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function GEe(n=oV()){const e=YT(n,"auth");if(e.isInitialized())return e.getImmediate();const t=lwe(n,{popupRedirectResolver:VEe,persistence:[Qwe,jwe,NV]}),r=rV("authTokenSyncURL");if(r){const i=WEe(r);kwe(t,i,()=>i(t.currentUser)),Dwe(t,a=>i(a))}const s=tV("auth");return s&&cwe(t,`http://${s}`),t}HEe("Browser");var YEe="firebase",qEe="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ro(YEe,qEe,"app");var XEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,sO=sO||{},ve=XEe||self;function b_(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function w_(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function QEe(n,e,t){return n.call.apply(n.bind,arguments)}function ZEe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function pr(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pr=QEe:pr=ZEe,pr.apply(null,arguments)}function Lg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,i){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return e.prototype[s].apply(r,a)}}function Yo(){this.s=this.s,this.o=this.o}var JEe=0;Yo.prototype.s=!1;Yo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),JEe!=0)};Yo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const UV=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function iO(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function rD(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(b_(r)){const s=n.length||0,i=r.length||0;n.length=s+i;for(let a=0;a<i;a++)n[s+a]=r[a]}else n.push(r)}}function gr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}gr.prototype.h=function(){this.defaultPrevented=!0};var eSe=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};ve.addEventListener("test",t,e),ve.removeEventListener("test",t,e)}catch{}return n}();function Af(n){return/^[\s\xa0]*$/.test(n)}function E_(){var n=ve.navigator;return n&&(n=n.userAgent)?n:""}function xi(n){return E_().indexOf(n)!=-1}function aO(n){return aO[" "](n),n}aO[" "]=function(){};function tSe(n,e){var t=YSe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}var nSe=xi("Opera"),Wc=xi("Trident")||xi("MSIE"),BV=xi("Edge"),$S=BV||Wc,HV=xi("Gecko")&&!(E_().toLowerCase().indexOf("webkit")!=-1&&!xi("Edge"))&&!(xi("Trident")||xi("MSIE"))&&!xi("Edge"),rSe=E_().toLowerCase().indexOf("webkit")!=-1&&!xi("Edge");function zV(){var n=ve.document;return n?n.documentMode:void 0}var LS;e:{var L0="",M0=function(){var n=E_();if(HV)return/rv:([^\);]+)(\)|;)/.exec(n);if(BV)return/Edge\/([\d\.]+)/.exec(n);if(Wc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(rSe)return/WebKit\/(\S+)/.exec(n);if(nSe)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(M0&&(L0=M0?M0[1]:""),Wc){var F0=zV();if(F0!=null&&F0>parseFloat(L0)){LS=String(F0);break e}}LS=L0}var MS;if(ve.document&&Wc){var sD=zV();MS=sD||parseInt(LS,10)||void 0}else MS=void 0;var sSe=MS;function Df(n,e){if(gr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(HV){e:{try{aO(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:iSe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Df.$.h.call(this)}}Fn(Df,gr);var iSe={2:"touch",3:"pen",4:"mouse"};Df.prototype.h=function(){Df.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var S_="closure_listenable_"+(1e6*Math.random()|0),aSe=0;function oSe(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++aSe,this.fa=this.ia=!1}function C_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function oO(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function lSe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}function KV(n){const e={};for(const t in n)e[t]=n[t];return e}const iD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WV(n,e){let t,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(t in r)n[t]=r[t];for(let i=0;i<iD.length;i++)t=iD[i],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function T_(n){this.src=n,this.g={},this.h=0}T_.prototype.add=function(n,e,t,r,s){var i=n.toString();n=this.g[i],n||(n=this.g[i]=[],this.h++);var a=jS(n,e,r,s);return-1<a?(e=n[a],t||(e.ia=!1)):(e=new oSe(e,this.src,i,!!r,s),e.ia=t,n.push(e)),e};function FS(n,e){var t=e.type;if(t in n.g){var r=n.g[t],s=UV(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(C_(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function jS(n,e,t,r){for(var s=0;s<n.length;++s){var i=n[s];if(!i.fa&&i.listener==e&&i.capture==!!t&&i.la==r)return s}return-1}var lO="closure_lm_"+(1e6*Math.random()|0),j0={};function GV(n,e,t,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)GV(n,e[i],t,r,s);return null}return t=XV(t),n&&n[S_]?n.O(e,t,w_(r)?!!r.capture:!1,s):uSe(n,e,t,!1,r,s)}function uSe(n,e,t,r,s,i){if(!e)throw Error("Invalid event type");var a=w_(s)?!!s.capture:!!s,o=cO(n);if(o||(n[lO]=o=new T_(n)),t=o.add(e,t,r,a,i),t.proxy)return t;if(r=cSe(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)eSe||(s=a),s===void 0&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(qV(e.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return t}function cSe(){function n(t){return e.call(n.src,n.listener,t)}const e=dSe;return n}function YV(n,e,t,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)YV(n,e[i],t,r,s);else r=w_(r)?!!r.capture:!!r,t=XV(t),n&&n[S_]?(n=n.i,e=String(e).toString(),e in n.g&&(i=n.g[e],t=jS(i,t,r,s),-1<t&&(C_(i[t]),Array.prototype.splice.call(i,t,1),i.length==0&&(delete n.g[e],n.h--)))):n&&(n=cO(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jS(e,t,r,s)),(t=-1<n?e[n]:null)&&uO(t))}function uO(n){if(typeof n!="number"&&n&&!n.fa){var e=n.src;if(e&&e[S_])FS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(qV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=cO(e))?(FS(t,n),t.h==0&&(t.src=null,e[lO]=null)):C_(n)}}}function qV(n){return n in j0?j0[n]:j0[n]="on"+n}function dSe(n,e){if(n.fa)n=!0;else{e=new Df(e,this);var t=n.listener,r=n.la||n.src;n.ia&&uO(n),n=t.call(r,e)}return n}function cO(n){return n=n[lO],n instanceof T_?n:null}var V0="__closure_events_fn_"+(1e9*Math.random()>>>0);function XV(n){return typeof n=="function"?n:(n[V0]||(n[V0]=function(e){return n.handleEvent(e)}),n[V0])}function Ln(){Yo.call(this),this.i=new T_(this),this.S=this,this.J=null}Fn(Ln,Yo);Ln.prototype[S_]=!0;Ln.prototype.removeEventListener=function(n,e,t,r){YV(this,n,e,t,r)};function qn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,typeof e=="string")e=new gr(e,n);else if(e instanceof gr)e.target=e.target||n;else{var s=e;e=new gr(r,n),WV(e,s)}if(s=!0,t)for(var i=t.length-1;0<=i;i--){var a=e.g=t[i];s=Mg(a,r,!0,e)&&s}if(a=e.g=n,s=Mg(a,r,!0,e)&&s,s=Mg(a,r,!1,e)&&s,t)for(i=0;i<t.length;i++)a=e.g=t[i],s=Mg(a,r,!1,e)&&s}Ln.prototype.N=function(){if(Ln.$.N.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)C_(t[r]);delete n.g[e],n.h--}}this.J=null};Ln.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)};Ln.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};function Mg(n,e,t,r){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.fa&&a.capture==t){var o=a.listener,l=a.la||a.src;a.ia&&FS(n.i,a),s=o.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var dO=ve.JSON.stringify;class hSe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function fSe(){var n=hO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class pSe{constructor(){this.h=this.g=null}add(e,t){const r=QV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var QV=new hSe(()=>new gSe,n=>n.reset());class gSe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mSe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function ySe(n){ve.setTimeout(()=>{throw n},0)}let kf,Nf=!1,hO=new pSe,ZV=()=>{const n=ve.Promise.resolve(void 0);kf=()=>{n.then(vSe)}};var vSe=()=>{for(var n;n=fSe();){try{n.h.call(n.g)}catch(t){ySe(t)}var e=QV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Nf=!1};function O_(n,e){Ln.call(this),this.h=n||1,this.g=e||ve,this.j=pr(this.qb,this),this.l=Date.now()}Fn(O_,Ln);Z=O_.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qn(this,"tick"),this.ga&&(fO(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fO(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}Z.N=function(){O_.$.N.call(this),fO(this),delete this.g};function pO(n,e,t){if(typeof n=="function")t&&(n=pr(n,t));else if(n&&typeof n.handleEvent=="function")n=pr(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(n,e||0)}function JV(n){n.g=pO(()=>{n.g=null,n.i&&(n.i=!1,JV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}class _Se extends Yo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JV(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $f(n){Yo.call(this),this.h=n,this.g={}}Fn($f,Yo);var aD=[];function e3(n,e,t,r){Array.isArray(t)||(t&&(aD[0]=t.toString()),t=aD);for(var s=0;s<t.length;s++){var i=GV(e,t[s],r||n.handleEvent,!1,n.h||n);if(!i)break;n.g[i.key]=i}}function t3(n){oO(n.g,function(e,t){this.g.hasOwnProperty(t)&&uO(e)},n),n.g={}}$f.prototype.N=function(){$f.$.N.call(this),t3(this)};$f.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function I_(){this.g=!0}I_.prototype.Ea=function(){this.g=!1};function bSe(n,e,t,r,s,i){n.info(function(){if(n.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");a=2<=h.length&&h[1]=="type"?a+(d+"="+u+"&"):a+(d+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+t+`
`+a})}function wSe(n,e,t,r,s,i,a){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+t+`
`+i+" "+a})}function cc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+SSe(n,t)+(r?" "+r:"")})}function ESe(n,e){n.info(function(){return"TIMEOUT: "+e})}I_.prototype.info=function(){};function SSe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return dO(t)}catch{return e}}var yu={},oD=null;function P_(){return oD=oD||new Ln}yu.Ta="serverreachability";function n3(n){gr.call(this,yu.Ta,n)}Fn(n3,gr);function Lf(n){const e=P_();qn(e,new n3(e))}yu.STAT_EVENT="statevent";function r3(n,e){gr.call(this,yu.STAT_EVENT,n),this.stat=e}Fn(r3,gr);function xr(n){const e=P_();qn(e,new r3(e,n))}yu.Ua="timingevent";function s3(n,e){gr.call(this,yu.Ua,n),this.size=e}Fn(s3,gr);function jp(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){n()},e)}var x_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},i3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gO(){}gO.prototype.h=null;function lD(n){return n.h||(n.h=n.i())}function a3(){}var Vp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mO(){gr.call(this,"d")}Fn(mO,gr);function yO(){gr.call(this,"c")}Fn(yO,gr);var VS;function R_(){}Fn(R_,gO);R_.prototype.g=function(){return new XMLHttpRequest};R_.prototype.i=function(){return{}};VS=new R_;function Up(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new $f(this),this.P=CSe,n=$S?125:void 0,this.V=new O_(n),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new o3}function o3(){this.i=null,this.g="",this.h=!1}var CSe=45e3,l3={},US={};Z=Up.prototype;Z.setTimeout=function(n){this.P=n};function BS(n,e,t){n.L=1,n.A=D_(Na(e)),n.u=t,n.S=!0,u3(n,null)}function u3(n,e){n.G=Date.now(),Bp(n),n.B=Na(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),y3(t.i,"t",r),n.o=0,t=n.l.J,n.h=new o3,n.g=F3(n.l,t?e:null,!n.u),0<n.O&&(n.M=new _Se(pr(n.Pa,n,n.g),n.O)),e3(n.U,n.g,"readystatechange",n.nb),e=n.I?KV(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Lf(),bSe(n.j,n.v,n.B,n.m,n.W,n.u)}Z.nb=function(n){n=n.target;const e=this.M;e&&Di(n)==3?e.l():this.Pa(n)};Z.Pa=function(n){try{if(n==this.g)e:{const d=Di(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||$S||this.g&&(this.h.h||this.g.ja()||hD(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Lf(3):Lf(2)),A_(this);var t=this.g.da();this.ca=t;t:if(c3(this)){var r=hD(this.g);n="";var s=r.length,i=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wl(this),Fh(this);var a="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=n,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=t==200,wSe(this.j,this.v,this.B,this.m,this.W,d,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Af(o)){var u=o;break t}}u=null}if(t=u)cc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,HS(this,t);else{this.i=!1,this.s=3,xr(12),wl(this),Fh(this);break e}}this.S?(d3(this,d,a),$S&&this.i&&d==3&&(e3(this.U,this.V,"tick",this.mb),this.V.start())):(cc(this.j,this.m,a,null),HS(this,a)),d==4&&wl(this),this.i&&!this.J&&(d==4?N3(this.l,this):(this.i=!1,Bp(this)))}else KSe(this.g),t==400&&0<a.indexOf("Unknown SID")?(this.s=3,xr(12)):(this.s=0,xr(13)),wl(this),Fh(this)}}}catch{}finally{}};function c3(n){return n.g?n.v=="GET"&&n.L!=2&&n.l.Ha:!1}function d3(n,e,t){let r=!0,s;for(;!n.J&&n.o<t.length;)if(s=TSe(n,t),s==US){e==4&&(n.s=4,xr(14),r=!1),cc(n.j,n.m,null,"[Incomplete Response]");break}else if(s==l3){n.s=4,xr(15),cc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}else cc(n.j,n.m,s,null),HS(n,s);c3(n)&&n.o!=0&&(n.h.g=n.h.g.slice(n.o),n.o=0),e!=4||t.length!=0||n.h.h||(n.s=1,xr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,e=n.l,e.g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),SO(e),e.M=!0,xr(11))):(cc(n.j,n.m,t,"[Invalid Chunked Response]"),wl(n),Fh(n))}Z.mb=function(){if(this.g){var n=Di(this.g),e=this.g.ja();this.o<e.length&&(A_(this),d3(this,n,e),this.i&&n!=4&&Bp(this))}};function TSe(n,e){var t=n.o,r=e.indexOf(`
`,t);return r==-1?US:(t=Number(e.substring(t,r)),isNaN(t)?l3:(r+=1,r+t>e.length?US:(e=e.slice(r,r+t),n.o=r+t,e)))}Z.cancel=function(){this.J=!0,wl(this)};function Bp(n){n.Y=Date.now()+n.P,h3(n,n.P)}function h3(n,e){if(n.C!=null)throw Error("WatchDog timer not null");n.C=jp(pr(n.lb,n),e)}function A_(n){n.C&&(ve.clearTimeout(n.C),n.C=null)}Z.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(ESe(this.j,this.B),this.L!=2&&(Lf(),xr(17)),wl(this),this.s=2,Fh(this)):h3(this,this.Y-n)};function Fh(n){n.l.H==0||n.J||N3(n.l,n)}function wl(n){A_(n);var e=n.M;e&&typeof e.sa=="function"&&e.sa(),n.M=null,fO(n.V),t3(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function HS(n,e){try{var t=n.l;if(t.H!=0&&(t.g==n||zS(t.i,n))){if(!n.K&&zS(t.i,n)&&t.H==3){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!t.u){if(t.g)if(t.g.G+3e3<n.G)Uy(t),L_(t);else break e;EO(t),xr(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&t.A==0&&!t.v&&(t.v=jp(pr(t.ib,t),6e3));if(1>=b3(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else El(t,11)}else if((n.K||t.g==n)&&Uy(t),!Af(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(t.V=u[0],u=u[1],t.H==2)if(u[0]=="c"){t.K=u[1],t.pa=u[2];const d=u[3];d!=null&&(t.ra=d,t.l.info("VER="+t.ra));const h=u[4];h!=null&&(t.Ga=h,t.l.info("SVER="+t.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,t.L=r,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const p=n.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(vO(i,i.h),i.h=null))}if(r.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Rt(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms")),r=t;var a=n;if(r.wa=M3(r,r.J?r.pa:null,r.Y),a.K){w3(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(A_(o),Bp(o)),r.g=a}else D3(r);0<t.j.length&&M_(t)}else u[0]!="stop"&&u[0]!="close"||El(t,7);else t.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?El(t,7):wO(t):u[0]!="noop"&&t.h&&t.h.Aa(u),t.A=0)}}Lf(4)}catch{}}function OSe(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(b_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}e=[],t=0;for(r in n)e[t++]=n[r];return e}function ISe(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(b_(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}function f3(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(b_(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=ISe(n),r=OSe(n),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],t&&t[i],n)}var p3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PSe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var i=n[t].substring(0,r);s=n[t].substring(r+1)}else i=n[t];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function kl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof kl){this.h=n.h,jy(this,n.j),this.s=n.s,this.g=n.g,Vy(this,n.m),this.l=n.l;var e=n.i,t=new Mf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),uD(this,t),this.o=n.o}else n&&(e=String(n).match(p3))?(this.h=!1,jy(this,e[1]||"",!0),this.s=ph(e[2]||""),this.g=ph(e[3]||"",!0),Vy(this,e[4]),this.l=ph(e[5]||"",!0),uD(this,e[6]||"",!0),this.o=ph(e[7]||"")):(this.h=!1,this.i=new Mf(null,this.h))}kl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(gh(e,cD,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(gh(e,cD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(gh(t,t.charAt(0)=="/"?ASe:RSe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",gh(t,kSe)),n.join("")};function Na(n){return new kl(n)}function jy(n,e,t){n.j=t?ph(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Vy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function uD(n,e,t){e instanceof Mf?(n.i=e,NSe(n.i,n.h)):(t||(e=gh(e,DSe)),n.i=new Mf(e,n.h))}function Rt(n,e,t){n.i.set(e,t)}function D_(n){return Rt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ph(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gh(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,xSe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xSe(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var cD=/[#\/\?@]/g,RSe=/[#\?:]/g,ASe=/[#\?]/g,DSe=/[#\?@]/g,kSe=/#/g;function Mf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qo(n){n.g||(n.g=new Map,n.h=0,n.i&&PSe(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}Z=Mf.prototype;Z.add=function(n,e){qo(this),this.i=null,n=Td(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function g3(n,e){qo(n),e=Td(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function m3(n,e){return qo(n),e=Td(n,e),n.g.has(e)}Z.forEach=function(n,e){qo(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)};Z.ta=function(){qo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let i=0;i<s.length;i++)t.push(e[r])}return t};Z.Z=function(n){qo(this);let e=[];if(typeof n=="string")m3(this,n)&&(e=e.concat(this.g.get(Td(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};Z.set=function(n,e){return qo(this),this.i=null,n=Td(this,n),m3(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};Z.get=function(n,e){return n?(n=this.Z(n),0<n.length?String(n[0]):e):e};function y3(n,e,t){g3(n,e),0<t.length&&(n.i=null,n.g.set(Td(n,e),iO(t)),n.h+=t.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;a[r]!==""&&(s+="="+encodeURIComponent(String(a[r]))),n.push(s)}}return this.i=n.join("&")};function Td(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function NSe(n,e){e&&!n.j&&(qo(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(g3(this,r),y3(this,s,t))},n)),n.j=e}var $Se=class{constructor(n,e){this.g=n,this.map=e}};function v3(n){this.l=n||LSe,ve.PerformanceNavigationTiming?(n=ve.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LSe=10;function _3(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function b3(n){return n.h?1:n.g?n.g.size:0}function zS(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function vO(n,e){n.g?n.g.add(e):n.h=e}function w3(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}v3.prototype.cancel=function(){if(this.i=E3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function E3(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return iO(n.i)}var MSe=class{stringify(n){return ve.JSON.stringify(n,void 0)}parse(n){return ve.JSON.parse(n,void 0)}};function FSe(){this.g=new MSe}function jSe(n,e,t){const r=t||"";try{f3(n,function(s,i){let a=s;w_(s)&&(a=dO(s)),e.push(r+i+"="+encodeURIComponent(a))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function VSe(n,e){const t=new I_;if(ve.Image){const r=new Image;r.onload=Lg(Fg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Lg(Fg,t,r,"TestLoadImage: error",!1,e),r.onabort=Lg(Fg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lg(Fg,t,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}function Fg(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function k_(n){this.l=n.ec||null,this.j=n.ob||!1}Fn(k_,gO);k_.prototype.g=function(){return new N_(this.l,this.j)};k_.prototype.i=function(n){return function(){return n}}({});function N_(n,e){Ln.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=_O,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fn(N_,Ln);var _O=0;Z=N_.prototype;Z.open=function(n,e){if(this.readyState!=_O)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ff(this)};Z.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hp(this)),this.readyState=_O};Z.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ff(this)),this.g&&(this.readyState=3,Ff(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;S3(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function S3(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}Z.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Hp(this):Ff(this),this.readyState==3&&S3(this)}};Z.Za=function(n){this.g&&(this.response=this.responseText=n,Hp(this))};Z.Ya=function(n){this.g&&(this.response=n,Hp(this))};Z.ka=function(){this.g&&Hp(this)};function Hp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ff(n)}Z.setRequestHeader=function(n,e){this.v.append(n,e)};Z.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function Ff(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(N_.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var USe=ve.JSON.parse;function tn(n){Ln.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=C3,this.L=this.M=!1}Fn(tn,Ln);var C3="",BSe=/^https?$/i,HSe=["POST","PUT"];Z=tn.prototype;Z.Oa=function(n){this.M=n};Z.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():VS.g(),this.C=this.u?lD(this.u):lD(VS),this.g.onreadystatechange=pr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(i){dD(this,i);return}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())t.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(t.keys()).find(i=>i.toLowerCase()=="content-type"),s=ve.FormData&&n instanceof ve.FormData,!(0<=UV(HSe,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of t)this.g.setRequestHeader(i,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{I3(this),0<this.B&&((this.L=zSe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.ua,this)):this.A=pO(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(i){dD(this,i)}};function zSe(n){return Wc&&typeof n.timeout=="number"&&n.ontimeout!==void 0}Z.ua=function(){typeof sO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qn(this,"timeout"),this.abort(8))};function dD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,T3(n),$_(n)}function T3(n){n.F||(n.F=!0,qn(n,"complete"),qn(n,"error"))}Z.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qn(this,"complete"),qn(this,"abort"),$_(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$_(this,!0)),tn.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?O3(this):this.kb())};Z.kb=function(){O3(this)};function O3(n){if(n.h&&typeof sO<"u"&&(!n.C[1]||Di(n)!=4||n.da()!=2)){if(n.v&&Di(n)==4)pO(n.La,0,n);else if(qn(n,"readystatechange"),Di(n)==4){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=a===0){var s=String(n.I).match(p3)[1]||null;!s&&ve.self&&ve.self.location&&(s=ve.self.location.protocol.slice(0,-1)),r=!BSe.test(s?s.toLowerCase():"")}t=r}if(t)qn(n,"complete"),qn(n,"success");else{n.m=6;try{var i=2<Di(n)?n.g.statusText:""}catch{i=""}n.j=i+" ["+n.da()+"]",T3(n)}}finally{$_(n)}}}}function $_(n,e){if(n.g){I3(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||qn(n,"ready");try{t.onreadystatechange=r}catch{}}}function I3(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ve.clearTimeout(n.A),n.A=null)}Z.isActive=function(){return!!this.g};function Di(n){return n.g?n.g.readyState:0}Z.da=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),USe(e)}};function hD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case C3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function KSe(n){const e={};n=(n.g&&2<=Di(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<n.length;r++){if(Af(n[r]))continue;var t=mSe(n[r]);const s=t[0];if(t=t[1],typeof t!="string")continue;t=t.trim();const i=e[s]||[];e[s]=i,i.push(t)}lSe(e,function(r){return r.join(", ")})}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function P3(n){let e="";return oO(n,function(t,r){e+=r,e+=":",e+=t,e+=`\r
`}),e}function bO(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=P3(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):Rt(n,e,t))}function Qd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function x3(n){this.Ga=0,this.j=[],this.l=new I_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qd("baseRetryDelayMs",5e3,n),this.hb=Qd("retryDelaySeedMs",1e4,n),this.eb=Qd("forwardChannelMaxRetries",2,n),this.xa=Qd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new v3(n&&n.concurrentRequestLimit),this.Ja=new FSe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Z=x3.prototype;Z.ra=8;Z.H=1;function wO(n){if(R3(n),n.H==3){var e=n.W++,t=Na(n.I);if(Rt(t,"SID",n.K),Rt(t,"RID",e),Rt(t,"TYPE","terminate"),zp(n,t),e=new Up(n,n.l,e),e.L=2,e.A=D_(Na(t)),t=!1,ve.navigator&&ve.navigator.sendBeacon)try{t=ve.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&ve.Image&&(new Image().src=e.A,t=!0),t||(e.g=F3(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Bp(e)}L3(n)}function L_(n){n.g&&(SO(n),n.g.cancel(),n.g=null)}function R3(n){L_(n),n.u&&(ve.clearTimeout(n.u),n.u=null),Uy(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&ve.clearTimeout(n.m),n.m=null)}function M_(n){if(!_3(n.i)&&!n.m){n.m=!0;var e=n.Na;kf||ZV(),Nf||(kf(),Nf=!0),hO.add(e,n),n.C=0}}function WSe(n,e){return b3(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=e.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=jp(pr(n.Na,n,e),$3(n,n.C)),n.C++,!0)}Z.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Up(this,this.l,n);let i=this.s;if(this.U&&(i?(i=KV(i),WV(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){t:{var r=this.j[t];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=t;break e}if(e===4096||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=A3(this,s,e),t=Na(this.I),Rt(t,"RID",n),Rt(t,"CVER",22),this.F&&Rt(t,"X-HTTP-Session-Id",this.F),zp(this,t),i&&(this.O?e="headers="+encodeURIComponent(String(P3(i)))+"&"+e:this.o&&bO(t,this.o,i)),vO(this.i,s),this.bb&&Rt(t,"TYPE","init"),this.P?(Rt(t,"$req",e),Rt(t,"SID","null"),s.aa=!0,BS(s,t,null)):BS(s,t,e),this.H=2}}else this.H==3&&(n?fD(this,n):this.j.length==0||_3(this.i)||fD(this))};function fD(n,e){var t;e?t=e.m:t=n.W++;const r=Na(n.I);Rt(r,"SID",n.K),Rt(r,"RID",t),Rt(r,"AID",n.V),zp(n,r),n.o&&n.s&&bO(r,n.o,n.s),t=new Up(n,n.l,t,n.C+1),n.o===null&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=A3(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),vO(n.i,t),BS(t,r,e)}function zp(n,e){n.na&&oO(n.na,function(t,r){Rt(e,r,t)}),n.h&&f3({},function(t,r){Rt(e,r,t)})}function A3(n,e,t){t=Math.min(n.j.length,t);var r=n.h?pr(n.h.Va,n.h,n):null;e:{var s=n.j;let i=-1;for(;;){const a=["count="+t];i==-1?0<t?(i=s[0].g,a.push("ofs="+i)):i=0:a.push("ofs="+i);let o=!0;for(let l=0;l<t;l++){let u=s[l].g;const d=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),o=!1;else try{jSe(d,a,"req"+u+"_")}catch{r&&r(d)}}if(o){r=a.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function D3(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;kf||ZV(),Nf||(kf(),Nf=!0),hO.add(e,n),n.A=0}}function EO(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=jp(pr(n.Ma,n),$3(n,n.A)),n.A++,!0)}Z.Ma=function(){if(this.u=null,k3(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=jp(pr(this.jb,this),n)}};Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xr(10),L_(this),k3(this))};function SO(n){n.B!=null&&(ve.clearTimeout(n.B),n.B=null)}function k3(n){n.g=new Up(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var e=Na(n.wa);Rt(e,"RID","rpc"),Rt(e,"SID",n.K),Rt(e,"AID",n.V),Rt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Rt(e,"TO",n.qa),Rt(e,"TYPE","xmlhttp"),zp(n,e),n.o&&n.s&&bO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=D_(Na(e)),t.u=null,t.S=!0,u3(t,n)}Z.ib=function(){this.v!=null&&(this.v=null,L_(this),EO(this),xr(19))};function Uy(n){n.v!=null&&(ve.clearTimeout(n.v),n.v=null)}function N3(n,e){var t=null;if(n.g==e){Uy(n),SO(n),n.g=null;var r=2}else if(zS(n.i,e))t=e.F,w3(n.i,e),r=1;else return;if(n.H!=0){if(e.i)if(r==1){t=e.u?e.u.length:0,e=Date.now()-e.G;var s=n.C;r=P_(),qn(r,new s3(r,t)),M_(n)}else D3(n);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&WSe(n,e)||r==2&&EO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:El(n,5);break;case 4:El(n,10);break;case 3:El(n,6);break;default:El(n,2)}}}function $3(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function El(n,e){if(n.l.info("Error code "+e),e==2){var t=null;n.h&&(t=null);var r=pr(n.pb,n);t||(t=new kl("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||jy(t,"https"),D_(t)),VSe(t.toString(),r)}else xr(2);n.H=0,n.h&&n.h.za(e),L3(n),R3(n)}Z.pb=function(n){n?(this.l.info("Successfully pinged google.com"),xr(2)):(this.l.info("Failed to ping google.com"),xr(1))};function L3(n){if(n.H=0,n.ma=[],n.h){const e=E3(n.i);(e.length!=0||n.j.length!=0)&&(rD(n.ma,e),rD(n.ma,n.j),n.i.i.length=0,iO(n.j),n.j.length=0),n.h.ya()}}function M3(n,e,t){var r=t instanceof kl?Na(t):new kl(t);if(r.g!="")e&&(r.g=e+"."+r.g),Vy(r,r.m);else{var s=ve.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new kl(null);r&&jy(i,r),e&&(i.g=e),s&&Vy(i,s),t&&(i.l=t),r=i}return t=n.F,e=n.Da,t&&e&&Rt(r,t,e),Rt(r,"VER",n.ra),zp(n,r),r}function F3(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n.Ha&&!n.va?new tn(new k_({ob:t})):new tn(n.va),e.Oa(n.J),e}Z.isActive=function(){return!!this.h&&this.h.isActive(this)};function j3(){}Z=j3.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.isActive=function(){return!0};Z.Va=function(){};function By(){if(Wc&&!(10<=Number(sSe)))throw Error("Environmental error: no available transport.")}By.prototype.g=function(n,e){return new os(n,e)};function os(n,e){Ln.call(this),this.g=new x3(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Af(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Af(e)&&(this.g.F=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new Od(this)}Fn(os,Ln);os.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;xr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=M3(n,null,n.Y),M_(n)};os.prototype.close=function(){wO(this.g)};os.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=dO(n),n=t);e.j.push(new $Se(e.fb++,n)),e.H==3&&M_(e)};os.prototype.N=function(){this.g.h=null,delete this.j,wO(this.g),delete this.g,os.$.N.call(this)};function V3(n){mO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}Fn(V3,mO);function U3(){yO.call(this),this.status=1}Fn(U3,yO);function Od(n){this.g=n}Fn(Od,j3);Od.prototype.Ba=function(){qn(this.g,"a")};Od.prototype.Aa=function(n){qn(this.g,new V3(n))};Od.prototype.za=function(n){qn(this.g,new U3)};Od.prototype.ya=function(){qn(this.g,"b")};function GSe(){this.blockSize=-1}function ui(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Fn(ui,GSe);ui.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function U0(n,e,t){t||(t=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;e=n.g[0],t=n.g[1],s=n.g[2];var i=n.g[3],a=e+(i^t&(s^i))+r[0]+3614090360&4294967295;e=t+(a<<7&4294967295|a>>>25),a=i+(s^e&(t^s))+r[1]+3905402710&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(t^i&(e^t))+r[2]+606105819&4294967295,s=i+(a<<17&4294967295|a>>>15),a=t+(e^s&(i^e))+r[3]+3250441966&4294967295,t=s+(a<<22&4294967295|a>>>10),a=e+(i^t&(s^i))+r[4]+4118548399&4294967295,e=t+(a<<7&4294967295|a>>>25),a=i+(s^e&(t^s))+r[5]+1200080426&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(t^i&(e^t))+r[6]+2821735955&4294967295,s=i+(a<<17&4294967295|a>>>15),a=t+(e^s&(i^e))+r[7]+4249261313&4294967295,t=s+(a<<22&4294967295|a>>>10),a=e+(i^t&(s^i))+r[8]+1770035416&4294967295,e=t+(a<<7&4294967295|a>>>25),a=i+(s^e&(t^s))+r[9]+2336552879&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(t^i&(e^t))+r[10]+4294925233&4294967295,s=i+(a<<17&4294967295|a>>>15),a=t+(e^s&(i^e))+r[11]+2304563134&4294967295,t=s+(a<<22&4294967295|a>>>10),a=e+(i^t&(s^i))+r[12]+1804603682&4294967295,e=t+(a<<7&4294967295|a>>>25),a=i+(s^e&(t^s))+r[13]+4254626195&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(t^i&(e^t))+r[14]+2792965006&4294967295,s=i+(a<<17&4294967295|a>>>15),a=t+(e^s&(i^e))+r[15]+1236535329&4294967295,t=s+(a<<22&4294967295|a>>>10),a=e+(s^i&(t^s))+r[1]+4129170786&4294967295,e=t+(a<<5&4294967295|a>>>27),a=i+(t^s&(e^t))+r[6]+3225465664&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^t&(i^e))+r[11]+643717713&4294967295,s=i+(a<<14&4294967295|a>>>18),a=t+(i^e&(s^i))+r[0]+3921069994&4294967295,t=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(t^s))+r[5]+3593408605&4294967295,e=t+(a<<5&4294967295|a>>>27),a=i+(t^s&(e^t))+r[10]+38016083&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^t&(i^e))+r[15]+3634488961&4294967295,s=i+(a<<14&4294967295|a>>>18),a=t+(i^e&(s^i))+r[4]+3889429448&4294967295,t=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(t^s))+r[9]+568446438&4294967295,e=t+(a<<5&4294967295|a>>>27),a=i+(t^s&(e^t))+r[14]+3275163606&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^t&(i^e))+r[3]+4107603335&4294967295,s=i+(a<<14&4294967295|a>>>18),a=t+(i^e&(s^i))+r[8]+1163531501&4294967295,t=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(t^s))+r[13]+2850285829&4294967295,e=t+(a<<5&4294967295|a>>>27),a=i+(t^s&(e^t))+r[2]+4243563512&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^t&(i^e))+r[7]+1735328473&4294967295,s=i+(a<<14&4294967295|a>>>18),a=t+(i^e&(s^i))+r[12]+2368359562&4294967295,t=s+(a<<20&4294967295|a>>>12),a=e+(t^s^i)+r[5]+4294588738&4294967295,e=t+(a<<4&4294967295|a>>>28),a=i+(e^t^s)+r[8]+2272392833&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^t)+r[11]+1839030562&4294967295,s=i+(a<<16&4294967295|a>>>16),a=t+(s^i^e)+r[14]+4259657740&4294967295,t=s+(a<<23&4294967295|a>>>9),a=e+(t^s^i)+r[1]+2763975236&4294967295,e=t+(a<<4&4294967295|a>>>28),a=i+(e^t^s)+r[4]+1272893353&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^t)+r[7]+4139469664&4294967295,s=i+(a<<16&4294967295|a>>>16),a=t+(s^i^e)+r[10]+3200236656&4294967295,t=s+(a<<23&4294967295|a>>>9),a=e+(t^s^i)+r[13]+681279174&4294967295,e=t+(a<<4&4294967295|a>>>28),a=i+(e^t^s)+r[0]+3936430074&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^t)+r[3]+3572445317&4294967295,s=i+(a<<16&4294967295|a>>>16),a=t+(s^i^e)+r[6]+76029189&4294967295,t=s+(a<<23&4294967295|a>>>9),a=e+(t^s^i)+r[9]+3654602809&4294967295,e=t+(a<<4&4294967295|a>>>28),a=i+(e^t^s)+r[12]+3873151461&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^t)+r[15]+530742520&4294967295,s=i+(a<<16&4294967295|a>>>16),a=t+(s^i^e)+r[2]+3299628645&4294967295,t=s+(a<<23&4294967295|a>>>9),a=e+(s^(t|~i))+r[0]+4096336452&4294967295,e=t+(a<<6&4294967295|a>>>26),a=i+(t^(e|~s))+r[7]+1126891415&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~t))+r[14]+2878612391&4294967295,s=i+(a<<15&4294967295|a>>>17),a=t+(i^(s|~e))+r[5]+4237533241&4294967295,t=s+(a<<21&4294967295|a>>>11),a=e+(s^(t|~i))+r[12]+1700485571&4294967295,e=t+(a<<6&4294967295|a>>>26),a=i+(t^(e|~s))+r[3]+2399980690&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~t))+r[10]+4293915773&4294967295,s=i+(a<<15&4294967295|a>>>17),a=t+(i^(s|~e))+r[1]+2240044497&4294967295,t=s+(a<<21&4294967295|a>>>11),a=e+(s^(t|~i))+r[8]+1873313359&4294967295,e=t+(a<<6&4294967295|a>>>26),a=i+(t^(e|~s))+r[15]+4264355552&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~t))+r[6]+2734768916&4294967295,s=i+(a<<15&4294967295|a>>>17),a=t+(i^(s|~e))+r[13]+1309151649&4294967295,t=s+(a<<21&4294967295|a>>>11),a=e+(s^(t|~i))+r[4]+4149444226&4294967295,e=t+(a<<6&4294967295|a>>>26),a=i+(t^(e|~s))+r[11]+3174756917&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~t))+r[2]+718787259&4294967295,s=i+(a<<15&4294967295|a>>>17),a=t+(i^(s|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+i&4294967295}ui.prototype.j=function(n,e){e===void 0&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=t;)U0(this,n,i),i+=this.blockSize;if(typeof n=="string"){for(;i<e;)if(r[s++]=n.charCodeAt(i++),s==this.blockSize){U0(this,r),s=0;break}}else for(;i<e;)if(r[s++]=n[i++],s==this.blockSize){U0(this,r),s=0;break}}this.h=s,this.i+=e};ui.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=t&255,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};function ft(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var i=n[s]|0;r&&i==e||(t[s]=i,r=!1)}this.g=t}var YSe={};function CO(n){return-128<=n&&128>n?tSe(n,function(e){return new ft([e|0],0>e?-1:0)}):new ft([n|0],0>n?-1:0)}function ki(n){if(isNaN(n)||!isFinite(n))return Cc;if(0>n)return Kn(ki(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=KS;return new ft(e,0)}function B3(n,e){if(n.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(n.charAt(0)=="-")return Kn(B3(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ki(Math.pow(e,8)),r=Cc,s=0;s<n.length;s+=8){var i=Math.min(8,n.length-s),a=parseInt(n.substring(s,s+i),e);8>i?(i=ki(Math.pow(e,i)),r=r.R(i).add(ki(a))):(r=r.R(t),r=r.add(ki(a)))}return r}var KS=4294967296,Cc=CO(0),WS=CO(1),pD=CO(16777216);Z=ft.prototype;Z.ea=function(){if(Cs(this))return-Kn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:KS+r)*e,e*=KS}return n};Z.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(ma(this))return"0";if(Cs(this))return"-"+Kn(this).toString(n);for(var e=ki(Math.pow(n,6)),t=this,r="";;){var s=zy(t,e).g;t=Hy(t,s.R(e));var i=((0<t.g.length?t.g[0]:t.h)>>>0).toString(n);if(t=s,ma(t))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Z.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function ma(n){if(n.h!=0)return!1;for(var e=0;e<n.g.length;e++)if(n.g[e]!=0)return!1;return!0}function Cs(n){return n.h==-1}Z.X=function(n){return n=Hy(this,n),Cs(n)?-1:ma(n)?0:1};function Kn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ft(t,~n.h).add(WS)}Z.abs=function(){return Cs(this)?Kn(this):this};Z.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(n.D(s)&65535),a=(i>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,t[s]=a<<16|i}return new ft(t,t[t.length-1]&-2147483648?-1:0)};function Hy(n,e){return n.add(Kn(e))}Z.R=function(n){if(ma(this)||ma(n))return Cc;if(Cs(this))return Cs(n)?Kn(this).R(Kn(n)):Kn(Kn(this).R(n));if(Cs(n))return Kn(this.R(Kn(n)));if(0>this.X(pD)&&0>n.X(pD))return ki(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var i=this.D(r)>>>16,a=this.D(r)&65535,o=n.D(s)>>>16,l=n.D(s)&65535;t[2*r+2*s]+=a*l,jg(t,2*r+2*s),t[2*r+2*s+1]+=i*l,jg(t,2*r+2*s+1),t[2*r+2*s+1]+=a*o,jg(t,2*r+2*s+1),t[2*r+2*s+2]+=i*o,jg(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ft(t,0)};function jg(n,e){for(;(n[e]&65535)!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Zd(n,e){this.g=n,this.h=e}function zy(n,e){if(ma(e))throw Error("division by zero");if(ma(n))return new Zd(Cc,Cc);if(Cs(n))return e=zy(Kn(n),e),new Zd(Kn(e.g),Kn(e.h));if(Cs(e))return e=zy(n,Kn(e)),new Zd(Kn(e.g),e.h);if(30<n.g.length){if(Cs(n)||Cs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=WS,r=e;0>=r.X(n);)t=gD(t),r=gD(r);var s=$u(t,1),i=$u(r,1);for(r=$u(r,2),t=$u(t,2);!ma(r);){var a=i.add(r);0>=a.X(n)&&(s=s.add(t),i=a),r=$u(r,1),t=$u(t,1)}return e=Hy(n,s.R(e)),new Zd(s,e)}for(s=Cc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=Math.ceil(Math.log(t)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=ki(t),a=i.R(e);Cs(a)||0<a.X(n);)t-=r,i=ki(t),a=i.R(e);ma(i)&&(i=WS),s=s.add(i),n=Hy(n,a)}return new Zd(s,n)}Z.gb=function(n){return zy(this,n).h};Z.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ft(t,this.h&n.h)};Z.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ft(t,this.h|n.h)};Z.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ft(t,this.h^n.h)};function gD(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ft(t,n.h)}function $u(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],i=0;i<r;i++)s[i]=0<e?n.D(i+t)>>>e|n.D(i+t+1)<<32-e:n.D(i+t);return new ft(s,n.h)}By.prototype.createWebChannel=By.prototype.g;os.prototype.send=os.prototype.u;os.prototype.open=os.prototype.m;os.prototype.close=os.prototype.close;x_.NO_ERROR=0;x_.TIMEOUT=8;x_.HTTP_ERROR=6;i3.COMPLETE="complete";a3.EventType=Vp;Vp.OPEN="a";Vp.CLOSE="b";Vp.ERROR="c";Vp.MESSAGE="d";Ln.prototype.listen=Ln.prototype.O;tn.prototype.listenOnce=tn.prototype.P;tn.prototype.getLastError=tn.prototype.Sa;tn.prototype.getLastErrorCode=tn.prototype.Ia;tn.prototype.getStatus=tn.prototype.da;tn.prototype.getResponseJson=tn.prototype.Wa;tn.prototype.getResponseText=tn.prototype.ja;tn.prototype.send=tn.prototype.ha;tn.prototype.setWithCredentials=tn.prototype.Oa;ui.prototype.digest=ui.prototype.l;ui.prototype.reset=ui.prototype.reset;ui.prototype.update=ui.prototype.j;ft.prototype.add=ft.prototype.add;ft.prototype.multiply=ft.prototype.R;ft.prototype.modulo=ft.prototype.gb;ft.prototype.compare=ft.prototype.X;ft.prototype.toNumber=ft.prototype.ea;ft.prototype.toString=ft.prototype.toString;ft.prototype.getBits=ft.prototype.D;ft.fromNumber=ki;ft.fromString=B3;var qSe=function(){return new By},XSe=function(){return P_()},B0=x_,QSe=i3,ZSe=yu,mD={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vg=a3,JSe=tn,eCe=ui,Tc=ft;const yD="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new WT("@firebase/firestore");function Jd(){return Zl.logLevel}function oe(n,...e){if(Zl.logLevel<=Be.DEBUG){const t=e.map(TO);Zl.debug(`Firestore (${Id}): ${n}`,...t)}}function $a(n,...e){if(Zl.logLevel<=Be.ERROR){const t=e.map(TO);Zl.error(`Firestore (${Id}): ${n}`,...t)}}function Gc(n,...e){if(Zl.logLevel<=Be.WARN){const t=e.map(TO);Zl.warn(`Firestore (${Id}): ${n}`,...t)}}function TO(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(n="Unexpected state"){const e=`FIRESTORE (${Id}) INTERNAL ASSERTION FAILED: `+n;throw $a(e),new Error(e)}function St(n,e){n||ye()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends ja{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tCe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lr.UNAUTHENTICATED))}shutdown(){}}class nCe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rCe{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ea,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ea)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new H3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new lr(e)}}class sCe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iCe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new sCe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aCe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oCe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=i=>{i.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,oe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St(typeof t.token=="string"),this.R=t.token,new aCe(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lCe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=lCe(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function Yc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ne(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Pn(0,0))}static max(){return new be(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,r){t===void 0?t=0:t>e.length&&ye(),r===void 0?r=e.length-t:r>e.length-t&&ye(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return jf.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),a=t.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class At extends jf{construct(e,t,r){return new At(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new At(t)}static emptyPath(){return new At([])}}const uCe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends jf{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return uCe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new ne(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new ne(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(At.fromString(e))}static fromName(e){return new ce(At.fromString(e).popFirst(5))}static empty(){return new ce(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new At(e.slice()))}}function cCe(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Pn(t+1,0):new Pn(t,r));return new Lo(s,ce.empty(),e)}function dCe(n){return new Lo(n.readTime,n.key,-1)}class Lo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Lo(be.min(),ce.empty(),-1)}static max(){return new Lo(be.max(),ce.empty(),-1)}}function hCe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fCe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pCe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==fCe)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):H.reject(t)}static resolve(e){return new H((t,r)=>{t(e)})}static reject(e){return new H((t,r)=>{r(e)})}static waitFor(e){return new H((t,r)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&t()},l=>r(l))}),a=!0,i===s&&t()})}static or(e){let t=H.resolve(!1);for(const r of e)t=t.next(s=>s?H.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new H((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const u=l;t(e[u]).next(d=>{a[u]=d,++o,o===i&&r(a)},d=>s(d))}})}static doWhile(e,t){return new H((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function Wp(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.se(r),this.oe=r=>t.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}OO._e=-1;function F_(n){return n==null}function Ky(n){return n===0&&1/n==-1/0}function gCe(n){return typeof n=="number"&&Number.isInteger(n)&&!Ky(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function K3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new Gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ug(this.root,e,this.comparator,!0)}}class Ug{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??zn.RED,this.left=s??zn.EMPTY,this.right=i??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new zn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return zn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,t,r,s,i){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _D(this.data.getIterator())}getIteratorFrom(e){return new _D(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xn(this.comparator);return t.data=e,t}}class _D{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new ns([])}unionWith(e){let t=new Xn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ns(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new W3("Invalid base64 string: "+i):i}}(e);return new _r(t)}static fromUint8Array(e){const t=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new _r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const mCe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mo(n){if(St(!!n),typeof n=="string"){let e=0;const t=mCe.exec(n);if(St(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yn(n.seconds),nanos:yn(n.nanos)}}function yn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Jl(n){return typeof n=="string"?_r.fromBase64String(n):_r.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function PO(n){const e=n.mapValue.fields.__previous_value__;return IO(e)?PO(e):e}function Vf(n){const e=Mo(n.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yCe{constructor(e,t,r,s,i,a,o,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Uf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Uf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Uf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg={mapValue:{}};function eu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?IO(n)?4:vCe(n)?9007199254740991:10:ye()}function Xi(n,e){if(n===e)return!0;const t=eu(n);if(t!==eu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vf(n).isEqual(Vf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Mo(s.timestampValue),o=Mo(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return Jl(s.bytesValue).isEqual(Jl(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return yn(s.geoPointValue.latitude)===yn(i.geoPointValue.latitude)&&yn(s.geoPointValue.longitude)===yn(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return yn(s.integerValue)===yn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=yn(s.doubleValue),o=yn(i.doubleValue);return a===o?Ky(a)===Ky(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return Yc(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(vD(a)!==vD(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Xi(a[l],o[l])))return!1;return!0}(n,e);default:return ye()}}function Bf(n,e){return(n.values||[]).find(t=>Xi(t,e))!==void 0}function qc(n,e){if(n===e)return 0;const t=eu(n),r=eu(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(i,a){const o=yn(i.integerValue||i.doubleValue),l=yn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return bD(n.timestampValue,e.timestampValue);case 4:return bD(Vf(n),Vf(e));case 5:return st(n.stringValue,e.stringValue);case 6:return function(i,a){const o=Jl(i),l=Jl(a);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=st(o[u],l[u]);if(d!==0)return d}return st(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const o=st(yn(i.latitude),yn(a.latitude));return o!==0?o:st(yn(i.longitude),yn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const o=i.values||[],l=a.values||[];for(let u=0;u<o.length&&u<l.length;++u){const d=qc(o[u],l[u]);if(d)return d}return st(o.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Bg.mapValue&&a===Bg.mapValue)return 0;if(i===Bg.mapValue)return 1;if(a===Bg.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=st(l[h],d[h]);if(f!==0)return f;const p=qc(o[l[h]],u[d[h]]);if(p!==0)return p}return st(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ye()}}function bD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Mo(n),r=Mo(e),s=st(t.seconds,r.seconds);return s!==0?s:st(t.nanos,r.nanos)}function Xc(n){return GS(n)}function GS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Mo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Jl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=GS(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${GS(t.fields[a])}`;return s+"}"}(n.mapValue):ye()}function wD(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function YS(n){return!!n&&"integerValue"in n}function xO(n){return!!n&&"arrayValue"in n}function ED(n){return!!n&&"nullValue"in n}function SD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Em(n){return!!n&&"mapValue"in n}function jh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=jh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vCe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Em(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jh(t)}setAll(e){let t=Gn.emptyPath(),r={},s=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=o.popLast()}a?r[o.lastSegment()]=jh(a):s.push(o.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Em(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Em(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){vu(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ur(jh(this.value))}}function G3(n){const e=[];return vu(n.fields,(t,r)=>{const s=new Gn([t]);if(Em(r)){const i=G3(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new ns(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t,r,s,i,a,o){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new cr(e,0,be.min(),be.min(),be.min(),Ur.empty(),0)}static newFoundDocument(e,t,r,s){return new cr(e,1,t,be.min(),r,s,0)}static newNoDocument(e,t){return new cr(e,2,t,be.min(),be.min(),Ur.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,be.min(),be.min(),Ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t){this.position=e,this.inclusive=t}}function CD(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],a=n.position[s];if(i.field.isKeyField()?r=ce.comparator(ce.fromName(a.referenceValue),t.key):r=qc(a,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function TD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t="asc"){this.field=e,this.dir=t}}function _Ce(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{}class wn extends Y3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new wCe(e,t,r):t==="array-contains"?new CCe(e,r):t==="in"?new TCe(e,r):t==="not-in"?new OCe(e,r):t==="array-contains-any"?new ICe(e,r):new wn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ECe(e,r):new SCe(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qc(t,this.value)):t!==null&&eu(this.value)===eu(t)&&this.matchesComparison(qc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Y3{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new ci(e,t)}matches(e){return q3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function q3(n){return n.op==="and"}function X3(n){return bCe(n)&&q3(n)}function bCe(n){for(const e of n.filters)if(e instanceof ci)return!1;return!0}function qS(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+Xc(n.value);if(X3(n))return n.filters.map(e=>qS(e)).join(",");{const e=n.filters.map(t=>qS(t)).join(",");return`${n.op}(${e})`}}function Q3(n,e){return n instanceof wn?function(r,s){return s instanceof wn&&r.op===s.op&&r.field.isEqual(s.field)&&Xi(r.value,s.value)}(n,e):n instanceof ci?function(r,s){return s instanceof ci&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,o)=>i&&Q3(a,s.filters[o]),!0):!1}(n,e):void ye()}function Z3(n){return n instanceof wn?function(t){return`${t.field.canonicalString()} ${t.op} ${Xc(t.value)}`}(n):n instanceof ci?function(t){return t.op.toString()+" {"+t.getFilters().map(Z3).join(" ,")+"}"}(n):"Filter"}class wCe extends wn{constructor(e,t,r){super(e,t,r),this.key=ce.fromName(r.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class ECe extends wn{constructor(e,t){super(e,"in",t),this.keys=J3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SCe extends wn{constructor(e,t){super(e,"not-in",t),this.keys=J3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function J3(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ce.fromName(r.referenceValue))}class CCe extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xO(t)&&Bf(t.arrayValue,this.value)}}class TCe extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bf(this.value.arrayValue,t)}}class OCe extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Bf(this.value.arrayValue,t)}}class ICe extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xO(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Bf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PCe{constructor(e,t=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.ce=null}}function OD(n,e=null,t=[],r=[],s=null,i=null,a=null){return new PCe(n,e,t,r,s,i,a)}function RO(n){const e=Ie(n);if(e.ce===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>qS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),F_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xc(r)).join(",")),e.ce=t}return e.ce}function AO(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_Ce(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Q3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TD(n.startAt,e.startAt)&&TD(n.endAt,e.endAt)}function XS(n){return ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t=null,r=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function xCe(n,e,t,r,s,i,a,o){return new Pd(n,e,t,r,s,i,a,o)}function DO(n){return new Pd(n)}function ID(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function e4(n){return n.collectionGroup!==null}function Vh(n){const e=Ie(n);if(e.le===null){e.le=[];const t=new Set;for(const i of e.explicitOrderBy)e.le.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Xn(Gn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.le.push(new Hf(i,r))}),t.has(Gn.keyField().canonicalString())||e.le.push(new Hf(Gn.keyField(),r))}return e.le}function Wi(n){const e=Ie(n);return e.he||(e.he=RCe(e,Vh(n))),e.he}function RCe(n,e){if(n.limitType==="F")return OD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Hf(s.field,i)});const t=n.endAt?new Wy(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Wy(n.startAt.position,n.startAt.inclusive):null;return OD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function QS(n,e){const t=n.filters.concat([e]);return new Pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ZS(n,e,t){return new Pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function j_(n,e){return AO(Wi(n),Wi(e))&&n.limitType===e.limitType}function t4(n){return`${RO(Wi(n))}|lt:${n.limitType}`}function Vu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>Z3(s)).join(", ")}]`),F_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Xc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Xc(s)).join(",")),`Target(${r})`}(Wi(n))}; limitType=${n.limitType})`}function V_(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of Vh(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(a,o,l){const u=CD(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,Vh(r),s)||r.endAt&&!function(a,o,l){const u=CD(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,Vh(r),s))}(n,e)}function ACe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function n4(n){return(e,t)=>{let r=!1;for(const s of Vh(n)){const i=DCe(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function DCe(n,e,t){const r=n.field.isKeyField()?ce.comparator(e.key,t.key):function(i,a,o){const l=a.data.field(i),u=o.data.field(i);return l!==null&&u!==null?qc(l,u):ye()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){vu(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return K3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kCe=new Gt(ce.comparator);function La(){return kCe}const r4=new Gt(ce.comparator);function mh(...n){let e=r4;for(const t of n)e=e.insert(t.key,t);return e}function s4(n){let e=r4;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Sl(){return Uh()}function i4(){return Uh()}function Uh(){return new xd(n=>n.toString(),(n,e)=>n.isEqual(e))}const NCe=new Gt(ce.comparator),$Ce=new Xn(ce.comparator);function $e(...n){let e=$Ce;for(const t of n)e=e.add(t);return e}const LCe=new Xn(st);function MCe(){return LCe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ky(e)?"-0":e}}function o4(n){return{integerValue:""+n}}function FCe(n,e){return gCe(e)?o4(e):a4(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this._=void 0}}function jCe(n,e,t){return n instanceof zf?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&IO(i)&&(i=PO(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Kf?u4(n,e):n instanceof Wf?c4(n,e):function(s,i){const a=l4(s,i),o=PD(a)+PD(s.Ie);return YS(a)&&YS(s.Ie)?o4(o):a4(s.serializer,o)}(n,e)}function VCe(n,e,t){return n instanceof Kf?u4(n,e):n instanceof Wf?c4(n,e):t}function l4(n,e){return n instanceof Gy?function(r){return YS(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class zf extends U_{}class Kf extends U_{constructor(e){super(),this.elements=e}}function u4(n,e){const t=d4(e);for(const r of n.elements)t.some(s=>Xi(s,r))||t.push(r);return{arrayValue:{values:t}}}class Wf extends U_{constructor(e){super(),this.elements=e}}function c4(n,e){let t=d4(e);for(const r of n.elements)t=t.filter(s=>!Xi(s,r));return{arrayValue:{values:t}}}class Gy extends U_{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function PD(n){return yn(n.integerValue||n.doubleValue)}function d4(n){return xO(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UCe{constructor(e,t){this.field=e,this.transform=t}}function BCe(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Kf&&s instanceof Kf||r instanceof Wf&&s instanceof Wf?Yc(r.elements,s.elements,Xi):r instanceof Gy&&s instanceof Gy?Xi(r.Ie,s.Ie):r instanceof zf&&s instanceof zf}(n.transform,e.transform)}class HCe{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class B_{}function h4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kO(n.key,ri.none()):new Gp(n.key,n.data,ri.none());{const t=n.data,r=Ur.empty();let s=new Xn(Gn.comparator);for(let i of e.fields)if(!s.has(i)){let a=t.field(i);a===null&&i.length>1&&(i=i.popLast(),a=t.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Xo(n.key,r,new ns(s.toArray()),ri.none())}}function zCe(n,e,t){n instanceof Gp?function(s,i,a){const o=s.value.clone(),l=RD(s.fieldTransforms,i,a.transformResults);o.setAll(l),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Xo?function(s,i,a){if(!Sm(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=RD(s.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(f4(s)),l.setAll(o),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Bh(n,e,t,r){return n instanceof Gp?function(i,a,o,l){if(!Sm(i.precondition,a))return o;const u=i.value.clone(),d=AD(i.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xo?function(i,a,o,l){if(!Sm(i.precondition,a))return o;const u=AD(i.fieldTransforms,l,a),d=a.data;return d.setAll(f4(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(i,a,o){return Sm(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function KCe(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=l4(r.transform,s||null);i!=null&&(t===null&&(t=Ur.empty()),t.set(r.field,i))}return t||null}function xD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yc(r,s,(i,a)=>BCe(i,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gp extends B_{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xo extends B_{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function f4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function RD(n,e,t){const r=new Map;St(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,VCe(a,o,t[s]))}return r}function AD(n,e,t){const r=new Map;for(const s of n){const i=s.transform,a=t.data.field(s.field);r.set(s.field,jCe(i,a,e))}return r}class kO extends B_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WCe extends B_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GCe{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&zCe(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=i4();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(s.key)?null:o;const l=h4(a,o);l!==null&&r.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,(t,r)=>xD(t,r))&&Yc(this.baseMutations,e.baseMutations,(t,r)=>xD(t,r))}}class NO{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){St(e.mutations.length===r.length);let s=function(){return NCe}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new NO(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YCe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qCe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,ze;function XCe(n){switch(n){default:return ye();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function p4(n){if(n===void 0)return $a("GRPC error has no .code"),U.UNKNOWN;switch(n){case mn.OK:return U.OK;case mn.CANCELLED:return U.CANCELLED;case mn.UNKNOWN:return U.UNKNOWN;case mn.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case mn.INTERNAL:return U.INTERNAL;case mn.UNAVAILABLE:return U.UNAVAILABLE;case mn.UNAUTHENTICATED:return U.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case mn.NOT_FOUND:return U.NOT_FOUND;case mn.ALREADY_EXISTS:return U.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return U.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case mn.ABORTED:return U.ABORTED;case mn.OUT_OF_RANGE:return U.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return U.UNIMPLEMENTED;case mn.DATA_LOSS:return U.DATA_LOSS;default:return ye()}}(ze=mn||(mn={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QCe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZCe=new Tc([4294967295,4294967295],0);function DD(n){const e=QCe().encode(n),t=new eCe;return t.update(e),new Uint8Array(t.digest())}function kD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Tc([t,r],0),new Tc([s,i],0)]}class $O{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yh(`Invalid padding: ${t}`);if(r<0)throw new yh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new yh(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Tc.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(Tc.fromNumber(r)));return s.compare(ZCe)===1&&(s=new Tc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=DD(e),[r,s]=kD(t);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);if(!this.Ae(a))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new $O(i,s,t);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Te===0)return;const t=DD(e),[r,s]=kD(t);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);this.Re(a)}}Re(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class yh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Yp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new H_(be.min(),s,new Gt(st),La(),$e())}}class Yp{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yp(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t,r,s){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=s}}class g4{constructor(e,t){this.targetId=e,this.fe=t}}class m4{constructor(e,t,r=_r.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class ND{constructor(){this.ge=0,this.pe=LD(),this.ye=_r.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=$e(),t=$e(),r=$e();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ye()}}),new Yp(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=LD()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,St(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class JCe{constructor(e){this.Le=e,this.ke=new Map,this.qe=La(),this.Qe=$D(),this.Ke=new Gt(st)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:ye()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.fe.count,s=this.Ye(t);if(s){const i=s.target;if(XS(i))if(r===0){const a=new ce(i.path);this.We(t,a,cr.newNoDocument(a,be.min()))}else St(r===1);else{const a=this.Ze(t);if(a!==r){const o=this.Xe(e),l=o?this.et(o,e,a):1;if(l!==0){this.He(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,u)}}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let a,o;try{a=Jl(r).toUint8Array()}catch(l){if(l instanceof W3)return Gc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new $O(a,s,i)}catch(l){return Gc(l instanceof yh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Te===0?null:o}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const a=this.Le.nt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.We(t,i,null),s++)}),s}it(e){const t=new Map;this.ke.forEach((i,a)=>{const o=this.Ye(a);if(o){if(i.current&&XS(o.target)){const l=new ce(o.target.path);this.qe.get(l)!==null||this.st(a,l)||this.We(a,l,cr.newNoDocument(l,e))}i.De&&(t.set(a,i.ve()),i.Fe())}});let r=$e();this.Qe.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.qe.forEach((i,a)=>a.setReadTime(e));const s=new H_(e,t,this.Ke,this.qe,r);return this.qe=La(),this.Qe=$D(),this.Ke=new Gt(st),s}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,t)?s.Me(t,1):s.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ND,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Xn(st),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ND),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function $D(){return new Gt(ce.comparator)}function LD(){return new Gt(ce.comparator)}const e1e={asc:"ASCENDING",desc:"DESCENDING"},t1e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n1e={and:"AND",or:"OR"};class r1e{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function JS(n,e){return n.useProto3Json||F_(e)?e:{value:e}}function Yy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function s1e(n,e){return Yy(n,e.toTimestamp())}function Gi(n){return St(!!n),be.fromTimestamp(function(t){const r=Mo(t);return new Pn(r.seconds,r.nanos)}(n))}function LO(n,e){return function(r){return new At(["projects",r.projectId,"databases",r.database])}(n).child("documents").child(e).canonicalString()}function v4(n){const e=At.fromString(n);return St(E4(e)),e}function eC(n,e){return LO(n.databaseId,e.path)}function H0(n,e){const t=v4(e);if(t.get(1)!==n.databaseId.projectId)throw new ne(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ne(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(_4(t))}function tC(n,e){return LO(n.databaseId,e)}function i1e(n){const e=v4(n);return e.length===4?At.emptyPath():_4(e)}function nC(n){return new At(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _4(n){return St(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function MD(n,e,t){return{name:eC(n,e),fields:t.value.mapValue.fields}}function a1e(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(St(d===void 0||typeof d=="string"),_r.fromBase64String(d||"")):(St(d===void 0||d instanceof Uint8Array),_r.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?U.UNKNOWN:p4(u.code);return new ne(d,u.message||"")}(a);t=new m4(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=H0(n,r.document.name),i=Gi(r.document.updateTime),a=r.document.createTime?Gi(r.document.createTime):be.min(),o=new Ur({mapValue:{fields:r.document.fields}}),l=cr.newFoundDocument(s,i,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Cm(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=H0(n,r.document),i=r.readTime?Gi(r.readTime):be.min(),a=cr.newNoDocument(s,i),o=r.removedTargetIds||[];t=new Cm([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=H0(n,r.document),i=r.removedTargetIds||[];t=new Cm([],i,s,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new qCe(s,i),o=r.targetId;t=new g4(o,a)}}return t}function o1e(n,e){let t;if(e instanceof Gp)t={update:MD(n,e.key,e.value)};else if(e instanceof kO)t={delete:eC(n,e.key)};else if(e instanceof Xo)t={update:MD(n,e.key,e.data),updateMask:m1e(e.fieldMask)};else{if(!(e instanceof WCe))return ye();t={verify:eC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const o=a.transform;if(o instanceof zf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Kf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Gy)return{fieldPath:a.field.canonicalString(),increment:o.Ie};throw ye()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:s1e(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ye()}(n,e.precondition)),t}function l1e(n,e){return n&&n.length>0?(St(e!==void 0),n.map(t=>function(s,i){let a=s.updateTime?Gi(s.updateTime):Gi(i);return a.isEqual(be.min())&&(a=Gi(i)),new HCe(a,s.transformResults||[])}(t,e))):[]}function u1e(n,e){return{documents:[tC(n,e.path)]}}function c1e(n,e){const t={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(t.parent=tC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return w4(ci.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Uu(h.field),direction:f1e(h.dir)}}(u))}(e.orderBy);i&&(t.structuredQuery.orderBy=i);const a=JS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t}function d1e(n){let e=i1e(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){St(r===1);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];t.where&&(i=function(h){const f=b4(h);return f instanceof ci&&X3(f)?f.getFilters():[f]}(t.where));let a=[];t.orderBy&&(a=function(h){return h.map(f=>function(_){return new Hf(Bu(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(t.orderBy));let o=null;t.limit&&(o=function(h){let f;return f=typeof h=="object"?h.value:h,F_(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Wy(p,f)}(t.startAt));let u=null;return t.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Wy(p,f)}(t.endAt)),xCe(e,s,a,i,o,"F",l,u)}function h1e(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function b4(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bu(t.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bu(t.unaryFilter.field);return wn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bu(t.unaryFilter.field);return wn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Bu(t.unaryFilter.field);return wn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(n):n.fieldFilter!==void 0?function(t){return wn.create(Bu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ci.create(t.compositeFilter.filters.map(r=>b4(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye()}}(t.compositeFilter.op))}(n):ye()}function f1e(n){return e1e[n]}function p1e(n){return t1e[n]}function g1e(n){return n1e[n]}function Uu(n){return{fieldPath:n.canonicalString()}}function Bu(n){return Gn.fromServerFormat(n.fieldPath)}function w4(n){return n instanceof wn?function(t){if(t.op==="=="){if(SD(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NAN"}};if(ED(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SD(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NOT_NAN"}};if(ED(t.value))return{unaryFilter:{field:Uu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(t.field),op:p1e(t.op),value:t.value}}}(n):n instanceof ci?function(t){const r=t.getFilters().map(s=>w4(s));return r.length===1?r[0]:{compositeFilter:{op:g1e(t.op),filters:r}}}(n):ye()}function m1e(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function E4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t,r,s,i=be.min(),a=be.min(),o=_r.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1e{constructor(e){this.ut=e}}function v1e(n){const e=d1e({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ZS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1e{constructor(){this.on=new b1e}addToCollectionParentIndex(e,t){return this.on.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Lo.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class b1e{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Xn(At.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Qc(0)}static Nn(){return new Qc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1e{constructor(){this.changes=new xd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1e{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1e{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Bh(r.mutation,s,ns.empty(),Pn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$e()){const s=Sl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let a=mh();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=Sl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$e()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,r,s){let i=La();const a=Uh(),o=function(){return Uh()}();return t.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Xo)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Bh(d.mutation,u,d.mutation.getFieldMask(),Pn.now())):a.set(u.key,ns.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>a.set(u,d)),t.forEach((u,d)=>{var h;return o.set(u,new E1e(d,(h=a.get(u))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,t){const r=Uh();let s=new Gt((a,o)=>a-o),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let d=r.get(l)||ns.empty();d=o.applyToLocalView(u,d),r.set(l,d);const h=(s.get(o.batchId)||$e()).add(l);s=s.insert(o.batchId,h)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,h=i4();d.forEach(f=>{if(!i.has(f)){const p=h4(t.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return H.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(a){return ce.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):e4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):H.resolve(Sl());let o=-1,l=i;return a.next(u=>H.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,$e())).next(d=>({batchId:o,changes:s4(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(r=>{let s=mh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let a=mh();return this.indexManager.getCollectionParents(e,i).next(o=>H.forEach(o,l=>{const u=function(h,f){return new Pd(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(a=>{i.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,cr.newInvalidDocument(d)))});let o=mh();return a.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Bh(d.mutation,u,ns.empty(),Pn.now()),V_(t,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1e{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return H.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Gi(s.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(s){return{name:s.name,query:v1e(s.bundledQuery),readTime:Gi(s.readTime)}}(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1e{constructor(){this.overlays=new Gt(ce.comparator),this.lr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Sl();return H.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.lt(e,t,i)}),H.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){const s=Sl(),i=t.length+1,a=new ce(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Gt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Sl(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Sl(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=s)););return H.resolve(o)}lt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new YCe(t,r));let i=this.lr.get(t);i===void 0&&(i=$e(),this.lr.set(t,i)),this.lr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.hr=new Xn(An.Pr),this.Ir=new Xn(An.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new An(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new An(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new ce(new At([])),r=new An(t,e),s=new An(t,e+1),i=[];return this.Ir.forEachInRange([r,s],a=>{this.dr(a),i.push(a.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ce(new At([])),r=new An(t,e),s=new An(t,e+1);let i=$e();return this.Ir.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const t=new An(e,0),r=this.hr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class An{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ce.comparator(e.key,t.key)||st(e.gr,t.gr)}static Tr(e,t){return st(e.gr,t.gr)||ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1e{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Xn(An.Pr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new GCe(i,t,r,s);this.mutationQueue.push(a);for(const o of s)this.yr=this.yr.add(new An(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return H.resolve(a)}lookupMutationBatch(e,t){return H.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Sr(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new An(t,0),s=new An(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],a=>{const o=this.wr(a.gr);i.push(o)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(st);return t.forEach(s=>{const i=new An(s,0),a=new An(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,a],o=>{r=r.add(o.gr)})}),H.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;ce.isDocumentKey(i)||(i=i.child(""));const a=new An(new ce(i),0);let o=new Xn(st);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(o=o.add(l.gr)),!0)},a),H.resolve(this.br(o))}br(e){const t=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){St(this.Dr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return H.forEach(t.mutations,s=>{const i=new An(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new An(t,0),s=this.yr.firstAfterOrEqual(r);return H.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1e{constructor(e){this.Cr=e,this.docs=function(){return new Gt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,a=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let r=La();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():cr.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=La();const a=t.path,o=new ce(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||hCe(dCe(d),r)<=0||(s.has(d.key)||V_(t,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,t,r,s){ye()}vr(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new P1e(this)}getSize(e){return H.resolve(this.size)}}class P1e extends w1e{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1e{constructor(e){this.persistence=e,this.Fr=new xd(t=>RO(t),AO),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Mr=0,this.Or=new MO,this.targetCount=0,this.Nr=Qc.On()}forEachTarget(e,t){return this.Fr.forEach((r,s)=>t(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),H.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Qc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.kn(t),H.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Fr.forEach((a,o)=>{o.sequenceNumber<=t&&r.get(o.targetId)===null&&(this.Fr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.Or.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1e{constructor(e,t){this.Br={},this.overlays={},this.Lr=new OO(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new x1e(this),this.indexManager=new _1e,this.remoteDocumentCache=function(s){return new I1e(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new y1e(t),this.Kr=new C1e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T1e,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new O1e(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){oe("MemoryPersistence","Starting transaction:",e);const s=new A1e(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,t){return H.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class A1e extends pCe{constructor(e){super(),this.currentSequenceNumber=e}}class FO{constructor(e){this.persistence=e,this.Gr=new MO,this.zr=null}static jr(e){return new FO(e)}get Hr(){if(this.zr)return this.zr;throw ye()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),H.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Hr,r=>{const s=ce.fromPath(r);return this.Jr(e,s).next(i=>{i||t.removeEntry(s,be.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return H.or([()=>H.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=s}static Qi(e,t){let r=$e(),s=$e();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new jO(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1e{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.zi(e,t).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ji(e,t,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new D1e;return this.Hi(e,t,a).next(o=>{if(i.result=o,this.$i)return this.Ji(e,t,a,o.size)})}).next(()=>i.result)}Ji(e,t,r,s){return r.documentReadCount<this.Ui?(Jd()<=Be.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Vu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),H.resolve()):(Jd()<=Be.DEBUG&&oe("QueryEngine","Query:",Vu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Jd()<=Be.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Vu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(t))):H.resolve())}zi(e,t){if(ID(t))return H.resolve(null);let r=Wi(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ZS(t,null,"F"),r=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=$e(...i);return this.Gi.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(t,o);return this.Zi(t,u,a,l.readTime)?this.zi(e,ZS(t,null,"F")):this.Xi(e,u,t,l)}))})))}ji(e,t,r,s){return ID(t)||s.isEqual(be.min())?H.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const a=this.Yi(t,i);return this.Zi(t,a,r,s)?H.resolve(null):(Jd()<=Be.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vu(t)),this.Xi(e,a,t,cCe(s,-1)).next(o=>o))})}Yi(e,t){let r=new Xn(n4(e));return t.forEach((s,i)=>{V_(e,i)&&(r=r.add(i))}),r}Zi(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,t,r){return Jd()<=Be.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Vu(t)),this.Gi.getDocumentsMatchingQuery(e,t,Lo.min(),r)}Xi(e,t,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1e{constructor(e,t,r,s){this.persistence=e,this.es=t,this.serializer=s,this.ts=new Gt(st),this.ns=new xd(i=>RO(i),AO),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S1e(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function $1e(n,e,t,r){return new N1e(n,e,t,r)}async function S4(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let l=$e();for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:a,addedBatchIds:o}))})})}function L1e(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.ss.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const h=u.batch,f=h.keys();let p=H.resolve();return f.forEach(_=>{p=p.next(()=>d.getEntry(l,_)).next(m=>{const v=u.docVersions.get(_);St(v!==null),m.version.compareTo(v)<0&&(h.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),d.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=$e();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function C4(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function M1e(n,e){const t=Ie(n),r=e.snapshotVersion;let s=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=t.ss.newChangeBuffer({trackRemovals:!0});s=t.ts;const o=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;o.push(t.qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>t.qr.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(_r.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,d)&&o.push(t.qr.updateTargetData(i,p))});let l=La(),u=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(i,d))}),o.push(F1e(i,a,e.documentUpdates).next(d=>{l=d.us,u=d.cs})),!r.isEqual(be.min())){const d=t.qr.getLastRemoteSnapshotVersion(i).next(h=>t.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(d)}return H.waitFor(o).next(()=>a.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(t.ts=s,i))}function F1e(n,e,t){let r=$e(),s=$e();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=La();return t.forEach((o,l)=>{const u=i.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):oe("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{us:a,cs:s}})}function j1e(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function V1e(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.qr.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):t.qr.allocateTargetId(r).next(a=>(s=new yo(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}async function rC(n,e,t){const r=Ie(n),s=r.ts.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Wp(a))throw a;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function FD(n,e,t){const r=Ie(n);let s=be.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const h=Ie(l),f=h.ns.get(d);return f!==void 0?H.resolve(h.ts.get(f)):h.qr.getTargetData(u,d)}(r,a,Wi(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(a,e,t?s:be.min(),t?i:$e())).next(o=>(U1e(r,ACe(e),o),{documents:o,ls:i})))}function U1e(n,e,t){let r=n.rs.get(e)||be.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.rs.set(e,r)}class jD{constructor(){this.activeTargetIds=MCe()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B1e{constructor(){this.eo=new jD,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new jD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1e{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg=null;function z0(){return Hg===null?Hg=function(){return 268435456+Math.round(2147483648*Math.random())}():Hg++,"0x"+Hg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1e{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="WebChannelConnection";class W1e extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(t,r,s,i,a){const o=z0(),l=this.So(t,r);oe("RestConnection",`Sending RPC '${t}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,i,a),this.Do(t,l,u,s).then(d=>(oe("RestConnection",`Received RPC '${t}' ${o}: `,d),d),d=>{throw Gc("RestConnection",`RPC '${t}' ${o} failed with error: `,d,"url: ",l,"request:",s),d})}Co(t,r,s,i,a,o){return this.wo(t,r,s,i,a)}bo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Id}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),s&&s.headers.forEach((i,a)=>t[a]=i)}So(t,r){const s=z1e[t];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,s){const i=z0();return new Promise((a,o)=>{const l=new JSe;l.setWithCredentials(!0),l.listenOnce(QSe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case B0.NO_ERROR:const d=l.getResponseJson();oe(ir,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),a(d);break;case B0.TIMEOUT:oe(ir,`RPC '${e}' ${i} timed out`),o(new ne(U.DEADLINE_EXCEEDED,"Request time out"));break;case B0.HTTP_ERROR:const h=l.getStatus();if(oe(ir,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const _=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(p.status);o(new ne(_,p.message))}else o(new ne(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new ne(U.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{oe(ir,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);oe(ir,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",u,r,15)})}vo(e,t,r){const s=z0(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qSe(),o=XSe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=i.join("");oe(ir,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=a.createWebChannel(d,l);let f=!1,p=!1;const _=new K1e({co:v=>{p?oe(ir,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(oe(ir,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),oe(ir,`RPC '${e}' stream ${s} sending:`,v),h.send(v))},lo:()=>h.close()}),m=(v,y,b)=>{v.listen(y,w=>{try{b(w)}catch(E){setTimeout(()=>{throw E},0)}})};return m(h,Vg.EventType.OPEN,()=>{p||oe(ir,`RPC '${e}' stream ${s} transport opened.`)}),m(h,Vg.EventType.CLOSE,()=>{p||(p=!0,oe(ir,`RPC '${e}' stream ${s} transport closed`),_.Ro())}),m(h,Vg.EventType.ERROR,v=>{p||(p=!0,Gc(ir,`RPC '${e}' stream ${s} transport errored:`,v),_.Ro(new ne(U.UNAVAILABLE,"The operation could not be completed")))}),m(h,Vg.EventType.MESSAGE,v=>{var y;if(!p){const b=v.data[0];St(!!b);const w=b,E=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(E){oe(ir,`RPC '${e}' stream ${s} received error:`,E);const S=E.status;let C=function(P){const x=mn[P];if(x!==void 0)return p4(x)}(S),O=E.message;C===void 0&&(C=U.INTERNAL,O="Unknown error status: "+S+" with message "+E.message),p=!0,_.Ro(new ne(C,O)),h.close()}else oe(ir,`RPC '${e}' stream ${s} received:`,b),_.Vo(b)}}),m(o,ZSe.STAT_EVENT,v=>{v.stat===mD.PROXY?oe(ir,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===mD.NOPROXY&&oe(ir,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function K0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n){return new r1e(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,t-r);s>0&&oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,t,r,s,i,a,o,l){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new T4(e,t)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():t&&t.code===U.RESOURCE_EXHAUSTED?($a(t.toString()),$a("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===t&&this.s_(r,s)},r=>{e(()=>{const s=new ne(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G1e extends O4{constructor(e,t,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=a1e(this.serializer,e),r=function(i){if(!("targetChange"in i))return be.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?be.min():a.readTime?Gi(a.readTime):be.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=nC(this.serializer),t.addTarget=function(i,a){let o;const l=a.target;if(o=XS(l)?{documents:u1e(i,l)}:{query:c1e(i,l)},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=y4(i,a.resumeToken);const u=JS(i,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(be.min())>0){o.readTime=Yy(i,a.snapshotVersion.toTimestamp());const u=JS(i,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=h1e(this.serializer,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=nC(this.serializer),t.removeTarget=e,this.e_(t)}}class Y1e extends O4{constructor(e,t,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=l1e(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.I_(r,t)}return St(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=nC(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>o1e(this.serializer,r))};this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1e extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new ne(U.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,t,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(U.UNKNOWN,s.toString())})}Co(e,t,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Co(e,t,r,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(U.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class X1e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?($a(t),this.f_=!1):oe("OnlineStateTracker",t)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1e{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(a=>{r.enqueueAndForget(async()=>{_u(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ie(l);u.C_.add(4),await qp(u),u.M_.set("Unknown"),u.C_.delete(4),await K_(u)}(this))})}),this.M_=new X1e(r,s)}}async function K_(n){if(_u(n))for(const e of n.v_)await e(!0)}async function qp(n){for(const e of n.v_)await e(!1)}function I4(n,e){const t=Ie(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),BO(t)?UO(t):Rd(t).Ho()&&VO(t,e))}function P4(n,e){const t=Ie(n),r=Rd(t);t.D_.delete(e),r.Ho()&&x4(t,e),t.D_.size===0&&(r.Ho()?r.Zo():_u(t)&&t.M_.set("Unknown"))}function VO(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rd(n).u_(e)}function x4(n,e){n.x_.Oe(e),Rd(n).c_(e)}function UO(n){n.x_=new JCe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Rd(n).start(),n.M_.g_()}function BO(n){return _u(n)&&!Rd(n).jo()&&n.D_.size>0}function _u(n){return Ie(n).C_.size===0}function R4(n){n.x_=void 0}async function Z1e(n){n.D_.forEach((e,t)=>{VO(n,e)})}async function J1e(n,e){R4(n),BO(n)?(n.M_.w_(e),UO(n)):n.M_.set("Unknown")}async function eTe(n,e,t){if(n.M_.set("Online"),e instanceof m4&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.D_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.D_.delete(o),s.x_.removeTarget(o))}(n,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qy(n,r)}else if(e instanceof Cm?n.x_.$e(e):e instanceof g4?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(be.min()))try{const r=await C4(n.localStore);t.compareTo(r)>=0&&await function(i,a){const o=i.x_.it(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.D_.get(u);d&&i.D_.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=i.D_.get(l);if(!d)return;i.D_.set(l,d.withResumeToken(_r.EMPTY_BYTE_STRING,d.snapshotVersion)),x4(i,l);const h=new yo(d.target,l,u,d.sequenceNumber);VO(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await qy(n,r)}}async function qy(n,e,t){if(!Wp(e))throw e;n.C_.add(1),await qp(n),n.M_.set("Offline"),t||(t=()=>C4(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await t(),n.C_.delete(1),await K_(n)})}function A4(n,e){return e().catch(t=>qy(n,t,e))}async function W_(n){const e=Ie(n),t=Fo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;tTe(e);)try{const s=await j1e(e.localStore,r);if(s===null){e.b_.length===0&&t.Zo();break}r=s.batchId,nTe(e,s)}catch(s){await qy(e,s)}D4(e)&&k4(e)}function tTe(n){return _u(n)&&n.b_.length<10}function nTe(n,e){n.b_.push(e);const t=Fo(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function D4(n){return _u(n)&&!Fo(n).jo()&&n.b_.length>0}function k4(n){Fo(n).start()}async function rTe(n){Fo(n).E_()}async function sTe(n){const e=Fo(n);for(const t of n.b_)e.P_(t.mutations)}async function iTe(n,e,t){const r=n.b_.shift(),s=NO.from(r,e,t);await A4(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await W_(n)}async function aTe(n,e){e&&Fo(n).h_&&await async function(r,s){if(function(a){return XCe(a)&&a!==U.ABORTED}(s.code)){const i=r.b_.shift();Fo(r).Yo(),await A4(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await W_(r)}}(n,e),D4(n)&&k4(n)}async function UD(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=_u(t);t.C_.add(3),await qp(t),r&&t.M_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),await K_(t)}async function oTe(n,e){const t=Ie(n);e?(t.C_.delete(2),await K_(t)):e||(t.C_.add(2),await qp(t),t.M_.set("Unknown"))}function Rd(n){return n.O_||(n.O_=function(t,r,s){const i=Ie(t);return i.A_(),new G1e(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{ho:Z1e.bind(null,n),Io:J1e.bind(null,n),a_:eTe.bind(null,n)}),n.v_.push(async e=>{e?(n.O_.Yo(),BO(n)?UO(n):n.M_.set("Unknown")):(await n.O_.stop(),R4(n))})),n.O_}function Fo(n){return n.N_||(n.N_=function(t,r,s){const i=Ie(t);return i.A_(),new Y1e(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{ho:rTe.bind(null,n),Io:aTe.bind(null,n),T_:sTe.bind(null,n),I_:iTe.bind(null,n)}),n.v_.push(async e=>{e?(n.N_.Yo(),await W_(n)):(await n.N_.stop(),n.b_.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))})),n.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const a=Date.now()+r,o=new HO(e,t,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zO(n,e){if($a("AsyncQueue",`${e}: ${n}`),Wp(n))return new ne(U.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ce.comparator(t.key,r.key):(t,r)=>ce.comparator(t.key,r.key),this.keyedMap=mh(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new Oc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.B_=new Gt(ce.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(t,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(t):e.type===1&&r.type===2?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):ye():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zc{constructor(e,t,r,s,i,a,o,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,s,i){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new Zc(e,t,Oc.emptySet(t),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lTe{constructor(){this.k_=void 0,this.listeners=[]}}class uTe{constructor(){this.queries=new xd(e=>t4(e),j_),this.onlineState="Unknown",this.q_=new Set}}async function N4(n,e){const t=Ie(n),r=e.query;let s=!1,i=t.queries.get(r);if(i||(s=!0,i=new lTe),s)try{i.k_=await t.onListen(r)}catch(a){const o=zO(a,`Initialization of query '${Vu(e.query)}' failed`);return void e.onError(o)}t.queries.set(r,i),i.listeners.push(e),e.Q_(t.onlineState),i.k_&&e.K_(i.k_)&&KO(t)}async function $4(n,e){const t=Ie(n),r=e.query;let s=!1;const i=t.queries.get(r);if(i){const a=i.listeners.indexOf(e);a>=0&&(i.listeners.splice(a,1),s=i.listeners.length===0)}if(s)return t.queries.delete(r),t.onUnlisten(r)}function cTe(n,e){const t=Ie(n);let r=!1;for(const s of e){const i=s.query,a=t.queries.get(i);if(a){for(const o of a.listeners)o.K_(s)&&(r=!0);a.k_=s}}r&&KO(t)}function dTe(n,e,t){const r=Ie(n),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(t);r.queries.delete(e)}function KO(n){n.q_.forEach(e=>{e.next()})}class L4{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const r=t!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}H_(e){e=Zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.key=e}}class F4{constructor(e){this.key=e}}class hTe{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=$e(),this.mutatedKeys=$e(),this._a=n4(e),this.aa=new Oc(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new BD,s=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=V_(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?_!==m&&(r.track({type:3,doc:p}),v=!0):this.ha(f,p)||(r.track({type:2,doc:p}),v=!0,(l&&this._a(p,l)>0||u&&this._a(p,u)<0)&&(o=!0)):!f&&p?(r.track({type:0,doc:p}),v=!0):f&&!p&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(o=!0)),v&&(p?(a=a.add(p),i=m?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{aa:a,la:r,Zi:o,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const a=e.la.L_();a.sort((d,h)=>function(p,_){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return m(p)-m(_)}(d.type,h.type)||this._a(d.doc,h.doc)),this.Pa(r),s=s!=null&&s;const o=t&&!s?this.Ia():[],l=this.oa.size===0&&this.current&&!s?1:0,u=l!==this.sa;return this.sa=l,a.length!==0||u?{snapshot:new Zc(this.query,e.aa,i,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new BD,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=$e(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new F4(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new M4(r))}),t}da(e){this.ia=e.ls,this.oa=$e();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Zc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class fTe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pTe{constructor(e){this.key=e,this.Ra=!1}}class gTe{constructor(e,t,r,s,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Va={},this.ma=new xd(o=>t4(o),j_),this.fa=new Map,this.ga=new Set,this.pa=new Gt(ce.comparator),this.ya=new Map,this.wa=new MO,this.Sa={},this.ba=new Map,this.Da=Qc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function mTe(n,e){const t=OTe(n);let r,s;const i=t.ma.get(e);if(i)r=i.targetId,t.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const a=await V1e(t.localStore,Wi(e)),o=t.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,s=await yTe(t,e,r,o==="current",a.resumeToken),t.isPrimaryClient&&I4(t.remoteStore,a)}return s}async function yTe(n,e,t,r,s){n.va=(h,f,p)=>async function(m,v,y,b){let w=v.view.ca(y);w.Zi&&(w=await FD(m.localStore,v.query,!1).then(({documents:O})=>v.view.ca(O,w)));const E=b&&b.targetChanges.get(v.targetId),S=b&&b.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(w,m.isPrimaryClient,E,S);return zD(m,v.targetId,C.Ta),C.snapshot}(n,h,f,p);const i=await FD(n.localStore,e,!0),a=new hTe(e,i.ls),o=a.ca(i.documents),l=Yp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),u=a.applyChanges(o,n.isPrimaryClient,l);zD(n,t,u.Ta);const d=new fTe(e,t,a);return n.ma.set(e,d),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}async function vTe(n,e){const t=Ie(n),r=t.ma.get(e),s=t.fa.get(r.targetId);if(s.length>1)return t.fa.set(r.targetId,s.filter(i=>!j_(i,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||await rC(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),P4(t.remoteStore,r.targetId),sC(t,r.targetId)}).catch(Kp)):(sC(t,r.targetId),await rC(t.localStore,r.targetId,!0))}async function _Te(n,e,t){const r=ITe(n);try{const s=await function(a,o){const l=Ie(a),u=Pn.now(),d=o.reduce((p,_)=>p.add(_.key),$e());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=La(),m=$e();return l.ss.getEntries(p,d).next(v=>{_=v,_.forEach((y,b)=>{b.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(v=>{h=v;const y=[];for(const b of o){const w=KCe(b,h.get(b.key).overlayedDocument);w!=null&&y.push(new Xo(b.key,w,G3(w.value.mapValue),ri.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,o)}).next(v=>{f=v;const y=v.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:f.batchId,changes:s4(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let u=a.Sa[a.currentUser.toKey()];u||(u=new Gt(st)),u=u.insert(o,l),a.Sa[a.currentUser.toKey()]=u}(r,s.batchId,t),await Xp(r,s.changes),await W_(r.remoteStore)}catch(s){const i=zO(s,"Failed to persist write");t.reject(i)}}async function j4(n,e){const t=Ie(n);try{const r=await M1e(t.localStore,e);e.targetChanges.forEach((s,i)=>{const a=t.ya.get(i);a&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Ra=!0:s.modifiedDocuments.size>0?St(a.Ra):s.removedDocuments.size>0&&(St(a.Ra),a.Ra=!1))}),await Xp(t,r,e)}catch(r){await Kp(r)}}function HD(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ma.forEach((i,a)=>{const o=a.view.Q_(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=Ie(a);l.onlineState=o;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.listeners)f.Q_(o)&&(u=!0)}),u&&KO(l)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bTe(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.ya.get(e),i=s&&s.key;if(i){let a=new Gt(ce.comparator);a=a.insert(i,cr.newNoDocument(i,be.min()));const o=$e().add(i),l=new H_(be.min(),new Map,new Gt(st),a,o);await j4(r,l),r.pa=r.pa.remove(i),r.ya.delete(e),WO(r)}else await rC(r.localStore,e,!1).then(()=>sC(r,e,t)).catch(Kp)}async function wTe(n,e){const t=Ie(n),r=e.batch.batchId;try{const s=await L1e(t.localStore,e);U4(t,r,null),V4(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Xp(t,s)}catch(s){await Kp(s)}}async function ETe(n,e,t){const r=Ie(n);try{const s=await function(a,o){const l=Ie(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(St(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);U4(r,e,t),V4(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Xp(r,s)}catch(s){await Kp(s)}}function V4(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function U4(n,e,t){const r=Ie(n);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function sC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||B4(n,r)})}function B4(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);t!==null&&(P4(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),WO(n))}function zD(n,e,t){for(const r of t)r instanceof M4?(n.wa.addReference(r.key,e),STe(n,r)):r instanceof F4?(oe("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||B4(n,r.key)):ye()}function STe(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(oe("SyncEngine","New document in limbo: "+t),n.ga.add(r),WO(n))}function WO(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ce(At.fromString(e)),r=n.Da.next();n.ya.set(r,new pTe(t)),n.pa=n.pa.insert(t,r),I4(n.remoteStore,new yo(Wi(DO(t.path)),r,"TargetPurposeLimboResolution",OO._e))}}async function Xp(n,e,t){const r=Ie(n),s=[],i=[],a=[];r.ma.isEmpty()||(r.ma.forEach((o,l)=>{a.push(r.va(l,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=jO.Qi(l.targetId,u);i.push(d)}}))}),await Promise.all(a),r.Va.a_(s),await async function(l,u){const d=Ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(u,f=>H.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>H.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Wp(h))throw h;oe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),_=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(_);d.ts=d.ts.insert(f,m)}}}(r.localStore,i))}async function CTe(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await S4(t.localStore,e);t.currentUser=e,function(i,a){i.ba.forEach(o=>{o.forEach(l=>{l.reject(new ne(U.CANCELLED,a))})}),i.ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xp(t,r._s)}}function TTe(n,e){const t=Ie(n),r=t.ya.get(e);if(r&&r.Ra)return $e().add(r.key);{let s=$e();const i=t.fa.get(e);if(!i)return s;for(const a of i){const o=t.ma.get(a);s=s.unionWith(o.view.ua)}return s}}function OTe(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=j4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TTe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bTe.bind(null,e),e.Va.a_=cTe.bind(null,e.eventManager),e.Va.Fa=dTe.bind(null,e.eventManager),e}function ITe(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wTe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ETe.bind(null,e),e}class KD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=z_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return $1e(this.persistence,new k1e,e.initialUser,this.serializer)}createPersistence(e){return new R1e(FO.jr,this.serializer)}createSharedClientState(e){return new B1e}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PTe{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CTe.bind(null,this.syncEngine),await oTe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uTe}()}createDatastore(e){const t=z_(e.databaseInfo.databaseId),r=function(i){return new W1e(i)}(e.databaseInfo);return function(i,a,o,l){return new q1e(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,a,o){return new Q1e(r,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>HD(this.syncEngine,t,0),function(){return VD.D()?new VD:new H1e}())}createSyncEngine(e,t){return function(s,i,a,o,l,u,d){const h=new gTe(s,i,a,o,l,u);return d&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(t){const r=Ie(t);oe("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await qp(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):$a("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xTe{constructor(e,t,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=lr.UNAUTHENTICATED,this.clientId=z3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{oe("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(oe("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=zO(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function W0(n,e){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=await n.getConfiguration();await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await S4(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function WD(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ATe(n);oe("FirestoreClient","Initializing OnlineComponentProvider");const r=await n.getConfiguration();await e.initialize(t,r),n.setCredentialChangeListener(s=>UD(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,i)=>UD(e.remoteStore,i)),n._onlineComponents=e}function RTe(n){return n.name==="FirebaseError"?n.code===U.FAILED_PRECONDITION||n.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function ATe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await W0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!RTe(t))throw t;Gc("Error using user provided cache. Falling back to memory cache: "+t),await W0(n,new KD)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await W0(n,new KD);return n._offlineComponents}async function z4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await WD(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await WD(n,new PTe))),n._onlineComponents}function DTe(n){return z4(n).then(e=>e.syncEngine)}async function K4(n){const e=await z4(n),t=e.eventManager;return t.onListen=mTe.bind(null,e.syncEngine),t.onUnlisten=vTe.bind(null,e.syncEngine),t}function kTe(n,e,t={}){const r=new Ea;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,u){const d=new H4({next:f=>{a.enqueueAndForget(()=>$4(i,h));const p=f.docs.has(o);!p&&f.fromCache?u.reject(new ne(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new ne(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new L4(DO(o.path),d,{includeMetadataChanges:!0,J_:!0});return N4(i,h)}(await K4(n),n.asyncQueue,e,t,r)),r.promise}function NTe(n,e,t={}){const r=new Ea;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,u){const d=new H4({next:f=>{a.enqueueAndForget(()=>$4(i,h)),f.fromCache&&l.source==="server"?u.reject(new ne(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new L4(o,d,{includeMetadataChanges:!0,J_:!0});return N4(i,h)}(await K4(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n,e,t){if(!t)throw new ne(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $Te(n,e,t,r){if(e===!0&&r===!0)throw new ne(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function YD(n){if(!ce.isDocumentKey(n))throw new ne(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qD(n){if(ce.isDocumentKey(n))throw new ne(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function G_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye()}function Ma(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ne(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=G_(n);throw new ne(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$Te("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ne(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ne(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ne(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y_{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tCe;switch(r.type){case"firstParty":return new iCe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=GD.get(t);r&&(oe("ComponentProvider","Removing Datastore"),GD.delete(t),r.terminate())}(this),Promise.resolve()}}function LTe(n,e,t,r={}){var s;const i=(n=Ma(n,Y_))._getSettings(),a=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=lr.MOCK_USER;else{o=abe(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ne(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new lr(u)}n._authCredentials=new nCe(new H3(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bu(this.firestore,e,this._query)}}class Gr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class Ao extends bu{constructor(e,t,r){super(e,t,DO(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new ce(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function q_(n,e,...t){if(n=Sn(n),G4("collection","path",e),n instanceof Y_){const r=At.fromString(e,...t);return qD(r),new Ao(n,null,r)}{if(!(n instanceof Gr||n instanceof Ao))throw new ne(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(At.fromString(e,...t));return qD(r),new Ao(n.firestore,null,r)}}function Ad(n,e,...t){if(n=Sn(n),arguments.length===1&&(e=z3.newId()),G4("doc","path",e),n instanceof Y_){const r=At.fromString(e,...t);return YD(r),new Gr(n,null,new ce(r))}{if(!(n instanceof Gr||n instanceof Ao))throw new ne(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(At.fromString(e,...t));return YD(r),new Gr(n.firestore,n instanceof Ao?n.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MTe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new T4(this,"async_queue_retry"),this.iu=()=>{const t=K0();t&&oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=K0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=K0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Ea;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Wp(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw $a("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const s=HO.createAndSchedule(this,e,t,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&ye()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Dd extends Y_{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=function(){return new MTe}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Y4(this),this._firestoreClient.terminate()}}function FTe(n,e){const t=typeof n=="object"?n:oV(),r=typeof n=="string"?n:"(default)",s=YT(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=sbe("firestore");i&&LTe(s,...i)}return s}function GO(n){return n._firestoreClient||Y4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Y4(n){var e,t,r;const s=n._freezeSettings(),i=function(o,l,u,d){return new yCe(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,W4(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._firestoreClient=new xTe(n._authCredentials,n._appCheckCredentials,n._queue,i),!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jc(_r.fromBase64String(e))}catch(t){throw new ne(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jc(_r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ne(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jTe=/^__.*__$/;class VTe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gp(e,this.data,t,this.fieldTransforms)}}class q4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function X4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class qO{constructor(e,t,r,s,i,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new qO(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Xy(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(X4(this.Iu)&&jTe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class UTe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||z_(e)}pu(e,t,r,s=!1){return new qO({Iu:e,methodName:t,gu:r,path:Gn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XO(n){const e=n._freezeSettings(),t=z_(n._databaseId);return new UTe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BTe(n,e,t,r,s,i={}){const a=n.pu(i.merge||i.mergeFields?2:0,e,t,s);ZO("Data must be an object, but it was:",a,r);const o=Q4(r,a);let l,u;if(i.merge)l=new ns(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=iC(e,h,t);if(!a.contains(f))throw new ne(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);J4(d,f)||d.push(f)}l=new ns(d),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new VTe(new Ur(o),l,u)}class Z_ extends Q_{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Z_}}class QO extends Q_{_toFieldTransform(e){return new UCe(e.path,new zf)}isEqual(e){return e instanceof QO}}function HTe(n,e,t,r){const s=n.pu(1,e,t);ZO("Data must be an object, but it was:",s,r);const i=[],a=Ur.empty();vu(r,(l,u)=>{const d=JO(e,l,t);u=Sn(u);const h=s.Ru(d);if(u instanceof Z_)i.push(d);else{const f=Qp(u,h);f!=null&&(i.push(d),a.set(d,f))}});const o=new ns(i);return new q4(a,o,s.fieldTransforms)}function zTe(n,e,t,r,s,i){const a=n.pu(1,e,t),o=[iC(e,r,t)],l=[s];if(i.length%2!=0)throw new ne(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)o.push(iC(e,i[f])),l.push(i[f+1]);const u=[],d=Ur.empty();for(let f=o.length-1;f>=0;--f)if(!J4(u,o[f])){const p=o[f];let _=l[f];_=Sn(_);const m=a.Ru(p);if(_ instanceof Z_)u.push(p);else{const v=Qp(_,m);v!=null&&(u.push(p),d.set(p,v))}}const h=new ns(u);return new q4(d,h,a.fieldTransforms)}function KTe(n,e,t,r=!1){return Qp(t,n.pu(r?4:3,e))}function Qp(n,e){if(Z4(n=Sn(n)))return ZO("Unsupported field value:",e,n),Q4(n,e);if(n instanceof Q_)return function(r,s){if(!X4(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const o of r){let l=Qp(o,s.Vu(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FCe(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pn.fromDate(r);return{timestampValue:Yy(s.serializer,i)}}if(r instanceof Pn){const i=new Pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yy(s.serializer,i)}}if(r instanceof YO)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jc)return{bytesValue:y4(s.serializer,r._byteString)};if(r instanceof Gr){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:LO(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${G_(r)}`)}(n,e)}function Q4(n,e){const t={};return K3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vu(n,(r,s)=>{const i=Qp(s,e.Eu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function Z4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pn||n instanceof YO||n instanceof Jc||n instanceof Gr||n instanceof Q_)}function ZO(n,e,t){if(!Z4(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=G_(t);throw r==="an object"?e.mu(n+" a custom object"):e.mu(n+" "+r)}}function iC(n,e,t){if((e=Sn(e))instanceof X_)return e._internalPath;if(typeof e=="string")return JO(n,e);throw Xy("Field path arguments must be of type string or ",n,!1,void 0,t)}const WTe=new RegExp("[~\\*/\\[\\]]");function JO(n,e,t){if(e.search(WTe)>=0)throw Xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new X_(...e.split("."))._internalPath}catch{throw Xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xy(n,e,t,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new ne(U.INVALID_ARGUMENT,o+n+l)}function J4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GTe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GTe extends e5{data(){return super.data()}}function eI(n,e){return typeof e=="string"?JO(n,e):e instanceof X_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YTe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ne(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tI{}class t5 extends tI{}function qTe(n,e,...t){let r=[];e instanceof tI&&r.push(e),r=r.concat(t),function(i){const a=i.filter(l=>l instanceof rI).length,o=i.filter(l=>l instanceof nI).length;if(a>1||a>0&&o>0)throw new ne(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class nI extends t5{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new nI(e,t,r)}_apply(e){const t=this._parse(e);return n5(e._query,t),new bu(e.firestore,e.converter,QS(e._query,t))}_parse(e){const t=XO(e.firestore);return function(i,a,o,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ne(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ZD(h,d);const p=[];for(const _ of h)p.push(QD(l,i,_));f={arrayValue:{values:p}}}else f=QD(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ZD(h,d),f=KTe(o,a,h,d==="in"||d==="not-in");return wn.create(u,d,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class rI extends tI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rI(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const l of o)n5(a,l),a=QS(a,l)}(e._query,t),new bu(e.firestore,e.converter,QS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sI extends t5{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sI(e,t)}_apply(e){const t=function(s,i,a){if(s.startAt!==null)throw new ne(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ne(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hf(i,a)}(e._query,this._field,this._direction);return new bu(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Pd(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function XTe(n,e="asc"){const t=e,r=eI("orderBy",n);return sI._create(r,t)}function QD(n,e,t){if(typeof(t=Sn(t))=="string"){if(t==="")throw new ne(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e4(e)&&t.indexOf("/")!==-1)throw new ne(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(At.fromString(t));if(!ce.isDocumentKey(r))throw new ne(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wD(n,new ce(r))}if(t instanceof Gr)return wD(n,t._key);throw new ne(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${G_(t)}.`)}function ZD(n,e){if(!Array.isArray(n)||n.length===0)throw new ne(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n5(n,e){const t=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ne(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QTe{convertValue(e,t="none"){switch(eu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ye()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vu(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertGeoPoint(e){return new YO(yn(e.latitude),yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=PO(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vf(e));default:return null}}convertTimestamp(e){const t=Mo(e);return new Pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=At.fromString(e);St(E4(r));const s=new Uf(r.get(1),r.get(3)),i=new ce(r.popFirst(5));return s.isEqual(t)||$a(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZTe(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class r5 extends e5{constructor(e,t,r,s,i,a){super(e,t,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Tm extends r5{data(e={}){return super.data(e)}}class JTe{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new vh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Tm(this._firestore,this._userDataWriter,r.key,r,new vh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ne(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Tm(s._firestore,s._userDataWriter,o.doc.key,o.doc,new vh(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Tm(s._firestore,s._userDataWriter,o.doc.key,o.doc,new vh(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:eOe(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eOe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tOe(n){n=Ma(n,Gr);const e=Ma(n.firestore,Dd);return kTe(GO(e),n._key).then(t=>rOe(e,n,t))}class s5 extends QTe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,t)}}function i5(n){n=Ma(n,bu);const e=Ma(n.firestore,Dd),t=GO(e),r=new s5(e);return YTe(n._query),NTe(t,n._query).then(s=>new JTe(e,r,n,s))}function iI(n,e,t,...r){n=Ma(n,Gr);const s=Ma(n.firestore,Dd),i=XO(s);let a;return a=typeof(e=Sn(e))=="string"||e instanceof X_?zTe(i,"updateDoc",n._key,e,t,r):HTe(i,"updateDoc",n._key,e),aI(s,[a.toMutation(n._key,ri.exists(!0))])}function nOe(n){return aI(Ma(n.firestore,Dd),[new kO(n._key,ri.none())])}function a5(n,e){const t=Ma(n.firestore,Dd),r=Ad(n),s=ZTe(n.converter,e);return aI(t,[BTe(XO(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ri.exists(!1))]).then(()=>r)}function aI(n,e){return function(r,s){const i=new Ea;return r.asyncQueue.enqueueAndForget(async()=>_Te(await DTe(r),s,i)),i.promise}(GO(n),e)}function rOe(n,e,t){const r=t.docs.get(e._key),s=new s5(n);return new r5(n,s,e._key,r,new vh(t.hasPendingWrites,t.fromCache),e.converter)}function sOe(){return new QO("serverTimestamp")}(function(e,t=!0){(function(s){Id=s})(Sd),zc(new Yl("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new Dd(new rCe(r.getProvider("auth-internal")),new oCe(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uf(u.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ro(yD,"4.4.0",e),Ro(yD,"4.4.0","esm2017")})();const iOe={apiKey:"AIzaSyB662kBup4nhIZUwUbUpiOvHO2dgknO6rc",authDomain:"dango-c161e.firebaseapp.com",projectId:"dango-c161e",storageBucket:"dango-c161e.firebasestorage.app",messagingSenderId:"837192116631",appId:"1:837192116631:web:a014f6ea1d544603547cd2"},o5=aV(iOe),J_=GEe(o5),Ua=FTe(o5),aOe=async(n,e)=>{try{return await Pwe(J_,n,e)}catch(t){const r=t;throw console.error("Sign in error:",{code:r.code,message:r.message,name:r.name}),t}},oOe=async(n,e)=>{try{return await Iwe(J_,n,e)}catch(t){const r=t;throw console.error("Sign up error:",{code:r.code,message:r.message,name:r.name}),t}},lOe=async()=>{try{await $we(J_)}catch(n){throw n}},uOe=n=>Nwe(J_,n),cOe=async(n,e)=>{try{await Rwe(n,e)}catch(t){throw t}},aC=async n=>{try{await xwe(n)}catch(e){throw console.error("Email verification error:",e),e}};class dOe{constructor(){Us(this,"user",null);Us(this,"loading",!0);Us(this,"error",null);p1(this),this.initAuth()}initAuth(){uOe(e=>{this.setUser(e),this.setLoading(!1)})}setUser(e){this.user=e}setLoading(e){this.loading=e}setError(e){this.error=e}async login(e,t){try{return await aOe(e,t),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async register(e,t){try{const r=await oOe(e,t);return r.user&&await aC(r.user),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async resendVerificationEmail(){try{if(!this.user)throw new Error("No user logged in");return await aC(this.user),!0}catch(e){const t=e;return this.setError(t.message),!1}}async logout(){try{return await lOe(),this.setError(null),!0}catch(e){const t=e;return this.setError(t.message),!1}}async updatePassword(e){try{if(!this.user)throw new Error("No user logged in");return await cOe(this.user,e),this.setError(null),!0}catch(t){const r=t;return this.setError(r.message),!1}}get isEmailVerified(){var e;return((e=this.user)==null?void 0:e.emailVerified)??!1}}const Ce=new dOe,l5=({stage:n,size:e=64})=>{const t=e*.5,r=70,s=2*Math.PI*r,i=n/7*s,a=s-i;return R.jsxs("div",{style:{width:e,height:e,position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center"},children:[R.jsxs("svg",{style:{width:"100%",height:"100%",transform:"rotate(-90deg)",overflow:"visible"},viewBox:"0 0 200 200",children:[R.jsx("circle",{cx:"100",cy:"100",r,stroke:"#ddd",strokeWidth:t,fill:"none"}),R.jsx("circle",{cx:"100",cy:"100",r,stroke:"#4CAF50",strokeWidth:t,fill:"none",strokeLinecap:"round",style:{strokeDasharray:s,strokeDashoffset:a,transition:"stroke-dashoffset 0.5s ease"}})]}),R.jsx("div",{style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:R.jsx("span",{style:{fontSize:e*.25,fontFamily:"Arial",color:"#333"},children:n})})]})};function hOe(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const JD={};function oC(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&JD[e[0]]||(typeof e[0]=="string"&&(JD[e[0]]=new Date),hOe(...e))}const u5=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function ek(n,e,t){n.loadNamespaces(e,u5(n,t))}function tk(n,e,t,r){typeof t=="string"&&(t=[t]),t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,u5(n,r))}function fOe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=e.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(r,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,n)&&(!s||a(i,n)))}function pOe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(oC("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,n))return!1}}):fOe(n,e,t)}const gOe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,mOe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},yOe=n=>mOe[n],vOe=n=>n.replace(gOe,yOe);let lC={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vOe};function _Oe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lC={...lC,...n}}function bOe(){return lC}let c5;function wOe(n){c5=n}function EOe(){return c5}const SOe={type:"3rdParty",init(n){_Oe(n.options.react),wOe(n)}},COe=T.createContext();class TOe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const OOe=(n,e)=>{const t=T.useRef();return T.useEffect(()=>{t.current=n},[n,e]),t.current};function d5(n,e,t,r){return n.getFixedT(e,t,r)}function IOe(n,e,t,r){return T.useCallback(d5(n,e,t,r),[n,e,t,r])}function Fs(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:r,defaultNS:s}=T.useContext(COe)||{},i=t||r||EOe();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new TOe),!i){oC("You will need to pass in an i18next instance by using initReactI18next");const E=(C,O)=>typeof O=="string"?O:O&&typeof O=="object"&&typeof O.defaultValue=="string"?O.defaultValue:Array.isArray(C)?C[C.length-1]:C,S=[E,{},!1];return S.t=E,S.i18n={},S.ready=!1,S}i.options.react&&i.options.react.wait!==void 0&&oC("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...bOe(),...i.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=s||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>pOe(E,i,a)),h=IOe(i,e.lng||null,a.nsMode==="fallback"?u:u[0],l),f=()=>h,p=()=>d5(i,e.lng||null,a.nsMode==="fallback"?u:u[0],l),[_,m]=T.useState(f);let v=u.join();e.lng&&(v=`${e.lng}${v}`);const y=OOe(v),b=T.useRef(!0);T.useEffect(()=>{const{bindI18n:E,bindI18nStore:S}=a;b.current=!0,!d&&!o&&(e.lng?tk(i,e.lng,u,()=>{b.current&&m(p)}):ek(i,u,()=>{b.current&&m(p)})),d&&y&&y!==v&&b.current&&m(p);function C(){b.current&&m(p)}return E&&i&&i.on(E,C),S&&i&&i.store.on(S,C),()=>{b.current=!1,E&&i&&E.split(" ").forEach(O=>i.off(O,C)),S&&i&&S.split(" ").forEach(O=>i.store.off(O,C))}},[i,v]),T.useEffect(()=>{b.current&&d&&m(f)},[i,l,d]);const w=[_,i,d];if(w.t=_,w.i18n=i,w.ready=d,d||!d&&!o)return w;throw new Promise(E=>{e.lng?tk(i,e.lng,u,()=>E()):ek(i,u,()=>E())})}const POe=n=>T.createElement("svg",{t:1734834395145,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":11320,...n},T.createElement("path",{d:"M512.006827 1020.59008C231.120213 1020.59008 3.413333 792.85248 3.413333 512.003413S231.120213 3.40992 512.006827 3.40992 1020.586667 231.1168 1020.586667 512.003413c0 280.89344-227.730773 508.586667-508.57984 508.586667z m278.278826-537.378133a19.13856 19.13856 0 0 0-19.135146-19.135147h-211.162454V252.914347a19.135147 19.135147 0 0 0-19.135146-19.135147H483.2256a19.135147 19.135147 0 0 0-19.13856 19.135147v211.11808H252.91776a19.135147 19.135147 0 0 0-19.135147 19.13856v57.57952a19.135147 19.135147 0 0 0 19.135147 19.135146h211.121493v211.2a19.135147 19.135147 0 0 0 19.135147 19.13856h57.57952a19.13856 19.13856 0 0 0 19.13856-19.13856v-211.101013h211.2a19.135147 19.135147 0 0 0 19.131733-19.13856l0.06144-57.634133z",fill:"currentColor","p-id":11321})),xOe=n=>T.createElement("svg",{t:1735127311755,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":1470,...n},T.createElement("path",{d:"M810.005333 554.005333l-256 0 0 256-84.010667 0 0-256-256 0 0-84.010667 256 0 0-256 84.010667 0 0 256 256 0 0 84.010667z",fill:"currentColor","p-id":1471})),ROe=n=>T.createElement("svg",{t:1735120231535,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":5109,...n},T.createElement("path",{d:"M469.333333 128a42.666667 42.666667 0 0 1 0 85.333333H213.333333v597.333334h597.333334v-256l0.298666-4.992A42.666667 42.666667 0 0 1 896 554.666667v256a85.333333 85.333333 0 0 1-85.333333 85.333333H213.333333a85.333333 85.333333 0 0 1-85.333333-85.333333V213.333333a85.333333 85.333333 0 0 1 85.333333-85.333333z m414.72 12.501333a42.666667 42.666667 0 0 1 0 60.330667L491.861333 593.066667a42.666667 42.666667 0 0 1-60.330666-60.330667l392.192-392.192a42.666667 42.666667 0 0 1 60.330666 0z",fill:"currentColor","p-id":5110})),AOe=n=>T.createElement("svg",{t:1745111861903,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":9457,...n},T.createElement("path",{d:"M69.157287 700.35703l-35.836982 155.634895c-0.511957 2.047828-1.023914 3.583698-1.535871 5.631526l-19.454362 84.984845v1.023913l-0.511957 1.535871c-8.19131 43.516336 30.205457 81.913103 73.721793 73.721793l2.047828-0.511957h0.511956l84.984845-19.454362h0.511957l163.826205-37.372853-268.265412-265.193671zM981.976428 248.299093L764.906705 31.22937c-41.468508-41.468508-110.070732-41.468508-151.53924 0L537.597845 106.998991l368.608963 368.608963 75.76962-75.76962c41.980465-41.468508 41.980465-110.070732 0-151.539241zM496.641293 147.443585l-375.264403 375.264403c-9.727181 63.482655 4.095655 105.46312 69.114181 100.343551L450.565173 371.168748l23.03806 23.03806L220.184571 639.43416c15.870664 102.903336 82.937017 143.34793 173.553387 155.634895-11.775009 71.673965 7.167397 115.702258 96.247896 96.247896l375.264402-375.264403-272.361067-272.361067L496.641293 147.443585z",fill:"currentColor","p-id":9458})),DOe=n=>T.createElement("svg",{t:1734839170370,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":14940,...n},T.createElement("path",{d:"M849.340051 799.881616c66.621327-77.68736 106.876146-178.648796 106.876146-289.01544 0-245.333568-198.88263-444.216197-444.216197-444.216197S67.783803 265.531586 67.783803 510.866177s198.88263 444.216197 444.216197 444.216197c110.366643 0 211.32808-40.254819 289.01544-106.876146l96.868211 96.868211c13.343913 13.343913 34.979676 13.343913 48.324612 0s13.343913-34.979676 0-48.324612L849.340051 799.881616zM512.313132 882.035708c-204.817806 0-370.855376-166.037571-370.855376-370.855376s166.037571-370.855376 370.855376-370.855376 370.855376 166.037571 370.855376 370.855376S717.130937 882.035708 512.313132 882.035708z",fill:"currentColor","p-id":14941})),h5=n=>T.createElement("svg",{t:1734832919596,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":10339,...n},T.createElement("path",{d:"M933.464007 512c0-59.806107 37.527708-110.542652 90.189092-130.818441-12.582573-49.328475-31.985482-95.798856-57.347103-138.479935-51.578726 22.906709-113.991194 13.570063-156.287509-28.725228-42.289152-42.295292-51.631938-104.712877-28.723182-156.289556-42.683125-25.355481-89.151459-44.757367-138.481981-57.33994-20.273742 52.661384-71.012334 90.182952-130.813325 90.182952-59.808154 0-110.546745-37.521568-130.820488-90.182952C331.84899 12.929474 285.380656 32.330336 242.697531 57.68684c22.908756 51.576679 13.566994 113.994264-28.723182 156.289556-42.297338 42.295292-104.709807 51.631938-156.287509 28.725228-25.361621 42.681078-44.757367 89.151459-57.33994 138.479935 52.661384 20.275789 90.180905 71.012334 90.180905 130.818441S53.008284 622.538559 0.346901 642.818441c12.582573 49.328475 31.985482 95.798856 57.33994 138.479935 51.578726-22.906709 113.991194-13.570063 156.287509 28.725228 42.289152 42.291199 51.631938 104.70776 28.723182 156.287509 42.683125 25.355481 89.151459 44.759413 138.481981 57.341986 20.273742-52.66343 71.012334-90.187045 130.820488-90.187045 59.799968 0 110.538559 37.523615 130.813325 90.187045 49.330522-12.582573 95.798856-31.985482 138.481981-57.341986-22.908756-51.580772-13.566994-113.996311 28.723182-156.287509 42.297338-42.295292 104.708783-51.631938 156.287509-28.725228 25.354458-42.681078 44.757367-89.151459 57.347103-138.479935C970.991716 622.538559 933.464007 571.806107 933.464007 512zM512 652.500964c-77.599356 0-140.503011-62.904679-140.503011-140.500964s62.904679-140.500964 140.503011-140.500964c77.591169 0 140.495848 62.904679 140.495848 140.500964S589.591169 652.500964 512 652.500964z",fill:"currentColor","p-id":10340})),kOe=n=>T.createElement("svg",{t:1734832829969,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":9182,...n},T.createElement("path",{d:"M948.48 831.488l-134.464-279.744-0.064-0.064-19.392-40.32-83.136-172.864V128H729.6c17.664 0 32-14.336 32-32s-14.336-32-32-32H281.6c-17.664 0-32 14.336-32 32s14.336 32 32 32h24.576v210.496l-95.36 198.272-6.4 13.248c-0.064 0.128-0.128 0.32-0.192 0.448L69.12 831.488c-17.664 36.736-15.232 79.296 6.464 113.856 21.696 34.496 59.008 55.104 99.776 55.104h666.88c40.768 0 78.08-20.608 99.776-55.104 21.696-34.56 24.128-77.12 6.464-113.856z m-360.128-182.208c-49.216 22.4-169.152-28.48-227.84-83.968a207.84 207.84 0 0 1-10.368-10.752c-1.152-1.28-2.368-2.56-3.648-3.776-1.024-1.088-2.112-2.048-3.264-3.072-1.088-0.96-2.24-1.92-3.392-2.816-0.256-0.192-0.448-0.384-0.704-0.576-1.152-0.896-2.24-1.728-3.392-2.496-1.344-0.96-2.688-1.792-4.032-2.624-1.216-0.768-2.432-1.472-3.648-2.112-5.824-3.264-12.16-5.76-18.88-7.616-1.536-0.448-3.136-0.896-4.8-1.216-1.6-0.384-3.264-0.704-4.992-1.024a0.192 0.192 0 0 0-0.256 0c-1.472-0.32-3.072-0.576-4.608-0.768-0.32-0.064-0.64-0.064-0.96-0.128-1.408-0.192-2.88-0.32-4.416-0.448-0.192-0.064-0.448-0.064-0.704-0.064-0.448-0.064-0.832-0.128-1.28-0.128L367.04 359.68c2.048-4.352 3.136-9.088 3.136-13.888V132.352h277.248v213.44c0 4.8 1.088 9.536 3.136 13.888l95.232 197.952c-44.672 35.968-117.376 73.408-157.44 91.648z",fill:"currentColor","p-id":9183})),NOe=n=>T.createElement("svg",{t:1735016617676,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4263,...n},T.createElement("path",{d:"M528.4 492.6c-10.6 10.7-10.6 28 0 38.7l239 241.3C699.2 845 602.8 890.2 495.9 890.2c-207 0-374.7-169.3-374.7-378.3 0-208.9 167.7-378.2 374.7-378.2 106.9 0 203.3 45.2 271.6 117.6L528.4 492.6z m-52.4-115c42 0 76-34.3 76-76.7 0-42.4-34-76.7-76-76.7s-76 34.4-76 76.7c0 42.4 34.1 76.7 76 76.7z m397.3 198.5c7.6 2.7 13.7 8.3 17.2 15.7 3.4 7.4 3.9 15.7 1.1 23.4-4.3 12.1-15.8 20.2-28.5 20.2-3.5 0-6.9-0.6-10.2-1.8L718.5 585c-7.6-2.7-13.7-8.3-17.2-15.7-3.4-7.4-3.9-15.7-1.1-23.4 4.3-12.1 15.8-20.3 28.5-20.3 3.5 0 6.9 0.6 10.2 1.8l134.4 48.7zM721.5 450.5c1.5-8.1 6-15 12.6-19.6l121.3-84c5.1-3.5 11-5.4 17.1-5.4 10 0 19.4 5 25 13.3 9.5 13.9 5.9 33-7.8 42.5l-121.3 83.9c-5.1 3.5-11 5.4-17.1 5.4-10 0-19.3-5-25-13.3-4.6-6.7-6.3-14.8-4.8-22.8z",fill:"currentColor","p-id":4264})),$Oe=n=>T.createElement("svg",{t:1734831752503,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4061,...n},T.createElement("path",{d:"M785.171864 102.424232H136.60875q-136.517822 0-136.563803 136.563803V887.436197q0 136.517822 136.563803 136.563803h648.563114q136.517822 0 136.563803-136.563803V238.988035q0-136.517822-136.563803-136.563803z m-207.305693 697.969783l-37.336636-136.448851h-172.429045l-37.336636 136.448851H222.984206l170.129991-531.541269h125.045543l170.911669 531.541269z",fill:"currentColor","p-id":4062}),T.createElement("path",{d:"M454.981738 349.434586h-2.873817a3810.383013 3810.383013 0 0 1-45.245381 173.785487l-15.840482 58.212045h126.447966l-15.840481-58.212045c-16.415245-55.315238-30.807323-116.309138-46.647805-173.785487z",fill:"currentColor","p-id":4063}),T.createElement("path",{d:"M984.040029 40.004918A136.609785 136.609785 0 0 0 887.479764 0.001379H239.031603a136.586794 136.586794 0 0 0-136.563804 123.919007v12.644797l28.945089 28.99107h72.397208L155.690898 117.437054a85.064995 85.064995 0 0 1 83.294724-66.212753h648.448161a85.317891 85.317891 0 0 1 85.432844 85.340882v648.448161a84.674156 84.674156 0 0 1-66.212754 83.294724l-63.913699-63.844728v72.397208l44.73959 44.73959h11.93209a136.356889 136.356889 0 0 0 124.539751-136.563804V136.565183a136.081002 136.081002 0 0 0-39.888586-96.560265z",fill:"currentColor","p-id":4064})),LOe=async n=>{try{const e=q_(Ua,`users/${n}/words`);return(await i5(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching words:",e),e}},nk=async(n,e)=>{try{const t=q_(Ua,`users/${n}/words`);return(await a5(t,{...e,createdAt:sOe()})).id}catch(t){throw console.error("Error adding word:",t),t}},MOe=async(n,e)=>{try{const t=Ad(Ua,`users/${n}/words/${e}`);await nOe(t)}catch(t){throw console.error("Error deleting word:",t),t}},FOe=async(n,e,t)=>{try{const r=Ad(Ua,`users/${n}/words/${e}`);await iI(r,t)}catch(r){throw console.error("Error updating word:",r),r}},jOe=async(n,e)=>{try{const t=Ad(Ua,`users/${n}/words/${e}`),r=await tOe(t);if(!r.exists())throw new Error("Word not found");return{id:r.id,...r.data()}}catch(t){throw console.error("Error fetching word:",t),t}},VOe=async(n,e,t)=>{const{id:r,...s}=t,i=Ad(Ua,"users",n,"words",e);await iI(i,s)},uC=()=>{const n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999).getTime()},UOe=7;class BOe{constructor(){Us(this,"words",[]);Us(this,"loading",!1);Us(this,"initialized",!1);p1(this)}get todayWords(){const e=uC();return this.words.filter(t=>t.nextReviewDate<=e).length}get completedWordsCount(){return this.words.filter(e=>e.stage===UOe).length}async loadWords(){var e;if(!(!((e=Ce.user)!=null&&e.uid)||this.loading)){this.loading=!0;try{const t=await LOe(Ce.user.uid);eo(()=>{this.words=t,this.initialized=!0})}catch(t){console.error("Error loading words:",t)}finally{eo(()=>{this.loading=!1})}}}updateWords(e){this.words=e}}const vn=new BOe,HOe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class Qy{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||HOe,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Qy(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qy(this.logger,e)}}var Ni=new Qy;class eb{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(t)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&[].concat(this.observers[e]).forEach(a=>{a(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(a=>{a.apply(a,[e,...r])})}}function eh(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t}function rk(n){return n==null?"":""+n}function zOe(n,e,t){n.forEach(r=>{e[r]&&(t[r]=e[r])})}function oI(n,e,t){function r(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function s(){return!n||typeof n=="string"}const i=typeof e!="string"?[].concat(e):e.split(".");for(;i.length>1;){if(s())return{};const a=r(i.shift());!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={}}return s()?{}:{obj:n,k:r(i.shift())}}function sk(n,e,t){const{obj:r,k:s}=oI(n,e,Object);r[s]=t}function KOe(n,e,t,r){const{obj:s,k:i}=oI(n,e,Object);s[i]=s[i]||[],s[i].push(t)}function Zy(n,e){const{obj:t,k:r}=oI(n,e);if(t)return t[r]}function WOe(n,e,t){const r=Zy(n,t);return r!==void 0?r:Zy(e,t)}function f5(n,e,t){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?typeof n[r]=="string"||n[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?t&&(n[r]=e[r]):f5(n[r],e[r],t):n[r]=e[r]);return n}function Lu(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var GOe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function YOe(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>GOe[e]):n}const qOe=[" ",",","?","!",";"];function XOe(n,e,t){e=e||"",t=t||"";const r=qOe.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(r.length===0)return!0;const s=new RegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(n);if(!i){const a=n.indexOf(t);a>0&&!s.test(n.substring(0,a))&&(i=!0)}return i}function Jy(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let i=0;i<r.length;++i){if(!s||typeof s[r[i]]=="string"&&i+1<r.length)return;if(s[r[i]]===void 0){let a=2,o=r.slice(i,i+a).join(t),l=s[o];for(;l===void 0&&r.length>i+a;)a++,o=r.slice(i,i+a).join(t),l=s[o];if(l===void 0)return;if(l===null)return null;if(e.endsWith(o)){if(typeof l=="string")return l;if(o&&typeof l[o]=="string")return l[o]}const u=r.slice(i+a).join(t);return u?Jy(l,u,t):void 0}s=s[r[i]]}return s}function ev(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class ik extends eb{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o=[e,t];r&&typeof r!="string"&&(o=o.concat(r)),r&&typeof r=="string"&&(o=o.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(o=e.split("."));const l=Zy(this.data,o);return l||!a||typeof r!="string"?l:Jy(this.data&&this.data[e]&&this.data[e][t],r,i)}addResource(e,t,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,t];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=t,t=o[1]),this.addNamespaces(t),sk(this.data,o,s),i.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Object.prototype.toString.apply(r[i])==="[object Array]")&&this.addResource(e,t,i,r[i],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=t,t=o[1]),this.addNamespaces(t);let l=Zy(this.data,o)||{};s?f5(l,r,i):l={...l,...r},sk(this.data,o,l),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var p5={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,t,r,s))}),e}};const ak={};class tv extends eb{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),zOe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ni.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!XOe(e,r,s);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return typeof i=="string"&&(i=[i]),{key:e,namespaces:i}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),l=o[o.length-1],u=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const E=t.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${E}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${E}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}const h=this.resolve(e,t);let f=h&&h.res;const p=h&&h.usedKey||a,_=h&&h.exactUsedKey||a,m=Object.prototype.toString.apply(f),v=["[object Number]","[object Function]","[object RegExp]"],y=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&v.indexOf(m)<0&&!(typeof y=="string"&&m==="[object Array]")){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...t,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(h.res=E,h.usedParams=this.getUsedParamsDetails(t),h):E}if(i){const E=m==="[object Array]",S=E?[]:{},C=E?_:p;for(const O in f)if(Object.prototype.hasOwnProperty.call(f,O)){const I=`${C}${i}${O}`;S[O]=this.translate(I,{...t,joinArrays:!1,ns:o}),S[O]===I&&(S[O]=f[O])}f=S}}else if(b&&typeof y=="string"&&m==="[object Array]")f=f.join(y),f&&(f=this.extendTranslation(f,e,t,r));else{let E=!1,S=!1;const C=t.count!==void 0&&typeof t.count!="string",O=tv.hasDefaultValue(t),I=C?this.pluralResolver.getSuffix(u,t.count,t):"",P=t.ordinal&&C?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",x=t[`defaultValue${I}`]||t[`defaultValue${P}`]||t.defaultValue;!this.isValidLookup(f)&&O&&(E=!0,f=x),this.isValidLookup(f)||(S=!0,f=a);const N=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:f,L=O&&x!==f&&this.options.updateMissing;if(S||E||L){if(this.logger.log(L?"updateKey":"missingKey",u,l,a,L?x:f),i){const W=this.resolve(a,{...t,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let W=0;W<B.length;W++)V.push(B[W]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(t.lng||this.language):V.push(t.lng||this.language);const F=(W,$,j)=>{const M=O&&j!==f?j:N;this.options.missingKeyHandler?this.options.missingKeyHandler(W,l,$,M,L,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(W,l,$,M,L,t),this.emit("missingKey",W,l,$,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?V.forEach(W=>{this.pluralResolver.getSuffixes(W,t).forEach($=>{F([W],a+$,t[`defaultValue${$}`]||x)})}):F(V,a,x))}f=this.extendTranslation(f,e,t,h,r),S&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${a}`),(S||E)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,E?f:void 0):f=this.options.parseMissingKeyHandler(f))}return s?(h.res=f,h.usedParams=this.getUsedParamsDetails(t),h):f}extendTranslation(e,t,r,s,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language,r),u){const f=e.match(this.interpolator.nestingRegexp),p=f&&f.length;d<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,p=new Array(f),_=0;_<f;_++)p[_]=arguments[_];return i&&i[0]===p[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):a.translate(...p,t)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=typeof o=="string"?[o]:o;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=p5.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,a,o;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,t),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=t.count!==void 0&&typeof t.count!="string",p=f&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),_=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",m=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(v=>{this.isValidLookup(r)||(o=v,!ak[`${m[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(ak[`${m[0]}-${v}`]=!0,this.logger.warn(`key "${s}" for languages "${m.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(y=>{if(this.isValidLookup(r))return;a=y;const b=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,d,y,v,t);else{let E;f&&(E=this.pluralResolver.getSuffix(y,t.count,t));const S=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(b.push(d+E),t.ordinal&&E.indexOf(C)===0&&b.push(d+E.replace(C,this.options.pluralSeparator)),p&&b.push(d+S)),_){const O=`${d}${this.options.contextSeparator}${t.context}`;b.push(O),f&&(b.push(O+E),t.ordinal&&E.indexOf(C)===0&&b.push(O+E.replace(C,this.options.pluralSeparator)),p&&b.push(O+S))}}let w;for(;w=b.pop();)this.isValidLookup(r)||(i=w,r=this.getResource(y,v,w,t))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of t)delete s[i]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}function G0(n){return n.charAt(0).toUpperCase()+n.slice(1)}class ok{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ni.create("languageUtils")}getScriptPartFromCode(e){if(e=ev(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=ev(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=G0(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=G0(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=G0(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&i.indexOf(s)===0)return i})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):typeof e=="string"&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}let QOe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ZOe={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const JOe=["v1","v2","v3"],eIe=["v4"],lk={zero:0,one:1,two:2,few:3,many:4,other:5};function tIe(){const n={};return QOe.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:ZOe[e.fc]}})}),n}class nIe{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Ni.create("pluralResolver"),(!this.options.compatibilityJSON||eIe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=tIe()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(ev(e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>lk[s]-lk[i]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!JOe.includes(this.options.compatibilityJSON)}}function uk(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=WOe(n,e,t);return!i&&s&&typeof t=="string"&&(i=Jy(n,t,r),i===void 0&&(i=Jy(e,t,r))),i}class rIe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ni.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=t.escape!==void 0?t.escape:YOe,this.escapeValue=t.escapeValue!==void 0?t.escapeValue:!0,this.useRawValueToEscape=t.useRawValueToEscape!==void 0?t.useRawValueToEscape:!1,this.prefix=t.prefix?Lu(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Lu(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Lu(t.nestingPrefix):t.nestingPrefixEscaped||Lu("$t("),this.nestingSuffix=t.nestingSuffix?Lu(t.nestingSuffix):t.nestingSuffixEscaped||Lu(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=t.alwaysFormat!==void 0?t.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,t,r,s){let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(_){return _.replace(/\$/g,"$$$$")}const d=_=>{if(_.indexOf(this.formatSeparator)<0){const b=uk(t,l,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...s,...t,interpolationkey:_}):b}const m=_.split(this.formatSeparator),v=m.shift().trim(),y=m.join(this.formatSeparator).trim();return this.format(uk(t,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...s,...t,interpolationkey:v})};this.resetRegExp();const h=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>u(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?u(this.escape(_)):u(_)}].forEach(_=>{for(o=0;i=_.regex.exec(e);){const m=i[1].trim();if(a=d(m),a===void 0)if(typeof h=="function"){const y=h(e,i,s);a=typeof y=="string"?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,m))a="";else if(f){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=rk(a));const v=_.safeValue(a);if(e=e.replace(i[0],v),f?(_.regex.lastIndex+=a.length,_.regex.lastIndex-=i[0].length):_.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,a;function o(l,u){const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,a);const p=f.match(/'/g),_=f.match(/"/g);(p&&p.length%2===0&&!_||_.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),u&&(a={...u,...a})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${d}${f}`}return delete a.defaultValue,l}for(;s=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=d.shift(),l=d,u=!0}if(i=t(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&typeof i!="string")return i;typeof i!="string"&&(i=rk(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}function sIe(n){let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(a=>{if(!a)return;const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");t[o.trim()]||(t[o.trim()]=u),u==="false"&&(t[o.trim()]=!1),u==="true"&&(t[o.trim()]=!0),isNaN(u)||(t[o.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:t}}function Mu(n){const e={};return function(r,s,i){const a=s+JSON.stringify(i);let o=e[a];return o||(o=n(ev(s),i),e[a]=o),o(r)}}class iIe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ni.create("formatter"),this.options=e,this.formats={number:Mu((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return i=>s.format(i)}),currency:Mu((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return i=>s.format(i)}),datetime:Mu((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return i=>s.format(i)}),relativetime:Mu((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return i=>s.format(i,r.range||"day")}),list:Mu((t,r)=>{const s=new Intl.ListFormat(t,{...r});return i=>s.format(i)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Mu(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((o,l)=>{const{formatName:u,formatOptions:d}=sIe(l);if(this.formats[u]){let h=o;try{const f=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=f.locale||f.lng||s.locale||s.lng||r;h=this.formats[u](o,p,{...d,...s,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}function aIe(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}class oIe extends eb{constructor(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Ni.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,t,r,s){const i={},a={},o={},l={};return e.forEach(u=>{let d=!0;t.forEach(h=>{const f=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,d=!1,a[f]===void 0&&(a[f]=!0),i[f]===void 0&&(i[f]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const s=e.split("|"),i=s[0],a=s[1];t&&this.emit("failedLoading",i,a,t),r&&this.store.addResourceBundle(i,a,r),this.state[e]=t?-1:2;const o={};this.queue.forEach(l=>{KOe(l.loaded,[i],a),aIe(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const d=l.loaded[u];d.length&&d.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,i*2,a)},i);return}a(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const i=this.queueLoad(e,t,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,t,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,t,r,s,l):d=u(e,t,r,s),d&&typeof d.then=="function"?d.then(h=>o(null,h)).catch(o):o(null,d)}catch(d){o(d)}else u(e,t,r,s,o,l)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}function ck(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(s=>{t[s]=r[s]})}return t},interpolation:{escapeValue:!0,format:(n,e,t,r)=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function dk(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function zg(){}function lIe(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class Gf extends eb{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=dk(e),this.services={},this.logger=Ni,this.modules={external:[]},lIe(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=ck();this.options={...s,...this.options,...dk(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function i(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Ni.init(i(this.modules.logger),this.options):Ni.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=iIe);const h=new ok(this.options);this.store=new ik(this.options.resources,this.options);const f=this.services;f.logger=Ni,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new nIe(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=i(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new rIe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new oIe(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var _=arguments.length,m=new Array(_>1?_-1:0),v=1;v<_;v++)m[v-1]=arguments[v];e.emit(p,...m)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new tv(this.services,this.options),this.translator.on("*",function(p){for(var _=arguments.length,m=new Array(_>1?_-1:0),v=1;v<_;v++)m[v-1]=arguments[v];e.emit(p,...m)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=zg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=eh(),u=()=>{const d=(h,f)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zg;const s=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,t,r){const s=eh();return e||(e=this.languages),t||(t=this.options.ns),r||(r=zg),this.services.backendConnector.reload(e,t,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&p5.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=eh();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(l,function(){return r.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{a(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,t,r){var s=this;const i=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([a,o].concat(d))}else l={...o};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix=l.keyPrefix||r||i.keyPrefix;const f=s.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(a)?p=a.map(_=>`${l.keyPrefix}${f}${_}`):p=l.keyPrefix?`${l.keyPrefix}${f}${a}`:a,s.t(p,l)};return typeof e=="string"?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,t){const r=eh();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=eh();typeof e=="string"&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0);return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new ok(ck());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Gf(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zg;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Gf(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new ik(this.store.data,s),i.services.resourceStore=i.store),i.translator=new tv(i.services,s),i.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];i.emit(o,...u)}),i.init(s,t),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Jn=Gf.createInstance();Jn.createInstance=Gf.createInstance;Jn.createInstance;Jn.dir;Jn.init;Jn.loadResources;Jn.reloadResources;Jn.use;Jn.changeLanguage;Jn.getFixedT;Jn.t;Jn.exists;Jn.setDefaultNamespace;Jn.hasLoadedNamespace;Jn.loadNamespaces;Jn.loadLanguages;const uIe=async n=>{try{const e=q_(Ua,`users/${n}/groups`),t=qTe(e,XTe("order"));return(await i5(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error in getGroups:",e),e}},cIe=async(n,e)=>{try{const t=q_(Ua,`users/${n}/groups`);return await a5(t,{...e,created_at:Date.now()})}catch(t){throw console.error("Error in createGroup:",t),t}},dIe=async(n,e,t)=>{try{const r=Ad(Ua,`users/${n}/groups/${e}`);return await iI(r,{...t,updated_at:Date.now()}),!0}catch(r){throw console.error("Error in updateGroup:",r),r}};class hIe{constructor(){Us(this,"rawGroups",[]);Us(this,"loading",!1);Us(this,"initialized",!1);Us(this,"currentGroupId","default");p1(this,{groups:$c,currentGroup:$c})}get allGroups(){return[this.defaultGroup,...this.rawGroups]}get groups(){return this.rawGroups}get currentGroup(){return this.groups.find(e=>e.id===this.currentGroupId)}get defaultGroup(){return{id:"default",name:Jn.t("common.all"),order:-1,created_at:0}}async loadGroups(){var e;if(!(!((e=Ce.user)!=null&&e.uid)||this.loading)){this.loading=!0;try{const t=await uIe(Ce.user.uid);eo(()=>{this.rawGroups=t,this.initialized=!0})}catch(t){console.error("Error loading groups:",t)}finally{eo(()=>{this.loading=!1})}}}async createGroup(e){var t;if((t=Ce.user)!=null&&t.uid){this.loading=!0;try{const r={name:e,order:this.rawGroups.length,created_at:Date.now()},s=await cIe(Ce.user.uid,r);eo(()=>{this.rawGroups.push({id:s.id,...r}),this.currentGroupId=s.id})}catch(r){console.error("Error creating group:",r)}finally{eo(()=>{this.loading=!1})}}}async updateGroup(e,t){var r;if(!((r=Ce.user)!=null&&r.uid)){console.error("No user ID available");return}if(e==="default"){console.error("Cannot update default group");return}this.loading=!0;try{await dIe(Ce.user.uid,e,{name:t}),eo(()=>{const s=this.rawGroups.findIndex(i=>i.id===e);s!==-1&&(this.rawGroups[s]={...this.rawGroups[s],name:t})})}catch(s){console.error("Error updating group:",s)}finally{eo(()=>{this.loading=!1})}}setCurrentGroup(e){this.groups.some(t=>t.id===e)?this.currentGroupId=e:(console.error(`Invalid group ID: ${e}`),this.currentGroupId="default")}}const _n=new hIe,fIe="_layout_vje1q_1",pIe="_content_vje1q_7",gIe="_nav_vje1q_11",mIe="_navItem_vje1q_22",yIe="_title_vje1q_33",vIe="_active_vje1q_41",_Ie="_icon_vje1q_47",Ws={layout:fIe,content:pIe,nav:gIe,navItem:mIe,title:yIe,active:vIe,icon:_Ie},bIe=Ms(({children:n})=>{const e=su(),t=bv(),{t:r}=Fs();T.useEffect(()=>{Ce.user&&(vn.initialized||vn.loadWords(),_n.initialized||_n.loadGroups())},[Ce.user]);const s=[{key:"/",text:r("nav.task"),icon:R.jsx(kOe,{className:Ws.icon})},{key:"/practise",text:r("nav.practise"),icon:R.jsx(AOe,{className:Ws.icon})},{key:"/add",text:r("nav.add"),icon:R.jsx(POe,{className:Ws.icon})},{key:"/word",text:r("nav.wordlist"),icon:R.jsx($Oe,{className:Ws.icon})},{key:"/profile",text:r("nav.profile"),icon:R.jsx(h5,{className:Ws.icon})}];return R.jsxs("div",{className:Ws.layout,children:[R.jsx("main",{className:Ws.content,children:n}),R.jsx("nav",{className:Ws.nav,children:s.map(i=>R.jsxs("div",{className:`${Ws.navItem} ${t.pathname===i.key?Ws.active:""}`,onClick:()=>e(i.key),children:[i.icon,R.jsx("div",{className:Ws.title,children:i.text})]},i.key))})]})});function g5(){const[n,e]=T.useState(null);return T.useEffect(()=>{const r=()=>{const s=window.speechSynthesis.getVoices(),i=s.find(a=>a.name==="Kyoko")||s.find(a=>(a.lang.toLowerCase().includes("ja")||a.name.toLowerCase().includes("japanese"))&&a.name.toLowerCase().includes("female"))||s.find(a=>a.lang.toLowerCase().includes("ja")||a.name.toLowerCase().includes("japanese"));e(i||null)};return speechSynthesis.onvoiceschanged=r,r(),()=>{speechSynthesis.onvoiceschanged=null}},[]),T.useCallback((r,s)=>{s==null||s.stopPropagation(),window.speechSynthesis.cancel();const i=new SpeechSynthesisUtterance(r);i.lang="ja-JP",n&&(i.voice=n),window.speechSynthesis.speak(i)},[n])}const wIe="_answerWrapper_1tjyc_1",EIe="_japanese_1tjyc_4",SIe="_pronunciation_1tjyc_11",CIe="_voice_1tjyc_17",TIe="_icon_1tjyc_19",OIe="_item_1tjyc_26",IIe="_label_1tjyc_29",ia={answerWrapper:wIe,japanese:EIe,pronunciation:SIe,voice:CIe,icon:TIe,item:OIe,label:IIe},m5=({word:n})=>{const{t:e}=Fs(),t=g5();return R.jsxs("div",{className:ia.answerWrapper,children:[R.jsxs("div",{className:ia.japanese,children:[n.japanese,R.jsx(Re,{type:"tertiary",size:"small",className:ia.voice,onClick:r=>t(n.japanese,r),style:{marginLeft:8},children:e("common.pronunciation")}),R.jsx("div",{className:ia.pronunciation,children:n.pronunciation})]}),R.jsxs("div",{className:ia.item,children:[R.jsx(Jt,{color:"blue",size:"large",className:ia.label,children:e("common.chinese")}),n.chinese]}),n.example&&R.jsxs("div",{className:ia.item,children:[R.jsx(Jt,{color:"blue",size:"large",className:ia.label,children:e("common.example")}),n.example,R.jsx(Re,{type:"tertiary",size:"small",className:ia.voice,onClick:r=>t(n.example,r),style:{marginLeft:8},children:e("common.pronunciation")})]})]})};function y5(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=y5(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function nv(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=y5(n))&&(r&&(r+=" "),r+=e);return r}const PIe="_header_1as7z_1",xIe="_box_1as7z_7",RIe="_boxTitle_1as7z_15",AIe="_num_1as7z_19",DIe="_percent_1as7z_27",kIe="_today_1as7z_37",NIe="_reviewArea_1as7z_43",$Ie="_completedMessage_1as7z_50",LIe="_wordCard_1as7z_54",MIe="_statistics_1as7z_62",FIe="_left_1as7z_71",jIe="_groupInfo_1as7z_74",VIe="_question_1as7z_78",UIe="_cardFoot_1as7z_82",BIe="_button_1as7z_88",HIe="_button2_1as7z_89",Lt={header:PIe,box:xIe,boxTitle:RIe,num:AIe,percent:DIe,today:kIe,reviewArea:NIe,completedMessage:$Ie,wordCard:LIe,statistics:MIe,left:FIe,groupInfo:jIe,question:VIe,cardFoot:UIe,button:BIe,button2:HIe},{Text:zIe,Title:KIe}=Nr,_h=[1,2,4,7,15,30,60],cC=7,hk=n=>{if(n===cC)return 1/0;const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()+_h[n]).getTime()},WIe=Ms(()=>{const{t:n}=Fs(),[e,t]=T.useState(!1),[r,s]=T.useState(null),[i,a]=T.useState(!1),o=h=>({word:h,isJapaneseQuestion:Math.random()<.5});T.useEffect(()=>{const h=uC(),f=vn.words.filter(p=>p.nextReviewDate<=h);s(f[0]?o(f[0]):null)},[vn.words]);const l=T.useCallback(h=>{if(!h)return n("common.all");const f=_n.groups.find(p=>p.id===h);return f?f.name:n("common.all")},[_n.groups,n]),u=T.useCallback(async h=>{var f,p;if(r){a(!0);const _=vn.words.map(m=>{if(m.id===r.word.id){let v;return h?m.stage===_h.length-1?v=cC:v=Math.min(m.stage+1,_h.length-1):v=Math.max(0,m.stage-1),{...m,reviewCount:m.reviewCount+1,correctCount:h?m.correctCount+1:m.correctCount,stage:v,nextReviewDate:hk(v)}}return m});try{if(!((f=Ce.user)!=null&&f.uid))return;const m=r.word;let v;h?m.stage===_h.length-1?v=cC:v=Math.min(m.stage+1,_h.length-1):v=Math.max(0,m.stage-1),await FOe((p=Ce.user)==null?void 0:p.uid,r.word.id,{reviewCount:r.word.reviewCount+1,correctCount:h?r.word.correctCount+1:r.word.correctCount,stage:v,nextReviewDate:hk(v)}),vn.updateWords(_);const y=uC(),b=_.filter(w=>w.nextReviewDate<=y);s(b[0]?o(b[0]):null),t(!1)}catch(m){console.error("Error updating word progress in Firestore:",m)}finally{a(!1)}}},[r]),d=vn.todayWords;return R.jsx("div",{className:"container",children:R.jsxs("div",{className:"card",children:[R.jsxs("div",{className:Lt.header,children:[R.jsxs("div",{className:Lt.box,children:[R.jsx("div",{className:Lt.boxTitle,children:n("review.todayReview")}),R.jsx("div",{className:nv(Lt.num,Lt.today),children:d})]}),R.jsxs("div",{className:Lt.box,children:[R.jsx("div",{className:Lt.boxTitle,children:n("review.completedWords")}),R.jsx("div",{className:nv(Lt.num),children:vn.completedWordsCount})]}),R.jsxs("div",{className:Lt.box,children:[R.jsx("div",{className:Lt.boxTitle,children:n("review.totalWords")}),R.jsx("div",{className:Lt.num,children:vn.words.length})]})]}),R.jsx("div",{className:Lt.reviewArea,children:r?R.jsxs("div",{className:Lt.wordCard,children:[R.jsxs("div",{className:Lt.statistics,children:[R.jsxs("div",{className:Lt.left,children:[R.jsx("div",{className:Lt.groupInfo,children:R.jsx(Jt,{color:"blue",size:"large",children:l(r.word.groupId)})}),n("review.accuracy"),"",R.jsxs("span",{children:[r.word.reviewCount===0?"0":(r.word.correctCount/r.word.reviewCount*100).toFixed(1),"%"]})]}),R.jsx(l5,{stage:r==null?void 0:r.word.stage,size:48})]}),e?R.jsxs(R.Fragment,{children:[R.jsx(m5,{word:r.word}),R.jsxs("div",{className:Lt.cardFoot,children:[R.jsx(Re,{theme:"solid",size:"large",className:Lt.button2,onClick:()=>u(!1),loading:i,children:n("review.forgotten")}),R.jsx(Re,{type:"secondary",theme:"solid",size:"large",className:Lt.button,onClick:()=>u(!0),loading:i,children:n("review.remembered")})]})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:Lt.questionWrapper,children:R.jsx(KIe,{heading:4,className:Lt.question,children:r.isJapaneseQuestion?r.word.japanese:r.word.chinese})}),R.jsx("div",{className:Lt.cardFoot,children:R.jsx(Re,{type:"secondary",theme:"solid",size:"large",className:Lt.button,onClick:()=>t(!0),children:n("review.showAnswer")})})]})]}):R.jsx("div",{className:Lt.completedMessage,children:R.jsx(zIe,{type:"secondary",size:"normal",children:n("review.completed")})})})]})})}),GIe="_title_1tfeo_1",YIe="_form_1tfeo_4",qIe="_input_1tfeo_8",XIe="_submitButton_1tfeo_12",gs={title:GIe,form:YIe,input:qIe,submitButton:XIe,"semi-space-medium-vertical":"_semi-space-medium-vertical_1tfeo_15"},{Text:QIe}=Nr,ZIe=Ms(()=>{var w,E;const{t:n}=Fs(),[e,t]=T.useState(""),[r,s]=T.useState(""),[i,a]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState(""),[h,f]=T.useState(""),[p,_]=T.useState(!1),[m,v]=T.useState(!1),y=T.useCallback(async S=>{var C;if(S.preventDefault(),!(!((C=Ce.user)!=null&&C.uid)||p)){if(!e.trim()||!r.trim()){ln.error(n("addWord.requiredFields"));return}_(!0);try{const O={japanese:e.trim(),chinese:r.trim(),pronunciation:i.trim(),example:o.trim(),groupId:u,createdAt:Date.now(),nextReviewDate:Date.now(),reviewCount:0,correctCount:0,stage:0};await nk(Ce.user.uid,O),await vn.loadWords(),t(""),s(""),a(""),l(""),ln.success(n("addWord.addSuccess"))}catch(O){console.error("Error adding word:",O),ln.error(n("addWord.addError"))}finally{_(!1)}}},[e,r,i,o,u,(w=Ce.user)==null?void 0:w.uid,p,n]),b=T.useCallback(async()=>{var S,C,O,I;if(!(!((S=Ce.user)!=null&&S.uid)||!h.trim()||m)){v(!0);try{const P=JSON.parse(h);if(!Array.isArray(P)){ln.error(n("common.invalidJSON"));return}let x=0,D=0;for(const N of P){if(!N.japanese||!N.chinese){D++;continue}const L={japanese:N.japanese.trim(),chinese:N.chinese.trim(),pronunciation:(C=N.pronunciation)==null?void 0:C.trim(),example:(O=N.example)==null?void 0:O.trim(),groupId:(I=N.groupId)==null?void 0:I.trim(),createdAt:Date.now(),nextReviewDate:Date.now(),reviewCount:0,correctCount:0,stage:0};try{await nk(Ce.user.uid,L),x++}catch(V){console.error("Error adding word:",V),D++}}await vn.loadWords(),f(""),ln.success(n("addWord.batchUploadResult",{success:x,error:D}))}catch(P){console.error("Error parsing JSON:",P),ln.error(n("addWord.invalidJSON"))}finally{v(!1)}}},[h,(E=Ce.user)==null?void 0:E.uid,m,n]);return Ce.user?R.jsx("div",{className:"container",children:R.jsxs("div",{className:"card",children:[R.jsx("h2",{className:gs.title,children:n("nav.add")}),R.jsx(Vi,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:R.jsx("form",{onSubmit:y,className:gs.form,children:R.jsxs(Vi,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:[R.jsx(Zt,{value:e,onChange:S=>t(S),placeholder:n("common.japanese"),className:gs.input,size:"large",showClear:!0,disabled:p}),R.jsx(Zt,{value:r,onChange:S=>s(S),placeholder:n("common.chinese"),className:gs.input,size:"large",showClear:!0,disabled:p}),R.jsx(Zt,{value:i,onChange:S=>a(S),placeholder:n("common.pronunciation"),className:gs.input,size:"large",showClear:!0,disabled:p}),R.jsx(Zt,{value:o,onChange:S=>l(S),placeholder:n("common.example"),className:gs.input,size:"large",showClear:!0,disabled:p}),R.jsx(Ls,{value:u,onChange:S=>d(S),disabled:p,size:"large",style:{width:"100%"},placeholder:n("common.group"),children:_n.groups.map(S=>R.jsx(Ls.Option,{value:S.id,children:S.name},S.id))}),R.jsx(Re,{type:"secondary",htmlType:"submit",theme:"solid",size:"large",className:gs.submitButton,loading:p,children:n("common.addButton")})]})})}),R.jsx("h2",{className:gs.title,style:{marginTop:"48px"},children:n("addWord.batchUploadTitle")}),R.jsxs(Vi,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:[R.jsx(Rj,{value:h,onChange:S=>f(S),placeholder:`[
  {"japanese": "1", "chinese": "1", "pronunciation": "", "example": ""},
  {"japanese": "2", "chinese": "2", "pronunciation": "", "example": ""}
]`,className:gs.jsonInput,rows:5,disabled:m}),R.jsx(Re,{type:"secondary",theme:"solid",size:"large",className:gs.submitButton,loading:m,onClick:b,children:n("addWord.batchUploadButton")})]})]})}):R.jsx("div",{className:gs.container,children:R.jsx("div",{className:gs.card,children:R.jsx(QIe,{children:n("common.pleaseLogin")})})})}),JIe="_reviewArea_1uwfs_1",ePe="_completedMessage_1uwfs_8",tPe="_wordCard_1uwfs_12",nPe="_statistics_1uwfs_20",rPe="_left_1uwfs_29",sPe="_groupInfo_1uwfs_32",iPe="_question_1uwfs_36",aPe="_answer_1uwfs_40",oPe="_voice_1uwfs_47",lPe="_icon_1uwfs_49",uPe="_cardFoot_1uwfs_55",cPe="_button_1uwfs_61",dPe="_button2_1uwfs_62",hPe="_stageSelector_1uwfs_71",fPe="_tag_1uwfs_76",pPe="_questionTypeSelector_1uwfs_82",Bn={reviewArea:JIe,completedMessage:ePe,wordCard:tPe,statistics:nPe,left:rPe,groupInfo:sPe,question:iPe,answer:aPe,voice:oPe,icon:lPe,cardFoot:uPe,button:cPe,button2:dPe,stageSelector:hPe,tag:fPe,questionTypeSelector:pPe},{Text:gPe,Title:mPe}=Nr,yPe=7,vPe=Ms(()=>{const{t:n}=Fs(),[e,t]=T.useState(!1),[r,s]=T.useState(null),[i,a]=T.useState([]),[o,l]=T.useState([0,1,2,3,4,5,6]),[u,d]=T.useState(!1);T.useEffect(()=>{const _=vn.words.filter(m=>o.includes(m.stage)).map(m=>({word:m,isJapaneseQuestion:u}));a(_),s(_[Math.floor(Math.random()*_.length)])},[vn.words,o,u]);const h=T.useCallback(p=>{if(!p)return n("common.all");const _=_n.groups.find(m=>m.id===p);return _?_.name:n("common.all")},[_n.groups,n]),f=T.useCallback(()=>{t(!1),s(i[Math.floor(Math.random()*i.length)])},[i]);return R.jsxs("div",{className:"container",children:[R.jsx("div",{className:Bn.stageSelector,children:Array.from({length:yPe+1},(p,_)=>R.jsx(Jt,{color:o.includes(_)?"blue":"white",className:Bn.tag,onClick:()=>{l(m=>m.includes(_)?m.filter(v=>v!==_):[...m,_])},children:_},_))}),R.jsxs("div",{className:Bn.questionTypeSelector,children:[R.jsx(Jt,{color:u?"white":"blue",onClick:()=>d(!1),className:Bn.tag,children:n("practise.chinese")}),R.jsx(Jt,{color:u?"blue":"white",onClick:()=>d(!0),className:Bn.tag,children:n("practise.japanese")})]}),R.jsx("div",{className:Bn.reviewArea,children:r?R.jsxs("div",{className:Bn.wordCard,children:[R.jsxs("div",{className:Bn.statistics,children:[R.jsxs("div",{className:Bn.left,children:[R.jsx("div",{className:Bn.groupInfo,children:R.jsx(Jt,{color:"blue",size:"large",children:h(r.word.groupId)})}),n("review.accuracy"),"",R.jsxs("span",{children:[r.word.reviewCount===0?"0":(r.word.correctCount/r.word.reviewCount*100).toFixed(1),"%"]})]}),R.jsx(l5,{stage:r==null?void 0:r.word.stage,size:48})]}),e?R.jsxs(R.Fragment,{children:[R.jsx(m5,{word:r.word}),R.jsx("div",{className:Bn.cardFoot,children:R.jsx(Re,{type:"secondary",theme:"solid",size:"large",className:Bn.button,onClick:f,children:n("practise.next")})})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:Bn.questionWrapper,children:R.jsx(mPe,{heading:4,className:Bn.question,children:r.isJapaneseQuestion?r.word.japanese:r.word.chinese})}),R.jsx("div",{className:Bn.cardFoot,children:R.jsx(Re,{type:"secondary",theme:"solid",size:"large",className:Bn.button,onClick:()=>t(!0),children:n("review.showAnswer")})})]})]}):R.jsx("div",{className:Bn.completedMessage,children:R.jsx(gPe,{type:"secondary",size:"normal",children:n("review.completed")})})})]})}),_Pe="_wordList_1vshj_1",bPe="_title_1vshj_6",wPe="_list_1vshj_10",EPe="_wordCard_1vshj_14",SPe="_wordCardBody_1vshj_21",CPe="_wordCardContent_1vshj_25",TPe="_stage_1vshj_35",OPe="_remove_1vshj_52",IPe="_icon_1vshj_55",PPe="_pronunciationContainer_1vshj_59",xPe="_voice_1vshj_64",RPe="_groupContainer_1vshj_75",APe="_tabs_1vshj_84",DPe="_tab_1vshj_84",kPe="_active_1vshj_98",NPe="_setting_1vshj_103",ar={wordList:_Pe,title:bPe,list:wPe,wordCard:EPe,wordCardBody:SPe,wordCardContent:CPe,stage:TPe,remove:OPe,icon:IPe,pronunciationContainer:PPe,voice:xPe,groupContainer:RPe,tabs:APe,tab:DPe,active:kPe,setting:NPe},{Text:th,Title:$Pe}=Nr,LPe=Ms(()=>{const{t:n}=Fs(),e=su(),[t,r]=T.useState(""),s=g5(),i=T.useMemo(()=>{let a=_n.currentGroupId==="default"?vn.words:vn.words.filter(o=>o.groupId===_n.currentGroupId);if(t){const o=t.toLowerCase();a=a.filter(l=>l.japanese.toLowerCase().includes(o)||l.chinese.toLowerCase().includes(o))}return[...a].sort((o,l)=>{if(o.stage!==l.stage)return o.stage-l.stage;const u=o.reviewCount-o.correctCount;return l.reviewCount-l.correctCount-u})},[vn.words,t,_n.currentGroupId]);return Ce.user?R.jsx("div",{className:nv("container",ar.list),children:R.jsxs("div",{className:"card",children:[R.jsx("div",{className:ar.searchContainer,children:R.jsx(Zt,{prefix:R.jsx(DOe,{className:ar.icon}),placeholder:n("common.search"),size:"large",value:t,onChange:a=>r(a),style:{marginBottom:16}})}),R.jsxs("div",{className:ar.groupContainer,children:[R.jsx("div",{className:ar.tabs,children:_n.allGroups.map(a=>R.jsx("div",{role:"button",tabIndex:0,onClick:()=>_n.setCurrentGroup(a.id),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&_n.setCurrentGroup(a.id)},className:nv(ar.tab,{[ar.active]:a.id===_n.currentGroupId}),children:R.jsx("span",{children:a.name})},a.id))}),R.jsx("div",{className:ar.setting,onClick:()=>e("/word/group-setting"),children:R.jsx(h5,{className:ar.icon})})]}),R.jsx(Vi,{vertical:!0,align:"start",style:{width:"100%"},children:vn.loading?R.jsx(th,{type:"tertiary",children:n("common.loading")}):i.length===0?R.jsx(th,{type:"tertiary",children:n(t?"addWord.noSearchResults":"addWord.emptyList")}):i.map(a=>R.jsx("div",{className:ar.wordCard,children:R.jsxs("div",{className:ar.wordCardContent,children:[R.jsxs(Vi,{vertical:!0,align:"start",children:[R.jsx("div",{children:R.jsxs($Pe,{heading:5,className:ar.title,children:[a.japanese," ",R.jsx("span",{className:ar.stage,children:a.stage})]})}),R.jsx(th,{children:a.chinese}),R.jsx(th,{type:"tertiary",size:"small",children:n("addWord.nextReview",{date:new Date(a.nextReviewDate).toLocaleDateString()})})]}),R.jsx(Re,{type:"tertiary",size:"small",className:ar.voice,icon:R.jsx(NOe,{className:ar.icon}),onClick:o=>s(a.japanese,o),style:{marginLeft:8}}),R.jsx(Re,{type:"primary",theme:"borderless",className:ar.remove,onClick:()=>e(`/word/${a.id}`),children:n("common.details")})]})},a.id))})]})}):R.jsx("div",{className:"container",children:R.jsx("div",{className:"card",children:R.jsx(th,{children:n("common.pleaseLogin")})})})}),MPe="_container_1vs6g_1",FPe="_actionButtons_1vs6g_7",jPe="_button_1vs6g_12",VPe="_button2_1vs6g_13",Ei={container:MPe,actionButtons:FPe,button:jPe,button2:VPe},{Text:Y0}=Nr,UPe=Ms(()=>{var p;const{t:n}=Fs(),{id:e}=SB(),t=su(),[r,s]=T.useState(null),[i,a]=T.useState(!0),[o,l]=T.useState(!1),[u,d]=T.useState(!1);T.useEffect(()=>{_n.initialized||_n.loadGroups()},[]),T.useEffect(()=>{(async()=>{var m;if(!(!((m=Ce.user)!=null&&m.uid)||!e))try{const v=await jOe(Ce.user.uid,e);s(v)}catch(v){console.error("Error loading word:",v)}finally{a(!1)}})()},[e,(p=Ce.user)==null?void 0:p.uid]);const h=async _=>{var m;if(!(!((m=Ce.user)!=null&&m.uid)||!e||!r)){l(!0);try{await VOe(Ce.user.uid,e,{...r,japanese:_.japanese,chinese:_.chinese,pronunciation:_.pronunciation,example:_.example,groupId:_.groupId}),await vn.loadWords(),t("/word")}catch(v){console.error("Error updating word:",v)}finally{l(!1)}}},f=async()=>{var _;if(!(!((_=Ce.user)!=null&&_.uid)||!e)){d(!0);try{await MOe(Ce.user.uid,e),await vn.loadWords(),t("/word")}catch(m){console.error("Error deleting word:",m)}finally{d(!1)}}};return Ce.user?i?R.jsx("div",{className:Ei.container,children:R.jsx("div",{className:Ei.card,children:R.jsx(Y0,{children:n("common.loading")})})}):r?R.jsx("div",{className:Ei.container,children:R.jsx("div",{className:Ei.card,children:R.jsxs(He,{initValues:{japanese:r.japanese,chinese:r.chinese,pronunciation:r.pronunciation,example:r.example,groupId:r.groupId},onSubmit:h,children:[R.jsx(He.Input,{field:"japanese",label:n("common.japanese"),rules:[{required:!0}],size:"large"}),R.jsx(He.Input,{field:"chinese",label:n("common.chinese"),rules:[{required:!0}],size:"large"}),R.jsx(He.Input,{field:"pronunciation",label:n("common.pronunciation"),size:"large"}),R.jsx(He.Input,{field:"example",label:n("common.example"),size:"large"}),R.jsx(He.Select,{field:"groupId",label:n("common.group"),size:"large",placeholder:n("common.group"),style:{width:"100%"},children:_n.groups.map(_=>R.jsx(He.Select.Option,{value:_.id,children:_.name},_.id))}),R.jsxs("div",{className:Ei.actionButtons,children:[R.jsx(Re,{theme:"solid",type:"secondary",htmlType:"submit",loading:o,className:Ei.button,size:"large",children:n("common.save")}),R.jsx(Re,{theme:"solid",type:"danger",onClick:f,loading:u,size:"large",children:n("common.deleteButton")}),R.jsx(Re,{theme:"solid",type:"tertiary",size:"large",onClick:()=>t("/word"),children:n("common.cancel")})]})]})})}):R.jsx("div",{className:Ei.container,children:R.jsx("div",{className:Ei.card,children:R.jsx(Y0,{children:n("common.notFound")})})}):R.jsx("div",{className:Ei.container,children:R.jsx("div",{className:Ei.card,children:R.jsx(Y0,{children:n("common.pleaseLogin")})})})}),BPe="_header_1a01b_1",HPe="_gridContainer_1a01b_7",zPe="_groupItem_1a01b_15",KPe="_name_1a01b_24",WPe="_editIcon_1a01b_28",GPe="_icon_1a01b_35",aa={header:BPe,gridContainer:HPe,groupItem:zPe,name:KPe,editIcon:WPe,icon:GPe},{Text:YPe,Title:qPe}=Nr,XPe=Ms(()=>{const{t:n}=Fs(),e=su(),[t,r]=T.useState(!1),[s,i]=T.useState(""),[a,o]=T.useState(null),l=async()=>{if(s.trim())try{a?(await _n.updateGroup(a.id,s.trim()),ln.success(n("group.updateSuccess"))):(await _n.createGroup(s.trim()),ln.success(n("group.createSuccess"))),u()}catch(h){ln.error(n(a?"group.updateError":"group.createError")),console.error(h)}},u=()=>{r(!1),i(""),o(null)},d=h=>{h?(o(h),i(h.name)):(o(null),i("")),r(!0)};return Ce.user?R.jsx("div",{className:"container",children:R.jsxs("div",{className:"card",children:[R.jsxs("div",{className:aa.header,children:[R.jsx(qPe,{heading:3,style:{margin:0},children:n("group.settings")}),R.jsx(Re,{theme:"outline",type:"tertiary",onClick:()=>e("/word"),children:n("common.back")})]}),R.jsx(Vi,{vertical:!0,align:"start",style:{width:"100%",marginTop:24},className:aa.group,children:R.jsxs("div",{className:aa.gridContainer,children:[_n.groups.map(h=>R.jsxs("div",{className:aa.groupItem,children:[R.jsx("div",{className:aa.name,children:h.name}),R.jsx(Vi,{children:R.jsx(Re,{theme:"outline",type:"tertiary",icon:R.jsx(ROe,{className:aa.editIcon}),onClick:()=>d(h)})})]},h.id)),R.jsx("div",{className:aa.groupItem,children:R.jsx(Re,{theme:"outline",type:"secondary",icon:R.jsx(xOe,{className:aa.icon}),onClick:()=>d()})})]})}),R.jsx(as,{title:n(a?"common.edit":"group.create"),visible:t,onOk:l,okButtonProps:{size:"large",type:"secondary"},onCancel:u,okText:n("common.confirm"),cancelText:n("common.cancel"),cancelButtonProps:{size:"large"},className:aa.modal,centered:!0,children:R.jsx(Zt,{value:s,size:"large",onChange:h=>i(h),placeholder:n("group.nameInputPlaceholder")})})]})}):R.jsx("div",{className:"container",children:R.jsx("div",{className:"card",children:R.jsx(YPe,{children:n("common.pleaseLogin")})})})}),QPe="_email_1ym1f_1",ZPe="_actionSection_1ym1f_6",JPe="_actionButton_1ym1f_13",exe="_version_1ym1f_17",nh={email:QPe,actionSection:ZPe,actionButton:JPe,version:exe},{Title:txe}=Nr,nxe=Ms(()=>{const{t:n}=Fs(),{user:e}=Ce,t=su(),r=T.useCallback(async()=>{try{await Ce.logout(),ln.success(n("profile.logoutSuccess"))}catch{ln.error(n("profile.logoutError"))}},[n]),s=T.useCallback(()=>{try{const i=vn.words.map(({id:h,japanese:f,chinese:p,pronunciation:_,example:m})=>({id:h,japanese:f,chinese:p,pronunciation:_,example:m})),a=JSON.stringify(i,null,2),o=new Blob([a],{type:"application/json"}),l=URL.createObjectURL(o),u=document.createElement("a");u.href=l;const d=new Date().toISOString().split("T")[0];u.download=`vocabulary_${d}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l),ln.success(n("common.exportSuccess"))}catch(i){console.error("Export error:",i),ln.error(n("common.exportError"))}},[n]);return R.jsx("div",{className:"container",children:R.jsxs("div",{className:"card",children:[R.jsx(txe,{heading:3,children:n("profile.title")}),R.jsx("div",{className:nh.email,children:e==null?void 0:e.email}),(e==null?void 0:e.emailVerified)&&R.jsx(Jt,{color:"green",type:"light",children:n("profile.verified")}),R.jsxs("div",{className:nh.actionSection,children:[R.jsx(Re,{theme:"solid",type:"secondary",size:"large",className:nh.actionButton,onClick:s,children:n("common.export")}),R.jsx(Re,{theme:"solid",type:"secondary",size:"large",className:nh.actionButton,onClick:()=>t("/change-password"),children:n("profile.changePassword")}),R.jsx(Re,{theme:"solid",type:"tertiary",size:"large",onClick:r,children:n("profile.logoutButton")})]}),R.jsx("div",{className:nh.version,children:"Version 1.0.0"})]})})}),rxe="_actionButtons_t8f3o_1",fk={actionButtons:rxe},{Title:sxe}=Nr,ixe=Ms(()=>{const{t:n}=Fs(),e=su(),[t,r]=T.useState(!1),s=T.useCallback(async i=>{if(i.newPassword!==i.confirmPassword){ln.error(n("profile.passwordMismatch"));return}r(!0);try{await Ce.updatePassword(i.newPassword),ln.success(n("profile.passwordUpdateSuccess")),e("/profile")}catch{ln.error(n("profile.passwordUpdateError"))}finally{r(!1)}},[n,e]);return R.jsx("div",{className:"container",children:R.jsxs("div",{className:"card",children:[R.jsx(sxe,{heading:3,children:n("profile.changePassword")}),R.jsxs(He,{onSubmit:s,children:[R.jsx(He.Input,{field:"newPassword",label:n("profile.newPassword"),size:"large",type:"password",rules:[{required:!0,message:n("profile.passwordRequired")},{min:6,message:n("profile.passwordMinLength")}]}),R.jsx(He.Input,{field:"confirmPassword",label:n("profile.confirmPassword"),size:"large",type:"password",rules:[{required:!0,message:n("profile.confirmPasswordRequired")}]}),R.jsxs("div",{className:fk.actionButtons,children:[R.jsx(Re,{htmlType:"submit",type:"secondary",theme:"solid",size:"large",className:fk.button,loading:t,children:n("common.confirm")}),R.jsx(Re,{theme:"solid",type:"tertiary",size:"large",onClick:()=>e("/profile"),children:n("common.cancel")})]})]})]})})}),axe="_container_ot96o_1",oxe="_card_ot96o_9",lxe="_solgen_ot96o_13",uxe="_title_ot96o_19",cxe="_form_ot96o_26",dxe="_input_ot96o_32",hxe="_button_ot96o_37",oa={container:axe,card:oxe,solgen:lxe,title:uxe,form:cxe,input:dxe,button:hxe},fxe=Ms(()=>{const{t:n}=Fs(),[e,t]=T.useState(""),[r,s]=T.useState(""),[i,a]=T.useState(!0),o=T.useCallback(()=>{a(u=>!u)},[]),l=T.useCallback(async u=>{if(u.preventDefault(),!e||!r){ln.error(n("login.errorMessages.emailRequired")+" "+n("login.errorMessages.passwordRequired"));return}(i?await Ce.login(e,r):await Ce.register(e,r))?ln.success(n(i?"login.successMessages.loginSuccess":"login.successMessages.registerSuccess")):ln.error(n(i?"login.errorMessages.loginFailed":"login.errorMessages.registerFailed"))},[e,r,i,n]);return R.jsx("div",{className:oa.container,children:R.jsxs("div",{className:oa.card,children:[R.jsx("h1",{className:oa.solgen,children:n("login.solgen")}),R.jsx("div",{className:oa.title,children:n(i?"login.title.login":"login.title.register")}),R.jsxs("form",{onSubmit:l,className:oa.form,children:[R.jsx(Zt,{type:"email",placeholder:n("login.placeholder.email"),value:e,onChange:t,size:"large",className:oa.input}),R.jsx(Zt,{type:"password",placeholder:n("login.placeholder.password"),value:r,onChange:s,size:"large",className:oa.input}),R.jsx(Re,{type:"secondary",htmlType:"submit",theme:"solid",size:"large",className:oa.button,children:n(i?"login.button.login":"login.button.register")}),R.jsx(Re,{type:"tertiary",block:!0,size:"large",onClick:o,className:oa.switchButton,children:n(i?"login.button.switchToRegister":"login.button.switchToLogin")})]})]})})}),pxe="_title_gfftk_1",gxe="_actionButtons_gfftk_5",mxe="_button_gfftk_11",q0={title:pxe,actionButtons:gxe,button:mxe},yxe=Ms(()=>{const{t:n}=Fs(),[e,t]=T.useState(!1),r=async()=>{if(Ce.user){t(!0);try{await aC(Ce.user),ln.success(n("verification.emailSentSuccess"))}catch{ln.error(n("verification.emailSentError"))}finally{t(!1)}}};return R.jsx("div",{className:"container",children:R.jsxs("div",{className:"card",children:[R.jsx("h2",{className:q0.title,children:n("verification.title")}),R.jsx(Nr.Paragraph,{children:n("verification.description")}),R.jsxs("div",{className:q0.actionButtons,children:[R.jsx(Re,{theme:"solid",type:"secondary",size:"large",className:q0.button,loading:e,onClick:r,children:n("verification.resendButton")}),R.jsx(Re,{theme:"solid",type:"tertiary",size:"large",onClick:()=>Ce.logout(),children:n("profile.logoutButton")})]})]})})}),Fu=({element:n})=>Ce.user?Ce.isEmailVerified?n:R.jsx(xh,{to:"/verify-email",replace:!0}):R.jsx(xh,{to:"/login",replace:!0}),vxe=Ms(()=>Ce.loading?R.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:R.jsx(qi,{size:"large"})}):Ce.user?Ce.isEmailVerified?R.jsx(bIe,{children:R.jsxs(xb,{children:[R.jsx(Fr,{path:"/",element:R.jsx(Fu,{element:R.jsx(WIe,{})})}),R.jsx(Fr,{path:"/practise",element:R.jsx(Fu,{element:R.jsx(vPe,{})})}),R.jsx(Fr,{path:"/add",element:R.jsx(Fu,{element:R.jsx(ZIe,{})})}),R.jsx(Fr,{path:"/word",element:R.jsx(Fu,{element:R.jsx(LPe,{})})}),R.jsx(Fr,{path:"/word/:id",element:R.jsx(UPe,{})}),R.jsx(Fr,{path:"/word/group-setting",element:R.jsx(XPe,{})}),R.jsx(Fr,{path:"/profile",element:R.jsx(Fu,{element:R.jsx(nxe,{})})}),R.jsx(Fr,{path:"/change-password",element:R.jsx(Fu,{element:R.jsx(ixe,{})})}),R.jsx(Fr,{path:"*",element:R.jsx(xh,{to:"/",replace:!0})})]})}):R.jsxs(xb,{children:[R.jsx(Fr,{path:"/verify-email",element:R.jsx(yxe,{})}),R.jsx(Fr,{path:"*",element:R.jsx(xh,{to:"/verify-email",replace:!0})})]}):R.jsxs(xb,{children:[R.jsx(Fr,{path:"/login",element:R.jsx(fxe,{})}),R.jsx(Fr,{path:"*",element:R.jsx(xh,{to:"/login",replace:!0})})]}));var v5=[],_xe=v5.forEach,bxe=v5.slice;function wxe(n){return _xe.call(bxe.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var pk=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Exe=function(e,t,r){var s=r||{};s.path=s.path||"/";var i=encodeURIComponent(t),a="".concat(e,"=").concat(i);if(s.maxAge>0){var o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(s.domain){if(!pk.test(s.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(s.domain)}if(s.path){if(!pk.test(s.path))throw new TypeError("option path is invalid");a+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite){var l=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},gk={create:function(e,t,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=Exe(e,encodeURIComponent(t),i)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var i=r[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},Sxe={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=gk.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&gk.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Cxe={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),i=s.split("&"),a=0;a<i.length;a++){var o=i[a].indexOf("=");if(o>0){var l=i[a].substring(0,o);l===e.lookupQuerystring&&(t=i[a].substring(o+1))}}}return t}},rh=null,mk=function(){if(rh!==null)return rh;try{rh=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{rh=!1}return rh},Txe={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&mk()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&mk()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},sh=null,yk=function(){if(sh!==null)return sh;try{sh=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{sh=!1}return sh},Oxe={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&yk()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&yk()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Ixe={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Pxe={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},xxe={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},Rxe={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};function Axe(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var _5=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Me(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return Fe(n,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=wxe(r,this.options||{},Axe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Sxe),this.addDetector(Cxe),this.addDetector(Txe),this.addDetector(Oxe),this.addDetector(Ixe),this.addDetector(Pxe),this.addDetector(xxe),this.addDetector(Rxe)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var s=[];return t.forEach(function(i){if(r.detectors[i]){var a=r.detectors[i].lookup(r.options);a&&typeof a=="string"&&(a=[a]),a&&(s=s.concat(a))}}),s=s.map(function(i){return r.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(t,s.options)}))}}]),n}();_5.type="languageDetector";const Dxe={common:{ok:"",cancel:"",confirm:"",edit:"",back:"",japanese:"",pronunciation:"",example:"",chinese:"",group:"",addButton:"",all:"",deleteButton:"",loading:"...",pleaseLogin:"",search:"...",details:"",save:"",export:"",exportSuccess:"",exportError:"",notFound:""},nav:{task:"",practise:"",add:"",wordlist:"",profile:""},review:{addButton:"",todayReview:"",correctRate:"",totalReviews:"",totalWords:"",showAnswer:"",remembered:"",forgotten:"",completedWords:"",completed:"",accuracy:"",memoryLevel:""},practise:{minStage:"",maxStage:"",next:"",japanese:"",chinese:""},addWord:{listTitle:"",emptyList:"",nextReview:": {{date}}",deleteConfirm:{title:"",content:""},batchUploadTitle:"JSON",batchUploadButton:"",invalidJSON:"JSON",batchUploadResult:" {{success}}  {{error}} ",addSuccess:"",addError:"",noSearchResults:"",requiredFields:""},profile:{title:"",verified:"",logoutButton:"",logoutSuccess:"",logoutError:"",changePassword:"",newPassword:"",confirmPassword:"",passwordRequired:"",confirmPasswordRequired:"",passwordMinLength:"6",passwordMismatch:"",passwordUpdateSuccess:"",passwordUpdateError:""},login:{solgen:"",title:{login:"",register:""},placeholder:{email:"",password:""},button:{login:"",register:"",switchToRegister:"",switchToLogin:""},errorMessages:{emailRequired:"",passwordRequired:"",loginFailed:"",registerFailed:""},successMessages:{loginSuccess:"",registerSuccess:""}},verification:{title:"",description:"",resendButton:"",emailSentSuccess:"",emailSentError:""},group:{settings:"",create:"",nameInputPlaceholder:"",createSuccess:"",updateSuccess:"",createError:"",updateError:""}};Jn.use(_5).use(SOe).init({resources:{ja:{translation:Dxe}},fallbackLng:"ja",interpolation:{escapeValue:!1}});X0.createRoot(document.getElementById("root")).render(R.jsx(g.StrictMode,{children:R.jsx(VB,{children:R.jsx(vxe,{})})}));
