var I4=Object.defineProperty;var O4=(n,e,t)=>e in n?I4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ap=(n,e,t)=>O4(n,typeof e!="symbol"?e+"":e,t);function P4(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ce(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var TD={exports:{}},Rv={},ID={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf=Symbol.for("react.element"),x4=Symbol.for("react.portal"),R4=Symbol.for("react.fragment"),A4=Symbol.for("react.strict_mode"),D4=Symbol.for("react.profiler"),k4=Symbol.for("react.provider"),N4=Symbol.for("react.context"),M4=Symbol.for("react.forward_ref"),L4=Symbol.for("react.suspense"),$4=Symbol.for("react.memo"),F4=Symbol.for("react.lazy"),wI=Symbol.iterator;function V4(n){return n===null||typeof n!="object"?null:(n=wI&&n[wI]||n["@@iterator"],typeof n=="function"?n:null)}var OD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PD=Object.assign,xD={};function zc(n,e,t){this.props=n,this.context=e,this.refs=xD,this.updater=t||OD}zc.prototype.isReactComponent={};zc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};zc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function RD(){}RD.prototype=zc.prototype;function mS(n,e,t){this.props=n,this.context=e,this.refs=xD,this.updater=t||OD}var vS=mS.prototype=new RD;vS.constructor=mS;PD(vS,zc.prototype);vS.isPureReactComponent=!0;var EI=Array.isArray,AD=Object.prototype.hasOwnProperty,yS={current:null},DD={key:!0,ref:!0,__self:!0,__source:!0};function kD(n,e,t){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)AD.call(e,r)&&!DD.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Sf,type:n,key:i,ref:a,props:s,_owner:yS.current}}function j4(n,e){return{$$typeof:Sf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function _S(n){return typeof n=="object"&&n!==null&&n.$$typeof===Sf}function U4(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var SI=/\/+/g;function T_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?U4(""+n.key):e.toString(36)}function Sg(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Sf:case x4:a=!0}}if(a)return a=n,s=s(a),n=r===""?"."+T_(a,0):r,EI(s)?(t="",n!=null&&(t=n.replace(SI,"$&/")+"/"),Sg(s,e,t,"",function(u){return u})):s!=null&&(_S(s)&&(s=j4(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(SI,"$&/")+"/")+n)),e.push(s)),1;if(a=0,r=r===""?".":r+":",EI(n))for(var o=0;o<n.length;o++){i=n[o];var l=r+T_(i,o);a+=Sg(i,e,t,l,s)}else if(l=V4(n),typeof l=="function")for(n=l.call(n),o=0;!(i=n.next()).done;)i=i.value,l=r+T_(i,o++),a+=Sg(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function kp(n,e,t){if(n==null)return n;var r=[],s=0;return Sg(n,r,"","",function(i){return e.call(t,i,s++)}),r}function B4(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Rr={current:null},Cg={transition:null},H4={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:Cg,ReactCurrentOwner:yS};function ND(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:kp,forEach:function(n,e,t){kp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return kp(n,function(){e++}),e},toArray:function(n){return kp(n,function(e){return e})||[]},only:function(n){if(!_S(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ve.Component=zc;Ve.Fragment=R4;Ve.Profiler=D4;Ve.PureComponent=mS;Ve.StrictMode=A4;Ve.Suspense=L4;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H4;Ve.act=ND;Ve.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=PD({},n.props),s=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=yS.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)AD.call(e,l)&&!DD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Sf,type:n.type,key:s,ref:i,props:r,_owner:a}};Ve.createContext=function(n){return n={$$typeof:N4,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:k4,_context:n},n.Consumer=n};Ve.createElement=kD;Ve.createFactory=function(n){var e=kD.bind(null,n);return e.type=n,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(n){return{$$typeof:M4,render:n}};Ve.isValidElement=_S;Ve.lazy=function(n){return{$$typeof:F4,_payload:{_status:-1,_result:n},_init:B4}};Ve.memo=function(n,e){return{$$typeof:$4,type:n,compare:e===void 0?null:e}};Ve.startTransition=function(n){var e=Cg.transition;Cg.transition={};try{n()}finally{Cg.transition=e}};Ve.unstable_act=ND;Ve.useCallback=function(n,e){return Rr.current.useCallback(n,e)};Ve.useContext=function(n){return Rr.current.useContext(n)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(n){return Rr.current.useDeferredValue(n)};Ve.useEffect=function(n,e){return Rr.current.useEffect(n,e)};Ve.useId=function(){return Rr.current.useId()};Ve.useImperativeHandle=function(n,e,t){return Rr.current.useImperativeHandle(n,e,t)};Ve.useInsertionEffect=function(n,e){return Rr.current.useInsertionEffect(n,e)};Ve.useLayoutEffect=function(n,e){return Rr.current.useLayoutEffect(n,e)};Ve.useMemo=function(n,e){return Rr.current.useMemo(n,e)};Ve.useReducer=function(n,e,t){return Rr.current.useReducer(n,e,t)};Ve.useRef=function(n){return Rr.current.useRef(n)};Ve.useState=function(n){return Rr.current.useState(n)};Ve.useSyncExternalStore=function(n,e,t){return Rr.current.useSyncExternalStore(n,e,t)};Ve.useTransition=function(){return Rr.current.useTransition()};Ve.version="18.3.1";ID.exports=Ve;var D=ID.exports;const v=Ce(D),z4=P4({__proto__:null,default:v},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K4=D,W4=Symbol.for("react.element"),G4=Symbol.for("react.fragment"),Y4=Object.prototype.hasOwnProperty,q4=K4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X4={key:!0,ref:!0,__self:!0,__source:!0};function MD(n,e,t){var r,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Y4.call(e,r)&&!X4.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:W4,type:n,key:i,ref:a,props:s,_owner:q4.current}}Rv.Fragment=G4;Rv.jsx=MD;Rv.jsxs=MD;TD.exports=Rv;var Y=TD.exports,d0={},LD={exports:{}},ms={},$D={exports:{}},FD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,H){var U=V.length;V.push(H);e:for(;0<U;){var ae=U-1>>>1,ne=V[ae];if(0<s(ne,H))V[ae]=H,V[U]=ne,U=ae;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var H=V[0],U=V.pop();if(U!==H){V[0]=U;e:for(var ae=0,ne=V.length,re=ne>>>1;ae<re;){var de=2*(ae+1)-1,be=V[de],ve=de+1,ge=V[ve];if(0>s(be,U))ve<ne&&0>s(ge,be)?(V[ae]=ge,V[ve]=U,ae=ve):(V[ae]=be,V[de]=U,ae=de);else if(ve<ne&&0>s(ge,U))V[ae]=ge,V[ve]=U,ae=ve;else break e}}return H}function s(V,H){var U=V.sortIndex-H.sortIndex;return U!==0?U:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,g=!1,b=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var H=t(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=V)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function S(V){if(y=!1,w(V),!b)if(t(l)!==null)b=!0,z(O);else{var H=t(u);H!==null&&ee(S,H.startTime-V)}}function O(V,H){b=!1,y&&(y=!1,m(T),T=-1),g=!0;var U=f;try{for(w(H),h=t(l);h!==null&&(!(h.expirationTime>H)||V&&!k());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var ne=ae(h.expirationTime<=H);H=n.unstable_now(),typeof ne=="function"?h.callback=ne:h===t(l)&&r(l),w(H)}else r(l);h=t(l)}if(h!==null)var re=!0;else{var de=t(u);de!==null&&ee(S,de.startTime-H),re=!1}return re}finally{h=null,f=U,g=!1}}var x=!1,I=null,T=-1,P=5,A=-1;function k(){return!(n.unstable_now()-A<P)}function L(){if(I!==null){var V=n.unstable_now();A=V;var H=!0;try{H=I(!0,V)}finally{H?N():(x=!1,I=null)}}else x=!1}var N;if(typeof E=="function")N=function(){E(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=L,N=function(){G.postMessage(null)}}else N=function(){_(L,0)};function z(V){I=V,x||(x=!0,N())}function ee(V,H){T=_(function(){V(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){b||g||(b=!0,z(O))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(V){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var U=f;f=H;try{return V()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var U=f;f=V;try{return H()}finally{f=U}},n.unstable_scheduleCallback=function(V,H,U){var ae=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ae+U:ae):U=ae,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=U+ne,V={id:d++,callback:H,priorityLevel:V,startTime:U,expirationTime:ne,sortIndex:-1},U>ae?(V.sortIndex=U,e(u,V),t(l)===null&&V===t(u)&&(y?(m(T),T=-1):y=!0,ee(S,U-ae))):(V.sortIndex=ne,e(l,V),b||g||(b=!0,z(O))),V},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(V){var H=f;return function(){var U=f;f=H;try{return V.apply(this,arguments)}finally{f=U}}}})(FD);$D.exports=FD;var Q4=$D.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z4=D,ps=Q4;function J(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VD=new Set,Rh={};function Ql(n,e){bc(n,e),bc(n+"Capture",e)}function bc(n,e){for(Rh[n]=e,n=0;n<e.length;n++)VD.add(e[n])}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h0=Object.prototype.hasOwnProperty,J4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CI={},TI={};function eU(n){return h0.call(TI,n)?!0:h0.call(CI,n)?!1:J4.test(n)?TI[n]=!0:(CI[n]=!0,!1)}function tU(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function nU(n,e,t,r){if(e===null||typeof e>"u"||tU(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ar(n,e,t,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){tr[n]=new Ar(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];tr[e]=new Ar(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){tr[n]=new Ar(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){tr[n]=new Ar(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){tr[n]=new Ar(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){tr[n]=new Ar(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){tr[n]=new Ar(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){tr[n]=new Ar(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){tr[n]=new Ar(n,5,!1,n.toLowerCase(),null,!1,!1)});var bS=/[\-:]([a-z])/g;function wS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(bS,wS);tr[e]=new Ar(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(bS,wS);tr[e]=new Ar(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(bS,wS);tr[e]=new Ar(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){tr[n]=new Ar(n,1,!1,n.toLowerCase(),null,!1,!1)});tr.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){tr[n]=new Ar(n,1,!1,n.toLowerCase(),null,!0,!0)});function ES(n,e,t,r){var s=tr.hasOwnProperty(e)?tr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nU(e,t,s,r)&&(t=null),r||s===null?eU(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var $a=Z4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Np=Symbol.for("react.element"),Fu=Symbol.for("react.portal"),Vu=Symbol.for("react.fragment"),SS=Symbol.for("react.strict_mode"),f0=Symbol.for("react.profiler"),jD=Symbol.for("react.provider"),UD=Symbol.for("react.context"),CS=Symbol.for("react.forward_ref"),p0=Symbol.for("react.suspense"),g0=Symbol.for("react.suspense_list"),TS=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),BD=Symbol.for("react.offscreen"),II=Symbol.iterator;function Id(n){return n===null||typeof n!="object"?null:(n=II&&n[II]||n["@@iterator"],typeof n=="function"?n:null)}var on=Object.assign,I_;function Xd(n){if(I_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);I_=e&&e[1]||""}return`
`+I_+n}var O_=!1;function P_(n,e){if(!n||O_)return"";O_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{O_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Xd(n):""}function rU(n){switch(n.tag){case 5:return Xd(n.type);case 16:return Xd("Lazy");case 13:return Xd("Suspense");case 19:return Xd("SuspenseList");case 0:case 2:case 15:return n=P_(n.type,!1),n;case 11:return n=P_(n.type.render,!1),n;case 1:return n=P_(n.type,!0),n;default:return""}}function m0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Vu:return"Fragment";case Fu:return"Portal";case f0:return"Profiler";case SS:return"StrictMode";case p0:return"Suspense";case g0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case UD:return(n.displayName||"Context")+".Consumer";case jD:return(n._context.displayName||"Context")+".Provider";case CS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case TS:return e=n.displayName||null,e!==null?e:m0(n.type)||"Memo";case eo:e=n._payload,n=n._init;try{return m0(n(e))}catch{}}return null}function sU(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m0(e);case 8:return e===SS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function HD(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iU(n){var e=HD(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Mp(n){n._valueTracker||(n._valueTracker=iU(n))}function zD(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=HD(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function im(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function v0(n,e){var t=e.checked;return on({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function OI(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Mo(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KD(n,e){e=e.checked,e!=null&&ES(n,"checked",e,!1)}function y0(n,e){KD(n,e);var t=Mo(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?_0(n,e.type,t):e.hasOwnProperty("defaultValue")&&_0(n,e.type,Mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function PI(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function _0(n,e,t){(e!=="number"||im(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Qd=Array.isArray;function ic(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Mo(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function b0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return on({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function xI(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(J(92));if(Qd(t)){if(1<t.length)throw Error(J(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Mo(t)}}function WD(n,e){var t=Mo(e.value),r=Mo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function RI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function GD(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?GD(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Lp,YD=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Lp=Lp||document.createElement("div"),Lp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ah(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aU=["Webkit","ms","Moz","O"];Object.keys(lh).forEach(function(n){aU.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),lh[e]=lh[n]})});function qD(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||lh.hasOwnProperty(n)&&lh[n]?(""+e).trim():e+"px"}function XD(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=qD(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var oU=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E0(n,e){if(e){if(oU[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function S0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=null;function IS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var T0=null,ac=null,oc=null;function AI(n){if(n=If(n)){if(typeof T0!="function")throw Error(J(280));var e=n.stateNode;e&&(e=Mv(e),T0(n.stateNode,n.type,e))}}function QD(n){ac?oc?oc.push(n):oc=[n]:ac=n}function ZD(){if(ac){var n=ac,e=oc;if(oc=ac=null,AI(n),e)for(n=0;n<e.length;n++)AI(e[n])}}function JD(n,e){return n(e)}function ek(){}var x_=!1;function tk(n,e,t){if(x_)return n(e,t);x_=!0;try{return JD(n,e,t)}finally{x_=!1,(ac!==null||oc!==null)&&(ek(),ZD())}}function Dh(n,e){var t=n.stateNode;if(t===null)return null;var r=Mv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(J(231,e,typeof t));return t}var I0=!1;if(Ea)try{var Od={};Object.defineProperty(Od,"passive",{get:function(){I0=!0}}),window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{I0=!1}function lU(n,e,t,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var uh=!1,am=null,om=!1,O0=null,uU={onError:function(n){uh=!0,am=n}};function cU(n,e,t,r,s,i,a,o,l){uh=!1,am=null,lU.apply(uU,arguments)}function dU(n,e,t,r,s,i,a,o,l){if(cU.apply(this,arguments),uh){if(uh){var u=am;uh=!1,am=null}else throw Error(J(198));om||(om=!0,O0=u)}}function Zl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function nk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function DI(n){if(Zl(n)!==n)throw Error(J(188))}function hU(n){var e=n.alternate;if(!e){if(e=Zl(n),e===null)throw Error(J(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return DI(s),n;if(i===r)return DI(s),e;i=i.sibling}throw Error(J(188))}if(t.return!==r.return)t=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a)throw Error(J(189))}}if(t.alternate!==r)throw Error(J(190))}if(t.tag!==3)throw Error(J(188));return t.stateNode.current===t?n:e}function rk(n){return n=hU(n),n!==null?sk(n):null}function sk(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=sk(n);if(e!==null)return e;n=n.sibling}return null}var ik=ps.unstable_scheduleCallback,kI=ps.unstable_cancelCallback,fU=ps.unstable_shouldYield,pU=ps.unstable_requestPaint,En=ps.unstable_now,gU=ps.unstable_getCurrentPriorityLevel,OS=ps.unstable_ImmediatePriority,ak=ps.unstable_UserBlockingPriority,lm=ps.unstable_NormalPriority,mU=ps.unstable_LowPriority,ok=ps.unstable_IdlePriority,Av=null,Mi=null;function vU(n){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(Av,n,void 0,(n.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:bU,yU=Math.log,_U=Math.LN2;function bU(n){return n>>>=0,n===0?32:31-(yU(n)/_U|0)|0}var $p=64,Fp=4194304;function Zd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function um(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~s;o!==0?r=Zd(o):(i&=a,i!==0&&(r=Zd(i)))}else a=t&~s,a!==0?r=Zd(a):i!==0&&(r=Zd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ii(e),s=1<<t,r|=n[t],e&=~s;return r}function wU(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EU(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-ii(i),o=1<<a,l=s[a];l===-1?(!(o&t)||o&r)&&(s[a]=wU(o,e)):l<=e&&(n.expiredLanes|=o),i&=~o}}function P0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function lk(){var n=$p;return $p<<=1,!($p&4194240)&&($p=64),n}function R_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Cf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ii(e),n[e]=t}function SU(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-ii(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function PS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ii(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var wt=0;function uk(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var ck,xS,dk,hk,fk,x0=!1,Vp=[],_o=null,bo=null,wo=null,kh=new Map,Nh=new Map,ro=[],CU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NI(n,e){switch(n){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":kh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nh.delete(e.pointerId)}}function Pd(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=If(e),e!==null&&xS(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function TU(n,e,t,r,s){switch(e){case"focusin":return _o=Pd(_o,n,e,t,r,s),!0;case"dragenter":return bo=Pd(bo,n,e,t,r,s),!0;case"mouseover":return wo=Pd(wo,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return kh.set(i,Pd(kh.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Nh.set(i,Pd(Nh.get(i)||null,n,e,t,r,s)),!0}return!1}function pk(n){var e=fl(n.target);if(e!==null){var t=Zl(e);if(t!==null){if(e=t.tag,e===13){if(e=nk(t),e!==null){n.blockedOn=e,fk(n.priority,function(){dk(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=R0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);C0=r,t.target.dispatchEvent(r),C0=null}else return e=If(t),e!==null&&xS(e),n.blockedOn=t,!1;e.shift()}return!0}function MI(n,e,t){Tg(n)&&t.delete(e)}function IU(){x0=!1,_o!==null&&Tg(_o)&&(_o=null),bo!==null&&Tg(bo)&&(bo=null),wo!==null&&Tg(wo)&&(wo=null),kh.forEach(MI),Nh.forEach(MI)}function xd(n,e){n.blockedOn===e&&(n.blockedOn=null,x0||(x0=!0,ps.unstable_scheduleCallback(ps.unstable_NormalPriority,IU)))}function Mh(n){function e(s){return xd(s,n)}if(0<Vp.length){xd(Vp[0],n);for(var t=1;t<Vp.length;t++){var r=Vp[t];r.blockedOn===n&&(r.blockedOn=null)}}for(_o!==null&&xd(_o,n),bo!==null&&xd(bo,n),wo!==null&&xd(wo,n),kh.forEach(e),Nh.forEach(e),t=0;t<ro.length;t++)r=ro[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ro.length&&(t=ro[0],t.blockedOn===null);)pk(t),t.blockedOn===null&&ro.shift()}var lc=$a.ReactCurrentBatchConfig,cm=!0;function OU(n,e,t,r){var s=wt,i=lc.transition;lc.transition=null;try{wt=1,RS(n,e,t,r)}finally{wt=s,lc.transition=i}}function PU(n,e,t,r){var s=wt,i=lc.transition;lc.transition=null;try{wt=4,RS(n,e,t,r)}finally{wt=s,lc.transition=i}}function RS(n,e,t,r){if(cm){var s=R0(n,e,t,r);if(s===null)j_(n,e,r,dm,t),NI(n,r);else if(TU(s,n,e,t,r))r.stopPropagation();else if(NI(n,r),e&4&&-1<CU.indexOf(n)){for(;s!==null;){var i=If(s);if(i!==null&&ck(i),i=R0(n,e,t,r),i===null&&j_(n,e,r,dm,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else j_(n,e,r,null,t)}}var dm=null;function R0(n,e,t,r){if(dm=null,n=IS(r),n=fl(n),n!==null)if(e=Zl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=nk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return dm=n,null}function gk(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gU()){case OS:return 1;case ak:return 4;case lm:case mU:return 16;case ok:return 536870912;default:return 16}default:return 16}}var co=null,AS=null,Ig=null;function mk(){if(Ig)return Ig;var n,e=AS,t=e.length,r,s="value"in co?co.value:co.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===s[i-r];r++);return Ig=s.slice(n,1<r?1-r:void 0)}function Og(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function jp(){return!0}function LI(){return!1}function vs(n){function e(t,r,s,i,a){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jp:LI,this.isPropagationStopped=LI,this}return on(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=jp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=jp)},persist:function(){},isPersistent:jp}),e}var Kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DS=vs(Kc),Tf=on({},Kc,{view:0,detail:0}),xU=vs(Tf),A_,D_,Rd,Dv=on({},Tf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Rd&&(Rd&&n.type==="mousemove"?(A_=n.screenX-Rd.screenX,D_=n.screenY-Rd.screenY):D_=A_=0,Rd=n),A_)},movementY:function(n){return"movementY"in n?n.movementY:D_}}),$I=vs(Dv),RU=on({},Dv,{dataTransfer:0}),AU=vs(RU),DU=on({},Tf,{relatedTarget:0}),k_=vs(DU),kU=on({},Kc,{animationName:0,elapsedTime:0,pseudoElement:0}),NU=vs(kU),MU=on({},Kc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),LU=vs(MU),$U=on({},Kc,{data:0}),FI=vs($U),FU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UU(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=jU[n])?!!e[n]:!1}function kS(){return UU}var BU=on({},Tf,{key:function(n){if(n.key){var e=FU[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Og(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?VU[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kS,charCode:function(n){return n.type==="keypress"?Og(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Og(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),HU=vs(BU),zU=on({},Dv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VI=vs(zU),KU=on({},Tf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kS}),WU=vs(KU),GU=on({},Kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),YU=vs(GU),qU=on({},Dv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),XU=vs(qU),QU=[9,13,27,32],NS=Ea&&"CompositionEvent"in window,ch=null;Ea&&"documentMode"in document&&(ch=document.documentMode);var ZU=Ea&&"TextEvent"in window&&!ch,vk=Ea&&(!NS||ch&&8<ch&&11>=ch),jI=" ",UI=!1;function yk(n,e){switch(n){case"keyup":return QU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _k(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ju=!1;function JU(n,e){switch(n){case"compositionend":return _k(e);case"keypress":return e.which!==32?null:(UI=!0,jI);case"textInput":return n=e.data,n===jI&&UI?null:n;default:return null}}function e3(n,e){if(ju)return n==="compositionend"||!NS&&yk(n,e)?(n=mk(),Ig=AS=co=null,ju=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vk&&e.locale!=="ko"?null:e.data;default:return null}}var t3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!t3[n.type]:e==="textarea"}function bk(n,e,t,r){QD(r),e=hm(e,"onChange"),0<e.length&&(t=new DS("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var dh=null,Lh=null;function n3(n){Ak(n,0)}function kv(n){var e=Hu(n);if(zD(e))return n}function r3(n,e){if(n==="change")return e}var wk=!1;if(Ea){var N_;if(Ea){var M_="oninput"in document;if(!M_){var HI=document.createElement("div");HI.setAttribute("oninput","return;"),M_=typeof HI.oninput=="function"}N_=M_}else N_=!1;wk=N_&&(!document.documentMode||9<document.documentMode)}function zI(){dh&&(dh.detachEvent("onpropertychange",Ek),Lh=dh=null)}function Ek(n){if(n.propertyName==="value"&&kv(Lh)){var e=[];bk(e,Lh,n,IS(n)),tk(n3,e)}}function s3(n,e,t){n==="focusin"?(zI(),dh=e,Lh=t,dh.attachEvent("onpropertychange",Ek)):n==="focusout"&&zI()}function i3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kv(Lh)}function a3(n,e){if(n==="click")return kv(e)}function o3(n,e){if(n==="input"||n==="change")return kv(e)}function l3(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ci=typeof Object.is=="function"?Object.is:l3;function $h(n,e){if(ci(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!h0.call(e,s)||!ci(n[s],e[s]))return!1}return!0}function KI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function WI(n,e){var t=KI(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=KI(t)}}function Sk(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Sk(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Ck(){for(var n=window,e=im();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=im(n.document)}return e}function MS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function u3(n){var e=Ck(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Sk(t.ownerDocument.documentElement,t)){if(r!==null&&MS(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=WI(t,i);var a=WI(t,r);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var c3=Ea&&"documentMode"in document&&11>=document.documentMode,Uu=null,A0=null,hh=null,D0=!1;function GI(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;D0||Uu==null||Uu!==im(r)||(r=Uu,"selectionStart"in r&&MS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hh&&$h(hh,r)||(hh=r,r=hm(A0,"onSelect"),0<r.length&&(e=new DS("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Uu)))}function Up(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Bu={animationend:Up("Animation","AnimationEnd"),animationiteration:Up("Animation","AnimationIteration"),animationstart:Up("Animation","AnimationStart"),transitionend:Up("Transition","TransitionEnd")},L_={},Tk={};Ea&&(Tk=document.createElement("div").style,"AnimationEvent"in window||(delete Bu.animationend.animation,delete Bu.animationiteration.animation,delete Bu.animationstart.animation),"TransitionEvent"in window||delete Bu.transitionend.transition);function Nv(n){if(L_[n])return L_[n];if(!Bu[n])return n;var e=Bu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Tk)return L_[n]=e[t];return n}var Ik=Nv("animationend"),Ok=Nv("animationiteration"),Pk=Nv("animationstart"),xk=Nv("transitionend"),Rk=new Map,YI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(n,e){Rk.set(n,e),Ql(e,[n])}for(var $_=0;$_<YI.length;$_++){var F_=YI[$_],d3=F_.toLowerCase(),h3=F_[0].toUpperCase()+F_.slice(1);Bo(d3,"on"+h3)}Bo(Ik,"onAnimationEnd");Bo(Ok,"onAnimationIteration");Bo(Pk,"onAnimationStart");Bo("dblclick","onDoubleClick");Bo("focusin","onFocus");Bo("focusout","onBlur");Bo(xk,"onTransitionEnd");bc("onMouseEnter",["mouseout","mouseover"]);bc("onMouseLeave",["mouseout","mouseover"]);bc("onPointerEnter",["pointerout","pointerover"]);bc("onPointerLeave",["pointerout","pointerover"]);Ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jd));function qI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,dU(r,e,void 0,n),n.currentTarget=null}function Ak(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;qI(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;qI(s,o,u),i=l}}}if(om)throw n=O0,om=!1,O0=null,n}function Ut(n,e){var t=e[$0];t===void 0&&(t=e[$0]=new Set);var r=n+"__bubble";t.has(r)||(Dk(e,n,2,!1),t.add(r))}function V_(n,e,t){var r=0;e&&(r|=4),Dk(t,n,r,e)}var Bp="_reactListening"+Math.random().toString(36).slice(2);function Fh(n){if(!n[Bp]){n[Bp]=!0,VD.forEach(function(t){t!=="selectionchange"&&(f3.has(t)||V_(t,!1,n),V_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Bp]||(e[Bp]=!0,V_("selectionchange",!1,e))}}function Dk(n,e,t,r){switch(gk(e)){case 1:var s=OU;break;case 4:s=PU;break;default:s=RS}t=s.bind(null,e,t,n),s=void 0,!I0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function j_(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=fl(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}tk(function(){var u=i,d=IS(t),h=[];e:{var f=Rk.get(n);if(f!==void 0){var g=DS,b=n;switch(n){case"keypress":if(Og(t)===0)break e;case"keydown":case"keyup":g=HU;break;case"focusin":b="focus",g=k_;break;case"focusout":b="blur",g=k_;break;case"beforeblur":case"afterblur":g=k_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=$I;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=AU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=WU;break;case Ik:case Ok:case Pk:g=NU;break;case xk:g=YU;break;case"scroll":g=xU;break;case"wheel":g=XU;break;case"copy":case"cut":case"paste":g=LU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=VI}var y=(e&4)!==0,_=!y&&n==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var E=u,w;E!==null;){w=E;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,m!==null&&(S=Dh(E,m),S!=null&&y.push(Vh(E,S,w)))),_)break;E=E.return}0<y.length&&(f=new g(f,b,null,t,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",f&&t!==C0&&(b=t.relatedTarget||t.fromElement)&&(fl(b)||b[Sa]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(b=t.relatedTarget||t.toElement,g=u,b=b?fl(b):null,b!==null&&(_=Zl(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(y=$I,S="onMouseLeave",m="onMouseEnter",E="mouse",(n==="pointerout"||n==="pointerover")&&(y=VI,S="onPointerLeave",m="onPointerEnter",E="pointer"),_=g==null?f:Hu(g),w=b==null?f:Hu(b),f=new y(S,E+"leave",g,t,d),f.target=_,f.relatedTarget=w,S=null,fl(d)===u&&(y=new y(m,E+"enter",b,t,d),y.target=w,y.relatedTarget=_,S=y),_=S,g&&b)t:{for(y=g,m=b,E=0,w=y;w;w=_u(w))E++;for(w=0,S=m;S;S=_u(S))w++;for(;0<E-w;)y=_u(y),E--;for(;0<w-E;)m=_u(m),w--;for(;E--;){if(y===m||m!==null&&y===m.alternate)break t;y=_u(y),m=_u(m)}y=null}else y=null;g!==null&&XI(h,f,g,y,!1),b!==null&&_!==null&&XI(h,_,b,y,!0)}}e:{if(f=u?Hu(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var O=r3;else if(BI(f))if(wk)O=o3;else{O=i3;var x=s3}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=a3);if(O&&(O=O(n,u))){bk(h,O,t,d);break e}x&&x(n,f,u),n==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&_0(f,"number",f.value)}switch(x=u?Hu(u):window,n){case"focusin":(BI(x)||x.contentEditable==="true")&&(Uu=x,A0=u,hh=null);break;case"focusout":hh=A0=Uu=null;break;case"mousedown":D0=!0;break;case"contextmenu":case"mouseup":case"dragend":D0=!1,GI(h,t,d);break;case"selectionchange":if(c3)break;case"keydown":case"keyup":GI(h,t,d)}var I;if(NS)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ju?yk(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(vk&&t.locale!=="ko"&&(ju||T!=="onCompositionStart"?T==="onCompositionEnd"&&ju&&(I=mk()):(co=d,AS="value"in co?co.value:co.textContent,ju=!0)),x=hm(u,T),0<x.length&&(T=new FI(T,n,null,t,d),h.push({event:T,listeners:x}),I?T.data=I:(I=_k(t),I!==null&&(T.data=I)))),(I=ZU?JU(n,t):e3(n,t))&&(u=hm(u,"onBeforeInput"),0<u.length&&(d=new FI("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=I))}Ak(h,e)})}function Vh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function hm(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dh(n,t),i!=null&&r.unshift(Vh(n,i,s)),i=Dh(n,e),i!=null&&r.push(Vh(n,i,s))),n=n.return}return r}function _u(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function XI(n,e,t,r,s){for(var i=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Dh(t,i),l!=null&&a.unshift(Vh(t,l,o))):s||(l=Dh(t,i),l!=null&&a.push(Vh(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var p3=/\r\n?/g,g3=/\u0000|\uFFFD/g;function QI(n){return(typeof n=="string"?n:""+n).replace(p3,`
`).replace(g3,"")}function Hp(n,e,t){if(e=QI(e),QI(n)!==e&&t)throw Error(J(425))}function fm(){}var k0=null,N0=null;function M0(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var L0=typeof setTimeout=="function"?setTimeout:void 0,m3=typeof clearTimeout=="function"?clearTimeout:void 0,ZI=typeof Promise=="function"?Promise:void 0,v3=typeof queueMicrotask=="function"?queueMicrotask:typeof ZI<"u"?function(n){return ZI.resolve(null).then(n).catch(y3)}:L0;function y3(n){setTimeout(function(){throw n})}function U_(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),Mh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Mh(e)}function Eo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function JI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Wc=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Wc,jh="__reactProps$"+Wc,Sa="__reactContainer$"+Wc,$0="__reactEvents$"+Wc,_3="__reactListeners$"+Wc,b3="__reactHandles$"+Wc;function fl(n){var e=n[Ti];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Sa]||t[Ti]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=JI(n);n!==null;){if(t=n[Ti])return t;n=JI(n)}return e}n=t,t=n.parentNode}return null}function If(n){return n=n[Ti]||n[Sa],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Hu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(J(33))}function Mv(n){return n[jh]||null}var F0=[],zu=-1;function Ho(n){return{current:n}}function Ht(n){0>zu||(n.current=F0[zu],F0[zu]=null,zu--)}function Nt(n,e){zu++,F0[zu]=n.current,n.current=e}var Lo={},_r=Ho(Lo),zr=Ho(!1),Rl=Lo;function wc(n,e){var t=n.type.contextTypes;if(!t)return Lo;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Kr(n){return n=n.childContextTypes,n!=null}function pm(){Ht(zr),Ht(_r)}function eO(n,e,t){if(_r.current!==Lo)throw Error(J(168));Nt(_r,e),Nt(zr,t)}function kk(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(J(108,sU(n)||"Unknown",s));return on({},t,r)}function gm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Lo,Rl=_r.current,Nt(_r,n),Nt(zr,zr.current),!0}function tO(n,e,t){var r=n.stateNode;if(!r)throw Error(J(169));t?(n=kk(n,e,Rl),r.__reactInternalMemoizedMergedChildContext=n,Ht(zr),Ht(_r),Nt(_r,n)):Ht(zr),Nt(zr,t)}var oa=null,Lv=!1,B_=!1;function Nk(n){oa===null?oa=[n]:oa.push(n)}function w3(n){Lv=!0,Nk(n)}function zo(){if(!B_&&oa!==null){B_=!0;var n=0,e=wt;try{var t=oa;for(wt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}oa=null,Lv=!1}catch(s){throw oa!==null&&(oa=oa.slice(n+1)),ik(OS,zo),s}finally{wt=e,B_=!1}}return null}var Ku=[],Wu=0,mm=null,vm=0,xs=[],Rs=0,Al=null,ca=1,da="";function sl(n,e){Ku[Wu++]=vm,Ku[Wu++]=mm,mm=n,vm=e}function Mk(n,e,t){xs[Rs++]=ca,xs[Rs++]=da,xs[Rs++]=Al,Al=n;var r=ca;n=da;var s=32-ii(r)-1;r&=~(1<<s),t+=1;var i=32-ii(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ca=1<<32-ii(e)+s|t<<s|r,da=i+n}else ca=1<<i|t<<s|r,da=n}function LS(n){n.return!==null&&(sl(n,1),Mk(n,1,0))}function $S(n){for(;n===mm;)mm=Ku[--Wu],Ku[Wu]=null,vm=Ku[--Wu],Ku[Wu]=null;for(;n===Al;)Al=xs[--Rs],xs[Rs]=null,da=xs[--Rs],xs[Rs]=null,ca=xs[--Rs],xs[Rs]=null}var fs=null,us=null,qt=!1,ei=null;function Lk(n,e){var t=Ms(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function nO(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,fs=n,us=Eo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,fs=n,us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Al!==null?{id:ca,overflow:da}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ms(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,fs=n,us=null,!0):!1;default:return!1}}function V0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function j0(n){if(qt){var e=us;if(e){var t=e;if(!nO(n,e)){if(V0(n))throw Error(J(418));e=Eo(t.nextSibling);var r=fs;e&&nO(n,e)?Lk(r,t):(n.flags=n.flags&-4097|2,qt=!1,fs=n)}}else{if(V0(n))throw Error(J(418));n.flags=n.flags&-4097|2,qt=!1,fs=n}}}function rO(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;fs=n}function zp(n){if(n!==fs)return!1;if(!qt)return rO(n),qt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!M0(n.type,n.memoizedProps)),e&&(e=us)){if(V0(n))throw $k(),Error(J(418));for(;e;)Lk(n,e),e=Eo(e.nextSibling)}if(rO(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(J(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){us=Eo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}us=null}}else us=fs?Eo(n.stateNode.nextSibling):null;return!0}function $k(){for(var n=us;n;)n=Eo(n.nextSibling)}function Ec(){us=fs=null,qt=!1}function FS(n){ei===null?ei=[n]:ei.push(n)}var E3=$a.ReactCurrentBatchConfig;function Ad(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(J(309));var r=t.stateNode}if(!r)throw Error(J(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(J(284));if(!t._owner)throw Error(J(290,n))}return n}function Kp(n,e){throw n=Object.prototype.toString.call(e),Error(J(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function sO(n){var e=n._init;return e(n._payload)}function Fk(n){function e(m,E){if(n){var w=m.deletions;w===null?(m.deletions=[E],m.flags|=16):w.push(E)}}function t(m,E){if(!n)return null;for(;E!==null;)e(m,E),E=E.sibling;return null}function r(m,E){for(m=new Map;E!==null;)E.key!==null?m.set(E.key,E):m.set(E.index,E),E=E.sibling;return m}function s(m,E){return m=Io(m,E),m.index=0,m.sibling=null,m}function i(m,E,w){return m.index=w,n?(w=m.alternate,w!==null?(w=w.index,w<E?(m.flags|=2,E):w):(m.flags|=2,E)):(m.flags|=1048576,E)}function a(m){return n&&m.alternate===null&&(m.flags|=2),m}function o(m,E,w,S){return E===null||E.tag!==6?(E=q_(w,m.mode,S),E.return=m,E):(E=s(E,w),E.return=m,E)}function l(m,E,w,S){var O=w.type;return O===Vu?d(m,E,w.props.children,S,w.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===eo&&sO(O)===E.type)?(S=s(E,w.props),S.ref=Ad(m,E,w),S.return=m,S):(S=Ng(w.type,w.key,w.props,null,m.mode,S),S.ref=Ad(m,E,w),S.return=m,S)}function u(m,E,w,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=X_(w,m.mode,S),E.return=m,E):(E=s(E,w.children||[]),E.return=m,E)}function d(m,E,w,S,O){return E===null||E.tag!==7?(E=El(w,m.mode,S,O),E.return=m,E):(E=s(E,w),E.return=m,E)}function h(m,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=q_(""+E,m.mode,w),E.return=m,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Np:return w=Ng(E.type,E.key,E.props,null,m.mode,w),w.ref=Ad(m,null,E),w.return=m,w;case Fu:return E=X_(E,m.mode,w),E.return=m,E;case eo:var S=E._init;return h(m,S(E._payload),w)}if(Qd(E)||Id(E))return E=El(E,m.mode,w,null),E.return=m,E;Kp(m,E)}return null}function f(m,E,w,S){var O=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:o(m,E,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Np:return w.key===O?l(m,E,w,S):null;case Fu:return w.key===O?u(m,E,w,S):null;case eo:return O=w._init,f(m,E,O(w._payload),S)}if(Qd(w)||Id(w))return O!==null?null:d(m,E,w,S,null);Kp(m,w)}return null}function g(m,E,w,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(w)||null,o(E,m,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Np:return m=m.get(S.key===null?w:S.key)||null,l(E,m,S,O);case Fu:return m=m.get(S.key===null?w:S.key)||null,u(E,m,S,O);case eo:var x=S._init;return g(m,E,w,x(S._payload),O)}if(Qd(S)||Id(S))return m=m.get(w)||null,d(E,m,S,O,null);Kp(E,S)}return null}function b(m,E,w,S){for(var O=null,x=null,I=E,T=E=0,P=null;I!==null&&T<w.length;T++){I.index>T?(P=I,I=null):P=I.sibling;var A=f(m,I,w[T],S);if(A===null){I===null&&(I=P);break}n&&I&&A.alternate===null&&e(m,I),E=i(A,E,T),x===null?O=A:x.sibling=A,x=A,I=P}if(T===w.length)return t(m,I),qt&&sl(m,T),O;if(I===null){for(;T<w.length;T++)I=h(m,w[T],S),I!==null&&(E=i(I,E,T),x===null?O=I:x.sibling=I,x=I);return qt&&sl(m,T),O}for(I=r(m,I);T<w.length;T++)P=g(I,m,T,w[T],S),P!==null&&(n&&P.alternate!==null&&I.delete(P.key===null?T:P.key),E=i(P,E,T),x===null?O=P:x.sibling=P,x=P);return n&&I.forEach(function(k){return e(m,k)}),qt&&sl(m,T),O}function y(m,E,w,S){var O=Id(w);if(typeof O!="function")throw Error(J(150));if(w=O.call(w),w==null)throw Error(J(151));for(var x=O=null,I=E,T=E=0,P=null,A=w.next();I!==null&&!A.done;T++,A=w.next()){I.index>T?(P=I,I=null):P=I.sibling;var k=f(m,I,A.value,S);if(k===null){I===null&&(I=P);break}n&&I&&k.alternate===null&&e(m,I),E=i(k,E,T),x===null?O=k:x.sibling=k,x=k,I=P}if(A.done)return t(m,I),qt&&sl(m,T),O;if(I===null){for(;!A.done;T++,A=w.next())A=h(m,A.value,S),A!==null&&(E=i(A,E,T),x===null?O=A:x.sibling=A,x=A);return qt&&sl(m,T),O}for(I=r(m,I);!A.done;T++,A=w.next())A=g(I,m,T,A.value,S),A!==null&&(n&&A.alternate!==null&&I.delete(A.key===null?T:A.key),E=i(A,E,T),x===null?O=A:x.sibling=A,x=A);return n&&I.forEach(function(L){return e(m,L)}),qt&&sl(m,T),O}function _(m,E,w,S){if(typeof w=="object"&&w!==null&&w.type===Vu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Np:e:{for(var O=w.key,x=E;x!==null;){if(x.key===O){if(O=w.type,O===Vu){if(x.tag===7){t(m,x.sibling),E=s(x,w.props.children),E.return=m,m=E;break e}}else if(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===eo&&sO(O)===x.type){t(m,x.sibling),E=s(x,w.props),E.ref=Ad(m,x,w),E.return=m,m=E;break e}t(m,x);break}else e(m,x);x=x.sibling}w.type===Vu?(E=El(w.props.children,m.mode,S,w.key),E.return=m,m=E):(S=Ng(w.type,w.key,w.props,null,m.mode,S),S.ref=Ad(m,E,w),S.return=m,m=S)}return a(m);case Fu:e:{for(x=w.key;E!==null;){if(E.key===x)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){t(m,E.sibling),E=s(E,w.children||[]),E.return=m,m=E;break e}else{t(m,E);break}else e(m,E);E=E.sibling}E=X_(w,m.mode,S),E.return=m,m=E}return a(m);case eo:return x=w._init,_(m,E,x(w._payload),S)}if(Qd(w))return b(m,E,w,S);if(Id(w))return y(m,E,w,S);Kp(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(t(m,E.sibling),E=s(E,w),E.return=m,m=E):(t(m,E),E=q_(w,m.mode,S),E.return=m,m=E),a(m)):t(m,E)}return _}var Sc=Fk(!0),Vk=Fk(!1),ym=Ho(null),_m=null,Gu=null,VS=null;function jS(){VS=Gu=_m=null}function US(n){var e=ym.current;Ht(ym),n._currentValue=e}function U0(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function uc(n,e){_m=n,VS=Gu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Br=!0),n.firstContext=null)}function Hs(n){var e=n._currentValue;if(VS!==n)if(n={context:n,memoizedValue:e,next:null},Gu===null){if(_m===null)throw Error(J(308));Gu=n,_m.dependencies={lanes:0,firstContext:n}}else Gu=Gu.next=n;return e}var pl=null;function BS(n){pl===null?pl=[n]:pl.push(n)}function jk(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,BS(e)):(t.next=s.next,s.next=t),e.interleaved=t,Ca(n,r)}function Ca(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var to=!1;function HS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uk(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ma(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function So(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ca(n,t)}return s=r.interleaved,s===null?(e.next=e,BS(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ca(n,t)}function Pg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,PS(n,t)}}function iO(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function bm(n,e,t,r){var s=n.updateQueue;to=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=u=l=null,o=i;do{var f=o.lane,g=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=n,y=o;switch(f=e,g=t,y.tag){case 1:if(b=y.payload,typeof b=="function"){h=b.call(g,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,f=typeof b=="function"?b.call(g,h,f):b,f==null)break e;h=on({},h,f);break e;case 2:to=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);kl|=a,n.lanes=a,n.memoizedState=h}}function aO(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var Of={},Li=Ho(Of),Uh=Ho(Of),Bh=Ho(Of);function gl(n){if(n===Of)throw Error(J(174));return n}function zS(n,e){switch(Nt(Bh,e),Nt(Uh,n),Nt(Li,Of),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=w0(e,n)}Ht(Li),Nt(Li,e)}function Cc(){Ht(Li),Ht(Uh),Ht(Bh)}function Bk(n){gl(Bh.current);var e=gl(Li.current),t=w0(e,n.type);e!==t&&(Nt(Uh,n),Nt(Li,t))}function KS(n){Uh.current===n&&(Ht(Li),Ht(Uh))}var rn=Ho(0);function wm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var H_=[];function WS(){for(var n=0;n<H_.length;n++)H_[n]._workInProgressVersionPrimary=null;H_.length=0}var xg=$a.ReactCurrentDispatcher,z_=$a.ReactCurrentBatchConfig,Dl=0,an=null,Rn=null,jn=null,Em=!1,fh=!1,Hh=0,S3=0;function ur(){throw Error(J(321))}function GS(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ci(n[t],e[t]))return!1;return!0}function YS(n,e,t,r,s,i){if(Dl=i,an=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xg.current=n===null||n.memoizedState===null?O3:P3,n=t(r,s),fh){i=0;do{if(fh=!1,Hh=0,25<=i)throw Error(J(301));i+=1,jn=Rn=null,e.updateQueue=null,xg.current=x3,n=t(r,s)}while(fh)}if(xg.current=Sm,e=Rn!==null&&Rn.next!==null,Dl=0,jn=Rn=an=null,Em=!1,e)throw Error(J(300));return n}function qS(){var n=Hh!==0;return Hh=0,n}function Ci(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?an.memoizedState=jn=n:jn=jn.next=n,jn}function zs(){if(Rn===null){var n=an.alternate;n=n!==null?n.memoizedState:null}else n=Rn.next;var e=jn===null?an.memoizedState:jn.next;if(e!==null)jn=e,Rn=n;else{if(n===null)throw Error(J(310));Rn=n,n={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},jn===null?an.memoizedState=jn=n:jn=jn.next=n}return jn}function zh(n,e){return typeof e=="function"?e(n):e}function K_(n){var e=zs(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=Rn,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((Dl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,an.lanes|=d,kl|=d}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,ci(r,e.memoizedState)||(Br=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,an.lanes|=i,kl|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function W_(n){var e=zs(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do i=n(i,a.action),a=a.next;while(a!==s);ci(i,e.memoizedState)||(Br=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function Hk(){}function zk(n,e){var t=an,r=zs(),s=e(),i=!ci(r.memoizedState,s);if(i&&(r.memoizedState=s,Br=!0),r=r.queue,XS(Gk.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||jn!==null&&jn.memoizedState.tag&1){if(t.flags|=2048,Kh(9,Wk.bind(null,t,r,s,e),void 0,null),Bn===null)throw Error(J(349));Dl&30||Kk(t,e,s)}return s}function Kk(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Wk(n,e,t,r){e.value=t,e.getSnapshot=r,Yk(e)&&qk(n)}function Gk(n,e,t){return t(function(){Yk(e)&&qk(n)})}function Yk(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ci(n,t)}catch{return!0}}function qk(n){var e=Ca(n,1);e!==null&&ai(e,n,1,-1)}function oO(n){var e=Ci();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zh,lastRenderedState:n},e.queue=n,n=n.dispatch=I3.bind(null,an,n),[e.memoizedState,n]}function Kh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function Xk(){return zs().memoizedState}function Rg(n,e,t,r){var s=Ci();an.flags|=n,s.memoizedState=Kh(1|e,t,void 0,r===void 0?null:r)}function $v(n,e,t,r){var s=zs();r=r===void 0?null:r;var i=void 0;if(Rn!==null){var a=Rn.memoizedState;if(i=a.destroy,r!==null&&GS(r,a.deps)){s.memoizedState=Kh(e,t,i,r);return}}an.flags|=n,s.memoizedState=Kh(1|e,t,i,r)}function lO(n,e){return Rg(8390656,8,n,e)}function XS(n,e){return $v(2048,8,n,e)}function Qk(n,e){return $v(4,2,n,e)}function Zk(n,e){return $v(4,4,n,e)}function Jk(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function eN(n,e,t){return t=t!=null?t.concat([n]):null,$v(4,4,Jk.bind(null,e,n),t)}function QS(){}function tN(n,e){var t=zs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&GS(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function nN(n,e){var t=zs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&GS(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function rN(n,e,t){return Dl&21?(ci(t,e)||(t=lk(),an.lanes|=t,kl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Br=!0),n.memoizedState=t)}function C3(n,e){var t=wt;wt=t!==0&&4>t?t:4,n(!0);var r=z_.transition;z_.transition={};try{n(!1),e()}finally{wt=t,z_.transition=r}}function sN(){return zs().memoizedState}function T3(n,e,t){var r=To(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},iN(n))aN(e,t);else if(t=jk(n,e,t,r),t!==null){var s=xr();ai(t,n,r,s),oN(t,e,r)}}function I3(n,e,t){var r=To(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(iN(n))aN(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,t);if(s.hasEagerState=!0,s.eagerState=o,ci(o,a)){var l=e.interleaved;l===null?(s.next=s,BS(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=jk(n,e,s,r),t!==null&&(s=xr(),ai(t,n,r,s),oN(t,e,r))}}function iN(n){var e=n.alternate;return n===an||e!==null&&e===an}function aN(n,e){fh=Em=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function oN(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,PS(n,t)}}var Sm={readContext:Hs,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},O3={readContext:Hs,useCallback:function(n,e){return Ci().memoizedState=[n,e===void 0?null:e],n},useContext:Hs,useEffect:lO,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Rg(4194308,4,Jk.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Rg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Rg(4,2,n,e)},useMemo:function(n,e){var t=Ci();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ci();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=T3.bind(null,an,n),[r.memoizedState,n]},useRef:function(n){var e=Ci();return n={current:n},e.memoizedState=n},useState:oO,useDebugValue:QS,useDeferredValue:function(n){return Ci().memoizedState=n},useTransition:function(){var n=oO(!1),e=n[0];return n=C3.bind(null,n[1]),Ci().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=an,s=Ci();if(qt){if(t===void 0)throw Error(J(407));t=t()}else{if(t=e(),Bn===null)throw Error(J(349));Dl&30||Kk(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,lO(Gk.bind(null,r,i,n),[n]),r.flags|=2048,Kh(9,Wk.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Ci(),e=Bn.identifierPrefix;if(qt){var t=da,r=ca;t=(r&~(1<<32-ii(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Hh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=S3++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},P3={readContext:Hs,useCallback:tN,useContext:Hs,useEffect:XS,useImperativeHandle:eN,useInsertionEffect:Qk,useLayoutEffect:Zk,useMemo:nN,useReducer:K_,useRef:Xk,useState:function(){return K_(zh)},useDebugValue:QS,useDeferredValue:function(n){var e=zs();return rN(e,Rn.memoizedState,n)},useTransition:function(){var n=K_(zh)[0],e=zs().memoizedState;return[n,e]},useMutableSource:Hk,useSyncExternalStore:zk,useId:sN,unstable_isNewReconciler:!1},x3={readContext:Hs,useCallback:tN,useContext:Hs,useEffect:XS,useImperativeHandle:eN,useInsertionEffect:Qk,useLayoutEffect:Zk,useMemo:nN,useReducer:W_,useRef:Xk,useState:function(){return W_(zh)},useDebugValue:QS,useDeferredValue:function(n){var e=zs();return Rn===null?e.memoizedState=n:rN(e,Rn.memoizedState,n)},useTransition:function(){var n=W_(zh)[0],e=zs().memoizedState;return[n,e]},useMutableSource:Hk,useSyncExternalStore:zk,useId:sN,unstable_isNewReconciler:!1};function Zs(n,e){if(n&&n.defaultProps){e=on({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function B0(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:on({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Fv={isMounted:function(n){return(n=n._reactInternals)?Zl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=xr(),s=To(n),i=ma(r,s);i.payload=e,t!=null&&(i.callback=t),e=So(n,i,s),e!==null&&(ai(e,n,s,r),Pg(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=xr(),s=To(n),i=ma(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=So(n,i,s),e!==null&&(ai(e,n,s,r),Pg(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=xr(),r=To(n),s=ma(t,r);s.tag=2,e!=null&&(s.callback=e),e=So(n,s,r),e!==null&&(ai(e,n,r,t),Pg(e,n,r))}};function uO(n,e,t,r,s,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!$h(t,r)||!$h(s,i):!0}function lN(n,e,t){var r=!1,s=Lo,i=e.contextType;return typeof i=="object"&&i!==null?i=Hs(i):(s=Kr(e)?Rl:_r.current,r=e.contextTypes,i=(r=r!=null)?wc(n,s):Lo),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function cO(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Fv.enqueueReplaceState(e,e.state,null)}function H0(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},HS(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hs(i):(i=Kr(e)?Rl:_r.current,s.context=wc(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(B0(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fv.enqueueReplaceState(s,s.state,null),bm(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Tc(n,e){try{var t="",r=e;do t+=rU(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function G_(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function z0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var R3=typeof WeakMap=="function"?WeakMap:Map;function uN(n,e,t){t=ma(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Tm||(Tm=!0,ew=r),z0(n,e)},t}function cN(n,e,t){t=ma(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){z0(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){z0(n,e),typeof r!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function dO(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new R3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=z3.bind(null,n,e,t),e.then(n,n))}function hO(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function fO(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ma(-1,1),e.tag=2,So(t,e,1))),t.lanes|=1),n)}var A3=$a.ReactCurrentOwner,Br=!1;function Tr(n,e,t,r){e.child=n===null?Vk(e,null,t,r):Sc(e,n.child,t,r)}function pO(n,e,t,r,s){t=t.render;var i=e.ref;return uc(e,s),r=YS(n,e,t,r,i,s),t=qS(),n!==null&&!Br?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ta(n,e,s)):(qt&&t&&LS(e),e.flags|=1,Tr(n,e,r,s),e.child)}function gO(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!iC(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,dN(n,e,i,r,s)):(n=Ng(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:$h,t(a,r)&&n.ref===e.ref)return Ta(n,e,s)}return e.flags|=1,n=Io(i,r),n.ref=e.ref,n.return=e,e.child=n}function dN(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if($h(i,r)&&n.ref===e.ref)if(Br=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(Br=!0);else return e.lanes=n.lanes,Ta(n,e,s)}return K0(n,e,t,r,s)}function hN(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(qu,as),as|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Nt(qu,as),as|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Nt(qu,as),as|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Nt(qu,as),as|=r;return Tr(n,e,s,t),e.child}function fN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function K0(n,e,t,r,s){var i=Kr(t)?Rl:_r.current;return i=wc(e,i),uc(e,s),t=YS(n,e,t,r,i,s),r=qS(),n!==null&&!Br?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ta(n,e,s)):(qt&&r&&LS(e),e.flags|=1,Tr(n,e,t,s),e.child)}function mO(n,e,t,r,s){if(Kr(t)){var i=!0;gm(e)}else i=!1;if(uc(e,s),e.stateNode===null)Ag(n,e),lN(e,t,r),H0(e,t,r,s),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=Hs(u):(u=Kr(t)?Rl:_r.current,u=wc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&cO(e,a,r,u),to=!1;var f=e.memoizedState;a.state=f,bm(e,r,a,s),l=e.memoizedState,o!==r||f!==l||zr.current||to?(typeof d=="function"&&(B0(e,t,d,r),l=e.memoizedState),(o=to||uO(e,t,o,r,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Uk(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:Zs(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Hs(l):(l=Kr(t)?Rl:_r.current,l=wc(e,l));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&cO(e,a,r,l),to=!1,f=e.memoizedState,a.state=f,bm(e,r,a,s);var b=e.memoizedState;o!==h||f!==b||zr.current||to?(typeof g=="function"&&(B0(e,t,g,r),b=e.memoizedState),(u=to||uO(e,t,u,r,f,b,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return W0(n,e,t,r,i,s)}function W0(n,e,t,r,s,i){fN(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&tO(e,t,!1),Ta(n,e,i);r=e.stateNode,A3.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=Sc(e,n.child,null,i),e.child=Sc(e,null,o,i)):Tr(n,e,o,i),e.memoizedState=r.state,s&&tO(e,t,!0),e.child}function pN(n){var e=n.stateNode;e.pendingContext?eO(n,e.pendingContext,e.pendingContext!==e.context):e.context&&eO(n,e.context,!1),zS(n,e.containerInfo)}function vO(n,e,t,r,s){return Ec(),FS(s),e.flags|=256,Tr(n,e,t,r),e.child}var G0={dehydrated:null,treeContext:null,retryLane:0};function Y0(n){return{baseLanes:n,cachePool:null,transitions:null}}function gN(n,e,t){var r=e.pendingProps,s=rn.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Nt(rn,s&1),n===null)return j0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Uv(a,r,0,null),n=El(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=Y0(t),e.memoizedState=G0,n):ZS(e,a));if(s=n.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return D3(n,e,a,r,o,s,t);if(i){i=r.fallback,a=e.mode,s=n.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Io(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Io(o,i):(i=El(i,a,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=n.child.memoizedState,a=a===null?Y0(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=G0,r}return i=n.child,n=i.sibling,r=Io(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function ZS(n,e){return e=Uv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Wp(n,e,t,r){return r!==null&&FS(r),Sc(e,n.child,null,t),n=ZS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function D3(n,e,t,r,s,i,a){if(t)return e.flags&256?(e.flags&=-257,r=G_(Error(J(422))),Wp(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Uv({mode:"visible",children:r.children},s,0,null),i=El(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Sc(e,n.child,null,a),e.child.memoizedState=Y0(a),e.memoizedState=G0,i);if(!(e.mode&1))return Wp(n,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(J(419)),r=G_(i,r,void 0),Wp(n,e,a,r)}if(o=(a&n.childLanes)!==0,Br||o){if(r=Bn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ca(n,s),ai(r,n,s,-1))}return sC(),r=G_(Error(J(421))),Wp(n,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=K3.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,us=Eo(s.nextSibling),fs=e,qt=!0,ei=null,n!==null&&(xs[Rs++]=ca,xs[Rs++]=da,xs[Rs++]=Al,ca=n.id,da=n.overflow,Al=e),e=ZS(e,r.children),e.flags|=4096,e)}function yO(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),U0(n.return,e,t)}function Y_(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function mN(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tr(n,e,r.children,t),r=rn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&yO(n,t,e);else if(n.tag===19)yO(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Nt(rn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&wm(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Y_(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&wm(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Y_(e,!0,t,null,i);break;case"together":Y_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ag(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ta(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),kl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(J(153));if(e.child!==null){for(n=e.child,t=Io(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Io(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function k3(n,e,t){switch(e.tag){case 3:pN(e),Ec();break;case 5:Bk(e);break;case 1:Kr(e.type)&&gm(e);break;case 4:zS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Nt(ym,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Nt(rn,rn.current&1),e.flags|=128,null):t&e.child.childLanes?gN(n,e,t):(Nt(rn,rn.current&1),n=Ta(n,e,t),n!==null?n.sibling:null);Nt(rn,rn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return mN(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nt(rn,rn.current),r)break;return null;case 22:case 23:return e.lanes=0,hN(n,e,t)}return Ta(n,e,t)}var vN,q0,yN,_N;vN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};q0=function(){};yN=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,gl(Li.current);var i=null;switch(t){case"input":s=v0(n,s),r=v0(n,r),i=[];break;case"select":s=on({},s,{value:void 0}),r=on({},r,{value:void 0}),i=[];break;case"textarea":s=b0(n,s),r=b0(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=fm)}E0(t,r);var a;t=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(i||(i=[]),i.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ut("scroll",n),i||o===l||(i=[])):(i=i||[]).push(u,l))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};_N=function(n,e,t,r){t!==r&&(e.flags|=4)};function Dd(n,e){if(!qt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function cr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function N3(n,e,t){var r=e.pendingProps;switch($S(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(e),null;case 1:return Kr(e.type)&&pm(),cr(e),null;case 3:return r=e.stateNode,Cc(),Ht(zr),Ht(_r),WS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(zp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ei!==null&&(rw(ei),ei=null))),q0(n,e),cr(e),null;case 5:KS(e);var s=gl(Bh.current);if(t=e.type,n!==null&&e.stateNode!=null)yN(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return cr(e),null}if(n=gl(Li.current),zp(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[Ti]=e,r[jh]=i,n=(e.mode&1)!==0,t){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(s=0;s<Jd.length;s++)Ut(Jd[s],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":OI(r,i),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ut("invalid",r);break;case"textarea":xI(r,i),Ut("invalid",r)}E0(t,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Hp(r.textContent,o,n),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Hp(r.textContent,o,n),s=["children",""+o]):Rh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ut("scroll",r)}switch(t){case"input":Mp(r),PI(r,i,!0);break;case"textarea":Mp(r),RI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=GD(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Ti]=e,n[jh]=r,vN(n,e,!1,!1),e.stateNode=n;e:{switch(a=S0(t,r),t){case"dialog":Ut("cancel",n),Ut("close",n),s=r;break;case"iframe":case"object":case"embed":Ut("load",n),s=r;break;case"video":case"audio":for(s=0;s<Jd.length;s++)Ut(Jd[s],n);s=r;break;case"source":Ut("error",n),s=r;break;case"img":case"image":case"link":Ut("error",n),Ut("load",n),s=r;break;case"details":Ut("toggle",n),s=r;break;case"input":OI(n,r),s=v0(n,r),Ut("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=on({},r,{value:void 0}),Ut("invalid",n);break;case"textarea":xI(n,r),s=b0(n,r),Ut("invalid",n);break;default:s=r}E0(t,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?XD(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YD(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ah(n,l):typeof l=="number"&&Ah(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ut("scroll",n):l!=null&&ES(n,i,l,a))}switch(t){case"input":Mp(n),PI(n,r,!1);break;case"textarea":Mp(n),RI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Mo(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?ic(n,!!r.multiple,i,!1):r.defaultValue!=null&&ic(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=fm)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cr(e),null;case 6:if(n&&e.stateNode!=null)_N(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(t=gl(Bh.current),gl(Li.current),zp(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ti]=e,(i=r.nodeValue!==t)&&(n=fs,n!==null))switch(n.tag){case 3:Hp(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Hp(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ti]=e,e.stateNode=r}return cr(e),null;case 13:if(Ht(rn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(qt&&us!==null&&e.mode&1&&!(e.flags&128))$k(),Ec(),e.flags|=98560,i=!1;else if(i=zp(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[Ti]=e}else Ec(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cr(e),i=!1}else ei!==null&&(rw(ei),ei=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||rn.current&1?kn===0&&(kn=3):sC())),e.updateQueue!==null&&(e.flags|=4),cr(e),null);case 4:return Cc(),q0(n,e),n===null&&Fh(e.stateNode.containerInfo),cr(e),null;case 10:return US(e.type._context),cr(e),null;case 17:return Kr(e.type)&&pm(),cr(e),null;case 19:if(Ht(rn),i=e.memoizedState,i===null)return cr(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Dd(i,!1);else{if(kn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=wm(n),a!==null){for(e.flags|=128,Dd(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Nt(rn,rn.current&1|2),e.child}n=n.sibling}i.tail!==null&&En()>Ic&&(e.flags|=128,r=!0,Dd(i,!1),e.lanes=4194304)}else{if(!r)if(n=wm(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Dd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!qt)return cr(e),null}else 2*En()-i.renderingStartTime>Ic&&t!==1073741824&&(e.flags|=128,r=!0,Dd(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=En(),e.sibling=null,t=rn.current,Nt(rn,r?t&1|2:t&1),e):(cr(e),null);case 22:case 23:return rC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?as&1073741824&&(cr(e),e.subtreeFlags&6&&(e.flags|=8192)):cr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function M3(n,e){switch($S(e),e.tag){case 1:return Kr(e.type)&&pm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Cc(),Ht(zr),Ht(_r),WS(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return KS(e),null;case 13:if(Ht(rn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ec()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ht(rn),null;case 4:return Cc(),null;case 10:return US(e.type._context),null;case 22:case 23:return rC(),null;case 24:return null;default:return null}}var Gp=!1,gr=!1,L3=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Yu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){hn(n,e,r)}else t.current=null}function X0(n,e,t){try{t()}catch(r){hn(n,e,r)}}var _O=!1;function $3(n,e){if(k0=cm,n=Ck(),MS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var g;h!==t||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===n)break t;if(f===t&&++u===s&&(o=a),f===i&&++d===r&&(l=a),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(N0={focusedElem:n,selectionRange:t},cm=!1,ce=e;ce!==null;)if(e=ce,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ce=n;else for(;ce!==null;){e=ce;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,_=b.memoizedState,m=e.stateNode,E=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Zs(e.type,y),_);m.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){hn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}return b=_O,_O=!1,b}function ph(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&X0(e,t,i)}s=s.next}while(s!==r)}}function Vv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Q0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function bN(n){var e=n.alternate;e!==null&&(n.alternate=null,bN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ti],delete e[jh],delete e[$0],delete e[_3],delete e[b3])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function wN(n){return n.tag===5||n.tag===3||n.tag===4}function bO(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||wN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Z0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=fm));else if(r!==4&&(n=n.child,n!==null))for(Z0(n,e,t),n=n.sibling;n!==null;)Z0(n,e,t),n=n.sibling}function J0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(J0(n,e,t),n=n.sibling;n!==null;)J0(n,e,t),n=n.sibling}var Yn=null,Js=!1;function Ka(n,e,t){for(t=t.child;t!==null;)EN(n,e,t),t=t.sibling}function EN(n,e,t){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(Av,t)}catch{}switch(t.tag){case 5:gr||Yu(t,e);case 6:var r=Yn,s=Js;Yn=null,Ka(n,e,t),Yn=r,Js=s,Yn!==null&&(Js?(n=Yn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Yn.removeChild(t.stateNode));break;case 18:Yn!==null&&(Js?(n=Yn,t=t.stateNode,n.nodeType===8?U_(n.parentNode,t):n.nodeType===1&&U_(n,t),Mh(n)):U_(Yn,t.stateNode));break;case 4:r=Yn,s=Js,Yn=t.stateNode.containerInfo,Js=!0,Ka(n,e,t),Yn=r,Js=s;break;case 0:case 11:case 14:case 15:if(!gr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&X0(t,e,a),s=s.next}while(s!==r)}Ka(n,e,t);break;case 1:if(!gr&&(Yu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){hn(t,e,o)}Ka(n,e,t);break;case 21:Ka(n,e,t);break;case 22:t.mode&1?(gr=(r=gr)||t.memoizedState!==null,Ka(n,e,t),gr=r):Ka(n,e,t);break;default:Ka(n,e,t)}}function wO(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new L3),e.forEach(function(r){var s=W3.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function Ys(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Yn=o.stateNode,Js=!1;break e;case 3:Yn=o.stateNode.containerInfo,Js=!0;break e;case 4:Yn=o.stateNode.containerInfo,Js=!0;break e}o=o.return}if(Yn===null)throw Error(J(160));EN(i,a,s),Yn=null,Js=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){hn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SN(e,n),e=e.sibling}function SN(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ys(e,n),Ei(n),r&4){try{ph(3,n,n.return),Vv(3,n)}catch(y){hn(n,n.return,y)}try{ph(5,n,n.return)}catch(y){hn(n,n.return,y)}}break;case 1:Ys(e,n),Ei(n),r&512&&t!==null&&Yu(t,t.return);break;case 5:if(Ys(e,n),Ei(n),r&512&&t!==null&&Yu(t,t.return),n.flags&32){var s=n.stateNode;try{Ah(s,"")}catch(y){hn(n,n.return,y)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&KD(s,i),S0(o,a);var u=S0(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?XD(s,h):d==="dangerouslySetInnerHTML"?YD(s,h):d==="children"?Ah(s,h):ES(s,d,h,u)}switch(o){case"input":y0(s,i);break;case"textarea":WD(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ic(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?ic(s,!!i.multiple,i.defaultValue,!0):ic(s,!!i.multiple,i.multiple?[]:"",!1))}s[jh]=i}catch(y){hn(n,n.return,y)}}break;case 6:if(Ys(e,n),Ei(n),r&4){if(n.stateNode===null)throw Error(J(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(y){hn(n,n.return,y)}}break;case 3:if(Ys(e,n),Ei(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Mh(e.containerInfo)}catch(y){hn(n,n.return,y)}break;case 4:Ys(e,n),Ei(n);break;case 13:Ys(e,n),Ei(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tC=En())),r&4&&wO(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(gr=(u=gr)||d,Ys(e,n),gr=u):Ys(e,n),Ei(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(ce=n,d=n.child;d!==null;){for(h=ce=d;ce!==null;){switch(f=ce,g=f.child,f.tag){case 0:case 11:case 14:case 15:ph(4,f,f.return);break;case 1:Yu(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){hn(r,t,y)}}break;case 5:Yu(f,f.return);break;case 22:if(f.memoizedState!==null){SO(h);continue}}g!==null?(g.return=f,ce=g):SO(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=qD("display",a))}catch(y){hn(n,n.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){hn(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ys(e,n),Ei(n),r&4&&wO(n);break;case 21:break;default:Ys(e,n),Ei(n)}}function Ei(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(wN(t)){var r=t;break e}t=t.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ah(s,""),r.flags&=-33);var i=bO(n);J0(n,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=bO(n);Z0(n,o,a);break;default:throw Error(J(161))}}catch(l){hn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function F3(n,e,t){ce=n,CN(n)}function CN(n,e,t){for(var r=(n.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Gp;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||gr;o=Gp;var u=gr;if(Gp=a,(gr=l)&&!u)for(ce=s;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?CO(s):l!==null?(l.return=a,ce=l):CO(s);for(;i!==null;)ce=i,CN(i),i=i.sibling;ce=s,Gp=o,gr=u}EO(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):EO(n)}}function EO(n){for(;ce!==null;){var e=ce;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||Vv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gr)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Zs(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&aO(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}aO(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Mh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}gr||e.flags&512&&Q0(e)}catch(f){hn(e,e.return,f)}}if(e===n){ce=null;break}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}}function SO(n){for(;ce!==null;){var e=ce;if(e===n){ce=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ce=t;break}ce=e.return}}function CO(n){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Vv(4,e)}catch(l){hn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){hn(e,s,l)}}var i=e.return;try{Q0(e)}catch(l){hn(e,i,l)}break;case 5:var a=e.return;try{Q0(e)}catch(l){hn(e,a,l)}}}catch(l){hn(e,e.return,l)}if(e===n){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var V3=Math.ceil,Cm=$a.ReactCurrentDispatcher,JS=$a.ReactCurrentOwner,Vs=$a.ReactCurrentBatchConfig,Xe=0,Bn=null,On=null,Jn=0,as=0,qu=Ho(0),kn=0,Wh=null,kl=0,jv=0,eC=0,gh=null,jr=null,tC=0,Ic=1/0,aa=null,Tm=!1,ew=null,Co=null,Yp=!1,ho=null,Im=0,mh=0,tw=null,Dg=-1,kg=0;function xr(){return Xe&6?En():Dg!==-1?Dg:Dg=En()}function To(n){return n.mode&1?Xe&2&&Jn!==0?Jn&-Jn:E3.transition!==null?(kg===0&&(kg=lk()),kg):(n=wt,n!==0||(n=window.event,n=n===void 0?16:gk(n.type)),n):1}function ai(n,e,t,r){if(50<mh)throw mh=0,tw=null,Error(J(185));Cf(n,t,r),(!(Xe&2)||n!==Bn)&&(n===Bn&&(!(Xe&2)&&(jv|=t),kn===4&&so(n,Jn)),Wr(n,r),t===1&&Xe===0&&!(e.mode&1)&&(Ic=En()+500,Lv&&zo()))}function Wr(n,e){var t=n.callbackNode;EU(n,e);var r=um(n,n===Bn?Jn:0);if(r===0)t!==null&&kI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&kI(t),e===1)n.tag===0?w3(TO.bind(null,n)):Nk(TO.bind(null,n)),v3(function(){!(Xe&6)&&zo()}),t=null;else{switch(uk(r)){case 1:t=OS;break;case 4:t=ak;break;case 16:t=lm;break;case 536870912:t=ok;break;default:t=lm}t=DN(t,TN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function TN(n,e){if(Dg=-1,kg=0,Xe&6)throw Error(J(327));var t=n.callbackNode;if(cc()&&n.callbackNode!==t)return null;var r=um(n,n===Bn?Jn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Om(n,r);else{e=r;var s=Xe;Xe|=2;var i=ON();(Bn!==n||Jn!==e)&&(aa=null,Ic=En()+500,wl(n,e));do try{B3();break}catch(o){IN(n,o)}while(!0);jS(),Cm.current=i,Xe=s,On!==null?e=0:(Bn=null,Jn=0,e=kn)}if(e!==0){if(e===2&&(s=P0(n),s!==0&&(r=s,e=nw(n,s))),e===1)throw t=Wh,wl(n,0),so(n,r),Wr(n,En()),t;if(e===6)so(n,r);else{if(s=n.current.alternate,!(r&30)&&!j3(s)&&(e=Om(n,r),e===2&&(i=P0(n),i!==0&&(r=i,e=nw(n,i))),e===1))throw t=Wh,wl(n,0),so(n,r),Wr(n,En()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:il(n,jr,aa);break;case 3:if(so(n,r),(r&130023424)===r&&(e=tC+500-En(),10<e)){if(um(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){xr(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=L0(il.bind(null,n,jr,aa),e);break}il(n,jr,aa);break;case 4:if(so(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var a=31-ii(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=En()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V3(r/1960))-r,10<r){n.timeoutHandle=L0(il.bind(null,n,jr,aa),r);break}il(n,jr,aa);break;case 5:il(n,jr,aa);break;default:throw Error(J(329))}}}return Wr(n,En()),n.callbackNode===t?TN.bind(null,n):null}function nw(n,e){var t=gh;return n.current.memoizedState.isDehydrated&&(wl(n,e).flags|=256),n=Om(n,e),n!==2&&(e=jr,jr=t,e!==null&&rw(e)),n}function rw(n){jr===null?jr=n:jr.push.apply(jr,n)}function j3(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!ci(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(n,e){for(e&=~eC,e&=~jv,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ii(e),r=1<<t;n[t]=-1,e&=~r}}function TO(n){if(Xe&6)throw Error(J(327));cc();var e=um(n,0);if(!(e&1))return Wr(n,En()),null;var t=Om(n,e);if(n.tag!==0&&t===2){var r=P0(n);r!==0&&(e=r,t=nw(n,r))}if(t===1)throw t=Wh,wl(n,0),so(n,e),Wr(n,En()),t;if(t===6)throw Error(J(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,il(n,jr,aa),Wr(n,En()),null}function nC(n,e){var t=Xe;Xe|=1;try{return n(e)}finally{Xe=t,Xe===0&&(Ic=En()+500,Lv&&zo())}}function Nl(n){ho!==null&&ho.tag===0&&!(Xe&6)&&cc();var e=Xe;Xe|=1;var t=Vs.transition,r=wt;try{if(Vs.transition=null,wt=1,n)return n()}finally{wt=r,Vs.transition=t,Xe=e,!(Xe&6)&&zo()}}function rC(){as=qu.current,Ht(qu)}function wl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,m3(t)),On!==null)for(t=On.return;t!==null;){var r=t;switch($S(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pm();break;case 3:Cc(),Ht(zr),Ht(_r),WS();break;case 5:KS(r);break;case 4:Cc();break;case 13:Ht(rn);break;case 19:Ht(rn);break;case 10:US(r.type._context);break;case 22:case 23:rC()}t=t.return}if(Bn=n,On=n=Io(n.current,null),Jn=as=e,kn=0,Wh=null,eC=jv=kl=0,jr=gh=null,pl!==null){for(e=0;e<pl.length;e++)if(t=pl[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}t.pending=r}pl=null}return n}function IN(n,e){do{var t=On;try{if(jS(),xg.current=Sm,Em){for(var r=an.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Em=!1}if(Dl=0,jn=Rn=an=null,fh=!1,Hh=0,JS.current=null,t===null||t.return===null){kn=1,Wh=e,On=null;break}e:{var i=n,a=t.return,o=t,l=e;if(e=Jn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=hO(a);if(g!==null){g.flags&=-257,fO(g,a,o,i,e),g.mode&1&&dO(i,u,e),e=g,l=u;var b=e.updateQueue;if(b===null){var y=new Set;y.add(l),e.updateQueue=y}else b.add(l);break e}else{if(!(e&1)){dO(i,u,e),sC();break e}l=Error(J(426))}}else if(qt&&o.mode&1){var _=hO(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),fO(_,a,o,i,e),FS(Tc(l,o));break e}}i=l=Tc(l,o),kn!==4&&(kn=2),gh===null?gh=[i]:gh.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=uN(i,l,e);iO(i,m);break e;case 1:o=l;var E=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Co===null||!Co.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=cN(i,o,e);iO(i,S);break e}}i=i.return}while(i!==null)}xN(t)}catch(O){e=O,On===t&&t!==null&&(On=t=t.return);continue}break}while(!0)}function ON(){var n=Cm.current;return Cm.current=Sm,n===null?Sm:n}function sC(){(kn===0||kn===3||kn===2)&&(kn=4),Bn===null||!(kl&268435455)&&!(jv&268435455)||so(Bn,Jn)}function Om(n,e){var t=Xe;Xe|=2;var r=ON();(Bn!==n||Jn!==e)&&(aa=null,wl(n,e));do try{U3();break}catch(s){IN(n,s)}while(!0);if(jS(),Xe=t,Cm.current=r,On!==null)throw Error(J(261));return Bn=null,Jn=0,kn}function U3(){for(;On!==null;)PN(On)}function B3(){for(;On!==null&&!fU();)PN(On)}function PN(n){var e=AN(n.alternate,n,as);n.memoizedProps=n.pendingProps,e===null?xN(n):On=e,JS.current=null}function xN(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=M3(t,e),t!==null){t.flags&=32767,On=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kn=6,On=null;return}}else if(t=N3(t,e,as),t!==null){On=t;return}if(e=e.sibling,e!==null){On=e;return}On=e=n}while(e!==null);kn===0&&(kn=5)}function il(n,e,t){var r=wt,s=Vs.transition;try{Vs.transition=null,wt=1,H3(n,e,t,r)}finally{Vs.transition=s,wt=r}return null}function H3(n,e,t,r){do cc();while(ho!==null);if(Xe&6)throw Error(J(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(J(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(SU(n,i),n===Bn&&(On=Bn=null,Jn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Yp||(Yp=!0,DN(lm,function(){return cc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Vs.transition,Vs.transition=null;var a=wt;wt=1;var o=Xe;Xe|=4,JS.current=null,$3(n,t),SN(t,n),u3(N0),cm=!!k0,N0=k0=null,n.current=t,F3(t),pU(),Xe=o,wt=a,Vs.transition=i}else n.current=t;if(Yp&&(Yp=!1,ho=n,Im=s),i=n.pendingLanes,i===0&&(Co=null),vU(t.stateNode),Wr(n,En()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Tm)throw Tm=!1,n=ew,ew=null,n;return Im&1&&n.tag!==0&&cc(),i=n.pendingLanes,i&1?n===tw?mh++:(mh=0,tw=n):mh=0,zo(),null}function cc(){if(ho!==null){var n=uk(Im),e=Vs.transition,t=wt;try{if(Vs.transition=null,wt=16>n?16:n,ho===null)var r=!1;else{if(n=ho,ho=null,Im=0,Xe&6)throw Error(J(331));var s=Xe;for(Xe|=4,ce=n.current;ce!==null;){var i=ce,a=i.child;if(ce.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:ph(8,d,i)}var h=d.child;if(h!==null)h.return=d,ce=h;else for(;ce!==null;){d=ce;var f=d.sibling,g=d.return;if(bN(d),d===u){ce=null;break}if(f!==null){f.return=g,ce=f;break}ce=g}}}var b=i.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}ce=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ce=a;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ph(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ce=m;break e}ce=i.return}}var E=n.current;for(ce=E;ce!==null;){a=ce;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ce=w;else e:for(a=E;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Vv(9,o)}}catch(O){hn(o,o.return,O)}if(o===a){ce=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ce=S;break e}ce=o.return}}if(Xe=s,zo(),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(Av,n)}catch{}r=!0}return r}finally{wt=t,Vs.transition=e}}return!1}function IO(n,e,t){e=Tc(t,e),e=uN(n,e,1),n=So(n,e,1),e=xr(),n!==null&&(Cf(n,1,e),Wr(n,e))}function hn(n,e,t){if(n.tag===3)IO(n,n,t);else for(;e!==null;){if(e.tag===3){IO(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Co===null||!Co.has(r))){n=Tc(t,n),n=cN(e,n,1),e=So(e,n,1),n=xr(),e!==null&&(Cf(e,1,n),Wr(e,n));break}}e=e.return}}function z3(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=xr(),n.pingedLanes|=n.suspendedLanes&t,Bn===n&&(Jn&t)===t&&(kn===4||kn===3&&(Jn&130023424)===Jn&&500>En()-tC?wl(n,0):eC|=t),Wr(n,e)}function RN(n,e){e===0&&(n.mode&1?(e=Fp,Fp<<=1,!(Fp&130023424)&&(Fp=4194304)):e=1);var t=xr();n=Ca(n,e),n!==null&&(Cf(n,e,t),Wr(n,t))}function K3(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),RN(n,t)}function W3(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),RN(n,t)}var AN;AN=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||zr.current)Br=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Br=!1,k3(n,e,t);Br=!!(n.flags&131072)}else Br=!1,qt&&e.flags&1048576&&Mk(e,vm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ag(n,e),n=e.pendingProps;var s=wc(e,_r.current);uc(e,t),s=YS(null,e,r,n,s,t);var i=qS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(r)?(i=!0,gm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,HS(e),s.updater=Fv,e.stateNode=s,s._reactInternals=e,H0(e,r,n,t),e=W0(null,e,r,!0,i,t)):(e.tag=0,qt&&i&&LS(e),Tr(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Ag(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Y3(r),n=Zs(r,n),s){case 0:e=K0(null,e,r,n,t);break e;case 1:e=mO(null,e,r,n,t);break e;case 11:e=pO(null,e,r,n,t);break e;case 14:e=gO(null,e,r,Zs(r.type,n),t);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zs(r,s),K0(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zs(r,s),mO(n,e,r,s,t);case 3:e:{if(pN(e),n===null)throw Error(J(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Uk(n,e),bm(e,r,null,t);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Tc(Error(J(423)),e),e=vO(n,e,r,t,s);break e}else if(r!==s){s=Tc(Error(J(424)),e),e=vO(n,e,r,t,s);break e}else for(us=Eo(e.stateNode.containerInfo.firstChild),fs=e,qt=!0,ei=null,t=Vk(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ec(),r===s){e=Ta(n,e,t);break e}Tr(n,e,r,t)}e=e.child}return e;case 5:return Bk(e),n===null&&j0(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,a=s.children,M0(r,s)?a=null:i!==null&&M0(r,i)&&(e.flags|=32),fN(n,e),Tr(n,e,a,t),e.child;case 6:return n===null&&j0(e),null;case 13:return gN(n,e,t);case 4:return zS(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Sc(e,null,r,t):Tr(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zs(r,s),pO(n,e,r,s,t);case 7:return Tr(n,e,e.pendingProps,t),e.child;case 8:return Tr(n,e,e.pendingProps.children,t),e.child;case 12:return Tr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Nt(ym,r._currentValue),r._currentValue=a,i!==null)if(ci(i.value,a)){if(i.children===s.children&&!zr.current){e=Ta(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ma(-1,t&-t),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),U0(i.return,t,e),o.lanes|=t;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(J(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),U0(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Tr(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,uc(e,t),s=Hs(s),r=r(s),e.flags|=1,Tr(n,e,r,t),e.child;case 14:return r=e.type,s=Zs(r,e.pendingProps),s=Zs(r.type,s),gO(n,e,r,s,t);case 15:return dN(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zs(r,s),Ag(n,e),e.tag=1,Kr(r)?(n=!0,gm(e)):n=!1,uc(e,t),lN(e,r,s),H0(e,r,s,t),W0(null,e,r,!0,n,t);case 19:return mN(n,e,t);case 22:return hN(n,e,t)}throw Error(J(156,e.tag))};function DN(n,e){return ik(n,e)}function G3(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(n,e,t,r){return new G3(n,e,t,r)}function iC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Y3(n){if(typeof n=="function")return iC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===CS)return 11;if(n===TS)return 14}return 2}function Io(n,e){var t=n.alternate;return t===null?(t=Ms(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ng(n,e,t,r,s,i){var a=2;if(r=n,typeof n=="function")iC(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Vu:return El(t.children,s,i,e);case SS:a=8,s|=8;break;case f0:return n=Ms(12,t,e,s|2),n.elementType=f0,n.lanes=i,n;case p0:return n=Ms(13,t,e,s),n.elementType=p0,n.lanes=i,n;case g0:return n=Ms(19,t,e,s),n.elementType=g0,n.lanes=i,n;case BD:return Uv(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case jD:a=10;break e;case UD:a=9;break e;case CS:a=11;break e;case TS:a=14;break e;case eo:a=16,r=null;break e}throw Error(J(130,n==null?n:typeof n,""))}return e=Ms(a,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function El(n,e,t,r){return n=Ms(7,n,r,e),n.lanes=t,n}function Uv(n,e,t,r){return n=Ms(22,n,r,e),n.elementType=BD,n.lanes=t,n.stateNode={isHidden:!1},n}function q_(n,e,t){return n=Ms(6,n,null,e),n.lanes=t,n}function X_(n,e,t){return e=Ms(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function q3(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R_(0),this.expirationTimes=R_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R_(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function aC(n,e,t,r,s,i,a,o,l){return n=new q3(n,e,t,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ms(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},HS(i),n}function X3(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fu,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function kN(n){if(!n)return Lo;n=n._reactInternals;e:{if(Zl(n)!==n||n.tag!==1)throw Error(J(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(n.tag===1){var t=n.type;if(Kr(t))return kk(n,t,e)}return e}function NN(n,e,t,r,s,i,a,o,l){return n=aC(t,r,!0,n,s,i,a,o,l),n.context=kN(null),t=n.current,r=xr(),s=To(t),i=ma(r,s),i.callback=e??null,So(t,i,s),n.current.lanes=s,Cf(n,s,r),Wr(n,r),n}function Bv(n,e,t,r){var s=e.current,i=xr(),a=To(s);return t=kN(t),e.context===null?e.context=t:e.pendingContext=t,e=ma(i,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=So(s,e,a),n!==null&&(ai(n,s,a,i),Pg(n,s,a)),a}function Pm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function OO(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function oC(n,e){OO(n,e),(n=n.alternate)&&OO(n,e)}var MN=typeof reportError=="function"?reportError:function(n){console.error(n)};function lC(n){this._internalRoot=n}Hv.prototype.render=lC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(J(409));Bv(n,e,null,null)};Hv.prototype.unmount=lC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Nl(function(){Bv(null,n,null,null)}),e[Sa]=null}};function Hv(n){this._internalRoot=n}Hv.prototype.unstable_scheduleHydration=function(n){if(n){var e=hk();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ro.length&&e!==0&&e<ro[t].priority;t++);ro.splice(t,0,n),t===0&&pk(n)}};function uC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function zv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function PO(){}function Q3(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Pm(a);i.call(u)}}var a=NN(e,r,n,0,null,!1,!1,"",PO);return n._reactRootContainer=a,n[Sa]=a.current,Fh(n.nodeType===8?n.parentNode:n),Nl(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Pm(l);o.call(u)}}var l=aC(n,0,!1,null,null,!1,!1,"",PO);return n._reactRootContainer=l,n[Sa]=l.current,Fh(n.nodeType===8?n.parentNode:n),Nl(function(){Bv(e,l,t,r)}),l}function Kv(n,e,t,r,s){var i=t._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Pm(a);o.call(l)}}Bv(e,a,n,s)}else a=Q3(t,e,n,s,r);return Pm(a)}ck=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Zd(e.pendingLanes);t!==0&&(PS(e,t|1),Wr(e,En()),!(Xe&6)&&(Ic=En()+500,zo()))}break;case 13:Nl(function(){var r=Ca(n,1);if(r!==null){var s=xr();ai(r,n,1,s)}}),oC(n,1)}};xS=function(n){if(n.tag===13){var e=Ca(n,134217728);if(e!==null){var t=xr();ai(e,n,134217728,t)}oC(n,134217728)}};dk=function(n){if(n.tag===13){var e=To(n),t=Ca(n,e);if(t!==null){var r=xr();ai(t,n,e,r)}oC(n,e)}};hk=function(){return wt};fk=function(n,e){var t=wt;try{return wt=n,e()}finally{wt=t}};T0=function(n,e,t){switch(e){case"input":if(y0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=Mv(r);if(!s)throw Error(J(90));zD(r),y0(r,s)}}}break;case"textarea":WD(n,t);break;case"select":e=t.value,e!=null&&ic(n,!!t.multiple,e,!1)}};JD=nC;ek=Nl;var Z3={usingClientEntryPoint:!1,Events:[If,Hu,Mv,QD,ZD,nC]},kd={findFiberByHostInstance:fl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J3={bundleType:kd.bundleType,version:kd.version,rendererPackageName:kd.rendererPackageName,rendererConfig:kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$a.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rk(n),n===null?null:n.stateNode},findFiberByHostInstance:kd.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{Av=qp.inject(J3),Mi=qp}catch{}}ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z3;ms.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uC(e))throw Error(J(200));return X3(n,e,null,t)};ms.createRoot=function(n,e){if(!uC(n))throw Error(J(299));var t=!1,r="",s=MN;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=aC(n,1,!1,null,null,t,!1,r,s),n[Sa]=e.current,Fh(n.nodeType===8?n.parentNode:n),new lC(e)};ms.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(J(188)):(n=Object.keys(n).join(","),Error(J(268,n)));return n=rk(e),n=n===null?null:n.stateNode,n};ms.flushSync=function(n){return Nl(n)};ms.hydrate=function(n,e,t){if(!zv(e))throw Error(J(200));return Kv(null,n,e,!0,t)};ms.hydrateRoot=function(n,e,t){if(!uC(n))throw Error(J(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",a=MN;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=NN(e,null,n,1,t??null,s,!1,i,a),n[Sa]=e.current,Fh(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Hv(e)};ms.render=function(n,e,t){if(!zv(e))throw Error(J(200));return Kv(null,n,e,!1,t)};ms.unmountComponentAtNode=function(n){if(!zv(n))throw Error(J(40));return n._reactRootContainer?(Nl(function(){Kv(null,null,n,!1,function(){n._reactRootContainer=null,n[Sa]=null})}),!0):!1};ms.unstable_batchedUpdates=nC;ms.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!zv(t))throw Error(J(200));if(n==null||n._reactInternals===void 0)throw Error(J(38));return Kv(n,e,t,!1,r)};ms.version="18.3.1-next-f1338f8080-20240426";function LN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LN)}catch(n){console.error(n)}}LN(),LD.exports=ms;var Ls=LD.exports;const cs=Ce(Ls);var xO=Ls;d0.createRoot=xO.createRoot,d0.hydrateRoot=xO.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gh.apply(this,arguments)}var fo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(fo||(fo={}));const RO="popstate";function e5(n){n===void 0&&(n={});function e(s,i){let{pathname:a="/",search:o="",hash:l=""}=Jl(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),sw("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:$N(i))}function r(s,i){cC(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return n5(e,t,r,n)}function Pn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cC(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t5(){return Math.random().toString(36).substr(2,8)}function AO(n,e){return{usr:n.state,key:n.key,idx:e}}function sw(n,e,t,r){return t===void 0&&(t=null),Gh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Jl(e):e,{state:t,key:e&&e.key||r||t5()})}function $N(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function n5(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=fo.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Gh({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=fo.Pop;let _=d(),m=_==null?null:_-u;u=_,l&&l({action:o,location:y.location,delta:m})}function f(_,m){o=fo.Push;let E=sw(y.location,_,m);t(E,_),u=d()+1;let w=AO(E,u),S=y.createHref(E);try{a.pushState(w,"",S)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(S)}i&&l&&l({action:o,location:y.location,delta:1})}function g(_,m){o=fo.Replace;let E=sw(y.location,_,m);t(E,_),u=d();let w=AO(E,u),S=y.createHref(E);a.replaceState(w,"",S),i&&l&&l({action:o,location:y.location,delta:0})}function b(_){let m=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof _=="string"?_:$N(_);return E=E.replace(/ $/,"%20"),Pn(m,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,m)}let y={get action(){return o},get location(){return n(s,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(RO,h),l=_,()=>{s.removeEventListener(RO,h),l=null}},createHref(_){return e(s,_)},createURL:b,encodeLocation(_){let m=b(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(_){return a.go(_)}};return y}var DO;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(DO||(DO={}));function r5(n,e,t){return t===void 0&&(t="/"),s5(n,e,t)}function s5(n,e,t,r){let s=typeof e=="string"?Jl(e):e,i=jN(s.pathname||"/",t);if(i==null)return null;let a=FN(n);i5(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=v5(i);o=p5(a[l],u)}return o}function FN(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Pn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Sl([r,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(Pn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),FN(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:h5(u,i.index),routesMeta:d})};return n.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of VN(i.path))s(i,a,l)}),e}function VN(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=VN(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function i5(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:f5(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const a5=/^:[\w-]+$/,o5=3,l5=2,u5=1,c5=10,d5=-2,kO=n=>n==="*";function h5(n,e){let t=n.split("/"),r=t.length;return t.some(kO)&&(r+=d5),e&&(r+=l5),t.filter(s=>!kO(s)).reduce((s,i)=>s+(a5.test(i)?o5:i===""?u5:c5),r)}function f5(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function p5(n,e,t){let{routesMeta:r}=n,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=g5({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Sl([i,h.pathname]),pathnameBase:w5(Sl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Sl([i,h.pathnameBase]))}return a}function g5(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=m5(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let y=o[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=o[h];return g&&!b?u[f]=void 0:u[f]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:n}}function m5(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),cC(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function v5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cC(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function jN(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function y5(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Jl(n):n;return{pathname:t?t.startsWith("/")?t:_5(t,e):e,search:E5(r),hash:S5(s)}}function _5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Q_(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function UN(n,e){let t=b5(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function BN(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Jl(n):(s=Gh({},n),Pn(!s.pathname||!s.pathname.includes("?"),Q_("?","pathname","search",s)),Pn(!s.pathname||!s.pathname.includes("#"),Q_("#","pathname","hash",s)),Pn(!s.search||!s.search.includes("#"),Q_("#","search","hash",s)));let i=n===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=y5(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Sl=n=>n.join("/").replace(/\/\/+/g,"/"),w5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),E5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,S5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function C5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const HN=["post","put","patch","delete"];new Set(HN);const T5=["get",...HN];new Set(T5);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yh(){return Yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yh.apply(this,arguments)}const dC=D.createContext(null),I5=D.createContext(null),Pf=D.createContext(null),Wv=D.createContext(null),eu=D.createContext({outlet:null,matches:[],isDataRoute:!1}),zN=D.createContext(null);function xf(){return D.useContext(Wv)!=null}function Gv(){return xf()||Pn(!1),D.useContext(Wv).location}function KN(n){D.useContext(Pf).static||D.useLayoutEffect(n)}function Yv(){let{isDataRoute:n}=D.useContext(eu);return n?V5():O5()}function O5(){xf()||Pn(!1);let n=D.useContext(dC),{basename:e,future:t,navigator:r}=D.useContext(Pf),{matches:s}=D.useContext(eu),{pathname:i}=Gv(),a=JSON.stringify(UN(s,t.v7_relativeSplatPath)),o=D.useRef(!1);return KN(()=>{o.current=!0}),D.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=BN(u,JSON.parse(a),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Sl([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,n])}function P5(n,e){return x5(n,e)}function x5(n,e,t,r){xf()||Pn(!1);let{navigator:s}=D.useContext(Pf),{matches:i}=D.useContext(eu),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Gv(),d;if(e){var h;let _=typeof e=="string"?Jl(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||Pn(!1),d=_}else d=u;let f=d.pathname||"/",g=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=r5(n,{pathname:g}),y=N5(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Sl([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Sl([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,t,r);return e&&y?D.createElement(Wv.Provider,{value:{location:Yh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fo.Pop}},y):y}function R5(){let n=F5(),e=C5(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:s},t):null,null)}const A5=D.createElement(R5,null);class D5 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(eu.Provider,{value:this.props.routeContext},D.createElement(zN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k5(n){let{routeContext:e,match:t,children:r}=n,s=D.useContext(dC);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(eu.Provider,{value:e},r)}function N5(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(s=t)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Pn(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=t,b=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let g,b=!1,y=null,_=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||A5,l&&(u<0&&f===0?(b=!0,_=null):u===f&&(b=!0,_=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),E=()=>{let w;return g?w=y:b?w=_:h.route.Component?w=D.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,D.createElement(k5,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?D.createElement(D5,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:E(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):E()},null)}var WN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(WN||{}),xm=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(xm||{});function M5(n){let e=D.useContext(dC);return e||Pn(!1),e}function L5(n){let e=D.useContext(I5);return e||Pn(!1),e}function $5(n){let e=D.useContext(eu);return e||Pn(!1),e}function GN(n){let e=$5(),t=e.matches[e.matches.length-1];return t.route.id||Pn(!1),t.route.id}function F5(){var n;let e=D.useContext(zN),t=L5(xm.UseRouteError),r=GN(xm.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function V5(){let{router:n}=M5(WN.UseNavigateStable),e=GN(xm.UseNavigateStable),t=D.useRef(!1);return KN(()=>{t.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Yh({fromRouteId:e},i)))},[n,e])}const NO={};function j5(n,e){NO[e]||(NO[e]=!0,console.warn(e))}const MO=(n,e,t)=>j5(n," React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function U5(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&MO("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&!e&&MO("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function iw(n){let{to:e,replace:t,state:r,relative:s}=n;xf()||Pn(!1);let{future:i,static:a}=D.useContext(Pf),{matches:o}=D.useContext(eu),{pathname:l}=Gv(),u=Yv(),d=BN(e,UN(o,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return D.useEffect(()=>u(JSON.parse(h),{replace:t,state:r,relative:s}),[u,h,s,t,r]),null}function Ja(n){Pn(!1)}function B5(n){let{basename:e="/",children:t=null,location:r,navigationType:s=fo.Pop,navigator:i,static:a=!1,future:o}=n;xf()&&Pn(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:i,static:a,future:Yh({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=Jl(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:b="default"}=r,y=D.useMemo(()=>{let _=jN(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:g,key:b},navigationType:s}},[l,d,h,f,g,b,s]);return y==null?null:D.createElement(Pf.Provider,{value:u},D.createElement(Wv.Provider,{children:t,value:y}))}function LO(n){let{children:e,location:t}=n;return P5(aw(e),t)}new Promise(()=>{});function aw(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){t.push.apply(t,aw(r.props.children,i));return}r.type!==Ja&&Pn(!1),!r.props.index||!r.props.children||Pn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=aw(r.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const H5="6";try{window.__reactRouterVersion=H5}catch{}const z5="startTransition",$O=z4[z5];function K5(n){let{basename:e,children:t,future:r,window:s}=n,i=D.useRef();i.current==null&&(i.current=e5({window:s,v5Compat:!0}));let a=i.current,[o,l]=D.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=D.useCallback(h=>{u&&$O?$O(()=>l(h)):l(h)},[l,u]);return D.useLayoutEffect(()=>a.listen(d),[a,d]),D.useEffect(()=>U5(r),[r]),D.createElement(B5,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:r})}var FO;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(FO||(FO={}));var VO;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(VO||(VO={}));function Qe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var W5={};function qv(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:W5}var YN=Object.assign,Rm=Object.getOwnPropertyDescriptor,$i=Object.defineProperty,Xv=Object.prototype,ow=[];Object.freeze(ow);var qN={};Object.freeze(qN);var G5=typeof Proxy<"u",Y5=Object.toString();function XN(){G5||Qe("Proxy not available")}function QN(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var Xu=function(){};function di(n){return typeof n=="function"}function Ml(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Qv(n){return n!==null&&typeof n=="object"}function Ia(n){if(!Qv(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===Y5}function ZN(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Rf(n,e,t){$i(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function JN(n,e,t){$i(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function tu(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(r){return Qv(r)&&r[t]===!0}}function Gc(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function q5(n){var e=Object.getPrototypeOf(n),t=Object.getPrototypeOf(e),r=Object.getPrototypeOf(t);return r===null}function la(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var eM=typeof Object.getOwnPropertySymbols<"u";function X5(n){var e=Object.keys(n);if(!eM)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(r){return Xv.propertyIsEnumerable.call(n,r)})):e}var Oc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:eM?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function tM(n){return n===null?null:typeof n=="object"?""+n:n}function va(n,e){return Xv.hasOwnProperty.call(n,e)}var Q5=Object.getOwnPropertyDescriptors||function(e){var t={};return Oc(e).forEach(function(r){t[r]=Rm(e,r)}),t};function os(n,e){return!!(n&e)}function ls(n,e,t){return t?n|=e:n&=~e,n}function jO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Z5(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eB(r.key),r)}}function Yc(n,e,t){return e&&Z5(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Qu(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=tB(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ll.apply(null,arguments)}function nM(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,lw(n,e)}function lw(n,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},lw(n,e)}function J5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function eB(n){var e=J5(n,"string");return typeof e=="symbol"?e:e+""}function tB(n,e){if(n){if(typeof n=="string")return jO(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jO(n,e):void 0}}var Ai=Symbol("mobx-stored-annotations");function Fi(n){function e(t,r){if(Df(r))return n.decorate_20223_(t,r);Af(t,r,n)}return Object.assign(e,n)}function Af(n,e,t){va(n,Ai)||Rf(n,Ai,Ll({},n[Ai])),cB(t)||(n[Ai][e]=t)}function nB(n){return va(n,Ai)||Rf(n,Ai,Ll({},n[Ai])),n[Ai]}function Df(n){return typeof n=="object"&&typeof n.kind=="string"}var Se=Symbol("mobx administration"),Ko=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=lt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return yM(this)},e.reportChanged=function(){$s(),_M(this),Fs()},e.toString=function(){return this.name_},Yc(n,[{key:"isBeingObserved",get:function(){return os(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=ls(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return os(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=ls(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return os(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ls(this.flags_,n.diffValueMask_,r===1)}}])}();Ko.isBeingObservedMask_=1;Ko.isPendingUnobservationMask_=2;Ko.diffValueMask_=4;var hC=tu("Atom",Ko);function rM(n,e,t){e===void 0&&(e=Xu),t===void 0&&(t=Xu);var r=new Ko(n);return e!==Xu&&p6(r,e),t!==Xu&&CM(r,t),r}function rB(n,e){return n===e}function sB(n,e){return _C(n,e)}function iB(n,e){return _C(n,e,1)}function aB(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Am={identity:rB,structural:sB,default:aB,shallow:iB};function $l(n,e,t){return xM(n)?n:Array.isArray(n)?Qn.array(n,{name:t}):Ia(n)?Qn.object(n,void 0,{name:t}):Gc(n)?Qn.map(n,{name:t}):la(n)?Qn.set(n,{name:t}):typeof n=="function"&&!Xh(n)&&!Qh(n)?ZN(n)?Pc(n):qh(t,n):n}function oB(n,e,t){if(n==null||ry(n)||ny(n)||ru(n)||Ii(n))return n;if(Array.isArray(n))return Qn.array(n,{name:t,deep:!1});if(Ia(n))return Qn.object(n,void 0,{name:t,deep:!1});if(Gc(n))return Qn.map(n,{name:t,deep:!1});if(la(n))return Qn.set(n,{name:t,deep:!1})}function Zv(n){return n}function lB(n,e){return _C(n,e)?e:n}var uB="override";function cB(n){return n.annotationType_===uB}function kf(n,e){return{annotationType_:n,options_:e,make_:dB,extend_:hB,decorate_20223_:fB}}function dB(n,e,t,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(n,e,t,!1)===null?0:1;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(Xh(t.value))return 1;var i=sM(n,this,e,t,!1);return $i(r,e,i),2}function hB(n,e,t,r){var s=sM(n,this,e,t);return n.defineProperty_(e,s,r)}function fB(n,e){var t=e.kind,r=e.name,s=e.addInitializer,i=this,a=function(u){var d,h,f,g;return Fl((d=(h=i.options_)==null?void 0:h.name)!=null?d:r.toString(),u,(f=(g=i.options_)==null?void 0:g.autoAction)!=null?f:!1)};if(t=="field")return function(l){var u,d=l;return Xh(d)||(d=a(d)),(u=i.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(t=="method"){var o;return Xh(n)||(n=a(n)),(o=this.options_)!=null&&o.bound&&s(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),n}Qe("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+t+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function pB(n,e,t,r){e.annotationType_,r.value}function sM(n,e,t,r,s){var i,a,o,l,u,d,h;s===void 0&&(s=ie.safeDescriptors),pB(n,e,t,r);var f=r.value;if((i=e.options_)!=null&&i.bound){var g;f=f.bind((g=n.proxy_)!=null?g:n.target_)}return{value:Fl((a=(o=e.options_)==null?void 0:o.name)!=null?a:t.toString(),f,(l=(u=e.options_)==null?void 0:u.autoAction)!=null?l:!1,(d=e.options_)!=null&&d.bound?(h=n.proxy_)!=null?h:n.target_:void 0),configurable:s?n.isPlainObject_:!0,enumerable:!1,writable:!s}}function iM(n,e){return{annotationType_:n,options_:e,make_:gB,extend_:mB,decorate_20223_:vB}}function gB(n,e,t,r){var s;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!va(n.target_,e)||!Qh(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(Qh(t.value))return 1;var i=aM(n,this,e,t,!1,!1);return $i(r,e,i),2}function mB(n,e,t,r){var s,i=aM(n,this,e,t,(s=this.options_)==null?void 0:s.bound);return n.defineProperty_(e,i,r)}function vB(n,e){var t,r=e.name,s=e.addInitializer;return Qh(n)||(n=Pc(n)),(t=this.options_)!=null&&t.bound&&s(function(){var i=this,a=i[r].bind(i);a.isMobXFlow=!0,i[r]=a}),n}function yB(n,e,t,r){e.annotationType_,r.value}function aM(n,e,t,r,s,i){i===void 0&&(i=ie.safeDescriptors),yB(n,e,t,r);var a=r.value;if(Qh(a)||(a=Pc(a)),s){var o;a=a.bind((o=n.proxy_)!=null?o:n.target_),a.isMobXFlow=!0}return{value:a,configurable:i?n.isPlainObject_:!0,enumerable:!1,writable:!i}}function fC(n,e){return{annotationType_:n,options_:e,make_:_B,extend_:bB,decorate_20223_:wB}}function _B(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function bB(n,e,t,r){return EB(n,this,e,t),n.defineComputedProperty_(e,Ll({},this.options_,{get:t.get,set:t.set}),r)}function wB(n,e){var t=this,r=e.name,s=e.addInitializer;return s(function(){var i=su(this)[Se],a=Ll({},t.options_,{get:n,context:this});a.name||(a.name="ObservableObject."+r.toString()),i.values_.set(r,new hi(a))}),function(){return this[Se].getObservablePropValue_(r)}}function EB(n,e,t,r){e.annotationType_,r.get}function Jv(n,e){return{annotationType_:n,options_:e,make_:SB,extend_:CB,decorate_20223_:TB}}function SB(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function CB(n,e,t,r){var s,i;return IB(n,this),n.defineObservableProperty_(e,t.value,(s=(i=this.options_)==null?void 0:i.enhancer)!=null?s:$l,r)}function TB(n,e){var t=this,r=e.kind,s=e.name,i=new WeakSet;function a(o,l){var u,d,h=su(o)[Se],f=new Cl(l,(u=(d=t.options_)==null?void 0:d.enhancer)!=null?u:$l,"ObservableObject."+s.toString(),!1);h.values_.set(s,f),i.add(o)}if(r=="accessor")return{get:function(){return i.has(this)||a(this,n.get.call(this)),this[Se].getObservablePropValue_(s)},set:function(l){return i.has(this)||a(this,l),this[Se].setObservablePropValue_(s,l)},init:function(l){return i.has(this)||a(this,l),l}}}function IB(n,e,t,r){e.annotationType_}var OB="true",PB=oM();function oM(n){return{annotationType_:OB,options_:n,make_:xB,extend_:RB,decorate_20223_:AB}}function xB(n,e,t,r){var s,i;if(t.get)return ey.make_(n,e,t,r);if(t.set){var a=Fl(e.toString(),t.set);return r===n.target_?n.defineProperty_(e,{configurable:ie.safeDescriptors?n.isPlainObject_:!0,set:a})===null?0:2:($i(r,e,{configurable:!0,set:a}),2)}if(r!==n.target_&&typeof t.value=="function"){var o;if(ZN(t.value)){var l,u=(l=this.options_)!=null&&l.autoBind?Pc.bound:Pc;return u.make_(n,e,t,r)}var d=(o=this.options_)!=null&&o.autoBind?qh.bound:qh;return d.make_(n,e,t,r)}var h=((s=this.options_)==null?void 0:s.deep)===!1?Qn.ref:Qn;if(typeof t.value=="function"&&(i=this.options_)!=null&&i.autoBind){var f;t.value=t.value.bind((f=n.proxy_)!=null?f:n.target_)}return h.make_(n,e,t,r)}function RB(n,e,t,r){var s,i;if(t.get)return ey.extend_(n,e,t,r);if(t.set)return n.defineProperty_(e,{configurable:ie.safeDescriptors?n.isPlainObject_:!0,set:Fl(e.toString(),t.set)},r);if(typeof t.value=="function"&&(s=this.options_)!=null&&s.autoBind){var a;t.value=t.value.bind((a=n.proxy_)!=null?a:n.target_)}var o=((i=this.options_)==null?void 0:i.deep)===!1?Qn.ref:Qn;return o.extend_(n,e,t,r)}function AB(n,e){Qe("'"+this.annotationType_+"' cannot be used as a decorator")}var DB="observable",kB="observable.ref",NB="observable.shallow",MB="observable.struct",lM={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(lM);function Xp(n){return n||lM}var uw=Jv(DB),LB=Jv(kB,{enhancer:Zv}),$B=Jv(NB,{enhancer:oB}),FB=Jv(MB,{enhancer:lB}),uM=Fi(uw);function Qp(n){return n.deep===!0?$l:n.deep===!1?Zv:jB(n.defaultDecorator)}function VB(n){var e;return n?(e=n.defaultDecorator)!=null?e:oM(n):void 0}function jB(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:$l}function cM(n,e,t){if(Df(e))return uw.decorate_20223_(n,e);if(Ml(e)){Af(n,e,uw);return}return xM(n)?n:Ia(n)?Qn.object(n,e,t):Array.isArray(n)?Qn.array(n,e):Gc(n)?Qn.map(n,e):la(n)?Qn.set(n,e):typeof n=="object"&&n!==null?n:Qn.box(n,e)}YN(cM,uM);var UB={box:function(e,t){var r=Xp(t);return new Cl(e,Qp(r),r.name,!0,r.equals)},array:function(e,t){var r=Xp(t);return(ie.useProxies===!1||r.proxy===!1?V6:x6)(e,Qp(r),r.name)},map:function(e,t){var r=Xp(t);return new AM(e,Qp(r),r.name)},set:function(e,t){var r=Xp(t);return new DM(e,Qp(r),r.name)},object:function(e,t,r){return Wo(function(){return IM(ie.useProxies===!1||(r==null?void 0:r.proxy)===!1?su({},r):C6({},r),e,t)})},ref:Fi(LB),shallow:Fi($B),deep:uM,struct:Fi(FB)},Qn=YN(cM,UB),dM="computed",BB="computed.struct",cw=fC(dM),HB=fC(BB,{equals:Am.structural}),ey=function(e,t){if(Df(t))return cw.decorate_20223_(e,t);if(Ml(t))return Af(e,t,cw);if(Ia(e))return Fi(fC(dM,e));var r=Ia(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new hi(r)};Object.assign(ey,cw);ey.struct=Fi(HB);var UO,BO,Dm=0,zB=1,KB=(UO=(BO=Rm(function(){},"name"))==null?void 0:BO.configurable)!=null?UO:!1,HO={value:"action",configurable:!0,writable:!1,enumerable:!1};function Fl(n,e,t,r){t===void 0&&(t=!1);function s(){return WB(n,t,e,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return e.toString()},KB&&(HO.value=n,$i(s,"name",HO)),s}function WB(n,e,t,r,s){var i=GB(n,e);try{return t.apply(r,s)}catch(a){throw i.error_=a,a}finally{YB(i)}}function GB(n,e,t,r){var s=!1,i=0,a=ie.trackingDerivation,o=!e||!a;$s();var l=ie.allowStateChanges;o&&(nu(),l=pC(!0));var u=mC(!0),d={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:s,startTime_:i,actionId_:zB++,parentActionId_:Dm};return Dm=d.actionId_,d}function YB(n){Dm!==n.actionId_&&Qe(30),Dm=n.parentActionId_,n.error_!==void 0&&(ie.suppressReactionErrors=!0),gC(n.prevAllowStateChanges_),vh(n.prevAllowStateReads_),Fs(),n.runAsAction_&&ya(n.prevDerivation_),ie.suppressReactionErrors=!1}function pC(n){var e=ie.allowStateChanges;return ie.allowStateChanges=n,e}function gC(n){ie.allowStateChanges=n}var Cl=function(n){function e(r,s,i,a,o){var l;return i===void 0&&(i="ObservableValue"),o===void 0&&(o=Am.default),l=n.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=s,l.name_=i,l.equals=o,l.value_=s(r,void 0,i),l}nM(e,n);var t=e.prototype;return t.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==ie.UNCHANGED&&this.setNewValue_(s)},t.prepareNewValue_=function(s){if(As(this)){var i=Ds(this,{object:this,type:Vi,newValue:s});if(!i)return ie.UNCHANGED;s=i.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?ie.UNCHANGED:s},t.setNewValue_=function(s){var i=this.value_;this.value_=s,this.reportChanged(),oi(this)&&li(this,{type:Vi,object:this,newValue:s,oldValue:i})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(s){return Nf(this,s)},t.observe_=function(s,i){return i&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:Vi,newValue:this.value_,oldValue:void 0}),Mf(this,s)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return tM(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Ko),hi=function(){function n(t){this.dependenciesState_=lt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=lt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Nm(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=km.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||Qe(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=Fl("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Am.structural:Am.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){JB(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&Qe(32,this.name_,this.derivation),ie.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)dw(this)&&(this.warnAboutUntrackedRead_(),$s(),this.value_=this.computeValue_(!1),Fs());else if(yM(this),dw(this)){var r=ie.trackingContext;this.keepAlive_&&!r&&(ie.trackingContext=this),this.trackAndCompute()&&ZB(this),ie.trackingContext=r}var s=this.value_;if(Mg(s))throw s.cause;return s},e.set=function(r){if(this.setter_){this.isRunningSetter&&Qe(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Qe(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===lt.NOT_TRACKING_,i=this.computeValue_(!0),a=s||Mg(r)||Mg(i)||!this.equals_(r,i);return a&&(this.value_=i),a},e.computeValue_=function(r){this.isComputing=!0;var s=pC(!1),i;if(r)i=hM(this,this.derivation,this.scope_);else if(ie.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(a){i=new Nm(a)}return gC(s),this.isComputing=!1,i},e.suspend_=function(){this.keepAlive_||(hw(this),this.value_=void 0)},e.observe_=function(r,s){var i=this,a=!0,o=void 0;return u6(function(){var l=i.get();if(!a||s){var u=nu();r({observableKind:"computed",debugObjectName:i.name_,type:Vi,object:i,newValue:l,oldValue:o}),ya(u)}a=!1,o=l})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return tM(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Yc(n,[{key:"isComputing",get:function(){return os(this.flags_,n.isComputingMask_)},set:function(r){this.flags_=ls(this.flags_,n.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return os(this.flags_,n.isRunningSetterMask_)},set:function(r){this.flags_=ls(this.flags_,n.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return os(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=ls(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return os(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=ls(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return os(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ls(this.flags_,n.diffValueMask_,r===1)}}])}();hi.isComputingMask_=1;hi.isRunningSetterMask_=2;hi.isBeingObservedMask_=4;hi.isPendingUnobservationMask_=8;hi.diffValueMask_=16;var ty=tu("ComputedValue",hi),lt;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(lt||(lt={}));var km;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(km||(km={}));var Nm=function(e){this.cause=void 0,this.cause=e};function Mg(n){return n instanceof Nm}function dw(n){switch(n.dependenciesState_){case lt.UP_TO_DATE_:return!1;case lt.NOT_TRACKING_:case lt.STALE_:return!0;case lt.POSSIBLY_STALE_:{for(var e=mC(!0),t=nu(),r=n.observing_,s=r.length,i=0;i<s;i++){var a=r[i];if(ty(a)){if(ie.disableErrorBoundaries)a.get();else try{a.get()}catch{return ya(t),vh(e),!0}if(n.dependenciesState_===lt.STALE_)return ya(t),vh(e),!0}}return pM(n),ya(t),vh(e),!1}}}function hM(n,e,t){var r=mC(!0);pM(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++ie.runId;var s=ie.trackingDerivation;ie.trackingDerivation=n,ie.inBatch++;var i;if(ie.disableErrorBoundaries===!0)i=e.call(t);else try{i=e.call(t)}catch(a){i=new Nm(a)}return ie.inBatch--,ie.trackingDerivation=s,qB(n),vh(r),i}function qB(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,r=lt.UP_TO_DATE_,s=0,i=n.unboundDepsCount_,a=0;a<i;a++){var o=t[a];o.diffValue===0&&(o.diffValue=1,s!==a&&(t[s]=o),s++),o.dependenciesState_>r&&(r=o.dependenciesState_)}for(t.length=s,n.newObserving_=null,i=e.length;i--;){var l=e[i];l.diffValue===0&&mM(l,n),l.diffValue=0}for(;s--;){var u=t[s];u.diffValue===1&&(u.diffValue=0,QB(u,n))}r!==lt.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function hw(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)mM(e[t],n);n.dependenciesState_=lt.NOT_TRACKING_}function fM(n){var e=nu();try{return n()}finally{ya(e)}}function nu(){var n=ie.trackingDerivation;return ie.trackingDerivation=null,n}function ya(n){ie.trackingDerivation=n}function mC(n){var e=ie.allowStateReads;return ie.allowStateReads=n,e}function vh(n){ie.allowStateReads=n}function pM(n){if(n.dependenciesState_!==lt.UP_TO_DATE_){n.dependenciesState_=lt.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=lt.UP_TO_DATE_}}var Lg=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},$g=!0,gM=!1,ie=function(){var n=qv();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&($g=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new Lg().version&&($g=!1),$g?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new Lg):(setTimeout(function(){gM||Qe(35)},1),new Lg)}();function XB(){if((ie.pendingReactions.length||ie.inBatch||ie.isRunningReactions)&&Qe(36),gM=!0,$g){var n=qv();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),ie=new Lg}}function QB(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function mM(n,e){n.observers_.delete(e),n.observers_.size===0&&vM(n)}function vM(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,ie.pendingUnobservations.push(n))}function $s(){ie.inBatch++}function Fs(){if(--ie.inBatch===0){bM();for(var n=ie.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation=!1,t.observers_.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBUO()),t instanceof hi&&t.suspend_())}ie.pendingUnobservations=[]}}function yM(n){var e=ie.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved&&ie.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&ie.inBatch>0&&vM(n),!1)}function _M(n){n.lowestObserverState_!==lt.STALE_&&(n.lowestObserverState_=lt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===lt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=lt.STALE_}))}function ZB(n){n.lowestObserverState_!==lt.STALE_&&(n.lowestObserverState_=lt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===lt.POSSIBLY_STALE_?e.dependenciesState_=lt.STALE_:e.dependenciesState_===lt.UP_TO_DATE_&&(n.lowestObserverState_=lt.UP_TO_DATE_)}))}function JB(n){n.lowestObserverState_===lt.UP_TO_DATE_&&(n.lowestObserverState_=lt.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===lt.UP_TO_DATE_&&(e.dependenciesState_=lt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Oa=function(){function n(t,r,s,i){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=lt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=km.NONE,this.name_=t,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=i}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ie.pendingReactions.push(this),bM())},e.runReaction_=function(){if(!this.isDisposed){$s(),this.isScheduled=!1;var r=ie.trackingContext;if(ie.trackingContext=this,dw(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}ie.trackingContext=r,Fs()}},e.track=function(r){if(!this.isDisposed){$s(),this.isRunning=!0;var s=ie.trackingContext;ie.trackingContext=this;var i=hM(this,r,void 0);ie.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&hw(this),Mg(i)&&this.reportExceptionInDerivation_(i.cause),Fs()}},e.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ie.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";ie.suppressReactionErrors||console.error(i,r),ie.globalReactionErrorHandlers.forEach(function(a){return a(r,s)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||($s(),hw(this),Fs()))},e.getDisposer_=function(r){var s=this,i=function a(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[Se]=this,i},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},Yc(n,[{key:"isDisposed",get:function(){return os(this.flags_,n.isDisposedMask_)},set:function(r){this.flags_=ls(this.flags_,n.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return os(this.flags_,n.isScheduledMask_)},set:function(r){this.flags_=ls(this.flags_,n.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return os(this.flags_,n.isTrackPendingMask_)},set:function(r){this.flags_=ls(this.flags_,n.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return os(this.flags_,n.isRunningMask_)},set:function(r){this.flags_=ls(this.flags_,n.isRunningMask_,r)}},{key:"diffValue",get:function(){return os(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ls(this.flags_,n.diffValueMask_,r===1)}}])}();Oa.isDisposedMask_=1;Oa.isScheduledMask_=2;Oa.isTrackPendingMask_=4;Oa.isRunningMask_=8;Oa.diffValueMask_=16;var e6=100,fw=function(e){return e()};function bM(){ie.inBatch>0||ie.isRunningReactions||fw(t6)}function t6(){ie.isRunningReactions=!0;for(var n=ie.pendingReactions,e=0;n.length>0;){++e===e6&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),r=0,s=t.length;r<s;r++)t[r].runReaction_()}ie.isRunningReactions=!1}var Mm=tu("Reaction",Oa);function n6(n){var e=fw;fw=function(r){return n(function(){return e(r)})}}function yh(){return!1}function r6(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var wM="action",s6="action.bound",EM="autoAction",i6="autoAction.bound",a6="<unnamed action>",pw=kf(wM),o6=kf(s6,{bound:!0}),gw=kf(EM,{autoAction:!0}),l6=kf(i6,{autoAction:!0,bound:!0});function SM(n){var e=function(r,s){if(di(r))return Fl(r.name||a6,r,n);if(di(s))return Fl(r,s,n);if(Df(s))return(n?gw:pw).decorate_20223_(r,s);if(Ml(s))return Af(r,s,n?gw:pw);if(Ml(r))return Fi(kf(n?EM:wM,{name:r,autoAction:n}))};return e}var Zu=SM(!1);Object.assign(Zu,pw);var qh=SM(!0);Object.assign(qh,gw);Zu.bound=Fi(o6);qh.bound=Fi(l6);function Xh(n){return di(n)&&n.isMobxAction===!0}function u6(n,e){var t,r,s,i;e===void 0&&(e=qN);var a=(t=(r=e)==null?void 0:r.name)!=null?t:"Autorun",o=!e.scheduler&&!e.delay,l;if(o)l=new Oa(a,function(){this.track(h)},e.onError,e.requiresObservable);else{var u=d6(e),d=!1;l=new Oa(a,function(){d||(d=!0,u(function(){d=!1,l.isDisposed||l.track(h)}))},e.onError,e.requiresObservable)}function h(){n(l)}return(s=e)!=null&&(s=s.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((i=e)==null?void 0:i.signal)}var c6=function(e){return e()};function d6(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:c6}var h6="onBO",f6="onBUO";function p6(n,e,t){return TM(h6,n,e,t)}function CM(n,e,t){return TM(f6,n,e,t)}function TM(n,e,t,r){var s=Fm(e),i=di(r)?r:t,a=n+"L";return s[a]?s[a].add(i):s[a]=new Set([i]),function(){var o=s[a];o&&(o.delete(i),o.size===0&&delete s[a])}}var g6="never",Zp="always",m6="observed";function v6(n){n.isolateGlobalState===!0&&XB();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(ie.useProxies=e===Zp?!0:e===g6?!1:typeof Proxy<"u"),e==="ifavailable"&&(ie.verifyProxies=!0),t!==void 0){var r=t===Zp?Zp:t===m6;ie.enforceActions=r,ie.allowStateChanges=!(r===!0||r===Zp)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in n&&(ie[s]=!!n[s])}),ie.allowStateReads=!ie.observableRequiresReaction,n.reactionScheduler&&n6(n.reactionScheduler)}function IM(n,e,t,r){var s=Q5(e);return Wo(function(){var i=su(n,r)[Se];Oc(s).forEach(function(a){i.extend_(a,s[a],t&&a in t?t[a]:!0)})}),n}function y6(n,e){return OM(Fm(n,e))}function OM(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=_6(n.observing_).map(OM)),e}function _6(n){return Array.from(new Set(n))}var b6=0;function PM(){this.message="FLOW_CANCELLED"}PM.prototype=Object.create(Error.prototype);var Z_=iM("flow"),w6=iM("flow.bound",{bound:!0}),Pc=Object.assign(function(e,t){if(Df(t))return Z_.decorate_20223_(e,t);if(Ml(t))return Af(e,t,Z_);var r=e,s=r.name||"<unnamed flow>",i=function(){var o=this,l=arguments,u=++b6,d=Zu(s+" - runid: "+u+" - init",r).apply(o,l),h,f=void 0,g=new Promise(function(b,y){var _=0;h=y;function m(S){f=void 0;var O;try{O=Zu(s+" - runid: "+u+" - yield "+_++,d.next).call(d,S)}catch(x){return y(x)}w(O)}function E(S){f=void 0;var O;try{O=Zu(s+" - runid: "+u+" - yield "+_++,d.throw).call(d,S)}catch(x){return y(x)}w(O)}function w(S){if(di(S==null?void 0:S.then)){S.then(w,y);return}return S.done?b(S.value):(f=Promise.resolve(S.value),f.then(m,E))}m(void 0)});return g.cancel=Zu(s+" - runid: "+u+" - cancel",function(){try{f&&zO(f);var b=d.return(void 0),y=Promise.resolve(b.value);y.then(Xu,Xu),zO(y),h(new PM)}catch(_){h(_)}}),g};return i.isMobXFlow=!0,i},Z_);Pc.bound=Fi(w6);function zO(n){di(n.cancel)&&n.cancel()}function Qh(n){return(n==null?void 0:n.isMobXFlow)===!0}function E6(n,e){return n?ry(n)||!!n[Se]||hC(n)||Mm(n)||ty(n):!1}function xM(n){return E6(n)}function ua(n,e){e===void 0&&(e=void 0),$s();try{return n.apply(e)}finally{Fs()}}function bu(n){return n[Se]}var S6={has:function(e,t){return bu(e).has_(t)},get:function(e,t){return bu(e).get_(t)},set:function(e,t,r){var s;return Ml(t)?(s=bu(e).set_(t,r,!0))!=null?s:!0:!1},deleteProperty:function(e,t){var r;return Ml(t)?(r=bu(e).delete_(t,!0))!=null?r:!0:!1},defineProperty:function(e,t,r){var s;return(s=bu(e).defineProperty_(t,r))!=null?s:!0},ownKeys:function(e){return bu(e).ownKeys_()},preventExtensions:function(e){Qe(13)}};function C6(n,e){var t,r;return XN(),n=su(n,e),(r=(t=n[Se]).proxy_)!=null?r:t.proxy_=new Proxy(n,S6)}function As(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function Nf(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),QN(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function Ds(n,e){var t=nu();try{for(var r=[].concat(n.interceptors_||[]),s=0,i=r.length;s<i&&(e=r[s](e),e&&!e.type&&Qe(14),!!e);s++);return e}finally{ya(t)}}function oi(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function Mf(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),QN(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function li(n,e){var t=nu(),r=n.changeListeners_;if(r){r=r.slice();for(var s=0,i=r.length;s<i;s++)r[s](e);ya(t)}}function T6(n,e,t){return Wo(function(){var r,s=su(n,t)[Se];(r=e)!=null||(e=nB(n)),Oc(e).forEach(function(i){return s.make_(i,e[i])})}),n}var J_=Symbol("mobx-keys");function I6(n,e,t){return Ia(n)?IM(n,n,e,t):(Wo(function(){var r=su(n,t)[Se];if(!n[J_]){var s=Object.getPrototypeOf(n),i=new Set([].concat(Oc(n),Oc(s)));i.delete("constructor"),i.delete(Se),Rf(s,J_,i)}n[J_].forEach(function(a){return r.make_(a,e&&a in e?e[a]:!0)})}),n)}var KO="splice",Vi="update",O6=1e4,P6={get:function(e,t){var r=e[Se];return t===Se?r:t==="length"?r.getArrayLength_():typeof t=="string"&&!isNaN(t)?r.get_(parseInt(t)):va(Lm,t)?Lm[t]:e[t]},set:function(e,t,r){var s=e[Se];return t==="length"&&s.setArrayLength_(r),typeof t=="symbol"||isNaN(t)?e[t]=r:s.set_(parseInt(t),r),!0},preventExtensions:function(){Qe(15)}},vC=function(){function n(t,r,s,i){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=i,this.atom_=new Ko(t),this.enhancer_=function(a,o){return r(a,o,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return Nf(this,r)},e.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Mf(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Qe("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var i=new Array(r-s),a=0;a<r-s;a++)i[a]=void 0;this.spliceWithArray_(s,0,i)}else this.spliceWithArray_(r,s-r)},e.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&Qe(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&LM(r+s+1)},e.spliceWithArray_=function(r,s,i){var a=this;this.atom_;var o=this.values_.length;if(r===void 0?r=0:r>o?r=o:r<0&&(r=Math.max(0,o+r)),arguments.length===1?s=o-r:s==null?s=0:s=Math.max(0,Math.min(s,o-r)),i===void 0&&(i=ow),As(this)){var l=Ds(this,{object:this.proxy_,type:KO,index:r,removedCount:s,added:i});if(!l)return ow;s=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(h){return a.enhancer_(h,void 0)}),this.legacyMode_){var u=i.length-s;this.updateArrayLength_(o,u)}var d=this.spliceItemsIntoValues_(r,s,i);return(s!==0||i.length!==0)&&this.notifyArraySplice_(r,i,d),this.dehanceValues_(d)},e.spliceItemsIntoValues_=function(r,s,i){if(i.length<O6){var a;return(a=this.values_).splice.apply(a,[r,s].concat(i))}else{var o=this.values_.slice(r,r+s),l=this.values_.slice(r+s);this.values_.length+=i.length-s;for(var u=0;u<i.length;u++)this.values_[r+u]=i[u];for(var d=0;d<l.length;d++)this.values_[r+i.length+d]=l[d];return o}},e.notifyArrayChildUpdate_=function(r,s,i){var a=!this.owned_&&yh(),o=oi(this),l=o||a?{observableKind:"array",object:this.proxy_,type:Vi,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:i}:null;this.atom_.reportChanged(),o&&li(this,l)},e.notifyArraySplice_=function(r,s,i){var a=!this.owned_&&yh(),o=oi(this),l=o||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:KO,index:r,removed:i,added:s,removedCount:i.length,addedCount:s.length}:null;this.atom_.reportChanged(),o&&li(this,l)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,s){var i=this.values_;if(this.legacyMode_&&r>i.length&&Qe(17,r,i.length),r<i.length){this.atom_;var a=i[r];if(As(this)){var o=Ds(this,{type:Vi,object:this.proxy_,index:r,newValue:s});if(!o)return;s=o.newValue}s=this.enhancer_(s,a);var l=s!==a;l&&(i[r]=s,this.notifyArrayChildUpdate_(r,s,a))}else{for(var u=new Array(r+1-i.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=s,this.spliceWithArray_(i.length,0,u)}},n}();function x6(n,e,t,r){return t===void 0&&(t="ObservableArray"),r===void 0&&(r=!1),XN(),Wo(function(){var s=new vC(t,e,r,!1);JN(s.values_,Se,s);var i=new Proxy(s.values_,P6);return s.proxy_=i,n&&n.length&&s.spliceWithArray_(0,0,n),i})}var Lm={clear:function(){return this.splice(0)},replace:function(e){var t=this[Se];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];var a=this[Se];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,s)},spliceWithArray:function(e,t,r){return this[Se].spliceWithArray_(e,t,r)},push:function(){for(var e=this[Se],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[Se].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Se],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return ie.trackingDerivation&&Qe(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ie.trackingDerivation&&Qe(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[Se],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};Lt("at",ys);Lt("concat",ys);Lt("flat",ys);Lt("includes",ys);Lt("indexOf",ys);Lt("join",ys);Lt("lastIndexOf",ys);Lt("slice",ys);Lt("toString",ys);Lt("toLocaleString",ys);Lt("toSorted",ys);Lt("toSpliced",ys);Lt("with",ys);Lt("every",mi);Lt("filter",mi);Lt("find",mi);Lt("findIndex",mi);Lt("findLast",mi);Lt("findLastIndex",mi);Lt("flatMap",mi);Lt("forEach",mi);Lt("map",mi);Lt("some",mi);Lt("toReversed",mi);Lt("reduce",RM);Lt("reduceRight",RM);function Lt(n,e){typeof Array.prototype[n]=="function"&&(Lm[n]=e(n))}function ys(n){return function(){var e=this[Se];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function mi(n){return function(e,t){var r=this,s=this[Se];s.atom_.reportObserved();var i=s.dehanceValues_(s.values_);return i[n](function(a,o){return e.call(t,a,o,r)})}}function RM(n){return function(){var e=this,t=this[Se];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_),s=arguments[0];return arguments[0]=function(i,a,o){return s(i,a,o,e)},r[n].apply(r,arguments)}}var R6=tu("ObservableArrayAdministration",vC);function ny(n){return Qv(n)&&R6(n[Se])}var A6={},po="add",$m="delete",AM=function(){function n(t,r,s){var i=this;r===void 0&&(r=$l),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Se]=A6,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,di(Map)||Qe(18),Wo(function(){i.keysAtom_=rM("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,t&&i.merge(t)})}var e=n.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var s=this;if(!ie.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var a=i=new Cl(this.has_(r),Zv,"ObservableMap.key?",!1);this.hasMap_.set(r,a),CM(a,function(){return s.hasMap_.delete(r)})}return i.get()},e.set=function(r,s){var i=this.has_(r);if(As(this)){var a=Ds(this,{type:i?Vi:po,object:this,newValue:s,name:r});if(!a)return this;s=a.newValue}return i?this.updateValue_(r,s):this.addValue_(r,s),this},e.delete=function(r){var s=this;if(this.keysAtom_,As(this)){var i=Ds(this,{type:$m,object:this,name:r});if(!i)return!1}if(this.has_(r)){var a=yh(),o=oi(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:$m,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ua(function(){var u;s.keysAtom_.reportChanged(),(u=s.hasMap_.get(r))==null||u.setNewValue_(!1);var d=s.data_.get(r);d.setNewValue_(void 0),s.data_.delete(r)}),o&&li(this,l),!0}return!1},e.updateValue_=function(r,s){var i=this.data_.get(r);if(s=i.prepareNewValue_(s),s!==ie.UNCHANGED){var a=yh(),o=oi(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:Vi,object:this,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&li(this,l)}},e.addValue_=function(r,s){var i=this;this.keysAtom_,ua(function(){var u,d=new Cl(s,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,d),s=d.value_,(u=i.hasMap_.get(r))==null||u.setNewValue_(!0),i.keysAtom_.reportChanged()});var a=yh(),o=oi(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:po,object:this,name:r,newValue:s}:null;o&&li(this,l)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,s=this.keys();return WO({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:r.get(l)}}})},e.entries=function(){var r=this,s=this.keys();return WO({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:[l,r.get(l)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,s){for(var i=Qu(this),a;!(a=i()).done;){var o=a.value,l=o[0],u=o[1];r.call(s,u,l,this)}},e.merge=function(r){var s=this;return ru(r)&&(r=new Map(r)),ua(function(){Ia(r)?X5(r).forEach(function(i){return s.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var a=i[0],o=i[1];return s.set(a,o)}):Gc(r)?(q5(r)||Qe(19,r),r.forEach(function(i,a){return s.set(a,i)})):r!=null&&Qe(20,r)}),this},e.clear=function(){var r=this;ua(function(){fM(function(){for(var s=Qu(r.keys()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},e.replace=function(r){var s=this;return ua(function(){for(var i=D6(r),a=new Map,o=!1,l=Qu(s.data_.keys()),u;!(u=l()).done;){var d=u.value;if(!i.has(d)){var h=s.delete(d);if(h)o=!0;else{var f=s.data_.get(d);a.set(d,f)}}}for(var g=Qu(i.entries()),b;!(b=g()).done;){var y=b.value,_=y[0],m=y[1],E=s.data_.has(_);if(s.set(_,m),s.data_.has(_)){var w=s.data_.get(_);a.set(_,w),E||(o=!0)}}if(!o)if(s.data_.size!==a.size)s.keysAtom_.reportChanged();else for(var S=s.data_.keys(),O=a.keys(),x=S.next(),I=O.next();!x.done;){if(x.value!==I.value){s.keysAtom_.reportChanged();break}x=S.next(),I=O.next()}s.data_=a}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,s){return Mf(this,r)},e.intercept_=function(r){return Nf(this,r)},Yc(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),ru=tu("ObservableMap",AM);function WO(n){return n[Symbol.toStringTag]="MapIterator",bC(n)}function D6(n){if(Gc(n)||ru(n))return n;if(Array.isArray(n))return new Map(n);if(Ia(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return Qe(21,n)}var k6={},DM=function(){function n(t,r,s){var i=this;r===void 0&&(r=$l),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[Se]=k6,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,di(Set)||Qe(22),this.enhancer_=function(a,o){return r(a,o,s)},Wo(function(){i.atom_=rM(i.name_),t&&i.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;ua(function(){fM(function(){for(var s=Qu(r.data_.values()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},e.forEach=function(r,s){for(var i=Qu(this),a;!(a=i()).done;){var o=a.value;r.call(s,o,o,this)}},e.add=function(r){var s=this;if(this.atom_,As(this)){var i=Ds(this,{type:po,object:this,newValue:r});if(!i)return this}if(!this.has(r)){ua(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var a=!1,o=oi(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:po,object:this,newValue:r}:null;o&&li(this,l)}return this},e.delete=function(r){var s=this;if(As(this)){var i=Ds(this,{type:$m,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var a=!1,o=oi(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:$m,object:this,oldValue:r}:null;return ua(function(){s.atom_.reportChanged(),s.data_.delete(r)}),o&&li(this,l),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,s=Array.from(this.keys()),i=Array.from(this.values());return GO({next:function(){var o=r;return r+=1,o<i.length?{value:[s[o],i[o]],done:!1}:{value:void 0,done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,s=0,i=Array.from(this.data_.values());return GO({next:function(){return s<i.length?{value:r.dehanceValue_(i[s++]),done:!1}:{value:void 0,done:!0}}})},e.intersection=function(r){if(la(r)&&!Ii(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},e.union=function(r){if(la(r)&&!Ii(r))return r.union(this);var s=new Set(this);return s.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(la(r)&&!Ii(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(la(r)&&!Ii(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},e.replace=function(r){var s=this;return Ii(r)&&(r=new Set(r)),ua(function(){Array.isArray(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):la(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):r!=null&&Qe("Cannot initialize set from "+r)}),this},e.observe_=function(r,s){return Mf(this,r)},e.intercept_=function(r){return Nf(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Yc(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Ii=tu("ObservableSet",DM);function GO(n){return n[Symbol.toStringTag]="SetIterator",bC(n)}var YO=Object.create(null),qO="remove",kM=function(){function n(t,r,s,i){r===void 0&&(r=new Map),i===void 0&&(i=PB),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=r,this.name_=s,this.defaultAnnotation_=i,this.keysAtom_=new Ko("ObservableObject.keys"),this.isPlainObject_=Ia(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,s){var i=this.values_.get(r);if(i instanceof hi)return i.set(s),!0;if(As(this)){var a=Ds(this,{type:Vi,object:this.proxy_||this.target_,name:r,newValue:s});if(!a)return null;s=a.newValue}if(s=i.prepareNewValue_(s),s!==ie.UNCHANGED){var o=oi(this),l=!1,u=o||l?{type:Vi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&li(this,u)}return!0},e.get_=function(r){return ie.trackingDerivation&&!va(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,s,i){return i===void 0&&(i=!1),va(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):i?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},e.has_=function(r){if(!ie.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Cl(r in this.target_,Zv,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},e.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var i;if((i=this.target_[Ai])!=null&&i[r])return;Qe(1,s.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==Xv;){var o=Rm(a,r);if(o){var l=s.make_(this,r,o,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}QO(this,s,r)}},e.extend_=function(r,s,i,a){if(a===void 0&&(a=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,s,a);var o=i.extend_(this,r,s,a);return o&&QO(this,i,r),o},e.defineProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{$s();var a=this.delete_(r);if(!a)return a;if(As(this)){var o=Ds(this,{object:this.proxy_||this.target_,name:r,type:po,newValue:s.value});if(!o)return null;var l=o.newValue;s.value!==l&&(s=Ll({},s,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,s))return!1}else $i(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{Fs()}return!0},e.defineObservableProperty_=function(r,s,i,a){a===void 0&&(a=!1),this.keysAtom_;try{$s();var o=this.delete_(r);if(!o)return o;if(As(this)){var l=Ds(this,{object:this.proxy_||this.target_,name:r,type:po,newValue:s});if(!l)return null;s=l.newValue}var u=XO(r),d={configurable:ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,r,d))return!1}else $i(this.target_,r,d);var h=new Cl(s,i,"ObservableObject.key",!1);this.values_.set(r,h),this.notifyPropertyAddition_(r,h.value_)}finally{Fs()}return!0},e.defineComputedProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{$s();var a=this.delete_(r);if(!a)return a;if(As(this)){var o=Ds(this,{object:this.proxy_||this.target_,name:r,type:po,newValue:void 0});if(!o)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var l=XO(r),u={configurable:ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else $i(this.target_,r,u);this.values_.set(r,new hi(s)),this.notifyPropertyAddition_(r,void 0)}finally{Fs()}return!0},e.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!va(this.target_,r))return!0;if(As(this)){var i=Ds(this,{object:this.proxy_||this.target_,name:r,type:qO});if(!i)return null}try{var a;$s();var o=oi(this),l=!1,u=this.values_.get(r),d=void 0;if(!u&&(o||l)){var h;d=(h=Rm(this.target_,r))==null?void 0:h.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Cl&&(d=u.value_),_M(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(r))==null||a.set(r in this.target_),o||l){var f={type:qO,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};o&&li(this,f)}}finally{Fs()}return!0},e.observe_=function(r,s){return Mf(this,r)},e.intercept_=function(r){return Nf(this,r)},e.notifyPropertyAddition_=function(r,s){var i,a=oi(this),o=!1;if(a||o){var l=a||o?{type:po,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;a&&li(this,l)}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Oc(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function su(n,e){var t;if(va(n,Se))return n;var r=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",s=new kM(n,new Map,String(r),VB(e));return Rf(n,Se,s),n}var N6=tu("ObservableObjectAdministration",kM);function XO(n){return YO[n]||(YO[n]={get:function(){return this[Se].getObservablePropValue_(n)},set:function(t){return this[Se].setObservablePropValue_(n,t)}})}function ry(n){return Qv(n)?N6(n[Se]):!1}function QO(n,e,t){var r;(r=n.target_[Ai])==null||delete r[t]}var M6=MM(0),L6=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1}(),eb=0,NM=function(){};function $6(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}$6(NM,Array.prototype);var yC=function(n){function e(r,s,i,a){var o;return i===void 0&&(i="ObservableArray"),a===void 0&&(a=!1),o=n.call(this)||this,Wo(function(){var l=new vC(i,s,a,!0);l.proxy_=o,JN(o,Se,l),r&&r.length&&o.spliceWithArray(0,0,r),L6&&Object.defineProperty(o,"0",M6)}),o}nM(e,n);var t=e.prototype;return t.concat=function(){this[Se].atom_.reportObserved();for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),i.map(function(o){return ny(o)?o.slice():o}))},t[Symbol.iterator]=function(){var r=this,s=0;return bC({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},Yc(e,[{key:"length",get:function(){return this[Se].getArrayLength_()},set:function(s){this[Se].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(NM);Object.entries(Lm).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&Rf(yC.prototype,e,t)});function MM(n){return{enumerable:!1,configurable:!0,get:function(){return this[Se].get_(n)},set:function(t){this[Se].set_(n,t)}}}function F6(n){$i(yC.prototype,""+n,MM(n))}function LM(n){if(n>eb){for(var e=eb;e<n+100;e++)F6(e);eb=n}}LM(1e3);function V6(n,e,t){return new yC(n,e,t)}function Fm(n,e){if(typeof n=="object"&&n!==null){if(ny(n))return e!==void 0&&Qe(23),n[Se].atom_;if(Ii(n))return n.atom_;if(ru(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||Qe(25,e,mw(n)),t}if(ry(n)){if(!e)return Qe(26);var r=n[Se].values_.get(e);return r||Qe(27,e,mw(n)),r}if(hC(n)||ty(n)||Mm(n))return n}else if(di(n)&&Mm(n[Se]))return n[Se];Qe(28)}function j6(n,e){if(n||Qe(29),hC(n)||ty(n)||Mm(n)||ru(n)||Ii(n))return n;if(n[Se])return n[Se];Qe(24,n)}function mw(n,e){var t;if(e!==void 0)t=Fm(n,e);else{if(Xh(n))return n.name;ry(n)||ru(n)||Ii(n)?t=j6(n):t=Fm(n)}return t.name_}function Wo(n){var e=nu(),t=pC(!0);$s();try{return n()}finally{Fs(),gC(t),ya(e)}}var ZO=Xv.toString;function _C(n,e,t){return t===void 0&&(t=-1),vw(n,e,t)}function vw(n,e,t,r,s){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var i=typeof n;if(i!=="function"&&i!=="object"&&typeof e!="object")return!1;var a=ZO.call(n);if(a!==ZO.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=JO(n),e=JO(e);var o=a==="[object Array]";if(!o){if(typeof n!="object"||typeof e!="object")return!1;var l=n.constructor,u=e.constructor;if(l!==u&&!(di(l)&&l instanceof l&&di(u)&&u instanceof u)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),r=r||[],s=s||[];for(var d=r.length;d--;)if(r[d]===n)return s[d]===e;if(r.push(n),s.push(e),o){if(d=n.length,d!==e.length)return!1;for(;d--;)if(!vw(n[d],e[d],t-1,r,s))return!1}else{var h=Object.keys(n),f;if(d=h.length,Object.keys(e).length!==d)return!1;for(;d--;)if(f=h[d],!(va(e,f)&&vw(n[f],e[f],t-1,r,s)))return!1}return r.pop(),s.pop(),!0}function JO(n){return ny(n)?n.slice():Gc(n)||ru(n)||la(n)||Ii(n)?Array.from(n.entries()):n}var eP,U6=((eP=qv().Iterator)==null?void 0:eP.prototype)||{};function bC(n){return n[Symbol.iterator]=B6,Object.assign(Object.create(U6),n)}function B6(){return this}["Symbol","Map","Set"].forEach(function(n){var e=qv();typeof e[n]>"u"&&Qe("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:r6,extras:{getDebugName:mw},$mobx:Se});if(!D.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!T6)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function H6(n){n()}function z6(n){n||(n=H6),v6({reactionScheduler:n})}function K6(n){return y6(n)}var W6=1e4,G6=1e4,Y6=function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=W6),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var s=Date.now();t.registrations.forEach(function(i,a){s-i.registeredAt>=r&&(t.finalize(i.value),t.registrations.delete(a))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){this.registrations.set(r,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,G6))}}),n}(),q6=typeof FinalizationRegistry<"u"?FinalizationRegistry:Y6,yw=new q6(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),$M={exports:{}},FM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=D;function X6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Q6=typeof Object.is=="function"?Object.is:X6,Z6=xc.useState,J6=xc.useEffect,eH=xc.useLayoutEffect,tH=xc.useDebugValue;function nH(n,e){var t=e(),r=Z6({inst:{value:t,getSnapshot:e}}),s=r[0].inst,i=r[1];return eH(function(){s.value=t,s.getSnapshot=e,tb(s)&&i({inst:s})},[n,t,e]),J6(function(){return tb(s)&&i({inst:s}),n(function(){tb(s)&&i({inst:s})})},[n]),tH(t),t}function tb(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Q6(n,t)}catch{return!0}}function rH(n,e){return e()}var sH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rH:nH;FM.useSyncExternalStore=xc.useSyncExternalStore!==void 0?xc.useSyncExternalStore:sH;$M.exports=FM;var iH=$M.exports;function tP(n){n.reaction=new Oa("observer".concat(n.name),function(){var e;n.stateVersion=Symbol(),(e=n.onStoreChange)===null||e===void 0||e.call(n)})}function aH(n,e){e===void 0&&(e="observed");var t=v.useRef(null);if(!t.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(o){return yw.unregister(r),r.onStoreChange=o,r.reaction||(tP(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};t.current=r}var s=t.current;s.reaction||(tP(s),yw.register(t,s,s)),v.useDebugValue(s.reaction,K6),iH.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var i,a;if(s.reaction.track(function(){try{i=n()}catch(o){a=o}}),a)throw a;return i}var nb,rb,VM=typeof Symbol=="function"&&Symbol.for,oH=(rb=(nb=Object.getOwnPropertyDescriptor(function(){},"name"))===null||nb===void 0?void 0:nb.configurable)!==null&&rb!==void 0?rb:!1,nP=VM?Symbol.for("react.forward_ref"):typeof D.forwardRef=="function"&&D.forwardRef(function(n){return null}).$$typeof,rP=VM?Symbol.for("react.memo"):typeof D.memo=="function"&&D.memo(function(n){return null}).$$typeof;function Lf(n,e){var t;if(rP&&n.$$typeof===rP)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(t=void 0)!==null&&t!==void 0?t:!1,s=n,i=n.displayName||n.name;if(nP&&n.$$typeof===nP&&(r=!0,s=n.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(o,l){return aH(function(){return s(o,l)},i)};return a.displayName=n.displayName,oH&&Object.defineProperty(a,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(a.contextTypes=n.contextTypes),r&&(a=D.forwardRef(a)),a=D.memo(a),uH(n,a),a}var lH={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function uH(n,e){Object.keys(n).forEach(function(t){lH[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}var sb;z6(Ls.unstable_batchedUpdates);sb=yw.finalizeAllImmediately;function cH(){}var jM=cH;const F=Ce(jM);var dH=Array.isArray,rr=dH;const wC=Ce(rr);var hH=typeof Dp=="object"&&Dp&&Dp.Object===Object&&Dp,UM=hH,fH=UM,pH=typeof self=="object"&&self&&self.Object===Object&&self,gH=fH||pH||Function("return this")(),vi=gH,mH=vi,vH=mH.Symbol,qc=vH,sP=qc,BM=Object.prototype,yH=BM.hasOwnProperty,_H=BM.toString,Nd=sP?sP.toStringTag:void 0;function bH(n){var e=yH.call(n,Nd),t=n[Nd];try{n[Nd]=void 0;var r=!0}catch{}var s=_H.call(n);return r&&(e?n[Nd]=t:delete n[Nd]),s}var wH=bH,EH=Object.prototype,SH=EH.toString;function CH(n){return SH.call(n)}var TH=CH,iP=qc,IH=wH,OH=TH,PH="[object Null]",xH="[object Undefined]",aP=iP?iP.toStringTag:void 0;function RH(n){return n==null?n===void 0?xH:PH:aP&&aP in Object(n)?IH(n):OH(n)}var yi=RH;function AH(n){return n!=null&&typeof n=="object"}var Yr=AH,DH=yi,kH=Yr,NH="[object Symbol]";function MH(n){return typeof n=="symbol"||kH(n)&&DH(n)==NH}var Xc=MH,LH=rr,$H=Xc,FH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VH=/^\w*$/;function jH(n,e){if(LH(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||$H(n)?!0:VH.test(n)||!FH.test(n)||e!=null&&n in Object(e)}var EC=jH;function UH(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var qr=UH;const Pa=Ce(qr);var BH=yi,HH=qr,zH="[object AsyncFunction]",KH="[object Function]",WH="[object GeneratorFunction]",GH="[object Proxy]";function YH(n){if(!HH(n))return!1;var e=BH(n);return e==KH||e==WH||e==zH||e==GH}var sy=YH;const De=Ce(sy);var qH=vi,XH=qH["__core-js_shared__"],QH=XH,ib=QH,oP=function(){var n=/[^.]+$/.exec(ib&&ib.keys&&ib.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function ZH(n){return!!oP&&oP in n}var JH=ZH,ez=Function.prototype,tz=ez.toString;function nz(n){if(n!=null){try{return tz.call(n)}catch{}try{return n+""}catch{}}return""}var HM=nz,rz=sy,sz=JH,iz=qr,az=HM,oz=/[\\^$.*+?()[\]{}|]/g,lz=/^\[object .+?Constructor\]$/,uz=Function.prototype,cz=Object.prototype,dz=uz.toString,hz=cz.hasOwnProperty,fz=RegExp("^"+dz.call(hz).replace(oz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pz(n){if(!iz(n)||sz(n))return!1;var e=rz(n)?fz:lz;return e.test(az(n))}var gz=pz;function mz(n,e){return n==null?void 0:n[e]}var vz=mz,yz=gz,_z=vz;function bz(n,e){var t=_z(n,e);return yz(t)?t:void 0}var iu=bz,wz=iu,Ez=wz(Object,"create"),iy=Ez,lP=iy;function Sz(){this.__data__=lP?lP(null):{},this.size=0}var Cz=Sz;function Tz(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Iz=Tz,Oz=iy,Pz="__lodash_hash_undefined__",xz=Object.prototype,Rz=xz.hasOwnProperty;function Az(n){var e=this.__data__;if(Oz){var t=e[n];return t===Pz?void 0:t}return Rz.call(e,n)?e[n]:void 0}var Dz=Az,kz=iy,Nz=Object.prototype,Mz=Nz.hasOwnProperty;function Lz(n){var e=this.__data__;return kz?e[n]!==void 0:Mz.call(e,n)}var $z=Lz,Fz=iy,Vz="__lodash_hash_undefined__";function jz(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Fz&&e===void 0?Vz:e,this}var Uz=jz,Bz=Cz,Hz=Iz,zz=Dz,Kz=$z,Wz=Uz;function Qc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Qc.prototype.clear=Bz;Qc.prototype.delete=Hz;Qc.prototype.get=zz;Qc.prototype.has=Kz;Qc.prototype.set=Wz;var Gz=Qc;function Yz(){this.__data__=[],this.size=0}var qz=Yz;function Xz(n,e){return n===e||n!==n&&e!==e}var $f=Xz,Qz=$f;function Zz(n,e){for(var t=n.length;t--;)if(Qz(n[t][0],e))return t;return-1}var ay=Zz,Jz=ay,e9=Array.prototype,t9=e9.splice;function n9(n){var e=this.__data__,t=Jz(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():t9.call(e,t,1),--this.size,!0}var r9=n9,s9=ay;function i9(n){var e=this.__data__,t=s9(e,n);return t<0?void 0:e[t][1]}var a9=i9,o9=ay;function l9(n){return o9(this.__data__,n)>-1}var u9=l9,c9=ay;function d9(n,e){var t=this.__data__,r=c9(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var h9=d9,f9=qz,p9=r9,g9=a9,m9=u9,v9=h9;function Zc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Zc.prototype.clear=f9;Zc.prototype.delete=p9;Zc.prototype.get=g9;Zc.prototype.has=m9;Zc.prototype.set=v9;var oy=Zc,y9=iu,_9=vi,b9=y9(_9,"Map"),SC=b9,uP=Gz,w9=oy,E9=SC;function S9(){this.size=0,this.__data__={hash:new uP,map:new(E9||w9),string:new uP}}var C9=S9;function T9(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var I9=T9,O9=I9;function P9(n,e){var t=n.__data__;return O9(e)?t[typeof e=="string"?"string":"hash"]:t.map}var ly=P9,x9=ly;function R9(n){var e=x9(this,n).delete(n);return this.size-=e?1:0,e}var A9=R9,D9=ly;function k9(n){return D9(this,n).get(n)}var N9=k9,M9=ly;function L9(n){return M9(this,n).has(n)}var $9=L9,F9=ly;function V9(n,e){var t=F9(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var j9=V9,U9=C9,B9=A9,H9=N9,z9=$9,K9=j9;function Jc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Jc.prototype.clear=U9;Jc.prototype.delete=B9;Jc.prototype.get=H9;Jc.prototype.has=z9;Jc.prototype.set=K9;var CC=Jc,zM=CC,W9="Expected a function";function TC(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(W9);var t=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=t.cache;if(i.has(s))return i.get(s);var a=n.apply(this,r);return t.cache=i.set(s,a)||i,a};return t.cache=new(TC.Cache||zM),t}TC.Cache=zM;var G9=TC,Y9=G9,q9=500;function X9(n){var e=Y9(n,function(r){return t.size===q9&&t.clear(),r}),t=e.cache;return e}var Q9=X9,Z9=Q9,J9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eK=/\\(\\)?/g,tK=Z9(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(J9,function(t,r,s,i){e.push(s?i.replace(eK,"$1"):r||t)}),e}),KM=tK;function nK(n,e){for(var t=-1,r=n==null?0:n.length,s=Array(r);++t<r;)s[t]=e(n[t],t,n);return s}var ed=nK,cP=qc,rK=ed,sK=rr,iK=Xc,aK=1/0,dP=cP?cP.prototype:void 0,hP=dP?dP.toString:void 0;function WM(n){if(typeof n=="string")return n;if(sK(n))return rK(n,WM)+"";if(iK(n))return hP?hP.call(n):"";var e=n+"";return e=="0"&&1/n==-aK?"-0":e}var GM=WM,oK=GM;function lK(n){return n==null?"":oK(n)}var uy=lK;const wu=Ce(uy);var uK=rr,cK=EC,dK=KM,hK=uy;function fK(n,e){return uK(n)?n:cK(n,e)?[n]:dK(hK(n))}var td=fK,pK=Xc,gK=1/0;function mK(n){if(typeof n=="string"||pK(n))return n;var e=n+"";return e=="0"&&1/n==-gK?"-0":e}var au=mK,vK=td,yK=au;function _K(n,e){e=vK(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[yK(e[t++])];return t&&t==r?n:void 0}var cy=_K,bK=cy;function wK(n,e,t){var r=n==null?void 0:bK(n,e);return r===void 0?t:r}var YM=wK;const Z=Ce(YM),qM=function(n){if(Z(process,"env.NODE_ENV")==="development"){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console.log(n,...t)}};class ke{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:F,getProps:F,getState:F,getStates:F,setState:F,getContext:F,getContexts:F,getCache:F,setCache:F,getCaches:F,stopPropagation:F,persistEvent:F}}constructor(e){this._adapter=Object.assign(Object.assign({},ke.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,t){return this._adapter.setState(Object.assign({},e),t)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,t){return e&&this._adapter.setCache(e,t)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const t=this.getProps();return e in t}_isInProps(e){const t=this.getProps();return e in t}init(e){}destroy(){}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];qM(e,...r)}_persistEvent(e){this._adapter.persistEvent(e)}}function Zh(n){return Object.keys(n).reduce((e,t)=>(t.substr(0,5)==="data-"&&(e[t]=n[t]),e),{})}const{hasOwnProperty:EK}=Object.prototype;class Ae extends D.Component{constructor(e){super(e),this.isControlled=t=>!!(t&&this.props&&typeof this.props=="object"&&EK.call(this.props,t)),this.setStateAsync=t=>new Promise(r=>{this.setState(t,r)}),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&typeof this.foundation.init=="function"&&this.foundation.init()}componentWillUnmount(){this.foundation&&typeof this.foundation.destroy=="function"&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,t)=>this.setState(Object.assign({},e),t),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,t)=>e&&(this.cache[e]=t),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch{}},persistEvent:e=>{e&&e.persist&&typeof e.persist=="function"&&e.persist()}}}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return qM(e,...r)}getDataAttr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return Zh(e)}}Ae.propTypes={};Ae.defaultProps={};var SK=vi,CK=function(){return SK.Date.now()},TK=CK,IK=/\s/;function OK(n){for(var e=n.length;e--&&IK.test(n.charAt(e)););return e}var PK=OK,xK=PK,RK=/^\s+/;function AK(n){return n&&n.slice(0,xK(n)+1).replace(RK,"")}var DK=AK,kK=DK,fP=qr,NK=Xc,pP=NaN,MK=/^[-+]0x[0-9a-f]+$/i,LK=/^0b[01]+$/i,$K=/^0o[0-7]+$/i,FK=parseInt;function VK(n){if(typeof n=="number")return n;if(NK(n))return pP;if(fP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=fP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=kK(n);var t=LK.test(n);return t||$K.test(n)?FK(n.slice(2),t?2:8):MK.test(n)?pP:+n}var IC=VK;const ks=Ce(IC);var jK=qr,ab=TK,gP=IC,UK="Expected a function",BK=Math.max,HK=Math.min;function zK(n,e,t){var r,s,i,a,o,l,u=0,d=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(UK);e=gP(e)||0,jK(t)&&(d=!!t.leading,h="maxWait"in t,i=h?BK(gP(t.maxWait)||0,e):i,f="trailing"in t?!!t.trailing:f);function g(x){var I=r,T=s;return r=s=void 0,u=x,a=n.apply(T,I),a}function b(x){return u=x,o=setTimeout(m,e),d?g(x):a}function y(x){var I=x-l,T=x-u,P=e-I;return h?HK(P,i-T):P}function _(x){var I=x-l,T=x-u;return l===void 0||I>=e||I<0||h&&T>=i}function m(){var x=ab();if(_(x))return E(x);o=setTimeout(m,y(x))}function E(x){return o=void 0,f&&r?g(x):(r=s=void 0,a)}function w(){o!==void 0&&clearTimeout(o),u=0,r=l=s=o=void 0}function S(){return o===void 0?a:E(ab())}function O(){var x=ab(),I=_(x);if(r=arguments,s=this,l=x,I){if(o===void 0)return b(l);if(h)return clearTimeout(o),o=setTimeout(m,e),g(l)}return o===void 0&&(o=setTimeout(m,e)),a}return O.cancel=w,O.flush=S,O}var XM=zK;const QM=Ce(XM);var KK=XM,WK=qr,GK="Expected a function";function YK(n,e,t){var r=!0,s=!0;if(typeof n!="function")throw new TypeError(GK);return WK(t)&&(r="leading"in t?!!t.leading:r,s="trailing"in t?!!t.trailing:s),KK(n,e,{leading:r,maxWait:e,trailing:s})}var qK=YK;const Vm=Ce(qK);var ZM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(i=s(i,r(o)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var o in i)e.call(i,o)&&i[o]&&(a=s(a,o));return a}function s(i,a){return a?i?i+" "+a:i+a:i}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(ZM);var XK=ZM.exports;const $=Ce(XK);var JM={exports:{}},QK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZK=QK,JK=ZK;function eL(){}function tL(){}tL.resetWarningCache=eL;var eW=function(){function n(r,s,i,a,o,l){if(l!==JK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tL,resetWarningCache:eL};return t.PropTypes=t,t};JM.exports=eW();var tW=JM.exports;const c=Ce(tW),W="semi",nd=["default","error","warning","success"];function mP(n){return typeof n=="object"&&n!=null&&n.nodeType===1}function vP(n,e){return(!e||n!=="hidden")&&n!=="visible"&&n!=="clip"}function ob(n,e){if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){var t=getComputedStyle(n,null);return vP(t.overflowY,e)||vP(t.overflowX,e)||function(r){var s=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!s&&(s.clientHeight<r.scrollHeight||s.clientWidth<r.scrollWidth)}(n)}return!1}function Jp(n,e,t,r,s,i,a,o){return i<n&&a>e||i>n&&a<e?0:i<=n&&o<=t||a>=e&&o>=t?i-n-r:a>e&&o<t||i<n&&o>t?a-e+s:0}var yP=function(n,e){var t=window,r=e.scrollMode,s=e.block,i=e.inline,a=e.boundary,o=e.skipOverflowHiddenElements,l=typeof a=="function"?a:function(pt){return pt!==a};if(!mP(n))throw new TypeError("Invalid target");for(var u,d,h=document.scrollingElement||document.documentElement,f=[],g=n;mP(g)&&l(g);){if((g=(d=(u=g).parentElement)==null?u.getRootNode().host||null:d)===h){f.push(g);break}g!=null&&g===document.body&&ob(g)&&!ob(document.documentElement)||g!=null&&ob(g,o)&&f.push(g)}for(var b=t.visualViewport?t.visualViewport.width:innerWidth,y=t.visualViewport?t.visualViewport.height:innerHeight,_=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,E=n.getBoundingClientRect(),w=E.height,S=E.width,O=E.top,x=E.right,I=E.bottom,T=E.left,P=s==="start"||s==="nearest"?O:s==="end"?I:O+w/2,A=i==="center"?T+S/2:i==="end"?x:T,k=[],L=0;L<f.length;L++){var N=f[L],K=N.getBoundingClientRect(),G=K.height,z=K.width,ee=K.top,V=K.right,H=K.bottom,U=K.left;if(r==="if-needed"&&O>=0&&T>=0&&I<=y&&x<=b&&O>=ee&&I<=H&&T>=U&&x<=V)return k;var ae=getComputedStyle(N),ne=parseInt(ae.borderLeftWidth,10),re=parseInt(ae.borderTopWidth,10),de=parseInt(ae.borderRightWidth,10),be=parseInt(ae.borderBottomWidth,10),ve=0,ge=0,pe="offsetWidth"in N?N.offsetWidth-N.clientWidth-ne-de:0,te="offsetHeight"in N?N.offsetHeight-N.clientHeight-re-be:0,le="offsetWidth"in N?N.offsetWidth===0?0:z/N.offsetWidth:0,ut="offsetHeight"in N?N.offsetHeight===0?0:G/N.offsetHeight:0;if(h===N)ve=s==="start"?P:s==="end"?P-y:s==="nearest"?Jp(m,m+y,y,re,be,m+P,m+P+w,w):P-y/2,ge=i==="start"?A:i==="center"?A-b/2:i==="end"?A-b:Jp(_,_+b,b,ne,de,_+A,_+A+S,S),ve=Math.max(0,ve+m),ge=Math.max(0,ge+_);else{ve=s==="start"?P-ee-re:s==="end"?P-H+be+te:s==="nearest"?Jp(ee,H,G,re,be+te,P,P+w,w):P-(ee+G/2)+te/2,ge=i==="start"?A-U-ne:i==="center"?A-(U+z/2)+pe/2:i==="end"?A-V+de+pe:Jp(U,V,z,ne,de+pe,A,A+S,S);var St=N.scrollLeft,Zt=N.scrollTop;P+=Zt-(ve=Math.max(0,Math.min(Zt+ve/ut,N.scrollHeight-G/ut+te))),A+=St-(ge=Math.max(0,Math.min(St+ge/le,N.scrollWidth-z/le+pe)))}k.push({el:N,top:ve,left:ge})}return k};function nL(n){return n===Object(n)&&Object.keys(n).length!==0}function nW(n,e){e===void 0&&(e="auto");var t="scrollBehavior"in document.body.style;n.forEach(function(r){var s=r.el,i=r.top,a=r.left;s.scroll&&t?s.scroll({top:i,left:a,behavior:e}):(s.scrollTop=i,s.scrollLeft=a)})}function rW(n){return n===!1?{block:"end",inline:"nearest"}:nL(n)?n:{block:"start",inline:"nearest"}}function lb(n,e){var t=n.isConnected||n.ownerDocument.documentElement.contains(n);if(nL(e)&&typeof e.behavior=="function")return e.behavior(t?yP(n,e):[]);if(t){var r=rW(e);return nW(yP(n,r),r.behavior)}}const dy={PREFIX:`${W}-typography`},vr={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small","inherit"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]};var sW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const iW=dy.PREFIX;let hy=class extends D.PureComponent{render(){const e=this.props,{component:t,className:r,children:s,forwardRef:i}=e,a=sW(e,["component","className","children","forwardRef"]),o=t,l=$(iW,r);return v.createElement(o,Object.assign({className:l,ref:i},a),s)}};hy.defaultProps={component:"article",style:{},className:""};hy.propTypes={component:c.string,style:c.object,className:c.string};function aW(n){return n===null}var oW=aW;const Vl=Ce(oW);var lW=yi,uW=rr,cW=Yr,dW="[object String]";function hW(n){return typeof n=="string"||!uW(n)&&cW(n)&&lW(n)==dW}var rL=hW;const Re=Ce(rL);var fW=oy;function pW(){this.__data__=new fW,this.size=0}var gW=pW;function mW(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var vW=mW;function yW(n){return this.__data__.get(n)}var _W=yW;function bW(n){return this.__data__.has(n)}var wW=bW,EW=oy,SW=SC,CW=CC,TW=200;function IW(n,e){var t=this.__data__;if(t instanceof EW){var r=t.__data__;if(!SW||r.length<TW-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new CW(r)}return t.set(n,e),this.size=t.size,this}var OW=IW,PW=oy,xW=gW,RW=vW,AW=_W,DW=wW,kW=OW;function rd(n){var e=this.__data__=new PW(n);this.size=e.size}rd.prototype.clear=xW;rd.prototype.delete=RW;rd.prototype.get=AW;rd.prototype.has=DW;rd.prototype.set=kW;var fy=rd,NW=iu,MW=function(){try{var n=NW(Object,"defineProperty");return n({},"",{}),n}catch{}}(),sL=MW,_P=sL;function LW(n,e,t){e=="__proto__"&&_P?_P(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var OC=LW,$W=OC,FW=$f;function VW(n,e,t){(t!==void 0&&!FW(n[e],t)||t===void 0&&!(e in n))&&$W(n,e,t)}var iL=VW;function jW(n){return function(e,t,r){for(var s=-1,i=Object(e),a=r(e),o=a.length;o--;){var l=a[n?o:++s];if(t(i[l],l,i)===!1)break}return e}}var UW=jW,BW=UW,HW=BW(),aL=HW,jm={exports:{}};jm.exports;(function(n,e){var t=vi,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,a=i?t.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var h=u.length,f=o?o(h):new u.constructor(h);return u.copy(f),f}n.exports=l})(jm,jm.exports);var oL=jm.exports,zW=vi,KW=zW.Uint8Array,lL=KW,bP=lL;function WW(n){var e=new n.constructor(n.byteLength);return new bP(e).set(new bP(n)),e}var PC=WW,GW=PC;function YW(n,e){var t=e?GW(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var uL=YW;function qW(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var xC=qW,XW=qr,wP=Object.create,QW=function(){function n(){}return function(e){if(!XW(e))return{};if(wP)return wP(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),ZW=QW;function JW(n,e){return function(t){return n(e(t))}}var cL=JW,e8=cL,t8=e8(Object.getPrototypeOf,Object),RC=t8,n8=Object.prototype;function r8(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||n8;return n===t}var Ff=r8,s8=ZW,i8=RC,a8=Ff;function o8(n){return typeof n.constructor=="function"&&!a8(n)?s8(i8(n)):{}}var dL=o8,l8=yi,u8=Yr,c8="[object Arguments]";function d8(n){return u8(n)&&l8(n)==c8}var h8=d8,EP=h8,f8=Yr,hL=Object.prototype,p8=hL.hasOwnProperty,g8=hL.propertyIsEnumerable,m8=EP(function(){return arguments}())?EP:function(n){return f8(n)&&p8.call(n,"callee")&&!g8.call(n,"callee")},Vf=m8,v8=9007199254740991;function y8(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=v8}var AC=y8,_8=sy,b8=AC;function w8(n){return n!=null&&b8(n.length)&&!_8(n)}var Zi=w8,E8=Zi,S8=Yr;function C8(n){return S8(n)&&E8(n)}var fL=C8,Um={exports:{}};function T8(){return!1}var pL=T8;const Jh=Ce(pL);Um.exports;(function(n,e){var t=vi,r=pL,s=e&&!e.nodeType&&e,i=s&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===s,o=a?t.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;n.exports=u})(Um,Um.exports);var jf=Um.exports,I8=yi,O8=RC,P8=Yr,x8="[object Object]",R8=Function.prototype,A8=Object.prototype,gL=R8.toString,D8=A8.hasOwnProperty,k8=gL.call(Object);function N8(n){if(!P8(n)||I8(n)!=x8)return!1;var e=O8(n);if(e===null)return!0;var t=D8.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&gL.call(t)==k8}var DC=N8;const M8=Ce(DC);var L8=yi,$8=AC,F8=Yr,V8="[object Arguments]",j8="[object Array]",U8="[object Boolean]",B8="[object Date]",H8="[object Error]",z8="[object Function]",K8="[object Map]",W8="[object Number]",G8="[object Object]",Y8="[object RegExp]",q8="[object Set]",X8="[object String]",Q8="[object WeakMap]",Z8="[object ArrayBuffer]",J8="[object DataView]",e7="[object Float32Array]",t7="[object Float64Array]",n7="[object Int8Array]",r7="[object Int16Array]",s7="[object Int32Array]",i7="[object Uint8Array]",a7="[object Uint8ClampedArray]",o7="[object Uint16Array]",l7="[object Uint32Array]",Bt={};Bt[e7]=Bt[t7]=Bt[n7]=Bt[r7]=Bt[s7]=Bt[i7]=Bt[a7]=Bt[o7]=Bt[l7]=!0;Bt[V8]=Bt[j8]=Bt[Z8]=Bt[U8]=Bt[J8]=Bt[B8]=Bt[H8]=Bt[z8]=Bt[K8]=Bt[W8]=Bt[G8]=Bt[Y8]=Bt[q8]=Bt[X8]=Bt[Q8]=!1;function u7(n){return F8(n)&&$8(n.length)&&!!Bt[L8(n)]}var c7=u7;function d7(n){return function(e){return n(e)}}var sd=d7,Bm={exports:{}};Bm.exports;(function(n,e){var t=UM,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,a=i&&t.process,o=function(){try{var l=s&&s.require&&s.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();n.exports=o})(Bm,Bm.exports);var Uf=Bm.exports,h7=c7,f7=sd,SP=Uf,CP=SP&&SP.isTypedArray,p7=CP?f7(CP):h7,py=p7;function g7(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var mL=g7,m7=OC,v7=$f,y7=Object.prototype,_7=y7.hasOwnProperty;function b7(n,e,t){var r=n[e];(!(_7.call(n,e)&&v7(r,t))||t===void 0&&!(e in n))&&m7(n,e,t)}var gy=b7,w7=gy,E7=OC;function S7(n,e,t,r){var s=!t;t||(t={});for(var i=-1,a=e.length;++i<a;){var o=e[i],l=r?r(t[o],n[o],o,t,n):void 0;l===void 0&&(l=n[o]),s?E7(t,o,l):w7(t,o,l)}return t}var ou=S7;function C7(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var vL=C7,T7=9007199254740991,I7=/^(?:0|[1-9]\d*)$/;function O7(n,e){var t=typeof n;return e=e??T7,!!e&&(t=="number"||t!="symbol"&&I7.test(n))&&n>-1&&n%1==0&&n<e}var my=O7,P7=vL,x7=Vf,R7=rr,A7=jf,D7=my,k7=py,N7=Object.prototype,M7=N7.hasOwnProperty;function L7(n,e){var t=R7(n),r=!t&&x7(n),s=!t&&!r&&A7(n),i=!t&&!r&&!s&&k7(n),a=t||r||s||i,o=a?P7(n.length,String):[],l=o.length;for(var u in n)(e||M7.call(n,u))&&!(a&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||D7(u,l)))&&o.push(u);return o}var yL=L7;function $7(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var F7=$7,V7=qr,j7=Ff,U7=F7,B7=Object.prototype,H7=B7.hasOwnProperty;function z7(n){if(!V7(n))return U7(n);var e=j7(n),t=[];for(var r in n)r=="constructor"&&(e||!H7.call(n,r))||t.push(r);return t}var K7=z7,W7=yL,G7=K7,Y7=Zi;function q7(n){return Y7(n)?W7(n,!0):G7(n)}var Bf=q7,X7=ou,Q7=Bf;function Z7(n){return X7(n,Q7(n))}var J7=Z7,TP=iL,eG=oL,tG=uL,nG=xC,rG=dL,IP=Vf,OP=rr,sG=fL,iG=jf,aG=sy,oG=qr,lG=DC,uG=py,PP=mL,cG=J7;function dG(n,e,t,r,s,i,a){var o=PP(n,t),l=PP(e,t),u=a.get(l);if(u){TP(n,t,u);return}var d=i?i(o,l,t+"",n,e,a):void 0,h=d===void 0;if(h){var f=OP(l),g=!f&&iG(l),b=!f&&!g&&uG(l);d=l,f||g||b?OP(o)?d=o:sG(o)?d=nG(o):g?(h=!1,d=eG(l,!0)):b?(h=!1,d=tG(l,!0)):d=[]:lG(l)||IP(l)?(d=o,IP(o)?d=cG(o):(!oG(o)||aG(o))&&(d=rG(l))):h=!1}h&&(a.set(l,d),s(d,l,r,i,a),a.delete(l)),TP(n,t,d)}var hG=dG,fG=fy,pG=iL,gG=aL,mG=hG,vG=qr,yG=Bf,_G=mL;function _L(n,e,t,r,s){n!==e&&gG(e,function(i,a){if(s||(s=new fG),vG(i))mG(n,e,a,t,_L,r,s);else{var o=r?r(_G(n,a),i,a+"",n,e,s):void 0;o===void 0&&(o=i),pG(n,a,o)}},yG)}var bG=_L;function wG(n){return n}var Hf=wG;function EG(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var SG=EG,CG=SG,xP=Math.max;function TG(n,e,t){return e=xP(e===void 0?n.length-1:e,0),function(){for(var r=arguments,s=-1,i=xP(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=t(a),CG(n,this,o)}}var bL=TG;function IG(n){return function(){return n}}var OG=IG,PG=OG,RP=sL,xG=Hf,RG=RP?function(n,e){return RP(n,"toString",{configurable:!0,enumerable:!1,value:PG(e),writable:!0})}:xG,AG=RG,DG=800,kG=16,NG=Date.now;function MG(n){var e=0,t=0;return function(){var r=NG(),s=kG-(r-t);if(t=r,s>0){if(++e>=DG)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var LG=MG,$G=AG,FG=LG,VG=FG($G),wL=VG,jG=Hf,UG=bL,BG=wL;function HG(n,e){return BG(UG(n,e,jG),n+"")}var EL=HG,zG=$f,KG=Zi,WG=my,GG=qr;function YG(n,e,t){if(!GG(t))return!1;var r=typeof e;return(r=="number"?KG(t)&&WG(e,t.length):r=="string"&&e in t)?zG(t[e],n):!1}var kC=YG,qG=EL,XG=kC;function QG(n){return qG(function(e,t){var r=-1,s=t.length,i=s>1?t[s-1]:void 0,a=s>2?t[2]:void 0;for(i=n.length>3&&typeof i=="function"?(s--,i):void 0,a&&XG(t[0],t[1],a)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var o=t[r];o&&n(e,o,r,i)}return e})}var SL=QG,ZG=bG,JG=SL,eY=JG(function(n,e,t){ZG(n,e,t)}),tY=eY;const nY=Ce(tY);function rY(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var CL=rY,sY=cL,iY=sY(Object.keys,Object),aY=iY,oY=Ff,lY=aY,uY=Object.prototype,cY=uY.hasOwnProperty;function dY(n){if(!oY(n))return lY(n);var e=[];for(var t in Object(n))cY.call(n,t)&&t!="constructor"&&e.push(t);return e}var TL=dY,hY=yL,fY=TL,pY=Zi;function gY(n){return pY(n)?hY(n):fY(n)}var Go=gY,mY=ou,vY=Go;function yY(n,e){return n&&mY(e,vY(e),n)}var _Y=yY,bY=ou,wY=Bf;function EY(n,e){return n&&bY(e,wY(e),n)}var SY=EY;function CY(n,e){for(var t=-1,r=n==null?0:n.length,s=0,i=[];++t<r;){var a=n[t];e(a,t,n)&&(i[s++]=a)}return i}var TY=CY;function IY(){return[]}var IL=IY,OY=TY,PY=IL,xY=Object.prototype,RY=xY.propertyIsEnumerable,AP=Object.getOwnPropertySymbols,AY=AP?function(n){return n==null?[]:(n=Object(n),OY(AP(n),function(e){return RY.call(n,e)}))}:PY,NC=AY,DY=ou,kY=NC;function NY(n,e){return DY(n,kY(n),e)}var MY=NY;function LY(n,e){for(var t=-1,r=e.length,s=n.length;++t<r;)n[s+t]=e[t];return n}var MC=LY,$Y=MC,FY=RC,VY=NC,jY=IL,UY=Object.getOwnPropertySymbols,BY=UY?function(n){for(var e=[];n;)$Y(e,VY(n)),n=FY(n);return e}:jY,OL=BY,HY=ou,zY=OL;function KY(n,e){return HY(n,zY(n),e)}var WY=KY,GY=MC,YY=rr;function qY(n,e,t){var r=e(n);return YY(n)?r:GY(r,t(n))}var PL=qY,XY=PL,QY=NC,ZY=Go;function JY(n){return XY(n,ZY,QY)}var xL=JY,eq=PL,tq=OL,nq=Bf;function rq(n){return eq(n,nq,tq)}var RL=rq,sq=iu,iq=vi,aq=sq(iq,"DataView"),oq=aq,lq=iu,uq=vi,cq=lq(uq,"Promise"),dq=cq,hq=iu,fq=vi,pq=hq(fq,"Set"),AL=pq,gq=iu,mq=vi,vq=gq(mq,"WeakMap"),yq=vq,_w=oq,bw=SC,ww=dq,Ew=AL,Sw=yq,DL=yi,id=HM,DP="[object Map]",_q="[object Object]",kP="[object Promise]",NP="[object Set]",MP="[object WeakMap]",LP="[object DataView]",bq=id(_w),wq=id(bw),Eq=id(ww),Sq=id(Ew),Cq=id(Sw),al=DL;(_w&&al(new _w(new ArrayBuffer(1)))!=LP||bw&&al(new bw)!=DP||ww&&al(ww.resolve())!=kP||Ew&&al(new Ew)!=NP||Sw&&al(new Sw)!=MP)&&(al=function(n){var e=DL(n),t=e==_q?n.constructor:void 0,r=t?id(t):"";if(r)switch(r){case bq:return LP;case wq:return DP;case Eq:return kP;case Sq:return NP;case Cq:return MP}return e});var zf=al,Tq=Object.prototype,Iq=Tq.hasOwnProperty;function Oq(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&Iq.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Pq=Oq,xq=PC;function Rq(n,e){var t=e?xq(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Aq=Rq,Dq=/\w*$/;function kq(n){var e=new n.constructor(n.source,Dq.exec(n));return e.lastIndex=n.lastIndex,e}var Nq=kq,$P=qc,FP=$P?$P.prototype:void 0,VP=FP?FP.valueOf:void 0;function Mq(n){return VP?Object(VP.call(n)):{}}var Lq=Mq,$q=PC,Fq=Aq,Vq=Nq,jq=Lq,Uq=uL,Bq="[object Boolean]",Hq="[object Date]",zq="[object Map]",Kq="[object Number]",Wq="[object RegExp]",Gq="[object Set]",Yq="[object String]",qq="[object Symbol]",Xq="[object ArrayBuffer]",Qq="[object DataView]",Zq="[object Float32Array]",Jq="[object Float64Array]",eX="[object Int8Array]",tX="[object Int16Array]",nX="[object Int32Array]",rX="[object Uint8Array]",sX="[object Uint8ClampedArray]",iX="[object Uint16Array]",aX="[object Uint32Array]";function oX(n,e,t){var r=n.constructor;switch(e){case Xq:return $q(n);case Bq:case Hq:return new r(+n);case Qq:return Fq(n,t);case Zq:case Jq:case eX:case tX:case nX:case rX:case sX:case iX:case aX:return Uq(n,t);case zq:return new r;case Kq:case Yq:return new r(n);case Wq:return Vq(n);case Gq:return new r;case qq:return jq(n)}}var lX=oX,uX=zf,cX=Yr,dX="[object Map]";function hX(n){return cX(n)&&uX(n)==dX}var fX=hX,pX=fX,gX=sd,jP=Uf,UP=jP&&jP.isMap,mX=UP?gX(UP):pX,vX=mX,yX=zf,_X=Yr,bX="[object Set]";function wX(n){return _X(n)&&yX(n)==bX}var EX=wX,SX=EX,CX=sd,BP=Uf,HP=BP&&BP.isSet,TX=HP?CX(HP):SX,kL=TX;const NL=Ce(kL);var IX=fy,OX=CL,PX=gy,xX=_Y,RX=SY,AX=oL,DX=xC,kX=MY,NX=WY,MX=xL,LX=RL,$X=zf,FX=Pq,VX=lX,jX=dL,UX=rr,BX=jf,HX=vX,zX=qr,KX=kL,WX=Go,GX=Bf,YX=1,qX=2,XX=4,ML="[object Arguments]",QX="[object Array]",ZX="[object Boolean]",JX="[object Date]",eQ="[object Error]",LL="[object Function]",tQ="[object GeneratorFunction]",nQ="[object Map]",rQ="[object Number]",$L="[object Object]",sQ="[object RegExp]",iQ="[object Set]",aQ="[object String]",oQ="[object Symbol]",lQ="[object WeakMap]",uQ="[object ArrayBuffer]",cQ="[object DataView]",dQ="[object Float32Array]",hQ="[object Float64Array]",fQ="[object Int8Array]",pQ="[object Int16Array]",gQ="[object Int32Array]",mQ="[object Uint8Array]",vQ="[object Uint8ClampedArray]",yQ="[object Uint16Array]",_Q="[object Uint32Array]",kt={};kt[ML]=kt[QX]=kt[uQ]=kt[cQ]=kt[ZX]=kt[JX]=kt[dQ]=kt[hQ]=kt[fQ]=kt[pQ]=kt[gQ]=kt[nQ]=kt[rQ]=kt[$L]=kt[sQ]=kt[iQ]=kt[aQ]=kt[oQ]=kt[mQ]=kt[vQ]=kt[yQ]=kt[_Q]=!0;kt[eQ]=kt[LL]=kt[lQ]=!1;function Fg(n,e,t,r,s,i){var a,o=e&YX,l=e&qX,u=e&XX;if(t&&(a=s?t(n,r,s,i):t(n)),a!==void 0)return a;if(!zX(n))return n;var d=UX(n);if(d){if(a=FX(n),!o)return DX(n,a)}else{var h=$X(n),f=h==LL||h==tQ;if(BX(n))return AX(n,o);if(h==$L||h==ML||f&&!s){if(a=l||f?{}:jX(n),!o)return l?NX(n,RX(a,n)):kX(n,xX(a,n))}else{if(!kt[h])return s?n:{};a=VX(n,h,o)}}i||(i=new IX);var g=i.get(n);if(g)return g;i.set(n,a),KX(n)?n.forEach(function(_){a.add(Fg(_,e,t,_,n,i))}):HX(n)&&n.forEach(function(_,m){a.set(m,Fg(_,e,t,m,n,i))});var b=u?l?LX:MX:l?GX:WX,y=d?void 0:b(n);return OX(y||n,function(_,m){y&&(m=_,_=n[m]),PX(a,m,Fg(_,e,t,m,n,i))}),a}var FL=Fg;function bQ(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var wQ=bQ;function EQ(n,e,t){var r=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=n[r+e];return i}var LC=EQ,SQ=cy,CQ=LC;function TQ(n,e){return e.length<2?n:SQ(n,CQ(e,0,-1))}var IQ=TQ,OQ=td,PQ=wQ,xQ=IQ,RQ=au;function AQ(n,e){return e=OQ(e,n),n=xQ(n,e),n==null||delete n[RQ(PQ(e))]}var VL=AQ,DQ=DC;function kQ(n){return DQ(n)?void 0:n}var NQ=kQ,zP=qc,MQ=Vf,LQ=rr,KP=zP?zP.isConcatSpreadable:void 0;function $Q(n){return LQ(n)||MQ(n)||!!(KP&&n&&n[KP])}var FQ=$Q,VQ=MC,jQ=FQ;function jL(n,e,t,r,s){var i=-1,a=n.length;for(t||(t=jQ),s||(s=[]);++i<a;){var o=n[i];e>0&&t(o)?e>1?jL(o,e-1,t,r,s):VQ(s,o):r||(s[s.length]=o)}return s}var UL=jL,UQ=UL;function BQ(n){var e=n==null?0:n.length;return e?UQ(n,1):[]}var HQ=BQ,zQ=HQ,KQ=bL,WQ=wL;function GQ(n){return WQ(KQ(n,void 0,zQ),n+"")}var BL=GQ,YQ=ed,qQ=FL,XQ=VL,QQ=td,ZQ=ou,JQ=NQ,eZ=BL,tZ=RL,nZ=1,rZ=2,sZ=4,iZ=eZ(function(n,e){var t={};if(n==null)return t;var r=!1;e=YQ(e,function(i){return i=QQ(i,n),r||(r=i.length>1),i}),ZQ(n,tZ(n),t),r&&(t=qQ(t,nZ|rZ|sZ,JQ));for(var s=e.length;s--;)XQ(t,e[s]);return t}),aZ=iZ;const lu=Ce(aZ);function oZ(n){return n===void 0}var lZ=oZ;const bt=Ce(lZ);var uZ="__lodash_hash_undefined__";function cZ(n){return this.__data__.set(n,uZ),this}var dZ=cZ;function hZ(n){return this.__data__.has(n)}var fZ=hZ,pZ=CC,gZ=dZ,mZ=fZ;function Hm(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new pZ;++e<t;)this.add(n[e])}Hm.prototype.add=Hm.prototype.push=gZ;Hm.prototype.has=mZ;var $C=Hm;function vZ(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var yZ=vZ;function _Z(n,e){return n.has(e)}var FC=_Z,bZ=$C,wZ=yZ,EZ=FC,SZ=1,CZ=2;function TZ(n,e,t,r,s,i){var a=t&SZ,o=n.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=i.get(n),d=i.get(e);if(u&&d)return u==e&&d==n;var h=-1,f=!0,g=t&CZ?new bZ:void 0;for(i.set(n,e),i.set(e,n);++h<o;){var b=n[h],y=e[h];if(r)var _=a?r(y,b,h,e,n,i):r(b,y,h,n,e,i);if(_!==void 0){if(_)continue;f=!1;break}if(g){if(!wZ(e,function(m,E){if(!EZ(g,E)&&(b===m||s(b,m,t,r,i)))return g.push(E)})){f=!1;break}}else if(!(b===y||s(b,y,t,r,i))){f=!1;break}}return i.delete(n),i.delete(e),f}var HL=TZ;function IZ(n){var e=-1,t=Array(n.size);return n.forEach(function(r,s){t[++e]=[s,r]}),t}var OZ=IZ;function PZ(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var VC=PZ,WP=qc,GP=lL,xZ=$f,RZ=HL,AZ=OZ,DZ=VC,kZ=1,NZ=2,MZ="[object Boolean]",LZ="[object Date]",$Z="[object Error]",FZ="[object Map]",VZ="[object Number]",jZ="[object RegExp]",UZ="[object Set]",BZ="[object String]",HZ="[object Symbol]",zZ="[object ArrayBuffer]",KZ="[object DataView]",YP=WP?WP.prototype:void 0,ub=YP?YP.valueOf:void 0;function WZ(n,e,t,r,s,i,a){switch(t){case KZ:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case zZ:return!(n.byteLength!=e.byteLength||!i(new GP(n),new GP(e)));case MZ:case LZ:case VZ:return xZ(+n,+e);case $Z:return n.name==e.name&&n.message==e.message;case jZ:case BZ:return n==e+"";case FZ:var o=AZ;case UZ:var l=r&kZ;if(o||(o=DZ),n.size!=e.size&&!l)return!1;var u=a.get(n);if(u)return u==e;r|=NZ,a.set(n,e);var d=RZ(o(n),o(e),r,s,i,a);return a.delete(n),d;case HZ:if(ub)return ub.call(n)==ub.call(e)}return!1}var GZ=WZ,qP=xL,YZ=1,qZ=Object.prototype,XZ=qZ.hasOwnProperty;function QZ(n,e,t,r,s,i){var a=t&YZ,o=qP(n),l=o.length,u=qP(e),d=u.length;if(l!=d&&!a)return!1;for(var h=l;h--;){var f=o[h];if(!(a?f in e:XZ.call(e,f)))return!1}var g=i.get(n),b=i.get(e);if(g&&b)return g==e&&b==n;var y=!0;i.set(n,e),i.set(e,n);for(var _=a;++h<l;){f=o[h];var m=n[f],E=e[f];if(r)var w=a?r(E,m,f,e,n,i):r(m,E,f,n,e,i);if(!(w===void 0?m===E||s(m,E,t,r,i):w)){y=!1;break}_||(_=f=="constructor")}if(y&&!_){var S=n.constructor,O=e.constructor;S!=O&&"constructor"in n&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(y=!1)}return i.delete(n),i.delete(e),y}var ZZ=QZ,cb=fy,JZ=HL,eJ=GZ,tJ=ZZ,XP=zf,QP=rr,ZP=jf,nJ=py,rJ=1,JP="[object Arguments]",ex="[object Array]",eg="[object Object]",sJ=Object.prototype,tx=sJ.hasOwnProperty;function iJ(n,e,t,r,s,i){var a=QP(n),o=QP(e),l=a?ex:XP(n),u=o?ex:XP(e);l=l==JP?eg:l,u=u==JP?eg:u;var d=l==eg,h=u==eg,f=l==u;if(f&&ZP(n)){if(!ZP(e))return!1;a=!0,d=!1}if(f&&!d)return i||(i=new cb),a||nJ(n)?JZ(n,e,t,r,s,i):eJ(n,e,l,t,r,s,i);if(!(t&rJ)){var g=d&&tx.call(n,"__wrapped__"),b=h&&tx.call(e,"__wrapped__");if(g||b){var y=g?n.value():n,_=b?e.value():e;return i||(i=new cb),s(y,_,t,r,i)}}return f?(i||(i=new cb),tJ(n,e,t,r,s,i)):!1}var aJ=iJ,oJ=aJ,nx=Yr;function zL(n,e,t,r,s){return n===e?!0:n==null||e==null||!nx(n)&&!nx(e)?n!==n&&e!==e:oJ(n,e,t,r,zL,s)}var jC=zL,lJ=jC;function uJ(n,e){return lJ(n,e)}var cJ=uJ;const Fe=Ce(cJ);var dJ=TL,hJ=zf,fJ=Vf,pJ=rr,gJ=Zi,mJ=jf,vJ=Ff,yJ=py,_J="[object Map]",bJ="[object Set]",wJ=Object.prototype,EJ=wJ.hasOwnProperty;function SJ(n){if(n==null)return!0;if(gJ(n)&&(pJ(n)||typeof n=="string"||typeof n.splice=="function"||mJ(n)||yJ(n)||fJ(n)))return!n.length;var e=hJ(n);if(e==_J||e==bJ)return!n.size;if(vJ(n))return!dJ(n).length;for(var t in n)if(EJ.call(n,t))return!1;return!0}var CJ=SJ;const It=Ce(CJ);var TJ=aL,IJ=Go;function OJ(n,e){return n&&TJ(n,e,IJ)}var PJ=OJ,xJ=Zi;function RJ(n,e){return function(t,r){if(t==null)return t;if(!xJ(t))return n(t,r);for(var s=t.length,i=e?s:-1,a=Object(t);(e?i--:++i<s)&&r(a[i],i,a)!==!1;);return t}}var AJ=RJ,DJ=PJ,kJ=AJ,NJ=kJ(DJ),KL=NJ,MJ=Hf;function LJ(n){return typeof n=="function"?n:MJ}var WL=LJ,$J=CL,FJ=KL,VJ=WL,jJ=rr;function UJ(n,e){var t=jJ(n)?$J:FJ;return t(n,VJ(e))}var BJ=UJ,HJ=BJ;const zJ=Ce(HJ);function zt(n,e){n&&console.warn(`Warning: ${e}`)}function _t(n){return n==null}let GL=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else _t(t)&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?([...this._eventMap.get(e)].forEach(a=>a(...r)),!0):!1}};function it(n){try{return n instanceof HTMLElement}catch{return typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function YL(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(const s of t)n.appendChild(s);return n}function KJ(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];if(n.children&&n.children.length){const s=n.children[0];for(const i of t)n.insertBefore(i,s)}else YL(n,...t);return n}function WJ(n){if(n&&typeof n=="object")return typeof n.toJSON=="function"?n.toJSON():["left","top","right","bottom","width","height"].reduce((t,r)=>(t[r]=n[r],t),{})}function ti(n){n.stopPropagation(),n.preventDefault()}const tg={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},Eu={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};let GJ=class extends ke{constructor(e){var t;super(Object.assign({},e)),t=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(r,s)=>{this._adapter.setDisplayNone(r,s)},this.updateStateIfCursorOnTrigger=r=>{var s,i;if(!((s=r==null?void 0:r.matches)===null||s===void 0)&&s.call(r,":hover")){const a=this._adapter.getEventName(),o=this.getState("triggerEventSet");(i=o[a.mouseEnter])===null||i===void 0||i.call(o)}},this.onResize=()=>{this.getState("visible")&&this.calcPosition()},this.delayShow=()=>{const r=this.getProp("mouseEnterDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},r):this.show()},this.show=()=>{if(this._adapter.getAnimatingState())return;const r=this.getProp("content"),s=this.getProp("trigger"),i=this.getProp("clickTriggerToHide"),{visible:a,displayNone:o}=this.getStates();if(o&&this.setDisplayNone(!1),!a){if(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),s==="hover"){const l=()=>{var u;const d=this._adapter.getTriggerDOM();s&&!(!((u=d==null?void 0:d.matches)===null||u===void 0)&&u.call(d,":hover"))&&this.hide(),this._adapter.off("portalInserted",l)};this._adapter.on("portalInserted",l)}this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(r,{left:-9999,top:-9999}),s==="custom"&&this._adapter.registerClickOutsideHandler(()=>{}),(s==="click"||i||s==="contextMenu")&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent()}},this.calcPosition=function(r,s,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;r=(It(r)?t._adapter.getTriggerBounding():r)||Object.assign({},Eu),i=(It(i)?t._adapter.getPopupContainerRect():i)||Object.assign({},Eu),s=(It(s)?t._adapter.getWrapperBounding():s)||Object.assign({},Eu);let o=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i}),l=t.getProp("position");if(t.getProp("autoAdjustOverflow")){const{position:u,isHeightOverFlow:d,isWidthOverFlow:h}=t.adjustPosIfNeed(l,o,r,s,i);(l!==u||d||h)&&(l=u,o=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i,position:l,spacing:null,isOverFlow:[d,h]}))}return a&&t._mounted&&t._adapter.setPosition(Object.assign(Object.assign({},o),{position:l})),o},this.delayHide=()=>{const r=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},r):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=r=>{const{guardFocus:s,closeOnEsc:i}=this.getProps();switch(r&&r.key){case"Escape":i&&this._handleEscKeyDown(r);break;case"Tab":if(s){const a=this._adapter.getContainer(),o=this._adapter.getFocusableElements(a);o.length&&(r.shiftKey?this._handleContainerShiftTabKeyDown(o,r):this._handleContainerTabKeyDown(o,r))}break}},this._timer=null}init(){const{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),e||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){const e=this.getProp("trigger"),{triggerEventSet:t,portalEventSet:r}=this._generateEvent(e);this._bindTriggerEvent(t),this._bindPortalEvent(r),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"reverse",s=arguments.length>3?arguments[3]:void 0;switch(r){case"reverse":return this._reversePos(e,t);case"expand":return this._expandPos(e,s);case"reduce":return this._reducePos(e);default:return this._reversePos(e,t)}}_reversePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){if(tg.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(tg.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else{if(tg.LEFT.test(e))return e.replace("left","right").replace("Left","Right");if(tg.RIGHT.test(e))return e.replace("right","left").replace("Right","Left")}return e}_expandPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}_reducePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=["Top","Bottom","Left","Right"].find(r=>e.endsWith(r));return t?e.replace(t,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){const t=this._adapter.getEventName(),r={[t.keydown]:i=>{this._handleTriggerKeydown(i)}};let s={};switch(e){case"focus":r[t.focus]=()=>{this.delayShow()},r[t.blur]=()=>{this.delayHide()},s=r;break;case"click":r[t.click]=()=>{this.show()},s={};break;case"hover":r[t.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},r[t.mouseLeave]=()=>{this.delayHide()},r[t.focus]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayShow()},r[t.blur]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayHide()},s=Object.assign({},r),this.getProp("clickToHide")&&(s[t.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},s[t.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":break;case"contextMenu":r[t.contextMenu]=i=>{i.preventDefault(),this.show()};break}return{triggerEventSet:r,portalEventSet:s}}_shouldShow(){this.getProp("visible")&&this.show()}_togglePortalVisible(e){const t=this.getState("visible"),r=this.getState("isInsert");(t!==e||r!==e)&&this._adapter.togglePortalVisible(e,()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)})}_roundPixel(e){return typeof e=="number"?Math.round(e):e}calcTransformOrigin(e,t,r,s){if(e&&t&&r!=null&&s!=null){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(t.width/2)}px ${-s*100}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(t.width/2)}px) ${-s*100}%`;if(["leftTop","rightTop"].includes(e))return`${-r*100}% ${this._roundPixel(t.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${-r*100}% calc(100% - ${this._roundPixel(t.height/2)}px)`}return`${-r*100}% ${-s*100}%`}return null}calcPosStyle(e){var t;const{spacing:r,isOverFlow:s}=e,{innerWidth:i}=window,a=(It(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},Eu),o=(It(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},Eu),l=(It(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},Eu),u=e.position!=null?e.position:this.getProp("position"),d=r??this.getProp("spacing"),{arrowPointAtCenter:h,showArrow:f,arrowBounding:g}=this.getProps(),b=f&&h;let y=d,_=0;if(typeof d!="number"){const te=u.includes("top")||u.includes("bottom");y=te?d.y:d.x,_=te?d.x:d.y}const m=Z(g,"width",24),E=Z(g,"width",24),w=Z(g,"offsetY",0),S=6,O=6;let x,I,T=0,P=0;const A=a.left+a.width/2,k=a.top+a.height/2,L=S+m/2,N=O+E/2,K=l.height-o.height,G=l.width-o.width,z=K>0?K:0,ee=G>0?G:0,V=s&&s[0],H=s&&s[1],U=A-o.left<o.right-A,ae=k-o.top<o.bottom-k,ne=l.width>i,re=Math.abs((l==null?void 0:l.width)-((t=this._adapter.getContainer())===null||t===void 0?void 0:t.clientWidth))>1;switch(re&&(y=y*l.width/this._adapter.getContainer().clientWidth),u){case"top":x=H?U?o.left+l.width/2:o.right-l.width/2+ee:A+_,I=V?o.bottom+z:a.top-y,T=-.5,P=-1;break;case"topLeft":x=H?ne?o.left:o.right-l.width:b?A-L+_:a.left+_,I=V?o.bottom+z:a.top-y,P=-1;break;case"topRight":x=H?o.right+ee:b?A+L+_:a.right+_,I=V?o.bottom+z:a.top-y,P=-1,T=-1;break;case"left":x=H?o.right+ee-y+L:a.left-y,I=V?ae?o.top+l.height/2:o.bottom-l.height/2+z:k+_,T=-1,P=-.5;break;case"leftTop":x=H?o.right+ee-y+L:a.left-y,I=V?o.top:b?k-N+_:a.top+_,T=-1;break;case"leftBottom":x=H?o.right+ee-y+L:a.left-y,I=V?o.bottom+z:b?k+N+_:a.bottom+_,T=-1,P=-1;break;case"bottom":x=H?U?o.left+l.width/2:o.right-l.width/2+ee:A+_,I=V?o.top+N-y:a.top+a.height+y,T=-.5;break;case"bottomLeft":x=H?ne?o.left:o.right-l.width:b?A-L+_:a.left+_,I=V?o.top+N-y:a.top+a.height+y;break;case"bottomRight":x=H?o.right+ee:b?A+L+_:a.right+_,I=V?o.top+N-y:a.top+a.height+y,T=-1;break;case"right":x=H?o.left-y+L:a.right+y,I=V?ae?o.top+l.height/2:o.bottom-l.height/2+z:k+_,P=-.5;break;case"rightTop":x=H?o.left-y+L:a.right+y,I=V?o.top:b?k-N+_:a.top+_;break;case"rightBottom":x=H?o.left-y+L:a.right+y,I=V?o.bottom+z:b?k+N+_:a.bottom+_,P=-1;break;case"leftTopOver":x=a.left-y,I=a.top-y;break;case"rightTopOver":x=a.right+y,I=a.top-y,T=-1;break;case"leftBottomOver":x=a.left-y,I=a.bottom+y,P=-1;break;case"rightBottomOver":x=a.right+y,I=a.bottom+y,T=-1,P=-1;break}const de=this.calcTransformOrigin(u,a,T,P),be=this._adapter.containerIsBody();if(x=x-o.left,I=I-o.top,re&&(x/=l.width/this._adapter.getContainer().clientWidth),re&&(I/=l.height/this._adapter.getContainer().clientHeight),be&&!this._adapter.containerIsRelativeOrAbsolute()){const te=this._adapter.getDocumentElementBounding();x+=o.left-te.left,I+=o.top-te.top}x=be?x:x+o.scrollLeft,I=be?I:I+o.scrollTop;const ve=a.height;if(this.getProp("showArrow")&&!h&&ve<=(E/2+w)*2){const te=ve/2-(w+E/2);(u.includes("Top")||u.includes("Bottom"))&&!u.includes("Over")&&(I=u.includes("Top")?I+te:I-te)}const ge={left:this._roundPixel(x),top:this._roundPixel(I)};let pe="";return T!=null&&(pe+=`translateX(${T*100}%) `,Object.defineProperty(ge,"translateX",{enumerable:!1,value:T})),P!=null&&(pe+=`translateY(${P*100}%) `,Object.defineProperty(ge,"translateY",{enumerable:!1,value:P})),de!=null&&(ge.transformOrigin=de),pe&&(ge.transform=pe),ge}isLR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,t,r){return e<r&&t>r}isOverFlow(e,t,r){return e<r&&t<r}isHalfOverFlow(e,t,r){return e<r||t<r}isHalfAllEnough(e,t,r){return e>=r||t>=r}getReverse(e,t,r,s){return e&&s||r}adjustPosIfNeed(e,t,r,s,i){const{innerWidth:a,innerHeight:o}=window,{margin:l}=this.getProps(),u=typeof l=="number"?l:l.marginLeft,d=typeof l=="number"?l:l.marginTop,h=typeof l=="number"?l:l.marginRight,f=typeof l=="number"?l:l.marginBottom;let g=!1,b=!1;const y=this.getProp("spacing");let _=y,m=0;if(typeof y!="number"){const E=e.includes("top")||e.includes("bottom");_=E?y.y:y.x,m=E?y.x:y.y}if(s.width>0&&s.height>0){const E=r.left,w=r.right,S=r.top,O=r.bottom,x=a-E,I=o-S,T=a-w,P=o-O,A=s.width>r.width,k=s.height>r.height,L=S-d<s.height+_&&P-f>s.height+_,N=E-u<s.width+_&&T-h>s.width+_,K=P-f<s.height+_&&S-d>s.height+_,G=T-h<s.width+_&&E-u>s.width+_;I-f<s.height+_&&O-d>s.height+_,O-d<s.height+_&&I-f>s.height+_;const z=I<s.height+m&&O>s.height+m,ee=O<s.height+m&&I>s.height+m,V=x<s.width+m&&w>s.width+m,H=w<s.width+m&&x>s.width+m,U=I<s.height+_&&O>s.height+_,ae=O<s.height+_&&I>s.height+_,ne=x<s.width&&w>s.width,re=w<s.width&&x>s.width,de=S-i.top,be=E-i.left,ve=de+r.height,ge=be+r.width,pe=i.bottom-O,te=i.right-w,le=pe+r.height,ut=te+r.width,St=this.isReverse(de-d,pe-f,s.height+_),Zt=this.isReverse(be-u,te-h,s.width+_),pt=this.isReverse(pe-f,de-d,s.height+_),mn=this.isReverse(te-h,be-u,s.width+_);this.isReverse(le-f,ve-d,s.height+_),this.isReverse(ve-d,le-f,s.height+_);const gt=this.isReverse(le,ve,s.height+m),Wn=this.isReverse(ve,le,s.height+m),Nr=this.isReverse(ut,ge,s.width+m),_i=this.isReverse(ge,ut,s.width+m),$t=r.height/2,Ln=r.width/2,_s=this.isOverFlow(S-d,P-f,s.height+_),Mr=this.isOverFlow(E-u,T-h,s.width+_),bs=this.isOverFlow(O-d,I-f,s.height+_),ea=this.isOverFlow(w-u,x-h,s.width+_),Jt=this.isHalfOverFlow(O-$t,I-$t,(s.height+m)/2),Dt=this.isHalfOverFlow(w-Ln,x-Ln,(s.width+m)/2),vn=this.isHalfAllEnough(O-$t,I-$t,(s.height+m)/2),Tn=this.isHalfAllEnough(w-Ln,x-Ln,(s.width+m)/2),sr=this.isOverFlow(de-d,pe-f,s.height+_),$n=this.isOverFlow(be-u,te-h,s.width+_),ir=this.isOverFlow(ve-d,le-f,s.height+_),Lr=this.isOverFlow(ge-u,ut-h,s.width+_),ws=this.isHalfOverFlow(ve-$t,le-$t,(s.height+m)/2),yn=this.isHalfOverFlow(ge-Ln,ut-Ln,(s.width+m)/2),Qr=this.isHalfAllEnough(ve-$t,le-$t,(s.height+m)/2),bi=this.isHalfAllEnough(ge-Ln,ut-Ln,(s.width+m)/2),Es=this.getReverse(_s,sr,L,St),wi=this.getReverse(Mr,$n,N,Zt),Zr=this.getReverse(_s,sr,K,pt),Jr=this.getReverse(Mr,$n,G,mn),mt=this.getReverse(bs,ir,z,gt),Kt=this.getReverse(bs,ir,ee,Wn),ht=this.getReverse(ea,Lr,V,Nr),en=this.getReverse(ea,Lr,H,_i),Ft=Jt&&ws,Wt=Dt&&yn;switch(e){case"top":Es&&(e=this._adjustPos(e,!0)),Wt&&(ht||en)&&(e=this._adjustPos(e,!0,"expand",ht?"Right":"Left"));break;case"topLeft":Es&&(e=this._adjustPos(e,!0)),ht&&A&&(e=this._adjustPos(e)),b&&(Tn||bi)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":Es&&(e=this._adjustPos(e,!0)),en&&A&&(e=this._adjustPos(e)),b&&(Tn||bi)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":wi&&(e=this._adjustPos(e)),Ft&&(mt||Kt)&&(e=this._adjustPos(e,!1,"expand",mt?"Bottom":"Top"));break;case"leftTop":wi&&(e=this._adjustPos(e)),mt&&k&&(e=this._adjustPos(e,!0)),g&&(vn||Qr)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":wi&&(e=this._adjustPos(e)),Kt&&k&&(e=this._adjustPos(e,!0)),g&&(vn||Qr)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":Zr&&(e=this._adjustPos(e,!0)),Wt&&(ht||en)&&(e=this._adjustPos(e,!0,"expand",ht?"Right":"Left"));break;case"bottomLeft":Zr&&(e=this._adjustPos(e,!0)),ht&&A&&(e=this._adjustPos(e)),b&&(Tn||bi)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":Zr&&(e=this._adjustPos(e,!0)),en&&A&&(e=this._adjustPos(e)),b&&(Tn||bi)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":Jr&&(e=this._adjustPos(e)),Ft&&(mt||Kt)&&(e=this._adjustPos(e,!1,"expand",mt?"Bottom":"Top"));break;case"rightTop":Jr&&(e=this._adjustPos(e)),mt&&k&&(e=this._adjustPos(e,!0)),g&&(vn||Qr)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":Jr&&(e=this._adjustPos(e)),Kt&&k&&(e=this._adjustPos(e,!0)),g&&(vn||Qr)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":U&&(e=this._adjustPos(e,!0)),ne&&(e=this._adjustPos(e));break;case"leftBottomOver":ae&&(e=this._adjustPos(e,!0)),ne&&(e=this._adjustPos(e));break;case"rightTopOver":U&&(e=this._adjustPos(e,!0)),re&&(e=this._adjustPos(e));break;case"rightBottomOver":ae&&(e=this._adjustPos(e,!0)),re&&(e=this._adjustPos(e));break}this.isTB(e)&&(g=_s&&sr,e==="top"||e==="bottom"?b=Dt&&yn||w<0||T<0:b=ea&&Lr||w<0||T<0),this.isLR(e)&&(b=Mr&&$n,e==="left"||e==="right"?g=Jt&&ws||S<0||I<0:g=bs&&ir||S<0||I<0)}return{position:e,isHeightOverFlow:g,isWidthOverFlow:b}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){const{closeOnEsc:t,disableArrowKeyDown:r}=this.getProps(),s=this._adapter.getContainer(),i=this._adapter.getFocusableElements(s),a=i.length;switch(e&&e.key){case"Escape":ti(e),t&&this._handleEscKeyDown(e);break;case"ArrowUp":!r&&a&&this._handleTriggerArrowUpKeydown(i,e);break;case"ArrowDown":!r&&a&&this._handleTriggerArrowDownKeydown(i,e);break}}focusTrigger(){const{trigger:e,returnFocusOnClose:t,preventScroll:r}=this.getProps();if(t&&e!=="custom"){const s=this._adapter.getTriggerNode();s&&"focus"in s&&s.focus({preventScroll:r})}}_handleEscKeyDown(e){const{trigger:t}=this.getProps();t!=="custom"&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[e.length-1]===s&&(e[0].focus({preventScroll:r}),t.preventDefault())}_handleContainerShiftTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[0]===s&&(e[e.length-1].focus({preventScroll:r}),t.preventDefault())}_handleTriggerArrowDownKeydown(e,t){const{preventScroll:r}=this.getProps();e[0].focus({preventScroll:r}),t.preventDefault()}_handleTriggerArrowUpKeydown(e,t){const{preventScroll:r}=this.getProps();e[e.length-1].focus({preventScroll:r}),t.preventDefault()}};const YJ={PREFIX:`${W}-tooltip`},Tl={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},ol={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0};function zm(n){return`${n}-${new Date().getTime()}-${Math.random()}`}function Vg(){var n,e;try{return(e=(n=crypto==null?void 0:crypto.randomUUID)===null||n===void 0?void 0:n.call(crypto))!==null&&e!==void 0?e:String(9987e3+-1e11).replace(/[018]/g,t=>(Number(t)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(t)/4).toString(16))}catch{return zm("semi")}}function xa(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefix:e="",length:t=7}=n,r="0123456789abcdefghijklmnopqrstuvwxyz",s=r.length;let i="";for(let a=0;a<t;a++){const o=Math.floor(Math.random()*s);i+=r.charAt(o)}return e?`${e}-${i}`:i}function Cw(n){return v.isValidElement(n)}function rx(n){return v.Children.count(n)===0}var qJ=gy,XJ=td,QJ=my,sx=qr,ZJ=au;function JJ(n,e,t,r){if(!sx(n))return n;e=XJ(e,n);for(var s=-1,i=e.length,a=i-1,o=n;o!=null&&++s<i;){var l=ZJ(e[s]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=a){var d=o[l];u=r?r(d,l,o):void 0,u===void 0&&(u=sx(d)?d:QJ(e[s+1])?[]:{})}qJ(o,l,u),o=o[l]}return n}var qL=JJ,eee=qL;function tee(n,e,t){return n==null?n:eee(n,e,t)}var nee=tee;const dc=Ce(nee);var ree=FL,see=1,iee=4;function aee(n,e){return e=typeof e=="function"?e:void 0,ree(n,see|iee,e)}var oee=aee;const XL=Ce(oee);class lee{constructor(){this.config={}}}const db=new lee;var ix=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};function ng(n,e){n&&typeof n.stopPropagation=="function"&&n.stopPropagation(),n.nativeEvent&&typeof n.nativeEvent.stopImmediatePropagation=="function"&&n.nativeEvent.stopImmediatePropagation()}function uee(n,e){return XL(n,t=>{if(typeof e=="function")return e(t);if(typeof t=="function"||v.isValidElement(t)||Object.prototype.toString.call(t)==="[object Error]")return t;if(Array.isArray(t)&&t.length===0){const r=Object.keys(t);if(r.length){const s=[];r.forEach(i=>{dc(s,i,t[i])});try{zt(Z(process,"env.NODE_ENV")!=="production",`[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.
                    The maximum length of an array is 4294967295.
                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript`)}catch{}return s}else return}})}const cee=(n,e)=>{let{match:t,unmatch:r,callInInit:s=!0}=e;if(typeof window<"u"){let o=function(l){l.matches?t&&t(l):r&&r(l)};var i=o;const a=window.matchMedia(n);return s&&o(a),Object.prototype.hasOwnProperty.call(a,"addEventListener")?(a.addEventListener("change",o),()=>a.removeEventListener("change",o)):(a.addListener(o),()=>a.removeListener(o))}return()=>{}},Or=n=>v.isValidElement(n)&&Z(n.type,"elementType")==="Icon";function QL(){return document?document.activeElement:null}function ZL(n){if(!it(n))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(n.querySelectorAll(t))}function UC(n,e){return ix(this,void 0,void 0,function*(){if(e===0){yield n();return}else{yield new Promise(t=>{setTimeout(()=>ix(this,void 0,void 0,function*(){yield UC(n,e-1),t()}),0)});return}})}function Ws(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=()=>{var r,s;return((s=(r=db==null?void 0:db.config)===null||r===void 0?void 0:r.overrideDefaultProps)===null||s===void 0?void 0:s[n])||{}};return new Proxy(Object.assign({},e),{get(r,s,i){const a=t();return s in a?a[s]:Reflect.get(r,s,i)},set(r,s,i,a){return Reflect.set(r,s,i,a)},ownKeys(){const r=t();return Array.from(new Set([...Reflect.ownKeys(e),...Object.keys(r)]))},getOwnPropertyDescriptor(r,s){const i=t();return s in i?Reflect.getOwnPropertyDescriptor(i,s):Reflect.getOwnPropertyDescriptor(r,s)}})}const Xr=v.createContext({}),dee=()=>document.body;class vy extends D.PureComponent{constructor(e,t){var r;super(e),r=this,this.initContainer=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var a,o;try{let l;if(!r.el||!(!((a=r.state)===null||a===void 0)&&a.container)||!Array.from(r.state.container.childNodes).includes(r.el)){r.el=document.createElement("div");const d=(r.props.getPopupContainer||s.getPopupContainer||dee)();return d.appendChild(r.el),r.addStyle(r.props.style),r.addClass(r.props.prefixCls,s,r.props.className),l=d,l}}catch(l){if(!i)throw l}return(o=r.state)===null||o===void 0?void 0:o.container},this.addStyle=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.el)for(const i of Object.keys(s))r.el.style[i]=s[i]},this.addClass=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.context;const{direction:a}=i;for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];const d=$(s,...l,{[`${s}-rtl`]:a==="rtl"});r.el&&(r.el.className=d)},this.state={container:this.initContainer(t,!0)}}componentDidMount(){const e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){const{didUpdate:t}=this.props;t&&t(e)}componentWillUnmount(){const{container:e}=this.state;e&&e.removeChild(this.el)}render(){const{state:e,props:t}=this;return e.container?Ls.createPortal(t.children,this.el):null}}vy.contextType=Xr;vy.defaultProps={prefixCls:`${W}-portal`};vy.propTypes={children:c.node,prefixCls:c.string,getPopupContainer:c.func,className:c.string,didUpdate:c.func};var hee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const fee=n=>{const{className:e,style:t}=n,r=hee(n,["className","style"]);return v.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),v.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))};var pee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const gee=n=>{const{className:e,style:t}=n,r=pee(n,["className","style"]);return v.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),v.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},mee=c.shape({offsetX:c.number,offsetY:c.number,width:c.number,height:c.number});class BC extends v.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var t,r;(r=(t=this.props).onAnimationStart)===null||r===void 0||r.call(t)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var t,r;(r=(t=this.props).onAnimationEnd)===null||r===void 0||r.call(t,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,t,r,s;(t=(e=this.props).onAnimationStart)===null||t===void 0||t.call(e),this.props.motion||((s=(r=this.props).onAnimationEnd)===null||s===void 0||s.call(r,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,t,r){const s=Object.keys(this.props).filter(i=>!Fe(this.props[i],e[i]));s.includes("animationState"),(s.includes("startClassName")||s.includes("replayKey")||s.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var i,a,o,l;(a=(i=this.props).onAnimationStart)===null||a===void 0||a.call(i),this.props.motion||((l=(o=this.props).onAnimationEnd)===null||l===void 0||l.call(o,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var e;return this.props.motion?this.props.children({animationClassName:(e=this.state.currentClassName)!==null&&e!==void 0?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}BC.defaultProps={motion:!0,replayKey:""};var ax=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const jg=YJ.PREFIX,vee=Tl.POSITION_SET,yee=Tl.TRIGGER_SET,_ee=["flex","block","table","flow-root","grid"],bee=()=>document.body;class yr extends Ae{constructor(e){super(e),this.isAnimating=!1,this.setContainerEl=t=>this.containerEl={current:t},this.isSpecial=t=>{if(it(t))return!!t.disabled;if(D.isValidElement(t)){if(Z(t,"props.disabled"))return Tl.STATUS_DISABLED;const s=Z(t,"props.loading"),i=!It(t)&&!It(t.type)&&(Z(t,"type.elementType")==="Button"||Z(t,"type.elementType")==="IconButton");if(s&&i)return Tl.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{const{placement:t}=this.state,{showArrow:r,prefixCls:s,style:i}=this.props;let a=null;const o=$([`${s}-icon-arrow`]),l=Z(i,"backgroundColor"),u=t!=null&&t.includes("left")||t!=null&&t.includes("right")?v.createElement(gee,null):v.createElement(fee,null);return r&&(D.isValidElement(r)?a=r:a=v.cloneElement(u,{className:o,style:{color:l,fill:"currentColor"}})),a},this.handlePortalInnerClick=t=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&ng(t)},this.handlePortalMouseDown=t=>{this.props.stopPropagation&&ng(t)},this.handlePortalFocus=t=>{this.props.stopPropagation&&ng(t)},this.handlePortalBlur=t=>{this.props.stopPropagation&&ng(t)},this.handlePortalInnerKeyDown=t=>{this.foundation.handleContainerKeydown(t)},this.renderContentNode=t=>{const r={initialFocusRef:this.initialFocusRef};return De(t)?t(r):t},this.renderPortal=()=>{const{containerStyle:t={},visible:r,portalEventSet:s,placement:i,displayNone:a,transitionState:o,id:l,isPositionUpdated:u}=this.state,{prefixCls:d,content:h,showArrow:f,style:g,motion:b,role:y,zIndex:_}=this.props,m=this.renderContentNode(h),{className:E}=this.props,w=this.context.direction,S=$(E,{[`${d}-wrapper`]:!0,[`${d}-wrapper-show`]:r,[`${d}-with-arrow`]:!!f,[`${d}-rtl`]:w==="rtl"}),O=this.renderIcon(),x=lu(t,b?["transformOrigin"]:void 0),I=Z(t,"transformOrigin"),T=Z(g,"opacity",null),P=T||1,A=v.createElement(BC,{fillMode:"forwards",animationState:o,motion:b&&u,startClassName:o==="enter"?`${jg}-animation-show`:`${jg}-animation-hide`,onAnimationStart:()=>this.isAnimating=!0,onAnimationEnd:()=>{var k,L;o==="leave"&&(this.didLeave(),(L=(k=this.props).afterClose)===null||L===void 0||L.call(k)),this.isAnimating=!1}},k=>{let{animationStyle:L,animationClassName:N,animationEventsNeedBind:K}=k;return v.createElement("div",Object.assign({className:$(S,N),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},L),a?{display:"none"}:{}),{transformOrigin:I}),g),T?{opacity:u?P:"0"}:{})},s,K,{role:y,"x-placement":i,id:l}),v.createElement("div",{className:`${jg}-content`},m),O)});return v.createElement(vy,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:_}},v.createElement("div",{tabIndex:-1,className:`${W}-portal-inner`,style:x,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},A))},this.wrapSpan=t=>{const{wrapperClassName:r}=this.props,s=Z(t,"props.style.display"),i=Z(t,"props.block"),a=typeof t=="string",o={};return a||(o.display="inline-block"),(i||_ee.includes(s))&&(o.width="100%"),v.createElement("span",{className:r,style:o},t)},this.mergeEvents=(t,r)=>{const s={};return zJ(r,(i,a)=>{typeof i=="function"&&(s[a]=function(){i(...arguments),t&&typeof t[a]=="function"&&t[a](...arguments)})}),s},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new GJ(this.adapter),this.eventManager=new GL,this.triggerEl=v.createRef(),this.containerEl=v.createRef(),this.initialFocusRef=v.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},getAnimatingState:()=>this.isAnimating,insertPortal:(t,r)=>{var s=ax(r,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),s)},()=>{setTimeout(()=>{this.setState(i=>(i.transitionState==="enter"&&this.eventManager.emit("portalInserted"),{}))},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:t=>{this.setState({triggerEventSet:t})},registerPortalEvent:t=>{this.setState({portalEventSet:t})},getTriggerBounding:()=>{const t=this.adapter.getTriggerNode();return this.triggerEl.current=t,t&&t.getBoundingClientRect()},getPopupContainerRect:()=>{const t=this.getPopupContainer();let r=null;if(t&&it(t)){const s=WJ(t.getBoundingClientRect());r=Object.assign(Object.assign({},s),{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})}return r},containerIsBody:()=>this.getPopupContainer()===document.body,containerIsRelative:()=>{const t=this.getPopupContainer();return window.getComputedStyle(t).getPropertyValue("position")==="relative"},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{const t=this.containerEl&&this.containerEl.current;return t&&t.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:t=>{var{position:r}=t,s=ax(t,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),s),placement:r,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(t,r)=>{this.setState({displayNone:t},r)},updatePlacementAttr:t=>{this.setState({placement:t})},togglePortalVisible:(t,r)=>{const s={};s.transitionState=t?"enter":"leave",s.visible=t,this.mounted&&this.setState(s,()=>{r()})},registerClickOutsideHandler:t=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=r=>{if(!this.mounted)return!1;let s=this.triggerEl&&this.triggerEl.current,i=this.containerEl&&this.containerEl.current;s=cs.findDOMNode(s),i=cs.findDOMNode(i);const a=r.target,o=r.composedPath&&r.composedPath()||[a],l=this.props.clickTriggerToHide?s&&s.contains(a)||o.includes(s):!1;(s&&!s.contains(a)&&i&&!i.contains(a)&&!(o.includes(i)||o.includes(s))||l)&&(this.props.onClickOutSide(r),t())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:t=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=Vm(r=>{if(!this.mounted)return!1;t(r)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:t=>{this.props.onVisibleChange(t)},registerScrollHandler:t=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=Vm(r=>{if(!this.mounted)return!1;const s=this.adapter.getTriggerNode();if(r.target.contains(s)){const a={x:r.target.scrollLeft,y:r.target.scrollTop};t(a)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{const t=this.getPopupContainer();if(t&&it(t)){const s=window.getComputedStyle(t).getPropertyValue("position");this.containerPosition=s}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let t=this.triggerEl.current;return it(this.triggerEl.current)||(t=cs.findDOMNode(this.triggerEl.current)),t},getFocusableElements:t=>ZL(t),getActiveElement:()=>QL(),setInitialFocus:()=>{const{preventScroll:t}=this.props,r=Z(this,"initialFocusRef.current");r&&"focus"in r&&r.focus({preventScroll:t})},notifyEscKeydown:t=>{this.props.onEscKeyDown(t)},setId:()=>{this.setState({id:xa()})},getTriggerDOM:()=>this.triggerEl.current?cs.findDOMNode(this.triggerEl.current):null})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||bee,this.foundation.init(),UC(()=>{let e=this.triggerEl.current;e&&(e instanceof HTMLElement||(e=Ls.findDOMNode(e))),this.foundation.updateStateIfCursorOnTrigger(e)},1)}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,t){zt(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),Fe(e.rePosKey,this.props.rePosKey)||this.rePosition()}render(){const{isInsert:e,triggerEventSet:t,visible:r,id:s}=this.state,{wrapWhenSpecial:i,role:a,trigger:o}=this.props;let{children:l}=this.props;const u=Object.assign({},Z(l,"props.style")),d={};if(i){const g=this.isSpecial(l);g?(u.pointerEvents="none",g===Tl.STATUS_DISABLED&&(d.cursor="not-allowed"),l=D.cloneElement(l,{style:u}),o!=="custom"&&(l=this.wrapSpan(l)),this.isWrapped=!0):D.isValidElement(l)||(l=this.wrapSpan(l),this.isWrapped=!0)}let h={};a==="dialog"?(h["aria-expanded"]=r?"true":"false",h["aria-haspopup"]="dialog",h["aria-controls"]=s):h["aria-describedby"]=s;const f=v.cloneElement(l,Object.assign(Object.assign(Object.assign(Object.assign({},h),l.props),this.mergeEvents(l.props,t)),{style:Object.assign(Object.assign({},Z(l,"props.style")),d),className:$(Z(l,"props.className")),ref:g=>{this.triggerEl.current=g;const{ref:b}=l;typeof b=="function"?b(g):b&&typeof b=="object"&&(b.current=g)},tabIndex:l.props.tabIndex||0,"data-popupid":s}));return v.createElement(v.Fragment,null,e?this.renderPortal():null,f)}}yr.contextType=Xr;yr.propTypes={children:c.node,motion:c.bool,autoAdjustOverflow:c.bool,position:c.oneOf(vee),getPopupContainer:c.func,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(yee).isRequired,className:c.string,wrapperClassName:c.string,clickToHide:c.bool,clickTriggerToHide:c.bool,visible:c.bool,style:c.object,content:c.oneOfType([c.node,c.func]),prefixCls:c.string,onVisibleChange:c.func,onClickOutSide:c.func,spacing:c.oneOfType([c.number,c.object]),margin:c.oneOfType([c.number,c.object]),showArrow:c.oneOfType([c.bool,c.node]),zIndex:c.number,rePosKey:c.oneOfType([c.string,c.number]),arrowBounding:mee,transformFromCenter:c.bool,arrowPointAtCenter:c.bool,stopPropagation:c.bool,role:c.string,wrapWhenSpecial:c.bool,guardFocus:c.bool,returnFocusOnClose:c.bool,preventScroll:c.bool,keepDOM:c.bool};yr.__SemiComponentName__="Tooltip";yr.defaultProps=Ws(yr.__SemiComponentName__,{arrowBounding:ol.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:jg,role:"tooltip",mouseEnterDelay:ol.MOUSE_ENTER_DELAY,mouseLeaveDelay:ol.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:F,onClickOutSide:F,spacing:ol.SPACING,margin:ol.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:ol.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:F,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1});var HC={exports:{}};const JL=(n,{target:e=document.body}={})=>{const t=document.createElement("textarea"),r=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const s=document.getSelection();let i=!1;s.rangeCount>0&&(i=s.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;let a=!1;try{a=document.execCommand("copy")}catch{}return t.remove(),i&&(s.removeAllRanges(),s.addRange(i)),r&&r.focus(),a};HC.exports=JL;HC.exports.default=JL;var wee=HC.exports;const Eee=Ce(wee);function Ot(){}const See=v.createContext(null);function hc(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}function Oi(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",s;if(r==="formatting"&&n.formattingValues){var i=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):i;s=n.formattingValues[a]||n.formattingValues[i]}else{var o=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[l]||n.values[o]}var u=n.argumentCallback?n.argumentCallback(e):e;return s[u]}}function Pi(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;var a=i[0],o=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?Tee(o,function(h){return h.test(a)}):Cee(o,function(h){return h.test(a)}),u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var d=e.slice(a.length);return{value:u,rest:d}}}function Cee(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function Tee(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function e2(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var s=r[0],i=e.match(n.parsePattern);if(!i)return null;var a=n.valueCallback?n.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;var o=e.slice(s.length);return{value:a,rest:o}}}function Gi(n){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(n)}function Mt(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function xe(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Ne(n){xe(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Gi(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function go(n,e){xe(2,arguments);var t=Ne(n),r=Mt(e);if(isNaN(r))return new Date(NaN);if(!r)return t;var s=t.getDate(),i=new Date(t.getTime());i.setMonth(t.getMonth()+r+1,0);var a=i.getDate();return s>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),s),t)}function Iee(n,e){xe(2,arguments);var t=Ne(n).getTime(),r=Mt(e);return new Date(t+r)}var Oee={};function ad(){return Oee}function t2(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function ox(n){xe(1,arguments);var e=Ne(n);return e.setHours(0,0,0,0),e}function Km(n,e){xe(2,arguments);var t=Mt(e);return go(n,t*12)}var zC=6e4,KC=36e5,Pee=1e3;function WC(n,e){xe(2,arguments);var t=ox(n),r=ox(e);return t.getTime()===r.getTime()}function Tw(n){return xe(1,arguments),n instanceof Date||Gi(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Ns(n){if(xe(1,arguments),!Tw(n)&&typeof n!="number")return!1;var e=Ne(n);return!isNaN(Number(e))}function ll(n,e){xe(2,arguments);var t=Ne(n),r=Ne(e),s=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return s*12+i}function xee(n,e){xe(2,arguments);var t=Ne(n),r=Ne(e);return t.getFullYear()-r.getFullYear()}function Ree(n){xe(1,arguments);var e=Ne(n);return e.setDate(1),e.setHours(0,0,0,0),e}function n2(n,e){xe(2,arguments);var t=Mt(e);return Iee(n,-t)}var Aee=864e5;function Dee(n){xe(1,arguments);var e=Ne(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=t-r;return Math.floor(s/Aee)+1}function Rc(n){xe(1,arguments);var e=1,t=Ne(n),r=t.getUTCDay(),s=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-s),t.setUTCHours(0,0,0,0),t}function r2(n){xe(1,arguments);var e=Ne(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var s=Rc(r),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var a=Rc(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function kee(n){xe(1,arguments);var e=r2(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=Rc(t);return r}var Nee=6048e5;function s2(n){xe(1,arguments);var e=Ne(n),t=Rc(e).getTime()-kee(e).getTime();return Math.round(t/Nee)+1}function Ra(n,e){var t,r,s,i,a,o,l,u;xe(1,arguments);var d=ad(),h=Mt((t=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ne(n),g=f.getUTCDay(),b=(g<h?7:0)+g-h;return f.setUTCDate(f.getUTCDate()-b),f.setUTCHours(0,0,0,0),f}function GC(n,e){var t,r,s,i,a,o,l,u;xe(1,arguments);var d=Ne(n),h=d.getUTCFullYear(),f=ad(),g=Mt((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(h+1,0,g),b.setUTCHours(0,0,0,0);var y=Ra(b,e),_=new Date(0);_.setUTCFullYear(h,0,g),_.setUTCHours(0,0,0,0);var m=Ra(_,e);return d.getTime()>=y.getTime()?h+1:d.getTime()>=m.getTime()?h:h-1}function Mee(n,e){var t,r,s,i,a,o,l,u;xe(1,arguments);var d=ad(),h=Mt((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=GC(n,e),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var b=Ra(g,e);return b}var Lee=6048e5;function i2(n,e){xe(1,arguments);var t=Ne(n),r=Ra(t,e).getTime()-Mee(t,e).getTime();return Math.round(r/Lee)+1}function yt(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}var Wa={y:function(e,t){var r=e.getUTCFullYear(),s=r>0?r:1-r;return yt(t==="yy"?s%100:s,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):yt(r+1,2)},d:function(e,t){return yt(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return yt(e.getUTCHours()%12||12,t.length)},H:function(e,t){return yt(e.getUTCHours(),t.length)},m:function(e,t){return yt(e.getUTCMinutes(),t.length)},s:function(e,t){return yt(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return yt(i,t.length)}},Su={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$ee={G:function(e,t,r){var s=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Wa.y(e,t)},Y:function(e,t,r,s){var i=GC(e,s),a=i>0?i:1-i;if(t==="YY"){var o=a%100;return yt(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):yt(a,t.length)},R:function(e,t){var r=r2(e);return yt(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return yt(r,t.length)},Q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return yt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return yt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){var s=e.getUTCMonth();switch(t){case"M":case"MM":return Wa.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){var s=e.getUTCMonth();switch(t){case"L":return String(s+1);case"LL":return yt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){var i=i2(e,s);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):yt(i,t.length)},I:function(e,t,r){var s=s2(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):yt(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Wa.d(e,t)},D:function(e,t,r){var s=Dee(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):yt(s,t.length)},E:function(e,t,r){var s=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return yt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){var i=e.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return yt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var s=e.getUTCDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return yt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var s=e.getUTCHours(),i;switch(s===12?i=Su.noon:s===0?i=Su.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var s=e.getUTCHours(),i;switch(s>=17?i=Su.evening:s>=12?i=Su.afternoon:s>=4?i=Su.morning:i=Su.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Wa.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Wa.H(e,t)},K:function(e,t,r){var s=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):yt(s,t.length)},k:function(e,t,r){var s=e.getUTCHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):yt(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Wa.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Wa.s(e,t)},S:function(e,t){return Wa.S(e,t)},X:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return ux(a);case"XXXX":case"XX":return ul(a);case"XXXXX":case"XXX":default:return ul(a,":")}},x:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(t){case"x":return ux(a);case"xxxx":case"xx":return ul(a);case"xxxxx":case"xxx":default:return ul(a,":")}},O:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+lx(a,":");case"OOOO":default:return"GMT"+ul(a,":")}},z:function(e,t,r,s){var i=s._originalDate||e,a=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+lx(a,":");case"zzzz":default:return"GMT"+ul(a,":")}},t:function(e,t,r,s){var i=s._originalDate||e,a=Math.floor(i.getTime()/1e3);return yt(a,t.length)},T:function(e,t,r,s){var i=s._originalDate||e,a=i.getTime();return yt(a,t.length)}};function lx(n,e){var t=n>0?"-":"+",r=Math.abs(n),s=Math.floor(r/60),i=r%60;if(i===0)return t+String(s);var a=e;return t+String(s)+a+yt(i,2)}function ux(n,e){if(n%60===0){var t=n>0?"-":"+";return t+yt(Math.abs(n)/60,2)}return ul(n,e)}function ul(n,e){var t=e||"",r=n>0?"-":"+",s=Math.abs(n),i=yt(Math.floor(s/60),2),a=yt(s%60,2);return r+i+t+a}var cx=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},a2=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Fee=function(e,t){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return cx(e,t);var a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",cx(s,t)).replace("{{time}}",a2(i,t))},Iw={p:a2,P:Fee},Vee=["D","DD"],jee=["YY","YYYY"];function o2(n){return Vee.indexOf(n)!==-1}function l2(n){return jee.indexOf(n)!==-1}function Wm(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Uee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bee=function(e,t,r){var s,i=Uee[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s},Hee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wee={date:hc({formats:Hee,defaultWidth:"full"}),time:hc({formats:zee,defaultWidth:"full"}),dateTime:hc({formats:Kee,defaultWidth:"full"})},Gee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yee=function(e,t,r,s){return Gee[e]},qee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ete={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tte=function(e,t){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nte={ordinalNumber:tte,era:Oi({values:qee,defaultWidth:"wide"}),quarter:Oi({values:Xee,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Oi({values:Qee,defaultWidth:"wide"}),day:Oi({values:Zee,defaultWidth:"wide"}),dayPeriod:Oi({values:Jee,defaultWidth:"wide",formattingValues:ete,defaultFormattingWidth:"wide"})},rte=/^(\d+)(th|st|nd|rd)?/i,ste=/\d+/i,ite={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ate={any:[/^b/i,/^(a|c)/i]},ote={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lte={any:[/1/i,/2/i,/3/i,/4/i]},ute={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gte={ordinalNumber:e2({matchPattern:rte,parsePattern:ste,valueCallback:function(e){return parseInt(e,10)}}),era:Pi({matchPatterns:ite,defaultMatchWidth:"wide",parsePatterns:ate,defaultParseWidth:"any"}),quarter:Pi({matchPatterns:ote,defaultMatchWidth:"wide",parsePatterns:lte,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Pi({matchPatterns:ute,defaultMatchWidth:"wide",parsePatterns:cte,defaultParseWidth:"any"}),day:Pi({matchPatterns:dte,defaultMatchWidth:"wide",parsePatterns:hte,defaultParseWidth:"any"}),dayPeriod:Pi({matchPatterns:fte,defaultMatchWidth:"any",parsePatterns:pte,defaultParseWidth:"any"})},u2={code:"en-US",formatDistance:Bee,formatLong:Wee,formatRelative:Yee,localize:nte,match:gte,options:{weekStartsOn:0,firstWeekContainsDate:1}},mte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yte=/^'([^]*?)'?$/,_te=/''/g,bte=/[a-zA-Z]/;function ot(n,e,t){var r,s,i,a,o,l,u,d,h,f,g,b,y,_,m,E,w,S;xe(2,arguments);var O=String(e),x=ad(),I=(r=(s=t==null?void 0:t.locale)!==null&&s!==void 0?s:x.locale)!==null&&r!==void 0?r:u2,T=Mt((i=(a=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&a!==void 0?a:(h=x.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Mt((g=(b=(y=(_=t==null?void 0:t.weekStartsOn)!==null&&_!==void 0?_:t==null||(m=t.locale)===null||m===void 0||(E=m.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&y!==void 0?y:x.weekStartsOn)!==null&&b!==void 0?b:(w=x.locale)===null||w===void 0||(S=w.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&g!==void 0?g:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var A=Ne(n);if(!Ns(A))throw new RangeError("Invalid time value");var k=t2(A),L=n2(A,k),N={firstWeekContainsDate:T,weekStartsOn:P,locale:I,_originalDate:A},K=O.match(vte).map(function(G){var z=G[0];if(z==="p"||z==="P"){var ee=Iw[z];return ee(G,I.formatLong)}return G}).join("").match(mte).map(function(G){if(G==="''")return"'";var z=G[0];if(z==="'")return wte(G);var ee=$ee[z];if(ee)return!(t!=null&&t.useAdditionalWeekYearTokens)&&l2(G)&&Wm(G,e,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&o2(G)&&Wm(G,e,String(n)),ee(L,G,I.localize,N);if(z.match(bte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return G}).join("");return K}function wte(n){var e=n.match(yte);return e?e[1].replace(_te,"'"):n}function Ete(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function c2(n){xe(1,arguments);var e=Ne(n),t=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Ste(n){xe(1,arguments);var e=Ne(n),t=e.getHours();return t}function Cte(n){xe(1,arguments);var e=Ne(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function Tte(n,e){xe(2,arguments);var t=Ne(n),r=Ne(e);return t.getTime()>r.getTime()}function d2(n,e){xe(2,arguments);var t=Ne(n),r=Ne(e);return t.getTime()<r.getTime()}function Gm(n,e){xe(2,arguments);var t=Ne(n),r=Ne(e);return t.getTime()===r.getTime()}function dx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Ite(n,e){if(n){if(typeof n=="string")return dx(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?dx(n,e):void 0}}function hx(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Ite(n))||e){t&&(n=t);var r=0,s=function(){};return{s,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){o=!0,i=u},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw i}}}}function ue(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ym(n,e){return Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ym(n,e)}function Ze(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Ym(n,e)}function qm(n){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qm(n)}function h2(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!n})()}function Ote(n,e){if(e&&(Gi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ue(n)}function Je(n){var e=h2();return function(){var t,r=qm(n);if(e){var s=qm(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return Ote(this,t)}}function He(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Pte(n,e){if(Gi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Gi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function f2(n){var e=Pte(n,"string");return Gi(e)=="symbol"?e:e+""}function xte(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,f2(r.key),r)}}function ze(n,e,t){return e&&xte(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function oe(n,e,t){return(e=f2(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Rte=10,p2=function(){function n(){He(this,n),oe(this,"priority",void 0),oe(this,"subPriority",0)}return ze(n,[{key:"validate",value:function(t,r){return!0}}]),n}(),Ate=function(n){Ze(t,n);var e=Je(t);function t(r,s,i,a,o){var l;return He(this,t),l=e.call(this),l.value=r,l.validateValue=s,l.setValue=i,l.priority=a,o&&(l.subPriority=o),l}return ze(t,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,a){return this.setValue(s,i,this.value,a)}}]),t}(p2),Dte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",Rte),oe(ue(r),"subPriority",-1),r}return ze(t,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var a=new Date(0);return a.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),a.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),a}}]),t}(p2),ct=function(){function n(){He(this,n),oe(this,"incompatibleTokens",void 0),oe(this,"priority",void 0),oe(this,"subPriority",void 0)}return ze(n,[{key:"run",value:function(t,r,s,i){var a=this.parse(t,r,s,i);return a?{setter:new Ate(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(t,r,s){return!0}}]),n}(),kte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",140),oe(ue(r),"incompatibleTokens",["R","u","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,a){return i.era=a,s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(ct),Sn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},xi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Cn(n,e){return n&&{value:e(n.value),rest:n.rest}}function sn(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ri(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:r*(s*KC+i*zC+a*Pee),rest:e.slice(t[0].length)}}function g2(n){return sn(Sn.anyDigitsSigned,n)}function gn(n,e){switch(n){case 1:return sn(Sn.singleDigit,e);case 2:return sn(Sn.twoDigits,e);case 3:return sn(Sn.threeDigits,e);case 4:return sn(Sn.fourDigits,e);default:return sn(new RegExp("^\\d{1,"+n+"}"),e)}}function Xm(n,e){switch(n){case 1:return sn(Sn.singleDigitSigned,e);case 2:return sn(Sn.twoDigitsSigned,e);case 3:return sn(Sn.threeDigitsSigned,e);case 4:return sn(Sn.fourDigitsSigned,e);default:return sn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function YC(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function m2(n,e){var t=e>0,r=t?e:1-e,s;if(r<=50)s=n||100;else{var i=r+50,a=Math.floor(i/100)*100,o=n>=i%100;s=n+a-(o?100:0)}return t?s:1-s}function v2(n){return n%400===0||n%4===0&&n%100!==0}var Nte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",130),oe(ue(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){var o=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Cn(gn(4,s),o);case"yo":return Cn(a.ordinalNumber(s,{unit:"year"}),o);default:return Cn(gn(i.length,s),o)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a){var o=s.getUTCFullYear();if(a.isTwoDigitYear){var l=m2(a.year,o);return s.setUTCFullYear(l,0,1),s.setUTCHours(0,0,0,0),s}var u=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(u,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(ct),Mte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",130),oe(ue(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){var o=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Cn(gn(4,s),o);case"Yo":return Cn(a.ordinalNumber(s,{unit:"year"}),o);default:return Cn(gn(i.length,s),o)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a,o){var l=GC(s,o);if(a.isTwoDigitYear){var u=m2(a.year,l);return s.setUTCFullYear(u,0,o.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Ra(s,o)}var d=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(d,0,o.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Ra(s,o)}}]),t}(ct),Lte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",130),oe(ue(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i){return Xm(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,a){var o=new Date(0);return o.setUTCFullYear(a,0,4),o.setUTCHours(0,0,0,0),Rc(o)}}]),t}(ct),$te=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",130),oe(ue(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i){return Xm(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,a){return s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(ct),Fte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",120),oe(ue(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"Q":case"QQ":return gn(i.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(ct),Vte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",120),oe(ue(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"q":case"qq":return gn(i.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(ct),jte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),oe(ue(r),"priority",110),r}return ze(t,[{key:"parse",value:function(s,i,a){var o=function(u){return u-1};switch(i){case"M":return Cn(sn(Sn.month,s),o);case"MM":return Cn(gn(2,s),o);case"Mo":return Cn(a.ordinalNumber(s,{unit:"month"}),o);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),t}(ct),Ute=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",110),oe(ue(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){var o=function(u){return u-1};switch(i){case"L":return Cn(sn(Sn.month,s),o);case"LL":return Cn(gn(2,s),o);case"Lo":return Cn(a.ordinalNumber(s,{unit:"month"}),o);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),t}(ct);function Bte(n,e,t){xe(2,arguments);var r=Ne(n),s=Mt(e),i=i2(r,t)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var Hte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",100),oe(ue(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"w":return sn(Sn.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a,o){return Ra(Bte(s,a,o),o)}}]),t}(ct);function zte(n,e){xe(2,arguments);var t=Ne(n),r=Mt(e),s=s2(t)-r;return t.setUTCDate(t.getUTCDate()-s*7),t}var Kte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",100),oe(ue(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"I":return sn(Sn.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a){return Rc(zte(s,a))}}]),t}(ct),Wte=[31,28,31,30,31,30,31,31,30,31,30,31],Gte=[31,29,31,30,31,30,31,31,30,31,30,31],Yte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",90),oe(ue(r),"subPriority",1),oe(ue(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"d":return sn(Sn.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),o=v2(a),l=s.getUTCMonth();return o?i>=1&&i<=Gte[l]:i>=1&&i<=Wte[l]}},{key:"set",value:function(s,i,a){return s.setUTCDate(a),s.setUTCHours(0,0,0,0),s}}]),t}(ct),qte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",90),oe(ue(r),"subpriority",1),oe(ue(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"D":case"DD":return sn(Sn.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),o=v2(a);return o?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,a){return s.setUTCMonth(0,a),s.setUTCHours(0,0,0,0),s}}]),t}(ct);function qC(n,e,t){var r,s,i,a,o,l,u,d;xe(2,arguments);var h=ad(),f=Mt((r=(s=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&s!==void 0?s:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Ne(n),b=Mt(e),y=g.getUTCDay(),_=b%7,m=(_+7)%7,E=(m<f?7:0)+b-y;return g.setUTCDate(g.getUTCDate()+E),g}var Xte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",90),oe(ue(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,o){return s=qC(s,a,o),s.setUTCHours(0,0,0,0),s}}]),t}(ct),Qte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",90),oe(ue(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a,o){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+h};switch(i){case"e":case"ee":return Cn(gn(i.length,s),l);case"eo":return Cn(a.ordinalNumber(s,{unit:"day"}),l);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,o){return s=qC(s,a,o),s.setUTCHours(0,0,0,0),s}}]),t}(ct),Zte=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",90),oe(ue(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a,o){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+h};switch(i){case"c":case"cc":return Cn(gn(i.length,s),l);case"co":return Cn(a.ordinalNumber(s,{unit:"day"}),l);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,o){return s=qC(s,a,o),s.setUTCHours(0,0,0,0),s}}]),t}(ct);function Jte(n,e){xe(2,arguments);var t=Mt(e);t%7===0&&(t=t-7);var r=1,s=Ne(n),i=s.getUTCDay(),a=t%7,o=(a+7)%7,l=(o<r?7:0)+t-i;return s.setUTCDate(s.getUTCDate()+l),s}var ene=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",90),oe(ue(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){var o=function(u){return u===0?7:u};switch(i){case"i":case"ii":return gn(i.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return Cn(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiii":return Cn(a.day(s,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Cn(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Cn(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,a){return s=Jte(s,a),s.setUTCHours(0,0,0,0),s}}]),t}(ct),tne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",80),oe(ue(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(YC(a),0,0,0),s}}]),t}(ct),nne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",80),oe(ue(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(YC(a),0,0,0),s}}]),t}(ct),rne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",80),oe(ue(r),"incompatibleTokens",["a","b","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(YC(a),0,0,0),s}}]),t}(ct),sne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",70),oe(ue(r),"incompatibleTokens",["H","K","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"h":return sn(Sn.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,a){var o=s.getUTCHours()>=12;return o&&a<12?s.setUTCHours(a+12,0,0,0):!o&&a===12?s.setUTCHours(0,0,0,0):s.setUTCHours(a,0,0,0),s}}]),t}(ct),ine=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",70),oe(ue(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"H":return sn(Sn.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,a){return s.setUTCHours(a,0,0,0),s}}]),t}(ct),ane=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",70),oe(ue(r),"incompatibleTokens",["h","H","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"K":return sn(Sn.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){var o=s.getUTCHours()>=12;return o&&a<12?s.setUTCHours(a+12,0,0,0):s.setUTCHours(a,0,0,0),s}}]),t}(ct),one=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",70),oe(ue(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"k":return sn(Sn.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,a){var o=a<=24?a%24:a;return s.setUTCHours(o,0,0,0),s}}]),t}(ct),lne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",60),oe(ue(r),"incompatibleTokens",["t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"m":return sn(Sn.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCMinutes(a,0,0),s}}]),t}(ct),une=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",50),oe(ue(r),"incompatibleTokens",["t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,a){switch(i){case"s":return sn(Sn.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return gn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCSeconds(a,0),s}}]),t}(ct),cne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",30),oe(ue(r),"incompatibleTokens",["t","T"]),r}return ze(t,[{key:"parse",value:function(s,i){var a=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return Cn(gn(i.length,s),a)}},{key:"set",value:function(s,i,a){return s.setUTCMilliseconds(a),s}}]),t}(ct),dne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",10),oe(ue(r),"incompatibleTokens",["t","T","x"]),r}return ze(t,[{key:"parse",value:function(s,i){switch(i){case"X":return Ri(xi.basicOptionalMinutes,s);case"XX":return Ri(xi.basic,s);case"XXXX":return Ri(xi.basicOptionalSeconds,s);case"XXXXX":return Ri(xi.extendedOptionalSeconds,s);case"XXX":default:return Ri(xi.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),t}(ct),hne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",10),oe(ue(r),"incompatibleTokens",["t","T","X"]),r}return ze(t,[{key:"parse",value:function(s,i){switch(i){case"x":return Ri(xi.basicOptionalMinutes,s);case"xx":return Ri(xi.basic,s);case"xxxx":return Ri(xi.basicOptionalSeconds,s);case"xxxxx":return Ri(xi.extendedOptionalSeconds,s);case"xxx":default:return Ri(xi.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),t}(ct),fne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",40),oe(ue(r),"incompatibleTokens","*"),r}return ze(t,[{key:"parse",value:function(s){return g2(s)}},{key:"set",value:function(s,i,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),t}(ct),pne=function(n){Ze(t,n);var e=Je(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i)),oe(ue(r),"priority",20),oe(ue(r),"incompatibleTokens","*"),r}return ze(t,[{key:"parse",value:function(s){return g2(s)}},{key:"set",value:function(s,i,a){return[new Date(a),{timestampIsSet:!0}]}}]),t}(ct),gne={G:new kte,y:new Nte,Y:new Mte,R:new Lte,u:new $te,Q:new Fte,q:new Vte,M:new jte,L:new Ute,w:new Hte,I:new Kte,d:new Yte,D:new qte,E:new Xte,e:new Qte,c:new Zte,i:new ene,a:new tne,b:new nne,B:new rne,h:new sne,H:new ine,K:new ane,k:new one,m:new lne,s:new une,S:new cne,X:new dne,x:new hne,t:new fne,T:new pne},mne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yne=/^'([^]*?)'?$/,_ne=/''/g,bne=/\S/,wne=/[a-zA-Z]/;function y2(n,e,t,r){var s,i,a,o,l,u,d,h,f,g,b,y,_,m,E,w,S,O;xe(3,arguments);var x=String(n),I=String(e),T=ad(),P=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:T.locale)!==null&&s!==void 0?s:u2;if(!P.match)throw new RangeError("locale must contain match property");var A=Mt((a=(o=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&o!==void 0?o:(f=T.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Mt((b=(y=(_=(m=r==null?void 0:r.weekStartsOn)!==null&&m!==void 0?m:r==null||(E=r.locale)===null||E===void 0||(w=E.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&_!==void 0?_:T.weekStartsOn)!==null&&y!==void 0?y:(S=T.locale)===null||S===void 0||(O=S.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&b!==void 0?b:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(I==="")return x===""?Ne(t):new Date(NaN);var L={firstWeekContainsDate:A,weekStartsOn:k,locale:P},N=[new Dte],K=I.match(vne).map(function(pe){var te=pe[0];if(te in Iw){var le=Iw[te];return le(pe,P.formatLong)}return pe}).join("").match(mne),G=[],z=hx(K),ee;try{var V=function(){var te=ee.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&l2(te)&&Wm(te,I,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&o2(te)&&Wm(te,I,n);var le=te[0],ut=gne[le];if(ut){var St=ut.incompatibleTokens;if(Array.isArray(St)){var Zt=G.find(function(mn){return St.includes(mn.token)||mn.token===le});if(Zt)throw new RangeError("The format string mustn't contain `".concat(Zt.fullToken,"` and `").concat(te,"` at the same time"))}else if(ut.incompatibleTokens==="*"&&G.length>0)throw new RangeError("The format string mustn't contain `".concat(te,"` and any other token at the same time"));G.push({token:le,fullToken:te});var pt=ut.run(x,te,P.match,L);if(!pt)return{v:new Date(NaN)};N.push(pt.setter),x=pt.rest}else{if(le.match(wne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");if(te==="''"?te="'":le==="'"&&(te=Ene(te)),x.indexOf(te)===0)x=x.slice(te.length);else return{v:new Date(NaN)}}};for(z.s();!(ee=z.n()).done;){var H=V();if(Gi(H)==="object")return H.v}}catch(pe){z.e(pe)}finally{z.f()}if(x.length>0&&bne.test(x))return new Date(NaN);var U=N.map(function(pe){return pe.priority}).sort(function(pe,te){return te-pe}).filter(function(pe,te,le){return le.indexOf(pe)===te}).map(function(pe){return N.filter(function(te){return te.priority===pe}).sort(function(te,le){return le.subPriority-te.subPriority})}).map(function(pe){return pe[0]}),ae=Ne(t);if(isNaN(ae.getTime()))return new Date(NaN);var ne=n2(ae,t2(ae)),re={},de=hx(U),be;try{for(de.s();!(be=de.n()).done;){var ve=be.value;if(!ve.validate(ne,L))return new Date(NaN);var ge=ve.set(ne,re,L);Array.isArray(ge)?(ne=ge[0],Ete(re,ge[1])):ne=ge}}catch(pe){de.e(pe)}finally{de.f()}return ne}function Ene(n){return n.match(yne)[1].replace(_ne,"'")}function fx(n){xe(1,arguments);var e=Ne(n);return e.setMilliseconds(0),e}function px(n,e){xe(2,arguments);var t=fx(n),r=fx(e);return t.getTime()===r.getTime()}function Sne(n,e){xe(2,arguments);var t=Ne(n).getTime(),r=Ne(e.start).getTime(),s=Ne(e.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return t>=r&&t<=s}function js(n,e){var t;xe(1,arguments);var r=Mt((t=void 0)!==null&&t!==void 0?t:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var s=One(n),i;if(s.date){var a=Pne(s.date,r);i=xne(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,u;if(s.time&&(l=Rne(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(u=Ane(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(o+l+u)}var rg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Cne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ine=/^([+-])(\d{2})(?::?(\d{2}))?$/;function One(n){var e={},t=n.split(rg.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],rg.timeZoneDelimiter.test(e.date)&&(e.date=n.split(rg.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var s=rg.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function Pne(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function xne(n,e){if(e===null)return new Date(NaN);var t=n.match(Cne);if(!t)return new Date(NaN);var r=!!t[4],s=Md(t[1]),i=Md(t[2])-1,a=Md(t[3]),o=Md(t[4]),l=Md(t[5])-1;if(r)return Lne(e,o,l)?Dne(e,o,l):new Date(NaN);var u=new Date(0);return!Nne(e,i,a)||!Mne(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}function Md(n){return n?parseInt(n):1}function Rne(n){var e=n.match(Tne);if(!e)return NaN;var t=hb(e[1]),r=hb(e[2]),s=hb(e[3]);return $ne(t,r,s)?t*KC+r*zC+s*1e3:NaN}function hb(n){return n&&parseFloat(n.replace(",","."))||0}function Ane(n){if(n==="Z")return 0;var e=n.match(Ine);if(!e)return 0;var t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Fne(r,s)?t*(r*KC+s*zC):NaN}function Dne(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var kne=[31,null,31,30,31,30,31,31,30,31,30,31];function _2(n){return n%400===0||n%4===0&&n%100!==0}function Nne(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(kne[e]||(_2(n)?29:28))}function Mne(n,e){return e>=1&&e<=(_2(n)?366:365)}function Lne(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function $ne(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Fne(n,e){return e>=0&&e<=59}function ml(n,e){xe(2,arguments);var t=Ne(n),r=Mt(e),s=t.getFullYear(),i=t.getDate(),a=new Date(0);a.setFullYear(s,r,15),a.setHours(0,0,0,0);var o=c2(a);return t.setMonth(r,Math.min(i,o)),t}function b2(n,e){if(xe(2,arguments),Gi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=Ne(n);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=ml(t,e.month)),e.date!=null&&t.setDate(Mt(e.date)),e.hours!=null&&t.setHours(Mt(e.hours)),e.minutes!=null&&t.setMinutes(Mt(e.minutes)),e.seconds!=null&&t.setSeconds(Mt(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(Mt(e.milliseconds)),t)}function Ow(n,e){xe(2,arguments);var t=Ne(n),r=Mt(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function Vne(n,e){xe(2,arguments);var t=Mt(e);return go(n,-t)}function jne(n,e){xe(2,arguments);var t=Mt(e);return Km(n,-t)}function Une(n,e,t){xe(2,arguments);var r=Ra(n,t),s=Ra(e,t);return r.getTime()===s.getTime()}var Bne={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},Hne=function(e,t,r){var s,i=Bne[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?s+"":s+"":s},zne={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},Kne={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},Wne={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Gne={date:hc({formats:zne,defaultWidth:"full"}),time:hc({formats:Kne,defaultWidth:"full"}),dateTime:hc({formats:Wne,defaultWidth:"full"})};function gx(n,e,t){var r="eeee p";return Une(n,e,t)?r:n.getTime()>e.getTime()?"''"+r:"''"+r}var Yne={lastWeek:gx,yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:gx,other:"PP p"},qne=function(e,t,r,s){var i=Yne[e];return typeof i=="function"?i(t,r,s):i},Xne={narrow:["",""],abbreviated:["",""],wide:["",""]},Qne={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},Zne={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},Jne={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},ere={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},tre={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},nre=function(e,t){var r=Number(e);switch(t==null?void 0:t.unit){case"date":return r.toString()+"";case"hour":return r.toString()+"";case"minute":return r.toString()+"";case"second":return r.toString()+"";default:return" "+r.toString()}},rre={ordinalNumber:nre,era:Oi({values:Xne,defaultWidth:"wide"}),quarter:Oi({values:Qne,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Oi({values:Zne,defaultWidth:"wide"}),day:Oi({values:Jne,defaultWidth:"wide"}),dayPeriod:Oi({values:ere,defaultWidth:"wide",formattingValues:tre,defaultFormattingWidth:"wide"})},sre=/^(\s*)?\d+(|||)?/i,ire=/\d+/i,are={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},ore={any:[/^()/i,/^()/i]},lre={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},ure={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},cre={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},dre={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},hre={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},fre={any:[//i,//i,//i,//i,//i,//i,//i]},pre={any:/^(?|?||[]|?||?||)/i},gre={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},mre={ordinalNumber:e2({matchPattern:sre,parsePattern:ire,valueCallback:function(e){return parseInt(e,10)}}),era:Pi({matchPatterns:are,defaultMatchWidth:"wide",parsePatterns:ore,defaultParseWidth:"any"}),quarter:Pi({matchPatterns:lre,defaultMatchWidth:"wide",parsePatterns:ure,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Pi({matchPatterns:cre,defaultMatchWidth:"wide",parsePatterns:dre,defaultParseWidth:"any"}),day:Pi({matchPatterns:hre,defaultMatchWidth:"wide",parsePatterns:fre,defaultParseWidth:"any"}),dayPeriod:Pi({matchPatterns:pre,defaultMatchWidth:"any",parsePatterns:gre,defaultParseWidth:"any"})},XC={code:"zh-CN",formatDistance:Hne,formatLong:Gne,formatRelative:qne,localize:rre,match:mre,options:{weekStartsOn:1,firstWeekContainsDate:4}};const mx={code:"zh-CN",dateFnsLocale:XC,Pagination:{pageSize:"${pageSize}",total:"${total}",jumpTo:"",page:""},Modal:{confirm:"",cancel:""},Tabs:{more:""},TimePicker:{placeholder:{time:"",timeRange:""},begin:"",end:"",hour:"",minute:"",second:"",AM:"",PM:""},DatePicker:{placeholder:{date:"",dateTime:"",dateRange:["",""],dateTimeRange:["",""],monthRange:["",""]},presets:"",footer:{confirm:"",cancel:""},selectDate:"",selectTime:"",year:"",month:"",day:"",monthText:"${year} ${month}",months:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",Sun:""},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"",expandText:""},Popconfirm:{confirm:"",cancel:""},Table:{emptyText:"",pageText:" ${currentStart} - ${currentEnd}  ${total} ",descend:"",ascend:"",cancelSort:""},Select:{emptyText:"",createText:""},Cascader:{emptyText:""},Tree:{emptyText:"",searchPlaceholder:""},List:{emptyText:""},Calendar:{allDay:"",AM:"${time}",PM:"${time}",datestring:"",remaining:"${remained}"},Upload:{mainText:"",illegalTips:"",legalTips:"",retry:"",replace:"",clear:"",selectedFiles:"",illegalSize:"",fail:""},TreeSelect:{searchPlaceholder:""},Typography:{copy:"",copied:"",expand:"",collapse:""},Transfer:{emptyLeft:"",emptySearch:"",emptyRight:"",placeholder:"",clear:"",selectAll:"",clearSelectAll:"",total:"${total}",selected:"${total}"},Form:{optional:""},Image:{preview:"",loading:"",loadError:"",prevTip:"",nextTip:"",zoomInTip:"",zoomOutTip:"",rotateTip:"",downloadTip:"",adaptiveTip:"",originTip:""},Chat:{deleteConfirm:"",clearContext:"",copySuccess:"",stop:"",copy:"",copied:"",dropAreaText:""}};class xn extends D.Component{renderChildren(e,t){const{componentName:r}=this.props;let s=e;e!=null&&e.code||(s=mx);const i=Z(mx,"dateFnsLocale"),a=Z(s,"dateFnsLocale",i);return t(s[r],s.code,a)}render(){const{children:e}=this.props;return v.createElement(Xr.Consumer,null,t=>{let{locale:r}=t;return v.createElement(See.Consumer,null,s=>this.renderChildren(r||s,e))})}}xn.propTypes={componentName:c.string.isRequired,children:c.any};xn.defaultProps={componentName:""};const vre="semi";var yre=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const w2=v.forwardRef((n,e)=>{const{svg:t,spin:r=!1,rotate:s,style:i,className:a,prefixCls:o=vre,type:l,size:u="default"}=n,d=yre(n,["svg","spin","rotate","style","className","prefixCls","type","size"]),h=$(`${o}-icon`,{[`${o}-icon-extra-small`]:u==="extra-small",[`${o}-icon-small`]:u==="small",[`${o}-icon-default`]:u==="default",[`${o}-icon-large`]:u==="large",[`${o}-icon-extra-large`]:u==="extra-large",[`${o}-icon-spinning`]:r===!0,[`${o}-icon-${l}`]:!!l},a),f={};return Number.isSafeInteger(s)&&(f.transform=`rotate(${s}deg)`),Object.assign(f,i),v.createElement("span",Object.assign({role:"img",ref:e,"aria-label":l,className:h,style:f},d),t)});w2.elementType="Icon";const dt=(n,e)=>{const t=v.forwardRef((r,s)=>v.createElement(w2,Object.assign({svg:v.createElement(n),type:e,ref:s},r)));return t.elementType="Icon",t};function _re(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z",fill:"currentColor"}))}const Qm=dt(_re,"alert_circle");function bre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.23 2.4-8.7 16.67A2 2 0 0 0 3.3 22h17.4a2 2 0 0 0 1.77-2.93L13.77 2.4a2 2 0 0 0-3.54 0ZM13.14 14a1.15 1.15 0 0 1-2.28 0l-.58-4.03a1.73 1.73 0 1 1 3.44 0l-.58 4.03Zm.36 4.49a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const E2=dt(bre,"alert_triangle");function wre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20V8h16v12H4ZM2 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm4 6.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2ZM11 15a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Z",fill:"currentColor"}))}const S2=dt(wre,"calendar");function Ere(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M2 5v14a3 3 0 0 0 3 3h7.1a7.02 7.02 0 0 1-1.43-2H6a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2.67c.75.36 1.43.85 2 1.43V5a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3Z",fill:"currentColor"}),D.createElement("path",{d:"M16 10h1c-.54 0-1.06.06-1.57.18A1 1 0 0 1 16 10Z",fill:"currentColor"}),D.createElement("path",{d:"M13.5 10.94a1 1 0 0 0-1-.94h-1a1 1 0 0 0-1 1v1a1 1 0 0 0 .77.97 7.03 7.03 0 0 1 2.23-2.03Z",fill:"currentColor"}),D.createElement("path",{d:"M7 10a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H7Z",fill:"currentColor"}),D.createElement("path",{d:"M6 16a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-1Z",fill:"currentColor"}),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-4-2a1 1 0 1 0-2 0v2c0 .27.1.52.3.7l1.5 1.5a1 1 0 0 0 1.4-1.4L18 16.58V15Z",fill:"currentColor"}))}const Sre=dt(Ere,"calendar_clock");function Cre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M5 12.5c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 5 12.5Z",fill:"currentColor"}))}const Tre=dt(Cre,"checkbox_indeterminate");function Ire(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.41 7.3c.66.51.78 1.45.28 2.11l-6.5 8.5a1.5 1.5 0 0 1-2.37.01l-3.5-4.5a1.5 1.5 0 1 1 2.36-1.84L10 14.54l5.32-6.95a1.5 1.5 0 0 1 2.1-.28Z",fill:"currentColor"}))}const Ore=dt(Ire,"checkbox_tick");function Pre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08 7.6a1.5 1.5 0 0 1 2.12 0l5.66 5.65 5.66-5.65a1.5 1.5 0 1 1 2.12 2.12l-6.72 6.72a1.5 1.5 0 0 1-2.12 0L4.08 9.72a1.5 1.5 0 0 1 0-2.12Z",fill:"currentColor"}))}const yy=dt(Pre,"chevron_down");function xre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.28 4.24a1.5 1.5 0 0 1 0 2.12l-5.66 5.66 5.66 5.65a1.5 1.5 0 1 1-2.12 2.13l-6.72-6.72a1.5 1.5 0 0 1 0-2.12l6.72-6.72a1.5 1.5 0 0 1 2.12 0Z",fill:"currentColor"}))}const C2=dt(xre,"chevron_left");function Rre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.44 19.8a1.5 1.5 0 0 1 0-2.13l5.66-5.65-5.66-5.66a1.5 1.5 0 1 1 2.12-2.12l6.72 6.72a1.5 1.5 0 0 1 0 2.12L9.56 19.8a1.5 1.5 0 0 1-2.12 0Z",fill:"currentColor"}))}const T2=dt(Rre,"chevron_right");function Are(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.64 16.44a1.5 1.5 0 0 1-2.12 0l-5.66-5.66-5.66 5.66a1.5 1.5 0 1 1-2.12-2.12L10.8 7.6a1.5 1.5 0 0 1 2.12 0l6.72 6.72a1.5 1.5 0 0 1 0 2.12Z",fill:"currentColor"}))}const Dre=dt(Are,"chevron_up");function kre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.04-6.14a1.5 1.5 0 0 1-2.13.04l-2.87-2.78L9.26 17A1.5 1.5 0 0 1 7.1 14.9l2.78-2.87L7 9.26A1.5 1.5 0 1 1 9.1 7.1l2.87 2.78L14.74 7A1.5 1.5 0 0 1 16.9 9.1l-2.78 2.87L17 14.74c.6.58.61 1.53.04 2.12Z",fill:"currentColor"}))}const Yo=dt(kre,"clear");function Nre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm1.5-16.5v4.88l3.56 3.56a1.5 1.5 0 0 1-2.12 2.12l-4-4A1.5 1.5 0 0 1 10.5 12V6.5a1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const I2=dt(Nre,"clock");function Mre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M17.66 19.78a1.5 1.5 0 0 0 2.12-2.12L14.12 12l5.66-5.66a1.5 1.5 0 0 0-2.12-2.12L12 9.88 6.34 4.22a1.5 1.5 0 1 0-2.12 2.12L9.88 12l-5.66 5.66a1.5 1.5 0 0 0 2.12 2.12L12 14.12l5.66 5.66Z",fill:"currentColor"}))}const QC=dt(Mre,"close");function Lre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M7 4c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-1V8c0-2-1-3-3-3H7V4Z",fill:"currentColor"}),D.createElement("path",{d:"M5 7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H5Z",fill:"currentColor"}))}const $re=dt(Lre,"copy");function Fre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.62 4.4c.5.53.5 1.38 0 1.91L7.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.33.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.62 4.4c.5.53.5 1.38 0 1.91L14.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.34.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}))}const Vre=dt(Fre,"double_chevron_left");function jre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.38 4.4c.51-.53 1.34-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L9.86 12 4.38 6.31a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.38 4.4c.51-.53 1.33-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L16.86 12l-5.48-5.69a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}))}const Ure=dt(jre,"double_chevron_right");function Bre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7 3.7a1 1 0 0 0-1.4-1.4L17.3 5.26A11.59 11.59 0 0 0 12 4C5 4 1 10 1 12c0 1.18 1.38 3.73 3.94 5.64L2.3 20.3a1 1 0 1 0 1.42 1.42l18-18ZM7.84 14.77l1.46-1.47a3 3 0 0 1 4-4l1.47-1.46a5 5 0 0 0-6.93 6.93Z",fill:"currentColor"}),D.createElement("path",{d:"M12 20c-1.22 0-2.35-.18-3.38-.5l2.57-2.57a5 5 0 0 0 5.75-5.75l3.56-3.56C22.13 9.27 23 11.07 23 12c0 2-4 8-11 8Z",fill:"currentColor"}))}const Hre=dt(Bre,"eye_closed_solid");function zre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12s4 8 11 8 11-6 11-8-4-8-11-8Zm5 8a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-5 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",fill:"currentColor"}))}const Kre=dt(zre,"eye_opened");function Wre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a1 1 0 0 0-1-1H6a2 2 0 0 0-2 2v18c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V10a1 1 0 0 0-1-1h-5a2 2 0 0 1-2-2V2ZM7 8a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H8a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm1 4a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2H8Zm11.07-9.5H14.5a1 1 0 0 1-1-1V1.93a.8.8 0 0 1 1.37-.56l4.76 4.76a.8.8 0 0 1-.56 1.37Z",fill:"currentColor"}))}const Pw=dt(Wre,"file");function Gre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M5 2a3 3 0 0 0-3 3v3h20c0-2-1-4-3-4h-6.45a3 3 0 0 1-1.87-.66l-1.13-.9A2 2 0 0 0 8.3 2H5Z",fill:"currentColor"}),D.createElement("path",{d:"M22 10H2v9a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-9Z",fill:"currentColor"}))}const Yre=dt(Gre,"folder");function qre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h3.3a2 2 0 0 1 1.25.44l1.13.9a3 3 0 0 0 1.87.66H18c2 0 3 2 3 4H7.53A2 2 0 0 0 5.6 9.48L2.57 20.76C2.21 20.26 2 19.66 2 19V5Zm20.17 5H9.5a2 2 0 0 0-1.92 1.44l-2.7 9.28A1 1 0 0 0 5.82 22H18.5a2 2 0 0 0 1.92-1.44l2.7-9.28a1 1 0 0 0-.95-1.28Z",fill:"currentColor"}))}const Xre=dt(qre,"folder_open");function Qre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M9 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),D.createElement("path",{d:"M9 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),D.createElement("path",{d:"M11 19a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),D.createElement("path",{d:"M15 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),D.createElement("path",{d:"M17 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),D.createElement("path",{d:"M15 21a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}))}const Zre=dt(Qre,"handle");function Jre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm2-16a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-5 3.75c0-.41.34-.75.75-.75h2.75a1 1 0 0 1 1 1v5.5h.75a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h.75v-5h-.75a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}const ese=dt(Jre,"info_circle");function tse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))}const nse=dt(tse,"radio");function rse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 12a7.5 7.5 0 0 1 13.8-4.07l-2-.4a1.5 1.5 0 0 0-.6 2.94l5 1c.76.15 1.51-.3 1.74-1.04l1.5-5a1.5 1.5 0 1 0-2.88-.86l-.43 1.45A10.49 10.49 0 0 0 1.5 12a10.5 10.5 0 0 0 20.4 3.5 1.5 1.5 0 1 0-2.83-1A7.5 7.5 0 0 1 4.5 12Z",fill:"currentColor"}))}const sse=dt(rse,"refresh");function ise(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2a8.5 8.5 0 1 0 4.86 15.48l4.08 4.08a1.5 1.5 0 1 0 2.12-2.12l-4.08-4.08A8.5 8.5 0 0 0 10.5 2ZM5 10.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0Z",fill:"currentColor"}))}const O2=dt(ise,"search");function ase(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M10.75 1.9c.4-1.2 2.1-1.2 2.5 0l1.99 6.12h6.45a1.3 1.3 0 0 1 .77 2.37l-5.22 3.78 2 6.11c.39 1.2-1 2.2-2.02 1.46L12 17.96l-5.22 3.78c-1.02.75-2.4-.25-2.01-1.46l1.99-6.11-5.22-3.78a1.3 1.3 0 0 1 .77-2.37h6.45l2-6.12Z",fill:"currentColor"}))}const ose=dt(ase,"star");function lse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.35 4.27c.68.47.86 1.4.38 2.08l-10 14.5a1.5 1.5 0 0 1-2.33.17l-6.5-7a1.5 1.5 0 0 1 2.2-2.04l5.23 5.63 8.94-12.96a1.5 1.5 0 0 1 2.08-.38Z",fill:"currentColor"}))}const _y=dt(lse,"tick");function use(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.88-13.18-6.2 7.6a1.5 1.5 0 0 1-2.37 0l-3.5-4a1.5 1.5 0 1 1 2.37-1.84l2.3 2.46L15.5 8a1.5 1.5 0 1 1 2.38 1.82Z",fill:"currentColor"}))}const cse=dt(use,"tick_circle");function dse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"m20.56 9.66-7.8 8.97a1 1 0 0 1-1.51 0L3.44 9.66A1 1 0 0 1 4.19 8h15.62a1 1 0 0 1 .75 1.66Z",fill:"currentColor"}))}const hse=dt(dse,"tree_triangle_down");function fse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.84 8.06A6.5 6.5 0 1 0 5.18 11 4.5 4.5 0 0 0 5.5 20H17a6 6 0 0 0 .84-11.94Zm-5.52.2a.5.5 0 0 0-.64 0l-5.15 4.3a.25.25 0 0 0 .16.44H10v4.5c0 .28.22.5.5.5h3a.5.5 0 0 0 .5-.5V13h3.31c.23 0 .34-.3.16-.44l-5.15-4.3Z",fill:"currentColor"}))}const pse=dt(fse,"upload"),Xn={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229},ZC="Enter",P2="Escape";function Ks(n){return Z(n,"key")===ZC}const fb=dy.PREFIX;class JC extends v.PureComponent{constructor(e){super(e),this.copy=t=>{const{content:r,duration:s,onCopy:i}=this.props,a=Eee(r);i&&i(t,r,a),this.setCopied(r,s)},this.setCopied=(t,r)=>{this.setState({copied:!0,item:t}),this._timeId=setTimeout(()=>{this.resetCopied()},r*1e3)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:t}=this.props;return typeof t<"u"?t:v.createElement(xn,{componentName:"Typography"},r=>v.createElement("span",null,v.createElement(_y,null),r.copied))},this.renderCopyIcon=()=>{const{icon:t}=this.props,r={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:i=>Ks(i)&&this.copy(i)},s=v.createElement("a",{className:`${fb}-action-copy-icon`},v.createElement($re,Object.assign({onClick:this.copy},r)));return v.isValidElement(t)?v.cloneElement(t,r):s},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:r,copyTip:s,render:i}=this.props,{copied:a}=this.state,o=$(t,{[`${fb}-action-copy`]:!a,[`${fb}-action-copied`]:a});return i?i(a,this.copy,this.props):v.createElement(xn,{componentName:"Typography"},l=>v.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:o,ref:r},a?this.renderSuccessTip():v.createElement(yr,{content:typeof s<"u"?s:l.copy},this.renderCopyIcon())))}}JC.propTypes={content:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node,duration:c.number,style:c.object,className:c.string,icon:c.node};JC.defaultProps={content:"",onCopy:Ot,duration:3,style:{},className:""};const x2={PREFIX:`${W}-popover`,ARROW:`${W}-popover-icon-arrow`},Il={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},gs={ARROW_BOUNDING:Object.assign(Object.assign({},ol.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030};var gse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const R2=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{position:e="",className:t,arrowStyle:r,popStyle:s}=n,i=gse(n,["position","className","arrowStyle","popStyle"]),a=e.indexOf("top")===0||e.indexOf("bottom")===0,o=$(t,x2.ARROW),l=Z(r,"borderOpacity",Il.DEFAULT_ARROW_STYLE.borderOpacity),u=Z(r,"backgroundColor",Z(s,"backgroundColor",Il.DEFAULT_ARROW_STYLE.backgroundColor)),d=Z(r,"borderColor",Z(s,"borderColor",Il.DEFAULT_ARROW_STYLE.borderColor)),h=Object.assign(Object.assign({},i),{width:gs.ARROW_BOUNDING.width,height:gs.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:o});return a?v.createElement("svg",Object.assign({},h),v.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:d,opacity:l}),v.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:u})):v.createElement("svg",Object.assign({},h),v.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:d,opacity:l}),v.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:u}))};R2.propTypes={position:c.string,className:c.string,arrowStyle:c.object,popStyle:c.object};var mse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const vse=Il.POSITION_SET,yse=Il.TRIGGER_SET;class br extends v.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var t;(t=this.tooltipRef.current)===null||t===void 0||t.focusTrigger()},this.renderPopCard=t=>{let{initialFocusRef:r}=t;const{content:s,contentClassName:i,prefixCls:a}=this.props,{direction:o}=this.context,l=$(a,i,{[`${a}-rtl`]:o==="rtl"}),u=this.renderContentNode({initialFocusRef:r,content:s});return v.createElement("div",{className:l},v.createElement("div",{className:`${a}-content`},u))},this.renderContentNode=t=>{const{initialFocusRef:r,content:s}=t,i={initialFocusRef:r};return De(s)?s(i):s},this.tooltipRef=v.createRef()}render(){const e=this.props,{children:t,prefixCls:r,showArrow:s,arrowStyle:i={},arrowBounding:a,position:o,style:l,trigger:u}=e,d=mse(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:h}=this.props;const f={position:o,className:"",popStyle:l,arrowStyle:i},g=s?v.createElement(R2,Object.assign({},f)):!1;_t(h)&&(h=s?gs.SPACING_WITH_ARROW:gs.SPACING);const b=u==="click"||u==="custom"?"dialog":"tooltip";return v.createElement(yr,Object.assign({guardFocus:!0,ref:this.tooltipRef},d,{trigger:u,position:o,style:l,content:this.renderPopCard,prefixCls:r,spacing:h,showArrow:g,arrowBounding:a,role:b}),t)}}br.contextType=Xr;br.propTypes={children:c.node,content:c.oneOfType([c.node,c.func]),visible:c.bool,autoAdjustOverflow:c.bool,motion:c.bool,position:c.oneOf(vse),margin:c.oneOfType([c.number,c.object]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(yse).isRequired,contentClassName:c.oneOfType([c.string,c.array]),onVisibleChange:c.func,onClickOutSide:c.func,style:c.object,spacing:c.oneOfType([c.number,c.object]),zIndex:c.number,showArrow:c.bool,arrowStyle:c.shape({borderColor:c.string,backgroundColor:c.string,borderOpacity:c.oneOfType([c.string,c.number])}),arrowPointAtCenter:c.bool,arrowBounding:c.object,prefixCls:c.string,guardFocus:c.bool,disableArrowKeyDown:c.bool};br.__SemiComponentName__="Popover";br.defaultProps=Ws(br.__SemiComponentName__,{arrowBounding:gs.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:gs.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:x2.PREFIX,onClickOutSide:F,onEscKeyDown:F,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});let Gt;function pb(n){if(!n)return 0;const e=n.match(/^\d*(\.\d*)?/);return e?Number(e[0]):0}function _se(n){return Array.prototype.slice.apply(n).map(t=>`${t}: ${n.getPropertyValue(t)};`).join("")}const bse=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,o=arguments.length>7?arguments[7]:void 0;if(t.length===0)return"";Gt||(Gt=document.createElement("div"),Gt.setAttribute("aria-hidden","true"),document.body.appendChild(Gt));const l=window.getComputedStyle(n),u=_se(l),d=pb(l.lineHeight),h=Math.round(d*(e+1)+pb(l.paddingTop)+pb(l.paddingBottom));Gt.setAttribute("style",u),Gt.style.position="fixed",Gt.style.left="0",l.getPropertyValue("width")==="auto"&&(Gt.style.width=`${n.offsetWidth}px`),Gt.style.height="auto",Gt.style.top="-999999px",Gt.style.zIndex="-1000",o&&(Gt.style.fontWeight="600"),Gt.style.textOverflow="clip",Gt.style.webkitLineClamp="none",cs.render(v.createElement(v.Fragment,null),Gt);function f(){const w=Gt.scrollWidth<=Gt.offsetWidth,S=Gt.scrollHeight<h;return e===1?w&&S:S}const g=document.createElement("span"),b=document.createTextNode(t);if(g.appendChild(b),i.length>0){const w=document.createTextNode(i);g.appendChild(w)}Gt.appendChild(g),Object.values(lu(r,"expand")).map(w=>w&&Gt.appendChild(w.cloneNode(!0)));function y(){Gt.innerHTML="",Gt.appendChild(g),Object.values(r).map(w=>w&&Gt.appendChild(w.cloneNode(!0)))}function _(w,S){const O=w.length;return S?a==="end"?w.slice(0,S)+s:w.slice(0,S)+s+w.slice(O-S,O):s}function m(w,S){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S.length,I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const T=Math.floor((O+x)/2),P=_(S,T);if(w.textContent=P,O>=x-1&&x>0)for(let A=x;A>=O;A-=1){const k=_(S,A);if(w.textContent=k,f())return k}else if(x===0)return s;return f()?m(w,S,T,x,T):m(w,S,O,T,I)}let E=t;return f()||(y(),E=m(b,t,0,a==="middle"?Math.floor(t.length/2):t.length)),Gt.innerHTML="",E},A2=v.createContext("normal");var Zm;(function(n){n.Width="width",n.Height="height",n.All="all"})(Zm||(Zm={}));class Oo extends Ae{constructor(e){var t;super(e),t=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return Ls.findDOMNode(this.childNode||this)}catch{return null}},this.handleResizeEventTriggered=r=>{var s,i,a,o;if(this.props.observerProperty===Zm.All)(i=(s=this.props).onResize)===null||i===void 0||i.call(s,r);else{const l=[];for(const u of r)this.formerPropertyValue.has(u.target)?u.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(u.target)&&(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u)):(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u));l.length>0&&((o=(a=this.props).onResize)===null||o===void 0||o.call(a,l))}},this.observeElement=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const s=t.getElement();if(t.observer||(t.observer=new ResizeObserver(t.handleResizeEventTriggered)),!(s&&s instanceof Element)){t.observer.disconnect();return}s===t.element&&!r||(t.observer.disconnect(),t.element=s,t.observer.observe(s),t.props.observeParent&&s.parentNode&&s.parentNode.ownerDocument&&s.parentNode.ownerDocument.defaultView&&s.parentNode instanceof s.parentNode.ownerDocument.defaultView.HTMLElement&&(t._parentNode=s.parentNode,t.observer.observe(t._parentNode)))},this.mergeRef=(r,s)=>{this.childNode=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;(e=this.observeElement)===null||e===void 0||e.call(this)}componentDidUpdate(e){var t;(t=this.observeElement)===null||t===void 0||t.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){const e=v.Children.only(this.props.children),{ref:t}=e;return v.cloneElement(e,{ref:r=>this.mergeRef(t,r)})}}Oo.propTypes={onResize:c.func,observeParent:c.bool,observerProperty:c.string,delayTick:c.number};Oo.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0};var gb=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})},wse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Fn=dy.PREFIX,Ese="...",Sse=(n,e)=>{const{mark:t,code:r,underline:s,strong:i,link:a,disabled:o}=n;let l=e;const u=(d,h)=>{let f={};d&&(typeof d=="object"&&(f=Object.assign({},d)),l=v.createElement(h,f,l))};return u(t,"mark"),u(r,"code"),u(s&&!a,"u"),u(i,"strong"),u(n.delete,"del"),u(a,o?"span":"a"),l};class uu extends D.Component{constructor(e){super(e),this.observerTakingEffect=!1,this.onResize=t=>gb(this,void 0,void 0,function*(){return this.rafId&&window.cancelAnimationFrame(this.rafId),new Promise(r=>{this.rafId=window.requestAnimationFrame(()=>gb(this,void 0,void 0,function*(){yield this.getEllipsisState(),r()}))})}),this.canUseCSSEllipsis=()=>{const{copyable:t}=this.props,{expandable:r,expandText:s,pos:i,suffix:a}=this.getEllipsisOpt();return!r&&bt(s)&&!t&&i==="end"&&!a.length},this.shouldTruncated=t=>!t||t<1?!1:t<=1?this.compareSingleRow():this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight,this.compareSingleRow=()=>{if(!(document&&document.createRange))return!1;const t=this.wrapperRef.current,r=t.getBoundingClientRect().width,s=Array.from(t.childNodes),i=document.createRange(),a=s.reduce((o,l)=>{var u;return i.selectNodeContents(l),o+((u=i.getBoundingClientRect().width)!==null&&u!==void 0?u:0)},0);return i.detach(),a>r},this.showTooltip=()=>{var t,r;const{isOverflowed:s,isTruncated:i,expanded:a}=this.state,{showTooltip:o,expandable:l,expandText:u}=this.getEllipsisOpt(),d=this.canUseCSSEllipsis(),h=!a&&(d?s:i),g=!l&&bt(u)&&h&&o;if(!g)return g;const b={type:"tooltip"};return typeof o=="object"?o.type&&o.type.toLowerCase()==="popover"?nY({opts:{showArrow:!0}},o,{opts:{className:$({[`${Fn}-ellipsis-popover`]:!0,[(t=o==null?void 0:o.opts)===null||t===void 0?void 0:t.className]:!!(!((r=o==null?void 0:o.opts)===null||r===void 0)&&r.className)})}}):Object.assign(Object.assign({},b),o):b},this.onHover=()=>{if(this.canUseCSSEllipsis()){const{rows:r,suffix:s,pos:i}=this.getEllipsisOpt(),a=this.shouldTruncated(r);this.setState({isOverflowed:a,isTruncated:!1});return}},this.getEllipsisState=()=>gb(this,void 0,void 0,function*(){const{rows:t,suffix:r,pos:s}=this.getEllipsisOpt(),{children:i,strong:a}=this.props;if(!this.wrapperRef||!this.wrapperRef.current){yield this.onResize();return}const{expanded:o}=this.state;if(this.canUseCSSEllipsis())return;if(Vl(i))return new Promise(f=>{this.setState({isTruncated:!1,isOverflowed:!1},f)});if(zt("children"in this.props&&typeof i!="string","[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!t||t<0||o)return;const u={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},d=Array.isArray(i)?i.join(""):String(i),h=bse(this.wrapperRef.current,t,d,u,Ese,r,s,a);return new Promise(f=>{this.setState({isOverflowed:!1,ellipsisContent:h,isTruncated:d!==h},f)})}),this.toggleOverflow=t=>{const{onExpand:r,expandable:s,collapsible:i}=this.getEllipsisOpt(),{expanded:a}=this.state;r&&r(!a,t),(s&&!a||i&&a)&&this.setState({expanded:!a})},this.getEllipsisOpt=()=>{const{ellipsis:t}=this.props;return t?Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:t.expandable?this.expandStr:void 0,collapseText:t.collapsible?this.collapseStr:void 0},typeof t=="object"?t:null):{}},this.renderExpandable=()=>{const{expanded:t,isTruncated:r}=this.state;if(!r)return null;const{expandText:s,expandable:i,collapseText:a,collapsible:o}=this.getEllipsisOpt(),l=!i&&bt(s),u=!o&&bt(a);let d;return!t&&!l?d=s:t&&!u&&(d=a),!l||!u?v.createElement("a",{role:"button",tabIndex:0,className:`${Fn}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":d,onClick:this.toggleOverflow,onKeyPress:h=>Ks(h)&&this.toggleOverflow(h)},d):null},this.getEllipsisStyle=()=>{const{ellipsis:t,component:r}=this.props;if(!t)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:s}=this.getEllipsisOpt(),{expanded:i}=this.state,a=!i&&this.canUseCSSEllipsis(),o=$({[`${Fn}-ellipsis`]:!0,[`${Fn}-ellipsis-single-line`]:s===1,[`${Fn}-ellipsis-multiple-line`]:s>1,[`${Fn}-ellipsis-multiple-line-text`]:s>1&&r==="span",[`${Fn}-ellipsis-overflow-ellipsis`]:s===1&&a,[`${Fn}-ellipsis-overflow-ellipsis-text`]:s===1&&a&&r==="span"}),l=a&&s>1?{WebkitLineClamp:s}:{};return{ellipsisCls:o,ellipsisStyle:l}},this.renderEllipsisText=t=>{const{suffix:r}=t,{children:s}=this.props,{isTruncated:i,expanded:a,ellipsisContent:o}=this.state;return a||!i?v.createElement("span",{onMouseEnter:this.onHover},s,r&&r.length?r:null):v.createElement("span",{onMouseEnter:this.onHover},o,r)},this.state={editable:!1,copied:!1,isOverflowed:!1,ellipsisContent:e.children,expanded:!1,isTruncated:!1,prevChildren:null},this.wrapperRef=v.createRef(),this.expandRef=v.createRef(),this.copyRef=v.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize().then(()=>UC(()=>this.observerTakingEffect=!0,1))}static getDerivedStateFromProps(e,t){const{prevChildren:r}=t,s={};return s.prevChildren=e.children,e.ellipsis&&r!==e.children&&(s.isOverflowed=!1,s.ellipsisContent=e.children,s.expanded=!1,s.isTruncated=!0),s}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}renderOperations(){return v.createElement(v.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:r}=this.props;if(!t)return null;const s=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:r;let i,a=!1;Array.isArray(s)?(i="",s.forEach(l=>{typeof l=="object"&&(a=!0),i+=String(l)})):(typeof s!="object"||(a=!0),i=String(s)),zt(a,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const o=Object.assign({content:i,duration:3},typeof t=="object"?t:null);return v.createElement(JC,Object.assign({},o,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props,r=t==="inherit"?this.context:t;if(!e)return null;const s=r==="small"?"small":"default";return v.createElement("span",{className:`${Fn}-icon`,"x-semi-prop":"icon"},Or(e)?v.cloneElement(e,{size:s}):e)}renderContent(){const e=this.props,{component:t,children:r,className:s,type:i,spacing:a,disabled:o,style:l,ellipsis:u,icon:d,size:h,link:f,heading:g,weight:b}=e,y=wse(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),_=lu(y,["strong","editable","mark","copyable","underline","code","delete"]),m=h==="inherit"?this.context:h,E=this.renderIcon(),w=this.getEllipsisOpt(),{ellipsisCls:S,ellipsisStyle:O}=this.getEllipsisStyle();let x=u?this.renderEllipsisText(w):r;const I=$({[`${Fn}-link-text`]:f,[`${Fn}-link-underline`]:this.props.underline&&f});x=Sse(this.props,v.createElement(v.Fragment,null,E,this.props.link?v.createElement("span",{className:I},x):x));const T=/^h[1-6]$/,P=Re(g)&&T.test(g),A=$(s,S,{[`${Fn}-${i}`]:i&&!f,[`${Fn}-${m}`]:m,[`${Fn}-link`]:f,[`${Fn}-disabled`]:o,[`${Fn}-${a}`]:a,[`${Fn}-${g}`]:P,[`${Fn}-${g}-weight-${b}`]:P&&b&&isNaN(Number(b))}),k=Object.assign(Object.assign({},isNaN(Number(b))?{}:{fontWeight:b}),l);return v.createElement(hy,Object.assign({className:A,style:Object.assign(Object.assign({},k),O),component:t,forwardRef:this.wrapperRef},_),x,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),r=this.renderContent();if(t){const{type:s,opts:i,renderTooltip:a}=t;return De(a)?a(e,r):s.toLowerCase()==="popover"?v.createElement(br,Object.assign({content:e,position:"top"},i),r):v.createElement(yr,Object.assign({content:e,position:"top"},i),r)}else return r}render(){var e=this;const{size:t}=this.props,r=t==="inherit"?this.context:t,s=v.createElement(A2.Provider,{value:r},v.createElement(xn,{componentName:"Typography"},i=>(this.expandStr=i.expand,this.collapseStr=i.collapse,this.renderTipWrapper())));return this.props.ellipsis?v.createElement(Oo,{onResize:function(){e.observerTakingEffect&&e.onResize(...arguments)},observeParent:!0,observerProperty:Zm.Width},s):s}}uu.propTypes={children:c.node,copyable:c.oneOfType([c.shape({text:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node}),c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.shape({rows:c.number,expandable:c.bool,expandText:c.string,onExpand:c.func,suffix:c.string,showTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),collapsible:c.bool,collapseText:c.string,pos:c.oneOf(["end","middle"])}),c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),spacing:c.oneOf(vr.SPACING),strong:c.bool,size:c.oneOf(vr.SIZE),type:c.oneOf(vr.TYPE),style:c.object,className:c.string,icon:c.oneOfType([c.node,c.string]),heading:c.string,component:c.string};uu.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""};uu.contextType=A2;let by=class extends D.PureComponent{render(){return v.createElement(uu,Object.assign({component:"span"},this.props))}};by.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(vr.TYPE),size:c.oneOf(vr.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string,weight:c.number};by.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};var Cse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let eT=class extends D.PureComponent{render(){const e=this.props,{heading:t}=e,r=Cse(e,["heading"]),s=vr.HEADING.indexOf(t)!==-1?`h${t}`:"h1";return v.createElement(uu,Object.assign({component:s,heading:s},r))}};eT.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(vr.TYPE),heading:c.oneOf(vr.HEADING),style:c.object,className:c.string,component:c.string,weight:c.oneOfType([c.oneOf(vr.WEIGHT),c.number])};eT.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};const Tse=dy.PREFIX;class wy extends D.PureComponent{render(){const{className:e}=this.props,t=$(e,`${Tse}-paragraph`);return v.createElement(uu,Object.assign({component:"p"},this.props,{className:t}))}}wy.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(vr.TYPE),size:c.oneOf(vr.SIZE),spacing:c.oneOf(vr.SPACING),style:c.object,className:c.string,component:c.string};wy.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};class Ise{constructor(e,t,r,s,i){this.ruleMethods={"bytes-decimal":a=>{const o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let l=0;for(;a>=1e3;)a/=1e3,l++;return`${this.truncatePrecision(a)} ${o[l]}`},"bytes-binary":a=>{const o=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let l=0;for(;a>=1024;)a/=1024,l++;return`${this.truncatePrecision(a)} ${o[l]}`},percentages:a=>`${this.truncatePrecision(a*100)}%`,exponential:a=>{const l=a.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(l[0]))}e${l[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=typeof i<"u",this.content=e,this.rule=t,this.precision=r,this.truncate=s,this.parser=i}format(){return this.isDiyParser?this.parser(this.content):this.rule==="text"?mb(this.content).map(e=>vb(e)?this.truncatePrecision(e):e).join(""):this.rule==="numbers"?mb(this.content).filter(e=>vb(e)).map(e=>this.truncatePrecision(e)).join(","):mb(this.content).map(e=>vb(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=t.toString().split(".");if(r.length===1)return t.toFixed(this.precision);const s=r[1].length;return s<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-s)}`:t.toString()}}function mb(n){const e=/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g;return n.match(e)||[]}function vb(n){return!(isNaN(Number(n))||n.replace(/\s+/g,"")==="")}class tT extends D.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),e=e.map(t=>typeof t=="string"||typeof t=="number"?new Ise(String(t),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():typeof t=="function"?this.formatNodeDFS(t()):typeof t=="object"&&"children"in t.props?Object.assign(Object.assign({},t),{props:Object.assign(Object.assign({},t.props),{children:this.formatNodeDFS(t.props.children)})}):t),e.length===1?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),v.createElement(uu,Object.assign({component:"span"},e))}}tT.propTypes={rule:c.oneOf(vr.RULE),precision:c.number,truncate:c.oneOf(vr.TRUNCATE),parser:c.func,copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(vr.TYPE),size:c.oneOf(vr.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string};tT.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const Fa=hy;Fa.Text=by;Fa.Title=eT;Fa.Paragraph=wy;Fa.Numeral=tT;const D2={PREFIX:`${W}-autocomplete`,PREFIX_OPTION:`${W}-autocomplete-option`,PREFIX_GROUP:`${W}-autocomplete-group`},nT={SIZE:["small","large","default"],POSITION:Tl.POSITION_SET,OPTIONS:["children","value"],STATUS:nd};var Ose=yi,Pse=Yr,xse="[object Number]";function Rse(n){return typeof n=="number"||Pse(n)&&Ose(n)==xse}var k2=Rse;const Qt=Ce(k2);class Ase extends ke{constructor(e){super(Object.assign({},e)),this.isPanelOpen=!1}init(){this._setDropdownWidth();const{defaultOpen:e,data:t,defaultValue:r,value:s}=this.getProps();if(t&&t.length){const a=this._generateList(t);this._adapter.updateOptionList(a)}e&&this.openDropdown();let i;typeof r<"u"&&(i=r),typeof s<"u"&&(i=s),typeof i<"u"&&this.handleValueChange(i)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&Qt(e.width)||e&&Re(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}handleInputClick(e){this.getStates();const{disabled:t}=this.getProps();t||(this.isPanelOpen?this.closeDropdown():this.openDropdown())}openDropdown(){this.isPanelOpen=!0,this._adapter.toggleListVisible(!0),this._setDropdownWidth(),this._adapter.registerClickOutsideHandler(e=>this.closeDropdown(e)),this._adapter.notifyDropdownVisibleChange(!0),this._modifyFocusIndexOnPanelOpen()}closeDropdown(e){this.isPanelOpen=!1,this._adapter.toggleListVisible(!1),this._adapter.unregisterClickOutsideHandler(),this._adapter.notifyDropdownVisibleChange(!1)}_generateList(e){const{renderItem:t}=this.getProps(),r=[];return e&&e.length&&e.forEach((s,i)=>{const a=String(new Date().getTime())+i;let o={};Re(s)||Qt(s)?o={value:s,key:a,label:s,show:!0}:Pa(s)&&!bt(s.value)&&(o=Object.assign({show:!0},s)),t&&typeof t=="function"&&(o.label=t(s)),r.push(o)}),r}handleSearch(e){this._adapter.updateInputValue(e),this._adapter.notifySearch(e),this._adapter.notifyChange(e),this._modifyFocusIndex(e),this.isPanelOpen||this.openDropdown()}handleSelect(e,t){const{renderSelectedItem:r}=this.getProps();let s="";r&&typeof r=="function"?(s=r(e),zt(typeof s!="string","Warning: [Semi AutoComplete] renderSelectedItem must return string, please check your function return")):s=e.value,this._isControlledComponent()?(this.closeDropdown(),this.notifySelect(e)):(this._adapter.updateInputValue(s),this.updateSelection(e),this.notifySelect(e),this.closeDropdown()),this._adapter.notifyChange(s),this._adapter.updateFocusIndex(t)}updateSelection(e){const t=new Map;e&&t.set(e.label,e),this._adapter.updateSelection(t)}notifySelect(e){this._backwardLabelInValue()?this._adapter.notifySelect(e):this._adapter.notifySelect(e.value)}_backwardLabelInValue(){const e=this.getProps();let{onSelectWithObject:t}=e;return t}handleDataChange(e){const t=this._generateList(e);this._adapter.updateOptionList(t),this._adapter.rePositionDropdown()}handleValueChange(e){let{data:t,defaultActiveFirstOption:r}=this.getProps(),s="";this._backwardLabelInValue()&&Object.prototype.toString.call(e)==="[object Object]"?s=e.value:s=e;let i=this._getRenderSelectedItem();const a=this._generateList(t);let o=a.length?a.filter(h=>i(h)===s):[];const l=o.length,u=a.findIndex(h=>i(h)===s);let d="";if(l)o=o[0],d=i(o);else{const h=this._backwardLabelInValue()?e:{label:s,value:s};d=i(h)}this._adapter.updateInputValue(d),this.updateSelection(l?o:null),u===-1&&r?this._adapter.updateFocusIndex(0):this._adapter.updateFocusIndex(u)}_modifyFocusIndex(e){let{focusIndex:t}=this.getStates(),{data:r,defaultActiveFirstOption:s}=this.getProps(),i=-1;if(e){let a=this._getRenderSelectedItem();i=this._generateList(r).findIndex(l=>a(l)===e)}i===-1&&s?t!==0&&this._adapter.updateFocusIndex(0):i!==t&&this._adapter.updateFocusIndex(i)}_modifyFocusIndexOnPanelOpen(){let{inputValue:e}=this.getStates();this._modifyFocusIndex(e)}_getRenderSelectedItem(){let{renderSelectedItem:e}=this.getProps();return typeof e>"u"&&(e=t=>t==null?void 0:t.value),e}handleClear(){this._adapter.notifyClear()}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}_handleKeyDown(e){const t=e.keyCode;switch(this.getStates(),t){case Xn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Xn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Xn.ENTER:e.preventDefault(),this._handleEnterKeyDown();break;case Xn.ESC:this.closeDropdown();break;case Xn.TAB:this.closeDropdown();break}this._adapter.notifyKeyDown(e)}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(o=>o.show),i=s.length;let a=t+e;if(a<0&&(a=i-1),a>=i&&(a=0),e>0){let o=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){const{visible:t}=this.getStates();t?this._getEnableFocusIndex(e):this.openDropdown()}_handleEnterKeyDown(){const{visible:e,options:t,focusIndex:r}=this.getStates();if(!e)this.openDropdown();else if(r!==void 0&&r!==-1&&t.length!==0){const i=t.filter(a=>a.show)[r];this.handleSelect(i,r)}else this.closeDropdown()}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleFocus(e){this.bindKeyBoardEvent(),this._adapter.notifyFocus(e)}handleBlur(e){this._persistEvent(e),this._adapter.notifyBlur(e)}}const Dse=`${W}-spin`,kse={PREFIX:Dse},Nse={SIZE:["small","middle","large"]};class rT extends ke{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},rT.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:r}=this._adapter.getStates();if(r){const s=this;this._timer=setTimeout(()=>{s._adapter.setState({loading:e,delay:0})},t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var Mse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let vx=-1;function N2(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:e,className:t}=n,r=Mse(n,["id","className"]);let s=e;_t(s)&&(vx++,s=vx);const i=`linearGradient-${s}`;return v.createElement("svg",Object.assign({},r,{className:t,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),v.createElement("defs",null,v.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:i},v.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),v.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),v.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),v.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},v.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),v.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${i})`,strokeWidth:"4",strokeLinecap:"round"})))}var Lse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const tl=kse.PREFIX;class Yi extends Ae{constructor(e){super(e),this.foundation=new rT(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?e.spinning===!1?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:r}=this.state;return r?v.createElement("div",{className:`${tl}-wrapper`},e?v.createElement("div",{className:`${tl}-animate`,"x-semi-prop":"indicator"},e):v.createElement(N2,null),t?v.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:r,wrapperClassName:s,childStyle:i,size:a}=e,o=Lse(e,["children","style","wrapperClassName","childStyle","size"]),{loading:l}=this.state,u=$(tl,s,{[`${tl}-${a}`]:a,[`${tl}-block`]:t,[`${tl}-hidden`]:!l});return v.createElement("div",Object.assign({className:u,style:r},this.getDataAttr(o)),this.renderSpin(),v.createElement("div",{className:`${tl}-children`,style:i,"x-semi-prop":"children"},t))}}Yi.propTypes={size:c.oneOf(Nse.SIZE),spinning:c.bool,children:c.node,indicator:c.node,delay:c.number,tip:c.node,wrapperClassName:c.string,childStyle:c.object,style:c.object};Yi.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};const Ey={PREFIX:`${W}-input`},qo={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},$se={};function M2(n){const{value:e,maxLength:t,getValueLength:r}=n;if(De(r)){let s=0,i=e.length;for(;s<i;){const a=s+Math.floor((i-s)/2),o=e.slice(0,a+1);r(o)>t?i=a:s=a+1}return e.slice(0,s)}else return e.slice(0,t)}let Fse=class L2 extends ke{static get inputDefaultAdapter(){return{notifyChange:F,setValue:F}}constructor(e){super(Object.assign(Object.assign({},L2.inputDefaultAdapter),e))}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}setValue(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let a=e;r&&De(i)&&(a=this.handleVisibleMaxLength(e)),s&&De(i)&&this.handleVisibleMinLength(a),this._isControlledComponent()?this._adapter.notifyChange(a,t):(this._adapter.setValue(a),this._adapter.notifyChange(a,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(Qt(t)&&t>=0&&De(r)&&Re(e)){const i=r(e);if(i<t){const a=e.length+(t-i);a!==s&&this._adapter.setMinLength(a)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();return Qt(t)&&t>=0&&De(r)&&Re(e)&&r(e)>t?(console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)):e}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return M2({value:e,maxLength:t,getValueLength:r})}handleClear(e){let t=e;const r="";this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),(!t||typeof t!="object")&&(t={}),dc(t,qo.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange(r,t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){e==="password"?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),r=this._adapter.getState("eyeClosed");return t==="password"?r?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===ZC&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:r}=this._adapter.getStates(),{showClear:s,disabled:i,showClearIgnoreDisabled:a}=this._adapter.getProps();return e&&s&&(!i||a)&&(t||r)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&De(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(e==null?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}};var Vse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const nt=Ey.PREFIX,jse=qo.SIZE,Use=qo.STATUS,Bse=qo.MODE;class sT extends Ae{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.handleClick=r=>{this.foundation.handleClick(r)},this.handleMouseOver=r=>{this.setState({isHovering:!0})},this.handleMouseLeave=r=>{this.setState({isHovering:!1})},this.handleModeChange=r=>{this.foundation.handleModeChange(r)},this.handleClickEye=r=>{this.foundation.handleClickEye(r)},this.handleMouseDown=r=>{this.foundation.handleMouseDown(r)},this.handleMouseUp=r=>{this.foundation.handleMouseUp(r)},this.handleModeEnterPress=r=>{this.foundation.handleModeEnterPress(r)},this.handleClickPrefixOrSuffix=r=>{this.foundation.handleClickPrefixOrSuffix(r)},this.handlePreventMouseDown=r=>{this.foundation.handlePreventMouseDown(r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,cachedValue:e.value,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:e.mode==="password",minLength:e.minLength},this.inputRef=v.createRef(),this.prefixRef=v.createRef(),this.suffixRef=v.createRef(),this.foundation=new Fse(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&(t||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:r})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=$({[`${nt}-prepend`]:!0,[`${nt}-prepend-text`]:e&&Re(e),[`${nt}-prepend-icon`]:Or(e)});return v.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=$({[`${nt}-append`]:!0,[`${nt}-append-text`]:e&&Re(e),[`${nt}-append-icon`]:Or(e)});return v.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=$(`${nt}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?v.createElement("div",{className:e,onMouseDown:this.handleClear},t||v.createElement(Yo,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:r}=this.props,s=$(`${nt}-modebtn`),i=e?v.createElement(Hre,null):v.createElement(Kre,null),a=t==="password"&&!r,o=e?"Show password":"Hidden password";return a?v.createElement("div",{role:"button",tabIndex:0,"aria-label":o,className:s,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},i):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(!s)return null;const i=$({[`${nt}-prefix`]:!0,[`${nt}-inset-label`]:t,[`${nt}-prefix-text`]:s&&Re(s),[`${nt}-prefix-icon`]:Or(s)});return v.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSuffix(e){const{suffix:t,hideSuffix:r}=this.props;if(!t)return null;const s=$({[`${nt}-suffix`]:!0,[`${nt}-suffix-text`]:t&&Re(t),[`${nt}-suffix-icon`]:Or(t),[`${nt}-suffix-hidden`]:e&&!!r});return v.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!bt(e)){if(typeof e=="function")return t=>{e(t),this.inputRef={current:t}};if(Object.prototype.toString.call(e)==="[object Object]")return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:r,autoFocus:s,clearIcon:i,className:a,disabled:o,defaultValue:l,placeholder:u,prefix:d,mode:h,insetLabel:f,insetLabelId:g,validateStatus:b,type:y,readonly:_,size:m,suffix:E,style:w,showClear:S,onEnterPress:O,onClear:x,hideSuffix:I,inputStyle:T,forwardRef:P,maxLength:A,getValueLength:k,preventScroll:L,borderless:N,showClearIgnoreDisabled:K,onlyBorder:G}=e,z=Vse(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:ee,isFocus:V,minLength:H}=this.state,U=this.foundation.isAllowClear(),ae=Or(E),ne=this.getInputRef(),re=`${nt}-wrapper`,de=$(re,a,{[`${nt}-wrapper__with-prefix`]:d||f,[`${nt}-wrapper__with-suffix`]:E,[`${nt}-wrapper__with-suffix-hidden`]:U&&!!I,[`${nt}-wrapper__with-suffix-icon`]:ae,[`${nt}-wrapper__with-append`]:r,[`${nt}-wrapper__with-prepend`]:t,[`${nt}-wrapper__with-append-only`]:r&&!t,[`${nt}-wrapper__with-prepend-only`]:!r&&t,[`${re}-readonly`]:_,[`${re}-disabled`]:o,[`${re}-warning`]:b==="warning",[`${re}-error`]:b==="error",[`${re}-focus`]:V,[`${re}-clearable`]:S,[`${re}-modebtn`]:h==="password",[`${re}-hidden`]:y==="hidden",[`${re}-${m}`]:m,[`${nt}-borderless`]:N,[`${nt}-only_border`]:G!=null}),be=$(nt,{[`${nt}-${m}`]:m,[`${nt}-disabled`]:o,[`${nt}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${nt}-sibling-modebtn`]:h==="password"}),ve=ee??"",ge=Object.assign(Object.assign({},z),{style:T,className:be,disabled:o,readOnly:_,type:this.foundation.handleInputType(y),placeholder:u,onInput:te=>this.foundation.handleInput(te),onChange:te=>this.foundation.handleChange(te.target.value,te),onFocus:te=>this.foundation.handleFocus(te),onBlur:te=>this.foundation.handleBlur(te),onKeyUp:te=>this.foundation.handleKeyUp(te),onKeyDown:te=>this.foundation.handleKeyDown(te),onKeyPress:te=>this.foundation.handleKeyPress(te),value:ve});De(k)||(ge.maxLength=A),H&&(ge.minLength=H),b==="error"&&(ge["aria-invalid"]="true");let pe=Object.assign({},w);return G!==void 0&&(pe=Object.assign({borderWidth:G},w)),v.createElement("div",{className:de,style:pe,onMouseEnter:te=>this.handleMouseOver(te),onMouseLeave:te=>this.handleMouseLeave(te),onClick:te=>this.handleClick(te)},this.renderPrepend(),this.renderPrefix(),v.createElement("input",Object.assign({},ge,{ref:ne})),this.renderClearBtn(),this.renderSuffix(U),this.renderModeBtn(),this.renderAppend())}}sT.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,addonBefore:c.node,addonAfter:c.node,clearIcon:c.node,prefix:c.node,suffix:c.node,mode:c.oneOf(Bse),value:c.any,defaultValue:c.any,disabled:c.bool,readonly:c.bool,autoFocus:c.bool,type:c.string,showClear:c.bool,hideSuffix:c.bool,placeholder:c.any,size:c.oneOf(jse),className:c.string,style:c.object,validateStatus:c.oneOf(Use),onClear:c.func,onChange:c.func,onBlur:c.func,onFocus:c.func,onInput:c.func,onKeyDown:c.func,onKeyUp:c.func,onKeyPress:c.func,onEnterPress:c.func,insetLabel:c.node,insetLabelId:c.string,inputStyle:c.object,getValueLength:c.func,preventScroll:c.bool,borderless:c.bool};sT.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:F,onChange:F,onBlur:F,onFocus:F,onInput:F,onKeyDown:F,onKeyUp:F,onKeyPress:F,onEnterPress:F,validateStatus:"default",borderless:!1};const Hn=v.forwardRef((n,e)=>v.createElement(sT,Object.assign({},n,{forwardRef:e})));var Hse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class cu extends v.PureComponent{render(){const e=this.props,{triggerRender:t,componentName:r}=e,s=Hse(e,["triggerRender","componentName"]);return t(Object.assign({},s))}}cu.propTypes={triggerRender:c.func.isRequired,componentName:c.string,componentProps:c.object,value:c.any,inputValue:c.string,placeholder:c.oneOfType([c.string,c.array]),className:c.string,style:c.object};const zse={PREFIX:`${W}-highlight`},Kse=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");class Wse extends ke{constructor(e){super(Object.assign({},e)),this.findAll=t=>{let{autoEscape:r=!0,caseSensitive:s=!1,searchWords:i,sourceString:a}=t;Re(i)&&(i=[i]);const o=this.findChunks({autoEscape:r,caseSensitive:s,searchWords:i,sourceString:a}),l=this.combineChunks({chunks:o});return this.fillInChunks({chunksToHighlight:l,totalLength:a?a.length:0})},this.findChunks=t=>{let{autoEscape:r,caseSensitive:s,searchWords:i,sourceString:a}=t;return i.map(o=>typeof o=="string"?{text:o}:o).filter(o=>o.text).reduce((o,l)=>{let u=l.text;r&&(u=Kse(u));const d=new RegExp(u,s?"g":"gi");let h;for(;h=d.exec(a);){const f=h.index,g=d.lastIndex;g>f&&o.push({highlight:!0,start:f,end:g,className:l.className,style:l.style}),h.index===d.lastIndex&&d.lastIndex++}return o},[])},this.combineChunks=t=>{let{chunks:r}=t;return r.sort((s,i)=>s.start-i.start).reduce((s,i)=>{if(s.length===0)return[i];{const a=s.pop();if(i.start<=a.end){const o=Math.max(a.end,i.end);s.push({highlight:!0,start:a.start,end:o,className:a.className||i.className,style:Object.assign(Object.assign({},a.style),i.style)})}else s.push(a,i);return s}},[])},this.fillInChunks=t=>{let{chunksToHighlight:r,totalLength:s}=t;const i=[],a=(o,l,u,d,h)=>{l-o>0&&i.push({start:o,end:l,highlight:u,className:d,style:h})};if(r.length===0)a(0,s,!1);else{let o=0;r.forEach(l=>{a(o,l.start,!1),a(l.start,l.end,!0,l.className,l.style),o=l.end}),a(o,s,!1)}return i}}}const Gse=zse.PREFIX;class Kf extends D.PureComponent{constructor(){super(...arguments),this.getHighLightTextHTML=e=>{let{sourceString:t="",searchWords:r=[],option:s={autoEscape:!0,caseSensitive:!1}}=e;const i=new Wse().findAll(Object.assign({sourceString:t,searchWords:r},s)),a=s.highlightTag||"mark",o=s.highlightClassName||"",l=s.highlightStyle||{};return i.map((u,d)=>{const{end:h,start:f,highlight:g,style:b,className:y}=u,_=t.substr(f,h-f);return g?v.createElement(a,{style:Object.assign(Object.assign({},l),b),className:`${o} ${y||""}`.trim(),key:_+d},_):_})}}render(){const{searchWords:e,sourceString:t,component:r,highlightClassName:s,highlightStyle:i,caseSensitive:a,autoEscape:o}=this.props,l=$({[`${Gse}-tag`]:!0},s),u={highlightTag:r,highlightClassName:l,highlightStyle:i,caseSensitive:a,autoEscape:o};return this.getHighLightTextHTML({sourceString:t,searchWords:e,option:u})}}Kf.propTypes={style:c.object,className:c.string,autoEscape:c.bool,caseSensitive:c.bool,sourceString:c.string,searchWords:c.arrayOf(c.string),highlightStyle:c.object,highlightClassName:c.string,component:c.string};Kf.defaultProps={component:"mark",autoEscape:!0,caseSensitive:!1,sourceString:""};var yx=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let Wf=class extends D.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,a=yx(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:r,label:s||i}),t)}renderOptionContent(e){let{children:t,inputValue:r,prefixCls:s}=e;return Re(t)&&r?v.createElement(Kf,{searchWords:[r],sourceString:t,highlightClassName:`${s}-keyword`}):t}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:a,empty:o,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:g,onMouseEnter:b,prefixCls:y,renderOptionItem:_,inputValue:m}=e,E=yx(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue"]),w=$(y,{[`${y}-disabled`]:r,[`${y}-selected`]:i,[`${y}-focused`]:d,[`${y}-empty`]:o,[f]:f}),S=$([`${y}-icon`]);return o?l===null?null:v.createElement(xn,{componentName:"Select"},O=>v.createElement("div",{className:w,"x-semi-prop":"emptyContent"},l||O.emptyText)):typeof _=="function"?_(Object.assign({disabled:r,focused:d,selected:i,style:g,label:a,value:s,inputValue:m,onMouseEnter:O=>b(O),onClick:O=>this.onClick(Object.assign({value:s,label:a,children:t},E),O)},E)):v.createElement("div",{className:w,onClick:O=>{this.onClick(Object.assign({value:s,label:a,children:t},E),O)},onMouseEnter:O=>b&&b(O),role:"option","aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:g},h?v.createElement("div",{className:S},v.createElement(_y,null)):null,Re(t)?v.createElement("div",{className:`${y}-text`},this.renderOptionContent({children:t,inputValue:m,prefixCls:y})):t)}};Wf.isSelectOption=!0;Wf.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};Wf.defaultProps={prefixCls:D2.PREFIX_OPTION};const Ga=D2.PREFIX,Yse=nT.SIZE,qse=nT.POSITION,Xse=nT.STATUS;class Ac extends Ae{constructor(e){super(e),this.onSelect=(r,s,i)=>{this.foundation.handleSelect(r,s)},this.onSearch=r=>{this.foundation.handleSearch(r)},this.onBlur=r=>this.foundation.handleBlur(r),this.onFocus=r=>this.foundation.handleFocus(r),this.onInputClear=()=>this.foundation.handleClear(),this.handleInputClick=r=>this.foundation.handleInputClick(r),this.foundation=new Ase(this.adapter);const t=1;this.state={dropdownMinWidth:null,inputValue:"",options:[],visible:!1,focusIndex:e.defaultActiveFirstOption?0:-1,selection:new Map,rePosKey:t},this.triggerRef=v.createRef(),this.optionsRef=v.createRef(),this.clickOutsideHandler=null,this.optionListId="",zt("triggerRender"in this.props&&typeof this.props.triggerRender=="function",`[Semi AutoComplete]
            - If you are using the following props: 'suffix', 'prefix', 'showClear', 'validateStatus', and 'size',
            please notice that they will be removed in the next major version.
            Please use 'componentProps' to retrieve these props instead.
            - If you are using 'onBlur', 'onFocus', please try to avoid using them and look for changes in the future.`)}get adapter(){const e={registerKeyDown:t=>{const r={onKeyDown:t};this.setState({keyboardEventSet:r})},unregisterKeyDown:t=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:t=>{this.setState({focusIndex:t})},updateScrollTop:t=>{let r;r=`.${Ga}-option-selected`,t!==void 0&&(r=`.${Ga}-option:nth-child(${t+1})`);let s=document.querySelector(`#${Ga}-${this.optionListId} ${r}`);if(Array.isArray(s)&&(s=s[0]),s){const i=s.parentNode;i.scrollTop=s.offsetTop-i.offsetTop-i.clientHeight/2+s.clientHeight/2}}};return Object.assign(Object.assign(Object.assign({},super.adapter),e),{getTriggerWidth:()=>{const t=this.triggerRef.current;return t&&t.getBoundingClientRect().width},setOptionWrapperWidth:t=>{this.setState({dropdownMinWidth:t})},updateInputValue:t=>{this.setState({inputValue:t})},toggleListVisible:t=>{this.setState({visible:t})},updateOptionList:t=>{this.setState({options:t})},updateSelection:t=>{this.setState({selection:t})},notifySearch:t=>{this.props.onSearch(t)},notifyChange:t=>{this.props.onChange(t)},notifySelect:t=>{this.props.onSelect(t)},notifyDropdownVisibleChange:t=>{this.props.onDropdownVisibleChange(t)},notifyClear:()=>{this.props.onClear()},notifyFocus:t=>{this.props.onFocus(t)},notifyBlur:t=>{this.props.onBlur(t)},notifyKeyDown:t=>{this.props.onKeyDown(t)},rePositionDropdown:()=>{let{rePosKey:t}=this.state;t=t+1,this.setState({rePosKey:t})},registerClickOutsideHandler:t=>{const r=s=>{const i=this.optionsRef&&this.optionsRef.current,a=this.triggerRef&&this.triggerRef.current,o=cs.findDOMNode(i),l=s.target,u=s.composedPath&&s.composedPath()||[l];o&&(!o.contains(l)||!o.contains(l.parentNode))&&a&&!a.contains(l)&&!(u.includes(a)||u.includes(o))&&t(s)};this.clickOutsideHandler=r,document.addEventListener("mousedown",r,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&document.removeEventListener("mousedown",this.clickOutsideHandler,!1)}})}componentDidMount(){this.foundation.init(),this.optionListId=xa()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){Fe(this.props.data,e.data)||this.foundation.handleDataChange(this.props.data),this.props.value!==e.value&&this.foundation.handleValueChange(this.props.value)}renderInput(){const{size:e,prefix:t,insetLabel:r,insetLabelId:s,suffix:i,placeholder:a,style:o,className:l,showClear:u,disabled:d,triggerRender:h,validateStatus:f,autoFocus:g,value:b,id:y,clearIcon:_}=this.props,{inputValue:m,keyboardEventSet:E,selection:w}=this.state,O=Object.assign(Object.assign(Object.assign({style:o,className:typeof h=="function"?$(l):$({[Ga]:!0,[`${Ga}-disabled`]:d},l),onClick:this.handleInputClick,ref:this.triggerRef,id:y},E),{tabIndex:-1}),this.getDataAttr(this.props)),x={disabled:d,placeholder:a,autoFocus:g,onChange:this.onSearch,onClear:this.onInputClear,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],suffix:i,prefix:t||r,insetLabelId:s,showClear:u,validateStatus:f,size:e,onBlur:this.onBlur,onFocus:this.onFocus,clearIcon:_};return v.createElement("div",Object.assign({},O),typeof h=="function"?v.createElement(cu,Object.assign({},x,{inputValue:typeof b<"u"?b:m,value:Array.from(w.values()),triggerRender:h,componentName:"AutoComplete",componentProps:Object.assign({},this.props)})):v.createElement(Hn,Object.assign({},x,{value:typeof b<"u"?b:m})))}renderLoading(){const e=`${Ga}-loading-wrapper`;return v.createElement("div",{className:e},v.createElement(Yi,null))}renderOption(e,t){const{focusIndex:r}=this.state,s=t===r;return v.createElement(Wf,Object.assign({showTick:!1,onSelect:(i,a)=>this.onSelect(i,t,a),focused:s,onMouseEnter:()=>this.foundation.handleOptionMouseEnter(t),key:e.key||e.label+e.value+t},e),e.label)}renderOptionList(){const{maxHeight:e,dropdownStyle:t,dropdownClassName:r,loading:s,emptyContent:i}=this.props,{options:a,dropdownMinWidth:o}=this.state,l=$({[`${Ga}-option-list`]:!0},r);let u;a.length===0?u=i:u=a.filter(h=>h.show).map((h,f)=>this.renderOption(h,f));const d=Object.assign({maxHeight:e,minWidth:o},t);return v.createElement("div",{className:l,role:"listbox",style:d,id:`${Ga}-${this.optionListId}`},s?this.renderLoading():u)}render(){const{position:e,motion:t,zIndex:r,mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l}=this.props,{visible:u,rePosKey:d}=this.state,h=this.renderInput(),f=this.renderOptionList();return v.createElement(br,{mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:a,trigger:"custom",motion:t,visible:u,content:f,position:e,ref:this.optionsRef,zIndex:r,stopPropagation:o,getPopupContainer:l,rePosKey:d},h)}}Ac.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoAdjustOverflow:c.bool,className:c.string,clearIcon:c.node,children:c.node,data:c.array,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.number]),defaultActiveFirstOption:c.bool,disabled:c.bool,dropdownMatchSelectWidth:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,emptyContent:c.node,id:c.string,insetLabel:c.node,insetLabelId:c.string,onSearch:c.func,onSelect:c.func,onClear:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onKeyDown:c.func,position:c.oneOf(qse),placeholder:c.string,prefix:c.node,onChangeWithObject:c.bool,onSelectWithObject:c.bool,renderItem:c.func,renderSelectedItem:c.func,suffix:c.node,showClear:c.bool,size:c.oneOf(Yse),style:c.object,stopPropagation:c.oneOfType([c.bool,c.string]),maxHeight:c.oneOfType([c.string,c.number]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,motion:c.oneOfType([c.bool,c.func,c.object]),getPopupContainer:c.func,triggerRender:c.func,value:c.oneOfType([c.string,c.number]),validateStatus:c.oneOf(Xse),zIndex:c.number};Ac.Option=Wf;Ac.__SemiComponentName__="AutoComplete";Ac.defaultProps=Ws(Ac.__SemiComponentName__,{stopPropagation:!0,motion:!0,zIndex:gs.DEFAULT_Z_INDEX,position:"bottomLeft",data:[],showClear:!1,size:"default",onFocus:F,onSearch:F,onClear:F,onBlur:F,onSelect:F,onChange:F,onSelectWithObject:!1,onDropdownVisibleChange:F,defaultActiveFirstOption:!1,dropdownMatchSelectWidth:!0,loading:!1,maxHeight:300,validateStatus:"default",autoFocus:!1,emptyContent:null,onKeyDown:F});const Qse={PREFIX:`${W}-avatar`},Sy={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],OVERLAP_FROM:["start","end"]};class Zse extends ke{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{zt(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:t}=this.getProps(),r=this._adapter.getAvatarNode(),s=r==null?void 0:r.firstChild,[i,a]=[(r==null?void 0:r.offsetWidth)||0,(s==null?void 0:s.offsetWidth)||0];if(i!==0&&a!==0&&t*2<i){const o=i-t*2>a?1:(i-t*2)/a;this._adapter.setScale(o)}}}init(){const{children:e}=this.getProps();typeof e=="string"&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();(e?e():void 0)!==!1&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}const Jse=n=>{let{gradientStart:e,gradientEnd:t}=n;const r=xa();return v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none"},v.createElement("g",{filter:"url(#filter0_d_6_2)"},v.createElement("path",{d:"M40.4918 46.5592C44.6795 43.176 46.261 34.1333 47.5301 25.6141C49.5854 11.8168 39.6662 1 25.8097 1C11.2857 1 3 11.4279 3 25.3518C3 33.7866 6.29361 43.8947 10.4602 46.5592C12.5868 47.9192 12.5868 47.9051 25.8097 47.9192C38.3651 47.9282 38.5352 48.14 40.4918 46.5592Z",fill:`url(#${r})`})),v.createElement("defs",null,v.createElement("filter",{id:"filter0_d_6_2",x:"0.789215",y:"0.447304",width:"49.2216",height:"51.3549",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},v.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),v.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),v.createElement("feOffset",{dy:"1.65809"}),v.createElement("feGaussianBlur",{stdDeviation:"1.10539"}),v.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),v.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_6_2"}),v.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_6_2",result:"shape"})),v.createElement("linearGradient",{id:r,x1:"17.671",y1:"31.7392",x2:"17.671",y2:"47.9333",gradientUnits:"userSpaceOnUse"},v.createElement("stop",{stopColor:e}),v.createElement("stop",{offset:"1",stopColor:t}))))};var eie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const tie=Sy.SIZE,nie=Sy.SHAPE,rie=Sy.COLOR,rt=Qse.PREFIX;class Dc extends Ae{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:t,onClick:r,imgAttr:s,src:i,srcSet:a,alt:o}=this.props,{isImgExist:l}=this.state;let u=t;const d=r!==Ot,h=i&&l,f={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(h){const g=d?`clickable Avatar: ${o}`:o,b=Object.assign(Object.assign({src:i,srcSet:a,onError:this.handleError},s),{className:$({[`${rt}-no-focus-visible`]:d})}),y=d?Object.assign(Object.assign({},b),f):b;u=v.createElement("img",Object.assign({alt:g},y))}else if(typeof t=="string"){const g=o??t,y={role:"img","aria-label":d?`clickable Avatar: ${g}`:g,className:$(`${rt}-label`,{[`${rt}-no-focus-visible`]:d})},_=d?Object.assign(Object.assign({},y),f):y,m={transform:`scale(${this.state.scale})`};u=v.createElement("span",{className:`${rt}-content`,style:m},v.createElement("span",Object.assign({},_,{"x-semi-prop":"children"}),t))}return u},this.renderBottomSlot=()=>{var t,r;if(!this.props.bottomSlot)return null;if(this.props.bottomSlot.render)return this.props.bottomSlot.render();const s=(t=this.props.bottomSlot.render)!==null&&t!==void 0?t:()=>{var i;const a={};return this.props.bottomSlot.bgColor&&(a.backgroundColor=this.props.bottomSlot.bgColor),this.props.bottomSlot.textColor&&(a.color=this.props.bottomSlot.textColor),v.createElement("span",{style:a,className:$(`${rt}-bottom_slot-shape_${this.props.bottomSlot.shape}`,`${rt}-bottom_slot-shape_${this.props.bottomSlot.shape}-${this.props.size}`,(i=this.props.bottomSlot.className)!==null&&i!==void 0?i:"")},this.props.bottomSlot.text)};return v.createElement("div",{className:$([`${rt}-bottom_slot`]),style:(r=this.props.bottomSlot.style)!==null&&r!==void 0?r:{}},s())},this.renderTopSlot=()=>{var t,r,s,i;if(!this.props.topSlot)return null;if(this.props.topSlot.render)return this.props.topSlot.render();const a={};return this.props.topSlot.textColor&&(a.color=this.props.topSlot.textColor),v.createElement("div",{style:(t=this.props.topSlot.style)!==null&&t!==void 0?t:{},className:$([`${rt}-top_slot-wrapper`,(r=this.props.topSlot.className)!==null&&r!==void 0?r:"",{[`${rt}-animated`]:this.props.contentMotion}])},v.createElement("div",{className:$([`${rt}-top_slot-bg`,`${rt}-top_slot-bg-${this.props.size}`])},v.createElement("div",{className:$([`${rt}-top_slot-bg-svg`,`${rt}-top_slot-bg-svg-${this.props.size}`])},v.createElement(Jse,{gradientStart:(s=this.props.topSlot.gradientStart)!==null&&s!==void 0?s:"var(--semi-color-primary)",gradientEnd:(i=this.props.topSlot.gradientEnd)!==null&&i!==void 0?i:"var(--semi-color-primary)"}))),v.createElement("div",{className:$([`${rt}-top_slot`])},v.createElement("div",{style:a,className:$([`${rt}-top_slot-content`,`${rt}-top_slot-content-${this.props.size}`])},this.props.topSlot.text)))},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=v.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,r=t;this.setState({hoverContent:r},()=>{const{onMouseEnter:s}=this.props;s&&s(e)})},notifyLeave:e=>{this.setState({hoverContent:""},()=>{const{onMouseLeave:t}=this.props;t&&t(e)})},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return(e=this.avatarRef)===null||e===void 0?void 0:e.current}})}componentDidMount(){this.foundation=new Zse(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const t=new Image(0,0);t.src=this.props.src,t.onload=()=>{this.setState({isImgExist:!0})},t.onerror=()=>{this.setState({isImgExist:!1})},t.onabort=()=>{this.setState({isImgExist:!1})}}typeof this.props.children=="string"&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),ti(e);break;case"Escape":e.target.blur();break}}render(){var e;const t=this.props,{shape:r,children:s,size:i,color:a,className:o,hoverMask:l,onClick:u,imgAttr:d,src:h,srcSet:f,style:g,alt:b,gap:y,bottomSlot:_,topSlot:m,border:E,contentMotion:w}=t,S=eie(t,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap","bottomSlot","topSlot","border","contentMotion"]),{isImgExist:O,hoverContent:x,focusVisible:I}=this.state;let T={};Sy.SIZE.includes(i)||(T={width:i,height:i}),T=Object.assign(Object.assign({},T),g);const P=_||m||E,A={onClick:u,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},k=h&&O,L=$(rt,{[`${rt}-${r}`]:r,[`${rt}-${i}`]:i,[`${rt}-${a}`]:a&&!k,[`${rt}-img`]:k,[`${rt}-focus`]:I,[`${rt}-animated`]:w},o),N=x?v.createElement("div",{className:`${rt}-hover`,"x-semi-prop":"hoverContent"},x):null;let K=v.createElement("span",Object.assign({},S,{style:P?{}:T,className:L},P?{}:A,{role:"listitem",ref:this.avatarRef}),this.getContent(),N);if(E){const G={};typeof E=="object"&&(E!=null&&E.color)&&(G.borderColor=E==null?void 0:E.color),K=v.createElement("div",{style:Object.assign({position:"relative"},T)},K,v.createElement("span",{style:G,className:$([`${rt}-additionalBorder`,`${rt}-additionalBorder-${i}`,{[`${rt}-${r}`]:r}])}),typeof this.props.border=="object"&&this.props.border.motion&&v.createElement("span",{style:G,className:$([`${rt}-additionalBorder`,`${rt}-additionalBorder-${i}`,{[`${rt}-${r}`]:r,[`${rt}-additionalBorder-animated`]:typeof this.props.border=="object"&&((e=this.props.border)===null||e===void 0?void 0:e.motion)}])}))}return P?v.createElement("span",Object.assign({className:$([`${rt}-wrapper`]),style:T},A),K,m&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&r==="circle"&&this.renderTopSlot(),_&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&this.renderBottomSlot()):K}}Dc.__SemiComponentName__="Avatar";Dc.defaultProps=Ws(Dc.__SemiComponentName__,{size:"medium",color:"grey",shape:"circle",gap:3,onClick:Ot,onMouseEnter:Ot,onMouseLeave:Ot});Dc.propTypes={children:c.node,color:c.oneOf(rie),shape:c.oneOf(nie),size:c.oneOf(tie),hoverMask:c.node,className:c.string,style:c.object,gap:c.number,imgAttr:c.object,src:c.string,srcSet:c.string,alt:c.string,onError:c.func,onClick:c.func,onMouseEnter:c.func,onMouseLeave:c.func,bottomSlot:c.shape({render:c.func,shape:c.oneOf(["circle","square"]),text:c.node,bgColor:c.string,textColor:c.string,className:c.string,style:c.object}),topSlot:c.shape({render:c.func,gradientStart:c.string,gradientEnd:c.string,text:c.node,textColor:c.string,className:c.string,style:c.object}),border:c.oneOfType([c.shape({color:c.string,motion:c.bool}),c.bool]),contentMotion:c.bool};Dc.elementType="Avatar";var sie=4,iie=.001,aie=1e-7,oie=10,eh=11,sg=1/(eh-1),lie=typeof Float32Array=="function";function $2(n,e){return 1-3*e+3*n}function F2(n,e){return 3*e-6*n}function V2(n){return 3*n}function Jm(n,e,t){return(($2(e,t)*n+F2(e,t))*n+V2(e))*n}function j2(n,e,t){return 3*$2(e,t)*n*n+2*F2(e,t)*n+V2(e)}function uie(n,e,t,r,s){var i,a,o=0;do a=e+(t-e)/2,i=Jm(a,r,s)-n,i>0?t=a:e=a;while(Math.abs(i)>aie&&++o<oie);return a}function cie(n,e,t,r){for(var s=0;s<sie;++s){var i=j2(e,t,r);if(i===0)return e;var a=Jm(e,t,r)-n;e-=a/i}return e}function die(n){return n}var hie=function(e,t,r,s){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===s)return die;for(var i=lie?new Float32Array(eh):new Array(eh),a=0;a<eh;++a)i[a]=Jm(a*sg,e,r);function o(l){for(var u=0,d=1,h=eh-1;d!==h&&i[d]<=l;++d)u+=sg;--d;var f=(l-i[d])/(i[d+1]-i[d]),g=u+f*sg,b=j2(g,e,r);return b>=iie?cie(l,g,e,r):b===0?g:uie(l,u,u+sg,e,r)}return function(u){return u===0?0:u===1?1:Jm(o(u),t,s)}};const yb=Ce(hie);function _x(n,e,t){return Math.min(Math.max(n,e),t)}function fie(n){const e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(t=>parseFloat(t)):[]}function ig(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;const t=_x(n,1,10),r=_x(e,.1,2);return s=>s===0||s===1?s:-t*Math.pow(2,10*(s-1))*Math.sin((s-1-r/(Math.PI*2)*Math.asin(1/t))*(Math.PI*2)/r)}const _b=(()=>{const n=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],ig],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(r,s)=>i=>1-ig(r,s)(1-i)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(r,s)=>i=>i<.5?ig(r,s)(i*2)/2:1-ig(r,s)(i*-2+2)/2]},t={linear:[.25,.25,.75,.75]};for(const r of Object.keys(e))e[r].forEach((s,i)=>{t["ease"+r+n[i]]=s});return t})();function bx(n){if(typeof n=="function")return n;!n||typeof n!="string"?n="linear":n=n.trim();let e=n.split("(")[0];const t=fie(n);let r;return e==="cubic-bezier"||e==="cubicBezier"?yb(...t.length?t:_b.linear):((!e||typeof e!="string"||typeof e=="string"&&_b[e]==null)&&(e="linear"),r=_b[e],typeof r=="function"?r(...t):t.length?yb(...t):yb(...r))}let pie=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else t==null&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?(this._eventMap.get(e).forEach(i=>i(...r)),!0):!1}};function ef(n){return!!(n&&typeof n=="object"&&(n.duration>0||typeof n.easing=="string"||typeof n.easing=="function"))}function gie(n,e,t,r,s){for(const i of Object.keys(e)){const a=e[i],o=typeof a=="number"?a:a.val;if(!(typeof a=="object"&&a.done)){if(ef(a)&&r&&s&&a.duration){if(a.duration+r<=s||o!==n[i])return!1}else if(typeof t[i]=="number"&&t[i]!==0)return!1;if(n[i]!==o)return!1}}return!0}function ag(n){const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=typeof n[t]=="number"?n[t]:n[t].val);return e}const Cu=[0,0];function wx(n,e,t,r,s,i,a){const o=-s*(e-r),l=-i*t,u=o+l,d=t+u*n,h=e+d*n;return Math.abs(d)<a&&Math.abs(h-r)<a?(Cu[0]=r,Cu[1]=0,Cu):(Cu[0]=h,Cu[1]=d,Cu)}function mie(n){const e={},t=n&&Object.keys(n)||[];for(const r of t)e[r]=0;return e}const vie={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},yie=Object.assign(Object.assign({},vie.default),{precision:.01});function _ie(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ef(e)){const r=bx(e.easing),s=typeof e.duration=="number"&&e.duration>0?e.duration:1e3;e=Object.assign(Object.assign({},e),{easing:r,duration:s})}let t=Object.assign(Object.assign(Object.assign({},yie),e),{done:!1});if(n&&typeof n=="object"&&"val"in n){if(ef(n)){const r=bx(n.easing),s=typeof n.duration=="number"&&n.duration>0?n.duration:parseInt(e.duration)||1e3;n=Object.assign(Object.assign({},n),{easing:r,duration:s})}t=Object.assign(Object.assign({},t),n)}else t=Object.assign(Object.assign({},t),{val:n});return t}const Ld=()=>Date.now(),Ya=1e3/60;class U2 extends pie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this._props=Object.assign({},e),this._config=Object.assign({},t),this.initStates()}_wrapConfig(e,t){t=t&&typeof t=="object"?t:this._config;const r={};for(const s of Object.keys(e))r[s]=_ie(e[s],t);return r}initStates(e,t){e=e&&typeof e=="object"?e:this._props,t=t&&typeof t=="object"?t:this._config;const{from:r,to:s}=e;if(this._from={},r)for(const o of Object.keys(r))this._from[o]=typeof r[o]=="object"&&r[o].val?r[o].val:r[o];this._to=this._wrapConfig(s,t),this._delay=parseInt(t.delay)||0;const i=this._from&&ag(this._from)||ag(this._to),a=mie(i);this._currentStyle=Object.assign({},i),this._currentVelocity=Object.assign({},a),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},a),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){this._timer==null&&(this._timer=requestAnimationFrame(e=>{const t=Ld();if(gie(this._currentStyle,this._to,this._currentVelocity,this._startedTime||t,t)||this._ended||this._stopped){this._wasAnimating&&!this._ended&&!this._stopped&&(this._timer=setTimeout(()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())},Ya)),this.resetPlayStates();return}this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,this._startedTime===0&&(this._startedTime=t);const r=t,s=r-this._prevTime;this._prevTime=r,r-this._startedTime<this._delay&&(this._timer=null,this.animate());const i={},a={},o={},l={},u=this._to&&Object.keys(this._to)||[];for(const d of u){const h=this._to[d];this._accumulatedTime[d]=typeof this._accumulatedTime[d]!="number"?s:this._accumulatedTime[d]+s;const f=this._from[d]!=null&&typeof this._from[d]=="object"?this._from[d].val:this._from[d],g=h.val;if(typeof h=="number")o[d]=h,l[d]=0,i[d]=h,a[d]=0;else{let b=this._lastIdealStyle[d],y=this._lastIdealVelocity[d];if(ef(this._config)||ef(h)){const{easing:_,duration:m}=h;b=f+_((r-this._startedTime)/m)*(g-f),r>=this._startedTime+m&&(b=g,h.done=!0),i[d]=b,o[d]=b}else if(g!=null&&g===this._currentStyle[d])o[d]=g,l[d]=0,i[d]=g,a[d]=0;else{const _=(this._accumulatedTime[d]-Math.floor(this._accumulatedTime[d]/Ya)*Ya)/Ya,m=Math.floor(this._accumulatedTime[d]/Ya);for(let S=0;S<m;S++)[b,y]=wx(Ya/1e3,b,y,h.val,h.tension,h.friction,h.precision);const[E,w]=wx(Ya/1e3,b,y,h.val,h.tension,h.friction,h.precision);o[d]=b+(E-b)*_,l[d]=y+(w-y)*_,i[d]=b,a[d]=y,this._accumulatedTime[d]-=m*Ya}}}this._timer=null,this._currentStyle=Object.assign({},o),this._currentVelocity=Object.assign({},l),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},a),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())}))}start(){this._prevTime=Ld(),this._startedTime=Ld(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=Ld(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){const t=Ld()-this._pausedTime;this._paused=!1,this._startedTime+=t,this._prevTime+=t,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();const e=Object.assign({},this._props),[t,r]=[e.to,e.from];e.from=t,e.to=r,this._props=Object.assign({},e),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},ag(this._props.from))}getFinalStates(){return Object.assign({},ag(this._props.to))}}const B2={PREFIX:`${W}-button`},Gf={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light","outline"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"},bie={SIZE:["extra-small","small","default","large","extra-large","custom"],ICON_PREFIX:"semi-icon-"};var wie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Eie=Gf.sizes,{htmlTypes:Sie,btnTypes:Cie}=Gf;let Yf=class extends D.PureComponent{render(){const e=this.props,{children:t,block:r,htmlType:s,loading:i,circle:a,className:o,style:l,disabled:u,size:d,theme:h,type:f,prefixCls:g,iconPosition:b}=e,y=wie(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),_=Object.assign(Object.assign({disabled:u},lu(y,["x-semi-children-alias"])),{className:$(g,{[`${g}-${f}`]:!u&&f,[`${g}-disabled`]:u,[`${g}-size-large`]:d==="large",[`${g}-size-small`]:d==="small",[`${g}-light`]:h==="light",[`${g}-block`]:r,[`${g}-circle`]:a,[`${g}-borderless`]:h==="borderless",[`${g}-outline`]:h==="outline",[`${g}-${f}-disabled`]:u&&f},o),type:s,"aria-disabled":u}),m={};return o&&o.includes("-with-icon")||(m["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),v.createElement("button",Object.assign({},_,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:l}),v.createElement("span",Object.assign({className:$(`${g}-content`,this.props.contentClassName),onClick:E=>u&&E.stopPropagation()},m),t))}};Yf.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:Ot,onClick:Ot,onMouseEnter:Ot,onMouseLeave:Ot,prefixCls:B2.PREFIX};Yf.propTypes={children:c.node,disabled:c.bool,prefixCls:c.string,style:c.object,size:c.oneOf(Eie),type:c.oneOf(Cie),block:c.bool,onClick:c.func,onMouseDown:c.func,circle:c.bool,loading:c.bool,htmlType:c.oneOf(Sie),theme:c.oneOf(Gf.themes),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func,"aria-label":c.string,contentClassName:c.string};var Tie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Iie=bie.SIZE;class ni extends D.PureComponent{render(){const e=this.props,{children:t,iconPosition:r,iconSize:s,iconStyle:i,style:a,icon:o,noHorizontalPadding:l,theme:u,className:d,prefixCls:h,loading:f}=e,g=Tie(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),b=Object.assign({},a);Array.isArray(l)?(l.includes("left")&&(b.paddingLeft=0),l.includes("right")&&(b.paddingRight=0)):l===!0?(b.paddingLeft=0,b.paddingRight=0):typeof l=="string"&&(l==="left"&&(b.paddingLeft=0),l==="right"&&(b.paddingRight=0));let y=null,_=null;f&&!g.disabled?_=v.createElement(N2,null):v.isValidElement(o)&&(_=o);const m=$({[`${h}-content-left`]:r==="right",[`${h}-content-right`]:r==="left"}),E=this.props["x-semi-children-alias"]||"children",w=t!=null?v.createElement("span",{className:m,"x-semi-prop":E},t):null;r==="left"?y=v.createElement(v.Fragment,null,_,w):y=v.createElement(v.Fragment,null,w,_);const S=$(d,`${h}-with-icon`,{[`${h}-with-icon-only`]:w==null||w==="",[`${h}-loading`]:f});return v.createElement(Yf,Object.assign({},g,{className:S,theme:u,style:b}),y)}}ni.defaultProps={iconPosition:Gf.DEFAULT_ICON_POSITION,prefixCls:B2.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:F,onMouseLeave:F};ni.elementType="IconButton";ni.propTypes={iconStyle:c.object,style:c.object,loading:c.bool,prefixCls:c.string,icon:c.oneOfType([c.object,c.string,c.node]),iconSize:c.oneOf(Iie),noHorizontalPadding:c.oneOfType([c.bool,c.string,c.array]),children:c.node,theme:c.string,iconPosition:c.oneOf(Gf.iconPositions),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func};class pn extends v.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e)}render(){const e=Object.assign({},this.props),t=!!e.icon,r=!!e.loading,s=!!e.disabled;return t||r&&!s?v.createElement(ni,Object.assign({},e)):v.createElement(Yf,Object.assign({},e))}}pn.__SemiComponentName__="Button";pn.propTypes=Object.assign(Object.assign({},Yf.propTypes),ni.propTypes);pn.defaultProps=Ws(pn.__SemiComponentName__);pn.elementType="Button";const Oie={PREFIX:`${W}-space`},cl={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"},Pie="Symbol(react.fragment)",xw=n=>{let e=[];return v.Children.forEach(n,t=>{t!=null&&(Array.isArray(t)?e=e.concat(xw(t)):D.isValidElement(t)&&t.type&&t.type.toString()===Pie&&t.props?e=e.concat(xw(t.props.children)):e.push(t))}),e},qs=Oie.PREFIX;class mo extends D.PureComponent{render(){const{children:e=null,style:t,className:r,spacing:s,wrap:i,align:a,vertical:o}=this.props,l=i&&o?!1:i,u=Object.assign({},t);let d="",h="";Re(s)?(d=s,h=s):Qt(s)?(u.rowGap=s,u.columnGap=s):wC(s)&&(Re(s[0])?d=s[0]:Qt(s[0])&&(u.columnGap=`${s[0]}px`),Re(s[1])?h=s[1]:Qt(s[1])&&(u.rowGap=`${s[1]}px`));const f=$(qs,r,{[`${qs}-align-${a}`]:a,[`${qs}-vertical`]:o,[`${qs}-horizontal`]:!o,[`${qs}-wrap`]:l,[`${qs}-tight-horizontal`]:d===cl.SPACING_TIGHT,[`${qs}-tight-vertical`]:h===cl.SPACING_TIGHT,[`${qs}-medium-horizontal`]:d===cl.SPACING_MEDIUM,[`${qs}-medium-vertical`]:h===cl.SPACING_MEDIUM,[`${qs}-loose-horizontal`]:d===cl.SPACING_LOOSE,[`${qs}-loose-vertical`]:h===cl.SPACING_LOOSE}),g=xw(e),b=Zh(this.props);return v.createElement("div",Object.assign({},b,{className:f,style:u,"x-semi-prop":"children"}),g)}}mo.propTypes={wrap:c.bool,align:c.oneOf(cl.ALIGN_SET),vertical:c.bool,spacing:c.oneOfType([c.string,c.number,c.array]),children:c.node,style:c.object,className:c.string};mo.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};function xie(n,e,t,r){for(var s=n.length,i=t+(r?1:-1);r?i--:++i<s;)if(e(n[i],i,n))return i;return-1}var H2=xie;function Rie(n){return n!==n}var Aie=Rie;function Die(n,e,t){for(var r=t-1,s=n.length;++r<s;)if(n[r]===e)return r;return-1}var kie=Die,Nie=H2,Mie=Aie,Lie=kie;function $ie(n,e,t){return e===e?Lie(n,e,t):Nie(n,Mie,t)}var z2=$ie,Fie=IC,Ex=1/0,Vie=17976931348623157e292;function jie(n){if(!n)return n===0?n:0;if(n=Fie(n),n===Ex||n===-Ex){var e=n<0?-1:1;return e*Vie}return n===n?n:0}var Uie=jie,Bie=Uie;function Hie(n){var e=Bie(n),t=e%1;return e===e?t?e-t:e:0}var Cy=Hie,zie=ed;function Kie(n,e){return zie(e,function(t){return n[t]})}var Wie=Kie,Gie=Wie,Yie=Go;function qie(n){return n==null?[]:Gie(n,Yie(n))}var K2=qie;const W2=Ce(K2);var Xie=z2,Qie=Zi,Zie=rL,Jie=Cy,eae=K2,tae=Math.max;function nae(n,e,t,r){n=Qie(n)?n:eae(n),t=t&&!r?Jie(t):0;var s=n.length;return t<0&&(t=tae(s+t,0)),Zie(n)?t<=s&&n.indexOf(e,t)>-1:!!s&&Xie(n,e,t)>-1}var rae=nae;const Ju=Ce(rae);var sae=gy,iae=ou,aae=SL,oae=Zi,lae=Ff,uae=Go,cae=Object.prototype,dae=cae.hasOwnProperty,hae=aae(function(n,e){if(lae(e)||oae(e)){iae(e,uae(e),n);return}for(var t in e)dae.call(e,t)&&sae(n,t,e[t])}),fae=hae;const pae=Ce(fae);var gae=z2;function mae(n,e){var t=n==null?0:n.length;return!!t&&gae(n,e,0)>-1}var G2=mae;function vae(n,e,t){for(var r=-1,s=n==null?0:n.length;++r<s;)if(t(e,n[r]))return!0;return!1}var Y2=vae,yae=$C,_ae=G2,bae=Y2,wae=ed,Eae=sd,Sae=FC,Cae=200;function Tae(n,e,t,r){var s=-1,i=_ae,a=!0,o=n.length,l=[],u=e.length;if(!o)return l;t&&(e=wae(e,Eae(t))),r?(i=bae,a=!1):e.length>=Cae&&(i=Sae,a=!1,e=new yae(e));e:for(;++s<o;){var d=n[s],h=t==null?d:t(d);if(d=r||d!==0?d:0,a&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;l.push(d)}else i(e,h,r)||l.push(d)}return l}var Iae=Tae,Oae=Iae,Pae=UL,xae=EL,Sx=fL,Rae=xae(function(n,e){return Sx(n)?Oae(n,Pae(e,1,Sx,!0)):[]}),Aae=Rae;const ev=Ce(Aae);var Dae=cy,kae=qL,Nae=td;function Mae(n,e,t){for(var r=-1,s=e.length,i={};++r<s;){var a=e[r],o=Dae(n,a);t(o,a)&&kae(i,Nae(a,n),o)}return i}var Lae=Mae;function $ae(n,e){return n!=null&&e in Object(n)}var Fae=$ae,Vae=td,jae=Vf,Uae=rr,Bae=my,Hae=AC,zae=au;function Kae(n,e,t){e=Vae(e,n);for(var r=-1,s=e.length,i=!1;++r<s;){var a=zae(e[r]);if(!(i=n!=null&&t(n,a)))break;n=n[a]}return i||++r!=s?i:(s=n==null?0:n.length,!!s&&Hae(s)&&Bae(a,s)&&(Uae(n)||jae(n)))}var Wae=Kae,Gae=Fae,Yae=Wae;function qae(n,e){return n!=null&&Yae(n,e,Gae)}var q2=qae,Xae=Lae,Qae=q2;function Zae(n,e){return Xae(n,e,function(t,r){return Qae(n,r)})}var Jae=Zae,eoe=Jae,toe=BL,noe=toe(function(n,e){return n==null?{}:eoe(n,e)}),roe=noe;const jl=Ce(roe);var soe=Xc;function ioe(n,e,t){for(var r=-1,s=n.length;++r<s;){var i=n[r],a=e(i);if(a!=null&&(o===void 0?a===a&&!soe(a):t(a,o)))var o=a,l=i}return l}var aoe=ioe;function ooe(n,e){return n>e}var loe=ooe,uoe=aoe,coe=loe,doe=Hf;function hoe(n){return n&&n.length?uoe(n,doe,coe):void 0}var foe=hoe;const poe=Ce(foe);var bb=AL,goe=jM,moe=VC,voe=1/0,yoe=bb&&1/moe(new bb([,-0]))[1]==voe?function(n){return new bb(n)}:goe,_oe=yoe,boe=$C,woe=G2,Eoe=Y2,Soe=FC,Coe=_oe,Toe=VC,Ioe=200;function Ooe(n,e,t){var r=-1,s=woe,i=n.length,a=!0,o=[],l=o;if(t)a=!1,s=Eoe;else if(i>=Ioe){var u=e?null:Coe(n);if(u)return Toe(u);a=!1,s=Soe,l=new boe}else l=e?[]:o;e:for(;++r<i;){var d=n[r],h=e?e(d):d;if(d=t||d!==0?d:0,a&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),o.push(d)}else s(l,h,t)||(l!==o&&l.push(h),o.push(d))}return o}var Poe=Ooe,xoe=Poe;function Roe(n){return n&&n.length?xoe(n):[]}var Aoe=Roe;const Doe=Ce(Aoe),X2={PREFIX:`${W}-tree`,PREFIX_OPTION:`${W}-tree-option`};function Q2(n,e){return`${n}-${e}`}function Ty(n){return!Vl(n)&&!bt(n)}function io(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const s=[],i=!!r,a=Z(t,"key","key"),o=Z(t,"children","children");function l(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map((h,f)=>{const g=Q2(d?d.pos:"0",f),b=h[a],y={};t&&Object.entries(lu(t,"children")).forEach(E=>{let[w,S]=E;const O=h[S];!bt(O)&&(y[w]=O)});const _=Object.assign(Object.assign(Object.assign({},jl(h,["key","label","value","icon","disabled","isLeaf"])),y),{parent:d,pos:g,children:null,data:h,_innerDataTag:!0,isEnd:[...d?d.isEnd:[],f===u.length-1]}),m=typeof r=="boolean";return(!i||!m&&r.has(b))&&s.push(_),e.has(b)&&(!i||!m&&r.has(b))?_.children=l(h[o]||[],_):_.children=[],_})}return l(n),s}function koe(n,e,t){const r=Z(t,"key","key"),s=Z(t,"children","children"),i=(a,o,l)=>{const u=a?a[s]:n,d=a?Q2(l.pos,o):"0";if(a){const h=Z(a,r,null),f={data:Object.assign({},a),ind:o,pos:d,key:h!==null?h:d,parentPos:l.node?l.pos:null,level:Number(l.level)+1};e(f)}u&&u.forEach((h,f)=>{i(h,f,{node:a,pos:d,level:l?Number(l.level)+1:-1})})};i(null)}function Noe(n,e){const t={},r={},s={},i={posEntities:t,keyEntities:r,valueEntities:s},a=Z(e,"value","value");return koe(n,o=>{const{pos:l,key:u,parentPos:d}=o,h=Object.assign({},o),f=Z(h,`data.${a}`,null);f!==null&&(s[f]=u),t[l]=h,r[u]=h,h.parent=t[d],h.parent&&(h.parent.children=h.parent.children||[],h.parent.children.push(h))},e),i}function dl(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!Ty(n))return[];if(!t&&Array.isArray(n)?n=n.length?[n[0]]:[]:Array.isArray(n)||(n=[n]),It(e))return n;const r=[];return n.forEach(s=>{s in e?r.push(e[s]):s&&r.push(s)}),r}function ji(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{if(!i)return;const{children:a}=i;Ty(a)&&a.forEach(l=>{r.push(l.key),s(e[l.key])})};return n.forEach(i=>{t&&r.push(i),s(e[i])}),r}function Moe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=[];return n&&n.forEach(s=>{const i=e[s];i&&i.children&&i.children.forEach(a=>{(!t.length||!t.includes(a.key))&&r.push(a.key)})}),r}function iT(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[];return n.forEach(i=>{e[i]&&e[i].parent&&r.push(e[i].parent.key)}),Moe(Doe(r),e,t?[]:n)}function Ui(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{i.parent&&(r.push(i.parent.key),s(i.parent))};return n.forEach(i=>{e[i]&&s(e[i]),t&&r.push(i)}),r}function Loe(n,e){const t={};return n.forEach(r=>{if(!e[r])return;const{level:s}=e[r];t[s]?t[s].push(r):t[s]=[r]}),t}function qf(n,e){const t=Array.isArray(n)?n:[n],r=ji(t,e,!0),s=new Set([...r]);let i=new Set([]),a=[];const o=Loe(t,e),l=u=>{const{key:d,parent:h,level:f}=u;if(!h||a.includes(d))return;const g=iT([d],e);if(a=[...a,...g],g.every(y=>s.has(y)))s.add(h.key),f-1 in o&&f?o[f-1].push(h.key):o[f-1]=[h.key];else{const y=Ui([d],e,!1);i=new Set([...i,...y])}};for(;!It(o);){const u=poe(Object.keys(o).map(d=>Number(d)));o[u].forEach(d=>l(e[d])),delete o[u]}return{checkedKeys:s,halfCheckedKeys:i}}function wb(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Array.isArray(n)||(n=[n]),t){const r=Ui(n,e,!0);return new Set(r)}return new Set(n)}function Cx(n,e,t,r){const s=dl(n,r,t);return new Set(Ui(s,e,!1))}function Tx(n,e,t){let r="show";const s=[...n],i=[...e];if(Math.abs(s.length-i.length)!==1)return{motionType:r,motionKeys:[]};let a=[];return s.length>i.length?(r="hide",a=ev(s,i)):a=ev(i,s),{motionType:a.length===1?r:"show",motionKeys:a.length===1?ji(a,t,!1):[]}}function Z2(n,e,t,r){if(!t)return!0;let s=t,i=e;return typeof t=="boolean"&&(s=(a,o)=>{const l=a.toLowerCase();return o.toString().toLowerCase().includes(l)}),r&&(i=e[r]),s(n,i,e)}function ri(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3?arguments[3]:void 0;const s=[],i=new Set(n);return t?n.forEach(a=>{e[a]&&!Ty(e[a].children)&&s.push(a),!e[a]&&r&&s.push(a)}):n.forEach(a=>{if(!e[a]){r&&s.push(a);return}const{parent:o}=e[a];o&&i.has(o.key)||s.push(a)}),s}function Ix(n,e,t){const r=[],s=i=>{t[i].children&&t[i].children.forEach(a=>{const{key:o}=a;r.push(o),e.has(o)&&s(o)})};return s(n),r}function J2(n,e,t,r){const s=ji([n],e,!0),i=e[n];t=new Set([...t,n]);const a=o=>{if(!o.parent)return;const{key:l}=o;if(iT([l],e).every(h=>t.has(h))){const h=o.parent;t.add(h.key),a(h)}else{const h=Ui([l],e,!1);r=new Set([...r,...h])}};return a(i),{checkedKeys:new Set([...t,...s]),halfCheckedKeys:r}}function e$(n,e,t,r){const s=ji([n],e,!0),i=e[n];s.forEach(o=>{t.has(o)&&t.delete(o),r.has(o)&&r.delete(o)});const a=o=>{const l=o.parent;if(!l||!t.has(l.key)&&!r.has(l.key))return;const{key:u}=o,h=iT([u],e).some(g=>t.has(g)||r.has(g)),f=Ui([u],e,!1);h?f.forEach(g=>{t.has(g)&&(t.delete(g),r.add(g))}):(t.has(l.key)&&t.delete(l.key),r.has(l.key)&&r.delete(l.key),a(l))};return i&&a(i),{checkedKeys:t,halfCheckedKeys:r}}function $oe(n){const{showFilteredOnly:e,keyEntities:t,inputValue:r,treeData:s,filterTreeNode:i,filterProps:a,prevExpandedKeys:o,keyMaps:l}=n;let u=[];u=Object.values(t).filter(b=>Z2(r,b.data,i,a)).map(b=>b.key);let d=Ui(u,t,!1);if(o.length){const b=o.filter(y=>!!t[y]);d=d.concat(b)}const h=ji(u,t,!0),f=new Set([...h,...d]);return{flattenNodes:io(s,new Set(d),l,e&&f),filteredKeys:new Set(u),filteredExpandedKeys:new Set(d),filteredShownKeys:f}}function tv(n,e){const t=Z(e,"value","value"),r=Z(e,"key","key");return Array.isArray(n)?n.map(s=>Z(s,t,s[r])):Z(n,t,n[r])}function qa(n,e,t){return e&&Ty(n)?tv(n,t):n}function Ox(n,e){return[...n].filter(r=>r in e)}function t$(n,e){const t=Z(e,"disabled","disabled"),r=Object.keys(n).filter(i=>n[i].data[t]),{checkedKeys:s}=qf(r,n);return s}const n$={PREFIX:`${W}-cascader`,PREFIX_OPTION:`${W}-cascader-option`},Yt={SIZE_SET:["small","large","default"],VALIDATE_STATUS:["success","default","error","warning"],IS_KEY:"isKey",IS_VALUE:"isValue",SHOW_NEXT_BY_CLICK:"click",SHOW_NEXT_BY_HOVER:"hover",LEAF_ONLY_MERGE_TYPE:"leafOnly",AUTO_MERGE_VALUE_MERGE_TYPE:"autoMergeValue",NONE_MERGE_TYPE:"none",SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_CUSTOM:"custom",RELATED:"related",UN_RELATED:"unRelated"},r$="_SEMI_CASCADER_SPLIT_";function Foe(n,e){return`${n}-${e}`}function Voe(n){return!Vl(n)&&!bt(n)}function joe(n){return Array.isArray(n)?n:[n]}function Uoe(n,e,t,r){if(!t)return!0;let s=t,i;return typeof t=="boolean"?(s=(a,o)=>{const l=a.toLowerCase();return o.toLowerCase().includes(l)},i=r.join("")):i=r.join(),s(n,i,e)}function Boe(n,e){const t=(r,s,i)=>{const a=r?r.children:n;let o=null;if(r){const l=i?`${i.key}${r$}${r.value}`:`${r.value}`,u=i?Foe(i.pos,s):`${s}`;o={data:Object.assign({},r),ind:s,key:l,pos:u,level:i?i.level+1:0,parentKey:i?i.key:null,path:i?[...i.path,l]:[l],valuePath:i?[...i.valuePath,r.value]:[r.value]},e(o)}a&&a.forEach((l,u)=>{t(l,u,o)})};t(null)}function Hoe(n){return n!=null&&n.length?Array.isArray(n[0])?n.map(e=>nv(e)):[nv(n)]:[]}function nv(n){return n.join(r$)}function zoe(n,e){const t=n.split("-").map(i=>Number(i));let r=e,s=[];return t.forEach((i,a)=>{var o;r=a===0?r[i]:(o=r==null?void 0:r.children)===null||o===void 0?void 0:o[i],s.push(r==null?void 0:r.value)}),nv(s)}function s$(n){const e={};return Boe(n,t=>{const{key:r,parentKey:s}=t,i=Object.assign({},t);e[r]=i,i.parent=e[s],i.parent&&(i.parent.children=i.parent.children||[],i.parent.children.push(i))}),e}function Rw(n,e){let t;return e?t=Yt.LEAF_ONLY_MERGE_TYPE:n?t=Yt.AUTO_MERGE_VALUE_MERGE_TYPE:t=Yt.NONE_MERGE_TYPE,t}class Koe extends ke{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===P2&&this.getState("isOpen")&&this.close(t)},this.updateSearching=t=>{this._adapter.updateStates({isSearching:!1})},this.handleTagRemoveByKey=t=>{var r,s;const{keyEntities:i}=this.getStates(),{disabled:a}=this.getProps();if(a)return;const o=(r=i[t])!==null&&r!==void 0?r:{};!(!((s=o==null?void 0:o.data)===null||s===void 0)&&s.disable)&&this._handleMultipleSelect(o),this._adapter.rePositionDropdown()},this.handleTagRemoveInTrigger=t=>{const{treeData:r}=this.getStates(),s=zoe(t,r);this.handleTagRemoveByKey(s)}}init(){const e=this.getProp("open")||this.getProp("defaultOpen");this.collectOptions(!0),this._adapter.updateLoadingKeyRefValue(new Set),this._adapter.updateLoadedKeyRefValue(new Set),e&&!this._isDisabled()&&this.open()}destroy(){this._adapter.unregisterClickOutsideHandler()}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filterTreeNode")}_notifyChange(e){const{onChangeWithObject:t,multiple:r}=this.getProps(),s=t?[]:"value";if(r){const i=[];e.forEach(a=>{const o=this.getItemPropPath(a,s);i.push(o)}),this._adapter.notifyChange(i)}else{const i=bt(e)||!("key"in e)?[]:this.getItemPropPath(e.key,s);this._adapter.notifyChange(i)}}_isLeaf(e){return this.getProp("loadData")?!!e.isLeaf:!e.children||!e.children.length}_clearInput(){this._adapter.updateInputValue("")}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}_isOptionDisabled(e,t){return Ui([e],t,!0).some(s=>t[s].data.disabled)}getItemPropPath(e,t,r){const s=r||this.getState("keyEntities"),i=s[e];let a=[];if(i)if(i._notExist)a=i.path;else{const o=i.path;a=Array.isArray(t)?o.map(l=>s[l].data):o.map(l=>s[l].data[t])}return a}_getCacheValue(e){const{selectedKeys:t}=this.getStates(),r=Array.from(t)[0];let s;if(It(e[r]))if(Ju(r,"not-exist-")){const i=r.match(/not-exist-(\S*)/)[1];It(e[i])?s=i:s=e[i].valuePath}else s=r;else s=e[r].valuePath;return s}collectOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{treeData:t,value:r,defaultValue:s}=this.getProps(),i=s$(t);this._adapter.rePositionDropdown();let a;e?a=s:It(i)||(a=this._getCacheValue(i));const o=this._isControlledComponent()?bt(r)?[]:r:a;Voe(o)?this.updateSelectedKey(o,i):this._adapter.updateStates({keyEntities:i})}handleValueChange(e){const{keyEntities:t}=this.getStates();this.updateSelectedKey(e,t)}_getClearSelectedKey(e){const t={},{searchPlaceholder:r,placeholder:s,multiple:i}=this.getProps();return t.selectedKeys=new Set([]),t.activeKeys=new Set([]),t.filteredKeys=new Set([]),e&&!i&&(t.inputPlaceHolder=r||s||"",t.inputValue=""),t}updateSelectedKey(e,t){const{changeOnSelect:r,onChangeWithObject:s,multiple:i}=this.getProps(),{activeKeys:a,loading:o,keyEntities:l,selectedKeys:u}=this.getStates(),d=this._adapter.getLoadingKeyRefValue(),h=this._isFilterable(),f=[...a].filter(w=>d.has(w)),g=joe(e),b=s&&Pa(g[0])?g.map(w=>w.value):g,y=Hoe(b);let _={};const m=y.length>0?y[0]:void 0,E=m?t[m]:void 0;if(E)if(r||this._isLeaf(E.data)){if(_.selectedKeys=new Set([m]),f.length||(_.activeKeys=new Set(E.path)),h&&!i){const w=this.renderDisplayText(m,t);_.inputPlaceHolder=w}}else Fe(y,Array.from(u))&&(_=this._getClearSelectedKey(h));else if(e&&e.length){const w=b[b.length-1],S=`not-exist-${w}`,O={data:{label:w,value:w},key:S,path:b,_notExist:!0};if(_.selectedKeys=new Set([S]),h&&!i){const x=this._defaultRenderText(b);_.inputPlaceHolder=x}t[S]=O}else if(o){_.keyEntities=pae(l,t),this._adapter.updateStates(_);return}else _=this._getClearSelectedKey(h);_.keyEntities=t,this._adapter.updateStates(_)}open(){const e=this._isFilterable(),{multiple:t}=this.getProps();this._adapter.openMenu(),e&&(this._clearInput(),!t&&this.toggle2SearchInput(!0)),this._isControlledComponent()&&this.reCalcActiveKeys(),this._adapter.notifyDropdownVisibleChange(!0),this._adapter.registerClickOutsideHandler(r=>this.close(r))}reCalcActiveKeys(){const{selectedKeys:e,activeKeys:t,keyEntities:r}=this.getStates(),s=[...e][0],i=r[s];if(!i)return;const a=new Set(i.path);Fe(a,t)||this._adapter.updateStates({activeKeys:a})}close(e,t){const{multiple:r}=this.getProps();if(this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.unregisterClickOutsideHandler(),this._isFilterable()){const{selectedKeys:s,isSearching:i}=this.getStates();let a="";t&&!r?a=this.renderDisplayText(t):s.size&&!r&&(a=this.renderDisplayText([...s][0])),this._adapter.updateStates({inputValue:a}),!r&&this.toggle2SearchInput(!1),!r&&this._adapter.updateFocusState(!1)}this._notifyBlur(e)}focus(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.focusInput(),this._adapter.updateFocusState(!0)}blur(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.blurInput(),this._adapter.updateFocusState(!1)}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focus()):this._adapter.toggleInputShow(e,()=>{})}handleItemClick(e,t){this._isDisabled()||(this.handleSingleSelect(e,t),this._adapter.rePositionDropdown())}handleItemHover(e,t){this._isDisabled()||this.handleShowNextByHover(t)}handleShowNextByHover(e){const{keyEntities:t}=this.getStates(),{data:r,key:s}=e,i=this._isLeaf(r),a=t[s].path;this._adapter.updateStates({activeKeys:new Set(a)}),i||this.notifyIfLoadData(e)}onItemCheckboxClick(e){this._isDisabled()||(this._handleMultipleSelect(e),this._adapter.rePositionDropdown())}handleClick(e){const t=this._isDisabled(),r=this._isFilterable(),{isOpen:s}=this.getStates();t||(s?s&&!r&&this.close(e):(this.open(),this._notifyFocus(e)))}handleSelectionEnterPress(e){Ks(e)&&this.handleClick(e)}toggleHoverState(e){this._adapter.toggleHovering(e)}_defaultRenderText(e,t){const r=this.getProp("separator");return t&&typeof t=="function"?t(e):e.join(r)}renderDisplayText(e,t){const r=this.getProp("displayRender"),s=this.getProp("displayProp"),i=this.getItemPropPath(e,s,t);return this._defaultRenderText(i,r)}handleNodeLoad(e){const{data:t,key:r}=e,s=new Set(this._adapter.getLoadingKeyRefValue()),a=new Set(this._adapter.getLoadedKeyRefValue()).add(r),o=new Set([...s]);o.delete(r),this._adapter.notifyOnLoad(a,t),this._adapter.updateLoadingKeyRefValue(o),this._adapter.updateLoadedKeyRefValue(a),this._adapter.updateStates({loadingKeys:o,loadedKeys:a})}notifyIfLoadData(e){const{data:t,key:r}=e;if(this._adapter.updateStates({loading:!1}),!t.isLeaf&&!t.children&&this.getProp("loadData")){const s=this._adapter.getLoadedKeyRefValue(),i=new Set(this._adapter.getLoadingKeyRefValue());if(s.has(r)||i.has(r))return;this._adapter.updateStates({loading:!0});const{keyEntities:a}=this.getStates(),o=this.getItemPropPath(r,[],a),l=i.add(r);this._adapter.updateLoadingKeyRefValue(l),this._adapter.updateStates({loadingKeys:l}),this._adapter.notifyLoadData(o,this.handleNodeLoad.bind(this,e))}}handleSingleSelect(e,t){const{changeOnSelect:r,filterLeafOnly:s,multiple:i,enableLeafClick:a}=this.getProps(),{keyEntities:o,selectedKeys:l,isSearching:u}=this.getStates(),d=this._isFilterable(),{data:h,key:f}=t,g=this._isLeaf(h),b=o[f].path,y=[f],_=f!==[...l][0];if(!g&&!r&&!u){this._adapter.updateStates({activeKeys:new Set(b)}),this.notifyIfLoadData(t);return}if(i)this._adapter.updateStates({activeKeys:new Set(b)}),g&&a&&this.onItemCheckboxClick(t);else if(this._adapter.notifySelect(h.value),_){if(this._notifyChange(t),this.notifyIfLoadData(t),this._isControlledComponent()){this._adapter.updateStates({activeKeys:new Set(b)}),g&&this.close(e);return}this._adapter.updateStates({activeKeys:new Set(b),selectedKeys:new Set(y)});const m=this.renderDisplayText(f);d&&this._adapter.updateInputPlaceHolder(m),g?this.close(e,f):!s&&u&&this.close(e,f)}else this.close(e)}_handleMultipleSelect(e){const{checkRelation:t}=this.getProps();t===Yt.RELATED?this._handleRelatedMultipleSelect(e):t==="unRelated"&&this._handleUnRelatedMultipleSelect(e),this._adapter.updateStates({inputValue:""})}_handleRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s,resolvedCheckedKeys:i}=this.getStates(),{autoMergeValue:a,max:o,disableStrictly:l,leafOnly:u}=this.getProps(),d=r.has(t),h=l?this.calcCheckedStatus(!d,t):!d,{checkedKeys:f,halfCheckedKeys:g}=l?this.calcNonDisabledCheckedKeys(t,h):this.calcCheckedKeys(t,h),b=Rw(a,u),y=b===Yt.LEAF_ONLY_MERGE_TYPE,_=b===Yt.NONE_MERGE_TYPE,m=new Set(ri(f,s,y)),E=_?f:m;if(Qt(o)){if(_){if(r.size<f.size&&f.size>o){const w=[];f.forEach(S=>{w.push(s[S])}),this._adapter.notifyOnExceed(w);return}}else if(i.size<m.size&&m.size>o){const w=[];m.forEach(S=>{w.push(s[S])}),this._adapter.notifyOnExceed(w);return}}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:f,halfCheckedKeys:g,resolvedCheckedKeys:m}),this._notifyChange(E),h&&this._notifySelect(E)}_handleUnRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s}=this.getStates(),{max:i}=this.getProps(),a=new Set(r);let o;if(r.has(t))a.delete(t),o=!1;else{if(Qt(i)&&r.size>=i){const u=[];r.forEach(d=>{u.push(s[d])}),this._adapter.notifyOnExceed(u);return}a.add(t),o=!0}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:a}),this._notifyChange(a),o&&this._notifySelect(a)}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),a=ri(ji([e],r,!1),r,!0);if(!a.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=a.filter(d=>!s.has(d)),u=t?[...l,...i]:ev(ri([...i],r,!0),l);return qf(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),a=ri(ji([t],s,!1),s,!0);return a.some(d=>i.has(d))?!a.filter(d=>!i.has(d)).every(d=>r.has(d)):e}_notifySelect(e){const{keyEntities:t}=this.getStates(),r=[];e.forEach(i=>{var a,o;const l=(o=(a=t[i])===null||a===void 0?void 0:a.data)===null||o===void 0?void 0:o.value;l!==void 0&&r.push(l)});const s=r.length===1?r[0]:r;this._adapter.notifySelect(s)}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?J2(e,r,s,i):e$(e,r,s,i)}handleInputChange(e){this._adapter.updateInputValue(e);const{keyEntities:t}=this.getStates(),{treeNodeFilterProp:r,filterTreeNode:s,filterLeafOnly:i}=this.getProps();let a=[];e&&(a=Object.values(t).filter(o=>{const{key:l,_notExist:u,data:d}=o;if(u)return!1;const h=this.getItemPropPath(l,r);return Uoe(e,d,s,h)}).filter(o=>s&&!i||this._isLeaf(o)).map(o=>o.key)),this._adapter.updateStates({isSearching:!!e,filteredKeys:new Set(a)}),this._adapter.notifyOnSearch(e),this._adapter.rePositionDropdown()}handleClear(){const{isSearching:e}=this.getStates(),{searchPlaceholder:t,placeholder:r,multiple:s}=this.getProps(),i=this._isFilterable(),a=this._isControlledComponent(),o={};s?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch(""),o.checkedKeys=new Set([]),o.halfCheckedKeys=new Set([]),o.selectedKeys=new Set([]),o.activeKeys=new Set([]),o.resolvedCheckedKeys=new Set([]),this._adapter.notifyChange([])):i&&e?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")):(i&&(o.inputValue="",o.inputPlaceHolder=t||r||"",this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")),a||(o.selectedKeys=new Set([])),o.activeKeys=new Set([]),o.filteredKeys=new Set([]),this._adapter.notifyChange([])),this._adapter.updateStates(o),this._adapter.notifyClear(),this._adapter.rePositionDropdown()}handleClearEnterPress(e){Ks(e)&&this.handleClear()}getRenderData(){const{keyEntities:e,isSearching:t}=this.getStates(),r=this._isFilterable();return t&&r?this.getFilteredData():Object.values(e).filter(s=>s.parentKey===null&&!s._notExist).sort((s,i)=>parseInt(s.ind,10)-parseInt(i.ind,10))}getFilteredData(){const{treeNodeFilterProp:e,filterSorter:t}=this.getProps(),{filteredKeys:r,keyEntities:s,inputValue:i}=this.getStates(),a=[];return[...r].forEach(l=>{const u=s[l];if(!u)return;const d=this.getItemPropPath(l,[]),h=d.map(g=>g[e]),f=this._isOptionDisabled(l,s);a.push({data:u.data,pathData:d,key:l,disabled:f,searchText:h})}),De(t)&&a.sort((l,u)=>t(l.pathData,u.pathData,i)),a}handleListScroll(e,t){const{activeKeys:r,keyEntities:s}=this.getStates(),i=[...r][r.size-1],a=i?Z(s,[i,"data"],null):null;this._adapter.notifyListScroll(e,{panelIndex:t,activeNode:a})}}var Woe=yi,Goe=Yr,Yoe="[object Boolean]";function qoe(n){return n===!0||n===!1||Goe(n)&&Woe(n)==Yoe}var Xoe=qoe;const i$=Ce(Xoe),Ug={PREFIX:`${W}-checkbox`,INNER:`${W}-checkbox-inner`,TEXT:`${W}-checkbox-text`,INPUT:`${W}-checkbox-input`,CHECKED:`${W}-checkbox-checked`,DISABLED:`${W}-checkbox-disabled`,BUTTON:`${W}-checkbox-button`,WRAPPER:""},Qoe={PREFIX:`${W}-checkboxGroup`,INNER:`${W}-checkboxGroup-inner`,TEXT:`${W}-checkboxGroup-text`,INPUT:`${W}-checkboxGroup-input`,CHECKED:`${W}-checkboxGroup-checked`,DISABLED:`${W}-checkboxGroup-disabled`},Di={DIRECTION_SET:["horizontal","vertical"],TYPE_DEFAULT:"default",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",DEFAULT_DIRECTION:"vertical"};class Zoe extends ke{constructor(e){super(Object.assign({},e)),this.clickState=!1,this.handleFocusVisible=t=>{const{target:r}=t;try{if(this.clickState){this.clickState=!1;return}r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{zt(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}notifyChange(e,t){const r=this._adapter.generateEvent(e,t);this._adapter.notifyChange(r)}handleChange(e){if(this.getProp("disabled"))return;if((e==null?void 0:e.type)==="click"&&(this.clickState=!0),this._adapter.focusCheckboxEntity(),this._adapter.getIsInGroup()){this._adapter.getGroupDisabled()||this.handleChangeInGroup(e);return}const i=!this.getState("checked");this._isControlledComponent("checked")?this.notifyChange(i,e):(this.setChecked(i),this.notifyChange(i,e))}handleChangeInGroup(e){const{value:t}=this.getProps(),i=!this._adapter.getGroupValue().includes(t),a=this._adapter.generateEvent(i,e);this._adapter.notifyChange(a),this._adapter.notifyGroupChange(a)}handleEnterPress(e){Ks(e)&&this.handleChange(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}destroy(){}}const aT=v.createContext({});class Iy extends D.PureComponent{blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){const{indeterminate:e,checked:t,disabled:r,prefixCls:s,name:i,isPureCardType:a,addonId:o,extraId:l,focusInner:u,onInputFocus:d,onInputBlur:h}=this.props,f=s||Ug.PREFIX,g=$({[`${f}-inner`]:!0,[`${f}-inner-checked`]:!!t,[`${f}-inner-pureCardType`]:a},Ug.WRAPPER),b=$({[`${f}-inner-display`]:!0,[`${f}-focus`]:u,[`${f}-focus-border`]:u&&!t}),y=t?v.createElement(Ore,null):e?v.createElement(Tre,null):null,_={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":r,"aria-checked":t,"aria-labelledby":o,"aria-describedby":l||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:Ug.INPUT,onChange:F,checked:t,disabled:r,onFocus:d,onBlur:h};return i&&(_.name=i),v.createElement("span",{className:g},v.createElement("input",Object.assign({},_,{ref:m=>{this.inputEntity=m}})),v.createElement("span",{className:b},y))}}Iy.contextType=aT;Iy.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,disabled:c.bool,onChange:c.func,children:c.node,grouped:c.bool,value:c.any,isPureCardType:c.bool,addonId:c.string,extraId:c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};Iy.defaultProps={onChange:F};class Aa extends Ae{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{const{onChange:t}=this.props;t&&t(e)},generateEvent:(e,t)=>{const{props:r}=this;return{target:Object.assign(Object.assign({},r),{checked:e}),stopPropagation:()=>{t.stopPropagation()},preventDefault:()=>{t.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation()}}}},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:e=>{this.context.checkboxGroup.onChange(e)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:xa({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:xa({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})},focusCheckboxEntity:()=>{this.focus()}})}constructor(e){super(e),this.handleChange=r=>this.foundation.handleChange(r),this.handleEnterPress=r=>this.foundation.handleEnterPress(r),this.handleFocusVisible=r=>{this.foundation.handleFocusVisible(r)},this.handleBlur=r=>{this.foundation.handleBlur()};const t=!1;this.state={checked:e.checked||e.defaultChecked||t,addonId:e.addonId,extraId:e.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new Zoe(this.adapter)}componentDidUpdate(e){this.props.checked!==e.checked&&(bt(this.props.checked)?this.foundation.setChecked(!1):i$(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return!!(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){const{disabled:e,style:t,prefixCls:r,className:s,indeterminate:i,children:a,onMouseEnter:o,onMouseLeave:l,extra:u,value:d,role:h,tabIndex:f,id:g,type:b}=this.props,{checked:y,addonId:_,extraId:m,focusVisible:E}=this.state,w={checked:y,disabled:e},S=this.isInGroup();if(S){if(this.context.checkboxGroup.value){const N=(this.context.checkboxGroup.value||[]).includes(d);w.checked=N}this.context.checkboxGroup.disabled&&(w.disabled=this.context.checkboxGroup.disabled||this.props.disabled);const{isCardType:k,isPureCardType:L}=this.context.checkboxGroup;w.isCardType=k,w.isPureCardType=L,w.name=this.context.checkboxGroup.name}else w.isPureCardType=b===Di.TYPE_PURECARD,w.isCardType=b===Di.TYPE_CARD||w.isPureCardType;const O=r||Ug.PREFIX,x=w.isCardType||w.isPureCardType,I=$(O,{[`${O}-disabled`]:w.disabled,[`${O}-indeterminate`]:i,[`${O}-checked`]:w.checked,[`${O}-unChecked`]:!w.checked,[`${O}-cardType`]:w.isCardType,[`${O}-cardType_disabled`]:w.disabled&&w.isCardType,[`${O}-cardType_enable`]:!(w.disabled&&w.isCardType),[`${O}-cardType_checked`]:w.isCardType&&w.checked&&!w.disabled,[`${O}-cardType_checked_disabled`]:w.isCardType&&w.checked&&w.disabled,[s]:!!s,[`${O}-focus`]:E&&x}),T=$(`${O}-extra`,{[`${O}-cardType_extra_noChildren`]:w.isCardType&&!a});S&&this.context.checkboxGroup.name;const P=this.props["x-semi-children-alias"]||"children",A=()=>!a&&!u?null:v.createElement("div",{className:`${O}-content`},a?v.createElement("span",{id:_,className:`${O}-addon`,"x-semi-prop":P},a):null,u?v.createElement("div",{id:m,className:T,"x-semi-prop":"extra"},u):null);return v.createElement("span",Object.assign({role:h,tabIndex:f,style:t,className:I,id:g,onMouseEnter:o,onMouseLeave:l,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),v.createElement(Iy,Object.assign({},this.props,w,{addonId:a&&_,extraId:u&&m,isPureCardType:w.isPureCardType,ref:k=>{this.checkboxEntity=k},focusInner:E&&!x,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),A())}}Aa.contextType=aT;Aa.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,defaultChecked:c.bool,disabled:c.bool,indeterminate:c.bool,onChange:c.func,value:c.any,style:c.object,className:c.string,prefixCls:c.string,onMouseEnter:c.func,onMouseLeave:c.func,extra:c.node,index:c.number,"aria-label":c.string,tabIndex:c.number,preventScroll:c.bool,type:c.string};Aa.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:F,onMouseEnter:F,onMouseLeave:F,type:"default"};Aa.elementType="Checkbox";class oT extends ke{static get checkboxGroupDefaultAdapter(){return{}}constructor(e){super(Object.assign(Object.assign({},oT.checkboxGroupDefaultAdapter),e))}init(){const{defaultValue:e,value:t}=this.getProps();typeof e<"u"&&!Array.isArray(e)&&zt(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),typeof t<"u"&&!Array.isArray(t)&&zt(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(e){this._adapter.notifyChange(e)}handleChange(e){const t=this.getState("value");let r=[];Array.isArray(t)||(r=[t]),e.target.checked?r=[...t,e.target.value]:r=t.filter((i,a)=>i!==e.target.value),"value"in this.getProps()?this.notifyChange(r):(this._adapter.updateGroupValue(r),this.notifyChange(r))}getFormatName(){return this.getProp("name")||"default"}handlePropValueChange(e){Array.isArray(e)?this._adapter.updateGroupValue(e):(typeof e>"u"&&this._adapter.updateGroupValue([]),zt(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}}class Xf extends Ae{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:e=>{this.setState({value:e})},notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}constructor(e){super(e),this.state={value:e.value||e.defaultValue},this.foundation=new oT(this.adapter),this.onChange=this.onChange.bind(this)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){Fe(e.value,this.props.value)||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(e){this.foundation.handleChange(e)}render(){const{children:e,options:t,prefixCls:r,direction:s,className:i,id:a,style:o,type:l,disabled:u}=this.props,d=l===Di.TYPE_PURECARD,h=l===Di.TYPE_CARD||d,f=r||Qoe.PREFIX,g=$({[f]:!0,[`${f}-wrapper`]:!0,[`${f}-${s}`]:s,[`${f}-${s}-cardType`]:s&&h,[`${f}-${s}-pureCardType`]:s&&d},i),b=this.state.value.slice();let y;return t?y=(t||[]).map((_,m)=>typeof _=="string"?v.createElement(Aa,{role:"listitem",key:m,disabled:this.props.disabled,value:_,prefixCls:r},_):v.createElement(Aa,{role:"listitem",key:m,disabled:_.disabled||this.props.disabled,value:_.value,prefixCls:r,extra:_.extra,className:_.className,style:_.style,onChange:_.onChange},_.label)):e&&(y=v.Children.toArray(e).map((_,m)=>v.cloneElement(_,{key:m,role:"listitem"}))),v.createElement("div",Object.assign({id:a,role:"list","aria-label":this.props["aria-label"],className:g,style:o,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),v.createElement(aT.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:b,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:h,isPureCardType:d}}},y))}}Xf.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,defaultValue:c.array,disabled:c.bool,name:c.string,options:c.array,value:c.array,onChange:c.func,children:c.node,prefixCls:c.string,direction:c.oneOf(Di.DIRECTION_SET),className:c.string,type:c.oneOf([Di.TYPE_DEFAULT,Di.TYPE_CARD,Di.TYPE_PURECARD]),style:c.object};Xf.defaultProps={disabled:!1,onChange:()=>{},type:Di.TYPE_DEFAULT,defaultValue:[],direction:Di.DEFAULT_DIRECTION};class Aw extends Aa{}Aw.Group=Xf;function Dw(){return Dw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Dw.apply(null,arguments)}function Joe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ym(n,e)}var Px=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function ele(n,e){return!!(n===e||Px(n)&&Px(e))}function tle(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!ele(n[t],e[t]))return!1;return!0}function Eb(n,e){e===void 0&&(e=tle);var t,r=[],s,i=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return i&&t===this&&e(o,r)||(s=n.apply(this,o),i=!0,t=this,r=o),s}return a}var nle=typeof performance=="object"&&typeof performance.now=="function",xx=nle?function(){return performance.now()}:function(){return Date.now()};function Rx(n){cancelAnimationFrame(n.id)}function rle(n,e){var t=xx();function r(){xx()-t>=e?n.call(null):s.id=requestAnimationFrame(r)}var s={id:requestAnimationFrame(r)};return s}var Sb=-1;function Ax(n){if(n===void 0&&(n=!1),Sb===-1||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),Sb=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Sb}var Tu=null;function Dx(n){if(n===void 0&&(n=!1),Tu===null||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Tu="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Tu="negative":Tu="positive-ascending"),document.body.removeChild(e),Tu}return Tu}var sle=150,ile=function(e,t){return e};function ale(n){var e,t=n.getItemOffset,r=n.getEstimatedTotalSize,s=n.getItemSize,i=n.getOffsetForIndexAndAlignment,a=n.getStartIndexForOffset,o=n.getStopIndexForStartIndex,l=n.initInstanceProps,u=n.shouldResetStyleCacheOnItemSizeChange,d=n.validateProps;return e=function(h){Joe(f,h);function f(b){var y;return y=h.call(this,b)||this,y._instanceProps=l(y.props,ue(y)),y._outerRef=void 0,y._resetIsScrollingTimeoutId=null,y.state={instance:ue(y),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof y.props.initialScrollOffset=="number"?y.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},y._callOnItemsRendered=void 0,y._callOnItemsRendered=Eb(function(_,m,E,w){return y.props.onItemsRendered({overscanStartIndex:_,overscanStopIndex:m,visibleStartIndex:E,visibleStopIndex:w})}),y._callOnScroll=void 0,y._callOnScroll=Eb(function(_,m,E){return y.props.onScroll({scrollDirection:_,scrollOffset:m,scrollUpdateWasRequested:E})}),y._getItemStyle=void 0,y._getItemStyle=function(_){var m=y.props,E=m.direction,w=m.itemSize,S=m.layout,O=y._getItemStyleCache(u&&w,u&&S,u&&E),x;if(O.hasOwnProperty(_))x=O[_];else{var I=t(y.props,_,y._instanceProps),T=s(y.props,_,y._instanceProps),P=E==="horizontal"||S==="horizontal",A=E==="rtl",k=P?I:0;O[_]=x={position:"absolute",left:A?void 0:k,right:A?k:void 0,top:P?0:I,height:P?"100%":T,width:P?T:"100%"}}return x},y._getItemStyleCache=void 0,y._getItemStyleCache=Eb(function(_,m,E){return{}}),y._onScrollHorizontal=function(_){var m=_.currentTarget,E=m.clientWidth,w=m.scrollLeft,S=m.scrollWidth;y.setState(function(O){if(O.scrollOffset===w)return null;var x=y.props.direction,I=w;if(x==="rtl")switch(Dx()){case"negative":I=-w;break;case"positive-descending":I=S-E-w;break}return I=Math.max(0,Math.min(I,S-E)),{isScrolling:!0,scrollDirection:O.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._onScrollVertical=function(_){var m=_.currentTarget,E=m.clientHeight,w=m.scrollHeight,S=m.scrollTop;y.setState(function(O){if(O.scrollOffset===S)return null;var x=Math.max(0,Math.min(S,w-E));return{isScrolling:!0,scrollDirection:O.scrollOffset<x?"forward":"backward",scrollOffset:x,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._outerRefSetter=function(_){var m=y.props.outerRef;y._outerRef=_,typeof m=="function"?m(_):m!=null&&typeof m=="object"&&m.hasOwnProperty("current")&&(m.current=_)},y._resetIsScrollingDebounced=function(){y._resetIsScrollingTimeoutId!==null&&Rx(y._resetIsScrollingTimeoutId),y._resetIsScrollingTimeoutId=rle(y._resetIsScrolling,sle)},y._resetIsScrolling=function(){y._resetIsScrollingTimeoutId=null,y.setState({isScrolling:!1},function(){y._getItemStyleCache(-1,null)})},y}f.getDerivedStateFromProps=function(y,_){return ole(y,_),d(y),null};var g=f.prototype;return g.scrollTo=function(y){y=Math.max(0,y),this.setState(function(_){return _.scrollOffset===y?null:{scrollDirection:_.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},g.scrollToItem=function(y,_){_===void 0&&(_="auto");var m=this.props,E=m.itemCount,w=m.layout,S=this.state.scrollOffset;y=Math.max(0,Math.min(y,E-1));var O=0;if(this._outerRef){var x=this._outerRef;w==="vertical"?O=x.scrollWidth>x.clientWidth?Ax():0:O=x.scrollHeight>x.clientHeight?Ax():0}this.scrollTo(i(this.props,y,_,S,this._instanceProps,O))},g.componentDidMount=function(){var y=this.props,_=y.direction,m=y.initialScrollOffset,E=y.layout;if(typeof m=="number"&&this._outerRef!=null){var w=this._outerRef;_==="horizontal"||E==="horizontal"?w.scrollLeft=m:w.scrollTop=m}this._callPropsCallbacks()},g.componentDidUpdate=function(){var y=this.props,_=y.direction,m=y.layout,E=this.state,w=E.scrollOffset,S=E.scrollUpdateWasRequested;if(S&&this._outerRef!=null){var O=this._outerRef;if(_==="horizontal"||m==="horizontal")if(_==="rtl")switch(Dx()){case"negative":O.scrollLeft=-w;break;case"positive-ascending":O.scrollLeft=w;break;default:var x=O.clientWidth,I=O.scrollWidth;O.scrollLeft=I-x-w;break}else O.scrollLeft=w;else O.scrollTop=w}this._callPropsCallbacks()},g.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Rx(this._resetIsScrollingTimeoutId)},g.render=function(){var y=this.props,_=y.children,m=y.className,E=y.direction,w=y.height,S=y.innerRef,O=y.innerElementType,x=y.innerTagName,I=y.itemCount,T=y.itemData,P=y.itemKey,A=P===void 0?ile:P,k=y.layout,L=y.outerElementType,N=y.outerTagName,K=y.style,G=y.useIsScrolling,z=y.width,ee=this.state.isScrolling,V=E==="horizontal"||k==="horizontal",H=V?this._onScrollHorizontal:this._onScrollVertical,U=this._getRangeToRender(),ae=U[0],ne=U[1],re=[];if(I>0)for(var de=ae;de<=ne;de++)re.push(D.createElement(_,{data:T,key:A(de,T),index:de,isScrolling:G?ee:void 0,style:this._getItemStyle(de)}));var be=r(this.props,this._instanceProps);return D.createElement(L||N||"div",{className:m,onScroll:H,ref:this._outerRefSetter,style:Dw({position:"relative",height:w,width:z,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:E},K)},D.createElement(O||x||"div",{children:re,ref:S,style:{height:V?"100%":be,pointerEvents:ee?"none":void 0,width:V?be:"100%"}}))},g._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var y=this.props.itemCount;if(y>0){var _=this._getRangeToRender(),m=_[0],E=_[1],w=_[2],S=_[3];this._callOnItemsRendered(m,E,w,S)}}if(typeof this.props.onScroll=="function"){var O=this.state,x=O.scrollDirection,I=O.scrollOffset,T=O.scrollUpdateWasRequested;this._callOnScroll(x,I,T)}},g._getRangeToRender=function(){var y=this.props,_=y.itemCount,m=y.overscanCount,E=this.state,w=E.isScrolling,S=E.scrollDirection,O=E.scrollOffset;if(_===0)return[0,0,0,0];var x=a(this.props,O,this._instanceProps),I=o(this.props,x,O,this._instanceProps),T=!w||S==="backward"?Math.max(1,m):1,P=!w||S==="forward"?Math.max(1,m):1;return[Math.max(0,x-T),Math.max(0,Math.min(_-1,I+P)),x,I]},f}(D.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var ole=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},lT=ale({getItemOffset:function(e,t){var r=e.itemSize;return t*r},getItemSize:function(e,t){var r=e.itemSize;return r},getEstimatedTotalSize:function(e){var t=e.itemCount,r=e.itemSize;return r*t},getOffsetForIndexAndAlignment:function(e,t,r,s,i,a){var o=e.direction,l=e.height,u=e.itemCount,d=e.itemSize,h=e.layout,f=e.width,g=o==="horizontal"||h==="horizontal",b=g?f:l,y=Math.max(0,u*d-b),_=Math.min(y,t*d),m=Math.max(0,t*d-b+d+a);switch(r==="smart"&&(s>=m-b&&s<=_+b?r="auto":r="center"),r){case"start":return _;case"end":return m;case"center":{var E=Math.round(m+(_-m)/2);return E<Math.ceil(b/2)?0:E>y+Math.floor(b/2)?y:E}case"auto":default:return s>=m&&s<=_?s:s<m?m:_}},getStartIndexForOffset:function(e,t){var r=e.itemCount,s=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/s)))},getStopIndexForStartIndex:function(e,t,r){var s=e.direction,i=e.height,a=e.itemCount,o=e.itemSize,l=e.layout,u=e.width,d=s==="horizontal"||l==="horizontal",h=t*o,f=d?u:i,g=Math.ceil((f+r-h)/o);return Math.max(0,Math.min(a-1,t+g-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const lle=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,a=s[e];return i(a,e,r)},vt=n$.PREFIX_OPTION;let Oy=class extends D.PureComponent{constructor(){var e;super(...arguments),e=this,this.onClick=(t,r)=>{const{onItemClick:s}=this.props;r.data.disabled||"disabled"in r&&r.disabled||s(t,r)},this.handleItemEnterPress=(t,r)=>{Ks(t)&&this.onClick(t,r)},this.onHover=(t,r)=>{const{showNext:s,onItemHover:i}=this.props;r.data.disabled||s===Yt.SHOW_NEXT_BY_HOVER&&i(t,r)},this.onCheckboxChange=(t,r)=>{const{onItemCheckboxClick:s}=this.props;t.stopPropagation(),t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation(),s(r)},this.getItemStatus=t=>{const{activeKeys:r,selectedKeys:s,loadedKeys:i,loadingKeys:a}=this.props,o={active:!1,selected:!1,loading:!1};return r.has(t)&&(o.active=!0),s.has(t)&&(o.selected=!0),a.has(t)&&!i.has(t)&&(o.loading=!0),o},this.renderIcon=function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=i=>i+(r?` ${vt}-icon-left`:"");switch(t){case"child":const{expandIcon:i}=e.props;return i||v.createElement(T2,{className:s(`${vt}-icon ${vt}-icon-expand`)});case"tick":return v.createElement(_y,{className:s(`${vt}-icon ${vt}-icon-active`)});case"loading":return v.createElement(Yi,{wrapperClassName:s(`${vt}-spin-icon`)});case"empty":return v.createElement("span",{"aria-hidden":!0,className:s(`${vt}-icon ${vt}-icon-empty`)});default:return null}},this.highlight=t=>{const r=[],{keyword:s,separator:i}=this.props;return t.forEach((a,o)=>{typeof a=="string"&&Ju(a,s)?a.split(s).forEach((l,u)=>{u>0&&r.push(v.createElement("span",{className:`${vt}-label-highlight`,key:`${u}-${o}`},s)),r.push(l)}):r.push(a),o!==t.length-1&&r.push(i)}),r},this.renderFlattenOptionItem=(t,r,s)=>{var i;const{multiple:a,selectedKeys:o,checkedKeys:l,halfCheckedKeys:u,keyword:d,filterRender:h,virtualize:f}=this.props,{searchText:g,key:b,disabled:y,pathData:_}=t,m=o.has(b),E=$(vt,{[`${vt}-flatten`]:!h,[`${vt}-disabled`]:y,[`${vt}-select`]:m&&!a}),w=x=>{this.onClick(x,t)},S=x=>this.handleItemEnterPress(x,t),O=x=>this.onCheckboxChange(x,t);if(h){const x={className:E,inputValue:d,disabled:y,data:_,checkStatus:{checked:l.has(t.key),halfChecked:u.has(t.key)},selected:m,onClick:w,onCheck:O},I=h(x),T=f?{key:b,style:Object.assign(Object.assign({},(i=I.props.style)!==null&&i!==void 0?i:{}),s)}:{key:b};return v.cloneElement(I,T)}return v.createElement("li",{role:"menuitem",className:E,style:s,key:b,onClick:w,onKeyPress:S},v.createElement("span",{className:`${vt}-label`},!a&&this.renderIcon("empty"),a&&v.createElement(Aw,{onChange:O,disabled:y,indeterminate:u.has(t.key),checked:l.has(t.key),className:`${vt}-label-checkbox`}),this.highlight(g)))},this.renderFlattenOption=t=>{const{virtualize:r}=this.props;return v.createElement("ul",{className:`${vt}-list`,key:"flatten-list"},r?this.renderVirtualizeList(t):t.map(i=>this.renderFlattenOptionItem(i)))},this.renderVirtualizeList=t=>{var r;const{direction:s}=this.context,{virtualize:i}=this.props;return v.createElement(lT,{height:i.height,itemCount:t.length,itemSize:i.itemSize,itemData:{visibleOptions:t,renderOption:this.renderFlattenOptionItem},width:(r=i.width)!==null&&r!==void 0?r:"100%",style:{direction:s}},lle)}}renderItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const{multiple:r,checkedKeys:s,halfCheckedKeys:i}=this.props;let a;const o=t.length;return t.push(v.createElement("ul",{role:"menu",className:`${vt}-list`,key:e[0].key,onScroll:l=>this.props.onListScroll(l,o)},e.map(l=>{const{data:u,key:d,parentKey:h}=l,{children:f,label:g,disabled:b,isLeaf:y}=u,{active:_,selected:m,loading:E}=this.getItemStatus(d),w=!!f&&f.length,S=w||this.props.loadData&&!y;_&&w&&(a=l);const O=$(vt,{[`${vt}-active`]:_&&!m,[`${vt}-select`]:m&&!r,[`${vt}-disabled`]:b}),x=h?{"aria-owns":`cascaderItem-${h}`}:{};return v.createElement("li",Object.assign({role:"menuitem",id:`cascaderItem-${d}`,"aria-expanded":_,"aria-haspopup":!!S,"aria-disabled":b},x,{className:O,key:d,onClick:I=>{this.onClick(I,l)},onKeyPress:I=>this.handleItemEnterPress(I,l),onMouseEnter:I=>{this.onHover(I,l)}}),v.createElement("span",{className:`${vt}-label`},m&&!r&&this.renderIcon("tick"),!m&&!r&&this.renderIcon("empty"),r&&v.createElement(Aw,{onChange:I=>this.onCheckboxChange(I,l),disabled:b,indeterminate:i.has(l.key),checked:s.has(l.key),className:`${vt}-label-checkbox`}),v.createElement("span",null,g)),S?this.renderIcon(E?"loading":"child",!0):null)}))),a&&t.concat(this.renderItem(a.children,t)),t}renderEmpty(){const{emptyContent:e}=this.props;return e===null?null:v.createElement(xn,{componentName:"Cascader"},t=>v.createElement("ul",{className:`${vt} ${vt}-empty`,key:"empty-list"},v.createElement("span",{className:`${vt}-label`,"x-semi-prop":"emptyContent"},e||t.emptyText)))}render(){const{data:e,searchable:t}=this.props,{direction:r}=this.context,s=!e||!e.length;let i;const a=$({[`${vt}-lists`]:!0,[`${vt}-lists-rtl`]:r==="rtl",[`${vt}-lists-empty`]:s});return s?i=this.renderEmpty():i=t?this.renderFlattenOption(e):this.renderItem(e),v.createElement("div",{className:a},i)}};Oy.contextType=Xr;Oy.propTypes={data:c.array,emptyContent:c.node,searchable:c.bool,onItemClick:c.func,onItemHover:c.func,multiple:c.bool,showNext:c.oneOf([Yt.SHOW_NEXT_BY_CLICK,Yt.SHOW_NEXT_BY_HOVER]),checkedKeys:c.object,halfCheckedKeys:c.object,onItemCheckboxClick:c.func,separator:c.string,keyword:c.string,virtualize:c.object,expandIcon:c.node};Oy.defaultProps={empty:!1};const a$={PREFIX:`${W}-tag`},od={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]};var ule=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const dr=a$.PREFIX,o$=od.TAG_COLOR,l$=od.TAG_SIZE,u$=od.TAG_TYPE,cle=od.AVATAR_SHAPE;class Gr extends D.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,r){const{onClose:s}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),s&&s(t,e,r),!e.defaultPrevented&&this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:r,onKeyDown:s}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),ti(e);break;case"Enter":r(e),ti(e);break;case"Escape":e.target.blur();break}s&&s(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return v.createElement(Dc,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:r,size:s,color:i,closable:a,visible:o,onClose:l,onClick:u,className:d,type:h,shape:f,avatarSrc:g,avatarShape:b,tabIndex:y,prefixIcon:_,suffixIcon:m}=e,E=ule(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:w}=this.state,S=u!==Gr.defaultProps.onClick||a,O={role:"button",tabIndex:y||0,onKeyDown:this.handleKeyDown},x=Object.assign(Object.assign({},E),{onClick:u,tabIndex:y,className:$(dr,{[`${dr}-default`]:s==="default",[`${dr}-small`]:s==="small",[`${dr}-large`]:s==="large",[`${dr}-square`]:f==="square",[`${dr}-circle`]:f==="circle",[`${dr}-${h}`]:h,[`${dr}-${i}-${h}`]:i&&h,[`${dr}-closable`]:a,[`${dr}-invisible`]:!w,[`${dr}-avatar-${b}`]:g},d)}),I=S?Object.assign(Object.assign({},x),O):x,T=a?v.createElement("div",{className:`${dr}-close`,onClick:k=>this.close(k,r,t)},v.createElement(QC,{size:"small"})):null,P=Re(r),A=$(`${dr}-content`,`${dr}-content-${P?"ellipsis":"center"}`);return v.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${a?"Closable ":""}Tag: ${r}`:""},I),_?v.createElement("div",{className:`${dr}-prefix-icon`},_):null,g?this.renderAvatar():null,v.createElement("div",{className:A},r),m?v.createElement("div",{className:`${dr}-suffix-icon`},m):null,T)}}Gr.defaultProps={size:l$[0],color:o$[0],closable:!1,type:u$[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null};Gr.propTypes={children:c.node,tagKey:c.oneOfType([c.string,c.number]),size:c.oneOf(l$),color:c.oneOf(o$),type:c.oneOf(u$),closable:c.bool,visible:c.bool,onClose:c.func,onClick:c.func,prefixIcon:c.node,suffixIcon:c.node,style:c.object,className:c.string,avatarSrc:c.string,avatarShape:c.oneOf(cle),"aria-label":c.string};const dle={PREFIX:`${W}-tagInput`},kx={SIZE_SET:["large","default","small"],STATUS:["success","default","error","warning"]},og=(n,e)=>{let t=[];if(Re(e)||Qt(e))t=n.split(e);else if(wC(e)){const r=e[0];t=n;for(let s=1;s<e.length;s++)t=t.split(e[s]).join(r);t=t.split(r)}else t.push(n);return t};function hle(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}class fle extends ke{constructor(e){super(Object.assign({},e)),this.handleInputChange=t=>{const{value:r}=t.target,{entering:s}=this.getStates();s?this._onInputChange(r,t):this._checkInputChangeValid(r)&&this._onInputChange(r,t)},this.handleInputCompositionStart=t=>{const{maxLength:r}=this.getProps();Qt(r)&&this._adapter.setEntering(!0)},this.handleInputCompositionEnd=t=>{const{value:r}=t.target,{maxLength:s,onInputExceed:i,separator:a}=this.getProps();if(!Qt(s))return;this._adapter.setEntering(!1);let o=!0;const l=og(r,a);let u=0;for(;u<l.length;u++)if(l[u].length>s){o=!1,De(i)&&i(r);break}if(o)this._adapter.setInputValue(r);else{const d=l.slice(0,u);u<l.length&&d.push(l[u].slice(0,s)),this._adapter.setInputValue(d.join(a))}},this._checkInputChangeValid=t=>{const{maxLength:r,onInputExceed:s,separator:i}=this._adapter.getProps(),{inputValue:a}=this._adapter.getStates();let o=!0;if(Qt(r)){const l=og(t,i),u=og(a,i),d=Math.max(l.length,u.length);for(let h=0;h<d;h++)if(!bt(l[h])&&(bt(u[h])||l[h].length>u[h].length)&&l[h].length>r){o=!1,De(s)&&s(t);break}}return o},this.handleKeyDown=t=>{const{inputValue:r,tagsArray:s}=this._adapter.getStates(),i=t.keyCode;i===Xn.ENTER&&(t.preventDefault(),r!==""&&this._handleAddTags(t));const{length:a}=s;if(i===Xn.BACKSPACE&&r===""&&a>0){const o=s.slice(0,a-1),l=s[a-1];this._onRemove(o,l,a-1)}this._adapter.notifyKeyDown(t)}}_handleAddTags(e){const{separator:t,max:r,onExceed:s,allowDuplicates:i}=this._adapter.getProps(),{inputValue:a,tagsArray:o}=this._adapter.getStates();let l=og(a,t);l=l.filter((d,h)=>!i&&(o.includes(d)||l.indexOf(d)!==h)?!1:Re(d)&&d.trim()!=="");let u=o.concat(l);Qt(r)&&u.length>r&&(De(s)&&s(u),u=u.slice(0,r),l=l.slice(0,r-o.length)),l.length>0&&this._onAdd(u,l),this._onInputChange("",e)}handleInputBlur(e){const{addOnBlur:t}=this._adapter.getProps();t===!0&&this._handleAddTags(e),this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputFocus(e){this._adapter.setFocusing(!0),this._adapter.notifyFocus(e)}handleClearEnterPress(e){Ks(e)&&this.handleClearBtn(e)}handleClearBtn(e){const{inputValue:t,tagsArray:r}=this._adapter.getStates();r.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),t.length>0&&this._onInputChange("",e),e.stopPropagation()}handleTagClose(e){const{tagsArray:t}=this._adapter.getStates(),r=[...t];r.splice(e,1);const s=t[e];this._onRemove(r,s,e)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(e){const{disabled:t}=this.getProps();if(t)return;this._adapter.getClickOutsideHandler()||(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(s=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&this._adapter.toggleFocusing(!0)}handlePreventMouseDown(e){e&&De(e.preventDefault)&&e.preventDefault()}_onRemove(e,t,r){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagRemove(t,r)}_onAdd(e,t){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagAdd(t)}_onInputChange(e,t){this._adapter.setInputValue(e),this._adapter.notifyInputChange(e,t)}handleSortEnd(e){const{oldIndex:t,newIndex:r}=e,{tagsArray:s}=this.getStates(),i=hle(s,t,r);this._isControlledComponent()||this._adapter.setTagsArray(i),this._adapter.notifyTagChange(i)}}function ple(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return D.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ld(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function uT(n){return"nodeType"in n}function Dr(n){var e,t;return n?ld(n)?n:uT(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function cT(n){const{Document:e}=Dr(n);return n instanceof e}function Qf(n){return ld(n)?!1:n instanceof Dr(n).HTMLElement}function c$(n){return n instanceof Dr(n).SVGElement}function ud(n){return n?ld(n)?n.document:uT(n)?cT(n)?n:Qf(n)||c$(n)?n.ownerDocument:document:document:document}const fi=Py?D.useLayoutEffect:D.useEffect;function xy(n){const e=D.useRef(n);return fi(()=>{e.current=n}),D.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function gle(){const n=D.useRef(null),e=D.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=D.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function tf(n,e){e===void 0&&(e=[n]);const t=D.useRef(n);return fi(()=>{t.current!==n&&(t.current=n)},e),t}function Zf(n,e){const t=D.useRef();return D.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function rv(n){const e=xy(n),t=D.useRef(null),r=D.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function sv(n){const e=D.useRef();return D.useEffect(()=>{e.current=n},[n]),e.current}let Cb={};function Jf(n,e){return D.useMemo(()=>{if(e)return e;const t=Cb[n]==null?0:Cb[n]+1;return Cb[n]=t,n+"-"+t},[n,e])}function d$(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((i,a)=>{const o=Object.entries(a);for(const[l,u]of o){const d=i[l];d!=null&&(i[l]=d+n*u)}return i},{...e})}}const fc=d$(1),nf=d$(-1);function mle(n){return"clientX"in n&&"clientY"in n}function Ry(n){if(!n)return!1;const{KeyboardEvent:e}=Dr(n.target);return e&&n instanceof e}function vle(n){if(!n)return!1;const{TouchEvent:e}=Dr(n.target);return e&&n instanceof e}function iv(n){if(vle(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return mle(n)?{x:n.clientX,y:n.clientY}:null}const $o=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[$o.Translate.toString(n),$o.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),Nx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function yle(n){return n.matches(Nx)?n:n.querySelector(Nx)}const _le={display:"none"};function ble(n){let{id:e,value:t}=n;return v.createElement("div",{id:e,style:_le},t)}function wle(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return v.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function Ele(){const[n,e]=D.useState("");return{announce:D.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const h$=D.createContext(null);function Sle(n){const e=D.useContext(h$);D.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Cle(){const[n]=D.useState(()=>new Set),e=D.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[D.useCallback(r=>{let{type:s,event:i}=r;n.forEach(a=>{var o;return(o=a[s])==null?void 0:o.call(a,i)})},[n]),e]}const Tle={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ile={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Ole(n){let{announcements:e=Ile,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=Tle}=n;const{announce:i,announcement:a}=Ele(),o=Jf("DndLiveRegion"),[l,u]=D.useState(!1);if(D.useEffect(()=>{u(!0)},[]),Sle(D.useMemo(()=>({onDragStart(h){let{active:f}=h;i(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:g}=h;e.onDragMove&&i(e.onDragMove({active:f,over:g}))},onDragOver(h){let{active:f,over:g}=h;i(e.onDragOver({active:f,over:g}))},onDragEnd(h){let{active:f,over:g}=h;i(e.onDragEnd({active:f,over:g}))},onDragCancel(h){let{active:f,over:g}=h;i(e.onDragCancel({active:f,over:g}))}}),[i,e])),!l)return null;const d=v.createElement(v.Fragment,null,v.createElement(ble,{id:r,value:s.draggable}),v.createElement(wle,{id:o,announcement:a}));return t?Ls.createPortal(d,t):d}var An;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(An||(An={}));function av(){}function Tb(n,e){return D.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Ple(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return D.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const pi=Object.freeze({x:0,y:0});function f$(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function xle(n,e){const t=iv(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function p$(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function Rle(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function Mx(n){let{left:e,top:t,height:r,width:s}=n;return[{x:e,y:t},{x:e+s,y:t},{x:e,y:t+r},{x:e+s,y:t+r}]}function g$(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Lx(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Ale=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=Lx(e,e.left,e.top),i=[];for(const a of r){const{id:o}=a,l=t.get(o);if(l){const u=f$(Lx(l),s);i.push({id:o,data:{droppableContainer:a,value:u}})}}return i.sort(p$)},Dle=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=Mx(e),i=[];for(const a of r){const{id:o}=a,l=t.get(o);if(l){const u=Mx(l),d=s.reduce((f,g,b)=>f+f$(u[b],g),0),h=Number((d/4).toFixed(4));i.push({id:o,data:{droppableContainer:a,value:h}})}}return i.sort(p$)};function kle(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),i=Math.min(e.top+e.height,n.top+n.height),a=s-r,o=i-t;if(r<s&&t<i){const l=e.width*e.height,u=n.width*n.height,d=a*o,h=d/(l+u-d);return Number(h.toFixed(4))}return 0}const Nle=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const i of r){const{id:a}=i,o=t.get(a);if(o){const l=kle(o,e);l>0&&s.push({id:a,data:{droppableContainer:i,value:l}})}}return s.sort(Rle)};function Mle(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function m$(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:pi}function Lle(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((a,o)=>({...a,top:a.top+n*o.y,bottom:a.bottom+n*o.y,left:a.left+n*o.x,right:a.right+n*o.x}),{...t})}}const $le=Lle(1);function v$(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Fle(n,e,t){const r=v$(e);if(!r)return n;const{scaleX:s,scaleY:i,x:a,y:o}=r,l=n.left-a-(1-s)*parseFloat(t),u=n.top-o-(1-i)*parseFloat(t.slice(t.indexOf(" ")+1)),d=s?n.width/s:n.width,h=i?n.height/i:n.height;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l}}const Vle={ignoreTransform:!1};function cd(n,e){e===void 0&&(e=Vle);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=Dr(n).getComputedStyle(n);u&&(t=Fle(t,u,d))}const{top:r,left:s,width:i,height:a,bottom:o,right:l}=t;return{top:r,left:s,width:i,height:a,bottom:o,right:l}}function $x(n){return cd(n,{ignoreTransform:!0})}function jle(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Ule(n,e){return e===void 0&&(e=Dr(n).getComputedStyle(n)),e.position==="fixed"}function Ble(n,e){e===void 0&&(e=Dr(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?t.test(i):!1})}function Ay(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(cT(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!Qf(s)||c$(s)||t.includes(s))return t;const i=Dr(n).getComputedStyle(s);return s!==n&&Ble(s,i)&&t.push(s),Ule(s,i)?t:r(s.parentNode)}return n?r(n):t}function y$(n){const[e]=Ay(n,1);return e??null}function Ib(n){return!Py||!n?null:ld(n)?n:uT(n)?cT(n)||n===ud(n).scrollingElement?window:Qf(n)?n:null:null}function _$(n){return ld(n)?n.scrollX:n.scrollLeft}function b$(n){return ld(n)?n.scrollY:n.scrollTop}function kw(n){return{x:_$(n),y:b$(n)}}var Un;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Un||(Un={}));function w$(n){return!Py||!n?!1:n===document.scrollingElement}function E$(n){const e={x:0,y:0},t=w$(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,i=n.scrollLeft<=e.x,a=n.scrollTop>=r.y,o=n.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:a,isRight:o,maxScroll:r,minScroll:e}}const Hle={x:.2,y:.2};function zle(n,e,t,r,s){let{top:i,left:a,right:o,bottom:l}=t;r===void 0&&(r=10),s===void 0&&(s=Hle);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=E$(n),g={x:0,y:0},b={x:0,y:0},y={height:e.height*s.y,width:e.width*s.x};return!u&&i<=e.top+y.height?(g.y=Un.Backward,b.y=r*Math.abs((e.top+y.height-i)/y.height)):!d&&l>=e.bottom-y.height&&(g.y=Un.Forward,b.y=r*Math.abs((e.bottom-y.height-l)/y.height)),!f&&o>=e.right-y.width?(g.x=Un.Forward,b.x=r*Math.abs((e.right-y.width-o)/y.width)):!h&&a<=e.left+y.width&&(g.x=Un.Backward,b.x=r*Math.abs((e.left+y.width-a)/y.width)),{direction:g,speed:b}}function Kle(n){if(n===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function S$(n){return n.reduce((e,t)=>fc(e,kw(t)),pi)}function Wle(n){return n.reduce((e,t)=>e+_$(t),0)}function Gle(n){return n.reduce((e,t)=>e+b$(t),0)}function C$(n,e){if(e===void 0&&(e=cd),!n)return;const{top:t,left:r,bottom:s,right:i}=e(n);y$(n)&&(s<=0||i<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Yle=[["x",["left","right"],Wle],["y",["top","bottom"],Gle]];class dT{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Ay(t),s=S$(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,a,o]of Yle)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=o(r),d=s[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _h{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function qle(n){const{EventTarget:e}=Dr(n);return n instanceof e?n:ud(n)}function Ob(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Ps;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Ps||(Ps={}));function Fx(n){n.preventDefault()}function Xle(n){n.stopPropagation()}var Ge;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Ge||(Ge={}));const T$={start:[Ge.Space,Ge.Enter],cancel:[Ge.Esc],end:[Ge.Space,Ge.Enter,Ge.Tab]},Qle=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Ge.Right:return{...t,x:t.x+25};case Ge.Left:return{...t,x:t.x-25};case Ge.Down:return{...t,y:t.y+25};case Ge.Up:return{...t,y:t.y-25}}};class hT{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new _h(ud(t)),this.windowListeners=new _h(Dr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ps.Resize,this.handleCancel),this.windowListeners.add(Ps.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ps.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&C$(r),t(pi)}handleKeyDown(e){if(Ry(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:i=T$,coordinateGetter:a=Qle,scrollBehavior:o="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:pi;this.referenceCoordinates||(this.referenceCoordinates=d);const h=a(e,{active:t,context:r.current,currentCoordinates:d});if(h){const f=nf(h,d),g={x:0,y:0},{scrollableAncestors:b}=r.current;for(const y of b){const _=e.code,{isTop:m,isRight:E,isLeft:w,isBottom:S,maxScroll:O,minScroll:x}=E$(y),I=Kle(y),T={x:Math.min(_===Ge.Right?I.right-I.width/2:I.right,Math.max(_===Ge.Right?I.left:I.left+I.width/2,h.x)),y:Math.min(_===Ge.Down?I.bottom-I.height/2:I.bottom,Math.max(_===Ge.Down?I.top:I.top+I.height/2,h.y))},P=_===Ge.Right&&!E||_===Ge.Left&&!w,A=_===Ge.Down&&!S||_===Ge.Up&&!m;if(P&&T.x!==h.x){const k=y.scrollLeft+f.x,L=_===Ge.Right&&k<=O.x||_===Ge.Left&&k>=x.x;if(L&&!f.y){y.scrollTo({left:k,behavior:o});return}L?g.x=y.scrollLeft-k:g.x=_===Ge.Right?y.scrollLeft-O.x:y.scrollLeft-x.x,g.x&&y.scrollBy({left:-g.x,behavior:o});break}else if(A&&T.y!==h.y){const k=y.scrollTop+f.y,L=_===Ge.Down&&k<=O.y||_===Ge.Up&&k>=x.y;if(L&&!f.x){y.scrollTo({top:k,behavior:o});return}L?g.y=y.scrollTop-k:g.y=_===Ge.Down?y.scrollTop-O.y:y.scrollTop-x.y,g.y&&y.scrollBy({top:-g.y,behavior:o});break}}this.handleMove(e,fc(nf(h,this.referenceCoordinates),g))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hT.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=T$,onActivation:s}=e,{active:i}=t;const{code:a}=n.nativeEvent;if(r.start.includes(a)){const o=i.activatorNode.current;return o&&n.target!==o?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function Vx(n){return!!(n&&"distance"in n)}function jx(n){return!!(n&&"delay"in n)}class fT{constructor(e,t,r){var s;r===void 0&&(r=qle(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:a}=i;this.props=e,this.events=t,this.document=ud(a),this.documentListeners=new _h(this.document),this.listeners=new _h(r),this.windowListeners=new _h(Dr(a)),this.initialCoordinates=(s=iv(i))!=null?s:pi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ps.Resize,this.handleCancel),this.windowListeners.add(Ps.DragStart,Fx),this.windowListeners.add(Ps.VisibilityChange,this.handleCancel),this.windowListeners.add(Ps.ContextMenu,Fx),this.documentListeners.add(Ps.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(jx(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Vx(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ps.Click,Xle,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ps.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!s)return;const l=(t=iv(e))!=null?t:pi,u=nf(s,l);if(!r&&o){if(Vx(o)){if(o.tolerance!=null&&Ob(u,o.tolerance))return this.handleCancel();if(Ob(u,o.distance))return this.handleStart()}if(jx(o)&&Ob(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ge.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Zle={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class I$ extends fT{constructor(e){const{event:t}=e,r=ud(t.target);super(e,Zle,r)}}I$.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const Jle={move:{name:"mousemove"},end:{name:"mouseup"}};var Nw;(function(n){n[n.RightClick=2]="RightClick"})(Nw||(Nw={}));class O$ extends fT{constructor(e){super(e,Jle,ud(e.event.target))}}O$.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===Nw.RightClick?!1:(r==null||r({event:t}),!0)}}];const Pb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class P$ extends fT{constructor(e){super(e,Pb)}static setup(){return window.addEventListener(Pb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Pb.move.name,e)};function e(){}}}P$.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var bh;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(bh||(bh={}));var rf;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(rf||(rf={}));function eue(n){let{acceleration:e,activator:t=bh.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:a=5,order:o=rf.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=n;const g=nue({delta:h,disabled:!i}),[b,y]=gle(),_=D.useRef({x:0,y:0}),m=D.useRef({x:0,y:0}),E=D.useMemo(()=>{switch(t){case bh.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case bh.DraggableRect:return s}},[t,s,l]),w=D.useRef(null),S=D.useCallback(()=>{const x=w.current;if(!x)return;const I=_.current.x*m.current.x,T=_.current.y*m.current.y;x.scrollBy(I,T)},[]),O=D.useMemo(()=>o===rf.TreeOrder?[...u].reverse():u,[o,u]);D.useEffect(()=>{if(!i||!u.length||!E){y();return}for(const x of O){if((r==null?void 0:r(x))===!1)continue;const I=u.indexOf(x),T=d[I];if(!T)continue;const{direction:P,speed:A}=zle(x,T,E,e,f);for(const k of["x","y"])g[k][P[k]]||(A[k]=0,P[k]=0);if(A.x>0||A.y>0){y(),w.current=x,b(S,a),_.current=A,m.current=P;return}}_.current={x:0,y:0},m.current={x:0,y:0},y()},[e,S,r,y,i,a,JSON.stringify(E),JSON.stringify(g),b,u,O,d,JSON.stringify(f)])}const tue={x:{[Un.Backward]:!1,[Un.Forward]:!1},y:{[Un.Backward]:!1,[Un.Forward]:!1}};function nue(n){let{delta:e,disabled:t}=n;const r=sv(e);return Zf(s=>{if(t||!r||!s)return tue;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Un.Backward]:s.x[Un.Backward]||i.x===-1,[Un.Forward]:s.x[Un.Forward]||i.x===1},y:{[Un.Backward]:s.y[Un.Backward]||i.y===-1,[Un.Forward]:s.y[Un.Forward]||i.y===1}}},[t,e,r])}function rue(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Zf(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function sue(n,e){return D.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,i=s.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...t,...i]},[]),[n,e])}var sf;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(sf||(sf={}));var Mw;(function(n){n.Optimized="optimized"})(Mw||(Mw={}));const Ux=new Map;function iue(n,e){let{dragging:t,dependencies:r,config:s}=e;const[i,a]=D.useState(null),{frequency:o,measure:l,strategy:u}=s,d=D.useRef(n),h=_(),f=tf(h),g=D.useCallback(function(m){m===void 0&&(m=[]),!f.current&&a(E=>E===null?m:E.concat(m.filter(w=>!E.includes(w))))},[f]),b=D.useRef(null),y=Zf(m=>{if(h&&!t)return Ux;if(!m||m===Ux||d.current!==n||i!=null){const E=new Map;for(let w of n){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){E.set(w.id,w.rect.current);continue}const S=w.node.current,O=S?new dT(l(S),S):null;w.rect.current=O,O&&E.set(w.id,O)}return E}return m},[n,i,t,h,l]);return D.useEffect(()=>{d.current=n},[n]),D.useEffect(()=>{h||g()},[t,h]),D.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),D.useEffect(()=>{h||typeof o!="number"||b.current!==null||(b.current=setTimeout(()=>{g(),b.current=null},o))},[o,h,g,...r]),{droppableRects:y,measureDroppableContainers:g,measuringScheduled:i!=null};function _(){switch(u){case sf.Always:return!1;case sf.BeforeDragging:return t;default:return!t}}}function pT(n,e){return Zf(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function aue(n,e){return pT(n,e)}function oue(n){let{callback:e,disabled:t}=n;const r=xy(e),s=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,t]);return D.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Dy(n){let{callback:e,disabled:t}=n;const r=xy(e),s=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[t]);return D.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function lue(n){return new dT(cd(n),n)}function Bx(n,e,t){e===void 0&&(e=lue);const[r,s]=D.useState(null);function i(){s(l=>{if(!n)return null;if(n.isConnected===!1){var u;return(u=l??t)!=null?u:null}const d=e(n);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const a=oue({callback(l){if(n)for(const u of l){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(n)){i();break}}}}),o=Dy({callback:i});return fi(()=>{i(),n?(o==null||o.observe(n),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),a==null||a.disconnect())},[n]),r}function uue(n){const e=pT(n);return m$(n,e)}const Hx=[];function cue(n){const e=D.useRef(n),t=Zf(r=>n?r&&r!==Hx&&n&&e.current&&n.parentNode===e.current.parentNode?r:Ay(n):Hx,[n]);return D.useEffect(()=>{e.current=n},[n]),t}function due(n){const[e,t]=D.useState(null),r=D.useRef(n),s=D.useCallback(i=>{const a=Ib(i.target);a&&t(o=>o?(o.set(a,kw(a)),new Map(o)):null)},[]);return D.useEffect(()=>{const i=r.current;if(n!==i){a(i);const o=n.map(l=>{const u=Ib(l);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,kw(u)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),r.current=n}return()=>{a(n),a(i)};function a(o){o.forEach(l=>{const u=Ib(l);u==null||u.removeEventListener("scroll",s)})}},[s,n]),D.useMemo(()=>n.length?e?Array.from(e.values()).reduce((i,a)=>fc(i,a),pi):S$(n):pi,[n,e])}function zx(n,e){e===void 0&&(e=[]);const t=D.useRef(null);return D.useEffect(()=>{t.current=null},e),D.useEffect(()=>{const r=n!==pi;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?nf(n,t.current):pi}function hue(n){D.useEffect(()=>{if(!Py)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function fue(n,e){return D.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:i}=r;return t[s]=a=>{i(a,e)},t},{}),[n,e])}function x$(n){return D.useMemo(()=>n?jle(n):null,[n])}const Kx=[];function pue(n,e){e===void 0&&(e=cd);const[t]=n,r=x$(t?Dr(t):null),[s,i]=D.useState(Kx);function a(){i(()=>n.length?n.map(l=>w$(l)?r:new dT(e(l),l)):Kx)}const o=Dy({callback:a});return fi(()=>{o==null||o.disconnect(),a(),n.forEach(l=>o==null?void 0:o.observe(l))},[n]),s}function R$(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Qf(e)?e:n}function gue(n){let{measure:e}=n;const[t,r]=D.useState(null),s=D.useCallback(u=>{for(const{target:d}of u)if(Qf(d)){r(h=>{const f=e(d);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),i=Dy({callback:s}),a=D.useCallback(u=>{const d=R$(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?e(d):null)},[e,i]),[o,l]=rv(a);return D.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const mue=[{sensor:I$,options:{}},{sensor:hT,options:{}}],vue={current:{}},Bg={draggable:{measure:$x},droppable:{measure:$x,strategy:sf.WhileDragging,frequency:Mw.Optimized},dragOverlay:{measure:cd}};class wh extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const yue={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new wh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:av},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bg,measureDroppableContainers:av,windowRect:null,measuringScheduled:!1},A$={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:av,draggableNodes:new Map,over:null,measureDroppableContainers:av},ep=D.createContext(A$),D$=D.createContext(yue);function _ue(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new wh}}}function bue(n,e){switch(e.type){case An.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case An.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case An.DragEnd:case An.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case An.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new wh(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case An.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const a=new wh(n.droppable.containers);return a.set(t,{...i,disabled:s}),{...n,droppable:{...n.droppable,containers:a}}}case An.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const i=new wh(n.droppable.containers);return i.delete(t),{...n,droppable:{...n.droppable,containers:i}}}default:return n}}function wue(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=D.useContext(ep),i=sv(r),a=sv(t==null?void 0:t.id);return D.useEffect(()=>{if(!e&&!r&&i&&a!=null){if(!Ry(i)||document.activeElement===i.target)return;const o=s.get(a);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const h=yle(d);if(h){h.focus();break}}})}},[r,e,s,a,i]),null}function k$(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,i)=>i({transform:s,...r}),t):t}function Eue(n){return D.useMemo(()=>({draggable:{...Bg.draggable,...n==null?void 0:n.draggable},droppable:{...Bg.droppable,...n==null?void 0:n.droppable},dragOverlay:{...Bg.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function Sue(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const i=D.useRef(!1),{x:a,y:o}=typeof s=="boolean"?{x:s,y:s}:s;fi(()=>{if(!a&&!o||!e){i.current=!1;return}if(i.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=t(u),h=m$(d,r);if(a||(h.x=0),o||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=y$(u);f&&f.scrollBy({top:h.y,left:h.x})}},[e,a,o,r,t])}const ky=D.createContext({...pi,scaleX:1,scaleY:1});var no;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(no||(no={}));const Cue=D.memo(function(e){var t,r,s,i;let{id:a,accessibility:o,autoScroll:l=!0,children:u,sensors:d=mue,collisionDetection:h=Nle,measuring:f,modifiers:g,...b}=e;const y=D.useReducer(bue,void 0,_ue),[_,m]=y,[E,w]=Cle(),[S,O]=D.useState(no.Uninitialized),x=S===no.Initialized,{draggable:{active:I,nodes:T,translate:P},droppable:{containers:A}}=_,k=I!=null?T.get(I):null,L=D.useRef({initial:null,translated:null}),N=D.useMemo(()=>{var mt;return I!=null?{id:I,data:(mt=k==null?void 0:k.data)!=null?mt:vue,rect:L}:null},[I,k]),K=D.useRef(null),[G,z]=D.useState(null),[ee,V]=D.useState(null),H=tf(b,Object.values(b)),U=Jf("DndDescribedBy",a),ae=D.useMemo(()=>A.getEnabled(),[A]),ne=Eue(f),{droppableRects:re,measureDroppableContainers:de,measuringScheduled:be}=iue(ae,{dragging:x,dependencies:[P.x,P.y],config:ne.droppable}),ve=rue(T,I),ge=D.useMemo(()=>ee?iv(ee):null,[ee]),pe=Jr(),te=aue(ve,ne.draggable.measure);Sue({activeNode:I!=null?T.get(I):null,config:pe.layoutShiftCompensation,initialRect:te,measure:ne.draggable.measure});const le=Bx(ve,ne.draggable.measure,te),ut=Bx(ve?ve.parentElement:null),St=D.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Zt=A.getNodeFor((t=St.current.over)==null?void 0:t.id),pt=gue({measure:ne.dragOverlay.measure}),mn=(r=pt.nodeRef.current)!=null?r:ve,gt=x?(s=pt.rect)!=null?s:le:null,Wn=!!(pt.nodeRef.current&&pt.rect),Nr=uue(Wn?null:le),_i=x$(mn?Dr(mn):null),$t=cue(x?Zt??ve:null),Ln=pue($t),_s=k$(g,{transform:{x:P.x-Nr.x,y:P.y-Nr.y,scaleX:1,scaleY:1},activatorEvent:ee,active:N,activeNodeRect:le,containerNodeRect:ut,draggingNodeRect:gt,over:St.current.over,overlayNodeRect:pt.rect,scrollableAncestors:$t,scrollableAncestorRects:Ln,windowRect:_i}),Mr=ge?fc(ge,P):null,bs=due($t),ea=zx(bs),Jt=zx(bs,[le]),Dt=fc(_s,ea),vn=gt?$le(gt,_s):null,Tn=N&&vn?h({active:N,collisionRect:vn,droppableRects:re,droppableContainers:ae,pointerCoordinates:Mr}):null,sr=g$(Tn,"id"),[$n,ir]=D.useState(null),Lr=Wn?_s:fc(_s,Jt),ws=Mle(Lr,(i=$n==null?void 0:$n.rect)!=null?i:null,le),yn=D.useRef(null),Qr=D.useCallback((mt,Kt)=>{let{sensor:ht,options:en}=Kt;if(K.current==null)return;const Ft=T.get(K.current);if(!Ft)return;const Wt=mt.nativeEvent,_n=new ht({active:K.current,activeNode:Ft,event:Wt,options:en,context:St,onAbort(je){if(!T.get(je))return;const{onDragAbort:_e}=H.current,Me={id:je};_e==null||_e(Me),E({type:"onDragAbort",event:Me})},onPending(je,es,_e,Me){if(!T.get(je))return;const{onDragPending:et}=H.current,Ct={id:je,constraint:es,initialCoordinates:_e,offset:Me};et==null||et(Ct),E({type:"onDragPending",event:Ct})},onStart(je){const es=K.current;if(es==null)return;const _e=T.get(es);if(!_e)return;const{onDragStart:Me}=H.current,Vt={activatorEvent:Wt,active:{id:es,data:_e.data,rect:L}};Ls.unstable_batchedUpdates(()=>{Me==null||Me(Vt),O(no.Initializing),m({type:An.DragStart,initialCoordinates:je,active:es}),E({type:"onDragStart",event:Vt}),z(yn.current),V(Wt)})},onMove(je){m({type:An.DragMove,coordinates:je})},onEnd:Ss(An.DragEnd),onCancel:Ss(An.DragCancel)});yn.current=_n;function Ss(je){return async function(){const{active:_e,collisions:Me,over:Vt,scrollAdjustedTranslate:et}=St.current;let Ct=null;if(_e&&et){const{cancelDrop:Tt}=H.current;Ct={activatorEvent:Wt,active:_e,collisions:Me,delta:et,over:Vt},je===An.DragEnd&&typeof Tt=="function"&&await Promise.resolve(Tt(Ct))&&(je=An.DragCancel)}K.current=null,Ls.unstable_batchedUpdates(()=>{m({type:je}),O(no.Uninitialized),ir(null),z(null),V(null),yn.current=null;const Tt=je===An.DragEnd?"onDragEnd":"onDragCancel";if(Ct){const xt=H.current[Tt];xt==null||xt(Ct),E({type:Tt,event:Ct})}})}}},[T]),bi=D.useCallback((mt,Kt)=>(ht,en)=>{const Ft=ht.nativeEvent,Wt=T.get(en);if(K.current!==null||!Wt||Ft.dndKit||Ft.defaultPrevented)return;const _n={active:Wt};mt(ht,Kt.options,_n)===!0&&(Ft.dndKit={capturedBy:Kt.sensor},K.current=en,Qr(ht,Kt))},[T,Qr]),Es=sue(d,bi);hue(d),fi(()=>{le&&S===no.Initializing&&O(no.Initialized)},[le,S]),D.useEffect(()=>{const{onDragMove:mt}=H.current,{active:Kt,activatorEvent:ht,collisions:en,over:Ft}=St.current;if(!Kt||!ht)return;const Wt={active:Kt,activatorEvent:ht,collisions:en,delta:{x:Dt.x,y:Dt.y},over:Ft};Ls.unstable_batchedUpdates(()=>{mt==null||mt(Wt),E({type:"onDragMove",event:Wt})})},[Dt.x,Dt.y]),D.useEffect(()=>{const{active:mt,activatorEvent:Kt,collisions:ht,droppableContainers:en,scrollAdjustedTranslate:Ft}=St.current;if(!mt||K.current==null||!Kt||!Ft)return;const{onDragOver:Wt}=H.current,_n=en.get(sr),Ss=_n&&_n.rect.current?{id:_n.id,rect:_n.rect.current,data:_n.data,disabled:_n.disabled}:null,je={active:mt,activatorEvent:Kt,collisions:ht,delta:{x:Ft.x,y:Ft.y},over:Ss};Ls.unstable_batchedUpdates(()=>{ir(Ss),Wt==null||Wt(je),E({type:"onDragOver",event:je})})},[sr]),fi(()=>{St.current={activatorEvent:ee,active:N,activeNode:ve,collisionRect:vn,collisions:Tn,droppableRects:re,draggableNodes:T,draggingNode:mn,draggingNodeRect:gt,droppableContainers:A,over:$n,scrollableAncestors:$t,scrollAdjustedTranslate:Dt},L.current={initial:gt,translated:vn}},[N,ve,Tn,vn,T,mn,gt,re,A,$n,$t,Dt]),eue({...pe,delta:P,draggingRect:vn,pointerCoordinates:Mr,scrollableAncestors:$t,scrollableAncestorRects:Ln});const wi=D.useMemo(()=>({active:N,activeNode:ve,activeNodeRect:le,activatorEvent:ee,collisions:Tn,containerNodeRect:ut,dragOverlay:pt,draggableNodes:T,droppableContainers:A,droppableRects:re,over:$n,measureDroppableContainers:de,scrollableAncestors:$t,scrollableAncestorRects:Ln,measuringConfiguration:ne,measuringScheduled:be,windowRect:_i}),[N,ve,le,ee,Tn,ut,pt,T,A,re,$n,de,$t,Ln,ne,be,_i]),Zr=D.useMemo(()=>({activatorEvent:ee,activators:Es,active:N,activeNodeRect:le,ariaDescribedById:{draggable:U},dispatch:m,draggableNodes:T,over:$n,measureDroppableContainers:de}),[ee,Es,N,le,m,U,T,$n,de]);return v.createElement(h$.Provider,{value:w},v.createElement(ep.Provider,{value:Zr},v.createElement(D$.Provider,{value:wi},v.createElement(ky.Provider,{value:ws},u)),v.createElement(wue,{disabled:(o==null?void 0:o.restoreFocus)===!1})),v.createElement(Ole,{...o,hiddenTextDescribedById:U}));function Jr(){const mt=(G==null?void 0:G.autoScrollEnabled)===!1,Kt=typeof l=="object"?l.enabled===!1:l===!1,ht=x&&!mt&&!Kt;return typeof l=="object"?{...l,enabled:ht}:{enabled:ht}}}),Tue=D.createContext(null),Wx="button",Iue="Draggable";function Oue(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const i=Jf(Iue),{activators:a,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=D.useContext(ep),{role:g=Wx,roleDescription:b="draggable",tabIndex:y=0}=s??{},_=(l==null?void 0:l.id)===e,m=D.useContext(_?ky:Tue),[E,w]=rv(),[S,O]=rv(),x=fue(a,e),I=tf(t);fi(()=>(h.set(e,{id:e,key:i,node:E,activatorNode:S,data:I}),()=>{const P=h.get(e);P&&P.key===i&&h.delete(e)}),[h,e]);const T=D.useMemo(()=>({role:g,tabIndex:y,"aria-disabled":r,"aria-pressed":_&&g===Wx?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[r,g,y,_,b,d.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:T,isDragging:_,listeners:r?void 0:x,node:E,over:f,setNodeRef:w,setActivatorNodeRef:O,transform:m}}function N$(){return D.useContext(D$)}const Pue="Droppable",xue={timeout:25};function Rue(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const i=Jf(Pue),{active:a,dispatch:o,over:l,measureDroppableContainers:u}=D.useContext(ep),d=D.useRef({disabled:t}),h=D.useRef(!1),f=D.useRef(null),g=D.useRef(null),{disabled:b,updateMeasurementsFor:y,timeout:_}={...xue,...s},m=tf(y??r),E=D.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(m.current)?m.current:[m.current]),g.current=null},_)},[_]),w=Dy({callback:E,disabled:b||!a}),S=D.useCallback((T,P)=>{w&&(P&&(w.unobserve(P),h.current=!1),T&&w.observe(T))},[w]),[O,x]=rv(S),I=tf(e);return D.useEffect(()=>{!w||!O.current||(w.disconnect(),h.current=!1,w.observe(O.current))},[O,w]),D.useEffect(()=>(o({type:An.RegisterDroppable,element:{id:r,key:i,disabled:t,node:O,rect:f,data:I}}),()=>o({type:An.UnregisterDroppable,key:i,id:r})),[r]),D.useEffect(()=>{t!==d.current.disabled&&(o({type:An.SetDroppableDisabled,id:r,key:i,disabled:t}),d.current.disabled=t)},[r,i,t,o]),{active:a,rect:f,isOver:(l==null?void 0:l.id)===r,node:O,over:l,setNodeRef:x}}function Aue(n){let{animation:e,children:t}=n;const[r,s]=D.useState(null),[i,a]=D.useState(null),o=sv(t);return!t&&!r&&o&&s(o),fi(()=>{if(!i)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){s(null);return}Promise.resolve(e(u,i)).then(()=>{s(null)})},[e,r,i]),v.createElement(v.Fragment,null,t,r?D.cloneElement(r,{ref:a}):null)}const Due={x:0,y:0,scaleX:1,scaleY:1};function kue(n){let{children:e}=n;return v.createElement(ep.Provider,{value:A$},v.createElement(ky.Provider,{value:Due},e))}const Nue={position:"fixed",touchAction:"none"},Mue=n=>Ry(n)?"transform 250ms ease":void 0,Lue=D.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:s,children:i,className:a,rect:o,style:l,transform:u,transition:d=Mue}=n;if(!o)return null;const h=s?u:{...u,scaleX:1,scaleY:1},f={...Nue,width:o.width,height:o.height,top:o.top,left:o.left,transform:$o.Transform.toString(h),transformOrigin:s&&r?xle(r,o):void 0,transition:typeof d=="function"?d(r):d,...l};return v.createElement(t,{className:a,style:f,ref:e},i)}),$ue=n=>e=>{let{active:t,dragOverlay:r}=e;const s={},{styles:i,className:a}=n;if(i!=null&&i.active)for(const[o,l]of Object.entries(i.active))l!==void 0&&(s[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(i!=null&&i.dragOverlay)for(const[o,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(o,l);return a!=null&&a.active&&t.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(s))t.node.style.setProperty(l,u);a!=null&&a.active&&t.node.classList.remove(a.active)}},Fue=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:$o.Transform.toString(e)},{transform:$o.Transform.toString(t)}]},Vue={duration:250,easing:"ease",keyframes:Fue,sideEffects:$ue({styles:{active:{opacity:"0"}}})};function jue(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:s}=n;return xy((i,a)=>{if(e===null)return;const o=t.get(i);if(!o)return;const l=o.node.current;if(!l)return;const u=R$(a);if(!u)return;const{transform:d}=Dr(a).getComputedStyle(a),h=v$(d);if(!h)return;const f=typeof e=="function"?e:Uue(e);return C$(l,s.draggable.measure),f({active:{id:i,data:o.data,node:l,rect:s.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:a,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function Uue(n){const{duration:e,easing:t,sideEffects:r,keyframes:s}={...Vue,...n};return i=>{let{active:a,dragOverlay:o,transform:l,...u}=i;if(!e)return;const d={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},h={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/o.rect.height:1},f={x:l.x-d.x,y:l.y-d.y,...h},g=s({...u,active:a,dragOverlay:o,transform:{initial:l,final:f}}),[b]=g,y=g[g.length-1];if(JSON.stringify(b)===JSON.stringify(y))return;const _=r==null?void 0:r({active:a,dragOverlay:o,...u}),m=o.node.animate(g,{duration:e,easing:t,fill:"forwards"});return new Promise(E=>{m.onfinish=()=>{_==null||_(),E()}})}}let Gx=0;function Bue(n){return D.useMemo(()=>{if(n!=null)return Gx++,Gx},[n])}const Hue=v.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:s,transition:i,modifiers:a,wrapperElement:o="div",className:l,zIndex:u=999}=n;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:g,draggableNodes:b,droppableContainers:y,dragOverlay:_,over:m,measuringConfiguration:E,scrollableAncestors:w,scrollableAncestorRects:S,windowRect:O}=N$(),x=D.useContext(ky),I=Bue(h==null?void 0:h.id),T=k$(a,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:g,draggingNodeRect:_.rect,over:m,overlayNodeRect:_.rect,scrollableAncestors:w,scrollableAncestorRects:S,transform:x,windowRect:O}),P=pT(f),A=jue({config:r,draggableNodes:b,droppableContainers:y,measuringConfiguration:E}),k=P?_.setRef:void 0;return v.createElement(kue,null,v.createElement(Aue,{animation:A},h&&I?v.createElement(Lue,{key:I,id:h.id,ref:k,as:o,activatorEvent:d,adjustScale:e,className:l,transition:i,rect:P,style:{zIndex:u,...s},transform:T},t):null))});function M$(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function zue(n,e){return n.reduce((t,r,s)=>{const i=e.get(r);return i&&(t[s]=i),t},Array(n.length))}function lg(n){return n!==null&&n>=0}function Kue(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Wue(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const gT=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const i=M$(e,r,t),a=e[s],o=i[s];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},L$="Sortable",$$=v.createContext({activeIndex:-1,containerId:L$,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:gT,disabled:{draggable:!1,droppable:!1}});function Gue(n){let{children:e,id:t,items:r,strategy:s=gT,disabled:i=!1}=n;const{active:a,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:d}=N$(),h=Jf(L$,t),f=o.rect!==null,g=D.useMemo(()=>r.map(x=>typeof x=="object"&&"id"in x?x.id:x),[r]),b=a!=null,y=a?g.indexOf(a.id):-1,_=u?g.indexOf(u.id):-1,m=D.useRef(g),E=!Kue(g,m.current),w=_!==-1&&y===-1||E,S=Wue(i);fi(()=>{E&&b&&d(g)},[E,g,b,d]),D.useEffect(()=>{m.current=g},[g]);const O=D.useMemo(()=>({activeIndex:y,containerId:h,disabled:S,disableTransforms:w,items:g,overIndex:_,useDragOverlay:f,sortedRects:zue(g,l),strategy:s}),[y,h,S.draggable,S.droppable,w,g,_,l,f,s]);return v.createElement($$.Provider,{value:O},e)}const Yue=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return M$(t,r,s).indexOf(e)},que=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:i,newIndex:a,previousItems:o,previousContainerId:l,transition:u}=n;return!u||!r||o!==i&&s===a?!1:t?!0:a!==s&&e===l},Xue={duration:200,easing:"ease"},F$="transform",Que=$o.Transition.toString({property:F$,duration:0,easing:"linear"}),Zue={roleDescription:"sortable"};function Jue(n){let{disabled:e,index:t,node:r,rect:s}=n;const[i,a]=D.useState(null),o=D.useRef(t);return fi(()=>{if(!e&&t!==o.current&&r.current){const l=s.current;if(l){const u=cd(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&a(d)}}t!==o.current&&(o.current=t)},[e,t,r,s]),D.useEffect(()=>{i&&a(null)},[i]),i}function ece(n){let{animateLayoutChanges:e=que,attributes:t,disabled:r,data:s,getNewIndex:i=Yue,id:a,strategy:o,resizeObserverConfig:l,transition:u=Xue}=n;const{items:d,containerId:h,activeIndex:f,disabled:g,disableTransforms:b,sortedRects:y,overIndex:_,useDragOverlay:m,strategy:E}=D.useContext($$),w=tce(r,g),S=d.indexOf(a),O=D.useMemo(()=>({sortable:{containerId:h,index:S,items:d},...s}),[h,s,S,d]),x=D.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:I,node:T,isOver:P,setNodeRef:A}=Rue({id:a,data:O,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...l}}),{active:k,activatorEvent:L,activeNodeRect:N,attributes:K,setNodeRef:G,listeners:z,isDragging:ee,over:V,setActivatorNodeRef:H,transform:U}=Oue({id:a,data:O,attributes:{...Zue,...t},disabled:w.draggable}),ae=ple(A,G),ne=!!k,re=ne&&!b&&lg(f)&&lg(_),de=!m&&ee,be=de&&re?U:null,ge=re?be??(o??E)({rects:y,activeNodeRect:N,activeIndex:f,overIndex:_,index:S}):null,pe=lg(f)&&lg(_)?i({id:a,items:d,activeIndex:f,overIndex:_}):S,te=k==null?void 0:k.id,le=D.useRef({activeId:te,items:d,newIndex:pe,containerId:h}),ut=d!==le.current.items,St=e({active:k,containerId:h,isDragging:ee,isSorting:ne,id:a,index:S,items:d,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:u,wasDragging:le.current.activeId!=null}),Zt=Jue({disabled:!St,index:S,node:T,rect:I});return D.useEffect(()=>{ne&&le.current.newIndex!==pe&&(le.current.newIndex=pe),h!==le.current.containerId&&(le.current.containerId=h),d!==le.current.items&&(le.current.items=d)},[ne,pe,h,d]),D.useEffect(()=>{if(te===le.current.activeId)return;if(te&&!le.current.activeId){le.current.activeId=te;return}const mn=setTimeout(()=>{le.current.activeId=te},50);return()=>clearTimeout(mn)},[te]),{active:k,activeIndex:f,attributes:K,data:O,rect:I,index:S,newIndex:pe,items:d,isOver:P,isSorting:ne,isDragging:ee,listeners:z,node:T,overIndex:_,over:V,setNodeRef:ae,setActivatorNodeRef:H,setDroppableNodeRef:A,setDraggableNodeRef:G,transform:Zt??ge,transition:pt()};function pt(){if(Zt||ut&&le.current.newIndex===S)return Que;if(!(de&&!Ry(L)||!u)&&(ne||St))return $o.Transition.toString({...u,property:F$})}}function tce(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}function ov(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const nce=[Ge.Down,Ge.Right,Ge.Up,Ge.Left],rce=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:s,droppableContainers:i,over:a,scrollableAncestors:o}}=e;if(nce.includes(n.code)){if(n.preventDefault(),!t||!r)return;const l=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const f=s.get(h.id);if(f)switch(n.code){case Ge.Down:r.top<f.top&&l.push(h);break;case Ge.Up:r.top>f.top&&l.push(h);break;case Ge.Left:r.left>f.left&&l.push(h);break;case Ge.Right:r.left<f.left&&l.push(h);break}});const u=Dle({active:t,collisionRect:r,droppableRects:s,droppableContainers:l,pointerCoordinates:null});let d=g$(u,"id");if(d===(a==null?void 0:a.id)&&u.length>1&&(d=u[1].id),d!=null){const h=i.get(t.id),f=i.get(d),g=f?s.get(f.id):null,b=f==null?void 0:f.node.current;if(b&&g&&h&&f){const _=Ay(b).some((x,I)=>o[I]!==x),m=V$(h,f),E=sce(h,f),w=_||!m?{x:0,y:0}:{x:E?r.width-g.width:0,y:E?r.height-g.height:0},S={x:g.left,y:g.top};return w.x&&w.y?S:nf(S,w)}}}};function V$(n,e){return!ov(n)||!ov(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function sce(n,e){return!ov(n)||!ov(e)||!V$(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const ice="semi-sortable";function ace(n){return v.createElement("div",Object.assign({style:{overflow:"auto"}},n))}const oce={coordinateGetter:rce};function lce(n){let{items:e,onSortEnd:t,adjustScale:r,renderItem:s,transition:i,collisionDetection:a=Ale,strategy:o=gT,useDragOverlay:l=!0,dragOverlayCls:u,container:d=ace,prefix:h=ice}=n;const[f,g]=D.useState(null),b=Ple(Tb(O$),Tb(P$),Tb(hT,oce)),y=D.useCallback(S=>e.indexOf(S),[e]),_=D.useMemo(()=>f?y(f):-1,[y,f]),m=D.useCallback(S=>{let{active:O}=S;O&&g(O.id)},[]),E=D.useCallback(S=>{let{over:O}=S;if(g(null),O){const x=y(O.id);_!==x&&t({oldIndex:_,newIndex:x})}},[_,y,t]),w=D.useCallback(()=>{g(null)},[]);return v.createElement(Cue,{sensors:b,collisionDetection:a,onDragStart:m,onDragEnd:E,onDragCancel:w,autoScroll:{order:rf.ReversedTreeOrder}},v.createElement(Gue,{items:e,strategy:o},v.createElement(d,null,e.map((S,O)=>v.createElement(uce,{key:S,id:S,index:O,renderItem:s,useDragOverlay:l,prefix:h,transition:i})))),l?Ls.createPortal(v.createElement(Hue,{adjustScale:r,style:{zIndex:void 0},className:u},f?s({id:f,sortableHandle:S=>S}):null),document.body):null)}function uce(n){let{animateLayoutChanges:e,id:t,renderItem:r,prefix:s,transition:i}=n;const{listeners:a,setNodeRef:o,transform:l,transition:u,active:d,isOver:h,attributes:f}=ece({id:t,animateLayoutChanges:e,transition:i}),g=D.useCallback(_=>()=>v.createElement("span",Object.assign({},a,{style:{lineHeight:0},onMouseDown:m=>{a.onMouseDown(m),m.preventDefault(),m.stopPropagation()}}),v.createElement(_,null)),[a]),b=$(`${s}-sortable-item`,{[`${s}-sortable-item-over`]:h,[`${s}-sortable-item-active`]:(d==null?void 0:d.id)===t}),y=D.useMemo(()=>Vl(i)?void 0:{transform:$o.Transform.toString(Object.assign(Object.assign({},l),{scaleX:1,scaleY:1})),transition:u},[i,l,u]);return v.createElement("div",Object.assign({ref:o,style:y,className:b},f),r({id:t,sortableHandle:g}))}var cce=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ke=dle.PREFIX;function dce(n){return v.createElement("div",Object.assign({className:`${Ke}-sortable-list`},n))}class tp extends Ae{constructor(e){super(e),this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleKeyDown=t=>{this.foundation.handleKeyDown(t)},this.handleInputFocus=t=>{this.foundation.handleInputFocus(t)},this.handleInputBlur=t=>{this.foundation.handleInputBlur(t)},this.handleClearBtn=t=>{this.foundation.handleClearBtn(t)},this.handleClearEnterPress=t=>{this.foundation.handleClearEnterPress(t)},this.handleTagClose=t=>{this.foundation.handleTagClose(t)},this.handleInputMouseLeave=t=>{this.foundation.handleInputMouseLeave()},this.handleClick=t=>{this.foundation.handleClick(t)},this.handleInputMouseEnter=t=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=t=>{this.foundation.handleClickPrefixOrSuffix(t)},this.handlePreventMouseDown=t=>{this.foundation.handlePreventMouseDown(t)},this.getAllTags=()=>{const{tagsArray:t}=this.state;return t.map((r,s)=>this.renderTag(r,s))},this.renderTag=(t,r,s)=>{const{size:i,disabled:a,renderTagItem:o,showContentTooltip:l,draggable:u}=this.props,{active:d}=this.state,h=d&&u,f=$(`${Ke}-wrapper-tag`,{[`${Ke}-wrapper-tag-size-${i}`]:i,[`${Ke}-wrapper-tag-icon`]:h}),g=$(`${Ke}-wrapper-typo`,{[`${Ke}-wrapper-typo-disabled`]:a}),b=$({[`${Ke}-drag-item`]:h,[`${Ke}-wrapper-tag-icon`]:h}),y=s&&s(()=>v.createElement(Zre,{className:`${Ke}-drag-handler`})),_=h?t:`${r}${t}`,m=()=>{!a&&this.handleTagClose(r)};return De(o)?v.createElement("div",{className:b,key:_},h&&s?v.createElement(y,null):null,o(t,r,m)):v.createElement(Gr,{className:f,color:"white",size:i==="small"?"small":"large",type:"light",onClose:m,closable:!a,key:_,visible:!0,"aria-label":`${a?"":"Closable "}Tag: ${t}`},h&&s?v.createElement(y,null):null,v.createElement(wy,{className:g,ellipsis:{showTooltip:l,rows:1}},t))},this.renderSortTag=t=>{const{id:r,sortableHandle:s}=t,{tagsArray:i}=this.state,a=i.indexOf(r);return this.renderTag(r,a,s)},this.onSortEnd=t=>{this.foundation.handleSortEnd(t)},this.handleInputCompositionStart=t=>{this.foundation.handleInputCompositionStart(t)},this.handleInputCompositionEnd=t=>{this.foundation.handleInputCompositionEnd(t)},this.foundation=new fle(this.adapter),this.state={tagsArray:e.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=v.createRef(),this.tagInputRef=v.createRef(),this.clickOutsideHandler=null}static getDerivedStateFromProps(e,t){const{value:r,inputValue:s}=e,{tagsArray:i}=t;let a;return wC(r)?a=r:"value"in e&&!r?a=[]:a=i,{tagsArray:a,inputValue:Re(s)?s:t.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:e=>{this.setState({inputValue:e})},setTagsArray:e=>{this.setState({tagsArray:e})},setFocusing:e=>{this.setState({focusing:e})},toggleFocusing:e=>{const{preventScroll:t}=this.props,r=this.inputRef&&this.inputRef.current;e?r&&r.focus({preventScroll:t}):r&&r.blur(),this.setState({focusing:e})},setHovering:e=>{this.setState({hovering:e})},setActive:e=>{this.setState({active:e})},setEntering:e=>{this.setState({entering:e})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:e=>{this.props.onBlur(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyInputChange:(e,t)=>{this.props.onInputChange(e,t)},notifyTagChange:e=>{this.props.onChange(e)},notifyTagAdd:e=>{this.props.onAdd(e)},notifyTagRemove:(e,t)=>{this.props.onRemove(e,t)},notifyKeyDown:e=>{this.props.onKeyDown(e)},registerClickOutsideHandler:e=>{const t=r=>{const s=this.tagInputRef&&this.tagInputRef.current,i=r.target,a=r.composedPath&&r.composedPath()||[i];s&&!s.contains(i)&&!a.includes(s)&&e(r)};this.clickOutsideHandler=t,document.addEventListener("click",t,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&t&&(this.inputRef.current.focus({preventScroll:r}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){const{hovering:e,tagsArray:t,inputValue:r}=this.state,{showClear:s,disabled:i,clearIcon:a}=this.props,o=$(`${Ke}-clearBtn`,{[`${Ke}-clearBtn-invisible`]:!e||r===""&&t.length===0||i});return s?v.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:o,onClick:l=>this.handleClearBtn(l),onKeyPress:l=>this.handleClearEnterPress(l)},a||v.createElement(Yo,null)):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(Vl(s)||bt(s))return null;const i=$(`${Ke}-prefix`,{[`${Ke}-inset-label`]:t,[`${Ke}-prefix-text`]:s&&Re(s),[`${Ke}-prefix-icon`]:Or(s)});return v.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix"},s)}renderSuffix(){const{suffix:e}=this.props;if(Vl(e)||bt(e))return null;const t=$(`${Ke}-suffix`,{[`${Ke}-suffix-text`]:e&&Re(e),[`${Ke}-suffix-icon`]:Or(e)});return v.createElement("div",{className:t,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},e)}renderTags(){const{disabled:e,maxTagCount:t,showRestTagsPopover:r,restTagsPopoverProps:s={},draggable:i,expandRestTagsOnClick:a}=this.props,{tagsArray:o,active:l}=this.state,u=$(`${Ke}-wrapper-n`,{[`${Ke}-wrapper-n-disabled`]:e}),d=this.getAllTags();let h=[],f=[...d];(!l||!a)&&t&&t<d.length&&(f=d.slice(0,t),h=d.slice(t));const g=v.createElement("span",{className:u},"+",o.length-t),b=d.map((y,_)=>({item:y,key:o[_]}));return l&&i&&b.length>0?v.createElement(lce,{items:o,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:dce,prefix:Ke,transition:null,dragOverlayCls:`${Ke}-right-item-drag-item-move`}):v.createElement(v.Fragment,null,f,h.length>0&&(r?v.createElement(br,Object.assign({content:h,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},s),g):g))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){const{preventScroll:e,disabled:t}=this.props;this.inputRef.current.focus({preventScroll:e}),t||this.foundation.handleClick()}render(){const e=this.props,{size:t,style:r,className:s,disabled:i,placeholder:a,validateStatus:o,prefix:l,insetLabel:u,suffix:d}=e,h=cce(e,["size","style","className","disabled","placeholder","validateStatus","prefix","insetLabel","suffix"]),{focusing:f,hovering:g,tagsArray:b,inputValue:y,active:_}=this.state,m=$(Ke,s,{[`${Ke}-focus`]:f||_,[`${Ke}-disabled`]:i,[`${Ke}-hover`]:g&&!i,[`${Ke}-error`]:o==="error",[`${Ke}-warning`]:o==="warning",[`${Ke}-small`]:t==="small",[`${Ke}-large`]:t==="large",[`${Ke}-with-prefix`]:!!l||!!u,[`${Ke}-with-suffix`]:!!d}),E=$(`${Ke}-wrapper-input`,`${Ke}-wrapper-input-${t}`),w=$(`${Ke}-wrapper`);return v.createElement("div",Object.assign({ref:this.tagInputRef,style:r,className:m,"aria-disabled":i,"aria-label":this.props["aria-label"],"aria-invalid":o==="error",onMouseEnter:S=>{this.handleInputMouseEnter(S)},onMouseLeave:S=>{this.handleInputMouseLeave(S)},onClick:S=>{this.handleClick(S)}},this.getDataAttr(h)),this.renderPrefix(),v.createElement("div",{className:w},this.renderTags(),v.createElement(Hn,{"aria-label":"input value",ref:this.inputRef,className:E,disabled:i,value:y,size:t,placeholder:b.length===0?a:"",onKeyDown:S=>{this.handleKeyDown(S)},onChange:(S,O)=>{this.handleInputChange(O)},onBlur:S=>{this.handleInputBlur(S)},onFocus:S=>{this.handleInputFocus(S)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}}tp.propTypes={children:c.node,clearIcon:c.node,style:c.object,className:c.string,disabled:c.bool,allowDuplicates:c.bool,max:c.number,maxTagCount:c.number,maxLength:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,showContentTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),defaultValue:c.array,value:c.array,inputValue:c.string,placeholder:c.string,separator:c.oneOfType([c.string,c.array]),showClear:c.bool,addOnBlur:c.bool,draggable:c.bool,expandRestTagsOnClick:c.bool,autoFocus:c.bool,renderTagItem:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onInputChange:c.func,onExceed:c.func,onInputExceed:c.func,onAdd:c.func,onRemove:c.func,onKeyDown:c.func,size:c.oneOf(kx.SIZE_SET),validateStatus:c.oneOf(kx.STATUS),prefix:c.oneOfType([c.string,c.node]),suffix:c.oneOfType([c.string,c.node]),"aria-label":c.string,preventScroll:c.bool};tp.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:F,onFocus:F,onChange:F,onInputChange:F,onExceed:F,onInputExceed:F,onAdd:F,onRemove:F,onKeyDown:F};const Le=n$.PREFIX,hce=0;class kc extends Ae{constructor(e){super(e),this.search=t=>{this.handleInputChange(t)},this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleTagRemoveInTrigger=t=>{this.foundation.handleTagRemoveInTrigger(t)},this.handleTagClose=(t,r,s)=>{r.preventDefault(),this.foundation.handleTagRemoveByKey(s)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:a,disabled:o,displayProp:l,displayRender:u,disableStrictly:d}=this.props;if(s[t]){const h=o||s[t].data.disabled||d&&i.has(t),f=$(`${Le}-selection-tag`,{[`${Le}-selection-tag-disabled`]:h});return De(u)?u(s[t],r):v.createElement(Gr,{size:a==="default"?"large":a,key:`tag-${t}-${r}`,color:"white",tagKey:t,className:f,closable:!0,onClose:this.handleTagClose},s[t].data[l])}return null},this.onRemoveInTagInput=t=>{this.foundation.handleTagRemoveByKey(t)},this.handleItemClick=(t,r)=>{this.foundation.handleItemClick(t,r)},this.handleItemHover=(t,r)=>{this.foundation.handleItemHover(t,r)},this.onItemCheckboxClick=t=>{this.foundation.onItemCheckboxClick(t)},this.handleListScroll=(t,r)=>{this.foundation.handleListScroll(t,r)},this.renderContent=()=>{const{inputValue:t,isSearching:r,activeKeys:s,selectedKeys:i,checkedKeys:a,halfCheckedKeys:o,loadedKeys:l,loadingKeys:u}=this.state,{filterTreeNode:d,dropdownClassName:h,dropdownStyle:f,loadData:g,emptyContent:b,separator:y,topSlot:_,bottomSlot:m,showNext:E,multiple:w,filterRender:S,virtualizeInSearch:O,expandIcon:x}=this.props,I=!!d&&r,T=$(h,`${Le}-popover`),P=this.foundation.getRenderData();return v.createElement("div",{className:T,role:"listbox",style:f,onKeyDown:this.foundation.handleKeyDown},_,v.createElement(Oy,{activeKeys:s,selectedKeys:i,separator:y,loadedKeys:l,loadingKeys:u,onItemClick:this.handleItemClick,onItemHover:this.handleItemHover,showNext:E,onItemCheckboxClick:this.onItemCheckboxClick,onListScroll:this.handleListScroll,searchable:I,keyword:t,emptyContent:b,loadData:g,data:P,multiple:w,checkedKeys:a,halfCheckedKeys:o,filterRender:S,virtualize:O,expandIcon:x}),m)},this.renderPlusN=t=>{const{disabled:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props,a=$(`${Le}-selection-n`,{[`${Le}-selection-n-disabled`]:r}),o=v.createElement("span",{className:a},"+",t.length);return s?v.createElement(br,Object.assign({content:t,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},i),o):o},this.renderMultipleTags=()=>{const{autoMergeValue:t,maxTagCount:r,checkRelation:s}=this.props,{checkedKeys:i,resolvedCheckedKeys:a}=this.state,o=this.mergeType===Yt.NONE_MERGE_TYPE||s===Yt.UN_RELATED?i:a,l=[],u=[];return[...o].forEach((d,h)=>{const f=!Qt(r)||r>=h+1,g=this.renderTagItem(d,h);f?l.push(g):u.push(g)}),v.createElement(v.Fragment,null,l,!It(u)&&this.renderPlusN(u))},this.renderDisplayText=()=>{const{displayProp:t,separator:r,displayRender:s}=this.props,{selectedKeys:i}=this.state;let a="";if(i.size){const o=this.foundation.getItemPropPath([...i][0],t);s&&typeof s=="function"?a=s(o):a=o.map((l,u)=>v.createElement(D.Fragment,{key:`${l}-${u}`},u<o.length-1?v.createElement(v.Fragment,null,l,r):l))}return a},this.renderSelectContent=()=>{const{placeholder:t,filterTreeNode:r,multiple:s,searchPosition:i}=this.props,{checkedKeys:a}=this.state;if(!(!!r&&i===Yt.SEARCH_POSITION_TRIGGER)){if(s)return a.size===0?v.createElement("span",{className:`${Le}-selection-placeholder`},t):this.renderMultipleTags();{const u=this.renderDisplayText(),d=$({[`${Le}-selection-placeholder`]:!u});return v.createElement("span",{className:d},u||t)}}return s?this.renderTagInput():this.renderInput()},this.renderSuffix=()=>{const{suffix:t}=this.props,r=$({[`${Le}-suffix`]:!0,[`${Le}-suffix-text`]:t&&Re(t),[`${Le}-suffix-icon`]:Or(t)});return v.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,a=$({[`${Le}-prefix`]:!0,[`${Le}-inset-label`]:r,[`${Le}-prefix-text`]:i&&Re(i),[`${Le}-prefix-icon`]:Or(i)});return v.createElement("div",{className:a,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderCustomTrigger=()=>{var t;const{disabled:r,triggerRender:s,multiple:i}=this.props,{selectedKeys:a,inputValue:o,inputPlaceHolder:l,resolvedCheckedKeys:u,checkedKeys:d,keyEntities:h}=this.state;let f;return i?this.mergeType===Yt.NONE_MERGE_TYPE?(f=new Set,d.forEach(g=>{var b;f.add((b=h[g])===null||b===void 0?void 0:b.pos)})):(f=new Set,u.forEach(g=>{var b;f.add((b=h[g])===null||b===void 0?void 0:b.pos)})):f=(t=h[[...a][0]])===null||t===void 0?void 0:t.pos,v.createElement(cu,{value:f,inputValue:o,onChange:this.handleInputChange,onClear:this.handleClear,placeholder:l,disabled:r,triggerRender:s,componentName:"Cascader",componentProps:Object.assign({},this.props),onSearch:this.handleInputChange,onRemove:this.handleTagRemoveInTrigger})},this.handleMouseOver=()=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=()=>{this.foundation.toggleHoverState(!1)},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear()},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.showClearBtn=()=>{const{showClear:t,disabled:r,multiple:s}=this.props,{selectedKeys:i,isOpen:a,isHovering:o,checkedKeys:l,inputValue:u}=this.state,d=i.size,h=s&&l.size;return t&&(u||d||h)&&!r&&(a||o)},this.renderClearBtn=()=>{const t=$(`${Le}-clearbtn`),{clearIcon:r}=this.props;return this.showClearBtn()?v.createElement("div",{className:t,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress,role:"button",tabIndex:0},r||v.createElement(Yo,null)):null},this.renderArrow=()=>{const{arrowIcon:t}=this.props;return this.showClearBtn()?null:t?v.createElement("div",{className:$(`${Le}-arrow`),"x-semi-prop":"arrowIcon"},t):null},this.renderSelection=()=>{const{disabled:t,multiple:r,filterTreeNode:s,style:i,size:a,className:o,validateStatus:l,prefix:u,suffix:d,insetLabel:h,triggerRender:f,showClear:g,id:b,borderless:y}=this.props,{isOpen:_,isFocus:m,isInput:E,checkedKeys:w}=this.state,S=!!s,O=typeof f=="function",x=O?$(o):$(Le,o,{[`${Le}-borderless`]:y,[`${Le}-focus`]:m||_&&!E,[`${Le}-disabled`]:t,[`${Le}-single`]:!0,[`${Le}-filterable`]:S,[`${Le}-error`]:l==="error",[`${Le}-warning`]:l==="warning",[`${Le}-small`]:a==="small",[`${Le}-large`]:a==="large",[`${Le}-with-prefix`]:u||h,[`${Le}-with-suffix`]:d}),I=g?{onMouseEnter:()=>this.handleMouseOver(),onMouseLeave:()=>this.handleMouseLeave()}:{},T=$(`${Le}-selection`,{[`${Le}-selection-multiple`]:r&&!It(w)}),P=O?this.renderCustomTrigger():[v.createElement(D.Fragment,{key:"prefix"},u||h?this.renderPrefix():null),v.createElement(D.Fragment,{key:"selection"},v.createElement("div",{className:T},this.renderSelectContent())),v.createElement(D.Fragment,{key:"suffix"},d?this.renderSuffix():null),v.createElement(D.Fragment,{key:"clearbtn"},this.renderClearBtn()),v.createElement(D.Fragment,{key:"arrow"},this.renderArrow())];return v.createElement("div",Object.assign({className:x,style:i,ref:this.triggerRef,onClick:A=>this.foundation.handleClick(A),onKeyPress:A=>this.foundation.handleSelectionEnterPress(A),"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],id:b,onKeyDown:this.foundation.handleKeyDown},I,{role:"combobox",tabIndex:0},this.getDataAttr(this.props)),P)},this.state={disabledKeys:new Set,isOpen:e.defaultOpen,rePosKey:hce,keyEntities:{},selectedKeys:new Set([]),activeKeys:new Set([]),filteredKeys:new Set([]),inputValue:"",isSearching:!1,inputPlaceHolder:e.searchPlaceholder||e.placeholder,prevProps:{},isHovering:!1,checkedKeys:new Set([]),halfCheckedKeys:new Set([]),resolvedCheckedKeys:new Set([]),loadedKeys:new Set,loadingKeys:new Set,loading:!1,showInput:!1},this.options={},this.isEmpty=!1,this.mergeType=Rw(e.autoMergeValue,e.leafOnly),this.inputRef=v.createRef(),this.triggerRef=v.createRef(),this.optionsRef=v.createRef(),this.clickOutsideHandler=null,this.foundation=new Koe(this.adapter),this.loadingKeysRef=v.createRef(),this.loadedKeysRef=v.createRef()}get adapter(){var e=this;const t={updateInputValue:s=>{this.setState({inputValue:s})},updateInputPlaceHolder:s=>{this.setState({inputPlaceHolder:s})},focusInput:()=>{const{preventScroll:s}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:s})},blurInput:()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.blur()}},r={registerClickOutsideHandler:s=>{const i=a=>{const o=this.optionsRef&&this.optionsRef.current,l=this.triggerRef&&this.triggerRef.current,u=cs.findDOMNode(o),d=a.target,h=a.composedPath&&a.composedPath()||[d];u&&(!u.contains(d)||!u.contains(d.parentNode))&&l&&!l.contains(d)&&!(h.includes(l)||h.includes(u))&&s(a)};this.clickOutsideHandler=i,document.addEventListener("mousedown",i,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1)},rePositionDropdown:()=>{let{rePosKey:s}=this.state;s=s+1,this.setState({rePosKey:s})}};return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),{updateStates:s=>{this.setState(Object.assign({},s))},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:s=>{this.setState({isOpen:!1},()=>{s&&s()})},updateSelection:s=>this.setState({selectedKeys:s}),notifyChange:s=>{this.props.onChange&&this.props.onChange(s)},notifySelect:s=>{this.props.onSelect&&this.props.onSelect(s)},notifyOnSearch:s=>{this.props.onSearch&&this.props.onSearch(s)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},notifyDropdownVisibleChange:s=>{this.props.onDropdownVisibleChange(s)},toggleHovering:s=>{this.setState({isHovering:s})},notifyLoadData:(s,i)=>{const{loadData:a}=this.props;a&&new Promise(o=>{a(s).then(()=>{setTimeout(()=>{i(),this.setState({loading:!1}),o()})})})},notifyOnLoad:(s,i)=>{const{onLoad:a}=this.props;a&&a(s,i)},notifyListScroll:(s,i)=>{let{panelIndex:a,activeNode:o}=i;this.props.onListScroll(s,{panelIndex:a,activeNode:o})},notifyOnExceed:s=>this.props.onExceed(s),notifyClear:()=>this.props.onClear(),toggleInputShow:(s,i)=>{this.setState({showInput:s},()=>{i()})},updateFocusState:s=>{this.setState({isFocus:s})},updateLoadingKeyRefValue:s=>{this.loadingKeysRef.current=s},getLoadingKeyRefValue:()=>this.loadingKeysRef.current,updateLoadedKeyRefValue:s=>{this.loadedKeysRef.current=s},getLoadedKeyRefValue:()=>this.loadedKeysRef.current})}static getDerivedStateFromProps(e,t){const{multiple:r,value:s,defaultValue:i,onChangeWithObject:a,leafOnly:o,autoMergeValue:l,checkRelation:u}=e,{prevProps:d}=t;let h=t.keyEntities||{};const f={},g=_=>{const m=It(d)&&_ in e,E=d&&!Fe(d[_],e[_]);return m||E},b=()=>{const _=!d&&"treeData"in e,m=d&&d.treeData!==e.treeData;return _||m},y=(_,m)=>{let E=[];Array.isArray(_)?E=Array.isArray(_[0])?_:[_]:_!==void 0&&(E=[[_]]);const w=[];return E.forEach(O=>{const x=a&&Pa(O[0])?O.map(I=>I==null?void 0:I.value):O;x.length>0&&w.push(x)}),w.reduce((O,x)=>{const I=nv(x);return m[I]&&O.push(I),O},[])};if(r){const _=g("treeData")||b(),m=g("value")||It(d)&&i;if(_||m){_&&(f.treeData=e.treeData,h=s$(e.treeData),f.keyEntities=h);let E=t.checkedKeys;if(m){const w=g("value")?s:i;E=y(w,h)}else _&&"value"in e&&(E=y(s,h));if(NL(E)&&(E=[...E]),u===Yt.RELATED){const w=qf(E,h),S=new Set(w.checkedKeys),O=new Set(w.halfCheckedKeys);e.disableStrictly&&(f.disabledKeys=t$(h));const x=Rw(l,o)===Yt.LEAF_ONLY_MERGE_TYPE;f.checkedKeys=S,f.halfCheckedKeys=O,f.resolvedCheckedKeys=new Set(ri(S,h,x))}else f.checkedKeys=new Set(E);f.prevProps=e}}return f}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e){if(this.props.multiple)return;let t=!1;Fe(e.treeData,this.props.treeData)||(t=!0,this.foundation.collectOptions()),e.value!==this.props.value&&!t&&this.foundation.handleValueChange(this.props.value)}renderTagInput(){const{size:e,disabled:t,placeholder:r,maxTagCount:s,showRestTagsPopover:i,restTagsPopoverProps:a,checkRelation:o}=this.props,{inputValue:l,checkedKeys:u,keyEntities:d,resolvedCheckedKeys:h}=this.state,f=$(`${Le}-tagInput-wrapper`),g=this.mergeType===Yt.NONE_MERGE_TYPE||o===Yt.UN_RELATED?u:h;return v.createElement(tp,{className:f,ref:this.inputRef,disabled:t,size:e,value:[...g],showRestTagsPopover:i,restTagsPopoverProps:a,maxTagCount:s,renderTagItem:this.renderTagItem,inputValue:l,onInputChange:this.handleInputChange,onRemove:this.onRemoveInTagInput,placeholder:r,expandRestTagsOnClick:!1})}renderInput(){const{size:e,disabled:t}=this.props,r=$(`${Le}-input`),{inputValue:s,inputPlaceHolder:i,showInput:a}=this.state,o={disabled:t,value:s,className:r,onChange:this.handleInputChange},l=$({[`${Le}-search-wrapper`]:!0,[`${Le}-search-wrapper-${e}`]:e!=="default"}),u=this.renderDisplayText(),d=$({[`${Le}-selection-placeholder`]:!u,[`${Le}-selection-text-hide`]:a&&s,[`${Le}-selection-text-inactive`]:a&&!s});return v.createElement("div",{className:l},v.createElement("span",{className:d},u||i),a&&v.createElement(Hn,Object.assign({ref:this.inputRef,size:e},o)))}close(){this.foundation.close()}open(){this.foundation.open()}focus(){this.foundation.focus()}blur(){this.foundation.blur()}render(){const{zIndex:e,getPopupContainer:t,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:a,position:o,motion:l,dropdownMargin:u}=this.props,{isOpen:d,rePosKey:h}=this.state,{direction:f}=this.context,g=this.renderContent(),b=this.renderSelection(),y=o??(f==="rtl"?"bottomRight":"bottomLeft");return v.createElement(br,{getPopupContainer:t,zIndex:e,motion:l,margin:u,ref:this.optionsRef,content:g,visible:d,trigger:"custom",rePosKey:h,position:y,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:a,afterClose:()=>this.foundation.updateSearching(!1)},b)}}kc.__SemiComponentName__="Cascader";kc.contextType=Xr;kc.propTypes={"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,"aria-label":c.string,arrowIcon:c.node,borderless:c.bool,clearIcon:c.node,changeOnSelect:c.bool,defaultValue:c.oneOfType([c.string,c.array]),disabled:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),emptyContent:c.node,motion:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),filterLeafOnly:c.bool,placeholder:c.string,searchPlaceholder:c.string,size:c.oneOf(Yt.SIZE_SET),style:c.object,className:c.string,treeData:c.arrayOf(c.shape({value:c.oneOfType([c.string,c.number]),label:c.any})),treeNodeFilterProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,id:c.string,displayProp:c.string,displayRender:c.func,onChange:c.func,onSearch:c.func,onSelect:c.func,onBlur:c.func,onFocus:c.func,children:c.node,getPopupContainer:c.func,zIndex:c.number,value:c.oneOfType([c.string,c.number,c.array]),validateStatus:c.oneOf(Yt.VALIDATE_STATUS),showNext:c.oneOf([Yt.SHOW_NEXT_BY_CLICK,Yt.SHOW_NEXT_BY_HOVER]),stopPropagation:c.oneOfType([c.bool,c.string]),showClear:c.bool,defaultOpen:c.bool,autoAdjustOverflow:c.bool,onDropdownVisibleChange:c.func,triggerRender:c.func,onListScroll:c.func,onChangeWithObject:c.bool,bottomSlot:c.node,topSlot:c.node,multiple:c.bool,autoMergeValue:c.bool,maxTagCount:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,max:c.number,separator:c.string,onExceed:c.func,onClear:c.func,loadData:c.func,onLoad:c.func,loadedKeys:c.array,disableStrictly:c.bool,leafOnly:c.bool,enableLeafClick:c.bool,preventScroll:c.bool,position:c.string,searchPosition:c.string};kc.defaultProps=Ws(kc.__SemiComponentName__,{borderless:!1,leafOnly:!1,arrowIcon:v.createElement(yy,null),stopPropagation:!0,motion:!0,defaultOpen:!1,zIndex:gs.DEFAULT_Z_INDEX,showClear:!1,autoClearSearchValue:!0,changeOnSelect:!1,disableStrictly:!1,autoMergeValue:!0,multiple:!1,filterTreeNode:!1,filterLeafOnly:!0,showRestTagsPopover:!1,restTagsPopoverProps:{},separator:" / ",size:"default",treeNodeFilterProp:"label",displayProp:"label",treeData:[],showNext:Yt.SHOW_NEXT_BY_CLICK,onExceed:F,onClear:F,onDropdownVisibleChange:F,onListScroll:F,enableLeafClick:!1,"aria-label":"Cascader",searchPosition:Yt.SEARCH_POSITION_TRIGGER,checkRelation:Yt.RELATED});class fce extends ke{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=t=>{this._adapter.setDOMInRenderTree(t)},this.updateDOMHeight=t=>{this._adapter.setDOMHeight(t)},this.updateVisible=t=>{this._adapter.setVisible(t)},this.updateIsTransitioning=t=>{this._adapter.setIsTransitioning(t)}}}const Yx={PREFIX:`${W}-collapsible`};class Fo extends Ae{constructor(e){super(e),this.domRef=v.createRef(),this.hasBeenRendered=!1,this.handleResize=t=>{const r=t[0];if(r){const s=Fo.getEntryInfo(r);this.foundation.updateDOMHeight(s.height),this.foundation.updateDOMInRenderTree(s.isShown)}},this.isChildrenInRenderTree=()=>this.domRef.current?this.domRef.current.offsetHeight>0:!1,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new fce(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);const e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(e,t,r){const s=Object.keys(jl(this.props,["reCalcKey","isOpen"])).filter(a=>!Fe(this.props[a],e[a])),i=Object.keys(jl(this.state,["domInRenderTree"])).filter(a=>!Fe(this.state[a],t[a]));s.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),i.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),s.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&e.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){const e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||this.props.collapseHeight!==0?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),t=$(`${Yx.PREFIX}-wrapper`,{[`${Yx.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),r=this.props.keepDOM&&(this.props.lazyRender?this.hasBeenRendered:!0)||this.props.collapseHeight!==0||this.state.visible||this.props.isOpen;return r&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),v.createElement("div",Object.assign({className:t,style:e,onTransitionEnd:()=>{var s,i;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),(i=(s=this.props).onMotionEnd)===null||i===void 0||i.call(s)}},this.getDataAttr(this.props)),v.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},r&&this.props.children))}}Fo.__SemiComponentName__="Collapsible";Fo.defaultProps=Ws(Fo.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1});Fo.getEntryInfo=n=>{let e;n.borderBoxSize?e=!(n.borderBoxSize[0].blockSize===0&&n.borderBoxSize[0].inlineSize===0):e=!(n.contentRect.height===0&&n.contentRect.width===0);let t=0;return n.borderBoxSize?t=Math.ceil(n.borderBoxSize[0].blockSize):t=n.target.clientHeight,{isShown:e,height:t}};Fo.propTypes={motion:c.bool,children:c.node,isOpen:c.bool,duration:c.number,keepDOM:c.bool,collapseHeight:c.number,style:c.object,className:c.string,reCalcKey:c.oneOfType([c.string,c.number])};var pce=VL;function gce(n,e){return n==null?!0:pce(n,e)}var mce=gce;const Lw=Ce(mce);var vce=ed,yce=xC,_ce=rr,bce=Xc,wce=KM,Ece=au,Sce=uy;function Cce(n){return _ce(n)?vce(n,Ece):bce(n)?[n]:yce(wce(Sce(n)))}var Tce=Cce;const af=Ce(Tce),qx=n=>{const e=af(n);return Qt(n)&&e.length===1?!1:Number.isInteger(+e[e.length-1])};function Ice(n){if(Pa(n)){const e=W2(n);return e.length?e.every(t=>typeof t>"u"):!0}else return!1}function mT(n,e){if(e.length===0)return;const t=Z(n,e);(Array.isArray(t)&&t.every(r=>r==null)||Ice(t))&&Lw(n,e),mT(n,e.slice(0,e.length-1))}function Oce(n){return W2(n).length===0}function Cr(n,e){return Z(n,e)}function Hg(n,e){Lw(n,e);let t=af(e);t=t.slice(0,t.length-1),mT(n,t)}function xb(n,e,t,r){if(r||t!==void 0)return dc(n,e,t);if(qx(e)&&Cr(n,e)!==void 0){dc(n,e,void 0);let s=af(e);s=s.slice(0,s.length-1),mT(n,s)}else!qx(e)&&Cr(n,e)!==void 0&&Hg(n,e)}function j$(n,e){return n&&(typeof n=="function"||typeof n=="object")&&e&&(typeof e=="function"||typeof e=="object")&&Object.entries(e).forEach(t=>{let[r,s]=t;n[r]=s}),n}const Pce={DAY_TODAY:`${W}-datepicker-day-today`,DAY_IN_RANGE:`${W}-datepicker-day-inrange`,DAY_HOVER:`${W}-datepicker-day-inhover`,DAY_SELECTED:`${W}-datepicker-day-selected`,DAY_SELECTED_START:`${W}-datepicker-day-selected-start`,DAY_SELECTED_END:`${W}-datepicker-day-selected-end`,DAY_DISABLED:`${W}-datepicker-day-disabled`,DAY_HOVER_DAY:`${W}-datepicker-day-hoverday`,DAY_HOVER_DAY_OFFSET:`${W}-datepicker-day-hoverday-offset`,DAY_IN_OFFSET_RANGE:`${W}-datepicker-day-inoffsetrange`,DAY_SELECTED_RANGE_HOVER:`${W}-datepicker-day-selectedrange-hover`,DAY_OFFSET_RANGE_START:`${W}-datepicker-day-offsetrange-start`,DAY_OFFSET_RANGE_END:`${W}-datepicker-day-offsetrange-end`,DAY_SELECTED_START_AFTER_HOVER:`${W}-datepicker-day-selected-start-afterhover`,DAY_SELECTED_END_BEFORE_HOVER:`${W}-datepicker-day-selected-end-beforehover`,DAY_HOVER_DAY_BEFORE_RANGE:`${W}-datepicker-day-hoverday-beforerange`,DAY_HOVER_DAY_AFTER_RANGE:`${W}-datepicker-day-hoverday-afterrange`,DAY_HOVER_DAY_IN_RANGE:`${W}-datepicker-day-hoverday-inrange`,DAY_HOVER_DAY_AROUND_SINGLE_SELECTED:`${W}-datepicker-day-hoverday-around-singleselected`},we=Object.assign({PREFIX:`${W}-datepicker`,NAVIGATION:`${W}-datepicker-navigation`,PANEL_YAM:`${W}-datepicker-panel-yam`,MONTH:`${W}-datepicker-month`,WEEKDAY:`${W}-datepicker-weekday`,WEEKS:`${W}-datepicker-weeks`,WEEK:`${W}-datepicker-week`,DAY:`${W}-datepicker-day`},Pce),xce={FORMAT_FULL_DATE:"yyyy-MM-dd",FORMAT_TIME_PICKER:"HH:mm:ss",FORMAT_DATE_TIME:"yyyy-MM-dd HH:mm:ss",FORMAT_YEAR_MONTH:"yyyy-MM"},Q=Object.assign({DEFAULT_SEPARATOR_MULTIPLE:",",DEFAULT_SEPARATOR_RANGE:" ~ ",SIZE_SET:["small","default","large"],TYPE_SET:["date","dateRange","year","month","monthRange","dateTime","dateTimeRange"],PRESET_POSITION_SET:["left","right","top","bottom"],DENSITY_SET:["default","compact"],PANEL_TYPE_LEFT:"left",PANEL_TYPE_RIGHT:"right",STATUS:nd,POSITION_SET:Il.POSITION_SET,POSITION_INLINE_INPUT:"leftTopOver"},xce),Nc={WEEK_START_ON:0,WEEK_HEIGHT:36,SPACING:gs.SPACING,SPACING_INSET_INPUT:1};var Rce=yi,Ace=Yr,Dce="[object Date]";function kce(n){return Ace(n)&&Rce(n)==Dce}var Nce=kce,Mce=Nce,Lce=sd,Xx=Uf,Qx=Xx&&Xx.isDate,$ce=Qx?Lce(Qx):Mce,Fce=$ce;const Zx=Ce(Fce);function _a(n){return typeof n=="string"}function Jx(n,e){const t=_a(n)?js(n):n,r=_a(e)?js(e):e;return Tte(t,r)}function ec(n,e){const t=_a(n)?js(n):n,r=_a(e)?js(e):e;return d2(t,r)}function Iu(n,e){let{start:t,end:r}=e;const s=_a(n)?js(n):n,i=_a(t)?js(t):t,a=_a(r)?js(r):r;return d2(i,a)&&Sne(s,{start:i,end:a})&&!Gm(s,i)&&!Gm(s,a)}function Xa(n,e){const t=_a(n)?js(n):n,r=_a(e)?js(e):e;return WC(t,r)}function Us(n){return n&&Object.prototype.toString.call(n)==="[object Date]"&&!isNaN(n)}function Vce(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function $w(n){return Vce(n)&&Us(new Date(n))}const U$={date:Q.FORMAT_FULL_DATE,dateTime:Q.FORMAT_DATE_TIME,dateRange:Q.FORMAT_FULL_DATE,dateTimeRange:Q.FORMAT_DATE_TIME,month:Q.FORMAT_YEAR_MONTH,monthRange:Q.FORMAT_YEAR_MONTH},jce=n=>U$;function vo(n){return n&&U$[n]}const Uce=(n,e)=>{const t=new Date().getFullYear();let r=typeof n=="number"?n:t-100,s=typeof e=="number"?e:t+100;return s<r&&([r,s]=[s,r]),Array.from({length:s-r+1},(i,a)=>r+a)},ug=(n,e)=>{if(!e)return"";const t=new Date(e),r=De(n)?n(t):t;return ot(new Date(r),Q.FORMAT_FULL_DATE)};function eR(n,e){const t=new Date().getFullYear(),r=new Date().getMonth(),s=e.right||r+2,i=n.right||(s<=12?t:t+1);return{year:{left:n.left||t,right:i},month:{left:e.left||r+1,right:s<=12?s:1}}}var Fw={exports:{}},Vw={exports:{}},B$={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(B$);var un=B$.exports,jw={exports:{}},Uw={exports:{}},H$={exports:{}};(function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(H$);var z$=H$.exports,Bw={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(s.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+s.length+" present")}n.exports=e.default})(Bw,Bw.exports);var kr=Bw.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(z$),s=t(kr);function i(a){return(0,s.default)(1,arguments),a instanceof Date||(0,r.default)(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}n.exports=e.default})(Uw,Uw.exports);var Bce=Uw.exports,Hw={exports:{}};(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(z$),s=t(kr);function i(a){(0,s.default)(1,arguments);var o=Object.prototype.toString.call(a);return a instanceof Date||(0,r.default)(a)==="object"&&o==="[object Date]"?new Date(a.getTime()):typeof a=="number"||o==="[object Number]"?new Date(a):((typeof a=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}n.exports=e.default})(Hw,Hw.exports);var Ji=Hw.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(Bce),s=t(Ji),i=t(kr);function a(o){if((0,i.default)(1,arguments),!(0,r.default)(o)&&typeof o!="number")return!1;var l=(0,s.default)(o);return!isNaN(Number(l))}n.exports=e.default})(jw,jw.exports);var Hce=jw.exports,zw={exports:{}},Kw={exports:{}},Ww={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}n.exports=e.default})(Ww,Ww.exports);var du=Ww.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(du),s=t(Ji),i=t(kr);function a(o,l){(0,i.default)(2,arguments);var u=(0,s.default)(o).getTime(),d=(0,r.default)(l);return new Date(u+d)}n.exports=e.default})(Kw,Kw.exports);var zce=Kw.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(zce),s=t(kr),i=t(du);function a(o,l){(0,s.default)(2,arguments);var u=(0,i.default)(l);return(0,r.default)(o,-u)}n.exports=e.default})(zw,zw.exports);var Kce=zw.exports,Gw={exports:{}},Yw={exports:{}};(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(Ji),s=t(kr),i=864e5;function a(o){(0,s.default)(1,arguments);var l=(0,r.default)(o),u=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var d=l.getTime(),h=u-d;return Math.floor(h/i)+1}n.exports=e.default})(Yw,Yw.exports);var Wce=Yw.exports,qw={exports:{}},Xw={exports:{}};(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(Ji),s=t(kr);function i(a){(0,s.default)(1,arguments);var o=1,l=(0,r.default)(a),u=l.getUTCDay(),d=(u<o?7:0)+u-o;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}n.exports=e.default})(Xw,Xw.exports);var vT=Xw.exports,Qw={exports:{}},Zw={exports:{}};(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(Ji),s=t(kr),i=t(vT);function a(o){(0,s.default)(1,arguments);var l=(0,r.default)(o),u=l.getUTCFullYear(),d=new Date(0);d.setUTCFullYear(u+1,0,4),d.setUTCHours(0,0,0,0);var h=(0,i.default)(d),f=new Date(0);f.setUTCFullYear(u,0,4),f.setUTCHours(0,0,0,0);var g=(0,i.default)(f);return l.getTime()>=h.getTime()?u+1:l.getTime()>=g.getTime()?u:u-1}n.exports=e.default})(Zw,Zw.exports);var K$=Zw.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(K$),s=t(vT),i=t(kr);function a(o){(0,i.default)(1,arguments);var l=(0,r.default)(o),u=new Date(0);u.setUTCFullYear(l,0,4),u.setUTCHours(0,0,0,0);var d=(0,s.default)(u);return d}n.exports=e.default})(Qw,Qw.exports);var Gce=Qw.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(Ji),s=t(vT),i=t(Gce),a=t(kr),o=6048e5;function l(u){(0,a.default)(1,arguments);var d=(0,r.default)(u),h=(0,s.default)(d).getTime()-(0,i.default)(d).getTime();return Math.round(h/o)+1}n.exports=e.default})(qw,qw.exports);var Yce=qw.exports,Jw={exports:{}},eE={exports:{}},hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.getDefaultOptions=qce;hu.setDefaultOptions=Xce;var W$={};function qce(){return W$}function Xce(n){W$=n}(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(Ji),s=t(kr),i=t(du),a=hu;function o(l,u){var d,h,f,g,b,y,_,m;(0,s.default)(1,arguments);var E=(0,a.getDefaultOptions)(),w=(0,i.default)((d=(h=(f=(g=u==null?void 0:u.weekStartsOn)!==null&&g!==void 0?g:u==null||(b=u.locale)===null||b===void 0||(y=b.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&f!==void 0?f:E.weekStartsOn)!==null&&h!==void 0?h:(_=E.locale)===null||_===void 0||(m=_.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&d!==void 0?d:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=(0,r.default)(l),O=S.getUTCDay(),x=(O<w?7:0)+O-w;return S.setUTCDate(S.getUTCDate()-x),S.setUTCHours(0,0,0,0),S}n.exports=e.default})(eE,eE.exports);var yT=eE.exports,tE={exports:{}},nE={exports:{}};(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(Ji),s=t(kr),i=t(yT),a=t(du),o=hu;function l(u,d){var h,f,g,b,y,_,m,E;(0,s.default)(1,arguments);var w=(0,r.default)(u),S=w.getUTCFullYear(),O=(0,o.getDefaultOptions)(),x=(0,a.default)((h=(f=(g=(b=d==null?void 0:d.firstWeekContainsDate)!==null&&b!==void 0?b:d==null||(y=d.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&g!==void 0?g:O.firstWeekContainsDate)!==null&&f!==void 0?f:(m=O.locale)===null||m===void 0||(E=m.options)===null||E===void 0?void 0:E.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=new Date(0);I.setUTCFullYear(S+1,0,x),I.setUTCHours(0,0,0,0);var T=(0,i.default)(I,d),P=new Date(0);P.setUTCFullYear(S,0,x),P.setUTCHours(0,0,0,0);var A=(0,i.default)(P,d);return w.getTime()>=T.getTime()?S+1:w.getTime()>=A.getTime()?S:S-1}n.exports=e.default})(nE,nE.exports);var G$=nE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(G$),s=t(kr),i=t(yT),a=t(du),o=hu;function l(u,d){var h,f,g,b,y,_,m,E;(0,s.default)(1,arguments);var w=(0,o.getDefaultOptions)(),S=(0,a.default)((h=(f=(g=(b=d==null?void 0:d.firstWeekContainsDate)!==null&&b!==void 0?b:d==null||(y=d.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&g!==void 0?g:w.firstWeekContainsDate)!==null&&f!==void 0?f:(m=w.locale)===null||m===void 0||(E=m.options)===null||E===void 0?void 0:E.firstWeekContainsDate)!==null&&h!==void 0?h:1),O=(0,r.default)(u,d),x=new Date(0);x.setUTCFullYear(O,0,S),x.setUTCHours(0,0,0,0);var I=(0,i.default)(x,d);return I}n.exports=e.default})(tE,tE.exports);var Qce=tE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(Ji),s=t(yT),i=t(Qce),a=t(kr),o=6048e5;function l(u,d){(0,a.default)(1,arguments);var h=(0,r.default)(u),f=(0,s.default)(h,d).getTime()-(0,i.default)(h,d).getTime();return Math.round(f/o)+1}n.exports=e.default})(Jw,Jw.exports);var Zce=Jw.exports,rE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){for(var i=r<0?"-":"",a=Math.abs(r).toString();a.length<s;)a="0"+a;return i+a}n.exports=e.default})(rE,rE.exports);var Y$=rE.exports,sE={exports:{}};(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Y$),s={y:function(o,l){var u=o.getUTCFullYear(),d=u>0?u:1-u;return(0,r.default)(l==="yy"?d%100:d,l.length)},M:function(o,l){var u=o.getUTCMonth();return l==="M"?String(u+1):(0,r.default)(u+1,2)},d:function(o,l){return(0,r.default)(o.getUTCDate(),l.length)},a:function(o,l){var u=o.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(o,l){return(0,r.default)(o.getUTCHours()%12||12,l.length)},H:function(o,l){return(0,r.default)(o.getUTCHours(),l.length)},m:function(o,l){return(0,r.default)(o.getUTCMinutes(),l.length)},s:function(o,l){return(0,r.default)(o.getUTCSeconds(),l.length)},S:function(o,l){var u=l.length,d=o.getUTCMilliseconds(),h=Math.floor(d*Math.pow(10,u-3));return(0,r.default)(h,l.length)}},i=s;e.default=i,n.exports=e.default})(sE,sE.exports);var Jce=sE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Wce),s=t(Yce),i=t(K$),a=t(Zce),o=t(G$),l=t(Y$),u=t(Jce),d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h={G:function(m,E,w){var S=m.getUTCFullYear()>0?1:0;switch(E){case"G":case"GG":case"GGG":return w.era(S,{width:"abbreviated"});case"GGGGG":return w.era(S,{width:"narrow"});case"GGGG":default:return w.era(S,{width:"wide"})}},y:function(m,E,w){if(E==="yo"){var S=m.getUTCFullYear(),O=S>0?S:1-S;return w.ordinalNumber(O,{unit:"year"})}return u.default.y(m,E)},Y:function(m,E,w,S){var O=(0,o.default)(m,S),x=O>0?O:1-O;if(E==="YY"){var I=x%100;return(0,l.default)(I,2)}return E==="Yo"?w.ordinalNumber(x,{unit:"year"}):(0,l.default)(x,E.length)},R:function(m,E){var w=(0,i.default)(m);return(0,l.default)(w,E.length)},u:function(m,E){var w=m.getUTCFullYear();return(0,l.default)(w,E.length)},Q:function(m,E,w){var S=Math.ceil((m.getUTCMonth()+1)/3);switch(E){case"Q":return String(S);case"QQ":return(0,l.default)(S,2);case"Qo":return w.ordinalNumber(S,{unit:"quarter"});case"QQQ":return w.quarter(S,{width:"abbreviated",context:"formatting"});case"QQQQQ":return w.quarter(S,{width:"narrow",context:"formatting"});case"QQQQ":default:return w.quarter(S,{width:"wide",context:"formatting"})}},q:function(m,E,w){var S=Math.ceil((m.getUTCMonth()+1)/3);switch(E){case"q":return String(S);case"qq":return(0,l.default)(S,2);case"qo":return w.ordinalNumber(S,{unit:"quarter"});case"qqq":return w.quarter(S,{width:"abbreviated",context:"standalone"});case"qqqqq":return w.quarter(S,{width:"narrow",context:"standalone"});case"qqqq":default:return w.quarter(S,{width:"wide",context:"standalone"})}},M:function(m,E,w){var S=m.getUTCMonth();switch(E){case"M":case"MM":return u.default.M(m,E);case"Mo":return w.ordinalNumber(S+1,{unit:"month"});case"MMM":return w.month(S,{width:"abbreviated",context:"formatting"});case"MMMMM":return w.month(S,{width:"narrow",context:"formatting"});case"MMMM":default:return w.month(S,{width:"wide",context:"formatting"})}},L:function(m,E,w){var S=m.getUTCMonth();switch(E){case"L":return String(S+1);case"LL":return(0,l.default)(S+1,2);case"Lo":return w.ordinalNumber(S+1,{unit:"month"});case"LLL":return w.month(S,{width:"abbreviated",context:"standalone"});case"LLLLL":return w.month(S,{width:"narrow",context:"standalone"});case"LLLL":default:return w.month(S,{width:"wide",context:"standalone"})}},w:function(m,E,w,S){var O=(0,a.default)(m,S);return E==="wo"?w.ordinalNumber(O,{unit:"week"}):(0,l.default)(O,E.length)},I:function(m,E,w){var S=(0,s.default)(m);return E==="Io"?w.ordinalNumber(S,{unit:"week"}):(0,l.default)(S,E.length)},d:function(m,E,w){return E==="do"?w.ordinalNumber(m.getUTCDate(),{unit:"date"}):u.default.d(m,E)},D:function(m,E,w){var S=(0,r.default)(m);return E==="Do"?w.ordinalNumber(S,{unit:"dayOfYear"}):(0,l.default)(S,E.length)},E:function(m,E,w){var S=m.getUTCDay();switch(E){case"E":case"EE":case"EEE":return w.day(S,{width:"abbreviated",context:"formatting"});case"EEEEE":return w.day(S,{width:"narrow",context:"formatting"});case"EEEEEE":return w.day(S,{width:"short",context:"formatting"});case"EEEE":default:return w.day(S,{width:"wide",context:"formatting"})}},e:function(m,E,w,S){var O=m.getUTCDay(),x=(O-S.weekStartsOn+8)%7||7;switch(E){case"e":return String(x);case"ee":return(0,l.default)(x,2);case"eo":return w.ordinalNumber(x,{unit:"day"});case"eee":return w.day(O,{width:"abbreviated",context:"formatting"});case"eeeee":return w.day(O,{width:"narrow",context:"formatting"});case"eeeeee":return w.day(O,{width:"short",context:"formatting"});case"eeee":default:return w.day(O,{width:"wide",context:"formatting"})}},c:function(m,E,w,S){var O=m.getUTCDay(),x=(O-S.weekStartsOn+8)%7||7;switch(E){case"c":return String(x);case"cc":return(0,l.default)(x,E.length);case"co":return w.ordinalNumber(x,{unit:"day"});case"ccc":return w.day(O,{width:"abbreviated",context:"standalone"});case"ccccc":return w.day(O,{width:"narrow",context:"standalone"});case"cccccc":return w.day(O,{width:"short",context:"standalone"});case"cccc":default:return w.day(O,{width:"wide",context:"standalone"})}},i:function(m,E,w){var S=m.getUTCDay(),O=S===0?7:S;switch(E){case"i":return String(O);case"ii":return(0,l.default)(O,E.length);case"io":return w.ordinalNumber(O,{unit:"day"});case"iii":return w.day(S,{width:"abbreviated",context:"formatting"});case"iiiii":return w.day(S,{width:"narrow",context:"formatting"});case"iiiiii":return w.day(S,{width:"short",context:"formatting"});case"iiii":default:return w.day(S,{width:"wide",context:"formatting"})}},a:function(m,E,w){var S=m.getUTCHours(),O=S/12>=1?"pm":"am";switch(E){case"a":case"aa":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"});case"aaa":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return w.dayPeriod(O,{width:"narrow",context:"formatting"});case"aaaa":default:return w.dayPeriod(O,{width:"wide",context:"formatting"})}},b:function(m,E,w){var S=m.getUTCHours(),O;switch(S===12?O=d.noon:S===0?O=d.midnight:O=S/12>=1?"pm":"am",E){case"b":case"bb":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"});case"bbb":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return w.dayPeriod(O,{width:"narrow",context:"formatting"});case"bbbb":default:return w.dayPeriod(O,{width:"wide",context:"formatting"})}},B:function(m,E,w){var S=m.getUTCHours(),O;switch(S>=17?O=d.evening:S>=12?O=d.afternoon:S>=4?O=d.morning:O=d.night,E){case"B":case"BB":case"BBB":return w.dayPeriod(O,{width:"abbreviated",context:"formatting"});case"BBBBB":return w.dayPeriod(O,{width:"narrow",context:"formatting"});case"BBBB":default:return w.dayPeriod(O,{width:"wide",context:"formatting"})}},h:function(m,E,w){if(E==="ho"){var S=m.getUTCHours()%12;return S===0&&(S=12),w.ordinalNumber(S,{unit:"hour"})}return u.default.h(m,E)},H:function(m,E,w){return E==="Ho"?w.ordinalNumber(m.getUTCHours(),{unit:"hour"}):u.default.H(m,E)},K:function(m,E,w){var S=m.getUTCHours()%12;return E==="Ko"?w.ordinalNumber(S,{unit:"hour"}):(0,l.default)(S,E.length)},k:function(m,E,w){var S=m.getUTCHours();return S===0&&(S=24),E==="ko"?w.ordinalNumber(S,{unit:"hour"}):(0,l.default)(S,E.length)},m:function(m,E,w){return E==="mo"?w.ordinalNumber(m.getUTCMinutes(),{unit:"minute"}):u.default.m(m,E)},s:function(m,E,w){return E==="so"?w.ordinalNumber(m.getUTCSeconds(),{unit:"second"}):u.default.s(m,E)},S:function(m,E){return u.default.S(m,E)},X:function(m,E,w,S){var O=S._originalDate||m,x=O.getTimezoneOffset();if(x===0)return"Z";switch(E){case"X":return g(x);case"XXXX":case"XX":return b(x);case"XXXXX":case"XXX":default:return b(x,":")}},x:function(m,E,w,S){var O=S._originalDate||m,x=O.getTimezoneOffset();switch(E){case"x":return g(x);case"xxxx":case"xx":return b(x);case"xxxxx":case"xxx":default:return b(x,":")}},O:function(m,E,w,S){var O=S._originalDate||m,x=O.getTimezoneOffset();switch(E){case"O":case"OO":case"OOO":return"GMT"+f(x,":");case"OOOO":default:return"GMT"+b(x,":")}},z:function(m,E,w,S){var O=S._originalDate||m,x=O.getTimezoneOffset();switch(E){case"z":case"zz":case"zzz":return"GMT"+f(x,":");case"zzzz":default:return"GMT"+b(x,":")}},t:function(m,E,w,S){var O=S._originalDate||m,x=Math.floor(O.getTime()/1e3);return(0,l.default)(x,E.length)},T:function(m,E,w,S){var O=S._originalDate||m,x=O.getTime();return(0,l.default)(x,E.length)}};function f(_,m){var E=_>0?"-":"+",w=Math.abs(_),S=Math.floor(w/60),O=w%60;if(O===0)return E+String(S);var x=m;return E+String(S)+x+(0,l.default)(O,2)}function g(_,m){if(_%60===0){var E=_>0?"-":"+";return E+(0,l.default)(Math.abs(_)/60,2)}return b(_,m)}function b(_,m){var E=m||"",w=_>0?"-":"+",S=Math.abs(_),O=(0,l.default)(Math.floor(S/60),2),x=(0,l.default)(S%60,2);return w+O+E+x}var y=h;e.default=y,n.exports=e.default})(Gw,Gw.exports);var ede=Gw.exports,iE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},r=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},s=function(l,u){var d=l.match(/(P+)(p+)?/)||[],h=d[1],f=d[2];if(!f)return t(l,u);var g;switch(h){case"P":g=u.dateTime({width:"short"});break;case"PP":g=u.dateTime({width:"medium"});break;case"PPP":g=u.dateTime({width:"long"});break;case"PPPP":default:g=u.dateTime({width:"full"});break}return g.replace("{{date}}",t(h,u)).replace("{{time}}",r(f,u))},i={p:r,P:s},a=i;e.default=a,n.exports=e.default})(iE,iE.exports);var tde=iE.exports,aE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}n.exports=e.default})(aE,aE.exports);var q$=aE.exports,np={};Object.defineProperty(np,"__esModule",{value:!0});np.isProtectedDayOfYearToken=sde;np.isProtectedWeekYearToken=ide;np.throwProtectedError=ade;var nde=["D","DD"],rde=["YY","YYYY"];function sde(n){return nde.indexOf(n)!==-1}function ide(n){return rde.indexOf(n)!==-1}function ade(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var oE={exports:{}},lE={exports:{}},uE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(a,o,l){var u,d=t[a];return typeof d=="string"?u=d:o===1?u=d.one:u=d.other.replace("{{count}}",o.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+u:u+" ago":u},s=r;e.default=s,n.exports=e.default})(uE,uE.exports);var ode=uE.exports,cE={exports:{}},dE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.width?String(s.width):r.defaultWidth,a=r.formats[i]||r.formats[r.defaultWidth];return a}}n.exports=e.default})(dE,dE.exports);var lde=dE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(lde),s={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o={date:(0,r.default)({formats:s,defaultWidth:"full"}),time:(0,r.default)({formats:i,defaultWidth:"full"}),dateTime:(0,r.default)({formats:a,defaultWidth:"full"})},l=o;e.default=l,n.exports=e.default})(cE,cE.exports);var ude=cE.exports,hE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(a,o,l,u){return t[a]},s=r;e.default=s,n.exports=e.default})(hE,hE.exports);var cde=hE.exports,fE={exports:{}},pE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s,i){var a=i!=null&&i.context?String(i.context):"standalone",o;if(a==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,u=i!=null&&i.width?String(i.width):l;o=r.formattingValues[u]||r.formattingValues[l]}else{var d=r.defaultWidth,h=i!=null&&i.width?String(i.width):r.defaultWidth;o=r.values[h]||r.values[d]}var f=r.argumentCallback?r.argumentCallback(s):s;return o[f]}}n.exports=e.default})(pE,pE.exports);var dde=pE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(dde),s={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d=function(b,y){var _=Number(b),m=_%100;if(m>20||m<10)switch(m%10){case 1:return _+"st";case 2:return _+"nd";case 3:return _+"rd"}return _+"th"},h={ordinalNumber:d,era:(0,r.default)({values:s,defaultWidth:"wide"}),quarter:(0,r.default)({values:i,defaultWidth:"wide",argumentCallback:function(b){return b-1}}),month:(0,r.default)({values:a,defaultWidth:"wide"}),day:(0,r.default)({values:o,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},f=h;e.default=f,n.exports=e.default})(fE,fE.exports);var hde=fE.exports,gE={exports:{}},mE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.width,u=l&&i.matchPatterns[l]||i.matchPatterns[i.defaultMatchWidth],d=a.match(u);if(!d)return null;var h=d[0],f=l&&i.parsePatterns[l]||i.parsePatterns[i.defaultParseWidth],g=Array.isArray(f)?s(f,function(_){return _.test(h)}):r(f,function(_){return _.test(h)}),b;b=i.valueCallback?i.valueCallback(g):g,b=o.valueCallback?o.valueCallback(b):b;var y=a.slice(h.length);return{value:b,rest:y}}}function r(i,a){for(var o in i)if(i.hasOwnProperty(o)&&a(i[o]))return o}function s(i,a){for(var o=0;o<i.length;o++)if(a(i[o]))return o}n.exports=e.default})(mE,mE.exports);var fde=mE.exports,vE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.match(r.matchPattern);if(!a)return null;var o=a[0],l=s.match(r.parsePattern);if(!l)return null;var u=r.valueCallback?r.valueCallback(l[0]):l[0];u=i.valueCallback?i.valueCallback(u):u;var d=s.slice(o.length);return{value:u,rest:d}}}n.exports=e.default})(vE,vE.exports);var pde=vE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(fde),s=t(pde),i=/^(\d+)(th|st|nd|rd)?/i,a=/\d+/i,o={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},g={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m={ordinalNumber:(0,s.default)({matchPattern:i,parsePattern:a,valueCallback:function(S){return parseInt(S,10)}}),era:(0,r.default)({matchPatterns:o,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any",valueCallback:function(S){return S+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:g,defaultMatchWidth:"wide",parsePatterns:b,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:y,defaultMatchWidth:"any",parsePatterns:_,defaultParseWidth:"any"})},E=m;e.default=E,n.exports=e.default})(gE,gE.exports);var gde=gE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(ode),s=t(ude),i=t(cde),a=t(hde),o=t(gde),l={code:"en-US",formatDistance:r.default,formatLong:s.default,formatRelative:i.default,localize:a.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;e.default=u,n.exports=e.default})(lE,lE.exports);var mde=lE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(mde),s=r.default;e.default=s,n.exports=e.default})(oE,oE.exports);var vde=oE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=w;var r=t(Hce),s=t(Kce),i=t(Ji),a=t(ede),o=t(tde),l=t(q$),u=np,d=t(du),h=t(kr),f=hu,g=t(vde),b=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_=/^'([^]*?)'?$/,m=/''/g,E=/[a-zA-Z]/;function w(O,x,I){var T,P,A,k,L,N,K,G,z,ee,V,H,U,ae,ne,re,de,be;(0,h.default)(2,arguments);var ve=String(x),ge=(0,f.getDefaultOptions)(),pe=(T=(P=I==null?void 0:I.locale)!==null&&P!==void 0?P:ge.locale)!==null&&T!==void 0?T:g.default,te=(0,d.default)((A=(k=(L=(N=I==null?void 0:I.firstWeekContainsDate)!==null&&N!==void 0?N:I==null||(K=I.locale)===null||K===void 0||(G=K.options)===null||G===void 0?void 0:G.firstWeekContainsDate)!==null&&L!==void 0?L:ge.firstWeekContainsDate)!==null&&k!==void 0?k:(z=ge.locale)===null||z===void 0||(ee=z.options)===null||ee===void 0?void 0:ee.firstWeekContainsDate)!==null&&A!==void 0?A:1);if(!(te>=1&&te<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var le=(0,d.default)((V=(H=(U=(ae=I==null?void 0:I.weekStartsOn)!==null&&ae!==void 0?ae:I==null||(ne=I.locale)===null||ne===void 0||(re=ne.options)===null||re===void 0?void 0:re.weekStartsOn)!==null&&U!==void 0?U:ge.weekStartsOn)!==null&&H!==void 0?H:(de=ge.locale)===null||de===void 0||(be=de.options)===null||be===void 0?void 0:be.weekStartsOn)!==null&&V!==void 0?V:0);if(!(le>=0&&le<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!pe.localize)throw new RangeError("locale must contain localize property");if(!pe.formatLong)throw new RangeError("locale must contain formatLong property");var ut=(0,i.default)(O);if(!(0,r.default)(ut))throw new RangeError("Invalid time value");var St=(0,l.default)(ut),Zt=(0,s.default)(ut,St),pt={firstWeekContainsDate:te,weekStartsOn:le,locale:pe,_originalDate:ut},mn=ve.match(y).map(function(gt){var Wn=gt[0];if(Wn==="p"||Wn==="P"){var Nr=o.default[Wn];return Nr(gt,pe.formatLong)}return gt}).join("").match(b).map(function(gt){if(gt==="''")return"'";var Wn=gt[0];if(Wn==="'")return S(gt);var Nr=a.default[Wn];if(Nr)return!(I!=null&&I.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(gt)&&(0,u.throwProtectedError)(gt,x,String(O)),!(I!=null&&I.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(gt)&&(0,u.throwProtectedError)(gt,x,String(O)),Nr(Zt,gt,pe.localize,pt);if(Wn.match(E))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Wn+"`");return gt}).join("");return mn}function S(O){var x=O.match(_);return x?x[1].replace(m,"'"):O}n.exports=e.default})(Vw,Vw.exports);var yde=Vw.exports,yE={exports:{}},_E={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(a,o,l){var u=i(a,l.timeZone,l.locale);return u.formatToParts?r(u,o):s(u,o)}function r(a,o){for(var l=a.formatToParts(o),u=l.length-1;u>=0;--u)if(l[u].type==="timeZoneName")return l[u].value}function s(a,o){var l=a.format(o).replace(/\u200E/g,""),u=/ [\w-+ ]+$/.exec(l);return u?u[0].substr(1):""}function i(a,o,l){if(l&&!l.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(l?[l.code,"en-US"]:void 0,{timeZone:o,timeZoneName:a})}n.exports=e.default})(_E,_E.exports);var _de=_E.exports,bE={exports:{}},wE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l,u){var d=o(u);return d.formatToParts?s(d,l):i(d,l)}var r={year:0,month:1,day:2,hour:3,minute:4,second:5};function s(l,u){try{for(var d=l.formatToParts(u),h=[],f=0;f<d.length;f++){var g=r[d[f].type];g>=0&&(h[g]=parseInt(d[f].value,10))}return h}catch(b){if(b instanceof RangeError)return[NaN];throw b}}function i(l,u){var d=l.format(u).replace(/\u200E/g,""),h=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(d);return[h[3],h[1],h[2],h[4],h[5],h[6]]}var a={};function o(l){if(!a[l]){var u=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),d=u==="06/25/2014, 00:00:00"||u==="06/25/2014 00:00:00";a[l]=d?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return a[l]}n.exports=e.default})(wE,wE.exports);var bde=wE.exports,EE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s,i,a,o,l,u){var d=new Date(0);return d.setUTCFullYear(r,s,i),d.setUTCHours(a,o,l,u),d}n.exports=e.default})(EE,EE.exports);var X$=EE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(bde),r=s(X$);function s(y){return y&&y.__esModule?y:{default:y}}var i=36e5,a=6e4,o={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function l(y,_,m){var E,w;if(!y||(E=o.timezoneZ.exec(y),E))return 0;var S;if(E=o.timezoneHH.exec(y),E)return S=parseInt(E[1],10),f(S)?-(S*i):NaN;if(E=o.timezoneHHMM.exec(y),E){S=parseInt(E[1],10);var O=parseInt(E[2],10);return f(S,O)?(w=Math.abs(S)*i+O*a,S>0?-w:w):NaN}if(b(y)){_=new Date(_||Date.now());var x=m?_:u(_),I=d(x,y),T=m?I:h(_,I,y);return-T}return NaN}function u(y){return(0,r.default)(y.getFullYear(),y.getMonth(),y.getDate(),y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds())}function d(y,_){var m=(0,t.default)(y,_),E=(0,r.default)(m[0],m[1]-1,m[2],m[3]%24,m[4],m[5],0).getTime(),w=y.getTime(),S=w%1e3;return w-=S>=0?S:1e3+S,E-w}function h(y,_,m){var E=y.getTime(),w=E-_,S=d(new Date(w),m);if(_===S)return _;w-=S-_;var O=d(new Date(w),m);return S===O?S:Math.max(S,O)}function f(y,_){return-23<=y&&y<=23&&(_==null||0<=_&&_<=59)}var g={};function b(y){if(g[y])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:y}),g[y]=!0,!0}catch{return!1}}n.exports=e.default})(bE,bE.exports);var rp=bE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(_de),r=s(rp);function s(g){return g&&g.__esModule?g:{default:g}}var i=60*1e3,a={X:function(g,b,y,_){var m=o(_.timeZone,_._originalDate||g);if(m===0)return"Z";switch(b){case"X":return d(m);case"XXXX":case"XX":return u(m);case"XXXXX":case"XXX":default:return u(m,":")}},x:function(g,b,y,_){var m=o(_.timeZone,_._originalDate||g);switch(b){case"x":return d(m);case"xxxx":case"xx":return u(m);case"xxxxx":case"xxx":default:return u(m,":")}},O:function(g,b,y,_){var m=o(_.timeZone,_._originalDate||g);switch(b){case"O":case"OO":case"OOO":return"GMT"+h(m,":");case"OOOO":default:return"GMT"+u(m,":")}},z:function(g,b,y,_){var m=_._originalDate||g;switch(b){case"z":case"zz":case"zzz":return(0,t.default)("short",m,_);case"zzzz":default:return(0,t.default)("long",m,_)}}};function o(g,b){var y=g?(0,r.default)(g,b,!0)/i:b.getTimezoneOffset();if(Number.isNaN(y))throw new RangeError("Invalid time zone specified: "+g);return y}function l(g,b){for(var y=g<0?"-":"",_=Math.abs(g).toString();_.length<b;)_="0"+_;return y+_}function u(g,b){var y=b||"",_=g>0?"-":"+",m=Math.abs(g),E=l(Math.floor(m/60),2),w=l(Math.floor(m%60),2);return _+E+y+w}function d(g,b){if(g%60===0){var y=g>0?"-":"+";return y+l(Math.abs(g)/60,2)}return u(g,b)}function h(g,b){var y=g>0?"-":"+",_=Math.abs(g),m=Math.floor(_/60),E=_%60;if(E===0)return y+String(m);var w=b;return y+String(m)+w+l(E,2)}var f=a;e.default=f,n.exports=e.default})(yE,yE.exports);var wde=yE.exports,SE={exports:{}},CE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,r=t;e.default=r,n.exports=e.default})(CE,CE.exports);var Q$=CE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=a(du),r=a(q$),s=a(rp),i=a(Q$);function a(T){return T&&T.__esModule?T:{default:T}}var o=36e5,l=6e4,u=2,d={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:i.default};function h(T,P){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(T===null)return new Date(NaN);var A=P||{},k=A.additionalDigits==null?u:(0,t.default)(A.additionalDigits);if(k!==2&&k!==1&&k!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(T instanceof Date||typeof T=="object"&&Object.prototype.toString.call(T)==="[object Date]")return new Date(T.getTime());if(typeof T=="number"||Object.prototype.toString.call(T)==="[object Number]")return new Date(T);if(!(typeof T=="string"||Object.prototype.toString.call(T)==="[object String]"))return new Date(NaN);var L=f(T),N=g(L.date,k),K=N.year,G=N.restDateString,z=b(G,K);if(isNaN(z))return new Date(NaN);if(z){var ee=z.getTime(),V=0,H;if(L.time&&(V=y(L.time),isNaN(V)))return new Date(NaN);if(L.timeZone||A.timeZone){if(H=(0,s.default)(L.timeZone||A.timeZone,new Date(ee+V)),isNaN(H))return new Date(NaN)}else H=(0,r.default)(new Date(ee+V)),H=(0,r.default)(new Date(ee+V+H));return new Date(ee+V+H)}else return new Date(NaN)}function f(T){var P={},A=d.dateTimePattern.exec(T),k;if(A?(P.date=A[1],k=A[3]):(A=d.datePattern.exec(T),A?(P.date=A[1],k=A[2]):(P.date=null,k=T)),k){var L=d.timeZone.exec(k);L?(P.time=k.replace(L[1],""),P.timeZone=L[1].trim()):P.time=k}return P}function g(T,P){var A=d.YYY[P],k=d.YYYYY[P],L;if(L=d.YYYY.exec(T)||k.exec(T),L){var N=L[1];return{year:parseInt(N,10),restDateString:T.slice(N.length)}}if(L=d.YY.exec(T)||A.exec(T),L){var K=L[1];return{year:parseInt(K,10)*100,restDateString:T.slice(K.length)}}return{year:null}}function b(T,P){if(P===null)return null;var A,k,L,N;if(T.length===0)return k=new Date(0),k.setUTCFullYear(P),k;if(A=d.MM.exec(T),A)return k=new Date(0),L=parseInt(A[1],10)-1,S(P,L)?(k.setUTCFullYear(P,L),k):new Date(NaN);if(A=d.DDD.exec(T),A){k=new Date(0);var K=parseInt(A[1],10);return O(P,K)?(k.setUTCFullYear(P,0,K),k):new Date(NaN)}if(A=d.MMDD.exec(T),A){k=new Date(0),L=parseInt(A[1],10)-1;var G=parseInt(A[2],10);return S(P,L,G)?(k.setUTCFullYear(P,L,G),k):new Date(NaN)}if(A=d.Www.exec(T),A)return N=parseInt(A[1],10)-1,x(P,N)?_(P,N):new Date(NaN);if(A=d.WwwD.exec(T),A){N=parseInt(A[1],10)-1;var z=parseInt(A[2],10)-1;return x(P,N,z)?_(P,N,z):new Date(NaN)}return null}function y(T){var P,A,k;if(P=d.HH.exec(T),P)return A=parseFloat(P[1].replace(",",".")),I(A)?A%24*o:NaN;if(P=d.HHMM.exec(T),P)return A=parseInt(P[1],10),k=parseFloat(P[2].replace(",",".")),I(A,k)?A%24*o+k*l:NaN;if(P=d.HHMMSS.exec(T),P){A=parseInt(P[1],10),k=parseInt(P[2],10);var L=parseFloat(P[3].replace(",","."));return I(A,k,L)?A%24*o+k*l+L*1e3:NaN}return null}function _(T,P,A){P=P||0,A=A||0;var k=new Date(0);k.setUTCFullYear(T,0,4);var L=k.getUTCDay()||7,N=P*7+A+1-L;return k.setUTCDate(k.getUTCDate()+N),k}var m=[31,28,31,30,31,30,31,31,30,31,30,31],E=[31,29,31,30,31,30,31,31,30,31,30,31];function w(T){return T%400===0||T%4===0&&T%100!==0}function S(T,P,A){if(P<0||P>11)return!1;if(A!=null){if(A<1)return!1;var k=w(T);if(k&&A>E[P]||!k&&A>m[P])return!1}return!0}function O(T,P){if(P<1)return!1;var A=w(T);return!(A&&P>366||!A&&P>365)}function x(T,P,A){return!(P<0||P>52||A!=null&&(A<0||A>6))}function I(T,P,A){return!(T!=null&&(T<0||T>=25)||P!=null&&(P<0||P>=60)||A!=null&&(A<0||A>=60))}n.exports=e.default})(SE,SE.exports);var Ny=SE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(yde),r=i(wde),s=i(Ny);function i(l){return l&&l.__esModule?l:{default:l}}var a=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function o(l,u,d){var h=String(u),f=d||{},g=h.match(a);if(g){var b=(0,s.default)(l,f);h=g.reduce(function(y,_){if(_[0]==="'")return y;var m=y.indexOf(_),E=y[m-1]==="'",w=y.replace(_,"'"+r.default[_[0]](b,_,null,f)+"'");return E?w.substring(0,m-1)+w.substring(m+1):w},h)}return(0,t.default)(l,h,f)}n.exports=e.default})(Fw,Fw.exports);var Z$=Fw.exports,TE={exports:{}},IE={exports:{}},OE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r}n.exports=e.default})(OE,OE.exports);var Ede=OE.exports;(function(n,e){var t=un.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=t(Ede);function s(i){return(0,r.default)({},i)}n.exports=e.default})(IE,IE.exports);var J$=IE.exports,PE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(rp),r=s(Ny);function s(a){return a&&a.__esModule?a:{default:a}}function i(a,o,l){var u=(0,r.default)(a,l),d=(0,t.default)(o,u,!0),h=new Date(u.getTime()-d),f=new Date(0);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}n.exports=e.default})(PE,PE.exports);var eF=PE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(J$),r=i(Z$),s=i(eF);function i(o){return o&&o.__esModule?o:{default:o}}function a(o,l,u,d){var h=(0,t.default)(d);return h.timeZone=l,(0,r.default)((0,s.default)(o,l),u,h)}n.exports=e.default})(TE,TE.exports);var Sde=TE.exports,xE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(rp);function r(i){return i&&i.__esModule?i:{default:i}}function s(i,a){return-(0,t.default)(i,a)}n.exports=e.default})(xE,xE.exports);var Cde=xE.exports,RE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=o(J$),r=o(Ny),s=o(Q$),i=o(rp),a=o(X$);function o(u){return u&&u.__esModule?u:{default:u}}function l(u,d,h){if(typeof u=="string"&&!u.match(s.default)){var f=(0,t.default)(h);return f.timeZone=d,(0,r.default)(u,f)}var g=(0,r.default)(u,h),b=(0,a.default)(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds()).getTime(),y=(0,i.default)(d,new Date(b));return new Date(b+y)}n.exports=e.default})(RE,RE.exports);var Tde=RE.exports,tF={format:Z$,formatInTimeZone:Sde,getTimezoneOffset:Cde,toDate:Ny,utcToZonedTime:eF,zonedTimeToUtc:Tde};const Ide=[[-11,["Pacific/Midway"]],[-10,["Pacific/Honolulu"]],[-9.5,["Pacific/Marquesas"]],[-9,["Pacific/Gambier"]],[-8,["Pacific/Pitcairn"]],[-7,["America/Phoenix"]],[-6,["America/Tegucigalpa"]],[-5,["America/Bogota"]],[-4,["America/Puerto_Rico"]],[-3.5,["America/St_Johns"]],[-3,["America/Montevideo"]],[-2,["Atlantic/South_Georgia"]],[-1,["Atlantic/Cape_Verde"]],[0,["Africa/Accra"]],[1,["Africa/Bangui"]],[2,["Africa/Cairo"]],[3,["Asia/Bahrain","Indian/Antananarivo"]],[3.5,["Asia/Tehran"]],[4,["Asia/Dubai","Asia/Muscat"]],[4.5,["Asia/Kabul"]],[5,["Asia/Samarkand","Asia/Karachi"]],[5.5,["Asia/Kolkata"]],[5.75,["Asia/Kathmandu"]],[6,["Asia/Dhaka"]],[6.5,["Asia/Rangoon","Asia/Rangoon"]],[7,["Asia/Jakarta","Asia/Phnom_Penh","Asia/Bangkok"]],[8,["Asia/Shanghai","Asia/Singapore"]],[8.75,["Australia/Eucla"]],[9,["Asia/Tokyo","Asia/Seoul","Asia/Pyongyang"]],[9.5,["Australia/Darwin"]],[10,["Pacific/Guam"]],[10.5,["Australia/Adelaide"]],[11,["Pacific/Guadalcanal"]],[12,["Pacific/Funafuti"]],[13,["Pacific/Enderbury"]],[13.75,["Pacific/Chatham"]],[14,["Pacific/Kiritimati"]]],tR={0:"Etc/GMT",1:"Etc/GMT-1",2:"Etc/GMT-2",3:"Etc/GMT-3",4:"Etc/GMT-4",5:"Etc/GMT-5",6:"Etc/GMT-6",7:"Etc/GMT-7",8:"Etc/GMT-8",9:"Etc/GMT-9",10:"Etc/GMT-10",11:"Etc/GMT-11",12:"Etc/GMT-12",13:"Etc/GMT-13",14:"Etc/GMT-14","-1":"Etc/GMT+1","-2":"Etc/GMT+2","-3":"Etc/GMT+3","-4":"Etc/GMT+4","-5":"Etc/GMT+5","-6":"Etc/GMT+6","-7":"Etc/GMT+7","-8":"Etc/GMT+8","-9":"Etc/GMT+9","-10":"Etc/GMT+10","-11":"Etc/GMT+11","-12":"Etc/GMT+12"},Ode=/([\-\+]{1})(\d{2})\:(\d{2})/,nF=n=>{let e=null;if(typeof n=="string"){if(e=n.match(Ode),!e)return n;const t=parseInt(e[1]+1,10),r=parseInt(e[2],10),s=parseInt(e[3],10);n=t*(r+s/60)}if(typeof n=="number"){if(n in tR){const r=tR[n];if(Pde(r))return r}const t=Ide.find(r=>r[0]===n);return t&&t[1][0]}},nR={};function Pde(n){if(nR[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),nR[n]=!0,!0}catch{return!1}}const AE=(n,e,t)=>tF.utcToZonedTime(n,nF(e),t),pc=(n,e,t)=>tF.zonedTimeToUtc(n,nF(e),t);function nn(n,e,t,r){let s=null;if(n){e&&(t=t||new Date,s=y2(n,e,t,{locale:r})),Ns(s)||(s=js(n)),Ns(s)||(s=new Date(Date.parse(n)));const i=Ns(s)&&String(s.getFullYear()).length>4;(!Ns(s)||i)&&(s=null)}return s}function zg(n){const{format:e,type:t}=n,r=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4})/i,s=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4}) (H{0,2}[^a-z\s]*m{0,2}[^a-z\s]*s{0,2})/i,i=vo(t);let a;switch(t){case"dateTime":case"dateTimeRange":const o=s.exec(e);a=o&&o[1]&&o[2]?`${o[1]} ${o[2]}`:i;break;case"date":case"month":case"monthRange":case"dateRange":default:const l=r.exec(e);a=l&&l[1]||i;break}return a}function DE(n){const e=" ",{inputValue:t="",rangeSeparator:r,type:s}=n;let i,a,o,l;const u={monthLeft:{dateInput:"",timeInput:""},monthRight:{dateInput:"",timeInput:""}};switch(s){case"date":case"month":case"monthRange":u.monthLeft.dateInput=t;break;case"dateRange":[i="",o=""]=t.split(r),u.monthLeft.dateInput=i,u.monthRight.dateInput=o;break;case"dateTime":[i="",a=""]=t.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=a;break;case"dateTimeRange":const[d="",h=""]=t.split(r);[i="",a=""]=d.split(e),[o="",l=""]=h.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=a,u.monthRight.dateInput=o,u.monthRight.timeInput=l;break}return u}function Kg(n){return["string","number"].includes(typeof n)&&n!==""}class xde extends ke{constructor(e){super(Object.assign({},e)),this.clearRangeInputFocus=()=>{const{type:t}=this._adapter.getProps(),{rangeInputFocus:r}=this._adapter.getStates();t==="dateTimeRange"&&r&&this._adapter.setRangeInputFocus(!1)},this._isRangeType=()=>{const t=this._adapter.getProp("type");return/range/i.test(t)},this._isRangeValueComplete=t=>{let r=!1;return Array.isArray(t)&&(r=!t.some(s=>_t(s))),r}}init(){const e=this.getProp("timeZone");this._isControlledComponent()?this.initFromProps({timeZone:e,value:this.getProp("value")}):this._isInProps("defaultValue")&&this.initFromProps({timeZone:e,value:this.getProp("defaultValue")}),this.initPanelOpenStatus(this.getProp("defaultOpen"))}initFromProps(e){let{value:t,timeZone:r,prevTimeZone:s}=e;const i=(Array.isArray(t)?[...t]:(t||t===0)&&[t])||[],a=this.parseWithTimezone(i,r,s);this._adapter.updatePrevTimezone(s),this.clearInputValue(),this._adapter.updateValue(a),this.resetCachedSelectedValue(a),this.initRangeInputFocus(a),this._adapter.needConfirm()&&this._adapter.updateCachedSelectedValue(a)}initRangeInputFocus(e){const{triggerRender:t}=this.getProps();this._isRangeType()&&De(t)&&e.length===0&&this._adapter.setRangeInputFocus("rangeStart")}parseWithTimezone(e,t,r){const s=[];if(Array.isArray(e)&&e.length)for(const i of e){let a=(i||i===0)&&this._parseValue(i);a?(Kg(r)&&(a=pc(a,r)),s.push(Kg(t)?AE(a,t):a)):zt(!0,`[Semi DatePicker] value cannot be parsed, value: ${String(i)}`)}return s}_isMultiple(){return!!this.getProp("multiple")}_parseValue(e){const t=this._adapter.getProp("dateFnsLocale");let r;if(!e&&e!==0)return new Date;if(Us(e))r=e;else if(Re(e))r=nn(e,this.getProp("format"),void 0,t);else if($w(e))r=new Date(e);else throw new TypeError("defaultValue should be valid Date object/timestamp or string");return r}destroy(){this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide()}initPanelOpenStatus(e){(this.getProp("open")||e)&&!this.getProp("disabled")?(this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()):(this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide())}openPanel(){this.getProp("disabled")||(this._isControlledComponent("open")||this.open(),this._adapter.notifyOpenChange(!0))}clearInsetInputValue(){const{insetInput:e}=this._adapter.getProps();e&&this._adapter.updateInsetInputValue(null)}resetCachedSelectedValue(e){const{value:t,cachedSelectedValue:r}=this._adapter.getStates(),s=Array.isArray(e)?e:t;Fe(s,r)||this._adapter.updateCachedSelectedValue(s)}closePanel(){this._isControlledComponent("open")?this.resetInnerSelectedStates():this.close(),this._adapter.notifyOpenChange(!1)}open(){this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()}close(){this._adapter.togglePanel(!1),this.resetInnerSelectedStates(),this._adapter.unregisterClickOutSide()}focus(e){if(this._isRangeType()){const t=e??"rangeStart";this._adapter.setRangeInputFocus(t)}else this._adapter.setInputFocus()}blur(){this._isRangeType()?this._adapter.setRangeInputBlur():this._adapter.setInputBlur()}resetInnerSelectedStates(){setTimeout(()=>{const{value:e,cachedSelectedValue:t}=this._adapter.getStates();Fe(e,t)||this.resetCachedSelectedValue(e)},0),this.resetFocus(),this.clearInputValue()}resetFocus(e){this._adapter.setRangeInputFocus(!1),this._adapter.notifyBlur(e)}isCachedSelectedValueValid(e){const t=e||this._adapter.getState("cachedSelectedValue"),{type:r}=this._adapter.getProps();let s=!0;switch(!0){case r==="dateRange":case r==="dateTimeRange":this._isRangeValueComplete(t)||(s=!1);break;default:const i=t==null?void 0:t.filter(a=>a);Array.isArray(i)&&i.length||(s=!1);break}return s}clearInputValue(){this._adapter.updateInputValue(null),this._adapter.updateInsetInputValue(null)}handleInputChange(e,t){const r=this._isMultiple()?this.parseMultipleInput(e):this.parseInput(e),{value:s}=this.getStates();if(this._updateCachedSelectedValueFromInput(e),r&&r.length||e===""){if(Z(t,qo.CLEARBTN_CLICKED_EVENT_FLAG)&&this._isControlledComponent("value")){this._notifyChange(r);return}this._updateValueAndInput(r,e==="",e);const i=this._getChangedDates(r);this._someDateDisabled(i,r)||Fe(r,s)||this._notifyChange(r)}else this._adapter.updateInputValue(e)}handleInsetInputChange(e){const{insetInputStr:t,format:r,insetInputValue:s}=e,i=this._isMultiple(),a=i?this.parseMultipleInput(t,r):this.parseInput(t,r),{value:o}=this.getStates();if(this._updateCachedSelectedValueFromInput(t),a&&a.length){const l=this._getChangedDates(a);if(!this._someDateDisabled(l,a)){Fe(a,o)||(!this._isControlledComponent()&&!this._adapter.needConfirm()&&this._adapter.updateValue(a),this._notifyChange(a));const u=i?this.formatMultipleDates(a):this.formatDates(a);this._adapter.updateInputValue(u)}}this._adapter.updateInsetInputValue(s)}_updateCachedSelectedValueFromInput(e){const t=this.getLooseDateFromInput(e),r=this._getChangedDates(t);this._someDateDisabled(r,t)||this.resetCachedSelectedValue(t)}handleInputBlur(){}handleRangeEndTabPress(e){this._adapter.setRangeInputFocus(!1)}handleInputFocus(e,t){const r=this._adapter.getState("rangeInputFocus");t&&this._adapter.setRangeInputFocus(t),(!t||!["rangeStart","rangeEnd"].includes(r))&&this._adapter.notifyFocus(e,t)}handleSetRangeFocus(e){this._adapter.setRangeInputFocus(e)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){const t=[];this._isControlledComponent("value")||(this._updateValueAndInput(t,!0,""),this._adapter.updateInsetInputValue(null),this.resetCachedSelectedValue(t)),this._notifyChange(t),this._adapter.setRangeInputFocus(!1),this._adapter.notifyClear(e)}handleRangeInputBlur(e,t){}handleInputComplete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e?this._isMultiple()?this.parseMultipleInput(e,",",!0):this.parseInput(e):[];if(t=t&&t.length?t:this.getState("value"),!t||!t.length){const i=new Date;this._isRangeType()?t=[i,i]:t=[i]}this._updateValueAndInput(t);const{value:r}=this.getStates(),s=this._getChangedDates(t);!this._someDateDisabled(s,t)&&!Fe(t,r)&&this._notifyChange(t)}parseInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=[];const{dateFnsLocale:s,rangeSeparator:i}=this.getProps();if(e&&e.length){const a=this.getProp("type"),o=t||this.getProp("format")||vo(a);let l,u;const d=new Date;switch(a){case"date":case"dateTime":case"month":l=e?nn(e,o,d,s):"",u=l&&Ns(l)&&this.localeFormat(l,o),l&&u===e&&(r=[l]);break;case"dateRange":case"dateTimeRange":case"monthRange":const h=i,f=e.split(h);l=f&&f.reduce((g,b)=>{const y=b&&nn(b,o,d,s);return y&&g.push(y),g},[]),u=l&&l.map(g=>g&&Ns(g)&&this.localeFormat(g,o)).join(h),l&&u===e&&(l.sort((g,b)=>g.getTime()-b.getTime()),r=l);break}}return r}getLooseDateFromInput(e){return this._isMultiple()?this.parseMultipleInputLoose(e):this.parseInputLoose(e)}parseInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=[];const{dateFnsLocale:r,rangeSeparator:s,type:i,format:a}=this.getProps();if(e&&e.length){const o=a||vo(i);let l,u;const d=new Date;switch(i){case"date":case"dateTime":case"month":const h=nn(e,o,d,r);Us(h)?(u=this.localeFormat(h,o),u===e&&(l=h)):l=null,t=[l];break;case"dateRange":case"dateTimeRange":const f=s,g=e.split(f);l=g&&g.reduce((b,y)=>{let _=null;const m=nn(y,o,d,r);return Us(m)&&(u=this.localeFormat(m,o),u===y&&(_=m)),b.push(_),b},[]),Array.isArray(l)&&l.every(b=>Ns(b))&&l.sort((b,y)=>b.getTime()-y.getTime()),t=l;break}}return t}parseMultipleInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),a=[];for(const o of i){let l=o&&this.parseInputLoose(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!a.filter(u=>!!l.find(d=>px(u,d)))&&a.push(...l):a.push(...l);else return[];if(s&&s>0&&a.length>s)return[]}return a}parseMultipleInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),a=[];for(const o of i){let l=o&&this.parseInput(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!a.filter(u=>!!l.find(d=>px(u,d)))&&a.push(...l):a.push(...l);else return[];if(s&&s>0&&a.length>s)return[]}return a}formatDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r="";const s=this.getProp("rangeSeparator");if(Array.isArray(e)&&e.length){const i=this.getProp("type"),a=t||this.getProp("format")||vo(i);switch(i){case"date":case"dateTime":case"month":r=this.localeFormat(e[0],a);break;case"dateRange":case"dateTimeRange":case"monthRange":const o=!_t(e[0]),l=!_t(e[1]);o&&l?r=`${this.localeFormat(e[0],a)}${s}${this.localeFormat(e[1],a)}`:o?r=`${this.localeFormat(e[0],a)}${s}`:l&&(r=`${s}${this.localeFormat(e[1],a)}`);break}}return r}formatMultipleDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2?arguments[2]:void 0;const s=[];if(Array.isArray(e)&&e.length)switch(this.getProp("type")){case"date":case"dateTime":case"month":e.forEach(a=>s.push(this.formatDates([a],r)));break;case"dateRange":case"dateTimeRange":case"monthRange":for(let a=0;a<e.length;a+=2)s.push(this.formatDates(e.slice(a,a+2),r));break}return s.join(t)}_updateValueAndInput(e,t,r){let s;if(t||e){Array.isArray(e)?s=e:s=e?[e]:[];const i=this._getChangedDates(s);!this._isControlledComponent()&&!this._someDateDisabled(i,s)&&!this._adapter.needConfirm()&&this._adapter.updateValue(s)}this._adapter.updateInputValue(r)}handleSelectedChange(e,t){const{type:r,format:s,rangeSeparator:i,insetInput:a}=this._adapter.getProps(),{value:o}=this.getStates(),l=this._isControlledComponent(),u=Pa(t)?t.fromPreset:t,d=Z(t,"closePanel",!0),h=Z(t,"needCheckFocusRecord",!0),f=Array.isArray(e)?[...e]:e?[e]:[],g=this._getChangedDates(f);let b,y;if(!this._someDateDisabled(g,f)){if(this.resetCachedSelectedValue(f),b=this._isMultiple()?this.formatMultipleDates(f):this.formatDates(f),a){const E=zg({format:s,type:r}),w=this._isMultiple()?this.formatMultipleDates(f,void 0,E):this.formatDates(f,E);y=DE({inputValue:w,type:r,rangeSeparator:i})}if(this._isRangeType()&&!this._isRangeValueComplete(f)){this._adapter.updateInputValue(b),this._adapter.updateInsetInputValue(y);return}else(!l||u)&&(this._updateValueAndInput(f,!0,b),this._adapter.updateInsetInputValue(y));Fe(e,o)||this._notifyChange(e)}const _=!h||h&&this._adapter.couldPanelClosed();(r==="date"&&!this._isMultiple()&&d||r==="dateRange"&&this._isRangeValueComplete(f)&&d&&_)&&this.closePanel()}handleYMSelectedChange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{currentMonth:t,currentYear:r}=e,{type:s}=this.getProps();if(s==="month"){const i=new Date(r.left,t.left-1);this.handleSelectedChange([i])}else{const i=new Date(r.left,t.left-1),a=new Date(r.right,t.right-1);this.handleSelectedChange([i,a])}}handleConfirm(){const{cachedSelectedValue:e,value:t}=this._adapter.getStates(),r=this._isRangeValueComplete(e),s=r?e:t;if(this._adapter.needConfirm()&&!this._isControlledComponent()&&this._adapter.updateValue(s),this.closePanel(),r){const{notifyValue:i,notifyDate:a}=this.disposeCallbackArgs(e);this._adapter.notifyConfirm(a,i)}}handleCancel(){this.closePanel();const e=this.getState("value"),{notifyValue:t,notifyDate:r}=this.disposeCallbackArgs(e);this._adapter.notifyCancel(r,t)}handlePresetClick(e,t){const{type:r,timeZone:s}=this.getProps(),i=this.getState("prevTimezone"),a=typeof e.start=="function"?e.start():e.start,o=typeof e.end=="function"?e.end():e.end;let l;switch(r){case"month":case"dateTime":case"date":l=this.parseWithTimezone([a],s,i),this.handleSelectedChange(l);break;case"dateTimeRange":case"dateRange":l=this.parseWithTimezone([a,o],s,i),this.handleSelectedChange(l,{needCheckFocusRecord:!1});break}this._adapter.notifyPresetsClick(e,t)}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");Kg(r)&&(t=t.map(l=>pc(l,r)));const s=this.getProp("type"),i=this.getProp("format")||vo(s);let a,o;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],i),[o]=t);break;case"dateRange":case"dateTimeRange":case"monthRange":a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t];break}return{notifyValue:a,notifyDate:o}}_notifyChange(e){if(this._isRangeType()&&!this._isRangeValueComplete(e))return;const{onChangeWithDateFirst:t}=this.getProps(),{notifyValue:r,notifyDate:s}=this.disposeCallbackArgs(e);t?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_getChangedDates(e){const t=this._adapter.getProp("type"),{cachedSelectedValue:r}=this._adapter.getStates(),s=[];switch(t){case"dateRange":case"dateTimeRange":const[i,a]=r,[o,l]=e;Gm(o,i)||s.push(o),Gm(l,a)||s.push(l);break;default:const u=new Set;r.forEach(d=>u.add(Tw(d)&&d.valueOf()));for(const d of e)u.has(Tw(d)&&d.valueOf())||s.push(d)}return s}_someDateDisabled(e,t){const{rangeInputFocus:r}=this.getStates(),s={rangeStart:"",rangeEnd:"",rangeInputFocus:r};if(this._isRangeType()&&Array.isArray(t)){if(Ns(t[0])){const a=ot(t[0],"yyyy-MM-dd");s.rangeStart=a}if(Ns(t[1])){const a=ot(t[1],"yyyy-MM-dd");s.rangeEnd=a}}let i=!1;for(const a of e)if(!_t(a)&&this.disabledDisposeDate(a,s)){i=!0;break}return i}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return ot(e,t,{locale:r})}disposeDateFn(e,t){const{notifyDate:r}=this.disposeCallbackArgs(t),s=Array.isArray(t),i=Array.isArray(r);let a;s===i?a=r:a=s?[r]:r[0];for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];return e(a,...l)}disabledDisposeDate(e){const{disabledDate:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}disabledDisposeTime(e){const{disabledTime:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}handleTriggerWrapperClick(e){const{disabled:t,triggerRender:r}=this._adapter.getProps(),{rangeInputFocus:s}=this._adapter.getStates();t||(this._isRangeType()&&!s?(this._adapter.isEventTarget(e)?setTimeout(()=>{this.handleInputFocus(e,"rangeStart")},0):De(r)&&this._adapter.setRangeInputFocus("rangeStart"),this.openPanel()):this.openPanel())}handlePanelVisibleChange(e){e?(this._adapter.setInsetInputFocus(),setTimeout(()=>{this._adapter.setTriggerDisabled(!0)},0)):this._adapter.setTriggerDisabled(!1)}}function Ou(n,e){let{groupInnerSeparator:t=Q.DEFAULT_SEPARATOR_RANGE,groupSize:r=1,groupSeparator:s=Q.DEFAULT_SEPARATOR_MULTIPLE}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,a="";if((r<=0||typeof r!="number")&&(r=1),Array.isArray(n)&&n.length){const o=[],{length:l}=n;for(let u=0;u<l;u++){u%r===0&&o.push([]);const d=Math.floor(u/r);o[d].push(n[u])}a=o.map(u=>u.map(d=>d?ot(d,e,{locale:i}):"").join(t)).join(s)}return a}function rF(n){const{defaultPickerValue:e,format:t,dateFnsLocale:r}=n;let s=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:void 0;switch(!0){case Us(s):break;case $w(s):s=new Date(s);break;case typeof s=="string":s=nn(s,t,void 0,r);break;default:s=new Date;break}switch(!0){case Us(i):break;case $w(i):i=new Date(i);break;case typeof i=="string":i=nn(i,t,void 0,r);break;default:i=go(s,1);break}return{nowDate:s,nextDate:i}}var Rde=Function.prototype.toString,Rb=Object.create,Ade=Object.prototype.toString,Dde=function(){function n(){this._keys=[],this._values=[]}return n.prototype.has=function(e){return!!~this._keys.indexOf(e)},n.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},n.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},n}();function kde(){return new Dde}function Nde(){return new WeakMap}var Mde=typeof WeakMap<"u"?Nde:kde;function _T(n){if(!n)return Rb(null);var e=n.constructor;if(e===Object)return n===Object.prototype?{}:Rb(n);if(e&&~Rde.call(e).indexOf("[native code]"))try{return new e}catch{}return Rb(n)}function Lde(n){var e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}function $de(n){return n.flags}var Fde=/test/g.flags==="g"?$de:Lde;function sF(n){var e=Ade.call(n);return e.substring(8,e.length-1)}function Vde(n){return n[Symbol.toStringTag]||sF(n)}var jde=typeof Symbol<"u"?Vde:sF,Ude=Object.defineProperty,Bde=Object.getOwnPropertyDescriptor,iF=Object.getOwnPropertyNames,bT=Object.getOwnPropertySymbols,aF=Object.prototype,oF=aF.hasOwnProperty,Hde=aF.propertyIsEnumerable,lF=typeof bT=="function";function zde(n){return iF(n).concat(bT(n))}var Kde=lF?zde:iF;function My(n,e,t){for(var r=Kde(n),s=0,i=r.length,a=void 0,o=void 0;s<i;++s)if(a=r[s],!(a==="callee"||a==="caller")){if(o=Bde(n,a),!o){e[a]=t.copier(n[a],t);continue}!o.get&&!o.set&&(o.value=t.copier(o.value,t));try{Ude(e,a,o)}catch{e[a]=o.value}}return e}function Wde(n,e){var t=new e.Constructor;e.cache.set(n,t);for(var r=0,s=n.length;r<s;++r)t[r]=e.copier(n[r],e);return t}function Gde(n,e){var t=new e.Constructor;return e.cache.set(n,t),My(n,t,e)}function uF(n,e){return n.slice(0)}function Yde(n,e){return n.slice(0,n.size,n.type)}function qde(n,e){return new e.Constructor(uF(n.buffer))}function Xde(n,e){return new e.Constructor(n.getTime())}function cF(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r,s){t.set(s,e.copier(r,e))}),t}function Qde(n,e){return My(n,cF(n,e),e)}function Zde(n,e){var t=_T(e.prototype);e.cache.set(n,t);for(var r in n)oF.call(n,r)&&(t[r]=e.copier(n[r],e));return t}function Jde(n,e){var t=_T(e.prototype);e.cache.set(n,t);for(var r in n)oF.call(n,r)&&(t[r]=e.copier(n[r],e));for(var s=bT(n),i=0,a=s.length,o=void 0;i<a;++i)o=s[i],Hde.call(n,o)&&(t[o]=e.copier(n[o],e));return t}var ehe=lF?Jde:Zde;function the(n,e){var t=_T(e.prototype);return e.cache.set(n,t),My(n,t,e)}function Ab(n,e){return new e.Constructor(n.valueOf())}function nhe(n,e){var t=new e.Constructor(n.source,Fde(n));return t.lastIndex=n.lastIndex,t}function Wg(n,e){return n}function dF(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r){t.add(e.copier(r,e))}),t}function rhe(n,e){return My(n,dF(n,e),e)}var she=Array.isArray,wT=Object.assign,ihe=Object.getPrototypeOf||function(n){return n.__proto__},hF={array:Wde,arrayBuffer:uF,blob:Yde,dataView:qde,date:Xde,error:Wg,map:cF,object:ehe,regExp:nhe,set:dF},ahe=wT({},hF,{array:Gde,map:Qde,object:the,set:rhe});function ohe(n){return{Arguments:n.object,Array:n.array,ArrayBuffer:n.arrayBuffer,Blob:n.blob,Boolean:Ab,DataView:n.dataView,Date:n.date,Error:n.error,Float32Array:n.arrayBuffer,Float64Array:n.arrayBuffer,Int8Array:n.arrayBuffer,Int16Array:n.arrayBuffer,Int32Array:n.arrayBuffer,Map:n.map,Number:Ab,Object:n.object,Promise:Wg,RegExp:n.regExp,Set:n.set,String:Ab,WeakMap:Wg,WeakSet:Wg,Uint8Array:n.arrayBuffer,Uint8ClampedArray:n.arrayBuffer,Uint16Array:n.arrayBuffer,Uint32Array:n.arrayBuffer,Uint64Array:n.arrayBuffer}}function fF(n){var e=wT({},hF,n),t=ohe(e),r=t.Array,s=t.Object;function i(a,o){if(o.prototype=o.Constructor=void 0,!a||typeof a!="object")return a;if(o.cache.has(a))return o.cache.get(a);if(o.prototype=ihe(a),o.Constructor=o.prototype&&o.prototype.constructor,!o.Constructor||o.Constructor===Object)return s(a,o);if(she(a))return r(a,o);var l=t[jde(a)];return l?l(a,o):typeof a.then=="function"?a:s(a,o)}return function(o){return i(o,{Constructor:void 0,cache:Mde(),copier:i,prototype:void 0})}}function lhe(n){return fF(wT({},ahe,n))}lhe({});var Da=fF({});const rR="Enter",uhe="Tab";class che extends ke{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleClick(e){this._adapter.notifyClick(e)}handleChange(e,t){this._adapter.notifyChange(e,t)}handleInputComplete(e){e.key===rR&&this._adapter.notifyEnter(e.target.value)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){this.stopPropagation(e),this._adapter.notifyRangeInputClear(e)}handleRangeInputEnterPress(e,t){e.key===rR&&this._adapter.notifyEnter(t)}handleRangeInputEndKeyPress(e){e.key===uhe&&this._adapter.notifyTabPress(e)}handleRangeInputFocus(e,t){this._adapter.notifyRangeInputFocus(e,t)}formatShowText(e,t){const{type:r,dateFnsLocale:s,format:i,rangeSeparator:a}=this._adapter.getProps(),o=t||i||vo(r);let l="";switch(r){case"date":l=Ou(e,o,void 0,s);break;case"dateRange":l=Ou(e,o,{groupSize:2,groupInnerSeparator:a},s);break;case"dateTime":l=Ou(e,o,void 0,s);break;case"dateTimeRange":l=Ou(e,o,{groupSize:2,groupInnerSeparator:a},s);break;case"month":l=Ou(e,o,void 0,s);break;case"monthRange":l=Ou(e,o,{groupSize:2,groupInnerSeparator:a},s);break}return l}handleInsetInputChange(e){const{value:t,valuePath:r,insetInputValue:s}=e,{format:i,type:a,rangeSeparator:o}=this._adapter.getProps(),l=zg({type:a,format:i}),u=dc(Da(s),r,t),d=this.concatInsetInputValue({insetInputValue:u}),h=DE({inputValue:d,type:a,rangeSeparator:o}),f=this._autoFillTimeToInsetInputValue({insetInputValue:h,valuePath:r,format:l}),g=this.concatInsetInputValue({insetInputValue:f});this._adapter.notifyInsetInputChange({insetInputValue:f,format:l,insetInputStr:g})}_autoFillTimeToInsetInputValue(e){const{valuePath:t,insetInputValue:r,format:s}=e,{type:i,defaultPickerValue:a,dateFnsLocale:o}=this._adapter.getProps(),l=Da(r),{nowDate:u,nextDate:d}=rF({defaultPickerValue:a,format:s,dateFnsLocale:o});if(i.includes("Time")){let h="";const f=Z(s.split(" "),"0",Q.FORMAT_FULL_DATE),g=Z(s.split(" "),"1",Q.FORMAT_TIME_PICKER);switch(t){case"monthLeft.dateInput":const b=l.monthLeft.dateInput;if(!l.monthLeft.timeInput&&b.length===f.length){const _=nn(l.monthLeft.dateInput,f);Us(_)&&(h=ot(u,g),l.monthLeft.timeInput=h)}break;case"monthRight.dateInput":const y=l.monthRight.dateInput;if(!l.monthRight.timeInput&&y.length===f.length){const _=nn(y,f);Us(_)&&(h=ot(d,g),l.monthRight.timeInput=h)}break}}return l}getInsetInputPlaceholder(){const{type:e,format:t,rangeSeparator:r}=this._adapter.getProps(),s=zg({type:e,format:t});let i,a;switch(e){case"date":case"month":case"dateRange":i=s;break;case"dateTime":case"dateTimeRange":[i,a]=s.split(" ");break;case"monthRange":i=s+r+s;break}return{datePlaceholder:i,timePlaceholder:a}}getInsetInputValue(e){let{value:t,insetInputValue:r}=e;const{type:s,rangeSeparator:i,format:a}=this._adapter.getProps();let o="";if(Pa(r))o=this.concatInsetInputValue({insetInputValue:r});else{const u=zg({format:a,type:s});o=this.formatShowText(t,u)}return DE({inputValue:o,type:s,rangeSeparator:i})}concatInsetDateAndTime(e){let{date:t,time:r}=e;return`${t} ${r}`}concatInsetDateRange(e){let{rangeStart:t,rangeEnd:r}=e;const{rangeSeparator:s}=this._adapter.getProps();return`${t}${s}${r}`}concatInsetInputValue(e){let{insetInputValue:t}=e;const{type:r}=this._adapter.getProps();let s="";switch(r){case"date":case"month":case"monthRange":s=t.monthLeft.dateInput;break;case"dateRange":s=this.concatInsetDateRange({rangeStart:t.monthLeft.dateInput,rangeEnd:t.monthRight.dateInput});break;case"dateTime":s=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput});break;case"dateTimeRange":const i=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput}),a=this.concatInsetDateAndTime({date:t.monthRight.dateInput,time:t.monthRight.timeInput});s=this.concatInsetDateRange({rangeStart:i,rangeEnd:a});break}return s}}function sR(n){const{insetInputValue:e,valuePath:t,onFocus:r,onChange:s,placeholder:i,forwardRef:a}=n,o=Z(e,t);return v.createElement(Hn,{value:o,onChange:(l,u)=>{s({value:l,event:u,insetInputValue:e,valuePath:t})},onFocus:r,placeholder:i,ref:a})}function iR(n){const{insetInputValue:e,valuePath:t,type:r,onFocus:s,onChange:i,placeholder:a,disabled:o}=n;if(!r.includes("Time"))return null;const u=Z(e,t);return v.createElement(Hn,{value:u,onChange:(d,h)=>{i({value:d,event:h,insetInputValue:e,valuePath:t})},onFocus:s,placeholder:a,disabled:o})}var dhe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class lv extends Ae{constructor(e){super(e),this.handleChange=(t,r)=>this.foundation.handleChange(t,r),this.handleEnterPress=t=>this.foundation.handleInputComplete(t),this.handleInputClear=t=>this.foundation.handleInputClear(t),this.handleRangeInputChange=(t,r,s)=>{const i=this.getRangeInputValue(t,r);this.foundation.handleChange(i,s)},this.handleRangeInputClear=t=>{this.foundation.handleRangeInputClear(t)},this.handleRangeInputEnterPress=(t,r,s)=>{const i=this.getRangeInputValue(r,s);this.foundation.handleRangeInputEnterPress(t,i)},this.handleRangeInputEndKeyPress=t=>{this.foundation.handleRangeInputEndKeyPress(t)},this.handleRangeInputFocus=(t,r)=>{this.foundation.handleRangeInputFocus(t,r)},this.handleRangeStartFocus=t=>{this.handleRangeInputFocus(t,"rangeStart")},this.handleInsetInputChange=t=>{this.foundation.handleInsetInputChange(t)},this.getRangeInputValue=(t,r)=>{const{rangeSeparator:s}=this.props;return`${t}${s}${r}`},this.foundation=new che(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateIsFocusing:t=>this.setState({isFocusing:t}),notifyClick:function(){return e.props.onClick(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyEnter:function(){return e.props.onEnterPress(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyRangeInputClear:function(){return e.props.onRangeClear(...arguments)},notifyRangeInputFocus:function(){return e.props.onFocus(...arguments)},notifyTabPress:function(){return e.props.onRangeEndTabPress(...arguments)},notifyInsetInputChange:t=>this.props.onInsetInputChange(t)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}formatText(e){return e&&e.length?this.foundation.formatShowText(e):""}renderRangePrefix(){const{prefix:e,insetLabel:t,prefixCls:r,disabled:s,rangeInputFocus:i}=this.props,a=e||t;return a?v.createElement("div",{className:`${r}-range-input-prefix`,onClick:o=>!s&&!i&&this.handleRangeStartFocus(o),"x-semi-prop":"prefix,insetLabel"},a):null}renderRangeSeparator(e,t){const{disabled:r,rangeSeparator:s}=this.props,i=$({[`${we.PREFIX}-range-input-separator`]:!0,[`${we.PREFIX}-range-input-separator-active`]:(e||t)&&!r});return v.createElement("span",{onClick:a=>!r&&this.handleRangeStartFocus(a),className:i},s)}renderRangeClearBtn(e,t){const{showClear:r,prefixCls:s,disabled:i,clearIcon:a,showClearIgnoreDisabled:o}=this.props;return(e||t)&&r&&!(i&&!o)?v.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear range input value",className:`${s}-range-input-clearbtn`,onMouseDown:d=>this.handleRangeInputClear(d)},a||v.createElement(Yo,{"aria-hidden":!0})):null}renderRangeSuffix(e){const{prefixCls:t,disabled:r,rangeInputFocus:s}=this.props;return e?v.createElement("div",{className:`${t}-range-input-suffix`,onClick:a=>!r&&!s&&this.handleRangeStartFocus(a)},e):null}renderRangeInput(e){const{placeholder:t,inputStyle:r,disabled:s,inputReadOnly:i,autofocus:a,size:o,text:l,suffix:u,inputCls:d,rangeInputStartRef:h,rangeInputEndRef:f,rangeInputFocus:g,prefixCls:b,rangeSeparator:y,borderless:_}=e,[m,E=""]=l.split(y)||[],w=o==="large"?"default":"small",S=Array.isArray(t)?t:[t,t],[O,x]=S,I=$(`${b}-range-input-wrapper-start`,`${b}-range-input-wrapper`,{[`${b}-range-input-wrapper-active`]:g==="rangeStart"&&!s,[`${b}-range-input-wrapper-start-with-prefix`]:this.props.prefix||this.props.insetLabel,[`${b}-borderless`]:_}),T=$(`${b}-range-input-wrapper-end`,`${b}-range-input-wrapper`,{[`${b}-range-input-wrapper-active`]:g==="rangeEnd"&&!s,[`${b}-borderless`]:_});return v.createElement(v.Fragment,null,this.renderRangePrefix(),v.createElement("div",{onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeStart"),className:`${d} ${I}`},v.createElement(Hn,{borderless:_,size:w,style:r,disabled:s,readonly:i,placeholder:O,value:m,onChange:(P,A)=>this.handleRangeInputChange(P,E,A),onEnterPress:P=>this.handleRangeInputEnterPress(P,m,E),onFocus:P=>this.handleRangeInputFocus(P,"rangeStart"),autoFocus:a,ref:h})),this.renderRangeSeparator(m,E),v.createElement("div",{className:`${d} ${T}`,onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeEnd")},v.createElement(Hn,{borderless:_,size:w,style:r,disabled:s,readonly:i,placeholder:x,value:E,onChange:(P,A)=>this.handleRangeInputChange(m,P,A),onEnterPress:P=>this.handleRangeInputEnterPress(P,m,E),onFocus:P=>this.handleRangeInputFocus(P,"rangeEnd"),onKeyDown:this.handleRangeInputEndKeyPress,ref:f})),this.renderRangeClearBtn(m,E),this.renderRangeSuffix(u))}isRenderMultipleInputs(){const{type:e}=this.props;return e.includes("Range")&&e!=="monthRange"}renderInputInset(){const{type:e,handleInsetDateFocus:t,handleInsetTimeFocus:r,value:s,insetInputValue:i,prefixCls:a,rangeInputStartRef:o,rangeInputEndRef:l,density:u,insetInput:d}=this.props,h=this.foundation.getInsetInputValue({value:s,insetInputValue:i}),{dateStart:f,dateEnd:g,timeStart:b,timeEnd:y}=Z(d,"placeholder",{}),{datePlaceholder:_,timePlaceholder:m}=this.foundation.getInsetInputPlaceholder(),E=`${a}-inset-input-wrapper`,w=`${a}-inset-input-separator`;return v.createElement("div",{className:E,"x-type":e},v.createElement(sR,{forwardRef:o,insetInputValue:h,placeholder:f??_,valuePath:"monthLeft.dateInput",onChange:this.handleInsetInputChange,onFocus:S=>t(S,"rangeStart")}),v.createElement(iR,{disabled:!h.monthLeft.dateInput,insetInputValue:h,placeholder:b??m,type:e,valuePath:"monthLeft.timeInput",onChange:this.handleInsetInputChange,onFocus:r}),this.isRenderMultipleInputs()&&v.createElement(v.Fragment,null,v.createElement("div",{className:w},u==="compact"?null:"-"),v.createElement(sR,{forwardRef:l,insetInputValue:h,placeholder:g??_,valuePath:"monthRight.dateInput",onChange:this.handleInsetInputChange,onFocus:S=>t(S,"rangeEnd")}),v.createElement(iR,{disabled:!h.monthRight.dateInput,insetInputValue:h,placeholder:y??m,type:e,valuePath:"monthRight.timeInput",onChange:this.handleInsetInputChange,onFocus:r})))}renderTriggerInput(){const e=this.props,{placeholder:t,type:r,value:s,inputValue:i,inputStyle:a,disabled:o,showClear:l,inputReadOnly:u,insetLabel:d,validateStatus:h,block:f,prefixCls:g,multiple:b,dateFnsLocale:y,onBlur:_,onClear:m,onFocus:E,prefix:w,autofocus:S,size:O,inputRef:x,rangeInputStartRef:I,rangeInputEndRef:T,onRangeClear:P,onRangeBlur:A,onRangeEndTabPress:k,rangeInputFocus:L,rangeSeparator:N,insetInput:K,insetInputValue:G,defaultPickerValue:z,showClearIgnoreDisabled:ee}=e,V=dhe(e,["placeholder","type","value","inputValue","inputStyle","disabled","showClear","inputReadOnly","insetLabel","validateStatus","block","prefixCls","multiple","dateFnsLocale","onBlur","onClear","onFocus","prefix","autofocus","size","inputRef","rangeInputStartRef","rangeInputEndRef","onRangeClear","onRangeBlur","onRangeEndTabPress","rangeInputFocus","rangeSeparator","insetInput","insetInputValue","defaultPickerValue","showClearIgnoreDisabled"]),H=v.createElement(S2,{"aria-hidden":!0}),U=v.createElement(Sre,{"aria-hidden":!0}),ae=r.includes("Time")?U:H;let ne="";_t(i)?s&&(ne=this.formatText(s)):ne=i;const re=$({[`${g}-input-readonly`]:u,[`${g}-monthRange-input`]:r==="monthRange"}),de=Object.assign(Object.assign({},this.props),{text:ne,suffix:ae,inputCls:re});return this.isRenderMultipleInputs()?this.renderRangeInput(de):v.createElement(Hn,Object.assign({},V,{ref:x,insetLabel:d,disabled:o,showClearIgnoreDisabled:ee,readonly:u,className:re,style:a,hideSuffix:l,placeholder:r==="monthRange"&&Array.isArray(t)?t[0]+N+t[1]:t,onEnterPress:this.handleEnterPress,onChange:this.handleChange,onClear:this.handleInputClear,suffix:ae,showClear:l,value:ne,validateStatus:h,prefix:w,autoFocus:S,size:O,onBlur:_,onFocus:E}))}render(){const{insetInput:e}=this.props;return e?this.renderInputInset():this.renderTriggerInput()}}lv.propTypes={borderless:c.bool,onClick:c.func,onChange:c.func,onEnterPress:c.func,onBlur:c.func,onClear:c.func,onFocus:c.func,value:c.array,disabled:c.bool,type:c.oneOf(Q.TYPE_SET),showClear:c.bool,format:c.string,inputStyle:c.object,inputReadOnly:c.bool,insetLabel:c.node,validateStatus:c.string,prefix:c.node,prefixCls:c.string,dateFnsLocale:c.object.isRequired,placeholder:c.oneOfType([c.string,c.array]),rangeInputFocus:c.oneOfType([c.string,c.bool]),rangeInputStartRef:c.object,rangeInputEndRef:c.object,rangeSeparator:c.string,insetInput:c.oneOfType([c.bool,c.object]),insetInputValue:c.object,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array])};lv.defaultProps={borderless:!1,showClear:!0,onClick:Ot,onChange:Ot,onEnterPress:Ot,onBlur:Ot,onClear:Ot,onFocus:Ot,type:"date",inputStyle:{},inputReadOnly:!1,prefixCls:we.PREFIX,rangeSeparator:Q.DEFAULT_SEPARATOR_RANGE};function pF(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r="";const s=typeof e=="number"&&e<10?`0${e}`:e.toString(),i=typeof t=="number"&&t<10?`0${t}`:t.toString();return r=`${String(n)}-${s}-${i}`,r}function hhe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const t={dayNumber:"",dateNumberFull:"",fullDate:""},r=c2(n),s=ot(n,"yyyy"),i=ot(n,"MM"),a=Cte(n),o=Ree(n),l=Number(ot(o,"e",{weekStartsOn:e})),u=[];let d=[];for(let h=1;h<l;h++)d.push(t);for(let h=0;h<r;h++){const f=h+1,g=f<10?`0${f}`:f.toString(),b=pF(s,i,f);d.push({dayNumber:f,dayNumberFull:g,fullDate:b}),d.length===7?(u.push(d),d=[]):b===ot(a,"yyyy-MM-dd")&&(u.push(d),d=[])}return u}const fhe=(n,e)=>{const t=hhe(n,e);return{monthText:ot(n,"yyyy-MM"),weeks:t,month:n}},aR={month:ll,year:xee},phe={prevMonth:Vne,nextMonth:go,prevYear:jne,nextYear:Km};class ghe extends ke{constructor(e){super(Object.assign({},e)),this.newBiMonthPanelDate=[this.getState("monthLeft").pickerDate,this.getState("monthRight").pickerDate]}init(){const e=this.getProp("defaultValue");this.initDefaultPickerValue(),this.updateSelectedFromProps(e)}initDefaultPickerValue(){const e=nn(this.getProp("defaultPickerValue"));e&&Us(e)&&(this._updatePanelDetail(Q.PANEL_TYPE_LEFT,{pickerDate:e}),this._updatePanelDetail(Q.PANEL_TYPE_RIGHT,{pickerDate:go(e,1)}))}updateSelectedFromProps(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.getProp("type"),{selected:s,rangeStart:i,rangeEnd:a}=this.getStates();if(e&&(e!=null&&e.length))switch(r){case"date":this._initDatePickerFromValue(e,t);break;case"dateRange":this._initDateRangePickerFromValue(e);break;case"dateTime":this._initDateTimePickerFromValue(e);break;case"dateTimeRange":this._initDateTimeRangePickerFormValue(e);break}else(Array.isArray(e)&&!e.length||!e)&&(NL(s)&&s.size&&this._adapter.updateDaySelected(new Set),i&&this._adapter.setRangeStart(""),a&&this._adapter.setRangeEnd(""))}calcDisabledTime(e){const{disabledTime:t,type:r}=this.getProps();if(typeof t=="function"&&e&&["dateTime","dateTimeRange"].includes(r)){const{rangeStart:s,rangeEnd:i,monthLeft:a}=this.getStates(),o=[];r==="dateTimeRange"?(s&&o.push(s),s&&i&&o.push(i)):a&&a.showDate&&o.push(a.showDate);const l=o.map(d=>d instanceof Date?d:js(d)),u=r==="dateTimeRange"?l:l[0];return t(u,e)}}_initDatePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{monthLeft:r}=this._adapter.getStates(),s=Object.assign({},r);this._adapter.updateMonthOnLeft(s);const i=new Set,a=this._isMultiple();a?e.forEach(o=>{o&&i.add(ot(o,Q.FORMAT_FULL_DATE))}):e[0]&&i.add(ot(e[0],Q.FORMAT_FULL_DATE)),t?a?!(e!=null&&e.some(l=>l&&ll(l,r.pickerDate)===0))&&this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,s.pickerDate),this._adapter.updateDaySelected(i)}_initDateRangePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.getState("monthLeft"),s=this.getState("monthRight"),i=this._autoAdjustMonth(Object.assign(Object.assign({},r),{pickerDate:e[0]||r.pickerDate}),Object.assign(Object.assign({},s),{pickerDate:e[1]||s.pickerDate}));if(Array.isArray(e)&&e.filter(d=>d).length>1)this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(Q.PANEL_TYPE_RIGHT,i.monthRight.pickerDate);else{const d=e.find(h=>h);if(d){const h=Math.abs(ll(d,r.pickerDate))>0,f=Math.abs(ll(d,s.pickerDate))>0;h&&f&&(this.handleShowDateAndTime(Q.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(Q.PANEL_TYPE_RIGHT,i.monthRight.pickerDate))}}const o=t?Q.FORMAT_DATE_TIME:Q.FORMAT_FULL_DATE;let l=e[0]&&ot(e[0],o),u=e[1]&&ot(e[1],o);this._isNeedSwap(l,u)&&([l,u]=[u,l]),this._adapter.setRangeStart(l),this._adapter.setRangeEnd(u),this._adapter.setHoverDay(u)}_initDateTimePickerFromValue(e){this._initDatePickerFromValue(e)}_initDateTimeRangePickerFormValue(e){this._initDateRangePickerFromValue(e,!0)}destroy(){}handleSyncChangeMonths(e){const{panelType:t,target:r}=e,{type:s}=this._adapter.getProps(),{monthLeft:i,monthRight:a}=this._adapter.getStates();this.isRangeType(s)&&(t==="right"&&ll(r,i.pickerDate)===0?this.handleYearOrMonthChange("prevMonth","left",1,!0):t==="left"&&ll(a.pickerDate,r)===0&&this.handleYearOrMonthChange("nextMonth","right",1,!0))}getTargetChangeDate(e){const{panelType:t,switchType:r}=e,{monthRight:s,monthLeft:i}=this._adapter.getStates(),a=t==="left"?i.pickerDate:s.pickerDate;let o;switch(r){case"prevMonth":o=go(a,-1);break;case"nextMonth":o=go(a,1);break;case"prevYear":o=Km(a,-1);break;case"nextYear":o=Km(a,1);break}return o}toMonth(e,t){const{type:r}=this._adapter.getProps(),s=this._getDiff("month",t,e);this.handleYearOrMonthChange(s<0?"prevMonth":"nextMonth",e,Math.abs(s),!1),this.isRangeType(r)&&this.handleSyncChangeMonths({panelType:e,target:t})}toYear(e,t){const r=this._getDiff("year",t,e);this.handleYearOrMonthChange(r<0?"prevYear":"nextYear",e,Math.abs(r),!1)}toYearMonth(e,t){this.toYear(e,t),this.toMonth(e,t)}isRangeType(e){const{type:t}=this.getProps(),r=e||t;return typeof r=="string"&&/range/i.test(r)}handleSwitchMonthOrYear(e,t){const{type:r,syncSwitchMonth:s}=this.getProps(),i=this.isRangeType(r);if(i&&s)this.handleYearOrMonthChange(e,"left",1,!0),this.handleYearOrMonthChange(e,"right",1,!0);else if(this.handleYearOrMonthChange(e,t),i){const a=this.getTargetChangeDate({panelType:t,switchType:e});this.handleSyncChangeMonths({panelType:t,target:a})}}prevMonth(e){this.handleSwitchMonthOrYear("prevMonth",e)}nextMonth(e){this.handleSwitchMonthOrYear("nextMonth",e)}prevYear(e){this.handleSwitchMonthOrYear("prevYear",e)}nextYear(e){this.handleSwitchMonthOrYear("nextYear",e)}_getDiff(e,t,r){const s=this._getPanelDetail(r);return aR[e]&&aR[e](t,s.pickerDate)}_getPanelDetail(e){return e===Q.PANEL_TYPE_RIGHT?this.getState("monthRight"):this.getState("monthLeft")}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return ot(e,t,{locale:r})}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");Kg(r)&&(t=t.map(l=>pc(l,r)));const s=this.getProp("type"),i=this.getProp("format")||vo(s);let a,o;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],i),[o]=t);break;case"dateRange":case"dateTimeRange":a=t.map(l=>l&&this.localeFormat(l,i)),o=[...t];break}return{notifyValue:a,notifyDate:o}}handleYearOrMonthChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q.PANEL_TYPE_LEFT,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{autoSwitchDate:i,type:a}=this.getProps(),{monthLeft:o,monthRight:l}=this.getStates(),u=this.isRangeType(a),d=u&&t===Q.PANEL_TYPE_LEFT,h=this._getPanelDetail(t),{pickerDate:f}=h,g=phe[e],b=g(f,r),y=t===Q.PANEL_TYPE_LEFT&&!Fe(b,o.pickerDate)||t===Q.PANEL_TYPE_RIGHT&&!Fe(b,l.pickerDate);if(this._updatePanelDetail(t,{pickerDate:b}),y)if(u){if(d?this.newBiMonthPanelDate[0]=b:this.newBiMonthPanelDate[1]=b,!(d&&s)){const{notifyValue:_,notifyDate:m}=this.disposeCallbackArgs(this.newBiMonthPanelDate);this._adapter.notifyPanelChange(m,_)}}else{const{notifyValue:_,notifyDate:m}=this.disposeCallbackArgs(b);this._adapter.notifyPanelChange(m,_)}i&&this.updateDateAfterChangeYM(e,b)}updateDateAfterChangeYM(e,t){const{multiple:r,disabledDate:s,type:i}=this.getProps(),{selected:a,rangeStart:o,rangeEnd:l,monthLeft:u}=this.getStates(),d=["dateRange","dateTimeRange"].includes(e),h={closePanel:!1};if(!r&&!d&&a.size){const f=Array.from(a)[0],g=new Date(f),b=t.getFullYear(),y=t.getMonth();let _=b2(g,{year:b,month:y});if(i==="dateTime"&&(_=this._mergeDateAndTime(_,u.pickerDate)),s(_,{rangeStart:o,rangeEnd:l}))return;this._adapter.notifySelectedChange([_],h)}}_isMultiple(){return!!this.getProp("multiple")&&this.getProp("type")==="date"}_isRange(){}handleDayClick(e,t){const r=this.getProp("type");switch(!0){case(r==="date"||r==="dateTime"):this.handleDateSelected(e,t);break;case(r==="dateRange"||r==="dateTimeRange"):this.handleRangeSelected(e);break}}handleDateSelected(e,t){const{max:r,type:s,isControlledComponent:i,dateFnsLocale:a}=this.getProps(),o=this._isMultiple(),{selected:l}=this.getStates(),u=this._getPanelDetail(t),d=new Set(o?[...l]:[]),{fullDate:h}=e,f=u.pickerDate,g=h;o?d.has(g)?d.delete(g):r&&d.size===r?this._adapter.notifyMaxLimit():d.add(g):d.add(g);const b=[...d].map(y=>s==="dateTime"?this._mergeDateAndTime(y,f):nn(y,Q.FORMAT_FULL_DATE,void 0,a));this.handleShowDateAndTime(t,f),i||this._adapter.updateDaySelected(d),this._adapter.notifySelectedChange(b)}handleShowDateAndTime(e,t,r){const s=r||t;this._updatePanelDetail(e,{showDate:s,pickerDate:t})}_mergeDateAndTime(e,t){const r=this._adapter.getProp("dateFnsLocale"),s=ot(Us(e)?e:nn(e,Q.FORMAT_FULL_DATE,void 0,r),Q.FORMAT_FULL_DATE),i=ot(Us(t)?t:nn(t,Q.FORMAT_TIME_PICKER,void 0,r),Q.FORMAT_TIME_PICKER),a=this.getValidTimeFormat();return nn(`${s} ${i}`,a,void 0,r)}handleRangeSelected(e){let{rangeStart:t,rangeEnd:r}=this.getStates();const{startDateOffset:s,endDateOffset:i,type:a,dateFnsLocale:o,rangeInputFocus:l,triggerRender:u}=this._adapter.getProps(),{fullDate:d}=e;let h=!1,f=!1;const g=(s||i)&&a==="dateRange";g?(t=ug(s,d),r=ug(i,d)):l==="rangeEnd"?(r=d,t&&r&&ec(r,t.trim().split(/\s+/)[0])&&(t=null,h=!0)):(l==="rangeStart"||!l)&&(t=d,t&&r&&ec(r.trim().split(/\s+/)[0],t)&&(r=null,f=!0)),/range/i.test(a)&&(g?(this._adapter.setRangeStart(t),this._adapter.setRangeEnd(r)):l==="rangeEnd"?(this._adapter.setRangeEnd(r),h&&this._adapter.setRangeStart(t),(!this._adapter.isAnotherPanelHasOpened("rangeEnd")||!t)&&this._adapter.setRangeInputFocus("rangeStart")):(l==="rangeStart"||!l)&&(this._adapter.setRangeStart(t),f&&this._adapter.setRangeEnd(r),(!this._adapter.isAnotherPanelHasOpened("rangeStart")||!r)&&this._adapter.setRangeInputFocus("rangeEnd")));const y=this.getValidDateFormat();if(t||r){const[_,m]=[nn(t,y,void 0,o),nn(r,y,void 0,o)];let E=[_,m];if(a==="dateTimeRange"){const S=this.getState("monthLeft").pickerDate,O=this.getState("monthRight").pickerDate,x=t?this._mergeDateAndTime(t,S):null,I=r?this._mergeDateAndTime(r,O):null;WC(_,m)&&ec(I,x)?E=[x,x]:E=[x,I]}const w=!(a==="dateRange"&&g);this._adapter.notifySelectedChange(E,{needCheckFocusRecord:w})}}_isNeedSwap(e,t){return e&&t&&ec(t,e)}handleDayHover(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fullDate:""};const{fullDate:t}=e,{startDateOffset:r,endDateOffset:s,type:i}=this.getProps();if(this._adapter.setHoverDay(t),(r||s)&&i==="dateRange"){const a=ug(r,t),o=ug(s,t);this._adapter.setOffsetRangeStart(a),this._adapter.setOffsetRangeEnd(o)}}_autoAdjustMonth(e,t){let r=e,s=t;const i=ll(e.pickerDate,t.pickerDate);return i>0?(r=Object.assign({},t),s=Object.assign({},e)):i===0&&(r=e,s=Object.assign(Object.assign({},t),{pickerDate:go(t.pickerDate,1)})),{monthLeft:r,monthRight:s}}getValidTimeFormat(){const e=this.getProp("format")||Q.FORMAT_TIME_PICKER,t=[];return(Ju(e,"h")||Ju(e,"H"))&&t.push("HH"),Ju(e,"m")&&t.push("mm"),Ju(e,"s")&&t.push("ss"),t.join(":")}getValidDateFormat(){return this.getProp("format")||jce(this.getProp("type"))}handleTimeChange(e,t){const{rangeEnd:r,rangeStart:s}=this.getStates(),i=this.getProp("dateFnsLocale"),a=e.timeStampValue,o=this.getProp("type"),l=this._getPanelDetail(t),{showDate:u}=l,d=new Date(a),h=this.getValidDateFormat(),f=t===Q.PANEL_TYPE_RIGHT?r:s;let g,b,y;if(o==="dateTimeRange"&&f){const x=nn(f,h,void 0,i);g=x.getFullYear(),b=x.getMonth(),y=x.getDate()}else g=u.getFullYear(),b=u.getMonth(),y=u.getDate();const _=d.getHours(),m=d.getMinutes(),E=d.getSeconds(),w=d.getMilliseconds(),S=[g,b,y,_,m,E,w],O=new Date(...S);if(o==="dateTimeRange")this.handleShowDateAndTime(t,O,u),this._updateTimeInDateRange(t,O);else{const x=pF(g,b+1,y);this.handleDateSelected({fullDate:x,fullValidDate:O},t),this.handleShowDateAndTime(t,O),this._adapter.notifySelectedChange([O])}}_updateTimeInDateRange(e,t){const{isControlledComponent:r,dateFnsLocale:s}=this.getProps();let i=this.getState("rangeStart"),a=this.getState("rangeEnd");const o=this.getValidDateFormat();if(i&&a){let l=nn(i,o,void 0,s),u=nn(a,o,void 0,s);e===Q.PANEL_TYPE_RIGHT?(u=this._mergeDateAndTime(t,t),a=ot(u,Q.FORMAT_DATE_TIME),this._isNeedSwap(i,a)&&([i,a]=[a,i],[l,u]=[u,l]),r||this._adapter.setRangeEnd(a)):(l=this._mergeDateAndTime(t,t),i=ot(l,Q.FORMAT_DATE_TIME),this._isNeedSwap(i,a)&&([i,a]=[a,i],[l,u]=[u,l]),r||this._adapter.setRangeStart(i)),this._adapter.notifySelectedChange([l,u])}}_updatePanelDetail(e,t){const{monthLeft:r,monthRight:s}=this.getStates();e===Q.PANEL_TYPE_RIGHT?this._adapter.updateMonthOnRight(Object.assign(Object.assign({},s),t)):this._adapter.updateMonthOnLeft(Object.assign(Object.assign({},r),t))}showYearPicker(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!0})}showTimePicker(e,t){this.getProp("disabledTimePicker")||this._updatePanelDetail(e,{isTimePickerOpen:!0,isYearPickerOpen:!1})}showDatePanel(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!1})}getYAMOpenType(){const{monthLeft:e,monthRight:t}=this._adapter.getStates(),r=e.isYearPickerOpen,s=t.isYearPickerOpen;return r&&s?"both":r?"left":s?"right":"none"}}const oR=we.NAVIGATION;class ET extends D.PureComponent{constructor(e){super(e),this.navRef=v.createRef()}render(){const{forwardRef:e,monthText:t,onMonthClick:r,onNextMonth:s,onPrevMonth:i,onPrevYear:a,onNextYear:o,density:l,shouldBimonthSwitch:u,panelType:d}=this.props,h="borderless",f=l==="compact"?"default":"large",g=!0,b=l==="compact"?"small":"default",y=d===Q.PANEL_TYPE_LEFT,_=d===Q.PANEL_TYPE_RIGHT,m=u&&y,E=u&&_,w={},S={};E&&(w.visibility="hidden"),m&&(S.visibility="hidden");const O=e||this.navRef;return v.createElement("div",{className:oR,ref:O},v.createElement(ni,{key:"double-chevron-left","aria-label":"Previous year",icon:v.createElement(Vre,{"aria-hidden":!0,size:f}),size:b,theme:h,noHorizontalPadding:g,onClick:a,style:w}),v.createElement(ni,{key:"chevron-left","aria-label":"Previous month",icon:v.createElement(C2,{"aria-hidden":!0,size:f}),size:b,onClick:i,theme:h,noHorizontalPadding:g,style:w}),v.createElement("div",{className:`${oR}-month`},v.createElement(pn,{onClick:r,theme:h,size:b},v.createElement("span",null,t))),v.createElement(ni,{key:"chevron-right","aria-label":"Next month",icon:v.createElement(T2,{"aria-hidden":!0,size:f}),size:b,onClick:s,theme:h,noHorizontalPadding:g,style:S}),v.createElement(ni,{key:"double-chevron-right","aria-label":"Next year",icon:v.createElement(Ure,{"aria-hidden":!0,size:f}),size:b,theme:h,noHorizontalPadding:g,onClick:o,style:S}))}}ET.propTypes={monthText:c.string,density:c.string,onMonthClick:c.func,onNextMonth:c.func,onPrevMonth:c.func,onNextYear:c.func,onPrevYear:c.func,navPrev:c.node,navNext:c.node,shouldBimonthSwitch:c.bool,panelType:c.oneOf([Q.PANEL_TYPE_LEFT,Q.PANEL_TYPE_RIGHT])};ET.defaultProps={monthText:"",onMonthClick:F,onNextMonth:F,onPrevMonth:F,onNextYear:F,onPrevYear:F};const mhe=n=>{let{weekStartsOn:e=0}=n;const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let r=0;r<e;r++)t.push(t.shift());return t};class vhe extends ke{constructor(e){super(Object.assign({},e))}init(){this._getToday(),this.getMonthTable()}_getToday(){const t=ot(new Date,"yyyy-MM-dd");this._adapter.updateToday(t)}getMonthTable(){const e=this._adapter.getProp("month"),t=this.getState("weeksRowNum");if(e){this.updateWeekDays();const r=this._adapter.getProp("weekStartsOn"),s=fhe(e,r),{weeks:i}=s;this._adapter.updateMonthTable(s),_t(t)?this._adapter.setWeeksRowNum(i.length):Array.isArray(i)&&i.length!==t&&this._adapter.setWeeksRowNum(i.length,()=>{this._adapter.notifyWeeksRowNumChange(i.length)})}}updateWeekDays(){const e=this._adapter.getProp("weekStartsOn"),t=mhe({weekStartsOn:e});this._adapter.setWeekDays(t)}destroy(){}handleClick(e){this._adapter.notifyDayClick(e)}handleHover(e){this._adapter.notifyDayHover(e)}}const yhe=we.PREFIX;class ST extends Ae{constructor(e){super(e),this.state={weekdays:[],month:{weeks:[],monthText:""},todayText:"",weeksRowNum:e.weeksRowNum},this.monthRef=v.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToday:e=>this.setState({todayText:e}),setWeekDays:e=>this.setState({weekdays:e}),setWeeksRowNum:(e,t)=>this.setState({weeksRowNum:e},t),updateMonthTable:e=>this.setState({month:e}),notifyDayClick:e=>this.props.onDayClick(e),notifyDayHover:e=>this.props.onDayHover(e),notifyWeeksRowNumChange:e=>this.props.onWeeksRowNumChange(e)})}componentDidMount(){this.foundation=new vhe(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){e.month!==this.props.month&&this.foundation.getMonthTable()}getSingleDayStatus(e){const{rangeInputFocus:t}=this.props,{fullDate:r,todayText:s,selected:i,disabledDate:a,rangeStart:o,rangeEnd:l}=e,u={rangeStart:o,rangeEnd:l,rangeInputFocus:t},d=r===s,h=i.has(r);let f=a&&a(js(r),u);return!f&&this.props.rangeInputFocus==="rangeStart"&&l&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeEnd&&(f=Jx(r,l.trim().split(/\s+/)[0])),!f&&this.props.rangeInputFocus==="rangeEnd"&&o&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeStart&&(f=ec(r,o.trim().split(/\s+/)[0])),{isToday:d,isSelected:h,isDisabled:f}}getDateRangeStatus(e){const{rangeStart:t,rangeEnd:r,fullDate:s,hoverDay:i,offsetRangeStart:a,offsetRangeEnd:o,rangeInputFocus:l}=e,u=!!(t||r),d=!!(t&&r),h=a||o;if(!u)return{};const f=Xa(i,s);let g,b,y,_,m;t&&(y=Xa(s,t),l==="rangeEnd"&&(g=Iu(s,{start:t,end:i}))),r&&(_=Xa(s,r),l==="rangeStart"&&(b=Iu(s,{start:i,end:r}))),!d&&u&&(m=f);let E;h||(E=g||b||f);let w,S,O,x,I,T;return d&&(w=Iu(s,{start:t,end:r}),h||(S=y&&Jx(t,i),O=_&&ec(r,i),x=f&&l==="rangeStart",I=f&&l==="rangeEnd",T=f&&Iu(i,{start:t,end:r}))),{isHoverDay:f,isSelectedStart:y,isSelectedEnd:_,isInRange:w,isHover:E,isSelectedStartAfterHover:S,isSelectedEndBeforeHover:O,isHoverDayInRange:T,isHoverDayInStartSelection:x,isHoverDayInEndSelection:I,isHoverDayAroundOneSelected:m}}getOffsetDateStatus(e){const{offsetRangeStart:t,offsetRangeEnd:r,rangeStart:s,rangeEnd:i,fullDate:a,hoverDay:o}=e;if(!(t||r))return{};const u=Iu(a,{start:s,end:i}),d=Xa(o,a),h=s&&Xa(a,s),f=i&&Xa(a,i),g=!!(s&&i),b=Xa(a,t),y=Xa(a,r),_=d;let m,E;return g&&(m=u&&d),!!(t&&r)&&(E=h||Iu(a,{start:t,end:r})||f),{isOffsetRangeStart:b,isOffsetRangeEnd:y,isHoverInOffsetRange:m,isHoverDayOffset:_,isInOffsetRange:E}}getDayStatus(e,t){const{fullDate:r}=e,{hoverDay:s,rangeStart:i,rangeEnd:a,todayText:o,offsetRangeStart:l,offsetRangeEnd:u,disabledDate:d,selected:h,rangeInputFocus:f}=t,g=this.getSingleDayStatus({fullDate:r,todayText:o,hoverDay:s,selected:h,disabledDate:d,rangeStart:i,rangeEnd:a}),b=this.getDateRangeStatus(Object.assign({fullDate:r,rangeStart:i,rangeEnd:a,hoverDay:s,offsetRangeStart:l,offsetRangeEnd:u,rangeInputFocus:f},g)),y=this.getOffsetDateStatus(Object.assign(Object.assign({offsetRangeStart:l,offsetRangeEnd:u,rangeStart:i,rangeEnd:a,fullDate:r,hoverDay:s},g),b));return Object.assign(Object.assign(Object.assign({},g),b),y)}renderDayOfWeek(){const{locale:e}=this.props,t=$(we.WEEKDAY),r=$(`${yhe}-weekday-item`),{weekdays:s}=this.state,i=s.map(a=>e.weeks[a]);return v.createElement("div",{role:"row",className:t},i.map((a,o)=>v.createElement("div",{role:"columnheader",key:a+o,className:r},a)))}renderWeeks(){const{month:e}=this.state,{weeks:t}=e,{weeksRowNum:r}=this.props;let s={};r&&(s={height:r*Nc.WEEK_HEIGHT});const i=$(we.WEEKS);return v.createElement("div",{className:i,style:s},t.map((a,o)=>this.renderWeek(a,o)))}renderWeek(e,t){const r=we.WEEK;return v.createElement("div",{role:"row",className:r,key:t},e.map((s,i)=>this.renderDay(s,i)))}renderDay(e,t){const{todayText:r}=this.state,{renderFullDate:s,renderDate:i}=this.props,{fullDate:a,dayNumber:o}=e;if(!a)return v.createElement("div",{role:"gridcell",tabIndex:-1,key:o+t,className:we.DAY},v.createElement("span",null));const l=this.getDayStatus(e,Object.assign({todayText:r},this.props)),u=$(we.DAY,{[we.DAY_TODAY]:l.isToday,[we.DAY_IN_RANGE]:l.isInRange,[we.DAY_HOVER]:l.isHover,[we.DAY_SELECTED]:l.isSelected,[we.DAY_SELECTED_START]:l.isSelectedStart,[we.DAY_SELECTED_END]:l.isSelectedEnd,[we.DAY_DISABLED]:l.isDisabled,[we.DAY_HOVER_DAY]:l.isHoverDayOffset,[we.DAY_IN_OFFSET_RANGE]:l.isInOffsetRange,[we.DAY_SELECTED_RANGE_HOVER]:l.isHoverInOffsetRange,[we.DAY_OFFSET_RANGE_START]:l.isOffsetRangeStart,[we.DAY_OFFSET_RANGE_END]:l.isOffsetRangeEnd,[we.DAY_SELECTED_START_AFTER_HOVER]:l.isSelectedStartAfterHover,[we.DAY_SELECTED_END_BEFORE_HOVER]:l.isSelectedEndBeforeHover,[we.DAY_HOVER_DAY_BEFORE_RANGE]:l.isHoverDayInStartSelection,[we.DAY_HOVER_DAY_AFTER_RANGE]:l.isHoverDayInEndSelection,[we.DAY_HOVER_DAY_AROUND_SINGLE_SELECTED]:l.isHoverDayAroundOneSelected}),d=$({[`${we.DAY}-main`]:!0}),h=[o,a,l],f=De(s);return v.createElement("div",{role:"gridcell",tabIndex:l.isDisabled?-1:0,"aria-disabled":l.isDisabled,"aria-selected":l.isSelected,"aria-label":a,className:f?we.DAY:u,title:a,key:o+t,onClick:g=>!l.isDisabled&&this.foundation.handleClick(e),onMouseEnter:()=>this.foundation.handleHover(e),onMouseLeave:()=>this.foundation.handleHover()},f?s(...h):v.createElement("div",{className:d},De(i)?i(o,a):v.createElement("span",null,o)))}render(){const{forwardRef:e,multiple:t}=this.props,r=this.renderDayOfWeek(),s=this.renderWeeks(),i=$(we.MONTH),a=e||this.monthRef;return v.createElement("div",{role:"grid","aria-multiselectable":t,ref:a,className:i},r,s)}}ST.propTypes={month:c.object,selected:c.object,rangeStart:c.string,rangeEnd:c.string,offsetRangeStart:c.string,offsetRangeEnd:c.string,onDayClick:c.func,onDayHover:c.func,weekStartsOn:c.number,disabledDate:c.func,weeksRowNum:c.number,onWeeksRowNumChange:c.func,renderDate:c.func,renderFullDate:c.func,hoverDay:c.string,startDateOffset:c.func,endDateOffset:c.func,rangeInputFocus:c.oneOfType([c.string,c.bool]),focusRecordsRef:c.object,multiple:c.bool};ST.defaultProps={month:new Date,selected:new Set,rangeStart:"",rangeEnd:"",onDayClick:F,onDayHover:F,onWeeksRowNumChange:F,weekStartsOn:Nc.WEEK_START_ON,disabledDate:Jh,weeksRowNum:0};const cg="time",Db="timeRange",_he=" ~ ",bhe=",",kE={PREFIX:`${W}-timepicker`,RANGE_PICKER:`${W}-timepicker-range-panel`,RANGE_PANEL_LISTS:`${W}-timepicker-lists`},fn={TYPES:[cg,Db],TYPE_TIME_PICKER:cg,TYPE_TIME_RANGE_PICKER:Db,DEFAULT_TYPE:cg,DEFAULT_RANGE_SEPARATOR:_he,DEFAULT_MULTIPLE_SEPARATOR:bhe,SIZE:qo.SIZE,DEFAULT_FORMAT:"HH:mm:ss",DEFAULT_FORMAT_A:"a h:mm:ss",STATUS:nd,DEFAULT_POSITION:{[cg]:"bottomLeft",[Db]:"bottomLeft"}},Vr={PREFIX:`${W}-scrolllist`,SELECTED:`${W}-scrolllist-item-selected`},whe={MODE:["normal","wheel"]},dg={DEFAULT_ITEM_HEIGHT:36,DEFAULT_SCROLL_DURATION:120};var Ehe=vL,She=WL,Che=Cy,The=9007199254740991,kb=4294967295,Ihe=Math.min;function Ohe(n,e){if(n=Che(n),n<1||n>The)return[];var t=kb,r=Ihe(n,kb);e=She(e),n-=kb;for(var s=Ehe(r,e);++t<n;)e(t);return s}var Phe=Ohe;const lR=Ce(Phe);var xhe=fy,Rhe=jC,Ahe=1,Dhe=2;function khe(n,e,t,r){var s=t.length,i=s,a=!r;if(n==null)return!i;for(n=Object(n);s--;){var o=t[s];if(a&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++s<i;){o=t[s];var l=o[0],u=n[l],d=o[1];if(a&&o[2]){if(u===void 0&&!(l in n))return!1}else{var h=new xhe;if(r)var f=r(u,d,l,n,e,h);if(!(f===void 0?Rhe(d,u,Ahe|Dhe,r,h):f))return!1}}return!0}var Nhe=khe,Mhe=qr;function Lhe(n){return n===n&&!Mhe(n)}var gF=Lhe,$he=gF,Fhe=Go;function Vhe(n){for(var e=Fhe(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,$he(s)]}return e}var jhe=Vhe;function Uhe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var mF=Uhe,Bhe=Nhe,Hhe=jhe,zhe=mF;function Khe(n){var e=Hhe(n);return e.length==1&&e[0][2]?zhe(e[0][0],e[0][1]):function(t){return t===n||Bhe(t,n,e)}}var Whe=Khe,Ghe=jC,Yhe=YM,qhe=q2,Xhe=EC,Qhe=gF,Zhe=mF,Jhe=au,efe=1,tfe=2;function nfe(n,e){return Xhe(n)&&Qhe(e)?Zhe(Jhe(n),e):function(t){var r=Yhe(t,n);return r===void 0&&r===e?qhe(t,n):Ghe(e,r,efe|tfe)}}var rfe=nfe;function sfe(n){return function(e){return e==null?void 0:e[n]}}var ife=sfe,afe=cy;function ofe(n){return function(e){return afe(e,n)}}var lfe=ofe,ufe=ife,cfe=lfe,dfe=EC,hfe=au;function ffe(n){return dfe(n)?ufe(hfe(n)):cfe(n)}var pfe=ffe,gfe=Whe,mfe=rfe,vfe=Hf,yfe=rr,_fe=pfe;function bfe(n){return typeof n=="function"?n:n==null?vfe:typeof n=="object"?yfe(n)?mfe(n[0],n[1]):gfe(n):_fe(n)}var CT=bfe,wfe=H2,Efe=CT,Sfe=Cy,Cfe=Math.max;function Tfe(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var s=t==null?0:Sfe(t);return s<0&&(s=Cfe(r+s,0)),wfe(n,Efe(e),s)}var vF=Tfe;const tc=Ce(vF);var Ife=KL,Ofe=Zi;function Pfe(n,e){var t=-1,r=Ofe(n)?Array(n.length):[];return Ife(n,function(s,i,a){r[++t]=e(s,i,a)}),r}var xfe=Pfe,Rfe=ed,Afe=CT,Dfe=xfe,kfe=rr;function Nfe(n,e){var t=kfe(n)?Rfe:Dfe;return t(n,Afe(e))}var Mfe=Nfe;const Lfe=Ce(Mfe);var $fe=CT,Ffe=Zi,Vfe=Go;function jfe(n){return function(e,t,r){var s=Object(e);if(!Ffe(e)){var i=$fe(t);e=Vfe(e),t=function(o){return i(s[o],o,s)}}var a=n(e,t,r);return a>-1?s[i?e[a]:a]:void 0}}var Ufe=jfe,Bfe=Ufe,Hfe=vF,zfe=Bfe(Hfe),Kfe=zfe;const NE=Ce(Kfe);var Wfe=LC,Gfe=kC,uR=Cy;function Yfe(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&Gfe(n,e,t)?(e=0,t=r):(e=e==null?0:uR(e),t=t===void 0?r:uR(t)),Wfe(n,e,t)):[]}var qfe=Yfe;const Nb=Ce(qfe);class Xfe extends ke{constructor(){super(...arguments),this._cachedSelectedNode=null}selectIndex(e,t){const{type:r,list:s}=this.getProps();if(e>-1&&Array.isArray(s)&&s.length&&it(t)){const i=e%s.length,a=s[i],o=t.children[e];this._adapter.setSelectedNode(o),this._adapter.notifySelectItem(Object.assign(Object.assign({},a),{value:a.value,type:r,index:i}))}}selectNode(e,t){const{type:r,list:s}=this.getProps();if(it(e)&&it(t)){const a=tc(t.children,d=>d===e)%s.length,l=tc(t.children,d=>d===this._cachedSelectedNode)%s.length,u=s[a];this._adapter.setSelectedNode(e),this._adapter.scrollToCenter(e),this._cachedSelectedNode!==e&&(this._cachedSelectedNode=e,l!==a&&this._adapter.notifySelectItem(Object.assign(Object.assign({},u),{value:u.value,type:r,index:a})))}}shouldAppend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(it(e)&&it(t)){const i=e.querySelectorAll(s),a=i[i.length-1],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),d=u.height*o.length;let h=u.top,f=0;for(;h<=l.top+l.height*r;)f+=1,h+=d;return f}}return!1}shouldPrepend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(it(e)&&it(t)){const a=e.querySelectorAll(s)[0],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),d=u.height*o.length;let h=u.top,f=0;for(;h+u.height>=l.top-l.height*r;)f+=1,h-=d;return f}}return 0}initWheelList(e,t,r){const{list:s}=this.getProps();if(it(t)&&it(e)&&s&&s.length){const i=e.children;Nb(i,0,s.length);const a=this.shouldPrepend(e,t),o=this.shouldAppend(e,t);this._adapter.setState({prependCount:a,appendCount:o},r)}}adjustInfiniteList(e,t,r){const{list:s}=this.getProps(),i="li";if(it(t)&&it(e)&&s&&s.length){const a=e.querySelectorAll(i),o=a.length,l=1,u=this.shouldPrepend(e,t,l),d=this.shouldAppend(e,t,l);if(u)for(let h=0;h<u;h++){const f=Nb(a,o-s.length*(h+1),o-s.length*h);KJ(e,...f)}if(d)for(let h=0;h<d;h++){const f=Nb(a,h*s.length,(h+1)*s.length);YL(e,...f)}}}getNearestNodeInfo(e,t){if(it(e)&&it(t)){const s=t.getBoundingClientRect().top,i=e.querySelectorAll("li");let a=null,o=-1,l=1/0;return Array.from(i).map((u,d)=>{const f=u.getBoundingClientRect().top,g=Math.abs(f-s);g<l&&!this._adapter.isDisabledIndex(d)&&(l=g,a=u,o=d)}),{nearestNode:a,nearestIndex:o}}}getTargetNode(e,t){if(e&&it(t)){const r="li",s=e.target,i=t.querySelectorAll(r),a=this.getProp("list"),o=Array.isArray(a)?a.length:0;let l=-1,u=-1,d=null;const h=NE(i,(f,g)=>{if(f===s||f.contains(s))return l=g,o>0&&(u=g%o),!0});return u>-1&&(d=a[u]),{targetNode:h,targetIndex:l,indexInList:u,infoInList:d}}return null}}const Qfe=(n,e,t)=>{const r=new U2({from:{scrollTop:n.scrollTop},to:{scrollTop:e}},{duration:t});return r.on("frame",s=>{let{scrollTop:i}=s;n.scrollTop=i}),r},cR=1e3/60,dR=/^\s*$/,Gg="wheel";class ha extends Ae{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),e=this,this._cacheNode=(r,s)=>r&&s&&Object.prototype.hasOwnProperty.call(this,r)&&(this[r]=s),this._cacheSelectedNode=r=>this._cacheNode("selectedNode",r),this._cacheWillSelectNode=r=>this._cacheNode("willSelectNode",r),this._cacheListNode=r=>this._cacheNode("list",r),this._cacheSelectorNode=r=>this._cacheNode("selector",r),this._cacheWrapperNode=r=>this._cacheNode("wrapper",r),this._isFirst=r=>{const{list:s}=this;if(it(r)&&it(s)){const i=s.children;return tc(i,r)===0}return!1},this._isLast=r=>{const{list:s}=this;if(it(r)&&it(s)){const{children:i}=s;return tc(i,r)===i.length-1}return!1},this.indexIsSame=(r,s)=>{const{list:i}=this.props;if(i.length)return r%i.length===s%i.length},this.isDisabledIndex=r=>{const{list:s}=this.props;if(Array.isArray(s)&&s.length&&r>-1){const i=s.length,a=r%i;return this.isDisabledData(s[a])}return!1},this.isDisabledNode=r=>{const s=this.list;if(it(r)&&it(s)){const i=tc(s.children,a=>a===r);return this.isDisabledIndex(i)}return!1},this.isDisabledData=r=>r&&typeof r=="object"&&r.disabled,this.isWheelMode=()=>this.props.mode===Gg,this.addClassToNode=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr.SELECTED;const{list:i}=e;if(r=r||e.selectedNode,it(r)&&it(i)){const{children:a}=i,o=new RegExp(`\\s*${s}\\s*`,"g");Lfe(a,l=>{l.className=l.className&&l.className.replace(o," "),dR.test(l.className)&&(l.className="")}),r.className&&!dR.test(r.className)?r.className+=` ${s}`:r.className=s}},this.getIndexByNode=r=>tc(this.list.children,r),this.getNodeByIndex=r=>r>-1?NE(this.list.children,(i,a)=>a===r):NE(this.list.children,i=>!this.isDisabledNode(i)),this.scrollToIndex=(r,s)=>{s=typeof s=="number"?s:dg.DEFAULT_SCROLL_DURATION,r=r??this.props.selectedIndex,this.scrollToNode(this.selectedNode,s)},this.scrollToNode=(r,s)=>{const{wrapper:i}=this,a=i.offsetHeight,o=this.getItmHeight(r),l=(r.offsetTop||this.list.children.length*o/2)-(a-o)/2;this.scrollToPos(l,s)},this.scrollToPos=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dg.DEFAULT_SCROLL_DURATION;const{wrapper:i}=e;if(s&&e.props.motion)if(e.scrollAnimation&&(e.scrollAnimation.destroy(),e.scrolling=!1),i.scrollTop===r){if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}else e.scrollAnimation=Qfe(i,r,s),e.scrollAnimation.on("rest",()=>{if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}),e.scrollAnimation.start();else i.scrollTop=r},this.scrollToSelectItem=r=>{const{nearestNode:s}=this.foundation.getNearestNodeInfo(this.list,this.selector);this.props.cycled&&this.throttledAdjustList(r,s),this.debouncedSelect(r,s)},this.scrollToCenter=(r,s,i)=>{if(r=r||this.selectedNode,s=s||this.wrapper,it(r)&&it(s)){const a=s.getBoundingClientRect(),o=r.getBoundingClientRect(),l=s.scrollTop+(o.top-(a.top+a.height/2-o.height/2));this.scrollToPos(l,typeof i=="number"?i:dg.DEFAULT_SCROLL_DURATION)}},this.clickToSelectItem=r=>{r&&r.nativeEvent&&r.nativeEvent.stopImmediatePropagation();const{targetNode:s,infoInList:i}=this.foundation.getTargetNode(r,this.list);s&&i&&!i.disabled&&this.debouncedSelect(null,s)},this.getItmHeight=r=>r&&r.offsetHeight||dg.DEFAULT_ITEM_HEIGHT,this.renderItemList=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{selectedIndex:s,mode:i,transform:a,list:o}=e.props;return o.map((l,u)=>{const{transform:d}=l,h=typeof d=="function"?d:a,f=s===u,g=$({[`${Vr.PREFIX}-item-sel`]:f&&i!==Gg,[`${Vr.PREFIX}-item-disabled`]:!!l.disabled});let b="";f&&typeof h=="function"?b=h(l.value,l.text):b=l.text==null?l.value:l.text;const y={};return!e.isWheelMode()&&!l.disabled&&(y.onClick=()=>e.foundation.selectIndex(u,e.list)),v.createElement("li",Object.assign({key:r+u},y,{className:g,role:"option","aria-selected":f,"aria-disabled":l.disabled}),b)})},this.renderNormalList=()=>{const{list:r,className:s,style:i}=this.props,a=this.renderItemList(),o=$(`${Vr.PREFIX}-item`,s);return v.createElement("div",{style:i,className:o,ref:this._cacheWrapperNode},v.createElement("ul",{role:"listbox","aria-multiselectable":!1,"aria-label":this.props["aria-label"],ref:this._cacheListNode},a))},this.renderInfiniteList=()=>{const{list:r,cycled:s,className:i,style:a}=this.props,{prependCount:o,appendCount:l}=this.state,u=lR(o).reduce((m,E)=>{const w=this.renderItemList(`pre_${E}_`);return m.unshift(...w),m},[]),d=lR(l).reduce((m,E)=>{const w=this.renderItemList(`app_${E}_`);return m.push(...w),m},[]),h=this.renderItemList(),f=$(`${Vr.PREFIX}-list-outer`,{[`${Vr.PREFIX}-list-outer-nocycle`]:!s}),g=$(`${Vr.PREFIX}-item-wheel`,i),b=$(`${Vr.PREFIX}-selector`),y=$(`${Vr.PREFIX}-shade`,`${Vr.PREFIX}-shade-pre`),_=$(`${Vr.PREFIX}-shade`,`${Vr.PREFIX}-shade-post`);return v.createElement("div",{className:g,style:a},v.createElement("div",{className:y}),v.createElement("div",{className:b,ref:this._cacheSelectorNode}),v.createElement("div",{className:_}),v.createElement("div",{className:f,ref:this._cacheWrapperNode,onScroll:this.scrollToSelectItem},v.createElement("ul",{role:"listbox","aria-label":this.props["aria-label"],"aria-multiselectable":!1,ref:this._cacheListNode,onClick:this.clickToSelectItem},u,h,d)))},this.state={prependCount:0,appendCount:0},this.selectedNode=null,this.willSelectNode=null,this.list=null,this.wrapper=null,this.selector=null,this.scrollAnimation=null,this.foundation=new Xfe(this.adapter),this.throttledAdjustList=Vm((r,s)=>{this.foundation.adjustInfiniteList(this.list,this.wrapper,s)},cR),this.debouncedSelect=QM((r,s)=>{this._cacheSelectedNode(s),this.foundation.selectNode(s,this.list)},cR*2)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setState:(t,r)=>this.setState(Object.assign({},t),r),setPrependCount:t=>this.setState({prependCount:t}),setAppendCount:t=>this.setState({appendCount:t}),isDisabledIndex:this.isDisabledIndex,setSelectedNode:t=>this._cacheWillSelectNode(t),notifySelectItem:function(){return e.props.onSelect(...arguments)},scrollToCenter:this.scrollToCenter})}componentWillUnmount(){this.props.cycled&&(this.throttledAdjustList.cancel(),this.debouncedSelect.cancel())}componentDidMount(){this.foundation.init();const{mode:e,cycled:t,selectedIndex:r,list:s}=this.props,i=this.getNodeByIndex(typeof r=="number"&&r>-1?r:0);this._cacheSelectedNode(i),this._cacheWillSelectNode(i),e===Gg&&t?this.foundation.initWheelList(this.list,this.wrapper,()=>{this.scrollToNode(i,0)}):this.scrollToNode(i,0)}componentDidUpdate(e){const{selectedIndex:t}=this.props;if(e.selectedIndex!==t){const r=this.getIndexByNode(this.willSelectNode);if(!this.indexIsSame(r,t)){const s=this.getNodeByOffset(this.selectedNode,t-e.selectedIndex,this.list);this._cacheWillSelectNode(s)}this._cacheSelectedNode(this.willSelectNode),this.scrollToIndex(t)}}getNodeByOffset(e,t,r){const{list:s}=this.props;if(it(e)&&it(r)&&typeof t=="number"&&Array.isArray(s)&&s.length){t=t%s.length;let a=this.getIndexByNode(e)+t;for(;a<0;)a+=s.length;if(t)return this.getNodeByIndex(a)}return e}render(){return this.isWheelMode()?this.renderInfiniteList():this.renderNormalList()}}ha.propTypes={mode:c.oneOf(whe.MODE),cycled:c.bool,list:c.array,selectedIndex:c.number,onSelect:c.func,transform:c.func,className:c.string,style:c.object,motion:c.oneOfType([c.func,c.bool]),type:c.oneOfType([c.string,c.number])};ha.defaultProps={selectedIndex:0,motion:!0,list:[],onSelect:F,cycled:!1,mode:Gg};class Zfe extends ke{}var Jfe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Ly extends Ae{constructor(e){super(e),this.foundation=new Zfe(this.adapter)}render(){const e=this.props,{children:t,header:r,footer:s,prefixCls:i,bodyHeight:a,className:o,style:l}=e,u=Jfe(e,["children","header","footer","prefixCls","bodyHeight","className","style"]),d=$(o,{[i||Vr.PREFIX]:!0}),h=$({[`${i||Vr.PREFIX}-header`]:!0});return v.createElement("div",Object.assign({className:d,style:l},this.getDataAttr(u)),r?v.createElement("div",{className:h},v.createElement("div",{className:`${h}-title`,"x-semi-prop":this.props["x-semi-header-alias"]||"header"},r),v.createElement("div",{className:`${d}-line`})):null,v.createElement("div",{className:`${d}-body`,style:{height:a||""},"x-semi-prop":"children"},t),s?v.createElement("div",{className:`${d}-footer`,"x-semi-prop":this.props["x-semi-footer-alias"]||"footer"},s):null)}}Ly.Item=ha;Ly.propTypes={className:c.string,header:c.node,footer:c.node,children:c.node,bodyHeight:c.oneOfType([c.number,c.string])};const yF=1e3*60*60,hR=24*yF,Mb=(n,e)=>{let t=`${n}`;n<10&&(t=`0${n}`);let r=!1;return e&&e.indexOf(n)>=0&&(r=!0),{value:t,disabled:r}};function Lb(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const s=[];for(let i=0;i<n;i+=r)(!e||e.indexOf(i)<0||!t)&&s.push(i);return s}class epe extends ke{constructor(e){super(Object.assign({},e))}isAM(){return this.getProp("isAM")}initData(){const{timeStampValue:e,hourStep:t,disabledMinutes:r,disabledSeconds:s,hideDisabledOptions:i,minuteStep:a,secondStep:o}=this.getProps(),l=this.getValidFormat(),u=this.getDisplayDateFromTimeStamp(e),d=this.disabledHours(),h=r(u?u.getHours():null),f=s(u?u.getHours():null,u?u.getMinutes():null),g=Lb(24,d,i,t),b=Lb(60,h,i,a),y=Lb(60,f,i,o);return{showHour:!!l.match(/HH|hh|H|h/g),showMinute:!!l.match(/mm/g),showSecond:!!l.match(/ss/g),hourOptions:g,minuteOptions:b,secondOptions:y}}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||fn.DEFAULT_TYPE;return e||fn.DEFAULT_POSITION[t]}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?fn.DEFAULT_FORMAT_A:fn.DEFAULT_FORMAT}disabledHours(){const{use12Hours:e,disabledHours:t}=this.getProps();let r=t&&t();return e&&Array.isArray(r)&&(this.isAM()?r=r.filter(s=>s<12).map(s=>s===0?12:s):r=r.map(s=>s===12?12:s-12)),r}getValidFormat(e){let t=_t(e)?this.getProp("format"):e;return t=this.getDefaultFormatIfNeed(),t=typeof t=="string"?t:fn.DEFAULT_FORMAT,t}getDisplayDateFromTimeStamp(e){let t;return e&&(t=new Date(e)),!e||!Us(t)?this.createDateDefault():t}createDateDefault(){return new Date(parseInt(String(Date.now()/hR),10)*hR-8*yF)}}class of extends Ae{constructor(e){super(e),this.cacheRefCurrent=(t,r)=>{t&&typeof t=="string"&&this.adapter.setCache(t,r)},this.reselect=()=>{["ampm","hour","minute","second"].forEach(r=>{const s=this.adapter.getCache(r);s&&s.scrollToIndex&&s.scrollToIndex()})},this.onItemChange=t=>{let{type:r,value:s,disabled:i}=t,{onChange:a,use12Hours:o,isAM:l,format:u,timeStampValue:d}=this.props;const h=this.foundation.getDisplayDateFromTimeStamp(d);if(r==="hour")o?l?h.setHours(Number(s)%12):h.setHours(Number(s)%12+12):h.setHours(Number(s));else if(r==="minute")h.setMinutes(Number(s));else if(r==="ampm"){const f=s.toUpperCase();o&&(f==="PM"&&(l=!1,h.getHours()<12&&h.setHours(h.getHours()%12+12)),f==="AM"&&(l=!0,h.getHours()>=12&&h.setHours(h.getHours()-12)))}else h.setSeconds(Number(s));a&&a({isAM:l,value:ot(h,u&&u.replace(/(\s+)A/g,"$1a")),timeStampValue:Number(h)})},this.onEnterSelectPanel=t=>{const{onCurrentSelectPanelChange:r}=this.props;r(t)},this.getDisplayDateFromTimeStamp=t=>this.foundation.getDisplayDateFromTimeStamp(t),this.foundation=new epe(this.adapter),this.state=Object.assign({},this.foundation.initData())}componentDidUpdate(e,t){(e.timeStampValue!==this.props.timeStampValue||e.format!==this.props.format)&&this.setState(Object.assign({},this.foundation.initData()))}componentWillUnmount(){}componentDidMount(){}renderHourSelect(e,t){const{prefixCls:r,disabledHours:s,use12Hours:i,scrollItemProps:a}=this.props,{showHour:o,hourOptions:l}=this.state;if(!o)return null;const u=s();let d,h;i?(d=[12].concat(l.filter(b=>b<12&&b>0)),h=e%12||12):(d=l,h=e);const f=b=>b+t.hour,g=`${r}-list-hour`;return v.createElement(ha,Object.assign({ref:b=>this.cacheRefCurrent("hour",b),mode:"normal",transform:f,className:g,list:d.map(b=>Mb(b,u)),selectedIndex:d.indexOf(h),type:"hour",onSelect:this.onItemChange},a))}renderMinuteSelect(e,t){const{prefixCls:r,disabledMinutes:s,timeStampValue:i,scrollItemProps:a}=this.props,{showMinute:o,minuteOptions:l}=this.state;if(!o)return null;const u=new Date(i),d=s&&s(u.getHours()),h=`${r}-list-minute`,f=g=>g+t.minute;return v.createElement(ha,Object.assign({ref:g=>this.cacheRefCurrent("minute",g),mode:"normal",transform:f,list:l.map(g=>Mb(g,d)),selectedIndex:l.indexOf(e),type:"minute",onSelect:this.onItemChange,className:h},a))}renderSecondSelect(e,t){const{prefixCls:r,disabledSeconds:s,timeStampValue:i,scrollItemProps:a}=this.props,{showSecond:o,secondOptions:l}=this.state;if(!o)return null;const u=new Date(i),d=s&&s(u.getHours(),u.getMinutes()),h=`${r}-list-second`,f=g=>String(g)+t.second;return v.createElement(ha,Object.assign({ref:g=>this.cacheRefCurrent("second",g),mode:"normal",transform:f,list:l.map(g=>Mb(g,d)),selectedIndex:l.indexOf(e),className:h,type:"second",onSelect:this.onItemChange},a))}renderAMPMSelect(e,t){const{prefixCls:r,use12Hours:s,isAM:i,scrollItemProps:a}=this.props;if(!s)return null;const o=[{value:"AM",text:e.AM||""},{value:"PM",text:e.PM||""}],l=i?0:1,u=`${r}-list-ampm`;return v.createElement(ha,Object.assign({ref:d=>this.cacheRefCurrent("ampm",d),mode:"normal",className:u,list:o,selectedIndex:l,type:"ampm",onSelect:this.onItemChange},a))}render(){const{timeStampValue:e,panelHeader:t,panelFooter:r}=this.props,s=this.getDisplayDateFromTimeStamp(e);return v.createElement(xn,{componentName:"TimePicker"},(i,a)=>v.createElement(Ly,{header:t,footer:r,"x-semi-header-alias":"panelHeader","x-semi-footer-alias":"panelFooter"},this.renderAMPMSelect(i,a),this.renderHourSelect(s.getHours(),i),this.renderMinuteSelect(s.getMinutes(),i),this.renderSecondSelect(s.getSeconds(),i)))}}of.propTypes={format:c.string,defaultOpenValue:c.object,prefixCls:c.string,onChange:c.func,showHour:c.bool,showMinute:c.bool,showSecond:c.bool,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,hideDisabledOptions:c.bool,onCurrentSelectPanelChange:c.func,use12Hours:c.bool,isAM:c.bool,timeStampValue:c.any,scrollItemProps:c.object};of.defaultProps={disabledHours:F,disabledMinutes:F,disabledSeconds:F,format:fn.DEFAULT_FORMAT};class tpe extends ke{constructor(e){super(Object.assign({},e))}init(){}destroy(){}selectYear(e,t){const{currentYear:r,currentMonth:s}=this.getStates(),{type:i}=this.getProps(),a=Q.PANEL_TYPE_LEFT,o=Q.PANEL_TYPE_RIGHT,l=Da(r);if(l[t]=e.value,i==="monthRange"){const u=l[a]===l[o]&&s[a]>s[o];t===a&&e.value>l[o]||t===a&&u?l[o]=e.value+1:t===o&&u&&(l[a]=e.value-1)}this._adapter.setCurrentYear(l,()=>this.autoSelectMonth(e,t,l)),this._adapter.notifySelectYear(l)}selectMonth(e,t){const{currentMonth:r,currentYear:s}=this.getStates(),{type:i}=this.getProps(),a=Q.PANEL_TYPE_LEFT,o=Q.PANEL_TYPE_RIGHT,l=Da(r);l[t]=e.month,i==="monthRange"&&t===a&&s[a]===s[o]&&e.value>l[o]&&(l[o]=e.month),this._adapter.setCurrentMonth(l),this._adapter.notifySelectMonth(l)}autoSelectMonth(e,t,r){const{disabledDate:s,locale:i}=this._adapter.getProps(),{months:a,currentMonth:o}=this._adapter.getStates(),l=t===Q.PANEL_TYPE_LEFT?"right":"left",u=Ow(Date.now(),e.year),d=s(ml(u,o[t]-1)),h=s(ml(Ow(Date.now(),r[l]),o[l]-1));if(!d&&!h)return;let f=r,g=o;if(d){const b=a.findIndex(_=>{let{month:m}=_;return m===o[t]});let y;y=a.slice(b).find(_=>{let{month:m}=_;return!s(ml(u,m-1))}),y||(y=a.slice(0,b).find(_=>{let{month:m}=_;return!s(ml(u,m-1))})),y&&!h?g[t]=y.month:y&&h&&(f={left:e.year,right:e.year},g={left:y.month,right:y.month})}else!d&&h&&(f={left:e.year,right:e.year},g={left:o[t],right:o[t]});this._adapter.setCurrentYearAndMonth(f,g),this._adapter.notifySelectYearAndMonth(f,g)}backToMain(){this._adapter.notifyBackToMain()}}const fR=`${W}-datepicker`;class $y extends Ae{constructor(e){super(e),this.selectYear=(a,o)=>{this.foundation.selectYear(a,o)},this.selectMonth=(a,o)=>{this.foundation.selectMonth(a,o)},this.reselect=()=>{["yearRef","monthRef"].forEach(o=>{const l=this[o];l&&l.current&&l.current.scrollToIndex&&l.current.scrollToIndex()})},this.backToMain=a=>{a.nativeEvent.stopImmediatePropagation(),this.foundation.backToMain()};let{currentYear:t,currentMonth:r}=e;const{year:s,month:i}=eR(t,r);this.state={years:Uce(e.startYear,e.endYear).map(a=>({value:a,year:a})),months:Array(12).fill(0).map((a,o)=>({value:o+1,month:o+1})),currentYear:s,currentMonth:i},this.yearRef=v.createRef(),this.monthRef=v.createRef(),this.foundation=new tpe(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setCurrentYear:(e,t)=>this.setState({currentYear:e},t),setCurrentMonth:e=>this.setState({currentMonth:e}),setCurrentYearAndMonth:(e,t)=>this.setState({currentYear:e,currentMonth:t}),notifySelectYear:e=>this.props.onSelect({currentMonth:this.state.currentMonth,currentYear:e}),notifySelectMonth:e=>this.props.onSelect({currentYear:this.state.currentYear,currentMonth:e}),notifySelectYearAndMonth:(e,t)=>this.props.onSelect({currentYear:e,currentMonth:t}),notifyBackToMain:()=>this.props.onBackToMain()})}static getDerivedStateFromProps(e,t){const r={},{year:s,month:i}=eR(e.currentYear,e.currentMonth);return Fe(e.currentYear,t.currentYear)||(r.currentYear=s),Fe(e.currentMonth,t.currentMonth)||(r.currentMonth=i),r}renderColYear(e){const{years:t,currentYear:r,currentMonth:s,months:i}=this.state,{disabledDate:a,localeCode:o,yearCycled:l,yearAndMonthOpts:u}=this.props,d=ml(Date.now(),s[e]-1),h=Q.PANEL_TYPE_LEFT,f=Q.PANEL_TYPE_RIGHT,g=_=>e===f&&r[h]?r[h]>_:!1,b=t.map(_=>{let{value:m,year:E}=_;const w=i.every(O=>{let{month:x}=O;return a(b2(d,{year:E,month:x-1}))}),S=g(E);return{year:E,value:m,disabled:w||S}});let y=_=>_;return(o==="zh-CN"||o==="zh-TW")&&(y=_=>`${_}`),v.createElement(ha,Object.assign({ref:this.yearRef,cycled:l,list:b,transform:y,selectedIndex:t.findIndex(_=>_.value===r[e]),type:"year",onSelect:_=>this.selectYear(_,e),mode:"normal"},u))}renderColMonth(e){const{months:t,currentMonth:r,currentYear:s}=this.state,{locale:i,localeCode:a,monthCycled:o,disabledDate:l,yearAndMonthOpts:u}=this.props;let d=_=>_;const h=Ow(Date.now(),s[e]),f=Q.PANEL_TYPE_LEFT,g=Q.PANEL_TYPE_RIGHT;(a==="zh-CN"||a==="zh-TW")&&(d=_=>`${_}`);const b=t.map(_=>{let{value:m,month:E}=_;const w=e===g&&r[f]&&s[f]===s[g]&&r[f]>E;return{month:E,disabled:l(ml(h,E-1))||w,value:i.fullMonths[m]}}),y=b.findIndex(_=>_.month===r[e]);return v.createElement(ha,Object.assign({ref:this.monthRef,cycled:o,list:b,transform:d,selectedIndex:y,type:"month",onSelect:_=>this.selectMonth(_,e),mode:"normal"},u))}renderPanel(e){return v.createElement(v.Fragment,null,v.createElement(Ly,null,this.renderColYear(e),this.renderColMonth(e)))}render(){const{locale:e,noBackBtn:t,density:r,presetPosition:s,renderQuickControls:i,renderDateInput:a,type:o}=this.props,l=`${fR}-yearmonth-header`,u=`${fR}-yearmonth-body`,d=e.selectDate,h=r==="compact"?"default":"large",f=r==="compact"?"small":"default",g=Q.PANEL_TYPE_LEFT,b=Q.PANEL_TYPE_RIGHT;let y=null;return o==="month"?y=this.renderPanel(g):y=v.createElement("div",{className:u},this.renderPanel(g),this.renderPanel(b)),v.createElement(v.Fragment,null,t?null:v.createElement("div",{className:l},v.createElement(ni,{noHorizontalPadding:!1,icon:v.createElement(C2,{"aria-hidden":!0,size:h}),size:f,onClick:this.backToMain},v.createElement("span",null,d))),s?v.createElement("div",{style:{display:"flex"}},s==="left"&&o!=="monthRange"&&i,v.createElement("div",null,a,y),s==="right"&&o!=="monthRange"&&i):v.createElement(v.Fragment,null,a,y))}}$y.propTypes={currentYear:c.object,currentMonth:c.object,onSelect:c.func,locale:c.object,localeCode:c.string,monthCycled:c.bool,yearCycled:c.bool,noBackBtn:c.bool,disabledDate:c.func,density:c.string,presetPosition:c.oneOf(Q.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node,type:c.oneOf(Q.TYPE_SET),startYear:c.number,endYear:c.number};$y.defaultProps={disabledDate:Jh,monthCycled:!1,yearCycled:!1,noBackBtn:!1,onSelect:F,type:"month"};const rs=we.PREFIX;class TT extends Ae{constructor(e){super(e),this.cacheRefCurrent=(o,l)=>{typeof o=="string"&&o.length&&this.adapter.setCache(o,l)},this.leftIsYearOrTime=o=>{const{monthLeft:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.rightIsYearOrTime=o=>{const{monthRight:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.calcScrollListHeight=()=>{const o=this.adapter.getCache(`wrap-${Q.PANEL_TYPE_LEFT}`),l=this.adapter.getCache(`wrap-${Q.PANEL_TYPE_RIGHT}`),u=this.adapter.getCache(`switch-${Q.PANEL_TYPE_LEFT}`),d=this.adapter.getCache(`switch-${Q.PANEL_TYPE_RIGHT}`),h=o&&o.getBoundingClientRect(),f=l&&l.getBoundingClientRect();let g=h&&h.height||0,b=f&&f.height||0;return u&&(g+=u.getBoundingClientRect().height),d&&(b+=d.getBoundingClientRect().height),Math.max(g,b)},this.handleWeeksRowNumChange=(o,l)=>{const u=l===Q.PANEL_TYPE_RIGHT,d=l===Q.PANEL_TYPE_RIGHT,h=this.leftIsYearOrTime()&&this.rightIsYearOrTime();if(this.foundation.isRangeType()&&!h){const f={weeksRowNum:o,currentPanelHeight:this.calcScrollListHeight()};this.setState(f,()=>{(this.leftIsYearOrTime()&&d||this.rightIsYearOrTime()&&u)&&this.reselect()})}},this.reselect=()=>{[`timepicker-${Q.PANEL_TYPE_LEFT}`,`timepicker-${Q.PANEL_TYPE_RIGHT}`,`yam-${Q.PANEL_TYPE_LEFT}`,`yam-${Q.PANEL_TYPE_RIGHT}`].forEach(l=>{const u=this.adapter.getCache(l);u&&typeof u.reselect=="function"&&u.reselect()})},this.getYAMOpenType=()=>this.foundation.getYAMOpenType();const t=e.format||vo(e.type),{nowDate:r,nextDate:s}=rF({defaultPickerValue:e.defaultPickerValue,format:t,dateFnsLocale:e.dateFnsLocale}),i={selected:new Set},a={monthLeft:{pickerDate:r,showDate:r,isTimePickerOpen:!1,isYearPickerOpen:!1},monthRight:{pickerDate:s,showDate:s,isTimePickerOpen:!1,isYearPickerOpen:!1},maxWeekNum:0,hoverDay:"",rangeStart:e.rangeStart,rangeEnd:"",currentPanelHeight:0,offsetRangeStart:"",offsetRangeEnd:""};this.state=Object.assign(Object.assign({},i),a),this.foundation=new ghe(this.adapter)}get dateAdapter(){return{updateDaySelected:e=>this.setState({selected:e})}}get rangeAdapter(){return{setRangeStart:e=>this.setState({rangeStart:e}),setRangeEnd:e=>this.setState({rangeEnd:e}),setHoverDay:e=>this.setState({hoverDay:e}),setWeeksHeight:e=>this.setState({maxWeekNum:e}),setOffsetRangeStart:e=>this.setState({offsetRangeStart:e}),setOffsetRangeEnd:e=>this.setState({offsetRangeEnd:e})}}get adapter(){return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),this.dateAdapter),this.rangeAdapter),{updateMonthOnLeft:e=>this.setState({monthLeft:e}),updateMonthOnRight:e=>this.setState({monthRight:e}),notifySelectedChange:(e,t)=>this.props.onChange(e,t),notifyMaxLimit:e=>this.props.onMaxSelect(e),notifyPanelChange:(e,t)=>this.props.onPanelChange(e,t),setRangeInputFocus:e=>this.props.setRangeInputFocus(e),isAnotherPanelHasOpened:e=>this.props.isAnotherPanelHasOpened(e)})}componentDidMount(){super.componentDidMount()}componentDidUpdate(e,t){const{defaultValue:r,defaultPickerValue:s}=this.props;if(e.defaultValue!==r&&this.foundation.updateSelectedFromProps(r),e.defaultPickerValue!==s&&this.foundation.initDefaultPickerValue(),this.foundation.isRangeType()){const a=this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),o=this.leftIsYearOrTime(t)&&!this.rightIsYearOrTime(t)||!this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),l=this.leftIsYearOrTime()&&this.rightIsYearOrTime(),u=this.leftIsYearOrTime()&&!this.rightIsYearOrTime()||!this.leftIsYearOrTime()&&this.rightIsYearOrTime();o&&l?this.setState({currentPanelHeight:this.calcScrollListHeight()},this.reselect):a&&u&&this.reselect()}}renderPanel(e,t){let r=$(`${rs}-month-grid-${t}`);const{monthLeft:s,monthRight:i,currentPanelHeight:a}=this.state,{insetInput:o}=this.props,l=t===Q.PANEL_TYPE_RIGHT?i:s,{isTimePickerOpen:u,isYearPickerOpen:d}=l,h=this.renderMonth(e,t),f=d?v.createElement("div",{className:`${rs}-yam`},this.renderYearAndMonth(t,l)):null,g=u?v.createElement("div",{className:`${rs}-tpk`},this.renderTimePicker(t,l)):null,b={},y=this.adapter.getCache(`wrap-${Q.PANEL_TYPE_LEFT}`),_=this.adapter.getCache(`wrap-${Q.PANEL_TYPE_RIGHT}`),m=t===Q.PANEL_TYPE_RIGHT?_:y;this.foundation.isRangeType()?((d||u)&&(b.minWidth=m.getBoundingClientRect().width),this.leftIsYearOrTime()&&this.rightIsYearOrTime()&&!o&&(b.minHeight=a||this.calcScrollListHeight())):this.props.type!=="year"&&this.props.type!=="month"&&(u||d)&&(r=$(r,`${rs}-yam-showing`));const w=!(d||u)?"date":d?"year":"time";return v.createElement("div",{className:r,key:t,style:b,"x-open-type":w},f,g,this.foundation.isRangeType()?h:d||u?null:h,this.renderSwitch(t))}showYearPicker(e,t){t.nativeEvent.stopImmediatePropagation(),this.foundation.showYearPicker(e)}renderMonth(e,t){const{selected:r,rangeStart:s,rangeEnd:i,hoverDay:a,maxWeekNum:o,offsetRangeStart:l,offsetRangeEnd:u}=this.state,{weekStartsOn:d,disabledDate:h,locale:f,localeCode:g,renderDate:b,renderFullDate:y,startDateOffset:_,endDateOffset:m,density:E,rangeInputFocus:w,syncSwitchMonth:S,multiple:O}=this.props;let x="";if(e){const k=e?ot(e,"yyyy"):"",L=e?ot(e,"L"):"",N=f.months[L];x=f.monthText.replace("${year}",k).replace("${month}",N)}let I={};const T=t===Q.PANEL_TYPE_RIGHT?this.state.monthRight:this.state.monthLeft,P=this.foundation.isRangeType(),A=P&&S;return P&&T&&(T.isYearPickerOpen||T.isTimePickerOpen)&&(I={visibility:"hidden",position:"absolute",pointerEvents:"none"}),v.createElement("div",{ref:k=>this.cacheRefCurrent(`wrap-${t}`,k),style:I},v.createElement(ET,{forwardRef:k=>this.cacheRefCurrent(`nav-${t}`,k),monthText:x,density:E,onMonthClick:k=>this.showYearPicker(t,k),onPrevMonth:()=>this.foundation.prevMonth(t),onNextMonth:()=>this.foundation.nextMonth(t),onNextYear:()=>this.foundation.nextYear(t),onPrevYear:()=>this.foundation.prevYear(t),shouldBimonthSwitch:A,panelType:t}),v.createElement(ST,{locale:f,localeCode:g,forwardRef:k=>this.cacheRefCurrent(`month-${t}`,k),disabledDate:h,weekStartsOn:d,month:e,selected:r,rangeStart:s,rangeEnd:i,rangeInputFocus:w,offsetRangeStart:l,offsetRangeEnd:u,hoverDay:a,weeksRowNum:o,renderDate:b,renderFullDate:y,onDayClick:k=>this.foundation.handleDayClick(k,t),onDayHover:k=>this.foundation.handleDayHover(k,t),onWeeksRowNumChange:k=>this.handleWeeksRowNumChange(k,t),startDateOffset:_,endDateOffset:m,focusRecordsRef:this.props.focusRecordsRef,multiple:O}))}renderTimePicker(e,t){const{type:r,locale:s,format:i,hideDisabledOptions:a,timePickerOpts:o,dateFnsLocale:l}=this.props,{pickerDate:u}=t,d=$(`${rs}-time`),h=Object.assign(Object.assign({},o),{hideDisabledOptions:a}),f=this.foundation.calcDisabledTime(e);f&&["disabledHours","disabledMinutes","disabledSeconds"].forEach(w=>{f[w]&&(h[w]=f[w])});const{rangeStart:g,rangeEnd:b}=this.state,y=this.foundation.getValidDateFormat();let _,m;r==="dateTimeRange"&&g&&b&&WC(_=nn(g,y,void 0,l),m=nn(b,y,void 0,l))&&(e===Q.PANEL_TYPE_RIGHT?g&&(h.startDate=_):b&&(h.endDate=m));const E=s.selectTime;return v.createElement("div",{className:d},v.createElement(of,Object.assign({ref:w=>this.cacheRefCurrent(`timepicker-${e}`,w),panelHeader:E,format:i||Q.FORMAT_TIME_PICKER,timeStampValue:u,onChange:w=>this.foundation.handleTimeChange(w,e)},h)))}renderYearAndMonth(e,t){const{pickerDate:r}=t,{locale:s,localeCode:i,density:a,yearAndMonthOpts:o,startYear:l,endYear:u}=this.props,d=r.getFullYear(),h=r.getMonth()+1;return v.createElement($y,{ref:f=>this.cacheRefCurrent(`yam-${e}`,f),locale:s,localeCode:i,currentYear:{left:d,right:0},currentMonth:{left:h,right:0},onSelect:f=>this.foundation.toYearMonth(e,new Date(f.currentYear.left,f.currentMonth.left-1)),onBackToMain:()=>{this.foundation.showDatePanel(e);const f=this.adapter.getCache(`wrap-${e}`);f&&(f.style.height="auto")},density:a,yearAndMonthOpts:o,startYear:l,endYear:u})}renderSwitch(e){const{rangeStart:t,rangeEnd:r,monthLeft:s,monthRight:i}=this.state,{type:a,locale:o,disabledTimePicker:l,density:u,dateFnsLocale:d,insetInput:h}=this.props;if(!a.includes("Time")||h)return null;let f,g;const{FORMAT_SWITCH_DATE:b}=o.localeFormatToken,y=this.foundation.getValidTimeFormat(),_=this.foundation.getValidDateFormat();e===Q.PANEL_TYPE_LEFT?(f=s,g=t?ot(nn(t,_,void 0,d),b):""):(f=i,g=r?ot(nn(r,_,void 0,d),b):"");const{isTimePickerOpen:m,showDate:E}=f,w=E?ot(E,b):"",S=E?ot(E,y):"",O=["default"].includes(u),x=$(`${rs}-switch`),I=$({[`${rs}-switch-date`]:!0,[`${rs}-switch-date-active`]:!m}),T=$({[`${rs}-switch-time`]:!0,[`${rs}-switch-time-disabled`]:l,[`${rs}-switch-date-active`]:m}),P=$(`${rs}-switch-text`);return v.createElement("div",{className:x,ref:A=>this.adapter.setCache(`switch-${e}`,A)},v.createElement("div",{role:"button","aria-label":"Switch to date panel",className:I,onClick:A=>this.foundation.showDatePanel(e)},O&&v.createElement(S2,{"aria-hidden":!0}),v.createElement("span",{className:P},g||w)),v.createElement("div",{role:"button","aria-label":"Switch to time panel",className:T,onClick:A=>this.foundation.showTimePicker(e,!0)},O&&v.createElement(I2,{"aria-hidden":!0}),v.createElement("span",{className:P},S)))}render(){const{monthLeft:e,monthRight:t}=this.state,{type:r,insetInput:s,presetPosition:i,renderQuickControls:a,renderDateInput:o}=this.props,l=$({[`${rs}-month-grid`]:!0}),u=Q.PANEL_TYPE_LEFT,d=Q.PANEL_TYPE_RIGHT;let h=null;r==="date"||r==="dateTime"?h=this.renderPanel(e.pickerDate,u):r==="dateRange"||r==="dateTimeRange"?h=[this.renderPanel(e.pickerDate,u),this.renderPanel(t.pickerDate,d)]:(r==="year"||r==="month")&&(h="year month");const f=this.getYAMOpenType();return v.createElement("div",{style:{display:"flex"}},i==="left"&&a,v.createElement("div",null,o,v.createElement("div",{className:l,"x-type":r,"x-panel-yearandmonth-open-type":f,"x-insetinput":s?"true":"false","x-preset-position":a===null?"null":i,ref:g=>this.cacheRefCurrent("monthGrid",g)},h)),i==="right"&&a)}}TT.propTypes={type:c.oneOf(Q.TYPE_SET),defaultValue:c.array,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),multiple:c.bool,max:c.number,weekStartsOn:c.number,disabledDate:c.func,disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,navPrev:c.node,navNext:c.node,onMaxSelect:c.func,timePickerOpts:c.object,isControlledComponent:c.bool,rangeStart:c.oneOfType([c.string]),rangeInputFocus:c.oneOfType([c.bool,c.string]),locale:c.object,localeCode:c.string,format:c.string,renderDate:c.func,renderFullDate:c.func,startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,density:c.string,dateFnsLocale:c.object.isRequired,timeZone:c.oneOfType([c.string,c.number]),syncSwitchMonth:c.bool,onPanelChange:c.func,focusRecordsRef:c.object,triggerRender:c.func,presetPosition:c.oneOf(Q.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node};TT.defaultProps={type:"date",rangeStart:"",multiple:!1,weekStartsOn:Nc.WEEK_START_ON,disabledDate:Jh,onMaxSelect:F,locale:{}};const $r=we.PREFIX,{Text:npe}=Fa;class IT extends D.PureComponent{render(){const{presets:e,onPresetClick:t,type:r,presetPosition:s,insetInput:i,locale:a}=this.props,o=r==="dateRange"||r==="dateTimeRange",l=s==="top"||s==="bottom",u=r==="month",d=l&&o,h=l&&u,f=$(`${$r}-quick-control`,{[`${$r}-quick-control-${r}`]:r,[`${$r}-quick-control-${s}`]:!0}),g=$({[`${$r}-quick-control-header`]:!0}),b=$({[`${$r}-quick-control-${s}-content-wrapper`]:!0}),y=$({[`${$r}-quick-control-${s}-content`]:!d&&!h,[`${$r}-quick-control-${s}-range-content`]:d,[`${$r}-quick-control-${s}-month-content`]:h}),_=$({[`${$r}-quick-control-${s}-content-item`]:!d&&!h,[`${$r}-quick-control-${s}-range-content-item`]:d,[`${$r}-quick-control-${s}-month-content-item`]:h}),m=$({[`${$r}-quick-control-${s}-content-item-ellipsis`]:!d&&!h,[`${$r}-quick-control-${s}-range-content-item-ellipsis`]:d,[`${$r}-quick-control-${s}-month-content-item-ellipsis`]:h});return e.length?v.createElement("div",{className:f,"x-insetinput":i?"true":"false"},!l&&v.createElement("div",{className:g},a.presets),v.createElement("div",{className:b},v.createElement("div",{className:y},e.map((E,w)=>{const S=typeof E=="function"?E():E;return v.createElement(pn,{size:"small",type:"primary",onClick:O=>t(S,O),key:w},v.createElement("div",{className:_},v.createElement(npe,{ellipsis:{showTooltip:!0},className:m},S.text)))})))):null}}IT.propTypes={presets:c.array,presetPosition:c.oneOf(Q.PRESET_POSITION_SET),onPresetClick:c.func,type:c.string,insetInput:c.oneOfType([c.bool,c.object]),locale:c.object};IT.defaultProps={presets:[],presetPosition:"bottom",onPresetClick:Ot};function rpe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:e,locale:t,onCancelClick:r,onConfirmClick:s}=n,i=$(`${e}-footer`);return v.createElement("div",{className:i},v.createElement(pn,{theme:"borderless",onClick:r},Z(t,"footer.cancel","")),v.createElement(pn,{theme:"solid",onClick:s},Z(t,"footer.confirm","")))}var spe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let Ul=class extends Ae{constructor(e){var t;super(e),t=this,this.setTriggerRef=r=>this.triggerElRef.current=r,this.handleSelectedChange=(r,s)=>this.foundation.handleSelectedChange(r,s),this.handleYMSelectedChange=r=>this.foundation.handleYMSelectedChange(r),this.disabledDisposeDate=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return t.foundation.disabledDisposeDate(r,...i)},this.disabledDisposeTime=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return t.foundation.disabledDisposeTime(r,...i)},this.handleOpenPanel=()=>this.foundation.openPanel(),this.handleInputChange=function(){return t.foundation.handleInputChange(...arguments)},this.handleInsetInputChange=r=>this.foundation.handleInsetInputChange(r),this.handleInputComplete=r=>this.foundation.handleInputComplete(r),this.handleInputBlur=r=>this.foundation.handleInputBlur(Z(r,"nativeEvent.target.value"),r),this.handleInputFocus=function(){return t.foundation.handleInputFocus(...arguments)},this.handleInputClear=r=>this.foundation.handleInputClear(r),this.handleTriggerWrapperClick=r=>this.foundation.handleTriggerWrapperClick(r),this.handleSetRangeFocus=r=>this.foundation.handleSetRangeFocus(r),this.handleRangeInputBlur=(r,s)=>this.foundation.handleRangeInputBlur(r,s),this.handleRangeInputClear=r=>this.foundation.handleRangeInputClear(r),this.handleRangeEndTabPress=r=>this.foundation.handleRangeEndTabPress(r),this.isAnotherPanelHasOpened=r=>r==="rangeStart"?this.focusRecordsRef.current.rangeEnd:this.focusRecordsRef.current.rangeStart,this.handleInsetDateFocus=(r,s)=>{const i=Z(this,"monthGrid.current.foundation");i&&(i.showDatePanel(Q.PANEL_TYPE_LEFT),i.showDatePanel(Q.PANEL_TYPE_RIGHT)),this.handleInputFocus(r,s)},this.handleInsetTimeFocus=()=>{const r=Z(this,"monthGrid.current.foundation");r&&(r.showTimePicker(Q.PANEL_TYPE_LEFT),r.showTimePicker(Q.PANEL_TYPE_RIGHT))},this.handlePanelVisibleChange=r=>{this.foundation.handlePanelVisibleChange(r)},this.handleConfirm=r=>this.foundation.handleConfirm(),this.handleCancel=r=>this.foundation.handleCancel(),this.renderFooter=(r,s)=>this.adapter.needConfirm()?v.createElement(rpe,Object.assign({},this.props,{locale:r,localeCode:s,onConfirmClick:this.handleConfirm,onCancelClick:this.handleCancel})):null,this.renderPanel=(r,s,i)=>{const{dropdownClassName:a,dropdownStyle:o,density:l,topSlot:u,bottomSlot:d,presetPosition:h,type:f,leftSlot:g,rightSlot:b}=this.props,y=$(we.PREFIX,{[we.PANEL_YAM]:this.adapter.typeIsYearOrMonth(),[`${we.PREFIX}-compact`]:l==="compact"},a);return v.createElement("div",{ref:this.panelRef,className:y,style:o,"x-type":f},v.createElement("div",{className:`${we.PREFIX}-container`},g&&v.createElement("div",{className:`${we.PREFIX}-leftSlot`,"x-semi-prop":"leftSlot"},g),v.createElement("div",null,u&&v.createElement("div",{className:`${we.PREFIX}-topSlot`,"x-semi-prop":"topSlot"},u),h==="top"&&f!=="monthRange"&&this.renderQuickControls(),this.adapter.typeIsYearOrMonth()?this.renderYearMonthPanel(r,s):this.renderMonthGrid(r,s,i),h==="bottom"&&f!=="monthRange"&&this.renderQuickControls(),d&&v.createElement("div",{className:`${we.PREFIX}-bottomSlot`,"x-semi-prop":"bottomSlot"},d)),b&&v.createElement("div",{className:`${we.PREFIX}-rightSlot`,"x-semi-prop":"rightSlot"},b)),this.renderFooter(r,s))},this.renderYearMonthPanel=(r,s)=>{const{density:i,presetPosition:a,yearAndMonthOpts:o,type:l,startYear:u,endYear:d}=this.props,h=this.state.value[0],f={left:0,right:0},g={left:0,right:0};if(Zx(h)&&(f.left=h.getFullYear(),g.left=h.getMonth()+1),l==="monthRange"){const b=this.state.value[1];Zx(b)&&(f.right=b.getFullYear(),g.right=b.getMonth()+1)}return v.createElement($y,{locale:r,localeCode:s,disabledDate:this.disabledDisposeDate,noBackBtn:!0,monthCycled:!0,onSelect:this.handleYMSelectedChange,currentYear:f,currentMonth:g,density:i,presetPosition:a,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),type:l,yearAndMonthOpts:o,startYear:u,endYear:d})},this.wrapPopover=r=>{const{panelShow:s}=this.state,{direction:i}=this.context,a=i==="rtl"?"bottomRight":"bottomLeft",{motion:o,zIndex:l,position:u=a,getPopupContainer:d,locale:h,localeCode:f,dateFnsLocale:g,stopPropagation:b,autoAdjustOverflow:y,spacing:_,dropdownMargin:m}=this.props;return v.createElement(br,{getPopupContainer:d,autoAdjustOverflow:y,zIndex:l,motion:o,margin:m,content:this.renderPanel(h,f,g),trigger:"custom",position:u,visible:s,stopPropagation:b,spacing:_,onVisibleChange:this.handlePanelVisibleChange},r)},this.state={panelShow:e.open||e.defaultOpen,isRange:!1,inputValue:null,value:[],cachedSelectedValue:[],prevTimeZone:null,rangeInputFocus:void 0,autofocus:e.autoFocus||this.isRangeType(e.type,e.triggerRender)&&(e.open||e.defaultOpen),insetInputValue:null,triggerDisabled:void 0},this.triggerElRef=v.createRef(),this.panelRef=v.createRef(),this.monthGrid=v.createRef(),this.inputRef=v.createRef(),this.rangeInputStartRef=v.createRef(),this.rangeInputEndRef=v.createRef(),this.focusRecordsRef=v.createRef(),this.focusRecordsRef.current={rangeStart:!1,rangeEnd:!1},this.foundation=new xde(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:(t,r)=>{this.setState({panelShow:t},r),t||(this.focusRecordsRef.current.rangeEnd=!1,this.focusRecordsRef.current.rangeStart=!1)},registerClickOutSide:()=>{this.clickOutSideHandler&&(this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=null),this.clickOutSideHandler=t=>{const r=this.triggerElRef&&this.triggerElRef.current,s=this.panelRef&&this.panelRef.current,i=t.target,a=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(a.includes(r)||a.includes(s))&&(this.props.onClickOutSide(t),this.adapter.needConfirm()||this.foundation.closePanel())},document.addEventListener("mousedown",this.clickOutSideHandler)},unregisterClickOutSide:()=>{document.removeEventListener("mousedown",this.clickOutSideHandler)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyCancel:function(){return e.props.onCancel(...arguments)},notifyConfirm:function(){return e.props.onConfirm(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyPresetsClick:function(){return e.props.onPresetClick(...arguments)},updateValue:t=>this.setState({value:t}),updatePrevTimezone:t=>this.setState({prevTimeZone:t}),updateCachedSelectedValue:t=>{let r=t;t&&!Array.isArray(t)&&(r=[...t]),this.setState({cachedSelectedValue:r})},updateInputValue:t=>{this.setState({inputValue:t})},updateInsetInputValue:t=>{const{insetInput:r}=this.props;r&&!Fe(t,this.state.insetInputValue)&&this.setState({insetInputValue:t})},needConfirm:()=>["dateTime","dateTimeRange"].includes(this.props.type)&&this.props.needConfirm===!0,typeIsYearOrMonth:()=>["month","year","monthRange"].includes(this.props.type),setRangeInputFocus:t=>{const{preventScroll:r}=this.props;switch(t!==this.state.rangeInputFocus&&this.setState({rangeInputFocus:t}),t){case"rangeStart":const s=Z(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeStart=!0},0);break;case"rangeEnd":const i=Z(this,"rangeInputEndRef.current");i&&i.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeEnd=!0},0);break;default:return}},couldPanelClosed:()=>this.focusRecordsRef.current.rangeStart&&this.focusRecordsRef.current.rangeEnd,isEventTarget:t=>t&&t.target===t.currentTarget,setInsetInputFocus:()=>{const{preventScroll:t}=this.props,{rangeInputFocus:r}=this.state;switch(r){case"rangeEnd":if(document.activeElement!==this.rangeInputEndRef.current){const s=Z(this,"rangeInputEndRef.current");s&&s.focus({preventScroll:t})}break;case"rangeStart":default:if(document.activeElement!==this.rangeInputStartRef.current){const s=Z(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:t})}break}},setInputFocus:()=>{const{preventScroll:t}=this.props,r=Z(this,"inputRef.current");r&&r.focus({preventScroll:t})},setInputBlur:()=>{const t=Z(this,"inputRef.current");t&&t.blur()},setRangeInputBlur:()=>{const{rangeInputFocus:t}=this.state;if(t==="rangeStart"){const r=Z(this,"rangeInputStartRef.current");r&&r.blur()}else if(t==="rangeEnd"){const r=Z(this,"rangeInputEndRef.current");r&&r.blur()}this.adapter.setRangeInputFocus(!1)},setTriggerDisabled:t=>{this.setState({triggerDisabled:t})}})}isRangeType(e,t){return/range/i.test(e)&&!De(t)}componentDidUpdate(e){Fe(e.value,this.props.value)?this.props.timeZone!==e.timeZone&&this.foundation.initFromProps({value:this.state.value,timeZone:this.props.timeZone,prevTimeZone:e.timeZone}):this.foundation.initFromProps(Object.assign({},this.props)),e.open!==this.props.open&&(this.foundation.initPanelOpenStatus(),this.props.open||this.foundation.clearRangeInputFocus())}componentDidMount(){this._mounted=!0,super.componentDidMount()}componentWillUnmount(){this._mounted=!1,super.componentWillUnmount()}open(){this.foundation.open()}close(){this.foundation.close()}focus(e){this.foundation.focus(e)}blur(){this.foundation.blur()}renderMonthGrid(e,t,r){const{type:s,multiple:i,max:a,weekStartsOn:o,timePickerOpts:l,defaultPickerValue:u,format:d,hideDisabledOptions:h,disabledTimePicker:f,renderDate:g,renderFullDate:b,startDateOffset:y,endDateOffset:_,autoSwitchDate:m,density:E,syncSwitchMonth:w,onPanelChange:S,timeZone:O,triggerRender:x,insetInput:I,presetPosition:T,yearAndMonthOpts:P,startYear:A,endYear:k}=this.props,{cachedSelectedValue:L,rangeInputFocus:N}=this.state,K=L;return v.createElement(TT,{ref:this.monthGrid,locale:e,localeCode:t,dateFnsLocale:r,weekStartsOn:o,type:s,multiple:i,max:a,format:d,disabledDate:this.disabledDisposeDate,hideDisabledOptions:h,disabledTimePicker:f,disabledTime:this.disabledDisposeTime,defaultValue:K,defaultPickerValue:u,timePickerOpts:l,isControlledComponent:!this.adapter.needConfirm()&&this.isControlled("value"),onChange:this.handleSelectedChange,renderDate:g,renderFullDate:b,startDateOffset:y,endDateOffset:_,autoSwitchDate:m,density:E,rangeInputFocus:N,setRangeInputFocus:this.handleSetRangeFocus,isAnotherPanelHasOpened:this.isAnotherPanelHasOpened,syncSwitchMonth:w,onPanelChange:S,timeZone:O,focusRecordsRef:this.focusRecordsRef,triggerRender:x,insetInput:I,presetPosition:T,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),yearAndMonthOpts:P,startYear:A,endYear:k})}renderQuickControls(){const{presets:e,type:t,presetPosition:r,insetInput:s,locale:i}=this.props;return v.createElement(IT,{type:t,presets:e,insetInput:s,presetPosition:r,onPresetClick:(a,o)=>this.foundation.handlePresetClick(a,o),locale:i})}renderDateInput(){const{insetInput:e,dateFnsLocale:t,density:r,type:s,format:i,rangeSeparator:a,defaultPickerValue:o}=this.props,{insetInputValue:l,value:u}=this.state,d={dateFnsLocale:t,format:i,insetInputValue:l,rangeSeparator:a,type:s,value:u,handleInsetDateFocus:this.handleInsetDateFocus,handleInsetTimeFocus:this.handleInsetTimeFocus,onInsetInputChange:this.handleInsetInputChange,rangeInputStartRef:this.rangeInputStartRef,rangeInputEndRef:this.rangeInputEndRef,density:r,defaultPickerValue:o};return e?v.createElement(lv,Object.assign({},d,{insetInput:e})):null}renderInner(e){const{clearIcon:t,type:r,format:s,multiple:i,disabled:a,showClear:o,insetLabel:l,insetLabelId:u,placeholder:d,validateStatus:h,inputStyle:f,prefix:g,locale:b,dateFnsLocale:y,triggerRender:_,size:m,inputReadOnly:E,rangeSeparator:w,insetInput:S,defaultPickerValue:O,borderless:x}=this.props,{value:I,inputValue:T,rangeInputFocus:P,triggerDisabled:A}=this.state,k=this.isRangeType(r,_),L=a||S&&A,N=$(`${we.PREFIX}-input`,{[`${we.PREFIX}-range-input`]:k,[`${we.PREFIX}-range-input-${m}`]:k&&m,[`${we.PREFIX}-range-input-active`]:k&&P&&!L,[`${we.PREFIX}-range-input-disabled`]:k&&L,[`${we.PREFIX}-range-input-${h}`]:k&&h,[`${we.PREFIX}-borderless`]:x}),K=d||b.placeholder[r],G=Object.assign(Object.assign({},e),{showClearIgnoreDisabled:!!S,placeholder:K,clearIcon:t,disabled:L,inputValue:T,value:I,defaultPickerValue:O,onChange:this.handleInputChange,onEnterPress:this.handleInputComplete,block:!0,inputStyle:f,showClear:o,insetLabel:l,insetLabelId:u,type:r,format:s,multiple:i,validateStatus:h,inputReadOnly:E||!!S,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onClear:this.handleInputClear,prefix:g,size:m,autofocus:this.state.autofocus,dateFnsLocale:y,rangeInputFocus:P,rangeSeparator:w,onRangeBlur:this.handleRangeInputBlur,onRangeClear:this.handleRangeInputClear,onRangeEndTabPress:this.handleRangeEndTabPress,rangeInputStartRef:S?null:this.rangeInputStartRef,rangeInputEndRef:S?null:this.rangeInputEndRef,inputRef:this.inputRef});return v.createElement("div",{role:"combobox","aria-label":Array.isArray(I)&&I.length?"Change date":"Choose date","aria-disabled":a,onClick:this.handleTriggerWrapperClick,className:N},typeof _=="function"?v.createElement(cu,Object.assign({},G,{triggerRender:_,componentName:"DatePicker",componentProps:Object.assign({},this.props)})):v.createElement(lv,Object.assign({},G)))}render(){const e=this.props,{style:t,className:r,prefixCls:s,type:i}=e,a=spe(e,["style","className","prefixCls","type"]),o=Object.assign({style:t,className:$(r,{[s]:!0}),ref:this.setTriggerRef,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(a)),l=[];i.toLowerCase().includes("range")||l.push("borderless");const u=this.renderInner(jl(this.props,l)),d=this.wrapPopover(u);return v.createElement("div",Object.assign({},o),d)}};Ul.contextType=Xr;Ul.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,type:c.oneOf(Q.TYPE_SET),size:c.oneOf(Q.SIZE_SET),clearIcon:c.node,density:c.oneOf(Q.DENSITY_SET),defaultValue:c.oneOfType([c.string,c.number,c.object,c.array]),value:c.oneOfType([c.string,c.number,c.object,c.array]),defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,format:c.string,disabled:c.bool,multiple:c.bool,max:c.number,placeholder:c.oneOfType([c.string,c.array]),presets:c.array,presetPosition:c.oneOf(Q.PRESET_POSITION_SET),onChange:c.func,onChangeWithDateFirst:c.bool,weekStartsOn:c.number,disabledDate:c.func,timePickerOpts:c.object,showClear:c.bool,onOpenChange:c.func,open:c.bool,defaultOpen:c.bool,motion:c.oneOfType([c.bool,c.func,c.object]),className:c.string,prefixCls:c.string,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,position:c.oneOf(Il.POSITION_SET),getPopupContainer:c.func,onCancel:c.func,onConfirm:c.func,needConfirm:c.bool,inputStyle:c.object,timeZone:c.oneOfType([c.string,c.number]),triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),autoAdjustOverflow:c.bool,onBlur:c.func,onFocus:c.func,onClear:c.func,style:c.object,autoFocus:c.bool,inputReadOnly:c.bool,validateStatus:c.oneOf(Q.STATUS),renderDate:c.func,renderFullDate:c.func,spacing:c.oneOfType([c.number,c.object]),startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),topSlot:c.node,bottomSlot:c.node,dateFnsLocale:c.object,syncSwitchMonth:c.bool,onPanelChange:c.func,rangeSeparator:c.string,preventScroll:c.bool,yearAndMonthOpts:c.object,onClickOutSide:c.func};Ul.__SemiComponentName__="DatePicker";Ul.defaultProps=Ws(Ul.__SemiComponentName__,{onChangeWithDateFirst:!0,borderless:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,prefixCls:we.PREFIX,presetPosition:"bottom",zIndex:gs.DEFAULT_Z_INDEX,type:"date",size:"default",density:"default",multiple:!1,defaultOpen:!1,disabledHours:F,disabledMinutes:F,disabledSeconds:F,hideDisabledOptions:!1,onBlur:F,onFocus:F,onClear:F,onCancel:F,onConfirm:F,onChange:F,onOpenChange:F,onPanelChange:F,onPresetClick:F,weekStartsOn:Nc.WEEK_START_ON,disabledDate:Jh,disabledTime:Jh,inputReadOnly:!1,spacing:Nc.SPACING,autoSwitchDate:!0,syncSwitchMonth:!1,rangeSeparator:Q.DEFAULT_SEPARATOR_RANGE,insetInput:!1,onClickOutSide:F});const ipe=j$(v.forwardRef((n,e)=>{const t=Object.assign({},n),{type:r,format:s,rangeSeparator:i}=t;return typeof s=="string"&&s&&(/[Hhms]+/.test(s)||(r==="dateTime"?t.type="date":r==="dateTimeRange"&&(t.type="dateRange"))),i&&typeof i=="string"&&(t.rangeSeparator=` ${i.trim()} `),t.insetInput&&(t.position||(t.position=Q.POSITION_INLINE_INPUT),t.position.includes("Over")&&!t.spacing&&(t.spacing=Nc.SPACING_INSET_INPUT)),v.createElement(Xr.Consumer,null,a=>{let{timeZone:o}=a;return v.createElement(xn,{componentName:"DatePicker"},(l,u,d)=>v.createElement(Ul,Object.assign({timeZone:o,localeCode:u,locale:l,dateFnsLocale:d},t,{ref:e})))})}),Ul);function ape(n){return n!==null&&typeof n=="object"}function OT(n){return ape(n)&&typeof n.then=="function"}const _F={PREFIX:`${W}`};var ope=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const pR=["xxl","xl","lg","md","sm","xs"],bF=v.createContext(null),gR={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class Fy extends v.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(gR).map(e=>cee(gR[e],{match:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})}))},unmatch:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})}))}}))}componentWillUnmount(){this.unRegisters.forEach(e=>e())}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach((s,i)=>{if(typeof s=="object")for(let a=0;a<pR.length;a++){const o=pR[a];if(this.state.screens[o]&&s[o]!==void 0){t[i]=s[o];break}}else t[i]=s||0}),t}render(){const e=this.props,{prefixCls:t,type:r,justify:s,align:i,className:a,style:o,children:l}=e,u=ope(e,["prefixCls","type","justify","align","className","style","children"]),d=this.getGutter(),h=`${t}-row`,f=$({[h]:r!=="flex",[`${h}-${r}`]:r,[`${h}-${r}-${s}`]:r&&s,[`${h}-${r}-${i}`]:r&&i},a),g=Object.assign(Object.assign(Object.assign({},d[0]>0?{marginLeft:d[0]/-2,marginRight:d[0]/-2}:{}),d[1]>0?{marginTop:d[1]/-2,marginBottom:d[1]/-2}:{}),o),b=Object.assign({},u);return delete b.gutter,v.createElement(bF.Provider,{value:{gutters:d}},v.createElement("div",Object.assign({},b,{className:f,style:g,"x-semi-prop":"children"}),l))}}Fy.propTypes={type:c.oneOf(["flex"]),align:c.oneOf(["top","middle","bottom"]),justify:c.oneOf(["start","end","center","space-around","space-between"]),className:c.string,style:c.object,children:c.node,gutter:c.oneOfType([c.object,c.number,c.array]),prefixCls:c.string};Fy.defaultProps={prefixCls:_F.PREFIX};Fy.RowContext={gutters:c.any};var lpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Pu=c.oneOfType([c.object,c.number]);class Hr extends v.Component{render(){const{props:e}=this,{prefixCls:t,span:r,order:s,offset:i,push:a,pull:o,className:l,children:u}=e,d=lpe(e,["prefixCls","span","order","offset","push","pull","className","children"]);let h={};const f=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach(_=>{let m={};typeof e[_]=="number"?m.span=e[_]:typeof e[_]=="object"&&(m=e[_]||{}),delete d[_],h=Object.assign(Object.assign({},h),{[`${f}-${_}-${m.span}`]:m.span!==void 0,[`${f}-${_}-order-${m.order}`]:m.order||m.order===0,[`${f}-${_}-offset-${m.offset}`]:m.offset||m.offset===0,[`${f}-${_}-push-${m.push}`]:m.push||m.push===0,[`${f}-${_}-pull-${m.pull}`]:m.pull||m.pull===0})});const g=$(f,{[`${f}-${r}`]:r!==void 0,[`${f}-order-${s}`]:s,[`${f}-offset-${i}`]:i,[`${f}-push-${a}`]:a,[`${f}-pull-${o}`]:o},l,h);let{style:b}=d,y;try{y=this.context.gutters}catch{throw new Error("please make sure <Col> inside <Row>")}return b=Object.assign(Object.assign(Object.assign({},y[0]>0?{paddingLeft:y[0]/2,paddingRight:y[0]/2}:{}),y[1]>0?{paddingTop:y[1]/2,paddingBottom:y[1]/2}:{}),b),v.createElement("div",Object.assign({},d,{style:b,className:g,"x-semi-prop":"children"}),u)}}Hr.contextType=bF;Hr.propTypes={span:c.number,order:c.number,offset:c.number,push:c.number,pull:c.number,className:c.string,children:c.node,xs:Pu,sm:Pu,md:Pu,lg:Pu,xl:Pu,xxl:Pu,prefixCls:c.string};Hr.defaultProps={prefixCls:_F.PREFIX};const si={PREFIX:`${W}-form`},th={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"},sa=si.PREFIX;class Bi extends D.PureComponent{render(){const{children:e,required:t,text:r,disabled:s,name:i,width:a,align:o,style:l,className:u,extra:d,id:h,optional:f}=this.props,g=$(u,{[`${sa}-field-label`]:!0,[`${sa}-field-label-left`]:o==="left",[`${sa}-field-label-right`]:o==="right",[`${sa}-field-label-required`]:t,[`${sa}-field-label-disabled`]:s,[`${sa}-field-label-with-extra`]:d}),b=l||{};a&&(b.width=a);const y=v.createElement(xn,{componentName:"Form"},E=>v.createElement("span",{className:`${sa}-field-label-optional-text`},E.optional)),_=v.createElement("div",{className:`${sa}-field-label-text`,"x-semi-prop":"label"},typeof r<"u"?r:e,f?y:null),m=v.createElement(v.Fragment,null,_,v.createElement("div",{className:`${sa}-field-label-extra`},d));return v.createElement("label",{className:g,htmlFor:i,style:b,id:h},d?m:_)}}Bi.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1};Bi.propTypes={id:c.string,children:c.node,required:c.bool,text:c.node,disabled:c.bool,name:c.string,align:c.string,width:c.oneOfType([c.number,c.string]),style:c.object,className:c.string,extra:c.node,optional:c.bool};var mR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const nl=Ey.PREFIX,upe=qo.SIZE;class PT extends Ae{renderGroupWithLabel(e){const t=this.props,{size:r,className:s,label:i,labelPosition:a}=t;mR(t,["size","className","label","labelPosition"]);const o=$({[`${nl}-group-wrapper`]:!0,[`${nl}-group-wrapper-with-top-label`]:a==="top",[`${nl}-group-wrapper-with-left-label`]:a==="left"}),l=$(`${nl}-group`,s,{[`${nl}-${r}`]:r!=="default"}),u="input-group";return v.createElement("div",{className:o},i&&i.text?v.createElement(Bi,Object.assign({name:u},i)):null,v.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:i&&i.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:r,className:s,children:i,label:a,onBlur:o,onFocus:l,disabled:u}=e,d=mR(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),h=$(`${nl}-group`,{[`${nl}-${t}`]:t!=="default"},s);let f;return i&&(f=(Array.isArray(i)?i:[i]).map((g,b)=>{if(g){const{onBlur:y,onFocus:_,disabled:m}=g.props,E=De(y)&&Z(y,"name")!=="noop"?y:o,w=De(_)&&Z(_,"name")!=="noop"?_:l,S=typeof m=="boolean"?m:u;return v.cloneElement(g,Object.assign(Object.assign({key:b},d),{size:t,onBlur:E,onFocus:w,disabled:S}))}return null})),a&&a.text?this.renderGroupWithLabel(f):v.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:h,style:r,onFocus:this.props.onFocus,onBlur:this.props.onBlur},f)}}PT.propTypes={className:c.string,children:c.node,size:c.oneOf(upe),style:c.object,onBlur:c.func,onFocus:c.func,label:c.object,labelPosition:c.string};PT.defaultProps={size:"default",className:"",onBlur:Ot,onFocus:Ot};let ss=null;const vR={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},yR=n=>{Object.keys(vR).forEach(e=>{n.style.setProperty(e,vR[e],"important")})},_R=(n,e)=>{const t=n.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function cpe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0;ss||(ss=document.createElement("textarea"),ss.setAttribute("tab-index","-1"),ss.setAttribute("aria-hidden","true"),yR(ss)),ss.parentNode===null&&document.body.appendChild(ss);const{paddingSize:s,borderSize:i,sizingStyle:a}=n,{boxSizing:o}=a;Object.keys(a).forEach(f=>{ss.style[f]=a[f]}),yR(ss),ss.value=e;let l=_R(ss,n);ss.value="x";const u=_R(ss,n)-s-i;let d=u*t;o==="border-box"&&(d=d+s+i),l=Math.max(d,l);let h=u*r;return o==="border-box"&&(h=h+s+i),l=Math.min(h,l),l}const dpe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],hpe=n=>{const e=window.getComputedStyle(n);if(e===null)return null;const t=jl(e,dpe),{boxSizing:r}=t;if(r==="")return null;const s=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),i=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:s,borderSize:i}};class xT extends ke{static get textAreaDefaultAdapter(){return{notifyChange:F,setValue:F,toggleFocusing:F,toggleHovering:F,notifyFocus:F,notifyBlur:F,notifyKeyDown:F,notifyEnterPress:F}}constructor(e){super(Object.assign(Object.assign({},xT.textAreaDefaultAdapter),e)),this.resizeTextarea=()=>{var t;const{height:r}=this.getStates(),{rows:s,autosize:i}=this.getProps(),a=this._adapter.getRef(),o=hpe(a);if(!o)return;const[l,u]=i!==null&&typeof i=="object"?[(t=i==null?void 0:i.minRows)!==null&&t!==void 0?t:s,i==null?void 0:i.maxRows]:[s],d=cpe(o,a.value||a.placeholder||"x",l,u);if(r!==d){this._adapter.notifyHeightUpdate(d),a.style.height=`${d}px`;return}}}destroy(){}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let a=e;r&&De(i)&&(a=this.handleVisibleMaxLength(e)),s&&De(i)&&this.handleVisibleMinLength(a),this._isControlledComponent()?this._adapter.notifyChange(a,t):(this._adapter.setValue(a),this._adapter.notifyChange(a,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(Qt(t)&&t>=0&&De(r)&&Re(e)){const i=r(e);if(i<t){const a=e.length+(t-i);a!==s&&this._adapter.setMinLength(a)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();if(Qt(t)&&t>=0&&Re(e)){if(De(r)){if(r(e)>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)}else if(e.length>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),e.slice(0,t);return e}}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return M2({value:e,maxLength:t,getValueLength:r})}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){const{value:t}=this.getStates(),{maxLength:r}=this.getProps();let s=t;r&&(s=this.handleVisibleMaxLength(t),s!==t&&(this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,e))),this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(s,e)}handleKeyDown(e){const{disabledEnterStartNewLine:t}=this.getProps();t&&e.key==="Enter"&&!e.shiftKey&&e.preventDefault(),this._adapter.notifyKeyDown(e),e.keyCode===13&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){const{value:e,isFocus:t,isHover:r}=this._adapter.getStates(),{showClear:s,disabled:i,readonly:a}=this._adapter.getProps();return e&&s&&!i&&(t||r)&&!a}handleClear(e){const{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var fpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Sr=Ey.PREFIX;class RT extends Ae{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.setRef=r=>{this.libRef.current=r;const{forwardRef:s}=this.props;typeof s=="function"?s(r):s&&typeof s=="object"&&(s.current=r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,isFocus:!1,isHover:!1,height:0,minLength:e.minLength,cachedValue:e.value},this.focusing=!1,this.foundation=new xT(this.adapter),this.libRef=v.createRef(),this.throttledResizeTextarea=Vm(this.foundation.resizeTextarea,10)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentWillUnmount(){var e,t;this.throttledResizeTextarea&&((t=(e=this.throttledResizeTextarea)===null||e===void 0?void 0:e.cancel)===null||t===void 0||t.call(e),this.throttledResizeTextarea=null)}componentDidUpdate(e,t){(this.props.value!==e.value||this.props.placeholder!==e.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){const{showClear:e}=this.props,t=this.foundation.isAllowClear(),r=$(`${Sr}-clearbtn`,{[`${Sr}-clearbtn-hidden`]:!t});return e?v.createElement("div",{className:r,onClick:this.handleClear},v.createElement(Yo,null)):null}renderCounter(){let e,t,r,s;const{showCounter:i,maxCount:a,getValueLength:o}=this.props;if(i||a){const{value:l}=this.state;t=l?De(o)?o(l):l.length:0,r=a||null,s=$(`${Sr}-textarea-counter`,{[`${Sr}-textarea-counter-exceed`]:t>r}),e=v.createElement("div",{className:s},t,r?"/":null,r)}else e=null;return e}render(){const e=this.props,{autosize:t,placeholder:r,onEnterPress:s,onResize:i,disabled:a,readonly:o,className:l,showCounter:u,validateStatus:d,maxCount:h,defaultValue:f,style:g,forwardRef:b,getValueLength:y,maxLength:_,minLength:m,showClear:E,borderless:w,autoFocus:S}=e,O=fpe(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:x,value:I,minLength:T}=this.state,P=$(l,`${Sr}-textarea-wrapper`,{[`${Sr}-textarea-borderless`]:w,[`${Sr}-textarea-wrapper-disabled`]:a,[`${Sr}-textarea-wrapper-readonly`]:o,[`${Sr}-textarea-wrapper-${d}`]:!!d,[`${Sr}-textarea-wrapper-focus`]:x}),A=$(`${Sr}-textarea`,{[`${Sr}-textarea-disabled`]:a,[`${Sr}-textarea-readonly`]:o,[`${Sr}-textarea-autosize`]:Pa(t)?bt(t==null?void 0:t.maxRows):t,[`${Sr}-textarea-showClear`]:E}),k=Object.assign(Object.assign({},lu(O,"insetLabel","insetLabelId","getValueLength","onClear","showClear","disabledEnterStartNewLine")),{autoFocus:S||this.props.autofocus,className:A,disabled:a,readOnly:o,placeholder:r||null,onChange:L=>this.foundation.handleChange(L.target.value,L),onFocus:L=>this.foundation.handleFocus(L),onBlur:L=>this.foundation.handleBlur(L.nativeEvent),onKeyDown:L=>this.foundation.handleKeyDown(L),value:I??""});return De(y)||(k.maxLength=_),T&&(k.minLength=T),v.createElement("div",{className:P,style:g,onMouseEnter:L=>this.foundation.handleMouseEnter(L),onMouseLeave:L=>this.foundation.handleMouseLeave(L)},t?v.createElement(Oo,{onResize:this.throttledResizeTextarea},v.createElement("textarea",Object.assign({},k,{ref:this.setRef}))):v.createElement("textarea",Object.assign({},k,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}RT.propTypes={autosize:c.oneOfType([c.bool,c.object]),borderless:c.bool,placeholder:c.string,value:c.string,rows:c.number,cols:c.number,maxCount:c.number,onEnterPress:c.func,validateStatus:c.string,className:c.string,style:c.object,showClear:c.bool,onClear:c.func,onResize:c.func,getValueLength:c.func,disabledEnterStartNewLine:c.bool};RT.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:F,onChange:F,onBlur:F,onFocus:F,onKeyDown:F,onResize:F,onClear:F};const ppe=v.forwardRef((n,e)=>v.createElement(RT,Object.assign({},n,{forwardRef:e})));var gpe=k2;function mpe(n){return gpe(n)&&n!=+n}var vpe=mpe;const ype=Ce(vpe),_pe=(n,e)=>{const{isNaN:t}=Number;return t(n)&&t(e)},bpe=Object.assign({},Ey),vl=Object.assign(Object.assign({},$se),{DEFAULT_STEP:1,DEFAULT_SHIFT_STEP:10,DEFAULT_PRESS_TIMEOUT:250,DEFAULT_PRESS_INTERVAL:0,MOUSE_BUTTON_LEFT:0}),wpe=Object.assign({},qo);function Epe(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=Math.pow(10,Math.max(t,r));return(n*s+e*s)/s}function bR(n,e){return Epe(n,-e)}class Spe extends ke{init(){this._setInitValue()}destroy(){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}isControlled(){return this._isControlledComponent("value")}_doInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=e,i=e,a=!0;const o=this.isControlled();typeof e!="number"&&(i=this.doParse(e,!1),a=!isNaN(i)),a&&(s=i,o||this._adapter.setNumber(i)),o||this._adapter.setValue(e,r),this.getProp("keepFocus")&&this._adapter.setFocusing(!0,()=>{this._adapter.setClickUpOrDown(!0)}),this.notifyChange(s,t)}_registerInterval(e){const t=this.getProp("pressInterval")||vl.DEFAULT_PRESS_INTERVAL;this._intervalHasRegistered=!0,this._interval=setInterval(()=>{typeof e=="function"&&this._intervalHasRegistered&&e()},t)}_unregisterInterval(){this._interval&&(this._intervalHasRegistered=!1,clearInterval(this._interval),this._interval=null)}_registerTimer(e){const t=this.getProp("pressTimeout")||vl.DEFAULT_PRESS_TIMEOUT;this._timerHasRegistered=!0,this._timer=setTimeout(()=>{this._timerHasRegistered&&typeof e=="function"&&e()},t)}_unregisterTimer(){this._timer&&(this._timerHasRegistered=!1,clearTimeout(this._timer),this._timer=null)}handleInputFocus(e){this.getState("value"),this._adapter.recordCursorPosition(),this._adapter.setFocusing(!0,null),this._adapter.setClickUpOrDown(!1),this._adapter.notifyFocus(e)}handleInputChange(e,t){const r=this.doParse(e,!0,!0,!0),s=this.doParse(e,!1,!1,!1),i=this.afterParser(e);this._adapter.recordCursorPosition();let a,o=s,l=e;if(e==="")this.isControlled()||(o=null);else if(this.isValidNumber(s)&&this.isValidNumber(r))a=s,l=this.doFormat(s,!1);else{if(typeof s=="number"&&!isNaN(s)){l=this.doFormat(s,!1);const u=i.lastIndexOf("."),d=i.length-1-u,h=this._getPrecLen(s);if(h){if(h<d)for(let f=0;f<d-h;f++)l+="0"}else{const f=u>-1?i.slice(u):"";l+=f}o=s}else l=this.doFormat(i,!1);a=i}!this.isControlled()&&(o===null||typeof o=="number"&&!isNaN(o))&&this._adapter.setNumber(o),this._adapter.setValue(this.isControlled()?l:this.doFormat(i,!1),()=>{this._adapter.restoreCursor()}),this.notifyChange(a,t)}handleInputKeyDown(e){const t=e.keyCode;if(t===Xn.UP||t===Xn.DOWN){this._adapter.setClickUpOrDown(!0),this._adapter.recordCursorPosition();const r=t===Xn.UP?this.add(null,e):this.minus(null,e);this._doInput(r,e,()=>{this._adapter.restoreCursor()}),e.preventDefault()}this._adapter.notifyKeyDown(e)}handleInputBlur(e){const t=wu(this.getState("value"));let r=this.getState("number");if(r!=null||t!=null&&t!==""){const s=this.doParse(t,!1,!0,!0);let i=!1,a=!1,o,l;this.isValidNumber(s)&&r!==s&&(o=s,this.isControlled()||(r=o),i=!0);const u=this.doFormat(r,!0);if(u!==t&&(l=u,a=!0),a||i){const d=l??o;l!=null&&this._adapter.setValue(l),o!=null&&(this._isControlledComponent("value")||this._adapter.setNumber(o)),this.notifyChange(d,e)}}this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputMouseEnter(e){this._adapter.setHovering(!0)}handleInputMouseLeave(e){this._adapter.setHovering(!1)}handleInputMouseMove(e){this._adapter.setHovering(!0)}handleMouseUp(e){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}handleUpClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.upClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.upClick(e)})}))}handleDownClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.downClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.downClick(e)})}))}_isMouseButtonLeft(e){return Z(e,"button")===vl.MOUSE_BUTTON_LEFT}_preventDefault(e){const t=this._adapter.getProp("keepFocus"),r=this._adapter.getProp("innerButtons");(t||r)&&e.preventDefault()}handleMouseLeave(e){this._adapter.registerGlobalEvent("mouseup",()=>{this.handleMouseUp(e)})}upClick(e){const t=this.add(null,e);this._doInput(t,e),this._adapter.notifyUpClick(t,e)}downClick(e){const t=this.minus(null,e);this._doInput(t,e),this._adapter.notifyDownClick(t,e)}_setInitValue(){const{defaultValue:e,value:t}=this.getProps(),r=this._isControlledComponent("value")?t:e,s=this.doParse(wu(r),!1,!0,!0);let i=null;typeof s=="number"&&!isNaN(s)&&(i=s);const a=typeof i=="number"?this.doFormat(i,!0):"";this._adapter.setNumber(i),this._adapter.setValue(a),Re(a)&&a!==String(r??"")&&this.notifyChange(a,null)}add(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");e=e==null?s:Number(e);const i=Math.abs(ks(e)),a=this.getState("number");let o=this.toNumber(a)||0;const l=this.getProp("min"),u=this.getProp("max"),d=this._getPrecLen(l),h=this._getPrecLen(u),f=this._getPrecLen(o),g=this._getPrecLen(e),b=Math.pow(10,Math.max(d,h,f,g));return e<0?Math.abs(bR(l,o))>=i&&(o=(o*b+e*b)/b):e>0&&Math.abs(bR(u,o))>=i&&(o=(o*b+e*b)/b),typeof l=="number"&&l>o&&(o=l),typeof u=="number"&&u<o&&(o=u),this.doFormat(o,!0)}minus(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");return e=e==null?s:Number(e),this.add(-e,t)}_getPrecLen(e){typeof e!="string"&&(e=String(Math.abs(Number(e||""))));const t=e.indexOf(".")+1;return t?e.length-t:0}_adjustPrec(e){const t=this.getProp("precision");return typeof t=="number"&&e!==""&&e!==null&&!Number.isNaN(Number(e))&&(e=Number(e).toFixed(t)),wu(e)}doFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r;const s=this.getProp("formatter");return t?r=this._adjustPrec(e):r=wu(e),typeof s=="function"&&(r=s(r)),r}fetchMinOrMax(e){const{min:t,max:r}=this.getProps();return e<t?t:e>r?r:e}doParse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof e=="number")return s&&(e=this.fetchMinOrMax(e)),r&&(e=this._adjustPrec(e)),ks(e);const i=this.getProp("parser");if(typeof i=="function"&&(e=i(e)),t&&typeof e=="string"){const a=e.indexOf(".")===-1||e.indexOf(".")>-1&&(e==="0"||e.lastIndexOf("0")<e.length-1),o=e.lastIndexOf(".")<e.length-1&&e.split("").filter(l=>l===".").length<2;if(!a||!o)return NaN}return r&&(e=this._adjustPrec(e)),typeof e=="string"&&e.length?s?this.fetchMinOrMax(ks(e)):ks(e):NaN}afterParser(e){const t=this.getProp("parser");return wu(typeof e=="string"&&typeof t=="function"?t(e):e)}toNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number")return e;if(typeof e=="string"){const r=this.getProp("parser");typeof r=="function"&&(e=r(e)),t&&(e=this._adjustPrec(e))}return ks(e)}isValidNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number"&&!isNaN(e)){const{min:r,max:s,precision:i}=this.getProps(),a=this._getPrecLen(e),o=t?typeof i=="number"&&a<=i||typeof i!="number":!0;if(e>=r&&e<=s&&o)return!0}return!1}isValidString(e){if(typeof e=="string"&&e.length){const t=this.doParse(e);return this.isValidNumber(t)}return!1}notifyChange(e,t){if(e==null||e==="")this._adapter.notifyChange("",t);else{const r=this.toNumber(e,!0);typeof r=="number"&&!isNaN(r)?(this._adapter.notifyChange(r,t),this.notifyNumberChange(r,t)):this._adapter.notifyChange(this.afterParser(e),t)}}notifyNumberChange(e,t){const{number:r}=this.getStates();this.isValidNumber(e)&&e!==r&&this._adapter.notifyNumberChange(e,t)}updateStates(e,t){this._adapter.updateStates(e,t)}}var Cpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class uv extends Ae{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setValue:(t,r)=>this.setState({value:t},r),setNumber:(t,r)=>this.setState({number:t},r),setFocusing:(t,r)=>this.setState({focusing:t},r),setHovering:t=>this.setState({hovering:t}),notifyChange:function(){return e.props.onChange(...arguments)},notifyNumberChange:function(){return e.props.onNumberChange(...arguments)},notifyBlur:t=>this.props.onBlur(t),notifyFocus:t=>this.props.onFocus(t),notifyUpClick:(t,r)=>this.props.onUpClick(t,r),notifyDownClick:(t,r)=>this.props.onDownClick(t,r),notifyKeyDown:t=>this.props.onKeyDown(t),registerGlobalEvent:(t,r)=>{t&&typeof r=="function"&&(this.adapter.unregisterGlobalEvent(t),this.adapter.setCache(t,r),document.addEventListener(t,r))},unregisterGlobalEvent:t=>{if(t){const r=this.adapter.getCache(t);document.removeEventListener(t,r),this.adapter.setCache(t,null)}},recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(t){console.warn(t)}},restoreByAfter:t=>{if(_t(t))return!1;const r=this.inputNode.value,s=r.lastIndexOf(t);return s===-1?!1:s+t.length===r.length?(this.adapter.fixCaret(s,s),!0):!1},restoreCursor:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.cursorAfter;return _t(t)?!1:Array.prototype.some.call(t,(r,s)=>{const i=t.substring(s);return e.adapter.restoreByAfter(i)})},fixCaret:(t,r)=>{if(!(t===void 0||r===void 0||!this.inputNode||!this.inputNode.value))try{const s=this.inputNode.selectionStart,i=this.inputNode.selectionEnd;(t!==s||r!==i)&&this.inputNode.setSelectionRange(t,r)}catch{}},setClickUpOrDown:t=>{this.clickUpOrDown=t},updateStates:(t,r)=>{this.setState(t,r)}})}constructor(e){super(e),this.setInputRef=t=>{const{forwardedRef:r}=this.props;this.inputNode=t,r&&typeof r=="object"?r.current=t:typeof r=="function"&&r(t)},this.handleInputFocus=t=>this.foundation.handleInputFocus(t),this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.handleInputBlur=t=>this.foundation.handleInputBlur(t),this.handleInputKeyDown=t=>this.foundation.handleInputKeyDown(t),this.handleInputMouseEnter=t=>this.foundation.handleInputMouseEnter(t),this.handleInputMouseLeave=t=>this.foundation.handleInputMouseLeave(t),this.handleInputMouseMove=t=>this.foundation.handleInputMouseMove(t),this.handleUpClick=t=>this.foundation.handleUpClick(t),this.handleDownClick=t=>this.foundation.handleDownClick(t),this.handleMouseUp=t=>this.foundation.handleMouseUp(t),this.handleMouseLeave=t=>this.foundation.handleMouseLeave(t),this.renderButtons=()=>{const{prefixCls:t,disabled:r,innerButtons:s,max:i,min:a}=this.props,{hovering:o,focusing:l,number:u}=this.state,d=r||u===i,h=r||u===a,f=$(`${t}-number-suffix-btns`,{[`${t}-number-suffix-btns-inner`]:s,[`${t}-number-suffix-btns-inner-hover`]:s&&o&&!l}),g=$(`${t}-number-button`,`${t}-number-button-up`,{[`${t}-number-button-up-disabled`]:r,[`${t}-number-button-up-not-allowed`]:d}),b=$(`${t}-number-button`,`${t}-number-button-down`,{[`${t}-number-button-down-disabled`]:r,[`${t}-number-button-down-not-allowed`]:h});return v.createElement("div",{className:f},v.createElement("span",{className:g,onMouseDown:d?F:this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},v.createElement(Dre,{size:"extra-small"})),v.createElement("span",{className:b,onMouseDown:h?F:this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},v.createElement(yy,{size:"extra-small"})))},this.renderSuffix=()=>{const{innerButtons:t,suffix:r}=this.props,{hovering:s,focusing:i}=this.state;return t&&(s||i)?this.renderButtons():r},this.state={value:"",number:null,focusing:!!e.autofocus||!1,hovering:!1},this.inputNode=null,this.foundation=new Spe(this.adapter),this.clickUpOrDown=!1}componentDidUpdate(e){const{value:t,preventScroll:r}=this.props,{focusing:s}=this.state;let i;if(t!==e.value&&!_pe(t,e.value)){if(_t(t)||t==="")i="",this.foundation.updateStates({value:i,number:null});else{let a=t;typeof t=="number"&&(a=this.foundation.doFormat(t));const o=this.foundation.doParse(a,!1,!0,!0),l=typeof t=="number"?t:this.foundation.doParse(a,!1,!1,!1);if(s)if(this.foundation.isValidNumber(o)&&o!==this.state.number){const u={number:o};this.clickUpOrDown&&(u.value=this.foundation.doFormat(u.number,!0),i=u.value),this.foundation.updateStates(u,()=>this.adapter.restoreCursor())}else ype(l)?this.foundation.updateStates({value:a}):(i=this.foundation.doFormat(l,!1),this.foundation.updateStates({value:i}));else this.foundation.isValidNumber(o)?(i=this.foundation.doFormat(o),this.foundation.updateStates({number:o,value:i})):(i="",this.foundation.updateStates({number:null,value:i}))}i&&Re(i)&&i!==String(this.props.value)&&this.foundation.notifyChange(i,null)}this.clickUpOrDown&&this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:r})}render(){const e=this.props,{disabled:t,className:r,prefixCls:s,min:i,max:a,step:o,shiftStep:l,precision:u,formatter:d,parser:h,forwardedRef:f,onUpClick:g,onDownClick:b,pressInterval:y,pressTimeout:_,suffix:m,size:E,hideButtons:w,innerButtons:S,style:O,onNumberChange:x,keepFocus:I,defaultValue:T}=e,P=Cpe(e,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue"]),{value:A,number:k}=this.state,L=$(r,`${s}-number`,{[`${s}-number-size-${E}`]:E}),N=this.renderButtons(),K={"aria-disabled":t,step:o};return k&&(K["aria-valuenow"]=k),a!==1/0&&(K["aria-valuemax"]=a),i!==-1/0&&(K["aria-valuemin"]=i),v.createElement("div",{className:L,style:O,onMouseMove:z=>this.handleInputMouseMove(z),onMouseEnter:z=>this.handleInputMouseEnter(z),onMouseLeave:z=>this.handleInputMouseLeave(z)},v.createElement(Hn,Object.assign({role:"spinbutton"},K,P,{size:E,disabled:t,ref:this.setInputRef,value:A,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),w||S?null:N)}}uv.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autofocus:c.bool,clearIcon:c.node,className:c.string,defaultValue:c.oneOfType([c.number,c.string]),disabled:c.bool,formatter:c.func,forwardedRef:c.any,hideButtons:c.bool,innerButtons:c.bool,insetLabel:c.node,insetLabelId:c.string,keepFocus:c.bool,max:c.number,min:c.number,parser:c.func,precision:c.number,prefixCls:c.string,pressInterval:c.number,pressTimeout:c.number,preventScroll:c.bool,shiftStep:c.number,step:c.number,style:c.object,suffix:c.any,value:c.oneOfType([c.number,c.string]),onBlur:c.func,onChange:c.func,onDownClick:c.func,onKeyDown:c.func,onNumberChange:c.func,onUpClick:c.func};uv.defaultProps={forwardedRef:F,innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:bpe.PREFIX,pressInterval:vl.DEFAULT_PRESS_TIMEOUT,pressTimeout:vl.DEFAULT_PRESS_TIMEOUT,shiftStep:vl.DEFAULT_SHIFT_STEP,size:wpe.DEFAULT_SIZE,step:vl.DEFAULT_STEP,onBlur:F,onChange:F,onDownClick:F,onFocus:F,onKeyDown:F,onNumberChange:F,onUpClick:F};const Tpe=j$(v.forwardRef(function(e,t){return v.createElement(uv,Object.assign({},e,{forwardedRef:t}))}),uv),Ipe={PREFIX:W+"-overflow-list"},wR={COLLAPSE:"collapse",SCROLL:"scroll"},ER={START:"start",END:"end"},Ope={NONE:0,GROW:1,SHRINK:2},Ol={BOUNDARY_SET:Object.values(ER),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(wR),MODE_MAP:wR,BOUNDARY_MAP:ER,OVERFLOW_DIR:Ope},SR={MINIMUM_HTML_ELEMENT_WIDTH:4};class AT extends v.PureComponent{componentDidMount(){const{items:e}=this.props;this.cachedKeys=Object.keys(e);const{root:t,threshold:r,rootMargin:s,option:i,onIntersect:a}=this.props;this.observer=new IntersectionObserver(a,Object.assign({root:t,threshold:r,rootMargin:s},i)),this.observeElement()}componentDidUpdate(){const{items:e}=this.props,t=Object.keys(e);Fe(this.cachedKeys,t)||(this.observeElement(!0),this.cachedKeys=t)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{items:t}=this.props;if(It(t)){this.observer.disconnect();return}e&&this.observer.disconnect(),Object.keys(t).forEach(r=>{const s=t[r];s&&it(s)&&this.observer.observe(s)})}render(){const{children:e}=this.props;return e}}AT.propTypes={onIntersect:c.func,option:c.object,root:c.any,threshold:c.number,rootMargin:c.string,items:c.object};AT.defaultProps={onIntersect:()=>{},threshold:.75,rootMargin:"0px",option:{},items:{}};const Ppe=Ol.BOUNDARY_MAP;class xpe extends ke{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{const{renderMode:t}=this.getProps();return t==="scroll"},this.getReversedItems=()=>{const{items:t}=this.getProps();return Da(t).reverse()}}getOverflowItem(){const{items:e}=this.getProps(),{visibleState:t,overflow:r}=this.getStates();if(!this.isScrollMode())return r;const s=e.map(l=>{let{key:u}=l;return!!t.get(u)}),i=s.indexOf(!0),a=s.lastIndexOf(!0),o=[];return o[0]=i>=0?e.slice(0,i):[],o[1]=a>=0?e.slice(a+1,e.length):e.slice(),o}handleIntersect(e){const t=Da(this.getState("visibleState")),r={};e.forEach(l=>{const u=Z(l,"target.dataset.scrollkey"),d=l.isIntersecting;r[u]=l,t.set(u,d)});let s=!1;for(const l of t.values())if(l){s=!0;break}const i=s,[a]=e,o=a.boundingClientRect.y;if(!i&&this.previousY!==void 0&&o!==this.previousY){this.previousY=o;return}this.previousY=o,this._adapter.updateVisibleState(t),this._adapter.notifyIntersect(r)}handleCollapseOverflow(){const{minVisibleItems:e,collapseFrom:t}=this.getProps(),{overflowWidth:r,containerWidth:s,pivot:i,overflowStatus:a}=this.getStates(),{items:o,onOverflow:l}=this.getProps();let u=r,d=0,h=!1;for(const f of this._adapter.getItemSizeMap().values()){if(u+=f,u>s){h=!0;break}if(d===o.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:o.length-1,visible:o,overflow:[]});break}d++}if(h){const f=Math.max(e,d),g=t===Ppe.START,b=g?this.getReversedItems().slice(0,f).reverse():o.slice(0,f),y=g?this.getReversedItems().slice(f).reverse():o.slice(f);this._adapter.updateStates({overflowStatus:"overflowed",pivot:f,visible:b,overflow:y}),i!==f&&l(y);return}}}const $d=Ipe.PREFIX,$b=Ol.BOUNDARY_MAP,CR=Ol.OVERFLOW_DIR,Fd=Ol.MODE_MAP;class lf extends Ae{constructor(e){var t;super(e),t=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{const{renderMode:r}=this.props;return r===Fd.SCROLL},this.resize=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var s;const i=(s=r[0])===null||s===void 0?void 0:s.target.clientWidth;t.setState({containerWidth:i,overflowStatus:"calculating"})},this.reintersect=r=>{this.foundation.handleIntersect(r)},this.mergeRef=(r,s,i)=>{this.itemRefs[i]=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},this.renderOverflow=()=>{const r=this.foundation.getOverflowItem();return this.props.overflowRenderer(r)},this.getItemKey=(r,s)=>{const{itemKey:i}=this.props;return De(i)?i(r):Z(r,i||"key",s)},this.renderItemList=()=>{const{className:r,wrapperClassName:s,wrapperStyle:i,style:a,visibleItemRenderer:o,renderMode:l,collapseFrom:u}=this.props,{visible:d,overflowStatus:h}=this.state;let f=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(f)&&(f=v.createElement(v.Fragment,null,f)),v.isValidElement(f))){const y=v.cloneElement(f);f=v.createElement(Oo,{onResize:_=>{let[m]=_;this.setState({overflowWidth:m.target.clientWidth,overflowStatus:"calculating"})}},v.createElement("div",{className:`${$d}-overflow`},y))}const g=l===Fd.SCROLL?(()=>{const y=[v.createElement("div",{className:$(s,`${$d}-scroll-wrapper`),ref:_=>{this.scroller=_},style:Object.assign({},i),key:`${$d}-scroll-wrapper`},d.map(o).map(_=>{const{forwardRef:m,key:E}=_;return v.cloneElement(_,{ref:w=>this.mergeRef(m,w,E),"data-scrollkey":`${E}`,key:E})}))];return this.props.overflowRenderDirection==="both"?(y.unshift(f[0]),y.push(f[1])):this.props.overflowRenderDirection==="start"?(y.unshift(f[1]),y.unshift(f[0])):(y.push(f[0]),y.push(f[1])),y})():[u===$b.START?f:null,d.map((y,_)=>{const{key:m}=y,E=o(y,_),w=v.cloneElement(E);return v.createElement(Oo,{key:m??_,onResize:S=>{let[O]=S;return this.onItemResize(O,y,_)}},v.createElement("div",{key:m??_,className:`${$d}-item`},w))}),u===$b.END?f:null];return v.createElement("div",{className:$(`${$d}`,r),style:Object.assign(Object.assign({},a),l===Fd.COLLAPSE?{maxWidth:"100%",visibility:h==="calculating"?"hidden":"visible"}:null)},...g)},this.onItemResize=(r,s,i)=>{const a=this.getItemKey(s,i),o=this.itemSizeMap.get(a);o?o!==r.target.clientWidth&&(this.itemSizeMap.set(a,r.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(a,r.target.clientWidth);const{maxCount:l}=this.state;this.itemSizeMap.size===l&&this.setState({overflowStatus:"calculating"})},this.state={direction:CR.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new xpe(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,t){const{prevProps:r}=t,s={};s.prevProps=e;const i=a=>!r&&a in e||r&&!Fe(r[a],e[a]);if(i("items")||i("style")){if(s.direction=CR.GROW,s.lastOverflowCount=0,s.maxCount=0,e.renderMode===Fd.SCROLL)s.visible=e.items,s.overflow=[];else{let a=e.items.length;Math.floor(t.containerWidth/SR.MINIMUM_HTML_ELEMENT_WIDTH)!==0&&(a=Math.min(a,Math.floor(t.containerWidth/SR.MINIMUM_HTML_ELEMENT_WIDTH)));const o=e.collapseFrom===$b.START,l=o?Da(e.items).reverse().slice(0,a):e.items.slice(0,a),u=o?Da(e.items).reverse().slice(a):e.items.slice(a);s.visible=l,s.overflow=u,s.maxCount=a}s.pivot=-1,s.overflowStatus="calculating"}return s}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e},()=>{var t,r;(r=(t=this.props).onVisibleStateChange)===null||r===void 0||r.call(t,e)})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,t){const r=e.items.map(u=>u.key),s=this.props.items.map(u=>u.key);Fe(r,s)||(this.itemRefs={},this.setState({visibleState:new Map}));const{overflow:i,containerWidth:a,visible:o,overflowStatus:l}=this.state;this.isScrollMode()||l!=="calculating"||this.foundation.handleCollapseOverflow()}render(){const e=this.renderItemList(),{renderMode:t}=this.props;return t===Fd.SCROLL?v.createElement(AT,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):v.createElement(Oo,{onResize:this.resize},e)}}lf.__SemiComponentName__="OverflowList";lf.defaultProps=Ws(lf.__SemiComponentName__,{collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null,overflowRenderDirection:"both"});lf.propTypes={className:c.string,collapseFrom:c.oneOf(Ol.BOUNDARY_SET),direction:c.oneOf(Ol.POSITION_SET),items:c.array,minVisibleItems:c.number,onIntersect:c.func,onOverflow:c.func,overflowRenderer:c.func,renderMode:c.oneOf(Ol.MODE_SET),style:c.object,threshold:c.number,visibleItemRenderer:c.func,wrapperClassName:c.string,wrapperStyle:c.object,collapseMask:c.object,overflowRenderDirection:c.string};const DT={PREFIX:`${W}-select`,PREFIX_OPTION:`${W}-select-option`,PREFIX_GROUP:`${W}-select-group`},ba={SIZE_SET:["small","large","default"],POSITION_SET:Tl.POSITION_SET,MODE_SELECT:"select",MODE_AUTOCOMPLETE:"autoComplete",STATUS:nd,SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_DROPDOWN:"dropdown"},wF={LIST_HEIGHT:270};var TR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Rpe extends ke{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();const e=this.getProp("defaultOpen"),t=this.getProp("open"),r=this._collectOptions();this._setDefaultSelection(r),(e||t)&&this.open(void 0,r),this.getProp("autoFocus")&&this.focus()}focus(){const e=this._isFilterable(),t=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&t?this.focusInput():e&&!t?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&Qt(e.width)||e&&Re(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_collectOptions(){const e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:t}=this.getProps();const{defaultValue:r}=this.getProps();this._isControlledComponent()||(t=r),this._update(t,e)}handleOptionListChange(){const e=this._collectOptions(),{selections:t}=this.getStates();this.updateOptionsActiveStatus(t,e);const{defaultActiveFirstOption:r}=this.getProps();r&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){const e=this.getState("selections");let t;const{onChangeWithObject:r}=this.getProps(),s=this._isMultiple();switch(!0){case(s&&!!e.size):try{t=[...e].map(a=>r?a[1]:a[1].value)}catch{t=[]}break;case(s&&!e.size):t=[];break;case(!s&&!!e.size):try{t=r?[...e][0][1]:[...e][0][1].value}catch{}break;case(!s&&!e.size):break}const i=this._adapter.getOptionsFromChildren();this._update(t,i)}handleValueChange(e){const{allowCreate:t,autoClearSearchValue:r,remote:s}=this.getProps(),{inputValue:i}=this.getStates();let a;t&&this._isControlledComponent()?(a=this.getState("options"),a.forEach(o=>o._show=!0)):a=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!r&&i&&!s&&(a=this._filterOption(a,i)),this._update(e,a)}_update(e,t){let r;this._isMultiple()?(r=this._updateMultiple(e,t),this.updateOverflowItemCount(r.size)):r=this._updateSingle(e,t),this._adapter.updateSelection(r),this.updateOptionsActiveStatus(r,t)}_updateSingle(e,t){const r=new Map,{onChangeWithObject:s}=this.getProps(),i=s&&typeof e<"u"?e.value:e,a=t.filter(l=>l.value===i),o=!a.length&&typeof i<"u"&&i!==null;if(a.length){const l=a[0],u=Object.assign({},l);r.set(u.label,u)}else if(o){let l={value:e,label:e,_notExist:!0,_scrollIndex:-1};s&&(l=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),r.set(l.label,l)}return r}_updateMultiple(e,t){const r=this.getState("selections");let s=[];const i=Array.isArray(e);this.checkMultipleProps(),r.size&&(s=[...r].map(u=>u[1]));const a=new Map;let o=e;const{onChangeWithObject:l}=this.getProps();return l&&i&&(o=e.map(u=>u.value)),i&&o.length&&o.forEach((u,d)=>{const h=t.findIndex(f=>f.value===u);if(h!==-1)a.set(t[h].label,t[h]);else{const f=s.findIndex(g=>g.value===u);if(f!==-1){const g=s[f];if(l){const b=Object.assign({},e[d]);Fe(b,g)?a.set(g.label,g):a.set(b.label,b)}else a.set(g.label,g)}else{let g={value:u,label:u,_notExist:!0};l&&(g=Object.assign(Object.assign({},e[d]),{_notExist:!0})),a.set(g.label,Object.assign(Object.assign({},g),{_scrollIndex:-1}))}}}),a}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(e){const{clickToHide:t}=this.getProps(),{isOpen:r}=this.getStates();this._isDisabled()||(r?r&&t?this.close({event:e}):r&&!t&&this.focusInput():(this.open(),this._notifyFocus(e)))}open(e,t){const r=this._isFilterable(),s=t||this.getState("options");if(r){const a=this._filterOption(s,"").filter(o=>!o._inputCreateOnly);this._adapter.updateOptions(a),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(()=>{const{searchPosition:i,autoFocus:a}=this.getProps();a&&i===ba.SEARCH_POSITION_DROPDOWN&&this._adapter.focusDropdownInput()}),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(i=>{this.close({event:i}),this._notifyBlur(i),this._adapter.updateFocusState(!1)})}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focusInput()):this._adapter.toggleInputShow(e,()=>{})}close(e){const{event:t,closeCb:r,notToggleInput:s}=e||{},{isFocus:i}=this.getStates();this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),i&&this._focusTrigger(),this._adapter.unregisterClickOutsideHandler();const a=this._isFilterable();a&&!s&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{a&&this.clearInput(t),r&&r()})}onSelect(e,t,r){if(this._isDisabled())return;e._inputCreateOnly&&this._adapter.notifyCreate(e),this._isMultiple()?this._handleMultipleSelect(e,r):this._handleSingleSelect(e,r),this._adapter.updateFocusIndex(t)}_handleSingleSelect(e,t){var{value:r,label:s}=e,i=TR(e,["value","label"]);const a=new Map().set(s,Object.assign({value:r,label:s},i));this._notifySelect(r,Object.assign({value:r,label:s},i));const o=this._isFilterable();this._isControlledComponent()?this.close({event:t,notToggleInput:!0,closeCb:()=>{this._notifyChange(a),o&&this.toggle2SearchInput(!1)}}):(this._adapter.updateSelection(a),this._notifyChange(a),this.close({event:t,closeCb:()=>{this.updateOptionsActiveStatus(a)}}))}_handleMultipleSelect(e,t){var{value:r,label:s}=e,i=TR(e,["value","label"]);const a=this._adapter.getMaxLimit(),o=this._adapter.getSelections(),{autoClearSearchValue:l}=this.getProps();if(o.has(s))this._notifyDeselect(r,Object.assign({value:r,label:s},i)),o.delete(s);else if(a&&o.size===a){this._adapter.notifyMaxLimit(Object.assign({value:r,label:s},lu(i,"_scrollIndex")));return}else this._notifySelect(r,Object.assign({value:r,label:s},i)),o.set(s,Object.assign({value:r,label:s},i));if(this._isControlledComponent())this._notifyChange(o),this._isFilterable()&&(l&&this.clearInput(t),this.focusInput());else{this._adapter.updateSelection(o),this.updateOverflowItemCount(o.size),this._adapter.rePositionDropdown();let{options:u}=this.getStates();this._isFilterable()&&(l&&(this.clearInput(t),u=this._filterOption(u,"")),this.focusInput()),this.updateOptionsActiveStatus(o,u),this._notifyChange(o)}}clearSelected(){const e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());const{isOpen:t}=this.getStates();t&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getState("options");const{allowCreate:r}=this.getProps(),s=t.map(i=>(e.has(i.label)?(i._selected=!0,r&&delete i._inputCreateOnly):(i._inputCreateOnly&&(i._show=!1),i._selected=!1),i));this._adapter.updateOptions(s)}removeTag(e){const t=this._adapter.getSelections();t.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(t)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(t),this.updateOverflowItemCount(t.size),this.updateOptionsActiveStatus(t),this._adapter.rePositionDropdown(),this._notifyChange(t))}clearInput(e){const{inputValue:t}=this.getStates();if(t!==""){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);const{options:r}=this.getStates(),{remote:s}=this.getProps();let i=r;s||(i=this._filterOption(r,"")),this._adapter.updateOptions(i)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,t){this._adapter.updateInputValue(e);const{options:r,isOpen:s}=this.getStates(),{allowCreate:i,remote:a}=this.getProps();let o=r;a||(o=this._filterOption(r,e)),o=this._createOptionByInput(i,o,e),this._adapter.updateOptions(o),this._adapter.notifySearch(e,t),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,t){const r=this.getProp("filter");if(r){if(typeof r=="boolean"&&r){const s=t.toLowerCase();return e.map(i=>{const a=i.label.toString().toLowerCase(),o=i._parentGroup&&i._parentGroup.label,l=a.includes(s),u=Re(o)&&o.toLowerCase().includes(s);return l||u?i._show=!0:i._show=!1,i})}else if(typeof r=="function")return e.map(s=>(r(t,s)?s._show=!0:s._show=!1,s))}else return e}_createOptionByInput(e,t,r){if(e)if(r){const s={_show:!0,_selected:!1,value:r,label:r,_inputCreateOnly:!0};let i=-1,a=-1;t.forEach((o,l)=>{!o._show&&!o._inputCreateOnly||(o.label===r&&(a=l),o._inputCreateOnly&&(i=l,o.value=r,o.label=r,o._show=!0))}),i===-1&&a===-1&&t.push(s),a!==-1&&(t=t.filter(o=>!o._inputCreateOnly))}else t=t.filter(s=>!s._inputCreateOnly);return t}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){const t=e.keyCode,{loading:r,filter:s,multiple:i,disabled:a}=this.getProps(),{isOpen:o}=this.getStates();if(!(r||a))switch(t){case Xn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Xn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Xn.BACKSPACE:this._handleBackspaceKeyDown();break;case Xn.ENTER:ti(e),this._handleEnterKeyDown(e);break;case Xn.ESC:o&&this.close({event:e}),s&&!i&&this._focusTrigger();break;case Xn.TAB:this._handleTabKeyDown(e);break}}handleContainerKeyDown(e){const t=e.keyCode,{isOpen:r}=this.getStates();switch(t){case Xn.TAB:r&&this._handleTabKeyDown(e);break}}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(o=>o._show),i=s.length;let a=t+e;if(a<0&&(a=i-1),a>=i&&(a=0),e>0){let o=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){const{isOpen:t}=this.getStates();t?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){const{isOpen:t}=this.getStates();if(this._adapter.updateFocusState(!1),t){const r=this._adapter.getContainer(),s=this._adapter.getFocusableElements(r);s.length>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(s,e):this._handlePanelOpenTabKeyDown(s,e):(this.close({event:e}),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[e.length-1]&&(this._focusTrigger(),this.close({event:t}),ti(t)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),ti(t))}_handlePanelOpenShiftTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),ti(t)):(this.close({event:t}),this._notifyBlur(t))}_handleEnterKeyDown(e){const{isOpen:t,options:r,focusIndex:s}=this.getStates();if(!t)this.open();else if(s!==-1){const i=r.filter(o=>o._show),{length:a}=i;if(a<=s)return;if(i&&a){const o=i[s];if(o.disabled)return;this.onSelect(o,s,e)}}else this.close({event:e})}_handleBackspaceKeyDown(){if(this._isMultiple()){const e=this._adapter.getSelections(),{inputValue:t}=this.getStates(),r=e.size;if(r&&!t){const s=[...e.keys()];let i=r-1,a=s[i],o=e.get(a),l=!1;if(o.disabled&&i===0)return;for(;o.disabled&&i!==0;)i=i-1,a=s[i],o=e.get(a),i==0&&o.disabled&&(l=!0);l||this.removeTag(o)}}}_notifyChange(e){const{onChangeWithObject:t}=this.getProps(),r=this.getState("selections");let s;const i=[...e.values()],a=this._isMultiple();if(this._diffSelections(e,r,a))switch(!0){case t:this._notifyChangeWithObject(e);break;case(!t&&!a):s=i.length?i[0].value:void 0,this._adapter.notifyChange(s);break;case(!t&&a):s=i.length?i.map(l=>l.value):[],this._adapter.notifyChange(s);break}}_removeInternalKey(e){let t=Object.assign({},e);return delete t._parentGroup,delete t._show,delete t._selected,delete t._scrollIndex,delete t._keyInJsx,"_keyInOptionList"in t&&(t.key=t._keyInOptionList,delete t._keyInOptionList),t}_notifySelect(e,t){const r=this._removeInternalKey(t);this._adapter.notifySelect(e,r)}_notifyDeselect(e,t){const r=this._removeInternalKey(t);this._adapter.notifyDeselect(e,r)}_diffSelections(e,t,r){let s=!0,i=!0;if(!r){const a=[...e.values()],o=[...t.values()],l=a[0]?a[0].value:a[0],u=o[0]?o[0].value:o[0];i=!Fe(l,u);const d=a[0]?a[0].label:a[0],h=o[0]?o[0].label:o[0];s=!Fe(d,h)}return i||s}_notifyChangeWithObject(e){this.getState("selections");const t=[];for(const r of e.entries()){let s=Object.assign({label:r[0]},r[1]);s=this._removeInternalKey(s),t.push(s)}this._isMultiple()?this._adapter.notifyChange(t):this._adapter.notifyChange(t[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){const{filter:t,searchPosition:r}=this.getProps();t&&r===ba.SEARCH_POSITION_TRIGGER&&this.clearInput(e),this.focus(),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===ZC&&this.handleClick(e)}handleClearBtnEnterPress(e){Ks(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){this.getProps();const{isOpen:t,isFocus:r}=this.getStates();r&&!t&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){const{filter:t,autoFocus:r}=this.getProps(),{showInput:s}=this.getStates(),i=this._isMultiple();t&&!i&&(s||r)&&this.toggle2SearchInput(!1)}selectAll(){const{options:e}=this.getStates(),{onChangeWithObject:t}=this.getProps();let r=[];if(!this._isMultiple()){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}t?r=e:r=e.map(i=>i.value),this.handleValueChange(r),this._adapter.notifyChange(r)}checkMultipleProps(e){if(this._isMultiple()){const t=e||this.getProps(),{defaultValue:r,value:s}=t,i=s||r;!_t(i)&&!Array.isArray(i)&&zt(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,t){const{maxTagCount:r,ellipsisTrigger:s}=this.getProps();s&&(t?this._adapter.updateOverflowItemCount(t):typeof r=="number"&&(e-r>0?this._adapter.updateOverflowItemCount(e-r):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){const{isFullTags:e}=this.getStates();e||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}const Vd=a$.PREFIX,EF=od.TAG_SIZE,Ape=od.AVATAR_SHAPE;class uf extends D.PureComponent{renderNTag(e,t){const{size:r,showPopover:s,popoverProps:i,onPlusNMouseEnter:a}=this.props;let o=v.createElement(Gr,{closable:!1,size:r,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:a},"+",e);return s&&(o=v.createElement(br,Object.assign({showArrow:!0,content:t,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${Vd}-rest-group-popover`},i,{key:"_+n_Popover"}),o)),o}renderMergeTags(e){const{maxTagCount:t,tagList:r,restCount:s}=this.props,i=s||r.length-t;let a=e;const o=e.slice(0,t),l=e.slice(t);let u=null;return i>0&&(u=this.renderNTag(i,l),o.push(u),a=o),a}renderAllTags(){const{tagList:e,size:t,mode:r,avatarShape:s,onTagClose:i}=this.props;return e.map(o=>{if(r==="custom")return o;const l=Object.assign({},o);return l.size||(l.size=t),l.avatarShape||(l.avatarShape=s),l.tagKey||(typeof l.children=="string"||typeof l.children=="number"?l.tagKey=l.children:l.tagKey=Math.random()),v.createElement(Gr,Object.assign({},l,{key:l.tagKey,onClose:(u,d,h)=>{l.onClose&&l.onClose(u,d,h),i&&i(u,d,h)}}))})}render(){const{style:e,className:t,maxTagCount:r,size:s}=this.props,i=$({[`${Vd}-group`]:!0,[`${Vd}-group-max`]:r,[`${Vd}-group-small`]:s==="small",[`${Vd}-group-large`]:s==="large"},t),a=this.renderAllTags(),o=typeof r>"u"?a:this.renderMergeTags(a);return v.createElement("div",{style:e,className:i},o)}}uf.defaultProps={style:{},className:"",size:EF[0],avatarShape:"square",onTagClose:()=>{},onPlusNMouseEnter:()=>{}};uf.propTypes={children:c.node,style:c.object,className:c.string,maxTagCount:c.number,restCount:c.number,tagList:c.array,size:c.oneOf(EF),mode:c.string,onTagClose:c.func,showPopover:c.bool,popoverProps:c.object,avatarShape:c.oneOf(Ape)};var Dpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const IR=(n,e,t,r)=>{const s=n.props;if(!n||!s)return null;const i=Object.assign(Object.assign({value:s.value,label:s.label||s.children||s.value,_show:!0,_selected:!1,_scrollIndex:t},s),{_parentGroup:e});return i._keyInJsx=r||n.key,i},kpe=n=>{let e=[],t=[];const r={label:"",children:[],_show:!1};let s=v.Children.toArray(n);s=s.filter(o=>o&&o.props);let i="",a=-1;return s.forEach(o=>{if(o.type.isSelectOption){i="option",a++;const l=IR(o,void 0,a);r.children.push(l),t.push(l)}else if(o.type.isSelectOptionGroup){i="group";let l=o.props,{children:u}=l,d=Dpe(l,["children"]),h=[];Array.isArray(u)?h=u.map(b=>b.key):h.push(u.key),u=v.Children.toArray(u);const f=u.map((b,y)=>{let _=b.key;return h[y]===null&&(_=o.key+""+b.key),a++,IR(b,d,a,_)}),g=Object.assign(Object.assign({},o.props),{children:f,key:o.key});e.push(g),t=t.concat(f)}else zt(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),i==="option"&&(e=[r]),{optionGroups:e,options:t}},SF=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,a=s[e];return i(a,e,r)};var OR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Pl extends D.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,a=OR(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:r,label:s||i}),t)}renderOptionContent(e){let{config:t,children:r,inputValue:s,prefixCls:i}=e;return Re(r)&&s?v.createElement(Kf,{searchWords:t.searchWords,sourceString:t.sourceString,highlightClassName:t.highlightClassName}):r}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:a,empty:o,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:g,onMouseEnter:b,prefixCls:y,renderOptionItem:_,inputValue:m,semiOptionId:E}=e,w=OR(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),S=$(y,{[`${y}-disabled`]:r,[`${y}-selected`]:i,[`${y}-focused`]:d,[`${y}-empty`]:o,[f]:f}),O=$([`${y}-icon`]);if(o)return l===null?null:v.createElement(xn,{componentName:"Select"},I=>v.createElement("div",{className:S,"x-semi-prop":"emptyContent"},l||I.emptyText));if(typeof _=="function"){const I=$(f,{[`${y}-custom`]:!0,[`${y}-custom-selected`]:i});return _(Object.assign({disabled:r,focused:d,selected:i,style:g,label:a,value:s,inputValue:m,onMouseEnter:T=>b(T),onClick:T=>this.onClick(Object.assign({value:s,label:a,children:t},w),T),className:I},w))}const x={searchWords:[m],sourceString:t,highlightClassName:`${y}-keyword`};return v.createElement("div",Object.assign({className:S,onClick:I=>{this.onClick(Object.assign({value:s,label:a,children:t},w),I)},onMouseEnter:I=>b&&b(I),role:"option",id:E,"aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:g},Zh(w)),h?v.createElement("div",{className:O},v.createElement(_y,null)):null,Re(t)?v.createElement("div",{className:`${y}-text`},this.renderOptionContent({children:t,config:x,inputValue:m,prefixCls:y})):t)}}Pl.isSelectOption=!0;Pl.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};Pl.defaultProps={prefixCls:DT.PREFIX_OPTION};var Npe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Mpe=DT.PREFIX_GROUP;class Vy extends Ae{render(){const e=this.props,{label:t,className:r,style:s}=e,i=Npe(e,["label","className","style"]),a=$(r,{[Mpe]:!0});return!t&&typeof t!="number"?null:v.createElement("div",Object.assign({className:a,style:s},this.getDataAttr(i)),t)}}Vy.isSelectOptionGroup=!0;Vy.propTypes={children:c.oneOfType([c.array,c.node]),label:c.node,className:c.string,style:c.object};var Lpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const he=DT.PREFIX,$pe=0;class qi extends Ae{constructor(e){super(e),this.setOptionContainerEl=t=>this.optionContainerEl={current:t},this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.getTagItem=(t,r,s)=>{const{size:i,disabled:a}=this.props,o=t[0],{value:l}=t[1],u=t[1].disabled||a,d=(b,y)=>{y&&typeof y.preventDefault=="function"&&y.preventDefault(),this.foundation.removeTag({label:o,value:l})},{content:h,isRenderInTag:f}=s(t[1],{index:r,disabled:u,onClose:d}),g={disabled:u,closable:!u,onClose:d};return f?v.createElement(Gr,Object.assign({},g,{color:"white",size:i||"large",key:l,tabIndex:-1}),h):v.createElement(D.Fragment,{key:l},h)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:$pe,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=v.createRef(),this.inputRef=v.createRef(),this.dropdownInputRef=v.createRef(),this.triggerRef=v.createRef(),this.optionsRef=v.createRef(),this.optionContainerEl=v.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new GL,this.foundation=new Rpe(this.adapter)}get adapter(){var e=this;const t={registerKeyDown:i=>{const a={onKeyDown:i};this.setState({keyboardEventSet:a})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:i=>{this.setState({focusIndex:i})},scrollToFocusOption:()=>{}},r={updateInputValue:i=>{this.setState({inputValue:i})},toggleInputShow:(i,a)=>{this.setState({showInput:i},()=>{a()})},focusInput:()=>{const{preventScroll:i}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:i})},focusDropdownInput:()=>{const{preventScroll:i}=this.props;this.dropdownInputRef&&this.dropdownInputRef.current&&this.dropdownInputRef.current.focus({preventScroll:i})}},s={notifyMaxLimit:i=>this.props.onExceed(i),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:i=>{const a=o=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=cs.findDOMNode(l),h=o.target,f=o.composedPath&&o.composedPath()||[h];!(d&&d.contains(h))&&!(u&&u.contains(h))&&!(f.includes(u)||f.includes(d))&&i(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:i}=this.state;i=i+1,this.setState({optionKey:i})},notifyDeselect:(i,a)=>{delete a._parentGroup,this.props.onDeselect(i,a)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{on:(i,a)=>this.eventManager.on(i,a),off:i=>this.eventManager.off(i),once:(i,a)=>this.eventManager.once(i,a),emit:i=>this.eventManager.emit(i),getOptionsFromChildren:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.props.children,a=[],o=[];const{optionList:l}=e.props;if(l&&l.length)o=l.map((u,d)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:d},u)),a[0]={children:o,label:""};else{const u=kpe(i);a=u.optionGroups,o=u.options}return e.setState({optionGroups:a}),o},updateOptions:i=>{this.setState({options:i})},openMenu:i=>{this.setState({isOpen:!0},()=>{i==null||i()})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},updateSelection:i=>{this.setState({selections:i})},getSelections:()=>new Map(this.state.selections),notifyChange:i=>{this.props.onChange(i)},notifySelect:(i,a)=>{delete a._parentGroup,this.props.onSelect(i,a)},notifyDropdownVisibleChange:i=>{this.props.onDropdownVisibleChange(i)},notifySearch:(i,a)=>{this.props.onSearch(i,a)},notifyCreate:i=>{this.props.onCreate(i)},notifyMouseEnter:i=>{this.props.onMouseEnter(i)},notifyMouseLeave:i=>{this.props.onMouseLeave(i)},notifyFocus:i=>{this.props.onFocus(i)},notifyBlur:i=>{this.props.onBlur(i)},notifyClear:()=>{this.props.onClear()},notifyListScroll:i=>{this.props.onListScroll(i)},updateHovering:i=>{this.setState({isHovering:i})},updateFocusState:i=>{this.setState({isFocus:i})},updateOverflowItemCount:i=>{this.setState({overflowItemCount:i})},focusTrigger:()=>{try{const{preventScroll:i}=this.props;this.triggerRef.current.focus({preventScroll:i})}catch{}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:i=>ZL(i),getActiveElement:()=>QL(),setIsFocusInContainer:i=>{this.setState({isFocusInContainer:i})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:i=>{let a;"renderOptionItem"in this.props?(a=`.${he}-option-custom-selected`,i!==void 0&&(a=`.${he}-option-custom:nth-child(${i+1})`)):(a=`.${he}-option-selected`,i!==void 0&&(a=`.${he}-option:nth-child(${i+1})`));let o=document.querySelector(`#${he}-${this.selectOptionListID} ${a}`);if(Array.isArray(o)&&(o=o[0]),o){const l=o.parentNode;l.scrollTop=o.offsetTop-l.offsetTop-l.clientHeight/2+o.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=xa(),this.selectID=this.props.id||xa()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){const r=v.Children.toArray(e.children).map(a=>a.key),s=v.Children.toArray(this.props.children).map(a=>a.key);let i=!1;(!Fe(r,s)||!Fe(e.optionList,this.props.optionList))&&(i=!0,this.foundation.handleOptionListChange()),(!Fe(this.props.value,e.value)||i)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderTriggerInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i}=this.props,a=Z(s,"className"),o=$(`${he}-input`,{[`${he}-input-single`]:!t,[`${he}-input-multiple`]:t},a),{inputValue:l,focusIndex:u}=this.state,d=Object.assign({value:l,disabled:r,className:o,onChange:this.handleInputChange},s);let h={};return t&&(h={width:l?`${l.length*16}px`:"2px"},d.style=h),v.createElement(Hn,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:"",onFocus:f=>{t&&i&&this.setState({isFocus:!0}),f.stopPropagation()},onBlur:f=>this.foundation.handleInputBlur(f)},d))}renderDropdownInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i,searchPosition:a,searchPlaceholder:o}=this.props,{inputValue:l,focusIndex:u}=this.state,d=$(`${he}-dropdown-search-wrapper`,{}),h=Z(s,"className"),f=$(`${he}-dropdown-input`,{[`${he}-dropdown-input-single`]:!t,[`${he}-dropdown-input-multiple`]:t},h),g=Object.assign(Object.assign({value:l,disabled:r,className:f,onChange:this.handleInputChange,placeholder:o,showClear:!0},s),{onKeyDown:b=>this.foundation._handleKeyDown(b)});return v.createElement("div",{className:d},v.createElement(Hn,Object.assign({ref:this.dropdownInputRef,prefix:v.createElement(O2,null),"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:""},g)))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,t,r){this.foundation.onSelect(e,t,r)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,t){this.handleInputChange(e,t)}renderEmpty(){return v.createElement(Pl,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){const e=`${he}-loading-wrapper`;return v.createElement("div",{className:e},v.createElement(Yi,null))}renderOption(e,t,r){const{focusIndex:s,inputValue:i}=this.state,{renderOptionItem:a}=this.props;let o;const l=t===s;let u=r||{};return e.style&&(u=Object.assign(Object.assign({},u),e.style)),e._inputCreateOnly?o=this.renderCreateOption(e,l,t,r):("key"in e&&(e._keyInOptionList=e.key),o=v.createElement(Pl,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(d,h)=>this.onSelect(d,t,h),focused:l,onMouseEnter:()=>this.onOptionHover(t),style:u,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+t,renderOptionItem:a,inputValue:i,semiOptionId:`${this.selectID}-option-${t}`}),e.label)),o}renderCreateOption(e,t,r,s){const{renderCreateItem:i}=this.props;if(typeof i>"u")return v.createElement(Pl,Object.assign({key:e.key||e.label+e.value,onSelect:(l,u)=>this.onSelect(l,r,u),onMouseEnter:()=>this.onOptionHover(r),showTick:!0},e,{focused:t,style:s}),v.createElement(xn,{componentName:"Select"},l=>v.createElement(v.Fragment,null,v.createElement("span",{className:`${he}-create-tips`},l.createText),e.value)));const a=i(e.value,t,s);return v.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:o=>this.onSelect(e,r,o),key:e.key||e.label},a)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){const t=[],r=new Map;return e.forEach((s,i)=>{const a=s._parentGroup,o=this.renderOption(s,i);if(a&&!r.has(a.label)){const l=v.createElement(Vy,Object.assign({},a,{key:a.label}));r.set(a.label,!0),t.push(l)}t.push(o)}),t}renderVirtualizeList(e){const{virtualize:t}=this.props,{direction:r}=this.context,{height:s,width:i,itemSize:a}=t;return v.createElement(lT,{ref:this.virtualizeListRef,height:s||wF.LIST_HEIGHT,itemCount:e.length,itemSize:a,itemData:{visibleOptions:e,renderOption:this.renderOption},width:i||"100%",style:{direction:r}},SF)}renderOptions(e){const{dropdownMinWidth:t,options:r,selections:s}=this.state,{maxHeight:i,dropdownClassName:a,dropdownStyle:o,outerTopSlot:l,innerTopSlot:u,outerBottomSlot:d,innerBottomSlot:h,loading:f,virtualize:g,multiple:b,emptyContent:y,searchPosition:_,filter:m}=this.props,E=r.filter(I=>I._show);let w=this.renderWithGroup(E);g&&(w=this.renderVirtualizeList(E));const S=Object.assign({minWidth:t},o),O=$({[`${he}-option-list`]:!0,[`${he}-option-list-chosen`]:s.size}),x=!r.length||!r.some(I=>I._show);return v.createElement("div",{id:`${he}-${this.selectOptionListID}`,className:$({[`${he}-option-list-wrapper`]:!(x&&y===null)},a),style:S,ref:this.setOptionContainerEl,onKeyDown:I=>this.foundation.handleContainerKeyDown(I)},l?v.createElement("div",{className:`${he}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},l):null,_===ba.SEARCH_POSITION_DROPDOWN&&m?this.renderDropdownInput():null,v.createElement("div",{style:{maxHeight:`${i}px`},className:O,role:"listbox","aria-multiselectable":b,onScroll:I=>this.foundation.handleListScroll(I)},u?v.createElement("div",{className:`${he}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},u):null,f?this.renderLoading():x?this.renderEmpty():w,h?v.createElement("div",{className:`${he}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},h):null),d?v.createElement("div",{className:`${he}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},d):null)}renderSingleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i}=this.props,{showInput:a,inputValue:o}=this.state;let l="";const u=[...e];if(typeof r>"u"&&(r=g=>g.label),u.length){const g=u[0][1];l=r(g)}const d=s===ba.SEARCH_POSITION_TRIGGER,h=$({[`${he}-selection-text`]:!0,[`${he}-selection-placeholder`]:!l&&l!==0,[`${he}-selection-text-hide`]:o&&a&&d,[`${he}-selection-text-inactive`]:!o&&a&&d}),f=`${he}-content-wrapper`;return v.createElement(v.Fragment,null,v.createElement("div",{className:f},v.createElement("span",{className:h,"x-semi-prop":"placeholder"},l||l===0?l:i),t&&a&&d?this.renderTriggerInput():null))}renderTag(e,t,r){const{size:s,disabled:i}=this.props;let{renderSelectedItem:a}=this.props;const o=e[0],{value:l}=e[1],u=e[1].disabled||i,d=(y,_)=>{_&&typeof _.preventDefault=="function"&&_.preventDefault(),this.foundation.removeTag({label:o,value:l})};typeof a>"u"&&(a=y=>({isRenderInTag:!0,content:y.label}));const{content:h,isRenderInTag:f}=a(e[1],{index:t,disabled:u,onClose:d}),g={disabled:u,closable:!u,onClose:d},b=r&&!De(this.props.renderSelectedItem)?v.createElement(by,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},h):h;return f?v.createElement(Gr,Object.assign({},g,{color:"white",size:s||"large",key:l,style:{maxWidth:"100%"}}),b):v.createElement(D.Fragment,{key:l},b)}renderNTag(e,t){const{size:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props;let a=v.createElement(Gr,{closable:!1,size:r||"large",color:"grey",className:`${he}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return s&&(a=v.createElement(br,Object.assign({showArrow:!0,content:v.createElement(mo,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},t.map((o,l)=>this.renderTag(o,l))),trigger:"hover",position:"top",autoAdjustOverflow:!0},i,{key:`_+${e}_Popover`}),a)),a}renderOverflow(e,t){return e.length&&e[0]?this.renderTag(e[0],t,!0):null}handleOverflow(e){const{overflowItemCount:t,selections:r}=this.state,{maxTagCount:s}=this.props,i=r.size-s>0?r.size-s+e.length-1:e.length-1;t!==i&&this.foundation.updateOverflowItemCount(r.size,i)}renderCollapsedTags(e,t){const{overflowItemCount:r}=this.state,s=typeof t=="number"?e.slice(0,t):e;return v.createElement("div",{className:`${he}-content-wrapper-collapse`},v.createElement(lf,{items:s,key:String(e.length),overflowRenderer:i=>this.renderOverflow(i,t-1),onOverflow:i=>this.handleOverflow(i),visibleItemRenderer:(i,a)=>this.renderTag(i,a)}),r>0&&this.renderNTag(r,e.slice(e.length-r)))}renderOneLineTags(e,t){let{renderSelectedItem:r}=this.props;const{showRestTagsPopover:s,restTagsPopoverProps:i,maxTagCount:a}=this.props,{isFullTags:o}=this.state;let l;if(typeof r>"u"&&(r=u=>({isRenderInTag:!0,content:u.label})),s){const d=(o?e:e.slice(0,a)).map((h,f)=>this.getTagItem(h,f,r));l=v.createElement(uf,{tagList:d,maxTagCount:t,restCount:o?void 0:e.length-a,size:"large",mode:"custom",showPopover:s,popoverProps:i,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{const d=e.slice(0,a).map((h,f)=>this.getTagItem(h,f,r));l=v.createElement(uf,{tagList:d,maxTagCount:t,restCount:e.length-a,size:"large",mode:"custom"})}return l}renderMultipleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i,maxTagCount:a,expandRestTagsOnClick:o,ellipsisTrigger:l}=this.props,{inputValue:u,isOpen:d}=this.state,h=[...e];typeof r>"u"&&(r=S=>({isRenderInTag:!0,content:S.label}));const f=$({[`${he}-content-wrapper`]:!0,[`${he}-content-wrapper-one-line`]:a&&!d,[`${he}-content-wrapper-empty`]:!h.length}),g=$({[`${he}-selection-text`]:!0,[`${he}-selection-placeholder`]:!h.length,[`${he}-selection-text-hide`]:h.length}),b=i&&!u?v.createElement("span",{className:g},i):null,y=h.length>a?a:void 0,_=!a,m=l?this.renderCollapsedTags(h,y):this.renderOneLineTags(h,y),E=_||o&&d?h.map((S,O)=>this.renderTag(S,O)):m,w=t&&s===ba.SEARCH_POSITION_TRIGGER;return v.createElement(v.Fragment,null,v.createElement("div",{className:f},h.length?E:b,w?this.renderTriggerInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){const{virtualize:t}=this.props,{selections:r}=this.state;if(e)if(t){let s=-1;if(r.forEach(i=>{const a=Z(i,"_scrollIndex");Qt(a)&&a>=0&&(s=s!==-1&&s<a?s:a)}),s!==-1)try{this.virtualizeListRef.current.scrollToItem(s,"center")}catch{}}else this.foundation.updateScrollTop()}renderSuffix(){const{suffix:e}=this.props,t=$({[`${he}-suffix`]:!0,[`${he}-suffix-text`]:e&&Re(e),[`${he}-suffix-icon`]:Or(e)});return v.createElement("div",{className:t,"x-semi-prop":"suffix"},e)}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t,i=$({[`${he}-prefix`]:!0,[`${he}-inset-label`]:t,[`${he}-prefix-text`]:s&&Re(s),[`${he}-prefix-icon`]:Or(s)});return v.createElement("div",{className:i,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSelection(){const e=this.props,{disabled:t,multiple:r,filter:s,style:i,id:a,size:o,className:l,validateStatus:u,showArrow:d,suffix:h,prefix:f,insetLabel:g,placeholder:b,triggerRender:y,arrowIcon:_,clearIcon:m,borderless:E}=e,w=Lpe(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:S,isOpen:O,keyboardEventSet:x,inputValue:I,isHovering:T,isFocus:P,showInput:A,focusIndex:k}=this.state,L=typeof y=="function",N=!!s,K=L?$(l):$(he,l,{[`${he}-borderless`]:E,[`${he}-open`]:O,[`${he}-focus`]:P,[`${he}-disabled`]:t,[`${he}-single`]:!r,[`${he}-multiple`]:r,[`${he}-filterable`]:N,[`${he}-small`]:o==="small",[`${he}-large`]:o==="large",[`${he}-error`]:u==="error",[`${he}-warning`]:u==="warning",[`${he}-no-arrow`]:!d,[`${he}-with-prefix`]:f||g,[`${he}-with-suffix`]:h}),G=this.props.showClear&&(S.size||I)&&!t&&(T||O),z=d?v.createElement("div",{className:`${he}-arrow`,"x-semi-prop":"arrowIcon"},_):v.createElement("div",{className:`${he}-arrow-empty`}),ee=m||v.createElement(Yo,null),V=L?v.createElement(cu,{value:Array.from(S.values()),inputValue:I,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:U=>this.foundation.removeTag(U),onClear:this.onClear,disabled:t,triggerRender:y,placeholder:b,componentName:"Select",componentProps:Object.assign({},this.props)}):[v.createElement(D.Fragment,{key:"prefix"},f||g?this.renderPrefix():null),v.createElement(D.Fragment,{key:"selection"},v.createElement("div",{className:$(`${he}-selection`)},r?this.renderMultipleSelection(S,N):this.renderSingleSelection(S,N))),v.createElement(D.Fragment,{key:"suffix"},h?this.renderSuffix():null),v.createElement(D.Fragment,{key:"clearicon"},G?v.createElement("div",{className:$(`${he}-clear`),onClick:this.onClear},ee):z)],H=t||N&&A||N&&r?-1:0;return v.createElement("div",Object.assign({role:"combobox","aria-disabled":t,"aria-expanded":O,"aria-controls":`${he}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":S.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:K,ref:U=>this.triggerRef.current=U,onClick:U=>this.foundation.handleClick(U),style:i,id:this.selectID,tabIndex:H,"aria-activedescendant":k!==-1?`${this.selectID}-option-${k}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:U=>this.foundation.handleTriggerFocus(U),onBlur:U=>this.foundation.handleTriggerBlur(U),onKeyPress:this.onKeyPress},x,this.getDataAttr(w)),V)}render(){const{direction:e}=this.context,t=e==="rtl"?"bottomRight":"bottomLeft",{children:r,position:s=t,zIndex:i,getPopupContainer:a,motion:o,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,spacing:h,stopPropagation:f,dropdownMargin:g}=this.props,{isOpen:b,optionKey:y}=this.state,_=this.renderSelection();return v.createElement(br,{getPopupContainer:a,motion:o,margin:g,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,zIndex:i,ref:this.optionsRef,content:()=>this.renderOptions(r),visible:b,trigger:"custom",rePosKey:y,position:s,spacing:h,stopPropagation:f,disableArrowKeyDown:!0,onVisibleChange:m=>this.handlePopoverVisibleChange(m),afterClose:()=>this.foundation.handlePopoverClose()},_)}}qi.contextType=Xr;qi.Option=Pl;qi.OptGroup=Vy;qi.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoClearSearchValue:c.bool,borderless:c.bool,children:c.node,clearIcon:c.node,defaultValue:c.oneOfType([c.string,c.number,c.array,c.object]),ellipsisTrigger:c.bool,value:c.oneOfType([c.string,c.number,c.array,c.object]),placeholder:c.node,onChange:c.func,multiple:c.bool,filter:c.oneOfType([c.func,c.bool]),max:c.number,maxTagCount:c.number,maxHeight:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,size:c.oneOf(ba.SIZE_SET),disabled:c.bool,emptyContent:c.node,expandRestTagsOnClick:c.bool,onDropdownVisibleChange:c.func,zIndex:c.number,position:c.oneOf(ba.POSITION_SET),onSearch:c.func,getPopupContainer:c.func,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),outerTopSlot:c.node,innerTopSlot:c.node,inputProps:c.object,outerBottomSlot:c.node,innerBottomSlot:c.node,optionList:c.array,dropdownMatchSelectWidth:c.bool,loading:c.bool,defaultOpen:c.bool,validateStatus:c.oneOf(ba.STATUS),defaultActiveFirstOption:c.bool,triggerRender:c.func,stopPropagation:c.bool,searchPosition:c.string,motion:c.bool,onChangeWithObject:c.bool,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,showClear:c.bool,showArrow:c.bool,renderSelectedItem:c.func,allowCreate:c.bool,renderCreateItem:c.func,onMouseEnter:c.func,onMouseLeave:c.func,clickToHide:c.bool,onExceed:c.func,onCreate:c.func,remote:c.bool,onDeselect:c.func,onSelect:c.func,autoAdjustOverflow:c.bool,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,spacing:c.oneOfType([c.number,c.object]),onBlur:c.func,onFocus:c.func,onClear:c.func,virtualize:c.object,renderOptionItem:c.func,onListScroll:c.func,arrowIcon:c.node,preventScroll:c.bool};qi.__SemiComponentName__="Select";qi.defaultProps=Ws(qi.__SemiComponentName__,{stopPropagation:!0,motion:!0,borderless:!1,zIndex:gs.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:F,onChangeWithObject:!1,onChange:F,onSearch:F,onMouseEnter:F,onMouseLeave:F,onDeselect:F,onSelect:F,onCreate:F,onExceed:F,onFocus:F,onBlur:F,onClear:F,onListScroll:F,maxHeight:wF.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,searchPosition:ba.SEARCH_POSITION_TRIGGER,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:v.createElement(yy,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1});const Fpe={PREFIX:`${W}-progress`},Pr={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};function Vpe(n,e,t){try{const r=jpe(n,e,t);if(r.length!==0)return r}catch{return}}function jpe(n,e,t){if(n.sort((s,i)=>s.percent-i.percent),n[0].percent>e)return Pr.STROKE_DEFAULT;const r=n[n.length-1];if(r.percent<e)return jd(r.color);for(const[s,i]of n.entries()){if(i.percent===e)return jd(i.color);if(e>i.percent)continue;const a=n[s-1];return t?Upe({startColor:jd(a.color),endColor:jd(i.color),size:i.percent-a.percent-1},e-a.percent-1):jd(a.color)}}function Upe(n,e){const{startColor:t,endColor:r,size:s}=n,i=t.split(""),a=r.split(""),o=[parseInt(`${i[1]}${i[2]}`,16),parseInt(`${a[1]}${a[2]}`,16)],l=[parseInt(`${i[3]}${i[4]}`,16),parseInt(`${a[3]}${a[4]}`,16)],u=[parseInt(`${i[5]}${i[6]}`,16),parseInt(`${a[5]}${a[6]}`,16)],d=[parseInt(`${i[7]}${i[8]}`,16),parseInt(`${a[7]}${a[8]}`,16)],h=(o[0]-o[1])/(s+1),f=(l[0]-l[1])/(s+1),g=(u[0]-u[1])/(s+1),b=(d[0]-d[1])/(s+1);function y(m){const E=Math.round(o[0]-h*(m+1)).toString(16),w=Math.round(l[0]-f*(m+1)).toString(16),S=Math.round(u[0]-g*(m+1)).toString(16),O=`${_(E)}${_(w)}${_(S)}`,x=Math.floor(b*(m+1)+d[1]).toString(16);return Os.Hex(`#${O}`,x)}function _(m){return m.length===1?`0${m}`:m.length===0?"00":m}if(typeof e>"u"){const m=[t];for(let E=0;E<s;E+=1)m.push(y(E));return m}return y(e)}function jd(n){if(n=n.trim().toLowerCase(),nc.hex.test(n))return Os.Hex(n,void 0);if(nc.hslA.test(n))return Os.Hex(Os.HslA(n),void 0);if(nc.rgbA.test(n))return Os.Hex(Os.RgbA(n),void 0);if(nc.semiDesignTokens.test(n))return PR.ALONG.indexOf(n)!==-1?Os.SemiDesignToken(n):PR.SEQUENCE.indexOf(n)!==-1?Os.SemiDesignToken(`${n}-5`):Os.SemiDesignToken(`${n}`)}const Os={Hex(n,e){return n=n.replace("#",""),n.length===8?`#${n}`:n.length===6?`#${n}${e||"ff"}`:(n.length===3&&(n=n.split("").map(t=>t+t).join("")),`#${n}${e||"ff"}`)},SemiDesignToken(n){if(typeof window>"u")return;const e=getComputedStyle(document.body).getPropertyValue(`--semi-${n}`);if(e==="")return;const t=`rgba(${e}, 1)`;return Os.RgbA(t)},HslA(n){const e=nc.hslA.exec(n),t=parseInt(e[2]),r=parseInt(e[3])/100,s=parseInt(e[4])/100,i=e[5],a=(1-Math.abs(2*s-1))*r,o=a*(1-Math.abs(t/60%2-1)),l=s-a/2;let u=0,d=0,h=0;return 0<=t&&t<60?(u=a,d=o,h=0):60<=t&&t<120?(u=o,d=a,h=0):120<=t&&t<180?(u=0,d=a,h=o):180<=t&&t<240?(u=0,d=o,h=a):240<=t&&t<300?(u=o,d=0,h=a):300<=t&&t<360&&(u=a,d=0,h=o),u=Math.round((u+l)*255).toString(16),d=Math.round((d+l)*255).toString(16),h=Math.round((h+l)*255).toString(16),Os.utils.pAL(u,d,h,i)},RgbA(n){const e=nc.rgbA.exec(n),t=parseInt(e[2],10).toString(16),r=parseInt(e[3],10).toString(16),s=parseInt(e[4],10).toString(16),i=e[5];return Os.utils.pAL(t,r,s,i)},utils:{pAL(n,e,t,r){return n.length==1&&(n="0"+n),e.length==1&&(e="0"+e),t.length==1&&(t="0"+t),typeof r<"u"?(r=Math.round(parseInt(r)*255).toString(16),r.length==1&&(r="0"+r),"#"+n+e+t+r):"#"+n+e+t}}},nc={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},PR={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var xR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Xs=Fpe.PREFIX;class cf extends D.Component{constructor(e){super(e),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}componentDidUpdate(e){if(isNaN(this.props.percent)||isNaN(e.percent))throw new Error("[Semi Progress]:percent can not be NaN");if(e.percent!==this.props.percent){if(!this.props.motion){this.setState({percentNumber:this.props.percent});return}this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new U2({from:{value:e.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",t=>{if(this._mounted===!1)return;const r=parseInt(t.value);this.setState({percentNumber:r})}),this.animation.on("rest",()=>{this._mounted!==!1&&this.setState({percentNumber:this.props.percent})}),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){const e=this.props,{strokeLinecap:t,style:r,className:s,strokeWidth:i,format:a,size:o,stroke:l,strokeGradient:u,showInfo:d,percent:h,orbitStroke:f,id:g}=e,b=xR(e,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),y=this.props["aria-label"],_=this.props["aria-labelledby"],m=this.props["aria-valuetext"],{percentNumber:E}=this.state,w={wrapper:$(`${Xs}-circle`,s),svg:$(`${Xs}-circle-ring`),circle:$(`${Xs}-circle-ring-inner`)},S=this.calcPercent(h),O=this.calcPercent(E);let x;this.props.width?x=this.props.width:o===Pr.DEFAULT_SIZE?x=72:x=24;const I=this.selectStroke(l,h,u),T=x/2,P=x/2,A=(x-i)/2,k=A*2*Math.PI,L=(1-S/100)*k,N=`${k} ${k}`,K=a(O);return v.createElement("div",Object.assign({id:g,className:w.wrapper,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":O,"aria-labelledby":_,"aria-label":y,"aria-valuetext":m},Zh(b)),v.createElement("svg",{key:o,className:w.svg,height:x,width:x,"aria-hidden":!0},v.createElement("circle",{strokeDashoffset:0,strokeWidth:i,strokeDasharray:N,strokeLinecap:t,fill:"transparent",stroke:f,r:A,cx:P,cy:T,"aria-hidden":!0}),v.createElement("circle",{className:w.circle,strokeDashoffset:L,strokeWidth:i,strokeDasharray:N,strokeLinecap:t,fill:"transparent",stroke:I,r:A,cx:P,cy:T,"aria-hidden":!0})),d&&o!=="small"?v.createElement("span",{className:`${Xs}-circle-text`},K):null)}calcPercent(e){let t;return e>100?t=100:e<0?t=0:t=e,t}selectStroke(e,t,r){if(typeof e=="string")return e;const s=Vpe(e,t,r);return typeof s<"u"?s:Pr.STROKE_DEFAULT}renderLineProgress(){const e=this.props,{className:t,style:r,stroke:s,strokeGradient:i,direction:a,format:o,showInfo:l,size:u,percent:d,orbitStroke:h,id:f}=e,g=xR(e,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),b=this.props["aria-label"],y=this.props["aria-labelledby"],_=this.props["aria-valuetext"],{percentNumber:m}=this.state,E=$(Xs,t,{[`${Xs}-horizontal`]:a===Pr.DEFAULT_DIRECTION,[`${Xs}-vertical`]:a!==Pr.DEFAULT_DIRECTION,[`${Xs}-large`]:u==="large"}),w=$({[`${Xs}-track`]:!0}),S=$(`${Xs}-track-inner`),O=this.calcPercent(d),x=this.calcPercent(m),T={background:this.selectStroke(s,d,i)};a===Pr.DEFAULT_DIRECTION?T.width=`${O}%`:T.height=`${O}%`;const P=o(x);return v.createElement("div",Object.assign({id:f,className:E,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":O,"aria-labelledby":y,"aria-label":b,"aria-valuetext":_},Zh(g)),v.createElement("div",{className:w,style:h?{backgroundColor:h}:{},"aria-hidden":!0},v.createElement("div",{className:S,style:T,"aria-hidden":!0})),l?v.createElement("div",{className:`${Xs}-line-text`},P):null)}render(){const{type:e}=this.props;return e==="line"?this.renderLineProgress():this.renderCircleProgress()}}cf.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-valuetext":c.string,className:c.string,direction:c.oneOf(Pr.directions),format:c.oneOfType([c.func,c.node]),id:c.string,motion:c.oneOfType([c.bool,c.func,c.object]),orbitStroke:c.string,percent:c.number,scale:c.number,showInfo:c.bool,size:c.oneOf(Pr.sizes),stroke:c.oneOfType([c.string,c.arrayOf(c.shape({percent:c.number,color:c.string}))]),strokeGradient:c.bool,strokeLinecap:c.oneOf(Pr.strokeLineCap),strokeWidth:c.number,style:c.object,type:c.oneOf(Pr.types),width:c.number};cf.defaultProps={className:"",direction:Pr.DEFAULT_DIRECTION,format:n=>`${n}%`,motion:!0,orbitStroke:"var(--semi-color-fill-0)",percent:0,showInfo:!1,size:Pr.DEFAULT_SIZE,stroke:Pr.STROKE_DEFAULT,strokeGradient:!1,strokeLinecap:Pr.DEFAULT_LINECAP,strokeWidth:4,style:{},type:Pr.DEFAULT_TYPE};const CF={PREFIX:`${W}-radio`,INNER:`${W}-radio-inner`,TEXT:`${W}-radio-text`,INPUT:`${W}-radio-input`,CHECKED:`${W}-radio-checked`,DISABLED:`${W}-radio-disabled`,BUTTON:`${W}-radio-button`},Bpe={PREFIX:`${W}-radioGroup`,INNER:`${W}-radioGroup-inner`,TEXT:`${W}-radioGroup-text`,INPUT:`${W}-radioGroup-input`,CHECKED:`${W}-radioGroup-checked`,DISABLED:`${W}-radioGroup-disabled`},wn={DIRECTION_SET:["horizontal","vertical"],DEFAULT_DIRECTION:"horizontal",MODE:["advanced",""],TYPE_DEFAULT:"default",TYPE_BUTTON:"button",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",BUTTON_SIZE:["middle","small","large"]};class Hpe extends ke{constructor(e){super(Object.assign({},e))}init(){const e=this._getDisplayValue();this._setValue(e)}_getDisplayValue(){const{value:e,defaultValue:t}=this.getProps();let r;return"value"in this.getProps()?r=e:"defaultValue"in this.getProps()&&(r=t),r}handleChange(e){const t=this.getProp("mode"),r=this.getState("value"),{checked:s,value:i}=e.target,a=this._adapter.isInProps("value"),o=Object.assign(Object.assign({},e),{target:Object.assign(Object.assign({},e.target),{value:i})});t==="advanced"&&!s&&(o.target.value=void 0),a||(t==="advanced"&&!s?this._setValue(void 0):this._setValue(i)),(t==="advanced"||r!==i)&&this._adapter.notifyChange(o)}handlePropValueChange(e){this._setValue(e)}_setValue(e){this._adapter.setValue(e)}destroy(){}}class zpe extends ke{constructor(){super(...arguments),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{zt(!0,"Warning: [Semi Radio] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this._adapter.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}setHover(e){this._adapter.setHover(e)}setChecked(e){this._adapter.setChecked(e)}}class Kpe extends ke{constructor(e){super(Object.assign({},e))}init(){const e=this._adapter.getProp("checked"),t=this._adapter.getProp("defaultChecked");this.setChecked(e||t)}setChecked(e){this._adapter.setNativeControlChecked(e)}getChecked(){return this._adapter.getProp("checked")}handleChange(e){const t="checked"in this.getProps(),{checked:r}=e.target,s=()=>{e.stopPropagation()},i=()=>{e.preventDefault()},a={target:Object.assign(Object.assign({},this.getProps()),{checked:r}),stopPropagation:s,preventDefault:i};t?this._adapter.notifyChange(a):(this.setChecked(r),this._adapter.notifyChange(a))}destroy(){}}const kT=v.createContext(null);class jy extends Ae{constructor(e){super(e),this.state={checked:!1},this.foundation=new Kpe(this.adapter),this.onChange=this.onChange.bind(this)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{this.props.onChange(e)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e){e.checked!==this.props.checked&&this.foundation.setChecked(this.props.checked)}componentWillUnmount(){this.foundation.destroy()}blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}onChange(e){this.foundation.handleChange(e)}render(){const{disabled:e,mode:t,autoFocus:r,name:s,isButtonRadio:i,isPureCardRadioGroup:a,addonId:o,extraId:l,"aria-label":u,focusInner:d,onInputFocus:h,onInputBlur:f}=this.props,{checked:g}=this.state,b=this.props.prefixCls||CF.PREFIX,y=$({[`${b}-inner`]:!0,[`${b}-inner-checked`]:!!g,[`${b}-inner-buttonRadio`]:i,[`${b}-inner-pureCardRadio`]:a}),_=$({[`${b}-focus`]:d,[`${b}-focus-border`]:d&&!g,[`${b}-inner-display`]:!i});return v.createElement("span",{className:y},v.createElement("input",{ref:m=>{this.inputEntity=m},autoFocus:r,type:t==="advanced"?"checkbox":"radio",checked:!!g,disabled:e,onChange:this.onChange,name:s,"aria-label":u,"aria-labelledby":o,"aria-describedby":l,onFocus:h,onBlur:f}),v.createElement("span",{className:_},g?v.createElement(nse,null):null))}}jy.contextType=kT;jy.propTypes={checked:c.bool,disabled:c.bool,isButtonRadio:c.bool,onChange:c.func,mode:c.oneOf(["advanced",""]),"aria-label":c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};jy.defaultProps={onChange:F,isButtonRadio:!1};var Wpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Bl extends Ae{constructor(e){super(e),this.onChange=t=>{const{onChange:r}=this.props;if(this.isInGroup()){const{radioGroup:s}=this.context;s.onChange&&s.onChange(t)}!("checked"in this.props)&&this.foundation.setChecked(t.target.checked),r&&r(t)},this.handleMouseEnter=t=>{this.props.onMouseEnter(t),this.foundation.setHover(!0)},this.handleMouseLeave=t=>{this.props.onMouseLeave(t),this.foundation.setHover(!1)},this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:e.addonId,extraId:e.extraId,checked:e.checked||e.defaultChecked||!1},this.foundation=new zpe(this.adapter),this.radioEntity=null}componentDidUpdate(e){this.props.checked!==e.checked&&(bt(this.props.checked)?this.foundation.setChecked(!1):i$(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:e=>{this.setState({hover:e})},setAddonId:()=>{this.setState({addonId:xa({prefix:"addon"})})},setChecked:e=>{this.setState({checked:e})},setExtraId:()=>{this.setState({extraId:xa({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){const e=this.props,{addonClassName:t,addonStyle:r,disabled:s,style:i,className:a,prefixCls:o,displayMode:l,children:u,extra:d,mode:h,type:f,value:g,name:b}=e,y=Wpe(e,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]);let _,m,E,w,S,O,x,I,T;const{hover:P,addonId:A,extraId:k,focusVisible:L,checked:N}=this.state,K={checked:N,disabled:s};this.isInGroup()?(_=this.context.radioGroup.value===g,m=s||this.context.radioGroup.disabled,E=this.context.mode,w=this.context.radioGroup.isButtonRadio,S=this.context.radioGroup.isCardRadio,O=this.context.radioGroup.isPureCardRadio,I=this.context.radioGroup.buttonSize,T=o||this.context.radioGroup.prefixCls,K.checked=_,K.disabled=m):(_=N,m=s,E=h,x=f==="button",T=o,w=f===wn.TYPE_BUTTON,O=f===wn.TYPE_PURECARD,S=f===wn.TYPE_CARD||O);const G=typeof w>"u"?x:w,z=T||CF.PREFIX,ee=S||O||G,V=$(z,{[`${z}-disabled`]:m,[`${z}-checked`]:_,[`${z}-${l}`]:!!l,[`${z}-buttonRadioComponent`]:x,[`${z}-buttonRadioGroup`]:w,[`${z}-buttonRadioGroup-${I}`]:w&&I,[`${z}-cardRadioGroup`]:S,[`${z}-cardRadioGroup_disabled`]:m&&S,[`${z}-cardRadioGroup_checked`]:S&&_&&!m,[`${z}-cardRadioGroup_checked_disabled`]:S&&_&&m,[`${z}-cardRadioGroup_hover`]:S&&!_&&P&&!m,[a]:!!a,[`${z}-focus`]:L&&(S||O)}),H=this.isInGroup()&&this.context.radioGroup.name,U=$({[`${z}-addon`]:!G,[`${z}-addon-buttonRadio`]:G,[`${z}-addon-buttonRadio-checked`]:G&&_,[`${z}-addon-buttonRadio-disabled`]:G&&m,[`${z}-addon-buttonRadio-hover`]:G&&!_&&!m&&P,[`${z}-addon-buttonRadio-${I}`]:G&&I,[`${z}-focus`]:L&&G},t),ae=()=>!u&&!d?null:v.createElement("div",{className:$([`${z}-content`,{[`${z}-isCardRadioGroup_content`]:S}])},u?v.createElement("span",{className:U,style:r,id:A,"x-semi-prop":"children"},u):null,d&&!G?v.createElement("div",{className:`${z}-extra`,id:k,"x-semi-prop":"extra"},d):null);return v.createElement("label",Object.assign({style:i,className:V,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(y)),v.createElement(jy,Object.assign({},this.props,K,{mode:E,name:b??H,isButtonRadio:G,isPureCardRadioGroup:O,onChange:this.onChange,ref:ne=>{this.radioEntity=ne},addonId:u&&A,extraId:d&&k,focusInner:L&&!ee,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),ae())}}Bl.contextType=kT;Bl.propTypes={autoFocus:c.bool,checked:c.bool,defaultChecked:c.bool,value:c.any,style:c.object,className:c.string,disabled:c.bool,prefixCls:c.string,displayMode:c.oneOf(["vertical",""]),onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,mode:c.oneOf(wn.MODE),extra:c.node,addonStyle:c.object,addonClassName:c.string,type:c.oneOf([wn.TYPE_DEFAULT,wn.TYPE_BUTTON,wn.TYPE_CARD,wn.TYPE_PURECARD]),"aria-label":c.string,preventScroll:c.bool};Bl.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:F,onMouseLeave:F,mode:"",type:"default"};Bl.elementType="Radio";var Gpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class NT extends Ae{constructor(e){super(e),this.onChange=t=>{this.foundation.handleChange(t)},this.getFormatName=()=>this.props.name||"default",this.state={value:e.value||e.defaultValue},this.foundation=new Hpe(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){typeof e.value=="number"&&isNaN(e.value)&&typeof this.props.value=="number"&&isNaN(this.props.value)||e.value!==this.props.value&&this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>{this.setState({value:e})},getProps:()=>this.props,isInProps:e=>e in this.props,notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}render(){const e=this.props,{children:t,options:r,mode:s,prefixCls:i,className:a,style:o,direction:l,type:u,buttonSize:d,id:h}=e,f=Gpe(e,["children","options","mode","prefixCls","className","style","direction","type","buttonSize","id"]),g=u===wn.TYPE_BUTTON,b=u===wn.TYPE_PURECARD,y=u===wn.TYPE_CARD||b,_=u===wn.TYPE_DEFAULT,m=i||Bpe.PREFIX,E=$(a,{[m]:!0,[`${m}-wrapper`]:!0,[`${m}-${l}`]:l&&!g,[`${m}-${l}-default`]:l&&_,[`${m}-${l}-card`]:l&&y,[`${m}-buttonRadio`]:g}),w=this.state.value;let S;return r?S=(r||[]).map((O,x)=>typeof O=="string"?v.createElement(Bl,{key:x,disabled:this.props.disabled,value:O},O):v.createElement(Bl,{key:x,disabled:O.disabled||this.props.disabled,value:O.value,extra:O.extra,className:O.className,style:O.style},O.label)):t&&(S=v.Children.map(t,(O,x)=>v.isValidElement(O)?v.cloneElement(O,{key:x}):null)),v.createElement("div",Object.assign({className:E,style:o,id:h,"aria-label":this.props["aria-label"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(f)),v.createElement(kT.Provider,{value:{radioGroup:{onChange:this.onChange,value:w,disabled:this.props.disabled,name:this.getFormatName(),isButtonRadio:g,isCardRadio:y,isPureCardRadio:b,buttonSize:d,prefixCls:i},mode:s}},S))}}NT.propTypes={defaultValue:c.any,disabled:c.bool,name:c.string,options:c.array,buttonSize:c.oneOf(wn.BUTTON_SIZE),type:c.oneOf([wn.TYPE_DEFAULT,wn.TYPE_BUTTON,wn.TYPE_CARD,wn.TYPE_PURECARD]),value:c.any,onChange:c.func,children:c.node,prefixCls:c.string,className:c.string,style:c.object,direction:c.oneOf(wn.DIRECTION_SET),mode:c.oneOf(wn.MODE),"aria-label":c.string,"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,id:c.string};NT.defaultProps={disabled:!1,onChange:F,direction:wn.DEFAULT_DIRECTION,mode:"",type:wn.TYPE_DEFAULT,buttonSize:"middle"};const Yg={PREFIX:`${W}-rating`},TF={SIZE_SET:["default","small"]};class MT extends ke{constructor(e){super(Object.assign(Object.assign({},MT.defaultAdapter),e)),this.handleStarFocusVisible=t=>{const{target:r}=t;this.getProps();try{r.matches(":focus-visible")&&this._adapter.setEmptyStarFocusVisible(!0)}catch{zt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleStarBlur=t=>{const{emptyStarFocusVisible:r}=this.getStates();r&&this._adapter.setEmptyStarFocusVisible(!1)}}init(){const{autoFocus:e,disabled:t}=this.getProps();e&&!t&&this._adapter.focus()}_getScroll(e,t){let r=t?e.pageYOffset:e.pageXOffset;const s=t?"scrollTop":"scrollLeft";if(typeof r!="number"){const i=e.document;r=i.documentElement[s],typeof r!="number"&&(r=i.body[s])}return r}_getClientPosition(e){let t,r;const s=e.ownerDocument,{body:i}=s,a=s&&s.documentElement,o=e.getBoundingClientRect();return t=o.left,r=o.top,t-=a.clientLeft||i.clientLeft||0,r-=a.clientTop||i.clientTop||0,{left:t,top:r}}_getOffsetLeft(e){const t=this._getClientPosition(e),r=e.ownerDocument,s=r.defaultView||r.parentWindow;return t.left+=this._getScroll(s),t.left}getStarValue(e,t){const{allowHalf:r}=this.getProps(),i=this._adapter.getContext("direction")==="rtl";let a=e+1;if(r){const o=this._adapter.getStarDOM(e),l=this._getOffsetLeft(o),u=o.clientWidth;(i&&t-l>u/2||!i&&t-l<u/2)&&(a-=.5)}return a}handleHover(e,t){const r=this.getStarValue(t,e.pageX),{clearedValue:s,hoverValue:i}=this.getStates();r!==i&&r!==s&&this._adapter.notifyHoverChange(r,null)}handleMouseLeave(){this._adapter.notifyHoverChange(void 0,null)}handleClick(e,t){const{allowClear:r}=this.getProps(),{value:s}=this.getStates(),i=this.getStarValue(t,e.pageX),a=r?i===s:!1;this._adapter.updateValue(a?0:i),a?this._adapter.notifyHoverChange(void 0,i):this._adapter.clearValue(null)}handleFocus(e){this._adapter.notifyFocus(e)}handleBlur(e){this._adapter.notifyBlur(e)}handleKeyDown(e,t){const{key:r}=e,{count:s,allowHalf:i}=this.getProps(),o=this._adapter.getContext("direction")==="rtl",l=i?.5:1;let u,d;r==="ArrowRight"||r==="ArrowUp"?u=t+(o?-l:l):(r==="ArrowLeft"||r==="ArrowDown")&&(u=t+(o?l:-l)),u>s?d=0:u<0?d=s:d=u,["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(r)&&(this._adapter.notifyKeyDown(e),this._adapter.updateValue(d),this.changeFocusStar(d,e),e.preventDefault(),this._adapter.notifyHoverChange(void 0,null))}changeFocusStar(e,t){const{count:r,allowHalf:s,preventScroll:i}=this.getProps(),a=Math.ceil(e)-1,o=[...t.currentTarget.childNodes].map(l=>l.childNodes[0].childNodes);a<0?o[r][0].focus({preventScroll:i}):o[a][s?e*10%10===5?0:1:0].focus({preventScroll:i})}}class LT extends ke{constructor(e){super(Object.assign(Object.assign({},LT.defaultAdapter),e)),this.handleFocusVisible=(t,r)=>{const{target:s}=t;try{s.matches(":focus-visible")&&(r==="first"?this._adapter.setFirstStarFocus(!0):this._adapter.setSecondStarFocus(!0))}catch{zt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleBlur=(t,r)=>{const{firstStarFocus:s,secondStarFocus:i}=this.getStates();r==="first"?s&&this._adapter.setFirstStarFocus(!1):i&&this._adapter.setSecondStarFocus(!1)}}}class IF extends Ae{constructor(e){super(e),this.firstStar=null,this.secondStar=null,this.onHover=t=>{const{onHover:r,index:s}=this.props;r(t,s)},this.onClick=t=>{const{onClick:r,index:s}=this.props;r(t,s)},this.onFocus=(t,r)=>{const{onFocus:s}=this.props;s&&s(t),this.foundation.handleFocusVisible(t,r)},this.onBlur=(t,r)=>{const{onBlur:s}=this.props;s&&s(t),this.foundation.handleBlur(t,r)},this.onKeyDown=t=>{const{onClick:r,index:s}=this.props;t.keyCode===13&&r(t,s)},this.starFocus=()=>{const{value:t,index:r,preventScroll:s}=this.props;t-r===.5?this.firstStar.focus({preventScroll:s}):this.secondStar.focus({preventScroll:s})},this.saveFirstStar=t=>{this.firstStar=t},this.saveSecondStar=t=>{this.secondStar=t},this.state={firstStarFocus:!1,secondStarFocus:!1},this.foundation=new LT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setFirstStarFocus:e=>{this.setState({firstStarFocus:e})},setSecondStarFocus:e=>{this.setState({secondStarFocus:e})}})}render(){const{index:e,prefixCls:t,character:r,count:s,value:i,disabled:a,allowHalf:o,focused:l,size:u,ariaLabelPrefix:d}=this.props,{firstStarFocus:h,secondStarFocus:f}=this.state,g=e+1,b=g-i,y=o&&b<1&&b>0,_=1-b,m=g<=i,E=typeof u=="number",w=$(t,{[`${t}-half`]:y,[`${t}-full`]:m,[`${t}-${u}`]:!E}),S=E?{width:u,height:u,fontSize:u}:{},O=E?"inherit":u==="small"?"default":"extra-large",x=r||v.createElement(ose,{size:O,style:{display:"block"}}),I=e===s,T=$(`${t}-wrapper`,{[`${t}-disabled`]:a,[`${Yg.PREFIX}-focus`]:(h||f)&&i!==0}),P={onClick:a?null:this.onClick,onKeyDown:a?null:this.onKeyDown,onMouseMove:a?null:this.onHover,className:T},A=o?s*2+1:s+1,k={ref:this.saveFirstStar,role:"radio","aria-checked":i===e+.5,"aria-posinset":2*e+1,"aria-setsize":A,"aria-disabled":a,"aria-label":`${e+.5} ${d}s`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:$(`${t}-first`,`${Yg.PREFIX}-no-focus`),tabIndex:!a&&i===e+.5?0:-1,onFocus:K=>{this.onFocus(K,"first")},onBlur:K=>{this.onBlur(K,"first")}},L=!a&&(i===e+1||I&&i===0)?0:-1,N={ref:this.saveSecondStar,role:"radio","aria-checked":I?i===0:i===e+1,"aria-posinset":o?2*(e+1):e+1,"aria-setsize":A,"aria-disabled":a,"aria-label":`${I?0:e+1} ${d}${e===0?"":"s"}`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:$(`${t}-second`,`${Yg.PREFIX}-no-focus`),tabIndex:L,onFocus:K=>{this.onFocus(K,"second")},onBlur:K=>{this.onBlur(K,"second")}};return v.createElement("li",{className:w,style:Object.assign({},S),key:e},v.createElement("div",Object.assign({},P),o&&!I&&v.createElement("div",Object.assign({},k,{style:{width:`${_*100}%`}}),x),v.createElement("div",Object.assign({},N,{"x-semi-prop":"character"}),x)))}}IF.propTypes={value:c.number,index:c.number,prefixCls:c.string,allowHalf:c.bool,onHover:c.func,onClick:c.func,character:c.node,focused:c.bool,disabled:c.bool,count:c.number,ariaLabelPrefix:c.string,size:c.oneOfType([c.oneOf(TF.SIZE_SET),c.number]),"aria-describedby":c.string,onFocus:c.func,onBlur:c.func,preventScroll:c.bool};var Ype=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Uy extends Ae{constructor(e){super(e),this.rate=null,this.onHover=(r,s)=>{this.foundation.handleHover(r,s)},this.onMouseLeave=()=>{this.foundation.handleMouseLeave()},this.onClick=(r,s)=>{this.foundation.handleClick(r,s)},this.onFocus=r=>{this.foundation.handleFocus(r)},this.onBlur=r=>{this.foundation.handleBlur(r)},this.onKeyDown=r=>{const{value:s}=this.state;this.foundation.handleKeyDown(r,s)},this.focus=()=>{const{disabled:r,preventScroll:s}=this.props;r||this.rate.focus({preventScroll:s})},this.blur=()=>{const{disabled:r}=this.props;r||this.rate.blur()},this.saveRef=r=>s=>{this.stars[r]=s},this.saveRate=r=>{this.rate=r},this.handleStarFocusVisible=r=>{this.foundation.handleStarFocusVisible(r)},this.handleStarBlur=r=>{this.foundation.handleStarBlur(r)},this.getAriaLabelPrefix=()=>{if(this.props["aria-label"])return this.props["aria-label"];let r="star";const{character:s}=this.props;return typeof s=="string"&&(r=s),r},this.getItemList=r=>{const{count:s,allowHalf:i,prefixCls:a,disabled:o,character:l,size:u,tooltips:d}=this.props,{value:h,hoverValue:f,focused:g}=this.state;return[...Array(s+1).keys()].map(y=>{const _=v.createElement(IF,{ref:this.saveRef(y),index:y,count:s,prefixCls:`${a}-star`,allowHalf:i,value:f===void 0?h:f,onClick:o?Ot:this.onClick,onHover:o?Ot:this.onHover,key:y,disabled:o,character:l,focused:g,size:y===s?0:u,ariaLabelPrefix:r,onFocus:o||s!==y?Ot:this.handleStarFocusVisible,onBlur:o||s!==y?Ot:this.handleStarBlur});if(d){const m=d[y]?d[y]:"",E=f-1===y;return v.createElement(yr,{visible:E,trigger:"custom",content:m,key:`${y}-${E}`},_)}return _})};const t=e.value===void 0?e.defaultValue:e.value;this.stars={},this.state={value:t,focused:!1,hoverValue:void 0,clearedValue:null,emptyStarFocusVisible:!1},this.foundation=new MT(this.adapter)}static getDerivedStateFromProps(e,t){return"value"in e&&e.value!==void 0?Object.assign(Object.assign({},t),{value:e.value}):t}get adapter(){return Object.assign(Object.assign({},super.adapter),{focus:()=>{const{disabled:e,count:t}=this.props,{value:r}=this.state;if(!e){const s=Math.ceil(r)-1;this.stars[s<0?t:s].starFocus()}},getStarDOM:e=>{const t=this.stars&&this.stars[e];return cs.findDOMNode(t)},notifyHoverChange:(e,t)=>{const{onHoverChange:r}=this.props;this.setState({hoverValue:e,clearedValue:t}),r(e)},updateValue:e=>{const{onChange:t}=this.props;"value"in this.props||this.setState({value:e}),t(e)},clearValue:e=>{this.setState({clearedValue:e})},notifyFocus:e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)},notifyBlur:e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),t&&t(e)},notifyKeyDown:e=>{const{onKeyDown:t}=this.props;this.setState({focused:!1}),t&&t(e)},setEmptyStarFocusVisible:e=>{this.setState({emptyStarFocusVisible:e})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,prefixCls:r,disabled:s,className:i,id:a,count:o,tabIndex:l}=e,u=Ype(e,["style","prefixCls","disabled","className","id","count","tabIndex"]),{value:d,emptyStarFocusVisible:h}=this.state,f=this.getAriaLabelPrefix(),g=`Rating: ${d} of ${o} ${f}${d===1?"":"s"},`,b=this.getItemList(f),y=$(r,{[`${r}-disabled`]:s,[`${r}-focus`]:h},i);return v.createElement("ul",Object.assign({"aria-label":g,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],className:y,style:t,onMouseLeave:s?Ot:this.onMouseLeave,tabIndex:s?-1:l,onFocus:s?Ot:this.onFocus,onBlur:s?Ot:this.onBlur,onKeyDown:s?Ot:this.onKeyDown,ref:this.saveRate,id:a},this.getDataAttr(u)),b)}}Uy.contextType=Xr;Uy.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-label":c.string,"aria-labelledby":c.string,"aria-required":c.bool,disabled:c.bool,value:c.number,defaultValue:c.number,count:c.number,allowHalf:c.bool,allowClear:c.bool,style:c.object,prefixCls:c.string,onChange:c.func,onHoverChange:c.func,className:c.string,character:c.node,tabIndex:c.number,onFocus:c.func,onBlur:c.func,onKeyDown:c.func,autoFocus:c.bool,size:c.oneOfType([c.oneOf(TF.SIZE_SET),c.number]),tooltips:c.arrayOf(c.string),id:c.string,preventScroll:c.bool};Uy.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:Yg.PREFIX,onChange:Ot,onHoverChange:Ot,tabIndex:-1,size:"default"};const fr={PREFIX:`${W}-slider`,DISABLED:`${W}-slider-disabled`,VERTICAL:`${W}-slider-vertical`,TRACK:`${W}-slider-track`,DOTS:`${W}-slider-dots`,MARKS:`${W}-slider-marks`,HANDLE:`${W}-slider-handle`,HANDLE_DOT:`${W}-slider-handle-dot`},RR=(n,e)=>(!globalThis.Touch||!(n instanceof Touch)||["stopPropagation","preventDefault"].forEach(r=>{let s=e[r];s&&(typeof s=="function"&&(s=function(){return e[r](...arguments)}),n[r]?zt(!0,`"The key ${r}" exist in Touch.`):n[r]=s)}),n);class $T extends ke{constructor(e){var t;super(Object.assign(Object.assign({},$T.defaultAdapter),e)),t=this,this.getMinAndMaxPercent=r=>{const{range:s,min:i,max:a}=this._adapter.getProps(),o=s?(r[0]-i)/(a-i):(r-i)/(a-i),l=s?(r[1]-i)/(a-i):1;return{min:this._checkValidity(o),max:this._checkValidity(l)}},this._checkValidity=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r>i?i:r<s?s:r},this.computeHandleVisibleVal=(r,s,i)=>{const{focusPos:a,currentValue:o}=this._adapter.getStates(),l={min:!1,max:!1};let u;return s?u={min:s(i?this.outPutValue(o[0]):this.outPutValue(o)),max:i?s(this.outPutValue(o[1])):null}:u={min:i?this.outPutValue(o[0]):this.outPutValue(o),max:i?this.outPutValue(o[1]):null},r?(l.min=!0,l.max=!0):typeof r>"u"&&s&&(a==="min"?l.min=!0:a==="max"&&(l.max=!0)),{tipVisible:l,tipChildren:u}},this.valueFormatIsCorrect=r=>Array.isArray(r)?typeof r[0]=="number"&&typeof r[0]=="number":typeof r=="number",this.handleMousePos=(r,s)=>{const i=this._adapter.getParentRect(),a=this._adapter.getScrollParentVal(),o=i?i.left:0,l=i?i.top:0;return{x:r-o+a.scrollLeft,y:s-l+a.scrollTop}},this.getScrollParent=r=>{const s=r,i=/(auto|scroll)/,a=(u,d)=>window.getComputedStyle(u,null).getPropertyValue(d),o=u=>i.test(a(u,"overflow")+a(u,"overflow-y")+a(u,"overflow-x")),l=u=>!u||u===document.body||!(u instanceof Element)?document.body:o(u)?u:l(u.parentNode);return l(s)},this.checkMeetMinMax=r=>{const{vertical:s,verticalReverse:i,range:a}=this._adapter.getProps(),o=this._adapter.getState("currentValue");this.transValueToPos(o);const{sliderX:l,sliderY:u,sliderWidth:d,sliderHeight:h}=this._adapter.getSliderLengths();this._adapter.getStates();const f=s?h:d;let g;s&&i?g=u+f:g=s?u:l;let b;return s&&i?b=u:b=s?u+h:l+d,s&&i?r>=g?r=g:r<=b&&(r=b):r<=g?r=g:r>=b&&(r=b),r},this.transPosToValue=(r,s)=>{const i=this.checkMeetMinMax(r),{min:a,max:o,currentValue:l}=this._adapter.getStates(),{range:u,vertical:d,step:h,verticalReverse:f}=this._adapter.getProps(),{sliderX:g,sliderY:b,sliderWidth:y,sliderHeight:_}=this._adapter.getSliderLengths(),m=d?b:g,E=d?_:y;let w;d&&f?w=(m+E-i)/E*(o-a)+a:w=(i-m)/E*(o-a)+a;let S;return u?S=s?l[0]:l[1]:S=l,h!==1&&(w=Math.round(w/h)*h),u&&w!==S?s?[w,l[1]]:[l[0],w]:!u&&w!==S?w:!1},this.transValueToPos=r=>{const{min:s,max:i}=this._adapter.getStates(),{vertical:a,range:o,verticalReverse:l}=this._adapter.getProps(),{sliderX:u,sliderY:d,sliderWidth:h,sliderHeight:f}=this._adapter.getSliderLengths(),g=a?d:u,b=a?f:h;return o?[(r[0]-s)*b/(i-s)+g,(r[1]-s)*b/(i-s)+g]:(r-s)*b/(i-s)+g},this.isMarkActive=r=>{const{min:s,max:i,range:a,included:o}=this._adapter.getProps(),l=this._adapter.getState("currentValue");return typeof(r/1)=="number"&&r>=s&&r<=i?a?(r>l[1]||r<l[0])&&o?"unActive":"active":r<=l&&o?"active":"unActive":!1},this.outPutValue=r=>{const s=o=>{var l,u;return/^\d+(\.\d+)?$/.test(String(o))&&(u=(l=o.toString().split(".")[1])===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0},i=this._adapter.getProp("step"),a=(()=>{const o=s(i),l=Math.pow(10,o);return u=>Math.round(u*l)/l})();if(Array.isArray(r)){const o=a(r[0]),l=a(r[1]);return o>l?this.getState("focusPos")==="min"?[l,l]:[o,o]:[o,l]}else return a(r)},this.handleDisabledChange=r=>{this._adapter.updateDisabled(r)},this.checkAndUpdateIsInRenderTreeState=()=>this._adapter.checkAndUpdateIsInRenderTreeState(),this.calculateOutputValue=(r,s)=>{const i=this.transPosToValue(r,s);if(i!==!1)return this.outPutValue(i)},this.handleValueChange=(r,s)=>{const{min:i,max:a}=this._adapter.getStates();let o=null;const l={};this.valueFormatIsCorrect(s)?(Array.isArray(r)&&Array.isArray(s)&&(s=[s[0]<i?i:s[0],s[1]>a?a:s[1]],o=Object.assign(l,{currentValue:s})),typeof r=="number"&&typeof s=="number"&&(s>a?s=a:s=s<i?i:s,o=Object.assign(l,{currentValue:s}))):o=l,o&&this._adapter.transNewPropsToState(o)},this.onHandleDown=(r,s)=>{this._adapter.onHandleDown(r);const i=this._adapter.getState("disabled"),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(i)return!1;this._adapter.setStateVal("isDrag",!0),this._adapter.setStateVal("chooseMovePos",s),s==="min"?this._adapter.setDragging([!0,o[1]]):this._adapter.setDragging([o[0],!0]);const l=this.handleMousePos(r.clientX,r.clientY);let u=a?l.y:l.x;if(!this._adapter.isEventFromHandle(r))this._dragOffset=0;else{const d=this._getHandleCenterPosition(a,r.target);this._dragOffset=u-d,u=d}return!0},this.onHandleMove=r=>{this._adapter.setEventDefault(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(s)return!1;this.onHandleEnter(i);const l=this.handleMousePos(r.clientX,r.clientY);let u=a?l.y:l.x;if(u=u-this._dragOffset,i==="min"&&o[0]||i==="max"&&o[1]){const d=this.calculateOutputValue(u,i==="min");if(d===void 0)return!1;this._adapter.notifyChange(d),this._adapter.onHandleMove(u,i==="min",void 0,!1,d)}return!0},this.onHandleTouchStart=(r,s)=>{const i=this._adapter.getMinHandleEl(),a=this._adapter.getMaxHandleEl();if(r.target===i||r.target===a){ti(r);const o=RR(r.touches[0],r);this.onHandleDown(o,s)}},this.onHandleTouchMove=r=>{const s=this._adapter.getMinHandleEl(),i=this._adapter.getMaxHandleEl();if(r.target===s||r.target===i){const a=RR(r.touches[0],r);this.onHandleMove(a)}},this.onHandleEnter=r=>{const{disabled:s,focusPos:i}=this._adapter.getStates();s||!i&&r!==i&&this._adapter.onHandleEnter(r)},this.onHandleLeave=()=>{const r=this._adapter.getState("disabled"),s=this._adapter.getState("isDrag");!r&&!s&&this._adapter.onHandleLeave()},this.onHandleUp=r=>{this._adapter.onHandleUpBefore(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{dragging:a}=this._adapter.getOverallVars();return s?!1:(i==="min"?this._adapter.setDragging([!1,a[1]]):this._adapter.setDragging([a[0],!1]),this._adapter.setStateVal("isDrag",!1),this._adapter.onHandleLeave(),this._adapter.onHandleUpAfter(),!0)},this._handleValueDecreaseWithKeyBoard=(r,s)=>{const{min:i,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(s==="min")if(o){let l=a[0]-r;return l=l<i?i:l,[l,a[1]]}else{let l=a-r;return l=l<i?i:l,l}else{let l=a[1]-r;return l=l<a[0]?a[0]:l,[a[0],l]}},this._handleValueIncreaseWithKeyBoard=(r,s)=>{const{max:i,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(s==="min")if(o){let l=a[0]+r;return l=l>a[1]?a[1]:l,[l,a[1]]}else{let l=a+r;return l=l>i?i:l,l}else{let l=a[1]+r;return l=l>i?i:l,[a[0],l]}},this._handleHomeKey=r=>{const{min:s,currentValue:i}=this.getStates(),{range:a}=this.getProps();return r==="min"?a?[s,i[1]]:s:[i[0],i[0]]},this._handleEndKey=r=>{const{max:s,currentValue:i}=this.getStates(),{range:a}=this.getProps();return r==="min"?a?[i[1],i[1]]:s:[i[0],s]},this.handleKeyDown=(r,s)=>{const{min:i,max:a,currentValue:o}=this.getStates(),{step:l,range:u}=this.getProps();let d;switch(r.key){case"ArrowLeft":case"ArrowDown":d=this._handleValueDecreaseWithKeyBoard(l,s);break;case"ArrowRight":case"ArrowUp":d=this._handleValueIncreaseWithKeyBoard(l,s);break;case"PageUp":d=this._handleValueIncreaseWithKeyBoard(10*l,s);break;case"PageDown":d=this._handleValueDecreaseWithKeyBoard(10*l,s);break;case"Home":d=this._handleHomeKey(s);break;case"End":d=this._handleEndKey(s);break}if(["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(r.key)){let h=!0;Array.isArray(o)?h=!(o[0]===d[0]&&o[1]===d[1]):h=o!==d,h&&(this._adapter.updateCurrentValue(d),this._adapter.notifyChange(d)),ti(r)}},this._noTooltip=()=>{const{tipFormatter:r,tooltipVisible:s}=this.getProps();return r===null||s===!1},this.onFocus=(r,s)=>{if(this._noTooltip())return;ti(r);const{target:a}=r;try{a.matches(":focus-visible")&&(s==="min"?this._adapter.setStateVal("firstDotFocusVisible",!0):this._adapter.setStateVal("secondDotFocusVisible",!0))}catch{zt(!0,"Warning: [Semi Slider] The current browser does not support the focus-visible")}},this.onBlur=(r,s)=>{if(this._noTooltip())return;const{firstDotFocusVisible:a,secondDotFocusVisible:o}=this.getStates();s==="min"?a&&this._adapter.setStateVal("firstDotFocusVisible",!1):o&&this._adapter.setStateVal("secondDotFocusVisible",!1)},this.handleWrapClick=r=>{const{disabled:s,isDrag:i}=this._adapter.getStates();if(i||s||this._adapter.isEventFromHandle(r))return;const{vertical:a}=this.getProps(),o=this.handleMousePos(r.clientX,r.clientY),l=a?o.y:o.x,u=this.checkWhichHandle(l),d=this.calculateOutputValue(l,u);d!==void 0&&(this._adapter.notifyChange(d),!this._isControlledComponent()&&this.setHandlePos(l,u,!0,d))},this.setHandlePos=function(r,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3?arguments[3]:void 0;t._adapter.onHandleMove(r,s,()=>t._adapter.onHandleUpAfter(),i,a)},this.checkWhichHandle=r=>{const{vertical:s,verticalReverse:i}=this.getProps(),{currentValue:a}=this._adapter.getStates(),o=this.transValueToPos(a);let l=!0;return Array.isArray(o)&&(r>o[1]||Math.abs(r-o[0])>Math.abs(r-o[1]))&&(l=!1),s&&i&&(l=!l),l},this.handleWrapperEnter=()=>{this._adapter.setStateVal("showBoundary",!0)},this.handleWrapperLeave=()=>{this._adapter.setStateVal("showBoundary",!1)}}init(){this._checkCurrentValue(),this._dragOffset=0}_checkCurrentValue(){const{currentValue:e,min:t,max:r}=this.getStates();let s;Array.isArray(e)?(s=[],s[0]=this._checkValidity(e[0],t,r),s[1]=this._checkValidity(e[1],t,r)):s=this._checkValidity(e,t,r),this._adapter.updateCurrentValue(s)}destroy(){this._adapter.unSubscribeEventListener()}_getHandleCenterPosition(e,t){const r=t.getBoundingClientRect(),{x:s,y:i}=this.handleMousePos(r.left+r.width*.5,r.top+r.height*.5);return e?i:s}}var qpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ts=fr.PREFIX;function Xpe(n){return n?!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length):!1}class FT extends Ae{constructor(e){super(e),this.renderHandle=()=>{var r,s,i,a,o;const{vertical:l,range:u,tooltipVisible:d,tipFormatter:h,"aria-label":f,"aria-labelledby":g,"aria-valuetext":b,getAriaValueText:y,disabled:_}=this.props,{chooseMovePos:m,isDrag:E,isInRenderTree:w,firstDotFocusVisible:S,secondDotFocusVisible:O}=this.state,x=l?"top":"left",I=this.foundation.getMinAndMaxPercent(this.state.currentValue),T=I.min,P=I.max,{tipVisible:A,tipChildren:k}=this.foundation.computeHandleVisibleVal(d&&w,h,u),L=$(fr.HANDLE,{[`${fr.HANDLE}-clicked`]:m==="min"&&E}),N=$(fr.HANDLE,{[`${fr.HANDLE}-clicked`]:m==="max"&&E}),{min:K,max:G,currentValue:z}=this.state,ee={"aria-label":f??(_?"Disabled Slider":void 0),"aria-labelledby":g,"aria-disabled":_};l&&Object.assign(ee,{"aria-orientation":"vertical"});const V=this.props.handleDot;return u?v.createElement(v.Fragment,null,v.createElement(yr,{content:k.min,position:"top",trigger:"custom",rePosKey:T,visible:w&&(A.min||S),className:`${fr.HANDLE}-tooltip`},v.createElement("span",Object.assign({ref:this.minHanleEl,className:L,style:{[x]:`${T*100}%`,zIndex:m==="min"?2:1},onMouseDown:U=>{this.foundation.onHandleDown(U,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:U=>{this.foundation.onHandleTouchStart(U,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:U=>{this.foundation.onHandleUp(U)},onTouchEnd:U=>{this.foundation.onHandleUp(U)},onKeyDown:U=>{this.foundation.handleKeyDown(U,"min")},onFocus:U=>{this.foundation.onFocus(U,"min")},onBlur:U=>{this.foundation.onBlur(U,"min")},role:"slider",tabIndex:_?-1:0},ee,{"aria-valuetext":y?y(z[0],0):b,"aria-valuenow":z[0],"aria-valuemax":z[1],"aria-valuemin":K}),(V==null?void 0:V[0])&&v.createElement("div",{className:fr.HANDLE_DOT,style:Object.assign(Object.assign({},!((r=V[0])===null||r===void 0)&&r.size?{width:V[0].size,height:V[0].size}:{}),!((s=V[0])===null||s===void 0)&&s.color?{backgroundColor:V[0].color}:{})}))),v.createElement(yr,{content:k.max,position:"top",trigger:"custom",rePosKey:P,visible:w&&(A.max||O),className:`${fr.HANDLE}-tooltip`},v.createElement("span",Object.assign({ref:this.maxHanleEl,className:N,style:{[x]:`${P*100}%`,zIndex:m==="max"?2:1},onMouseDown:U=>{this.foundation.onHandleDown(U,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:U=>{this.foundation.onHandleUp(U)},onTouchStart:U=>{this.foundation.onHandleTouchStart(U,"max")},onTouchEnd:U=>{this.foundation.onHandleUp(U)},onKeyDown:U=>{this.foundation.handleKeyDown(U,"max")},onFocus:U=>{this.foundation.onFocus(U,"max")},onBlur:U=>{this.foundation.onBlur(U,"max")},role:"slider",tabIndex:_?-1:0},ee,{"aria-valuetext":y?y(z[1],1):b,"aria-valuenow":z[1],"aria-valuemax":G,"aria-valuemin":z[0]}),((i=this.props.handleDot)===null||i===void 0?void 0:i[1])&&v.createElement("div",{className:fr.HANDLE_DOT,style:Object.assign(Object.assign({},!((a=this.props.handleDot[1])===null||a===void 0)&&a.size?{width:this.props.handleDot[1].size,height:this.props.handleDot[1].size}:{}),!((o=this.props.handleDot[1])===null||o===void 0)&&o.color?{backgroundColor:this.props.handleDot[1].color}:{})})))):v.createElement(yr,{content:k.min,showArrow:this.props.showArrow,position:"top",trigger:"custom",rePosKey:T,visible:w&&(A.min||S),className:`${fr.HANDLE}-tooltip`},v.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:L,style:{[x]:`${T*100}%`,zIndex:m==="min"&&E?2:1},onMouseDown:U=>{this.foundation.onHandleDown(U,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:U=>{this.foundation.onHandleTouchStart(U,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:U=>{this.foundation.onHandleUp(U)},onTouchEnd:U=>{this.foundation.onHandleUp(U)},onKeyDown:U=>{this.foundation.handleKeyDown(U,"min")},onFocus:U=>{this.foundation.onFocus(U,"min")},onBlur:U=>{this.foundation.onBlur(U,"min")},role:"slider","aria-valuetext":y?y(z,0):b,tabIndex:_?-1:0},ee,{"aria-valuenow":z,"aria-valuemax":G,"aria-valuemin":K}),V&&v.createElement("div",{className:fr.HANDLE_DOT,style:Object.assign(Object.assign({},V!=null&&V.size?{width:V.size,height:V.size}:{}),V!=null&&V.color?{backgroundColor:V.color}:{})})))},this.renderTrack=()=>{const{range:r,included:s,vertical:i}=this.props,a=this.foundation.getMinAndMaxPercent(this.state.currentValue),o=a.min,l=a.max;let u=i?{height:r?`${Math.abs(l-o)*100}%`:`${o*100}%`,top:r?`${Math.min(o,l)*100}%`:0}:{width:r?`${Math.abs(l-o)*100}%`:`${o*100}%`,left:r?`${Math.min(o,l)*100}%`:0};return u=s?u:{},v.createElement("div",{className:fr.TRACK,style:u,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{const{min:r,max:s,vertical:i,marks:a}=this.props,o=i?"top":"left";return a&&Object.keys(a).length>0?v.createElement("div",{className:fr.DOTS},Object.keys(a).map(u=>{const d=this.foundation.isMarkActive(Number(u)),h=$(`${Ts}-dot`,{[`${Ts}-dot-active`]:this.foundation.isMarkActive(Number(u))==="active"}),f=(Number(u)-r)/(s-r),g=v.createElement("span",{key:u,onClick:this.foundation.handleWrapClick,className:h,style:{[o]:`calc(${f*100}% - 2px)`}});return d?this.props.tooltipOnMark?v.createElement(yr,{content:a[u]},g):g:null})):null},this.renderLabel=()=>{if(!this.props.showMarkLabel)return null;const{min:r,max:s,vertical:i,marks:a,verticalReverse:o}=this.props,l=i?"top":"left";return a&&Object.keys(a).length>0?v.createElement("div",{className:fr.MARKS+(i&&o?"-reverse":"")},Object.keys(a).map(d=>{const h=this.foundation.isMarkActive(Number(d)),f=(Number(d)-r)/(s-r);return h?v.createElement("span",{key:d,className:$(`${Ts}-mark${i&&o?"-reverse":""}`),style:{[l]:`${f*100}%`},onClick:this.foundation.handleWrapClick},a[d]):null})):null},this._getAriaValueText=(r,s)=>{const{getAriaValueText:i}=this.props;return i?i(r,s):r};let{value:t}=this.props;t||(t=this.props.defaultValue),this.state={currentValue:t||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=v.createRef(),this.minHanleEl=v.createRef(),this.maxHanleEl=v.createRef(),this.dragging=[!1,!1],this.foundation=new $T(this.adapter),this.eventListenerSet=new Set,this.handleDownEventListenerSet=new Set}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{var t;if(this.sliderEl&&this.sliderEl.current){const r=this.sliderEl.current.getBoundingClientRect(),s=(t=this.sliderEl.current.offsetParent)===null||t===void 0?void 0:t.getBoundingClientRect(),i={x:s?r.left-s.left:this.sliderEl.current.offsetLeft,y:s?r.top-s.top:this.sliderEl.current.offsetTop};return{sliderX:i.x,sliderY:i.y,sliderWidth:r.width,sliderHeight:r.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{const t=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(t)return t.getBoundingClientRect()},getScrollParentVal:()=>{const t=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}},isEventFromHandle:t=>{const r=[this.minHanleEl,this.maxHanleEl];let s=!1;return r.forEach(i=>{if(!i)return;const a=i&&i.current,o=cs.findDOMNode(a);o&&o.contains(t.target)&&(s=!0)}),s},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:t=>{this.setState({disabled:t})},transNewPropsToState(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F;this.setState(t,r)},notifyChange:t=>{this.props.onChange(Array.isArray(t)?[...t].sort((r,s)=>r-s):t)},setDragging:t=>{this.dragging=t},updateCurrentValue:t=>{const{currentValue:r}=this.state;t!==r&&this.setState({currentValue:t})},setOverallVars:(t,r)=>{this[t]=r},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:t=>{this.handleDownEventListenerSet.add(this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1)),this.handleDownEventListenerSet.add(this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1)),this.handleDownEventListenerSet.add(this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1))},onHandleMove:function(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4?arguments[4]:void 0;if(!e.foundation.checkAndUpdateIsInRenderTreeState())return;const{value:l}=e.props;let u=a;if(u===void 0){const h=e.foundation.transPosToValue(t,r);if(h===!1)return;u=e.foundation.outPutValue(h)}const{currentValue:d}=e.state;if(!Fe(e.foundation.outPutValue(d),u)){if(!i&&e.foundation.valueFormatIsCorrect(l))return!1;e.setState({currentValue:u},s)}},setEventDefault:t=>{t.stopPropagation(),t.preventDefault()},setStateVal:(t,r)=>{this.setState({[t]:r})},checkAndUpdateIsInRenderTreeState:()=>{const t=Xpe(this.sliderEl.current);return t!==this.state.isInRenderTree&&this.setState({isInRenderTree:t}),t},onHandleEnter:t=>{this.setState({focusPos:t})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:t=>{var r,s;(s=(r=this.props).onMouseUp)===null||s===void 0||s.call(r,t),t.stopPropagation(),t.preventDefault(),Array.from(this.handleDownEventListenerSet).forEach(i=>i()),this.handleDownEventListenerSet.clear()},onHandleUpAfter:()=>{const{currentValue:t}=this.state,r=this.foundation.outPutValue(t);this.props.onAfterChange(r)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(t=>t())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e,t){const r=!Fe(this.props.value,e.value);if(this.props.disabled!==e.disabled&&this.foundation.handleDisabledChange(this.props.disabled),r){const i=this.props.value,a=this.state.currentValue;this.foundation.handleValueChange(a,i),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){const{disabled:e,currentValue:t,min:r,max:s}=this.state,i=this.props,{vertical:a,verticalReverse:o,style:l,railStyle:u,range:d,className:h}=i,f=qpe(i,["vertical","verticalReverse","style","railStyle","range","className"]),g=$(`${Ts}-wrapper`,{[`${Ts}-disabled`]:e,[`${fr.VERTICAL}-wrapper`]:a,[`${Ts}-reverse`]:a&&o},h),b=$(`${Ts}-boundary`,{[`${Ts}-boundary-show`]:this.props.showBoundary&&this.state.showBoundary}),y=$({[`${Ts}`]:!a,[fr.VERTICAL]:a}),_=Array.isArray(t)?[...t].sort():t,m=d?`Range: ${this._getAriaValueText(_[0],0)} to ${this._getAriaValueText(_[1],1)}`:void 0,E=v.createElement("div",Object.assign({className:g,style:l,ref:this.sliderEl,"aria-label":m,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(f)),v.createElement("div",{className:`${Ts}-rail`,onClick:this.foundation.handleWrapClick,style:u}),this.renderTrack(),this.renderStepDot(),v.createElement("div",null,this.renderHandle()),this.renderLabel(),v.createElement("div",{className:b},v.createElement("span",{className:`${Ts}-boundary-min`},r),v.createElement("span",{className:`${Ts}-boundary-max`},s)));return a?E:v.createElement("div",{className:y},E)}_addEventListener(e,t,r){if(e.addEventListener){for(var s=arguments.length,i=new Array(s>3?s-3:0),a=3;a<s;a++)i[a-3]=arguments[a];e.addEventListener(t,r,...i);const o=()=>{e==null||e.removeEventListener(t,r),Promise.resolve().then(()=>{this.eventListenerSet.delete(o)})};return this.eventListenerSet.add(o),o}else return F}}FT.propTypes={defaultValue:c.oneOfType([c.number,c.array]),disabled:c.bool,showMarkLabel:c.bool,included:c.bool,marks:c.object,max:c.number,min:c.number,range:c.bool,step:c.number,tipFormatter:c.func,value:c.oneOfType([c.number,c.array]),vertical:c.bool,onAfterChange:c.func,onChange:c.func,onMouseUp:c.func,tooltipOnMark:c.bool,tooltipVisible:c.bool,showArrow:c.bool,style:c.object,className:c.string,showBoundary:c.bool,railStyle:c.object,verticalReverse:c.bool,getAriaValueText:c.func,handleDot:c.oneOfType([c.shape({size:c.string,color:c.string}),c.arrayOf(c.shape({size:c.string,color:c.string}))])};FT.defaultProps={disabled:!1,showMarkLabel:!0,tooltipOnMark:!1,included:!0,max:100,min:0,range:!1,showArrow:!0,step:1,tipFormatter:n=>n,vertical:!1,showBoundary:!1,onAfterChange:n=>{},onChange:n=>{},verticalReverse:!1};class Qpe extends ke{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{zt(!0,"Warning: [Semi Switch] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{disabled:e}=this.getProps();this.setDisabled(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}setDisabled(e){this._adapter.setNativeControlDisabled(e)}handleChange(e,t){typeof this.getProps().checked<"u"?this._adapter.notifyChange(e,t):(this._adapter.setNativeControlChecked(e),this._adapter.notifyChange(e,t))}destroy(){}}const Is={PREFIX:`${W}-switch`,FOCUS:`${W}-switch-focus`,LARGE:`${W}-switch-large`,SMALL:`${W}-switch-small`,CHECKED:`${W}-switch-checked`,DISABLED:`${W}-switch-disabled`,ACTIVE:`${W}-switch-active`,KNOB:`${W}-switch-knob`,NATIVE_CONTROL:`${W}-switch-native-control`,CHECKED_TEXT:`${W}-switch-checked-text`,UNCHECKED_TEXT:`${W}-switch-unchecked-text`,LOADING_SPIN:`${W}-switch-loading-spin`,LOADING:`${W}-switch-loading`},Zpe={SIZE_MAP:["default","small","large"]};var Jpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class VT extends Ae{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={nativeControlChecked:e.defaultChecked||e.checked,nativeControlDisabled:!1,focusVisible:!1},this.switchRef=v.createRef(),this.foundation=new Qpe(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){this.props.checked!==e.checked&&this.foundation.setChecked(this.props.checked),this.props.disabled!==e.disabled&&this.foundation.setDisabled(this.props.disabled)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({nativeControlChecked:e})},setNativeControlDisabled:e=>{this.setState({nativeControlDisabled:e})},setFocusVisible:e=>{this.setState({focusVisible:e})},notifyChange:(e,t)=>{this.props.onChange(e,t)}})}render(){const{nativeControlChecked:e,nativeControlDisabled:t,focusVisible:r}=this.state,s=this.props,{className:i,style:a,onMouseEnter:o,onMouseLeave:l,size:u,checkedText:d,uncheckedText:h,loading:f,id:g}=s,b=Jpe(s,["className","style","onMouseEnter","onMouseLeave","size","checkedText","uncheckedText","loading","id"]),y=$(i,{[Is.PREFIX]:!0,[Is.CHECKED]:e,[Is.DISABLED]:t,[Is.LARGE]:u==="large",[Is.SMALL]:u==="small",[Is.LOADING]:f,[Is.FOCUS]:r}),_={type:"checkbox",className:Is.NATIVE_CONTROL,disabled:t||f,checked:e||!1},m=d&&e&&u!=="small",E=h&&!e&&u!=="small";return v.createElement("div",Object.assign({className:y,style:a,onMouseEnter:o,onMouseLeave:l},this.getDataAttr(b)),f?v.createElement(Yi,{wrapperClassName:Is.LOADING_SPIN,size:u==="default"?"middle":u}):v.createElement("div",{className:Is.KNOB,"aria-hidden":!0}),m?v.createElement("div",{className:Is.CHECKED_TEXT,"x-semi-prop":"checkedText"},d):null,E?v.createElement("div",{className:Is.UNCHECKED_TEXT,"x-semi-prop":"uncheckedText"},h):null,v.createElement("input",Object.assign({},_,{ref:this.switchRef,id:g,role:"switch","aria-checked":e,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-disabled":this.props.disabled,onChange:w=>this.foundation.handleChange(w.target.checked,w),onFocus:w=>this.handleFocusVisible(w),onBlur:w=>this.handleBlur(w)})))}}VT.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,className:c.string,checked:c.bool,checkedText:c.node,defaultChecked:c.bool,disabled:c.bool,loading:c.bool,onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,style:c.object,size:c.oneOf(Zpe.SIZE_MAP),uncheckedText:c.node,id:c.string};VT.defaultProps={disabled:!1,className:"",onChange:F,loading:!1,onMouseEnter:F,onMouseLeave:F,size:"default"};var ege="\\ud800-\\udfff",tge="\\u0300-\\u036f",nge="\\ufe20-\\ufe2f",rge="\\u20d0-\\u20ff",sge=tge+nge+rge,ige="\\ufe0e\\ufe0f",age="\\u200d",oge=RegExp("["+age+ege+sge+ige+"]");function lge(n){return oge.test(n)}var OF=lge,uge=LC;function cge(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:uge(n,e,t)}var dge=cge,hge=yi,fge=Yr,pge="[object RegExp]";function gge(n){return fge(n)&&hge(n)==pge}var mge=gge,vge=mge,yge=sd,AR=Uf,DR=AR&&AR.isRegExp,_ge=DR?yge(DR):vge,bge=_ge;function wge(n){return n.split("")}var Ege=wge,PF="\\ud800-\\udfff",Sge="\\u0300-\\u036f",Cge="\\ufe20-\\ufe2f",Tge="\\u20d0-\\u20ff",Ige=Sge+Cge+Tge,Oge="\\ufe0e\\ufe0f",Pge="["+PF+"]",ME="["+Ige+"]",LE="\\ud83c[\\udffb-\\udfff]",xge="(?:"+ME+"|"+LE+")",xF="[^"+PF+"]",RF="(?:\\ud83c[\\udde6-\\uddff]){2}",AF="[\\ud800-\\udbff][\\udc00-\\udfff]",Rge="\\u200d",DF=xge+"?",kF="["+Oge+"]?",Age="(?:"+Rge+"(?:"+[xF,RF,AF].join("|")+")"+kF+DF+")*",Dge=kF+DF+Age,kge="(?:"+[xF+ME+"?",ME,RF,AF,Pge].join("|")+")",Nge=RegExp(LE+"(?="+LE+")|"+kge+Dge,"g");function Mge(n){return n.match(Nge)||[]}var Lge=Mge,$ge=Ege,Fge=OF,Vge=Lge;function jge(n){return Fge(n)?Vge(n):$ge(n)}var Uge=jge,Bge=GM,Hge=dge,zge=OF,Kge=kC,Wge=bge,Gge=Uge,Yge=uy,qge=4294967295;function Xge(n,e,t){return t&&typeof t!="number"&&Kge(n,e,t)&&(e=t=void 0),t=t===void 0?qge:t>>>0,t?(n=Yge(n),n&&(typeof e=="string"||e!=null&&!Wge(e))&&(e=Bge(e),!e&&zge(n))?Hge(Gge(n),0,t):n.split(e,t)):[]}var Qge=Xge;const Fb=Ce(Qge),hg=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XC;if(n instanceof Date)return n;if(typeof n=="number")return new Date(ks(n));if(typeof n=="string"){if(n==="")return;let r=new Date;return r=y2(n,e,r,{locale:t}),r}else if(typeof n>"u")return;return new Date},fg=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XC;return ot(n,e,{locale:t})},Zge=(n,e)=>{if(typeof n=="function"){const t=n();if(Array.isArray(t)&&!_t(e)&&t.some(r=>ks(r)===ks(e)))return!0}return!1},Jge=(n,e,t)=>{if(typeof n=="function"){const r=n(e);if(Array.isArray(r)&&!_t(e)&&!_t(t)&&r.some(s=>ks(s)===ks(t)))return!0}return!1},eme=(n,e,t,r)=>{if(typeof n=="function"){const s=n(e,t);if(Array.isArray(s)&&!_t(e)&&!_t(t)&&!_t(r)&&s.some(i=>ks(i)===ks(r)))return!0}return!1},Vb=n=>Array.isArray(n)?[...n]:[],tme=(n,e)=>{let t=!0;const r="BDEGHKLMOPQRSTXYabcehimopqstuwxyz",s=new RegExp(`[${r}]`,"g"),i=new RegExp(`[^${r}]`,"g"),a=/[H|m|s]{1,2}/,o=e.split(i),l=e.replace(s,""),u=new RegExp(`[${l}]`,"g"),d=n.split(u);if(o.length!==d.length)t=!1;else for(let h=0,f=d.length;h<f;h++){const g=o[h],b=d[h];if(a.test(g)&&b.length<g.length){t=!1;break}}return t};let nme=class extends ke{constructor(e){super(Object.assign({},e))}init(){this.initDataFromDefaultValue(),(this._isControlledComponent("open")?this.getProp("open"):this.getProp("defaultOpen"))&&!this._isControlledComponent("open")&&this._adapter.registerClickOutSide()}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||fn.DEFAULT_TYPE,s=this.getContext("direction")==="rtl"?"bottomRight":"";return e||s||fn.DEFAULT_POSITION[t]}isDisabledHMS(e){let{hours:t,minutes:r,seconds:s}=e;const{disabledHours:i,disabledMinutes:a,disabledSeconds:o}=this.getProps(),l=!_t(t)&&Zge(i,t),u=!_t(t)&&!_t(r)&&Jge(a,t,r),d=!_t(t)&&!_t(r)&&!_t(s)&&eme(o,t,r,s);return l||u||d}isValidTimeZone(e){return["string","number"].includes(typeof e)&&e!==""}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?fn.DEFAULT_FORMAT_A:fn.DEFAULT_FORMAT}initDataFromDefaultValue(){const e=this.getProp("defaultValue");let t=this.getProp("value");const r=this.getProp("timeZone"),s=this.getValidFormat(),{rangeSeparator:i,dateFnsLocale:a}=this.getProps();t=t||e,Array.isArray(t)||(t=t?[t]:[]);const o=[];let l=!1;t.forEach(h=>{const f=hg(h,s,a);isNaN(f.getTime())||o.push(this.isValidTimeZone(r)?AE(f,r):f)});const u=[!0,!1];o.map((h,f)=>{u[f]=Ste(h)<12}),o.length===t.length?t=o:(t=[],t.length&&(l=!0));let d="";l||(d=t.map(h=>fg(h,s,a)).join(i)),this.setState({isAM:u,value:t,inputValue:d,invalid:l})}getValidFormat(e){let t=e;return _t(t)&&(t=this.getDefaultFormatIfNeed()),typeof t!="string"&&(t=fn.DEFAULT_FORMAT),t}handlePanelChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.getValidFormat(),s=this.getProp("dateFnsLocale"),i=this.getState("value");let a=this.getState("isAM");const o=Vb(i);if(a=Vb(a),e){const l=!!e.isAM,u=hg(e.timeStampValue,r,s);o[t]=u,a[t]=l;const d=this.formatValue(o);if(this.getState("isAM")[t]!==e.isAM&&this.setState({isAM:a}),!this._isControlledComponent("value")){const h=this.validateDates(o);this.setState({isAM:a,value:o,inputValue:d,invalid:h})}this._hasChanged(o,i)&&this._notifyChange(o,d)}}refreshProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{value:t,timeZone:r,__prevTimeZone:s}=e;let i=this.parseValue(t),a=i.some(l=>isNaN(Number(l)));a||(this.isValidTimeZone(r)&&(i=i.map(l=>AE(this.isValidTimeZone(s)?pc(l,s):l,r))),a=i.some(l=>this.isDisabledHMS({hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds()})));const o=this.formatValue(i);this.setState({value:i,invalid:a,inputValue:o})}handleFocus(e){this.getState("open")||this.handlePanelOpen(),this._adapter.notifyFocus(e)}setPanel(e){this._adapter.togglePanel(e)}destroy(){this._adapter.unregisterClickOutSide()}handlePanelOpen(){this._isControlledComponent("open")||(this._adapter.registerClickOutSide(),this.setPanel(!0)),this._adapter.notifyOpenChange(!0)}handlePanelClose(e,t){this._isControlledComponent("open")||(this._adapter.unregisterClickOutSide(),this.setPanel(!1)),this._adapter.notifyOpenChange(!1),this._adapter.notifyBlur(t)}handleVisibleChange(e){this._isControlledComponent("open")||this._adapter.togglePanel(e),this._adapter.notifyOpenChange(e)}handleInputChange(e){this._adapter.setInputValue(e);const t=this.getProp("rangeSeparator"),r=Fb(e,t),s=this.getValidFormat();if(e!==""&&r.some(d=>!tme(d,s)))return;const i=this.parseInput(e),a=this.validateDates(i),o={invalid:a},l=this.getState("value");let u=Vb(l);a||(o.value=i,u=[...i]),this._isControlledComponent("value")||this.setState(o),this._hasChanged(u,l)&&this._notifyChange(u,e)}doValidate(e){if(typeof e=="string")return this.validateStr(e);if(Array.isArray(e))return this.validateDates(e)}validateStr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=this.parseInput(e);return this.validateDates(t)}validateDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=e.some(r=>isNaN(Number(r)));return t||(t=e.some(r=>this.isDisabledHMS({hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds()}))),t}handleInputBlur(e){const t=this.getState("invalid"),r=this.getState("inputValue"),s=this.getState("value");r?t?this.setState({inputValue:this.formatValue(s),invalid:!1}):this.setState({inputValue:this.formatValue(s)}):this.setState({inputValue:"",value:[],invalid:!1})}formatValue(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");let i=e;if(i&&!Array.isArray(i)&&(i=i[i]),i&&Array.isArray(i))return i.map(o=>{let l;return bt(o)?l="":l=fg(o,t,s),l}).join(r)}parseInput(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");return e&&typeof e=="string"?Fb(e,r).map(i=>hg(i,t,s)):[]}parseValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getValidFormat(),r=this.getProp("dateFnsLocale");let s=e;return Array.isArray(s)||(s=s?[s]:[]),Array.isArray(s)?s.map(i=>hg(i,t,r)):[]}_notifyChange(e,t){let r=t,s=e;const i=this.getProp("timeZone");if(this._adapter.isRangePicker()){const o=this.getProp("rangeSeparator");r=Fb(t,o)}else s=Array.isArray(s)?s[0]:s;if(this.isValidTimeZone(i)&&s){const o=this.getValidFormat();Array.isArray(s)?(s=s.map(l=>pc(l,i)),r=s.map(l=>ot(l,o))):(s=pc(s,i),r=ot(s,o))}this.getProp("onChangeWithDateFirst")?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_hasChanged(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=this.getValidFormat(),s=this.getProp("dateFnsLocale");return e.length!==t.length||e.some((i,a)=>{const o=t[a];return!(Ns(i)&&Ns(o)&&fg(i,r,s)===fg(o,r,s))})}};class rme extends ke{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleFocus(e){this.storeCursor(),this._adapter.notifyFocus(e)}handleChange(e){this.storeCursor(),this._adapter.notifyChange(e)}handleBlur(e){this.clearCursor(),this._adapter.notifyBlur(e)}storeCursor(){const e=this.getCache("inputNode");if(e){const{selectionStart:t}=e;this.setCache("cursorIndex",t)}}restoreCursor(){const e=this.getCache("inputNode"),t=this.getCache("cursorIndex");e&&!_t(t)&&(e.selectionStart=t,e.selectionEnd=t)}clearCursor(){this.setCache("cursorIndex",null),this.setCache("beforeStr",null),this.setCache("afterStr",null)}}var sme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class jT extends Ae{constructor(e){super(e),this.setRef=t=>this.adapter.setCache("inputNode",t),this.handleClick=t=>this.props.onClick(t),this.handleFocus=t=>this.foundation.handleFocus(t),this.handleBlur=t=>this.foundation.handleBlur(t),this.handleChange=t=>this.foundation.handleChange(t),this.foundation=new rme(this.adapter),this.state={}}componentDidMount(){super.componentDidMount();const{focusOnOpen:e,preventScroll:t}=this.props;e&&(window.requestAnimationFrame||window.setTimeout)(()=>{const s=this.adapter.getCache("inputNode");s&&(s.focus({preventScroll:t}),s.select())})}componentDidUpdate(e){const{timeStampValue:t}=this.props;this.isControlled("timeStampValue")&&t!==this.state.timeStampValue&&this.foundation.restoreCursor(),this.props.value!==e.value&&this.foundation.restoreCursor()}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyChange:function(){return e.props.onChange(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)}})}getInput(){const e=this.props,{prefixCls:t,placeholder:r,inputReadOnly:s,onFocus:i,disabled:a,type:o,locale:l,localeCode:u,insetLabel:d,validateStatus:h,value:f,onChange:g,invalid:b,format:y,clearText:_,disabledHours:m,disabledMinutes:E,disabledSeconds:w,onEsc:S,defaultOpenValue:O,currentSelectPanel:x,focusOnOpen:I,timeStampValue:T,timeZone:P,defaultOpen:A,dateFnsLocale:k}=e,L=sme(e,["prefixCls","placeholder","inputReadOnly","onFocus","disabled","type","locale","localeCode","insetLabel","validateStatus","value","onChange","invalid","format","clearText","disabledHours","disabledMinutes","disabledSeconds","onEsc","defaultOpenValue","currentSelectPanel","focusOnOpen","timeStampValue","timeZone","defaultOpen","dateFnsLocale"]),N=$(`${t}-input`,{[`${t}-input-invalid`]:b,[`${t}-input-readonly`]:s}),K=b?"error":h;return v.createElement(Hn,Object.assign({},L,{hideSuffix:!0,className:N,ref:this.setRef,value:f,placeholder:r||l.placeholder[o],readonly:!!s,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,suffix:v.createElement(I2,{onClick:this.handleClick}),validateStatus:K,disabled:a,insetLabel:d}))}render(){const{prefixCls:e}=this.props;return v.createElement("div",{className:`${e}-input-wrap`},this.getInput())}}jT.propTypes={borderless:c.bool,format:c.string,prefixCls:c.string,placeholder:c.string,clearText:c.string,inputReadOnly:c.bool,hourOptions:c.array,minuteOptions:c.array,secondOptions:c.array,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,onChange:c.func,onFocus:c.func,onBlur:c.func,onEsc:c.func,onClick:c.func,defaultOpenValue:c.object,currentSelectPanel:c.string,focusOnOpen:c.bool,timeStampValue:c.any,locale:c.object,localeCode:c.string,insetLabel:c.node,validateStatus:c.string,preventScroll:c.bool};jT.defaultProps={borderless:!1,inputReadOnly:!1,onChange:F,onBlur:F,onFocus:F,onClick:F,disabledHours:F,disabledMinutes:F,disabledSeconds:F,format:fn.DEFAULT_FORMAT};const kR={panelHeader:c.oneOfType([c.node,c.string]),panelFooter:c.oneOfType([c.node,c.string])},ime={},ame=[c.string,c.number,c.instanceOf(Date)],NR=c.oneOfType([...ame,c.arrayOf(c.string),c.arrayOf(c.number),c.arrayOf(c.instanceOf(Date))]);var ome=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class dd extends Ae{constructor(e){var t;super(e),t=this,this.onCurrentSelectPanelChange=s=>{this.setState({currentSelectPanel:s})},this.handlePanelChange=(s,i)=>this.foundation.handlePanelChange(s,i),this.handleInput=s=>this.foundation.handleInputChange(s),this.createPanelProps=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const{panels:i,panelFooter:a,panelHeader:o,locale:l}=t.props,u={panelHeader:o,panelFooter:a};if(t.adapter.isRangePicker()){const d={0:l.begin,1:l.end};u.panelHeader=Z(i,s,_t(o)?Z(d,s,null):Array.isArray(o)?o[s]:o),u.panelFooter=Z(i,s,Array.isArray(a)?a[s]:a)}return u},this.handlePanelVisibleChange=s=>this.foundation.handleVisibleChange(s),this.openPanel=()=>{this.foundation.handlePanelOpen()},this.handleFocus=s=>{this.foundation.handleFocus(s)},this.handleBlur=s=>this.foundation.handleInputBlur(s),this.setTimePickerRef=s=>this.timePickerRef.current=s;const{format:r=fn.DEFAULT_FORMAT}=e;this.state={open:e.open||e.defaultOpen||!1,value:[],inputValue:"",currentSelectPanel:0,isAM:[!0,!1],showHour:!!r.match(/HH|hh|H|h/g),showMinute:!!r.match(/mm/g),showSecond:!!r.match(/ss/g),invalid:void 0},this.foundation=new nme(this.adapter),this.timePickerRef=v.createRef(),this.savePanelRef=v.createRef(),this.useCustomTrigger=typeof this.props.triggerRender=="function"}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:t=>{this.setState({open:t})},registerClickOutSide:()=>{this.clickOutSideHandler&&this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=t=>{const r=this.savePanelRef&&this.savePanelRef.current,s=this.timePickerRef&&this.timePickerRef.current,i=t.target,a=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(a.includes(s)||a.includes(r))&&this.foundation.handlePanelClose(!0,t)},document.addEventListener("mousedown",this.clickOutSideHandler)},setInputValue:(t,r)=>this.setState({inputValue:t},r),unregisterClickOutSide:()=>{this.clickOutSideHandler&&(document.removeEventListener("mousedown",this.clickOutSideHandler),this.clickOutSideHandler=null)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyChange:(t,r)=>this.props.onChange&&this.props.onChange(t,r),notifyFocus:function(){return e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur&&e.props.onBlur(...arguments)},isRangePicker:()=>this.props.type===fn.TYPE_TIME_RANGE_PICKER})}static getDerivedStateFromProps(e,t){return"open"in e&&e.open!==t.open?{open:e.open}:null}componentDidUpdate(e){this.isControlled("value")&&this.props.value!==e.value?this.foundation.refreshProps(Object.assign({},this.props)):this.props.timeZone!==e.timeZone&&this.foundation.refreshProps({timeZone:this.props.timeZone,__prevTimeZone:e.timeZone,value:this.state.value})}getPanelElement(){const{prefixCls:e,type:t}=this.props,{isAM:r,value:s}=this.state,i=this.foundation.getDefaultFormatIfNeed(),a=[v.createElement(of,Object.assign({},this.props,{key:0,format:i,isAM:r[0],timeStampValue:s[0],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,0),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(0)))];t===fn.TYPE_TIME_RANGE_PICKER&&a.push(v.createElement(of,Object.assign({},this.props,{key:1,format:i,isAM:r[1],timeStampValue:s[1],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,1),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(1))));const o=$({[kE.RANGE_PANEL_LISTS]:this.adapter.isRangePicker()});return v.createElement("div",{ref:this.savePanelRef,className:o},a.map(l=>l))}getPopupClassName(){const{use12Hours:e,prefixCls:t,popupClassName:r}=this.props,{showHour:s,showMinute:i,showSecond:a}=this.state;let o=0;return s&&(o+=1),i&&(o+=1),a&&(o+=1),e&&(o+=1),$(`${t}-panel`,r,{[`${t}-panel-narrow`]:(!s||!i||!a)&&!e,[kE.RANGE_PICKER]:this.adapter.isRangePicker()},`${t}-panel-column-${o}`)}focus(){}blur(){}render(){const e=this.props,{prefixCls:t,placeholder:r,disabled:s,defaultValue:i,dropdownMargin:a,className:o,popupStyle:l,size:u,style:d,locale:h,localeCode:f,zIndex:g,getPopupContainer:b,insetLabel:y,insetLabelId:_,inputStyle:m,showClear:E,panelHeader:w,panelFooter:S,rangeSeparator:O,onOpenChange:x,onChangeWithDateFirst:I,popupClassName:T,hideDisabledOptions:P,use12Hours:A,minuteStep:k,hourStep:L,secondStep:N,scrollItemProps:K,triggerRender:G,motion:z,autoAdjustOverflow:ee,stopPropagation:V}=e,H=ome(e,["prefixCls","placeholder","disabled","defaultValue","dropdownMargin","className","popupStyle","size","style","locale","localeCode","zIndex","getPopupContainer","insetLabel","insetLabelId","inputStyle","showClear","panelHeader","panelFooter","rangeSeparator","onOpenChange","onChangeWithDateFirst","popupClassName","hideDisabledOptions","use12Hours","minuteStep","hourStep","secondStep","scrollItemProps","triggerRender","motion","autoAdjustOverflow","stopPropagation"]),U=this.foundation.getDefaultFormatIfNeed(),ae=this.foundation.getPosition(),{open:ne,inputValue:re,invalid:de,value:be}=this.state,ve=this.getPopupClassName(),ge=$({[`${t}-header`]:!0}),pe=$({[`${t}-panel`]:!0,[`${t}-panel-${u}`]:u}),te=Object.assign(Object.assign({},H),{disabled:s,prefixCls:t,size:u,showClear:s?!1:E,style:m,value:re,onFocus:this.handleFocus,insetLabel:y,insetLabelId:_,format:U,locale:h,localeCode:f,invalid:de,placeholder:r,onChange:this.handleInput,onBlur:this.handleBlur}),le={};return this.useCustomTrigger&&(le.onClick=this.openPanel),v.createElement("div",Object.assign({ref:this.setTimePickerRef,className:$({[t]:!0},o),style:d},le),v.createElement(br,{getPopupContainer:b,zIndex:g,prefixCls:pe,contentClassName:ve,style:l,content:this.getPanelElement(),trigger:"custom",position:ae,visible:s?!1:!!ne,motion:z,margin:a,autoAdjustOverflow:ee,stopPropagation:V},this.useCustomTrigger?v.createElement(cu,{triggerRender:G,disabled:s,value:be,inputValue:re,onChange:this.handleInput,placeholder:r,componentName:"TimePicker",componentProps:Object.assign({},this.props)}):v.createElement("span",{className:ge},v.createElement(jT,Object.assign({},te)))))}}dd.contextType=Xr;dd.propTypes=Object.assign(Object.assign({"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,prefixCls:c.string,borderless:c.bool,clearText:c.string,clearIcon:c.node,value:NR,inputReadOnly:c.bool,disabled:c.bool,showClear:c.bool,defaultValue:NR,open:c.bool,defaultOpen:c.bool,onOpenChange:c.func,position:c.any,getPopupContainer:c.func,placeholder:c.string,format:c.string,style:c.object,className:c.string,popupClassName:c.string,popupStyle:c.object,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,dropdownMargin:c.oneOfType([c.number,c.object]),hideDisabledOptions:c.bool,onChange:c.func,use12Hours:c.bool,hourStep:c.number,minuteStep:c.number,secondStep:c.number,focusOnOpen:c.bool,autoFocus:c.bool,size:c.oneOf(fn.SIZE),stopPropagation:c.bool,panels:c.arrayOf(c.shape(kR)),onFocus:c.func,onBlur:c.func,locale:c.object,localeCode:c.string,dateFnsLocale:c.object,zIndex:c.oneOfType([c.number,c.string]),insetLabel:c.node,insetLabelId:c.string,validateStatus:c.oneOf(fn.STATUS),type:c.oneOf(fn.TYPES),rangeSeparator:c.string,triggerRender:c.func,timeZone:c.oneOfType([c.string,c.number]),scrollItemProps:c.object,motion:c.oneOfType([c.bool,c.func,c.object]),autoAdjustOverflow:c.bool},kR),{inputStyle:c.object,preventScroll:c.bool});dd.defaultProps=Object.assign({autoAdjustOverflow:!0,borderless:!1,getPopupContainer:()=>document.body,showClear:!0,zIndex:gs.DEFAULT_Z_INDEX,rangeSeparator:fn.DEFAULT_RANGE_SEPARATOR,onOpenChange:F,clearText:"clear",prefixCls:kE.PREFIX,inputReadOnly:!1,style:{},stopPropagation:!0,className:"",popupClassName:"",popupStyle:{left:"0px",top:"0px"},disabledHours:()=>[],disabledMinutes:()=>[],disabledSeconds:()=>[],hideDisabledOptions:!1,onFocus:F,onBlur:F,onChange:F,onChangeWithDateFirst:!0,use12Hours:!1,focusOnOpen:!1,onKeyDown:F,size:"default",type:fn.DEFAULT_TYPE,motion:!0},ime);class df extends v.PureComponent{render(){const{type:e}=this.props;return v.createElement(Xr.Consumer,null,t=>{let{timeZone:r}=t;return v.createElement(xn,{componentName:"TimePicker"},(s,i,a)=>v.createElement(dd,Object.assign({timeZone:r,placeholder:Z(s,["placeholder",e])},this.props,{locale:s,localeCode:i,dateFnsLocale:a})))})}}df.propTypes=dd.propTypes;df.__SemiComponentName__="TimePicker";df.defaultProps=Ws(df.__SemiComponentName__,dd.defaultProps);class UT extends ke{constructor(e){super(Object.assign(Object.assign({},UT.defaultAdapter),e)),this.handleMouseInSideChange=t=>{this._adapter.handleMouseInSideChange(t)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map(r=>{let{id:s}=r;return s}).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let r=this._adapter.getState("list");r=r.map(i=>i.id===e?Object.assign(Object.assign({},i),t):i);const s=r.filter(i=>i.id===e);this._adapter.updateToast(r,[],s)}removeToast(e){let t=this._adapter.getState("list");const r=[];t=t.filter(s=>s.id===e?(r.push(s),!1):!0),this._adapter.updateToast(t,r,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const jb=`${W}-toast`,Nu={PREFIX:jb,WRAPPER:`${jb}-wrapper`,LIST:`${jb}-list`},Eh={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]},lme={duration:3};class BT extends ke{constructor(e){super(Object.assign(Object.assign({},BT.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&Qt(e)&&(this._timer=setTimeout(()=>{this.close()},e*1e3))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}const Qs=Nu.PREFIX;let Hl=class extends Ae{constructor(e){super(e),this.toastEle=v.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new BT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:e,icon:t}=this.props,s={warning:v.createElement(E2,null),success:v.createElement(cse,null),info:v.createElement(ese,null),error:v.createElement(Qm,null)}[e],i="large",a=$(`${Qs}-icon`,`${Qs}-icon-${e}`);return t?Or(t)?v.cloneElement(t,{size:i,className:`${Qs}-icon`}):t:e&&s?v.cloneElement(s,{size:i,className:a}):null}render(){const{content:e,type:t,theme:r,showClose:s,textMaxWidth:i,className:a,style:o}=this.props,l=this.props.direction||this.context.direction,u=$(Qs,a,{[`${Qs}-${t}`]:!0,[`${Qs}-${r}`]:r==="light",[`${Qs}-rtl`]:l==="rtl"}),d={};d.maxWidth=i;const h="borderless",f="small",g=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,b=v.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:u,style:Object.assign(Object.assign({},o),{transform:`translate3d(0,0,${g*-10}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},v.createElement("div",{className:`${Qs}-content`},this.renderIcon(),v.createElement("span",{className:`${Qs}-content-text`,style:d,"x-semi-prop":"content"},e),s&&v.createElement("div",{className:`${Qs}-close-button`},v.createElement(ni,{onClick:y=>this.close(y),type:"tertiary",icon:v.createElement(QC,{"x-semi-prop":"icon"}),theme:h,size:f}))));if(this.props.stack){const y=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return v.createElement("div",{className:`${Qs}-zero-height-wrapper`,style:{height:y}},b)}else return b}};Hl.contextType=Xr;Hl.propTypes={onClose:c.func,content:c.node,close:c.func,duration:c.number,theme:c.oneOf(Eh.themes),type:c.oneOf(Eh.types),textMaxWidth:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,showClose:c.bool,stack:c.bool,stackExpanded:c.bool,icon:c.node,direction:c.oneOf(Eh.directions)};Hl.__SemiComponentName__="Toast";Hl.defaultProps=Ws(Hl.__SemiComponentName__,{onClose:F,content:"",close:F,duration:lme.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var ume=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const cme=(n,e)=>{var{afterClose:t}=n,r=ume(n,["afterClose"]);const[s,i]=D.useState(!0),a=()=>{i(!1)};return v.useImperativeHandle(e,()=>({close:()=>{i(!1)}})),D.useEffect(()=>{s||t(r.id)},[s]),s?v.createElement(Hl,Object.assign({},r,{close:a})):null},dme=v.forwardRef(cme),Ud={motion:!0,zIndex:1010,duration:3};function hme(){const[n,e]=v.useState([]);function t(r,s){return e(i=>[{element:r,config:s},...i]),i=>{e(a=>a.filter(o=>{let{config:l}=o;return l.id!==i}))}}return[n,t]}function fme(){const[n,e]=hme(),t=D.useRef(new Map),r=i=>{const a=zm("semi_toast_"),o=Object.assign(Object.assign({},i),{id:a});let l;const u=v.createElement(dme,Object.assign({},o,{key:a,afterClose:d=>l(d),ref:d=>{var h;t.current.set(a,{close:(h=d==null?void 0:d.close)!==null&&h!==void 0?h:F})}}));return l=e(u,Object.assign({},o)),a},s=i=>{var a;const{close:o}=(a=t.current.get(i))!==null&&a!==void 0?a:{};o==null||o()};return[{success:i=>r(Object.assign(Object.assign(Object.assign({},Ud),i),{type:"success"})),info:i=>r(Object.assign(Object.assign(Object.assign({},Ud),i),{type:"info"})),error:i=>r(Object.assign(Object.assign(Object.assign({},Ud),i),{type:"error"})),warning:i=>r(Object.assign(Object.assign(Object.assign({},Ud),i),{type:"warning"})),open:i=>r(Object.assign(Object.assign(Object.assign({},Ud),i),{type:"default"})),close:i=>s(i)},v.createElement(v.Fragment,null,Array.isArray(n)&&n.length?v.createElement(v.Fragment,null,n.map(i=>i.element)):null)]}const pme=()=>{var n;return n=class ft extends Ae{constructor(t){super(t),this.stack=!1,this.innerWrapperRef=v.createRef(),this.handleMouseEnter=r=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=r=>{var s;this.stack&&(!((s=this.foundation.getInputWrapperRect())===null||s===void 0)&&s.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new UT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(t,r,s)=>{this.setState({list:t,removedItems:r,updatedItems:s})},handleMouseInSideChange:t=>{this.setState({mouseInSide:t})},getInputWrapperRect:()=>{var t;return(t=this.innerWrapperRef.current)===null||t===void 0?void 0:t.getBoundingClientRect()}})}static create(t){var r;const s=(r=t.id)!==null&&r!==void 0?r:zm("toast");if(ft.ref){const i=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(a=>{a in t&&(i.style[a]=typeof t[a]=="number"?`${t[a]}px`:t[a])}),!!t.stack!==ft.ref.stack&&(ft.ref.stack=!!t.stack),ft.ref.has(s)?ft.ref.update(s,Object.assign(Object.assign({},t),{id:s})):ft.ref.add(Object.assign(Object.assign({},t),{id:s}))}else{const i=document.createElement("div");this.wrapperId||(this.wrapperId=zm("toast-wrapper").slice(0,26)),i.className=Nu.WRAPPER,i.id=this.wrapperId,i.style.zIndex=String(typeof t.zIndex=="number"?t.zIndex:ft.defaultOpts.zIndex),["top","left","bottom","right"].map(a=>{if(a in ft.defaultOpts||a in t){const o=t[a]?t[a]:ft.defaultOpts[a];i.style[a]=typeof o=="number"?`${o}px`:o}}),ft.defaultOpts.getPopupContainer?ft.defaultOpts.getPopupContainer().appendChild(i):document.body.appendChild(i),cs.render(v.createElement(ft,{ref:a=>ft.ref=a}),i,()=>{ft.ref.add(Object.assign(Object.assign({},t),{id:s})),ft.ref.stack=!!t.stack})}return s}static close(t){ft.ref&&ft.ref.remove(t)}static destroyAll(){if(ft.ref){ft.ref.destroyAll();const t=document.querySelector(`#${this.wrapperId}`);cs.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),ft.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ft.defaultOpts),t),{type:"info"}))}static warning(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ft.defaultOpts),t),{type:"warning"}))}static error(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ft.defaultOpts),t),{type:"error"}))}static success(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},ft.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach(r=>{r in t&&(ft.defaultOpts[r]=t[r])}),typeof t.theme=="string"&&Eh.themes.includes(t.theme)&&(ft.defaultOpts.theme=t.theme),typeof t.zIndex=="number"&&(ft.defaultOpts.zIndex=t.zIndex),typeof t.duration=="number"&&(ft.defaultOpts.duration=t.duration),typeof t.getPopupContainer=="function"&&(ft.defaultOpts.getPopupContainer=t.getPopupContainer)}has(t){return this.foundation.hasToast(t)}add(t){return this.foundation.addToast(t)}update(t,r){return this.foundation.updateToast(t,r)}remove(t){return this.foundation.removeToast(t)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:t}=this.state;const{removedItems:r,updatedItems:s}=this.state;t=Array.from(new Set([...t,...r]));const i=s.map(o=>{let{id:l}=o;return l}),a=o=>{var l;!((l=o==null?void 0:o.foundation)===null||l===void 0)&&l._id&&i.includes(o.foundation._id)&&o.foundation.restartCloseTimer()};return v.createElement(v.Fragment,null,v.createElement("div",{className:$({[`${Nu.PREFIX}-innerWrapper`]:!0,[`${Nu.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t.map((o,l)=>{const u=r.find(d=>d.id===o.id)!==void 0;return v.createElement(BC,{key:o.id,motion:o.motion,animationState:u?"leave":"enter",startClassName:u?`${Nu.PREFIX}-animation-hide`:`${Nu.PREFIX}-animation-show`},d=>{let{animationClassName:h,animationEventsNeedBind:f,isAnimating:g}=d;return u&&!g?null:v.createElement(Hl,Object.assign({},o,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:t.length,index:l},className:$({[o.className]:!!o.className,[h]:!0})},f,{style:Object.assign({},o.style),close:b=>this.remove(b),ref:a}))})})))}},n.defaultOpts={motion:!0,zIndex:1010,content:""},n.propTypes={content:c.node,duration:c.number,onClose:c.func,icon:c.node,direction:c.oneOf(Eh.directions),stack:c.bool},n.defaultProps={},n};class gme{static create(e){const t=pme();return t.useToast=fme,e&&t.config(e),t}}const Po=gme.create();function Ub(n){return XL(n,e=>{if(M8(e)&&!e._innerDataTag||v.isValidElement(e))return e})}const mme=X2.PREFIX;class HT extends D.PureComponent{constructor(e){super(e),this._onResize=t=>{const r=t&&t[1]&&t[1].target;if(r){const s=Z(r,"offsetHeight")||0,i=window.getComputedStyle(r)||{},a=parseInt(Z(i,"paddingTop"),10)||0,o=parseInt(Z(i,"paddingBottom"),10)||0,l=s-a-o;this.state.height!==l&&this.setState({height:s-a-o})}},this.state={height:this.props.defaultHeight||0}}componentDidMount(){const{height:e}=this.state}render(){const{children:e,defaultWidth:t,defaultHeight:r}=this.props,{height:s}=this.state;let i=!1;return(s===0||typeof s!="number")&&(i=!0),v.createElement(Oo,{observeParent:!0,onResize:this._onResize},v.createElement("div",{style:{height:r,overflow:"visible"},className:`${mme}-auto-wrapper`},!i&&e({height:s,width:t})))}}HT.propTypes={defaultHeight:c.oneOfType([c.number,c.string]),defaultWidth:c.oneOfType([c.number,c.string])};HT.defaultProps={defaultHeight:"100%",defaultWidth:"100%"};const zT=v.createContext(null),vme=n=>{let{prefixcls:e,level:t,isEnd:r,showLine:s}=n;const i=`${e}-indent-unit`,a=[];for(let o=0;o<t;o+=1)a.push(D.createElement("span",{key:o,className:$(i,{[`${i}-end`]:r[o]})}));return D.createElement("span",{"aria-hidden":"true",className:$(`${e}-indent`,{[`${e}-indent-show-line`]:s})},a)},yme=D.memo(vme);var _me=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const st=X2.PREFIX_OPTION;class gc extends D.PureComponent{constructor(e){super(e),this.onSelect=t=>{const{onNodeSelect:r}=this.context;r(t,this.props)},this.onExpand=t=>{const{onNodeExpand:r}=this.context;t&&t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),r(t,this.props)},this.onCheck=t=>{var r,s;if(this.isDisabled())return;const{onNodeCheck:i}=this.context;t.stopPropagation(),(s=(r=t.nativeEvent)===null||r===void 0?void 0:r.stopImmediatePropagation)===null||s===void 0||s.call(r),i(t,this.props)},this.handleCheckEnterPress=t=>{Ks(t)&&this.onCheck(t)},this.onContextMenu=t=>{const{onNodeRightClick:r}=this.context;r(t,this.props)},this.onClick=t=>{const{expandAction:r}=this.context;if(r==="doubleClick"){this.debounceSelect(t);return}this.onSelect(t),r==="click"&&this.onExpand(t)},this.handleliEnterPress=t=>{Ks(t)&&this.onClick(t)},this.onDoubleClick=t=>{const{expandAction:r,onNodeDoubleClick:s}=this.context;t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),De(s)&&s(t,this.props),r==="doubleClick"&&this.onExpand(t)},this.onDragStart=t=>{const{onNodeDragStart:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}));try{t.dataTransfer.setData("text/plain","")}catch{}},this.onDragEnter=t=>{const{onNodeDragEnter:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragOver=t=>{const{onNodeDragOver:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragLeave=t=>{const{onNodeDragLeave:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragEnd=t=>{const{onNodeDragEnd:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDrop=t=>{const{onNodeDrop:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.getNodeChildren=()=>{const{children:t}=this.props;return t||[]},this.isLeaf=()=>{const{isLeaf:t,loaded:r}=this.props,{loadData:s}=this.context,i=this.getNodeChildren().length!==0;return t===!1?!1:t||!s&&!i||s&&r&&!i},this.isDisabled=()=>{const{disabled:t}=this.props,{treeDisabled:r}=this.context;return t===!1?!1:!!(r||t)},this.renderSwitcher=()=>this.isLeaf()?v.createElement("span",{className:$(`${st}-switcher`)},v.createElement("span",{className:`${st}-switcher-leaf-line`})):null,this.renderRealLabel=()=>{const{renderLabel:t}=this.context,{label:r,keyword:s,data:i,filtered:a,treeNodeFilterProp:o}=this.props;return De(t)?t(r,i,s):Re(r)&&a&&s?v.createElement(Kf,{highlightClassName:`${st}-highlight`,component:"span",sourceString:r,searchWords:[s]}):r},this.setRef=t=>{this.refNode=t},this.state={},this.debounceSelect=QM(this.onSelect,500,{leading:!0,trailing:!1})}renderArrow(){const e=!this.isLeaf(),{loading:t,expanded:r,showLine:s}=this.props;return t?v.createElement(Yi,{wrapperClassName:`${st}-spin-icon`}):e?v.createElement(hse,{role:"button","aria-label":`${r?"Expand":"Collapse"} the tree item`,className:`${st}-expand-icon`,size:"small",onClick:this.onExpand}):s?this.renderSwitcher():v.createElement("span",{className:`${st}-empty-icon`})}renderCheckbox(){const{checked:e,halfChecked:t,eventKey:r}=this.props,s=this.isDisabled();return v.createElement("div",{role:"none",onClick:this.onCheck,onKeyPress:this.handleCheckEnterPress},v.createElement(Aa,{"aria-label":"Toggle the checked state of checkbox",value:r,indeterminate:t,checked:e,disabled:!!s}))}renderIcon(){const{directory:e,treeIcon:t}=this.context,{expanded:r,icon:s,data:i}=this.props;return s||(t?typeof t=="function"?t(this.props):t:e?this.isLeaf()?v.createElement(Pw,{className:`${st}-item-icon`}):r?v.createElement(Xre,{className:`${st}-item-icon`}):v.createElement(Yre,{className:`${st}-item-icon`}):null)}renderEmptyNode(){const{emptyContent:e}=this.props,t=$(st,{[`${st}-empty`]:!0});return v.createElement("ul",{className:t},v.createElement("li",{className:`${st}-label ${st}-label-empty`,"x-semi-prop":"emptyContent"},e))}render(){const e=this.props,{eventKey:t,expanded:r,selected:s,checked:i,halfChecked:a,loading:o,active:l,level:u,empty:d,filtered:h,treeNodeFilterProp:f,display:g,style:b,isEnd:y,showLine:_}=e,m=_me(e,["eventKey","expanded","selected","checked","halfChecked","loading","active","level","empty","filtered","treeNodeFilterProp","display","style","isEnd","showLine"]);if(d)return this.renderEmptyNode();const{multiple:E,draggable:w,renderFullLabel:S,dragOverNodeKey:O,dropPosition:x,labelEllipsis:I}=this.context,T=y[y.length-1],P=this.isDisabled(),A=O===t&&x===0,k=O===t&&x===-1,L=O===t&&x===1,N=$(st,{[`${st}-level-${u+1}`]:!0,[`${st}-fullLabel-level-${u+1}`]:S,[`${st}-collapsed`]:!r,[`${st}-disabled`]:!!P,[`${st}-selected`]:s,[`${st}-active`]:!E&&l,[`${st}-ellipsis`]:I,[`${st}-drag-over`]:!P&&A,[`${st}-draggable`]:!P&&w&&!S,[`${st}-fullLabel-draggable`]:!P&&w&&S,[`${st}-fullLabel-drag-over-gap-top`]:!P&&k&&S,[`${st}-fullLabel-drag-over-gap-bottom`]:!P&&L&&S,[`${st}-tree-node-last-leaf`]:T}),K={onClick:this.onClick,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,className:N,onExpand:this.onExpand,data:m.data,level:u,onCheck:this.onCheck,style:b,expandIcon:this.renderArrow(),checkStatus:{checked:i,halfChecked:a},expandStatus:{expanded:r,loading:o},filtered:h,searchWord:m.keyword},G={onDoubleClick:this.onDoubleClick,onDragStart:w?this.onDragStart:void 0,onDragEnter:w?this.onDragEnter:void 0,onDragOver:w?this.onDragOver:void 0,onDragLeave:w?this.onDragLeave:void 0,onDrop:w?this.onDrop:void 0,onDragEnd:w?this.onDragEnd:void 0,draggable:!P&&w||void 0};if(S){const H=S(Object.assign({},K));return w?v.cloneElement(H,Object.assign({ref:this.setRef},G)):It(b)?H:v.cloneElement(H,{style:Object.assign(Object.assign({},Z(H,["props","style"])),b)})}const z=$(`${st}-label`,{[`${st}-drag-over-gap-top`]:!P&&k,[`${st}-drag-over-gap-bottom`]:!P&&L}),ee=Z(m,["data","children","length"]),V=Re(m.pos)?Number(m.pos.split("-")[u+1])+1:1;return v.createElement("li",Object.assign({className:N,role:"treeitem","aria-disabled":P,"aria-checked":i,"aria-selected":s,"aria-setsize":ee,"aria-posinset":V,"aria-expanded":r,"aria-level":u+1,"data-key":t,onClick:this.onClick,onKeyPress:this.handleliEnterPress,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,ref:this.setRef,style:b},G),v.createElement(yme,{showLine:_,prefixcls:st,level:u,isEnd:y}),this.renderArrow(),v.createElement("span",{className:z},E?this.renderCheckbox():null,this.renderIcon(),v.createElement("span",{className:`${st}-label-text`},this.renderRealLabel())))}}gc.contextType=zT;gc.propTypes={expanded:c.bool,selected:c.bool,checked:c.bool,halfChecked:c.bool,active:c.bool,disabled:c.bool,loaded:c.bool,loading:c.bool,isLeaf:c.bool,pos:c.string,children:c.oneOfType([c.array,c.object]),icon:c.node,directory:c.bool,keyword:c.string,treeNodeFilterProp:c.string,selectedKey:c.string,motionKey:c.oneOfType([c.string,c.arrayOf(c.string)]),isEnd:c.arrayOf(c.bool),showLine:c.bool};gc.defaultProps={selectedKey:"",motionKey:""};var bme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function wme(n){const{open:e,children:t}=n,r=bme(n,["open","children"]),[s,i]=D.useState(n.open);return D.useEffect(()=>{setTimeout(()=>{i(!n.open)},0)},[]),v.createElement(Fo,Object.assign({},r,{isOpen:s}),t)}const MR=n=>n.key;class NF extends D.PureComponent{constructor(e){super(e),this.onMotionEnd=()=>{typeof this.props.onMotionEnd=="function"&&this.props.onMotionEnd(),this.setState({transitionNodes:[]})},this.state={transitionNodes:[]}}static getDerivedStateFromProps(e,t){const{flattenNodes:r=[],motionKeys:s,motionType:i,flattenList:a=[]}=e,o=!Fe(t.cachedMotionKeys,s)||!Fe(t.cachedData.map(b=>b.key),r.map(b=>b.key)),l=[...s];if(!o||!l.length)return null;const u=[],d=[];let h=0,f={};return(i==="hide"&&a?a:r).forEach((b,y)=>{const _=MR(b);s.has(_)?(d.push(b),_===l[0]&&(h=y)):u.push(b)}),u.splice(h,0,d),f={transitionNodes:u,cachedData:r,cachedMotionKeys:s,cachedMotionType:i},f}render(){const{flattenNodes:e,motionType:t,searchTargetIsDeep:r,renderTreeNode:s}=this.props,{transitionNodes:i}=this.state;return(i.length&&!r?i:e).map(l=>{const u=Array.isArray(l);if(u&&!l.length)return null;if(u&&l.length){const d=MR(l[0]);return v.createElement(wme,{open:t==="hide",duration:200,motion:!!t,key:`motion-${d}`,onMotionEnd:this.onMotionEnd},l.map(h=>s(h)))}return s(l)})}}NF.contextType=zT;const MF={PREFIX:`${W}-tree-select`,PREFIX_TREE:`${W}-tree`,PREFIX_OPTION:`${W}-tree-select-option`},Ir={SIZE_SET:["small","large","default"],SEARCH_POSITION_DROPDOWN:"dropdown",SEARCH_POSITION_TRIGGER:"trigger",STATUS:nd};class Eme extends ke{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===P2&&this.getState("isOpen")&&this.close(t)},this._registerClickOutsideHandler=()=>{this._adapter.registerClickOutsideHandler(t=>{this.handlerTriggerBlur(t),this.close(t)})},this.clearInputValue=()=>{const{inputValue:t}=this.getStates();t&&this._adapter.updateInputValue("")},this.onClickSingleTriggerSearchItem=t=>{this.focusInput(!0)}}init(){const{searchAutoFocus:e,searchPosition:t,filterTreeNode:r}=this.getProps(),s=t===Ir.SEARCH_POSITION_TRIGGER&&r,i=e&&s;this._setDropdownWidth();const a=!this._isDisabled();(this.getProp("defaultOpen")||i)&&a&&(this.open(),this._registerClickOutsideHandler()),i&&a&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&Qt(e.width)||e&&Re(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getProp("disabled")||e.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){const{inputValue:e}=this.getStates(),{showFilteredOnly:t}=this.getProps();return!!e&&t}findDataForValue(e){const{value:t,defaultValue:r,keyMaps:s}=this.getProps(),i=Z(s,"value","value"),a=Z(s,"key","key");let o=[];return t?o=Array.isArray(t)?t:[t]:r&&(o=Array.isArray(r)?r:[r]),o.find(l=>l[i]===e||l[a]===e)}constructDataForValue(e){const{treeNodeLabelProp:t,keyMaps:r}=this.getProps(),s=Z(r,"key","key"),i=Z(r,"label",t);return{[s]:e,[i]:e}}getDataForKeyNotInKeyEntities(e){const{onChangeWithObject:t}=this.getProps();return t?this.findDataForValue(e):this.constructDataForValue(e)}getTreeNodeProps(e){const{expandedKeys:t=new Set([]),selectedKeys:r=[],checkedKeys:s=new Set([]),halfCheckedKeys:i=new Set([]),realCheckedKeys:a=new Set([]),keyEntities:o={},filteredKeys:l=new Set([]),inputValue:u="",loadedKeys:d,loadingKeys:h,filteredExpandedKeys:f=new Set([]),disabledKeys:g=new Set([])}=this.getStates(),{treeNodeFilterProp:b,checkRelation:y}=this.getProps(),_=o[e];if(!_)return null;let E=!1,w=!1;y==="related"?(E=s.has(e),w=i.has(e)):y==="unRelated"&&(E=a.has(e),w=!1);const O={eventKey:e,expanded:!!u?f.has(e):t.has(e),selected:r.includes(e),checked:E,halfChecked:w,pos:String(_?_.pos:""),level:_.level,filtered:l.has(e),keyword:u,treeNodeFilterProp:b,loading:h.has(e)&&!d.has(e),loaded:d.has(e)};return this.getProp("disableStrictly")&&g.has(e)&&(O.disabled=!0),O}handleNodeLoad(e,t,r,s){const{loadData:i}=this.getProps(),{key:a}=r;return!i||e.has(a)||t.has(a)?{}:(i(r).then(()=>{const o=new Set(this.getState("loadedKeys")),l=new Set(this.getState("loadingKeys")),u=o.add(a),d=new Set([...l]);d.delete(a),this._adapter.notifyLoad(u,r),this._isLoadControlled()||this._adapter.updateState({loadedKeys:u}),this._adapter.setState({loadingKeys:d}),s()}),{loadingKeys:t.add(a)})}focusInput(e){this._adapter.updateInputFocus(e)}_notifyMultipleChange(e,t){const{keyEntities:r}=this.getStates(),{leafOnly:s,checkRelation:i,keyMaps:a,autoMergeValue:o}=this.getProps();let l=[];i==="related"?l=o?ri(e,r,s,!0):e:i==="unRelated"&&(l=e);const u=l.map(d=>r[d]&&r[d].key===d?r[d].data:this.getDataForKeyNotInKeyEntities(d));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(u,t);else{const d=tv(u,a);this._adapter.notifyChange(d,u,t)}}_notifyChange(e,t){const{keyEntities:r}=this.getStates(),{keyMaps:s}=this.getProps();if(this._isMultiple()&&Array.isArray(e))this._notifyMultipleChange(e,t);else{const i=bt(e)?e:r[e].data,a=bt(e)?e:tv(i,s);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(i,t):this._adapter.notifyChange(a,i,t)}}_notifyFocus(e){this._adapter.notifyFocus(e)}handleTriggerFocus(e){this._adapter.updateIsFocus(!0),this._notifyFocus(e),this._registerClickOutsideHandler()}_notifyBlur(e){this._adapter.notifyBlur(e)}handlerTriggerBlur(e){this.getState("isFocus")&&(this._adapter.updateIsFocus(!1),this._notifyBlur(e),this._adapter.unregisterClickOutsideHandler())}toggleHoverState(e){this._adapter.toggleHovering(e)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(e){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(e){const t=this._isDisabled(),{isOpen:r,inputValue:s,isFocus:i}=this.getStates(),{searchPosition:a,clickTriggerToHide:o}=this.getProps();if(!t)if(i||this.handleTriggerFocus(e),r){if(a==="trigger"&&s)return;o&&this.close(e)}else this.open()}handleSelectionEnterPress(e){Ks(e)&&this.handleClick(e)}handleClear(e){const{searchPosition:t,filterTreeNode:r}=this.getProps(),{inputValue:s,selectedKeys:i}=this.getStates(),a=this._isMultiple(),o=this._isControlledComponent(),l=a?[]:void 0;this._notifyChange(l,e),o||(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),r&&t===Ir.SEARCH_POSITION_TRIGGER&&s!==""&&(It(i)?this.handleInputChange(""):this.clearInput()),this._adapter.notifyClear(e)}handleClearEnterPress(e){Ks(e)&&this.handleClear(e)}removeTag(e){const{disableStrictly:t,checkRelation:r,keyMaps:s}=this.getProps(),{keyEntities:i,disabledKeys:a,realCheckedKeys:o}=this.getStates(),l=i[e]&&i[e].key===e?i[e].data:this.getDataForKeyNotInKeyEntities(e),u=Z(s,"disabled","disabled");if(!(l[u]||t&&a.has(e))){if(r==="unRelated"){const d=new Set(o);d.delete(e),this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:d}),this._adapter.rePositionDropdown())}else if(r==="related"){const{checkedKeys:d,halfCheckedKeys:h}=this.calcCheckedKeys(e,!1);this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:d,halfCheckedKeys:h}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(e,!1,l),this._adapter.rePositionDropdown()}}clearInput(){const{flattenNodes:e,expandedKeys:t,selectedKeys:r,keyEntities:s,treeData:i}=this.getStates(),{keyMaps:a}=this.getProps(),o=new Set(t);this._isExpandControlled();const l=Ui(r,s,!1);l.forEach(d=>o.add(d));const u=io(i,o,a);this._adapter.updateState({expandedKeys:o,flattenNodes:u,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(l),filteredShownKeys:new Set([])}),this._adapter.rePositionDropdown()}handleInputChange(e){this._adapter.updateInputValue(e);const{flattenNodes:t,expandedKeys:r,selectedKeys:s,keyEntities:i,treeData:a}=this.getStates(),{showFilteredOnly:o,filterTreeNode:l,treeNodeFilterProp:u,keyMaps:d}=this.getProps(),h=u!=="label"?u:Z(d,"label","label"),f=new Set(r);let g=[],b=[],y=[],_=[],m=new Set([]);if(!e)y=Ui(s,i,!1),y.forEach(w=>f.add(w)),_=io(a,f,d);else{const w=Object.values(i).filter(O=>{const{data:x}=O;return Z2(e,x,l,h)});g=w.map(O=>O.data),b=w.map(O=>O.key),y=Ui(b,i,!1);const S=ji(b,i,!0);m=new Set([...S,...y]),_=io(a,new Set(y),d,o&&m)}const E=new Set(y);this._adapter.notifySearch(e,Array.from(E),g),this._adapter.updateState({expandedKeys:f,flattenNodes:_,motionKeys:new Set([]),filteredKeys:new Set(b),filteredExpandedKeys:E,filteredShownKeys:m}),this._adapter.rePositionDropdown()}handleNodeSelect(e,t){this._isDisabled(t)||(this._isMultiple()?this.handleMultipleSelect(e,t):this.handleSingleSelect(e,t))}handleSingleSelect(e,t){let r=[...this.getState("selectedKeys")];const{clickToHide:s}=this.getProps(),{selected:i,eventKey:a,data:o}=t;this._adapter.notifySelect(a,!0,o),!r.includes(a)&&!i&&(r=[a],this._notifyChange(a,e),this._isControlledComponent()||this._adapter.updateState({selectedKeys:r})),s&&(this._isSelectToClose()||!o.children)&&(this.close(e),this.handlerTriggerBlur(e))}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?J2(e,r,s,i):e$(e,r,s,i)}handleMultipleSelect(e,t){const{searchPosition:r,disableStrictly:s,checkRelation:i}=this.getProps(),{inputValue:a,realCheckedKeys:o}=this.getStates(),{checked:l,eventKey:u,data:d}=t;if(i==="related"){const h=s?this.calcCheckedStatus(!l,u):!l,{checkedKeys:f,halfCheckedKeys:g}=s?this.calcNonDisabledCheckedKeys(u,h):this.calcCheckedKeys(u,h);this._adapter.notifySelect(u,h,d),this._notifyChange([...f],e),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:f,halfCheckedKeys:g}),this._adapter.rePositionDropdown())}else if(i==="unRelated"){const h=new Set(o);let f;o.has(u)?(h.delete(u),f=!1):(h.add(u),f=!0),this._adapter.notifySelect(u,f,d),this._notifyChange([...h],e),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:h}),this._adapter.rePositionDropdown())}r===Ir.SEARCH_POSITION_TRIGGER&&a!==""&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),a=ri(ji([e],r,!1),r,!0);if(!a.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=a.filter(d=>!s.has(d)),u=t?[...l,...i]:ev(ri([...i],r,!0,!0),l);return qf(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),a=ri(ji([t],s,!1),s,!0);return a.some(d=>i.has(d))?!a.filter(d=>!i.has(d)).every(d=>r.has(d)):e}handleNodeExpandInSearch(e,t){const{treeData:r,filteredShownKeys:s,keyEntities:i}=this.getStates(),{keyMaps:a}=this.getProps(),o=this._showFilteredOnly(),l=new Set(this.getState("filteredExpandedKeys"));let u="show";const{eventKey:d,expanded:h,data:f}=t;if(h?l.has(d)&&(l.delete(d),u="hide"):l.add(d),this._adapter.cacheFlattenNodes(u==="hide"&&this._isAnimated()),!this._isExpandControlled()){const g=io(r,l,a,o&&s),b=this._isAnimated()?Ix(d,l,i):[],y={filteredExpandedKeys:l,flattenNodes:g,motionKeys:new Set(b),motionType:u};this._adapter.updateState(y)}this._adapter.notifyExpand(l,{expanded:!h,node:f})}handleNodeExpand(e,t){const{loadData:r,keyMaps:s}=this.getProps(),{inputValue:i,keyEntities:a}=this.getStates(),o=!!i;if(!r&&(!t.children||!t.children.length))return;const l=this._isExpandControlled();if(o){this.handleNodeExpandInSearch(e,t);return}const{treeData:u}=this.getStates(),d=new Set(this.getState("expandedKeys"));let h="show";const{eventKey:f,expanded:g,data:b}=t;if(g?d.has(f)&&(d.delete(f),h="hide"):d.add(f),this._adapter.cacheFlattenNodes(h==="hide"&&this._isAnimated()),!l){const y=io(u,d,s),_=this._isAnimated()?Ix(f,d,a):[],m={expandedKeys:d,flattenNodes:y,motionKeys:new Set(_),motionType:h};this._adapter.updateState(m)}this._adapter.notifyExpand(d,{expanded:!g,node:b})}getRenderTextInSingle(){const{renderSelectedItem:e,treeNodeLabelProp:t,keyMaps:r}=this.getProps(),{selectedKeys:s,keyEntities:i}=this.getStates(),a=Z(r,"label",t),o=De(e)?e:d=>Z(d,a,null);let l;if(s.length){const d=s[0];l=i[d]&&i[d].key===d?i[d].data:this.getDataForKeyNotInKeyEntities(d)}return l?o(l):null}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(e,t){this._adapter.updateLoadKeys(e,t)}handlePopoverVisibleChange(e){const{filterTreeNode:t,searchAutoFocus:r,searchPosition:s}=this.getProps();e===!1&&t&&this.clearInputValue(),t&&s===Ir.SEARCH_POSITION_DROPDOWN&&e&&r&&this.focusInput(!0)}handleAfterClose(){const{filterTreeNode:e}=this.getProps();e&&this.clearInput()}}var Sme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const $e=MF.PREFIX,rl=MF.PREFIX_TREE,Cme=0;class By extends Ae{constructor(e){super(e),this.renderSuffix=()=>{const{suffix:t}=this.props,r=$({[`${$e}-suffix`]:!0,[`${$e}-suffix-text`]:t&&Re(t),[`${$e}-suffix-icon`]:Or(t)});return v.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,a=$({[`${$e}-prefix`]:!0,[`${$e}-inset-label`]:r,[`${$e}-prefix-text`]:i&&Re(i),[`${$e}-prefix-icon`]:Or(i)});return v.createElement("div",{className:a,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderContent=()=>{const{dropdownMinWidth:t}=this.state,{dropdownStyle:r,dropdownClassName:s}=this.props,i=Object.assign({minWidth:t},r),a=$(s,`${$e}-popover`);return v.createElement("div",{className:a,style:i,onKeyDown:this.foundation.handleKeyDown},this.renderTree())},this.removeTag=t=>{this.foundation.removeTag(t)},this.handleClick=t=>{this.foundation.handleClick(t)},this.getDataForKeyNotInKeyEntities=t=>this.foundation.getDataForKeyNotInKeyEntities(t),this.handleSelectionEnterPress=t=>{this.foundation.handleSelectionEnterPress(t)},this.hasValue=()=>{const{multiple:t,checkRelation:r}=this.props,{realCheckedKeys:s,checkedKeys:i,selectedKeys:a}=this.state;let o=!1;return t?r==="related"?o=!!i.size:r==="unRelated"&&(o=!!s.size):o=!!a.length,o},this.showClearBtn=()=>{const{showClear:t,disabled:r,searchPosition:s}=this.props,{inputValue:i,isOpen:a,isHovering:o}=this.state,l=s===Ir.SEARCH_POSITION_TRIGGER&&i;return t&&(this.hasValue()||l)&&!r&&(a||o)},this.renderTagList=t=>{const{keyEntities:r,disabledKeys:s}=this.state,{treeNodeLabelProp:i,leafOnly:a,disabled:o,disableStrictly:l,size:u,renderSelectedItem:d,keyMaps:h}=this.props,f=Z(h,"label",i),g=De(d)?d:y=>({isRenderInTag:!0,content:Z(y,f,null)}),b=[];return t.forEach((y,_)=>{const m=r[y]&&r[y].key===y?r[y].data:this.getDataForKeyNotInKeyEntities(y),E=(I,T)=>{T&&typeof T.preventDefault=="function"&&T.preventDefault(),this.removeTag(y)},{content:w,isRenderInTag:S}=m?g(m,{index:_,onClose:E}):{};if(Vl(w)||bt(w))return;const x={closable:!(o||m.disabled||l&&s.has(m.key)),color:"white",visible:!0,onClose:E,key:`tag-${y}-${_}`,size:u==="small"?"small":"large"};S?b.push(v.createElement(Gr,Object.assign({},x),w)):b.push(w)}),b},this.renderSingleTriggerSearchItem=()=>{const{placeholder:t,disabled:r}=this.props,{inputTriggerFocus:s}=this.state,i=this.foundation.getRenderTextInSingle(),a=$(`${$e}-selection-TriggerSearchItem`,{[`${$e}-selection-TriggerSearchItem-placeholder`]:(s||!i)&&!r,[`${$e}-selection-TriggerSearchItem-disabled`]:r});return v.createElement("span",{className:a,onClick:this.foundation.onClickSingleTriggerSearchItem},i||t)},this.renderSingleTriggerSearch=()=>{const{inputValue:t}=this.state;return v.createElement(v.Fragment,null,this.renderInput(),!t&&this.renderSingleTriggerSearchItem())},this.renderSelectContent=t=>{const{multiple:r,placeholder:s,maxTagCount:i,searchPosition:a,filterTreeNode:o,showRestTagsPopover:l,restTagsPopoverProps:u}=this.props;if(o&&a===Ir.SEARCH_POSITION_TRIGGER)return r?this.renderTagInput(t):this.renderSingleTriggerSearch();if(!r||!this.hasValue()){const f=this.foundation.getRenderTextInSingle(),g=$(`${$e}-selection-content`,{[`${$e}-selection-placeholder`]:!f});return v.createElement("span",{className:g},f||s)}const h=this.renderTagList(t);return v.createElement(uf,{maxTagCount:i,tagList:h,size:"large",mode:"custom",showPopover:l,popoverProps:u})},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear(t)},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.handleMouseOver=t=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=t=>{this.foundation.toggleHoverState(!1)},this.search=t=>{const{isOpen:r}=this.state;r||this.foundation.open(),this.foundation.handleInputChange(t)},this.close=()=>{this.foundation.close(null)},this.renderArrow=()=>{const t=this.showClearBtn(),{arrowIcon:r}=this.props;return t?null:r?v.createElement("div",{className:$(`${$e}-arrow`),"x-semi-prop":"arrowIcon"},r):null},this.renderClearBtn=()=>{const t=this.showClearBtn(),{clearIcon:r}=this.props,s=$(`${$e}-clearbtn`);return t?v.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TreeSelect value",className:s,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress},r||v.createElement(Yo,null)):null},this.renderSelection=()=>{const t=this.props,{disabled:r,multiple:s,filterTreeNode:i,validateStatus:a,prefix:o,suffix:l,style:u,size:d,insetLabel:h,className:f,placeholder:g,showClear:b,leafOnly:y,searchPosition:_,triggerRender:m,borderless:E,autoMergeValue:w,checkRelation:S}=t,O=Sme(t,["disabled","multiple","filterTreeNode","validateStatus","prefix","suffix","style","size","insetLabel","className","placeholder","showClear","leafOnly","searchPosition","triggerRender","borderless","autoMergeValue","checkRelation"]),{inputValue:x,selectedKeys:I,checkedKeys:T,keyEntities:P,isFocus:A,realCheckedKeys:k}=this.state,L=!!i,N=typeof m=="function",K=b?{onMouseEnter:ne=>this.handleMouseOver(ne),onMouseLeave:ne=>this.handleMouseLeave(ne)}:{},G=_===Ir.SEARCH_POSITION_TRIGGER&&L,z=G&&It(T),ee=G&&!It(T),V=N?$(f):$($e,{[`${$e}-borderless`]:E,[`${$e}-focus`]:A,[`${$e}-disabled`]:r,[`${$e}-single`]:!s,[`${$e}-multiple`]:s,[`${$e}-multiple-tagInput-empty`]:s&&z,[`${$e}-multiple-tagInput-notEmpty`]:s&&ee,[`${$e}-filterable`]:L,[`${$e}-error`]:a==="error",[`${$e}-warning`]:a==="warning",[`${$e}-small`]:d==="small",[`${$e}-large`]:d==="large",[`${$e}-with-prefix`]:o||h,[`${$e}-with-suffix`]:l,[`${$e}-with-suffix`]:l},f);let H,U=[];s?w?S==="related"?U=ri([...T],P,y,!0):S==="unRelated"&&(U=[...k]):U=[...T]:U=I,N?H=v.createElement(cu,{inputValue:x,value:U.map(ne=>Z(P,[ne,"data"])),disabled:r,placeholder:g,onClear:this.handleClear,componentName:"TreeSelect",triggerRender:m,componentProps:Object.assign({},this.props),onSearch:this.search,onRemove:this.removeTag}):H=[v.createElement(D.Fragment,{key:"prefix"},o||h?this.renderPrefix():null),v.createElement(D.Fragment,{key:"selection"},v.createElement("div",{className:`${$e}-selection`},this.renderSelectContent(U))),v.createElement(D.Fragment,{key:"suffix"},l?this.renderSuffix():null),v.createElement(D.Fragment,{key:"clearBtn"},b||G&&x?this.renderClearBtn():null),v.createElement(D.Fragment,{key:"arrow"},this.renderArrow())];const ae=r?null:0;return v.createElement("div",Object.assign({role:"combobox","aria-disabled":r,"aria-haspopup":"tree",tabIndex:ae,className:V,style:u,ref:this.triggerRef,onClick:this.handleClick,onKeyPress:this.handleSelectionEnterPress,onKeyDown:this.foundation.handleKeyDown,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},K,this.getDataAttr(O)),H)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:a,leafOnly:o,disabled:l,disableStrictly:u,renderSelectedItem:d,treeNodeLabelProp:h,keyMaps:f}=this.props,g=Z(f,"label",h),y=ri([t],s,o,!0).map(P=>s[t]&&s[t].key===t?s[t].data:this.getDataForKeyNotInKeyEntities(t)),_=tv(y,f),m=$(`${$e}-selection-tag`,{[`${$e}-selection-tag-disabled`]:l}),E=!It(y)&&!It(y[0]),w=u&&E&&i.has(y[0].key),S=E&&!y[0].disabled&&!l&&!w,O=(P,A)=>{A.preventDefault(),this.removeTag(t)},x={size:a==="small"?"small":"large",key:`tag-${_}-${r}`,color:"white",className:m,closable:S,onClose:O},I=y[0],T=De(d)?d:P=>({isRenderInTag:!0,content:Z(P,g,null)});if(De(T)){const{content:P,isRenderInTag:A}=I?T(I,{index:r,onClose:O}):{};return A?v.createElement(Gr,Object.assign({},x),P):P}return v.createElement(Gr,Object.assign({},x),_)},this.renderTagInput=t=>{const{disabled:r,size:s,searchAutoFocus:i,placeholder:a,maxTagCount:o,showRestTagsPopover:l,restTagsPopoverProps:u,searchPosition:d,filterTreeNode:h,preventScroll:f}=this.props,{inputValue:g}=this.state,b=h&&d===Ir.SEARCH_POSITION_TRIGGER?i:void 0;return v.createElement(tp,{maxTagCount:o,disabled:r,onInputChange:y=>this.search(y),ref:this.tagInputRef,placeholder:a,value:t,inputValue:g,size:s,showRestTagsPopover:l,restTagsPopoverProps:u,autoFocus:b,renderTagItem:(y,_)=>this.renderTagItem(y,_),onRemove:y=>this.removeTag(y),expandRestTagsOnClick:!1,preventScroll:f})},this.renderInput=()=>{const{searchPlaceholder:t,searchRender:r,showSearchClear:s,searchPosition:i,searchAutoFocus:a,multiple:o,disabled:l,preventScroll:u}=this.props,{inputValue:d,inputTriggerFocus:h}=this.state,f=i===Ir.SEARCH_POSITION_DROPDOWN,g=$({[`${rl}-input`]:f,[`${$e}-inputTrigger`]:!f}),b={value:d,className:g,preventScroll:u,onChange:S=>this.search(S)},m=f?{showClear:s,prefix:v.createElement(O2,null)}:{autofocus:a,onFocus:S=>this.foundation.handleInputTriggerFocus(),onBlur:S=>this.foundation.handleInputTriggerBlur(),disabled:l},E=$({[`${rl}-search-wrapper`]:f,[`${$e}-triggerSingleSearch-wrapper`]:!f&&!o,[`${$e}-triggerSingleSearch-upper`]:!f&&h}),w=typeof r=="function"||typeof r=="boolean";return w&&!r?null:v.createElement("div",{className:E},v.createElement(xn,{componentName:"TreeSelect"},S=>{const O=f?t||S.searchPlaceholder:"";return w?r(Object.assign(Object.assign(Object.assign({},m),b),{placeholder:O})):v.createElement(Hn,Object.assign({"aria-label":"Filter TreeSelect item",ref:this.inputRef,placeholder:O},b,m))}))},this.renderEmpty=()=>{const{emptyContent:t}=this.props;return t===null?null:t?v.createElement(gc,{empty:!0,emptyContent:this.props.emptyContent}):v.createElement(xn,{componentName:"Tree"},r=>v.createElement(gc,{empty:!0,emptyContent:r.emptyText}))},this.onNodeLoad=t=>new Promise(r=>this.foundation.setLoadKeys(t,r)),this.onNodeSelect=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeCheck=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeExpand=(t,r)=>{this.foundation.handleNodeExpand(t,r)},this.getTreeNodeRequiredProps=()=>{const{expandedKeys:t,selectedKeys:r,checkedKeys:s,halfCheckedKeys:i,keyEntities:a,filteredKeys:o}=this.state;return{expandedKeys:t||new Set,selectedKeys:r||[],checkedKeys:s||new Set,halfCheckedKeys:i||new Set,filteredKeys:o||new Set,keyEntities:a}},this.getTreeNodeKey=t=>{const{data:r}=t,{key:s}=r;return s},this.handlePopoverVisibleChange=t=>{this.foundation.handlePopoverVisibleChange(t)},this.afterClose=()=>{this.foundation.handleAfterClose()},this.renderTreeNode=(t,r,s)=>{const{data:i,key:a}=t,o=this.foundation.getTreeNodeProps(a),{showLine:l}=this.props;if(!o)return null;const u=jl(t,["key","label","disabled","isLeaf","icon","isEnd"]),{keyMaps:d}=this.props,h=i[Z(d,"children","children")];return!bt(h)&&(u.children=h),v.createElement(gc,Object.assign({},o,i,u,{data:i,style:s,showLine:l}))},this.itemKey=(t,r)=>{const{visibleOptions:s}=r;return s[t].key},this.renderNodeList=()=>{const{flattenNodes:t,cachedFlattenNodes:r,motionKeys:s,motionType:i,filteredKeys:a}=this.state,{direction:o}=this.context,{virtualize:l,motionExpand:u}=this.props,d="expandedKeys"in this.props;if(!l||It(l))return v.createElement(NF,{flattenNodes:t,flattenList:r,motionKeys:u?s:new Set([]),motionType:i,searchTargetIsDeep:d&&u&&It(s)&&!It(a),onMotionEnd:this.onMotionEnd,renderTreeNode:this.renderTreeNode});const h={visibleOptions:t,renderOption:this.renderTreeNode};return v.createElement(HT,{defaultHeight:l.height,defaultWidth:l.width},f=>{let{height:g,width:b}=f;return v.createElement(lT,{itemCount:t.length,itemSize:l.itemSize,height:g,width:b,itemKey:this.itemKey,itemData:h,className:`${rl}-virtual-list`,style:{direction:o}},SF)})},this.renderTree=()=>{const{keyEntities:t,motionKeys:r,motionType:s,inputValue:i,filteredKeys:a,flattenNodes:o,checkedKeys:l,realCheckedKeys:u}=this.state,{loadData:d,filterTreeNode:h,disabled:f,multiple:g,showFilteredOnly:b,motionExpand:y,outerBottomSlot:_,outerTopSlot:m,expandAction:E,labelEllipsis:w,virtualize:S,optionListStyle:O,searchPosition:x,renderLabel:I,renderFullLabel:T,checkRelation:P,emptyContent:A}=this.props,k=$(`${rl}-wrapper`),L=!!i&&!a.size,N=It(o)||b&&L,K=x===Ir.SEARCH_POSITION_DROPDOWN,G=$(`${rl}-option-list ${rl}-option-list-block`,{[`${rl}-option-list-hidden`]:A===null&&N});return v.createElement(zT.Provider,{value:{loadData:d,treeDisabled:f,motion:y,motionKeys:r,motionType:s,expandAction:E,filterTreeNode:h,keyEntities:t,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeRightClick:F,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,renderTreeNode:this.renderTreeNode,multiple:g,showFilteredOnly:b,isSearching:!!i,renderLabel:I,renderFullLabel:T,labelEllipsis:typeof w>"u"?S:w}},v.createElement("div",{className:k},m,!m&&h&&K&&this.renderInput(),v.createElement("div",{className:G,role:"tree","aria-multiselectable":!!g,style:O},N?this.renderEmpty():g?v.createElement(Xf,{value:Array.from(P==="related"?l:u)},this.renderNodeList()):this.renderNodeList()),_))},this.state={inputTriggerFocus:!1,isOpen:!1,isFocus:!1,rePosKey:Cme,dropdownMinWidth:null,inputValue:"",keyEntities:{},treeData:[],flattenNodes:[],cachedFlattenNodes:void 0,selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([]),disabledKeys:new Set,motionKeys:new Set([]),motionType:"hide",expandedKeys:new Set(e.expandedKeys),filteredKeys:new Set,filteredExpandedKeys:new Set,filteredShownKeys:new Set,prevProps:null,isHovering:!1,cachedKeyValuePairs:{},loadedKeys:new Set,loadingKeys:new Set},this.inputRef=v.createRef(),this.tagInputRef=v.createRef(),this.triggerRef=v.createRef(),this.optionsRef=v.createRef(),this.clickOutsideHandler=null,this.foundation=new Eme(this.adapter),this.treeSelectID=Math.random().toString(36).slice(2),this.onMotionEnd=()=>{this.adapter.rePositionDropdown()}}static getDerivedStateFromProps(e,t){const{prevProps:r,rePosKey:s}=t,{keyMaps:i}=e,a=m=>!r&&m in e||r&&!Fe(r[m],e[m]);let o;const l=e.onChangeWithObject;let u=t.keyEntities||{},d=t.cachedKeyValuePairs||{};const h={prevProps:e},f=a("treeData"),g=a("expandedKeys"),b=!!(e.filterTreeNode&&t.inputValue&&t.inputValue.length);if(f){o=e.treeData,h.treeData=o;const m=Noe(o,i);h.keyEntities=Object.assign({},m.keyEntities),u=h.keyEntities,h.cachedKeyValuePairs=Object.assign({},m.valueEntities),d=h.cachedKeyValuePairs}o&&e.motion&&!Fe(Object.keys(h.keyEntities),Object.keys(t.keyEntities))&&r&&e.motion&&(h.motionKeys=new Set([]),h.motionType=null);const y=f&&e.expandAll;if(b){let m;if(o&&(m=$oe({treeData:o,inputValue:t.inputValue,filterTreeNode:e.filterTreeNode,filterProps:e.treeNodeFilterProp,showFilteredOnly:e.showFilteredOnly,keyEntities:h.keyEntities,prevExpandedKeys:[...t.filteredExpandedKeys],keyMaps:i}),h.flattenNodes=m.flattenNodes,h.motionKeys=new Set([]),h.filteredKeys=m.filteredKeys,h.filteredShownKeys=m.filteredShownKeys,h.filteredExpandedKeys=m.filteredExpandedKeys),e.expandedKeys){if(h.filteredExpandedKeys=wb(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion){const E=t?t.filteredExpandedKeys:new Set([]);if(!o){const w=Tx(E,h.filteredExpandedKeys,u);let{motionKeys:S}=w;const{motionType:O}=w;e.showFilteredOnly&&(S=S.filter(x=>t.filteredShownKeys.has(x))),O==="hide"&&(h.cachedFlattenNodes=Ub(t.flattenNodes)),h.motionKeys=new Set(S),h.motionType=O}}h.flattenNodes=io(o||t.treeData,h.filteredExpandedKeys||t.filteredExpandedKeys,i,e.showFilteredOnly&&t.filteredShownKeys)}}else{if(g||r&&a("autoExpandParent")){if(h.expandedKeys=wb(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion&&!o){const{motionKeys:m,motionType:E}=Tx(t.expandedKeys,h.expandedKeys,u);h.motionKeys=new Set(m),h.motionType=E,E==="hide"&&(h.cachedFlattenNodes=Ub(t.flattenNodes))}}else!r&&(e.defaultExpandAll||e.expandAll)||y?h.expandedKeys=new Set(Object.keys(u)):!r&&e.defaultExpandedKeys?h.expandedKeys=wb(e.defaultExpandedKeys,u):!r&&e.defaultValue?h.expandedKeys=Cx(qa(e.defaultValue,l,i),u,e.multiple,d):!r&&e.value&&(h.expandedKeys=Cx(qa(e.value,l,i),u,e.multiple,d));if(h.expandedKeys||delete h.expandedKeys,o||h.expandedKeys){const m=io(o||t.treeData,h.expandedKeys||t.expandedKeys,i);h.flattenNodes=m}}const _=e.multiple;if(!_)a("value")?h.selectedKeys=dl(qa(e.value,l,i),d,_):!r&&e.defaultValue?h.selectedKeys=dl(qa(e.defaultValue,l,i),d,_):o&&(e.value?h.selectedKeys=dl(qa(e.value,l,i)||"",d,_):h.selectedKeys=Ox(t.selectedKeys,u));else{let m;if(a("value")?m=dl(qa(e.value,l,i),d,_):!r&&e.defaultValue?m=dl(qa(e.defaultValue,l,i),d,_):o&&(e.value?m=dl(qa(e.value,l,i)||[],d,_):m=Ox(e.checkRelation==="related"?t.checkedKeys:t.realCheckedKeys,u)),m){if(e.checkRelation==="unRelated")h.realCheckedKeys=new Set(m);else if(e.checkRelation==="related"){const{checkedKeys:E,halfCheckedKeys:w}=qf(m,u);h.checkedKeys=E,h.halfCheckedKeys=w}}}return a("loadedKeys")&&(h.loadedKeys=new Set(e.loadedKeys)),(f||a("value"))&&(h.rePosKey=s+1),o&&e.disableStrictly&&e.checkRelation==="related"&&(h.disabledKeys=t$(u,i)),h}get adapter(){var e=this;const t={updateInputValue:i=>{this.setState({inputValue:i})}},r={registerClickOutsideHandler:i=>{this.adapter.unregisterClickOutsideHandler();const a=o=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=cs.findDOMNode(l),h=o.target,f=o.composedPath&&o.composedPath()||[h];d&&(!d.contains(h)||!d.contains(h.parentNode))&&u&&!u.contains(h)&&!(f.includes(u)||f.includes(d))&&i(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{rePosKey:i}=this.state;i=i+1,this.setState({rePosKey:i})}},s={updateState:i=>{this.setState(Object.assign({},i))},notifySelect:(i,a,o)=>{this.props.onSelect&&this.props.onSelect(i,a,o)},notifySearch:(i,a,o)=>{this.props.onSearch&&this.props.onSearch(i,a,o)},cacheFlattenNodes:i=>{this.setState({cachedFlattenNodes:i?Ub(this.state.flattenNodes):void 0})},notifyLoad:(i,a)=>{const{onLoad:o}=this.props;De(o)&&o(i,a)},notifyClear:i=>{this.props.onClear&&this.props.onClear(i)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{updateLoadKeys:(i,a)=>{this.setState(o=>{let{loadedKeys:l,loadingKeys:u}=o;return this.foundation.handleNodeLoad(l,u,i,a)})},updateState:i=>{this.setState(Object.assign({},i))},openMenu:()=>{this.setState({isOpen:!0},()=>{this.props.onVisibleChange(!0)})},closeMenu:i=>{this.setState({isOpen:!1},()=>{i&&i(),this.props.onVisibleChange(!1)})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},notifyChange:(i,a,o)=>{this.props.onChange&&this.props.onChange(i,a,o)},notifyChangeWithObject:(i,a)=>{this.props.onChange&&this.props.onChange(i,a)},notifyExpand:(i,a)=>{let{expanded:o,node:l}=a;this.props.onExpand&&this.props.onExpand([...i],{expanded:o,node:l}),o&&this.props.loadData&&this.onNodeLoad(l)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},toggleHovering:i=>{this.setState({isHovering:i})},updateInputFocus:i=>{if(i){if(this.inputRef&&this.inputRef.current){const{preventScroll:a}=this.props;this.inputRef.current.focus({preventScroll:a})}this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.focus()}else this.inputRef&&this.inputRef.current&&this.inputRef.current.blur(),this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.blur()},updateIsFocus:i=>{this.setState({isFocus:i})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.renderContent(),{motion:t,zIndex:r,mouseLeaveDelay:s,mouseEnterDelay:i,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l,dropdownMargin:u,position:d}=this.props,{isOpen:h,rePosKey:f}=this.state,g=this.renderSelection(),b=d||"bottomLeft";return v.createElement(br,{stopPropagation:o,getPopupContainer:l,zIndex:r,motion:t,margin:u,ref:this.optionsRef,content:e,visible:h,trigger:"custom",rePosKey:f,position:b,autoAdjustOverflow:a,mouseLeaveDelay:s,mouseEnterDelay:i,onVisibleChange:this.handlePopoverVisibleChange,afterClose:this.afterClose},g)}}By.contextType=Xr;By.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,loadedKeys:c.arrayOf(c.string),loadData:c.func,onLoad:c.func,arrowIcon:c.node,clearIcon:c.node,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.array,c.object]),defaultExpandAll:c.bool,defaultExpandedKeys:c.array,expandAll:c.bool,disabled:c.bool,disableStrictly:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),multiple:c.bool,searchPlaceholder:c.string,searchAutoFocus:c.bool,virtualize:c.object,treeNodeFilterProp:c.string,onChange:c.func,onClear:c.func,onSearch:c.func,onSelect:c.func,onExpand:c.func,onChangeWithObject:c.bool,onBlur:c.func,onFocus:c.func,value:c.oneOfType([c.string,c.number,c.array,c.object]),expandedKeys:c.array,autoExpandParent:c.bool,showClear:c.bool,showSearchClear:c.bool,autoAdjustOverflow:c.bool,showFilteredOnly:c.bool,showLine:c.bool,motionExpand:c.bool,emptyContent:c.node,keyMaps:c.object,leafOnly:c.bool,treeData:c.arrayOf(c.shape({key:c.string,value:c.oneOfType([c.string,c.number]),label:c.any})),dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),motion:c.bool,placeholder:c.string,maxTagCount:c.number,size:c.oneOf(Ir.SIZE_SET),className:c.string,style:c.object,treeNodeLabelProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,getPopupContainer:c.func,dropdownMatchSelectWidth:c.bool,validateStatus:c.oneOf(Ir.STATUS),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),outerBottomSlot:c.node,outerTopSlot:c.node,onVisibleChange:c.func,expandAction:c.oneOf(["click","doubleClick",!1]),searchPosition:c.oneOf([Ir.SEARCH_POSITION_DROPDOWN,Ir.SEARCH_POSITION_TRIGGER]),clickToHide:c.bool,renderLabel:c.func,renderFullLabel:c.func,labelEllipsis:c.bool,optionListStyle:c.object,searchRender:c.oneOfType([c.func,c.bool]),renderSelectedItem:c.func,checkRelation:c.string,"aria-label":c.string,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,preventScroll:c.bool,clickTriggerToHide:c.bool,autoMergeValue:c.bool};By.defaultProps={borderless:!1,searchPosition:Ir.SEARCH_POSITION_DROPDOWN,arrowIcon:v.createElement(yy,null),autoExpandParent:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,motionExpand:!0,expandAll:!1,zIndex:gs.DEFAULT_Z_INDEX,disableStrictly:!1,multiple:!1,filterTreeNode:!1,size:"default",treeNodeFilterProp:"label",onChangeWithObject:!1,treeNodeLabelProp:"label",dropdownMatchSelectWidth:!0,defaultOpen:!1,showSearchClear:!0,showClear:!1,onVisibleChange:F,expandAction:!1,clickToHide:!0,searchAutoFocus:!1,checkRelation:"related","aria-label":"TreeSelect",showRestTagsPopover:!1,restTagsPopoverProps:{},clickTriggerToHide:!0,autoMergeValue:!0};const LR=`${W}-upload`,$R="picture",FR="list",Tme=.95,LF={PREFIX:LR,LIST:`${LR}-list`},VR="auto",jR="custom",We={FILE_STATUS_UPLOADING:"uploading",FILE_STATUS_SUCCESS:"success",FILE_STATUS_UPLOAD_FAIL:"uploadFail",FILE_STATUS_VALIDATING:"validating",FILE_STATUS_VALID_FAIL:"validateFail",FILE_STATUS_WAIT_UPLOAD:"wait",FILE_LIST_PIC:$R,FILE_LIST_DEFAULT:FR,LIST_TYPE:[$R,FR],imageTypes:["image","webp","png","svg","gif","jpg","jpeg","bmp","dpg"],DRAG_AREA_DEFAULT:"default",DRAG_AREA_LEGAL:"legal",DRAG_AREA_ILLEGAL:"illegal",TRIGGER_AUTO:VR,TRIGGER_CUSTOM:jR,UPLOAD_TRIGGER:[VR,jR],VALIDATE_STATUS:nd,PROMPT_POSITION:["left","right","bottom"]},Ime={PROGRESS_COEFFICIENT:Tme};var $E=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const rc=1024,Bb=1048576;function FE(n){if(n<rc)return`${(n/rc).toFixed(2)}KB`;if(n>=rc&&n<Bb)return`${(n/rc).toFixed(1)}KB`;if(n>=Bb)return`${(n/Bb).toFixed(1)}MB`}function Ome(n,e){return n.indexOf(e,n.length-e.length)!==-1}function Pme(n){return $E(this,void 0,void 0,function*(){return new Promise((e,t)=>{const r=n.createReader();let s=[];function i(){r.readEntries(a=>{const o=Array.prototype.slice.apply(a);s=s.concat(o),!o.length?e(s):i()},t)}i()})})}function xme(n){return $E(this,void 0,void 0,function*(){const e=[],t=(r,s)=>$E(this,void 0,void 0,function*(){if(s=s||"",r.path=s,r.isFile)e.push(new Promise((i,a)=>{r.file(o=>{r.fullPath&&!o.webkitRelativePath&&(Object.defineProperties(o,{webkitRelativePath:{writable:!0}}),o.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(o,{webkitRelativePath:{writable:!1}})),i(o)},a)}));else if(r.isDirectory){const i=yield Pme(r);for(let a=0;a<i.length;a++){const o=i[a];yield t(o,`${s}${r.name}/`)}}});try{const r=n.map(i=>t(i.webkitGetAsEntry()));return yield Promise.all(r),yield Promise.all(e)}catch(r){return console.warn("Captured error while loop directory."),console.error(r),[]}})}var Rme=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const{FILE_STATUS_UPLOADING:UR,FILE_STATUS_SUCCESS:Ame,FILE_STATUS_UPLOAD_FAIL:Dme,FILE_STATUS_VALID_FAIL:Hb,FILE_STATUS_WAIT_UPLOAD:BR,DRAG_AREA_DEFAULT:zb,DRAG_AREA_LEGAL:kme,TRIGGER_AUTO:pg}=We;class Nme extends ke{constructor(e){super(Object.assign({},e)),this.destroyState=!1}init(){this.destroyState=!1;const{disabled:e,addOnPasting:t}=this.getProps();t&&!e&&this.bindPastingHandler()}destroy(){const{disabled:e,addOnPasting:t}=this.getProps();this.releaseMemory(),e||this.unbindPastingHandler(),this.destroyState=!0}getError(e){let{action:t,xhr:r,message:s,fileName:i}=e;const a=r?r.status:0,o=s||`cannot post ${i} to ${t}, xhr status: ${a}'`,l=new Error(o);return l.status=a,l.method="post",l.url=t,l}getBody(e){if(!e)return;const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}checkFileSize(e){const{size:t}=e,{maxSize:r,minSize:s}=this.getProps();let i=!1;return(t>r*rc||t<s*rc)&&(i=!0),i}handleChange(e){const t=[],{limit:r,transformFile:s,accept:i}=this.getProps(),{fileList:a}=this.getStates();let o=Array.from(e);if(typeof i<"u"&&(o=o.filter(u=>{const d=this.checkFileFormat(i,u);return d||t.push(u),d}),t.length!==0&&this._adapter.notifyAcceptInvalid(t),o.length===0))return;o=o.map(u=>(s&&(u=s(u)),u.uid||(u.uid=Vg()),this.checkFileSize(u)&&(u._sizeInvalid=!0,u.status=Hb,this._adapter.notifySizeError(u,a)),u));const l=a.length+o.length;if(typeof r<"u"&&l>r){if(this._adapter.notifyExceed(o),r===1){o=o.slice(-1),this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.replaceFileList(o);return}const u=r-a.length;o=o.slice(0,u)}this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.addFilesToList(o)}handleReplaceChange(e){if(e.length===0)return;const{transformFile:t,uploadTrigger:r,accept:s}=this.getProps(),{replaceIdx:i,fileList:a}=this.getStates();let o=Array.from(e).pop();if(typeof s<"u"&&!this.checkFileFormat(s,o)){this._adapter.notifyAcceptInvalid([o]);return}t&&(o=t(o)),o.uid||(o.uid=Vg()),this.checkFileSize(o)&&(o._sizeInvalid=!0,o.status=Hb,this._adapter.notifySizeError(o,a)),this._adapter.notifyFileSelect([o]);const l=this.buildFileItem(o,r),u=[...a];u.splice(i,1,l),this._adapter.notifyChange({currentFile:l,fileList:u}),this._adapter.updateFileList(u,()=>{this._adapter.resetReplaceInput(),l._sizeInvalid||this.upload(l)})}buildFileItem(e,t){const{_sizeInvalid:r,status:s}=e;try{delete e._sizeInvalid,delete e.status}catch{}const i={status:s||(t===pg?UR:BR),name:e.name,size:FE(e.size),uid:e.uid,percent:0,fileInstance:e,url:this._createURL(e)};return r&&(i._sizeInvalid=!0),this.isImage(e)&&(i.preview=!0),i}replaceFileList(e){const{uploadTrigger:t}=this.getProps(),r=e.map(s=>this.buildFileItem(s,t));this._adapter.notifyChange({fileList:r,currentFile:r[0]}),this._adapter.updateFileList(r,()=>{t===pg&&this.startUpload(r)})}addFilesToList(e){const t=this.getState("fileList").slice(),{uploadTrigger:r}=this.getProps(),s=e.map(i=>this.buildFileItem(i,r));s.forEach(i=>{const a=t.findIndex(o=>o.uid===i.uid);a!==-1?t[a]=i:(t.push(i),this._adapter.notifyChange({fileList:t,currentFile:i}))}),this._adapter.updateFileList(t,()=>{r===pg&&this.startUpload(s)})}insertFileToList(e,t){const{limit:r,transformFile:s,accept:i,uploadTrigger:a}=this.getProps(),{fileList:o}=this.getStates(),l=[];let u=Array.from(e);if(typeof i<"u"&&(u=u.filter(g=>{const b=this.checkFileFormat(i,g);return b||l.push(g),b}),l.length!==0&&this._adapter.notifyAcceptInvalid(l),u.length===0))return;u=u.map(g=>(g.uid||(g.uid=Vg()),this.checkFileSize(g)&&(g._sizeInvalid=!0,g.status=Hb,this._adapter.notifySizeError(g,o)),s&&(g=s(g)),g));const d=o.length+u.length;if(typeof r<"u"&&d>r){if(r===1){u=u.slice(-1),this._adapter.notifyFileSelect(u),this._adapter.resetInput(),this.replaceFileList(u);return}const g=r-o.length;u=u.slice(0,g),this._adapter.notifyExceed(u)}const h=u.map(g=>this.buildFileItem(g,a)),f=o.slice();typeof t<"u"?f.splice(t,0,...h):f.push(...h),this._adapter.notifyFileSelect(u),this._adapter.notifyChange({fileList:f,currentFile:null}),this._adapter.updateFileList(f,()=>{a===pg&&this.startUpload(h)})}manualUpload(){const e=this.getState("fileList").filter(t=>t.status===BR);this.startUpload(e)}startUpload(e){e.forEach(t=>{t._sizeInvalid||this.upload(t)})}upload(e){const{beforeUpload:t}=this.getProps();if(typeof t>"u"){this.post(e);return}if(typeof t=="function"){const{fileList:r}=this.getStates(),s=this._adapter.notifyBeforeUpload({file:e,fileList:r});switch(!0){case s===!0:{this.post(e);break}case s===!1:{const i={shouldUpload:!1,status:We.FILE_STATUS_VALID_FAIL};this.handleBeforeUploadResultInObject(i,e);break}case(s&&OT(s)):{Promise.resolve(s).then(i=>{let a={shouldUpload:!0};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),i)),this.handleBeforeUploadResultInObject(a,e)},i=>{let a={shouldUpload:!1,status:We.FILE_STATUS_VALID_FAIL};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),i)),this.handleBeforeUploadResultInObject(a,e)});break}case typeof s=="object":this.handleBeforeUploadResultInObject(s,e);break}}}handleBeforeUploadResultInObject(e,t){const{shouldUpload:r,status:s,autoRemove:i,validateMessage:a,fileInstance:o}=e;let l=this.getState("fileList").slice();if(i)l=l.filter(u=>u.uid!==t.uid);else{const u=this._getFileIndex(t,l);if(u<0)return;s&&(l[u].status=s),a&&(l[u].validateMessage=a),o&&(o.uid=t.uid,l[u].fileInstance=o,l[u].size=FE(o.size),l[u].name=o.name,l[u].url=this._createURL(o)),l[u].shouldUpload=r}this._adapter.updateFileList(l),this._adapter.notifyChange({fileList:l,currentFile:t}),r&&this.post(t)}post(e){const{fileInstance:t}=e,r=this.getProps();if(typeof XMLHttpRequest>"u")return;const s=new XMLHttpRequest,i=new FormData,{action:a}=r;let{data:o}=r;o&&(typeof o=="function"&&(o=o(t)),Object.keys(o).forEach(d=>{i.append(d,o[d])}));const l=r.name||r.fileName||t.name;if(r.customRequest)return r.customRequest({fileName:l,data:o,file:e,fileInstance:t,onProgress:d=>this.handleProgress({e:d,fileInstance:t}),onError:(d,h)=>this.handleError({e:h,xhr:d,fileInstance:t}),onSuccess:(d,h)=>this.handleSuccess({response:d,fileInstance:t,e:h,isCustomRequest:!0}),withCredentials:r.withCredentials,action:r.action});i.append(l,t),s.open("post",a,!0),r.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0),s.upload&&(s.upload.onprogress=d=>{this.destroyState?s.abort():this.handleProgress({e:d,fileInstance:t})}),s.onload=d=>{this.destroyState||this.handleOnLoad({e:d,xhr:s,fileInstance:t})},s.onerror=d=>{this.destroyState||this.handleError({e:d,xhr:s,fileInstance:t})};let u=r.headers||{};typeof u=="function"&&(u=u(t));for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&u[d]!==null&&s.setRequestHeader(d,u[d]);s.send(i)}handleProgress(e){let{e:t,fileInstance:r}=e;const{fileList:s}=this.getStates(),i=s.slice();let a=0;t.total>0&&(a=Number((t.loaded/t.total*100*Ime.PROGRESS_COEFFICIENT).toFixed(0))||0);const o=this._getFileIndex(r,i);o<0||(i[o].percent=a,i[o].status=UR,this._adapter.notifyProgress(a,r,i),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:i[o]}))}handleOnLoad(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),a=this._getFileIndex(s,i);a<0||(r.status<200||r.status>=300?this.handleError({e:t,xhr:r,fileInstance:s}):this.handleSuccess({e:t,xhr:r,fileInstance:s,index:a}))}handleSuccess(e){let{e:t,fileInstance:r,isCustomRequest:s=!1,xhr:i,response:a}=e;const{fileList:o}=this.getStates();let l=null;const u=this._getFileIndex(r,o);if(u<0)return;s?l=a:l=this.getBody(i);const d=o.slice(),{afterUpload:h}=this.getProps();if(d[u].status=Ame,d[u].percent=100,this._adapter.notifyProgress(100,r,d),d[u].response=l,t&&(d[u].event=t),h&&typeof h=="function"){const{autoRemove:f,status:g,validateMessage:b,name:y,url:_}=this._adapter.notifyAfterUpload({response:l,file:d[u],fileList:d})||{};g&&(d[u].status=g),b&&(d[u].validateMessage=b),y&&(d[u].name=y),_&&(d[u].url=_),f&&d.splice(u,1)}this._adapter.notifySuccess(l,r,d),this._adapter.notifyChange({fileList:d,currentFile:d[u]}),this._adapter.updateFileList(d)}_getFileIndex(e,t){return t.findIndex(r=>r.uid===e.uid)}handleRemove(e){const{disabled:t}=this.getProps();if(t)return;const{fileList:r}=this.getStates();Promise.resolve(this._adapter.notifyBeforeRemove(e,r)).then(s=>{if(s===!1)return;const i=r.slice(),a=this._getFileIndex(e,r);a<0||(i.splice(a,1),this._adapter.notifyRemove(e.fileInstance,i,e),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:e}))})}handleError(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),a=this._getFileIndex(s,i);if(a<0)return;const{action:o}=this.getProps(),l=i.slice(),u=this.getError({action:o,xhr:r,fileName:s.name});l[a].status=Dme,l[a].response=u,l[a].event=t,this._adapter.notifyError(u,s,l,r),this._adapter.updateFileList(l),this._adapter.notifyChange({currentFile:l[a],fileList:l})}handleClear(){const{disabled:e}=this.getProps(),{fileList:t}=this.getStates();e||Promise.resolve(this._adapter.notifyBeforeClear(t)).then(r=>{r!==!1&&(this._adapter.updateFileList([]),this._adapter.notifyClear(),this._adapter.notifyChange({fileList:[]}))}).catch(r=>{})}_createURL(e){const t=URL.createObjectURL(e),{localUrls:r}=this.getStates(),s=r.slice();return s.push(t),this._adapter.updateLocalUrls(s),t}releaseMemory(){const{localUrls:e}=this.getStates();e.forEach(t=>{this._releaseBlob(t)})}_releaseBlob(e){try{URL.revokeObjectURL(e)}catch(t){console.log(t)}}isImage(e){return/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(e.type)}isMultiple(){return!!this.getProp("multiple")}handleDragEnter(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget=e.currentTarget;const{disabled:t}=this.getProps();t||this._adapter.updateDragAreaStatus(kme)}handleDirectoryDrop(e){return Rme(this,void 0,void 0,function*(){const t=this.getState("fileList").slice(),r=[].slice.call(e.dataTransfer.items),s=yield xme(r);this.handleChange(s),this._adapter.updateDragAreaStatus(zb),this._adapter.notifyDrop(e,s,t)})}handleDrop(e){e.preventDefault(),e.stopPropagation();const{disabled:t,directory:r}=this.getProps(),s=this.getState("fileList").slice();if(!t){if(r){this.handleDirectoryDrop(e);return}const i=Array.from(e.dataTransfer.files);this.handleChange(i),this._adapter.updateDragAreaStatus(zb),this._adapter.notifyDrop(e,i,s)}}handleDragOver(e){e.preventDefault(),e.stopPropagation()}handleDragLeave(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget===e.target&&this._adapter.updateDragAreaStatus(zb)}checkFileFormat(e,t){const r=e.split(",").map(a=>a.trim()).filter(a=>a),s=t.type||"",i=s.replace(/\/.*$/,"");return r.some(a=>{if(a.charAt(0)==="."){const o=t.name||"",l=a.split(".").pop().toLowerCase();return Ome(o.toLowerCase(),l)}if(/\/\*$/.test(a)){const o=a.replace(/\/.*$/,"");return i===o}return/^[^\/]+\/[^\/]+$/.test(a)?s===a:!1})}retry(e){const{onRetry:t}=this.getProps();t&&typeof t=="function"&&t(e),this.post(e)}handlePreviewClick(e){this._adapter.notifyPreviewClick(e)}readFileFromClipboard(e){for(const t of e)for(const r of t.types)r.startsWith("image")&&t.getType(r).then(s=>s.arrayBuffer()).then(s=>{const i=r.split("/")[1],a=new File([s],`upload.${i}`,{type:r});this.handleChange([a])})}handlePasting(e){const r=this._adapter.isMac()?e.metaKey:e.ctrlKey,{addOnPasting:s}=this.getProps();s&&r&&e.code==="KeyV"&&navigator.permissions.query({name:"clipboard-read"}).then(a=>{a.state==="granted"||a.state==="prompt"?navigator.clipboard.read().then(o=>{this.readFileFromClipboard(o)}):this._adapter.notifyPastingError(a)}).catch(a=>{this._adapter.notifyPastingError(a)})}bindPastingHandler(){this._adapter.registerPastingHandler(e=>this.handlePasting(e))}unbindPastingHandler(){this._adapter.unRegisterPastingHandler()}}class Mme extends ke{constructor(e){super(Object.assign({},e))}handleImageError(e){this._adapter.updateFallbackPreview(!0)}}const At=LF.PREFIX,Lme=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),v.createElement("circle",{cx:"7.99992",cy:"7.99992",r:"6.66667",fill:"white"}),v.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.00008C15.3332 12.0502 12.0499 15.3334 7.99984 15.3334C3.94975 15.3334 0.666504 12.0502 0.666504 8.00008C0.666504 3.94999 3.94975 0.666748 7.99984 0.666748C12.0499 0.666748 15.3332 3.94999 15.3332 8.00008ZM8.99984 11.6667C8.99984 11.1145 8.55212 10.6667 7.99984 10.6667C7.44755 10.6667 6.99984 11.1145 6.99984 11.6667C6.99984 12.219 7.44755 12.6667 7.99984 12.6667C8.55212 12.6667 8.99984 12.219 8.99984 11.6667ZM7.99984 3.33341C7.27573 3.33341 6.7003 3.94171 6.74046 4.66469L6.94437 8.33495C6.97549 8.89513 7.4388 9.33341 7.99984 9.33341C8.56087 9.33341 9.02419 8.89513 9.05531 8.33495L9.25921 4.66469C9.29938 3.94171 8.72394 3.33341 7.99984 3.33341Z",fill:"#F93920"}))},$me=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),v.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#16161A",fillOpacity:"0.6"}),v.createElement("path",{d:"M9 10.25V18.25L10.25 13.25H17.875V11.75C17.875 11.4739 17.6511 11.25 17.375 11.25H14L12.75 9.75H9.5C9.22386 9.75 9 9.97386 9 10.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),v.createElement("path",{d:"M18 18.25L19 13.25H10.2031L9 18.25H18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Fme=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),v.createElement("path",{d:"M6 17V7.58824C6 7.26336 6.26863 7 6.6 7H10.5L12 8.76471H16.05C16.3814 8.76471 16.65 9.02806 16.65 9.35294V11.1176H7.5L6 17ZM6 17L7.44375 11.1176H18L16.8 17L6 17Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};class Hy extends Ae{constructor(e){super(e),this.state={fallbackPreview:!1},this.foundation=new Mme(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateFallbackPreview:e=>this.setState({fallbackPreview:e})})}transSize(e){return typeof e=="number"?FE(e):e}renderValidateMessage(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(typeof t=="string"&&e===We.FILE_STATUS_VALIDATING):r=v.createElement(v.Fragment,null,v.createElement(Yi,{size:"small",wrapperClassName:`${At}-file-card-icon-loading`}),t);break;case typeof t=="string":r=v.createElement(v.Fragment,null,v.createElement(Qm,{className:`${At}-file-card-icon-error`}),t);break;case Cw(t):r=t;break}return r}renderPicValidateMsg(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(t&&e===We.FILE_STATUS_VALIDATING):r=v.createElement(Yi,{size:"small",wrapperClassName:`${At}-picture-file-card-icon-loading`});break;case(t&&(e===We.FILE_STATUS_VALID_FAIL||e===We.FILE_STATUS_UPLOAD_FAIL)):r=v.createElement("div",{className:`${At}-picture-file-card-icon-error`},v.createElement(Lme,null));break}return r?v.createElement(yr,{content:t,trigger:"hover",position:"bottom"},r):null}renderPic(e){const{fallbackPreview:t}=this.state,{url:r,percent:s,status:i,disabled:a,style:o,onPreviewClick:l,showPicInfo:u,renderPicInfo:d,renderPicPreviewIcon:h,renderThumbnail:f,name:g,index:b,picHeight:y,picWidth:_}=this.props,m=i===We.FILE_STATUS_UPLOADING&&s!==100,E=i===We.FILE_STATUS_UPLOAD_FAIL&&this.props.showRetry,w=i===We.FILE_STATUS_SUCCESS&&this.props.showReplace,S=i===We.FILE_STATUS_SUCCESS&&!this.props.showReplace,O=typeof f=="function",x=$({[`${At}-picture-file-card`]:!0,[`${At}-picture-file-card-preview-fallback`]:t,[`${At}-picture-file-card-disabled`]:a,[`${At}-picture-file-card-show-pointer`]:typeof l<"u",[`${At}-picture-file-card-error`]:i===We.FILE_STATUS_UPLOAD_FAIL,[`${At}-picture-file-card-uploading`]:m,[`${At}-picture-file-card-custom-thumbnail`]:O&&y&&_}),I=v.createElement("div",{role:"button",tabIndex:0,className:`${At}-picture-file-card-retry`,onClick:z=>this.onRetry(z)},v.createElement(sse,{className:`${At}-picture-file-card-icon-retry`})),T=v.createElement(yr,{trigger:"hover",position:"top",content:e.replace,showArrow:!1,spacing:4},v.createElement("div",{role:"button",tabIndex:0,className:`${At}-picture-file-card-replace`,onClick:z=>this.onReplace(z)},v.createElement($me,{className:`${At}-picture-file-card-icon-replace`}))),P=v.createElement("div",{className:`${At}-picture-file-card-preview`},typeof h=="function"?h(this.props):null),A=v.createElement("div",{role:"button",tabIndex:0,className:`${At}-picture-file-card-close`,onClick:z=>this.onRemove(z)},v.createElement(Yo,{className:`${At}-picture-file-card-icon-close`})),k=typeof d=="function"?d(this.props):v.createElement("div",{className:`${At}-picture-file-card-pic-info`},b+1);let L={},N=o?Object.assign({},o):{};y&&(N.height=y,L.height=y),_&&(N.width=_,L.width=_);const G=O?f(this.props):t?v.createElement(Pw,{size:"large"}):v.createElement("img",{src:r,alt:g,onError:z=>this.foundation.handleImageError(z),style:L});return v.createElement("div",{role:"listitem",className:x,style:N,onClick:l},G,m?v.createElement(cf,{percent:s,type:"circle",size:"small",orbitStroke:"#FFF","aria-label":"uploading file progress"}):null,E?I:null,w&&T,S&&P,u&&k,!a&&A,this.renderPicValidateMsg())}renderFile(e){const{name:t,size:r,percent:s,url:i,showRetry:a,showReplace:o,preview:l,previewFile:u,status:d,style:h,onPreviewClick:f,renderFileOperation:g}=this.props,{fallbackPreview:b}=this.state,y=$({[`${At}-file-card`]:!0,[`${At}-file-card-fail`]:d===We.FILE_STATUS_VALID_FAIL||d===We.FILE_STATUS_UPLOAD_FAIL,[`${At}-file-card-show-pointer`]:typeof f<"u"}),_=$({[`${At}-file-card-preview`]:!0,[`${At}-file-card-preview-placeholder`]:!l||u||b}),m=`${At}-file-card-info`,E=`${At}-file-card-close`,w=`${At}-file-card-replace`,S=!(s===100||typeof s>"u")&&d===We.FILE_STATUS_UPLOADING,O=d===We.FILE_STATUS_UPLOAD_FAIL&&a,x=d===We.FILE_STATUS_SUCCESS&&o,I=this.transSize(r);let T=l&&!b?v.createElement("img",{src:i,alt:t,onError:A=>this.foundation.handleImageError(A)}):v.createElement(Pw,{size:"large"});u&&(T=u(this.props));const P=typeof g=="function"?g(this.props):v.createElement(pn,{onClick:A=>this.onRemove(A),type:"tertiary",icon:v.createElement(QC,null),theme:"borderless",size:"small",className:E});return v.createElement("div",{role:"listitem",className:y,style:h,onClick:f},v.createElement("div",{className:_},T),v.createElement("div",{className:`${m}-main`},v.createElement("div",{className:`${m}-main-text`},v.createElement("span",{className:`${m}-name`},t),v.createElement("span",null,v.createElement("span",{className:`${m}-size`},I),x&&v.createElement(yr,{trigger:"hover",position:"top",showArrow:!1,content:e.replace},v.createElement(pn,{onClick:A=>this.onReplace(A),type:"tertiary",theme:"borderless",size:"small",icon:v.createElement(Fme,null),className:w})))),S?v.createElement(cf,{percent:s,style:{width:"100%"},"aria-label":"uploading file progress"}):null,v.createElement("div",{className:`${m}-main-control`},v.createElement("span",{className:`${m}-validate-message`},this.renderValidateMessage()),O?v.createElement("span",{role:"button",tabIndex:0,className:`${m}-retry`,onClick:A=>this.onRetry(A)},e.retry):null)),P)}onRemove(e){e.stopPropagation(),this.props.onRemove()}onReplace(e){e.stopPropagation(),this.props.onReplace()}onRetry(e){e.stopPropagation(),this.props.onRetry()}render(){const{listType:e}=this.props;return e===We.FILE_LIST_PIC?v.createElement(xn,{componentName:"Upload"},t=>this.renderPic(t)):e===We.FILE_LIST_DEFAULT?v.createElement(xn,{componentName:"Upload"},t=>this.renderFile(t)):null}}Hy.propTypes={className:c.string,disabled:c.bool,listType:c.string,name:c.string,onPreviewClick:c.func,onRemove:c.func,onReplace:c.func,onRetry:c.func,percent:c.number,preview:c.bool,previewFile:c.func,picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),showReplace:c.bool,showRetry:c.bool,size:c.oneOfType([c.number,c.string]),status:c.string,style:c.object,url:c.string,validateMessage:c.node,index:c.number};Hy.defaultProps={listType:We.FILE_LIST_DEFAULT,name:"",onRemove:()=>{},onRetry:()=>{},preview:!1,size:""};var Vme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const tn=LF.PREFIX;class zy extends Ae{constructor(e){super(e),this.inputRef=null,this.replaceInputRef=null,this.onClick=()=>{const{inputRef:t,props:r}=this,{onOpenFileDialog:s}=r;this.props.disabled||!t||!t.current||(t.current.click(),s&&s())},this.onChange=t=>{const{files:r}=t.target;this.foundation.handleChange(r)},this.replace=t=>{this.setState({replaceIdx:t},()=>{this.replaceInputRef.current.click()})},this.onReplaceChange=t=>{const{files:r}=t.target;this.foundation.handleReplaceChange(r)},this.clear=()=>{this.foundation.handleClear()},this.remove=t=>{this.foundation.handleRemove(t)},this.insert=(t,r)=>this.foundation.insertFileToList(t,r),this.upload=()=>{this.foundation.manualUpload()},this.openFileDialog=()=>{this.onClick()},this.renderFile=(t,r,s)=>{const{name:i,status:a,validateMessage:o,_sizeInvalid:l,uid:u}=t,{previewFile:d,listType:h,itemStyle:f,showPicInfo:g,renderPicInfo:b,renderPicPreviewIcon:y,renderFileOperation:_,renderFileItem:m,renderThumbnail:E,disabled:w,onPreviewClick:S,picWidth:O,picHeight:x}=this.props,I=()=>this.remove(t),T=()=>{this.foundation.retry(t)},P=()=>{this.replace(r)},A=Object.assign(Object.assign(Object.assign({},jl(this.props,["showRetry","showReplace",""])),t),{previewFile:d,listType:h,onRemove:I,onRetry:T,index:r,key:u||`${i}${r}`,style:f,disabled:w,showPicInfo:g,renderPicInfo:b,renderPicPreviewIcon:y,renderFileOperation:_,renderThumbnail:E,onReplace:P,onPreviewClick:typeof S<"u"?()=>this.foundation.handlePreviewClick(t):void 0,picWidth:O,picHeight:x});return a===We.FILE_STATUS_UPLOAD_FAIL&&!o&&(A.validateMessage=s.fail),l&&!o&&(A.validateMessage=s.illegalSize),typeof m>"u"?v.createElement(Hy,Object.assign({},A)):m(A)},this.renderFileList=()=>{const{listType:t}=this.props;return t===We.FILE_LIST_PIC?this.renderFileListPic():t===We.FILE_LIST_DEFAULT?this.renderFileListDefault():null},this.renderFileListPic=()=>{const{showUploadList:t,limit:r,disabled:s,children:i,draggable:a,hotSpotLocation:o,picHeight:l,picWidth:u}=this.props,{fileList:d,dragAreaStatus:h}=this.state,f=this.props.fileList||d,g=r?r>f.length:!0,b=`${tn}-drag-area`,y=$(`${tn}-add`,{[`${tn}-picture-add`]:!0,[`${tn}-picture-add-disabled`]:s}),_=$(`${tn}-file-list`,{[`${tn}-picture-file-list`]:!0}),m=$({[`${b}-legal`]:h===We.DRAG_AREA_LEGAL,[`${b}-illegal`]:h===We.DRAG_AREA_ILLEGAL}),E=`${tn}-file-list-main`,w={role:"button",className:y,onClick:this.onClick,style:{height:l,width:u}},S={className:_},O={onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter};a&&Object.assign(w,O,{className:$(y,m)});const x=v.createElement("div",Object.assign({},w,{"x-semi-prop":"children"}),i);return!t||!f.length?g?x:null:v.createElement(xn,{componentName:"Upload"},I=>v.createElement("div",Object.assign({},S),v.createElement("div",{className:E,role:"list","aria-label":"picture list"},g&&o==="start"?x:null,f.map((T,P)=>this.renderFile(T,P,I)),g&&o==="end"?x:null)))},this.renderFileListDefault=()=>{const{showUploadList:t,limit:r,disabled:s}=this.props,{fileList:i}=this.state,a=this.props.fileList||i,o=$(`${tn}-file-list`),l=`${tn}-file-list-title`,u=`${tn}-file-list-main`,d=r!==1&&a.length,h=this.props.showClear&&!s,f={className:o};return!t||!a.length?null:v.createElement(xn,{componentName:"Upload"},g=>v.createElement("div",Object.assign({},f),d?v.createElement("div",{className:l},v.createElement("span",{className:`${l}-choosen`},g.selectedFiles),h?v.createElement("span",{role:"button",tabIndex:0,onClick:this.clear,className:`${l}-clear`},g.clear):null):null,v.createElement("div",{className:u,role:"list","aria-label":"file list"},a.map((b,y)=>this.renderFile(b,y,g)))))},this.onDrop=t=>{this.foundation.handleDrop(t)},this.onDragOver=t=>{this.foundation.handleDragOver(t)},this.onDragLeave=t=>{this.foundation.handleDragLeave(t)},this.onDragEnter=t=>{this.foundation.handleDragEnter(t)},this.renderAddContent=()=>{const{draggable:t,children:r,listType:s,disabled:i}=this.props,a=$(`${tn}-add`);return s===We.FILE_LIST_PIC?null:t?this.renderDragArea():v.createElement("div",{role:"button",tabIndex:0,"aria-disabled":i,className:a,onClick:this.onClick},r)},this.renderDragArea=()=>{const{dragAreaStatus:t}=this.state,{children:r,dragIcon:s,dragMainText:i,dragSubText:a,disabled:o}=this.props,l=`${tn}-drag-area`,u=$(l,{[`${l}-legal`]:t===We.DRAG_AREA_LEGAL,[`${l}-illegal`]:t===We.DRAG_AREA_ILLEGAL,[`${l}-custom`]:r});return v.createElement(xn,{componentName:"Upload"},d=>v.createElement("div",{role:"button",tabIndex:0,"aria-disabled":o,className:u,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onClick:this.onClick},r||v.createElement(v.Fragment,null,v.createElement("div",{className:`${l}-icon`,"x-semi-prop":"dragIcon"},s||v.createElement(pse,{size:"extra-large"})),v.createElement("div",{className:`${l}-text`},v.createElement("div",{className:`${l}-main-text`,"x-semi-prop":"dragMainText"},i||d.mainText),v.createElement("div",{className:`${l}-sub-text`,"x-semi-prop":"dragSubText"},a),v.createElement("div",{className:`${l}-tips`},t===We.DRAG_AREA_LEGAL&&v.createElement("span",{className:`${l}-tips-legal`},d.legalTips),t===We.DRAG_AREA_ILLEGAL&&v.createElement("span",{className:`${l}-tips-illegal`},d.illegalTips))))))},this.state={fileList:e.defaultFileList||[],replaceIdx:-1,inputKey:Math.random(),replaceInputKey:Math.random(),dragAreaStatus:"default",localUrls:[]},this.foundation=new Nme(this.adapter),this.inputRef=v.createRef(),this.replaceInputRef=v.createRef()}static getDerivedStateFromProps(e){const{fileList:t}=e;return"fileList"in e?{fileList:t||[]}:null}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyFileSelect:e=>this.props.onFileChange(e),notifyError:(e,t,r,s)=>this.props.onError(e,t,r,s),notifySuccess:(e,t,r)=>this.props.onSuccess(e,t,r),notifyProgress:(e,t,r)=>this.props.onProgress(e,t,r),notifyRemove:(e,t,r)=>this.props.onRemove(e,t,r),notifySizeError:(e,t)=>this.props.onSizeError(e,t),notifyExceed:e=>this.props.onExceed(e),updateFileList:(e,t)=>{typeof t=="function"?this.setState({fileList:e},t):this.setState({fileList:e})},notifyBeforeUpload:e=>{let{file:t,fileList:r}=e;return this.props.beforeUpload({file:t,fileList:r})},notifyAfterUpload:e=>{let{response:t,file:r,fileList:s}=e;return this.props.afterUpload({response:t,file:r,fileList:s})},resetInput:()=>{this.setState(e=>({inputKey:Math.random()}))},resetReplaceInput:()=>{this.setState(e=>({replaceInputKey:Math.random()}))},isMac:()=>navigator.platform.toUpperCase().indexOf("MAC")>=0,registerPastingHandler:e=>{document.body.addEventListener("keydown",e),this.pastingCb=e},unRegisterPastingHandler:()=>{this.pastingCb&&document.body.removeEventListener("keydown",this.pastingCb)},notifyPastingError:e=>this.props.onPastingError(e),updateDragAreaStatus:e=>this.setState({dragAreaStatus:e}),notifyChange:e=>{let{currentFile:t,fileList:r}=e;return this.props.onChange({currentFile:t,fileList:r})},updateLocalUrls:e=>this.setState({localUrls:e}),notifyClear:()=>this.props.onClear(),notifyPreviewClick:e=>this.props.onPreviewClick(e),notifyDrop:(e,t,r)=>this.props.onDrop(e,t,r),notifyAcceptInvalid:e=>this.props.onAcceptInvalid(e),notifyBeforeRemove:(e,t)=>this.props.beforeRemove(e,t),notifyBeforeClear:e=>this.props.beforeClear(e)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,className:r,multiple:s,accept:i,disabled:a,children:o,capture:l,listType:u,prompt:d,promptPosition:h,draggable:f,validateMessage:g,validateStatus:b,directory:y}=e,_=Vme(e,["style","className","multiple","accept","disabled","children","capture","listType","prompt","promptPosition","draggable","validateMessage","validateStatus","directory"]),m=$(tn,{[`${tn}-picture`]:u===We.FILE_LIST_PIC,[`${tn}-disabled`]:a,[`${tn}-default`]:b==="default",[`${tn}-error`]:b==="error",[`${tn}-warning`]:b==="warning",[`${tn}-success`]:b==="success"},r),E=$(`${tn}-hidden-input`),w=$(`${tn}-hidden-input-replace`),S=$(`${tn}-prompt`),O=$(`${tn}-validate-message`),x=y?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return v.createElement("div",Object.assign({className:m,style:t,"x-prompt-pos":h},this.getDataAttr(_)),v.createElement("input",Object.assign({key:this.state.inputKey,capture:l,multiple:s,accept:i,onChange:this.onChange,type:"file",autoComplete:"off",tabIndex:-1,className:E,ref:this.inputRef},x)),v.createElement("input",{key:this.state.replaceInputKey,multiple:!1,accept:i,onChange:this.onReplaceChange,type:"file",autoComplete:"off",tabIndex:-1,className:w,ref:this.replaceInputRef}),this.renderAddContent(),d?v.createElement("div",{className:S,"x-semi-prop":"prompt"},d):null,g?v.createElement("div",{className:O,"x-semi-prop":"validateMessage"},g):null,this.renderFileList())}}zy.propTypes={accept:c.string,action:c.string.isRequired,addOnPasting:c.bool,afterUpload:c.func,beforeClear:c.func,beforeRemove:c.func,beforeUpload:c.func,children:c.node,className:c.string,customRequest:c.func,data:c.oneOfType([c.object,c.func]),defaultFileList:c.array,directory:c.bool,disabled:c.bool,dragIcon:c.node,dragMainText:c.node,dragSubText:c.node,draggable:c.bool,fileList:c.array,fileName:c.string,headers:c.oneOfType([c.object,c.func]),hotSpotLocation:c.oneOf(["start","end"]),itemStyle:c.object,limit:c.number,listType:c.oneOf(We.LIST_TYPE),maxSize:c.number,minSize:c.number,multiple:c.bool,name:c.string,onAcceptInvalid:c.func,onChange:c.func,onClear:c.func,onDrop:c.func,onError:c.func,onExceed:c.func,onFileChange:c.func,onOpenFileDialog:c.func,onPreviewClick:c.func,onProgress:c.func,onRemove:c.func,onRetry:c.func,onSizeError:c.func,onSuccess:c.func,onPastingError:c.func,previewFile:c.func,prompt:c.node,promptPosition:c.oneOf(We.PROMPT_POSITION),picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),renderFileItem:c.func,renderPicPreviewIcon:c.func,renderFileOperation:c.func,renderPicInfo:c.func,renderThumbnail:c.func,showClear:c.bool,showPicInfo:c.bool,showReplace:c.bool,showRetry:c.bool,showUploadList:c.bool,style:c.object,timeout:c.number,transformFile:c.func,uploadTrigger:c.oneOf(We.UPLOAD_TRIGGER),validateMessage:c.node,validateStatus:c.oneOf(We.VALIDATE_STATUS),withCredentials:c.bool};zy.defaultProps={defaultFileList:[],disabled:!1,listType:"list",hotSpotLocation:"end",multiple:!1,onAcceptInvalid:F,onChange:F,beforeRemove:()=>!0,beforeClear:()=>!0,onClear:F,onDrop:F,onError:F,onExceed:F,onFileChange:F,onOpenFileDialog:F,onProgress:F,onRemove:F,onRetry:F,onSizeError:F,onSuccess:F,onPastingError:F,promptPosition:"right",showClear:!0,showPicInfo:!1,showReplace:!1,showRetry:!0,showUploadList:!0,uploadTrigger:"auto",withCredentials:!1};zy.FileCard=Hy;function yl(){return yl=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yl.apply(this,arguments)}function jme(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,hf(n,e)}function VE(n){return VE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},VE(n)}function hf(n,e){return hf=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},hf(n,e)}function Ume(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qg(n,e,t){return Ume()?qg=Reflect.construct:qg=function(s,i,a){var o=[null];o.push.apply(o,i);var l=Function.bind.apply(s,o),u=new l;return a&&hf(u,a.prototype),u},qg.apply(null,arguments)}function Bme(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function jE(n){var e=typeof Map=="function"?new Map:void 0;return jE=function(r){if(r===null||!Bme(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return qg(r,arguments,VE(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),hf(s,r)},jE(n)}var Hme=/%[sdj%]/g,zme=function(){};function UE(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function ds(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=1,s=e[0],i=e.length;if(typeof s=="function")return s.apply(null,e.slice(1));if(typeof s=="string"){var a=String(s).replace(Hme,function(o){if(o==="%%")return"%";if(r>=i)return o;switch(o){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch{return"[Circular]"}break;default:return o}});return a}return s}function Kme(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Mn(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Kme(e)&&typeof n=="string"&&!n)}function Wme(n,e,t){var r=[],s=0,i=n.length;function a(o){r.push.apply(r,o),s++,s===i&&t(r)}n.forEach(function(o){e(o,a)})}function HR(n,e,t){var r=0,s=n.length;function i(a){if(a&&a.length){t(a);return}var o=r;r=r+1,o<s?e(n[o],i):t([])}i([])}function Gme(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t])}),e}var zR=function(n){jme(e,n);function e(t,r){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=t,s.fields=r,s}return e}(jE(Error));function Yme(n,e,t,r){if(e.first){var s=new Promise(function(h,f){var g=function(_){return r(_),_.length?f(new zR(_,UE(_))):h()},b=Gme(n);HR(b,t,g)});return s.catch(function(h){return h}),s}var i=e.firstFields||[];i===!0&&(i=Object.keys(n));var a=Object.keys(n),o=a.length,l=0,u=[],d=new Promise(function(h,f){var g=function(y){if(u.push.apply(u,y),l++,l===o)return r(u),u.length?f(new zR(u,UE(u))):h()};a.length||(r(u),h()),a.forEach(function(b){var y=n[b];i.indexOf(b)!==-1?HR(y,t,g):Wme(y,t,g)})});return d.catch(function(h){return h}),d}function KR(n){return function(e){return e&&e.message?(e.field=e.field||n.fullField,e):{message:typeof e=="function"?e():e,field:e.field||n.fullField}}}function WR(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=yl({},n[t],r):n[t]=r}}return n}function $F(n,e,t,r,s,i){n.required&&(!t.hasOwnProperty(n.field)||Mn(e,i||n.type))&&r.push(ds(s.messages.required,n.fullField))}function qme(n,e,t,r,s){(/^\s+$/.test(e)||e==="")&&r.push(ds(s.messages.whitespace,n.fullField))}var Kb={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},nh={integer:function(e){return nh.number(e)&&parseInt(e,10)===e},float:function(e){return nh.number(e)&&!nh.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!nh.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&!!e.match(Kb.email)&&e.length<255},url:function(e){return typeof e=="string"&&!!e.match(Kb.url)},hex:function(e){return typeof e=="string"&&!!e.match(Kb.hex)}};function Xme(n,e,t,r,s){if(n.required&&e===void 0){$F(n,e,t,r,s);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=n.type;i.indexOf(a)>-1?nh[a](e)||r.push(ds(s.messages.types[a],n.fullField,n.type)):a&&typeof e!==n.type&&r.push(ds(s.messages.types[a],n.fullField,n.type))}function Qme(n,e,t,r,s){var i=typeof n.len=="number",a=typeof n.min=="number",o=typeof n.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,d=null,h=typeof e=="number",f=typeof e=="string",g=Array.isArray(e);if(h?d="number":f?d="string":g&&(d="array"),!d)return!1;g&&(u=e.length),f&&(u=e.replace(l,"_").length),i?u!==n.len&&r.push(ds(s.messages[d].len,n.fullField,n.len)):a&&!o&&u<n.min?r.push(ds(s.messages[d].min,n.fullField,n.min)):o&&!a&&u>n.max?r.push(ds(s.messages[d].max,n.fullField,n.max)):a&&o&&(u<n.min||u>n.max)&&r.push(ds(s.messages[d].range,n.fullField,n.min,n.max))}var xu="enum";function Zme(n,e,t,r,s){n[xu]=Array.isArray(n[xu])?n[xu]:[],n[xu].indexOf(e)===-1&&r.push(ds(s.messages[xu],n.fullField,n[xu].join(", ")))}function Jme(n,e,t,r,s){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(e)||r.push(ds(s.messages.pattern.mismatch,n.fullField,e,n.pattern));else if(typeof n.pattern=="string"){var i=new RegExp(n.pattern);i.test(e)||r.push(ds(s.messages.pattern.mismatch,n.fullField,e,n.pattern))}}}var Be={required:$F,whitespace:qme,type:Xme,range:Qme,enum:Zme,pattern:Jme};function eve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e,"string")&&!n.required)return t();Be.required(n,e,r,i,s,"string"),Mn(e,"string")||(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s),Be.pattern(n,e,r,i,s),n.whitespace===!0&&Be.whitespace(n,e,r,i,s))}t(i)}function tve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&Be.type(n,e,r,i,s)}t(i)}function nve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(e===""&&(e=void 0),Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s))}t(i)}function rve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&Be.type(n,e,r,i,s)}t(i)}function sve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),Mn(e)||Be.type(n,e,r,i,s)}t(i)}function ive(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s))}t(i)}function ave(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s))}t(i)}function ove(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(e==null&&!n.required)return t();Be.required(n,e,r,i,s,"array"),e!=null&&(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s))}t(i)}function lve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&Be.type(n,e,r,i,s)}t(i)}var uve="enum";function cve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&Be[uve](n,e,r,i,s)}t(i)}function dve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e,"string")&&!n.required)return t();Be.required(n,e,r,i,s),Mn(e,"string")||Be.pattern(n,e,r,i,s)}t(i)}function hve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e,"date")&&!n.required)return t();if(Be.required(n,e,r,i,s),!Mn(e,"date")){var o;e instanceof Date?o=e:o=new Date(e),Be.type(n,o,r,i,s),o&&Be.range(n,o.getTime(),r,i,s)}}t(i)}function fve(n,e,t,r,s){var i=[],a=Array.isArray(e)?"array":typeof e;Be.required(n,e,r,i,s,a),t(i)}function Wb(n,e,t,r,s){var i=n.type,a=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e,i)&&!n.required)return t();Be.required(n,e,r,a,s,i),Mn(e,i)||Be.type(n,e,r,a,s)}t(a)}function pve(n,e,t,r,s){var i=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s)}t(i)}var Sh={string:eve,method:tve,number:nve,boolean:rve,regexp:sve,integer:ive,float:ave,array:ove,object:lve,enum:cve,pattern:dve,date:hve,url:Wb,hex:Wb,email:Wb,required:fve,any:pve};function BE(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var KT=BE();function xo(n){this.rules=null,this._messages=KT,this.define(n)}xo.prototype={messages:function(e){return e&&(this._messages=WR(BE(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if(typeof e!="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t,r;for(t in e)e.hasOwnProperty(t)&&(r=e[t],this.rules[t]=Array.isArray(r)?r:[r])},validate:function(e,t,r){var s=this;t===void 0&&(t={}),r===void 0&&(r=function(){});var i=e,a=t,o=r;if(typeof a=="function"&&(o=a,a={}),!this.rules||Object.keys(this.rules).length===0)return o&&o(),Promise.resolve();function l(y){var _,m=[],E={};function w(S){if(Array.isArray(S)){var O;m=(O=m).concat.apply(O,S)}else m.push(S)}for(_=0;_<y.length;_++)w(y[_]);m.length?E=UE(m):(m=null,E=null),o(m,E)}if(a.messages){var u=this.messages();u===KT&&(u=BE()),WR(u,a.messages),a.messages=u}else a.messages=this.messages();var d,h,f={},g=a.keys||Object.keys(this.rules);g.forEach(function(y){d=s.rules[y],h=i[y],d.forEach(function(_){var m=_;typeof m.transform=="function"&&(i===e&&(i=yl({},i)),h=i[y]=m.transform(h)),typeof m=="function"?m={validator:m}:m=yl({},m),m.validator=s.getValidationMethod(m),m.field=y,m.fullField=m.fullField||y,m.type=s.getType(m),m.validator&&(f[y]=f[y]||[],f[y].push({rule:m,value:h,source:i,field:y}))})});var b={};return Yme(f,a,function(y,_){var m=y.rule,E=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");E=E&&(m.required||!m.required&&y.value),m.field=y.field;function w(x,I){return yl({},I,{fullField:m.fullField+"."+x})}function S(x){x===void 0&&(x=[]);var I=x;if(Array.isArray(I)||(I=[I]),!a.suppressWarning&&I.length&&xo.warning("async-validator:",I),I.length&&m.message!==void 0&&(I=[].concat(m.message)),I=I.map(KR(m)),a.first&&I.length)return b[m.field]=1,_(I);if(!E)_(I);else{if(m.required&&!y.value)return m.message!==void 0?I=[].concat(m.message).map(KR(m)):a.error&&(I=[a.error(m,ds(a.messages.required,m.field))]),_(I);var T={};if(m.defaultField)for(var P in y.value)y.value.hasOwnProperty(P)&&(T[P]=m.defaultField);T=yl({},T,y.rule.fields);for(var A in T)if(T.hasOwnProperty(A)){var k=Array.isArray(T[A])?T[A]:[T[A]];T[A]=k.map(w.bind(null,A))}var L=new xo(T);L.messages(a.messages),y.rule.options&&(y.rule.options.messages=a.messages,y.rule.options.error=a.error),L.validate(y.value,y.rule.options||a,function(N){var K=[];I&&I.length&&K.push.apply(K,I),N&&N.length&&K.push.apply(K,N),_(K.length?K:null)})}}var O;m.asyncValidator?O=m.asyncValidator(m,y.value,S,y.source,a):m.validator&&(O=m.validator(m,y.value,S,y.source,a),O===!0?S():O===!1?S(m.message||m.field+" fails"):O instanceof Array?S(O):O instanceof Error&&S(O.message)),O&&O.then&&O.then(function(){return S()},function(x){return S(x)})},function(y){l(y)})},getType:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!Sh.hasOwnProperty(e.type))throw new Error(ds("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if(typeof e.validator=="function")return e.validator;var t=Object.keys(e),r=t.indexOf("message");return r!==-1&&t.splice(r,1),t.length===1&&t[0]==="required"?Sh.required:Sh[this.getType(e)]||!1}};xo.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Sh[e]=t};xo.warning=zme;xo.messages=KT;xo.validators=Sh;var gve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function mve(n){const e=n.displayName||n.name;return e?`SemiField${e}`:"SemiField"}function vve(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t={};return t[n]=e,new xo(t)}function yve(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=!1;return typeof n=="object"&&"required"in n?e=n.required:Array.isArray(n)&&n.length&&n.forEach(t=>{t.required&&(e=!0)}),e}function _l(n){let e=!0;return typeof n=="string"&&n.length?e=!1:Array.isArray(n)&&n.length?e=n.every(t=>_l(t)):typeof n=="boolean"?e=n:n&&typeof n.$$typeof=="symbol"&&n.$$typeof.toString()==="Symbol(react.element)"&&(e=!1),e}function _ve(n,e){let t=[],r=[];return bt(n)?bt(e)?t=th.DEFAULT_TRIGGER:t=e:t=n,Array.isArray(t)&&(r=t),typeof t=="string"&&(r[0]=t),r}function bve(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return bt(n)?bt(e)?t:e:n}function wve(n,e){const r=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),n),s="field"in e?!0:r.shouldInject;return{options:r,shouldInject:s}}function Eve(n){let t=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),n),{field:r,label:s,labelPosition:i,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,initValue:d,validate:h,validateStatus:f,trigger:g,allowEmptyString:b,allowEmpty:y,emptyValue:_,rules:m,onChange:E,keepState:w,transform:S,name:O,fieldClassName:x,fieldStyle:I,noLabel:T,noErrorMessage:P,isInInputGroup:A,stopValidateWithError:k,convert:L,showValidateIcon:N,helpText:K,extraText:G,extraTextPosition:z,pure:ee,id:V}=t,H=gve(t,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete H.defaultChecked,delete H.defaultValue,delete H.checked,typeof d<"u"&&(d=Da(d));const U=yve(m);return _=typeof _<"u"?_:"",{field:r,label:s,labelPosition:i,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,noLabel:T,noErrorMessage:P,isInInputGroup:A,initValue:d,validate:h,validateStatus:f,trigger:g,allowEmptyString:b,allowEmpty:y,emptyValue:_,rules:m,required:U,keepState:w,transform:S,name:O,fieldClassName:x,fieldStyle:I,convert:L,stopValidateWithError:k,showValidateIcon:N,helpText:K,extraText:G,extraTextPosition:z,pure:ee,rest:H,id:V}}class Sve extends ke{constructor(e){super(Object.assign({},e));let{initValues:t}=this._adapter.getProps();t=this._adapter.cloneDeep(t),this.data={values:t||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this),this.scrollToError=this.scrollToError.bind(this)}init(){this._adapter.initFormId()}getField(e){return this.fields.get(e)}register(e,t,r){if(this.registered[e],this.registered[e]=!0,this.fields.set(e,r),!r.keepState){const s=r.allowEmpty||!1,i={notNotify:!0,notUpdate:!1,allowEmpty:s};let a=t.value;!s&&a===""&&(a=void 0),this.updateStateValue(e,a,i),t.error&&this.updateStateError(e,t.error,i)}}unRegister(e){const t=this.fields.get(e);try{t.keepState||(Hg(this.data.values,e),Hg(this.data.errors,e),Hg(this.data.touched,e))}catch{console.error(`some thing wrong when unregister field:${e}`)}this.fields.delete(e),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(e,t){this.updateArrayField(e,{updateKey:new Date().valueOf(),initValue:t})}unRegisterArrayField(e){this.registeredArrayField.delete(e)}getArrayField(e){return this.registeredArrayField.get(e)}updateArrayField(e,t){const r=Object.assign(Object.assign({},this.registeredArrayField.get(e)),t);this.registeredArrayField.set(e,r)}validate(e){const{validateFields:t}=this.getProps();return t&&De(t)?this._formValidate():this._fieldsValidate(e)}_formValidate(){const{values:e}=this.data,{validateFields:t}=this.getProps();return new Promise((r,s)=>{let i;try{i=t(e)}catch(a){i=a}if(i)OT(i)?i.then(a=>{if(a)this.data.errors=a,this._adapter.notifyChange(this.data),this.injectErrorToField(a),this._adapter.forceUpdate(),this._autoScroll(100),s(a);else{const o=this._adapter.cloneDeep(e);r(o),this.injectErrorToField({})}},a=>{this._autoScroll(100),s(a)}):(this.data.errors=i,this.injectErrorToField(i),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),s(i));else{const a=this._adapter.cloneDeep(e);r(a),this.injectErrorToField({})}})}_fieldsValidate(e){const{values:t}=this.data;return new Promise((r,s)=>{let i=[];const a=this._getOperateFieldMap(e);a.forEach((o,l)=>{const u=this.getValue(l),d={notNotify:!0,notUpdate:!0},h=o.fieldApi.validate(u,d);i.push(h),o.fieldApi.setTouched(!0,d)}),Promise.all(i).then(()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();const o=this.getError();if(this._isValid(a)){const l=this._adapter.cloneDeep(t);r(l)}else this._autoScroll(),s(o)})})}submit(e){const{values:t}=this.data;this.validate().then(r=>{const s=this._adapter.cloneDeep(r);this._adapter.notifySubmit(s,e)}).catch(r=>{const s=this._adapter.cloneDeep(r),i=this._adapter.cloneDeep(t);this._adapter.notifySubmitFail(s,i,e)})}_getNestedField(e){const t=this.fields,r=[...t].map(i=>i[0]);let s=new Map;return r.forEach(i=>{let a=af(i),o=af(e);if(o.every((l,u)=>o[u]===a[u])){const l=t.get(i);s.set(i,l)}}),s}_getOperateFieldMap(e){let t=new Map;return bt(e)?t=this.fields:e.forEach(r=>{const s=this.fields.get(r);if(bt(s)){const i=this._getNestedField(r);t=new Map([...t,...i])}else t.set(r,s)}),t}reset(e){this._getOperateFieldMap(e).forEach(r=>{r.fieldApi.reset()}),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){[...this.registeredArrayField.keys()].forEach(t=>{const s=this.registeredArrayField.get(t).initValue;this.updateStateValue(t,s,{notNotify:!0,notUpdate:!0}),this.updateArrayField(t,{updateKey:new Date().valueOf()})})}injectErrorToField(e){this.fields.forEach(t=>{const r=Cr(e,t.field),s={notNotify:!0,notUpdate:!0};t.fieldApi.setError(r,s)})}getValue(e,t){const r=typeof e>"u",s=t&&t.needClone;let i,a;switch(!0){case(!r&&!s):i=Cr(this.data.values,e);break;case(!r&&s):a=Cr(this.data.values,e),i=this._adapter.cloneDeep(a);break;case(r&&!s):i=Object.assign({},this.data.values);break;case(r&&s):i=this._adapter.cloneDeep(this.data.values);break}return i}setValues(e,t){let{isOverride:r=!1}=t;const s=this._adapter.cloneDeep(e);this.fields.forEach(i=>{const a=Cr(s,i.field),o={notNotify:!0,notUpdate:!0};i.fieldApi.setValue(a,o)}),this.registeredArrayField.size&&[...this.registeredArrayField.keys()].forEach(a=>{this.updateArrayField(a,{updateKey:new Date().valueOf()})}),r&&(this.data.values=s),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},e)),this._adapter.forceUpdate()}updateStateValue(e,t,r,s){const i=r&&r.notNotify,a=r&&r.notUpdate,o=r&&r.fieldAllowEmpty,l=this.getProp("allowEmpty"),u=o||l;xb(this.data.values,e,t,u),i||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[e]:t})),a||this._adapter.forceUpdate(s)}getTouched(e){return typeof e>"u"?this.data.touched:Cr(this.data.touched,e)}updateStateTouched(e,t,r,s){const i=r&&r.notNotify,a=r&&r.notUpdate;xb(this.data.touched,e,t),i||this._adapter.notifyChange(this.data),a||this._adapter.forceUpdate(s)}getError(e){return typeof e>"u"?this.data.errors:Cr(this.data.errors,e)}updateStateError(e,t,r,s){const i=r&&r.notNotify,a=r&&r.notUpdate;xb(this.data.errors,e,t),i||this._adapter.notifyChange(this.data),this._adapter.notifyErrorChange(this.data.errors,{[e]:t}),a||this._adapter.forceUpdate(s)}getFieldSetterApi(){return{setValue:(s,i,a)=>{const o=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);o?o.setValue(l,a):(this.updateStateValue(s,l,a,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Cr(this.data.values,h),g={notNotify:!0,notUpdate:!0};d.fieldApi.setValue(f,g)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setError:(s,i,a)=>{const o=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);o?o.setError(l,a):(this.updateStateError(s,l,a,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Cr(this.data.errors,h),g={notNotify:!0,notUpdate:!0};d.fieldApi.setError(f,g)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setTouched:(s,i,a)=>{const o=this.fields.get(s)?this.fields.get(s).fieldApi:void 0;o?o.setTouched(i,a):(this.updateStateTouched(s,i,a,()=>{let l=this._getNestedField(s);l.size&&l.forEach(u=>{let d=u.field,h=Cr(this.data.touched,d),f={notNotify:!0,notUpdate:!0};u.fieldApi.setTouched(h,f)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){const e=this.getFieldSetterApi();return Object.assign(Object.assign({},e),{reset:t=>this.reset(t),validate:t=>this.validate(t),getValue:t=>this.getValue(t,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getFormProps:t=>this.getFormProps(t),getInitValue:t=>this.getInitValue(t),getInitValues:()=>this.getInitValues(),getTouched:t=>this.getTouched(t),getError:t=>this.getError(t),setValues:(t,r)=>this.setValues(t,r||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:t=>this.getFieldExist(t),scrollToField:(t,r)=>this.scrollToField(t,r),scrollToError:t=>this.scrollToError(t)})}getFormState(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(e){let t=!0;return e?[...e.keys()].forEach(s=>{const i=Cr(this.data.errors,s);_l(i)||(t=!1)}):t=!!Oce(this.data.errors),t}getInitValues(){return this._adapter.getInitValues()}getInitValue(e){return typeof e>"u"?this._adapter.getInitValues():Cr(this._adapter.getInitValues(),e)}getFormProps(e){return this._adapter.getFormProps(e)}getFieldExist(e){return!!this.fields.has(e)}_autoScroll(e){const{autoScrollToError:t}=this.getFormProps();if(!t)return;let r={behavior:"smooth",block:"start"};typeof t=="object"&&(r=t),e?setTimeout(()=>this._getErrorFieldAndScroll(r),100):this._getErrorFieldAndScroll(r)}_getErrorFieldAndScroll(e){const t=this._adapter.getAllErrorDOM();if(t&&t.length)try{const r=t[0].parentNode.parentNode;lb(r,e)}catch{}}scrollToField(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(e)){const r=this._adapter.getFieldDOM(e);lb(r,t)}}scrollToError(e){let t=e&&e.scrollOpts?e.scrollOpts:{behavior:"smooth",block:"start"},r=e&&e.field,s=e&&e.index,i,a;if(typeof s=="number"){let l=this._adapter.getAllErrorDOM()[s];l&&(i=l.parentNode.parentNode)}else if(r)a=this._adapter.getFieldErrorDOM(r),a&&(i=a.parentNode.parentNode);else if(typeof r>"u"){let o=this._adapter.getAllErrorDOM();o&&o.length&&(i=o[0].parentNode.parentNode)}i&&lb(i,t)}}const WT=v.createContext({});WT.displayName="FormState";const FF=v.createContext({});FF.displayName="FormApi";const sp=v.createContext({});sp.displayName="FormUpdater";const Cve=v.createContext({shouldUseInitValue:!0}),Gb=si.PREFIX;class ip extends D.PureComponent{generatorText(e){const{helpTextId:t,errorMessageId:r}=this.props,s=this.props.error;let i=r;if(s||(i=t),typeof e=="string")return v.createElement("span",{id:i},e);if(Array.isArray(e)){const a=e.filter(o=>o);return a.length?v.createElement("span",{id:i},a.join(", ")):null}else if(v.isValidElement(e))return e;return null}render(){const{error:e,className:t,style:r,validateStatus:s,helpText:i,showValidateIcon:a,isInInputGroup:o}=this.props,l=$({[Gb+"-field-error-message"]:!!e,[Gb+"-field-help-text"]:!!i},t);if(!e&&!i)return null;const u={warning:v.createElement(E2,null),error:v.createElement(Qm,null)},d=e?this.generatorText(e):this.generatorText(i),h=`${Gb}-field-validate-status-icon`;let f=null;return o?f=v.createElement(Qm,{className:h}):u[s]&&(f=v.cloneElement(u[s],{className:h})),v.createElement("div",{className:l,style:r},a&&d?f:null,d)}}ip.propTypes={error:c.oneOfType([c.bool,c.string,c.array,c.node]),className:c.string,style:c.object,validateStatus:c.string,showValidateIcon:c.bool,helpText:c.node,isInInputGroup:c.bool,errorMessageId:c.string,helpTextId:c.string};var Tve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Bd=si.PREFIX,Ive=n=>{let e,t,r,s,i,a="top";try{const S=D.useContext(sp).getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);e=S.labelCol,t=S.wrapperCol,r=S.labelWidth,s=S.labelAlign,a=S.labelPosition?S.labelPosition:a}catch{}n.labelPosition&&(a=n.labelPosition);let{children:o,label:l,className:u,style:d,error:h,noLabel:f}=n;Tve(n,["children","label","className","style","error","noLabel"]);const g=e&&t,b=$({[`${Bd}-field`]:!0,[`${Bd}-slot`]:!0},u),y=$({[`${Bd}-col-${s}`]:!0});switch(!0){case(Pa(l)&&!v.isValidElement(l)):break;case(Re(l)||Qt(l)):l={text:l};break;case v.isValidElement(l):l={text:l};break}let _=null;if(typeof h!==void 0){let w={};switch(!0){case(Pa(h)&&!v.isValidElement(h)):w=h;break;case(Re(h)||Qt(h)):w={error:h};break;case v.isValidElement(h):w={error:h};break}_=v.createElement(ip,Object.assign({},w))}let m=Object.assign({align:s,width:r},l),E=$({[`${Bd}-field-main`]:!0,[`${Bd}-slot-main`]:!0});switch(!0){case(!g&&!f):i=v.createElement(v.Fragment,null,v.createElement(Bi,Object.assign({},m)),v.createElement("div",{className:E},o,_));break;case(!g&&f):i=v.createElement(v.Fragment,null,v.createElement("div",{className:E},o,_));break;case(g&&a==="top"):i=v.createElement(v.Fragment,null,v.createElement("div",{style:{overflow:"hidden"}},v.createElement(Hr,Object.assign({},e,{className:y}),v.createElement(Bi,Object.assign({},m)))),v.createElement(Hr,null,o,_));break;case(g&&a!=="top"):i=v.createElement(v.Fragment,null,v.createElement(Hr,Object.assign({},e,{className:y}),v.createElement(Bi,Object.assign({},m))),v.createElement(Hr,null,o,_));break}return v.createElement("div",{className:b,"x-label-pos":a,style:d},i)},GR=si.PREFIX;class VF extends D.PureComponent{render(){const{text:e,className:t,style:r,children:s}=this.props,i=$({[GR+"-section"]:!0},t),a=GR+"-section-text";return v.createElement("section",{className:i,style:r},v.createElement("h5",{className:a},e),s)}}VF.propTypes={text:c.node,className:c.string,style:c.object,children:c.node};function jF(){return D.useContext(WT)}function Ove(){return D.useContext(sp)}function Yb(n){const e=D.useRef(),[t,r]=D.useState(n);return e.current=t,[t,a=>{e.current=a,r(a)},()=>e.current]}function Pve(){return D.useContext(Cve)}var xve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ru=si.PREFIX,Rve=n=>{const{fieldSet:e}=n,t=jF(),r=e.map(s=>Cr(t.errors,s));return _l(r)?null:v.createElement(ip,{error:r,showValidateIcon:n.showValidateIcon,isInInputGroup:n.isInInputGroup})};class UF extends D.Component{renderLabel(e,t){return e?Re(e)?v.createElement(Bi,{width:t.labelWidth,text:e}):v.createElement(Bi,Object.assign({width:t.labelWidth},e)):null}render(){const e=this.props,{children:t,label:r,extraText:s,extraTextPosition:i}=e,a=xve(e,["children","label","extraText","extraTextPosition"]),l=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),u=this.props.labelPosition||l.labelPosition,d=[],h=v.Children.map(t,T=>T&&T.props&&T.props.field?(d.push(T.props.field),v.cloneElement(T,{isInInputGroup:!0})):null),f=$({[`${Ru}-field-group`]:!0}),g=l.labelCol,b=l.wrapperCol,y=l.labelAlign,_=g&&b,m=g?`${Ru}-col-${y}`:"",E=this.renderLabel(r,l),w=v.createElement(PT,Object.assign({disabled:l.disabled},a),h),S=v.createElement(Rve,{fieldSet:d,showValidateIcon:l.showValidateIcon,isInInputGroup:!0}),O=$(`${Ru}-field-extra`,{[`${Ru}-field-extra-string`]:typeof s=="string",[`${Ru}-field-extra-middle`]:i==="middle",[`${Ru}-field-extra-bottom`]:i==="bottom"}),x=s?v.createElement("div",{className:O,"x-semi-prop":"extraText"},s):null;let I;switch(!0){case!_:I=v.createElement(v.Fragment,null,E,v.createElement("div",null,i==="middle"?x:null,w,i==="bottom"?x:null,S));break;case(_&&u==="top"):I=v.createElement(v.Fragment,null,v.createElement("div",{style:{overflow:"hidden"}},v.createElement(Hr,Object.assign({},g,{className:m}),E)),v.createElement(Hr,Object.assign({},b),i==="middle"?x:null,w,i==="bottom"?x:null,S));break;case(_&&u!=="top"):I=v.createElement(v.Fragment,null,v.createElement(Hr,Object.assign({},g,{className:m}),E),v.createElement(Hr,Object.assign({},b),i==="middle"?x:null,w,i==="bottom"?x:null,S));break}return v.createElement("div",{"x-label-pos":u,className:f},I)}}UF.contextType=sp;const Si=si.PREFIX,qb=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Kn(n,e){let t=(r,s)=>{let{field:i,label:a,labelPosition:o,labelWidth:l,labelAlign:u,labelCol:d,wrapperCol:h,noLabel:f,noErrorMessage:g,isInInputGroup:b,initValue:y,validate:_,validateStatus:m,trigger:E,allowEmptyString:w,allowEmpty:S,emptyValue:O,rules:x,required:I,keepState:T,transform:P,name:A,fieldClassName:k,fieldStyle:L,convert:N,stopValidateWithError:K,helpText:G,extraText:z,extraTextPosition:ee,pure:V,id:H,rest:U}=Eve(r),{options:ae,shouldInject:ne}=wve(e,r);if(zt(typeof i>"u"&&ae.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!ne)return v.createElement(n,Object.assign({},U,{ref:s}));jF();const re=Ove();if(!re.getFormProps)return zt(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let de=re.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),be=o||de.labelPosition,ve=l||de.labelWidth,ge=u||de.labelAlign,pe=d||de.labelCol,te=h||de.wrapperCol,le=ee||de.extraTextPosition||"bottom",ut=bve(K,de.stopValidateWithError,!1),St=_ve(E,de.trigger),Zt=typeof i<"u"?re.getValue(i):void 0,pt=typeof y<"u"?y:Zt,mn;try{mn=Pve(),mn&&(pt=mn.shouldUseInitValue&&typeof y<"u"?y:Zt)}catch{}const[gt,Wn,Nr]=Yb(typeof pt!==void 0?pt:null),_i=St.includes("mount");S=S||re.getFormProps().allowEmpty;const[$t,Ln,_s]=Yb(),[Mr,bs]=D.useState(),[ea,Jt,Dt]=Yb(0),[vn,Tn]=D.useState(m),sr=D.useRef(!1),$n=D.useRef(x),ir=D.useRef(_),Lr=D.useRef(null),ws=(_e,Me)=>{bs(_e),re.updateStateTouched(i,_e,Me)},yn=(_e,Me)=>{sr.current||_e!==_s()&&(Ln(_e),re.updateStateError(i,_e,Me),_l(_e)?Tn("success"):Tn("error"))},Qr=(_e,Me)=>{Wn(_e);let Vt=Object.assign(Object.assign({},Me),{allowEmpty:S});re.updateStateValue(i,_e,Vt)},bi=()=>{let _e={notNotify:!0,notUpdate:!0};Qr(pt!==null?pt:void 0,_e),yn(void 0,_e),ws(void 0,_e),Tn("default")},Es=(_e,Me)=>{let Vt=$n.current||[];const et=vve(i,Vt),Ct={[i]:_e},Tt=new Promise((xt,Ua)=>{et.validate(Ct,{first:ut},(Cs,ts)=>{}).then(Cs=>{sr.current||Lr.current!==Tt||(Tn("success"),yn(void 0,Me),xt({}))}).catch(Cs=>{if(sr.current||Lr.current!==Tt)return;let{errors:ts,fields:ta}=Cs;if(ts&&ta){let ar=ts.map(Ba=>Ba.message);ar.length===1&&(ar=ar[0]),yn(ar,Me),_l(ar)||(Tn("error"),xt(ts))}else throw Tn("error"),yn(Cs.message,Me),xt(Cs.message),Cs})});return Lr.current=Tt,Tt},wi=(_e,Me,Vt)=>{const et=new Promise(Ct=>{let Tt;try{Tt=ir.current(_e,Me)}catch(xt){Tt=xt}Tt===void 0?(Ct({}),yn(void 0,Vt)):OT(Tt)?Tt.then(xt=>{sr.current||Lr.current!==et||(_l(xt)?(yn(void 0,Vt),Ct(null)):(yn(xt,Vt),Ct(xt)))}):_l(Tt)?(yn(void 0,Vt),Ct(null)):(yn(Tt,Vt),Ct(Tt))});return Lr.current=et,et},Zr=(_e,Me)=>{let Vt=_e,et=$n.current;return P&&(Vt=P(_e)),ir.current?wi(Vt,re.getValue(),Me):et?Es(Vt,Me):null},Jr=function(_e,Me){if(ae.onKeyChangeFnName in r&&typeof r[ae.onKeyChangeFnName]=="function"){for(var et=arguments.length,Ct=new Array(et>2?et-2:0),Tt=2;Tt<et;Tt++)Ct[Tt-2]=arguments[Tt];r[ae.onKeyChangeFnName](_e,Me,...Ct)}let xt;ae.valuePath?xt=Cr(_e,ae.valuePath):xt=_e,typeof N=="function"&&(xt=N(xt)),w||S||xt===O&&(xt=void 0);try{Me&&Me.target&&Me.target.selectionStart&&Jt(Me.target.selectionStart)}catch{}ws(!0,{notNotify:!0,notUpdate:!0}),Qr(xt),St.includes("change")&&Zr(xt)},mt=function(){if(r.onBlur&&r.onBlur(...arguments),Mr||ws(!0),St.includes("blur")){let _e=Nr();Zr(_e)}},Kt={setValue:Qr,setTouched:ws,setError:yn,reset:bi,validate:Zr},ht={value:gt,error:$t,touched:Mr,status:vn};qb(()=>{$n.current=x,ir.current=_},[x,_]),qb(()=>(sr.current=!1,_i&&Zr(gt),()=>{sr.current=!0}),[]),qb(()=>{if(typeof i>"u")return()=>{};const _e=Nr();return re.register(i,{value:_e,error:$t,touched:Mr,status:vn},{field:i,fieldApi:Kt,keepState:T,allowEmpty:S||w}),()=>{re.unRegister(i)}},[i]);const en=H||i,Ft=`${en}-label`,Wt=`${en}-helpText`,_n=`${en}-extraText`,Ss=`${en}-errormessage`,je=()=>{let _e=m||vn;const Me=$(`${Si}-field-extra`,{[`${Si}-field-extra-string`]:typeof z=="string",[`${Si}-field-extra-middle`]:le==="middle",[`${Si}-field-extra-bottom`]:le==="bottom"}),Vt=z?v.createElement("div",{className:Me,id:_n,"x-semi-prop":"extraText"},z):null;let et=Object.assign(Object.assign({id:en,disabled:de.disabled},U),{ref:s,onBlur:mt,[ae.onKeyChangeFnName]:Jr,[ae.valueKey]:gt,validateStatus:_e,"aria-required":I,"aria-labelledby":Ft});A&&(et.name=A),G&&(et["aria-describedby"]=z?`${Wt} ${_n}`:Wt),z&&(et["aria-describedby"]=G?`${Wt} ${_n}`:_n),vn==="error"&&(et["aria-errormessage"]=Ss,et["aria-invalid"]=!0);const Ct=$({[`${Si}-field`]:!0,[`${Si}-field-${A}`]:!!A,[k]:!!k}),Tt=$({[`${Si}-field-main`]:!0});be==="inset"&&!f&&(et.insetLabel=a||i,et.insetLabelId=Ft,typeof a=="object"&&!Cw(a)&&(et.insetLabel=a.text,et.insetLabelId=Ft));const xt=v.createElement(n,Object.assign({},et));if(b)return xt;if(V){let Ba=$(U.className,{[`${Si}-field-pure`]:!0,[`${Si}-field-${A}`]:!!A,[k]:!!k});return et.className=Ba,v.createElement(n,Object.assign({},et))}let Ua=pe&&te;const Cs=ge?`${Si}-col-${ge}`:"";let ts=null;if(!f&&be!=="inset"){let Ba=typeof a=="object"&&!Cw(a)?a:{};ts=v.createElement(Bi,Object.assign({text:a||i,id:Ft,required:I,name:en||A||i,width:ve,align:ge},Ba))}const ta=v.createElement("div",{className:Tt},le==="middle"?Vt:null,xt,g?null:v.createElement(ip,{error:$t,validateStatus:_e,helpText:G,helpTextId:Wt,errorMessageId:Ss,showValidateIcon:de.showValidateIcon}),le==="bottom"?Vt:null),ar=v.createElement(v.Fragment,null,be==="top"?v.createElement("div",{style:{overflow:"hidden"}},v.createElement(Hr,Object.assign({},pe,{className:Cs}),ts)):v.createElement(Hr,Object.assign({},pe,{className:Cs}),ts),v.createElement(Hr,Object.assign({},te),ta));return v.createElement("div",{className:Ct,style:L,"x-label-pos":be,"x-field-id":i,"x-extra-pos":le},Ua?ar:v.createElement(v.Fragment,null,ts,ta))},es=[...Object.values(ht),...Object.values(r),i,be,ge,de.disabled];return ae.shouldMemo?D.useMemo(je,[...es]):je()};return t=D.forwardRef(t),t.displayName=mve(n),t}const Ave=Kn(Hn,{maintainCursor:!0}),Dve=Kn(Tpe,{maintainCursor:!0}),kve=Kn(ppe,{maintainCursor:!0}),GT=Kn(qi);GT.Option=qi.Option;GT.OptGroup=qi.OptGroup;const Nve=Kn(Xf),Mve=Kn(Aa,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),Lve=Kn(NT,{valuePath:"target.value"}),$ve=Kn(Bl,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),Fve=Kn(ipe),Vve=Kn(VT,{valueKey:"checked"}),jve=Kn(FT),Uve=Kn(df),Bve=Kn(By),Hve=Kn(kc),zve=Kn(Uy),Kve=Kn(Ac,{valueKey:"value",onKeyChangeFnName:"onChange"}),Wve=Kn(zy,{valueKey:"fileList",valuePath:"fileList",onKeyChangeFnName:"onChange"}),Gve=Kn(tp);var Yve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Xb=si.PREFIX;class Pt extends Ae{constructor(e){super(e),this.state={formId:""},zt(!!(e.component&&e.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),zt(e.component&&e.children&&!rx(e.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),zt(e.render&&e.children&&!rx(e.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new Sve(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:uee,notifySubmit:(e,t)=>{this.props.onSubmit(e,t)},notifySubmitFail:(e,t,r)=>{this.props.onSubmitFail(e,t,r)},forceUpdate:e=>{this.forceUpdate(e)},notifyChange:e=>{this.props.onChange(e)},notifyValueChange:(e,t)=>{this.props.onValueChange(e,t)},notifyErrorChange:(e,t)=>{this.props.onErrorChange(e,t)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:Vg()})},getInitValues:()=>this.props.initValues,getFormProps:e=>{if(typeof e>"u")return this.props;if(typeof e=="string")return this.props[e];{const t={};return e.forEach(r=>{t[r]=this.props[r]}),t}},getAllErrorDOM:()=>{const{formId:e}=this.state,{id:t}=this.props,r=t||e;return document.querySelectorAll(`form[x-form-id="${r}"] .${si.PREFIX}-field-error-message`)},getFieldDOM:e=>document.querySelector(`.${si.PREFIX}-field[x-field-id="${e}"]`),getFieldErrorDOM:e=>{const{formId:t}=this.state,{id:r}=this.props;let i=`form[x-form-id="${r||t}"] .${si.PREFIX}-field[x-field-id="${e}"] .${si.PREFIX}-field-error-message`;return document.querySelector(i)}})}get content(){const{children:e,component:t,render:r}=this.props,s=this.foundation.getFormState(),i={formState:s,formApi:this.foundation.getFormApi(),values:s.values};return t?v.createElement(t,i):r?r(i):typeof e=="function"?e(i):e}submit(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.submit&&e.stopPropagation(),this.foundation.submit(e)}reset(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.reset&&e.stopPropagation(),this.foundation.reset()}render(){const t=this.foundation.getFormState(!1),r=this.foundation.getModifyFormStateApi(),{formId:s}=this.state,i=this.props,{children:a,getFormApi:o,onChange:l,onSubmit:u,onSubmitFail:d,onErrorChange:h,onValueChange:f,component:g,render:b,validateFields:y,initValues:_,layout:m,style:E,className:w,labelPosition:S,labelWidth:O,labelAlign:x,labelCol:I,wrapperCol:T,allowEmpty:P,autoScrollToError:A,showValidateIcon:k,stopValidateWithError:L,extraTextPosition:N,id:K,trigger:G}=i,z=Yve(i,["children","getFormApi","onChange","onSubmit","onSubmitFail","onErrorChange","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),ee=$(Xb,w,{[Xb+"-vertical"]:m==="vertical",[Xb+"-horizontal"]:m==="horizontal"}),V=T&&I,H=v.createElement("form",Object.assign({style:E},z,{onReset:this.reset,onSubmit:this.submit,className:ee,id:K||s,"x-form-id":K||s}),this.content),U=v.createElement(Fy,null,H);return v.createElement(sp.Provider,{value:r},v.createElement(FF.Provider,{value:this.formApi},v.createElement(WT.Provider,{value:t},V?U:H)))}}Pt.propTypes={"aria-label":c.string,onSubmit:c.func,onSubmitFail:c.func,onChange:c.func,onReset:c.func,onValueChange:c.func,autoScrollToError:c.oneOfType([c.bool,c.object]),allowEmpty:c.bool,className:c.string,component:c.oneOfType([c.node,c.func]),disabled:c.bool,extraTextPosition:c.oneOf(th.EXTRA_POS),getFormApi:c.func,initValues:c.object,validateFields:c.func,layout:c.oneOf(th.LAYOUT),labelPosition:c.oneOf(th.LABEL_POS),labelWidth:c.oneOfType([c.number,c.string]),labelAlign:c.oneOf(th.LABEL_ALIGN),labelCol:c.object,render:c.func,style:c.object,showValidateIcon:c.bool,stopValidateWithError:c.bool,stopPropagation:c.shape({submit:c.bool,reset:c.bool}),id:c.string,wrapperCol:c.object,trigger:c.oneOfType([c.oneOf(["blur","change","custom","mount"]),c.arrayOf(c.oneOf(["blur","change","custom","mount"]))])};Pt.defaultProps={onChange:F,onSubmitFail:F,onSubmit:F,onReset:F,onValueChange:F,onErrorChange:F,layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0};Pt.Input=Ave;Pt.TextArea=kve;Pt.InputNumber=Dve;Pt.Select=GT;Pt.Checkbox=Mve;Pt.CheckboxGroup=Nve;Pt.Radio=$ve;Pt.RadioGroup=Lve;Pt.DatePicker=Fve;Pt.TimePicker=Uve;Pt.Switch=Vve;Pt.Slider=jve;Pt.TreeSelect=Bve;Pt.Cascader=Hve;Pt.Rating=zve;Pt.AutoComplete=Kve;Pt.Upload=Wve;Pt.TagInput=Gve;Pt.Slot=Ive;Pt.ErrorMessage=ip;Pt.InputGroup=UF;Pt.Label=Bi;Pt.Section=VF;var YR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},qve=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],a=n[t++],o=n[t++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],a=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},HF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],a=s+1<n.length,o=a?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,d=i>>2,h=(i&3)<<4|o>>4;let f=(o&15)<<2|u>>6,g=u&63;l||(g=64,a||(f=64)),r.push(t[d],t[h],t[f],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qve(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],o=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||o==null||u==null||h==null)throw new Xve;const f=i<<2|o>>4;if(r.push(f),u!==64){const g=o<<4&240|u>>2;if(r.push(g),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Xve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qve=function(n){const e=BF(n);return HF.encodeByteArray(e,!0)},cv=function(n){return Qve(n).replace(/\./g,"")},zF=function(n){try{return HF.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jve=()=>Zve().__FIREBASE_DEFAULTS__,eye=()=>{if(typeof process>"u"||typeof YR>"u")return;const n=YR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tye=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zF(n[1]);return e&&JSON.parse(e)},Ky=()=>{try{return Jve()||eye()||tye()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},KF=n=>{var e,t;return(t=(e=Ky())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},nye=n=>{const e=KF(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},WF=()=>{var n;return(n=Ky())===null||n===void 0?void 0:n.config},GF=n=>{var e;return(e=Ky())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sye(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cv(JSON.stringify(t)),cv(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wr())}function aye(){var n;const e=(n=Ky())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oye(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lye(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uye(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cye(){const n=wr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dye(){return!aye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hye(){try{return typeof indexedDB=="object"}catch{return!1}}function fye(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pye="FirebaseError";class Va extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=pye,Object.setPrototypeOf(this,Va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ap.prototype.create)}}class ap{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?gye(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Va(s,o,r)}}function gye(n,e){return n.replace(mye,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mye=/\{\$([^}]+)}/g;function vye(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function dv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],a=e[s];if(qR(i)&&qR(a)){if(!dv(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function qR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function sh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yye(n,e){const t=new _ye(n,e);return t.subscribe.bind(t)}class _ye{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bye(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Qb),s.error===void 0&&(s.error=Qb),s.complete===void 0&&(s.complete=Qb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bye(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(n){return n&&n._delegate?n._delegate:n}class zl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wye{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new rye;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sye(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Eye(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Eye(n){return n===hl?void 0:n}function Sye(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cye{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wye(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const Tye={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Iye=Ye.INFO,Oye={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Pye=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Oye[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let YT=class{constructor(e){this.name=e,this._logLevel=Iye,this._logHandler=Pye,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tye[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};const xye=(n,e)=>e.some(t=>n instanceof t);let XR,QR;function Rye(){return XR||(XR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aye(){return QR||(QR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YF=new WeakMap,HE=new WeakMap,qF=new WeakMap,Zb=new WeakMap,qT=new WeakMap;function Dye(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",a)},i=()=>{t(Ro(n.result)),s()},a=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&YF.set(t,n)}).catch(()=>{}),qT.set(e,n),e}function kye(n){if(HE.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",a),n.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",a),n.addEventListener("abort",a)});HE.set(n,e)}let zE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return HE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qF.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ro(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Nye(n){zE=n(zE)}function Mye(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jb(this),e,...t);return qF.set(r,e.sort?e.sort():[e]),Ro(r)}:Aye().includes(n)?function(...e){return n.apply(Jb(this),e),Ro(YF.get(this))}:function(...e){return Ro(n.apply(Jb(this),e))}}function Lye(n){return typeof n=="function"?Mye(n):(n instanceof IDBTransaction&&kye(n),xye(n,Rye())?new Proxy(n,zE):n)}function Ro(n){if(n instanceof IDBRequest)return Dye(n);if(Zb.has(n))return Zb.get(n);const e=Lye(n);return e!==n&&(Zb.set(n,e),qT.set(e,n)),e}const Jb=n=>qT.get(n);function $ye(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(n,e),o=Ro(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ro(a.result),l.oldVersion,l.newVersion,Ro(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Fye=["get","getKey","getAll","getAllKeys","count"],Vye=["put","add","delete","clear"],e0=new Map;function ZR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(e0.get(e))return e0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Vye.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Fye.includes(t)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),s&&l.done]))[0]};return e0.set(e,i),i}Nye(n=>({...n,get:(e,t,r)=>ZR(e,t)||n.get(e,t,r),has:(e,t)=>!!ZR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jye{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Uye(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Uye(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const KE="@firebase/app",JR="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new YT("@firebase/app"),Bye="@firebase/app-compat",Hye="@firebase/analytics-compat",zye="@firebase/analytics",Kye="@firebase/app-check-compat",Wye="@firebase/app-check",Gye="@firebase/auth",Yye="@firebase/auth-compat",qye="@firebase/database",Xye="@firebase/data-connect",Qye="@firebase/database-compat",Zye="@firebase/functions",Jye="@firebase/functions-compat",e_e="@firebase/installations",t_e="@firebase/installations-compat",n_e="@firebase/messaging",r_e="@firebase/messaging-compat",s_e="@firebase/performance",i_e="@firebase/performance-compat",a_e="@firebase/remote-config",o_e="@firebase/remote-config-compat",l_e="@firebase/storage",u_e="@firebase/storage-compat",c_e="@firebase/firestore",d_e="@firebase/vertexai-preview",h_e="@firebase/firestore-compat",f_e="firebase",p_e="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="[DEFAULT]",g_e={[KE]:"fire-core",[Bye]:"fire-core-compat",[zye]:"fire-analytics",[Hye]:"fire-analytics-compat",[Wye]:"fire-app-check",[Kye]:"fire-app-check-compat",[Gye]:"fire-auth",[Yye]:"fire-auth-compat",[qye]:"fire-rtdb",[Xye]:"fire-data-connect",[Qye]:"fire-rtdb-compat",[Zye]:"fire-fn",[Jye]:"fire-fn-compat",[e_e]:"fire-iid",[t_e]:"fire-iid-compat",[n_e]:"fire-fcm",[r_e]:"fire-fcm-compat",[s_e]:"fire-perf",[i_e]:"fire-perf-compat",[a_e]:"fire-rc",[o_e]:"fire-rc-compat",[l_e]:"fire-gcs",[u_e]:"fire-gcs-compat",[c_e]:"fire-fst",[h_e]:"fire-fst-compat",[d_e]:"fire-vertex","fire-js":"fire-js",[f_e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map,m_e=new Map,GE=new Map;function eA(n,e){try{n.container.addComponent(e)}catch(t){ka.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mc(n){const e=n.name;if(GE.has(e))return ka.debug(`There were multiple attempts to register component ${e}.`),!1;GE.set(e,n);for(const t of hv.values())eA(t,n);for(const t of m_e.values())eA(t,n);return!0}function XT(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ki(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new ap("app","Firebase",v_e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_e{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=p_e;function XF(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:WE,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ao.create("bad-app-name",{appName:String(s)});if(t||(t=WF()),!t)throw Ao.create("no-options");const i=hv.get(s);if(i){if(dv(t,i.options)&&dv(r,i.config))return i;throw Ao.create("duplicate-app",{appName:s})}const a=new Cye(s);for(const l of GE.values())a.addComponent(l);const o=new y_e(t,r,a);return hv.set(s,o),o}function QF(n=WE){const e=hv.get(n);if(!e&&n===WE&&WF())return XF();if(!e)throw Ao.create("no-app",{appName:n});return e}function Do(n,e,t){var r;let s=(r=g_e[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ka.warn(o.join(" "));return}Mc(new zl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __e="firebase-heartbeat-database",b_e=1,ff="firebase-heartbeat-store";let t0=null;function ZF(){return t0||(t0=$ye(__e,b_e,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ff)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ao.create("idb-open",{originalErrorMessage:n.message})})),t0}async function w_e(n){try{const t=(await ZF()).transaction(ff),r=await t.objectStore(ff).get(JF(n));return await t.done,r}catch(e){if(e instanceof Va)ka.warn(e.message);else{const t=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ka.warn(t.message)}}}async function tA(n,e){try{const r=(await ZF()).transaction(ff,"readwrite");await r.objectStore(ff).put(e,JF(n)),await r.done}catch(t){if(t instanceof Va)ka.warn(t.message);else{const r=Ao.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ka.warn(r.message)}}}function JF(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_e=1024,S_e=30*24*60*60*1e3;class C_e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new I_e(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=S_e}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ka.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nA(),{heartbeatsToSend:r,unsentEntries:s}=T_e(this._heartbeatsCache.heartbeats),i=cv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ka.warn(t),""}}}function nA(){return new Date().toISOString().substring(0,10)}function T_e(n,e=E_e){const t=[];let r=n.slice();for(const s of n){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),rA(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),rA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class I_e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hye()?fye().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await w_e(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return tA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return tA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rA(n){return cv(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_e(n){Mc(new zl("platform-logger",e=>new jye(e),"PRIVATE")),Mc(new zl("heartbeat",e=>new C_e(e),"PRIVATE")),Do(KE,JR,n),Do(KE,JR,"esm2017"),Do("fire-js","")}O_e("");function QT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function eV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P_e=eV,tV=new ap("auth","Firebase",eV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new YT("@firebase/auth");function x_e(n,...e){fv.logLevel<=Ye.WARN&&fv.warn(`Auth (${hd}): ${n}`,...e)}function Xg(n,...e){fv.logLevel<=Ye.ERROR&&fv.error(`Auth (${hd}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n,...e){throw ZT(n,...e)}function Hi(n,...e){return ZT(n,...e)}function nV(n,e,t){const r=Object.assign(Object.assign({},P_e()),{[e]:t});return new ap("auth","Firebase",r).create(e,{appName:n.name})}function wa(n){return nV(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return tV.create(n,...e)}function Ee(n,e,...t){if(!n)throw ZT(e,...t)}function fa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xg(e),new Error(e)}function Na(n,e){n||fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function R_e(){return sA()==="http:"||sA()==="https:"}function sA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R_e()||lye()||"connection"in navigator)?navigator.onLine:!0}function D_e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Na(t>e,"Short delay should be less than long delay!"),this.isMobile=iye()||uye()}get(){return A_e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n,e){Na(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_e=new lp(3e4,6e4);function Xo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ja(n,e,t,r,s={}){return sV(n,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=op(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},i);return oye()||(u.referrerPolicy="no-referrer"),rV.fetch()(iV(n,n.config.apiHost,t,o),u)})}async function sV(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},k_e),e);try{const s=new L_e(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw gg(n,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gg(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw gg(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw gg(n,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nV(n,d,u);gi(n,d)}}catch(s){if(s instanceof Va)throw s;gi(n,"network-request-failed",{message:String(s)})}}async function up(n,e,t,r,s={}){const i=await ja(n,e,t,r,s);return"mfaPendingCredential"in i&&gi(n,"multi-factor-auth-required",{_serverResponse:i}),i}function iV(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?JT(n.config,s):`${n.config.apiScheme}://${s}`}function M_e(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L_e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),N_e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Hi(n,e,r);return s.customData._tokenResponse=t,s}function iA(n){return n!==void 0&&n.enterprise!==void 0}class $_e{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return M_e(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function F_e(n,e){return ja(n,"GET","/v2/recaptchaConfig",Xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V_e(n,e){return ja(n,"POST","/v1/accounts:delete",e)}async function aV(n,e){return ja(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j_e(n,e=!1){const t=zn(n),r=await t.getIdToken(e),s=e1(r);Ee(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ch(n0(s.auth_time)),issuedAtTime:Ch(n0(s.iat)),expirationTime:Ch(n0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function n0(n){return Number(n)*1e3}function e1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xg("JWT malformed, contained fewer than 3 sections"),null;try{const s=zF(t);return s?JSON.parse(s):(Xg("Failed to decode base64 JWT payload"),null)}catch(s){return Xg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function aA(n){const e=e1(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Va&&U_e(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function U_e({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Lc(n,aV(t,{idToken:r}));Ee(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?oV(i.providerUserInfo):[],o=z_e(n.providerData,a),l=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qE(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function H_e(n){const e=zn(n);await pv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z_e(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oV(n){return n.map(e=>{var{providerId:t}=e,r=QT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K_e(n,e){const t=await sV(n,{},async()=>{const r=op({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,a=iV(n,s,"/v1/token",`key=${i}`),o=await n._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",rV.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function W_e(n,e){return ja(n,"POST","/v2/accounts:revokeToken",Xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=aA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await K_e(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,a=new mc;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ee(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mc,this.toJSON())}_performRefresh(){return fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pa{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=QT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B_e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return j_e(this,e)}reload(){return H_e(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Lc(this,V_e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,a,o,l,u,d;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(s=t.email)!==null&&s!==void 0?s:void 0,g=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,b=(a=t.photoURL)!==null&&a!==void 0?a:void 0,y=(o=t.tenantId)!==null&&o!==void 0?o:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=t.createdAt)!==null&&u!==void 0?u:void 0,E=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:S,isAnonymous:O,providerData:x,stsTokenManager:I}=t;Ee(w&&I,e,"internal-error");const T=mc.fromJSON(this.name,I);Ee(typeof w=="string",e,"internal-error"),Qa(h,e.name),Qa(f,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),Qa(g,e.name),Qa(b,e.name),Qa(y,e.name),Qa(_,e.name),Qa(m,e.name),Qa(E,e.name);const P=new pa({uid:w,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:O,photoURL:b,phoneNumber:g,tenantId:y,stsTokenManager:T,createdAt:m,lastLoginAt:E});return x&&Array.isArray(x)&&(P.providerData=x.map(A=>Object.assign({},A))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new mc;s.updateFromServerResponse(t);const i=new pa({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pv(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ee(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?oV(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),o=new mc;o.updateFromIdToken(r);const l=new pa({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;function ga(n){Na(n instanceof Function,"Expected a class definition");let e=oA.get(n);return e?(Na(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lV.type="NONE";const lA=lV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(n,e,t){return`firebase:${n}:${e}:${t}`}class vc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Qg(this.userKey,s.apiKey,i),this.fullPersistenceKey=Qg("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new vc(ga(lA),e,r);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ga(lA);const a=Qg(r,e.config.apiKey,e.name);let o=null;for(const u of t)try{const d=await u._get(a);if(d){const h=pa._fromJSON(e,d);u!==i&&(o=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new vc(i,e,r):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new vc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pV(e))return"Blackberry";if(gV(e))return"Webos";if(cV(e))return"Safari";if((e.includes("chrome/")||dV(e))&&!e.includes("edge/"))return"Chrome";if(fV(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uV(n=wr()){return/firefox\//i.test(n)}function cV(n=wr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dV(n=wr()){return/crios\//i.test(n)}function hV(n=wr()){return/iemobile/i.test(n)}function fV(n=wr()){return/android/i.test(n)}function pV(n=wr()){return/blackberry/i.test(n)}function gV(n=wr()){return/webos/i.test(n)}function t1(n=wr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function G_e(n=wr()){var e;return t1(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Y_e(){return cye()&&document.documentMode===10}function mV(n=wr()){return t1(n)||fV(n)||gV(n)||pV(n)||/windows phone/i.test(n)||hV(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(n,e=[]){let t;switch(n){case"Browser":t=uA(wr());break;case"Worker":t=`${uA(wr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((a,o)=>{try{const l=e(i);a(l)}catch(l){o(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X_e(n,e={}){return ja(n,"GET","/v2/passwordPolicy",Xo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_e=6;class Z_e{constructor(e){var t,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:Q_e,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_e{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cA(this),this.idTokenSubscription=new cA(this),this.beforeStateQueue=new q_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ga(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await vc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await aV(this,{idToken:e}),r=await pa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ki(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pv(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D_e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ki(this.app))return Promise.reject(wa(this));const t=e?zn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ki(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ga(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X_e(this),t=new Z_e(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ap("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await W_e(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ga(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await vc.create(this,[ga(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&x_e(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fu(n){return zn(n)}class cA{constructor(e){this.auth=e,this.observer=null,this.addObserver=yye(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ebe(n){Wy=n}function yV(n){return Wy.loadJS(n)}function tbe(){return Wy.recaptchaEnterpriseScript}function nbe(){return Wy.gapiScript}function rbe(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const sbe="recaptcha-enterprise",ibe="NO_RECAPTCHA";class abe{constructor(e){this.type=sbe,this.auth=fu(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{F_e(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new $_e(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function s(i,a,o){const l=window.grecaptcha;iA(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(ibe)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(o=>{if(!t&&iA(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tbe();l.length!==0&&(l+=o),yV(l).then(()=>{s(o,i,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function dA(n,e,t,r=!1){const s=new abe(n);let i;try{i=await s.verify(t)}catch{i=await s.verify(t,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function XE(n,e,t,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await dA(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await dA(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function obe(n,e){const t=XT(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(dv(i,e??{}))return s;gi(s,"already-initialized")}return t.initialize({options:e})}function lbe(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ga);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ube(n,e,t){const r=fu(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=_V(e),{host:a,port:o}=cbe(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),dbe()}function _V(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cbe(n){const e=_V(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:hA(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:hA(a)}}}function hA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dbe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fa("not implemented")}_getIdTokenResponse(e){return fa("not implemented")}_linkToIdToken(e,t){return fa("not implemented")}_getReauthenticationResolver(e){return fa("not implemented")}}async function hbe(n,e){return ja(n,"POST","/v1/accounts:update",e)}async function fbe(n,e){return ja(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pbe(n,e){return up(n,"POST","/v1/accounts:signInWithPassword",Xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gbe(n,e){return up(n,"POST","/v1/accounts:signInWithEmailLink",Xo(n,e))}async function mbe(n,e){return up(n,"POST","/v1/accounts:signInWithEmailLink",Xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends n1{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new pf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new pf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return XE(e,t,"signInWithPassword",pbe);case"emailLink":return gbe(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return XE(e,r,"signUpPassword",fbe);case"emailLink":return mbe(e,{idToken:t,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(n,e){return up(n,"POST","/v1/accounts:signInWithIdp",Xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vbe="http://localhost";class Kl extends n1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=QT(t,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Kl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return yc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,yc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yc(e,t)}buildRequest(){const e={requestUri:vbe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=op(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ybe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _be(n){const e=rh(sh(n)).link,t=e?rh(sh(e)).deep_link_id:null,r=rh(sh(n)).deep_link_id;return(r?rh(sh(r)).link:null)||r||t||e||n}class r1{constructor(e){var t,r,s,i,a,o;const l=rh(sh(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=ybe((s=l.mode)!==null&&s!==void 0?s:null);Ee(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const t=_be(e);try{return new r1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.providerId=fd.PROVIDER_ID}static credential(e,t){return pf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=r1.parseLink(t);return Ee(r,"argument-error"),pf._fromEmailAndCode(e,r.code,r.tenantId)}}fd.PROVIDER_ID="password";fd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends bV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends cp{constructor(){super("facebook.com")}static credential(e){return Kl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends cp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Kl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return oo.credential(t,r)}catch{return null}}}oo.GOOGLE_SIGN_IN_METHOD="google.com";oo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends cp{constructor(){super("github.com")}static credential(e){return Kl._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.GITHUB_SIGN_IN_METHOD="github.com";lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends cp{constructor(){super("twitter.com")}static credential(e,t){return Kl._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return uo.credential(t,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bbe(n,e){return up(n,"POST","/v1/accounts:signUp",Xo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await pa._fromIdTokenResponse(e,r,s),a=fA(r);return new Wl({user:i,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=fA(r);return new Wl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function fA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Va{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gv.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new gv(e,t,r,s)}}function wV(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gv._fromErrorAndOperation(n,i,e,r):i})}async function wbe(n,e,t=!1){const r=await Lc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Wl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ebe(n,e,t=!1){const{auth:r}=n;if(ki(r.app))return Promise.reject(wa(r));const s="reauthenticate";try{const i=await Lc(n,wV(r,s,e,n),t);Ee(i.idToken,r,"internal-error");const a=e1(i.idToken);Ee(a,r,"internal-error");const{sub:o}=a;return Ee(n.uid===o,r,"user-mismatch"),Wl._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&gi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(n,e,t=!1){if(ki(n.app))return Promise.reject(wa(n));const r="signIn",s=await wV(n,r,e),i=await Wl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function Sbe(n,e){return EV(fu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(n){const e=fu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Cbe(n,e,t){if(ki(n.app))return Promise.reject(wa(n));const r=fu(n),a=await XE(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bbe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&SV(n),l}),o=await Wl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Tbe(n,e,t){return ki(n.app)?Promise.reject(wa(n)):Sbe(zn(n),fd.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SV(n),r})}function Ibe(n,e){return Obe(zn(n),null,e)}async function Obe(n,e,t){const{auth:r}=n,i={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(i.password=t);const a=await Lc(n,hbe(r,i));await n._updateTokensIfNecessary(a,!0)}function Pbe(n,e,t,r){return zn(n).onIdTokenChanged(e,t,r)}function xbe(n,e,t){return zn(n).beforeAuthStateChanged(e,t)}function Rbe(n,e,t,r){return zn(n).onAuthStateChanged(e,t,r)}function Abe(n){return zn(n).signOut()}const mv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mv,"1"),this.storage.removeItem(mv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dbe=1e3,kbe=10;class TV extends CV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);Y_e()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,kbe):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Dbe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}TV.type="LOCAL";const Nbe=TV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV extends CV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IV.type="SESSION";const OV=IV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mbe(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Gy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async u=>u(t.origin,i)),l=await Mbe(o);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lbe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const u=s1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function $be(n){zi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function Fbe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vbe(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jbe(){return PV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="firebaseLocalStorageDb",Ube=1,vv="firebaseLocalStorage",RV="fbase_key";class dp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yy(n,e){return n.transaction([vv],e?"readwrite":"readonly").objectStore(vv)}function Bbe(){const n=indexedDB.deleteDatabase(xV);return new dp(n).toPromise()}function QE(){const n=indexedDB.open(xV,Ube);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vv,{keyPath:RV})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vv)?e(r):(r.close(),await Bbe(),e(await QE()))})})}async function pA(n,e,t){const r=Yy(n,!0).put({[RV]:e,value:t});return new dp(r).toPromise()}async function Hbe(n,e){const t=Yy(n,!1).get(e),r=await new dp(t).toPromise();return r===void 0?null:r.value}function gA(n,e){const t=Yy(n,!0).delete(e);return new dp(t).toPromise()}const zbe=800,Kbe=3;class AV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Kbe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gy._getInstance(jbe()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Fbe(),!this.activeServiceWorker)return;this.sender=new Lbe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Vbe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await QE();return await pA(e,mv,"1"),await gA(e,mv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>pA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Hbe(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Yy(s,!1).getAll();return new dp(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zbe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AV.type="LOCAL";const Wbe=AV;new lp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gbe(n,e){return e?ga(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends n1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ybe(n){return EV(n.auth,new i1(n),n.bypassAuthState)}function qbe(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),Ebe(t,new i1(n),n.bypassAuthState)}async function Xbe(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),wbe(t,new i1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ybe;case"linkViaPopup":case"linkViaRedirect":return Xbe;case"reauthViaPopup":case"reauthViaRedirect":return qbe;default:gi(this.auth,"internal-error")}}resolve(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qbe=new lp(2e3,1e4);class sc extends DV{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,sc.currentPopupAction&&sc.currentPopupAction.cancel(),sc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Na(this.filter.length===1,"Popup operations only handle one event");const e=s1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qbe.get())};e()}}sc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zbe="pendingRedirect",Zg=new Map;class Jbe extends DV{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Zg.get(this.auth._key());if(!e){try{const r=await e0e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Zg.set(this.auth._key(),e)}return this.bypassAuthState||Zg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e0e(n,e){const t=r0e(e),r=n0e(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function t0e(n,e){Zg.set(n._key(),e)}function n0e(n){return ga(n._redirectPersistence)}function r0e(n){return Qg(Zbe,n.config.apiKey,n.name)}async function s0e(n,e,t=!1){if(ki(n.app))return Promise.reject(wa(n));const r=fu(n),s=Gbe(r,e),a=await new Jbe(r,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0e=10*60*1e3;class a0e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o0e(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kV(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Hi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i0e&&this.cachedEventUids.clear(),this.cachedEventUids.has(mA(e))}saveEventToCache(e){this.cachedEventUids.add(mA(e)),this.lastProcessedEventTime=Date.now()}}function mA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kV({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o0e(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kV(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0e(n,e={}){return ja(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c0e=/^https?/;async function d0e(n){if(n.config.emulator)return;const{authorizedDomains:e}=await l0e(n);for(const t of e)try{if(h0e(t))return}catch{}gi(n,"unauthorized-domain")}function h0e(n){const e=YE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!c0e.test(t))return!1;if(u0e.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0e=new lp(3e4,6e4);function vA(){const n=zi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function p0e(n){return new Promise((e,t)=>{var r,s,i;function a(){vA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vA(),t(Hi(n,"network-request-failed"))},timeout:f0e.get()})}if(!((s=(r=zi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=zi().gapi)===null||i===void 0)&&i.load)a();else{const o=rbe("iframefcb");return zi()[o]=()=>{gapi.load?a():t(Hi(n,"network-request-failed"))},yV(`${nbe()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Jg=null,e})}let Jg=null;function g0e(n){return Jg=Jg||p0e(n),Jg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0e=new lp(5e3,15e3),v0e="__/auth/iframe",y0e="emulator/auth/iframe",_0e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b0e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w0e(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?JT(e,y0e):`https://${n.config.authDomain}/${v0e}`,r={apiKey:e.apiKey,appName:n.name,v:hd},s=b0e.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${op(r).slice(1)}`}async function E0e(n){const e=await g0e(n),t=zi().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:w0e(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_0e,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Hi(n,"network-request-failed"),o=zi().setTimeout(()=>{i(a)},m0e.get());function l(){zi().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C0e=500,T0e=600,I0e="_blank",O0e="http://localhost";class yA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P0e(n,e,t,r=C0e,s=T0e){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},S0e),{width:r.toString(),height:s.toString(),top:i,left:a}),u=wr().toLowerCase();t&&(o=dV(u)?I0e:t),uV(u)&&(e=e||O0e,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,b])=>`${f}${g}=${b},`,"");if(G_e(u)&&o!=="_self")return x0e(e||"",o),new yA(null);const h=window.open(e||"",o,d);Ee(h,n,"popup-blocked");try{h.focus()}catch{}return new yA(h)}function x0e(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0e="__/auth/handler",A0e="emulator/auth/handler",D0e=encodeURIComponent("fac");async function _A(n,e,t,r,s,i){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:hd,eventId:s};if(e instanceof bV){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",vye(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof cp){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await n._getAppCheckToken(),u=l?`#${D0e}=${encodeURIComponent(l)}`:"";return`${k0e(n)}?${op(o).slice(1)}${u}`}function k0e({config:n}){return n.emulator?JT(n,A0e):`https://${n.authDomain}/${R0e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="webStorageSupport";class N0e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OV,this._completeRedirectFn=s0e,this._overrideRedirectResult=t0e}async _openPopup(e,t,r,s){var i;Na((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await _A(e,t,r,YE(),s);return P0e(e,a,s1())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await _A(e,t,r,YE(),s);return $be(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Na(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await E0e(e),r=new a0e(e);return t.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(r0,{type:r0},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[r0];a!==void 0&&t(!!a),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=d0e(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mV()||cV()||t1()}}const M0e=N0e;var bA="@firebase/auth",wA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0e(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F0e(n){Mc(new zl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Ee(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vV(n)},u=new J_e(r,s,i,l);return lbe(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mc(new zl("auth-internal",e=>{const t=fu(e.getProvider("auth").getImmediate());return(r=>new L0e(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Do(bA,wA,$0e(n)),Do(bA,wA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0e=5*60,j0e=GF("authIdTokenMaxAge")||V0e;let EA=null;const U0e=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>j0e)return;const s=t==null?void 0:t.token;EA!==s&&(EA=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function B0e(n=QF()){const e=XT(n,"auth");if(e.isInitialized())return e.getImmediate();const t=obe(n,{popupRedirectResolver:M0e,persistence:[Wbe,Nbe,OV]}),r=GF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=U0e(i.toString());xbe(t,a,()=>a(t.currentUser)),Pbe(t,o=>a(o))}}const s=KF("auth");return s&&ube(t,`http://${s}`),t}function H0e(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ebe({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Hi("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",H0e().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F0e("Browser");var z0e="firebase",K0e="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do(z0e,K0e,"app");var SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xl,NV;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function P(){}P.prototype=T.prototype,I.D=T.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(A,k,L){for(var N=Array(arguments.length-2),K=2;K<arguments.length;K++)N[K-2]=arguments[K];return T.prototype[k].apply(A,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,T,P){P||(P=0);var A=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)A[k]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(k=0;16>k;++k)A[k]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=I.g[0],P=I.g[1],k=I.g[2];var L=I.g[3],N=T+(L^P&(k^L))+A[0]+3614090360&4294967295;T=P+(N<<7&4294967295|N>>>25),N=L+(k^T&(P^k))+A[1]+3905402710&4294967295,L=T+(N<<12&4294967295|N>>>20),N=k+(P^L&(T^P))+A[2]+606105819&4294967295,k=L+(N<<17&4294967295|N>>>15),N=P+(T^k&(L^T))+A[3]+3250441966&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(L^P&(k^L))+A[4]+4118548399&4294967295,T=P+(N<<7&4294967295|N>>>25),N=L+(k^T&(P^k))+A[5]+1200080426&4294967295,L=T+(N<<12&4294967295|N>>>20),N=k+(P^L&(T^P))+A[6]+2821735955&4294967295,k=L+(N<<17&4294967295|N>>>15),N=P+(T^k&(L^T))+A[7]+4249261313&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(L^P&(k^L))+A[8]+1770035416&4294967295,T=P+(N<<7&4294967295|N>>>25),N=L+(k^T&(P^k))+A[9]+2336552879&4294967295,L=T+(N<<12&4294967295|N>>>20),N=k+(P^L&(T^P))+A[10]+4294925233&4294967295,k=L+(N<<17&4294967295|N>>>15),N=P+(T^k&(L^T))+A[11]+2304563134&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(L^P&(k^L))+A[12]+1804603682&4294967295,T=P+(N<<7&4294967295|N>>>25),N=L+(k^T&(P^k))+A[13]+4254626195&4294967295,L=T+(N<<12&4294967295|N>>>20),N=k+(P^L&(T^P))+A[14]+2792965006&4294967295,k=L+(N<<17&4294967295|N>>>15),N=P+(T^k&(L^T))+A[15]+1236535329&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(k^L&(P^k))+A[1]+4129170786&4294967295,T=P+(N<<5&4294967295|N>>>27),N=L+(P^k&(T^P))+A[6]+3225465664&4294967295,L=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(L^T))+A[11]+643717713&4294967295,k=L+(N<<14&4294967295|N>>>18),N=P+(L^T&(k^L))+A[0]+3921069994&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(k^L&(P^k))+A[5]+3593408605&4294967295,T=P+(N<<5&4294967295|N>>>27),N=L+(P^k&(T^P))+A[10]+38016083&4294967295,L=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(L^T))+A[15]+3634488961&4294967295,k=L+(N<<14&4294967295|N>>>18),N=P+(L^T&(k^L))+A[4]+3889429448&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(k^L&(P^k))+A[9]+568446438&4294967295,T=P+(N<<5&4294967295|N>>>27),N=L+(P^k&(T^P))+A[14]+3275163606&4294967295,L=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(L^T))+A[3]+4107603335&4294967295,k=L+(N<<14&4294967295|N>>>18),N=P+(L^T&(k^L))+A[8]+1163531501&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(k^L&(P^k))+A[13]+2850285829&4294967295,T=P+(N<<5&4294967295|N>>>27),N=L+(P^k&(T^P))+A[2]+4243563512&4294967295,L=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(L^T))+A[7]+1735328473&4294967295,k=L+(N<<14&4294967295|N>>>18),N=P+(L^T&(k^L))+A[12]+2368359562&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(P^k^L)+A[5]+4294588738&4294967295,T=P+(N<<4&4294967295|N>>>28),N=L+(T^P^k)+A[8]+2272392833&4294967295,L=T+(N<<11&4294967295|N>>>21),N=k+(L^T^P)+A[11]+1839030562&4294967295,k=L+(N<<16&4294967295|N>>>16),N=P+(k^L^T)+A[14]+4259657740&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(P^k^L)+A[1]+2763975236&4294967295,T=P+(N<<4&4294967295|N>>>28),N=L+(T^P^k)+A[4]+1272893353&4294967295,L=T+(N<<11&4294967295|N>>>21),N=k+(L^T^P)+A[7]+4139469664&4294967295,k=L+(N<<16&4294967295|N>>>16),N=P+(k^L^T)+A[10]+3200236656&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(P^k^L)+A[13]+681279174&4294967295,T=P+(N<<4&4294967295|N>>>28),N=L+(T^P^k)+A[0]+3936430074&4294967295,L=T+(N<<11&4294967295|N>>>21),N=k+(L^T^P)+A[3]+3572445317&4294967295,k=L+(N<<16&4294967295|N>>>16),N=P+(k^L^T)+A[6]+76029189&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(P^k^L)+A[9]+3654602809&4294967295,T=P+(N<<4&4294967295|N>>>28),N=L+(T^P^k)+A[12]+3873151461&4294967295,L=T+(N<<11&4294967295|N>>>21),N=k+(L^T^P)+A[15]+530742520&4294967295,k=L+(N<<16&4294967295|N>>>16),N=P+(k^L^T)+A[2]+3299628645&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(k^(P|~L))+A[0]+4096336452&4294967295,T=P+(N<<6&4294967295|N>>>26),N=L+(P^(T|~k))+A[7]+1126891415&4294967295,L=T+(N<<10&4294967295|N>>>22),N=k+(T^(L|~P))+A[14]+2878612391&4294967295,k=L+(N<<15&4294967295|N>>>17),N=P+(L^(k|~T))+A[5]+4237533241&4294967295,P=k+(N<<21&4294967295|N>>>11),N=T+(k^(P|~L))+A[12]+1700485571&4294967295,T=P+(N<<6&4294967295|N>>>26),N=L+(P^(T|~k))+A[3]+2399980690&4294967295,L=T+(N<<10&4294967295|N>>>22),N=k+(T^(L|~P))+A[10]+4293915773&4294967295,k=L+(N<<15&4294967295|N>>>17),N=P+(L^(k|~T))+A[1]+2240044497&4294967295,P=k+(N<<21&4294967295|N>>>11),N=T+(k^(P|~L))+A[8]+1873313359&4294967295,T=P+(N<<6&4294967295|N>>>26),N=L+(P^(T|~k))+A[15]+4264355552&4294967295,L=T+(N<<10&4294967295|N>>>22),N=k+(T^(L|~P))+A[6]+2734768916&4294967295,k=L+(N<<15&4294967295|N>>>17),N=P+(L^(k|~T))+A[13]+1309151649&4294967295,P=k+(N<<21&4294967295|N>>>11),N=T+(k^(P|~L))+A[4]+4149444226&4294967295,T=P+(N<<6&4294967295|N>>>26),N=L+(P^(T|~k))+A[11]+3174756917&4294967295,L=T+(N<<10&4294967295|N>>>22),N=k+(T^(L|~P))+A[2]+718787259&4294967295,k=L+(N<<15&4294967295|N>>>17),N=P+(L^(k|~T))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var P=T-this.blockSize,A=this.B,k=this.h,L=0;L<T;){if(k==0)for(;L<=P;)s(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<T;)if(A[k++]=I.charCodeAt(L++),k==this.blockSize){s(this,A),k=0;break}}else for(;L<T;)if(A[k++]=I[L++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var P=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=P&255,P/=256;for(this.u(I),I=Array(16),T=P=0;4>T;++T)for(var A=0;32>A;A+=8)I[P++]=this.g[T]>>>A&255;return I};function i(I,T){var P=o;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=T(I)}function a(I,T){this.h=T;for(var P=[],A=!0,k=I.length-1;0<=k;k--){var L=I[k]|0;A&&L==T||(P[k]=L,A=!1)}this.g=P}var o={};function l(I){return-128<=I&&128>I?i(I,function(T){return new a([T|0],0>T?-1:0)}):new a([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return _(u(-I));for(var T=[],P=1,A=0;I>=P;A++)T[A]=I/P|0,P*=4294967296;return new a(T,0)}function d(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return _(d(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),A=h,k=0;k<I.length;k+=8){var L=Math.min(8,I.length-k),N=parseInt(I.substring(k,k+L),T);8>L?(L=u(Math.pow(T,L)),A=A.j(L).add(u(N))):(A=A.j(P),A=A.add(u(N)))}return A}var h=l(0),f=l(1),g=l(16777216);n=a.prototype,n.m=function(){if(y(this))return-_(this).m();for(var I=0,T=1,P=0;P<this.g.length;P++){var A=this.i(P);I+=(0<=A?A:4294967296+A)*T,T*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(y(this))return"-"+_(this).toString(I);for(var T=u(Math.pow(I,6)),P=this,A="";;){var k=S(P,T).g;P=m(P,k.j(T));var L=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=k,b(P))return L+A;for(;6>L.length;)L="0"+L;A=L+A}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function y(I){return I.h==-1}n.l=function(I){return I=m(this,I),y(I)?-1:b(I)?0:1};function _(I){for(var T=I.g.length,P=[],A=0;A<T;A++)P[A]=~I.g[A];return new a(P,~I.h).add(f)}n.abs=function(){return y(this)?_(this):this},n.add=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],A=0,k=0;k<=T;k++){var L=A+(this.i(k)&65535)+(I.i(k)&65535),N=(L>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);A=N>>>16,L&=65535,N&=65535,P[k]=N<<16|L}return new a(P,P[P.length-1]&-2147483648?-1:0)};function m(I,T){return I.add(_(T))}n.j=function(I){if(b(this)||b(I))return h;if(y(this))return y(I)?_(this).j(_(I)):_(_(this).j(I));if(y(I))return _(this.j(_(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,P=[],A=0;A<2*T;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<I.g.length;k++){var L=this.i(A)>>>16,N=this.i(A)&65535,K=I.i(k)>>>16,G=I.i(k)&65535;P[2*A+2*k]+=N*G,E(P,2*A+2*k),P[2*A+2*k+1]+=L*G,E(P,2*A+2*k+1),P[2*A+2*k+1]+=N*K,E(P,2*A+2*k+1),P[2*A+2*k+2]+=L*K,E(P,2*A+2*k+2)}for(A=0;A<T;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=T;A<2*T;A++)P[A]=0;return new a(P,0)};function E(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function w(I,T){this.g=I,this.h=T}function S(I,T){if(b(T))throw Error("division by zero");if(b(I))return new w(h,h);if(y(I))return T=S(_(I),T),new w(_(T.g),_(T.h));if(y(T))return T=S(I,_(T)),new w(_(T.g),T.h);if(30<I.g.length){if(y(I)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var P=f,A=T;0>=A.l(I);)P=O(P),A=O(A);var k=x(P,1),L=x(A,1);for(A=x(A,2),P=x(P,2);!b(A);){var N=L.add(A);0>=N.l(I)&&(k=k.add(P),L=N),A=x(A,1),P=x(P,1)}return T=m(I,k.j(T)),new w(k,T)}for(k=h;0<=I.l(T);){for(P=Math.max(1,Math.floor(I.m()/T.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),L=u(P),N=L.j(T);y(N)||0<N.l(I);)P-=A,L=u(P),N=L.j(T);b(L)&&(L=f),k=k.add(L),I=m(I,N)}return new w(k,I)}n.A=function(I){return S(this,I).h},n.and=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)&I.i(A);return new a(P,this.h&I.h)},n.or=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)|I.i(A);return new a(P,this.h|I.h)},n.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)^I.i(A);return new a(P,this.h^I.h)};function O(I){for(var T=I.g.length+1,P=[],A=0;A<T;A++)P[A]=I.i(A)<<1|I.i(A-1)>>>31;return new a(P,I.h)}function x(I,T){var P=T>>5;T%=32;for(var A=I.g.length-P,k=[],L=0;L<A;L++)k[L]=0<T?I.i(L+P)>>>T|I.i(L+P+1)<<32-T:I.i(L+P);return new a(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,xl=a}).apply(typeof SA<"u"?SA:typeof self<"u"?self:typeof window<"u"?window:{});var mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MV,ih,LV,em,ZE,$V,FV,VV;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,C,R){return p==Array.prototype||p==Object.prototype||(p[C]=R.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof mg=="object"&&mg];for(var C=0;C<p.length;++C){var R=p[C];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=t(this);function s(p,C){if(C)e:{var R=r;p=p.split(".");for(var M=0;M<p.length-1;M++){var j=p[M];if(!(j in R))break e;R=R[j]}p=p[p.length-1],M=R[p],C=C(M),C!=M&&C!=null&&e(R,p,{configurable:!0,writable:!0,value:C})}}function i(p,C){p instanceof String&&(p+="");var R=0,M=!1,j={next:function(){if(!M&&R<p.length){var B=R++;return{value:C(B,p[B]),done:!1}}return M=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(p){return p||function(){return i(this,function(C,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(p){var C=typeof p;return C=C!="object"?C:p?Array.isArray(p)?"array":C:"null",C=="array"||C=="object"&&typeof p.length=="number"}function u(p){var C=typeof p;return C=="object"&&p!=null||C=="function"}function d(p,C,R){return p.call.apply(p.bind,arguments)}function h(p,C,R){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,M),p.apply(C,j)}}return function(){return p.apply(C,arguments)}}function f(p,C,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(p,C){var R=Array.prototype.slice.call(arguments,1);return function(){var M=R.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function b(p,C){function R(){}R.prototype=C.prototype,p.aa=C.prototype,p.prototype=new R,p.prototype.constructor=p,p.Qb=function(M,j,B){for(var se=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)se[Rt-2]=arguments[Rt];return C.prototype[j].apply(M,se)}}function y(p){const C=p.length;if(0<C){const R=Array(C);for(let M=0;M<C;M++)R[M]=p[M];return R}return[]}function _(p,C){for(let R=1;R<arguments.length;R++){const M=arguments[R];if(l(M)){const j=p.length||0,B=M.length||0;p.length=j+B;for(let se=0;se<B;se++)p[j+se]=M[se]}else p.push(M)}}class m{constructor(C,R){this.i=C,this.j=R,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function E(p){return/^[\s\xa0]*$/.test(p)}function w(){var p=o.navigator;return p&&(p=p.userAgent)?p:""}function S(p){return S[" "](p),p}S[" "]=function(){};var O=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function x(p,C,R){for(const M in p)C.call(R,p[M],M,p)}function I(p,C){for(const R in p)C.call(void 0,p[R],R,p)}function T(p){const C={};for(const R in p)C[R]=p[R];return C}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(p,C){let R,M;for(let j=1;j<arguments.length;j++){M=arguments[j];for(R in M)p[R]=M[R];for(let B=0;B<P.length;B++)R=P[B],Object.prototype.hasOwnProperty.call(M,R)&&(p[R]=M[R])}}function k(p){var C=1;p=p.split(":");const R=[];for(;0<C&&p.length;)R.push(p.shift()),C--;return p.length&&R.push(p.join(":")),R}function L(p){o.setTimeout(()=>{throw p},0)}function N(){var p=H;let C=null;return p.g&&(C=p.g,p.g=p.g.next,p.g||(p.h=null),C.next=null),C}class K{constructor(){this.h=this.g=null}add(C,R){const M=G.get();M.set(C,R),this.h?this.h.next=M:this.g=M,this.h=M}}var G=new m(()=>new z,p=>p.reset());class z{constructor(){this.next=this.g=this.h=null}set(C,R){this.h=C,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,V=!1,H=new K,U=()=>{const p=o.Promise.resolve(void 0);ee=()=>{p.then(ae)}};var ae=()=>{for(var p;p=N();){try{p.h.call(p.g)}catch(R){L(R)}var C=G;C.j(p),100>C.h&&(C.h++,p.next=C.g,C.g=p)}V=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(p,C){this.type=p,this.g=this.target=C,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var p=!1,C=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const R=()=>{};o.addEventListener("test",R,C),o.removeEventListener("test",R,C)}catch{}return p}();function be(p,C){if(re.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var R=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=C,C=p.relatedTarget){if(O){e:{try{S(C.nodeName);var j=!0;break e}catch{}j=!1}j||(C=null)}}else R=="mouseover"?C=p.fromElement:R=="mouseout"&&(C=p.toElement);this.relatedTarget=C,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ve[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&be.aa.h.call(this)}}b(be,re);var ve={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),pe=0;function te(p,C,R,M,j){this.listener=p,this.proxy=null,this.src=C,this.type=R,this.capture=!!M,this.ha=j,this.key=++pe,this.da=this.fa=!1}function le(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ut(p){this.src=p,this.g={},this.h=0}ut.prototype.add=function(p,C,R,M,j){var B=p.toString();p=this.g[B],p||(p=this.g[B]=[],this.h++);var se=Zt(p,C,M,j);return-1<se?(C=p[se],R||(C.fa=!1)):(C=new te(C,this.src,B,!!M,j),C.fa=R,p.push(C)),C};function St(p,C){var R=C.type;if(R in p.g){var M=p.g[R],j=Array.prototype.indexOf.call(M,C,void 0),B;(B=0<=j)&&Array.prototype.splice.call(M,j,1),B&&(le(C),p.g[R].length==0&&(delete p.g[R],p.h--))}}function Zt(p,C,R,M){for(var j=0;j<p.length;++j){var B=p[j];if(!B.da&&B.listener==C&&B.capture==!!R&&B.ha==M)return j}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),mn={};function gt(p,C,R,M,j){if(Array.isArray(C)){for(var B=0;B<C.length;B++)gt(p,C[B],R,M,j);return null}return R=ea(R),p&&p[ge]?p.K(C,R,u(M)?!!M.capture:!!M,j):Wn(p,C,R,!1,M,j)}function Wn(p,C,R,M,j,B){if(!C)throw Error("Invalid event type");var se=u(j)?!!j.capture:!!j,Rt=Mr(p);if(Rt||(p[pt]=Rt=new ut(p)),R=Rt.add(C,R,M,se,B),R.proxy)return R;if(M=Nr(),R.proxy=M,M.src=p,M.listener=R,p.addEventListener)de||(j=se),j===void 0&&(j=!1),p.addEventListener(C.toString(),M,j);else if(p.attachEvent)p.attachEvent(Ln(C.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Nr(){function p(R){return C.call(p.src,p.listener,R)}const C=_s;return p}function _i(p,C,R,M,j){if(Array.isArray(C))for(var B=0;B<C.length;B++)_i(p,C[B],R,M,j);else M=u(M)?!!M.capture:!!M,R=ea(R),p&&p[ge]?(p=p.i,C=String(C).toString(),C in p.g&&(B=p.g[C],R=Zt(B,R,M,j),-1<R&&(le(B[R]),Array.prototype.splice.call(B,R,1),B.length==0&&(delete p.g[C],p.h--)))):p&&(p=Mr(p))&&(C=p.g[C.toString()],p=-1,C&&(p=Zt(C,R,M,j)),(R=-1<p?C[p]:null)&&$t(R))}function $t(p){if(typeof p!="number"&&p&&!p.da){var C=p.src;if(C&&C[ge])St(C.i,p);else{var R=p.type,M=p.proxy;C.removeEventListener?C.removeEventListener(R,M,p.capture):C.detachEvent?C.detachEvent(Ln(R),M):C.addListener&&C.removeListener&&C.removeListener(M),(R=Mr(C))?(St(R,p),R.h==0&&(R.src=null,C[pt]=null)):le(p)}}}function Ln(p){return p in mn?mn[p]:mn[p]="on"+p}function _s(p,C){if(p.da)p=!0;else{C=new be(C,this);var R=p.listener,M=p.ha||p.src;p.fa&&$t(p),p=R.call(M,C)}return p}function Mr(p){return p=p[pt],p instanceof ut?p:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ea(p){return typeof p=="function"?p:(p[bs]||(p[bs]=function(C){return p.handleEvent(C)}),p[bs])}function Jt(){ne.call(this),this.i=new ut(this),this.M=this,this.F=null}b(Jt,ne),Jt.prototype[ge]=!0,Jt.prototype.removeEventListener=function(p,C,R,M){_i(this,p,C,R,M)};function Dt(p,C){var R,M=p.F;if(M)for(R=[];M;M=M.F)R.push(M);if(p=p.M,M=C.type||C,typeof C=="string")C=new re(C,p);else if(C instanceof re)C.target=C.target||p;else{var j=C;C=new re(M,p),A(C,j)}if(j=!0,R)for(var B=R.length-1;0<=B;B--){var se=C.g=R[B];j=vn(se,M,!0,C)&&j}if(se=C.g=p,j=vn(se,M,!0,C)&&j,j=vn(se,M,!1,C)&&j,R)for(B=0;B<R.length;B++)se=C.g=R[B],j=vn(se,M,!1,C)&&j}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var p=this.i,C;for(C in p.g){for(var R=p.g[C],M=0;M<R.length;M++)le(R[M]);delete p.g[C],p.h--}}this.F=null},Jt.prototype.K=function(p,C,R,M){return this.i.add(String(p),C,!1,R,M)},Jt.prototype.L=function(p,C,R,M){return this.i.add(String(p),C,!0,R,M)};function vn(p,C,R,M){if(C=p.i.g[String(C)],!C)return!0;C=C.concat();for(var j=!0,B=0;B<C.length;++B){var se=C[B];if(se&&!se.da&&se.capture==R){var Rt=se.listener,Gn=se.ha||se.src;se.fa&&St(p.i,se),j=Rt.call(Gn,M)!==!1&&j}}return j&&!M.defaultPrevented}function Tn(p,C,R){if(typeof p=="function")R&&(p=f(p,R));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:o.setTimeout(p,C||0)}function sr(p){p.g=Tn(()=>{p.g=null,p.i&&(p.i=!1,sr(p))},p.l);const C=p.h;p.h=null,p.m.apply(null,C)}class $n extends ne{constructor(C,R){super(),this.m=C,this.l=R,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:sr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(p){ne.call(this),this.h=p,this.g={}}b(ir,ne);var Lr=[];function ws(p){x(p.g,function(C,R){this.g.hasOwnProperty(R)&&$t(C)},p),p.g={}}ir.prototype.N=function(){ir.aa.N.call(this),ws(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=o.JSON.stringify,Qr=o.JSON.parse,bi=class{stringify(p){return o.JSON.stringify(p,void 0)}parse(p){return o.JSON.parse(p,void 0)}};function Es(){}Es.prototype.h=null;function wi(p){return p.h||(p.h=p.i())}function Zr(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mt(){re.call(this,"d")}b(mt,re);function Kt(){re.call(this,"c")}b(Kt,re);var ht={},en=null;function Ft(){return en=en||new Jt}ht.La="serverreachability";function Wt(p){re.call(this,ht.La,p)}b(Wt,re);function _n(p){const C=Ft();Dt(C,new Wt(C))}ht.STAT_EVENT="statevent";function Ss(p,C){re.call(this,ht.STAT_EVENT,p),this.stat=C}b(Ss,re);function je(p){const C=Ft();Dt(C,new Ss(C,p))}ht.Ma="timingevent";function es(p,C){re.call(this,ht.Ma,p),this.size=C}b(es,re);function _e(p,C){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){p()},C)}function Me(){this.g=!0}Me.prototype.xa=function(){this.g=!1};function Vt(p,C,R,M,j,B){p.info(function(){if(p.g)if(B)for(var se="",Rt=B.split("&"),Gn=0;Gn<Rt.length;Gn++){var tt=Rt[Gn].split("=");if(1<tt.length){var or=tt[0];tt=tt[1];var lr=or.split("_");se=2<=lr.length&&lr[1]=="type"?se+(or+"="+tt+"&"):se+(or+"=redacted&")}}else se=null;else se=B;return"XMLHTTP REQ ("+M+") [attempt "+j+"]: "+C+`
`+R+`
`+se})}function et(p,C,R,M,j,B,se){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+j+"]: "+C+`
`+R+`
`+B+" "+se})}function Ct(p,C,R,M){p.info(function(){return"XMLHTTP TEXT ("+C+"): "+xt(p,R)+(M?" "+M:"")})}function Tt(p,C){p.info(function(){return"TIMEOUT: "+C})}Me.prototype.info=function(){};function xt(p,C){if(!p.g)return C;if(!C)return null;try{var R=JSON.parse(C);if(R){for(p=0;p<R.length;p++)if(Array.isArray(R[p])){var M=R[p];if(!(2>M.length)){var j=M[1];if(Array.isArray(j)&&!(1>j.length)){var B=j[0];if(B!="noop"&&B!="stop"&&B!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return yn(R)}catch{return C}}var Ua={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ts;function ta(){}b(ta,Es),ta.prototype.g=function(){return new XMLHttpRequest},ta.prototype.i=function(){return{}},ts=new ta;function ar(p,C,R,M){this.j=p,this.i=C,this.l=R,this.R=M||1,this.U=new ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var F1={},p_={};function g_(p,C,R){p.L=1,p.v=Ep(na(C)),p.m=R,p.P=!0,V1(p,null)}function V1(p,C){p.F=Date.now(),_p(p),p.A=na(p.v);var R=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),J1(R.i,"t",M),p.C=0,R=p.j.J,p.h=new Ba,p.g=vI(p.j,R?C:null,!p.m),0<p.O&&(p.M=new $n(f(p.Y,p,p.g),p.O)),C=p.U,R=p.g,M=p.ca;var j="readystatechange";Array.isArray(j)||(j&&(Lr[0]=j.toString()),j=Lr);for(var B=0;B<j.length;B++){var se=gt(R,j[B],M||C.handleEvent,!1,C.h||C);if(!se)break;C.g[se.key]=se}C=p.H?T(p.H):{},p.m?(p.u||(p.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,C)):(p.u="GET",p.g.ea(p.A,p.u,null,C)),_n(),Vt(p.i,p.u,p.A,p.l,p.R,p.m)}ar.prototype.ca=function(p){p=p.target;const C=this.M;C&&ra(p)==3?C.j():this.Y(p)},ar.prototype.Y=function(p){try{if(p==this.g)e:{const lr=ra(this.g);var C=this.g.Ba();const yu=this.g.Z();if(!(3>lr)&&(lr!=3||this.g&&(this.h.h||this.g.oa()||aI(this.g)))){this.J||lr!=4||C==7||(C==8||0>=yu?_n(3):_n(2)),m_(this);var R=this.g.Z();this.X=R;t:if(j1(this)){var M=aI(this.g);p="";var j=M.length,B=ra(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zo(this),yd(this);var se="";break t}this.h.i=new o.TextDecoder}for(C=0;C<j;C++)this.h.h=!0,p+=this.h.i.decode(M[C],{stream:!(B&&C==j-1)});M.length=0,this.h.g+=p,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=R==200,et(this.i,this.u,this.A,this.l,this.R,lr,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Rt,Gn=this.g;if((Rt=Gn.g?Gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Rt)){var tt=Rt;break t}}tt=null}if(R=tt)Ct(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,v_(this,R);else{this.o=!1,this.s=3,je(12),Zo(this),yd(this);break e}}if(this.P){R=!0;let Gs;for(;!this.J&&this.C<se.length;)if(Gs=o4(this,se),Gs==p_){lr==4&&(this.s=4,je(14),R=!1),Ct(this.i,this.l,null,"[Incomplete Response]");break}else if(Gs==F1){this.s=4,je(15),Ct(this.i,this.l,se,"[Invalid Chunk]"),R=!1;break}else Ct(this.i,this.l,Gs,null),v_(this,Gs);if(j1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lr!=4||se.length!=0||this.h.h||(this.s=1,je(16),R=!1),this.o=this.o&&R,!R)Ct(this.i,this.l,se,"[Invalid Chunked Response]"),Zo(this),yd(this);else if(0<se.length&&!this.W){this.W=!0;var or=this.j;or.g==this&&or.ba&&!or.M&&(or.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),S_(or),or.M=!0,je(11))}}else Ct(this.i,this.l,se,null),v_(this,se);lr==4&&Zo(this),this.o&&!this.J&&(lr==4?fI(this.j,this):(this.o=!1,_p(this)))}else C4(this.g),R==400&&0<se.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),Zo(this),yd(this)}}}catch{}finally{}};function j1(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function o4(p,C){var R=p.C,M=C.indexOf(`
`,R);return M==-1?p_:(R=Number(C.substring(R,M)),isNaN(R)?F1:(M+=1,M+R>C.length?p_:(C=C.slice(M,M+R),p.C=M+R,C)))}ar.prototype.cancel=function(){this.J=!0,Zo(this)};function _p(p){p.S=Date.now()+p.I,U1(p,p.I)}function U1(p,C){if(p.B!=null)throw Error("WatchDog timer not null");p.B=_e(f(p.ba,p),C)}function m_(p){p.B&&(o.clearTimeout(p.B),p.B=null)}ar.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Tt(this.i,this.A),this.L!=2&&(_n(),je(17)),Zo(this),this.s=2,yd(this)):U1(this,this.S-p)};function yd(p){p.j.G==0||p.J||fI(p.j,p)}function Zo(p){m_(p);var C=p.M;C&&typeof C.ma=="function"&&C.ma(),p.M=null,ws(p.U),p.g&&(C=p.g,p.g=null,C.abort(),C.ma())}function v_(p,C){try{var R=p.j;if(R.G!=0&&(R.g==p||y_(R.h,p))){if(!p.K&&y_(R.h,p)&&R.G==3){try{var M=R.Da.g.parse(C)}catch{M=null}if(Array.isArray(M)&&M.length==3){var j=M;if(j[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<p.F)Pp(R),Ip(R);else break e;E_(R),je(18)}}else R.za=j[1],0<R.za-R.T&&37500>j[2]&&R.F&&R.v==0&&!R.C&&(R.C=_e(f(R.Za,R),6e3));if(1>=z1(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else el(R,11)}else if((p.K||R.g==p)&&Pp(R),!E(C))for(j=R.Da.g.parse(C),C=0;C<j.length;C++){let tt=j[C];if(R.T=tt[0],tt=tt[1],R.G==2)if(tt[0]=="c"){R.K=tt[1],R.ia=tt[2];const or=tt[3];or!=null&&(R.la=or,R.j.info("VER="+R.la));const lr=tt[4];lr!=null&&(R.Aa=lr,R.j.info("SVER="+R.Aa));const yu=tt[5];yu!=null&&typeof yu=="number"&&0<yu&&(M=1.5*yu,R.L=M,R.j.info("backChannelRequestTimeoutMs_="+M)),M=R;const Gs=p.g;if(Gs){const Rp=Gs.g?Gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rp){var B=M.h;B.g||Rp.indexOf("spdy")==-1&&Rp.indexOf("quic")==-1&&Rp.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(__(B,B.h),B.h=null))}if(M.D){const C_=Gs.g?Gs.g.getResponseHeader("X-HTTP-Session-Id"):null;C_&&(M.ya=C_,jt(M.I,M.D,C_))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-p.F,R.j.info("Handshake RTT: "+R.R+"ms")),M=R;var se=p;if(M.qa=mI(M,M.J?M.ia:null,M.W),se.K){K1(M.h,se);var Rt=se,Gn=M.L;Gn&&(Rt.I=Gn),Rt.B&&(m_(Rt),_p(Rt)),M.g=se}else dI(M);0<R.i.length&&Op(R)}else tt[0]!="stop"&&tt[0]!="close"||el(R,7);else R.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?el(R,7):w_(R):tt[0]!="noop"&&R.l&&R.l.ta(tt),R.v=0)}}_n(4)}catch{}}var l4=class{constructor(p,C){this.g=p,this.map=C}};function B1(p){this.l=p||10,o.PerformanceNavigationTiming?(p=o.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function H1(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function z1(p){return p.h?1:p.g?p.g.size:0}function y_(p,C){return p.h?p.h==C:p.g?p.g.has(C):!1}function __(p,C){p.g?p.g.add(C):p.h=C}function K1(p,C){p.h&&p.h==C?p.h=null:p.g&&p.g.has(C)&&p.g.delete(C)}B1.prototype.cancel=function(){if(this.i=W1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function W1(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let C=p.i;for(const R of p.g.values())C=C.concat(R.D);return C}return y(p.i)}function u4(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var C=[],R=p.length,M=0;M<R;M++)C.push(p[M]);return C}C=[],R=0;for(M in p)C[R++]=p[M];return C}function c4(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var C=[];p=p.length;for(var R=0;R<p;R++)C.push(R);return C}C=[],R=0;for(const M in p)C[R++]=M;return C}}}function G1(p,C){if(p.forEach&&typeof p.forEach=="function")p.forEach(C,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,C,void 0);else for(var R=c4(p),M=u4(p),j=M.length,B=0;B<j;B++)C.call(void 0,M[B],R&&R[B],p)}var Y1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d4(p,C){if(p){p=p.split("&");for(var R=0;R<p.length;R++){var M=p[R].indexOf("="),j=null;if(0<=M){var B=p[R].substring(0,M);j=p[R].substring(M+1)}else B=p[R];C(B,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Jo(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Jo){this.h=p.h,bp(this,p.j),this.o=p.o,this.g=p.g,wp(this,p.s),this.l=p.l;var C=p.i,R=new wd;R.i=C.i,C.g&&(R.g=new Map(C.g),R.h=C.h),q1(this,R),this.m=p.m}else p&&(C=String(p).match(Y1))?(this.h=!1,bp(this,C[1]||"",!0),this.o=_d(C[2]||""),this.g=_d(C[3]||"",!0),wp(this,C[4]),this.l=_d(C[5]||"",!0),q1(this,C[6]||"",!0),this.m=_d(C[7]||"")):(this.h=!1,this.i=new wd(null,this.h))}Jo.prototype.toString=function(){var p=[],C=this.j;C&&p.push(bd(C,X1,!0),":");var R=this.g;return(R||C=="file")&&(p.push("//"),(C=this.o)&&p.push(bd(C,X1,!0),"@"),p.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&p.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&p.push("/"),p.push(bd(R,R.charAt(0)=="/"?p4:f4,!0))),(R=this.i.toString())&&p.push("?",R),(R=this.m)&&p.push("#",bd(R,m4)),p.join("")};function na(p){return new Jo(p)}function bp(p,C,R){p.j=R?_d(C,!0):C,p.j&&(p.j=p.j.replace(/:$/,""))}function wp(p,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);p.s=C}else p.s=null}function q1(p,C,R){C instanceof wd?(p.i=C,v4(p.i,p.h)):(R||(C=bd(C,g4)),p.i=new wd(C,p.h))}function jt(p,C,R){p.i.set(C,R)}function Ep(p){return jt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function _d(p,C){return p?C?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function bd(p,C,R){return typeof p=="string"?(p=encodeURI(p).replace(C,h4),R&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function h4(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var X1=/[#\/\?@]/g,f4=/[#\?:]/g,p4=/[#\?]/g,g4=/[#\?@]/g,m4=/#/g;function wd(p,C){this.h=this.g=null,this.i=p||null,this.j=!!C}function Ha(p){p.g||(p.g=new Map,p.h=0,p.i&&d4(p.i,function(C,R){p.add(decodeURIComponent(C.replace(/\+/g," ")),R)}))}n=wd.prototype,n.add=function(p,C){Ha(this),this.i=null,p=mu(this,p);var R=this.g.get(p);return R||this.g.set(p,R=[]),R.push(C),this.h+=1,this};function Q1(p,C){Ha(p),C=mu(p,C),p.g.has(C)&&(p.i=null,p.h-=p.g.get(C).length,p.g.delete(C))}function Z1(p,C){return Ha(p),C=mu(p,C),p.g.has(C)}n.forEach=function(p,C){Ha(this),this.g.forEach(function(R,M){R.forEach(function(j){p.call(C,j,M,this)},this)},this)},n.na=function(){Ha(this);const p=Array.from(this.g.values()),C=Array.from(this.g.keys()),R=[];for(let M=0;M<C.length;M++){const j=p[M];for(let B=0;B<j.length;B++)R.push(C[M])}return R},n.V=function(p){Ha(this);let C=[];if(typeof p=="string")Z1(this,p)&&(C=C.concat(this.g.get(mu(this,p))));else{p=Array.from(this.g.values());for(let R=0;R<p.length;R++)C=C.concat(p[R])}return C},n.set=function(p,C){return Ha(this),this.i=null,p=mu(this,p),Z1(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[C]),this.h+=1,this},n.get=function(p,C){return p?(p=this.V(p),0<p.length?String(p[0]):C):C};function J1(p,C,R){Q1(p,C),0<R.length&&(p.i=null,p.g.set(mu(p,C),y(R)),p.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],C=Array.from(this.g.keys());for(var R=0;R<C.length;R++){var M=C[R];const B=encodeURIComponent(String(M)),se=this.V(M);for(M=0;M<se.length;M++){var j=B;se[M]!==""&&(j+="="+encodeURIComponent(String(se[M]))),p.push(j)}}return this.i=p.join("&")};function mu(p,C){return C=String(C),p.j&&(C=C.toLowerCase()),C}function v4(p,C){C&&!p.j&&(Ha(p),p.i=null,p.g.forEach(function(R,M){var j=M.toLowerCase();M!=j&&(Q1(this,M),J1(this,j,R))},p)),p.j=C}function y4(p,C){const R=new Me;if(o.Image){const M=new Image;M.onload=g(za,R,"TestLoadImage: loaded",!0,C,M),M.onerror=g(za,R,"TestLoadImage: error",!1,C,M),M.onabort=g(za,R,"TestLoadImage: abort",!1,C,M),M.ontimeout=g(za,R,"TestLoadImage: timeout",!1,C,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else C(!1)}function _4(p,C){const R=new Me,M=new AbortController,j=setTimeout(()=>{M.abort(),za(R,"TestPingServer: timeout",!1,C)},1e4);fetch(p,{signal:M.signal}).then(B=>{clearTimeout(j),B.ok?za(R,"TestPingServer: ok",!0,C):za(R,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(j),za(R,"TestPingServer: error",!1,C)})}function za(p,C,R,M,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),M(R)}catch{}}function b4(){this.g=new bi}function w4(p,C,R){const M=R||"";try{G1(p,function(j,B){let se=j;u(j)&&(se=yn(j)),C.push(M+B+"="+encodeURIComponent(se))})}catch(j){throw C.push(M+"type="+encodeURIComponent("_badmap")),j}}function Sp(p){this.l=p.Ub||null,this.j=p.eb||!1}b(Sp,Es),Sp.prototype.g=function(){return new Cp(this.l,this.j)},Sp.prototype.i=function(p){return function(){return p}}({});function Cp(p,C){Jt.call(this),this.D=p,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Cp,Jt),n=Cp.prototype,n.open=function(p,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=C,this.readyState=1,Sd(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(C.body=p),(this.D||o).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ed(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Sd(this)),this.g&&(this.readyState=3,Sd(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eI(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function eI(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var C=p.value?p.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!p.done}))&&(this.response=this.responseText+=C)}p.done?Ed(this):Sd(this),this.readyState==3&&eI(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ed(this))},n.Qa=function(p){this.g&&(this.response=p,Ed(this))},n.ga=function(){this.g&&Ed(this)};function Ed(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Sd(p)}n.setRequestHeader=function(p,C){this.u.append(p,C)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],C=this.h.entries();for(var R=C.next();!R.done;)R=R.value,p.push(R[0]+": "+R[1]),R=C.next();return p.join(`\r
`)};function Sd(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Cp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function tI(p){let C="";return x(p,function(R,M){C+=M,C+=":",C+=R,C+=`\r
`}),C}function b_(p,C,R){e:{for(M in R){var M=!1;break e}M=!0}M||(R=tI(R),typeof p=="string"?R!=null&&encodeURIComponent(String(R)):jt(p,C,R))}function cn(p){Jt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(cn,Jt);var E4=/^https?$/i,S4=["POST","PUT"];n=cn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,C,R,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);C=C?C.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ts.g(),this.v=this.o?wi(this.o):wi(ts),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(C,String(p),!0),this.B=!1}catch(B){nI(this,B);return}if(p=R||"",R=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var j in M)R.set(j,M[j]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const B of M.keys())R.set(B,M.get(B));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(R.keys()).find(B=>B.toLowerCase()=="content-type"),j=o.FormData&&p instanceof o.FormData,!(0<=Array.prototype.indexOf.call(S4,C,void 0))||M||j||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of R)this.g.setRequestHeader(B,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iI(this),this.u=!0,this.g.send(p),this.u=!1}catch(B){nI(this,B)}};function nI(p,C){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=C,p.m=5,rI(p),Tp(p)}function rI(p){p.A||(p.A=!0,Dt(p,"complete"),Dt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Dt(this,"complete"),Dt(this,"abort"),Tp(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tp(this,!0)),cn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sI(this):this.bb())},n.bb=function(){sI(this)};function sI(p){if(p.h&&typeof a<"u"&&(!p.v[1]||ra(p)!=4||p.Z()!=2)){if(p.u&&ra(p)==4)Tn(p.Ea,0,p);else if(Dt(p,"readystatechange"),ra(p)==4){p.h=!1;try{const se=p.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var R;if(!(R=C)){var M;if(M=se===0){var j=String(p.D).match(Y1)[1]||null;!j&&o.self&&o.self.location&&(j=o.self.location.protocol.slice(0,-1)),M=!E4.test(j?j.toLowerCase():"")}R=M}if(R)Dt(p,"complete"),Dt(p,"success");else{p.m=6;try{var B=2<ra(p)?p.g.statusText:""}catch{B=""}p.l=B+" ["+p.Z()+"]",rI(p)}}finally{Tp(p)}}}}function Tp(p,C){if(p.g){iI(p);const R=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,C||Dt(p,"ready");try{R.onreadystatechange=M}catch{}}}function iI(p){p.I&&(o.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function ra(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<ra(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var C=this.g.responseText;return p&&C.indexOf(p)==0&&(C=C.substring(p.length)),Qr(C)}};function aI(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function C4(p){const C={};p=(p.g&&2<=ra(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(E(p[M]))continue;var R=k(p[M]);const j=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const B=C[j]||[];C[j]=B,B.push(R)}I(C,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cd(p,C,R){return R&&R.internalChannelParams&&R.internalChannelParams[p]||C}function oI(p){this.Aa=0,this.i=[],this.j=new Me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cd("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cd("baseRetryDelayMs",5e3,p),this.cb=Cd("retryDelaySeedMs",1e4,p),this.Wa=Cd("forwardChannelMaxRetries",2,p),this.wa=Cd("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new B1(p&&p.concurrentRequestLimit),this.Da=new b4,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oI.prototype,n.la=8,n.G=1,n.connect=function(p,C,R,M){je(0),this.W=p,this.H=C||{},R&&M!==void 0&&(this.H.OSID=R,this.H.OAID=M),this.F=this.X,this.I=mI(this,null,this.W),Op(this)};function w_(p){if(lI(p),p.G==3){var C=p.U++,R=na(p.I);if(jt(R,"SID",p.K),jt(R,"RID",C),jt(R,"TYPE","terminate"),Td(p,R),C=new ar(p,p.j,C),C.L=2,C.v=Ep(na(R)),R=!1,o.navigator&&o.navigator.sendBeacon)try{R=o.navigator.sendBeacon(C.v.toString(),"")}catch{}!R&&o.Image&&(new Image().src=C.v,R=!0),R||(C.g=vI(C.j,null),C.g.ea(C.v)),C.F=Date.now(),_p(C)}gI(p)}function Ip(p){p.g&&(S_(p),p.g.cancel(),p.g=null)}function lI(p){Ip(p),p.u&&(o.clearTimeout(p.u),p.u=null),Pp(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&o.clearTimeout(p.s),p.s=null)}function Op(p){if(!H1(p.h)&&!p.s){p.s=!0;var C=p.Ga;ee||U(),V||(ee(),V=!0),H.add(C,p),p.B=0}}function T4(p,C){return z1(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=C.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=_e(f(p.Ga,p,C),pI(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const j=new ar(this,this.j,p);let B=this.o;if(this.S&&(B?(B=T(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(j.H=B,B=null),this.P)e:{for(var C=0,R=0;R<this.i.length;R++){t:{var M=this.i[R];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(C+=M,4096<C){C=R;break e}if(C===4096||R===this.i.length-1){C=R+1;break e}}C=1e3}else C=1e3;C=cI(this,j,C),R=na(this.I),jt(R,"RID",p),jt(R,"CVER",22),this.D&&jt(R,"X-HTTP-Session-Id",this.D),Td(this,R),B&&(this.O?C="headers="+encodeURIComponent(String(tI(B)))+"&"+C:this.m&&b_(R,this.m,B)),__(this.h,j),this.Ua&&jt(R,"TYPE","init"),this.P?(jt(R,"$req",C),jt(R,"SID","null"),j.T=!0,g_(j,R,null)):g_(j,R,C),this.G=2}}else this.G==3&&(p?uI(this,p):this.i.length==0||H1(this.h)||uI(this))};function uI(p,C){var R;C?R=C.l:R=p.U++;const M=na(p.I);jt(M,"SID",p.K),jt(M,"RID",R),jt(M,"AID",p.T),Td(p,M),p.m&&p.o&&b_(M,p.m,p.o),R=new ar(p,p.j,R,p.B+1),p.m===null&&(R.H=p.o),C&&(p.i=C.D.concat(p.i)),C=cI(p,R,1e3),R.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),__(p.h,R),g_(R,M,C)}function Td(p,C){p.H&&x(p.H,function(R,M){jt(C,M,R)}),p.l&&G1({},function(R,M){jt(C,M,R)})}function cI(p,C,R){R=Math.min(p.i.length,R);var M=p.l?f(p.l.Na,p.l,p):null;e:{var j=p.i;let B=-1;for(;;){const se=["count="+R];B==-1?0<R?(B=j[0].g,se.push("ofs="+B)):B=0:se.push("ofs="+B);let Rt=!0;for(let Gn=0;Gn<R;Gn++){let tt=j[Gn].g;const or=j[Gn].map;if(tt-=B,0>tt)B=Math.max(0,j[Gn].g-100),Rt=!1;else try{w4(or,se,"req"+tt+"_")}catch{M&&M(or)}}if(Rt){M=se.join("&");break e}}}return p=p.i.splice(0,R),C.D=p,M}function dI(p){if(!p.g&&!p.u){p.Y=1;var C=p.Fa;ee||U(),V||(ee(),V=!0),H.add(C,p),p.v=0}}function E_(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=_e(f(p.Fa,p),pI(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,hI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=_e(f(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),Ip(this),hI(this))};function S_(p){p.A!=null&&(o.clearTimeout(p.A),p.A=null)}function hI(p){p.g=new ar(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var C=na(p.qa);jt(C,"RID","rpc"),jt(C,"SID",p.K),jt(C,"AID",p.T),jt(C,"CI",p.F?"0":"1"),!p.F&&p.ja&&jt(C,"TO",p.ja),jt(C,"TYPE","xmlhttp"),Td(p,C),p.m&&p.o&&b_(C,p.m,p.o),p.L&&(p.g.I=p.L);var R=p.g;p=p.ia,R.L=1,R.v=Ep(na(C)),R.m=null,R.P=!0,V1(R,p)}n.Za=function(){this.C!=null&&(this.C=null,Ip(this),E_(this),je(19))};function Pp(p){p.C!=null&&(o.clearTimeout(p.C),p.C=null)}function fI(p,C){var R=null;if(p.g==C){Pp(p),S_(p),p.g=null;var M=2}else if(y_(p.h,C))R=C.D,K1(p.h,C),M=1;else return;if(p.G!=0){if(C.o)if(M==1){R=C.m?C.m.length:0,C=Date.now()-C.F;var j=p.B;M=Ft(),Dt(M,new es(M,R)),Op(p)}else dI(p);else if(j=C.s,j==3||j==0&&0<C.X||!(M==1&&T4(p,C)||M==2&&E_(p)))switch(R&&0<R.length&&(C=p.h,C.i=C.i.concat(R)),j){case 1:el(p,5);break;case 4:el(p,10);break;case 3:el(p,6);break;default:el(p,2)}}}function pI(p,C){let R=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(R*=2),R*C}function el(p,C){if(p.j.info("Error code "+C),C==2){var R=f(p.fb,p),M=p.Xa;const j=!M;M=new Jo(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||bp(M,"https"),Ep(M),j?y4(M.toString(),R):_4(M.toString(),R)}else je(2);p.G=0,p.l&&p.l.sa(C),gI(p),lI(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function gI(p){if(p.G=0,p.ka=[],p.l){const C=W1(p.h);(C.length!=0||p.i.length!=0)&&(_(p.ka,C),_(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function mI(p,C,R){var M=R instanceof Jo?na(R):new Jo(R);if(M.g!="")C&&(M.g=C+"."+M.g),wp(M,M.s);else{var j=o.location;M=j.protocol,C=C?C+"."+j.hostname:j.hostname,j=+j.port;var B=new Jo(null);M&&bp(B,M),C&&(B.g=C),j&&wp(B,j),R&&(B.l=R),M=B}return R=p.D,C=p.ya,R&&C&&jt(M,R,C),jt(M,"VER",p.la),Td(p,M),M}function vI(p,C,R){if(C&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=p.Ca&&!p.pa?new cn(new Sp({eb:R})):new cn(p.pa),C.Ha(p.J),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yI(){}n=yI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xp(){}xp.prototype.g=function(p,C){return new ns(p,C)};function ns(p,C){Jt.call(this),this.g=new oI(C),this.l=p,this.h=C&&C.messageUrlParams||null,p=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(p?p["X-WebChannel-Content-Type"]=C.messageContentType:p={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(p?p["X-WebChannel-Client-Profile"]=C.va:p={"X-WebChannel-Client-Profile":C.va}),this.g.S=p,(p=C&&C.Sb)&&!E(p)&&(this.g.m=p),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!E(C)&&(this.g.D=C,p=this.h,p!==null&&C in p&&(p=this.h,C in p&&delete p[C])),this.j=new vu(this)}b(ns,Jt),ns.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ns.prototype.close=function(){w_(this.g)},ns.prototype.o=function(p){var C=this.g;if(typeof p=="string"){var R={};R.__data__=p,p=R}else this.u&&(R={},R.__data__=yn(p),p=R);C.i.push(new l4(C.Ya++,p)),C.G==3&&Op(C)},ns.prototype.N=function(){this.g.l=null,delete this.j,w_(this.g),delete this.g,ns.aa.N.call(this)};function _I(p){mt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var C=p.__sm__;if(C){e:{for(const R in C){p=R;break e}p=void 0}(this.i=p)&&(p=this.i,C=C!==null&&p in C?C[p]:void 0),this.data=C}else this.data=p}b(_I,mt);function bI(){Kt.call(this),this.status=1}b(bI,Kt);function vu(p){this.g=p}b(vu,yI),vu.prototype.ua=function(){Dt(this.g,"a")},vu.prototype.ta=function(p){Dt(this.g,new _I(p))},vu.prototype.sa=function(p){Dt(this.g,new bI)},vu.prototype.ra=function(){Dt(this.g,"b")},xp.prototype.createWebChannel=xp.prototype.g,ns.prototype.send=ns.prototype.o,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,VV=function(){return new xp},FV=function(){return Ft()},$V=ht,ZE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,em=Ua,Cs.COMPLETE="complete",LV=Cs,Zr.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,ih=Zr,cn.prototype.listenOnce=cn.prototype.L,cn.prototype.getLastError=cn.prototype.Ka,cn.prototype.getLastErrorCode=cn.prototype.Ba,cn.prototype.getStatus=cn.prototype.Z,cn.prototype.getResponseJson=cn.prototype.Oa,cn.prototype.getResponseText=cn.prototype.oa,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Ha,MV=cn}).apply(typeof mg<"u"?mg:typeof self<"u"?self:typeof window<"u"?window:{});const CA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new YT("@firebase/firestore");function Hd(){return Gl.logLevel}function fe(n,...e){if(Gl.logLevel<=Ye.DEBUG){const t=e.map(a1);Gl.debug(`Firestore (${pd}): ${n}`,...t)}}function Ma(n,...e){if(Gl.logLevel<=Ye.ERROR){const t=e.map(a1);Gl.error(`Firestore (${pd}): ${n}`,...t)}}function $c(n,...e){if(Gl.logLevel<=Ye.WARN){const t=e.map(a1);Gl.warn(`Firestore (${pd}): ${n}`,...t)}}function a1(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${pd}) INTERNAL ASSERTION FAILED: `+n;throw Ma(e),new Error(e)}function Et(n,e){n||Te()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Va{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W0e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pr.UNAUTHENTICATED))}shutdown(){}}class G0e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Y0e{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Et(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ko,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ko)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new jV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new pr(e)}}class q0e{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X0e{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new q0e(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q0e{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z0e{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Et(this.o===void 0);const r=i=>{i.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,fe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et(typeof t.token=="string"),this.R=t.token,new Q0e(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=J0e(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function at(n,e){return n<e?-1:n>e?1:0}function Fc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Nn(0,0))}static max(){return new Oe(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(),r===void 0?r=e.length-t:r>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return gf.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),a=t.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xt extends gf{construct(e,t,r){return new Xt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Xt(t)}static emptyPath(){return new Xt([])}}const ewe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends gf{construct(e,t,r){return new Zn(e,t,r)}static isValidIdentifier(e){return ewe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new me(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new me(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new me(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(t)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Xt.fromString(e))}static fromName(e){return new ye(Xt.fromString(e).popFirst(5))}static empty(){return new ye(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Xt(e.slice()))}}function twe(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(r===1e9?new Nn(t+1,0):new Nn(t,r));return new Vo(s,ye.empty(),e)}function nwe(n){return new Vo(n.readTime,n.key,-1)}class Vo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vo(Oe.min(),ye.empty(),-1)}static max(){return new Vo(Oe.max(),ye.empty(),-1)}}function rwe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const swe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iwe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hp(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==swe)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,r)=>{t(e)})}static reject(e){return new q((t,r)=>{r(e)})}static waitFor(e){return new q((t,r)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&t()},l=>r(l))}),a=!0,i===s&&t()})}static or(e){let t=q.resolve(!1);for(const r of e)t=t.next(s=>s?q.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new q((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const u=l;t(e[u]).next(d=>{a[u]=d,++o,o===i&&r(a)},d=>s(d))}})}static doWhile(e,t){return new q((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function awe(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fp(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}o1.oe=-1;function qy(n){return n==null}function yv(n){return n===0&&1/n==-1/0}function owe(n){return typeof n=="number"&&Number.isInteger(n)&&!yv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t){this.comparator=e,this.root=t||qn.EMPTY}insert(e,t){return new ln(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vg(this.root,e,this.comparator,!1)}getReverseIterator(){return new vg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vg(this.root,e,this.comparator,!0)}}class vg{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??qn.RED,this.left=s??qn.EMPTY,this.right=i??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new qn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return qn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,r,s,i){return this}insert(e,t,r){return new qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IA(this.data.getIterator())}getIteratorFrom(e){return new IA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new er(this.comparator);return t.data=e,t}}class IA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new hs([])}unionWith(e){let t=new er(Zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new HV("Invalid base64 string: "+i):i}}(e);return new nr(t)}static fromUint8Array(e){const t=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const lwe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(n){if(Et(!!n),typeof n=="string"){let e=0;const t=lwe.exec(n);if(Et(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bn(n.seconds),nanos:bn(n.nanos)}}function bn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yl(n){return typeof n=="string"?nr.fromBase64String(n):nr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function u1(n){const e=n.mapValue.fields.__previous_value__;return l1(e)?u1(e):e}function mf(n){const e=jo(n.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uwe{constructor(e,t,r,s,i,a,o,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class vf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ql(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?l1(n)?4:dwe(n)?9007199254740991:cwe(n)?10:11:Te()}function Xi(n,e){if(n===e)return!0;const t=ql(n);if(t!==ql(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mf(n).isEqual(mf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=jo(s.timestampValue),o=jo(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return Yl(s.bytesValue).isEqual(Yl(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return bn(s.geoPointValue.latitude)===bn(i.geoPointValue.latitude)&&bn(s.geoPointValue.longitude)===bn(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return bn(s.integerValue)===bn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=bn(s.doubleValue),o=bn(i.doubleValue);return a===o?yv(a)===yv(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return Fc(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(TA(a)!==TA(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Xi(a[l],o[l])))return!1;return!0}(n,e);default:return Te()}}function yf(n,e){return(n.values||[]).find(t=>Xi(t,e))!==void 0}function Vc(n,e){if(n===e)return 0;const t=ql(n),r=ql(e);if(t!==r)return at(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(i,a){const o=bn(i.integerValue||i.doubleValue),l=bn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return OA(n.timestampValue,e.timestampValue);case 4:return OA(mf(n),mf(e));case 5:return at(n.stringValue,e.stringValue);case 6:return function(i,a){const o=Yl(i),l=Yl(a);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=at(o[u],l[u]);if(d!==0)return d}return at(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const o=at(bn(i.latitude),bn(a.latitude));return o!==0?o:at(bn(i.longitude),bn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return PA(n.arrayValue,e.arrayValue);case 10:return function(i,a){var o,l,u,d;const h=i.fields||{},f=a.fields||{},g=(o=h.value)===null||o===void 0?void 0:o.arrayValue,b=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=at(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:PA(g,b)}(n.mapValue,e.mapValue);case 11:return function(i,a){if(i===yg.mapValue&&a===yg.mapValue)return 0;if(i===yg.mapValue)return 1;if(a===yg.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=at(l[h],d[h]);if(f!==0)return f;const g=Vc(o[l[h]],u[d[h]]);if(g!==0)return g}return at(l.length,d.length)}(n.mapValue,e.mapValue);default:throw Te()}}function OA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=jo(n),r=jo(e),s=at(t.seconds,r.seconds);return s!==0?s:at(t.nanos,r.nanos)}function PA(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Vc(t[s],r[s]);if(i)return i}return at(t.length,r.length)}function jc(n){return JE(n)}function JE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=jo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Yl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=JE(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${JE(t.fields[a])}`;return s+"}"}(n.mapValue):Te()}function eS(n){return!!n&&"integerValue"in n}function c1(n){return!!n&&"arrayValue"in n}function xA(n){return!!n&&"nullValue"in n}function RA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tm(n){return!!n&&"mapValue"in n}function cwe(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Th(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Th(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Th(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dwe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Th(t)}setAll(e){let t=Zn.emptyPath(),r={},s=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=o.popLast()}a?r[o.lastSegment()]=Th(a):s.push(o.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());tm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];tm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){pu(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ur(Th(this.value))}}function zV(n){const e=[];return pu(n.fields,(t,r)=>{const s=new Zn([t]);if(tm(r)){const i=zV(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new hs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t,r,s,i,a,o){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new mr(e,0,Oe.min(),Oe.min(),Oe.min(),Ur.empty(),0)}static newFoundDocument(e,t,r,s){return new mr(e,1,t,Oe.min(),r,s,0)}static newNoDocument(e,t){return new mr(e,2,t,Oe.min(),Oe.min(),Ur.empty(),0)}static newUnknownDocument(e,t){return new mr(e,3,t,Oe.min(),Oe.min(),Ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t){this.position=e,this.inclusive=t}}function AA(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],a=n.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),t.key):r=Vc(a,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function DA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t="asc"){this.field=e,this.dir=t}}function hwe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{}class Dn extends KV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pwe(e,t,r):t==="array-contains"?new vwe(e,r):t==="in"?new ywe(e,r):t==="not-in"?new _we(e,r):t==="array-contains-any"?new bwe(e,r):new Dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gwe(e,r):new mwe(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vc(t,this.value)):t!==null&&ql(this.value)===ql(t)&&this.matchesComparison(Vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends KV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Qi(e,t)}matches(e){return WV(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WV(n){return n.op==="and"}function GV(n){return fwe(n)&&WV(n)}function fwe(n){for(const e of n.filters)if(e instanceof Qi)return!1;return!0}function tS(n){if(n instanceof Dn)return n.field.canonicalString()+n.op.toString()+jc(n.value);if(GV(n))return n.filters.map(e=>tS(e)).join(",");{const e=n.filters.map(t=>tS(t)).join(",");return`${n.op}(${e})`}}function YV(n,e){return n instanceof Dn?function(r,s){return s instanceof Dn&&r.op===s.op&&r.field.isEqual(s.field)&&Xi(r.value,s.value)}(n,e):n instanceof Qi?function(r,s){return s instanceof Qi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,o)=>i&&YV(a,s.filters[o]),!0):!1}(n,e):void Te()}function qV(n){return n instanceof Dn?function(t){return`${t.field.canonicalString()} ${t.op} ${jc(t.value)}`}(n):n instanceof Qi?function(t){return t.op.toString()+" {"+t.getFilters().map(qV).join(" ,")+"}"}(n):"Filter"}class pwe extends Dn{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class gwe extends Dn{constructor(e,t){super(e,"in",t),this.keys=XV("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mwe extends Dn{constructor(e,t){super(e,"not-in",t),this.keys=XV("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XV(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class vwe extends Dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return c1(t)&&yf(t.arrayValue,this.value)}}class ywe extends Dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yf(this.value.arrayValue,t)}}class _we extends Dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yf(this.value.arrayValue,t)}}class bwe extends Dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!c1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wwe{constructor(e,t=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.ue=null}}function kA(n,e=null,t=[],r=[],s=null,i=null,a=null){return new wwe(n,e,t,r,s,i,a)}function d1(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>jc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>jc(r)).join(",")),e.ue=t}return e.ue}function h1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hwe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DA(n.startAt,e.startAt)&&DA(n.endAt,e.endAt)}function nS(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t=null,r=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ewe(n,e,t,r,s,i,a,o){return new Xy(n,e,t,r,s,i,a,o)}function QV(n){return new Xy(n)}function NA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Swe(n){return n.collectionGroup!==null}function Ih(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new er(Zn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new bv(i,r))}),t.has(Zn.keyField().canonicalString())||e.ce.push(new bv(Zn.keyField(),r))}return e.ce}function Ki(n){const e=Pe(n);return e.le||(e.le=Cwe(e,Ih(n))),e.le}function Cwe(n,e){if(n.limitType==="F")return kA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bv(s.field,i)});const t=n.endAt?new _v(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _v(n.startAt.position,n.startAt.inclusive):null;return kA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rS(n,e,t){return new Xy(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qy(n,e){return h1(Ki(n),Ki(e))&&n.limitType===e.limitType}function ZV(n){return`${d1(Ki(n))}|lt:${n.limitType}`}function Mu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>qV(s)).join(", ")}]`),qy(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>jc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>jc(s)).join(",")),`Target(${r})`}(Ki(n))}; limitType=${n.limitType})`}function Zy(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of Ih(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(a,o,l){const u=AA(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,Ih(r),s)||r.endAt&&!function(a,o,l){const u=AA(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,Ih(r),s))}(n,e)}function Twe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JV(n){return(e,t)=>{let r=!1;for(const s of Ih(n)){const i=Iwe(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Iwe(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(i,a,o){const l=a.data.field(i),u=o.data.field(i);return l!==null&&u!==null?Vc(l,u):Te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return BV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Owe=new ln(ye.comparator);function La(){return Owe}const ej=new ln(ye.comparator);function ah(...n){let e=ej;for(const t of n)e=e.insert(t.key,t);return e}function tj(n){let e=ej;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bl(){return Oh()}function nj(){return Oh()}function Oh(){return new gd(n=>n.toString(),(n,e)=>n.isEqual(e))}const Pwe=new ln(ye.comparator),xwe=new er(ye.comparator);function Ue(...n){let e=xwe;for(const t of n)e=e.add(t);return e}const Rwe=new er(at);function Awe(){return Rwe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yv(e)?"-0":e}}function rj(n){return{integerValue:""+n}}function Dwe(n,e){return owe(e)?rj(e):f1(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this._=void 0}}function kwe(n,e,t){return n instanceof _f?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&l1(i)&&(i=u1(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof bf?ij(n,e):n instanceof wf?aj(n,e):function(s,i){const a=sj(s,i),o=MA(a)+MA(s.Pe);return eS(a)&&eS(s.Pe)?rj(o):f1(s.serializer,o)}(n,e)}function Nwe(n,e,t){return n instanceof bf?ij(n,e):n instanceof wf?aj(n,e):t}function sj(n,e){return n instanceof wv?function(r){return eS(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class _f extends Jy{}class bf extends Jy{constructor(e){super(),this.elements=e}}function ij(n,e){const t=oj(e);for(const r of n.elements)t.some(s=>Xi(s,r))||t.push(r);return{arrayValue:{values:t}}}class wf extends Jy{constructor(e){super(),this.elements=e}}function aj(n,e){let t=oj(e);for(const r of n.elements)t=t.filter(s=>!Xi(s,r));return{arrayValue:{values:t}}}class wv extends Jy{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function MA(n){return bn(n.integerValue||n.doubleValue)}function oj(n){return c1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mwe{constructor(e,t){this.field=e,this.transform=t}}function Lwe(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof bf&&s instanceof bf||r instanceof wf&&s instanceof wf?Fc(r.elements,s.elements,Xi):r instanceof wv&&s instanceof wv?Xi(r.Pe,s.Pe):r instanceof _f&&s instanceof _f}(n.transform,e.transform)}class $we{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class e_{}function lj(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new p1(n.key,ui.none()):new pp(n.key,n.data,ui.none());{const t=n.data,r=Ur.empty();let s=new er(Zn.comparator);for(let i of e.fields)if(!s.has(i)){let a=t.field(i);a===null&&i.length>1&&(i=i.popLast(),a=t.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Qo(n.key,r,new hs(s.toArray()),ui.none())}}function Fwe(n,e,t){n instanceof pp?function(s,i,a){const o=s.value.clone(),l=$A(s.fieldTransforms,i,a.transformResults);o.setAll(l),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Qo?function(s,i,a){if(!nm(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=$A(s.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(uj(s)),l.setAll(o),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Ph(n,e,t,r){return n instanceof pp?function(i,a,o,l){if(!nm(i.precondition,a))return o;const u=i.value.clone(),d=FA(i.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qo?function(i,a,o,l){if(!nm(i.precondition,a))return o;const u=FA(i.fieldTransforms,l,a),d=a.data;return d.setAll(uj(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(i,a,o){return nm(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function Vwe(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=sj(r.transform,s||null);i!=null&&(t===null&&(t=Ur.empty()),t.set(r.field,i))}return t||null}function LA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Fc(r,s,(i,a)=>Lwe(i,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pp extends e_{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qo extends e_{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function uj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function $A(n,e,t){const r=new Map;Et(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,Nwe(a,o,t[s]))}return r}function FA(n,e,t){const r=new Map;for(const s of n){const i=s.transform,a=t.data.field(s.field);r.set(s.field,kwe(i,a,e))}return r}class p1 extends e_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jwe extends e_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uwe{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Fwe(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ph(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ph(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=nj();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(s.key)?null:o;const l=lj(a,o);l!==null&&r.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Fc(this.mutations,e.mutations,(t,r)=>LA(t,r))&&Fc(this.baseMutations,e.baseMutations,(t,r)=>LA(t,r))}}class g1{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Et(e.mutations.length===r.length);let s=function(){return Pwe}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new g1(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bwe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hwe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,qe;function zwe(n){switch(n){default:return Te();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function cj(n){if(n===void 0)return Ma("GRPC error has no .code"),X.UNKNOWN;switch(n){case In.OK:return X.OK;case In.CANCELLED:return X.CANCELLED;case In.UNKNOWN:return X.UNKNOWN;case In.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case In.INTERNAL:return X.INTERNAL;case In.UNAVAILABLE:return X.UNAVAILABLE;case In.UNAUTHENTICATED:return X.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case In.NOT_FOUND:return X.NOT_FOUND;case In.ALREADY_EXISTS:return X.ALREADY_EXISTS;case In.PERMISSION_DENIED:return X.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case In.ABORTED:return X.ABORTED;case In.OUT_OF_RANGE:return X.OUT_OF_RANGE;case In.UNIMPLEMENTED:return X.UNIMPLEMENTED;case In.DATA_LOSS:return X.DATA_LOSS;default:return Te()}}(qe=In||(In={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kwe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wwe=new xl([4294967295,4294967295],0);function VA(n){const e=Kwe().encode(n),t=new NV;return t.update(e),new Uint8Array(t.digest())}function jA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new xl([t,r],0),new xl([s,i],0)]}class m1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new oh(`Invalid padding: ${t}`);if(r<0)throw new oh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new oh(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=xl.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(xl.fromNumber(r)));return s.compare(Wwe)===1&&(s=new xl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=VA(e),[r,s]=jA(t);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new m1(i,s,t);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const t=VA(e),[r,s]=jA(t);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,gp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new t_(Oe.min(),s,new ln(at),La(),Ue())}}class gp{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new gp(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class dj{constructor(e,t){this.targetId=e,this.me=t}}class hj{constructor(e,t,r=nr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class UA{constructor(){this.fe=0,this.ge=HA(),this.pe=nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),t=Ue(),r=Ue();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te()}}),new gp(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=HA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Gwe{constructor(e){this.Le=e,this.Be=new Map,this.ke=La(),this.qe=BA(),this.Qe=new ln(at)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const i=s.target;if(nS(i))if(r===0){const a=new ye(i.path);this.Ue(t,a,mr.newNoDocument(a,Oe.min()))}else Et(r===1);else{const a=this.Ye(t);if(a!==r){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let a,o;try{a=Yl(r).toUint8Array()}catch(l){if(l instanceof HV)return $c("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new m1(a,s,i)}catch(l){return $c(l instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,i,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((i,a)=>{const o=this.Je(a);if(o){if(i.current&&nS(o.target)){const l=new ye(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,mr.newNoDocument(l,e))}i.be&&(t.set(a,i.ve()),i.Ce())}});let r=Ue();this.qe.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new t_(e,t,this.Qe,this.ke,r);return this.ke=La(),this.qe=BA(),this.Qe=new ln(at),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new UA,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new er(at),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new UA),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function BA(){return new ln(ye.comparator)}function HA(){return new ln(ye.comparator)}const Ywe={asc:"ASCENDING",desc:"DESCENDING"},qwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xwe={and:"AND",or:"OR"};class Qwe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sS(n,e){return n.useProto3Json||qy(e)?e:{value:e}}function Ev(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fj(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Zwe(n,e){return Ev(n,e.toTimestamp())}function Wi(n){return Et(!!n),Oe.fromTimestamp(function(t){const r=jo(t);return new Nn(r.seconds,r.nanos)}(n))}function v1(n,e){return iS(n,e).canonicalString()}function iS(n,e){const t=function(s){return new Xt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pj(n){const e=Xt.fromString(n);return Et(_j(e)),e}function aS(n,e){return v1(n.databaseId,e.path)}function s0(n,e){const t=pj(e);if(t.get(1)!==n.databaseId.projectId)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(mj(t))}function gj(n,e){return v1(n.databaseId,e)}function Jwe(n){const e=pj(n);return e.length===4?Xt.emptyPath():mj(e)}function oS(n){return new Xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mj(n){return Et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function zA(n,e,t){return{name:aS(n,e),fields:t.value.mapValue.fields}}function eEe(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Et(d===void 0||typeof d=="string"),nr.fromBase64String(d||"")):(Et(d===void 0||d instanceof Buffer||d instanceof Uint8Array),nr.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?X.UNKNOWN:cj(u.code);return new me(d,u.message||"")}(a);t=new hj(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=s0(n,r.document.name),i=Wi(r.document.updateTime),a=r.document.createTime?Wi(r.document.createTime):Oe.min(),o=new Ur({mapValue:{fields:r.document.fields}}),l=mr.newFoundDocument(s,i,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];t=new rm(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=s0(n,r.document),i=r.readTime?Wi(r.readTime):Oe.min(),a=mr.newNoDocument(s,i),o=r.removedTargetIds||[];t=new rm([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=s0(n,r.document),i=r.removedTargetIds||[];t=new rm([],i,s,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new Hwe(s,i),o=r.targetId;t=new dj(o,a)}}return t}function tEe(n,e){let t;if(e instanceof pp)t={update:zA(n,e.key,e.value)};else if(e instanceof p1)t={delete:aS(n,e.key)};else if(e instanceof Qo)t={update:zA(n,e.key,e.data),updateMask:cEe(e.fieldMask)};else{if(!(e instanceof jwe))return Te();t={verify:aS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const o=a.transform;if(o instanceof _f)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof wf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof wv)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Zwe(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Te()}(n,e.precondition)),t}function nEe(n,e){return n&&n.length>0?(Et(e!==void 0),n.map(t=>function(s,i){let a=s.updateTime?Wi(s.updateTime):Wi(i);return a.isEqual(Oe.min())&&(a=Wi(i)),new $we(a,s.transformResults||[])}(t,e))):[]}function rEe(n,e){return{documents:[gj(n,e.path)]}}function sEe(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=gj(n,s);const i=function(u){if(u.length!==0)return yj(Qi.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Lu(f.field),direction:oEe(f.dir)}}(d))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=sS(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:s}}function iEe(n){let e=Jwe(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Et(r===1);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];t.where&&(i=function(h){const f=vj(h);return f instanceof Qi&&GV(f)?f.getFilters():[f]}(t.where));let a=[];t.orderBy&&(a=function(h){return h.map(f=>function(b){return new bv($u(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(f))}(t.orderBy));let o=null;t.limit&&(o=function(h){let f;return f=typeof h=="object"?h.value:h,qy(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new _v(g,f)}(t.startAt));let u=null;return t.endAt&&(u=function(h){const f=!h.before,g=h.values||[];return new _v(g,f)}(t.endAt)),Ewe(e,s,a,i,o,"F",l,u)}function aEe(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vj(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=$u(t.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$u(t.unaryFilter.field);return Dn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$u(t.unaryFilter.field);return Dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=$u(t.unaryFilter.field);return Dn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return Dn.create($u(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qi.create(t.compositeFilter.filters.map(r=>vj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function oEe(n){return Ywe[n]}function lEe(n){return qwe[n]}function uEe(n){return Xwe[n]}function Lu(n){return{fieldPath:n.canonicalString()}}function $u(n){return Zn.fromServerFormat(n.fieldPath)}function yj(n){return n instanceof Dn?function(t){if(t.op==="=="){if(RA(t.value))return{unaryFilter:{field:Lu(t.field),op:"IS_NAN"}};if(xA(t.value))return{unaryFilter:{field:Lu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RA(t.value))return{unaryFilter:{field:Lu(t.field),op:"IS_NOT_NAN"}};if(xA(t.value))return{unaryFilter:{field:Lu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(t.field),op:lEe(t.op),value:t.value}}}(n):n instanceof Qi?function(t){const r=t.getFilters().map(s=>yj(s));return r.length===1?r[0]:{compositeFilter:{op:uEe(t.op),filters:r}}}(n):Te()}function cEe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _j(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t,r,s,i=Oe.min(),a=Oe.min(),o=nr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dEe{constructor(e){this.ct=e}}function hEe(n){const e=iEe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fEe{constructor(){this.un=new pEe}addToCollectionParentIndex(e,t){return this.un.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(Vo.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class pEe{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new er(Xt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new er(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uc(0)}static kn(){return new Uc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gEe{constructor(){this.changes=new gd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mEe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vEe{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ph(r.mutation,s,hs.empty(),Nn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const s=bl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let a=ah();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=bl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,r,s){let i=La();const a=Oh(),o=function(){return Oh()}();return t.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Qo)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Ph(d.mutation,u,d.mutation.getFieldMask(),Nn.now())):a.set(u.key,hs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>a.set(u,d)),t.forEach((u,d)=>{var h;return o.set(u,new mEe(d,(h=a.get(u))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,t){const r=Oh();let s=new ln((a,o)=>a-o),i=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let d=r.get(l)||hs.empty();d=o.applyToLocalView(u,d),r.set(l,d);const h=(s.get(o.batchId)||Ue()).add(l);s=s.insert(o.batchId,h)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,h=nj();d.forEach(f=>{if(!i.has(f)){const g=lj(t.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Swe(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):q.resolve(bl());let o=-1,l=i;return a.next(u=>q.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),i.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ue())).next(d=>({batchId:o,changes:tj(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let s=ah();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let a=ah();return this.indexManager.getCollectionParents(e,i).next(o=>q.forEach(o,l=>{const u=function(h,f){return new Xy(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(a=>{i.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,mr.newInvalidDocument(d)))});let o=ah();return a.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Ph(d.mutation,u,hs.empty(),Nn.now()),Zy(t,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yEe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Wi(s.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:hEe(s.bundledQuery),readTime:Wi(s.readTime)}}(t)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ee{constructor(){this.overlays=new ln(ye.comparator),this.Ir=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bl();return q.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.ht(e,t,i)}),q.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){const s=bl(),i=t.length+1,a=new ye(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new ln((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=bl(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=bl(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=s)););return q.resolve(o)}ht(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Bwe(t,r));let i=this.Ir.get(t);i===void 0&&(i=Ue(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bEe{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.Tr=new er(Vn.Er),this.dr=new er(Vn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Vn(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Vn(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new ye(new Xt([])),r=new Vn(t,e),s=new Vn(t,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ye(new Xt([])),r=new Vn(t,e),s=new Vn(t,e+1);let i=Ue();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const t=new Vn(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vn{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ye.comparator(e.key,t.key)||at(e.wr,t.wr)}static Ar(e,t){return at(e.wr,t.wr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wEe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new er(Vn.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Uwe(i,t,r,s);this.mutationQueue.push(a);for(const o of s)this.br=this.br.add(new Vn(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return q.resolve(a)}lookupMutationBatch(e,t){return q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.vr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vn(t,0),s=new Vn(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const o=this.Dr(a.wr);i.push(o)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(at);return t.forEach(s=>{const i=new Vn(s,0),a=new Vn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],o=>{r=r.add(o.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const a=new Vn(new ye(i),0);let o=new er(at);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(o=o.add(l.wr)),!0)},a),q.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Et(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(t.mutations,s=>{const i=new Vn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Vn(t,0),s=this.br.firstAfterOrEqual(r);return q.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EEe{constructor(e){this.Mr=e,this.docs=function(){return new ln(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(t))}getEntries(e,t){let r=La();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():mr.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=La();const a=t.path,o=new ye(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||rwe(nwe(d),r)<=0||(s.has(d.key)||Zy(t,d))&&(i=i.insert(d.key,d.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Te()}Or(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new SEe(this)}getSize(e){return q.resolve(this.size)}}class SEe extends gEe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CEe{constructor(e){this.persistence=e,this.Nr=new gd(t=>d1(t),h1),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new y1,this.targetCount=0,this.kr=Uc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,s)=>t(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),q.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Uc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Kn(t),q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=t&&r.get(o.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),q.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TEe{constructor(e,t){this.qr={},this.overlays={},this.Qr=new o1(0),this.Kr=!1,this.Kr=!0,this.$r=new bEe,this.referenceDelegate=e(this),this.Ur=new CEe(this),this.indexManager=new fEe,this.remoteDocumentCache=function(s){return new EEe(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dEe(t),this.Gr=new yEe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _Ee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new wEe(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const s=new IEe(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,t){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class IEe extends iwe{constructor(e){super(),this.currentSequenceNumber=e}}class _1{constructor(e){this.persistence=e,this.Jr=new y1,this.Yr=null}static Zr(e){return new _1(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const s=ye.fromPath(r);return this.ei(e,s).next(i=>{i||t.removeEntry(s,Oe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return q.or([()=>q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=s}static Wi(e,t){let r=Ue(),s=Ue();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new b1(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OEe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PEe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return dye()?8:awe(wr())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.Yi(e,t).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,t,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new OEe;return this.Xi(e,t,a).next(o=>{if(i.result=o,this.zi)return this.es(e,t,a,o.size)})}).next(()=>i.result)}es(e,t,r,s){return r.documentReadCount<this.ji?(Hd()<=Ye.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Mu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Hd()<=Ye.DEBUG&&fe("QueryEngine","Query:",Mu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Hd()<=Ye.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Mu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(t))):q.resolve())}Yi(e,t){if(NA(t))return q.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=rS(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Ue(...i);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(t,o);return this.ns(t,u,a,l.readTime)?this.Yi(e,rS(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,r,s){return NA(t)||s.isEqual(Oe.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(t,i);return this.ns(t,a,r,s)?q.resolve(null):(Hd()<=Ye.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mu(t)),this.rs(e,a,t,twe(s,-1)).next(o=>o))})}ts(e,t){let r=new er(JV(e));return t.forEach((s,i)=>{Zy(e,i)&&(r=r.add(i))}),r}ns(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,t,r){return Hd()<=Ye.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Mu(t)),this.Ji.getDocumentsMatchingQuery(e,t,Vo.min(),r)}rs(e,t,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xEe{constructor(e,t,r,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new ln(at),this._s=new gd(i=>d1(i),h1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vEe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function REe(n,e,t,r){return new xEe(n,e,t,r)}async function bj(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let l=Ue();for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function AEe(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const h=u.batch,f=h.keys();let g=q.resolve();return f.forEach(b=>{g=g.next(()=>d.getEntry(l,b)).next(y=>{const _=u.docVersions.get(b);Et(_!==null),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ue();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function wj(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function DEe(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const o=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;o.push(t.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(i,d.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(nr.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(y,_,m){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,g,d)&&o.push(t.Ur.updateTargetData(i,g))});let l=La(),u=Ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(i,d))}),o.push(kEe(i,a,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(Oe.min())){const d=t.Ur.getLastRemoteSnapshotVersion(i).next(h=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(d)}return q.waitFor(o).next(()=>a.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(t.os=s,i))}function kEe(n,e,t){let r=Ue(),s=Ue();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=La();return t.forEach((o,l)=>{const u=i.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):fe("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:s}})}function NEe(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MEe(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ur.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):t.Ur.allocateTargetId(r).next(a=>(s=new yo(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function lS(n,e,t){const r=Pe(n),s=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!fp(a))throw a;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function KA(n,e,t){const r=Pe(n);let s=Oe.min(),i=Ue();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const h=Pe(l),f=h._s.get(d);return f!==void 0?q.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,a,Ki(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,t?s:Oe.min(),t?i:Ue())).next(o=>(LEe(r,Twe(e),o),{documents:o,Ts:i})))}function LEe(n,e,t){let r=n.us.get(e)||Oe.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}class WA{constructor(){this.activeTargetIds=Awe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $Ee{constructor(){this.so=new WA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new WA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FEe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g=null;function i0(){return _g===null?_g=function(){return 268435456+Math.round(2147483648*Math.random())}():_g++,"0x"+_g.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VEe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jEe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class UEe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(t,r,s,i,a){const o=i0(),l=this.xo(t,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,a),this.No(t,l,u,s).then(d=>(fe("RestConnection",`Received RPC '${t}' ${o}: `,d),d),d=>{throw $c("RestConnection",`RPC '${t}' ${o} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(t,r,s,i,a,o){return this.Mo(t,r,s,i,a)}Oo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),s&&s.headers.forEach((i,a)=>t[a]=i)}xo(t,r){const s=VEe[t];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,s){const i=i0();return new Promise((a,o)=>{const l=new MV;l.setWithCredentials(!0),l.listenOnce(LV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case em.NO_ERROR:const d=l.getResponseJson();fe(hr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),a(d);break;case em.TIMEOUT:fe(hr,`RPC '${e}' ${i} timed out`),o(new me(X.DEADLINE_EXCEEDED,"Request time out"));break;case em.HTTP_ERROR:const h=l.getStatus();if(fe(hr,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const b=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(m)>=0?m:X.UNKNOWN}(g.status);o(new me(b,g.message))}else o(new me(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new me(X.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{fe(hr,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);fe(hr,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",u,r,15)})}Bo(e,t,r){const s=i0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=VV(),o=FV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=i.join("");fe(hr,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=a.createWebChannel(d,l);let f=!1,g=!1;const b=new jEe({Io:_=>{g?fe(hr,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(f||(fe(hr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),fe(hr,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},To:()=>h.close()}),y=(_,m,E)=>{_.listen(m,w=>{try{E(w)}catch(S){setTimeout(()=>{throw S},0)}})};return y(h,ih.EventType.OPEN,()=>{g||(fe(hr,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),y(h,ih.EventType.CLOSE,()=>{g||(g=!0,fe(hr,`RPC '${e}' stream ${s} transport closed`),b.So())}),y(h,ih.EventType.ERROR,_=>{g||(g=!0,$c(hr,`RPC '${e}' stream ${s} transport errored:`,_),b.So(new me(X.UNAVAILABLE,"The operation could not be completed")))}),y(h,ih.EventType.MESSAGE,_=>{var m;if(!g){const E=_.data[0];Et(!!E);const w=E,S=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(S){fe(hr,`RPC '${e}' stream ${s} received error:`,S);const O=S.status;let x=function(P){const A=In[P];if(A!==void 0)return cj(A)}(O),I=S.message;x===void 0&&(x=X.INTERNAL,I="Unknown error status: "+O+" with message "+S.message),g=!0,b.So(new me(x,I)),h.close()}else fe(hr,`RPC '${e}' stream ${s} received:`,E),b.bo(E)}}),y(o,$V.STAT_EVENT,_=>{_.stat===ZE.PROXY?fe(hr,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===ZE.NOPROXY&&fe(hr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function a0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(n){return new Qwe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,t,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t,r,s,i,a,o,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ej(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Ma(t.toString()),Ma("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===t&&this.P_(r,s)},r=>{e(()=>{const s=new me(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BEe extends Sj{constructor(e,t,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=eEe(this.serializer,e),r=function(i){if(!("targetChange"in i))return Oe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Oe.min():a.readTime?Wi(a.readTime):Oe.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=oS(this.serializer),t.addTarget=function(i,a){let o;const l=a.target;if(o=nS(l)?{documents:rEe(i,l)}:{query:sEe(i,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=fj(i,a.resumeToken);const u=sS(i,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Oe.min())>0){o.readTime=Ev(i,a.snapshotVersion.toTimestamp());const u=sS(i,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=aEe(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=oS(this.serializer),t.removeTarget=e,this.a_(t)}}class HEe extends Sj{constructor(e,t,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=nEe(e.writeResults,e.commitTime),r=Wi(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=oS(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tEe(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zEe extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,iS(t,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new me(X.UNKNOWN,i.toString())})}Lo(e,t,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,iS(t,r),s,a,o,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(X.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class KEe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ma(t),this.D_=!1):fe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WEe{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{gu(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Pe(l);u.L_.add(4),await mp(u),u.q_.set("Unknown"),u.L_.delete(4),await r_(u)}(this))})}),this.q_=new KEe(r,s)}}async function r_(n){if(gu(n))for(const e of n.B_)await e(!0)}async function mp(n){for(const e of n.B_)await e(!1)}function Cj(n,e){const t=Pe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),C1(t)?S1(t):md(t).r_()&&E1(t,e))}function w1(n,e){const t=Pe(n),r=md(t);t.N_.delete(e),r.r_()&&Tj(t,e),t.N_.size===0&&(r.r_()?r.o_():gu(t)&&t.q_.set("Unknown"))}function E1(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}md(n).A_(e)}function Tj(n,e){n.Q_.xe(e),md(n).R_(e)}function S1(n){n.Q_=new Gwe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),md(n).start(),n.q_.v_()}function C1(n){return gu(n)&&!md(n).n_()&&n.N_.size>0}function gu(n){return Pe(n).L_.size===0}function Ij(n){n.Q_=void 0}async function GEe(n){n.q_.set("Online")}async function YEe(n){n.N_.forEach((e,t)=>{E1(n,e)})}async function qEe(n,e){Ij(n),C1(n)?(n.q_.M_(e),S1(n)):n.q_.set("Unknown")}async function XEe(n,e,t){if(n.q_.set("Online"),e instanceof hj&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.N_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.N_.delete(o),s.Q_.removeTarget(o))}(n,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sv(n,r)}else if(e instanceof rm?n.Q_.Ke(e):e instanceof dj?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Oe.min()))try{const r=await wj(n.localStore);t.compareTo(r)>=0&&await function(i,a){const o=i.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(nr.EMPTY_BYTE_STRING,d.snapshotVersion)),Tj(i,l);const h=new yo(d.target,l,u,d.sequenceNumber);E1(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Sv(n,r)}}async function Sv(n,e,t){if(!fp(e))throw e;n.L_.add(1),await mp(n),n.q_.set("Offline"),t||(t=()=>wj(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await r_(n)})}function Oj(n,e){return e().catch(t=>Sv(n,t,e))}async function s_(n){const e=Pe(n),t=Uo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;QEe(e);)try{const s=await NEe(e.localStore,r);if(s===null){e.O_.length===0&&t.o_();break}r=s.batchId,ZEe(e,s)}catch(s){await Sv(e,s)}Pj(e)&&xj(e)}function QEe(n){return gu(n)&&n.O_.length<10}function ZEe(n,e){n.O_.push(e);const t=Uo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Pj(n){return gu(n)&&!Uo(n).n_()&&n.O_.length>0}function xj(n){Uo(n).start()}async function JEe(n){Uo(n).p_()}async function eSe(n){const e=Uo(n);for(const t of n.O_)e.m_(t.mutations)}async function tSe(n,e,t){const r=n.O_.shift(),s=g1.from(r,e,t);await Oj(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await s_(n)}async function nSe(n,e){e&&Uo(n).V_&&await async function(r,s){if(function(a){return zwe(a)&&a!==X.ABORTED}(s.code)){const i=r.O_.shift();Uo(r).s_(),await Oj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await s_(r)}}(n,e),Pj(n)&&xj(n)}async function YA(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=gu(t);t.L_.add(3),await mp(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await r_(t)}async function rSe(n,e){const t=Pe(n);e?(t.L_.delete(2),await r_(t)):e||(t.L_.add(2),await mp(t),t.q_.set("Unknown"))}function md(n){return n.K_||(n.K_=function(t,r,s){const i=Pe(t);return i.w_(),new BEe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:GEe.bind(null,n),Ro:YEe.bind(null,n),mo:qEe.bind(null,n),d_:XEe.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),C1(n)?S1(n):n.q_.set("Unknown")):(await n.K_.stop(),Ij(n))})),n.K_}function Uo(n){return n.U_||(n.U_=function(t,r,s){const i=Pe(t);return i.w_(),new HEe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JEe.bind(null,n),mo:nSe.bind(null,n),f_:eSe.bind(null,n),g_:tSe.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await s_(n)):(await n.U_.stop(),n.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const a=Date.now()+r,o=new T1(e,t,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I1(n,e){if(Ma("AsyncQueue",`${e}: ${n}`),fp(n))return new me(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=ah(),this.sortedSet=new ln(this.comparator)}static emptySet(e){return new _c(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new _c;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.W_=new ln(ye.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bc{constructor(e,t,r,s,i,a,o,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,s,i){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new Bc(e,t,_c.emptySet(t),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sSe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class iSe{constructor(){this.queries=XA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const s=Pe(t),i=s.queries;s.queries=XA(),i.forEach((a,o)=>{for(const l of o.j_)l.onError(r)})})(this,new me(X.ABORTED,"Firestore shutting down"))}}function XA(){return new gd(n=>ZV(n),Qy)}async function aSe(n,e){const t=Pe(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new sSe,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await t.onListen(s,!0);break;case 1:i.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(a){const o=I1(a,`Initialization of query '${Mu(e.query)}' failed`);return void e.onError(o)}t.queries.set(s,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&O1(t)}async function oSe(n,e){const t=Pe(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function lSe(n,e){const t=Pe(n);let r=!1;for(const s of e){const i=s.query,a=t.queries.get(i);if(a){for(const o of a.j_)o.X_(s)&&(r=!0);a.z_=s}}r&&O1(t)}function uSe(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(t);r.queries.delete(e)}function O1(n){n.Y_.forEach(e=>{e.next()})}var uS,QA;(QA=uS||(uS={})).ea="default",QA.Cache="cache";class cSe{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==uS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.key=e}}class Aj{constructor(e){this.key=e}}class dSe{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=JV(e),this.Ra=new _c(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new qA,s=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),g=Zy(this.query,h)?h:null,b=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;f&&g?f.data.isEqual(g.data)?b!==y&&(r.track({type:3,doc:g}),_=!0):this.ga(f,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(o=!0)):!f&&g?(r.track({type:0,doc:g}),_=!0):f&&!g&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(o=!0)),_&&(g?(a=a.add(g),i=y?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,h)=>function(g,b){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return y(g)-y(b)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const o=t&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Bc(this.query,e.Ra,i,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Aj(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Rj(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ue();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Bc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hSe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fSe{constructor(e){this.key=e,this.va=!1}}class pSe{constructor(e,t,r,s,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new gd(o=>ZV(o),Qy),this.Ma=new Map,this.xa=new Set,this.Oa=new ln(ye.comparator),this.Na=new Map,this.La=new y1,this.Ba={},this.ka=new Map,this.qa=Uc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gSe(n,e,t=!0){const r=$j(n);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Dj(r,e,t,!0),s}async function mSe(n,e){const t=$j(n);await Dj(t,e,!0,!1)}async function Dj(n,e,t,r){const s=await MEe(n.localStore,Ki(e)),i=s.targetId,a=n.sharedClientState.addLocalQueryTarget(i,t);let o;return r&&(o=await vSe(n,e,i,a==="current",s.resumeToken)),n.isPrimaryClient&&t&&Cj(n.remoteStore,s),o}async function vSe(n,e,t,r,s){n.Ka=(h,f,g)=>async function(y,_,m,E){let w=_.view.ma(m);w.ns&&(w=await KA(y.localStore,_.query,!1).then(({documents:I})=>_.view.ma(I,w)));const S=E&&E.targetChanges.get(_.targetId),O=E&&E.targetMismatches.get(_.targetId)!=null,x=_.view.applyChanges(w,y.isPrimaryClient,S,O);return JA(y,_.targetId,x.wa),x.snapshot}(n,h,f,g);const i=await KA(n.localStore,e,!0),a=new dSe(e,i.Ts),o=a.ma(i.documents),l=gp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),u=a.applyChanges(o,n.isPrimaryClient,l);JA(n,t,u.wa);const d=new hSe(e,t,a);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot}async function ySe(n,e,t){const r=Pe(n),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!Qy(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await lS(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&w1(r.remoteStore,s.targetId),cS(r,s.targetId)}).catch(hp)):(cS(r,s.targetId),await lS(r.localStore,s.targetId,!0))}async function _Se(n,e){const t=Pe(n),r=t.Fa.get(e),s=t.Ma.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),w1(t.remoteStore,r.targetId))}async function bSe(n,e,t){const r=OSe(n);try{const s=await function(a,o){const l=Pe(a),u=Nn.now(),d=o.reduce((g,b)=>g.add(b.key),Ue());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=La(),y=Ue();return l.cs.getEntries(g,d).next(_=>{b=_,b.forEach((m,E)=>{E.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(_=>{h=_;const m=[];for(const E of o){const w=Vwe(E,h.get(E.key).overlayedDocument);w!=null&&m.push(new Qo(E.key,w,zV(w.value.mapValue),ui.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,m,o)}).next(_=>{f=_;const m=_.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(g,_.batchId,m)})}).then(()=>({batchId:f.batchId,changes:tj(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new ln(at)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(r,s.batchId,t),await vp(r,s.changes),await s_(r.remoteStore)}catch(s){const i=I1(s,"Failed to persist write");t.reject(i)}}async function kj(n,e){const t=Pe(n);try{const r=await DEe(t.localStore,e);e.targetChanges.forEach((s,i)=>{const a=t.Na.get(i);a&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?Et(a.va):s.removedDocuments.size>0&&(Et(a.va),a.va=!1))}),await vp(t,r,e)}catch(r){await hp(r)}}function ZA(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Fa.forEach((i,a)=>{const o=a.view.Z_(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=Pe(a);l.onlineState=o;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(o)&&(u=!0)}),u&&O1(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wSe(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new ln(ye.comparator);a=a.insert(i,mr.newNoDocument(i,Oe.min()));const o=Ue().add(i),l=new t_(Oe.min(),new Map,new ln(at),a,o);await kj(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),P1(r)}else await lS(r.localStore,e,!1).then(()=>cS(r,e,t)).catch(hp)}async function ESe(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await AEe(t.localStore,e);Mj(t,r,null),Nj(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vp(t,s)}catch(s){await hp(s)}}async function SSe(n,e,t){const r=Pe(n);try{const s=await function(a,o){const l=Pe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(Et(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Mj(r,e,t),Nj(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vp(r,s)}catch(s){await hp(s)}}function Nj(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Mj(n,e,t){const r=Pe(n);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function cS(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||Lj(n,r)})}function Lj(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(w1(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),P1(n))}function JA(n,e,t){for(const r of t)r instanceof Rj?(n.La.addReference(r.key,e),CSe(n,r)):r instanceof Aj?(fe("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||Lj(n,r.key)):Te()}function CSe(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(fe("SyncEngine","New document in limbo: "+t),n.xa.add(r),P1(n))}function P1(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new ye(Xt.fromString(e)),r=n.qa.next();n.Na.set(r,new fSe(t)),n.Oa=n.Oa.insert(t,r),Cj(n.remoteStore,new yo(Ki(QV(t.path)),r,"TargetPurposeLimboResolution",o1.oe))}}async function vp(n,e,t){const r=Pe(n),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{a.push(r.Ka(l,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=t==null?void 0:t.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=b1.Wi(l.targetId,u);i.push(h)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(l,u){const d=Pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(u,f=>q.forEach(f.$i,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>q.forEach(f.Ui,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!fp(h))throw h;fe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=d.os.get(f),b=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(b);d.os=d.os.insert(f,y)}}}(r.localStore,i))}async function TSe(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await bj(t.localStore,e);t.currentUser=e,function(i,a){i.ka.forEach(o=>{o.forEach(l=>{l.reject(new me(X.CANCELLED,a))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vp(t,r.hs)}}function ISe(n,e){const t=Pe(n),r=t.Na.get(e);if(r&&r.va)return Ue().add(r.key);{let s=Ue();const i=t.Ma.get(e);if(!i)return s;for(const a of i){const o=t.Fa.get(a);s=s.unionWith(o.view.Va)}return s}}function $j(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ISe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wSe.bind(null,e),e.Ca.d_=lSe.bind(null,e.eventManager),e.Ca.$a=uSe.bind(null,e.eventManager),e}function OSe(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ESe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SSe.bind(null,e),e}class Cv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=n_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return REe(this.persistence,new PEe,e.initialUser,this.serializer)}Ga(e){return new TEe(_1.Zr,this.serializer)}Wa(e){return new $Ee}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cv.provider={build:()=>new Cv};class dS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TSe.bind(null,this.syncEngine),await rSe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iSe}()}createDatastore(e){const t=n_(e.databaseInfo.databaseId),r=function(i){return new UEe(i)}(e.databaseInfo);return function(i,a,o,l){return new zEe(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,a,o){return new WEe(r,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>ZA(this.syncEngine,t,0),function(){return GA.D()?new GA:new FEe}())}createSyncEngine(e,t){return function(s,i,a,o,l,u,d){const h=new pSe(s,i,a,o,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=Pe(s);fe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await mp(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dS.provider={build:()=>new dS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PSe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ma("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xSe{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=pr.UNAUTHENTICATED,this.clientId=UV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{fe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(fe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=I1(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function o0(n,e){n.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await bj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function eD(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RSe(n);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>YA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>YA(e.remoteStore,s)),n._onlineComponents=e}async function RSe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await o0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;$c("Error using user provided cache. Falling back to memory cache: "+t),await o0(n,new Cv)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await o0(n,new Cv);return n._offlineComponents}async function Fj(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await eD(n,n._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await eD(n,new dS))),n._onlineComponents}function ASe(n){return Fj(n).then(e=>e.syncEngine)}async function DSe(n){const e=await Fj(n),t=e.eventManager;return t.onListen=gSe.bind(null,e.syncEngine),t.onUnlisten=ySe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mSe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_Se.bind(null,e.syncEngine),t}function kSe(n,e,t={}){const r=new ko;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,u){const d=new PSe({next:f=>{d.Za(),a.enqueueAndForget(()=>oSe(i,h)),f.fromCache&&l.source==="server"?u.reject(new me(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new cSe(o,d,{includeMetadataChanges:!0,_a:!0});return aSe(i,h)}(await DSe(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(n,e,t){if(!t)throw new me(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NSe(n,e,t,r){if(e===!0&&r===!0)throw new me(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nD(n){if(!ye.isDocumentKey(n))throw new me(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rD(n){if(ye.isDocumentKey(n))throw new me(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function x1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Xl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=x1(n);throw new me(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NSe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class i_{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sD({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W0e;switch(r.type){case"firstParty":return new X0e(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=tD.get(t);r&&(fe("ComponentProvider","Removing Datastore"),tD.delete(t),r.terminate())}(this),Promise.resolve()}}function MSe(n,e,t,r={}){var s;const i=(n=Xl(n,i_))._getSettings(),a=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&$c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=pr.MOCK_USER;else{o=sye(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new me(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pr(u)}n._authCredentials=new G0e(new jV(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new a_(this.firestore,e,this._query)}}class Bs{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bs(this.firestore,e,this._key)}}class No extends a_{constructor(e,t,r){super(e,t,QV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bs(this.firestore,null,new ye(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function Uj(n,e,...t){if(n=zn(n),jj("collection","path",e),n instanceof i_){const r=Xt.fromString(e,...t);return rD(r),new No(n,null,r)}{if(!(n instanceof Bs||n instanceof No))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xt.fromString(e,...t));return rD(r),new No(n.firestore,null,r)}}function R1(n,e,...t){if(n=zn(n),arguments.length===1&&(e=UV.newId()),jj("doc","path",e),n instanceof i_){const r=Xt.fromString(e,...t);return nD(r),new Bs(n,null,new ye(r))}{if(!(n instanceof Bs||n instanceof No))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xt.fromString(e,...t));return nD(r),new Bs(n.firestore,n instanceof No?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ej(this,"async_queue_retry"),this.Vu=()=>{const r=a0();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=a0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=a0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new ko;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fp(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Ma("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=T1.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class yp extends i_{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new iD,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iD(e),this._firestoreClient=void 0,await e}}}function LSe(n,e){const t=typeof n=="object"?n:QF(),r=typeof n=="string"?n:"(default)",s=XT(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nye("firestore");i&&MSe(s,...i)}return s}function Bj(n){if(n._terminated)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$Se(n),n._firestoreClient}function $Se(n){var e,t,r;const s=n._freezeSettings(),i=function(o,l,u,d){return new uwe(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Vj(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new xSe(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hc(nr.fromBase64String(e))}catch(t){throw new me(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hc(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FSe=/^__.*__$/;class VSe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new pp(e,this.data,t,this.fieldTransforms)}}class Hj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class k1{constructor(e,t,r,s,i,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new k1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Tv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(zj(this.Cu)&&FSe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class jSe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||n_(e)}Qu(e,t,r,s=!1){return new k1({Cu:e,methodName:t,qu:r,path:Zn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kj(n){const e=n._freezeSettings(),t=n_(n._databaseId);return new jSe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function USe(n,e,t,r,s,i={}){const a=n.Qu(i.merge||i.mergeFields?2:0,e,t,s);M1("Data must be an object, but it was:",a,r);const o=Wj(r,a);let l,u;if(i.merge)l=new hs(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=hS(e,h,t);if(!a.contains(f))throw new me(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Yj(d,f)||d.push(f)}l=new hs(d),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new VSe(new Ur(o),l,u)}class u_ extends l_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof u_}}class N1 extends l_{_toFieldTransform(e){return new Mwe(e.path,new _f)}isEqual(e){return e instanceof N1}}function BSe(n,e,t,r){const s=n.Qu(1,e,t);M1("Data must be an object, but it was:",s,r);const i=[],a=Ur.empty();pu(r,(l,u)=>{const d=L1(e,l,t);u=zn(u);const h=s.Nu(d);if(u instanceof u_)i.push(d);else{const f=c_(u,h);f!=null&&(i.push(d),a.set(d,f))}});const o=new hs(i);return new Hj(a,o,s.fieldTransforms)}function HSe(n,e,t,r,s,i){const a=n.Qu(1,e,t),o=[hS(e,r,t)],l=[s];if(i.length%2!=0)throw new me(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)o.push(hS(e,i[f])),l.push(i[f+1]);const u=[],d=Ur.empty();for(let f=o.length-1;f>=0;--f)if(!Yj(u,o[f])){const g=o[f];let b=l[f];b=zn(b);const y=a.Nu(g);if(b instanceof u_)u.push(g);else{const _=c_(b,y);_!=null&&(u.push(g),d.set(g,_))}}const h=new hs(u);return new Hj(d,h,a.fieldTransforms)}function c_(n,e){if(Gj(n=zn(n)))return M1("Unsupported field value:",e,n),Wj(n,e);if(n instanceof l_)return function(r,s){if(!zj(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const o of r){let l=c_(o,s.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Dwe(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Nn.fromDate(r);return{timestampValue:Ev(s.serializer,i)}}if(r instanceof Nn){const i=new Nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ev(s.serializer,i)}}if(r instanceof A1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hc)return{bytesValue:fj(s.serializer,r._byteString)};if(r instanceof Bs){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:v1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof D1)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return f1(o.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${x1(r)}`)}(n,e)}function Wj(n,e){const t={};return BV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(n,(r,s)=>{const i=c_(s,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function Gj(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof A1||n instanceof Hc||n instanceof Bs||n instanceof l_||n instanceof D1)}function M1(n,e,t){if(!Gj(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=x1(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function hS(n,e,t){if((e=zn(e))instanceof o_)return e._internalPath;if(typeof e=="string")return L1(n,e);throw Tv("Field path arguments must be of type string or ",n,!1,void 0,t)}const zSe=new RegExp("[~\\*/\\[\\]]");function L1(n,e,t){if(e.search(zSe)>=0)throw Tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new o_(...e.split("."))._internalPath}catch{throw Tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Tv(n,e,t,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new me(X.INVALID_ARGUMENT,o+n+l)}function Yj(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KSe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xj("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KSe extends qj{data(){return super.data()}}function Xj(n,e){return typeof e=="string"?L1(n,e):e instanceof o_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WSe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GSe{convertValue(e,t="none"){switch(ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return pu(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>bn(a.doubleValue));return new D1(i)}convertGeoPoint(e){return new A1(bn(e.latitude),bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=u1(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mf(e));default:return null}}convertTimestamp(e){const t=jo(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xt.fromString(e);Et(_j(r));const s=new vf(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(t)||Ma(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YSe(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qSe extends qj{constructor(e,t,r,s,i,a){super(e,t,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xj("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sm extends qSe{data(e={}){return super.data(e)}}class XSe{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new bg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sm(this._firestore,this._userDataWriter,r.key,r,new bg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new sm(s._firestore,s._userDataWriter,o.doc.key,o.doc,new bg(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new sm(s._firestore,s._userDataWriter,o.doc.key,o.doc,new bg(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:QSe(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QSe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class ZSe extends GSe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,t)}}function JSe(n){n=Xl(n,a_);const e=Xl(n.firestore,yp),t=Bj(e),r=new ZSe(e);return WSe(n._query),kSe(t,n._query).then(s=>new XSe(e,r,n,s))}function eCe(n,e,t,...r){n=Xl(n,Bs);const s=Xl(n.firestore,yp),i=Kj(s);let a;return a=typeof(e=zn(e))=="string"||e instanceof o_?HSe(i,"updateDoc",n._key,e,t,r):BSe(i,"updateDoc",n._key,e),$1(s,[a.toMutation(n._key,ui.exists(!0))])}function tCe(n){return $1(Xl(n.firestore,yp),[new p1(n._key,ui.none())])}function nCe(n,e){const t=Xl(n.firestore,yp),r=R1(n),s=YSe(n.converter,e);return $1(t,[USe(Kj(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then(()=>r)}function $1(n,e){return function(r,s){const i=new ko;return r.asyncQueue.enqueueAndForget(async()=>bSe(await ASe(r),s,i)),i.promise}(Bj(n),e)}function rCe(){return new N1("serverTimestamp")}(function(e,t=!0){(function(s){pd=s})(hd),Mc(new zl("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new yp(new Y0e(r.getProvider("auth-internal")),new Z0e(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new me(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vf(u.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Do(CA,"4.7.3",e),Do(CA,"4.7.3","esm2017")})();const sCe={apiKey:"AIzaSyB662kBup4nhIZUwUbUpiOvHO2dgknO6rc",authDomain:"dango-c161e.firebaseapp.com",projectId:"dango-c161e",storageBucket:"dango-c161e.firebasestorage.app",messagingSenderId:"837192116631",appId:"1:837192116631:web:a014f6ea1d544603547cd2"},Qj=XF(sCe),d_=B0e(Qj),h_=LSe(Qj),iCe=async(n,e)=>{try{return await Tbe(d_,n,e)}catch(t){const r=t;throw console.error("Sign in error:",{code:r.code,message:r.message,name:r.name}),t}},aCe=async(n,e)=>{try{return await Cbe(d_,n,e)}catch(t){const r=t;throw console.error("Sign up error:",{code:r.code,message:r.message,name:r.name}),t}},oCe=async()=>{try{await Abe(d_)}catch(n){throw n}},lCe=n=>Rbe(d_,n),uCe=async(n,e)=>{try{await Ibe(n,e)}catch(t){throw t}};class cCe{constructor(){Ap(this,"user",null);Ap(this,"loading",!0);Ap(this,"error",null);I6(this),this.initAuth()}initAuth(){lCe(e=>{this.setUser(e),this.setLoading(!1)})}setUser(e){this.user=e}setLoading(e){this.loading=e}setError(e){this.error=e}async login(e,t){try{return await iCe(e,t),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async register(e,t){try{return await aCe(e,t),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async logout(){try{return await oCe(),this.setError(null),!0}catch(e){const t=e;return this.setError(t.message),!1}}async updatePassword(e){try{if(!this.user)throw new Error("No user logged in");return await uCe(this.user,e),this.setError(null),!0}catch(t){const r=t;return this.setError(r.message),!1}}}const dn=new cCe;function dCe(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const aD={};function fS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&aD[e[0]]||(typeof e[0]=="string"&&(aD[e[0]]=new Date),dCe(...e))}const Zj=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function oD(n,e,t){n.loadNamespaces(e,Zj(n,t))}function lD(n,e,t,r){typeof t=="string"&&(t=[t]),t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,Zj(n,r))}function hCe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=e.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(r,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,n)&&(!s||a(i,n)))}function fCe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(fS("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,n))return!1}}):hCe(n,e,t)}const pCe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gCe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mCe=n=>gCe[n],vCe=n=>n.replace(pCe,mCe);let pS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vCe};function yCe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pS={...pS,...n}}function _Ce(){return pS}let Jj;function bCe(n){Jj=n}function wCe(){return Jj}const ECe={type:"3rdParty",init(n){yCe(n.options.react),bCe(n)}},SCe=D.createContext();class CCe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const TCe=(n,e)=>{const t=D.useRef();return D.useEffect(()=>{t.current=n},[n,e]),t.current};function vd(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:r,defaultNS:s}=D.useContext(SCe)||{},i=t||r||wCe();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new CCe),!i){fS("You will need to pass in an i18next instance by using initReactI18next");const w=(O,x)=>typeof x=="string"?x:x&&typeof x=="object"&&typeof x.defaultValue=="string"?x.defaultValue:Array.isArray(O)?O[O.length-1]:O,S=[w,{},!1];return S.t=w,S.i18n={},S.ready=!1,S}i.options.react&&i.options.react.wait!==void 0&&fS("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={..._Ce(),...i.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=s||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(w=>fCe(w,i,a));function h(){return i.getFixedT(e.lng||null,a.nsMode==="fallback"?u:u[0],l)}const[f,g]=D.useState(h);let b=u.join();e.lng&&(b=`${e.lng}${b}`);const y=TCe(b),_=D.useRef(!0);D.useEffect(()=>{const{bindI18n:w,bindI18nStore:S}=a;_.current=!0,!d&&!o&&(e.lng?lD(i,e.lng,u,()=>{_.current&&g(h)}):oD(i,u,()=>{_.current&&g(h)})),d&&y&&y!==b&&_.current&&g(h);function O(){_.current&&g(h)}return w&&i&&i.on(w,O),S&&i&&i.store.on(S,O),()=>{_.current=!1,w&&i&&w.split(" ").forEach(x=>i.off(x,O)),S&&i&&S.split(" ").forEach(x=>i.store.off(x,O))}},[i,b]);const m=D.useRef(!0);D.useEffect(()=>{_.current&&!m.current&&g(h),m.current=!1},[i,l]);const E=[f,i,d];if(E.t=f,E.i18n=i,E.ready=d,d||!d&&!o)return E;throw new Promise(w=>{e.lng?lD(i,e.lng,u,()=>w()):oD(i,u,()=>w())})}const ICe=n=>D.createElement("svg",{t:1734832919596,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":10339,...n},D.createElement("path",{d:"M933.464007 512c0-59.806107 37.527708-110.542652 90.189092-130.818441-12.582573-49.328475-31.985482-95.798856-57.347103-138.479935-51.578726 22.906709-113.991194 13.570063-156.287509-28.725228-42.289152-42.295292-51.631938-104.712877-28.723182-156.289556-42.683125-25.355481-89.151459-44.757367-138.481981-57.33994-20.273742 52.661384-71.012334 90.182952-130.813325 90.182952-59.808154 0-110.546745-37.521568-130.820488-90.182952C331.84899 12.929474 285.380656 32.330336 242.697531 57.68684c22.908756 51.576679 13.566994 113.994264-28.723182 156.289556-42.297338 42.295292-104.709807 51.631938-156.287509 28.725228-25.361621 42.681078-44.757367 89.151459-57.33994 138.479935 52.661384 20.275789 90.180905 71.012334 90.180905 130.818441S53.008284 622.538559 0.346901 642.818441c12.582573 49.328475 31.985482 95.798856 57.33994 138.479935 51.578726-22.906709 113.991194-13.570063 156.287509 28.725228 42.289152 42.291199 51.631938 104.70776 28.723182 156.287509 42.683125 25.355481 89.151459 44.759413 138.481981 57.341986 20.273742-52.66343 71.012334-90.187045 130.820488-90.187045 59.799968 0 110.538559 37.523615 130.813325 90.187045 49.330522-12.582573 95.798856-31.985482 138.481981-57.341986-22.908756-51.580772-13.566994-113.996311 28.723182-156.287509 42.297338-42.295292 104.708783-51.631938 156.287509-28.725228 25.354458-42.681078 44.757367-89.151459 57.347103-138.479935C970.991716 622.538559 933.464007 571.806107 933.464007 512zM512 652.500964c-77.599356 0-140.503011-62.904679-140.503011-140.500964s62.904679-140.500964 140.503011-140.500964c77.591169 0 140.495848 62.904679 140.495848 140.500964S589.591169 652.500964 512 652.500964z",fill:"currentColor","p-id":10340})),OCe=n=>D.createElement("svg",{t:1734832829969,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":9182,...n},D.createElement("path",{d:"M948.48 831.488l-134.464-279.744-0.064-0.064-19.392-40.32-83.136-172.864V128H729.6c17.664 0 32-14.336 32-32s-14.336-32-32-32H281.6c-17.664 0-32 14.336-32 32s14.336 32 32 32h24.576v210.496l-95.36 198.272-6.4 13.248c-0.064 0.128-0.128 0.32-0.192 0.448L69.12 831.488c-17.664 36.736-15.232 79.296 6.464 113.856 21.696 34.496 59.008 55.104 99.776 55.104h666.88c40.768 0 78.08-20.608 99.776-55.104 21.696-34.56 24.128-77.12 6.464-113.856z m-360.128-182.208c-49.216 22.4-169.152-28.48-227.84-83.968a207.84 207.84 0 0 1-10.368-10.752c-1.152-1.28-2.368-2.56-3.648-3.776-1.024-1.088-2.112-2.048-3.264-3.072-1.088-0.96-2.24-1.92-3.392-2.816-0.256-0.192-0.448-0.384-0.704-0.576-1.152-0.896-2.24-1.728-3.392-2.496-1.344-0.96-2.688-1.792-4.032-2.624-1.216-0.768-2.432-1.472-3.648-2.112-5.824-3.264-12.16-5.76-18.88-7.616-1.536-0.448-3.136-0.896-4.8-1.216-1.6-0.384-3.264-0.704-4.992-1.024a0.192 0.192 0 0 0-0.256 0c-1.472-0.32-3.072-0.576-4.608-0.768-0.32-0.064-0.64-0.064-0.96-0.128-1.408-0.192-2.88-0.32-4.416-0.448-0.192-0.064-0.448-0.064-0.704-0.064-0.448-0.064-0.832-0.128-1.28-0.128L367.04 359.68c2.048-4.352 3.136-9.088 3.136-13.888V132.352h277.248v213.44c0 4.8 1.088 9.536 3.136 13.888l95.232 197.952c-44.672 35.968-117.376 73.408-157.44 91.648z",fill:"currentColor","p-id":9183})),PCe=n=>D.createElement("svg",{t:1734831752503,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4061,...n},D.createElement("path",{d:"M785.171864 102.424232H136.60875q-136.517822 0-136.563803 136.563803V887.436197q0 136.517822 136.563803 136.563803h648.563114q136.517822 0 136.563803-136.563803V238.988035q0-136.517822-136.563803-136.563803z m-207.305693 697.969783l-37.336636-136.448851h-172.429045l-37.336636 136.448851H222.984206l170.129991-531.541269h125.045543l170.911669 531.541269z",fill:"currentColor","p-id":4062}),D.createElement("path",{d:"M454.981738 349.434586h-2.873817a3810.383013 3810.383013 0 0 1-45.245381 173.785487l-15.840482 58.212045h126.447966l-15.840481-58.212045c-16.415245-55.315238-30.807323-116.309138-46.647805-173.785487z",fill:"currentColor","p-id":4063}),D.createElement("path",{d:"M984.040029 40.004918A136.609785 136.609785 0 0 0 887.479764 0.001379H239.031603a136.586794 136.586794 0 0 0-136.563804 123.919007v12.644797l28.945089 28.99107h72.397208L155.690898 117.437054a85.064995 85.064995 0 0 1 83.294724-66.212753h648.448161a85.317891 85.317891 0 0 1 85.432844 85.340882v648.448161a84.674156 84.674156 0 0 1-66.212754 83.294724l-63.913699-63.844728v72.397208l44.73959 44.73959h11.93209a136.356889 136.356889 0 0 0 124.539751-136.563804V136.565183a136.081002 136.081002 0 0 0-39.888586-96.560265z",fill:"currentColor","p-id":4064})),xCe="_layout_1vgk7_1",RCe="_content_1vgk7_8",ACe="_nav_1vgk7_13",DCe="_navItem_1vgk7_25",kCe="_active_1vgk7_37",NCe="_icon_1vgk7_42",Za={layout:xCe,content:RCe,nav:ACe,navItem:DCe,active:kCe,icon:NCe},MCe=({children:n})=>{const e=Yv(),t=Gv(),{t:r}=vd(),s=[{key:"/",text:r("nav.task"),icon:Y.jsx(OCe,{className:Za.icon})},{key:"/word",text:r("nav.wordlist"),icon:Y.jsx(PCe,{className:Za.icon})},{key:"/profile",text:r("nav.profile"),icon:Y.jsx(ICe,{className:Za.icon})}];return Y.jsxs("div",{className:Za.layout,children:[Y.jsx("main",{className:Za.content,children:n}),Y.jsx("nav",{className:Za.nav,children:s.map(i=>Y.jsx("div",{className:`${Za.navItem} ${t.pathname===i.key?Za.active:""}`,onClick:()=>e(i.key),children:i.icon},i.key))})]})},e4=async n=>{try{const e=Uj(h_,`users/${n}/words`);return(await JSe(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching words:",e),e}},LCe=async(n,e)=>{try{const t=Uj(h_,`users/${n}/words`);return(await nCe(t,{...e,createdAt:rCe()})).id}catch(t){throw console.error("Error adding word:",t),t}},$Ce=async(n,e)=>{try{const t=R1(h_,`users/${n}/words/${e}`);await tCe(t)}catch(t){throw console.error("Error deleting word:",t),t}},FCe=async(n,e,t)=>{try{const r=R1(h_,`users/${n}/words/${e}`);await eCe(r,t)}catch(r){throw console.error("Error updating word:",r),r}},VCe="_container_18vht_1",jCe="_card_18vht_5",UCe="_header_18vht_14",BCe="_content_18vht_21",HCe="_reviewArea_18vht_26",zCe="_completedMessage_18vht_32",KCe="_wordCard_18vht_36",WCe="_question_18vht_45",GCe="_answer_18vht_48",YCe="_cardFoot_18vht_55",qCe="_button_18vht_62",XCe="_button2_18vht_63",Fr={container:VCe,card:jCe,header:UCe,content:BCe,reviewArea:HCe,completedMessage:zCe,wordCard:KCe,question:WCe,answer:GCe,cardFoot:YCe,button:qCe,button2:XCe},{Text:l0,Title:uD}=Fa,zd=[1,2,4,7,15,30,60],QCe=()=>{const{t:n}=vd(),[e,t]=D.useState([]),[r,s]=D.useState(!1),[i,a]=D.useState(null),o=D.useCallback(async()=>{var f;if((f=dn.user)!=null&&f.uid)try{const g=await e4(dn.user.uid);t(g);const b=g.filter(y=>y.nextReviewDate<=Date.now());a(b[0]||null)}catch(g){console.error("Error loading words from Firestore:",g)}},[]);D.useEffect(()=>{o()},[o]);const l=D.useCallback(async f=>{var g,b;if(i){const y=e.map(m=>{if(m.id===i.id){const E=f?Math.min(m.stage+1,zd.length-1):Math.max(0,m.stage-1);return{...m,reviewCount:m.reviewCount+1,correctCount:f?m.correctCount+1:m.correctCount,stage:E,nextReviewDate:Date.now()+zd[E]*24*60*60*1e3}}return m});try{if(!((g=dn.user)!=null&&g.uid))return;await FCe((b=dn.user)==null?void 0:b.uid,i.id,{reviewCount:i.reviewCount+1,correctCount:f?i.correctCount+1:i.correctCount,stage:f?Math.min(i.stage+1,zd.length-1):Math.max(0,i.stage-1),nextReviewDate:Date.now()+zd[Math.min(i.stage+1,zd.length-1)]*24*60*60*1e3})}catch(m){console.error("Error updating word progress in Firestore:",m)}t(y);const _=y.filter(m=>m.nextReviewDate<=Date.now());a(_[0]||null),s(!1)}},[i,e]),d=D.useCallback(()=>{const f=e.reduce((y,_)=>y+_.reviewCount,0),g=e.reduce((y,_)=>y+_.correctCount,0);return{correctRate:f>0?g/f*100:0,totalReviews:f}},[e])(),h=e.filter(f=>f.nextReviewDate<=Date.now()).length;return Y.jsx("div",{className:Fr.container,children:Y.jsx("div",{className:Fr.card,children:Y.jsxs(mo,{vertical:!0,align:"center",spacing:"medium",style:{width:"100%"},children:[Y.jsx("div",{className:Fr.header,children:Y.jsx(l0,{children:n("review.todayReview",{count:h})})}),Y.jsxs("div",{className:Fr.content,children:[Y.jsx(cf,{percent:d.correctRate,showInfo:!0,format:f=>n("review.correctRate",{rate:f.toFixed(1)})}),Y.jsx(l0,{type:"secondary",children:n("review.totalReviews",{count:d.totalReviews})})]}),Y.jsx("div",{className:Fr.reviewArea,children:i?Y.jsxs("div",{className:Fr.wordCard,children:[Y.jsx(uD,{heading:2,className:Fr.question,children:i.japanese}),r?Y.jsxs(Y.Fragment,{children:[Y.jsx(uD,{heading:1,className:Fr.answer,children:i.chinese}),Y.jsxs("div",{className:Fr.cardFoot,children:[Y.jsx(pn,{theme:"solid",size:"large",className:Fr.button,onClick:()=>l(!1),children:n("review.forgotten")}),Y.jsx(pn,{theme:"solid",size:"large",className:Fr.button2,onClick:()=>l(!0),children:n("review.remembered")})]})]}):Y.jsx("div",{className:Fr.cardFoot,children:Y.jsx(pn,{type:"primary",theme:"solid",size:"large",className:Fr.button,onClick:()=>s(!0),children:n("review.showAnswer")})})]}):Y.jsx("div",{className:Fr.completedMessage,children:Y.jsx(l0,{type:"secondary",size:"normal",children:n("review.completed")})})})]})})})},ZCe="_container_lu1rx_1",JCe="_card_lu1rx_5",eTe="_form_lu1rx_14",tTe="_input_lu1rx_18",nTe="_submitButton_lu1rx_22",rTe="_wordList_lu1rx_27",sTe="_listTitle_lu1rx_32",iTe="_wordCard_lu1rx_36",aTe="_wordCardBody_lu1rx_43",oTe="_wordCardContent_lu1rx_47",lTe="_remove_lu1rx_52",is={container:ZCe,card:JCe,form:eTe,input:tTe,submitButton:nTe,wordList:rTe,listTitle:sTe,wordCard:iTe,wordCardBody:aTe,wordCardContent:oTe,remove:lTe},{Text:Kd,Title:uTe}=Fa,cTe=Lf(()=>{var _,m,E;const{t:n}=vd(),[e,t]=D.useState([]),[r,s]=D.useState(""),[i,a]=D.useState(""),[o,l]=D.useState(!0),[u,d]=D.useState(!1),[h,f]=D.useState(new Set),g=D.useCallback(async()=>{var w;if((w=dn.user)!=null&&w.uid)try{const S=await e4(dn.user.uid);t(S)}catch(S){console.error("Error loading words:",S)}finally{l(!1)}},[(_=dn.user)==null?void 0:_.uid]);D.useEffect(()=>{g()},[g]);const b=D.useCallback(async w=>{var S;if(w.preventDefault(),!(!((S=dn.user)!=null&&S.uid)||!r.trim()||!i.trim()||u)){d(!0);try{const O={japanese:r.trim(),chinese:i.trim(),createdAt:Date.now(),nextReviewDate:Date.now(),reviewCount:0,correctCount:0,stage:0};await LCe(dn.user.uid,O),await g(),s(""),a("")}catch(O){console.error("Error adding word:",O)}finally{d(!1)}}},[r,i,(m=dn.user)==null?void 0:m.uid,g,u]),y=D.useCallback(async w=>{var S;if(!(!((S=dn.user)!=null&&S.uid)||h.has(w))){f(O=>new Set([...O,w]));try{await $Ce(dn.user.uid,w),await g()}catch(O){console.error("Error deleting word:",O)}finally{f(O=>{const x=new Set(O);return x.delete(w),x})}}},[(E=dn.user)==null?void 0:E.uid,g,h]);return dn.user?Y.jsxs("div",{className:is.container,children:[Y.jsx("div",{className:is.card,children:Y.jsx(mo,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:Y.jsx("form",{onSubmit:b,className:is.form,children:Y.jsxs(mo,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:[Y.jsx(Hn,{value:r,onChange:w=>s(w),placeholder:n("common.japanese"),className:is.input,size:"large",showClear:!0,disabled:u}),Y.jsx(Hn,{value:i,onChange:w=>a(w),placeholder:n("common.chinese"),className:is.input,size:"large",showClear:!0,disabled:u}),Y.jsx(pn,{type:"primary",htmlType:"submit",theme:"solid",size:"large",className:is.submitButton,loading:u,children:n("common.addButton")})]})})})}),Y.jsxs("div",{className:is.card,children:[Y.jsx("h2",{className:is.listTitle,children:n("addWord.listTitle")}),Y.jsx(mo,{vertical:!0,align:"start",style:{width:"100%"},children:o?Y.jsx(Kd,{type:"tertiary",children:n("common.loading")}):e.length===0?Y.jsx(Kd,{type:"tertiary",children:n("addWord.emptyList")}):[...e].sort((w,S)=>S.createdAt-w.createdAt).map(w=>Y.jsx("div",{className:is.wordCard,children:Y.jsxs("div",{className:is.wordCardContent,children:[Y.jsxs(mo,{vertical:!0,align:"start",children:[Y.jsx(uTe,{heading:5,children:w.japanese}),Y.jsx(Kd,{children:w.chinese}),Y.jsx(Kd,{type:"tertiary",size:"small",children:n("addWord.nextReview",{date:new Date(w.nextReviewDate).toLocaleDateString()})})]}),Y.jsx(pn,{type:"danger",theme:"borderless",className:is.remove,onClick:()=>y(w.id),loading:h.has(w.id),children:n("common.deleteButton")})]})},w.id))})]})]}):Y.jsx("div",{className:is.container,children:Y.jsx("div",{className:is.card,children:Y.jsx(Kd,{children:n("common.pleaseLogin")})})})}),dTe="_container_1bgkg_1",hTe="_card_1bgkg_5",fTe="_email_1bgkg_14",pTe="_actionSection_1bgkg_19",gTe="_actionButton_1bgkg_26",mTe="_version_1bgkg_31",Au={container:dTe,card:hTe,email:fTe,actionSection:pTe,actionButton:gTe,version:mTe},{Text:vTe,Title:yTe}=Fa,_Te=Lf(()=>{const{t:n}=vd(),{user:e}=dn,t=Yv(),r=D.useCallback(async()=>{try{await dn.logout(),Po.success(n("profile.logoutSuccess"))}catch{Po.error(n("profile.logoutError"))}},[n]);return Y.jsx("div",{className:Au.container,children:Y.jsxs("div",{className:Au.card,children:[Y.jsx(yTe,{heading:3,children:n("profile.title")}),Y.jsx(vTe,{className:Au.email,children:e==null?void 0:e.email}),Y.jsxs("div",{className:Au.actionSection,children:[Y.jsx(pn,{theme:"solid",type:"primary",size:"large",className:Au.actionButton,onClick:()=>t("/change-password"),children:n("profile.changePassword")}),Y.jsx(pn,{theme:"solid",type:"tertiary",size:"large",onClick:r,children:n("profile.logoutButton")})]}),Y.jsx("div",{className:Au.version,children:"Version 1.0.0"})]})})}),bTe="_container_n4en2_1",wTe="_card_n4en2_5",ETe="_actionButtons_n4en2_14",STe="_button_n4en2_18",CTe="_button2_n4en2_19",Wd={container:bTe,card:wTe,actionButtons:ETe,button:STe,button2:CTe},{Title:TTe}=Fa,ITe=Lf(()=>{const{t:n}=vd(),e=Yv(),[t,r]=D.useState(!1),s=D.useCallback(async i=>{if(i.newPassword!==i.confirmPassword){Po.error(n("profile.passwordMismatch"));return}r(!0);try{await dn.updatePassword(i.newPassword),Po.success(n("profile.passwordUpdateSuccess")),e("/profile")}catch{Po.error(n("profile.passwordUpdateError"))}finally{r(!1)}},[n,e]);return Y.jsx("div",{className:Wd.container,children:Y.jsxs("div",{className:Wd.card,children:[Y.jsx(TTe,{heading:3,children:n("profile.changePassword")}),Y.jsxs(Pt,{onSubmit:s,children:[Y.jsx(Pt.Input,{field:"newPassword",label:n("profile.newPassword"),size:"large",type:"password",rules:[{required:!0,message:n("profile.passwordRequired")},{min:6,message:n("profile.passwordMinLength")}]}),Y.jsx(Pt.Input,{field:"confirmPassword",label:n("profile.confirmPassword"),size:"large",type:"password",rules:[{required:!0,message:n("profile.confirmPasswordRequired")}]}),Y.jsxs("div",{className:Wd.actionButtons,children:[Y.jsx(pn,{theme:"solid",size:"large",className:Wd.button,onClick:()=>e("/profile"),children:n("common.cancel")}),Y.jsx(pn,{htmlType:"submit",theme:"solid",size:"large",className:Wd.button2,loading:t,children:n("common.confirm")})]})]})]})})}),OTe="_container_ot96o_1",PTe="_card_ot96o_9",xTe="_solgen_ot96o_13",RTe="_title_ot96o_19",ATe="_form_ot96o_26",DTe="_input_ot96o_32",kTe="_button_ot96o_37",ia={container:OTe,card:PTe,solgen:xTe,title:RTe,form:ATe,input:DTe,button:kTe},NTe=Lf(()=>{const{t:n}=vd(),[e,t]=D.useState(""),[r,s]=D.useState(""),[i,a]=D.useState(!0),o=D.useCallback(()=>{a(u=>!u)},[]),l=D.useCallback(async u=>{if(u.preventDefault(),!e||!r){Po.error(n("login.errorMessages.emailRequired")+" "+n("login.errorMessages.passwordRequired"));return}(i?await dn.login(e,r):await dn.register(e,r))?Po.success(n(i?"login.successMessages.loginSuccess":"login.successMessages.registerSuccess")):Po.error(n(i?"login.errorMessages.loginFailed":"login.errorMessages.registerFailed"))},[e,r,i,n]);return Y.jsx("div",{className:ia.container,children:Y.jsxs("div",{className:ia.card,children:[Y.jsx("h1",{className:ia.solgen,children:n("login.solgen")}),Y.jsx("div",{className:ia.title,children:n(i?"login.title.login":"login.title.register")}),Y.jsxs("form",{onSubmit:l,className:ia.form,children:[Y.jsx(Hn,{type:"email",placeholder:n("login.placeholder.email"),value:e,onChange:t,size:"large",className:ia.input}),Y.jsx(Hn,{type:"password",placeholder:n("login.placeholder.password"),value:r,onChange:s,size:"large",className:ia.input}),Y.jsx(pn,{type:"primary",htmlType:"submit",theme:"solid",size:"large",className:ia.button,children:n(i?"login.button.login":"login.button.register")}),Y.jsx(pn,{type:"tertiary",block:!0,size:"large",onClick:o,className:ia.switchButton,children:n(i?"login.button.switchToRegister":"login.button.switchToLogin")})]})]})})}),wg=({element:n})=>dn.user?n:Y.jsx(iw,{to:"/login",replace:!0}),MTe=Lf(()=>dn.loading?Y.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Y.jsx(Yi,{size:"large"})}):dn.user?Y.jsx(MCe,{children:Y.jsxs(LO,{children:[Y.jsx(Ja,{path:"/",element:Y.jsx(wg,{element:Y.jsx(QCe,{})})}),Y.jsx(Ja,{path:"/word",element:Y.jsx(wg,{element:Y.jsx(cTe,{})})}),Y.jsx(Ja,{path:"/profile",element:Y.jsx(wg,{element:Y.jsx(_Te,{})})}),Y.jsx(Ja,{path:"/change-password",element:Y.jsx(wg,{element:Y.jsx(ITe,{})})}),Y.jsx(Ja,{path:"*",element:Y.jsx(iw,{to:"/",replace:!0})})]})}):Y.jsxs(LO,{children:[Y.jsx(Ja,{path:"/login",element:Y.jsx(NTe,{})}),Y.jsx(Ja,{path:"*",element:Y.jsx(iw,{to:"/login",replace:!0})})]})),Ie=n=>typeof n=="string",Gd=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},cD=n=>n==null?"":""+n,LTe=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},$Te=/###/g,dD=n=>n&&n.indexOf("###")>-1?n.replace($Te,"."):n,hD=n=>!n||Ie(n),xh=(n,e,t)=>{const r=Ie(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(hD(n))return{};const i=dD(r[s]);!n[i]&&t&&(n[i]=new t),Object.prototype.hasOwnProperty.call(n,i)?n=n[i]:n={},++s}return hD(n)?{}:{obj:n,k:dD(r[s])}},fD=(n,e,t)=>{const{obj:r,k:s}=xh(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=xh(n,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=xh(n,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=t},FTe=(n,e,t,r)=>{const{obj:s,k:i}=xh(n,e,Object);s[i]=s[i]||[],s[i].push(t)},Iv=(n,e)=>{const{obj:t,k:r}=xh(n,e);if(t)return t[r]},VTe=(n,e,t)=>{const r=Iv(n,t);return r!==void 0?r:Iv(e,t)},t4=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Ie(n[r])||n[r]instanceof String||Ie(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):t4(n[r],e[r],t):n[r]=e[r]);return n},Du=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var jTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const UTe=n=>Ie(n)?n.replace(/[&<>"'\/]/g,e=>jTe[e]):n;class BTe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const HTe=[" ",",","?","!",";"],zTe=new BTe(20),KTe=(n,e,t)=>{e=e||"",t=t||"";const r=HTe.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(r.length===0)return!0;const s=zTe.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(n);if(!i){const a=n.indexOf(t);a>0&&!s.test(n.substring(0,a))&&(i=!0)}return i},gS=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=t),o+=r[l],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=a}return s},Ov=n=>n&&n.replace("_","-"),WTe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class Pv{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||WTe,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(Ie(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Pv(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Pv(this.logger,e)}}var Ni=new Pv;class f_{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[e,...r])})}}class pD extends f_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],r&&(Array.isArray(r)?o.push(...r):Ie(r)&&i?o.push(...r.split(i)):o.push(r)));const l=Iv(this.data,o);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=o[0],t=o[1],r=o.slice(2).join(".")),l||!a||!Ie(r)?l:gS(this.data&&this.data[e]&&this.data[e][t],r,i)}addResource(e,t,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,t];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=t,t=o[1]),this.addNamespaces(t),fD(this.data,o,s),i.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(Ie(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=t,t=o[1]),this.addNamespaces(t);let l=Iv(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?t4(l,r,i):l={...l,...r},fD(this.data,o,l),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var n4={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,t,r,s))}),e}};const gD={};class xv extends f_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),LTe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ni.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!KTe(e,r,s);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Ie(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:Ie(i)?[i]:i}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),l=o[o.length-1],u=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const S=t.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${S}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${S}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}const h=this.resolve(e,t);let f=h&&h.res;const g=h&&h.usedKey||a,b=h&&h.exactUsedKey||a,y=Object.prototype.toString.apply(f),_=["[object Number]","[object Function]","[object RegExp]"],m=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!Ie(f)&&typeof f!="boolean"&&typeof f!="number";if(E&&f&&w&&_.indexOf(y)<0&&!(Ie(m)&&Array.isArray(f))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,f,{...t,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(h.res=S,h.usedParams=this.getUsedParamsDetails(t),h):S}if(i){const S=Array.isArray(f),O=S?[]:{},x=S?b:g;for(const I in f)if(Object.prototype.hasOwnProperty.call(f,I)){const T=`${x}${i}${I}`;O[I]=this.translate(T,{...t,joinArrays:!1,ns:o}),O[I]===T&&(O[I]=f[I])}f=O}}else if(E&&Ie(m)&&Array.isArray(f))f=f.join(m),f&&(f=this.extendTranslation(f,e,t,r));else{let S=!1,O=!1;const x=t.count!==void 0&&!Ie(t.count),I=xv.hasDefaultValue(t),T=x?this.pluralResolver.getSuffix(u,t.count,t):"",P=t.ordinal&&x?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",A=x&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),k=A&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${T}`]||t[`defaultValue${P}`]||t.defaultValue;!this.isValidLookup(f)&&I&&(S=!0,f=k),this.isValidLookup(f)||(O=!0,f=a);const N=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&O?void 0:f,K=I&&k!==f&&this.options.updateMissing;if(O||S||K){if(this.logger.log(K?"updateKey":"missingKey",u,l,a,K?k:f),i){const V=this.resolve(a,{...t,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let V=0;V<z.length;V++)G.push(z[V]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(t.lng||this.language):G.push(t.lng||this.language);const ee=(V,H,U)=>{const ae=I&&U!==f?U:N;this.options.missingKeyHandler?this.options.missingKeyHandler(V,l,H,ae,K,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(V,l,H,ae,K,t),this.emit("missingKey",V,l,H,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?G.forEach(V=>{const H=this.pluralResolver.getSuffixes(V,t);A&&t[`defaultValue${this.options.pluralSeparator}zero`]&&H.indexOf(`${this.options.pluralSeparator}zero`)<0&&H.push(`${this.options.pluralSeparator}zero`),H.forEach(U=>{ee([V],a+U,t[`defaultValue${U}`]||k)})}):ee(G,a,k))}f=this.extendTranslation(f,e,t,h,r),O&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${a}`),(O||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,S?f:void 0):f=this.options.parseMissingKeyHandler(f))}return s?(h.res=f,h.usedParams=this.getUsedParamsDetails(t),h):f}extendTranslation(e,t,r,s,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Ie(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=r.replace&&!Ie(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;d<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,g=new Array(f),b=0;b<f;b++)g[b]=arguments[b];return i&&i[0]===g[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${t[0]}`),null):a.translate(...g,t)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=Ie(o)?[o]:o;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=n4.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,a,o;return Ie(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,t),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=t.count!==void 0&&!Ie(t.count),g=f&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),b=t.context!==void 0&&(Ie(t.context)||typeof t.context=="number")&&t.context!=="",y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(_=>{this.isValidLookup(r)||(o=_,!gD[`${y[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(gD[`${y[0]}-${_}`]=!0,this.logger.warn(`key "${s}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(m=>{if(this.isValidLookup(r))return;a=m;const E=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(E,d,m,_,t);else{let S;f&&(S=this.pluralResolver.getSuffix(m,t.count,t));const O=`${this.options.pluralSeparator}zero`,x=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(E.push(d+S),t.ordinal&&S.indexOf(x)===0&&E.push(d+S.replace(x,this.options.pluralSeparator)),g&&E.push(d+O)),b){const I=`${d}${this.options.contextSeparator}${t.context}`;E.push(I),f&&(E.push(I+S),t.ordinal&&S.indexOf(x)===0&&E.push(I+S.replace(x,this.options.pluralSeparator)),g&&E.push(I+O))}}let w;for(;w=E.pop();)this.isValidLookup(r)||(i=w,r=this.getResource(m,_,w,t))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ie(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of t)delete s[i]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}const u0=n=>n.charAt(0).toUpperCase()+n.slice(1);class mD{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ni.create("languageUtils")}getScriptPartFromCode(e){if(e=Ov(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ov(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ie(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=u0(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=u0(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=u0(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ie(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Ie(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Ie(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}let GTe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],YTe={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const qTe=["v1","v2","v3"],XTe=["v4"],vD={zero:0,one:1,two:2,few:3,many:4,other:5},QTe=()=>{const n={};return GTe.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:YTe[e.fc]}})}),n};class ZTe{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Ni.create("pluralResolver"),(!this.options.compatibilityJSON||XTe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=QTe(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Ov(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,t)}return this.pluralRulesCache[i]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>vD[s]-vD[i]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!qTe.includes(this.options.compatibilityJSON)}}const yD=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=VTe(n,e,t);return!i&&s&&Ie(t)&&(i=gS(n,t,r),i===void 0&&(i=gS(e,t,r))),i},c0=n=>n.replace(/\$/g,"$$$$");class JTe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ni.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:g,nestingSuffix:b,nestingSuffixEscaped:y,nestingOptionsSeparator:_,maxReplaces:m,alwaysFormat:E}=e.interpolation;this.escape=t!==void 0?t:UTe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Du(i):a||"{{",this.suffix=o?Du(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?Du(f):g||Du("$t("),this.nestingSuffix=b?Du(b):y||Du(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=m||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const m=yD(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...s,...t,interpolationkey:g}):m}const b=g.split(this.formatSeparator),y=b.shift().trim(),_=b.join(this.formatSeparator).trim();return this.format(yD(t,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...s,...t,interpolationkey:y})};this.resetRegExp();const d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>c0(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?c0(this.escape(g)):c0(g)}].forEach(g=>{for(o=0;i=g.regex.exec(e);){const b=i[1].trim();if(a=u(b),a===void 0)if(typeof d=="function"){const _=d(e,i,s);a=Ie(_)?_:""}else if(s&&Object.prototype.hasOwnProperty.call(s,b))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),a="";else!Ie(a)&&!this.useRawValueToEscape&&(a=cD(a));const y=g.safeValue(a);if(e=e.replace(i[0],y),h?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,a;const o=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,a);const g=f.match(/'/g),b=f.match(/"/g);(g&&g.length%2===0&&!b||b.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${d}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!Ie(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=d.shift(),l=d,u=!0}if(i=t(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!Ie(i))return i;Ie(i)||(i=cD(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const e1e=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();t[d]||(t[d]=u),u==="false"&&(t[d]=!1),u==="true"&&(t[d]=!0),isNaN(u)||(t[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},ku=n=>{const e={};return(t,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=e[a];return o||(o=n(Ov(r),s),e[a]=o),o(t)}};class t1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ni.create("formatter"),this.options=e,this.formats={number:ku((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return i=>s.format(i)}),currency:ku((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return i=>s.format(i)}),datetime:ku((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return i=>s.format(i)}),relativetime:ku((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return i=>s.format(i,r.range||"day")}),list:ku((t,r)=>{const s=new Intl.ListFormat(t,{...r});return i=>s.format(i)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ku(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:u,formatOptions:d}=e1e(l);if(this.formats[u]){let h=o;try{const f=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},g=f.locale||f.lng||s.locale||s.lng||r;h=this.formats[u](o,g,{...d,...s,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const n1e=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class r1e extends f_{constructor(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Ni.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,t,r,s){const i={},a={},o={},l={};return e.forEach(u=>{let d=!0;t.forEach(h=>{const f=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,d=!1,a[f]===void 0&&(a[f]=!0),i[f]===void 0&&(i[f]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const s=e.split("|"),i=s[0],a=s[1];t&&this.emit("failedLoading",i,a,t),!t&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{FTe(l.loaded,[i],a),n1e(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const d=l.loaded[u];d.length&&d.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,i*2,a)},i);return}a(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Ie(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ie(t)&&(t=[t]);const i=this.queueLoad(e,t,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,t,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,t,r,s,l):d=u(e,t,r,s),d&&typeof d.then=="function"?d.then(h=>o(null,h)).catch(o):o(null,d)}catch(d){o(d)}else u(e,t,r,s,o,l)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const _D=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ie(n[1])&&(e.defaultValue=n[1]),Ie(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),bD=n=>(Ie(n.ns)&&(n.ns=[n.ns]),Ie(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ie(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),Eg=()=>{},s1e=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Ef extends f_{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=bD(e),this.services={},this.logger=Ni,this.modules={external:[]},s1e(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(Ie(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=_D();this.options={...s,...this.options,...bD(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Ni.init(i(this.modules.logger),this.options):Ni.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=t1e);const h=new mD(this.options);this.store=new pD(this.options.resources,this.options);const f=this.services;f.logger=Ni,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new ZTe(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=i(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new JTe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new r1e(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(g){for(var b=arguments.length,y=new Array(b>1?b-1:0),_=1;_<b;_++)y[_-1]=arguments[_];e.emit(g,...y)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new xv(this.services,this.options),this.translator.on("*",function(g){for(var b=arguments.length,y=new Array(b>1?b-1:0),_=1;_<b;_++)y[_-1]=arguments[_];e.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Eg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=Gd(),u=()=>{const d=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Eg;const s=Ie(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,t,r){const s=Gd();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Eg),this.services.backendConnector.reload(e,t,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&n4.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=Gd();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(l,function(){return r.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=Ie(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{a(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,t,r){var s=this;const i=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([a,o].concat(d))}else l={...o};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const f=s.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(a)?g=a.map(b=>`${l.keyPrefix}${f}${b}`):g=l.keyPrefix?`${l.keyPrefix}${f}${a}`:a,s.t(g,l)};return Ie(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,t){const r=Gd();return this.options.ns?(Ie(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Gd();Ie(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new mD(_D());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Ef(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Eg;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Ef(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new pD(this.store.data,s),i.services.resourceStore=i.store),i.translator=new xv(i.services,s),i.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];i.emit(o,...u)}),i.init(s,t),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Er=Ef.createInstance();Er.createInstance=Ef.createInstance;Er.createInstance;Er.dir;Er.init;Er.loadResources;Er.reloadResources;Er.use;Er.changeLanguage;Er.getFixedT;Er.t;Er.exists;Er.setDefaultNamespace;Er.hasLoadedNamespace;Er.loadNamespaces;Er.loadLanguages;var r4=[],i1e=r4.forEach,a1e=r4.slice;function o1e(n){return i1e.call(a1e.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var wD=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,l1e=function(e,t,r){var s=r||{};s.path=s.path||"/";var i=encodeURIComponent(t),a="".concat(e,"=").concat(i);if(s.maxAge>0){var o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(s.domain){if(!wD.test(s.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(s.domain)}if(s.path){if(!wD.test(s.path))throw new TypeError("option path is invalid");a+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite){var l=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},ED={create:function(e,t,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=l1e(e,encodeURIComponent(t),i)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var i=r[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},u1e={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=ED.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&ED.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},c1e={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),i=s.split("&"),a=0;a<i.length;a++){var o=i[a].indexOf("=");if(o>0){var l=i[a].substring(0,o);l===e.lookupQuerystring&&(t=i[a].substring(o+1))}}}return t}},Yd=null,SD=function(){if(Yd!==null)return Yd;try{Yd=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Yd=!1}return Yd},d1e={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&SD()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&SD()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},qd=null,CD=function(){if(qd!==null)return qd;try{qd=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{qd=!1}return qd},h1e={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&CD()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&CD()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},f1e={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},p1e={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},g1e={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},m1e={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}},s4=!1;try{document.cookie,s4=!0}catch{}var i4=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];s4||i4.splice(1,1);function v1e(){return{order:i4,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var a4=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};He(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return ze(n,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=o1e(r,this.options||{},v1e()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(u1e),this.addDetector(c1e),this.addDetector(d1e),this.addDetector(h1e),this.addDetector(f1e),this.addDetector(p1e),this.addDetector(g1e),this.addDetector(m1e)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var s=[];return t.forEach(function(i){if(r.detectors[i]){var a=r.detectors[i].lookup(r.options);a&&typeof a=="string"&&(a=[a]),a&&(s=s.concat(a))}}),s=s.map(function(i){return r.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(t,s.options)}))}}])}();a4.type="languageDetector";const y1e={common:{ok:"",cancel:"",confirm:"",backButton:"",japanese:"",chinese:"",addButton:"",deleteButton:"",loading:"..."},nav:{task:"",wordlist:"",profile:""},review:{addButton:"",todayReview:": {{count}}",correctRate:": {{rate}}%",totalReviews:": {{count}}",showAnswer:"",remembered:"",forgotten:"",completed:""},addWord:{listTitle:"",emptyList:"",nextReview:": {{date}}",deleteConfirm:{title:"",content:""}},profile:{title:"",logoutButton:"",logoutSuccess:"",logoutError:"",changePassword:"",newPassword:"",confirmPassword:"",passwordRequired:"",confirmPasswordRequired:"",passwordMinLength:"6",passwordMismatch:"",passwordUpdateSuccess:"",passwordUpdateError:""},login:{solgen:"",title:{login:"",register:""},placeholder:{email:"",password:""},button:{login:"",register:"",switchToRegister:"",switchToLogin:""},errorMessages:{emailRequired:"",passwordRequired:"",loginFailed:"",registerFailed:""},successMessages:{loginSuccess:"",registerSuccess:""}}};Er.use(a4).use(ECe).init({resources:{ja:{translation:y1e}},fallbackLng:"ja",interpolation:{escapeValue:!1}});d0.createRoot(document.getElementById("root")).render(Y.jsx(v.StrictMode,{children:Y.jsx(K5,{children:Y.jsx(MTe,{})})}));
