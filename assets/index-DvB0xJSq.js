var tB=Object.defineProperty;var nB=(n,e,t)=>e in n?tB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Bp=(n,e,t)=>nB(n,typeof e!="symbol"?e+"":e,t);function rB(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ce(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zD={exports:{}},jy={},KD={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=Symbol.for("react.element"),sB=Symbol.for("react.portal"),iB=Symbol.for("react.fragment"),oB=Symbol.for("react.strict_mode"),aB=Symbol.for("react.profiler"),lB=Symbol.for("react.provider"),uB=Symbol.for("react.context"),cB=Symbol.for("react.forward_ref"),dB=Symbol.for("react.suspense"),hB=Symbol.for("react.memo"),fB=Symbol.for("react.lazy"),LO=Symbol.iterator;function pB(n){return n===null||typeof n!="object"?null:(n=LO&&n[LO]||n["@@iterator"],typeof n=="function"?n:null)}var WD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GD=Object.assign,YD={};function Gc(n,e,t){this.props=n,this.context=e,this.refs=YD,this.updater=t||WD}Gc.prototype.isReactComponent={};Gc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Gc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function qD(){}qD.prototype=Gc.prototype;function PS(n,e,t){this.props=n,this.context=e,this.refs=YD,this.updater=t||WD}var xS=PS.prototype=new qD;xS.constructor=PS;GD(xS,Gc.prototype);xS.isPureReactComponent=!0;var MO=Array.isArray,XD=Object.prototype.hasOwnProperty,RS={current:null},QD={key:!0,ref:!0,__self:!0,__source:!0};function ZD(n,e,t){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)XD.call(e,r)&&!QD.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Df,type:n,key:i,ref:o,props:s,_owner:RS.current}}function gB(n,e){return{$$typeof:Df,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function AS(n){return typeof n=="object"&&n!==null&&n.$$typeof===Df}function mB(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var $O=/\/+/g;function L_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?mB(""+n.key):e.toString(36)}function kg(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Df:case sB:o=!0}}if(o)return o=n,s=s(o),n=r===""?"."+L_(o,0):r,MO(s)?(t="",n!=null&&(t=n.replace($O,"$&/")+"/"),kg(s,e,t,"",function(u){return u})):s!=null&&(AS(s)&&(s=gB(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($O,"$&/")+"/")+n)),e.push(s)),1;if(o=0,r=r===""?".":r+":",MO(n))for(var a=0;a<n.length;a++){i=n[a];var l=r+L_(i,a);o+=kg(i,e,t,l,s)}else if(l=pB(n),typeof l=="function")for(n=l.call(n),a=0;!(i=n.next()).done;)i=i.value,l=r+L_(i,a++),o+=kg(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zp(n,e,t){if(n==null)return n;var r=[],s=0;return kg(n,r,"","",function(i){return e.call(t,i,s++)}),r}function yB(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var kr={current:null},Ng={transition:null},vB={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:Ng,ReactCurrentOwner:RS};function JD(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:zp,forEach:function(n,e,t){zp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return zp(n,function(){e++}),e},toArray:function(n){return zp(n,function(e){return e})||[]},only:function(n){if(!AS(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};je.Component=Gc;je.Fragment=iB;je.Profiler=aB;je.PureComponent=PS;je.StrictMode=oB;je.Suspense=dB;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vB;je.act=JD;je.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=GD({},n.props),s=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=RS.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)XD.call(e,l)&&!QD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Df,type:n.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(n){return n={$$typeof:uB,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:lB,_context:n},n.Consumer=n};je.createElement=ZD;je.createFactory=function(n){var e=ZD.bind(null,n);return e.type=n,e};je.createRef=function(){return{current:null}};je.forwardRef=function(n){return{$$typeof:cB,render:n}};je.isValidElement=AS;je.lazy=function(n){return{$$typeof:fB,_payload:{_status:-1,_result:n},_init:yB}};je.memo=function(n,e){return{$$typeof:hB,type:n,compare:e===void 0?null:e}};je.startTransition=function(n){var e=Ng.transition;Ng.transition={};try{n()}finally{Ng.transition=e}};je.unstable_act=JD;je.useCallback=function(n,e){return kr.current.useCallback(n,e)};je.useContext=function(n){return kr.current.useContext(n)};je.useDebugValue=function(){};je.useDeferredValue=function(n){return kr.current.useDeferredValue(n)};je.useEffect=function(n,e){return kr.current.useEffect(n,e)};je.useId=function(){return kr.current.useId()};je.useImperativeHandle=function(n,e,t){return kr.current.useImperativeHandle(n,e,t)};je.useInsertionEffect=function(n,e){return kr.current.useInsertionEffect(n,e)};je.useLayoutEffect=function(n,e){return kr.current.useLayoutEffect(n,e)};je.useMemo=function(n,e){return kr.current.useMemo(n,e)};je.useReducer=function(n,e,t){return kr.current.useReducer(n,e,t)};je.useRef=function(n){return kr.current.useRef(n)};je.useState=function(n){return kr.current.useState(n)};je.useSyncExternalStore=function(n,e,t){return kr.current.useSyncExternalStore(n,e,t)};je.useTransition=function(){return kr.current.useTransition()};je.version="18.3.1";KD.exports=je;var D=KD.exports;const g=Ce(D),_B=rB({__proto__:null,default:g},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bB=D,wB=Symbol.for("react.element"),EB=Symbol.for("react.fragment"),SB=Object.prototype.hasOwnProperty,CB=bB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TB={key:!0,ref:!0,__self:!0,__source:!0};function ek(n,e,t){var r,s={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)SB.call(e,r)&&!TB.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:wB,type:n,key:i,ref:o,props:s,_owner:CB.current}}jy.Fragment=EB;jy.jsx=ek;jy.jsxs=ek;zD.exports=jy;var Z=zD.exports,S0={},tk={exports:{}},ys={},nk={exports:{}},rk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(j,H){var U=j.length;j.push(H);e:for(;0<U;){var oe=U-1>>>1,ne=j[oe];if(0<s(ne,H))j[oe]=H,j[U]=ne,U=oe;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],U=j.pop();if(U!==H){j[0]=U;e:for(var oe=0,ne=j.length,re=ne>>>1;oe<re;){var de=2*(oe+1)-1,be=j[de],ye=de+1,ge=j[ye];if(0>s(be,U))ye<ne&&0>s(ge,be)?(j[oe]=ge,j[ye]=U,oe=ye):(j[oe]=be,j[de]=U,oe=de);else if(ye<ne&&0>s(ge,U))j[oe]=ge,j[ye]=U,oe=ye;else break e}}return H}function s(j,H){var U=j.sortIndex-H.sortIndex;return U!==0?U:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,b=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var H=t(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=j)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function S(j){if(v=!1,E(j),!b)if(t(l)!==null)b=!0,z(I);else{var H=t(u);H!==null&&ee(S,H.startTime-j)}}function I(j,H){b=!1,v&&(v=!1,y(T),T=-1),m=!0;var U=f;try{for(E(H),h=t(l);h!==null&&(!(h.expirationTime>H)||j&&!k());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var ne=oe(h.expirationTime<=H);H=n.unstable_now(),typeof ne=="function"?h.callback=ne:h===t(l)&&r(l),E(H)}else r(l);h=t(l)}if(h!==null)var re=!0;else{var de=t(u);de!==null&&ee(S,de.startTime-H),re=!1}return re}finally{h=null,f=U,m=!1}}var x=!1,O=null,T=-1,P=5,A=-1;function k(){return!(n.unstable_now()-A<P)}function M(){if(O!==null){var j=n.unstable_now();A=j;var H=!0;try{H=O(!0,j)}finally{H?N():(x=!1,O=null)}}else x=!1}var N;if(typeof w=="function")N=function(){w(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=M,N=function(){G.postMessage(null)}}else N=function(){_(M,0)};function z(j){O=j,x||(x=!0,N())}function ee(j,H){T=_(function(){j(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){b||m||(b=!0,z(I))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(j){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var U=f;f=H;try{return j()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=f;f=j;try{return H()}finally{f=U}},n.unstable_scheduleCallback=function(j,H,U){var oe=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?oe+U:oe):U=oe,j){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=U+ne,j={id:d++,callback:H,priorityLevel:j,startTime:U,expirationTime:ne,sortIndex:-1},U>oe?(j.sortIndex=U,e(u,j),t(l)===null&&j===t(u)&&(v?(y(T),T=-1):v=!0,ee(S,U-oe))):(j.sortIndex=ne,e(l,j),b||m||(b=!0,z(I))),j},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(j){var H=f;return function(){var U=f;f=H;try{return j.apply(this,arguments)}finally{f=U}}}})(rk);nk.exports=rk;var OB=nk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IB=D,ps=OB;function J(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sk=new Set,Mh={};function ru(n,e){Sc(n,e),Sc(n+"Capture",e)}function Sc(n,e){for(Mh[n]=e,n=0;n<e.length;n++)sk.add(e[n])}var Io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C0=Object.prototype.hasOwnProperty,PB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FO={},jO={};function xB(n){return C0.call(jO,n)?!0:C0.call(FO,n)?!1:PB.test(n)?jO[n]=!0:(FO[n]=!0,!1)}function RB(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function AB(n,e,t,r){if(e===null||typeof e>"u"||RB(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nr(n,e,t,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){nr[n]=new Nr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];nr[e]=new Nr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){nr[n]=new Nr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){nr[n]=new Nr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){nr[n]=new Nr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){nr[n]=new Nr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){nr[n]=new Nr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){nr[n]=new Nr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){nr[n]=new Nr(n,5,!1,n.toLowerCase(),null,!1,!1)});var DS=/[\-:]([a-z])/g;function kS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(DS,kS);nr[e]=new Nr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(DS,kS);nr[e]=new Nr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(DS,kS);nr[e]=new Nr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){nr[n]=new Nr(n,1,!1,n.toLowerCase(),null,!1,!1)});nr.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){nr[n]=new Nr(n,1,!1,n.toLowerCase(),null,!0,!0)});function NS(n,e,t,r){var s=nr.hasOwnProperty(e)?nr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AB(e,t,s,r)&&(t=null),r||s===null?xB(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Bo=IB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kp=Symbol.for("react.element"),Uu=Symbol.for("react.portal"),Bu=Symbol.for("react.fragment"),LS=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),ik=Symbol.for("react.provider"),ok=Symbol.for("react.context"),MS=Symbol.for("react.forward_ref"),O0=Symbol.for("react.suspense"),I0=Symbol.for("react.suspense_list"),$S=Symbol.for("react.memo"),ia=Symbol.for("react.lazy"),ak=Symbol.for("react.offscreen"),VO=Symbol.iterator;function Ad(n){return n===null||typeof n!="object"?null:(n=VO&&n[VO]||n["@@iterator"],typeof n=="function"?n:null)}var un=Object.assign,M_;function nh(n){if(M_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);M_=e&&e[1]||""}return`
`+M_+n}var $_=!1;function F_(n,e){if(!n||$_)return"";$_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{$_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?nh(n):""}function DB(n){switch(n.tag){case 5:return nh(n.type);case 16:return nh("Lazy");case 13:return nh("Suspense");case 19:return nh("SuspenseList");case 0:case 2:case 15:return n=F_(n.type,!1),n;case 11:return n=F_(n.type.render,!1),n;case 1:return n=F_(n.type,!0),n;default:return""}}function P0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Bu:return"Fragment";case Uu:return"Portal";case T0:return"Profiler";case LS:return"StrictMode";case O0:return"Suspense";case I0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ok:return(n.displayName||"Context")+".Consumer";case ik:return(n._context.displayName||"Context")+".Provider";case MS:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $S:return e=n.displayName||null,e!==null?e:P0(n.type)||"Memo";case ia:e=n._payload,n=n._init;try{return P0(n(e))}catch{}}return null}function kB(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P0(e);case 8:return e===LS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ja(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function lk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NB(n){var e=lk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Wp(n){n._valueTracker||(n._valueTracker=NB(n))}function uk(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=lk(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function gm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function x0(n,e){var t=e.checked;return un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function UO(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ja(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ck(n,e){e=e.checked,e!=null&&NS(n,"checked",e,!1)}function R0(n,e){ck(n,e);var t=ja(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?A0(n,e.type,t):e.hasOwnProperty("defaultValue")&&A0(n,e.type,ja(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function BO(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function A0(n,e,t){(e!=="number"||gm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var rh=Array.isArray;function lc(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ja(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function D0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return un({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function HO(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(J(92));if(rh(t)){if(1<t.length)throw Error(J(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ja(t)}}function dk(n,e){var t=ja(e.value),r=ja(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function zO(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function hk(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?hk(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Gp,fk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Gp=Gp||document.createElement("div"),Gp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function $h(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ph={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LB=["Webkit","ms","Moz","O"];Object.keys(ph).forEach(function(n){LB.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ph[e]=ph[n]})});function pk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ph.hasOwnProperty(n)&&ph[n]?(""+e).trim():e+"px"}function gk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=pk(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var MB=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N0(n,e){if(e){if(MB[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function L0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=null;function FS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $0=null,uc=null,cc=null;function KO(n){if(n=Lf(n)){if(typeof $0!="function")throw Error(J(280));var e=n.stateNode;e&&(e=zy(e),$0(n.stateNode,n.type,e))}}function mk(n){uc?cc?cc.push(n):cc=[n]:uc=n}function yk(){if(uc){var n=uc,e=cc;if(cc=uc=null,KO(n),e)for(n=0;n<e.length;n++)KO(e[n])}}function vk(n,e){return n(e)}function _k(){}var j_=!1;function bk(n,e,t){if(j_)return n(e,t);j_=!0;try{return vk(n,e,t)}finally{j_=!1,(uc!==null||cc!==null)&&(_k(),yk())}}function Fh(n,e){var t=n.stateNode;if(t===null)return null;var r=zy(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(J(231,e,typeof t));return t}var F0=!1;if(Io)try{var Dd={};Object.defineProperty(Dd,"passive",{get:function(){F0=!0}}),window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{F0=!1}function $B(n,e,t,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var gh=!1,mm=null,ym=!1,j0=null,FB={onError:function(n){gh=!0,mm=n}};function jB(n,e,t,r,s,i,o,a,l){gh=!1,mm=null,$B.apply(FB,arguments)}function VB(n,e,t,r,s,i,o,a,l){if(jB.apply(this,arguments),gh){if(gh){var u=mm;gh=!1,mm=null}else throw Error(J(198));ym||(ym=!0,j0=u)}}function su(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function wk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function WO(n){if(su(n)!==n)throw Error(J(188))}function UB(n){var e=n.alternate;if(!e){if(e=su(n),e===null)throw Error(J(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return WO(s),n;if(i===r)return WO(s),e;i=i.sibling}throw Error(J(188))}if(t.return!==r.return)t=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o)throw Error(J(189))}}if(t.alternate!==r)throw Error(J(190))}if(t.tag!==3)throw Error(J(188));return t.stateNode.current===t?n:e}function Ek(n){return n=UB(n),n!==null?Sk(n):null}function Sk(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Sk(n);if(e!==null)return e;n=n.sibling}return null}var Ck=ps.unstable_scheduleCallback,GO=ps.unstable_cancelCallback,BB=ps.unstable_shouldYield,HB=ps.unstable_requestPaint,Sn=ps.unstable_now,zB=ps.unstable_getCurrentPriorityLevel,jS=ps.unstable_ImmediatePriority,Tk=ps.unstable_UserBlockingPriority,vm=ps.unstable_NormalPriority,KB=ps.unstable_LowPriority,Ok=ps.unstable_IdlePriority,Vy=null,Fi=null;function WB(n){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(Vy,n,void 0,(n.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:qB,GB=Math.log,YB=Math.LN2;function qB(n){return n>>>=0,n===0?32:31-(GB(n)/YB|0)|0}var Yp=64,qp=4194304;function sh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function _m(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?r=sh(a):(i&=o,i!==0&&(r=sh(i)))}else o=t&~s,o!==0?r=sh(o):i!==0&&(r=sh(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ai(e),s=1<<t,r|=n[t],e&=~s;return r}function XB(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QB(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-ai(i),a=1<<o,l=s[o];l===-1?(!(a&t)||a&r)&&(s[o]=XB(a,e)):l<=e&&(n.expiredLanes|=a),i&=~a}}function V0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ik(){var n=Yp;return Yp<<=1,!(Yp&4194240)&&(Yp=64),n}function V_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function kf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ai(e),n[e]=t}function ZB(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-ai(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function VS(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ai(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var Et=0;function Pk(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var xk,US,Rk,Ak,Dk,U0=!1,Xp=[],Ca=null,Ta=null,Oa=null,jh=new Map,Vh=new Map,la=[],JB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YO(n,e){switch(n){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":jh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(e.pointerId)}}function kd(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lf(e),e!==null&&US(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function e4(n,e,t,r,s){switch(e){case"focusin":return Ca=kd(Ca,n,e,t,r,s),!0;case"dragenter":return Ta=kd(Ta,n,e,t,r,s),!0;case"mouseover":return Oa=kd(Oa,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return jh.set(i,kd(jh.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vh.set(i,kd(Vh.get(i)||null,n,e,t,r,s)),!0}return!1}function kk(n){var e=vl(n.target);if(e!==null){var t=su(e);if(t!==null){if(e=t.tag,e===13){if(e=wk(t),e!==null){n.blockedOn=e,Dk(n.priority,function(){Rk(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=B0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);M0=r,t.target.dispatchEvent(r),M0=null}else return e=Lf(t),e!==null&&US(e),n.blockedOn=t,!1;e.shift()}return!0}function qO(n,e,t){Lg(n)&&t.delete(e)}function t4(){U0=!1,Ca!==null&&Lg(Ca)&&(Ca=null),Ta!==null&&Lg(Ta)&&(Ta=null),Oa!==null&&Lg(Oa)&&(Oa=null),jh.forEach(qO),Vh.forEach(qO)}function Nd(n,e){n.blockedOn===e&&(n.blockedOn=null,U0||(U0=!0,ps.unstable_scheduleCallback(ps.unstable_NormalPriority,t4)))}function Uh(n){function e(s){return Nd(s,n)}if(0<Xp.length){Nd(Xp[0],n);for(var t=1;t<Xp.length;t++){var r=Xp[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ca!==null&&Nd(Ca,n),Ta!==null&&Nd(Ta,n),Oa!==null&&Nd(Oa,n),jh.forEach(e),Vh.forEach(e),t=0;t<la.length;t++)r=la[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<la.length&&(t=la[0],t.blockedOn===null);)kk(t),t.blockedOn===null&&la.shift()}var dc=Bo.ReactCurrentBatchConfig,bm=!0;function n4(n,e,t,r){var s=Et,i=dc.transition;dc.transition=null;try{Et=1,BS(n,e,t,r)}finally{Et=s,dc.transition=i}}function r4(n,e,t,r){var s=Et,i=dc.transition;dc.transition=null;try{Et=4,BS(n,e,t,r)}finally{Et=s,dc.transition=i}}function BS(n,e,t,r){if(bm){var s=B0(n,e,t,r);if(s===null)X_(n,e,r,wm,t),YO(n,r);else if(e4(s,n,e,t,r))r.stopPropagation();else if(YO(n,r),e&4&&-1<JB.indexOf(n)){for(;s!==null;){var i=Lf(s);if(i!==null&&xk(i),i=B0(n,e,t,r),i===null&&X_(n,e,r,wm,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else X_(n,e,r,null,t)}}var wm=null;function B0(n,e,t,r){if(wm=null,n=FS(r),n=vl(n),n!==null)if(e=su(n),e===null)n=null;else if(t=e.tag,t===13){if(n=wk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return wm=n,null}function Nk(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zB()){case jS:return 1;case Tk:return 4;case vm:case KB:return 16;case Ok:return 536870912;default:return 16}default:return 16}}var ma=null,HS=null,Mg=null;function Lk(){if(Mg)return Mg;var n,e=HS,t=e.length,r,s="value"in ma?ma.value:ma.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===s[i-r];r++);return Mg=s.slice(n,1<r?1-r:void 0)}function $g(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Qp(){return!0}function XO(){return!1}function vs(n){function e(t,r,s,i,o){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qp:XO,this.isPropagationStopped=XO,this}return un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Qp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Qp)},persist:function(){},isPersistent:Qp}),e}var Yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zS=vs(Yc),Nf=un({},Yc,{view:0,detail:0}),s4=vs(Nf),U_,B_,Ld,Uy=un({},Nf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ld&&(Ld&&n.type==="mousemove"?(U_=n.screenX-Ld.screenX,B_=n.screenY-Ld.screenY):B_=U_=0,Ld=n),U_)},movementY:function(n){return"movementY"in n?n.movementY:B_}}),QO=vs(Uy),i4=un({},Uy,{dataTransfer:0}),o4=vs(i4),a4=un({},Nf,{relatedTarget:0}),H_=vs(a4),l4=un({},Yc,{animationName:0,elapsedTime:0,pseudoElement:0}),u4=vs(l4),c4=un({},Yc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),d4=vs(c4),h4=un({},Yc,{data:0}),ZO=vs(h4),f4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m4(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=g4[n])?!!e[n]:!1}function KS(){return m4}var y4=un({},Nf,{key:function(n){if(n.key){var e=f4[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=$g(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?p4[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KS,charCode:function(n){return n.type==="keypress"?$g(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$g(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),v4=vs(y4),_4=un({},Uy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JO=vs(_4),b4=un({},Nf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KS}),w4=vs(b4),E4=un({},Yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),S4=vs(E4),C4=un({},Uy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),T4=vs(C4),O4=[9,13,27,32],WS=Io&&"CompositionEvent"in window,mh=null;Io&&"documentMode"in document&&(mh=document.documentMode);var I4=Io&&"TextEvent"in window&&!mh,Mk=Io&&(!WS||mh&&8<mh&&11>=mh),eI=" ",tI=!1;function $k(n,e){switch(n){case"keyup":return O4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fk(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hu=!1;function P4(n,e){switch(n){case"compositionend":return Fk(e);case"keypress":return e.which!==32?null:(tI=!0,eI);case"textInput":return n=e.data,n===eI&&tI?null:n;default:return null}}function x4(n,e){if(Hu)return n==="compositionend"||!WS&&$k(n,e)?(n=Lk(),Mg=HS=ma=null,Hu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mk&&e.locale!=="ko"?null:e.data;default:return null}}var R4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!R4[n.type]:e==="textarea"}function jk(n,e,t,r){mk(r),e=Em(e,"onChange"),0<e.length&&(t=new zS("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var yh=null,Bh=null;function A4(n){Xk(n,0)}function By(n){var e=Wu(n);if(uk(e))return n}function D4(n,e){if(n==="change")return e}var Vk=!1;if(Io){var z_;if(Io){var K_="oninput"in document;if(!K_){var rI=document.createElement("div");rI.setAttribute("oninput","return;"),K_=typeof rI.oninput=="function"}z_=K_}else z_=!1;Vk=z_&&(!document.documentMode||9<document.documentMode)}function sI(){yh&&(yh.detachEvent("onpropertychange",Uk),Bh=yh=null)}function Uk(n){if(n.propertyName==="value"&&By(Bh)){var e=[];jk(e,Bh,n,FS(n)),bk(A4,e)}}function k4(n,e,t){n==="focusin"?(sI(),yh=e,Bh=t,yh.attachEvent("onpropertychange",Uk)):n==="focusout"&&sI()}function N4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return By(Bh)}function L4(n,e){if(n==="click")return By(e)}function M4(n,e){if(n==="input"||n==="change")return By(e)}function $4(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var hi=typeof Object.is=="function"?Object.is:$4;function Hh(n,e){if(hi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!C0.call(e,s)||!hi(n[s],e[s]))return!1}return!0}function iI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oI(n,e){var t=iI(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=iI(t)}}function Bk(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Bk(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Hk(){for(var n=window,e=gm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=gm(n.document)}return e}function GS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function F4(n){var e=Hk(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Bk(t.ownerDocument.documentElement,t)){if(r!==null&&GS(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=oI(t,i);var o=oI(t,r);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var j4=Io&&"documentMode"in document&&11>=document.documentMode,zu=null,H0=null,vh=null,z0=!1;function aI(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;z0||zu==null||zu!==gm(r)||(r=zu,"selectionStart"in r&&GS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vh&&Hh(vh,r)||(vh=r,r=Em(H0,"onSelect"),0<r.length&&(e=new zS("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=zu)))}function Zp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ku={animationend:Zp("Animation","AnimationEnd"),animationiteration:Zp("Animation","AnimationIteration"),animationstart:Zp("Animation","AnimationStart"),transitionend:Zp("Transition","TransitionEnd")},W_={},zk={};Io&&(zk=document.createElement("div").style,"AnimationEvent"in window||(delete Ku.animationend.animation,delete Ku.animationiteration.animation,delete Ku.animationstart.animation),"TransitionEvent"in window||delete Ku.transitionend.transition);function Hy(n){if(W_[n])return W_[n];if(!Ku[n])return n;var e=Ku[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in zk)return W_[n]=e[t];return n}var Kk=Hy("animationend"),Wk=Hy("animationiteration"),Gk=Hy("animationstart"),Yk=Hy("transitionend"),qk=new Map,lI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(n,e){qk.set(n,e),ru(e,[n])}for(var G_=0;G_<lI.length;G_++){var Y_=lI[G_],V4=Y_.toLowerCase(),U4=Y_[0].toUpperCase()+Y_.slice(1);Wa(V4,"on"+U4)}Wa(Kk,"onAnimationEnd");Wa(Wk,"onAnimationIteration");Wa(Gk,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(Yk,"onTransitionEnd");Sc("onMouseEnter",["mouseout","mouseover"]);Sc("onMouseLeave",["mouseout","mouseover"]);Sc("onPointerEnter",["pointerout","pointerover"]);Sc("onPointerLeave",["pointerout","pointerover"]);ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ih));function uI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,VB(r,e,void 0,n),n.currentTarget=null}function Xk(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;uI(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;uI(s,a,u),i=l}}}if(ym)throw n=j0,ym=!1,j0=null,n}function Bt(n,e){var t=e[q0];t===void 0&&(t=e[q0]=new Set);var r=n+"__bubble";t.has(r)||(Qk(e,n,2,!1),t.add(r))}function q_(n,e,t){var r=0;e&&(r|=4),Qk(t,n,r,e)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function zh(n){if(!n[Jp]){n[Jp]=!0,sk.forEach(function(t){t!=="selectionchange"&&(B4.has(t)||q_(t,!1,n),q_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Jp]||(e[Jp]=!0,q_("selectionchange",!1,e))}}function Qk(n,e,t,r){switch(Nk(e)){case 1:var s=n4;break;case 4:s=r4;break;default:s=BS}t=s.bind(null,e,t,n),s=void 0,!F0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function X_(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=vl(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}bk(function(){var u=i,d=FS(t),h=[];e:{var f=qk.get(n);if(f!==void 0){var m=zS,b=n;switch(n){case"keypress":if($g(t)===0)break e;case"keydown":case"keyup":m=v4;break;case"focusin":b="focus",m=H_;break;case"focusout":b="blur",m=H_;break;case"beforeblur":case"afterblur":m=H_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=o4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=w4;break;case Kk:case Wk:case Gk:m=u4;break;case Yk:m=S4;break;case"scroll":m=s4;break;case"wheel":m=T4;break;case"copy":case"cut":case"paste":m=d4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JO}var v=(e&4)!==0,_=!v&&n==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var w=u,E;w!==null;){E=w;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,y!==null&&(S=Fh(w,y),S!=null&&v.push(Kh(w,S,E)))),_)break;w=w.return}0<v.length&&(f=new m(f,b,null,t,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&t!==M0&&(b=t.relatedTarget||t.fromElement)&&(vl(b)||b[Po]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=t.relatedTarget||t.toElement,m=u,b=b?vl(b):null,b!==null&&(_=su(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(v=QO,S="onMouseLeave",y="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(v=JO,S="onPointerLeave",y="onPointerEnter",w="pointer"),_=m==null?f:Wu(m),E=b==null?f:Wu(b),f=new v(S,w+"leave",m,t,d),f.target=_,f.relatedTarget=E,S=null,vl(d)===u&&(v=new v(y,w+"enter",b,t,d),v.target=E,v.relatedTarget=_,S=v),_=S,m&&b)t:{for(v=m,y=b,w=0,E=v;E;E=Su(E))w++;for(E=0,S=y;S;S=Su(S))E++;for(;0<w-E;)v=Su(v),w--;for(;0<E-w;)y=Su(y),E--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=Su(v),y=Su(y)}v=null}else v=null;m!==null&&cI(h,f,m,v,!1),b!==null&&_!==null&&cI(h,_,b,v,!0)}}e:{if(f=u?Wu(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var I=D4;else if(nI(f))if(Vk)I=M4;else{I=N4;var x=k4}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=L4);if(I&&(I=I(n,u))){jk(h,I,t,d);break e}x&&x(n,f,u),n==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&A0(f,"number",f.value)}switch(x=u?Wu(u):window,n){case"focusin":(nI(x)||x.contentEditable==="true")&&(zu=x,H0=u,vh=null);break;case"focusout":vh=H0=zu=null;break;case"mousedown":z0=!0;break;case"contextmenu":case"mouseup":case"dragend":z0=!1,aI(h,t,d);break;case"selectionchange":if(j4)break;case"keydown":case"keyup":aI(h,t,d)}var O;if(WS)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Hu?$k(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(Mk&&t.locale!=="ko"&&(Hu||T!=="onCompositionStart"?T==="onCompositionEnd"&&Hu&&(O=Lk()):(ma=d,HS="value"in ma?ma.value:ma.textContent,Hu=!0)),x=Em(u,T),0<x.length&&(T=new ZO(T,n,null,t,d),h.push({event:T,listeners:x}),O?T.data=O:(O=Fk(t),O!==null&&(T.data=O)))),(O=I4?P4(n,t):x4(n,t))&&(u=Em(u,"onBeforeInput"),0<u.length&&(d=new ZO("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=O))}Xk(h,e)})}function Kh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Em(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fh(n,t),i!=null&&r.unshift(Kh(n,i,s)),i=Fh(n,e),i!=null&&r.push(Kh(n,i,s))),n=n.return}return r}function Su(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cI(n,e,t,r,s){for(var i=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Fh(t,i),l!=null&&o.unshift(Kh(t,l,a))):s||(l=Fh(t,i),l!=null&&o.push(Kh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var H4=/\r\n?/g,z4=/\u0000|\uFFFD/g;function dI(n){return(typeof n=="string"?n:""+n).replace(H4,`
`).replace(z4,"")}function eg(n,e,t){if(e=dI(e),dI(n)!==e&&t)throw Error(J(425))}function Sm(){}var K0=null,W0=null;function G0(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Y0=typeof setTimeout=="function"?setTimeout:void 0,K4=typeof clearTimeout=="function"?clearTimeout:void 0,hI=typeof Promise=="function"?Promise:void 0,W4=typeof queueMicrotask=="function"?queueMicrotask:typeof hI<"u"?function(n){return hI.resolve(null).then(n).catch(G4)}:Y0;function G4(n){setTimeout(function(){throw n})}function Q_(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),Uh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Uh(e)}function Ia(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function fI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var qc=Math.random().toString(36).slice(2),Pi="__reactFiber$"+qc,Wh="__reactProps$"+qc,Po="__reactContainer$"+qc,q0="__reactEvents$"+qc,Y4="__reactListeners$"+qc,q4="__reactHandles$"+qc;function vl(n){var e=n[Pi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Po]||t[Pi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=fI(n);n!==null;){if(t=n[Pi])return t;n=fI(n)}return e}n=t,t=n.parentNode}return null}function Lf(n){return n=n[Pi]||n[Po],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Wu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(J(33))}function zy(n){return n[Wh]||null}var X0=[],Gu=-1;function Ga(n){return{current:n}}function zt(n){0>Gu||(n.current=X0[Gu],X0[Gu]=null,Gu--)}function Lt(n,e){Gu++,X0[Gu]=n.current,n.current=e}var Va={},Er=Ga(Va),Gr=Ga(!1),Ml=Va;function Cc(n,e){var t=n.type.contextTypes;if(!t)return Va;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Yr(n){return n=n.childContextTypes,n!=null}function Cm(){zt(Gr),zt(Er)}function pI(n,e,t){if(Er.current!==Va)throw Error(J(168));Lt(Er,e),Lt(Gr,t)}function Zk(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(J(108,kB(n)||"Unknown",s));return un({},t,r)}function Tm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Va,Ml=Er.current,Lt(Er,n),Lt(Gr,Gr.current),!0}function gI(n,e,t){var r=n.stateNode;if(!r)throw Error(J(169));t?(n=Zk(n,e,Ml),r.__reactInternalMemoizedMergedChildContext=n,zt(Gr),zt(Er),Lt(Er,n)):zt(Gr),Lt(Gr,t)}var co=null,Ky=!1,Z_=!1;function Jk(n){co===null?co=[n]:co.push(n)}function X4(n){Ky=!0,Jk(n)}function Ya(){if(!Z_&&co!==null){Z_=!0;var n=0,e=Et;try{var t=co;for(Et=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}co=null,Ky=!1}catch(s){throw co!==null&&(co=co.slice(n+1)),Ck(jS,Ya),s}finally{Et=e,Z_=!1}}return null}var Yu=[],qu=0,Om=null,Im=0,As=[],Ds=0,$l=null,po=1,go="";function ll(n,e){Yu[qu++]=Im,Yu[qu++]=Om,Om=n,Im=e}function eN(n,e,t){As[Ds++]=po,As[Ds++]=go,As[Ds++]=$l,$l=n;var r=po;n=go;var s=32-ai(r)-1;r&=~(1<<s),t+=1;var i=32-ai(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,po=1<<32-ai(e)+s|t<<s|r,go=i+n}else po=1<<i|t<<s|r,go=n}function YS(n){n.return!==null&&(ll(n,1),eN(n,1,0))}function qS(n){for(;n===Om;)Om=Yu[--qu],Yu[qu]=null,Im=Yu[--qu],Yu[qu]=null;for(;n===$l;)$l=As[--Ds],As[Ds]=null,go=As[--Ds],As[Ds]=null,po=As[--Ds],As[Ds]=null}var fs=null,cs=null,Xt=!1,ni=null;function tN(n,e){var t=$s(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function mI(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,fs=n,cs=Ia(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,fs=n,cs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=$l!==null?{id:po,overflow:go}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=$s(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,fs=n,cs=null,!0):!1;default:return!1}}function Q0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Z0(n){if(Xt){var e=cs;if(e){var t=e;if(!mI(n,e)){if(Q0(n))throw Error(J(418));e=Ia(t.nextSibling);var r=fs;e&&mI(n,e)?tN(r,t):(n.flags=n.flags&-4097|2,Xt=!1,fs=n)}}else{if(Q0(n))throw Error(J(418));n.flags=n.flags&-4097|2,Xt=!1,fs=n}}}function yI(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;fs=n}function tg(n){if(n!==fs)return!1;if(!Xt)return yI(n),Xt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!G0(n.type,n.memoizedProps)),e&&(e=cs)){if(Q0(n))throw nN(),Error(J(418));for(;e;)tN(n,e),e=Ia(e.nextSibling)}if(yI(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(J(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){cs=Ia(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}cs=null}}else cs=fs?Ia(n.stateNode.nextSibling):null;return!0}function nN(){for(var n=cs;n;)n=Ia(n.nextSibling)}function Tc(){cs=fs=null,Xt=!1}function XS(n){ni===null?ni=[n]:ni.push(n)}var Q4=Bo.ReactCurrentBatchConfig;function Md(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(J(309));var r=t.stateNode}if(!r)throw Error(J(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(J(284));if(!t._owner)throw Error(J(290,n))}return n}function ng(n,e){throw n=Object.prototype.toString.call(e),Error(J(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function vI(n){var e=n._init;return e(n._payload)}function rN(n){function e(y,w){if(n){var E=y.deletions;E===null?(y.deletions=[w],y.flags|=16):E.push(w)}}function t(y,w){if(!n)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=Aa(y,w),y.index=0,y.sibling=null,y}function i(y,w,E){return y.index=E,n?(E=y.alternate,E!==null?(E=E.index,E<w?(y.flags|=2,w):E):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,w,E,S){return w===null||w.tag!==6?(w=ib(E,y.mode,S),w.return=y,w):(w=s(w,E),w.return=y,w)}function l(y,w,E,S){var I=E.type;return I===Bu?d(y,w,E.props.children,S,E.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ia&&vI(I)===w.type)?(S=s(w,E.props),S.ref=Md(y,w,E),S.return=y,S):(S=zg(E.type,E.key,E.props,null,y.mode,S),S.ref=Md(y,w,E),S.return=y,S)}function u(y,w,E,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=ob(E,y.mode,S),w.return=y,w):(w=s(w,E.children||[]),w.return=y,w)}function d(y,w,E,S,I){return w===null||w.tag!==7?(w=Pl(E,y.mode,S,I),w.return=y,w):(w=s(w,E),w.return=y,w)}function h(y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ib(""+w,y.mode,E),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kp:return E=zg(w.type,w.key,w.props,null,y.mode,E),E.ref=Md(y,null,w),E.return=y,E;case Uu:return w=ob(w,y.mode,E),w.return=y,w;case ia:var S=w._init;return h(y,S(w._payload),E)}if(rh(w)||Ad(w))return w=Pl(w,y.mode,E,null),w.return=y,w;ng(y,w)}return null}function f(y,w,E,S){var I=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:a(y,w,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Kp:return E.key===I?l(y,w,E,S):null;case Uu:return E.key===I?u(y,w,E,S):null;case ia:return I=E._init,f(y,w,I(E._payload),S)}if(rh(E)||Ad(E))return I!==null?null:d(y,w,E,S,null);ng(y,E)}return null}function m(y,w,E,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(E)||null,a(w,y,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kp:return y=y.get(S.key===null?E:S.key)||null,l(w,y,S,I);case Uu:return y=y.get(S.key===null?E:S.key)||null,u(w,y,S,I);case ia:var x=S._init;return m(y,w,E,x(S._payload),I)}if(rh(S)||Ad(S))return y=y.get(E)||null,d(w,y,S,I,null);ng(w,S)}return null}function b(y,w,E,S){for(var I=null,x=null,O=w,T=w=0,P=null;O!==null&&T<E.length;T++){O.index>T?(P=O,O=null):P=O.sibling;var A=f(y,O,E[T],S);if(A===null){O===null&&(O=P);break}n&&O&&A.alternate===null&&e(y,O),w=i(A,w,T),x===null?I=A:x.sibling=A,x=A,O=P}if(T===E.length)return t(y,O),Xt&&ll(y,T),I;if(O===null){for(;T<E.length;T++)O=h(y,E[T],S),O!==null&&(w=i(O,w,T),x===null?I=O:x.sibling=O,x=O);return Xt&&ll(y,T),I}for(O=r(y,O);T<E.length;T++)P=m(O,y,T,E[T],S),P!==null&&(n&&P.alternate!==null&&O.delete(P.key===null?T:P.key),w=i(P,w,T),x===null?I=P:x.sibling=P,x=P);return n&&O.forEach(function(k){return e(y,k)}),Xt&&ll(y,T),I}function v(y,w,E,S){var I=Ad(E);if(typeof I!="function")throw Error(J(150));if(E=I.call(E),E==null)throw Error(J(151));for(var x=I=null,O=w,T=w=0,P=null,A=E.next();O!==null&&!A.done;T++,A=E.next()){O.index>T?(P=O,O=null):P=O.sibling;var k=f(y,O,A.value,S);if(k===null){O===null&&(O=P);break}n&&O&&k.alternate===null&&e(y,O),w=i(k,w,T),x===null?I=k:x.sibling=k,x=k,O=P}if(A.done)return t(y,O),Xt&&ll(y,T),I;if(O===null){for(;!A.done;T++,A=E.next())A=h(y,A.value,S),A!==null&&(w=i(A,w,T),x===null?I=A:x.sibling=A,x=A);return Xt&&ll(y,T),I}for(O=r(y,O);!A.done;T++,A=E.next())A=m(O,y,T,A.value,S),A!==null&&(n&&A.alternate!==null&&O.delete(A.key===null?T:A.key),w=i(A,w,T),x===null?I=A:x.sibling=A,x=A);return n&&O.forEach(function(M){return e(y,M)}),Xt&&ll(y,T),I}function _(y,w,E,S){if(typeof E=="object"&&E!==null&&E.type===Bu&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Kp:e:{for(var I=E.key,x=w;x!==null;){if(x.key===I){if(I=E.type,I===Bu){if(x.tag===7){t(y,x.sibling),w=s(x,E.props.children),w.return=y,y=w;break e}}else if(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ia&&vI(I)===x.type){t(y,x.sibling),w=s(x,E.props),w.ref=Md(y,x,E),w.return=y,y=w;break e}t(y,x);break}else e(y,x);x=x.sibling}E.type===Bu?(w=Pl(E.props.children,y.mode,S,E.key),w.return=y,y=w):(S=zg(E.type,E.key,E.props,null,y.mode,S),S.ref=Md(y,w,E),S.return=y,y=S)}return o(y);case Uu:e:{for(x=E.key;w!==null;){if(w.key===x)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){t(y,w.sibling),w=s(w,E.children||[]),w.return=y,y=w;break e}else{t(y,w);break}else e(y,w);w=w.sibling}w=ob(E,y.mode,S),w.return=y,y=w}return o(y);case ia:return x=E._init,_(y,w,x(E._payload),S)}if(rh(E))return b(y,w,E,S);if(Ad(E))return v(y,w,E,S);ng(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(t(y,w.sibling),w=s(w,E),w.return=y,y=w):(t(y,w),w=ib(E,y.mode,S),w.return=y,y=w),o(y)):t(y,w)}return _}var Oc=rN(!0),sN=rN(!1),Pm=Ga(null),xm=null,Xu=null,QS=null;function ZS(){QS=Xu=xm=null}function JS(n){var e=Pm.current;zt(Pm),n._currentValue=e}function J0(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function hc(n,e){xm=n,QS=Xu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Kr=!0),n.firstContext=null)}function Ws(n){var e=n._currentValue;if(QS!==n)if(n={context:n,memoizedValue:e,next:null},Xu===null){if(xm===null)throw Error(J(308));Xu=n,xm.dependencies={lanes:0,firstContext:n}}else Xu=Xu.next=n;return e}var _l=null;function eC(n){_l===null?_l=[n]:_l.push(n)}function iN(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,eC(e)):(t.next=s.next,s.next=t),e.interleaved=t,xo(n,r)}function xo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var oa=!1;function tC(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oN(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function bo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,xo(n,t)}return s=r.interleaved,s===null?(e.next=e,eC(r)):(e.next=s.next,s.next=e),r.interleaved=e,xo(n,t)}function Fg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,VS(n,t)}}function _I(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Rm(n,e,t,r){var s=n.updateQueue;oa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=n,v=a;switch(f=e,m=t,v.tag){case 1:if(b=v.payload,typeof b=="function"){h=b.call(m,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,f=typeof b=="function"?b.call(m,h,f):b,f==null)break e;h=un({},h,f);break e;case 2:oa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);jl|=o,n.lanes=o,n.memoizedState=h}}function bI(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var Mf={},ji=Ga(Mf),Gh=Ga(Mf),Yh=Ga(Mf);function bl(n){if(n===Mf)throw Error(J(174));return n}function nC(n,e){switch(Lt(Yh,e),Lt(Gh,n),Lt(ji,Mf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=k0(e,n)}zt(ji),Lt(ji,e)}function Ic(){zt(ji),zt(Gh),zt(Yh)}function aN(n){bl(Yh.current);var e=bl(ji.current),t=k0(e,n.type);e!==t&&(Lt(Gh,n),Lt(ji,t))}function rC(n){Gh.current===n&&(zt(ji),zt(Gh))}var on=Ga(0);function Am(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J_=[];function sC(){for(var n=0;n<J_.length;n++)J_[n]._workInProgressVersionPrimary=null;J_.length=0}var jg=Bo.ReactCurrentDispatcher,eb=Bo.ReactCurrentBatchConfig,Fl=0,ln=null,An=null,Un=null,Dm=!1,_h=!1,qh=0,Z4=0;function cr(){throw Error(J(321))}function iC(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!hi(n[t],e[t]))return!1;return!0}function oC(n,e,t,r,s,i){if(Fl=i,ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jg.current=n===null||n.memoizedState===null?n3:r3,n=t(r,s),_h){i=0;do{if(_h=!1,qh=0,25<=i)throw Error(J(301));i+=1,Un=An=null,e.updateQueue=null,jg.current=s3,n=t(r,s)}while(_h)}if(jg.current=km,e=An!==null&&An.next!==null,Fl=0,Un=An=ln=null,Dm=!1,e)throw Error(J(300));return n}function aC(){var n=qh!==0;return qh=0,n}function Ii(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?ln.memoizedState=Un=n:Un=Un.next=n,Un}function Gs(){if(An===null){var n=ln.alternate;n=n!==null?n.memoizedState:null}else n=An.next;var e=Un===null?ln.memoizedState:Un.next;if(e!==null)Un=e,An=n;else{if(n===null)throw Error(J(310));An=n,n={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Un===null?ln.memoizedState=Un=n:Un=Un.next=n}return Un}function Xh(n,e){return typeof e=="function"?e(n):e}function tb(n){var e=Gs(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=An,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Fl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ln.lanes|=d,jl|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,hi(r,e.memoizedState)||(Kr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,ln.lanes|=i,jl|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function nb(n){var e=Gs(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do i=n(i,o.action),o=o.next;while(o!==s);hi(i,e.memoizedState)||(Kr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function lN(){}function uN(n,e){var t=ln,r=Gs(),s=e(),i=!hi(r.memoizedState,s);if(i&&(r.memoizedState=s,Kr=!0),r=r.queue,lC(hN.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Un!==null&&Un.memoizedState.tag&1){if(t.flags|=2048,Qh(9,dN.bind(null,t,r,s,e),void 0,null),zn===null)throw Error(J(349));Fl&30||cN(t,e,s)}return s}function cN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function dN(n,e,t,r){e.value=t,e.getSnapshot=r,fN(e)&&pN(n)}function hN(n,e,t){return t(function(){fN(e)&&pN(n)})}function fN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!hi(n,t)}catch{return!0}}function pN(n){var e=xo(n,1);e!==null&&li(e,n,1,-1)}function wI(n){var e=Ii();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xh,lastRenderedState:n},e.queue=n,n=n.dispatch=t3.bind(null,ln,n),[e.memoizedState,n]}function Qh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function gN(){return Gs().memoizedState}function Vg(n,e,t,r){var s=Ii();ln.flags|=n,s.memoizedState=Qh(1|e,t,void 0,r===void 0?null:r)}function Wy(n,e,t,r){var s=Gs();r=r===void 0?null:r;var i=void 0;if(An!==null){var o=An.memoizedState;if(i=o.destroy,r!==null&&iC(r,o.deps)){s.memoizedState=Qh(e,t,i,r);return}}ln.flags|=n,s.memoizedState=Qh(1|e,t,i,r)}function EI(n,e){return Vg(8390656,8,n,e)}function lC(n,e){return Wy(2048,8,n,e)}function mN(n,e){return Wy(4,2,n,e)}function yN(n,e){return Wy(4,4,n,e)}function vN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function _N(n,e,t){return t=t!=null?t.concat([n]):null,Wy(4,4,vN.bind(null,e,n),t)}function uC(){}function bN(n,e){var t=Gs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&iC(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function wN(n,e){var t=Gs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&iC(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function EN(n,e,t){return Fl&21?(hi(t,e)||(t=Ik(),ln.lanes|=t,jl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Kr=!0),n.memoizedState=t)}function J4(n,e){var t=Et;Et=t!==0&&4>t?t:4,n(!0);var r=eb.transition;eb.transition={};try{n(!1),e()}finally{Et=t,eb.transition=r}}function SN(){return Gs().memoizedState}function e3(n,e,t){var r=Ra(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},CN(n))TN(e,t);else if(t=iN(n,e,t,r),t!==null){var s=Dr();li(t,n,r,s),ON(t,e,r)}}function t3(n,e,t){var r=Ra(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(CN(n))TN(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(s.hasEagerState=!0,s.eagerState=a,hi(a,o)){var l=e.interleaved;l===null?(s.next=s,eC(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=iN(n,e,s,r),t!==null&&(s=Dr(),li(t,n,r,s),ON(t,e,r))}}function CN(n){var e=n.alternate;return n===ln||e!==null&&e===ln}function TN(n,e){_h=Dm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function ON(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,VS(n,t)}}var km={readContext:Ws,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},n3={readContext:Ws,useCallback:function(n,e){return Ii().memoizedState=[n,e===void 0?null:e],n},useContext:Ws,useEffect:EI,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Vg(4194308,4,vN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Vg(4194308,4,n,e)},useInsertionEffect:function(n,e){return Vg(4,2,n,e)},useMemo:function(n,e){var t=Ii();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ii();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=e3.bind(null,ln,n),[r.memoizedState,n]},useRef:function(n){var e=Ii();return n={current:n},e.memoizedState=n},useState:wI,useDebugValue:uC,useDeferredValue:function(n){return Ii().memoizedState=n},useTransition:function(){var n=wI(!1),e=n[0];return n=J4.bind(null,n[1]),Ii().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=ln,s=Ii();if(Xt){if(t===void 0)throw Error(J(407));t=t()}else{if(t=e(),zn===null)throw Error(J(349));Fl&30||cN(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,EI(hN.bind(null,r,i,n),[n]),r.flags|=2048,Qh(9,dN.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Ii(),e=zn.identifierPrefix;if(Xt){var t=go,r=po;t=(r&~(1<<32-ai(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=qh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Z4++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},r3={readContext:Ws,useCallback:bN,useContext:Ws,useEffect:lC,useImperativeHandle:_N,useInsertionEffect:mN,useLayoutEffect:yN,useMemo:wN,useReducer:tb,useRef:gN,useState:function(){return tb(Xh)},useDebugValue:uC,useDeferredValue:function(n){var e=Gs();return EN(e,An.memoizedState,n)},useTransition:function(){var n=tb(Xh)[0],e=Gs().memoizedState;return[n,e]},useMutableSource:lN,useSyncExternalStore:uN,useId:SN,unstable_isNewReconciler:!1},s3={readContext:Ws,useCallback:bN,useContext:Ws,useEffect:lC,useImperativeHandle:_N,useInsertionEffect:mN,useLayoutEffect:yN,useMemo:wN,useReducer:nb,useRef:gN,useState:function(){return nb(Xh)},useDebugValue:uC,useDeferredValue:function(n){var e=Gs();return An===null?e.memoizedState=n:EN(e,An.memoizedState,n)},useTransition:function(){var n=nb(Xh)[0],e=Gs().memoizedState;return[n,e]},useMutableSource:lN,useSyncExternalStore:uN,useId:SN,unstable_isNewReconciler:!1};function ei(n,e){if(n&&n.defaultProps){e=un({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function ew(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:un({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Gy={isMounted:function(n){return(n=n._reactInternals)?su(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Dr(),s=Ra(n),i=bo(r,s);i.payload=e,t!=null&&(i.callback=t),e=Pa(n,i,s),e!==null&&(li(e,n,s,r),Fg(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Dr(),s=Ra(n),i=bo(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Pa(n,i,s),e!==null&&(li(e,n,s,r),Fg(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Dr(),r=Ra(n),s=bo(t,r);s.tag=2,e!=null&&(s.callback=e),e=Pa(n,s,r),e!==null&&(li(e,n,r,t),Fg(e,n,r))}};function SI(n,e,t,r,s,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Hh(t,r)||!Hh(s,i):!0}function IN(n,e,t){var r=!1,s=Va,i=e.contextType;return typeof i=="object"&&i!==null?i=Ws(i):(s=Yr(e)?Ml:Er.current,r=e.contextTypes,i=(r=r!=null)?Cc(n,s):Va),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gy,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function CI(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Gy.enqueueReplaceState(e,e.state,null)}function tw(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},tC(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ws(i):(i=Yr(e)?Ml:Er.current,s.context=Cc(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ew(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gy.enqueueReplaceState(s,s.state,null),Rm(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Pc(n,e){try{var t="",r=e;do t+=DB(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function rb(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function nw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var i3=typeof WeakMap=="function"?WeakMap:Map;function PN(n,e,t){t=bo(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Lm||(Lm=!0,hw=r),nw(n,e)},t}function xN(n,e,t){t=bo(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){nw(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){nw(n,e),typeof r!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function TI(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new i3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=_3.bind(null,n,e,t),e.then(n,n))}function OI(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function II(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=bo(-1,1),e.tag=2,Pa(t,e,1))),t.lanes|=1),n)}var o3=Bo.ReactCurrentOwner,Kr=!1;function Pr(n,e,t,r){e.child=n===null?sN(e,null,t,r):Oc(e,n.child,t,r)}function PI(n,e,t,r,s){t=t.render;var i=e.ref;return hc(e,s),r=oC(n,e,t,r,i,s),t=aC(),n!==null&&!Kr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ro(n,e,s)):(Xt&&t&&YS(e),e.flags|=1,Pr(n,e,r,s),e.child)}function xI(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!yC(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,RN(n,e,i,r,s)):(n=zg(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:Hh,t(o,r)&&n.ref===e.ref)return Ro(n,e,s)}return e.flags|=1,n=Aa(i,r),n.ref=e.ref,n.return=e,e.child=n}function RN(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(Hh(i,r)&&n.ref===e.ref)if(Kr=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(Kr=!0);else return e.lanes=n.lanes,Ro(n,e,s)}return rw(n,e,t,r,s)}function AN(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(Zu,as),as|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Lt(Zu,as),as|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Lt(Zu,as),as|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Lt(Zu,as),as|=r;return Pr(n,e,s,t),e.child}function DN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function rw(n,e,t,r,s){var i=Yr(t)?Ml:Er.current;return i=Cc(e,i),hc(e,s),t=oC(n,e,t,r,i,s),r=aC(),n!==null&&!Kr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ro(n,e,s)):(Xt&&r&&YS(e),e.flags|=1,Pr(n,e,t,s),e.child)}function RI(n,e,t,r,s){if(Yr(t)){var i=!0;Tm(e)}else i=!1;if(hc(e,s),e.stateNode===null)Ug(n,e),IN(e,t,r),tw(e,t,r,s),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ws(u):(u=Yr(t)?Ml:Er.current,u=Cc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&CI(e,o,r,u),oa=!1;var f=e.memoizedState;o.state=f,Rm(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Gr.current||oa?(typeof d=="function"&&(ew(e,t,d,r),l=e.memoizedState),(a=oa||SI(e,t,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oN(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:ei(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ws(l):(l=Yr(t)?Ml:Er.current,l=Cc(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&CI(e,o,r,l),oa=!1,f=e.memoizedState,o.state=f,Rm(e,r,o,s);var b=e.memoizedState;a!==h||f!==b||Gr.current||oa?(typeof m=="function"&&(ew(e,t,m,r),b=e.memoizedState),(u=oa||SI(e,t,u,r,f,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return sw(n,e,t,r,i,s)}function sw(n,e,t,r,s,i){DN(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&gI(e,t,!1),Ro(n,e,i);r=e.stateNode,o3.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Oc(e,n.child,null,i),e.child=Oc(e,null,a,i)):Pr(n,e,a,i),e.memoizedState=r.state,s&&gI(e,t,!0),e.child}function kN(n){var e=n.stateNode;e.pendingContext?pI(n,e.pendingContext,e.pendingContext!==e.context):e.context&&pI(n,e.context,!1),nC(n,e.containerInfo)}function AI(n,e,t,r,s){return Tc(),XS(s),e.flags|=256,Pr(n,e,t,r),e.child}var iw={dehydrated:null,treeContext:null,retryLane:0};function ow(n){return{baseLanes:n,cachePool:null,transitions:null}}function NN(n,e,t){var r=e.pendingProps,s=on.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Lt(on,s&1),n===null)return Z0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xy(o,r,0,null),n=Pl(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=ow(t),e.memoizedState=iw,n):cC(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return a3(n,e,o,r,a,s,t);if(i){i=r.fallback,o=e.mode,s=n.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Aa(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Aa(a,i):(i=Pl(i,o,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=n.child.memoizedState,o=o===null?ow(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=iw,r}return i=n.child,n=i.sibling,r=Aa(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function cC(n,e){return e=Xy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function rg(n,e,t,r){return r!==null&&XS(r),Oc(e,n.child,null,t),n=cC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function a3(n,e,t,r,s,i,o){if(t)return e.flags&256?(e.flags&=-257,r=rb(Error(J(422))),rg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Xy({mode:"visible",children:r.children},s,0,null),i=Pl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oc(e,n.child,null,o),e.child.memoizedState=ow(o),e.memoizedState=iw,i);if(!(e.mode&1))return rg(n,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(J(419)),r=rb(i,r,void 0),rg(n,e,o,r)}if(a=(o&n.childLanes)!==0,Kr||a){if(r=zn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xo(n,s),li(r,n,s,-1))}return mC(),r=rb(Error(J(421))),rg(n,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=b3.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,cs=Ia(s.nextSibling),fs=e,Xt=!0,ni=null,n!==null&&(As[Ds++]=po,As[Ds++]=go,As[Ds++]=$l,po=n.id,go=n.overflow,$l=e),e=cC(e,r.children),e.flags|=4096,e)}function DI(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),J0(n.return,e,t)}function sb(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function LN(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pr(n,e,r.children,t),r=on.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&DI(n,t,e);else if(n.tag===19)DI(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Lt(on,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&Am(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),sb(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Am(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}sb(e,!0,t,null,i);break;case"together":sb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ug(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ro(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),jl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(J(153));if(e.child!==null){for(n=e.child,t=Aa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Aa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function l3(n,e,t){switch(e.tag){case 3:kN(e),Tc();break;case 5:aN(e);break;case 1:Yr(e.type)&&Tm(e);break;case 4:nC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Lt(Pm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Lt(on,on.current&1),e.flags|=128,null):t&e.child.childLanes?NN(n,e,t):(Lt(on,on.current&1),n=Ro(n,e,t),n!==null?n.sibling:null);Lt(on,on.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return LN(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Lt(on,on.current),r)break;return null;case 22:case 23:return e.lanes=0,AN(n,e,t)}return Ro(n,e,t)}var MN,aw,$N,FN;MN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};aw=function(){};$N=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,bl(ji.current);var i=null;switch(t){case"input":s=x0(n,s),r=x0(n,r),i=[];break;case"select":s=un({},s,{value:void 0}),r=un({},r,{value:void 0}),i=[];break;case"textarea":s=D0(n,s),r=D0(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Sm)}N0(t,r);var o;t=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(i||(i=[]),i.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Bt("scroll",n),i||a===l||(i=[])):(i=i||[]).push(u,l))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};FN=function(n,e,t,r){t!==r&&(e.flags|=4)};function $d(n,e){if(!Xt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function dr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function u3(n,e,t){var r=e.pendingProps;switch(qS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return Yr(e.type)&&Cm(),dr(e),null;case 3:return r=e.stateNode,Ic(),zt(Gr),zt(Er),sC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(tg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ni!==null&&(gw(ni),ni=null))),aw(n,e),dr(e),null;case 5:rC(e);var s=bl(Yh.current);if(t=e.type,n!==null&&e.stateNode!=null)$N(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return dr(e),null}if(n=bl(ji.current),tg(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[Pi]=e,r[Wh]=i,n=(e.mode&1)!==0,t){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(s=0;s<ih.length;s++)Bt(ih[s],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":UO(r,i),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Bt("invalid",r);break;case"textarea":HO(r,i),Bt("invalid",r)}N0(t,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&eg(r.textContent,a,n),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&eg(r.textContent,a,n),s=["children",""+a]):Mh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Bt("scroll",r)}switch(t){case"input":Wp(r),BO(r,i,!0);break;case"textarea":Wp(r),zO(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Sm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=hk(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Pi]=e,n[Wh]=r,MN(n,e,!1,!1),e.stateNode=n;e:{switch(o=L0(t,r),t){case"dialog":Bt("cancel",n),Bt("close",n),s=r;break;case"iframe":case"object":case"embed":Bt("load",n),s=r;break;case"video":case"audio":for(s=0;s<ih.length;s++)Bt(ih[s],n);s=r;break;case"source":Bt("error",n),s=r;break;case"img":case"image":case"link":Bt("error",n),Bt("load",n),s=r;break;case"details":Bt("toggle",n),s=r;break;case"input":UO(n,r),s=x0(n,r),Bt("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=un({},r,{value:void 0}),Bt("invalid",n);break;case"textarea":HO(n,r),s=D0(n,r),Bt("invalid",n);break;default:s=r}N0(t,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gk(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fk(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&$h(n,l):typeof l=="number"&&$h(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Bt("scroll",n):l!=null&&NS(n,i,l,o))}switch(t){case"input":Wp(n),BO(n,r,!1);break;case"textarea":Wp(n),zO(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ja(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?lc(n,!!r.multiple,i,!1):r.defaultValue!=null&&lc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Sm)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(n&&e.stateNode!=null)FN(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(t=bl(Yh.current),bl(ji.current),tg(e)){if(r=e.stateNode,t=e.memoizedProps,r[Pi]=e,(i=r.nodeValue!==t)&&(n=fs,n!==null))switch(n.tag){case 3:eg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&eg(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Pi]=e,e.stateNode=r}return dr(e),null;case 13:if(zt(on),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xt&&cs!==null&&e.mode&1&&!(e.flags&128))nN(),Tc(),e.flags|=98560,i=!1;else if(i=tg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[Pi]=e}else Tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),i=!1}else ni!==null&&(gw(ni),ni=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||on.current&1?Nn===0&&(Nn=3):mC())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return Ic(),aw(n,e),n===null&&zh(e.stateNode.containerInfo),dr(e),null;case 10:return JS(e.type._context),dr(e),null;case 17:return Yr(e.type)&&Cm(),dr(e),null;case 19:if(zt(on),i=e.memoizedState,i===null)return dr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)$d(i,!1);else{if(Nn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Am(n),o!==null){for(e.flags|=128,$d(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Lt(on,on.current&1|2),e.child}n=n.sibling}i.tail!==null&&Sn()>xc&&(e.flags|=128,r=!0,$d(i,!1),e.lanes=4194304)}else{if(!r)if(n=Am(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),$d(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xt)return dr(e),null}else 2*Sn()-i.renderingStartTime>xc&&t!==1073741824&&(e.flags|=128,r=!0,$d(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Sn(),e.sibling=null,t=on.current,Lt(on,r?t&1|2:t&1),e):(dr(e),null);case 22:case 23:return gC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?as&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function c3(n,e){switch(qS(e),e.tag){case 1:return Yr(e.type)&&Cm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ic(),zt(Gr),zt(Er),sC(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return rC(e),null;case 13:if(zt(on),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Tc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return zt(on),null;case 4:return Ic(),null;case 10:return JS(e.type._context),null;case 22:case 23:return gC(),null;case 24:return null;default:return null}}var sg=!1,yr=!1,d3=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Qu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){pn(n,e,r)}else t.current=null}function lw(n,e,t){try{t()}catch(r){pn(n,e,r)}}var kI=!1;function h3(n,e){if(K0=bm,n=Hk(),GS(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var m;h!==t||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===n)break t;if(f===t&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(W0={focusedElem:n,selectionRange:t},bm=!1,ce=e;ce!==null;)if(e=ce,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ce=n;else for(;ce!==null;){e=ce;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,_=b.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:ei(e.type,v),_);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){pn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}return b=kI,kI=!1,b}function bh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&lw(e,t,i)}s=s.next}while(s!==r)}}function Yy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function uw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function jN(n){var e=n.alternate;e!==null&&(n.alternate=null,jN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Pi],delete e[Wh],delete e[q0],delete e[Y4],delete e[q4])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function VN(n){return n.tag===5||n.tag===3||n.tag===4}function NI(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||VN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function cw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Sm));else if(r!==4&&(n=n.child,n!==null))for(cw(n,e,t),n=n.sibling;n!==null;)cw(n,e,t),n=n.sibling}function dw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(dw(n,e,t),n=n.sibling;n!==null;)dw(n,e,t),n=n.sibling}var Xn=null,ti=!1;function Xo(n,e,t){for(t=t.child;t!==null;)UN(n,e,t),t=t.sibling}function UN(n,e,t){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(Vy,t)}catch{}switch(t.tag){case 5:yr||Qu(t,e);case 6:var r=Xn,s=ti;Xn=null,Xo(n,e,t),Xn=r,ti=s,Xn!==null&&(ti?(n=Xn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Xn.removeChild(t.stateNode));break;case 18:Xn!==null&&(ti?(n=Xn,t=t.stateNode,n.nodeType===8?Q_(n.parentNode,t):n.nodeType===1&&Q_(n,t),Uh(n)):Q_(Xn,t.stateNode));break;case 4:r=Xn,s=ti,Xn=t.stateNode.containerInfo,ti=!0,Xo(n,e,t),Xn=r,ti=s;break;case 0:case 11:case 14:case 15:if(!yr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lw(t,e,o),s=s.next}while(s!==r)}Xo(n,e,t);break;case 1:if(!yr&&(Qu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){pn(t,e,a)}Xo(n,e,t);break;case 21:Xo(n,e,t);break;case 22:t.mode&1?(yr=(r=yr)||t.memoizedState!==null,Xo(n,e,t),yr=r):Xo(n,e,t);break;default:Xo(n,e,t)}}function LI(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new d3),e.forEach(function(r){var s=w3.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function Xs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xn=a.stateNode,ti=!1;break e;case 3:Xn=a.stateNode.containerInfo,ti=!0;break e;case 4:Xn=a.stateNode.containerInfo,ti=!0;break e}a=a.return}if(Xn===null)throw Error(J(160));UN(i,o,s),Xn=null,ti=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){pn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BN(e,n),e=e.sibling}function BN(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Xs(e,n),Ti(n),r&4){try{bh(3,n,n.return),Yy(3,n)}catch(v){pn(n,n.return,v)}try{bh(5,n,n.return)}catch(v){pn(n,n.return,v)}}break;case 1:Xs(e,n),Ti(n),r&512&&t!==null&&Qu(t,t.return);break;case 5:if(Xs(e,n),Ti(n),r&512&&t!==null&&Qu(t,t.return),n.flags&32){var s=n.stateNode;try{$h(s,"")}catch(v){pn(n,n.return,v)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ck(s,i),L0(a,o);var u=L0(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?gk(s,h):d==="dangerouslySetInnerHTML"?fk(s,h):d==="children"?$h(s,h):NS(s,d,h,u)}switch(a){case"input":R0(s,i);break;case"textarea":dk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?lc(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?lc(s,!!i.multiple,i.defaultValue,!0):lc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wh]=i}catch(v){pn(n,n.return,v)}}break;case 6:if(Xs(e,n),Ti(n),r&4){if(n.stateNode===null)throw Error(J(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(v){pn(n,n.return,v)}}break;case 3:if(Xs(e,n),Ti(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Uh(e.containerInfo)}catch(v){pn(n,n.return,v)}break;case 4:Xs(e,n),Ti(n);break;case 13:Xs(e,n),Ti(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fC=Sn())),r&4&&LI(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(yr=(u=yr)||d,Xs(e,n),yr=u):Xs(e,n),Ti(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(ce=n,d=n.child;d!==null;){for(h=ce=d;ce!==null;){switch(f=ce,m=f.child,f.tag){case 0:case 11:case 14:case 15:bh(4,f,f.return);break;case 1:Qu(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){pn(r,t,v)}}break;case 5:Qu(f,f.return);break;case 22:if(f.memoizedState!==null){$I(h);continue}}m!==null?(m.return=f,ce=m):$I(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pk("display",o))}catch(v){pn(n,n.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){pn(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xs(e,n),Ti(n),r&4&&LI(n);break;case 21:break;default:Xs(e,n),Ti(n)}}function Ti(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(VN(t)){var r=t;break e}t=t.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($h(s,""),r.flags&=-33);var i=NI(n);dw(n,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=NI(n);cw(n,a,o);break;default:throw Error(J(161))}}catch(l){pn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function f3(n,e,t){ce=n,HN(n)}function HN(n,e,t){for(var r=(n.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||sg;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||yr;a=sg;var u=yr;if(sg=o,(yr=l)&&!u)for(ce=s;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?FI(s):l!==null?(l.return=o,ce=l):FI(s);for(;i!==null;)ce=i,HN(i),i=i.sibling;ce=s,sg=a,yr=u}MI(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):MI(n)}}function MI(n){for(;ce!==null;){var e=ce;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yr||Yy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yr)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:ei(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bI(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}bI(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Uh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}yr||e.flags&512&&uw(e)}catch(f){pn(e,e.return,f)}}if(e===n){ce=null;break}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}}function $I(n){for(;ce!==null;){var e=ce;if(e===n){ce=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ce=t;break}ce=e.return}}function FI(n){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Yy(4,e)}catch(l){pn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){pn(e,s,l)}}var i=e.return;try{uw(e)}catch(l){pn(e,i,l)}break;case 5:var o=e.return;try{uw(e)}catch(l){pn(e,o,l)}}}catch(l){pn(e,e.return,l)}if(e===n){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var p3=Math.ceil,Nm=Bo.ReactCurrentDispatcher,dC=Bo.ReactCurrentOwner,Bs=Bo.ReactCurrentBatchConfig,Qe=0,zn=null,xn=null,er=0,as=0,Zu=Ga(0),Nn=0,Zh=null,jl=0,qy=0,hC=0,wh=null,Hr=null,fC=0,xc=1/0,uo=null,Lm=!1,hw=null,xa=null,ig=!1,ya=null,Mm=0,Eh=0,fw=null,Bg=-1,Hg=0;function Dr(){return Qe&6?Sn():Bg!==-1?Bg:Bg=Sn()}function Ra(n){return n.mode&1?Qe&2&&er!==0?er&-er:Q4.transition!==null?(Hg===0&&(Hg=Ik()),Hg):(n=Et,n!==0||(n=window.event,n=n===void 0?16:Nk(n.type)),n):1}function li(n,e,t,r){if(50<Eh)throw Eh=0,fw=null,Error(J(185));kf(n,t,r),(!(Qe&2)||n!==zn)&&(n===zn&&(!(Qe&2)&&(qy|=t),Nn===4&&ua(n,er)),qr(n,r),t===1&&Qe===0&&!(e.mode&1)&&(xc=Sn()+500,Ky&&Ya()))}function qr(n,e){var t=n.callbackNode;QB(n,e);var r=_m(n,n===zn?er:0);if(r===0)t!==null&&GO(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&GO(t),e===1)n.tag===0?X4(jI.bind(null,n)):Jk(jI.bind(null,n)),W4(function(){!(Qe&6)&&Ya()}),t=null;else{switch(Pk(r)){case 1:t=jS;break;case 4:t=Tk;break;case 16:t=vm;break;case 536870912:t=Ok;break;default:t=vm}t=QN(t,zN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function zN(n,e){if(Bg=-1,Hg=0,Qe&6)throw Error(J(327));var t=n.callbackNode;if(fc()&&n.callbackNode!==t)return null;var r=_m(n,n===zn?er:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=$m(n,r);else{e=r;var s=Qe;Qe|=2;var i=WN();(zn!==n||er!==e)&&(uo=null,xc=Sn()+500,Il(n,e));do try{y3();break}catch(a){KN(n,a)}while(!0);ZS(),Nm.current=i,Qe=s,xn!==null?e=0:(zn=null,er=0,e=Nn)}if(e!==0){if(e===2&&(s=V0(n),s!==0&&(r=s,e=pw(n,s))),e===1)throw t=Zh,Il(n,0),ua(n,r),qr(n,Sn()),t;if(e===6)ua(n,r);else{if(s=n.current.alternate,!(r&30)&&!g3(s)&&(e=$m(n,r),e===2&&(i=V0(n),i!==0&&(r=i,e=pw(n,i))),e===1))throw t=Zh,Il(n,0),ua(n,r),qr(n,Sn()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:ul(n,Hr,uo);break;case 3:if(ua(n,r),(r&130023424)===r&&(e=fC+500-Sn(),10<e)){if(_m(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){Dr(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=Y0(ul.bind(null,n,Hr,uo),e);break}ul(n,Hr,uo);break;case 4:if(ua(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var o=31-ai(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p3(r/1960))-r,10<r){n.timeoutHandle=Y0(ul.bind(null,n,Hr,uo),r);break}ul(n,Hr,uo);break;case 5:ul(n,Hr,uo);break;default:throw Error(J(329))}}}return qr(n,Sn()),n.callbackNode===t?zN.bind(null,n):null}function pw(n,e){var t=wh;return n.current.memoizedState.isDehydrated&&(Il(n,e).flags|=256),n=$m(n,e),n!==2&&(e=Hr,Hr=t,e!==null&&gw(e)),n}function gw(n){Hr===null?Hr=n:Hr.push.apply(Hr,n)}function g3(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!hi(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ua(n,e){for(e&=~hC,e&=~qy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ai(e),r=1<<t;n[t]=-1,e&=~r}}function jI(n){if(Qe&6)throw Error(J(327));fc();var e=_m(n,0);if(!(e&1))return qr(n,Sn()),null;var t=$m(n,e);if(n.tag!==0&&t===2){var r=V0(n);r!==0&&(e=r,t=pw(n,r))}if(t===1)throw t=Zh,Il(n,0),ua(n,e),qr(n,Sn()),t;if(t===6)throw Error(J(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ul(n,Hr,uo),qr(n,Sn()),null}function pC(n,e){var t=Qe;Qe|=1;try{return n(e)}finally{Qe=t,Qe===0&&(xc=Sn()+500,Ky&&Ya())}}function Vl(n){ya!==null&&ya.tag===0&&!(Qe&6)&&fc();var e=Qe;Qe|=1;var t=Bs.transition,r=Et;try{if(Bs.transition=null,Et=1,n)return n()}finally{Et=r,Bs.transition=t,Qe=e,!(Qe&6)&&Ya()}}function gC(){as=Zu.current,zt(Zu)}function Il(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,K4(t)),xn!==null)for(t=xn.return;t!==null;){var r=t;switch(qS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cm();break;case 3:Ic(),zt(Gr),zt(Er),sC();break;case 5:rC(r);break;case 4:Ic();break;case 13:zt(on);break;case 19:zt(on);break;case 10:JS(r.type._context);break;case 22:case 23:gC()}t=t.return}if(zn=n,xn=n=Aa(n.current,null),er=as=e,Nn=0,Zh=null,hC=qy=jl=0,Hr=wh=null,_l!==null){for(e=0;e<_l.length;e++)if(t=_l[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}t.pending=r}_l=null}return n}function KN(n,e){do{var t=xn;try{if(ZS(),jg.current=km,Dm){for(var r=ln.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dm=!1}if(Fl=0,Un=An=ln=null,_h=!1,qh=0,dC.current=null,t===null||t.return===null){Nn=1,Zh=e,xn=null;break}e:{var i=n,o=t.return,a=t,l=e;if(e=er,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=OI(o);if(m!==null){m.flags&=-257,II(m,o,a,i,e),m.mode&1&&TI(i,u,e),e=m,l=u;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){TI(i,u,e),mC();break e}l=Error(J(426))}}else if(Xt&&a.mode&1){var _=OI(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),II(_,o,a,i,e),XS(Pc(l,a));break e}}i=l=Pc(l,a),Nn!==4&&(Nn=2),wh===null?wh=[i]:wh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=PN(i,l,e);_I(i,y);break e;case 1:a=l;var w=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(xa===null||!xa.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=xN(i,a,e);_I(i,S);break e}}i=i.return}while(i!==null)}YN(t)}catch(I){e=I,xn===t&&t!==null&&(xn=t=t.return);continue}break}while(!0)}function WN(){var n=Nm.current;return Nm.current=km,n===null?km:n}function mC(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),zn===null||!(jl&268435455)&&!(qy&268435455)||ua(zn,er)}function $m(n,e){var t=Qe;Qe|=2;var r=WN();(zn!==n||er!==e)&&(uo=null,Il(n,e));do try{m3();break}catch(s){KN(n,s)}while(!0);if(ZS(),Qe=t,Nm.current=r,xn!==null)throw Error(J(261));return zn=null,er=0,Nn}function m3(){for(;xn!==null;)GN(xn)}function y3(){for(;xn!==null&&!BB();)GN(xn)}function GN(n){var e=XN(n.alternate,n,as);n.memoizedProps=n.pendingProps,e===null?YN(n):xn=e,dC.current=null}function YN(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=c3(t,e),t!==null){t.flags&=32767,xn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nn=6,xn=null;return}}else if(t=u3(t,e,as),t!==null){xn=t;return}if(e=e.sibling,e!==null){xn=e;return}xn=e=n}while(e!==null);Nn===0&&(Nn=5)}function ul(n,e,t){var r=Et,s=Bs.transition;try{Bs.transition=null,Et=1,v3(n,e,t,r)}finally{Bs.transition=s,Et=r}return null}function v3(n,e,t,r){do fc();while(ya!==null);if(Qe&6)throw Error(J(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(J(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(ZB(n,i),n===zn&&(xn=zn=null,er=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ig||(ig=!0,QN(vm,function(){return fc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Bs.transition,Bs.transition=null;var o=Et;Et=1;var a=Qe;Qe|=4,dC.current=null,h3(n,t),BN(t,n),F4(W0),bm=!!K0,W0=K0=null,n.current=t,f3(t),HB(),Qe=a,Et=o,Bs.transition=i}else n.current=t;if(ig&&(ig=!1,ya=n,Mm=s),i=n.pendingLanes,i===0&&(xa=null),WB(t.stateNode),qr(n,Sn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lm)throw Lm=!1,n=hw,hw=null,n;return Mm&1&&n.tag!==0&&fc(),i=n.pendingLanes,i&1?n===fw?Eh++:(Eh=0,fw=n):Eh=0,Ya(),null}function fc(){if(ya!==null){var n=Pk(Mm),e=Bs.transition,t=Et;try{if(Bs.transition=null,Et=16>n?16:n,ya===null)var r=!1;else{if(n=ya,ya=null,Mm=0,Qe&6)throw Error(J(331));var s=Qe;for(Qe|=4,ce=n.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:bh(8,d,i)}var h=d.child;if(h!==null)h.return=d,ce=h;else for(;ce!==null;){d=ce;var f=d.sibling,m=d.return;if(jN(d),d===u){ce=null;break}if(f!==null){f.return=m,ce=f;break}ce=m}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bh(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ce=y;break e}ce=i.return}}var w=n.current;for(ce=w;ce!==null;){o=ce;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ce=E;else e:for(o=w;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yy(9,a)}}catch(I){pn(a,a.return,I)}if(a===o){ce=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ce=S;break e}ce=a.return}}if(Qe=s,Ya(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(Vy,n)}catch{}r=!0}return r}finally{Et=t,Bs.transition=e}}return!1}function VI(n,e,t){e=Pc(t,e),e=PN(n,e,1),n=Pa(n,e,1),e=Dr(),n!==null&&(kf(n,1,e),qr(n,e))}function pn(n,e,t){if(n.tag===3)VI(n,n,t);else for(;e!==null;){if(e.tag===3){VI(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xa===null||!xa.has(r))){n=Pc(t,n),n=xN(e,n,1),e=Pa(e,n,1),n=Dr(),e!==null&&(kf(e,1,n),qr(e,n));break}}e=e.return}}function _3(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Dr(),n.pingedLanes|=n.suspendedLanes&t,zn===n&&(er&t)===t&&(Nn===4||Nn===3&&(er&130023424)===er&&500>Sn()-fC?Il(n,0):hC|=t),qr(n,e)}function qN(n,e){e===0&&(n.mode&1?(e=qp,qp<<=1,!(qp&130023424)&&(qp=4194304)):e=1);var t=Dr();n=xo(n,e),n!==null&&(kf(n,e,t),qr(n,t))}function b3(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),qN(n,t)}function w3(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),qN(n,t)}var XN;XN=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Gr.current)Kr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Kr=!1,l3(n,e,t);Kr=!!(n.flags&131072)}else Kr=!1,Xt&&e.flags&1048576&&eN(e,Im,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ug(n,e),n=e.pendingProps;var s=Cc(e,Er.current);hc(e,t),s=oC(null,e,r,n,s,t);var i=aC();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yr(r)?(i=!0,Tm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tC(e),s.updater=Gy,e.stateNode=s,s._reactInternals=e,tw(e,r,n,t),e=sw(null,e,r,!0,i,t)):(e.tag=0,Xt&&i&&YS(e),Pr(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Ug(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=S3(r),n=ei(r,n),s){case 0:e=rw(null,e,r,n,t);break e;case 1:e=RI(null,e,r,n,t);break e;case 11:e=PI(null,e,r,n,t);break e;case 14:e=xI(null,e,r,ei(r.type,n),t);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ei(r,s),rw(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ei(r,s),RI(n,e,r,s,t);case 3:e:{if(kN(e),n===null)throw Error(J(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oN(n,e),Rm(e,r,null,t);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pc(Error(J(423)),e),e=AI(n,e,r,t,s);break e}else if(r!==s){s=Pc(Error(J(424)),e),e=AI(n,e,r,t,s);break e}else for(cs=Ia(e.stateNode.containerInfo.firstChild),fs=e,Xt=!0,ni=null,t=sN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Tc(),r===s){e=Ro(n,e,t);break e}Pr(n,e,r,t)}e=e.child}return e;case 5:return aN(e),n===null&&Z0(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,o=s.children,G0(r,s)?o=null:i!==null&&G0(r,i)&&(e.flags|=32),DN(n,e),Pr(n,e,o,t),e.child;case 6:return n===null&&Z0(e),null;case 13:return NN(n,e,t);case 4:return nC(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Oc(e,null,r,t):Pr(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ei(r,s),PI(n,e,r,s,t);case 7:return Pr(n,e,e.pendingProps,t),e.child;case 8:return Pr(n,e,e.pendingProps.children,t),e.child;case 12:return Pr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Lt(Pm,r._currentValue),r._currentValue=o,i!==null)if(hi(i.value,o)){if(i.children===s.children&&!Gr.current){e=Ro(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=bo(-1,t&-t),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),J0(i.return,t,e),a.lanes|=t;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),J0(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pr(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,hc(e,t),s=Ws(s),r=r(s),e.flags|=1,Pr(n,e,r,t),e.child;case 14:return r=e.type,s=ei(r,e.pendingProps),s=ei(r.type,s),xI(n,e,r,s,t);case 15:return RN(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ei(r,s),Ug(n,e),e.tag=1,Yr(r)?(n=!0,Tm(e)):n=!1,hc(e,t),IN(e,r,s),tw(e,r,s,t),sw(null,e,r,!0,n,t);case 19:return LN(n,e,t);case 22:return AN(n,e,t)}throw Error(J(156,e.tag))};function QN(n,e){return Ck(n,e)}function E3(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(n,e,t,r){return new E3(n,e,t,r)}function yC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function S3(n){if(typeof n=="function")return yC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===MS)return 11;if(n===$S)return 14}return 2}function Aa(n,e){var t=n.alternate;return t===null?(t=$s(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function zg(n,e,t,r,s,i){var o=2;if(r=n,typeof n=="function")yC(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Bu:return Pl(t.children,s,i,e);case LS:o=8,s|=8;break;case T0:return n=$s(12,t,e,s|2),n.elementType=T0,n.lanes=i,n;case O0:return n=$s(13,t,e,s),n.elementType=O0,n.lanes=i,n;case I0:return n=$s(19,t,e,s),n.elementType=I0,n.lanes=i,n;case ak:return Xy(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ik:o=10;break e;case ok:o=9;break e;case MS:o=11;break e;case $S:o=14;break e;case ia:o=16,r=null;break e}throw Error(J(130,n==null?n:typeof n,""))}return e=$s(o,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function Pl(n,e,t,r){return n=$s(7,n,r,e),n.lanes=t,n}function Xy(n,e,t,r){return n=$s(22,n,r,e),n.elementType=ak,n.lanes=t,n.stateNode={isHidden:!1},n}function ib(n,e,t){return n=$s(6,n,null,e),n.lanes=t,n}function ob(n,e,t){return e=$s(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function C3(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V_(0),this.expirationTimes=V_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V_(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vC(n,e,t,r,s,i,o,a,l){return n=new C3(n,e,t,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$s(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},tC(i),n}function T3(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uu,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function ZN(n){if(!n)return Va;n=n._reactInternals;e:{if(su(n)!==n||n.tag!==1)throw Error(J(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(n.tag===1){var t=n.type;if(Yr(t))return Zk(n,t,e)}return e}function JN(n,e,t,r,s,i,o,a,l){return n=vC(t,r,!0,n,s,i,o,a,l),n.context=ZN(null),t=n.current,r=Dr(),s=Ra(t),i=bo(r,s),i.callback=e??null,Pa(t,i,s),n.current.lanes=s,kf(n,s,r),qr(n,r),n}function Qy(n,e,t,r){var s=e.current,i=Dr(),o=Ra(s);return t=ZN(t),e.context===null?e.context=t:e.pendingContext=t,e=bo(i,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Pa(s,e,o),n!==null&&(li(n,s,o,i),Fg(n,s,o)),o}function Fm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function UI(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function _C(n,e){UI(n,e),(n=n.alternate)&&UI(n,e)}var eL=typeof reportError=="function"?reportError:function(n){console.error(n)};function bC(n){this._internalRoot=n}Zy.prototype.render=bC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(J(409));Qy(n,e,null,null)};Zy.prototype.unmount=bC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Vl(function(){Qy(null,n,null,null)}),e[Po]=null}};function Zy(n){this._internalRoot=n}Zy.prototype.unstable_scheduleHydration=function(n){if(n){var e=Ak();n={blockedOn:null,target:n,priority:e};for(var t=0;t<la.length&&e!==0&&e<la[t].priority;t++);la.splice(t,0,n),t===0&&kk(n)}};function wC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Jy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function BI(){}function O3(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fm(o);i.call(u)}}var o=JN(e,r,n,0,null,!1,!1,"",BI);return n._reactRootContainer=o,n[Po]=o.current,zh(n.nodeType===8?n.parentNode:n),Vl(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Fm(l);a.call(u)}}var l=vC(n,0,!1,null,null,!1,!1,"",BI);return n._reactRootContainer=l,n[Po]=l.current,zh(n.nodeType===8?n.parentNode:n),Vl(function(){Qy(e,l,t,r)}),l}function ev(n,e,t,r,s){var i=t._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Fm(o);a.call(l)}}Qy(e,o,n,s)}else o=O3(t,e,n,s,r);return Fm(o)}xk=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=sh(e.pendingLanes);t!==0&&(VS(e,t|1),qr(e,Sn()),!(Qe&6)&&(xc=Sn()+500,Ya()))}break;case 13:Vl(function(){var r=xo(n,1);if(r!==null){var s=Dr();li(r,n,1,s)}}),_C(n,1)}};US=function(n){if(n.tag===13){var e=xo(n,134217728);if(e!==null){var t=Dr();li(e,n,134217728,t)}_C(n,134217728)}};Rk=function(n){if(n.tag===13){var e=Ra(n),t=xo(n,e);if(t!==null){var r=Dr();li(t,n,e,r)}_C(n,e)}};Ak=function(){return Et};Dk=function(n,e){var t=Et;try{return Et=n,e()}finally{Et=t}};$0=function(n,e,t){switch(e){case"input":if(R0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=zy(r);if(!s)throw Error(J(90));uk(r),R0(r,s)}}}break;case"textarea":dk(n,t);break;case"select":e=t.value,e!=null&&lc(n,!!t.multiple,e,!1)}};vk=pC;_k=Vl;var I3={usingClientEntryPoint:!1,Events:[Lf,Wu,zy,mk,yk,pC]},Fd={findFiberByHostInstance:vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P3={bundleType:Fd.bundleType,version:Fd.version,rendererPackageName:Fd.rendererPackageName,rendererConfig:Fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ek(n),n===null?null:n.stateNode},findFiberByHostInstance:Fd.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{Vy=og.inject(P3),Fi=og}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I3;ys.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wC(e))throw Error(J(200));return T3(n,e,null,t)};ys.createRoot=function(n,e){if(!wC(n))throw Error(J(299));var t=!1,r="",s=eL;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vC(n,1,!1,null,null,t,!1,r,s),n[Po]=e.current,zh(n.nodeType===8?n.parentNode:n),new bC(e)};ys.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(J(188)):(n=Object.keys(n).join(","),Error(J(268,n)));return n=Ek(e),n=n===null?null:n.stateNode,n};ys.flushSync=function(n){return Vl(n)};ys.hydrate=function(n,e,t){if(!Jy(e))throw Error(J(200));return ev(null,n,e,!0,t)};ys.hydrateRoot=function(n,e,t){if(!wC(n))throw Error(J(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",o=eL;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=JN(e,null,n,1,t??null,s,!1,i,o),n[Po]=e.current,zh(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Zy(e)};ys.render=function(n,e,t){if(!Jy(e))throw Error(J(200));return ev(null,n,e,!1,t)};ys.unmountComponentAtNode=function(n){if(!Jy(n))throw Error(J(40));return n._reactRootContainer?(Vl(function(){ev(null,null,n,!1,function(){n._reactRootContainer=null,n[Po]=null})}),!0):!1};ys.unstable_batchedUpdates=pC;ys.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Jy(t))throw Error(J(200));if(n==null||n._reactInternals===void 0)throw Error(J(38));return ev(n,e,t,!1,r)};ys.version="18.3.1-next-f1338f8080-20240426";function tL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tL)}catch(n){console.error(n)}}tL(),tk.exports=ys;var Fs=tk.exports;const Ar=Ce(Fs);var HI=Fs;S0.createRoot=HI.createRoot,S0.hydrateRoot=HI.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jh(){return Jh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jh.apply(this,arguments)}var va;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(va||(va={}));const zI="popstate";function x3(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return mw("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:rL(s)}return A3(e,t,null,n)}function Rn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nL(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R3(){return Math.random().toString(36).substr(2,8)}function KI(n,e){return{usr:n.state,key:n.key,idx:e}}function mw(n,e,t,r){return t===void 0&&(t=null),Jh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Xc(e):e,{state:t,key:e&&e.key||r||R3()})}function rL(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function A3(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=va.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Jh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=va.Pop;let _=d(),y=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:y})}function f(_,y){a=va.Push;let w=mw(v.location,_,y);u=d()+1;let E=KI(w,u),S=v.createHref(w);try{o.pushState(E,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(S)}i&&l&&l({action:a,location:v.location,delta:1})}function m(_,y){a=va.Replace;let w=mw(v.location,_,y);u=d();let E=KI(w,u),S=v.createHref(w);o.replaceState(E,"",S),i&&l&&l({action:a,location:v.location,delta:0})}function b(_){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof _=="string"?_:rL(_);return w=w.replace(/ $/,"%20"),Rn(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let v={get action(){return a},get location(){return n(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(zI,h),l=_,()=>{s.removeEventListener(zI,h),l=null}},createHref(_){return e(s,_)},createURL:b,encodeLocation(_){let y=b(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(_){return o.go(_)}};return v}var WI;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(WI||(WI={}));function D3(n,e,t){return t===void 0&&(t="/"),k3(n,e,t)}function k3(n,e,t,r){let s=typeof e=="string"?Xc(e):e,i=oL(s.pathname||"/",t);if(i==null)return null;let o=sL(n);N3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=W3(i);a=H3(o[l],u)}return a}function sL(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Rn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xl([r,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(Rn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sL(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:U3(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of iL(i.path))s(i,o,l)}),e}function iL(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=iL(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function N3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:B3(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const L3=/^:[\w-]+$/,M3=3,$3=2,F3=1,j3=10,V3=-2,GI=n=>n==="*";function U3(n,e){let t=n.split("/"),r=t.length;return t.some(GI)&&(r+=V3),e&&(r+=$3),t.filter(s=>!GI(s)).reduce((s,i)=>s+(L3.test(i)?M3:i===""?F3:j3),r)}function B3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function H3(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=z3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:xl([i,h.pathname]),pathnameBase:X3(xl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=xl([i,h.pathnameBase]))}return o}function z3(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=K3(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=a[h];return m&&!b?u[f]=void 0:u[f]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function K3(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),nL(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function W3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nL(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function oL(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function G3(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Xc(n):n;return{pathname:t?t.startsWith("/")?t:Y3(t,e):e,search:Q3(r),hash:Z3(s)}}function Y3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ab(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function aL(n,e){let t=q3(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function lL(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Xc(n):(s=Jh({},n),Rn(!s.pathname||!s.pathname.includes("?"),ab("?","pathname","search",s)),Rn(!s.pathname||!s.pathname.includes("#"),ab("#","pathname","hash",s)),Rn(!s.search||!s.search.includes("#"),ab("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=G3(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const xl=n=>n.join("/").replace(/\/\/+/g,"/"),X3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Q3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Z3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function J3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const uL=["post","put","patch","delete"];new Set(uL);const e5=["get",...uL];new Set(e5);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ef.apply(this,arguments)}const EC=D.createContext(null),t5=D.createContext(null),$f=D.createContext(null),tv=D.createContext(null),iu=D.createContext({outlet:null,matches:[],isDataRoute:!1}),cL=D.createContext(null);function Ff(){return D.useContext(tv)!=null}function nv(){return Ff()||Rn(!1),D.useContext(tv).location}function dL(n){D.useContext($f).static||D.useLayoutEffect(n)}function hL(){let{isDataRoute:n}=D.useContext(iu);return n?p5():n5()}function n5(){Ff()||Rn(!1);let n=D.useContext(EC),{basename:e,future:t,navigator:r}=D.useContext($f),{matches:s}=D.useContext(iu),{pathname:i}=nv(),o=JSON.stringify(aL(s,t.v7_relativeSplatPath)),a=D.useRef(!1);return dL(()=>{a.current=!0}),D.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=lL(u,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:xl([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,n])}function r5(n,e){return s5(n,e)}function s5(n,e,t,r){Ff()||Rn(!1);let{navigator:s}=D.useContext($f),{matches:i}=D.useContext(iu),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=nv(),d;if(e){var h;let _=typeof e=="string"?Xc(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||Rn(!1),d=_}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=D3(n,{pathname:m}),v=u5(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:xl([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:xl([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,t,r);return e&&v?D.createElement(tv.Provider,{value:{location:ef({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:va.Pop}},v):v}function i5(){let n=f5(),e=J3(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:s},t):null,null)}const o5=D.createElement(i5,null);class a5 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(iu.Provider,{value:this.props.routeContext},D.createElement(cL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l5(n){let{routeContext:e,match:t,children:r}=n,s=D.useContext(EC);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(iu.Provider,{value:e},r)}function u5(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(s=t)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Rn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=t,b=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,b=!1,v=null,_=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||o5,l&&(u<0&&f===0?(b=!0,_=null):u===f&&(b=!0,_=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),w=()=>{let E;return m?E=v:b?E=_:h.route.Component?E=D.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,D.createElement(l5,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:t!=null},children:E})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?D.createElement(a5,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var fL=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(fL||{}),jm=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(jm||{});function c5(n){let e=D.useContext(EC);return e||Rn(!1),e}function d5(n){let e=D.useContext(t5);return e||Rn(!1),e}function h5(n){let e=D.useContext(iu);return e||Rn(!1),e}function pL(n){let e=h5(),t=e.matches[e.matches.length-1];return t.route.id||Rn(!1),t.route.id}function f5(){var n;let e=D.useContext(cL),t=d5(jm.UseRouteError),r=pL(jm.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function p5(){let{router:n}=c5(fL.UseNavigateStable),e=pL(jm.UseNavigateStable),t=D.useRef(!1);return dL(()=>{t.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,ef({fromRouteId:e},i)))},[n,e])}const YI={};function g5(n,e){YI[e]||(YI[e]=!0,console.warn(e))}const qI=(n,e,t)=>g5(n," React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function m5(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&qI("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&!e&&qI("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function yw(n){let{to:e,replace:t,state:r,relative:s}=n;Ff()||Rn(!1);let{future:i,static:o}=D.useContext($f),{matches:a}=D.useContext(iu),{pathname:l}=nv(),u=hL(),d=lL(e,aL(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return D.useEffect(()=>u(JSON.parse(h),{replace:t,state:r,relative:s}),[u,h,s,t,r]),null}function cl(n){Rn(!1)}function y5(n){let{basename:e="/",children:t=null,location:r,navigationType:s=va.Pop,navigator:i,static:o=!1,future:a}=n;Ff()&&Rn(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:i,static:o,future:ef({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Xc(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:b="default"}=r,v=D.useMemo(()=>{let _=oL(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:m,key:b},navigationType:s}},[l,d,h,f,m,b,s]);return v==null?null:D.createElement($f.Provider,{value:u},D.createElement(tv.Provider,{children:t,value:v}))}function XI(n){let{children:e,location:t}=n;return r5(vw(e),t)}new Promise(()=>{});function vw(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){t.push.apply(t,vw(r.props.children,i));return}r.type!==cl&&Rn(!1),!r.props.index||!r.props.children||Rn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vw(r.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const v5="6";try{window.__reactRouterVersion=v5}catch{}const _5="startTransition",QI=_B[_5];function b5(n){let{basename:e,children:t,future:r,window:s}=n,i=D.useRef();i.current==null&&(i.current=x3({window:s,v5Compat:!0}));let o=i.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=D.useCallback(h=>{u&&QI?QI(()=>l(h)):l(h)},[l,u]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.useEffect(()=>m5(r),[r]),D.createElement(y5,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var ZI;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ZI||(ZI={}));var JI;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(JI||(JI={}));function Ze(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var w5={};function rv(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:w5}var gL=Object.assign,Vm=Object.getOwnPropertyDescriptor,Vi=Object.defineProperty,sv=Object.prototype,_w=[];Object.freeze(_w);var mL={};Object.freeze(mL);var E5=typeof Proxy<"u",S5=Object.toString();function yL(){E5||Ze("Proxy not available")}function vL(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var Ju=function(){};function fi(n){return typeof n=="function"}function Ul(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function iv(n){return n!==null&&typeof n=="object"}function Ao(n){if(!iv(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===S5}function _L(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function jf(n,e,t){Vi(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function bL(n,e,t){Vi(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function ou(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(r){return iv(r)&&r[t]===!0}}function Qc(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function C5(n){var e=Object.getPrototypeOf(n),t=Object.getPrototypeOf(e),r=Object.getPrototypeOf(t);return r===null}function ho(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var wL=typeof Object.getOwnPropertySymbols<"u";function T5(n){var e=Object.keys(n);if(!wL)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(r){return sv.propertyIsEnumerable.call(n,r)})):e}var Rc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:wL?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function EL(n){return n===null?null:typeof n=="object"?""+n:n}function wo(n,e){return sv.hasOwnProperty.call(n,e)}var O5=Object.getOwnPropertyDescriptors||function(e){var t={};return Rc(e).forEach(function(r){t[r]=Vm(e,r)}),t};function ls(n,e){return!!(n&e)}function us(n,e,t){return t?n|=e:n&=~e,n}function eP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function I5(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,x5(r.key),r)}}function Zc(n,e,t){return e&&I5(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ec(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=R5(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bl.apply(null,arguments)}function SL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,bw(n,e)}function bw(n,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},bw(n,e)}function P5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function x5(n){var e=P5(n,"string");return typeof e=="symbol"?e:e+""}function R5(n,e){if(n){if(typeof n=="string")return eP(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eP(n,e):void 0}}var Ni=Symbol("mobx-stored-annotations");function Ui(n){function e(t,r){if(Uf(r))return n.decorate_20223_(t,r);Vf(t,r,n)}return Object.assign(e,n)}function Vf(n,e,t){wo(n,Ni)||jf(n,Ni,Bl({},n[Ni])),j5(t)||(n[Ni][e]=t)}function A5(n){return wo(n,Ni)||jf(n,Ni,Bl({},n[Ni])),n[Ni]}function Uf(n){return typeof n=="object"&&typeof n.kind=="string"}var Se=Symbol("mobx administration"),qa=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=lt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return jL(this)},e.reportChanged=function(){js(),VL(this),Vs()},e.toString=function(){return this.name_},Zc(n,[{key:"isBeingObserved",get:function(){return ls(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=us(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ls(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=us(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ls(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=us(this.flags_,n.diffValueMask_,r===1)}}])}();qa.isBeingObservedMask_=1;qa.isPendingUnobservationMask_=2;qa.diffValueMask_=4;var SC=ou("Atom",qa);function CL(n,e,t){e===void 0&&(e=Ju),t===void 0&&(t=Ju);var r=new qa(n);return e!==Ju&&HH(r,e),t!==Ju&&KL(r,t),r}function D5(n,e){return n===e}function k5(n,e){return RC(n,e)}function N5(n,e){return RC(n,e,1)}function L5(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Um={identity:D5,structural:k5,default:L5,shallow:N5};function Hl(n,e,t){return XL(n)?n:Array.isArray(n)?Zn.array(n,{name:t}):Ao(n)?Zn.object(n,void 0,{name:t}):Qc(n)?Zn.map(n,{name:t}):ho(n)?Zn.set(n,{name:t}):typeof n=="function"&&!nf(n)&&!rf(n)?_L(n)?Ac(n):tf(t,n):n}function M5(n,e,t){if(n==null||dv(n)||cv(n)||lu(n)||xi(n))return n;if(Array.isArray(n))return Zn.array(n,{name:t,deep:!1});if(Ao(n))return Zn.object(n,void 0,{name:t,deep:!1});if(Qc(n))return Zn.map(n,{name:t,deep:!1});if(ho(n))return Zn.set(n,{name:t,deep:!1})}function ov(n){return n}function $5(n,e){return RC(n,e)?e:n}var F5="override";function j5(n){return n.annotationType_===F5}function Bf(n,e){return{annotationType_:n,options_:e,make_:V5,extend_:U5,decorate_20223_:B5}}function V5(n,e,t,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(n,e,t,!1)===null?0:1;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(nf(t.value))return 1;var i=TL(n,this,e,t,!1);return Vi(r,e,i),2}function U5(n,e,t,r){var s=TL(n,this,e,t);return n.defineProperty_(e,s,r)}function B5(n,e){var t=e.kind,r=e.name,s=e.addInitializer,i=this,o=function(u){var d,h,f,m;return zl((d=(h=i.options_)==null?void 0:h.name)!=null?d:r.toString(),u,(f=(m=i.options_)==null?void 0:m.autoAction)!=null?f:!1)};if(t=="field")return function(l){var u,d=l;return nf(d)||(d=o(d)),(u=i.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(t=="method"){var a;return nf(n)||(n=o(n)),(a=this.options_)!=null&&a.bound&&s(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),n}Ze("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+t+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function H5(n,e,t,r){e.annotationType_,r.value}function TL(n,e,t,r,s){var i,o,a,l,u,d,h;s===void 0&&(s=ie.safeDescriptors),H5(n,e,t,r);var f=r.value;if((i=e.options_)!=null&&i.bound){var m;f=f.bind((m=n.proxy_)!=null?m:n.target_)}return{value:zl((o=(a=e.options_)==null?void 0:a.name)!=null?o:t.toString(),f,(l=(u=e.options_)==null?void 0:u.autoAction)!=null?l:!1,(d=e.options_)!=null&&d.bound?(h=n.proxy_)!=null?h:n.target_:void 0),configurable:s?n.isPlainObject_:!0,enumerable:!1,writable:!s}}function OL(n,e){return{annotationType_:n,options_:e,make_:z5,extend_:K5,decorate_20223_:W5}}function z5(n,e,t,r){var s;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!wo(n.target_,e)||!rf(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(rf(t.value))return 1;var i=IL(n,this,e,t,!1,!1);return Vi(r,e,i),2}function K5(n,e,t,r){var s,i=IL(n,this,e,t,(s=this.options_)==null?void 0:s.bound);return n.defineProperty_(e,i,r)}function W5(n,e){var t,r=e.name,s=e.addInitializer;return rf(n)||(n=Ac(n)),(t=this.options_)!=null&&t.bound&&s(function(){var i=this,o=i[r].bind(i);o.isMobXFlow=!0,i[r]=o}),n}function G5(n,e,t,r){e.annotationType_,r.value}function IL(n,e,t,r,s,i){i===void 0&&(i=ie.safeDescriptors),G5(n,e,t,r);var o=r.value;if(rf(o)||(o=Ac(o)),s){var a;o=o.bind((a=n.proxy_)!=null?a:n.target_),o.isMobXFlow=!0}return{value:o,configurable:i?n.isPlainObject_:!0,enumerable:!1,writable:!i}}function CC(n,e){return{annotationType_:n,options_:e,make_:Y5,extend_:q5,decorate_20223_:X5}}function Y5(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function q5(n,e,t,r){return Q5(n,this,e,t),n.defineComputedProperty_(e,Bl({},this.options_,{get:t.get,set:t.set}),r)}function X5(n,e){var t=this,r=e.name,s=e.addInitializer;return s(function(){var i=uu(this)[Se],o=Bl({},t.options_,{get:n,context:this});o.name||(o.name="ObservableObject."+r.toString()),i.values_.set(r,new pi(o))}),function(){return this[Se].getObservablePropValue_(r)}}function Q5(n,e,t,r){e.annotationType_,r.get}function av(n,e){return{annotationType_:n,options_:e,make_:Z5,extend_:J5,decorate_20223_:eH}}function Z5(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function J5(n,e,t,r){var s,i;return tH(n,this),n.defineObservableProperty_(e,t.value,(s=(i=this.options_)==null?void 0:i.enhancer)!=null?s:Hl,r)}function eH(n,e){var t=this,r=e.kind,s=e.name,i=new WeakSet;function o(a,l){var u,d,h=uu(a)[Se],f=new Rl(l,(u=(d=t.options_)==null?void 0:d.enhancer)!=null?u:Hl,"ObservableObject."+s.toString(),!1);h.values_.set(s,f),i.add(a)}if(r=="accessor")return{get:function(){return i.has(this)||o(this,n.get.call(this)),this[Se].getObservablePropValue_(s)},set:function(l){return i.has(this)||o(this,l),this[Se].setObservablePropValue_(s,l)},init:function(l){return i.has(this)||o(this,l),l}}}function tH(n,e,t,r){e.annotationType_}var nH="true",rH=PL();function PL(n){return{annotationType_:nH,options_:n,make_:sH,extend_:iH,decorate_20223_:oH}}function sH(n,e,t,r){var s,i;if(t.get)return lv.make_(n,e,t,r);if(t.set){var o=zl(e.toString(),t.set);return r===n.target_?n.defineProperty_(e,{configurable:ie.safeDescriptors?n.isPlainObject_:!0,set:o})===null?0:2:(Vi(r,e,{configurable:!0,set:o}),2)}if(r!==n.target_&&typeof t.value=="function"){var a;if(_L(t.value)){var l,u=(l=this.options_)!=null&&l.autoBind?Ac.bound:Ac;return u.make_(n,e,t,r)}var d=(a=this.options_)!=null&&a.autoBind?tf.bound:tf;return d.make_(n,e,t,r)}var h=((s=this.options_)==null?void 0:s.deep)===!1?Zn.ref:Zn;if(typeof t.value=="function"&&(i=this.options_)!=null&&i.autoBind){var f;t.value=t.value.bind((f=n.proxy_)!=null?f:n.target_)}return h.make_(n,e,t,r)}function iH(n,e,t,r){var s,i;if(t.get)return lv.extend_(n,e,t,r);if(t.set)return n.defineProperty_(e,{configurable:ie.safeDescriptors?n.isPlainObject_:!0,set:zl(e.toString(),t.set)},r);if(typeof t.value=="function"&&(s=this.options_)!=null&&s.autoBind){var o;t.value=t.value.bind((o=n.proxy_)!=null?o:n.target_)}var a=((i=this.options_)==null?void 0:i.deep)===!1?Zn.ref:Zn;return a.extend_(n,e,t,r)}function oH(n,e){Ze("'"+this.annotationType_+"' cannot be used as a decorator")}var aH="observable",lH="observable.ref",uH="observable.shallow",cH="observable.struct",xL={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(xL);function ag(n){return n||xL}var ww=av(aH),dH=av(lH,{enhancer:ov}),hH=av(uH,{enhancer:M5}),fH=av(cH,{enhancer:$5}),RL=Ui(ww);function lg(n){return n.deep===!0?Hl:n.deep===!1?ov:gH(n.defaultDecorator)}function pH(n){var e;return n?(e=n.defaultDecorator)!=null?e:PL(n):void 0}function gH(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:Hl}function AL(n,e,t){if(Uf(e))return ww.decorate_20223_(n,e);if(Ul(e)){Vf(n,e,ww);return}return XL(n)?n:Ao(n)?Zn.object(n,e,t):Array.isArray(n)?Zn.array(n,e):Qc(n)?Zn.map(n,e):ho(n)?Zn.set(n,e):typeof n=="object"&&n!==null?n:Zn.box(n,e)}gL(AL,RL);var mH={box:function(e,t){var r=ag(t);return new Rl(e,lg(r),r.name,!0,r.equals)},array:function(e,t){var r=ag(t);return(ie.useProxies===!1||r.proxy===!1?pz:sz)(e,lg(r),r.name)},map:function(e,t){var r=ag(t);return new ZL(e,lg(r),r.name)},set:function(e,t){var r=ag(t);return new JL(e,lg(r),r.name)},object:function(e,t,r){return Xa(function(){return GL(ie.useProxies===!1||(r==null?void 0:r.proxy)===!1?uu({},r):JH({},r),e,t)})},ref:Ui(dH),shallow:Ui(hH),deep:RL,struct:Ui(fH)},Zn=gL(AL,mH),DL="computed",yH="computed.struct",Ew=CC(DL),vH=CC(yH,{equals:Um.structural}),lv=function(e,t){if(Uf(t))return Ew.decorate_20223_(e,t);if(Ul(t))return Vf(e,t,Ew);if(Ao(e))return Ui(CC(DL,e));var r=Ao(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new pi(r)};Object.assign(lv,Ew);lv.struct=Ui(vH);var tP,nP,Bm=0,_H=1,bH=(tP=(nP=Vm(function(){},"name"))==null?void 0:nP.configurable)!=null?tP:!1,rP={value:"action",configurable:!0,writable:!1,enumerable:!1};function zl(n,e,t,r){t===void 0&&(t=!1);function s(){return wH(n,t,e,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return e.toString()},bH&&(rP.value=n,Vi(s,"name",rP)),s}function wH(n,e,t,r,s){var i=EH(n,e);try{return t.apply(r,s)}catch(o){throw i.error_=o,o}finally{SH(i)}}function EH(n,e,t,r){var s=!1,i=0,o=ie.trackingDerivation,a=!e||!o;js();var l=ie.allowStateChanges;a&&(au(),l=TC(!0));var u=IC(!0),d={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:s,startTime_:i,actionId_:_H++,parentActionId_:Bm};return Bm=d.actionId_,d}function SH(n){Bm!==n.actionId_&&Ze(30),Bm=n.parentActionId_,n.error_!==void 0&&(ie.suppressReactionErrors=!0),OC(n.prevAllowStateChanges_),Sh(n.prevAllowStateReads_),Vs(),n.runAsAction_&&Eo(n.prevDerivation_),ie.suppressReactionErrors=!1}function TC(n){var e=ie.allowStateChanges;return ie.allowStateChanges=n,e}function OC(n){ie.allowStateChanges=n}var Rl=function(n){function e(r,s,i,o,a){var l;return i===void 0&&(i="ObservableValue"),a===void 0&&(a=Um.default),l=n.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=s,l.name_=i,l.equals=a,l.value_=s(r,void 0,i),l}SL(e,n);var t=e.prototype;return t.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},t.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==ie.UNCHANGED&&this.setNewValue_(s)},t.prepareNewValue_=function(s){if(ks(this)){var i=Ns(this,{object:this,type:Bi,newValue:s});if(!i)return ie.UNCHANGED;s=i.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?ie.UNCHANGED:s},t.setNewValue_=function(s){var i=this.value_;this.value_=s,this.reportChanged(),ui(this)&&ci(this,{type:Bi,object:this,newValue:s,oldValue:i})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(s){return Hf(this,s)},t.observe_=function(s,i){return i&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:Bi,newValue:this.value_,oldValue:void 0}),zf(this,s)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return EL(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},e}(qa),pi=function(){function n(t){this.dependenciesState_=lt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=lt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new zm(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Hm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||Ze(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=zl("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Um.structural:Um.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){PH(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&Ze(32,this.name_,this.derivation),ie.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Sw(this)&&(this.warnAboutUntrackedRead_(),js(),this.value_=this.computeValue_(!1),Vs());else if(jL(this),Sw(this)){var r=ie.trackingContext;this.keepAlive_&&!r&&(ie.trackingContext=this),this.trackAndCompute()&&IH(this),ie.trackingContext=r}var s=this.value_;if(Kg(s))throw s.cause;return s},e.set=function(r){if(this.setter_){this.isRunningSetter&&Ze(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Ze(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===lt.NOT_TRACKING_,i=this.computeValue_(!0),o=s||Kg(r)||Kg(i)||!this.equals_(r,i);return o&&(this.value_=i),o},e.computeValue_=function(r){this.isComputing=!0;var s=TC(!1),i;if(r)i=kL(this,this.derivation,this.scope_);else if(ie.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(o){i=new zm(o)}return OC(s),this.isComputing=!1,i},e.suspend_=function(){this.keepAlive_||(Cw(this),this.value_=void 0)},e.observe_=function(r,s){var i=this,o=!0,a=void 0;return FH(function(){var l=i.get();if(!o||s){var u=au();r({observableKind:"computed",debugObjectName:i.name_,type:Bi,object:i,newValue:l,oldValue:a}),Eo(u)}o=!1,a=l})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return EL(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Zc(n,[{key:"isComputing",get:function(){return ls(this.flags_,n.isComputingMask_)},set:function(r){this.flags_=us(this.flags_,n.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return ls(this.flags_,n.isRunningSetterMask_)},set:function(r){this.flags_=us(this.flags_,n.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return ls(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=us(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ls(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=us(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ls(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=us(this.flags_,n.diffValueMask_,r===1)}}])}();pi.isComputingMask_=1;pi.isRunningSetterMask_=2;pi.isBeingObservedMask_=4;pi.isPendingUnobservationMask_=8;pi.diffValueMask_=16;var uv=ou("ComputedValue",pi),lt;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(lt||(lt={}));var Hm;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(Hm||(Hm={}));var zm=function(e){this.cause=void 0,this.cause=e};function Kg(n){return n instanceof zm}function Sw(n){switch(n.dependenciesState_){case lt.UP_TO_DATE_:return!1;case lt.NOT_TRACKING_:case lt.STALE_:return!0;case lt.POSSIBLY_STALE_:{for(var e=IC(!0),t=au(),r=n.observing_,s=r.length,i=0;i<s;i++){var o=r[i];if(uv(o)){if(ie.disableErrorBoundaries)o.get();else try{o.get()}catch{return Eo(t),Sh(e),!0}if(n.dependenciesState_===lt.STALE_)return Eo(t),Sh(e),!0}}return LL(n),Eo(t),Sh(e),!1}}}function kL(n,e,t){var r=IC(!0);LL(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++ie.runId;var s=ie.trackingDerivation;ie.trackingDerivation=n,ie.inBatch++;var i;if(ie.disableErrorBoundaries===!0)i=e.call(t);else try{i=e.call(t)}catch(o){i=new zm(o)}return ie.inBatch--,ie.trackingDerivation=s,CH(n),Sh(r),i}function CH(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,r=lt.UP_TO_DATE_,s=0,i=n.unboundDepsCount_,o=0;o<i;o++){var a=t[o];a.diffValue===0&&(a.diffValue=1,s!==o&&(t[s]=a),s++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(t.length=s,n.newObserving_=null,i=e.length;i--;){var l=e[i];l.diffValue===0&&$L(l,n),l.diffValue=0}for(;s--;){var u=t[s];u.diffValue===1&&(u.diffValue=0,OH(u,n))}r!==lt.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function Cw(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)$L(e[t],n);n.dependenciesState_=lt.NOT_TRACKING_}function NL(n){var e=au();try{return n()}finally{Eo(e)}}function au(){var n=ie.trackingDerivation;return ie.trackingDerivation=null,n}function Eo(n){ie.trackingDerivation=n}function IC(n){var e=ie.allowStateReads;return ie.allowStateReads=n,e}function Sh(n){ie.allowStateReads=n}function LL(n){if(n.dependenciesState_!==lt.UP_TO_DATE_){n.dependenciesState_=lt.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=lt.UP_TO_DATE_}}var Wg=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Gg=!0,ML=!1,ie=function(){var n=rv();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(Gg=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new Wg().version&&(Gg=!1),Gg?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new Wg):(setTimeout(function(){ML||Ze(35)},1),new Wg)}();function TH(){if((ie.pendingReactions.length||ie.inBatch||ie.isRunningReactions)&&Ze(36),ML=!0,Gg){var n=rv();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),ie=new Wg}}function OH(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function $L(n,e){n.observers_.delete(e),n.observers_.size===0&&FL(n)}function FL(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,ie.pendingUnobservations.push(n))}function js(){ie.inBatch++}function Vs(){if(--ie.inBatch===0){UL();for(var n=ie.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation=!1,t.observers_.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBUO()),t instanceof pi&&t.suspend_())}ie.pendingUnobservations=[]}}function jL(n){var e=ie.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved&&ie.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&ie.inBatch>0&&FL(n),!1)}function VL(n){n.lowestObserverState_!==lt.STALE_&&(n.lowestObserverState_=lt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===lt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=lt.STALE_}))}function IH(n){n.lowestObserverState_!==lt.STALE_&&(n.lowestObserverState_=lt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===lt.POSSIBLY_STALE_?e.dependenciesState_=lt.STALE_:e.dependenciesState_===lt.UP_TO_DATE_&&(n.lowestObserverState_=lt.UP_TO_DATE_)}))}function PH(n){n.lowestObserverState_===lt.UP_TO_DATE_&&(n.lowestObserverState_=lt.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===lt.UP_TO_DATE_&&(e.dependenciesState_=lt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Do=function(){function n(t,r,s,i){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=lt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Hm.NONE,this.name_=t,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=i}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ie.pendingReactions.push(this),UL())},e.runReaction_=function(){if(!this.isDisposed){js(),this.isScheduled=!1;var r=ie.trackingContext;if(ie.trackingContext=this,Sw(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}ie.trackingContext=r,Vs()}},e.track=function(r){if(!this.isDisposed){js(),this.isRunning=!0;var s=ie.trackingContext;ie.trackingContext=this;var i=kL(this,r,void 0);ie.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Cw(this),Kg(i)&&this.reportExceptionInDerivation_(i.cause),Vs()}},e.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ie.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";ie.suppressReactionErrors||console.error(i,r),ie.globalReactionErrorHandlers.forEach(function(o){return o(r,s)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(js(),Cw(this),Vs()))},e.getDisposer_=function(r){var s=this,i=function o(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[Se]=this,i},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},Zc(n,[{key:"isDisposed",get:function(){return ls(this.flags_,n.isDisposedMask_)},set:function(r){this.flags_=us(this.flags_,n.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return ls(this.flags_,n.isScheduledMask_)},set:function(r){this.flags_=us(this.flags_,n.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return ls(this.flags_,n.isTrackPendingMask_)},set:function(r){this.flags_=us(this.flags_,n.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return ls(this.flags_,n.isRunningMask_)},set:function(r){this.flags_=us(this.flags_,n.isRunningMask_,r)}},{key:"diffValue",get:function(){return ls(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=us(this.flags_,n.diffValueMask_,r===1)}}])}();Do.isDisposedMask_=1;Do.isScheduledMask_=2;Do.isTrackPendingMask_=4;Do.isRunningMask_=8;Do.diffValueMask_=16;var xH=100,Tw=function(e){return e()};function UL(){ie.inBatch>0||ie.isRunningReactions||Tw(RH)}function RH(){ie.isRunningReactions=!0;for(var n=ie.pendingReactions,e=0;n.length>0;){++e===xH&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),r=0,s=t.length;r<s;r++)t[r].runReaction_()}ie.isRunningReactions=!1}var Km=ou("Reaction",Do);function AH(n){var e=Tw;Tw=function(r){return n(function(){return e(r)})}}function Ch(){return!1}function DH(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var BL="action",kH="action.bound",HL="autoAction",NH="autoAction.bound",LH="<unnamed action>",Ow=Bf(BL),MH=Bf(kH,{bound:!0}),Iw=Bf(HL,{autoAction:!0}),$H=Bf(NH,{autoAction:!0,bound:!0});function zL(n){var e=function(r,s){if(fi(r))return zl(r.name||LH,r,n);if(fi(s))return zl(r,s,n);if(Uf(s))return(n?Iw:Ow).decorate_20223_(r,s);if(Ul(s))return Vf(r,s,n?Iw:Ow);if(Ul(r))return Ui(Bf(n?HL:BL,{name:r,autoAction:n}))};return e}var tc=zL(!1);Object.assign(tc,Ow);var tf=zL(!0);Object.assign(tf,Iw);tc.bound=Ui(MH);tf.bound=Ui($H);function nf(n){return fi(n)&&n.isMobxAction===!0}function FH(n,e){var t,r,s,i;e===void 0&&(e=mL);var o=(t=(r=e)==null?void 0:r.name)!=null?t:"Autorun",a=!e.scheduler&&!e.delay,l;if(a)l=new Do(o,function(){this.track(h)},e.onError,e.requiresObservable);else{var u=VH(e),d=!1;l=new Do(o,function(){d||(d=!0,u(function(){d=!1,l.isDisposed||l.track(h)}))},e.onError,e.requiresObservable)}function h(){n(l)}return(s=e)!=null&&(s=s.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((i=e)==null?void 0:i.signal)}var jH=function(e){return e()};function VH(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:jH}var UH="onBO",BH="onBUO";function HH(n,e,t){return WL(UH,n,e,t)}function KL(n,e,t){return WL(BH,n,e,t)}function WL(n,e,t,r){var s=Ym(e),i=fi(r)?r:t,o=n+"L";return s[o]?s[o].add(i):s[o]=new Set([i]),function(){var a=s[o];a&&(a.delete(i),a.size===0&&delete s[o])}}var zH="never",ug="always",KH="observed";function WH(n){n.isolateGlobalState===!0&&TH();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(ie.useProxies=e===ug?!0:e===zH?!1:typeof Proxy<"u"),e==="ifavailable"&&(ie.verifyProxies=!0),t!==void 0){var r=t===ug?ug:t===KH;ie.enforceActions=r,ie.allowStateChanges=!(r===!0||r===ug)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in n&&(ie[s]=!!n[s])}),ie.allowStateReads=!ie.observableRequiresReaction,n.reactionScheduler&&AH(n.reactionScheduler)}function GL(n,e,t,r){var s=O5(e);return Xa(function(){var i=uu(n,r)[Se];Rc(s).forEach(function(o){i.extend_(o,s[o],t&&o in t?t[o]:!0)})}),n}function GH(n,e){return YL(Ym(n,e))}function YL(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=YH(n.observing_).map(YL)),e}function YH(n){return Array.from(new Set(n))}var qH=0;function qL(){this.message="FLOW_CANCELLED"}qL.prototype=Object.create(Error.prototype);var lb=OL("flow"),XH=OL("flow.bound",{bound:!0}),Ac=Object.assign(function(e,t){if(Uf(t))return lb.decorate_20223_(e,t);if(Ul(t))return Vf(e,t,lb);var r=e,s=r.name||"<unnamed flow>",i=function(){var a=this,l=arguments,u=++qH,d=tc(s+" - runid: "+u+" - init",r).apply(a,l),h,f=void 0,m=new Promise(function(b,v){var _=0;h=v;function y(S){f=void 0;var I;try{I=tc(s+" - runid: "+u+" - yield "+_++,d.next).call(d,S)}catch(x){return v(x)}E(I)}function w(S){f=void 0;var I;try{I=tc(s+" - runid: "+u+" - yield "+_++,d.throw).call(d,S)}catch(x){return v(x)}E(I)}function E(S){if(fi(S==null?void 0:S.then)){S.then(E,v);return}return S.done?b(S.value):(f=Promise.resolve(S.value),f.then(y,w))}y(void 0)});return m.cancel=tc(s+" - runid: "+u+" - cancel",function(){try{f&&sP(f);var b=d.return(void 0),v=Promise.resolve(b.value);v.then(Ju,Ju),sP(v),h(new qL)}catch(_){h(_)}}),m};return i.isMobXFlow=!0,i},lb);Ac.bound=Ui(XH);function sP(n){fi(n.cancel)&&n.cancel()}function rf(n){return(n==null?void 0:n.isMobXFlow)===!0}function QH(n,e){return n?dv(n)||!!n[Se]||SC(n)||Km(n)||uv(n):!1}function XL(n){return QH(n)}function fo(n,e){e===void 0&&(e=void 0),js();try{return n.apply(e)}finally{Vs()}}function Cu(n){return n[Se]}var ZH={has:function(e,t){return Cu(e).has_(t)},get:function(e,t){return Cu(e).get_(t)},set:function(e,t,r){var s;return Ul(t)?(s=Cu(e).set_(t,r,!0))!=null?s:!0:!1},deleteProperty:function(e,t){var r;return Ul(t)?(r=Cu(e).delete_(t,!0))!=null?r:!0:!1},defineProperty:function(e,t,r){var s;return(s=Cu(e).defineProperty_(t,r))!=null?s:!0},ownKeys:function(e){return Cu(e).ownKeys_()},preventExtensions:function(e){Ze(13)}};function JH(n,e){var t,r;return yL(),n=uu(n,e),(r=(t=n[Se]).proxy_)!=null?r:t.proxy_=new Proxy(n,ZH)}function ks(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function Hf(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),vL(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function Ns(n,e){var t=au();try{for(var r=[].concat(n.interceptors_||[]),s=0,i=r.length;s<i&&(e=r[s](e),e&&!e.type&&Ze(14),!!e);s++);return e}finally{Eo(t)}}function ui(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function zf(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),vL(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function ci(n,e){var t=au(),r=n.changeListeners_;if(r){r=r.slice();for(var s=0,i=r.length;s<i;s++)r[s](e);Eo(t)}}function ez(n,e,t){return Xa(function(){var r,s=uu(n,t)[Se];(r=e)!=null||(e=A5(n)),Rc(e).forEach(function(i){return s.make_(i,e[i])})}),n}var ub=Symbol("mobx-keys");function tz(n,e,t){return Ao(n)?GL(n,n,e,t):(Xa(function(){var r=uu(n,t)[Se];if(!n[ub]){var s=Object.getPrototypeOf(n),i=new Set([].concat(Rc(n),Rc(s)));i.delete("constructor"),i.delete(Se),jf(s,ub,i)}n[ub].forEach(function(o){return r.make_(o,e&&o in e?e[o]:!0)})}),n)}var iP="splice",Bi="update",nz=1e4,rz={get:function(e,t){var r=e[Se];return t===Se?r:t==="length"?r.getArrayLength_():typeof t=="string"&&!isNaN(t)?r.get_(parseInt(t)):wo(Wm,t)?Wm[t]:e[t]},set:function(e,t,r){var s=e[Se];return t==="length"&&s.setArrayLength_(r),typeof t=="symbol"||isNaN(t)?e[t]=r:s.set_(parseInt(t),r),!0},preventExtensions:function(){Ze(15)}},PC=function(){function n(t,r,s,i){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=i,this.atom_=new qa(t),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return Hf(this,r)},e.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),zf(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Ze("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var i=new Array(r-s),o=0;o<r-s;o++)i[o]=void 0;this.spliceWithArray_(s,0,i)}else this.spliceWithArray_(r,s-r)},e.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&Ze(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&rM(r+s+1)},e.spliceWithArray_=function(r,s,i){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?s=a-r:s==null?s=0:s=Math.max(0,Math.min(s,a-r)),i===void 0&&(i=_w),ks(this)){var l=Ns(this,{object:this.proxy_,type:iP,index:r,removedCount:s,added:i});if(!l)return _w;s=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(h){return o.enhancer_(h,void 0)}),this.legacyMode_){var u=i.length-s;this.updateArrayLength_(a,u)}var d=this.spliceItemsIntoValues_(r,s,i);return(s!==0||i.length!==0)&&this.notifyArraySplice_(r,i,d),this.dehanceValues_(d)},e.spliceItemsIntoValues_=function(r,s,i){if(i.length<nz){var o;return(o=this.values_).splice.apply(o,[r,s].concat(i))}else{var a=this.values_.slice(r,r+s),l=this.values_.slice(r+s);this.values_.length+=i.length-s;for(var u=0;u<i.length;u++)this.values_[r+u]=i[u];for(var d=0;d<l.length;d++)this.values_[r+i.length+d]=l[d];return a}},e.notifyArrayChildUpdate_=function(r,s,i){var o=!this.owned_&&Ch(),a=ui(this),l=a||o?{observableKind:"array",object:this.proxy_,type:Bi,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:i}:null;this.atom_.reportChanged(),a&&ci(this,l)},e.notifyArraySplice_=function(r,s,i){var o=!this.owned_&&Ch(),a=ui(this),l=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:iP,index:r,removed:i,added:s,removedCount:i.length,addedCount:s.length}:null;this.atom_.reportChanged(),a&&ci(this,l)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,s){var i=this.values_;if(this.legacyMode_&&r>i.length&&Ze(17,r,i.length),r<i.length){this.atom_;var o=i[r];if(ks(this)){var a=Ns(this,{type:Bi,object:this.proxy_,index:r,newValue:s});if(!a)return;s=a.newValue}s=this.enhancer_(s,o);var l=s!==o;l&&(i[r]=s,this.notifyArrayChildUpdate_(r,s,o))}else{for(var u=new Array(r+1-i.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=s,this.spliceWithArray_(i.length,0,u)}},n}();function sz(n,e,t,r){return t===void 0&&(t="ObservableArray"),r===void 0&&(r=!1),yL(),Xa(function(){var s=new PC(t,e,r,!1);bL(s.values_,Se,s);var i=new Proxy(s.values_,rz);return s.proxy_=i,n&&n.length&&s.spliceWithArray_(0,0,n),i})}var Wm={clear:function(){return this.splice(0)},replace:function(e){var t=this[Se];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];var o=this[Se];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,s)},spliceWithArray:function(e,t,r){return this[Se].spliceWithArray_(e,t,r)},push:function(){for(var e=this[Se],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[Se].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Se],t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return ie.trackingDerivation&&Ze(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ie.trackingDerivation&&Ze(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[Se],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};$t("at",_s);$t("concat",_s);$t("flat",_s);$t("includes",_s);$t("indexOf",_s);$t("join",_s);$t("lastIndexOf",_s);$t("slice",_s);$t("toString",_s);$t("toLocaleString",_s);$t("toSorted",_s);$t("toSpliced",_s);$t("with",_s);$t("every",vi);$t("filter",vi);$t("find",vi);$t("findIndex",vi);$t("findLast",vi);$t("findLastIndex",vi);$t("flatMap",vi);$t("forEach",vi);$t("map",vi);$t("some",vi);$t("toReversed",vi);$t("reduce",QL);$t("reduceRight",QL);function $t(n,e){typeof Array.prototype[n]=="function"&&(Wm[n]=e(n))}function _s(n){return function(){var e=this[Se];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function vi(n){return function(e,t){var r=this,s=this[Se];s.atom_.reportObserved();var i=s.dehanceValues_(s.values_);return i[n](function(o,a){return e.call(t,o,a,r)})}}function QL(n){return function(){var e=this,t=this[Se];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_),s=arguments[0];return arguments[0]=function(i,o,a){return s(i,o,a,e)},r[n].apply(r,arguments)}}var iz=ou("ObservableArrayAdministration",PC);function cv(n){return iv(n)&&iz(n[Se])}var oz={},_a="add",Gm="delete",ZL=function(){function n(t,r,s){var i=this;r===void 0&&(r=Hl),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Se]=oz,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,fi(Map)||Ze(18),Xa(function(){i.keysAtom_=CL("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,t&&i.merge(t)})}var e=n.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var s=this;if(!ie.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var o=i=new Rl(this.has_(r),ov,"ObservableMap.key?",!1);this.hasMap_.set(r,o),KL(o,function(){return s.hasMap_.delete(r)})}return i.get()},e.set=function(r,s){var i=this.has_(r);if(ks(this)){var o=Ns(this,{type:i?Bi:_a,object:this,newValue:s,name:r});if(!o)return this;s=o.newValue}return i?this.updateValue_(r,s):this.addValue_(r,s),this},e.delete=function(r){var s=this;if(this.keysAtom_,ks(this)){var i=Ns(this,{type:Gm,object:this,name:r});if(!i)return!1}if(this.has_(r)){var o=Ch(),a=ui(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Gm,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return fo(function(){var u;s.keysAtom_.reportChanged(),(u=s.hasMap_.get(r))==null||u.setNewValue_(!1);var d=s.data_.get(r);d.setNewValue_(void 0),s.data_.delete(r)}),a&&ci(this,l),!0}return!1},e.updateValue_=function(r,s){var i=this.data_.get(r);if(s=i.prepareNewValue_(s),s!==ie.UNCHANGED){var o=Ch(),a=ui(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Bi,object:this,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),a&&ci(this,l)}},e.addValue_=function(r,s){var i=this;this.keysAtom_,fo(function(){var u,d=new Rl(s,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,d),s=d.value_,(u=i.hasMap_.get(r))==null||u.setNewValue_(!0),i.keysAtom_.reportChanged()});var o=Ch(),a=ui(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:_a,object:this,name:r,newValue:s}:null;a&&ci(this,l)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,s=this.keys();return oP({next:function(){var o=s.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:r.get(l)}}})},e.entries=function(){var r=this,s=this.keys();return oP({next:function(){var o=s.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,s){for(var i=ec(this),o;!(o=i()).done;){var a=o.value,l=a[0],u=a[1];r.call(s,u,l,this)}},e.merge=function(r){var s=this;return lu(r)&&(r=new Map(r)),fo(function(){Ao(r)?T5(r).forEach(function(i){return s.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var o=i[0],a=i[1];return s.set(o,a)}):Qc(r)?(C5(r)||Ze(19,r),r.forEach(function(i,o){return s.set(o,i)})):r!=null&&Ze(20,r)}),this},e.clear=function(){var r=this;fo(function(){NL(function(){for(var s=ec(r.keys()),i;!(i=s()).done;){var o=i.value;r.delete(o)}})})},e.replace=function(r){var s=this;return fo(function(){for(var i=az(r),o=new Map,a=!1,l=ec(s.data_.keys()),u;!(u=l()).done;){var d=u.value;if(!i.has(d)){var h=s.delete(d);if(h)a=!0;else{var f=s.data_.get(d);o.set(d,f)}}}for(var m=ec(i.entries()),b;!(b=m()).done;){var v=b.value,_=v[0],y=v[1],w=s.data_.has(_);if(s.set(_,y),s.data_.has(_)){var E=s.data_.get(_);o.set(_,E),w||(a=!0)}}if(!a)if(s.data_.size!==o.size)s.keysAtom_.reportChanged();else for(var S=s.data_.keys(),I=o.keys(),x=S.next(),O=I.next();!x.done;){if(x.value!==O.value){s.keysAtom_.reportChanged();break}x=S.next(),O=I.next()}s.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,s){return zf(this,r)},e.intercept_=function(r){return Hf(this,r)},Zc(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),lu=ou("ObservableMap",ZL);function oP(n){return n[Symbol.toStringTag]="MapIterator",AC(n)}function az(n){if(Qc(n)||lu(n))return n;if(Array.isArray(n))return new Map(n);if(Ao(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return Ze(21,n)}var lz={},JL=function(){function n(t,r,s){var i=this;r===void 0&&(r=Hl),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[Se]=lz,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,fi(Set)||Ze(22),this.enhancer_=function(o,a){return r(o,a,s)},Xa(function(){i.atom_=CL(i.name_),t&&i.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;fo(function(){NL(function(){for(var s=ec(r.data_.values()),i;!(i=s()).done;){var o=i.value;r.delete(o)}})})},e.forEach=function(r,s){for(var i=ec(this),o;!(o=i()).done;){var a=o.value;r.call(s,a,a,this)}},e.add=function(r){var s=this;if(this.atom_,ks(this)){var i=Ns(this,{type:_a,object:this,newValue:r});if(!i)return this}if(!this.has(r)){fo(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var o=!1,a=ui(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:_a,object:this,newValue:r}:null;a&&ci(this,l)}return this},e.delete=function(r){var s=this;if(ks(this)){var i=Ns(this,{type:Gm,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var o=!1,a=ui(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:Gm,object:this,oldValue:r}:null;return fo(function(){s.atom_.reportChanged(),s.data_.delete(r)}),a&&ci(this,l),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,s=Array.from(this.keys()),i=Array.from(this.values());return aP({next:function(){var a=r;return r+=1,a<i.length?{value:[s[a],i[a]],done:!1}:{value:void 0,done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,s=0,i=Array.from(this.data_.values());return aP({next:function(){return s<i.length?{value:r.dehanceValue_(i[s++]),done:!1}:{value:void 0,done:!0}}})},e.intersection=function(r){if(ho(r)&&!xi(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},e.union=function(r){if(ho(r)&&!xi(r))return r.union(this);var s=new Set(this);return s.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(ho(r)&&!xi(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(ho(r)&&!xi(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},e.replace=function(r){var s=this;return xi(r)&&(r=new Set(r)),fo(function(){Array.isArray(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):ho(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):r!=null&&Ze("Cannot initialize set from "+r)}),this},e.observe_=function(r,s){return zf(this,r)},e.intercept_=function(r){return Hf(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Zc(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),xi=ou("ObservableSet",JL);function aP(n){return n[Symbol.toStringTag]="SetIterator",AC(n)}var lP=Object.create(null),uP="remove",eM=function(){function n(t,r,s,i){r===void 0&&(r=new Map),i===void 0&&(i=rH),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=r,this.name_=s,this.defaultAnnotation_=i,this.keysAtom_=new qa("ObservableObject.keys"),this.isPlainObject_=Ao(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,s){var i=this.values_.get(r);if(i instanceof pi)return i.set(s),!0;if(ks(this)){var o=Ns(this,{type:Bi,object:this.proxy_||this.target_,name:r,newValue:s});if(!o)return null;s=o.newValue}if(s=i.prepareNewValue_(s),s!==ie.UNCHANGED){var a=ui(this),l=!1,u=a||l?{type:Bi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),a&&ci(this,u)}return!0},e.get_=function(r){return ie.trackingDerivation&&!wo(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,s,i){return i===void 0&&(i=!1),wo(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):i?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},e.has_=function(r){if(!ie.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Rl(r in this.target_,ov,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},e.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var i;if((i=this.target_[Ni])!=null&&i[r])return;Ze(1,s.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==sv;){var a=Vm(o,r);if(a){var l=s.make_(this,r,a,o);if(l===0)return;if(l===1)break}o=Object.getPrototypeOf(o)}dP(this,s,r)}},e.extend_=function(r,s,i,o){if(o===void 0&&(o=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,s,o);var a=i.extend_(this,r,s,o);return a&&dP(this,i,r),a},e.defineProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{js();var o=this.delete_(r);if(!o)return o;if(ks(this)){var a=Ns(this,{object:this.proxy_||this.target_,name:r,type:_a,newValue:s.value});if(!a)return null;var l=a.newValue;s.value!==l&&(s=Bl({},s,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,s))return!1}else Vi(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{Vs()}return!0},e.defineObservableProperty_=function(r,s,i,o){o===void 0&&(o=!1),this.keysAtom_;try{js();var a=this.delete_(r);if(!a)return a;if(ks(this)){var l=Ns(this,{object:this.proxy_||this.target_,name:r,type:_a,newValue:s});if(!l)return null;s=l.newValue}var u=cP(r),d={configurable:ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,r,d))return!1}else Vi(this.target_,r,d);var h=new Rl(s,i,"ObservableObject.key",!1);this.values_.set(r,h),this.notifyPropertyAddition_(r,h.value_)}finally{Vs()}return!0},e.defineComputedProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{js();var o=this.delete_(r);if(!o)return o;if(ks(this)){var a=Ns(this,{object:this.proxy_||this.target_,name:r,type:_a,newValue:void 0});if(!a)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var l=cP(r),u={configurable:ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Vi(this.target_,r,u);this.values_.set(r,new pi(s)),this.notifyPropertyAddition_(r,void 0)}finally{Vs()}return!0},e.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!wo(this.target_,r))return!0;if(ks(this)){var i=Ns(this,{object:this.proxy_||this.target_,name:r,type:uP});if(!i)return null}try{var o;js();var a=ui(this),l=!1,u=this.values_.get(r),d=void 0;if(!u&&(a||l)){var h;d=(h=Vm(this.target_,r))==null?void 0:h.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Rl&&(d=u.value_),VL(u)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||l){var f={type:uP,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};a&&ci(this,f)}}finally{Vs()}return!0},e.observe_=function(r,s){return zf(this,r)},e.intercept_=function(r){return Hf(this,r)},e.notifyPropertyAddition_=function(r,s){var i,o=ui(this),a=!1;if(o||a){var l=o||a?{type:_a,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;o&&ci(this,l)}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Rc(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function uu(n,e){var t;if(wo(n,Se))return n;var r=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",s=new eM(n,new Map,String(r),pH(e));return jf(n,Se,s),n}var uz=ou("ObservableObjectAdministration",eM);function cP(n){return lP[n]||(lP[n]={get:function(){return this[Se].getObservablePropValue_(n)},set:function(t){return this[Se].setObservablePropValue_(n,t)}})}function dv(n){return iv(n)?uz(n[Se]):!1}function dP(n,e,t){var r;(r=n.target_[Ni])==null||delete r[t]}var cz=nM(0),dz=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1}(),cb=0,tM=function(){};function hz(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}hz(tM,Array.prototype);var xC=function(n){function e(r,s,i,o){var a;return i===void 0&&(i="ObservableArray"),o===void 0&&(o=!1),a=n.call(this)||this,Xa(function(){var l=new PC(i,s,o,!0);l.proxy_=a,bL(a,Se,l),r&&r.length&&a.spliceWithArray(0,0,r),dz&&Object.defineProperty(a,"0",cz)}),a}SL(e,n);var t=e.prototype;return t.concat=function(){this[Se].atom_.reportObserved();for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),i.map(function(a){return cv(a)?a.slice():a}))},t[Symbol.iterator]=function(){var r=this,s=0;return AC({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},Zc(e,[{key:"length",get:function(){return this[Se].getArrayLength_()},set:function(s){this[Se].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(tM);Object.entries(Wm).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&jf(xC.prototype,e,t)});function nM(n){return{enumerable:!1,configurable:!0,get:function(){return this[Se].get_(n)},set:function(t){this[Se].set_(n,t)}}}function fz(n){Vi(xC.prototype,""+n,nM(n))}function rM(n){if(n>cb){for(var e=cb;e<n+100;e++)fz(e);cb=n}}rM(1e3);function pz(n,e,t){return new xC(n,e,t)}function Ym(n,e){if(typeof n=="object"&&n!==null){if(cv(n))return e!==void 0&&Ze(23),n[Se].atom_;if(xi(n))return n.atom_;if(lu(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||Ze(25,e,Pw(n)),t}if(dv(n)){if(!e)return Ze(26);var r=n[Se].values_.get(e);return r||Ze(27,e,Pw(n)),r}if(SC(n)||uv(n)||Km(n))return n}else if(fi(n)&&Km(n[Se]))return n[Se];Ze(28)}function gz(n,e){if(n||Ze(29),SC(n)||uv(n)||Km(n)||lu(n)||xi(n))return n;if(n[Se])return n[Se];Ze(24,n)}function Pw(n,e){var t;if(e!==void 0)t=Ym(n,e);else{if(nf(n))return n.name;dv(n)||lu(n)||xi(n)?t=gz(n):t=Ym(n)}return t.name_}function Xa(n){var e=au(),t=TC(!0);js();try{return n()}finally{Vs(),OC(t),Eo(e)}}var hP=sv.toString;function RC(n,e,t){return t===void 0&&(t=-1),xw(n,e,t)}function xw(n,e,t,r,s){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var i=typeof n;if(i!=="function"&&i!=="object"&&typeof e!="object")return!1;var o=hP.call(n);if(o!==hP.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=fP(n),e=fP(e);var a=o==="[object Array]";if(!a){if(typeof n!="object"||typeof e!="object")return!1;var l=n.constructor,u=e.constructor;if(l!==u&&!(fi(l)&&l instanceof l&&fi(u)&&u instanceof u)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),r=r||[],s=s||[];for(var d=r.length;d--;)if(r[d]===n)return s[d]===e;if(r.push(n),s.push(e),a){if(d=n.length,d!==e.length)return!1;for(;d--;)if(!xw(n[d],e[d],t-1,r,s))return!1}else{var h=Object.keys(n),f;if(d=h.length,Object.keys(e).length!==d)return!1;for(;d--;)if(f=h[d],!(wo(e,f)&&xw(n[f],e[f],t-1,r,s)))return!1}return r.pop(),s.pop(),!0}function fP(n){return cv(n)?n.slice():Qc(n)||lu(n)||ho(n)||xi(n)?Array.from(n.entries()):n}var pP,mz=((pP=rv().Iterator)==null?void 0:pP.prototype)||{};function AC(n){return n[Symbol.iterator]=yz,Object.assign(Object.create(mz),n)}function yz(){return this}["Symbol","Map","Set"].forEach(function(n){var e=rv();typeof e[n]>"u"&&Ze("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:DH,extras:{getDebugName:Pw},$mobx:Se});if(!D.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!ez)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function vz(n){n()}function _z(n){n||(n=vz),WH({reactionScheduler:n})}function bz(n){return GH(n)}var wz=1e4,Ez=1e4,Sz=function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=wz),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var s=Date.now();t.registrations.forEach(function(i,o){s-i.registeredAt>=r&&(t.finalize(i.value),t.registrations.delete(o))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){this.registrations.set(r,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Ez))}}),n}(),Cz=typeof FinalizationRegistry<"u"?FinalizationRegistry:Sz,Rw=new Cz(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),sM={exports:{}},iM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=D;function Tz(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Oz=typeof Object.is=="function"?Object.is:Tz,Iz=Dc.useState,Pz=Dc.useEffect,xz=Dc.useLayoutEffect,Rz=Dc.useDebugValue;function Az(n,e){var t=e(),r=Iz({inst:{value:t,getSnapshot:e}}),s=r[0].inst,i=r[1];return xz(function(){s.value=t,s.getSnapshot=e,db(s)&&i({inst:s})},[n,t,e]),Pz(function(){return db(s)&&i({inst:s}),n(function(){db(s)&&i({inst:s})})},[n]),Rz(t),t}function db(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Oz(n,t)}catch{return!0}}function Dz(n,e){return e()}var kz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Dz:Az;iM.useSyncExternalStore=Dc.useSyncExternalStore!==void 0?Dc.useSyncExternalStore:kz;sM.exports=iM;var Nz=sM.exports;function gP(n){n.reaction=new Do("observer".concat(n.name),function(){var e;n.stateVersion=Symbol(),(e=n.onStoreChange)===null||e===void 0||e.call(n)})}function Lz(n,e){e===void 0&&(e="observed");var t=g.useRef(null);if(!t.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(a){return Rw.unregister(r),r.onStoreChange=a,r.reaction||(gP(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};t.current=r}var s=t.current;s.reaction||(gP(s),Rw.register(t,s,s)),g.useDebugValue(s.reaction,bz),Nz.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var i,o;if(s.reaction.track(function(){try{i=n()}catch(a){o=a}}),o)throw o;return i}var hb,fb,oM=typeof Symbol=="function"&&Symbol.for,Mz=(fb=(hb=Object.getOwnPropertyDescriptor(function(){},"name"))===null||hb===void 0?void 0:hb.configurable)!==null&&fb!==void 0?fb:!1,mP=oM?Symbol.for("react.forward_ref"):typeof D.forwardRef=="function"&&D.forwardRef(function(n){return null}).$$typeof,yP=oM?Symbol.for("react.memo"):typeof D.memo=="function"&&D.memo(function(n){return null}).$$typeof;function hv(n,e){var t;if(yP&&n.$$typeof===yP)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(t=void 0)!==null&&t!==void 0?t:!1,s=n,i=n.displayName||n.name;if(mP&&n.$$typeof===mP&&(r=!0,s=n.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(a,l){return Lz(function(){return s(a,l)},i)};return o.displayName=n.displayName,Mz&&Object.defineProperty(o,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(o.contextTypes=n.contextTypes),r&&(o=D.forwardRef(o)),o=D.memo(o),Fz(n,o),o}var $z={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Fz(n,e){Object.keys(n).forEach(function(t){$z[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}var pb;_z(Fs.unstable_batchedUpdates);pb=Rw.finalizeAllImmediately;function jz(){}var aM=jz;const F=Ce(aM);var Vz=Array.isArray,sr=Vz;const DC=Ce(sr);var Uz=typeof Hp=="object"&&Hp&&Hp.Object===Object&&Hp,lM=Uz,Bz=lM,Hz=typeof self=="object"&&self&&self.Object===Object&&self,zz=Bz||Hz||Function("return this")(),_i=zz,Kz=_i,Wz=Kz.Symbol,Jc=Wz,vP=Jc,uM=Object.prototype,Gz=uM.hasOwnProperty,Yz=uM.toString,jd=vP?vP.toStringTag:void 0;function qz(n){var e=Gz.call(n,jd),t=n[jd];try{n[jd]=void 0;var r=!0}catch{}var s=Yz.call(n);return r&&(e?n[jd]=t:delete n[jd]),s}var Xz=qz,Qz=Object.prototype,Zz=Qz.toString;function Jz(n){return Zz.call(n)}var eK=Jz,_P=Jc,tK=Xz,nK=eK,rK="[object Null]",sK="[object Undefined]",bP=_P?_P.toStringTag:void 0;function iK(n){return n==null?n===void 0?sK:rK:bP&&bP in Object(n)?tK(n):nK(n)}var bi=iK;function oK(n){return n!=null&&typeof n=="object"}var Qr=oK,aK=bi,lK=Qr,uK="[object Symbol]";function cK(n){return typeof n=="symbol"||lK(n)&&aK(n)==uK}var ed=cK,dK=sr,hK=ed,fK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pK=/^\w*$/;function gK(n,e){if(dK(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||hK(n)?!0:pK.test(n)||!fK.test(n)||e!=null&&n in Object(e)}var kC=gK;function mK(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Zr=mK;const ko=Ce(Zr);var yK=bi,vK=Zr,_K="[object AsyncFunction]",bK="[object Function]",wK="[object GeneratorFunction]",EK="[object Proxy]";function SK(n){if(!vK(n))return!1;var e=yK(n);return e==bK||e==wK||e==_K||e==EK}var fv=SK;const De=Ce(fv);var CK=_i,TK=CK["__core-js_shared__"],OK=TK,gb=OK,wP=function(){var n=/[^.]+$/.exec(gb&&gb.keys&&gb.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function IK(n){return!!wP&&wP in n}var PK=IK,xK=Function.prototype,RK=xK.toString;function AK(n){if(n!=null){try{return RK.call(n)}catch{}try{return n+""}catch{}}return""}var cM=AK,DK=fv,kK=PK,NK=Zr,LK=cM,MK=/[\\^$.*+?()[\]{}|]/g,$K=/^\[object .+?Constructor\]$/,FK=Function.prototype,jK=Object.prototype,VK=FK.toString,UK=jK.hasOwnProperty,BK=RegExp("^"+VK.call(UK).replace(MK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HK(n){if(!NK(n)||kK(n))return!1;var e=DK(n)?BK:$K;return e.test(LK(n))}var zK=HK;function KK(n,e){return n==null?void 0:n[e]}var WK=KK,GK=zK,YK=WK;function qK(n,e){var t=YK(n,e);return GK(t)?t:void 0}var cu=qK,XK=cu,QK=XK(Object,"create"),pv=QK,EP=pv;function ZK(){this.__data__=EP?EP(null):{},this.size=0}var JK=ZK;function e6(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var t6=e6,n6=pv,r6="__lodash_hash_undefined__",s6=Object.prototype,i6=s6.hasOwnProperty;function o6(n){var e=this.__data__;if(n6){var t=e[n];return t===r6?void 0:t}return i6.call(e,n)?e[n]:void 0}var a6=o6,l6=pv,u6=Object.prototype,c6=u6.hasOwnProperty;function d6(n){var e=this.__data__;return l6?e[n]!==void 0:c6.call(e,n)}var h6=d6,f6=pv,p6="__lodash_hash_undefined__";function g6(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=f6&&e===void 0?p6:e,this}var m6=g6,y6=JK,v6=t6,_6=a6,b6=h6,w6=m6;function td(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}td.prototype.clear=y6;td.prototype.delete=v6;td.prototype.get=_6;td.prototype.has=b6;td.prototype.set=w6;var E6=td;function S6(){this.__data__=[],this.size=0}var C6=S6;function T6(n,e){return n===e||n!==n&&e!==e}var Kf=T6,O6=Kf;function I6(n,e){for(var t=n.length;t--;)if(O6(n[t][0],e))return t;return-1}var gv=I6,P6=gv,x6=Array.prototype,R6=x6.splice;function A6(n){var e=this.__data__,t=P6(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():R6.call(e,t,1),--this.size,!0}var D6=A6,k6=gv;function N6(n){var e=this.__data__,t=k6(e,n);return t<0?void 0:e[t][1]}var L6=N6,M6=gv;function $6(n){return M6(this.__data__,n)>-1}var F6=$6,j6=gv;function V6(n,e){var t=this.__data__,r=j6(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var U6=V6,B6=C6,H6=D6,z6=L6,K6=F6,W6=U6;function nd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}nd.prototype.clear=B6;nd.prototype.delete=H6;nd.prototype.get=z6;nd.prototype.has=K6;nd.prototype.set=W6;var mv=nd,G6=cu,Y6=_i,q6=G6(Y6,"Map"),NC=q6,SP=E6,X6=mv,Q6=NC;function Z6(){this.size=0,this.__data__={hash:new SP,map:new(Q6||X6),string:new SP}}var J6=Z6;function eW(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var tW=eW,nW=tW;function rW(n,e){var t=n.__data__;return nW(e)?t[typeof e=="string"?"string":"hash"]:t.map}var yv=rW,sW=yv;function iW(n){var e=sW(this,n).delete(n);return this.size-=e?1:0,e}var oW=iW,aW=yv;function lW(n){return aW(this,n).get(n)}var uW=lW,cW=yv;function dW(n){return cW(this,n).has(n)}var hW=dW,fW=yv;function pW(n,e){var t=fW(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var gW=pW,mW=J6,yW=oW,vW=uW,_W=hW,bW=gW;function rd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}rd.prototype.clear=mW;rd.prototype.delete=yW;rd.prototype.get=vW;rd.prototype.has=_W;rd.prototype.set=bW;var LC=rd,dM=LC,wW="Expected a function";function MC(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(wW);var t=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=t.cache;if(i.has(s))return i.get(s);var o=n.apply(this,r);return t.cache=i.set(s,o)||i,o};return t.cache=new(MC.Cache||dM),t}MC.Cache=dM;var EW=MC,SW=EW,CW=500;function TW(n){var e=SW(n,function(r){return t.size===CW&&t.clear(),r}),t=e.cache;return e}var OW=TW,IW=OW,PW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xW=/\\(\\)?/g,RW=IW(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(PW,function(t,r,s,i){e.push(s?i.replace(xW,"$1"):r||t)}),e}),hM=RW;function AW(n,e){for(var t=-1,r=n==null?0:n.length,s=Array(r);++t<r;)s[t]=e(n[t],t,n);return s}var sd=AW,CP=Jc,DW=sd,kW=sr,NW=ed,LW=1/0,TP=CP?CP.prototype:void 0,OP=TP?TP.toString:void 0;function fM(n){if(typeof n=="string")return n;if(kW(n))return DW(n,fM)+"";if(NW(n))return OP?OP.call(n):"";var e=n+"";return e=="0"&&1/n==-LW?"-0":e}var pM=fM,MW=pM;function $W(n){return n==null?"":MW(n)}var vv=$W;const Tu=Ce(vv);var FW=sr,jW=kC,VW=hM,UW=vv;function BW(n,e){return FW(n)?n:jW(n,e)?[n]:VW(UW(n))}var id=BW,HW=ed,zW=1/0;function KW(n){if(typeof n=="string"||HW(n))return n;var e=n+"";return e=="0"&&1/n==-zW?"-0":e}var du=KW,WW=id,GW=du;function YW(n,e){e=WW(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[GW(e[t++])];return t&&t==r?n:void 0}var _v=YW,qW=_v;function XW(n,e,t){var r=n==null?void 0:qW(n,e);return r===void 0?t:r}var gM=XW;const Q=Ce(gM),mM=function(n){if(Q(process,"env.NODE_ENV")==="development"){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console.log(n,...t)}};class ke{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:F,getProps:F,getState:F,getStates:F,setState:F,getContext:F,getContexts:F,getCache:F,setCache:F,getCaches:F,stopPropagation:F,persistEvent:F}}constructor(e){this._adapter=Object.assign(Object.assign({},ke.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,t){return this._adapter.setState(Object.assign({},e),t)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,t){return e&&this._adapter.setCache(e,t)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const t=this.getProps();return e in t}_isInProps(e){const t=this.getProps();return e in t}init(e){}destroy(){}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];mM(e,...r)}_persistEvent(e){this._adapter.persistEvent(e)}}function sf(n){return Object.keys(n).reduce((e,t)=>(t.substr(0,5)==="data-"&&(e[t]=n[t]),e),{})}const{hasOwnProperty:QW}=Object.prototype;class xe extends D.Component{constructor(e){super(e),this.isControlled=t=>!!(t&&this.props&&typeof this.props=="object"&&QW.call(this.props,t)),this.setStateAsync=t=>new Promise(r=>{this.setState(t,r)}),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&typeof this.foundation.init=="function"&&this.foundation.init()}componentWillUnmount(){this.foundation&&typeof this.foundation.destroy=="function"&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,t)=>this.setState(Object.assign({},e),t),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,t)=>e&&(this.cache[e]=t),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch{}},persistEvent:e=>{e&&e.persist&&typeof e.persist=="function"&&e.persist()}}}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return mM(e,...r)}getDataAttr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return sf(e)}}xe.propTypes={};xe.defaultProps={};var ZW=_i,JW=function(){return ZW.Date.now()},e9=JW,t9=/\s/;function n9(n){for(var e=n.length;e--&&t9.test(n.charAt(e)););return e}var r9=n9,s9=r9,i9=/^\s+/;function o9(n){return n&&n.slice(0,s9(n)+1).replace(i9,"")}var a9=o9,l9=a9,IP=Zr,u9=ed,PP=NaN,c9=/^[-+]0x[0-9a-f]+$/i,d9=/^0b[01]+$/i,h9=/^0o[0-7]+$/i,f9=parseInt;function p9(n){if(typeof n=="number")return n;if(u9(n))return PP;if(IP(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=IP(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=l9(n);var t=d9.test(n);return t||h9.test(n)?f9(n.slice(2),t?2:8):c9.test(n)?PP:+n}var $C=p9;const Ls=Ce($C);var g9=Zr,mb=e9,xP=$C,m9="Expected a function",y9=Math.max,v9=Math.min;function _9(n,e,t){var r,s,i,o,a,l,u=0,d=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(m9);e=xP(e)||0,g9(t)&&(d=!!t.leading,h="maxWait"in t,i=h?y9(xP(t.maxWait)||0,e):i,f="trailing"in t?!!t.trailing:f);function m(x){var O=r,T=s;return r=s=void 0,u=x,o=n.apply(T,O),o}function b(x){return u=x,a=setTimeout(y,e),d?m(x):o}function v(x){var O=x-l,T=x-u,P=e-O;return h?v9(P,i-T):P}function _(x){var O=x-l,T=x-u;return l===void 0||O>=e||O<0||h&&T>=i}function y(){var x=mb();if(_(x))return w(x);a=setTimeout(y,v(x))}function w(x){return a=void 0,f&&r?m(x):(r=s=void 0,o)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function S(){return a===void 0?o:w(mb())}function I(){var x=mb(),O=_(x);if(r=arguments,s=this,l=x,O){if(a===void 0)return b(l);if(h)return clearTimeout(a),a=setTimeout(y,e),m(l)}return a===void 0&&(a=setTimeout(y,e)),o}return I.cancel=E,I.flush=S,I}var yM=_9;const vM=Ce(yM);var b9=yM,w9=Zr,E9="Expected a function";function S9(n,e,t){var r=!0,s=!0;if(typeof n!="function")throw new TypeError(E9);return w9(t)&&(r="leading"in t?!!t.leading:r,s="trailing"in t?!!t.trailing:s),b9(n,e,{leading:r,maxWait:e,trailing:s})}var C9=S9;const qm=Ce(C9);var _M={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)e.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(_M);var T9=_M.exports;const $=Ce(T9);var bM={exports:{}},O9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I9=O9,P9=I9;function wM(){}function EM(){}EM.resetWarningCache=wM;var x9=function(){function n(r,s,i,o,a,l){if(l!==P9){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EM,resetWarningCache:wM};return t.PropTypes=t,t};bM.exports=x9();var R9=bM.exports;const c=Ce(R9),W="semi",od=["default","error","warning","success"];function RP(n){return typeof n=="object"&&n!=null&&n.nodeType===1}function AP(n,e){return(!e||n!=="hidden")&&n!=="visible"&&n!=="clip"}function yb(n,e){if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){var t=getComputedStyle(n,null);return AP(t.overflowY,e)||AP(t.overflowX,e)||function(r){var s=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!s&&(s.clientHeight<r.scrollHeight||s.clientWidth<r.scrollWidth)}(n)}return!1}function cg(n,e,t,r,s,i,o,a){return i<n&&o>e||i>n&&o<e?0:i<=n&&a<=t||o>=e&&a>=t?i-n-r:o>e&&a<t||i<n&&a>t?o-e+s:0}var DP=function(n,e){var t=window,r=e.scrollMode,s=e.block,i=e.inline,o=e.boundary,a=e.skipOverflowHiddenElements,l=typeof o=="function"?o:function(gt){return gt!==o};if(!RP(n))throw new TypeError("Invalid target");for(var u,d,h=document.scrollingElement||document.documentElement,f=[],m=n;RP(m)&&l(m);){if((m=(d=(u=m).parentElement)==null?u.getRootNode().host||null:d)===h){f.push(m);break}m!=null&&m===document.body&&yb(m)&&!yb(document.documentElement)||m!=null&&yb(m,a)&&f.push(m)}for(var b=t.visualViewport?t.visualViewport.width:innerWidth,v=t.visualViewport?t.visualViewport.height:innerHeight,_=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,w=n.getBoundingClientRect(),E=w.height,S=w.width,I=w.top,x=w.right,O=w.bottom,T=w.left,P=s==="start"||s==="nearest"?I:s==="end"?O:I+E/2,A=i==="center"?T+S/2:i==="end"?x:T,k=[],M=0;M<f.length;M++){var N=f[M],K=N.getBoundingClientRect(),G=K.height,z=K.width,ee=K.top,j=K.right,H=K.bottom,U=K.left;if(r==="if-needed"&&I>=0&&T>=0&&O<=v&&x<=b&&I>=ee&&O<=H&&T>=U&&x<=j)return k;var oe=getComputedStyle(N),ne=parseInt(oe.borderLeftWidth,10),re=parseInt(oe.borderTopWidth,10),de=parseInt(oe.borderRightWidth,10),be=parseInt(oe.borderBottomWidth,10),ye=0,ge=0,pe="offsetWidth"in N?N.offsetWidth-N.clientWidth-ne-de:0,te="offsetHeight"in N?N.offsetHeight-N.clientHeight-re-be:0,le="offsetWidth"in N?N.offsetWidth===0?0:z/N.offsetWidth:0,ct="offsetHeight"in N?N.offsetHeight===0?0:G/N.offsetHeight:0;if(h===N)ye=s==="start"?P:s==="end"?P-v:s==="nearest"?cg(y,y+v,v,re,be,y+P,y+P+E,E):P-v/2,ge=i==="start"?A:i==="center"?A-b/2:i==="end"?A-b:cg(_,_+b,b,ne,de,_+A,_+A+S,S),ye=Math.max(0,ye+y),ge=Math.max(0,ge+_);else{ye=s==="start"?P-ee-re:s==="end"?P-H+be+te:s==="nearest"?cg(ee,H,G,re,be+te,P,P+E,E):P-(ee+G/2)+te/2,ge=i==="start"?A-U-ne:i==="center"?A-(U+z/2)+pe/2:i==="end"?A-j+de+pe:cg(U,j,z,ne,de+pe,A,A+S,S);var Ct=N.scrollLeft,en=N.scrollTop;P+=en-(ye=Math.max(0,Math.min(en+ye/ct,N.scrollHeight-G/ct+te))),A+=Ct-(ge=Math.max(0,Math.min(Ct+ge/le,N.scrollWidth-z/le+pe)))}k.push({el:N,top:ye,left:ge})}return k};function SM(n){return n===Object(n)&&Object.keys(n).length!==0}function A9(n,e){e===void 0&&(e="auto");var t="scrollBehavior"in document.body.style;n.forEach(function(r){var s=r.el,i=r.top,o=r.left;s.scroll&&t?s.scroll({top:i,left:o,behavior:e}):(s.scrollTop=i,s.scrollLeft=o)})}function D9(n){return n===!1?{block:"end",inline:"nearest"}:SM(n)?n:{block:"start",inline:"nearest"}}function vb(n,e){var t=n.isConnected||n.ownerDocument.documentElement.contains(n);if(SM(e)&&typeof e.behavior=="function")return e.behavior(t?DP(n,e):[]);if(t){var r=D9(e);return A9(DP(n,r),r.behavior)}}const bv={PREFIX:`${W}-typography`},br={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small","inherit"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]};var k9=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const N9=bv.PREFIX;let wv=class extends D.PureComponent{render(){const e=this.props,{component:t,className:r,children:s,forwardRef:i}=e,o=k9(e,["component","className","children","forwardRef"]),a=t,l=$(N9,r);return g.createElement(a,Object.assign({className:l,ref:i},o),s)}};wv.defaultProps={component:"article",style:{},className:""};wv.propTypes={component:c.string,style:c.object,className:c.string};function L9(n){return n===null}var M9=L9;const Kl=Ce(M9);var $9=bi,F9=sr,j9=Qr,V9="[object String]";function U9(n){return typeof n=="string"||!F9(n)&&j9(n)&&$9(n)==V9}var CM=U9;const Re=Ce(CM);var B9=mv;function H9(){this.__data__=new B9,this.size=0}var z9=H9;function K9(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var W9=K9;function G9(n){return this.__data__.get(n)}var Y9=G9;function q9(n){return this.__data__.has(n)}var X9=q9,Q9=mv,Z9=NC,J9=LC,eG=200;function tG(n,e){var t=this.__data__;if(t instanceof Q9){var r=t.__data__;if(!Z9||r.length<eG-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new J9(r)}return t.set(n,e),this.size=t.size,this}var nG=tG,rG=mv,sG=z9,iG=W9,oG=Y9,aG=X9,lG=nG;function ad(n){var e=this.__data__=new rG(n);this.size=e.size}ad.prototype.clear=sG;ad.prototype.delete=iG;ad.prototype.get=oG;ad.prototype.has=aG;ad.prototype.set=lG;var Ev=ad,uG=cu,cG=function(){try{var n=uG(Object,"defineProperty");return n({},"",{}),n}catch{}}(),TM=cG,kP=TM;function dG(n,e,t){e=="__proto__"&&kP?kP(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var FC=dG,hG=FC,fG=Kf;function pG(n,e,t){(t!==void 0&&!fG(n[e],t)||t===void 0&&!(e in n))&&hG(n,e,t)}var OM=pG;function gG(n){return function(e,t,r){for(var s=-1,i=Object(e),o=r(e),a=o.length;a--;){var l=o[n?a:++s];if(t(i[l],l,i)===!1)break}return e}}var mG=gG,yG=mG,vG=yG(),IM=vG,Xm={exports:{}};Xm.exports;(function(n,e){var t=_i,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,o=i?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var h=u.length,f=a?a(h):new u.constructor(h);return u.copy(f),f}n.exports=l})(Xm,Xm.exports);var PM=Xm.exports,_G=_i,bG=_G.Uint8Array,xM=bG,NP=xM;function wG(n){var e=new n.constructor(n.byteLength);return new NP(e).set(new NP(n)),e}var jC=wG,EG=jC;function SG(n,e){var t=e?EG(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var RM=SG;function CG(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var VC=CG,TG=Zr,LP=Object.create,OG=function(){function n(){}return function(e){if(!TG(e))return{};if(LP)return LP(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),IG=OG;function PG(n,e){return function(t){return n(e(t))}}var AM=PG,xG=AM,RG=xG(Object.getPrototypeOf,Object),UC=RG,AG=Object.prototype;function DG(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||AG;return n===t}var Wf=DG,kG=IG,NG=UC,LG=Wf;function MG(n){return typeof n.constructor=="function"&&!LG(n)?kG(NG(n)):{}}var DM=MG,$G=bi,FG=Qr,jG="[object Arguments]";function VG(n){return FG(n)&&$G(n)==jG}var UG=VG,MP=UG,BG=Qr,kM=Object.prototype,HG=kM.hasOwnProperty,zG=kM.propertyIsEnumerable,KG=MP(function(){return arguments}())?MP:function(n){return BG(n)&&HG.call(n,"callee")&&!zG.call(n,"callee")},Gf=KG,WG=9007199254740991;function GG(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=WG}var BC=GG,YG=fv,qG=BC;function XG(n){return n!=null&&qG(n.length)&&!YG(n)}var no=XG,QG=no,ZG=Qr;function JG(n){return ZG(n)&&QG(n)}var HC=JG,Qm={exports:{}};function eY(){return!1}var NM=eY;const of=Ce(NM);Qm.exports;(function(n,e){var t=_i,r=NM,s=e&&!e.nodeType&&e,i=s&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===s,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;n.exports=u})(Qm,Qm.exports);var Yf=Qm.exports,tY=bi,nY=UC,rY=Qr,sY="[object Object]",iY=Function.prototype,oY=Object.prototype,LM=iY.toString,aY=oY.hasOwnProperty,lY=LM.call(Object);function uY(n){if(!rY(n)||tY(n)!=sY)return!1;var e=nY(n);if(e===null)return!0;var t=aY.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&LM.call(t)==lY}var zC=uY;const cY=Ce(zC);var dY=bi,hY=BC,fY=Qr,pY="[object Arguments]",gY="[object Array]",mY="[object Boolean]",yY="[object Date]",vY="[object Error]",_Y="[object Function]",bY="[object Map]",wY="[object Number]",EY="[object Object]",SY="[object RegExp]",CY="[object Set]",TY="[object String]",OY="[object WeakMap]",IY="[object ArrayBuffer]",PY="[object DataView]",xY="[object Float32Array]",RY="[object Float64Array]",AY="[object Int8Array]",DY="[object Int16Array]",kY="[object Int32Array]",NY="[object Uint8Array]",LY="[object Uint8ClampedArray]",MY="[object Uint16Array]",$Y="[object Uint32Array]",Ht={};Ht[xY]=Ht[RY]=Ht[AY]=Ht[DY]=Ht[kY]=Ht[NY]=Ht[LY]=Ht[MY]=Ht[$Y]=!0;Ht[pY]=Ht[gY]=Ht[IY]=Ht[mY]=Ht[PY]=Ht[yY]=Ht[vY]=Ht[_Y]=Ht[bY]=Ht[wY]=Ht[EY]=Ht[SY]=Ht[CY]=Ht[TY]=Ht[OY]=!1;function FY(n){return fY(n)&&hY(n.length)&&!!Ht[dY(n)]}var jY=FY;function VY(n){return function(e){return n(e)}}var ld=VY,Zm={exports:{}};Zm.exports;(function(n,e){var t=lM,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===r,o=i&&t.process,a=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();n.exports=a})(Zm,Zm.exports);var qf=Zm.exports,UY=jY,BY=ld,$P=qf,FP=$P&&$P.isTypedArray,HY=FP?BY(FP):UY,Sv=HY;function zY(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var MM=zY,KY=FC,WY=Kf,GY=Object.prototype,YY=GY.hasOwnProperty;function qY(n,e,t){var r=n[e];(!(YY.call(n,e)&&WY(r,t))||t===void 0&&!(e in n))&&KY(n,e,t)}var Cv=qY,XY=Cv,QY=FC;function ZY(n,e,t,r){var s=!t;t||(t={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),s?QY(t,a,l):XY(t,a,l)}return t}var hu=ZY;function JY(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var $M=JY,e7=9007199254740991,t7=/^(?:0|[1-9]\d*)$/;function n7(n,e){var t=typeof n;return e=e??e7,!!e&&(t=="number"||t!="symbol"&&t7.test(n))&&n>-1&&n%1==0&&n<e}var Tv=n7,r7=$M,s7=Gf,i7=sr,o7=Yf,a7=Tv,l7=Sv,u7=Object.prototype,c7=u7.hasOwnProperty;function d7(n,e){var t=i7(n),r=!t&&s7(n),s=!t&&!r&&o7(n),i=!t&&!r&&!s&&l7(n),o=t||r||s||i,a=o?r7(n.length,String):[],l=a.length;for(var u in n)(e||c7.call(n,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||a7(u,l)))&&a.push(u);return a}var FM=d7;function h7(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var f7=h7,p7=Zr,g7=Wf,m7=f7,y7=Object.prototype,v7=y7.hasOwnProperty;function _7(n){if(!p7(n))return m7(n);var e=g7(n),t=[];for(var r in n)r=="constructor"&&(e||!v7.call(n,r))||t.push(r);return t}var b7=_7,w7=FM,E7=b7,S7=no;function C7(n){return S7(n)?w7(n,!0):E7(n)}var Xf=C7,T7=hu,O7=Xf;function I7(n){return T7(n,O7(n))}var P7=I7,jP=OM,x7=PM,R7=RM,A7=VC,D7=DM,VP=Gf,UP=sr,k7=HC,N7=Yf,L7=fv,M7=Zr,$7=zC,F7=Sv,BP=MM,j7=P7;function V7(n,e,t,r,s,i,o){var a=BP(n,t),l=BP(e,t),u=o.get(l);if(u){jP(n,t,u);return}var d=i?i(a,l,t+"",n,e,o):void 0,h=d===void 0;if(h){var f=UP(l),m=!f&&N7(l),b=!f&&!m&&F7(l);d=l,f||m||b?UP(a)?d=a:k7(a)?d=A7(a):m?(h=!1,d=x7(l,!0)):b?(h=!1,d=R7(l,!0)):d=[]:$7(l)||VP(l)?(d=a,VP(a)?d=j7(a):(!M7(a)||L7(a))&&(d=D7(l))):h=!1}h&&(o.set(l,d),s(d,l,r,i,o),o.delete(l)),jP(n,t,d)}var U7=V7,B7=Ev,H7=OM,z7=IM,K7=U7,W7=Zr,G7=Xf,Y7=MM;function jM(n,e,t,r,s){n!==e&&z7(e,function(i,o){if(s||(s=new B7),W7(i))K7(n,e,o,t,jM,r,s);else{var a=r?r(Y7(n,o),i,o+"",n,e,s):void 0;a===void 0&&(a=i),H7(n,o,a)}},G7)}var q7=jM;function X7(n){return n}var Qf=X7;function Q7(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var Z7=Q7,J7=Z7,HP=Math.max;function e8(n,e,t){return e=HP(e===void 0?n.length-1:e,0),function(){for(var r=arguments,s=-1,i=HP(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=r[s];return a[e]=t(o),J7(n,this,a)}}var VM=e8;function t8(n){return function(){return n}}var n8=t8,r8=n8,zP=TM,s8=Qf,i8=zP?function(n,e){return zP(n,"toString",{configurable:!0,enumerable:!1,value:r8(e),writable:!0})}:s8,o8=i8,a8=800,l8=16,u8=Date.now;function c8(n){var e=0,t=0;return function(){var r=u8(),s=l8-(r-t);if(t=r,s>0){if(++e>=a8)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var d8=c8,h8=o8,f8=d8,p8=f8(h8),UM=p8,g8=Qf,m8=VM,y8=UM;function v8(n,e){return y8(m8(n,e,g8),n+"")}var KC=v8,_8=Kf,b8=no,w8=Tv,E8=Zr;function S8(n,e,t){if(!E8(t))return!1;var r=typeof e;return(r=="number"?b8(t)&&w8(e,t.length):r=="string"&&e in t)?_8(t[e],n):!1}var WC=S8,C8=KC,T8=WC;function O8(n){return C8(function(e,t){var r=-1,s=t.length,i=s>1?t[s-1]:void 0,o=s>2?t[2]:void 0;for(i=n.length>3&&typeof i=="function"?(s--,i):void 0,o&&T8(t[0],t[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var a=t[r];a&&n(e,a,r,i)}return e})}var BM=O8,I8=q7,P8=BM,x8=P8(function(n,e,t){I8(n,e,t)}),R8=x8;const A8=Ce(R8);function D8(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var HM=D8,k8=AM,N8=k8(Object.keys,Object),L8=N8,M8=Wf,$8=L8,F8=Object.prototype,j8=F8.hasOwnProperty;function V8(n){if(!M8(n))return $8(n);var e=[];for(var t in Object(n))j8.call(n,t)&&t!="constructor"&&e.push(t);return e}var zM=V8,U8=FM,B8=zM,H8=no;function z8(n){return H8(n)?U8(n):B8(n)}var Qa=z8,K8=hu,W8=Qa;function G8(n,e){return n&&K8(e,W8(e),n)}var Y8=G8,q8=hu,X8=Xf;function Q8(n,e){return n&&q8(e,X8(e),n)}var Z8=Q8;function J8(n,e){for(var t=-1,r=n==null?0:n.length,s=0,i=[];++t<r;){var o=n[t];e(o,t,n)&&(i[s++]=o)}return i}var eq=J8;function tq(){return[]}var KM=tq,nq=eq,rq=KM,sq=Object.prototype,iq=sq.propertyIsEnumerable,KP=Object.getOwnPropertySymbols,oq=KP?function(n){return n==null?[]:(n=Object(n),nq(KP(n),function(e){return iq.call(n,e)}))}:rq,GC=oq,aq=hu,lq=GC;function uq(n,e){return aq(n,lq(n),e)}var cq=uq;function dq(n,e){for(var t=-1,r=e.length,s=n.length;++t<r;)n[s+t]=e[t];return n}var YC=dq,hq=YC,fq=UC,pq=GC,gq=KM,mq=Object.getOwnPropertySymbols,yq=mq?function(n){for(var e=[];n;)hq(e,pq(n)),n=fq(n);return e}:gq,WM=yq,vq=hu,_q=WM;function bq(n,e){return vq(n,_q(n),e)}var wq=bq,Eq=YC,Sq=sr;function Cq(n,e,t){var r=e(n);return Sq(n)?r:Eq(r,t(n))}var GM=Cq,Tq=GM,Oq=GC,Iq=Qa;function Pq(n){return Tq(n,Iq,Oq)}var YM=Pq,xq=GM,Rq=WM,Aq=Xf;function Dq(n){return xq(n,Aq,Rq)}var qM=Dq,kq=cu,Nq=_i,Lq=kq(Nq,"DataView"),Mq=Lq,$q=cu,Fq=_i,jq=$q(Fq,"Promise"),Vq=jq,Uq=cu,Bq=_i,Hq=Uq(Bq,"Set"),XM=Hq,zq=cu,Kq=_i,Wq=zq(Kq,"WeakMap"),Gq=Wq,Aw=Mq,Dw=NC,kw=Vq,Nw=XM,Lw=Gq,QM=bi,ud=cM,WP="[object Map]",Yq="[object Object]",GP="[object Promise]",YP="[object Set]",qP="[object WeakMap]",XP="[object DataView]",qq=ud(Aw),Xq=ud(Dw),Qq=ud(kw),Zq=ud(Nw),Jq=ud(Lw),dl=QM;(Aw&&dl(new Aw(new ArrayBuffer(1)))!=XP||Dw&&dl(new Dw)!=WP||kw&&dl(kw.resolve())!=GP||Nw&&dl(new Nw)!=YP||Lw&&dl(new Lw)!=qP)&&(dl=function(n){var e=QM(n),t=e==Yq?n.constructor:void 0,r=t?ud(t):"";if(r)switch(r){case qq:return XP;case Xq:return WP;case Qq:return GP;case Zq:return YP;case Jq:return qP}return e});var Zf=dl,eX=Object.prototype,tX=eX.hasOwnProperty;function nX(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&tX.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var rX=nX,sX=jC;function iX(n,e){var t=e?sX(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var oX=iX,aX=/\w*$/;function lX(n){var e=new n.constructor(n.source,aX.exec(n));return e.lastIndex=n.lastIndex,e}var uX=lX,QP=Jc,ZP=QP?QP.prototype:void 0,JP=ZP?ZP.valueOf:void 0;function cX(n){return JP?Object(JP.call(n)):{}}var dX=cX,hX=jC,fX=oX,pX=uX,gX=dX,mX=RM,yX="[object Boolean]",vX="[object Date]",_X="[object Map]",bX="[object Number]",wX="[object RegExp]",EX="[object Set]",SX="[object String]",CX="[object Symbol]",TX="[object ArrayBuffer]",OX="[object DataView]",IX="[object Float32Array]",PX="[object Float64Array]",xX="[object Int8Array]",RX="[object Int16Array]",AX="[object Int32Array]",DX="[object Uint8Array]",kX="[object Uint8ClampedArray]",NX="[object Uint16Array]",LX="[object Uint32Array]";function MX(n,e,t){var r=n.constructor;switch(e){case TX:return hX(n);case yX:case vX:return new r(+n);case OX:return fX(n,t);case IX:case PX:case xX:case RX:case AX:case DX:case kX:case NX:case LX:return mX(n,t);case _X:return new r;case bX:case SX:return new r(n);case wX:return pX(n);case EX:return new r;case CX:return gX(n)}}var $X=MX,FX=Zf,jX=Qr,VX="[object Map]";function UX(n){return jX(n)&&FX(n)==VX}var BX=UX,HX=BX,zX=ld,ex=qf,tx=ex&&ex.isMap,KX=tx?zX(tx):HX,WX=KX,GX=Zf,YX=Qr,qX="[object Set]";function XX(n){return YX(n)&&GX(n)==qX}var QX=XX,ZX=QX,JX=ld,nx=qf,rx=nx&&nx.isSet,eQ=rx?JX(rx):ZX,ZM=eQ;const JM=Ce(ZM);var tQ=Ev,nQ=HM,rQ=Cv,sQ=Y8,iQ=Z8,oQ=PM,aQ=VC,lQ=cq,uQ=wq,cQ=YM,dQ=qM,hQ=Zf,fQ=rX,pQ=$X,gQ=DM,mQ=sr,yQ=Yf,vQ=WX,_Q=Zr,bQ=ZM,wQ=Qa,EQ=Xf,SQ=1,CQ=2,TQ=4,e$="[object Arguments]",OQ="[object Array]",IQ="[object Boolean]",PQ="[object Date]",xQ="[object Error]",t$="[object Function]",RQ="[object GeneratorFunction]",AQ="[object Map]",DQ="[object Number]",n$="[object Object]",kQ="[object RegExp]",NQ="[object Set]",LQ="[object String]",MQ="[object Symbol]",$Q="[object WeakMap]",FQ="[object ArrayBuffer]",jQ="[object DataView]",VQ="[object Float32Array]",UQ="[object Float64Array]",BQ="[object Int8Array]",HQ="[object Int16Array]",zQ="[object Int32Array]",KQ="[object Uint8Array]",WQ="[object Uint8ClampedArray]",GQ="[object Uint16Array]",YQ="[object Uint32Array]",Nt={};Nt[e$]=Nt[OQ]=Nt[FQ]=Nt[jQ]=Nt[IQ]=Nt[PQ]=Nt[VQ]=Nt[UQ]=Nt[BQ]=Nt[HQ]=Nt[zQ]=Nt[AQ]=Nt[DQ]=Nt[n$]=Nt[kQ]=Nt[NQ]=Nt[LQ]=Nt[MQ]=Nt[KQ]=Nt[WQ]=Nt[GQ]=Nt[YQ]=!0;Nt[xQ]=Nt[t$]=Nt[$Q]=!1;function Yg(n,e,t,r,s,i){var o,a=e&SQ,l=e&CQ,u=e&TQ;if(t&&(o=s?t(n,r,s,i):t(n)),o!==void 0)return o;if(!_Q(n))return n;var d=mQ(n);if(d){if(o=fQ(n),!a)return aQ(n,o)}else{var h=hQ(n),f=h==t$||h==RQ;if(yQ(n))return oQ(n,a);if(h==n$||h==e$||f&&!s){if(o=l||f?{}:gQ(n),!a)return l?uQ(n,iQ(o,n)):lQ(n,sQ(o,n))}else{if(!Nt[h])return s?n:{};o=pQ(n,h,a)}}i||(i=new tQ);var m=i.get(n);if(m)return m;i.set(n,o),bQ(n)?n.forEach(function(_){o.add(Yg(_,e,t,_,n,i))}):vQ(n)&&n.forEach(function(_,y){o.set(y,Yg(_,e,t,y,n,i))});var b=u?l?dQ:cQ:l?EQ:wQ,v=d?void 0:b(n);return nQ(v||n,function(_,y){v&&(y=_,_=n[y]),rQ(o,y,Yg(_,e,t,y,n,i))}),o}var r$=Yg;function qQ(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var XQ=qQ;function QQ(n,e,t){var r=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=n[r+e];return i}var qC=QQ,ZQ=_v,JQ=qC;function eZ(n,e){return e.length<2?n:ZQ(n,JQ(e,0,-1))}var tZ=eZ,nZ=id,rZ=XQ,sZ=tZ,iZ=du;function oZ(n,e){return e=nZ(e,n),n=sZ(n,e),n==null||delete n[iZ(rZ(e))]}var s$=oZ,aZ=zC;function lZ(n){return aZ(n)?void 0:n}var uZ=lZ,sx=Jc,cZ=Gf,dZ=sr,ix=sx?sx.isConcatSpreadable:void 0;function hZ(n){return dZ(n)||cZ(n)||!!(ix&&n&&n[ix])}var fZ=hZ,pZ=YC,gZ=fZ;function i$(n,e,t,r,s){var i=-1,o=n.length;for(t||(t=gZ),s||(s=[]);++i<o;){var a=n[i];e>0&&t(a)?e>1?i$(a,e-1,t,r,s):pZ(s,a):r||(s[s.length]=a)}return s}var o$=i$,mZ=o$;function yZ(n){var e=n==null?0:n.length;return e?mZ(n,1):[]}var vZ=yZ,_Z=vZ,bZ=VM,wZ=UM;function EZ(n){return wZ(bZ(n,void 0,_Z),n+"")}var a$=EZ,SZ=sd,CZ=r$,TZ=s$,OZ=id,IZ=hu,PZ=uZ,xZ=a$,RZ=qM,AZ=1,DZ=2,kZ=4,NZ=xZ(function(n,e){var t={};if(n==null)return t;var r=!1;e=SZ(e,function(i){return i=OZ(i,n),r||(r=i.length>1),i}),IZ(n,RZ(n),t),r&&(t=CZ(t,AZ|DZ|kZ,PZ));for(var s=e.length;s--;)TZ(t,e[s]);return t}),LZ=NZ;const Ho=Ce(LZ);function MZ(n){return n===void 0}var $Z=MZ;const wt=Ce($Z);var FZ="__lodash_hash_undefined__";function jZ(n){return this.__data__.set(n,FZ),this}var VZ=jZ;function UZ(n){return this.__data__.has(n)}var BZ=UZ,HZ=LC,zZ=VZ,KZ=BZ;function Jm(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new HZ;++e<t;)this.add(n[e])}Jm.prototype.add=Jm.prototype.push=zZ;Jm.prototype.has=KZ;var XC=Jm;function WZ(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var GZ=WZ;function YZ(n,e){return n.has(e)}var QC=YZ,qZ=XC,XZ=GZ,QZ=QC,ZZ=1,JZ=2;function eJ(n,e,t,r,s,i){var o=t&ZZ,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=i.get(n),d=i.get(e);if(u&&d)return u==e&&d==n;var h=-1,f=!0,m=t&JZ?new qZ:void 0;for(i.set(n,e),i.set(e,n);++h<a;){var b=n[h],v=e[h];if(r)var _=o?r(v,b,h,e,n,i):r(b,v,h,n,e,i);if(_!==void 0){if(_)continue;f=!1;break}if(m){if(!XZ(e,function(y,w){if(!QZ(m,w)&&(b===y||s(b,y,t,r,i)))return m.push(w)})){f=!1;break}}else if(!(b===v||s(b,v,t,r,i))){f=!1;break}}return i.delete(n),i.delete(e),f}var l$=eJ;function tJ(n){var e=-1,t=Array(n.size);return n.forEach(function(r,s){t[++e]=[s,r]}),t}var nJ=tJ;function rJ(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var ZC=rJ,ox=Jc,ax=xM,sJ=Kf,iJ=l$,oJ=nJ,aJ=ZC,lJ=1,uJ=2,cJ="[object Boolean]",dJ="[object Date]",hJ="[object Error]",fJ="[object Map]",pJ="[object Number]",gJ="[object RegExp]",mJ="[object Set]",yJ="[object String]",vJ="[object Symbol]",_J="[object ArrayBuffer]",bJ="[object DataView]",lx=ox?ox.prototype:void 0,_b=lx?lx.valueOf:void 0;function wJ(n,e,t,r,s,i,o){switch(t){case bJ:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case _J:return!(n.byteLength!=e.byteLength||!i(new ax(n),new ax(e)));case cJ:case dJ:case pJ:return sJ(+n,+e);case hJ:return n.name==e.name&&n.message==e.message;case gJ:case yJ:return n==e+"";case fJ:var a=oJ;case mJ:var l=r&lJ;if(a||(a=aJ),n.size!=e.size&&!l)return!1;var u=o.get(n);if(u)return u==e;r|=uJ,o.set(n,e);var d=iJ(a(n),a(e),r,s,i,o);return o.delete(n),d;case vJ:if(_b)return _b.call(n)==_b.call(e)}return!1}var EJ=wJ,ux=YM,SJ=1,CJ=Object.prototype,TJ=CJ.hasOwnProperty;function OJ(n,e,t,r,s,i){var o=t&SJ,a=ux(n),l=a.length,u=ux(e),d=u.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in e:TJ.call(e,f)))return!1}var m=i.get(n),b=i.get(e);if(m&&b)return m==e&&b==n;var v=!0;i.set(n,e),i.set(e,n);for(var _=o;++h<l;){f=a[h];var y=n[f],w=e[f];if(r)var E=o?r(w,y,f,e,n,i):r(y,w,f,n,e,i);if(!(E===void 0?y===w||s(y,w,t,r,i):E)){v=!1;break}_||(_=f=="constructor")}if(v&&!_){var S=n.constructor,I=e.constructor;S!=I&&"constructor"in n&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof I=="function"&&I instanceof I)&&(v=!1)}return i.delete(n),i.delete(e),v}var IJ=OJ,bb=Ev,PJ=l$,xJ=EJ,RJ=IJ,cx=Zf,dx=sr,hx=Yf,AJ=Sv,DJ=1,fx="[object Arguments]",px="[object Array]",dg="[object Object]",kJ=Object.prototype,gx=kJ.hasOwnProperty;function NJ(n,e,t,r,s,i){var o=dx(n),a=dx(e),l=o?px:cx(n),u=a?px:cx(e);l=l==fx?dg:l,u=u==fx?dg:u;var d=l==dg,h=u==dg,f=l==u;if(f&&hx(n)){if(!hx(e))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new bb),o||AJ(n)?PJ(n,e,t,r,s,i):xJ(n,e,l,t,r,s,i);if(!(t&DJ)){var m=d&&gx.call(n,"__wrapped__"),b=h&&gx.call(e,"__wrapped__");if(m||b){var v=m?n.value():n,_=b?e.value():e;return i||(i=new bb),s(v,_,t,r,i)}}return f?(i||(i=new bb),RJ(n,e,t,r,s,i)):!1}var LJ=NJ,MJ=LJ,mx=Qr;function u$(n,e,t,r,s){return n===e?!0:n==null||e==null||!mx(n)&&!mx(e)?n!==n&&e!==e:MJ(n,e,t,r,u$,s)}var JC=u$,$J=JC;function FJ(n,e){return $J(n,e)}var jJ=FJ;const Fe=Ce(jJ);var VJ=zM,UJ=Zf,BJ=Gf,HJ=sr,zJ=no,KJ=Yf,WJ=Wf,GJ=Sv,YJ="[object Map]",qJ="[object Set]",XJ=Object.prototype,QJ=XJ.hasOwnProperty;function ZJ(n){if(n==null)return!0;if(zJ(n)&&(HJ(n)||typeof n=="string"||typeof n.splice=="function"||KJ(n)||GJ(n)||BJ(n)))return!n.length;var e=UJ(n);if(e==YJ||e==qJ)return!n.size;if(WJ(n))return!VJ(n).length;for(var t in n)if(QJ.call(n,t))return!1;return!0}var JJ=ZJ;const It=Ce(JJ);var eee=IM,tee=Qa;function nee(n,e){return n&&eee(n,e,tee)}var ree=nee,see=no;function iee(n,e){return function(t,r){if(t==null)return t;if(!see(t))return n(t,r);for(var s=t.length,i=e?s:-1,o=Object(t);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return t}}var oee=iee,aee=ree,lee=oee,uee=lee(aee),c$=uee,cee=Qf;function dee(n){return typeof n=="function"?n:cee}var d$=dee,hee=HM,fee=c$,pee=d$,gee=sr;function mee(n,e){var t=gee(n)?hee:fee;return t(n,pee(e))}var yee=mee,vee=yee;const _ee=Ce(vee);function Kt(n,e){n&&console.warn(`Warning: ${e}`)}function bt(n){return n==null}let h$=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else bt(t)&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?([...this._eventMap.get(e)].forEach(o=>o(...r)),!0):!1}};function Xe(n){try{return n instanceof HTMLElement}catch{return typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function f$(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(const s of t)n.appendChild(s);return n}function bee(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];if(n.children&&n.children.length){const s=n.children[0];for(const i of t)n.insertBefore(i,s)}else f$(n,...t);return n}function wee(n){if(n&&typeof n=="object")return typeof n.toJSON=="function"?n.toJSON():["left","top","right","bottom","width","height"].reduce((t,r)=>(t[r]=n[r],t),{})}function ri(n){n.stopPropagation(),n.preventDefault()}const hg={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},Ou={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};let Eee=class extends ke{constructor(e){var t;super(Object.assign({},e)),t=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(r,s)=>{this._adapter.setDisplayNone(r,s)},this.updateStateIfCursorOnTrigger=r=>{var s,i;if(!((s=r==null?void 0:r.matches)===null||s===void 0)&&s.call(r,":hover")){const o=this._adapter.getEventName(),a=this.getState("triggerEventSet");(i=a[o.mouseEnter])===null||i===void 0||i.call(a)}},this.onResize=()=>{this.getState("visible")&&this.calcPosition()},this.delayShow=()=>{const r=this.getProp("mouseEnterDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},r):this.show()},this.show=()=>{if(this._adapter.getAnimatingState())return;const r=this.getProp("content"),s=this.getProp("trigger"),i=this.getProp("clickTriggerToHide"),{visible:o,displayNone:a}=this.getStates();if(a&&this.setDisplayNone(!1),!o){if(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),s==="hover"){const l=()=>{var u;const d=this._adapter.getTriggerDOM();s&&!(!((u=d==null?void 0:d.matches)===null||u===void 0)&&u.call(d,":hover"))&&this.hide(),this._adapter.off("portalInserted",l)};this._adapter.on("portalInserted",l)}this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(r,{left:-9999,top:-9999}),s==="custom"&&this._adapter.registerClickOutsideHandler(()=>{}),(s==="click"||i||s==="contextMenu")&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent()}},this.calcPosition=function(r,s,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;r=(It(r)?t._adapter.getTriggerBounding():r)||Object.assign({},Ou),i=(It(i)?t._adapter.getPopupContainerRect():i)||Object.assign({},Ou),s=(It(s)?t._adapter.getWrapperBounding():s)||Object.assign({},Ou);let a=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i}),l=t.getProp("position");if(t.getProp("autoAdjustOverflow")){const{position:u,isHeightOverFlow:d,isWidthOverFlow:h}=t.adjustPosIfNeed(l,a,r,s,i);(l!==u||d||h)&&(l=u,a=t.calcPosStyle({triggerRect:r,wrapperRect:s,containerRect:i,position:l,spacing:null,isOverFlow:[d,h]}))}return o&&t._mounted&&t._adapter.setPosition(Object.assign(Object.assign({},a),{position:l})),a},this.delayHide=()=>{const r=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),r>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},r):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=r=>{const{guardFocus:s,closeOnEsc:i}=this.getProps();switch(r&&r.key){case"Escape":i&&this._handleEscKeyDown(r);break;case"Tab":if(s){const o=this._adapter.getContainer(),a=this._adapter.getFocusableElements(o);a.length&&(r.shiftKey?this._handleContainerShiftTabKeyDown(a,r):this._handleContainerTabKeyDown(a,r))}break}},this._timer=null}init(){const{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),e||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){const e=this.getProp("trigger"),{triggerEventSet:t,portalEventSet:r}=this._generateEvent(e);this._bindTriggerEvent(t),this._bindPortalEvent(r),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"reverse",s=arguments.length>3?arguments[3]:void 0;switch(r){case"reverse":return this._reversePos(e,t);case"expand":return this._expandPos(e,s);case"reduce":return this._reducePos(e);default:return this._reversePos(e,t)}}_reversePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){if(hg.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(hg.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else{if(hg.LEFT.test(e))return e.replace("left","right").replace("Left","Right");if(hg.RIGHT.test(e))return e.replace("right","left").replace("Right","Left")}return e}_expandPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}_reducePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=["Top","Bottom","Left","Right"].find(r=>e.endsWith(r));return t?e.replace(t,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){const t=this._adapter.getEventName(),r={[t.keydown]:i=>{this._handleTriggerKeydown(i)}};let s={};switch(e){case"focus":r[t.focus]=()=>{this.delayShow()},r[t.blur]=()=>{this.delayHide()},s=r;break;case"click":r[t.click]=()=>{this.show()},s={};break;case"hover":r[t.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},r[t.mouseLeave]=()=>{this.delayHide()},r[t.focus]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayShow()},r[t.blur]=()=>{const{disableFocusListener:i}=this.getProps();!i&&this.delayHide()},s=Object.assign({},r),this.getProp("clickToHide")&&(s[t.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},s[t.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":break;case"contextMenu":r[t.contextMenu]=i=>{i.preventDefault(),this.show()};break}return{triggerEventSet:r,portalEventSet:s}}_shouldShow(){this.getProp("visible")&&this.show()}_togglePortalVisible(e){const t=this.getState("visible"),r=this.getState("isInsert");(t!==e||r!==e)&&this._adapter.togglePortalVisible(e,()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)})}_roundPixel(e){return typeof e=="number"?Math.round(e):e}calcTransformOrigin(e,t,r,s){if(e&&t&&r!=null&&s!=null){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(t.width/2)}px ${-s*100}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(t.width/2)}px) ${-s*100}%`;if(["leftTop","rightTop"].includes(e))return`${-r*100}% ${this._roundPixel(t.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${-r*100}% calc(100% - ${this._roundPixel(t.height/2)}px)`}return`${-r*100}% ${-s*100}%`}return null}calcPosStyle(e){var t;const{spacing:r,isOverFlow:s}=e,{innerWidth:i}=window,o=(It(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},Ou),a=(It(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},Ou),l=(It(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},Ou),u=e.position!=null?e.position:this.getProp("position"),d=r??this.getProp("spacing"),{arrowPointAtCenter:h,showArrow:f,arrowBounding:m}=this.getProps(),b=f&&h;let v=d,_=0;if(typeof d!="number"){const te=u.includes("top")||u.includes("bottom");v=te?d.y:d.x,_=te?d.x:d.y}const y=Q(m,"width",24),w=Q(m,"width",24),E=Q(m,"offsetY",0),S=6,I=6;let x,O,T=0,P=0;const A=o.left+o.width/2,k=o.top+o.height/2,M=S+y/2,N=I+w/2,K=l.height-a.height,G=l.width-a.width,z=K>0?K:0,ee=G>0?G:0,j=s&&s[0],H=s&&s[1],U=A-a.left<a.right-A,oe=k-a.top<a.bottom-k,ne=l.width>i,re=Math.abs((l==null?void 0:l.width)-((t=this._adapter.getContainer())===null||t===void 0?void 0:t.clientWidth))>1;switch(re&&(v=v*l.width/this._adapter.getContainer().clientWidth),u){case"top":x=H?U?a.left+l.width/2:a.right-l.width/2+ee:A+_,O=j?a.bottom+z:o.top-v,T=-.5,P=-1;break;case"topLeft":x=H?ne?a.left:a.right-l.width:b?A-M+_:o.left+_,O=j?a.bottom+z:o.top-v,P=-1;break;case"topRight":x=H?a.right+ee:b?A+M+_:o.right+_,O=j?a.bottom+z:o.top-v,P=-1,T=-1;break;case"left":x=H?a.right+ee-v+M:o.left-v,O=j?oe?a.top+l.height/2:a.bottom-l.height/2+z:k+_,T=-1,P=-.5;break;case"leftTop":x=H?a.right+ee-v+M:o.left-v,O=j?a.top:b?k-N+_:o.top+_,T=-1;break;case"leftBottom":x=H?a.right+ee-v+M:o.left-v,O=j?a.bottom+z:b?k+N+_:o.bottom+_,T=-1,P=-1;break;case"bottom":x=H?U?a.left+l.width/2:a.right-l.width/2+ee:A+_,O=j?a.top+N-v:o.top+o.height+v,T=-.5;break;case"bottomLeft":x=H?ne?a.left:a.right-l.width:b?A-M+_:o.left+_,O=j?a.top+N-v:o.top+o.height+v;break;case"bottomRight":x=H?a.right+ee:b?A+M+_:o.right+_,O=j?a.top+N-v:o.top+o.height+v,T=-1;break;case"right":x=H?a.left-v+M:o.right+v,O=j?oe?a.top+l.height/2:a.bottom-l.height/2+z:k+_,P=-.5;break;case"rightTop":x=H?a.left-v+M:o.right+v,O=j?a.top:b?k-N+_:o.top+_;break;case"rightBottom":x=H?a.left-v+M:o.right+v,O=j?a.bottom+z:b?k+N+_:o.bottom+_,P=-1;break;case"leftTopOver":x=o.left-v,O=o.top-v;break;case"rightTopOver":x=o.right+v,O=o.top-v,T=-1;break;case"leftBottomOver":x=o.left-v,O=o.bottom+v,P=-1;break;case"rightBottomOver":x=o.right+v,O=o.bottom+v,T=-1,P=-1;break}const de=this.calcTransformOrigin(u,o,T,P),be=this._adapter.containerIsBody();if(x=x-a.left,O=O-a.top,re&&(x/=l.width/this._adapter.getContainer().clientWidth),re&&(O/=l.height/this._adapter.getContainer().clientHeight),be&&!this._adapter.containerIsRelativeOrAbsolute()){const te=this._adapter.getDocumentElementBounding();x+=a.left-te.left,O+=a.top-te.top}x=be?x:x+a.scrollLeft,O=be?O:O+a.scrollTop;const ye=o.height;if(this.getProp("showArrow")&&!h&&ye<=(w/2+E)*2){const te=ye/2-(E+w/2);(u.includes("Top")||u.includes("Bottom"))&&!u.includes("Over")&&(O=u.includes("Top")?O+te:O-te)}const ge={left:this._roundPixel(x),top:this._roundPixel(O)};let pe="";return T!=null&&(pe+=`translateX(${T*100}%) `,Object.defineProperty(ge,"translateX",{enumerable:!1,value:T})),P!=null&&(pe+=`translateY(${P*100}%) `,Object.defineProperty(ge,"translateY",{enumerable:!1,value:P})),de!=null&&(ge.transformOrigin=de),pe&&(ge.transform=pe),ge}isLR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,t,r){return e<r&&t>r}isOverFlow(e,t,r){return e<r&&t<r}isHalfOverFlow(e,t,r){return e<r||t<r}isHalfAllEnough(e,t,r){return e>=r||t>=r}getReverse(e,t,r,s){return e&&s||r}adjustPosIfNeed(e,t,r,s,i){const{innerWidth:o,innerHeight:a}=window,{margin:l}=this.getProps(),u=typeof l=="number"?l:l.marginLeft,d=typeof l=="number"?l:l.marginTop,h=typeof l=="number"?l:l.marginRight,f=typeof l=="number"?l:l.marginBottom;let m=!1,b=!1;const v=this.getProp("spacing");let _=v,y=0;if(typeof v!="number"){const w=e.includes("top")||e.includes("bottom");_=w?v.y:v.x,y=w?v.x:v.y}if(s.width>0&&s.height>0){const w=r.left,E=r.right,S=r.top,I=r.bottom,x=o-w,O=a-S,T=o-E,P=a-I,A=s.width>r.width,k=s.height>r.height,M=S-d<s.height+_&&P-f>s.height+_,N=w-u<s.width+_&&T-h>s.width+_,K=P-f<s.height+_&&S-d>s.height+_,G=T-h<s.width+_&&w-u>s.width+_;O-f<s.height+_&&I-d>s.height+_,I-d<s.height+_&&O-f>s.height+_;const z=O<s.height+y&&I>s.height+y,ee=I<s.height+y&&O>s.height+y,j=x<s.width+y&&E>s.width+y,H=E<s.width+y&&x>s.width+y,U=O<s.height+_&&I>s.height+_,oe=I<s.height+_&&O>s.height+_,ne=x<s.width&&E>s.width,re=E<s.width&&x>s.width,de=S-i.top,be=w-i.left,ye=de+r.height,ge=be+r.width,pe=i.bottom-I,te=i.right-E,le=pe+r.height,ct=te+r.width,Ct=this.isReverse(de-d,pe-f,s.height+_),en=this.isReverse(be-u,te-h,s.width+_),gt=this.isReverse(pe-f,de-d,s.height+_),yn=this.isReverse(te-h,be-u,s.width+_);this.isReverse(le-f,ye-d,s.height+_),this.isReverse(ye-d,le-f,s.height+_);const mt=this.isReverse(le,ye,s.height+y),Yn=this.isReverse(ye,le,s.height+y),Fr=this.isReverse(ct,ge,s.width+y),Ei=this.isReverse(ge,ct,s.width+y),Ft=r.height/2,$n=r.width/2,ws=this.isOverFlow(S-d,P-f,s.height+_),jr=this.isOverFlow(w-u,T-h,s.width+_),Es=this.isOverFlow(I-d,O-f,s.height+_),so=this.isOverFlow(E-u,x-h,s.width+_),tn=this.isHalfOverFlow(I-Ft,O-Ft,(s.height+y)/2),kt=this.isHalfOverFlow(E-$n,x-$n,(s.width+y)/2),vn=this.isHalfAllEnough(I-Ft,O-Ft,(s.height+y)/2),In=this.isHalfAllEnough(E-$n,x-$n,(s.width+y)/2),ir=this.isOverFlow(de-d,pe-f,s.height+_),Fn=this.isOverFlow(be-u,te-h,s.width+_),or=this.isOverFlow(ye-d,le-f,s.height+_),Vr=this.isOverFlow(ge-u,ct-h,s.width+_),Ss=this.isHalfOverFlow(ye-Ft,le-Ft,(s.height+y)/2),_n=this.isHalfOverFlow(ge-$n,ct-$n,(s.width+y)/2),Jr=this.isHalfAllEnough(ye-Ft,le-Ft,(s.height+y)/2),Si=this.isHalfAllEnough(ge-$n,ct-$n,(s.width+y)/2),Cs=this.getReverse(ws,ir,M,Ct),Ci=this.getReverse(jr,Fn,N,en),es=this.getReverse(ws,ir,K,gt),ts=this.getReverse(jr,Fn,G,yn),yt=this.getReverse(Es,or,z,mt),Wt=this.getReverse(Es,or,ee,Yn),ft=this.getReverse(so,Vr,j,Fr),nn=this.getReverse(so,Vr,H,Ei),jt=tn&&Ss,Gt=kt&&_n;switch(e){case"top":Cs&&(e=this._adjustPos(e,!0)),Gt&&(ft||nn)&&(e=this._adjustPos(e,!0,"expand",ft?"Right":"Left"));break;case"topLeft":Cs&&(e=this._adjustPos(e,!0)),ft&&A&&(e=this._adjustPos(e)),b&&(In||Si)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":Cs&&(e=this._adjustPos(e,!0)),nn&&A&&(e=this._adjustPos(e)),b&&(In||Si)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":Ci&&(e=this._adjustPos(e)),jt&&(yt||Wt)&&(e=this._adjustPos(e,!1,"expand",yt?"Bottom":"Top"));break;case"leftTop":Ci&&(e=this._adjustPos(e)),yt&&k&&(e=this._adjustPos(e,!0)),m&&(vn||Jr)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":Ci&&(e=this._adjustPos(e)),Wt&&k&&(e=this._adjustPos(e,!0)),m&&(vn||Jr)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":es&&(e=this._adjustPos(e,!0)),Gt&&(ft||nn)&&(e=this._adjustPos(e,!0,"expand",ft?"Right":"Left"));break;case"bottomLeft":es&&(e=this._adjustPos(e,!0)),ft&&A&&(e=this._adjustPos(e)),b&&(In||Si)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":es&&(e=this._adjustPos(e,!0)),nn&&A&&(e=this._adjustPos(e)),b&&(In||Si)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":ts&&(e=this._adjustPos(e)),jt&&(yt||Wt)&&(e=this._adjustPos(e,!1,"expand",yt?"Bottom":"Top"));break;case"rightTop":ts&&(e=this._adjustPos(e)),yt&&k&&(e=this._adjustPos(e,!0)),m&&(vn||Jr)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":ts&&(e=this._adjustPos(e)),Wt&&k&&(e=this._adjustPos(e,!0)),m&&(vn||Jr)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":U&&(e=this._adjustPos(e,!0)),ne&&(e=this._adjustPos(e));break;case"leftBottomOver":oe&&(e=this._adjustPos(e,!0)),ne&&(e=this._adjustPos(e));break;case"rightTopOver":U&&(e=this._adjustPos(e,!0)),re&&(e=this._adjustPos(e));break;case"rightBottomOver":oe&&(e=this._adjustPos(e,!0)),re&&(e=this._adjustPos(e));break}this.isTB(e)&&(m=ws&&ir,e==="top"||e==="bottom"?b=kt&&_n||E<0||T<0:b=so&&Vr||E<0||T<0),this.isLR(e)&&(b=jr&&Fn,e==="left"||e==="right"?m=tn&&Ss||S<0||O<0:m=Es&&or||S<0||O<0)}return{position:e,isHeightOverFlow:m,isWidthOverFlow:b}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){const{closeOnEsc:t,disableArrowKeyDown:r}=this.getProps(),s=this._adapter.getContainer(),i=this._adapter.getFocusableElements(s),o=i.length;switch(e&&e.key){case"Escape":ri(e),t&&this._handleEscKeyDown(e);break;case"ArrowUp":!r&&o&&this._handleTriggerArrowUpKeydown(i,e);break;case"ArrowDown":!r&&o&&this._handleTriggerArrowDownKeydown(i,e);break}}focusTrigger(){const{trigger:e,returnFocusOnClose:t,preventScroll:r}=this.getProps();if(t&&e!=="custom"){const s=this._adapter.getTriggerNode();s&&"focus"in s&&s.focus({preventScroll:r})}}_handleEscKeyDown(e){const{trigger:t}=this.getProps();t!=="custom"&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[e.length-1]===s&&(e[0].focus({preventScroll:r}),t.preventDefault())}_handleContainerShiftTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),s=this._adapter.getActiveElement();e[0]===s&&(e[e.length-1].focus({preventScroll:r}),t.preventDefault())}_handleTriggerArrowDownKeydown(e,t){const{preventScroll:r}=this.getProps();e[0].focus({preventScroll:r}),t.preventDefault()}_handleTriggerArrowUpKeydown(e,t){const{preventScroll:r}=this.getProps();e[e.length-1].focus({preventScroll:r}),t.preventDefault()}};const See={PREFIX:`${W}-tooltip`},Al={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},hl={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0};function ey(n){return`${n}-${new Date().getTime()}-${Math.random()}`}function qg(){var n,e;try{return(e=(n=crypto==null?void 0:crypto.randomUUID)===null||n===void 0?void 0:n.call(crypto))!==null&&e!==void 0?e:String(9987e3+-1e11).replace(/[018]/g,t=>(Number(t)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(t)/4).toString(16))}catch{return ey("semi")}}function No(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefix:e="",length:t=7}=n,r="0123456789abcdefghijklmnopqrstuvwxyz",s=r.length;let i="";for(let o=0;o<t;o++){const a=Math.floor(Math.random()*s);i+=r.charAt(a)}return e?`${e}-${i}`:i}function Mw(n){return g.isValidElement(n)}function yx(n){return g.Children.count(n)===0}var Cee=Cv,Tee=id,Oee=Tv,vx=Zr,Iee=du;function Pee(n,e,t,r){if(!vx(n))return n;e=Tee(e,n);for(var s=-1,i=e.length,o=i-1,a=n;a!=null&&++s<i;){var l=Iee(e[s]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=o){var d=a[l];u=r?r(d,l,a):void 0,u===void 0&&(u=vx(d)?d:Oee(e[s+1])?[]:{})}Cee(a,l,u),a=a[l]}return n}var p$=Pee,xee=p$;function Ree(n,e,t){return n==null?n:xee(n,e,t)}var Aee=Ree;const pc=Ce(Aee);var Dee=r$,kee=1,Nee=4;function Lee(n,e){return e=typeof e=="function"?e:void 0,Dee(n,kee|Nee,e)}var Mee=Lee;const g$=Ce(Mee);class $ee{constructor(){this.config={}}}const wb=new $ee;var _x=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};function fg(n,e){n&&typeof n.stopPropagation=="function"&&n.stopPropagation(),n.nativeEvent&&typeof n.nativeEvent.stopImmediatePropagation=="function"&&n.nativeEvent.stopImmediatePropagation()}function Fee(n,e){return g$(n,t=>{if(typeof e=="function")return e(t);if(typeof t=="function"||g.isValidElement(t)||Object.prototype.toString.call(t)==="[object Error]")return t;if(Array.isArray(t)&&t.length===0){const r=Object.keys(t);if(r.length){const s=[];r.forEach(i=>{pc(s,i,t[i])});try{Kt(Q(process,"env.NODE_ENV")!=="production",`[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.
                    The maximum length of an array is 4294967295.
                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript`)}catch{}return s}else return}})}const jee=(n,e)=>{let{match:t,unmatch:r,callInInit:s=!0}=e;if(typeof window<"u"){let a=function(l){l.matches?t&&t(l):r&&r(l)};var i=a;const o=window.matchMedia(n);return s&&a(o),Object.prototype.hasOwnProperty.call(o,"addEventListener")?(o.addEventListener("change",a),()=>o.removeEventListener("change",a)):(o.addListener(a),()=>o.removeListener(a))}return()=>{}},_r=n=>g.isValidElement(n)&&Q(n.type,"elementType")==="Icon";function m$(){return document?document.activeElement:null}function y$(n){if(!Xe(n))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(n.querySelectorAll(t))}function eT(n,e){return _x(this,void 0,void 0,function*(){if(e===0){yield n();return}else{yield new Promise(t=>{setTimeout(()=>_x(this,void 0,void 0,function*(){yield eT(n,e-1),t()}),0)});return}})}function Vee(){return globalThis&&Object.prototype.toString.call(globalThis)==="[object Window]"?window.innerWidth-document.documentElement.clientWidth:0}function bs(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=()=>{var r,s;return((s=(r=wb==null?void 0:wb.config)===null||r===void 0?void 0:r.overrideDefaultProps)===null||s===void 0?void 0:s[n])||{}};return new Proxy(Object.assign({},e),{get(r,s,i){const o=t();return s in o?o[s]:Reflect.get(r,s,i)},set(r,s,i,o){return Reflect.set(r,s,i,o)},ownKeys(){const r=t();return Array.from(new Set([...Reflect.ownKeys(e),...Object.keys(r)]))},getOwnPropertyDescriptor(r,s){const i=t();return s in i?Reflect.getOwnPropertyDescriptor(i,s):Reflect.getOwnPropertyDescriptor(r,s)}})}const Lr=g.createContext({}),Uee=()=>document.body;class Jf extends D.PureComponent{constructor(e,t){var r;super(e),r=this,this.initContainer=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var o,a;try{let l;if(!r.el||!(!((o=r.state)===null||o===void 0)&&o.container)||!Array.from(r.state.container.childNodes).includes(r.el)){r.el=document.createElement("div");const d=(r.props.getPopupContainer||s.getPopupContainer||Uee)();return d.appendChild(r.el),r.addStyle(r.props.style),r.addClass(r.props.prefixCls,s,r.props.className),l=d,l}}catch(l){if(!i)throw l}return(a=r.state)===null||a===void 0?void 0:a.container},this.addStyle=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.el)for(const i of Object.keys(s))r.el.style[i]=s[i]},this.addClass=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.context;const{direction:o}=i;for(var a=arguments.length,l=new Array(a>2?a-2:0),u=2;u<a;u++)l[u-2]=arguments[u];const d=$(s,...l,{[`${s}-rtl`]:o==="rtl"});r.el&&(r.el.className=d)},this.state={container:this.initContainer(t,!0)}}componentDidMount(){const e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){const{didUpdate:t}=this.props;t&&t(e)}componentWillUnmount(){const{container:e}=this.state;e&&e.removeChild(this.el)}render(){const{state:e,props:t}=this;return e.container?Fs.createPortal(t.children,this.el):null}}Jf.contextType=Lr;Jf.defaultProps={prefixCls:`${W}-portal`};Jf.propTypes={children:c.node,prefixCls:c.string,getPopupContainer:c.func,className:c.string,didUpdate:c.func};var Bee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Hee=n=>{const{className:e,style:t}=n,r=Bee(n,["className","style"]);return g.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),g.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))};var zee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Kee=n=>{const{className:e,style:t}=n,r=zee(n,["className","style"]);return g.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},r,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),g.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},Wee=c.shape({offsetX:c.number,offsetY:c.number,width:c.number,height:c.number});class af extends g.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var t,r;(r=(t=this.props).onAnimationStart)===null||r===void 0||r.call(t)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var t,r;(r=(t=this.props).onAnimationEnd)===null||r===void 0||r.call(t,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,t,r,s;(t=(e=this.props).onAnimationStart)===null||t===void 0||t.call(e),this.props.motion||((s=(r=this.props).onAnimationEnd)===null||s===void 0||s.call(r,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,t,r){const s=Object.keys(this.props).filter(i=>!Fe(this.props[i],e[i]));s.includes("animationState"),(s.includes("startClassName")||s.includes("replayKey")||s.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var i,o,a,l;(o=(i=this.props).onAnimationStart)===null||o===void 0||o.call(i),this.props.motion||((l=(a=this.props).onAnimationEnd)===null||l===void 0||l.call(a,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var e;return this.props.motion?this.props.children({animationClassName:(e=this.state.currentClassName)!==null&&e!==void 0?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}af.defaultProps={motion:!0,replayKey:""};var bx=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Xg=See.PREFIX,Gee=Al.POSITION_SET,Yee=Al.TRIGGER_SET,qee=["flex","block","table","flow-root","grid"],Xee=()=>document.body;class wr extends xe{constructor(e){super(e),this.isAnimating=!1,this.setContainerEl=t=>this.containerEl={current:t},this.isSpecial=t=>{if(Xe(t))return!!t.disabled;if(D.isValidElement(t)){if(Q(t,"props.disabled"))return Al.STATUS_DISABLED;const s=Q(t,"props.loading"),i=!It(t)&&!It(t.type)&&(Q(t,"type.elementType")==="Button"||Q(t,"type.elementType")==="IconButton");if(s&&i)return Al.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{const{placement:t}=this.state,{showArrow:r,prefixCls:s,style:i}=this.props;let o=null;const a=$([`${s}-icon-arrow`]),l=Q(i,"backgroundColor"),u=t!=null&&t.includes("left")||t!=null&&t.includes("right")?g.createElement(Kee,null):g.createElement(Hee,null);return r&&(D.isValidElement(r)?o=r:o=g.cloneElement(u,{className:a,style:{color:l,fill:"currentColor"}})),o},this.handlePortalInnerClick=t=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&fg(t)},this.handlePortalMouseDown=t=>{this.props.stopPropagation&&fg(t)},this.handlePortalFocus=t=>{this.props.stopPropagation&&fg(t)},this.handlePortalBlur=t=>{this.props.stopPropagation&&fg(t)},this.handlePortalInnerKeyDown=t=>{this.foundation.handleContainerKeydown(t)},this.renderContentNode=t=>{const r={initialFocusRef:this.initialFocusRef};return De(t)?t(r):t},this.renderPortal=()=>{const{containerStyle:t={},visible:r,portalEventSet:s,placement:i,displayNone:o,transitionState:a,id:l,isPositionUpdated:u}=this.state,{prefixCls:d,content:h,showArrow:f,style:m,motion:b,role:v,zIndex:_}=this.props,y=this.renderContentNode(h),{className:w}=this.props,E=this.context.direction,S=$(w,{[`${d}-wrapper`]:!0,[`${d}-wrapper-show`]:r,[`${d}-with-arrow`]:!!f,[`${d}-rtl`]:E==="rtl"}),I=this.renderIcon(),x=Ho(t,b?["transformOrigin"]:void 0),O=Q(t,"transformOrigin"),T=Q(m,"opacity",null),P=T||1,A=g.createElement(af,{fillMode:"forwards",animationState:a,motion:b&&u,startClassName:a==="enter"?`${Xg}-animation-show`:`${Xg}-animation-hide`,onAnimationStart:()=>this.isAnimating=!0,onAnimationEnd:()=>{var k,M;a==="leave"&&(this.didLeave(),(M=(k=this.props).afterClose)===null||M===void 0||M.call(k)),this.isAnimating=!1}},k=>{let{animationStyle:M,animationClassName:N,animationEventsNeedBind:K}=k;return g.createElement("div",Object.assign({className:$(S,N),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},M),o?{display:"none"}:{}),{transformOrigin:O}),m),T?{opacity:u?P:"0"}:{})},s,K,{role:v,"x-placement":i,id:l}),g.createElement("div",{className:`${Xg}-content`},y),I)});return g.createElement(Jf,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:_}},g.createElement("div",{tabIndex:-1,className:`${W}-portal-inner`,style:x,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},A))},this.wrapSpan=t=>{const{wrapperClassName:r}=this.props,s=Q(t,"props.style.display"),i=Q(t,"props.block"),o=typeof t=="string",a={};return o||(a.display="inline-block"),(i||qee.includes(s))&&(a.width="100%"),g.createElement("span",{className:r,style:a},t)},this.mergeEvents=(t,r)=>{const s={};return _ee(r,(i,o)=>{typeof i=="function"&&(s[o]=function(){i(...arguments),t&&typeof t[o]=="function"&&t[o](...arguments)})}),s},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new Eee(this.adapter),this.eventManager=new h$,this.triggerEl=g.createRef(),this.containerEl=g.createRef(),this.initialFocusRef=g.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},getAnimatingState:()=>this.isAnimating,insertPortal:(t,r)=>{var s=bx(r,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),s)},()=>{setTimeout(()=>{this.setState(i=>(i.transitionState==="enter"&&this.eventManager.emit("portalInserted"),{}))},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:t=>{this.setState({triggerEventSet:t})},registerPortalEvent:t=>{this.setState({portalEventSet:t})},getTriggerBounding:()=>{const t=this.adapter.getTriggerNode();return this.triggerEl.current=t,t&&t.getBoundingClientRect()},getPopupContainerRect:()=>{const t=this.getPopupContainer();let r=null;if(t&&Xe(t)){const s=wee(t.getBoundingClientRect());r=Object.assign(Object.assign({},s),{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})}return r},containerIsBody:()=>this.getPopupContainer()===document.body,containerIsRelative:()=>{const t=this.getPopupContainer();return window.getComputedStyle(t).getPropertyValue("position")==="relative"},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{const t=this.containerEl&&this.containerEl.current;return t&&t.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:t=>{var{position:r}=t,s=bx(t,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),s),placement:r,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(t,r)=>{this.setState({displayNone:t},r)},updatePlacementAttr:t=>{this.setState({placement:t})},togglePortalVisible:(t,r)=>{const s={};s.transitionState=t?"enter":"leave",s.visible=t,this.mounted&&this.setState(s,()=>{r()})},registerClickOutsideHandler:t=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=r=>{if(!this.mounted)return!1;let s=this.triggerEl&&this.triggerEl.current,i=this.containerEl&&this.containerEl.current;s=Ar.findDOMNode(s),i=Ar.findDOMNode(i);const o=r.target,a=r.composedPath&&r.composedPath()||[o],l=this.props.clickTriggerToHide?s&&s.contains(o)||a.includes(s):!1;(s&&!s.contains(o)&&i&&!i.contains(o)&&!(a.includes(i)||a.includes(s))||l)&&(this.props.onClickOutSide(r),t())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:t=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=qm(r=>{if(!this.mounted)return!1;t(r)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:t=>{this.props.onVisibleChange(t)},registerScrollHandler:t=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=qm(r=>{if(!this.mounted)return!1;const s=this.adapter.getTriggerNode();if(r.target.contains(s)){const o={x:r.target.scrollLeft,y:r.target.scrollTop};t(o)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{const t=this.getPopupContainer();if(t&&Xe(t)){const s=window.getComputedStyle(t).getPropertyValue("position");this.containerPosition=s}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let t=this.triggerEl.current;return Xe(this.triggerEl.current)||(t=Ar.findDOMNode(this.triggerEl.current)),t},getFocusableElements:t=>y$(t),getActiveElement:()=>m$(),setInitialFocus:()=>{const{preventScroll:t}=this.props,r=Q(this,"initialFocusRef.current");r&&"focus"in r&&r.focus({preventScroll:t})},notifyEscKeydown:t=>{this.props.onEscKeyDown(t)},setId:()=>{this.setState({id:No()})},getTriggerDOM:()=>this.triggerEl.current?Ar.findDOMNode(this.triggerEl.current):null})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||Xee,this.foundation.init(),eT(()=>{let e=this.triggerEl.current;e&&(e instanceof HTMLElement||(e=Fs.findDOMNode(e))),this.foundation.updateStateIfCursorOnTrigger(e)},1)}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,t){Kt(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),Fe(e.rePosKey,this.props.rePosKey)||this.rePosition()}render(){const{isInsert:e,triggerEventSet:t,visible:r,id:s}=this.state,{wrapWhenSpecial:i,role:o,trigger:a}=this.props;let{children:l}=this.props;const u=Object.assign({},Q(l,"props.style")),d={};if(i){const m=this.isSpecial(l);m?(u.pointerEvents="none",m===Al.STATUS_DISABLED&&(d.cursor="not-allowed"),l=D.cloneElement(l,{style:u}),a!=="custom"&&(l=this.wrapSpan(l)),this.isWrapped=!0):D.isValidElement(l)||(l=this.wrapSpan(l),this.isWrapped=!0)}let h={};o==="dialog"?(h["aria-expanded"]=r?"true":"false",h["aria-haspopup"]="dialog",h["aria-controls"]=s):h["aria-describedby"]=s;const f=g.cloneElement(l,Object.assign(Object.assign(Object.assign(Object.assign({},h),l.props),this.mergeEvents(l.props,t)),{style:Object.assign(Object.assign({},Q(l,"props.style")),d),className:$(Q(l,"props.className")),ref:m=>{this.triggerEl.current=m;const{ref:b}=l;typeof b=="function"?b(m):b&&typeof b=="object"&&(b.current=m)},tabIndex:l.props.tabIndex||0,"data-popupid":s}));return g.createElement(g.Fragment,null,e?this.renderPortal():null,f)}}wr.contextType=Lr;wr.propTypes={children:c.node,motion:c.bool,autoAdjustOverflow:c.bool,position:c.oneOf(Gee),getPopupContainer:c.func,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(Yee).isRequired,className:c.string,wrapperClassName:c.string,clickToHide:c.bool,clickTriggerToHide:c.bool,visible:c.bool,style:c.object,content:c.oneOfType([c.node,c.func]),prefixCls:c.string,onVisibleChange:c.func,onClickOutSide:c.func,spacing:c.oneOfType([c.number,c.object]),margin:c.oneOfType([c.number,c.object]),showArrow:c.oneOfType([c.bool,c.node]),zIndex:c.number,rePosKey:c.oneOfType([c.string,c.number]),arrowBounding:Wee,transformFromCenter:c.bool,arrowPointAtCenter:c.bool,stopPropagation:c.bool,role:c.string,wrapWhenSpecial:c.bool,guardFocus:c.bool,returnFocusOnClose:c.bool,preventScroll:c.bool,keepDOM:c.bool};wr.__SemiComponentName__="Tooltip";wr.defaultProps=bs(wr.__SemiComponentName__,{arrowBounding:hl.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:Xg,role:"tooltip",mouseEnterDelay:hl.MOUSE_ENTER_DELAY,mouseLeaveDelay:hl.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:F,onClickOutSide:F,spacing:hl.SPACING,margin:hl.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:hl.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:F,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1});var tT={exports:{}};const v$=(n,{target:e=document.body}={})=>{const t=document.createElement("textarea"),r=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const s=document.getSelection();let i=!1;s.rangeCount>0&&(i=s.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;let o=!1;try{o=document.execCommand("copy")}catch{}return t.remove(),i&&(s.removeAllRanges(),s.addRange(i)),r&&r.focus(),o};tT.exports=v$;tT.exports.default=v$;var Qee=tT.exports;const Zee=Ce(Qee);function Pt(){}const Jee=g.createContext(null);function gc(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth,r=n.formats[t]||n.formats[n.defaultWidth];return r}}function Ri(n){return function(e,t){var r=t!=null&&t.context?String(t.context):"standalone",s;if(r==="formatting"&&n.formattingValues){var i=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):i;s=n.formattingValues[o]||n.formattingValues[i]}else{var a=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[l]||n.values[a]}var u=n.argumentCallback?n.argumentCallback(e):e;return s[u]}}function Ai(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?tte(a,function(h){return h.test(o)}):ete(a,function(h){return h.test(o)}),u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var d=e.slice(o.length);return{value:u,rest:d}}}function ete(n,e){for(var t in n)if(n.hasOwnProperty(t)&&e(n[t]))return t}function tte(n,e){for(var t=0;t<n.length;t++)if(e(n[t]))return t}function _$(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var s=r[0],i=e.match(n.parsePattern);if(!i)return null;var o=n.valueCallback?n.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}function Qi(n){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(n)}function Mt(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ae(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function Ne(n){Ae(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Qi(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ba(n,e){Ae(2,arguments);var t=Ne(n),r=Mt(e);if(isNaN(r))return new Date(NaN);if(!r)return t;var s=t.getDate(),i=new Date(t.getTime());i.setMonth(t.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),s),t)}function nte(n,e){Ae(2,arguments);var t=Ne(n).getTime(),r=Mt(e);return new Date(t+r)}var rte={};function cd(){return rte}function b$(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function wx(n){Ae(1,arguments);var e=Ne(n);return e.setHours(0,0,0,0),e}function ty(n,e){Ae(2,arguments);var t=Mt(e);return ba(n,t*12)}var nT=6e4,rT=36e5,ste=1e3;function sT(n,e){Ae(2,arguments);var t=wx(n),r=wx(e);return t.getTime()===r.getTime()}function $w(n){return Ae(1,arguments),n instanceof Date||Qi(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Ms(n){if(Ae(1,arguments),!$w(n)&&typeof n!="number")return!1;var e=Ne(n);return!isNaN(Number(e))}function fl(n,e){Ae(2,arguments);var t=Ne(n),r=Ne(e),s=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return s*12+i}function ite(n,e){Ae(2,arguments);var t=Ne(n),r=Ne(e);return t.getFullYear()-r.getFullYear()}function ote(n){Ae(1,arguments);var e=Ne(n);return e.setDate(1),e.setHours(0,0,0,0),e}function w$(n,e){Ae(2,arguments);var t=Mt(e);return nte(n,-t)}var ate=864e5;function lte(n){Ae(1,arguments);var e=Ne(n),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=t-r;return Math.floor(s/ate)+1}function kc(n){Ae(1,arguments);var e=1,t=Ne(n),r=t.getUTCDay(),s=(r<e?7:0)+r-e;return t.setUTCDate(t.getUTCDate()-s),t.setUTCHours(0,0,0,0),t}function E$(n){Ae(1,arguments);var e=Ne(n),t=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(t+1,0,4),r.setUTCHours(0,0,0,0);var s=kc(r),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var o=kc(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function ute(n){Ae(1,arguments);var e=E$(n),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var r=kc(t);return r}var cte=6048e5;function S$(n){Ae(1,arguments);var e=Ne(n),t=kc(e).getTime()-ute(e).getTime();return Math.round(t/cte)+1}function Lo(n,e){var t,r,s,i,o,a,l,u;Ae(1,arguments);var d=cd(),h=Mt((t=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ne(n),m=f.getUTCDay(),b=(m<h?7:0)+m-h;return f.setUTCDate(f.getUTCDate()-b),f.setUTCHours(0,0,0,0),f}function iT(n,e){var t,r,s,i,o,a,l,u;Ae(1,arguments);var d=Ne(n),h=d.getUTCFullYear(),f=cd(),m=Mt((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(h+1,0,m),b.setUTCHours(0,0,0,0);var v=Lo(b,e),_=new Date(0);_.setUTCFullYear(h,0,m),_.setUTCHours(0,0,0,0);var y=Lo(_,e);return d.getTime()>=v.getTime()?h+1:d.getTime()>=y.getTime()?h:h-1}function dte(n,e){var t,r,s,i,o,a,l,u;Ae(1,arguments);var d=cd(),h=Mt((t=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=iT(n,e),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var b=Lo(m,e);return b}var hte=6048e5;function C$(n,e){Ae(1,arguments);var t=Ne(n),r=Lo(t,e).getTime()-dte(t,e).getTime();return Math.round(r/hte)+1}function _t(n,e){for(var t=n<0?"-":"",r=Math.abs(n).toString();r.length<e;)r="0"+r;return t+r}var Qo={y:function(e,t){var r=e.getUTCFullYear(),s=r>0?r:1-r;return _t(t==="yy"?s%100:s,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):_t(r+1,2)},d:function(e,t){return _t(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return _t(e.getUTCHours()%12||12,t.length)},H:function(e,t){return _t(e.getUTCHours(),t.length)},m:function(e,t){return _t(e.getUTCMinutes(),t.length)},s:function(e,t){return _t(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return _t(i,t.length)}},Iu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fte={G:function(e,t,r){var s=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Qo.y(e,t)},Y:function(e,t,r,s){var i=iT(e,s),o=i>0?i:1-i;if(t==="YY"){var a=o%100;return _t(a,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):_t(o,t.length)},R:function(e,t){var r=E$(e);return _t(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return _t(r,t.length)},Q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return _t(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return _t(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){var s=e.getUTCMonth();switch(t){case"M":case"MM":return Qo.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){var s=e.getUTCMonth();switch(t){case"L":return String(s+1);case"LL":return _t(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){var i=C$(e,s);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):_t(i,t.length)},I:function(e,t,r){var s=S$(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):_t(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Qo.d(e,t)},D:function(e,t,r){var s=lte(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):_t(s,t.length)},E:function(e,t,r){var s=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return _t(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return _t(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var s=e.getUTCDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return _t(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var s=e.getUTCHours(),i;switch(s===12?i=Iu.noon:s===0?i=Iu.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var s=e.getUTCHours(),i;switch(s>=17?i=Iu.evening:s>=12?i=Iu.afternoon:s>=4?i=Iu.morning:i=Iu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Qo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Qo.H(e,t)},K:function(e,t,r){var s=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):_t(s,t.length)},k:function(e,t,r){var s=e.getUTCHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):_t(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Qo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Qo.s(e,t)},S:function(e,t){return Qo.S(e,t)},X:function(e,t,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Sx(o);case"XXXX":case"XX":return pl(o);case"XXXXX":case"XXX":default:return pl(o,":")}},x:function(e,t,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return Sx(o);case"xxxx":case"xx":return pl(o);case"xxxxx":case"xxx":default:return pl(o,":")}},O:function(e,t,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ex(o,":");case"OOOO":default:return"GMT"+pl(o,":")}},z:function(e,t,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ex(o,":");case"zzzz":default:return"GMT"+pl(o,":")}},t:function(e,t,r,s){var i=s._originalDate||e,o=Math.floor(i.getTime()/1e3);return _t(o,t.length)},T:function(e,t,r,s){var i=s._originalDate||e,o=i.getTime();return _t(o,t.length)}};function Ex(n,e){var t=n>0?"-":"+",r=Math.abs(n),s=Math.floor(r/60),i=r%60;if(i===0)return t+String(s);var o=e;return t+String(s)+o+_t(i,2)}function Sx(n,e){if(n%60===0){var t=n>0?"-":"+";return t+_t(Math.abs(n)/60,2)}return pl(n,e)}function pl(n,e){var t=e||"",r=n>0?"-":"+",s=Math.abs(n),i=_t(Math.floor(s/60),2),o=_t(s%60,2);return r+i+t+o}var Cx=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},T$=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pte=function(e,t){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Cx(e,t);var o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Cx(s,t)).replace("{{time}}",T$(i,t))},Fw={p:T$,P:pte},gte=["D","DD"],mte=["YY","YYYY"];function O$(n){return gte.indexOf(n)!==-1}function I$(n){return mte.indexOf(n)!==-1}function ny(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var yte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vte=function(e,t,r){var s,i=yte[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s},_te={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ete={date:gc({formats:_te,defaultWidth:"full"}),time:gc({formats:bte,defaultWidth:"full"}),dateTime:gc({formats:wte,defaultWidth:"full"})},Ste={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cte=function(e,t,r,s){return Ste[e]},Tte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ote={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ite={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ate=function(e,t){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Dte={ordinalNumber:Ate,era:Ri({values:Tte,defaultWidth:"wide"}),quarter:Ri({values:Ote,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ri({values:Ite,defaultWidth:"wide"}),day:Ri({values:Pte,defaultWidth:"wide"}),dayPeriod:Ri({values:xte,defaultWidth:"wide",formattingValues:Rte,defaultFormattingWidth:"wide"})},kte=/^(\d+)(th|st|nd|rd)?/i,Nte=/\d+/i,Lte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mte={any:[/^b/i,/^(a|c)/i]},$te={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fte={any:[/1/i,/2/i,/3/i,/4/i]},jte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ute={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kte={ordinalNumber:_$({matchPattern:kte,parsePattern:Nte,valueCallback:function(e){return parseInt(e,10)}}),era:Ai({matchPatterns:Lte,defaultMatchWidth:"wide",parsePatterns:Mte,defaultParseWidth:"any"}),quarter:Ai({matchPatterns:$te,defaultMatchWidth:"wide",parsePatterns:Fte,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ai({matchPatterns:jte,defaultMatchWidth:"wide",parsePatterns:Vte,defaultParseWidth:"any"}),day:Ai({matchPatterns:Ute,defaultMatchWidth:"wide",parsePatterns:Bte,defaultParseWidth:"any"}),dayPeriod:Ai({matchPatterns:Hte,defaultMatchWidth:"any",parsePatterns:zte,defaultParseWidth:"any"})},P$={code:"en-US",formatDistance:vte,formatLong:Ete,formatRelative:Cte,localize:Dte,match:Kte,options:{weekStartsOn:0,firstWeekContainsDate:1}},Wte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yte=/^'([^]*?)'?$/,qte=/''/g,Xte=/[a-zA-Z]/;function at(n,e,t){var r,s,i,o,a,l,u,d,h,f,m,b,v,_,y,w,E,S;Ae(2,arguments);var I=String(e),x=cd(),O=(r=(s=t==null?void 0:t.locale)!==null&&s!==void 0?s:x.locale)!==null&&r!==void 0?r:P$,T=Mt((i=(o=(a=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:x.firstWeekContainsDate)!==null&&o!==void 0?o:(h=x.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Mt((m=(b=(v=(_=t==null?void 0:t.weekStartsOn)!==null&&_!==void 0?_:t==null||(y=t.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&v!==void 0?v:x.weekStartsOn)!==null&&b!==void 0?b:(E=x.locale)===null||E===void 0||(S=E.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&m!==void 0?m:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!O.localize)throw new RangeError("locale must contain localize property");if(!O.formatLong)throw new RangeError("locale must contain formatLong property");var A=Ne(n);if(!Ms(A))throw new RangeError("Invalid time value");var k=b$(A),M=w$(A,k),N={firstWeekContainsDate:T,weekStartsOn:P,locale:O,_originalDate:A},K=I.match(Gte).map(function(G){var z=G[0];if(z==="p"||z==="P"){var ee=Fw[z];return ee(G,O.formatLong)}return G}).join("").match(Wte).map(function(G){if(G==="''")return"'";var z=G[0];if(z==="'")return Qte(G);var ee=fte[z];if(ee)return!(t!=null&&t.useAdditionalWeekYearTokens)&&I$(G)&&ny(G,e,String(n)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&O$(G)&&ny(G,e,String(n)),ee(M,G,O.localize,N);if(z.match(Xte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return G}).join("");return K}function Qte(n){var e=n.match(Yte);return e?e[1].replace(qte,"'"):n}function Zte(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function x$(n){Ae(1,arguments);var e=Ne(n),t=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Jte(n){Ae(1,arguments);var e=Ne(n),t=e.getHours();return t}function ene(n){Ae(1,arguments);var e=Ne(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function tne(n,e){Ae(2,arguments);var t=Ne(n),r=Ne(e);return t.getTime()>r.getTime()}function R$(n,e){Ae(2,arguments);var t=Ne(n),r=Ne(e);return t.getTime()<r.getTime()}function ry(n,e){Ae(2,arguments);var t=Ne(n),r=Ne(e);return t.getTime()===r.getTime()}function Tx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function nne(n,e){if(n){if(typeof n=="string")return Tx(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Tx(n,e):void 0}}function Ox(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=nne(n))||e){t&&(n=t);var r=0,s=function(){};return{s,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return o=u.done,u},e:function(u){a=!0,i=u},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw i}}}}function ue(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function sy(n,e){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},sy(n,e)}function Je(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&sy(n,e)}function iy(n){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iy(n)}function A$(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!n})()}function rne(n,e){if(e&&(Qi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ue(n)}function et(n){var e=A$();return function(){var t,r=iy(n);if(e){var s=iy(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return rne(this,t)}}function He(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sne(n,e){if(Qi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Qi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function D$(n){var e=sne(n,"string");return Qi(e)=="symbol"?e:e+""}function ine(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,D$(r.key),r)}}function ze(n,e,t){return e&&ine(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ae(n,e,t){return(e=D$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var one=10,k$=function(){function n(){He(this,n),ae(this,"priority",void 0),ae(this,"subPriority",0)}return ze(n,[{key:"validate",value:function(t,r){return!0}}]),n}(),ane=function(n){Je(t,n);var e=et(t);function t(r,s,i,o,a){var l;return He(this,t),l=e.call(this),l.value=r,l.validateValue=s,l.setValue=i,l.priority=o,a&&(l.subPriority=a),l}return ze(t,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,o){return this.setValue(s,i,this.value,o)}}]),t}(k$),lne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",one),ae(ue(r),"subPriority",-1),r}return ze(t,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}}]),t}(k$),ht=function(){function n(){He(this,n),ae(this,"incompatibleTokens",void 0),ae(this,"priority",void 0),ae(this,"subPriority",void 0)}return ze(n,[{key:"run",value:function(t,r,s,i){var o=this.parse(t,r,s,i);return o?{setter:new ane(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(t,r,s){return!0}}]),n}(),une=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",140),ae(ue(r),"incompatibleTokens",["R","u","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"G":case"GG":case"GGG":return o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"});case"GGGGG":return o.era(s,{width:"narrow"});case"GGGG":default:return o.era(s,{width:"wide"})||o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,o){return i.era=o,s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(ht),Cn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Di={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(n,e){return n&&{value:e(n.value),rest:n.rest}}function an(n,e){var t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ki(n,e){var t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(s*rT+i*nT+o*ste),rest:e.slice(t[0].length)}}function N$(n){return an(Cn.anyDigitsSigned,n)}function mn(n,e){switch(n){case 1:return an(Cn.singleDigit,e);case 2:return an(Cn.twoDigits,e);case 3:return an(Cn.threeDigits,e);case 4:return an(Cn.fourDigits,e);default:return an(new RegExp("^\\d{1,"+n+"}"),e)}}function oy(n,e){switch(n){case 1:return an(Cn.singleDigitSigned,e);case 2:return an(Cn.twoDigitsSigned,e);case 3:return an(Cn.threeDigitsSigned,e);case 4:return an(Cn.fourDigitsSigned,e);default:return an(new RegExp("^-?\\d{1,"+n+"}"),e)}}function oT(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function L$(n,e){var t=e>0,r=t?e:1-e,s;if(r<=50)s=n||100;else{var i=r+50,o=Math.floor(i/100)*100,a=n>=i%100;s=n+o-(a?100:0)}return t?s:1-s}function M$(n){return n%400===0||n%4===0&&n%100!==0}var cne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",130),ae(ue(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Tn(mn(4,s),a);case"yo":return Tn(o.ordinalNumber(s,{unit:"year"}),a);default:return Tn(mn(i.length,s),a)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,o){var a=s.getUTCFullYear();if(o.isTwoDigitYear){var l=L$(o.year,a);return s.setUTCFullYear(l,0,1),s.setUTCHours(0,0,0,0),s}var u=!("era"in i)||i.era===1?o.year:1-o.year;return s.setUTCFullYear(u,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(ht),dne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",130),ae(ue(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Tn(mn(4,s),a);case"Yo":return Tn(o.ordinalNumber(s,{unit:"year"}),a);default:return Tn(mn(i.length,s),a)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,o,a){var l=iT(s,a);if(o.isTwoDigitYear){var u=L$(o.year,l);return s.setUTCFullYear(u,0,a.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Lo(s,a)}var d=!("era"in i)||i.era===1?o.year:1-o.year;return s.setUTCFullYear(d,0,a.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Lo(s,a)}}]),t}(ht),hne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",130),ae(ue(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i){return oy(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),kc(a)}}]),t}(ht),fne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",130),ae(ue(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i){return oy(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,o){return s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),t}(ht),pne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",120),ae(ue(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"Q":case"QQ":return mn(i.length,s);case"Qo":return o.ordinalNumber(s,{unit:"quarter"});case"QQQ":return o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(s,{width:"wide",context:"formatting"})||o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(ht),gne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",120),ae(ue(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"q":case"qq":return mn(i.length,s);case"qo":return o.ordinalNumber(s,{unit:"quarter"});case"qqq":return o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(s,{width:"wide",context:"standalone"})||o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),t}(ht),mne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ae(ue(r),"priority",110),r}return ze(t,[{key:"parse",value:function(s,i,o){var a=function(u){return u-1};switch(i){case"M":return Tn(an(Cn.month,s),a);case"MM":return Tn(mn(2,s),a);case"Mo":return Tn(o.ordinalNumber(s,{unit:"month"}),a);case"MMM":return o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(s,{width:"wide",context:"formatting"})||o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),t}(ht),yne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",110),ae(ue(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){var a=function(u){return u-1};switch(i){case"L":return Tn(an(Cn.month,s),a);case"LL":return Tn(mn(2,s),a);case"Lo":return Tn(o.ordinalNumber(s,{unit:"month"}),a);case"LLL":return o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(s,{width:"wide",context:"standalone"})||o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),t}(ht);function vne(n,e,t){Ae(2,arguments);var r=Ne(n),s=Mt(e),i=C$(r,t)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var _ne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",100),ae(ue(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"w":return an(Cn.week,s);case"wo":return o.ordinalNumber(s,{unit:"week"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,o,a){return Lo(vne(s,o,a),a)}}]),t}(ht);function bne(n,e){Ae(2,arguments);var t=Ne(n),r=Mt(e),s=S$(t)-r;return t.setUTCDate(t.getUTCDate()-s*7),t}var wne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",100),ae(ue(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"I":return an(Cn.week,s);case"Io":return o.ordinalNumber(s,{unit:"week"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,o){return kc(bne(s,o))}}]),t}(ht),Ene=[31,28,31,30,31,30,31,31,30,31,30,31],Sne=[31,29,31,30,31,30,31,31,30,31,30,31],Cne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"subPriority",1),ae(ue(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"d":return an(Cn.date,s);case"do":return o.ordinalNumber(s,{unit:"date"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){var o=s.getUTCFullYear(),a=M$(o),l=s.getUTCMonth();return a?i>=1&&i<=Sne[l]:i>=1&&i<=Ene[l]}},{key:"set",value:function(s,i,o){return s.setUTCDate(o),s.setUTCHours(0,0,0,0),s}}]),t}(ht),Tne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"subpriority",1),ae(ue(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"D":case"DD":return an(Cn.dayOfYear,s);case"Do":return o.ordinalNumber(s,{unit:"date"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){var o=s.getUTCFullYear(),a=M$(o);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,o){return s.setUTCMonth(0,o),s.setUTCHours(0,0,0,0),s}}]),t}(ht);function aT(n,e,t){var r,s,i,o,a,l,u,d;Ae(2,arguments);var h=cd(),f=Mt((r=(s=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&s!==void 0?s:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ne(n),b=Mt(e),v=m.getUTCDay(),_=b%7,y=(_+7)%7,w=(y<f?7:0)+b-v;return m.setUTCDate(m.getUTCDate()+w),m}var One=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"E":case"EE":case"EEE":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,a){return s=aT(s,o,a),s.setUTCHours(0,0,0,0),s}}]),t}(ht),Ine=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o,a){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+h};switch(i){case"e":case"ee":return Tn(mn(i.length,s),l);case"eo":return Tn(o.ordinalNumber(s,{unit:"day"}),l);case"eee":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeeee":return o.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,a){return s=aT(s,o,a),s.setUTCHours(0,0,0,0),s}}]),t}(ht),Pne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o,a){var l=function(d){var h=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+h};switch(i){case"c":case"cc":return Tn(mn(i.length,s),l);case"co":return Tn(o.ordinalNumber(s,{unit:"day"}),l);case"ccc":return o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"ccccc":return o.day(s,{width:"narrow",context:"standalone"});case"cccccc":return o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(s,{width:"wide",context:"standalone"})||o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,a){return s=aT(s,o,a),s.setUTCHours(0,0,0,0),s}}]),t}(ht);function xne(n,e){Ae(2,arguments);var t=Mt(e);t%7===0&&(t=t-7);var r=1,s=Ne(n),i=s.getUTCDay(),o=t%7,a=(o+7)%7,l=(a<r?7:0)+t-i;return s.setUTCDate(s.getUTCDate()+l),s}var Rne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",90),ae(ue(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return mn(i.length,s);case"io":return o.ordinalNumber(s,{unit:"day"});case"iii":return Tn(o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),a);case"iiiii":return Tn(o.day(s,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Tn(o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Tn(o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,o){return s=xne(s,o),s.setUTCHours(0,0,0,0),s}}]),t}(ht),Ane=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",80),ae(ue(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"a":case"aa":case"aaa":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(oT(o),0,0,0),s}}]),t}(ht),Dne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",80),ae(ue(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"b":case"bb":case"bbb":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(oT(o),0,0,0),s}}]),t}(ht),kne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",80),ae(ue(r),"incompatibleTokens",["a","b","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"B":case"BB":case"BBB":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(oT(o),0,0,0),s}}]),t}(ht),Nne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",70),ae(ue(r),"incompatibleTokens",["H","K","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"h":return an(Cn.hour12h,s);case"ho":return o.ordinalNumber(s,{unit:"hour"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,o){var a=s.getUTCHours()>=12;return a&&o<12?s.setUTCHours(o+12,0,0,0):!a&&o===12?s.setUTCHours(0,0,0,0):s.setUTCHours(o,0,0,0),s}}]),t}(ht),Lne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",70),ae(ue(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"H":return an(Cn.hour23h,s);case"Ho":return o.ordinalNumber(s,{unit:"hour"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,o){return s.setUTCHours(o,0,0,0),s}}]),t}(ht),Mne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",70),ae(ue(r),"incompatibleTokens",["h","H","k","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"K":return an(Cn.hour11h,s);case"Ko":return o.ordinalNumber(s,{unit:"hour"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){var a=s.getUTCHours()>=12;return a&&o<12?s.setUTCHours(o+12,0,0,0):s.setUTCHours(o,0,0,0),s}}]),t}(ht),$ne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",70),ae(ue(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"k":return an(Cn.hour24h,s);case"ko":return o.ordinalNumber(s,{unit:"hour"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,o){var a=o<=24?o%24:o;return s.setUTCHours(a,0,0,0),s}}]),t}(ht),Fne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",60),ae(ue(r),"incompatibleTokens",["t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"m":return an(Cn.minute,s);case"mo":return o.ordinalNumber(s,{unit:"minute"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,o){return s.setUTCMinutes(o,0,0),s}}]),t}(ht),jne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",50),ae(ue(r),"incompatibleTokens",["t","T"]),r}return ze(t,[{key:"parse",value:function(s,i,o){switch(i){case"s":return an(Cn.second,s);case"so":return o.ordinalNumber(s,{unit:"second"});default:return mn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,o){return s.setUTCSeconds(o,0),s}}]),t}(ht),Vne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",30),ae(ue(r),"incompatibleTokens",["t","T"]),r}return ze(t,[{key:"parse",value:function(s,i){var o=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return Tn(mn(i.length,s),o)}},{key:"set",value:function(s,i,o){return s.setUTCMilliseconds(o),s}}]),t}(ht),Une=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",10),ae(ue(r),"incompatibleTokens",["t","T","x"]),r}return ze(t,[{key:"parse",value:function(s,i){switch(i){case"X":return ki(Di.basicOptionalMinutes,s);case"XX":return ki(Di.basic,s);case"XXXX":return ki(Di.basicOptionalSeconds,s);case"XXXXX":return ki(Di.extendedOptionalSeconds,s);case"XXX":default:return ki(Di.extended,s)}}},{key:"set",value:function(s,i,o){return i.timestampIsSet?s:new Date(s.getTime()-o)}}]),t}(ht),Bne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",10),ae(ue(r),"incompatibleTokens",["t","T","X"]),r}return ze(t,[{key:"parse",value:function(s,i){switch(i){case"x":return ki(Di.basicOptionalMinutes,s);case"xx":return ki(Di.basic,s);case"xxxx":return ki(Di.basicOptionalSeconds,s);case"xxxxx":return ki(Di.extendedOptionalSeconds,s);case"xxx":default:return ki(Di.extended,s)}}},{key:"set",value:function(s,i,o){return i.timestampIsSet?s:new Date(s.getTime()-o)}}]),t}(ht),Hne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",40),ae(ue(r),"incompatibleTokens","*"),r}return ze(t,[{key:"parse",value:function(s){return N$(s)}},{key:"set",value:function(s,i,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),t}(ht),zne=function(n){Je(t,n);var e=et(t);function t(){var r;He(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ae(ue(r),"priority",20),ae(ue(r),"incompatibleTokens","*"),r}return ze(t,[{key:"parse",value:function(s){return N$(s)}},{key:"set",value:function(s,i,o){return[new Date(o),{timestampIsSet:!0}]}}]),t}(ht),Kne={G:new une,y:new cne,Y:new dne,R:new hne,u:new fne,Q:new pne,q:new gne,M:new mne,L:new yne,w:new _ne,I:new wne,d:new Cne,D:new Tne,E:new One,e:new Ine,c:new Pne,i:new Rne,a:new Ane,b:new Dne,B:new kne,h:new Nne,H:new Lne,K:new Mne,k:new $ne,m:new Fne,s:new jne,S:new Vne,X:new Une,x:new Bne,t:new Hne,T:new zne},Wne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yne=/^'([^]*?)'?$/,qne=/''/g,Xne=/\S/,Qne=/[a-zA-Z]/;function $$(n,e,t,r){var s,i,o,a,l,u,d,h,f,m,b,v,_,y,w,E,S,I;Ae(3,arguments);var x=String(n),O=String(e),T=cd(),P=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:T.locale)!==null&&s!==void 0?s:P$;if(!P.match)throw new RangeError("locale must contain match property");var A=Mt((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&a!==void 0?a:(f=T.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Mt((b=(v=(_=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(w=r.locale)===null||w===void 0||(E=w.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&_!==void 0?_:T.weekStartsOn)!==null&&v!==void 0?v:(S=T.locale)===null||S===void 0||(I=S.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&b!==void 0?b:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(O==="")return x===""?Ne(t):new Date(NaN);var M={firstWeekContainsDate:A,weekStartsOn:k,locale:P},N=[new lne],K=O.match(Gne).map(function(pe){var te=pe[0];if(te in Fw){var le=Fw[te];return le(pe,P.formatLong)}return pe}).join("").match(Wne),G=[],z=Ox(K),ee;try{var j=function(){var te=ee.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&I$(te)&&ny(te,O,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&O$(te)&&ny(te,O,n);var le=te[0],ct=Kne[le];if(ct){var Ct=ct.incompatibleTokens;if(Array.isArray(Ct)){var en=G.find(function(yn){return Ct.includes(yn.token)||yn.token===le});if(en)throw new RangeError("The format string mustn't contain `".concat(en.fullToken,"` and `").concat(te,"` at the same time"))}else if(ct.incompatibleTokens==="*"&&G.length>0)throw new RangeError("The format string mustn't contain `".concat(te,"` and any other token at the same time"));G.push({token:le,fullToken:te});var gt=ct.run(x,te,P.match,M);if(!gt)return{v:new Date(NaN)};N.push(gt.setter),x=gt.rest}else{if(le.match(Qne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");if(te==="''"?te="'":le==="'"&&(te=Zne(te)),x.indexOf(te)===0)x=x.slice(te.length);else return{v:new Date(NaN)}}};for(z.s();!(ee=z.n()).done;){var H=j();if(Qi(H)==="object")return H.v}}catch(pe){z.e(pe)}finally{z.f()}if(x.length>0&&Xne.test(x))return new Date(NaN);var U=N.map(function(pe){return pe.priority}).sort(function(pe,te){return te-pe}).filter(function(pe,te,le){return le.indexOf(pe)===te}).map(function(pe){return N.filter(function(te){return te.priority===pe}).sort(function(te,le){return le.subPriority-te.subPriority})}).map(function(pe){return pe[0]}),oe=Ne(t);if(isNaN(oe.getTime()))return new Date(NaN);var ne=w$(oe,b$(oe)),re={},de=Ox(U),be;try{for(de.s();!(be=de.n()).done;){var ye=be.value;if(!ye.validate(ne,M))return new Date(NaN);var ge=ye.set(ne,re,M);Array.isArray(ge)?(ne=ge[0],Zte(re,ge[1])):ne=ge}}catch(pe){de.e(pe)}finally{de.f()}return ne}function Zne(n){return n.match(Yne)[1].replace(qne,"'")}function Ix(n){Ae(1,arguments);var e=Ne(n);return e.setMilliseconds(0),e}function Px(n,e){Ae(2,arguments);var t=Ix(n),r=Ix(e);return t.getTime()===r.getTime()}function Jne(n,e){Ae(2,arguments);var t=Ne(n).getTime(),r=Ne(e.start).getTime(),s=Ne(e.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return t>=r&&t<=s}function Hs(n,e){var t;Ae(1,arguments);var r=Mt((t=void 0)!==null&&t!==void 0?t:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var s=rre(n),i;if(s.date){var o=sre(s.date,r);i=ire(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),l=0,u;if(s.time&&(l=ore(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(u=are(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(a+l+u)}var pg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ere=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rre(n){var e={},t=n.split(pg.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],pg.timeZoneDelimiter.test(e.date)&&(e.date=n.split(pg.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var s=pg.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function sre(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function ire(n,e){if(e===null)return new Date(NaN);var t=n.match(ere);if(!t)return new Date(NaN);var r=!!t[4],s=Vd(t[1]),i=Vd(t[2])-1,o=Vd(t[3]),a=Vd(t[4]),l=Vd(t[5])-1;if(r)return hre(e,a,l)?lre(e,a,l):new Date(NaN);var u=new Date(0);return!cre(e,i,o)||!dre(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,o)),u)}function Vd(n){return n?parseInt(n):1}function ore(n){var e=n.match(tre);if(!e)return NaN;var t=Eb(e[1]),r=Eb(e[2]),s=Eb(e[3]);return fre(t,r,s)?t*rT+r*nT+s*1e3:NaN}function Eb(n){return n&&parseFloat(n.replace(",","."))||0}function are(n){if(n==="Z")return 0;var e=n.match(nre);if(!e)return 0;var t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return pre(r,s)?t*(r*rT+s*nT):NaN}function lre(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var ure=[31,null,31,30,31,30,31,31,30,31,30,31];function F$(n){return n%400===0||n%4===0&&n%100!==0}function cre(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(ure[e]||(F$(n)?29:28))}function dre(n,e){return e>=1&&e<=(F$(n)?366:365)}function hre(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function fre(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function pre(n,e){return e>=0&&e<=59}function wl(n,e){Ae(2,arguments);var t=Ne(n),r=Mt(e),s=t.getFullYear(),i=t.getDate(),o=new Date(0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);var a=x$(o);return t.setMonth(r,Math.min(i,a)),t}function j$(n,e){if(Ae(2,arguments),Qi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=Ne(n);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=wl(t,e.month)),e.date!=null&&t.setDate(Mt(e.date)),e.hours!=null&&t.setHours(Mt(e.hours)),e.minutes!=null&&t.setMinutes(Mt(e.minutes)),e.seconds!=null&&t.setSeconds(Mt(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(Mt(e.milliseconds)),t)}function jw(n,e){Ae(2,arguments);var t=Ne(n),r=Mt(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function gre(n,e){Ae(2,arguments);var t=Mt(e);return ba(n,-t)}function mre(n,e){Ae(2,arguments);var t=Mt(e);return ty(n,-t)}function yre(n,e,t){Ae(2,arguments);var r=Lo(n,t),s=Lo(e,t);return r.getTime()===s.getTime()}var vre={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},_re=function(e,t,r){var s,i=vre[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?s+"":s+"":s},bre={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},wre={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},Ere={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Sre={date:gc({formats:bre,defaultWidth:"full"}),time:gc({formats:wre,defaultWidth:"full"}),dateTime:gc({formats:Ere,defaultWidth:"full"})};function xx(n,e,t){var r="eeee p";return yre(n,e,t)?r:n.getTime()>e.getTime()?"''"+r:"''"+r}var Cre={lastWeek:xx,yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:xx,other:"PP p"},Tre=function(e,t,r,s){var i=Cre[e];return typeof i=="function"?i(t,r,s):i},Ore={narrow:["",""],abbreviated:["",""],wide:["",""]},Ire={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},Pre={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},xre={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Rre={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Are={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Dre=function(e,t){var r=Number(e);switch(t==null?void 0:t.unit){case"date":return r.toString()+"";case"hour":return r.toString()+"";case"minute":return r.toString()+"";case"second":return r.toString()+"";default:return" "+r.toString()}},kre={ordinalNumber:Dre,era:Ri({values:Ore,defaultWidth:"wide"}),quarter:Ri({values:Ire,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ri({values:Pre,defaultWidth:"wide"}),day:Ri({values:xre,defaultWidth:"wide"}),dayPeriod:Ri({values:Rre,defaultWidth:"wide",formattingValues:Are,defaultFormattingWidth:"wide"})},Nre=/^(\s*)?\d+(|||)?/i,Lre=/\d+/i,Mre={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},$re={any:[/^()/i,/^()/i]},Fre={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},jre={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},Vre={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},Ure={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},Bre={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},Hre={any:[//i,//i,//i,//i,//i,//i,//i]},zre={any:/^(?|?||[]|?||?||)/i},Kre={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},Wre={ordinalNumber:_$({matchPattern:Nre,parsePattern:Lre,valueCallback:function(e){return parseInt(e,10)}}),era:Ai({matchPatterns:Mre,defaultMatchWidth:"wide",parsePatterns:$re,defaultParseWidth:"any"}),quarter:Ai({matchPatterns:Fre,defaultMatchWidth:"wide",parsePatterns:jre,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ai({matchPatterns:Vre,defaultMatchWidth:"wide",parsePatterns:Ure,defaultParseWidth:"any"}),day:Ai({matchPatterns:Bre,defaultMatchWidth:"wide",parsePatterns:Hre,defaultParseWidth:"any"}),dayPeriod:Ai({matchPatterns:zre,defaultMatchWidth:"any",parsePatterns:Kre,defaultParseWidth:"any"})},lT={code:"zh-CN",formatDistance:_re,formatLong:Sre,formatRelative:Tre,localize:kre,match:Wre,options:{weekStartsOn:1,firstWeekContainsDate:4}};const Rx={code:"zh-CN",dateFnsLocale:lT,Pagination:{pageSize:"${pageSize}",total:"${total}",jumpTo:"",page:""},Modal:{confirm:"",cancel:""},Tabs:{more:""},TimePicker:{placeholder:{time:"",timeRange:""},begin:"",end:"",hour:"",minute:"",second:"",AM:"",PM:""},DatePicker:{placeholder:{date:"",dateTime:"",dateRange:["",""],dateTimeRange:["",""],monthRange:["",""]},presets:"",footer:{confirm:"",cancel:""},selectDate:"",selectTime:"",year:"",month:"",day:"",monthText:"${year} ${month}",months:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",Sun:""},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"",expandText:""},Popconfirm:{confirm:"",cancel:""},Table:{emptyText:"",pageText:" ${currentStart} - ${currentEnd}  ${total} ",descend:"",ascend:"",cancelSort:""},Select:{emptyText:"",createText:""},Cascader:{emptyText:""},Tree:{emptyText:"",searchPlaceholder:""},List:{emptyText:""},Calendar:{allDay:"",AM:"${time}",PM:"${time}",datestring:"",remaining:"${remained}"},Upload:{mainText:"",illegalTips:"",legalTips:"",retry:"",replace:"",clear:"",selectedFiles:"",illegalSize:"",fail:""},TreeSelect:{searchPlaceholder:""},Typography:{copy:"",copied:"",expand:"",collapse:""},Transfer:{emptyLeft:"",emptySearch:"",emptyRight:"",placeholder:"",clear:"",selectAll:"",clearSelectAll:"",total:"${total}",selected:"${total}"},Form:{optional:""},Image:{preview:"",loading:"",loadError:"",prevTip:"",nextTip:"",zoomInTip:"",zoomOutTip:"",rotateTip:"",downloadTip:"",adaptiveTip:"",originTip:""},Chat:{deleteConfirm:"",clearContext:"",copySuccess:"",stop:"",copy:"",copied:"",dropAreaText:""}};class On extends D.Component{renderChildren(e,t){const{componentName:r}=this.props;let s=e;e!=null&&e.code||(s=Rx);const i=Q(Rx,"dateFnsLocale"),o=Q(s,"dateFnsLocale",i);return t(s[r],s.code,o)}render(){const{children:e}=this.props;return g.createElement(Lr.Consumer,null,t=>{let{locale:r}=t;return g.createElement(Jee.Consumer,null,s=>this.renderChildren(r||s,e))})}}On.propTypes={componentName:c.string.isRequired,children:c.any};On.defaultProps={componentName:""};const Gre="semi";var Yre=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const V$=g.forwardRef((n,e)=>{const{svg:t,spin:r=!1,rotate:s,style:i,className:o,prefixCls:a=Gre,type:l,size:u="default"}=n,d=Yre(n,["svg","spin","rotate","style","className","prefixCls","type","size"]),h=$(`${a}-icon`,{[`${a}-icon-extra-small`]:u==="extra-small",[`${a}-icon-small`]:u==="small",[`${a}-icon-default`]:u==="default",[`${a}-icon-large`]:u==="large",[`${a}-icon-extra-large`]:u==="extra-large",[`${a}-icon-spinning`]:r===!0,[`${a}-icon-${l}`]:!!l},o),f={};return Number.isSafeInteger(s)&&(f.transform=`rotate(${s}deg)`),Object.assign(f,i),g.createElement("span",Object.assign({role:"img",ref:e,"aria-label":l,className:h,style:f},d),t)});V$.elementType="Icon";const ut=(n,e)=>{const t=g.forwardRef((r,s)=>g.createElement(V$,Object.assign({svg:g.createElement(n),type:e,ref:s},r)));return t.elementType="Icon",t};function qre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z",fill:"currentColor"}))}const lf=ut(qre,"alert_circle");function Xre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.23 2.4-8.7 16.67A2 2 0 0 0 3.3 22h17.4a2 2 0 0 0 1.77-2.93L13.77 2.4a2 2 0 0 0-3.54 0ZM13.14 14a1.15 1.15 0 0 1-2.28 0l-.58-4.03a1.73 1.73 0 1 1 3.44 0l-.58 4.03Zm.36 4.49a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const uT=ut(Xre,"alert_triangle");function Qre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20V8h16v12H4ZM2 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm4 6.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2ZM11 15a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Zm4-4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm.5 4.5a.5.5 0 0 0-.5.5v2c0 .28.22.5.5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-2Z",fill:"currentColor"}))}const U$=ut(Qre,"calendar");function Zre(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M2 5v14a3 3 0 0 0 3 3h7.1a7.02 7.02 0 0 1-1.43-2H6a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2.67c.75.36 1.43.85 2 1.43V5a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3Z",fill:"currentColor"}),D.createElement("path",{d:"M16 10h1c-.54 0-1.06.06-1.57.18A1 1 0 0 1 16 10Z",fill:"currentColor"}),D.createElement("path",{d:"M13.5 10.94a1 1 0 0 0-1-.94h-1a1 1 0 0 0-1 1v1a1 1 0 0 0 .77.97 7.03 7.03 0 0 1 2.23-2.03Z",fill:"currentColor"}),D.createElement("path",{d:"M7 10a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H7Z",fill:"currentColor"}),D.createElement("path",{d:"M6 16a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-1Z",fill:"currentColor"}),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-4-2a1 1 0 1 0-2 0v2c0 .27.1.52.3.7l1.5 1.5a1 1 0 0 0 1.4-1.4L18 16.58V15Z",fill:"currentColor"}))}const Jre=ut(Zre,"calendar_clock");function ese(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M5 12.5c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 5 12.5Z",fill:"currentColor"}))}const tse=ut(ese,"checkbox_indeterminate");function nse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.41 7.3c.66.51.78 1.45.28 2.11l-6.5 8.5a1.5 1.5 0 0 1-2.37.01l-3.5-4.5a1.5 1.5 0 1 1 2.36-1.84L10 14.54l5.32-6.95a1.5 1.5 0 0 1 2.1-.28Z",fill:"currentColor"}))}const rse=ut(nse,"checkbox_tick");function sse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08 7.6a1.5 1.5 0 0 1 2.12 0l5.66 5.65 5.66-5.65a1.5 1.5 0 1 1 2.12 2.12l-6.72 6.72a1.5 1.5 0 0 1-2.12 0L4.08 9.72a1.5 1.5 0 0 1 0-2.12Z",fill:"currentColor"}))}const Ov=ut(sse,"chevron_down");function ise(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.28 4.24a1.5 1.5 0 0 1 0 2.12l-5.66 5.66 5.66 5.65a1.5 1.5 0 1 1-2.12 2.13l-6.72-6.72a1.5 1.5 0 0 1 0-2.12l6.72-6.72a1.5 1.5 0 0 1 2.12 0Z",fill:"currentColor"}))}const B$=ut(ise,"chevron_left");function ose(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.44 19.8a1.5 1.5 0 0 1 0-2.13l5.66-5.65-5.66-5.66a1.5 1.5 0 1 1 2.12-2.12l6.72 6.72a1.5 1.5 0 0 1 0 2.12L9.56 19.8a1.5 1.5 0 0 1-2.12 0Z",fill:"currentColor"}))}const H$=ut(ose,"chevron_right");function ase(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.64 16.44a1.5 1.5 0 0 1-2.12 0l-5.66-5.66-5.66 5.66a1.5 1.5 0 1 1-2.12-2.12L10.8 7.6a1.5 1.5 0 0 1 2.12 0l6.72 6.72a1.5 1.5 0 0 1 0 2.12Z",fill:"currentColor"}))}const lse=ut(ase,"chevron_up");function use(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.04-6.14a1.5 1.5 0 0 1-2.13.04l-2.87-2.78L9.26 17A1.5 1.5 0 0 1 7.1 14.9l2.78-2.87L7 9.26A1.5 1.5 0 1 1 9.1 7.1l2.87 2.78L14.74 7A1.5 1.5 0 0 1 16.9 9.1l-2.78 2.87L17 14.74c.6.58.61 1.53.04 2.12Z",fill:"currentColor"}))}const Za=ut(use,"clear");function cse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm1.5-16.5v4.88l3.56 3.56a1.5 1.5 0 0 1-2.12 2.12l-4-4A1.5 1.5 0 0 1 10.5 12V6.5a1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const z$=ut(cse,"clock");function dse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M17.66 19.78a1.5 1.5 0 0 0 2.12-2.12L14.12 12l5.66-5.66a1.5 1.5 0 0 0-2.12-2.12L12 9.88 6.34 4.22a1.5 1.5 0 1 0-2.12 2.12L9.88 12l-5.66 5.66a1.5 1.5 0 0 0 2.12 2.12L12 14.12l5.66 5.66Z",fill:"currentColor"}))}const Iv=ut(dse,"close");function hse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M7 4c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-1V8c0-2-1-3-3-3H7V4Z",fill:"currentColor"}),D.createElement("path",{d:"M5 7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H5Z",fill:"currentColor"}))}const fse=ut(hse,"copy");function pse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.62 4.4c.5.53.5 1.38 0 1.91L7.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.33.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.62 4.4c.5.53.5 1.38 0 1.91L14.14 12l5.48 5.69c.5.53.5 1.38 0 1.91-.51.53-1.34.53-1.84 0l-6.4-6.64a1.4 1.4 0 0 1 0-1.92l6.4-6.64c.5-.53 1.33-.53 1.84 0Z",fill:"currentColor"}))}const gse=ut(pse,"double_chevron_left");function mse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.38 4.4c.51-.53 1.34-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L9.86 12 4.38 6.31a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.38 4.4c.51-.53 1.33-.53 1.84 0l6.4 6.64c.5.53.5 1.39 0 1.92l-6.4 6.64c-.5.53-1.33.53-1.84 0a1.4 1.4 0 0 1 0-1.91L16.86 12l-5.48-5.69a1.4 1.4 0 0 1 0-1.91Z",fill:"currentColor"}))}const yse=ut(mse,"double_chevron_right");function vse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7 3.7a1 1 0 0 0-1.4-1.4L17.3 5.26A11.59 11.59 0 0 0 12 4C5 4 1 10 1 12c0 1.18 1.38 3.73 3.94 5.64L2.3 20.3a1 1 0 1 0 1.42 1.42l18-18ZM7.84 14.77l1.46-1.47a3 3 0 0 1 4-4l1.47-1.46a5 5 0 0 0-6.93 6.93Z",fill:"currentColor"}),D.createElement("path",{d:"M12 20c-1.22 0-2.35-.18-3.38-.5l2.57-2.57a5 5 0 0 0 5.75-5.75l3.56-3.56C22.13 9.27 23 11.07 23 12c0 2-4 8-11 8Z",fill:"currentColor"}))}const _se=ut(vse,"eye_closed_solid");function bse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12s4 8 11 8 11-6 11-8-4-8-11-8Zm5 8a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-5 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",fill:"currentColor"}))}const wse=ut(bse,"eye_opened");function Ese(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a1 1 0 0 0-1-1H6a2 2 0 0 0-2 2v18c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V10a1 1 0 0 0-1-1h-5a2 2 0 0 1-2-2V2ZM7 8a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H8a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm1 4a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2H8Zm11.07-9.5H14.5a1 1 0 0 1-1-1V1.93a.8.8 0 0 1 1.37-.56l4.76 4.76a.8.8 0 0 1-.56 1.37Z",fill:"currentColor"}))}const Vw=ut(Ese,"file");function Sse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M5 2a3 3 0 0 0-3 3v3h20c0-2-1-4-3-4h-6.45a3 3 0 0 1-1.87-.66l-1.13-.9A2 2 0 0 0 8.3 2H5Z",fill:"currentColor"}),D.createElement("path",{d:"M22 10H2v9a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-9Z",fill:"currentColor"}))}const Cse=ut(Sse,"folder");function Tse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h3.3a2 2 0 0 1 1.25.44l1.13.9a3 3 0 0 0 1.87.66H18c2 0 3 2 3 4H7.53A2 2 0 0 0 5.6 9.48L2.57 20.76C2.21 20.26 2 19.66 2 19V5Zm20.17 5H9.5a2 2 0 0 0-1.92 1.44l-2.7 9.28A1 1 0 0 0 5.82 22H18.5a2 2 0 0 0 1.92-1.44l2.7-9.28a1 1 0 0 0-.95-1.28Z",fill:"currentColor"}))}const Ose=ut(Tse,"folder_open");function Ise(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M9 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),D.createElement("path",{d:"M9 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),D.createElement("path",{d:"M11 19a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),D.createElement("path",{d:"M15 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),D.createElement("path",{d:"M17 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),D.createElement("path",{d:"M15 21a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}))}const Pse=ut(Ise,"handle");function xse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm-.17-8.4c-.86 0-1.3-.53-1.3-1.23 0-1.05.53-1.72 1.74-2.64l.06-.05c.83-.62 1.4-1.06 1.4-1.85 0-.9-.83-1.4-1.76-1.4-.76 0-1.34.28-1.8.87-.33.34-.6.53-1.05.53C8.38 8.83 8 8.3 8 7.7c0-.6.34-1.22.88-1.68A5.15 5.15 0 0 1 12.28 5c2.71 0 4.62 1.34 4.62 3.64 0 1.68-1 2.5-2.2 3.31-.8.59-1.17.93-1.48 1.62-.33.6-.58 1.04-1.4 1.04Zm-.02 4.17c-.94 0-1.71-.6-1.71-1.54 0-.94.77-1.55 1.7-1.55.95 0 1.7.6 1.7 1.55 0 .93-.75 1.54-1.7 1.54Z",fill:"currentColor"}))}const Rse=ut(xse,"help_circle");function Ase(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm2-16a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-5 3.75c0-.41.34-.75.75-.75h2.75a1 1 0 0 1 1 1v5.5h.75a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h.75v-5h-.75a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}const K$=ut(Ase,"info_circle");function Dse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))}const kse=ut(Dse,"radio");function Nse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 12a7.5 7.5 0 0 1 13.8-4.07l-2-.4a1.5 1.5 0 0 0-.6 2.94l5 1c.76.15 1.51-.3 1.74-1.04l1.5-5a1.5 1.5 0 1 0-2.88-.86l-.43 1.45A10.49 10.49 0 0 0 1.5 12a10.5 10.5 0 0 0 20.4 3.5 1.5 1.5 0 1 0-2.83-1A7.5 7.5 0 0 1 4.5 12Z",fill:"currentColor"}))}const Lse=ut(Nse,"refresh");function Mse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2a8.5 8.5 0 1 0 4.86 15.48l4.08 4.08a1.5 1.5 0 1 0 2.12-2.12l-4.08-4.08A8.5 8.5 0 0 0 10.5 2ZM5 10.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0Z",fill:"currentColor"}))}const W$=ut(Mse,"search");function $se(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"M10.75 1.9c.4-1.2 2.1-1.2 2.5 0l1.99 6.12h6.45a1.3 1.3 0 0 1 .77 2.37l-5.22 3.78 2 6.11c.39 1.2-1 2.2-2.02 1.46L12 17.96l-5.22 3.78c-1.02.75-2.4-.25-2.01-1.46l1.99-6.11-5.22-3.78a1.3 1.3 0 0 1 .77-2.37h6.45l2-6.12Z",fill:"currentColor"}))}const Fse=ut($se,"star");function jse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.35 4.27c.68.47.86 1.4.38 2.08l-10 14.5a1.5 1.5 0 0 1-2.33.17l-6.5-7a1.5 1.5 0 0 1 2.2-2.04l5.23 5.63 8.94-12.96a1.5 1.5 0 0 1 2.08-.38Z",fill:"currentColor"}))}const Pv=ut(jse,"tick");function Vse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.88-13.18-6.2 7.6a1.5 1.5 0 0 1-2.37 0l-3.5-4a1.5 1.5 0 1 1 2.37-1.84l2.3 2.46L15.5 8a1.5 1.5 0 1 1 2.38 1.82Z",fill:"currentColor"}))}const G$=ut(Vse,"tick_circle");function Use(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{d:"m20.56 9.66-7.8 8.97a1 1 0 0 1-1.51 0L3.44 9.66A1 1 0 0 1 4.19 8h15.62a1 1 0 0 1 .75 1.66Z",fill:"currentColor"}))}const Bse=ut(Use,"tree_triangle_down");function Hse(n){return D.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},n),D.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.84 8.06A6.5 6.5 0 1 0 5.18 11 4.5 4.5 0 0 0 5.5 20H17a6 6 0 0 0 .84-11.94Zm-5.52.2a.5.5 0 0 0-.64 0l-5.15 4.3a.25.25 0 0 0 .16.44H10v4.5c0 .28.22.5.5.5h3a.5.5 0 0 0 .5-.5V13h3.31c.23 0 .34-.3.16-.44l-5.15-4.3Z",fill:"currentColor"}))}const zse=ut(Hse,"upload"),Hn={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229},cT="Enter",Y$="Escape";function Ys(n){return Q(n,"key")===cT}const Sb=bv.PREFIX;class dT extends g.PureComponent{constructor(e){super(e),this.copy=t=>{const{content:r,duration:s,onCopy:i}=this.props,o=Zee(r);i&&i(t,r,o),this.setCopied(r,s)},this.setCopied=(t,r)=>{this.setState({copied:!0,item:t}),this._timeId=setTimeout(()=>{this.resetCopied()},r*1e3)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:t}=this.props;return typeof t<"u"?t:g.createElement(On,{componentName:"Typography"},r=>g.createElement("span",null,g.createElement(Pv,null),r.copied))},this.renderCopyIcon=()=>{const{icon:t}=this.props,r={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:i=>Ys(i)&&this.copy(i)},s=g.createElement("a",{className:`${Sb}-action-copy-icon`},g.createElement(fse,Object.assign({onClick:this.copy},r)));return g.isValidElement(t)?g.cloneElement(t,r):s},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:r,copyTip:s,render:i}=this.props,{copied:o}=this.state,a=$(t,{[`${Sb}-action-copy`]:!o,[`${Sb}-action-copied`]:o});return i?i(o,this.copy,this.props):g.createElement(On,{componentName:"Typography"},l=>g.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:a,ref:r},o?this.renderSuccessTip():g.createElement(wr,{content:typeof s<"u"?s:l.copy},this.renderCopyIcon())))}}dT.propTypes={content:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node,duration:c.number,style:c.object,className:c.string,icon:c.node};dT.defaultProps={content:"",onCopy:Pt,duration:3,style:{},className:""};const q$={PREFIX:`${W}-popover`,ARROW:`${W}-popover-icon-arrow`},Dl={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},gs={ARROW_BOUNDING:Object.assign(Object.assign({},hl.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030};var Kse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const X$=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{position:e="",className:t,arrowStyle:r,popStyle:s}=n,i=Kse(n,["position","className","arrowStyle","popStyle"]),o=e.indexOf("top")===0||e.indexOf("bottom")===0,a=$(t,q$.ARROW),l=Q(r,"borderOpacity",Dl.DEFAULT_ARROW_STYLE.borderOpacity),u=Q(r,"backgroundColor",Q(s,"backgroundColor",Dl.DEFAULT_ARROW_STYLE.backgroundColor)),d=Q(r,"borderColor",Q(s,"borderColor",Dl.DEFAULT_ARROW_STYLE.borderColor)),h=Object.assign(Object.assign({},i),{width:gs.ARROW_BOUNDING.width,height:gs.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:a});return o?g.createElement("svg",Object.assign({},h),g.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:d,opacity:l}),g.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:u})):g.createElement("svg",Object.assign({},h),g.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:d,opacity:l}),g.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:u}))};X$.propTypes={position:c.string,className:c.string,arrowStyle:c.object,popStyle:c.object};var Wse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Gse=Dl.POSITION_SET,Yse=Dl.TRIGGER_SET;class Sr extends g.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var t;(t=this.tooltipRef.current)===null||t===void 0||t.focusTrigger()},this.renderPopCard=t=>{let{initialFocusRef:r}=t;const{content:s,contentClassName:i,prefixCls:o}=this.props,{direction:a}=this.context,l=$(o,i,{[`${o}-rtl`]:a==="rtl"}),u=this.renderContentNode({initialFocusRef:r,content:s});return g.createElement("div",{className:l},g.createElement("div",{className:`${o}-content`},u))},this.renderContentNode=t=>{const{initialFocusRef:r,content:s}=t,i={initialFocusRef:r};return De(s)?s(i):s},this.tooltipRef=g.createRef()}render(){const e=this.props,{children:t,prefixCls:r,showArrow:s,arrowStyle:i={},arrowBounding:o,position:a,style:l,trigger:u}=e,d=Wse(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:h}=this.props;const f={position:a,className:"",popStyle:l,arrowStyle:i},m=s?g.createElement(X$,Object.assign({},f)):!1;bt(h)&&(h=s?gs.SPACING_WITH_ARROW:gs.SPACING);const b=u==="click"||u==="custom"?"dialog":"tooltip";return g.createElement(wr,Object.assign({guardFocus:!0,ref:this.tooltipRef},d,{trigger:u,position:a,style:l,content:this.renderPopCard,prefixCls:r,spacing:h,showArrow:m,arrowBounding:o,role:b}),t)}}Sr.contextType=Lr;Sr.propTypes={children:c.node,content:c.oneOfType([c.node,c.func]),visible:c.bool,autoAdjustOverflow:c.bool,motion:c.bool,position:c.oneOf(Gse),margin:c.oneOfType([c.number,c.object]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,trigger:c.oneOf(Yse).isRequired,contentClassName:c.oneOfType([c.string,c.array]),onVisibleChange:c.func,onClickOutSide:c.func,style:c.object,spacing:c.oneOfType([c.number,c.object]),zIndex:c.number,showArrow:c.bool,arrowStyle:c.shape({borderColor:c.string,backgroundColor:c.string,borderOpacity:c.oneOfType([c.string,c.number])}),arrowPointAtCenter:c.bool,arrowBounding:c.object,prefixCls:c.string,guardFocus:c.bool,disableArrowKeyDown:c.bool};Sr.__SemiComponentName__="Popover";Sr.defaultProps=bs(Sr.__SemiComponentName__,{arrowBounding:gs.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:gs.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:q$.PREFIX,onClickOutSide:F,onEscKeyDown:F,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});let Yt;function Cb(n){if(!n)return 0;const e=n.match(/^\d*(\.\d*)?/);return e?Number(e[0]):0}function qse(n){return Array.prototype.slice.apply(n).map(t=>`${t}: ${n.getPropertyValue(t)};`).join("")}const Xse=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;if(t.length===0)return"";Yt||(Yt=document.createElement("div"),Yt.setAttribute("aria-hidden","true"),document.body.appendChild(Yt));const l=window.getComputedStyle(n),u=qse(l),d=Cb(l.lineHeight),h=Math.round(d*(e+1)+Cb(l.paddingTop)+Cb(l.paddingBottom));Yt.setAttribute("style",u),Yt.style.position="fixed",Yt.style.left="0",l.getPropertyValue("width")==="auto"&&(Yt.style.width=`${n.offsetWidth}px`),Yt.style.height="auto",Yt.style.top="-999999px",Yt.style.zIndex="-1000",a&&(Yt.style.fontWeight="600"),Yt.style.textOverflow="clip",Yt.style.webkitLineClamp="none",Ar.render(g.createElement(g.Fragment,null),Yt);function f(){const E=Yt.scrollWidth<=Yt.offsetWidth,S=Yt.scrollHeight<h;return e===1?E&&S:S}const m=document.createElement("span"),b=document.createTextNode(t);if(m.appendChild(b),i.length>0){const E=document.createTextNode(i);m.appendChild(E)}Yt.appendChild(m),Object.values(Ho(r,"expand")).map(E=>E&&Yt.appendChild(E.cloneNode(!0)));function v(){Yt.innerHTML="",Yt.appendChild(m),Object.values(r).map(E=>E&&Yt.appendChild(E.cloneNode(!0)))}function _(E,S){const I=E.length;return S?o==="end"?E.slice(0,S)+s:E.slice(0,S)+s+E.slice(I-S,I):s}function y(E,S){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S.length,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const T=Math.floor((I+x)/2),P=_(S,T);if(E.textContent=P,I>=x-1&&x>0)for(let A=x;A>=I;A-=1){const k=_(S,A);if(E.textContent=k,f())return k}else if(x===0)return s;return f()?y(E,S,T,x,T):y(E,S,I,T,O)}let w=t;return f()||(v(),w=y(b,t,0,o==="middle"?Math.floor(t.length/2):t.length)),Yt.innerHTML="",w},Q$=g.createContext("normal");var ay;(function(n){n.Width="width",n.Height="height",n.All="all"})(ay||(ay={}));class Da extends xe{constructor(e){var t;super(e),t=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return Fs.findDOMNode(this.childNode||this)}catch{return null}},this.handleResizeEventTriggered=r=>{var s,i,o,a;if(this.props.observerProperty===ay.All)(i=(s=this.props).onResize)===null||i===void 0||i.call(s,r);else{const l=[];for(const u of r)this.formerPropertyValue.has(u.target)?u.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(u.target)&&(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u)):(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u));l.length>0&&((a=(o=this.props).onResize)===null||a===void 0||a.call(o,l))}},this.observeElement=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const s=t.getElement();if(t.observer||(t.observer=new ResizeObserver(t.handleResizeEventTriggered)),!(s&&s instanceof Element)){t.observer.disconnect();return}s===t.element&&!r||(t.observer.disconnect(),t.element=s,t.observer.observe(s),t.props.observeParent&&s.parentNode&&s.parentNode.ownerDocument&&s.parentNode.ownerDocument.defaultView&&s.parentNode instanceof s.parentNode.ownerDocument.defaultView.HTMLElement&&(t._parentNode=s.parentNode,t.observer.observe(t._parentNode)))},this.mergeRef=(r,s)=>{this.childNode=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;(e=this.observeElement)===null||e===void 0||e.call(this)}componentDidUpdate(e){var t;(t=this.observeElement)===null||t===void 0||t.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){const e=g.Children.only(this.props.children),{ref:t}=e;return g.cloneElement(e,{ref:r=>this.mergeRef(t,r)})}}Da.propTypes={onResize:c.func,observeParent:c.bool,observerProperty:c.string,delayTick:c.number};Da.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0};var Tb=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},Qse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const jn=bv.PREFIX,Zse="...",Jse=(n,e)=>{const{mark:t,code:r,underline:s,strong:i,link:o,disabled:a}=n;let l=e;const u=(d,h)=>{let f={};d&&(typeof d=="object"&&(f=Object.assign({},d)),l=g.createElement(h,f,l))};return u(t,"mark"),u(r,"code"),u(s&&!o,"u"),u(i,"strong"),u(n.delete,"del"),u(o,a?"span":"a"),l};class fu extends D.Component{constructor(e){super(e),this.observerTakingEffect=!1,this.onResize=t=>Tb(this,void 0,void 0,function*(){return this.rafId&&window.cancelAnimationFrame(this.rafId),new Promise(r=>{this.rafId=window.requestAnimationFrame(()=>Tb(this,void 0,void 0,function*(){yield this.getEllipsisState(),r()}))})}),this.canUseCSSEllipsis=()=>{const{copyable:t}=this.props,{expandable:r,expandText:s,pos:i,suffix:o}=this.getEllipsisOpt();return!r&&wt(s)&&!t&&i==="end"&&!o.length},this.shouldTruncated=t=>!t||t<1?!1:t<=1?this.compareSingleRow():this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight,this.compareSingleRow=()=>{if(!(document&&document.createRange))return!1;const t=this.wrapperRef.current,r=t.getBoundingClientRect().width,s=Array.from(t.childNodes),i=document.createRange(),o=s.reduce((a,l)=>{var u;return i.selectNodeContents(l),a+((u=i.getBoundingClientRect().width)!==null&&u!==void 0?u:0)},0);return i.detach(),o>r},this.showTooltip=()=>{var t,r;const{isOverflowed:s,isTruncated:i,expanded:o}=this.state,{showTooltip:a,expandable:l,expandText:u}=this.getEllipsisOpt(),d=this.canUseCSSEllipsis(),h=!o&&(d?s:i),m=!l&&wt(u)&&h&&a;if(!m)return m;const b={type:"tooltip"};return typeof a=="object"?a.type&&a.type.toLowerCase()==="popover"?A8({opts:{showArrow:!0}},a,{opts:{className:$({[`${jn}-ellipsis-popover`]:!0,[(t=a==null?void 0:a.opts)===null||t===void 0?void 0:t.className]:!!(!((r=a==null?void 0:a.opts)===null||r===void 0)&&r.className)})}}):Object.assign(Object.assign({},b),a):b},this.onHover=()=>{if(this.canUseCSSEllipsis()){const{rows:r,suffix:s,pos:i}=this.getEllipsisOpt(),o=this.shouldTruncated(r);this.setState({isOverflowed:o,isTruncated:!1});return}},this.getEllipsisState=()=>Tb(this,void 0,void 0,function*(){const{rows:t,suffix:r,pos:s}=this.getEllipsisOpt(),{children:i,strong:o}=this.props;if(!this.wrapperRef||!this.wrapperRef.current){yield this.onResize();return}const{expanded:a}=this.state;if(this.canUseCSSEllipsis())return;if(Kl(i))return new Promise(f=>{this.setState({isTruncated:!1,isOverflowed:!1},f)});if(Kt("children"in this.props&&typeof i!="string","[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!t||t<0||a)return;const u={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},d=Array.isArray(i)?i.join(""):String(i),h=Xse(this.wrapperRef.current,t,d,u,Zse,r,s,o);return new Promise(f=>{this.setState({isOverflowed:!1,ellipsisContent:h,isTruncated:d!==h},f)})}),this.toggleOverflow=t=>{const{onExpand:r,expandable:s,collapsible:i}=this.getEllipsisOpt(),{expanded:o}=this.state;r&&r(!o,t),(s&&!o||i&&o)&&this.setState({expanded:!o})},this.getEllipsisOpt=()=>{const{ellipsis:t}=this.props;return t?Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:t.expandable?this.expandStr:void 0,collapseText:t.collapsible?this.collapseStr:void 0},typeof t=="object"?t:null):{}},this.renderExpandable=()=>{const{expanded:t,isTruncated:r}=this.state;if(!r)return null;const{expandText:s,expandable:i,collapseText:o,collapsible:a}=this.getEllipsisOpt(),l=!i&&wt(s),u=!a&&wt(o);let d;return!t&&!l?d=s:t&&!u&&(d=o),!l||!u?g.createElement("a",{role:"button",tabIndex:0,className:`${jn}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":d,onClick:this.toggleOverflow,onKeyPress:h=>Ys(h)&&this.toggleOverflow(h)},d):null},this.getEllipsisStyle=()=>{const{ellipsis:t,component:r}=this.props;if(!t)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:s}=this.getEllipsisOpt(),{expanded:i}=this.state,o=!i&&this.canUseCSSEllipsis(),a=$({[`${jn}-ellipsis`]:!0,[`${jn}-ellipsis-single-line`]:s===1,[`${jn}-ellipsis-multiple-line`]:s>1,[`${jn}-ellipsis-multiple-line-text`]:s>1&&r==="span",[`${jn}-ellipsis-overflow-ellipsis`]:s===1&&o,[`${jn}-ellipsis-overflow-ellipsis-text`]:s===1&&o&&r==="span"}),l=o&&s>1?{WebkitLineClamp:s}:{};return{ellipsisCls:a,ellipsisStyle:l}},this.renderEllipsisText=t=>{const{suffix:r}=t,{children:s}=this.props,{isTruncated:i,expanded:o,ellipsisContent:a}=this.state;return o||!i?g.createElement("span",{onMouseEnter:this.onHover},s,r&&r.length?r:null):g.createElement("span",{onMouseEnter:this.onHover},a,r)},this.state={editable:!1,copied:!1,isOverflowed:!1,ellipsisContent:e.children,expanded:!1,isTruncated:!1,prevChildren:null},this.wrapperRef=g.createRef(),this.expandRef=g.createRef(),this.copyRef=g.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize().then(()=>eT(()=>this.observerTakingEffect=!0,1))}static getDerivedStateFromProps(e,t){const{prevChildren:r}=t,s={};return s.prevChildren=e.children,e.ellipsis&&r!==e.children&&(s.isOverflowed=!1,s.ellipsisContent=e.children,s.expanded=!1,s.isTruncated=!0),s}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}renderOperations(){return g.createElement(g.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:r}=this.props;if(!t)return null;const s=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:r;let i,o=!1;Array.isArray(s)?(i="",s.forEach(l=>{typeof l=="object"&&(o=!0),i+=String(l)})):(typeof s!="object"||(o=!0),i=String(s)),Kt(o,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const a=Object.assign({content:i,duration:3},typeof t=="object"?t:null);return g.createElement(dT,Object.assign({},a,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props,r=t==="inherit"?this.context:t;if(!e)return null;const s=r==="small"?"small":"default";return g.createElement("span",{className:`${jn}-icon`,"x-semi-prop":"icon"},_r(e)?g.cloneElement(e,{size:s}):e)}renderContent(){const e=this.props,{component:t,children:r,className:s,type:i,spacing:o,disabled:a,style:l,ellipsis:u,icon:d,size:h,link:f,heading:m,weight:b}=e,v=Qse(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),_=Ho(v,["strong","editable","mark","copyable","underline","code","delete"]),y=h==="inherit"?this.context:h,w=this.renderIcon(),E=this.getEllipsisOpt(),{ellipsisCls:S,ellipsisStyle:I}=this.getEllipsisStyle();let x=u?this.renderEllipsisText(E):r;const O=$({[`${jn}-link-text`]:f,[`${jn}-link-underline`]:this.props.underline&&f});x=Jse(this.props,g.createElement(g.Fragment,null,w,this.props.link?g.createElement("span",{className:O},x):x));const T=/^h[1-6]$/,P=Re(m)&&T.test(m),A=$(s,S,{[`${jn}-${i}`]:i&&!f,[`${jn}-${y}`]:y,[`${jn}-link`]:f,[`${jn}-disabled`]:a,[`${jn}-${o}`]:o,[`${jn}-${m}`]:P,[`${jn}-${m}-weight-${b}`]:P&&b&&isNaN(Number(b))}),k=Object.assign(Object.assign({},isNaN(Number(b))?{}:{fontWeight:b}),l);return g.createElement(wv,Object.assign({className:A,style:Object.assign(Object.assign({},k),I),component:t,forwardRef:this.wrapperRef},_),x,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),r=this.renderContent();if(t){const{type:s,opts:i,renderTooltip:o}=t;return De(o)?o(e,r):s.toLowerCase()==="popover"?g.createElement(Sr,Object.assign({content:e,position:"top"},i),r):g.createElement(wr,Object.assign({content:e,position:"top"},i),r)}else return r}render(){var e=this;const{size:t}=this.props,r=t==="inherit"?this.context:t,s=g.createElement(Q$.Provider,{value:r},g.createElement(On,{componentName:"Typography"},i=>(this.expandStr=i.expand,this.collapseStr=i.collapse,this.renderTipWrapper())));return this.props.ellipsis?g.createElement(Da,{onResize:function(){e.observerTakingEffect&&e.onResize(...arguments)},observeParent:!0,observerProperty:ay.Width},s):s}}fu.propTypes={children:c.node,copyable:c.oneOfType([c.shape({text:c.string,onCopy:c.func,successTip:c.node,copyTip:c.node}),c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.shape({rows:c.number,expandable:c.bool,expandText:c.string,onExpand:c.func,suffix:c.string,showTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),collapsible:c.bool,collapseText:c.string,pos:c.oneOf(["end","middle"])}),c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),spacing:c.oneOf(br.SPACING),strong:c.bool,size:c.oneOf(br.SIZE),type:c.oneOf(br.TYPE),style:c.object,className:c.string,icon:c.oneOfType([c.node,c.string]),heading:c.string,component:c.string};fu.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""};fu.contextType=Q$;let xv=class extends D.PureComponent{render(){return g.createElement(fu,Object.assign({component:"span"},this.props))}};xv.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(br.TYPE),size:c.oneOf(br.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string,weight:c.number};xv.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};var eie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let hT=class extends D.PureComponent{render(){const e=this.props,{heading:t}=e,r=eie(e,["heading"]),s=br.HEADING.indexOf(t)!==-1?`h${t}`:"h1";return g.createElement(fu,Object.assign({component:s,heading:s},r))}};hT.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(br.TYPE),heading:c.oneOf(br.HEADING),style:c.object,className:c.string,component:c.string,weight:c.oneOfType([c.oneOf(br.WEIGHT),c.number])};hT.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};const tie=bv.PREFIX;let Rv=class extends D.PureComponent{render(){const{className:e}=this.props,t=$(e,`${tie}-paragraph`);return g.createElement(fu,Object.assign({component:"p"},this.props,{className:t}))}};Rv.propTypes={copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,ellipsis:c.oneOfType([c.object,c.bool]),mark:c.bool,link:c.oneOfType([c.object,c.bool]),underline:c.bool,strong:c.bool,type:c.oneOf(br.TYPE),size:c.oneOf(br.SIZE),spacing:c.oneOf(br.SPACING),style:c.object,className:c.string,component:c.string};Rv.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};class nie{constructor(e,t,r,s,i){this.ruleMethods={"bytes-decimal":o=>{const a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let l=0;for(;o>=1e3;)o/=1e3,l++;return`${this.truncatePrecision(o)} ${a[l]}`},"bytes-binary":o=>{const a=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let l=0;for(;o>=1024;)o/=1024,l++;return`${this.truncatePrecision(o)} ${a[l]}`},percentages:o=>`${this.truncatePrecision(o*100)}%`,exponential:o=>{const l=o.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(l[0]))}e${l[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=typeof i<"u",this.content=e,this.rule=t,this.precision=r,this.truncate=s,this.parser=i}format(){return this.isDiyParser?this.parser(this.content):this.rule==="text"?Ob(this.content).map(e=>Ib(e)?this.truncatePrecision(e):e).join(""):this.rule==="numbers"?Ob(this.content).filter(e=>Ib(e)).map(e=>this.truncatePrecision(e)).join(","):Ob(this.content).map(e=>Ib(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=t.toString().split(".");if(r.length===1)return t.toFixed(this.precision);const s=r[1].length;return s<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-s)}`:t.toString()}}function Ob(n){const e=/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g;return n.match(e)||[]}function Ib(n){return!(isNaN(Number(n))||n.replace(/\s+/g,"")==="")}class fT extends D.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),e=e.map(t=>typeof t=="string"||typeof t=="number"?new nie(String(t),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():typeof t=="function"?this.formatNodeDFS(t()):typeof t=="object"&&"children"in t.props?Object.assign(Object.assign({},t),{props:Object.assign(Object.assign({},t.props),{children:this.formatNodeDFS(t.props.children)})}):t),e.length===1?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),g.createElement(fu,Object.assign({component:"span"},e))}}fT.propTypes={rule:c.oneOf(br.RULE),precision:c.number,truncate:c.oneOf(br.TRUNCATE),parser:c.func,copyable:c.oneOfType([c.object,c.bool]),delete:c.bool,disabled:c.bool,icon:c.oneOfType([c.node,c.string]),mark:c.bool,underline:c.bool,link:c.oneOfType([c.object,c.bool]),strong:c.bool,type:c.oneOf(br.TYPE),size:c.oneOf(br.SIZE),style:c.object,className:c.string,code:c.bool,component:c.string};fT.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const wi=wv;wi.Text=xv;wi.Title=hT;wi.Paragraph=Rv;wi.Numeral=fT;const Z$={PREFIX:`${W}-autocomplete`,PREFIX_OPTION:`${W}-autocomplete-option`,PREFIX_GROUP:`${W}-autocomplete-group`},pT={SIZE:["small","large","default"],POSITION:Al.POSITION_SET,OPTIONS:["children","value"],STATUS:od};var rie=bi,sie=Qr,iie="[object Number]";function oie(n){return typeof n=="number"||sie(n)&&rie(n)==iie}var J$=oie;const Zt=Ce(J$);class aie extends ke{constructor(e){super(Object.assign({},e)),this.isPanelOpen=!1}init(){this._setDropdownWidth();const{defaultOpen:e,data:t,defaultValue:r,value:s}=this.getProps();if(t&&t.length){const o=this._generateList(t);this._adapter.updateOptionList(o)}e&&this.openDropdown();let i;typeof r<"u"&&(i=r),typeof s<"u"&&(i=s),typeof i<"u"&&this.handleValueChange(i)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&Zt(e.width)||e&&Re(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}handleInputClick(e){this.getStates();const{disabled:t}=this.getProps();t||(this.isPanelOpen?this.closeDropdown():this.openDropdown())}openDropdown(){this.isPanelOpen=!0,this._adapter.toggleListVisible(!0),this._setDropdownWidth(),this._adapter.registerClickOutsideHandler(e=>this.closeDropdown(e)),this._adapter.notifyDropdownVisibleChange(!0),this._modifyFocusIndexOnPanelOpen()}closeDropdown(e){this.isPanelOpen=!1,this._adapter.toggleListVisible(!1),this._adapter.unregisterClickOutsideHandler(),this._adapter.notifyDropdownVisibleChange(!1)}_generateList(e){const{renderItem:t}=this.getProps(),r=[];return e&&e.length&&e.forEach((s,i)=>{const o=String(new Date().getTime())+i;let a={};Re(s)||Zt(s)?a={value:s,key:o,label:s,show:!0}:ko(s)&&!wt(s.value)&&(a=Object.assign({show:!0},s)),t&&typeof t=="function"&&(a.label=t(s)),r.push(a)}),r}handleSearch(e){this._adapter.updateInputValue(e),this._adapter.notifySearch(e),this._adapter.notifyChange(e),this._modifyFocusIndex(e),this.isPanelOpen||this.openDropdown()}handleSelect(e,t){const{renderSelectedItem:r}=this.getProps();let s="";r&&typeof r=="function"?(s=r(e),Kt(typeof s!="string","Warning: [Semi AutoComplete] renderSelectedItem must return string, please check your function return")):s=e.value,this._isControlledComponent()?(this.closeDropdown(),this.notifySelect(e)):(this._adapter.updateInputValue(s),this.updateSelection(e),this.notifySelect(e),this.closeDropdown()),this._adapter.notifyChange(s),this._adapter.updateFocusIndex(t)}updateSelection(e){const t=new Map;e&&t.set(e.label,e),this._adapter.updateSelection(t)}notifySelect(e){this._backwardLabelInValue()?this._adapter.notifySelect(e):this._adapter.notifySelect(e.value)}_backwardLabelInValue(){const e=this.getProps();let{onSelectWithObject:t}=e;return t}handleDataChange(e){const t=this._generateList(e);this._adapter.updateOptionList(t),this._adapter.rePositionDropdown()}handleValueChange(e){let{data:t,defaultActiveFirstOption:r}=this.getProps(),s="";this._backwardLabelInValue()&&Object.prototype.toString.call(e)==="[object Object]"?s=e.value:s=e;let i=this._getRenderSelectedItem();const o=this._generateList(t);let a=o.length?o.filter(h=>i(h)===s):[];const l=a.length,u=o.findIndex(h=>i(h)===s);let d="";if(l)a=a[0],d=i(a);else{const h=this._backwardLabelInValue()?e:{label:s,value:s};d=i(h)}this._adapter.updateInputValue(d),this.updateSelection(l?a:null),u===-1&&r?this._adapter.updateFocusIndex(0):this._adapter.updateFocusIndex(u)}_modifyFocusIndex(e){let{focusIndex:t}=this.getStates(),{data:r,defaultActiveFirstOption:s}=this.getProps(),i=-1;if(e){let o=this._getRenderSelectedItem();i=this._generateList(r).findIndex(l=>o(l)===e)}i===-1&&s?t!==0&&this._adapter.updateFocusIndex(0):i!==t&&this._adapter.updateFocusIndex(i)}_modifyFocusIndexOnPanelOpen(){let{inputValue:e}=this.getStates();this._modifyFocusIndex(e)}_getRenderSelectedItem(){let{renderSelectedItem:e}=this.getProps();return typeof e>"u"&&(e=t=>t==null?void 0:t.value),e}handleClear(){this._adapter.notifyClear()}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}_handleKeyDown(e){const t=e.keyCode;switch(this.getStates(),t){case Hn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Hn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Hn.ENTER:e.preventDefault(),this._handleEnterKeyDown();break;case Hn.ESC:this.closeDropdown();break;case Hn.TAB:this.closeDropdown();break}this._adapter.notifyKeyDown(e)}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(a=>a.show),i=s.length;let o=t+e;if(o<0&&(o=i-1),o>=i&&(o=0),e>0){let a=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(a=l),!(a>=o));l++);o=a}else{let a=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(a=l),!(a<=o));l--);o=a}this._adapter.updateFocusIndex(o),this._adapter.updateScrollTop(o)}_handleArrowKeyDown(e){const{visible:t}=this.getStates();t?this._getEnableFocusIndex(e):this.openDropdown()}_handleEnterKeyDown(){const{visible:e,options:t,focusIndex:r}=this.getStates();if(!e)this.openDropdown();else if(r!==void 0&&r!==-1&&t.length!==0){const i=t.filter(o=>o.show)[r];this.handleSelect(i,r)}else this.closeDropdown()}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleFocus(e){this.bindKeyBoardEvent(),this._adapter.notifyFocus(e)}handleBlur(e){this._persistEvent(e),this._adapter.notifyBlur(e)}}const lie=`${W}-spin`,uie={PREFIX:lie},cie={SIZE:["small","middle","large"]};class gT extends ke{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},gT.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:r}=this._adapter.getStates();if(r){const s=this;this._timer=setTimeout(()=>{s._adapter.setState({loading:e,delay:0})},t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var die=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let Ax=-1;function eF(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:e,className:t}=n,r=die(n,["id","className"]);let s=e;bt(s)&&(Ax++,s=Ax);const i=`linearGradient-${s}`;return g.createElement("svg",Object.assign({},r,{className:t,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),g.createElement("defs",null,g.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:i},g.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),g.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),g.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),g.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),g.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${i})`,strokeWidth:"4",strokeLinecap:"round"})))}var hie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const il=uie.PREFIX;class Zi extends xe{constructor(e){super(e),this.foundation=new gT(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?e.spinning===!1?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:r}=this.state;return r?g.createElement("div",{className:`${il}-wrapper`},e?g.createElement("div",{className:`${il}-animate`,"x-semi-prop":"indicator"},e):g.createElement(eF,null),t?g.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:r,wrapperClassName:s,childStyle:i,size:o}=e,a=hie(e,["children","style","wrapperClassName","childStyle","size"]),{loading:l}=this.state,u=$(il,s,{[`${il}-${o}`]:o,[`${il}-block`]:t,[`${il}-hidden`]:!l});return g.createElement("div",Object.assign({className:u,style:r},this.getDataAttr(a)),this.renderSpin(),g.createElement("div",{className:`${il}-children`,style:i,"x-semi-prop":"children"},t))}}Zi.propTypes={size:c.oneOf(cie.SIZE),spinning:c.bool,children:c.node,indicator:c.node,delay:c.number,tip:c.node,wrapperClassName:c.string,childStyle:c.object,style:c.object};Zi.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};const Av={PREFIX:`${W}-input`},Ja={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},fie={};function tF(n){const{value:e,maxLength:t,getValueLength:r}=n;if(De(r)){let s=0,i=e.length;for(;s<i;){const o=s+Math.floor((i-s)/2),a=e.slice(0,o+1);r(a)>t?i=o:s=o+1}return e.slice(0,s)}else return e.slice(0,t)}let pie=class nF extends ke{static get inputDefaultAdapter(){return{notifyChange:F,setValue:F}}constructor(e){super(Object.assign(Object.assign({},nF.inputDefaultAdapter),e))}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}setValue(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let o=e;r&&De(i)&&(o=this.handleVisibleMaxLength(e)),s&&De(i)&&this.handleVisibleMinLength(o),this._isControlledComponent()?this._adapter.notifyChange(o,t):(this._adapter.setValue(o),this._adapter.notifyChange(o,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(Zt(t)&&t>=0&&De(r)&&Re(e)){const i=r(e);if(i<t){const o=e.length+(t-i);o!==s&&this._adapter.setMinLength(o)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();return Zt(t)&&t>=0&&De(r)&&Re(e)&&r(e)>t?(console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)):e}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return tF({value:e,maxLength:t,getValueLength:r})}handleClear(e){let t=e;const r="";this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),(!t||typeof t!="object")&&(t={}),pc(t,Ja.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange(r,t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){e==="password"?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),r=this._adapter.getState("eyeClosed");return t==="password"?r?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===cT&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:r}=this._adapter.getStates(),{showClear:s,disabled:i,showClearIgnoreDisabled:o}=this._adapter.getProps();return e&&s&&(!i||o)&&(t||r)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&De(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(e==null?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}};var gie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const rt=Av.PREFIX,mie=Ja.SIZE,yie=Ja.STATUS,vie=Ja.MODE;class mT extends xe{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.handleClick=r=>{this.foundation.handleClick(r)},this.handleMouseOver=r=>{this.setState({isHovering:!0})},this.handleMouseLeave=r=>{this.setState({isHovering:!1})},this.handleModeChange=r=>{this.foundation.handleModeChange(r)},this.handleClickEye=r=>{this.foundation.handleClickEye(r)},this.handleMouseDown=r=>{this.foundation.handleMouseDown(r)},this.handleMouseUp=r=>{this.foundation.handleMouseUp(r)},this.handleModeEnterPress=r=>{this.foundation.handleModeEnterPress(r)},this.handleClickPrefixOrSuffix=r=>{this.foundation.handleClickPrefixOrSuffix(r)},this.handlePreventMouseDown=r=>{this.foundation.handlePreventMouseDown(r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,cachedValue:e.value,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:e.mode==="password",minLength:e.minLength},this.inputRef=g.createRef(),this.prefixRef=g.createRef(),this.suffixRef=g.createRef(),this.foundation=new pie(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&(t||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:r})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=$({[`${rt}-prepend`]:!0,[`${rt}-prepend-text`]:e&&Re(e),[`${rt}-prepend-icon`]:_r(e)});return g.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=$({[`${rt}-append`]:!0,[`${rt}-append-text`]:e&&Re(e),[`${rt}-append-icon`]:_r(e)});return g.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=$(`${rt}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?g.createElement("div",{className:e,onMouseDown:this.handleClear},t||g.createElement(Za,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:r}=this.props,s=$(`${rt}-modebtn`),i=e?g.createElement(_se,null):g.createElement(wse,null),o=t==="password"&&!r,a=e?"Show password":"Hidden password";return o?g.createElement("div",{role:"button",tabIndex:0,"aria-label":a,className:s,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},i):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(!s)return null;const i=$({[`${rt}-prefix`]:!0,[`${rt}-inset-label`]:t,[`${rt}-prefix-text`]:s&&Re(s),[`${rt}-prefix-icon`]:_r(s)});return g.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSuffix(e){const{suffix:t,hideSuffix:r}=this.props;if(!t)return null;const s=$({[`${rt}-suffix`]:!0,[`${rt}-suffix-text`]:t&&Re(t),[`${rt}-suffix-icon`]:_r(t),[`${rt}-suffix-hidden`]:e&&!!r});return g.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!wt(e)){if(typeof e=="function")return t=>{e(t),this.inputRef={current:t}};if(Object.prototype.toString.call(e)==="[object Object]")return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:r,autoFocus:s,clearIcon:i,className:o,disabled:a,defaultValue:l,placeholder:u,prefix:d,mode:h,insetLabel:f,insetLabelId:m,validateStatus:b,type:v,readonly:_,size:y,suffix:w,style:E,showClear:S,onEnterPress:I,onClear:x,hideSuffix:O,inputStyle:T,forwardRef:P,maxLength:A,getValueLength:k,preventScroll:M,borderless:N,showClearIgnoreDisabled:K,onlyBorder:G}=e,z=gie(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:ee,isFocus:j,minLength:H}=this.state,U=this.foundation.isAllowClear(),oe=_r(w),ne=this.getInputRef(),re=`${rt}-wrapper`,de=$(re,o,{[`${rt}-wrapper__with-prefix`]:d||f,[`${rt}-wrapper__with-suffix`]:w,[`${rt}-wrapper__with-suffix-hidden`]:U&&!!O,[`${rt}-wrapper__with-suffix-icon`]:oe,[`${rt}-wrapper__with-append`]:r,[`${rt}-wrapper__with-prepend`]:t,[`${rt}-wrapper__with-append-only`]:r&&!t,[`${rt}-wrapper__with-prepend-only`]:!r&&t,[`${re}-readonly`]:_,[`${re}-disabled`]:a,[`${re}-warning`]:b==="warning",[`${re}-error`]:b==="error",[`${re}-focus`]:j,[`${re}-clearable`]:S,[`${re}-modebtn`]:h==="password",[`${re}-hidden`]:v==="hidden",[`${re}-${y}`]:y,[`${rt}-borderless`]:N,[`${rt}-only_border`]:G!=null}),be=$(rt,{[`${rt}-${y}`]:y,[`${rt}-disabled`]:a,[`${rt}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${rt}-sibling-modebtn`]:h==="password"}),ye=ee??"",ge=Object.assign(Object.assign({},z),{style:T,className:be,disabled:a,readOnly:_,type:this.foundation.handleInputType(v),placeholder:u,onInput:te=>this.foundation.handleInput(te),onChange:te=>this.foundation.handleChange(te.target.value,te),onFocus:te=>this.foundation.handleFocus(te),onBlur:te=>this.foundation.handleBlur(te),onKeyUp:te=>this.foundation.handleKeyUp(te),onKeyDown:te=>this.foundation.handleKeyDown(te),onKeyPress:te=>this.foundation.handleKeyPress(te),value:ye});De(k)||(ge.maxLength=A),H&&(ge.minLength=H),b==="error"&&(ge["aria-invalid"]="true");let pe=Object.assign({},E);return G!==void 0&&(pe=Object.assign({borderWidth:G},E)),g.createElement("div",{className:de,style:pe,onMouseEnter:te=>this.handleMouseOver(te),onMouseLeave:te=>this.handleMouseLeave(te),onClick:te=>this.handleClick(te)},this.renderPrepend(),this.renderPrefix(),g.createElement("input",Object.assign({},ge,{ref:ne})),this.renderClearBtn(),this.renderSuffix(U),this.renderModeBtn(),this.renderAppend())}}mT.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,addonBefore:c.node,addonAfter:c.node,clearIcon:c.node,prefix:c.node,suffix:c.node,mode:c.oneOf(vie),value:c.any,defaultValue:c.any,disabled:c.bool,readonly:c.bool,autoFocus:c.bool,type:c.string,showClear:c.bool,hideSuffix:c.bool,placeholder:c.any,size:c.oneOf(mie),className:c.string,style:c.object,validateStatus:c.oneOf(yie),onClear:c.func,onChange:c.func,onBlur:c.func,onFocus:c.func,onInput:c.func,onKeyDown:c.func,onKeyUp:c.func,onKeyPress:c.func,onEnterPress:c.func,insetLabel:c.node,insetLabelId:c.string,inputStyle:c.object,getValueLength:c.func,preventScroll:c.bool,borderless:c.bool};mT.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:F,onChange:F,onBlur:F,onFocus:F,onInput:F,onKeyDown:F,onKeyUp:F,onKeyPress:F,onEnterPress:F,validateStatus:"default",borderless:!1};const Kn=g.forwardRef((n,e)=>g.createElement(mT,Object.assign({},n,{forwardRef:e})));var _ie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class pu extends g.PureComponent{render(){const e=this.props,{triggerRender:t,componentName:r}=e,s=_ie(e,["triggerRender","componentName"]);return t(Object.assign({},s))}}pu.propTypes={triggerRender:c.func.isRequired,componentName:c.string,componentProps:c.object,value:c.any,inputValue:c.string,placeholder:c.oneOfType([c.string,c.array]),className:c.string,style:c.object};const bie={PREFIX:`${W}-highlight`},wie=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");class Eie extends ke{constructor(e){super(Object.assign({},e)),this.findAll=t=>{let{autoEscape:r=!0,caseSensitive:s=!1,searchWords:i,sourceString:o}=t;Re(i)&&(i=[i]);const a=this.findChunks({autoEscape:r,caseSensitive:s,searchWords:i,sourceString:o}),l=this.combineChunks({chunks:a});return this.fillInChunks({chunksToHighlight:l,totalLength:o?o.length:0})},this.findChunks=t=>{let{autoEscape:r,caseSensitive:s,searchWords:i,sourceString:o}=t;return i.map(a=>typeof a=="string"?{text:a}:a).filter(a=>a.text).reduce((a,l)=>{let u=l.text;r&&(u=wie(u));const d=new RegExp(u,s?"g":"gi");let h;for(;h=d.exec(o);){const f=h.index,m=d.lastIndex;m>f&&a.push({highlight:!0,start:f,end:m,className:l.className,style:l.style}),h.index===d.lastIndex&&d.lastIndex++}return a},[])},this.combineChunks=t=>{let{chunks:r}=t;return r.sort((s,i)=>s.start-i.start).reduce((s,i)=>{if(s.length===0)return[i];{const o=s.pop();if(i.start<=o.end){const a=Math.max(o.end,i.end);s.push({highlight:!0,start:o.start,end:a,className:o.className||i.className,style:Object.assign(Object.assign({},o.style),i.style)})}else s.push(o,i);return s}},[])},this.fillInChunks=t=>{let{chunksToHighlight:r,totalLength:s}=t;const i=[],o=(a,l,u,d,h)=>{l-a>0&&i.push({start:a,end:l,highlight:u,className:d,style:h})};if(r.length===0)o(0,s,!1);else{let a=0;r.forEach(l=>{o(a,l.start,!1),o(l.start,l.end,!0,l.className,l.style),a=l.end}),o(a,s,!1)}return i}}}const Sie=bie.PREFIX;class ep extends D.PureComponent{constructor(){super(...arguments),this.getHighLightTextHTML=e=>{let{sourceString:t="",searchWords:r=[],option:s={autoEscape:!0,caseSensitive:!1}}=e;const i=new Eie().findAll(Object.assign({sourceString:t,searchWords:r},s)),o=s.highlightTag||"mark",a=s.highlightClassName||"",l=s.highlightStyle||{};return i.map((u,d)=>{const{end:h,start:f,highlight:m,style:b,className:v}=u,_=t.substr(f,h-f);return m?g.createElement(o,{style:Object.assign(Object.assign({},l),b),className:`${a} ${v||""}`.trim(),key:_+d},_):_})}}render(){const{searchWords:e,sourceString:t,component:r,highlightClassName:s,highlightStyle:i,caseSensitive:o,autoEscape:a}=this.props,l=$({[`${Sie}-tag`]:!0},s),u={highlightTag:r,highlightClassName:l,highlightStyle:i,caseSensitive:o,autoEscape:a};return this.getHighLightTextHTML({sourceString:t,searchWords:e,option:u})}}ep.propTypes={style:c.object,className:c.string,autoEscape:c.bool,caseSensitive:c.bool,sourceString:c.string,searchWords:c.arrayOf(c.string),highlightStyle:c.object,highlightClassName:c.string,component:c.string};ep.defaultProps={component:"mark",autoEscape:!0,caseSensitive:!1,sourceString:""};var Dx=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let tp=class extends D.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,o=Dx(e,["value","label","children"]);const{props:a}=this;a.disabled||a.onSelect(Object.assign(Object.assign({},o),{value:r,label:s||i}),t)}renderOptionContent(e){let{children:t,inputValue:r,prefixCls:s}=e;return Re(t)&&r?g.createElement(ep,{searchWords:[r],sourceString:t,highlightClassName:`${s}-keyword`}):t}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:o,empty:a,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:m,onMouseEnter:b,prefixCls:v,renderOptionItem:_,inputValue:y}=e,w=Dx(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue"]),E=$(v,{[`${v}-disabled`]:r,[`${v}-selected`]:i,[`${v}-focused`]:d,[`${v}-empty`]:a,[f]:f}),S=$([`${v}-icon`]);return a?l===null?null:g.createElement(On,{componentName:"Select"},I=>g.createElement("div",{className:E,"x-semi-prop":"emptyContent"},l||I.emptyText)):typeof _=="function"?_(Object.assign({disabled:r,focused:d,selected:i,style:m,label:o,value:s,inputValue:y,onMouseEnter:I=>b(I),onClick:I=>this.onClick(Object.assign({value:s,label:o,children:t},w),I)},w)):g.createElement("div",{className:E,onClick:I=>{this.onClick(Object.assign({value:s,label:o,children:t},w),I)},onMouseEnter:I=>b&&b(I),role:"option","aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:m},h?g.createElement("div",{className:S},g.createElement(Pv,null)):null,Re(t)?g.createElement("div",{className:`${v}-text`},this.renderOptionContent({children:t,inputValue:y,prefixCls:v})):t)}};tp.isSelectOption=!0;tp.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};tp.defaultProps={prefixCls:Z$.PREFIX_OPTION};const Zo=Z$.PREFIX,Cie=pT.SIZE,Tie=pT.POSITION,Oie=pT.STATUS;class Nc extends xe{constructor(e){super(e),this.onSelect=(r,s,i)=>{this.foundation.handleSelect(r,s)},this.onSearch=r=>{this.foundation.handleSearch(r)},this.onBlur=r=>this.foundation.handleBlur(r),this.onFocus=r=>this.foundation.handleFocus(r),this.onInputClear=()=>this.foundation.handleClear(),this.handleInputClick=r=>this.foundation.handleInputClick(r),this.foundation=new aie(this.adapter);const t=1;this.state={dropdownMinWidth:null,inputValue:"",options:[],visible:!1,focusIndex:e.defaultActiveFirstOption?0:-1,selection:new Map,rePosKey:t},this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.clickOutsideHandler=null,this.optionListId="",Kt("triggerRender"in this.props&&typeof this.props.triggerRender=="function",`[Semi AutoComplete]
            - If you are using the following props: 'suffix', 'prefix', 'showClear', 'validateStatus', and 'size',
            please notice that they will be removed in the next major version.
            Please use 'componentProps' to retrieve these props instead.
            - If you are using 'onBlur', 'onFocus', please try to avoid using them and look for changes in the future.`)}get adapter(){const e={registerKeyDown:t=>{const r={onKeyDown:t};this.setState({keyboardEventSet:r})},unregisterKeyDown:t=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:t=>{this.setState({focusIndex:t})},updateScrollTop:t=>{let r;r=`.${Zo}-option-selected`,t!==void 0&&(r=`.${Zo}-option:nth-child(${t+1})`);let s=document.querySelector(`#${Zo}-${this.optionListId} ${r}`);if(Array.isArray(s)&&(s=s[0]),s){const i=s.parentNode;i.scrollTop=s.offsetTop-i.offsetTop-i.clientHeight/2+s.clientHeight/2}}};return Object.assign(Object.assign(Object.assign({},super.adapter),e),{getTriggerWidth:()=>{const t=this.triggerRef.current;return t&&t.getBoundingClientRect().width},setOptionWrapperWidth:t=>{this.setState({dropdownMinWidth:t})},updateInputValue:t=>{this.setState({inputValue:t})},toggleListVisible:t=>{this.setState({visible:t})},updateOptionList:t=>{this.setState({options:t})},updateSelection:t=>{this.setState({selection:t})},notifySearch:t=>{this.props.onSearch(t)},notifyChange:t=>{this.props.onChange(t)},notifySelect:t=>{this.props.onSelect(t)},notifyDropdownVisibleChange:t=>{this.props.onDropdownVisibleChange(t)},notifyClear:()=>{this.props.onClear()},notifyFocus:t=>{this.props.onFocus(t)},notifyBlur:t=>{this.props.onBlur(t)},notifyKeyDown:t=>{this.props.onKeyDown(t)},rePositionDropdown:()=>{let{rePosKey:t}=this.state;t=t+1,this.setState({rePosKey:t})},registerClickOutsideHandler:t=>{const r=s=>{const i=this.optionsRef&&this.optionsRef.current,o=this.triggerRef&&this.triggerRef.current,a=Ar.findDOMNode(i),l=s.target,u=s.composedPath&&s.composedPath()||[l];a&&(!a.contains(l)||!a.contains(l.parentNode))&&o&&!o.contains(l)&&!(u.includes(o)||u.includes(a))&&t(s)};this.clickOutsideHandler=r,document.addEventListener("mousedown",r,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&document.removeEventListener("mousedown",this.clickOutsideHandler,!1)}})}componentDidMount(){this.foundation.init(),this.optionListId=No()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){Fe(this.props.data,e.data)||this.foundation.handleDataChange(this.props.data),this.props.value!==e.value&&this.foundation.handleValueChange(this.props.value)}renderInput(){const{size:e,prefix:t,insetLabel:r,insetLabelId:s,suffix:i,placeholder:o,style:a,className:l,showClear:u,disabled:d,triggerRender:h,validateStatus:f,autoFocus:m,value:b,id:v,clearIcon:_}=this.props,{inputValue:y,keyboardEventSet:w,selection:E}=this.state,I=Object.assign(Object.assign(Object.assign({style:a,className:typeof h=="function"?$(l):$({[Zo]:!0,[`${Zo}-disabled`]:d},l),onClick:this.handleInputClick,ref:this.triggerRef,id:v},w),{tabIndex:-1}),this.getDataAttr(this.props)),x={disabled:d,placeholder:o,autoFocus:m,onChange:this.onSearch,onClear:this.onInputClear,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],suffix:i,prefix:t||r,insetLabelId:s,showClear:u,validateStatus:f,size:e,onBlur:this.onBlur,onFocus:this.onFocus,clearIcon:_};return g.createElement("div",Object.assign({},I),typeof h=="function"?g.createElement(pu,Object.assign({},x,{inputValue:typeof b<"u"?b:y,value:Array.from(E.values()),triggerRender:h,componentName:"AutoComplete",componentProps:Object.assign({},this.props)})):g.createElement(Kn,Object.assign({},x,{value:typeof b<"u"?b:y})))}renderLoading(){const e=`${Zo}-loading-wrapper`;return g.createElement("div",{className:e},g.createElement(Zi,null))}renderOption(e,t){const{focusIndex:r}=this.state,s=t===r;return g.createElement(tp,Object.assign({showTick:!1,onSelect:(i,o)=>this.onSelect(i,t,o),focused:s,onMouseEnter:()=>this.foundation.handleOptionMouseEnter(t),key:e.key||e.label+e.value+t},e),e.label)}renderOptionList(){const{maxHeight:e,dropdownStyle:t,dropdownClassName:r,loading:s,emptyContent:i}=this.props,{options:o,dropdownMinWidth:a}=this.state,l=$({[`${Zo}-option-list`]:!0},r);let u;o.length===0?u=i:u=o.filter(h=>h.show).map((h,f)=>this.renderOption(h,f));const d=Object.assign({maxHeight:e,minWidth:a},t);return g.createElement("div",{className:l,role:"listbox",style:d,id:`${Zo}-${this.optionListId}`},s?this.renderLoading():u)}render(){const{position:e,motion:t,zIndex:r,mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:o,stopPropagation:a,getPopupContainer:l}=this.props,{visible:u,rePosKey:d}=this.state,h=this.renderInput(),f=this.renderOptionList();return g.createElement(Sr,{mouseEnterDelay:s,mouseLeaveDelay:i,autoAdjustOverflow:o,trigger:"custom",motion:t,visible:u,content:f,position:e,ref:this.optionsRef,zIndex:r,stopPropagation:a,getPopupContainer:l,rePosKey:d},h)}}Nc.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoAdjustOverflow:c.bool,className:c.string,clearIcon:c.node,children:c.node,data:c.array,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.number]),defaultActiveFirstOption:c.bool,disabled:c.bool,dropdownMatchSelectWidth:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,emptyContent:c.node,id:c.string,insetLabel:c.node,insetLabelId:c.string,onSearch:c.func,onSelect:c.func,onClear:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onKeyDown:c.func,position:c.oneOf(Tie),placeholder:c.string,prefix:c.node,onChangeWithObject:c.bool,onSelectWithObject:c.bool,renderItem:c.func,renderSelectedItem:c.func,suffix:c.node,showClear:c.bool,size:c.oneOf(Cie),style:c.object,stopPropagation:c.oneOfType([c.bool,c.string]),maxHeight:c.oneOfType([c.string,c.number]),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,motion:c.oneOfType([c.bool,c.func,c.object]),getPopupContainer:c.func,triggerRender:c.func,value:c.oneOfType([c.string,c.number]),validateStatus:c.oneOf(Oie),zIndex:c.number};Nc.Option=tp;Nc.__SemiComponentName__="AutoComplete";Nc.defaultProps=bs(Nc.__SemiComponentName__,{stopPropagation:!0,motion:!0,zIndex:gs.DEFAULT_Z_INDEX,position:"bottomLeft",data:[],showClear:!1,size:"default",onFocus:F,onSearch:F,onClear:F,onBlur:F,onSelect:F,onChange:F,onSelectWithObject:!1,onDropdownVisibleChange:F,defaultActiveFirstOption:!1,dropdownMatchSelectWidth:!0,loading:!1,maxHeight:300,validateStatus:"default",autoFocus:!1,emptyContent:null,onKeyDown:F});const Iie={PREFIX:`${W}-avatar`},dd={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],OVERLAP_FROM:["start","end"]};class Pie extends ke{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{Kt(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:t}=this.getProps(),r=this._adapter.getAvatarNode(),s=r==null?void 0:r.firstChild,[i,o]=[(r==null?void 0:r.offsetWidth)||0,(s==null?void 0:s.offsetWidth)||0];if(i!==0&&o!==0&&t*2<i){const a=i-t*2>o?1:(i-t*2)/o;this._adapter.setScale(a)}}}init(){const{children:e}=this.getProps();typeof e=="string"&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();(e?e():void 0)!==!1&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}const xie=n=>{let{gradientStart:e,gradientEnd:t}=n;const r=No();return g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none"},g.createElement("g",{filter:"url(#filter0_d_6_2)"},g.createElement("path",{d:"M40.4918 46.5592C44.6795 43.176 46.261 34.1333 47.5301 25.6141C49.5854 11.8168 39.6662 1 25.8097 1C11.2857 1 3 11.4279 3 25.3518C3 33.7866 6.29361 43.8947 10.4602 46.5592C12.5868 47.9192 12.5868 47.9051 25.8097 47.9192C38.3651 47.9282 38.5352 48.14 40.4918 46.5592Z",fill:`url(#${r})`})),g.createElement("defs",null,g.createElement("filter",{id:"filter0_d_6_2",x:"0.789215",y:"0.447304",width:"49.2216",height:"51.3549",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},g.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),g.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),g.createElement("feOffset",{dy:"1.65809"}),g.createElement("feGaussianBlur",{stdDeviation:"1.10539"}),g.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),g.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_6_2"}),g.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_6_2",result:"shape"})),g.createElement("linearGradient",{id:r,x1:"17.671",y1:"31.7392",x2:"17.671",y2:"47.9333",gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:e}),g.createElement("stop",{offset:"1",stopColor:t}))))};var Rie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Aie=dd.SIZE,Die=dd.SHAPE,kie=dd.COLOR,st=Iie.PREFIX;let Lc=class extends xe{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:t,onClick:r,imgAttr:s,src:i,srcSet:o,alt:a}=this.props,{isImgExist:l}=this.state;let u=t;const d=r!==Pt,h=i&&l,f={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(h){const m=d?`clickable Avatar: ${a}`:a,b=Object.assign(Object.assign({src:i,srcSet:o,onError:this.handleError},s),{className:$({[`${st}-no-focus-visible`]:d})}),v=d?Object.assign(Object.assign({},b),f):b;u=g.createElement("img",Object.assign({alt:m},v))}else if(typeof t=="string"){const m=a??t,v={role:"img","aria-label":d?`clickable Avatar: ${m}`:m,className:$(`${st}-label`,{[`${st}-no-focus-visible`]:d})},_=d?Object.assign(Object.assign({},v),f):v,y={transform:`scale(${this.state.scale})`};u=g.createElement("span",{className:`${st}-content`,style:y},g.createElement("span",Object.assign({},_,{"x-semi-prop":"children"}),t))}return u},this.renderBottomSlot=()=>{var t,r;if(!this.props.bottomSlot)return null;if(this.props.bottomSlot.render)return this.props.bottomSlot.render();const s=(t=this.props.bottomSlot.render)!==null&&t!==void 0?t:()=>{var i;const o={};return this.props.bottomSlot.bgColor&&(o.backgroundColor=this.props.bottomSlot.bgColor),this.props.bottomSlot.textColor&&(o.color=this.props.bottomSlot.textColor),g.createElement("span",{style:o,className:$(`${st}-bottom_slot-shape_${this.props.bottomSlot.shape}`,`${st}-bottom_slot-shape_${this.props.bottomSlot.shape}-${this.props.size}`,(i=this.props.bottomSlot.className)!==null&&i!==void 0?i:"")},this.props.bottomSlot.text)};return g.createElement("div",{className:$([`${st}-bottom_slot`]),style:(r=this.props.bottomSlot.style)!==null&&r!==void 0?r:{}},s())},this.renderTopSlot=()=>{var t,r,s,i;if(!this.props.topSlot)return null;if(this.props.topSlot.render)return this.props.topSlot.render();const o={};return this.props.topSlot.textColor&&(o.color=this.props.topSlot.textColor),g.createElement("div",{style:(t=this.props.topSlot.style)!==null&&t!==void 0?t:{},className:$([`${st}-top_slot-wrapper`,(r=this.props.topSlot.className)!==null&&r!==void 0?r:"",{[`${st}-animated`]:this.props.contentMotion}])},g.createElement("div",{className:$([`${st}-top_slot-bg`,`${st}-top_slot-bg-${this.props.size}`])},g.createElement("div",{className:$([`${st}-top_slot-bg-svg`,`${st}-top_slot-bg-svg-${this.props.size}`])},g.createElement(xie,{gradientStart:(s=this.props.topSlot.gradientStart)!==null&&s!==void 0?s:"var(--semi-color-primary)",gradientEnd:(i=this.props.topSlot.gradientEnd)!==null&&i!==void 0?i:"var(--semi-color-primary)"}))),g.createElement("div",{className:$([`${st}-top_slot`])},g.createElement("div",{style:o,className:$([`${st}-top_slot-content`,`${st}-top_slot-content-${this.props.size}`])},this.props.topSlot.text)))},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=g.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,r=t;this.setState({hoverContent:r},()=>{const{onMouseEnter:s}=this.props;s&&s(e)})},notifyLeave:e=>{this.setState({hoverContent:""},()=>{const{onMouseLeave:t}=this.props;t&&t(e)})},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return(e=this.avatarRef)===null||e===void 0?void 0:e.current}})}componentDidMount(){this.foundation=new Pie(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const t=new Image(0,0);t.src=this.props.src,t.onload=()=>{this.setState({isImgExist:!0})},t.onerror=()=>{this.setState({isImgExist:!1})},t.onabort=()=>{this.setState({isImgExist:!1})}}typeof this.props.children=="string"&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),ri(e);break;case"Escape":e.target.blur();break}}render(){var e;const t=this.props,{shape:r,children:s,size:i,color:o,className:a,hoverMask:l,onClick:u,imgAttr:d,src:h,srcSet:f,style:m,alt:b,gap:v,bottomSlot:_,topSlot:y,border:w,contentMotion:E}=t,S=Rie(t,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap","bottomSlot","topSlot","border","contentMotion"]),{isImgExist:I,hoverContent:x,focusVisible:O}=this.state;let T={};dd.SIZE.includes(i)||(T={width:i,height:i}),T=Object.assign(Object.assign({},T),m);const P=_||y||w,A={onClick:u,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},k=h&&I,M=$(st,{[`${st}-${r}`]:r,[`${st}-${i}`]:i,[`${st}-${o}`]:o&&!k,[`${st}-img`]:k,[`${st}-focus`]:O,[`${st}-animated`]:E},a),N=x?g.createElement("div",{className:`${st}-hover`,"x-semi-prop":"hoverContent"},x):null;let K=g.createElement("span",Object.assign({},S,{style:P?{}:T,className:M},P?{}:A,{role:"listitem",ref:this.avatarRef}),this.getContent(),N);if(w){const G={};typeof w=="object"&&(w!=null&&w.color)&&(G.borderColor=w==null?void 0:w.color),K=g.createElement("div",{style:Object.assign({position:"relative"},T)},K,g.createElement("span",{style:G,className:$([`${st}-additionalBorder`,`${st}-additionalBorder-${i}`,{[`${st}-${r}`]:r}])}),typeof this.props.border=="object"&&this.props.border.motion&&g.createElement("span",{style:G,className:$([`${st}-additionalBorder`,`${st}-additionalBorder-${i}`,{[`${st}-${r}`]:r,[`${st}-additionalBorder-animated`]:typeof this.props.border=="object"&&((e=this.props.border)===null||e===void 0?void 0:e.motion)}])}))}return P?g.createElement("span",Object.assign({className:$([`${st}-wrapper`]),style:T},A),K,y&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&r==="circle"&&this.renderTopSlot(),_&&["extra-small","small","default","medium","large","extra-large"].includes(i)&&this.renderBottomSlot()):K}};Lc.__SemiComponentName__="Avatar";Lc.defaultProps=bs(Lc.__SemiComponentName__,{size:"medium",color:"grey",shape:"circle",gap:3,onClick:Pt,onMouseEnter:Pt,onMouseLeave:Pt});Lc.propTypes={children:c.node,color:c.oneOf(kie),shape:c.oneOf(Die),size:c.oneOf(Aie),hoverMask:c.node,className:c.string,style:c.object,gap:c.number,imgAttr:c.object,src:c.string,srcSet:c.string,alt:c.string,onError:c.func,onClick:c.func,onMouseEnter:c.func,onMouseLeave:c.func,bottomSlot:c.shape({render:c.func,shape:c.oneOf(["circle","square"]),text:c.node,bgColor:c.string,textColor:c.string,className:c.string,style:c.object}),topSlot:c.shape({render:c.func,gradientStart:c.string,gradientEnd:c.string,text:c.node,textColor:c.string,className:c.string,style:c.object}),border:c.oneOfType([c.shape({color:c.string,motion:c.bool}),c.bool]),contentMotion:c.bool};Lc.elementType="Avatar";var Nie=4,Lie=.001,Mie=1e-7,$ie=10,oh=11,gg=1/(oh-1),Fie=typeof Float32Array=="function";function rF(n,e){return 1-3*e+3*n}function sF(n,e){return 3*e-6*n}function iF(n){return 3*n}function ly(n,e,t){return((rF(e,t)*n+sF(e,t))*n+iF(e))*n}function oF(n,e,t){return 3*rF(e,t)*n*n+2*sF(e,t)*n+iF(e)}function jie(n,e,t,r,s){var i,o,a=0;do o=e+(t-e)/2,i=ly(o,r,s)-n,i>0?t=o:e=o;while(Math.abs(i)>Mie&&++a<$ie);return o}function Vie(n,e,t,r){for(var s=0;s<Nie;++s){var i=oF(e,t,r);if(i===0)return e;var o=ly(e,t,r)-n;e-=o/i}return e}function Uie(n){return n}var Bie=function(e,t,r,s){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===s)return Uie;for(var i=Fie?new Float32Array(oh):new Array(oh),o=0;o<oh;++o)i[o]=ly(o*gg,e,r);function a(l){for(var u=0,d=1,h=oh-1;d!==h&&i[d]<=l;++d)u+=gg;--d;var f=(l-i[d])/(i[d+1]-i[d]),m=u+f*gg,b=oF(m,e,r);return b>=Lie?Vie(l,m,e,r):b===0?m:jie(l,u,u+gg,e,r)}return function(u){return u===0?0:u===1?1:ly(a(u),t,s)}};const Pb=Ce(Bie);function kx(n,e,t){return Math.min(Math.max(n,e),t)}function Hie(n){const e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(t=>parseFloat(t)):[]}function mg(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;const t=kx(n,1,10),r=kx(e,.1,2);return s=>s===0||s===1?s:-t*Math.pow(2,10*(s-1))*Math.sin((s-1-r/(Math.PI*2)*Math.asin(1/t))*(Math.PI*2)/r)}const xb=(()=>{const n=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],mg],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(r,s)=>i=>1-mg(r,s)(1-i)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(r,s)=>i=>i<.5?mg(r,s)(i*2)/2:1-mg(r,s)(i*-2+2)/2]},t={linear:[.25,.25,.75,.75]};for(const r of Object.keys(e))e[r].forEach((s,i)=>{t["ease"+r+n[i]]=s});return t})();function Nx(n){if(typeof n=="function")return n;!n||typeof n!="string"?n="linear":n=n.trim();let e=n.split("(")[0];const t=Hie(n);let r;return e==="cubic-bezier"||e==="cubicBezier"?Pb(...t.length?t:xb.linear):((!e||typeof e!="string"||typeof e=="string"&&xb[e]==null)&&(e="linear"),r=xb[e],typeof r=="function"?r(...t):t.length?Pb(...t):Pb(...r))}let zie=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&typeof t=="function"){const s=function(){t(...arguments),r.off(e,s)};this.on(e,s)}}off(e,t){if(e)if(typeof t=="function"){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let s=-1;for(;(s=r.findIndex(i=>i===t))>-1;)r.splice(s,1)}}else t==null&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return this._eventMap.has(e)?(this._eventMap.get(e).forEach(i=>i(...r)),!0):!1}};function uf(n){return!!(n&&typeof n=="object"&&(n.duration>0||typeof n.easing=="string"||typeof n.easing=="function"))}function Kie(n,e,t,r,s){for(const i of Object.keys(e)){const o=e[i],a=typeof o=="number"?o:o.val;if(!(typeof o=="object"&&o.done)){if(uf(o)&&r&&s&&o.duration){if(o.duration+r<=s||a!==n[i])return!1}else if(typeof t[i]=="number"&&t[i]!==0)return!1;if(n[i]!==a)return!1}}return!0}function yg(n){const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=typeof n[t]=="number"?n[t]:n[t].val);return e}const Pu=[0,0];function Lx(n,e,t,r,s,i,o){const a=-s*(e-r),l=-i*t,u=a+l,d=t+u*n,h=e+d*n;return Math.abs(d)<o&&Math.abs(h-r)<o?(Pu[0]=r,Pu[1]=0,Pu):(Pu[0]=h,Pu[1]=d,Pu)}function Wie(n){const e={},t=n&&Object.keys(n)||[];for(const r of t)e[r]=0;return e}const Gie={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Yie=Object.assign(Object.assign({},Gie.default),{precision:.01});function qie(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(uf(e)){const r=Nx(e.easing),s=typeof e.duration=="number"&&e.duration>0?e.duration:1e3;e=Object.assign(Object.assign({},e),{easing:r,duration:s})}let t=Object.assign(Object.assign(Object.assign({},Yie),e),{done:!1});if(n&&typeof n=="object"&&"val"in n){if(uf(n)){const r=Nx(n.easing),s=typeof n.duration=="number"&&n.duration>0?n.duration:parseInt(e.duration)||1e3;n=Object.assign(Object.assign({},n),{easing:r,duration:s})}t=Object.assign(Object.assign({},t),n)}else t=Object.assign(Object.assign({},t),{val:n});return t}const Ud=()=>Date.now(),Jo=1e3/60;class aF extends zie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this._props=Object.assign({},e),this._config=Object.assign({},t),this.initStates()}_wrapConfig(e,t){t=t&&typeof t=="object"?t:this._config;const r={};for(const s of Object.keys(e))r[s]=qie(e[s],t);return r}initStates(e,t){e=e&&typeof e=="object"?e:this._props,t=t&&typeof t=="object"?t:this._config;const{from:r,to:s}=e;if(this._from={},r)for(const a of Object.keys(r))this._from[a]=typeof r[a]=="object"&&r[a].val?r[a].val:r[a];this._to=this._wrapConfig(s,t),this._delay=parseInt(t.delay)||0;const i=this._from&&yg(this._from)||yg(this._to),o=Wie(i);this._currentStyle=Object.assign({},i),this._currentVelocity=Object.assign({},o),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},o),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){this._timer==null&&(this._timer=requestAnimationFrame(e=>{const t=Ud();if(Kie(this._currentStyle,this._to,this._currentVelocity,this._startedTime||t,t)||this._ended||this._stopped){this._wasAnimating&&!this._ended&&!this._stopped&&(this._timer=setTimeout(()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())},Jo)),this.resetPlayStates();return}this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,this._startedTime===0&&(this._startedTime=t);const r=t,s=r-this._prevTime;this._prevTime=r,r-this._startedTime<this._delay&&(this._timer=null,this.animate());const i={},o={},a={},l={},u=this._to&&Object.keys(this._to)||[];for(const d of u){const h=this._to[d];this._accumulatedTime[d]=typeof this._accumulatedTime[d]!="number"?s:this._accumulatedTime[d]+s;const f=this._from[d]!=null&&typeof this._from[d]=="object"?this._from[d].val:this._from[d],m=h.val;if(typeof h=="number")a[d]=h,l[d]=0,i[d]=h,o[d]=0;else{let b=this._lastIdealStyle[d],v=this._lastIdealVelocity[d];if(uf(this._config)||uf(h)){const{easing:_,duration:y}=h;b=f+_((r-this._startedTime)/y)*(m-f),r>=this._startedTime+y&&(b=m,h.done=!0),i[d]=b,a[d]=b}else if(m!=null&&m===this._currentStyle[d])a[d]=m,l[d]=0,i[d]=m,o[d]=0;else{const _=(this._accumulatedTime[d]-Math.floor(this._accumulatedTime[d]/Jo)*Jo)/Jo,y=Math.floor(this._accumulatedTime[d]/Jo);for(let S=0;S<y;S++)[b,v]=Lx(Jo/1e3,b,v,h.val,h.tension,h.friction,h.precision);const[w,E]=Lx(Jo/1e3,b,v,h.val,h.tension,h.friction,h.precision);a[d]=b+(w-b)*_,l[d]=v+(E-v)*_,i[d]=b,o[d]=v,this._accumulatedTime[d]-=y*Jo}}}this._timer=null,this._currentStyle=Object.assign({},a),this._currentVelocity=Object.assign({},l),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},o),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())}))}start(){this._prevTime=Ud(),this._startedTime=Ud(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=Ud(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){const t=Ud()-this._pausedTime;this._paused=!1,this._startedTime+=t,this._prevTime+=t,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();const e=Object.assign({},this._props),[t,r]=[e.to,e.from];e.from=t,e.to=r,this._props=Object.assign({},e),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},yg(this._props.from))}getFinalStates(){return Object.assign({},yg(this._props.to))}}const lF={PREFIX:`${W}-button`},np={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light","outline"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"},Xie={SIZE:["extra-small","small","default","large","extra-large","custom"],ICON_PREFIX:"semi-icon-"};var Qie=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Zie=np.sizes,{htmlTypes:Jie,btnTypes:eoe}=np;let rp=class extends D.PureComponent{render(){const e=this.props,{children:t,block:r,htmlType:s,loading:i,circle:o,className:a,style:l,disabled:u,size:d,theme:h,type:f,prefixCls:m,iconPosition:b}=e,v=Qie(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),_=Object.assign(Object.assign({disabled:u},Ho(v,["x-semi-children-alias"])),{className:$(m,{[`${m}-${f}`]:!u&&f,[`${m}-disabled`]:u,[`${m}-size-large`]:d==="large",[`${m}-size-small`]:d==="small",[`${m}-light`]:h==="light",[`${m}-block`]:r,[`${m}-circle`]:o,[`${m}-borderless`]:h==="borderless",[`${m}-outline`]:h==="outline",[`${m}-${f}-disabled`]:u&&f},a),type:s,"aria-disabled":u}),y={};return a&&a.includes("-with-icon")||(y["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),g.createElement("button",Object.assign({},_,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:l}),g.createElement("span",Object.assign({className:$(`${m}-content`,this.props.contentClassName),onClick:w=>u&&w.stopPropagation()},y),t))}};rp.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:Pt,onClick:Pt,onMouseEnter:Pt,onMouseLeave:Pt,prefixCls:lF.PREFIX};rp.propTypes={children:c.node,disabled:c.bool,prefixCls:c.string,style:c.object,size:c.oneOf(Zie),type:c.oneOf(eoe),block:c.bool,onClick:c.func,onMouseDown:c.func,circle:c.bool,loading:c.bool,htmlType:c.oneOf(Jie),theme:c.oneOf(np.themes),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func,"aria-label":c.string,contentClassName:c.string};var toe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const noe=Xie.SIZE;class Us extends D.PureComponent{render(){const e=this.props,{children:t,iconPosition:r,iconSize:s,iconStyle:i,style:o,icon:a,noHorizontalPadding:l,theme:u,className:d,prefixCls:h,loading:f}=e,m=toe(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),b=Object.assign({},o);Array.isArray(l)?(l.includes("left")&&(b.paddingLeft=0),l.includes("right")&&(b.paddingRight=0)):l===!0?(b.paddingLeft=0,b.paddingRight=0):typeof l=="string"&&(l==="left"&&(b.paddingLeft=0),l==="right"&&(b.paddingRight=0));let v=null,_=null;f&&!m.disabled?_=g.createElement(eF,null):g.isValidElement(a)&&(_=a);const y=$({[`${h}-content-left`]:r==="right",[`${h}-content-right`]:r==="left"}),w=this.props["x-semi-children-alias"]||"children",E=t!=null?g.createElement("span",{className:y,"x-semi-prop":w},t):null;r==="left"?v=g.createElement(g.Fragment,null,_,E):v=g.createElement(g.Fragment,null,E,_);const S=$(d,`${h}-with-icon`,{[`${h}-with-icon-only`]:E==null||E==="",[`${h}-loading`]:f});return g.createElement(rp,Object.assign({},m,{className:S,theme:u,style:b}),v)}}Us.defaultProps={iconPosition:np.DEFAULT_ICON_POSITION,prefixCls:lF.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:F,onMouseLeave:F};Us.elementType="IconButton";Us.propTypes={iconStyle:c.object,style:c.object,loading:c.bool,prefixCls:c.string,icon:c.oneOfType([c.object,c.string,c.node]),iconSize:c.oneOf(noe),noHorizontalPadding:c.oneOfType([c.bool,c.string,c.array]),children:c.node,theme:c.string,iconPosition:c.oneOf(np.iconPositions),className:c.string,onMouseEnter:c.func,onMouseLeave:c.func};let Jt=class extends g.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e)}render(){const e=Object.assign({},this.props),t=!!e.icon,r=!!e.loading,s=!!e.disabled;return t||r&&!s?g.createElement(Us,Object.assign({},e)):g.createElement(rp,Object.assign({},e))}};Jt.__SemiComponentName__="Button";Jt.propTypes=Object.assign(Object.assign({},rp.propTypes),Us.propTypes);Jt.defaultProps=bs(Jt.__SemiComponentName__);Jt.elementType="Button";const uF={PREFIX:`${W}-card`},roe={SHADOWS:["hover","always"],TYPE:["grid"]};var soe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Bd=uF.PREFIX;class cF extends D.PureComponent{render(){const e=this.props,{avatar:t,className:r,description:s,style:i,title:o}=e,a=soe(e,["avatar","className","description","style","title"]),l=$(`${Bd}-meta`,r),u=t&&g.createElement("div",{className:`${Bd}-meta-avatar`},t),d=o&&g.createElement("div",{className:`${Bd}-meta-wrapper-title`},o),h=s&&g.createElement("div",{className:`${Bd}-meta-wrapper-description`},s),f=o||s?g.createElement("div",{className:`${Bd}-meta-wrapper`},d,h):null;return g.createElement("div",Object.assign({},a,{className:l,style:i}),u,f)}}cF.propTypes={avatar:c.node,className:c.string,description:c.node,style:c.object,title:c.node};const yT={PREFIX:`${W}-skeleton`};var ioe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ooe=dd.SIZE,aoe=dd.SHAPE,Dv=n=>e=>t=>g.createElement(e,Object.assign({type:n},t));class hd extends D.PureComponent{render(){const e=this.props,{prefixCls:t,className:r,type:s,size:i,shape:o}=e,a=ioe(e,["prefixCls","className","type","size","shape"]),l=$(r,`${t}-${s}`,{[`${t}-${s}-${i}`]:s.toUpperCase()==="AVATAR"},{[`${t}-${s}-${o}`]:s.toUpperCase()==="AVATAR"});return g.createElement("div",Object.assign({className:l},a))}}hd.propTypes={type:c.string,prefixCls:c.string,style:c.object,className:c.string,size:c.oneOf(ooe),shape:c.oneOf(aoe)};hd.defaultProps={prefixCls:yT.PREFIX,size:"medium",shape:"circle"};const loe=Dv("avatar")(hd),uoe=Dv("image")(hd),coe=Dv("title")(hd),doe=Dv("button")(hd);class vT extends D.PureComponent{render(){const{prefixCls:e,className:t,style:r,rows:s}=this.props,i=$(t,`${e}-paragraph`);return g.createElement("ul",{className:i,style:r},[...Array(s)].map((o,a)=>g.createElement("li",{key:a})))}}vT.propTypes={rows:c.number,prefixCls:c.string,style:c.object,className:c.string};vT.defaultProps={prefixCls:yT.PREFIX,rows:4};var hoe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Mx=yT.PREFIX;class Hi extends D.PureComponent{render(){const e=this.props,{placeholder:t,active:r,children:s,className:i,loading:o,style:a}=e,l=hoe(e,["placeholder","active","children","className","loading","style"]),u=$(Mx,{[`${Mx}-active`]:!!r},i);let d;return o?d=g.createElement("div",Object.assign({className:u,style:a},l,{"x-semi-prop":"placeholder"}),t):d=s,d}}Hi.Avatar=loe;Hi.Title=coe;Hi.Button=doe;Hi.Paragraph=vT;Hi.Image=uoe;Hi.defaultProps={loading:!0};Hi.propTypes={active:c.bool,placeholder:c.node,style:c.object,className:c.string,loading:c.bool,children:c.node};const foe={PREFIX:`${W}-space`},gl={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"},poe="Symbol(react.fragment)",Uw=n=>{let e=[];return g.Children.forEach(n,t=>{t!=null&&(Array.isArray(t)?e=e.concat(Uw(t)):D.isValidElement(t)&&t.type&&t.type.toString()===poe&&t.props?e=e.concat(Uw(t.props.children)):e.push(t))}),e},Qs=foe.PREFIX;class si extends D.PureComponent{render(){const{children:e=null,style:t,className:r,spacing:s,wrap:i,align:o,vertical:a}=this.props,l=i&&a?!1:i,u=Object.assign({},t);let d="",h="";Re(s)?(d=s,h=s):Zt(s)?(u.rowGap=s,u.columnGap=s):DC(s)&&(Re(s[0])?d=s[0]:Zt(s[0])&&(u.columnGap=`${s[0]}px`),Re(s[1])?h=s[1]:Zt(s[1])&&(u.rowGap=`${s[1]}px`));const f=$(Qs,r,{[`${Qs}-align-${o}`]:o,[`${Qs}-vertical`]:a,[`${Qs}-horizontal`]:!a,[`${Qs}-wrap`]:l,[`${Qs}-tight-horizontal`]:d===gl.SPACING_TIGHT,[`${Qs}-tight-vertical`]:h===gl.SPACING_TIGHT,[`${Qs}-medium-horizontal`]:d===gl.SPACING_MEDIUM,[`${Qs}-medium-vertical`]:h===gl.SPACING_MEDIUM,[`${Qs}-loose-horizontal`]:d===gl.SPACING_LOOSE,[`${Qs}-loose-vertical`]:h===gl.SPACING_LOOSE}),m=Uw(e),b=sf(this.props);return g.createElement("div",Object.assign({},b,{className:f,style:u,"x-semi-prop":"children"}),m)}}si.propTypes={wrap:c.bool,align:c.oneOf(gl.ALIGN_SET),vertical:c.bool,spacing:c.oneOfType([c.string,c.number,c.array]),children:c.node,style:c.object,className:c.string};si.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};var goe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const hr=uF.PREFIX;class So extends D.PureComponent{constructor(){super(...arguments),this.renderHeader=()=>{const{title:e,headerExtraContent:t,header:r,headerLine:s,headerStyle:i}=this.props,o=$(`${hr}-header`,{[`${hr}-header-bordered`]:!!s}),a=$(`${hr}-header-wrapper`),l=$(`${hr}-header-wrapper-title`,{[`${hr}-header-wrapper-spacing`]:!!t});return r||t||e?g.createElement("div",{style:i,className:o},r||g.createElement("div",{className:a},t&&g.createElement("div",{className:`${hr}-header-wrapper-extra`,"x-semi-prop":"headerExtraContent"},t),e&&g.createElement("div",{className:l},Re(e)?g.createElement(wi.Title,{heading:6,ellipsis:{showTooltip:!0,rows:1},"x-semi-prop":"title"},e):e))):null},this.renderCover=()=>{const{cover:e}=this.props,t=$(`${hr}-cover`);return e&&g.createElement("div",{className:t,"x-semi-prop":"cover"},e)},this.renderBody=()=>{const{bodyStyle:e,children:t,actions:r,loading:s}=this.props,i=$(`${hr}-body`),o=$(`${hr}-body-actions`),a=$(`${hr}-body-actions-item`),l=g.createElement("div",null,g.createElement(Hi.Title,null),g.createElement("br",null),g.createElement(Hi.Paragraph,{rows:3}));return g.createElement("div",{style:e,className:i},t&&g.createElement(Hi,{placeholder:l,loading:s,active:!0},t),Array.isArray(r)&&g.createElement("div",{className:o},g.createElement(si,{spacing:12},r.map((u,d)=>g.createElement("div",{key:d,className:a,"x-semi-prop":`actions.${d}`},u)))))},this.renderFooter=()=>{const{footer:e,footerLine:t,footerStyle:r}=this.props,s=$(`${hr}-footer`,{[`${hr}-footer-bordered`]:t});return e&&g.createElement("div",{style:r,className:s,"x-semi-prop":"footer"},e)}}render(){const e=this.props,{bordered:t,shadows:r,style:s,className:i}=e,o=goe(e,["bordered","shadows","style","className"]),a=Ho(o,["actions","bodyStyle","cover","headerExtraContent","footer","footerLine","footerStyle","header","headerLine","headerStyle","loading","title"]),l=$(hr,i,{[`${hr}-bordered`]:t,[`${hr}-shadows`]:r,[`${hr}-shadows-${r}`]:r});return g.createElement("div",Object.assign({},a,{"aria-busy":this.props.loading,className:l,style:s}),this.renderHeader(),this.renderCover(),this.renderBody(),this.renderFooter())}}So.Meta=cF;So.propTypes={actions:c.array,bodyStyle:c.object,bordered:c.bool,children:c.node,className:c.string,cover:c.node,footer:c.node,footerLine:c.bool,footerStyle:c.object,header:c.node,headerExtraContent:c.node,headerLine:c.bool,headerStyle:c.object,loading:c.bool,shadows:c.oneOf(roe.SHADOWS),style:c.object,title:c.node,"aria-label":c.string};So.defaultProps={bordered:!0,footerLine:!1,headerLine:!0,loading:!1};function moe(n,e,t,r){for(var s=n.length,i=t+(r?1:-1);r?i--:++i<s;)if(e(n[i],i,n))return i;return-1}var dF=moe;function yoe(n){return n!==n}var voe=yoe;function _oe(n,e,t){for(var r=t-1,s=n.length;++r<s;)if(n[r]===e)return r;return-1}var boe=_oe,woe=dF,Eoe=voe,Soe=boe;function Coe(n,e,t){return e===e?Soe(n,e,t):woe(n,Eoe,t)}var hF=Coe,Toe=$C,$x=1/0,Ooe=17976931348623157e292;function Ioe(n){if(!n)return n===0?n:0;if(n=Toe(n),n===$x||n===-$x){var e=n<0?-1:1;return e*Ooe}return n===n?n:0}var Poe=Ioe,xoe=Poe;function Roe(n){var e=xoe(n),t=e%1;return e===e?t?e-t:e:0}var kv=Roe,Aoe=sd;function Doe(n,e){return Aoe(e,function(t){return n[t]})}var koe=Doe,Noe=koe,Loe=Qa;function Moe(n){return n==null?[]:Noe(n,Loe(n))}var fF=Moe;const pF=Ce(fF);var $oe=hF,Foe=no,joe=CM,Voe=kv,Uoe=fF,Boe=Math.max;function Hoe(n,e,t,r){n=Foe(n)?n:Uoe(n),t=t&&!r?Voe(t):0;var s=n.length;return t<0&&(t=Boe(s+t,0)),joe(n)?t<=s&&n.indexOf(e,t)>-1:!!s&&$oe(n,e,t)>-1}var zoe=Hoe;const nc=Ce(zoe);var Koe=Cv,Woe=hu,Goe=BM,Yoe=no,qoe=Wf,Xoe=Qa,Qoe=Object.prototype,Zoe=Qoe.hasOwnProperty,Joe=Goe(function(n,e){if(qoe(e)||Yoe(e)){Woe(e,Xoe(e),n);return}for(var t in e)Zoe.call(e,t)&&Koe(n,t,e[t])}),eae=Joe;const tae=Ce(eae);var nae=hF;function rae(n,e){var t=n==null?0:n.length;return!!t&&nae(n,e,0)>-1}var gF=rae;function sae(n,e,t){for(var r=-1,s=n==null?0:n.length;++r<s;)if(t(e,n[r]))return!0;return!1}var mF=sae,iae=XC,oae=gF,aae=mF,lae=sd,uae=ld,cae=QC,dae=200;function hae(n,e,t,r){var s=-1,i=oae,o=!0,a=n.length,l=[],u=e.length;if(!a)return l;t&&(e=lae(e,uae(t))),r?(i=aae,o=!1):e.length>=dae&&(i=cae,o=!1,e=new iae(e));e:for(;++s<a;){var d=n[s],h=t==null?d:t(d);if(d=r||d!==0?d:0,o&&h===h){for(var f=u;f--;)if(e[f]===h)continue e;l.push(d)}else i(e,h,r)||l.push(d)}return l}var yF=hae,fae=yF,pae=o$,gae=KC,Fx=HC,mae=gae(function(n,e){return Fx(n)?fae(n,pae(e,1,Fx,!0)):[]}),yae=mae;const uy=Ce(yae);var vae=_v,_ae=p$,bae=id;function wae(n,e,t){for(var r=-1,s=e.length,i={};++r<s;){var o=e[r],a=vae(n,o);t(a,o)&&_ae(i,bae(o,n),a)}return i}var Eae=wae;function Sae(n,e){return n!=null&&e in Object(n)}var Cae=Sae,Tae=id,Oae=Gf,Iae=sr,Pae=Tv,xae=BC,Rae=du;function Aae(n,e,t){e=Tae(e,n);for(var r=-1,s=e.length,i=!1;++r<s;){var o=Rae(e[r]);if(!(i=n!=null&&t(n,o)))break;n=n[o]}return i||++r!=s?i:(s=n==null?0:n.length,!!s&&xae(s)&&Pae(o,s)&&(Iae(n)||Oae(n)))}var Dae=Aae,kae=Cae,Nae=Dae;function Lae(n,e){return n!=null&&Nae(n,e,kae)}var vF=Lae,Mae=Eae,$ae=vF;function Fae(n,e){return Mae(n,e,function(t,r){return $ae(n,r)})}var jae=Fae,Vae=jae,Uae=a$,Bae=Uae(function(n,e){return n==null?{}:Vae(n,e)}),Hae=Bae;const Wl=Ce(Hae);var zae=ed;function Kae(n,e,t){for(var r=-1,s=n.length;++r<s;){var i=n[r],o=e(i);if(o!=null&&(a===void 0?o===o&&!zae(o):t(o,a)))var a=o,l=i}return l}var Wae=Kae;function Gae(n,e){return n>e}var Yae=Gae,qae=Wae,Xae=Yae,Qae=Qf;function Zae(n){return n&&n.length?qae(n,Qae,Xae):void 0}var Jae=Zae;const ele=Ce(Jae);var Rb=XM,tle=aM,nle=ZC,rle=1/0,sle=Rb&&1/nle(new Rb([,-0]))[1]==rle?function(n){return new Rb(n)}:tle,ile=sle,ole=XC,ale=gF,lle=mF,ule=QC,cle=ile,dle=ZC,hle=200;function fle(n,e,t){var r=-1,s=ale,i=n.length,o=!0,a=[],l=a;if(t)o=!1,s=lle;else if(i>=hle){var u=e?null:cle(n);if(u)return dle(u);o=!1,s=ule,l=new ole}else l=e?[]:a;e:for(;++r<i;){var d=n[r],h=e?e(d):d;if(d=t||d!==0?d:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),a.push(d)}else s(l,h,t)||(l!==a&&l.push(h),a.push(d))}return a}var ple=fle,gle=ple;function mle(n){return n&&n.length?gle(n):[]}var yle=mle;const vle=Ce(yle),_F={PREFIX:`${W}-tree`,PREFIX_OPTION:`${W}-tree-option`};function bF(n,e){return`${n}-${e}`}function Nv(n){return!Kl(n)&&!wt(n)}function ca(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const s=[],i=!!r,o=Q(t,"key","key"),a=Q(t,"children","children");function l(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map((h,f)=>{const m=bF(d?d.pos:"0",f),b=h[o],v={};t&&Object.entries(Ho(t,"children")).forEach(w=>{let[E,S]=w;const I=h[S];!wt(I)&&(v[E]=I)});const _=Object.assign(Object.assign(Object.assign({},Wl(h,["key","label","value","icon","disabled","isLeaf"])),v),{parent:d,pos:m,children:null,data:h,_innerDataTag:!0,isEnd:[...d?d.isEnd:[],f===u.length-1]}),y=typeof r=="boolean";return(!i||!y&&r.has(b))&&s.push(_),e.has(b)&&(!i||!y&&r.has(b))?_.children=l(h[a]||[],_):_.children=[],_})}return l(n),s}function _le(n,e,t){const r=Q(t,"key","key"),s=Q(t,"children","children"),i=(o,a,l)=>{const u=o?o[s]:n,d=o?bF(l.pos,a):"0";if(o){const h=Q(o,r,null),f={data:Object.assign({},o),ind:a,pos:d,key:h!==null?h:d,parentPos:l.node?l.pos:null,level:Number(l.level)+1};e(f)}u&&u.forEach((h,f)=>{i(h,f,{node:o,pos:d,level:l?Number(l.level)+1:-1})})};i(null)}function ble(n,e){const t={},r={},s={},i={posEntities:t,keyEntities:r,valueEntities:s},o=Q(e,"value","value");return _le(n,a=>{const{pos:l,key:u,parentPos:d}=a,h=Object.assign({},a),f=Q(h,`data.${o}`,null);f!==null&&(s[f]=u),t[l]=h,r[u]=h,h.parent=t[d],h.parent&&(h.parent.children=h.parent.children||[],h.parent.children.push(h))},e),i}function ml(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!Nv(n))return[];if(!t&&Array.isArray(n)?n=n.length?[n[0]]:[]:Array.isArray(n)||(n=[n]),It(e))return n;const r=[];return n.forEach(s=>{s in e?r.push(e[s]):s&&r.push(s)}),r}function zi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{if(!i)return;const{children:o}=i;Nv(o)&&o.forEach(l=>{r.push(l.key),s(e[l.key])})};return n.forEach(i=>{t&&r.push(i),s(e[i])}),r}function wle(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=[];return n&&n.forEach(s=>{const i=e[s];i&&i.children&&i.children.forEach(o=>{(!t.length||!t.includes(o.key))&&r.push(o.key)})}),r}function _T(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[];return n.forEach(i=>{e[i]&&e[i].parent&&r.push(e[i].parent.key)}),wle(vle(r),e,t?[]:n)}function Ki(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=[],s=i=>{i.parent&&(r.push(i.parent.key),s(i.parent))};return n.forEach(i=>{e[i]&&s(e[i]),t&&r.push(i)}),r}function Ele(n,e){const t={};return n.forEach(r=>{if(!e[r])return;const{level:s}=e[r];t[s]?t[s].push(r):t[s]=[r]}),t}function sp(n,e){const t=Array.isArray(n)?n:[n],r=zi(t,e,!0),s=new Set([...r]);let i=new Set([]),o=[];const a=Ele(t,e),l=u=>{const{key:d,parent:h,level:f}=u;if(!h||o.includes(d))return;const m=_T([d],e);if(o=[...o,...m],m.every(v=>s.has(v)))s.add(h.key),f-1 in a&&f?a[f-1].push(h.key):a[f-1]=[h.key];else{const v=Ki([d],e,!1);i=new Set([...i,...v])}};for(;!It(a);){const u=ele(Object.keys(a).map(d=>Number(d)));a[u].forEach(d=>l(e[d])),delete a[u]}return{checkedKeys:s,halfCheckedKeys:i}}function Ab(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Array.isArray(n)||(n=[n]),t){const r=Ki(n,e,!0);return new Set(r)}return new Set(n)}function jx(n,e,t,r){const s=ml(n,r,t);return new Set(Ki(s,e,!1))}function Vx(n,e,t){let r="show";const s=[...n],i=[...e];if(Math.abs(s.length-i.length)!==1)return{motionType:r,motionKeys:[]};let o=[];return s.length>i.length?(r="hide",o=uy(s,i)):o=uy(i,s),{motionType:o.length===1?r:"show",motionKeys:o.length===1?zi(o,t,!1):[]}}function wF(n,e,t,r){if(!t)return!0;let s=t,i=e;return typeof t=="boolean"&&(s=(o,a)=>{const l=o.toLowerCase();return a.toString().toLowerCase().includes(l)}),r&&(i=e[r]),s(n,i,e)}function ii(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3?arguments[3]:void 0;const s=[],i=new Set(n);return t?n.forEach(o=>{e[o]&&!Nv(e[o].children)&&s.push(o),!e[o]&&r&&s.push(o)}):n.forEach(o=>{if(!e[o]){r&&s.push(o);return}const{parent:a}=e[o];a&&i.has(a.key)||s.push(o)}),s}function Ux(n,e,t){const r=[],s=i=>{t[i].children&&t[i].children.forEach(o=>{const{key:a}=o;r.push(a),e.has(a)&&s(a)})};return s(n),r}function EF(n,e,t,r){const s=zi([n],e,!0),i=e[n];t=new Set([...t,n]);const o=a=>{if(!a.parent)return;const{key:l}=a;if(_T([l],e).every(h=>t.has(h))){const h=a.parent;t.add(h.key),o(h)}else{const h=Ki([l],e,!1);r=new Set([...r,...h])}};return o(i),{checkedKeys:new Set([...t,...s]),halfCheckedKeys:r}}function SF(n,e,t,r){const s=zi([n],e,!0),i=e[n];s.forEach(a=>{t.has(a)&&t.delete(a),r.has(a)&&r.delete(a)});const o=a=>{const l=a.parent;if(!l||!t.has(l.key)&&!r.has(l.key))return;const{key:u}=a,h=_T([u],e).some(m=>t.has(m)||r.has(m)),f=Ki([u],e,!1);h?f.forEach(m=>{t.has(m)&&(t.delete(m),r.add(m))}):(t.has(l.key)&&t.delete(l.key),r.has(l.key)&&r.delete(l.key),o(l))};return i&&o(i),{checkedKeys:t,halfCheckedKeys:r}}function Sle(n){const{showFilteredOnly:e,keyEntities:t,inputValue:r,treeData:s,filterTreeNode:i,filterProps:o,prevExpandedKeys:a,keyMaps:l}=n;let u=[];u=Object.values(t).filter(b=>wF(r,b.data,i,o)).map(b=>b.key);let d=Ki(u,t,!1);if(a.length){const b=a.filter(v=>!!t[v]);d=d.concat(b)}const h=zi(u,t,!0),f=new Set([...h,...d]);return{flattenNodes:ca(s,new Set(d),l,e&&f),filteredKeys:new Set(u),filteredExpandedKeys:new Set(d),filteredShownKeys:f}}function cy(n,e){const t=Q(e,"value","value"),r=Q(e,"key","key");return Array.isArray(n)?n.map(s=>Q(s,t,s[r])):Q(n,t,n[r])}function ea(n,e,t){return e&&Nv(n)?cy(n,t):n}function Bx(n,e){return[...n].filter(r=>r in e)}function CF(n,e){const t=Q(e,"disabled","disabled"),r=Object.keys(n).filter(i=>n[i].data[t]),{checkedKeys:s}=sp(r,n);return s}const TF={PREFIX:`${W}-cascader`,PREFIX_OPTION:`${W}-cascader-option`},qt={SIZE_SET:["small","large","default"],VALIDATE_STATUS:["success","default","error","warning"],IS_KEY:"isKey",IS_VALUE:"isValue",SHOW_NEXT_BY_CLICK:"click",SHOW_NEXT_BY_HOVER:"hover",LEAF_ONLY_MERGE_TYPE:"leafOnly",AUTO_MERGE_VALUE_MERGE_TYPE:"autoMergeValue",NONE_MERGE_TYPE:"none",SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_CUSTOM:"custom",RELATED:"related",UN_RELATED:"unRelated"},OF="_SEMI_CASCADER_SPLIT_";function Cle(n,e){return`${n}-${e}`}function Tle(n){return!Kl(n)&&!wt(n)}function Ole(n){return Array.isArray(n)?n:[n]}function Ile(n,e,t,r){if(!t)return!0;let s=t,i;return typeof t=="boolean"?(s=(o,a)=>{const l=o.toLowerCase();return a.toLowerCase().includes(l)},i=r.join("")):i=r.join(),s(n,i,e)}function Ple(n,e){const t=(r,s,i)=>{const o=r?r.children:n;let a=null;if(r){const l=i?`${i.key}${OF}${r.value}`:`${r.value}`,u=i?Cle(i.pos,s):`${s}`;a={data:Object.assign({},r),ind:s,key:l,pos:u,level:i?i.level+1:0,parentKey:i?i.key:null,path:i?[...i.path,l]:[l],valuePath:i?[...i.valuePath,r.value]:[r.value]},e(a)}o&&o.forEach((l,u)=>{t(l,u,a)})};t(null)}function xle(n){return n!=null&&n.length?Array.isArray(n[0])?n.map(e=>dy(e)):[dy(n)]:[]}function dy(n){return n.join(OF)}function Rle(n,e){const t=n.split("-").map(i=>Number(i));let r=e,s=[];return t.forEach((i,o)=>{var a;r=o===0?r[i]:(a=r==null?void 0:r.children)===null||a===void 0?void 0:a[i],s.push(r==null?void 0:r.value)}),dy(s)}function IF(n){const e={};return Ple(n,t=>{const{key:r,parentKey:s}=t,i=Object.assign({},t);e[r]=i,i.parent=e[s],i.parent&&(i.parent.children=i.parent.children||[],i.parent.children.push(i))}),e}function Bw(n,e){let t;return e?t=qt.LEAF_ONLY_MERGE_TYPE:n?t=qt.AUTO_MERGE_VALUE_MERGE_TYPE:t=qt.NONE_MERGE_TYPE,t}class Ale extends ke{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===Y$&&this.getState("isOpen")&&this.close(t)},this.updateSearching=t=>{this._adapter.updateStates({isSearching:!1})},this.handleTagRemoveByKey=t=>{var r,s;const{keyEntities:i}=this.getStates(),{disabled:o}=this.getProps();if(o)return;const a=(r=i[t])!==null&&r!==void 0?r:{};!(!((s=a==null?void 0:a.data)===null||s===void 0)&&s.disable)&&this._handleMultipleSelect(a),this._adapter.rePositionDropdown()},this.handleTagRemoveInTrigger=t=>{const{treeData:r}=this.getStates(),s=Rle(t,r);this.handleTagRemoveByKey(s)}}init(){const e=this.getProp("open")||this.getProp("defaultOpen");this.collectOptions(!0),this._adapter.updateLoadingKeyRefValue(new Set),this._adapter.updateLoadedKeyRefValue(new Set),e&&!this._isDisabled()&&this.open()}destroy(){this._adapter.unregisterClickOutsideHandler()}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filterTreeNode")}_notifyChange(e){const{onChangeWithObject:t,multiple:r}=this.getProps(),s=t?[]:"value";if(r){const i=[];e.forEach(o=>{const a=this.getItemPropPath(o,s);i.push(a)}),this._adapter.notifyChange(i)}else{const i=wt(e)||!("key"in e)?[]:this.getItemPropPath(e.key,s);this._adapter.notifyChange(i)}}_isLeaf(e){return this.getProp("loadData")?!!e.isLeaf:!e.children||!e.children.length}_clearInput(){this._adapter.updateInputValue("")}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}_isOptionDisabled(e,t){return Ki([e],t,!0).some(s=>t[s].data.disabled)}getItemPropPath(e,t,r){const s=r||this.getState("keyEntities"),i=s[e];let o=[];if(i)if(i._notExist)o=i.path;else{const a=i.path;o=Array.isArray(t)?a.map(l=>s[l].data):a.map(l=>s[l].data[t])}return o}_getCacheValue(e){const{selectedKeys:t}=this.getStates(),r=Array.from(t)[0];let s;if(It(e[r]))if(nc(r,"not-exist-")){const i=r.match(/not-exist-(\S*)/)[1];It(e[i])?s=i:s=e[i].valuePath}else s=r;else s=e[r].valuePath;return s}collectOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{treeData:t,value:r,defaultValue:s}=this.getProps(),i=IF(t);this._adapter.rePositionDropdown();let o;e?o=s:It(i)||(o=this._getCacheValue(i));const a=this._isControlledComponent()?wt(r)?[]:r:o;Tle(a)?this.updateSelectedKey(a,i):this._adapter.updateStates({keyEntities:i})}handleValueChange(e){const{keyEntities:t}=this.getStates();this.updateSelectedKey(e,t)}_getClearSelectedKey(e){const t={},{searchPlaceholder:r,placeholder:s,multiple:i}=this.getProps();return t.selectedKeys=new Set([]),t.activeKeys=new Set([]),t.filteredKeys=new Set([]),e&&!i&&(t.inputPlaceHolder=r||s||"",t.inputValue=""),t}updateSelectedKey(e,t){const{changeOnSelect:r,onChangeWithObject:s,multiple:i}=this.getProps(),{activeKeys:o,loading:a,keyEntities:l,selectedKeys:u}=this.getStates(),d=this._adapter.getLoadingKeyRefValue(),h=this._isFilterable(),f=[...o].filter(E=>d.has(E)),m=Ole(e),b=s&&ko(m[0])?m.map(E=>E.value):m,v=xle(b);let _={};const y=v.length>0?v[0]:void 0,w=y?t[y]:void 0;if(w)if(r||this._isLeaf(w.data)){if(_.selectedKeys=new Set([y]),f.length||(_.activeKeys=new Set(w.path)),h&&!i){const E=this.renderDisplayText(y,t);_.inputPlaceHolder=E}}else Fe(v,Array.from(u))&&(_=this._getClearSelectedKey(h));else if(e&&e.length){const E=b[b.length-1],S=`not-exist-${E}`,I={data:{label:E,value:E},key:S,path:b,_notExist:!0};if(_.selectedKeys=new Set([S]),h&&!i){const x=this._defaultRenderText(b);_.inputPlaceHolder=x}t[S]=I}else if(a){_.keyEntities=tae(l,t),this._adapter.updateStates(_);return}else _=this._getClearSelectedKey(h);_.keyEntities=t,this._adapter.updateStates(_)}open(){const e=this._isFilterable(),{multiple:t}=this.getProps();this._adapter.openMenu(),e&&(this._clearInput(),!t&&this.toggle2SearchInput(!0)),this._isControlledComponent()&&this.reCalcActiveKeys(),this._adapter.notifyDropdownVisibleChange(!0),this._adapter.registerClickOutsideHandler(r=>this.close(r))}reCalcActiveKeys(){const{selectedKeys:e,activeKeys:t,keyEntities:r}=this.getStates(),s=[...e][0],i=r[s];if(!i)return;const o=new Set(i.path);Fe(o,t)||this._adapter.updateStates({activeKeys:o})}close(e,t){const{multiple:r}=this.getProps();if(this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.unregisterClickOutsideHandler(),this._isFilterable()){const{selectedKeys:s,isSearching:i}=this.getStates();let o="";t&&!r?o=this.renderDisplayText(t):s.size&&!r&&(o=this.renderDisplayText([...s][0])),this._adapter.updateStates({inputValue:o}),!r&&this.toggle2SearchInput(!1),!r&&this._adapter.updateFocusState(!1)}this._notifyBlur(e)}focus(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.focusInput(),this._adapter.updateFocusState(!0)}blur(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.blurInput(),this._adapter.updateFocusState(!1)}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focus()):this._adapter.toggleInputShow(e,()=>{})}handleItemClick(e,t){this._isDisabled()||(this.handleSingleSelect(e,t),this._adapter.rePositionDropdown())}handleItemHover(e,t){this._isDisabled()||this.handleShowNextByHover(t)}handleShowNextByHover(e){const{keyEntities:t}=this.getStates(),{data:r,key:s}=e,i=this._isLeaf(r),o=t[s].path;this._adapter.updateStates({activeKeys:new Set(o)}),i||this.notifyIfLoadData(e)}onItemCheckboxClick(e){this._isDisabled()||(this._handleMultipleSelect(e),this._adapter.rePositionDropdown())}handleClick(e){const t=this._isDisabled(),r=this._isFilterable(),{isOpen:s}=this.getStates();t||(s?s&&!r&&this.close(e):(this.open(),this._notifyFocus(e)))}handleSelectionEnterPress(e){Ys(e)&&this.handleClick(e)}toggleHoverState(e){this._adapter.toggleHovering(e)}_defaultRenderText(e,t){const r=this.getProp("separator");return t&&typeof t=="function"?t(e):e.join(r)}renderDisplayText(e,t){const r=this.getProp("displayRender"),s=this.getProp("displayProp"),i=this.getItemPropPath(e,s,t);return this._defaultRenderText(i,r)}handleNodeLoad(e){const{data:t,key:r}=e,s=new Set(this._adapter.getLoadingKeyRefValue()),o=new Set(this._adapter.getLoadedKeyRefValue()).add(r),a=new Set([...s]);a.delete(r),this._adapter.notifyOnLoad(o,t),this._adapter.updateLoadingKeyRefValue(a),this._adapter.updateLoadedKeyRefValue(o),this._adapter.updateStates({loadingKeys:a,loadedKeys:o})}notifyIfLoadData(e){const{data:t,key:r}=e;if(this._adapter.updateStates({loading:!1}),!t.isLeaf&&!t.children&&this.getProp("loadData")){const s=this._adapter.getLoadedKeyRefValue(),i=new Set(this._adapter.getLoadingKeyRefValue());if(s.has(r)||i.has(r))return;this._adapter.updateStates({loading:!0});const{keyEntities:o}=this.getStates(),a=this.getItemPropPath(r,[],o),l=i.add(r);this._adapter.updateLoadingKeyRefValue(l),this._adapter.updateStates({loadingKeys:l}),this._adapter.notifyLoadData(a,this.handleNodeLoad.bind(this,e))}}handleSingleSelect(e,t){const{changeOnSelect:r,filterLeafOnly:s,multiple:i,enableLeafClick:o}=this.getProps(),{keyEntities:a,selectedKeys:l,isSearching:u}=this.getStates(),d=this._isFilterable(),{data:h,key:f}=t,m=this._isLeaf(h),b=a[f].path,v=[f],_=f!==[...l][0];if(!m&&!r&&!u){this._adapter.updateStates({activeKeys:new Set(b)}),this.notifyIfLoadData(t);return}if(i)this._adapter.updateStates({activeKeys:new Set(b)}),m&&o&&this.onItemCheckboxClick(t);else if(this._adapter.notifySelect(h.value),_){if(this._notifyChange(t),this.notifyIfLoadData(t),this._isControlledComponent()){this._adapter.updateStates({activeKeys:new Set(b)}),m&&this.close(e);return}this._adapter.updateStates({activeKeys:new Set(b),selectedKeys:new Set(v)});const y=this.renderDisplayText(f);d&&this._adapter.updateInputPlaceHolder(y),m?this.close(e,f):!s&&u&&this.close(e,f)}else this.close(e)}_handleMultipleSelect(e){const{checkRelation:t}=this.getProps();t===qt.RELATED?this._handleRelatedMultipleSelect(e):t==="unRelated"&&this._handleUnRelatedMultipleSelect(e),this._adapter.updateStates({inputValue:""})}_handleRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s,resolvedCheckedKeys:i}=this.getStates(),{autoMergeValue:o,max:a,disableStrictly:l,leafOnly:u}=this.getProps(),d=r.has(t),h=l?this.calcCheckedStatus(!d,t):!d,{checkedKeys:f,halfCheckedKeys:m}=l?this.calcNonDisabledCheckedKeys(t,h):this.calcCheckedKeys(t,h),b=Bw(o,u),v=b===qt.LEAF_ONLY_MERGE_TYPE,_=b===qt.NONE_MERGE_TYPE,y=new Set(ii(f,s,v)),w=_?f:y;if(Zt(a)){if(_){if(r.size<f.size&&f.size>a){const E=[];f.forEach(S=>{E.push(s[S])}),this._adapter.notifyOnExceed(E);return}}else if(i.size<y.size&&y.size>a){const E=[];y.forEach(S=>{E.push(s[S])}),this._adapter.notifyOnExceed(E);return}}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:f,halfCheckedKeys:m,resolvedCheckedKeys:y}),this._notifyChange(w),h&&this._notifySelect(w)}_handleUnRelatedMultipleSelect(e){const{key:t}=e,{checkedKeys:r,keyEntities:s}=this.getStates(),{max:i}=this.getProps(),o=new Set(r);let a;if(r.has(t))o.delete(t),a=!1;else{if(Zt(i)&&r.size>=i){const u=[];r.forEach(d=>{u.push(s[d])}),this._adapter.notifyOnExceed(u);return}o.add(t),a=!0}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:o}),this._notifyChange(o),a&&this._notifySelect(o)}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),o=ii(zi([e],r,!1),r,!0);if(!o.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=o.filter(d=>!s.has(d)),u=t?[...l,...i]:uy(ii([...i],r,!0),l);return sp(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),o=ii(zi([t],s,!1),s,!0);return o.some(d=>i.has(d))?!o.filter(d=>!i.has(d)).every(d=>r.has(d)):e}_notifySelect(e){const{keyEntities:t}=this.getStates(),r=[];e.forEach(i=>{var o,a;const l=(a=(o=t[i])===null||o===void 0?void 0:o.data)===null||a===void 0?void 0:a.value;l!==void 0&&r.push(l)});const s=r.length===1?r[0]:r;this._adapter.notifySelect(s)}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?EF(e,r,s,i):SF(e,r,s,i)}handleInputChange(e){this._adapter.updateInputValue(e);const{keyEntities:t}=this.getStates(),{treeNodeFilterProp:r,filterTreeNode:s,filterLeafOnly:i}=this.getProps();let o=[];e&&(o=Object.values(t).filter(a=>{const{key:l,_notExist:u,data:d}=a;if(u)return!1;const h=this.getItemPropPath(l,r);return Ile(e,d,s,h)}).filter(a=>s&&!i||this._isLeaf(a)).map(a=>a.key)),this._adapter.updateStates({isSearching:!!e,filteredKeys:new Set(o)}),this._adapter.notifyOnSearch(e),this._adapter.rePositionDropdown()}handleClear(){const{isSearching:e}=this.getStates(),{searchPlaceholder:t,placeholder:r,multiple:s}=this.getProps(),i=this._isFilterable(),o=this._isControlledComponent(),a={};s?(a.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch(""),a.checkedKeys=new Set([]),a.halfCheckedKeys=new Set([]),a.selectedKeys=new Set([]),a.activeKeys=new Set([]),a.resolvedCheckedKeys=new Set([]),this._adapter.notifyChange([])):i&&e?(a.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")):(i&&(a.inputValue="",a.inputPlaceHolder=t||r||"",this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")),o||(a.selectedKeys=new Set([])),a.activeKeys=new Set([]),a.filteredKeys=new Set([]),this._adapter.notifyChange([])),this._adapter.updateStates(a),this._adapter.notifyClear(),this._adapter.rePositionDropdown()}handleClearEnterPress(e){Ys(e)&&this.handleClear()}getRenderData(){const{keyEntities:e,isSearching:t}=this.getStates(),r=this._isFilterable();return t&&r?this.getFilteredData():Object.values(e).filter(s=>s.parentKey===null&&!s._notExist).sort((s,i)=>parseInt(s.ind,10)-parseInt(i.ind,10))}getFilteredData(){const{treeNodeFilterProp:e,filterSorter:t}=this.getProps(),{filteredKeys:r,keyEntities:s,inputValue:i}=this.getStates(),o=[];return[...r].forEach(l=>{const u=s[l];if(!u)return;const d=this.getItemPropPath(l,[]),h=d.map(m=>m[e]),f=this._isOptionDisabled(l,s);o.push({data:u.data,pathData:d,key:l,disabled:f,searchText:h})}),De(t)&&o.sort((l,u)=>t(l.pathData,u.pathData,i)),o}handleListScroll(e,t){const{activeKeys:r,keyEntities:s}=this.getStates(),i=[...r][r.size-1],o=i?Q(s,[i,"data"],null):null;this._adapter.notifyListScroll(e,{panelIndex:t,activeNode:o})}}var Dle=bi,kle=Qr,Nle="[object Boolean]";function Lle(n){return n===!0||n===!1||kle(n)&&Dle(n)==Nle}var Mle=Lle;const PF=Ce(Mle),Qg={PREFIX:`${W}-checkbox`,INNER:`${W}-checkbox-inner`,TEXT:`${W}-checkbox-text`,INPUT:`${W}-checkbox-input`,CHECKED:`${W}-checkbox-checked`,DISABLED:`${W}-checkbox-disabled`,BUTTON:`${W}-checkbox-button`,WRAPPER:""},$le={PREFIX:`${W}-checkboxGroup`,INNER:`${W}-checkboxGroup-inner`,TEXT:`${W}-checkboxGroup-text`,INPUT:`${W}-checkboxGroup-input`,CHECKED:`${W}-checkboxGroup-checked`,DISABLED:`${W}-checkboxGroup-disabled`},Li={DIRECTION_SET:["horizontal","vertical"],TYPE_DEFAULT:"default",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",DEFAULT_DIRECTION:"vertical"};class Fle extends ke{constructor(e){super(Object.assign({},e)),this.clickState=!1,this.handleFocusVisible=t=>{const{target:r}=t;try{if(this.clickState){this.clickState=!1;return}r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{Kt(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}notifyChange(e,t){const r=this._adapter.generateEvent(e,t);this._adapter.notifyChange(r)}handleChange(e){if(this.getProp("disabled"))return;if((e==null?void 0:e.type)==="click"&&(this.clickState=!0),this._adapter.focusCheckboxEntity(),this._adapter.getIsInGroup()){this._adapter.getGroupDisabled()||this.handleChangeInGroup(e);return}const i=!this.getState("checked");this._isControlledComponent("checked")?this.notifyChange(i,e):(this.setChecked(i),this.notifyChange(i,e))}handleChangeInGroup(e){const{value:t}=this.getProps(),i=!this._adapter.getGroupValue().includes(t),o=this._adapter.generateEvent(i,e);this._adapter.notifyChange(o),this._adapter.notifyGroupChange(o)}handleEnterPress(e){Ys(e)&&this.handleChange(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}destroy(){}}const bT=g.createContext({});class Lv extends D.PureComponent{blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){const{indeterminate:e,checked:t,disabled:r,prefixCls:s,name:i,isPureCardType:o,addonId:a,extraId:l,focusInner:u,onInputFocus:d,onInputBlur:h}=this.props,f=s||Qg.PREFIX,m=$({[`${f}-inner`]:!0,[`${f}-inner-checked`]:!!t,[`${f}-inner-pureCardType`]:o},Qg.WRAPPER),b=$({[`${f}-inner-display`]:!0,[`${f}-focus`]:u,[`${f}-focus-border`]:u&&!t}),v=t?g.createElement(rse,null):e?g.createElement(tse,null):null,_={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":r,"aria-checked":t,"aria-labelledby":a,"aria-describedby":l||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:Qg.INPUT,onChange:F,checked:t,disabled:r,onFocus:d,onBlur:h};return i&&(_.name=i),g.createElement("span",{className:m},g.createElement("input",Object.assign({},_,{ref:y=>{this.inputEntity=y}})),g.createElement("span",{className:b},v))}}Lv.contextType=bT;Lv.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,disabled:c.bool,onChange:c.func,children:c.node,grouped:c.bool,value:c.any,isPureCardType:c.bool,addonId:c.string,extraId:c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};Lv.defaultProps={onChange:F};class Mo extends xe{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{const{onChange:t}=this.props;t&&t(e)},generateEvent:(e,t)=>{const{props:r}=this;return{target:Object.assign(Object.assign({},r),{checked:e}),stopPropagation:()=>{t.stopPropagation()},preventDefault:()=>{t.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation()}}}},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:e=>{this.context.checkboxGroup.onChange(e)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:No({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:No({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})},focusCheckboxEntity:()=>{this.focus()}})}constructor(e){super(e),this.handleChange=r=>this.foundation.handleChange(r),this.handleEnterPress=r=>this.foundation.handleEnterPress(r),this.handleFocusVisible=r=>{this.foundation.handleFocusVisible(r)},this.handleBlur=r=>{this.foundation.handleBlur()};const t=!1;this.state={checked:e.checked||e.defaultChecked||t,addonId:e.addonId,extraId:e.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new Fle(this.adapter)}componentDidUpdate(e){this.props.checked!==e.checked&&(wt(this.props.checked)?this.foundation.setChecked(!1):PF(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return!!(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){const{disabled:e,style:t,prefixCls:r,className:s,indeterminate:i,children:o,onMouseEnter:a,onMouseLeave:l,extra:u,value:d,role:h,tabIndex:f,id:m,type:b}=this.props,{checked:v,addonId:_,extraId:y,focusVisible:w}=this.state,E={checked:v,disabled:e},S=this.isInGroup();if(S){if(this.context.checkboxGroup.value){const N=(this.context.checkboxGroup.value||[]).includes(d);E.checked=N}this.context.checkboxGroup.disabled&&(E.disabled=this.context.checkboxGroup.disabled||this.props.disabled);const{isCardType:k,isPureCardType:M}=this.context.checkboxGroup;E.isCardType=k,E.isPureCardType=M,E.name=this.context.checkboxGroup.name}else E.isPureCardType=b===Li.TYPE_PURECARD,E.isCardType=b===Li.TYPE_CARD||E.isPureCardType;const I=r||Qg.PREFIX,x=E.isCardType||E.isPureCardType,O=$(I,{[`${I}-disabled`]:E.disabled,[`${I}-indeterminate`]:i,[`${I}-checked`]:E.checked,[`${I}-unChecked`]:!E.checked,[`${I}-cardType`]:E.isCardType,[`${I}-cardType_disabled`]:E.disabled&&E.isCardType,[`${I}-cardType_enable`]:!(E.disabled&&E.isCardType),[`${I}-cardType_checked`]:E.isCardType&&E.checked&&!E.disabled,[`${I}-cardType_checked_disabled`]:E.isCardType&&E.checked&&E.disabled,[s]:!!s,[`${I}-focus`]:w&&x}),T=$(`${I}-extra`,{[`${I}-cardType_extra_noChildren`]:E.isCardType&&!o});S&&this.context.checkboxGroup.name;const P=this.props["x-semi-children-alias"]||"children",A=()=>!o&&!u?null:g.createElement("div",{className:`${I}-content`},o?g.createElement("span",{id:_,className:`${I}-addon`,"x-semi-prop":P},o):null,u?g.createElement("div",{id:y,className:T,"x-semi-prop":"extra"},u):null);return g.createElement("span",Object.assign({role:h,tabIndex:f,style:t,className:O,id:m,onMouseEnter:a,onMouseLeave:l,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),g.createElement(Lv,Object.assign({},this.props,E,{addonId:o&&_,extraId:u&&y,isPureCardType:E.isPureCardType,ref:k=>{this.checkboxEntity=k},focusInner:w&&!x,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),A())}}Mo.contextType=bT;Mo.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,checked:c.bool,defaultChecked:c.bool,disabled:c.bool,indeterminate:c.bool,onChange:c.func,value:c.any,style:c.object,className:c.string,prefixCls:c.string,onMouseEnter:c.func,onMouseLeave:c.func,extra:c.node,index:c.number,"aria-label":c.string,tabIndex:c.number,preventScroll:c.bool,type:c.string};Mo.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:F,onMouseEnter:F,onMouseLeave:F,type:"default"};Mo.elementType="Checkbox";class wT extends ke{static get checkboxGroupDefaultAdapter(){return{}}constructor(e){super(Object.assign(Object.assign({},wT.checkboxGroupDefaultAdapter),e))}init(){const{defaultValue:e,value:t}=this.getProps();typeof e<"u"&&!Array.isArray(e)&&Kt(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),typeof t<"u"&&!Array.isArray(t)&&Kt(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(e){this._adapter.notifyChange(e)}handleChange(e){const t=this.getState("value");let r=[];Array.isArray(t)||(r=[t]),e.target.checked?r=[...t,e.target.value]:r=t.filter((i,o)=>i!==e.target.value),"value"in this.getProps()?this.notifyChange(r):(this._adapter.updateGroupValue(r),this.notifyChange(r))}getFormatName(){return this.getProp("name")||"default"}handlePropValueChange(e){Array.isArray(e)?this._adapter.updateGroupValue(e):(typeof e>"u"&&this._adapter.updateGroupValue([]),Kt(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}}class ip extends xe{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:e=>{this.setState({value:e})},notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}constructor(e){super(e),this.state={value:e.value||e.defaultValue},this.foundation=new wT(this.adapter),this.onChange=this.onChange.bind(this)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){Fe(e.value,this.props.value)||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(e){this.foundation.handleChange(e)}render(){const{children:e,options:t,prefixCls:r,direction:s,className:i,id:o,style:a,type:l,disabled:u}=this.props,d=l===Li.TYPE_PURECARD,h=l===Li.TYPE_CARD||d,f=r||$le.PREFIX,m=$({[f]:!0,[`${f}-wrapper`]:!0,[`${f}-${s}`]:s,[`${f}-${s}-cardType`]:s&&h,[`${f}-${s}-pureCardType`]:s&&d},i),b=this.state.value.slice();let v;return t?v=(t||[]).map((_,y)=>typeof _=="string"?g.createElement(Mo,{role:"listitem",key:y,disabled:this.props.disabled,value:_,prefixCls:r},_):g.createElement(Mo,{role:"listitem",key:y,disabled:_.disabled||this.props.disabled,value:_.value,prefixCls:r,extra:_.extra,className:_.className,style:_.style,onChange:_.onChange},_.label)):e&&(v=g.Children.toArray(e).map((_,y)=>g.cloneElement(_,{key:y,role:"listitem"}))),g.createElement("div",Object.assign({id:o,role:"list","aria-label":this.props["aria-label"],className:m,style:a,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),g.createElement(bT.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:b,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:h,isPureCardType:d}}},v))}}ip.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,defaultValue:c.array,disabled:c.bool,name:c.string,options:c.array,value:c.array,onChange:c.func,children:c.node,prefixCls:c.string,direction:c.oneOf(Li.DIRECTION_SET),className:c.string,type:c.oneOf([Li.TYPE_DEFAULT,Li.TYPE_CARD,Li.TYPE_PURECARD]),style:c.object};ip.defaultProps={disabled:!1,onChange:()=>{},type:Li.TYPE_DEFAULT,defaultValue:[],direction:Li.DEFAULT_DIRECTION};class Hw extends Mo{}Hw.Group=ip;function zw(){return zw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zw.apply(null,arguments)}function jle(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,sy(n,e)}var Hx=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Vle(n,e){return!!(n===e||Hx(n)&&Hx(e))}function Ule(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Vle(n[t],e[t]))return!1;return!0}function Db(n,e){e===void 0&&(e=Ule);var t,r=[],s,i=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return i&&t===this&&e(a,r)||(s=n.apply(this,a),i=!0,t=this,r=a),s}return o}var Ble=typeof performance=="object"&&typeof performance.now=="function",zx=Ble?function(){return performance.now()}:function(){return Date.now()};function Kx(n){cancelAnimationFrame(n.id)}function Hle(n,e){var t=zx();function r(){zx()-t>=e?n.call(null):s.id=requestAnimationFrame(r)}var s={id:requestAnimationFrame(r)};return s}var kb=-1;function Wx(n){if(n===void 0&&(n=!1),kb===-1||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),kb=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return kb}var xu=null;function Gx(n){if(n===void 0&&(n=!1),xu===null||n){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?xu="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?xu="negative":xu="positive-ascending"),document.body.removeChild(e),xu}return xu}var zle=150,Kle=function(e,t){return e};function Wle(n){var e,t=n.getItemOffset,r=n.getEstimatedTotalSize,s=n.getItemSize,i=n.getOffsetForIndexAndAlignment,o=n.getStartIndexForOffset,a=n.getStopIndexForStartIndex,l=n.initInstanceProps,u=n.shouldResetStyleCacheOnItemSizeChange,d=n.validateProps;return e=function(h){jle(f,h);function f(b){var v;return v=h.call(this,b)||this,v._instanceProps=l(v.props,ue(v)),v._outerRef=void 0,v._resetIsScrollingTimeoutId=null,v.state={instance:ue(v),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof v.props.initialScrollOffset=="number"?v.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},v._callOnItemsRendered=void 0,v._callOnItemsRendered=Db(function(_,y,w,E){return v.props.onItemsRendered({overscanStartIndex:_,overscanStopIndex:y,visibleStartIndex:w,visibleStopIndex:E})}),v._callOnScroll=void 0,v._callOnScroll=Db(function(_,y,w){return v.props.onScroll({scrollDirection:_,scrollOffset:y,scrollUpdateWasRequested:w})}),v._getItemStyle=void 0,v._getItemStyle=function(_){var y=v.props,w=y.direction,E=y.itemSize,S=y.layout,I=v._getItemStyleCache(u&&E,u&&S,u&&w),x;if(I.hasOwnProperty(_))x=I[_];else{var O=t(v.props,_,v._instanceProps),T=s(v.props,_,v._instanceProps),P=w==="horizontal"||S==="horizontal",A=w==="rtl",k=P?O:0;I[_]=x={position:"absolute",left:A?void 0:k,right:A?k:void 0,top:P?0:O,height:P?"100%":T,width:P?T:"100%"}}return x},v._getItemStyleCache=void 0,v._getItemStyleCache=Db(function(_,y,w){return{}}),v._onScrollHorizontal=function(_){var y=_.currentTarget,w=y.clientWidth,E=y.scrollLeft,S=y.scrollWidth;v.setState(function(I){if(I.scrollOffset===E)return null;var x=v.props.direction,O=E;if(x==="rtl")switch(Gx()){case"negative":O=-E;break;case"positive-descending":O=S-w-E;break}return O=Math.max(0,Math.min(O,S-w)),{isScrolling:!0,scrollDirection:I.scrollOffset<O?"forward":"backward",scrollOffset:O,scrollUpdateWasRequested:!1}},v._resetIsScrollingDebounced)},v._onScrollVertical=function(_){var y=_.currentTarget,w=y.clientHeight,E=y.scrollHeight,S=y.scrollTop;v.setState(function(I){if(I.scrollOffset===S)return null;var x=Math.max(0,Math.min(S,E-w));return{isScrolling:!0,scrollDirection:I.scrollOffset<x?"forward":"backward",scrollOffset:x,scrollUpdateWasRequested:!1}},v._resetIsScrollingDebounced)},v._outerRefSetter=function(_){var y=v.props.outerRef;v._outerRef=_,typeof y=="function"?y(_):y!=null&&typeof y=="object"&&y.hasOwnProperty("current")&&(y.current=_)},v._resetIsScrollingDebounced=function(){v._resetIsScrollingTimeoutId!==null&&Kx(v._resetIsScrollingTimeoutId),v._resetIsScrollingTimeoutId=Hle(v._resetIsScrolling,zle)},v._resetIsScrolling=function(){v._resetIsScrollingTimeoutId=null,v.setState({isScrolling:!1},function(){v._getItemStyleCache(-1,null)})},v}f.getDerivedStateFromProps=function(v,_){return Gle(v,_),d(v),null};var m=f.prototype;return m.scrollTo=function(v){v=Math.max(0,v),this.setState(function(_){return _.scrollOffset===v?null:{scrollDirection:_.scrollOffset<v?"forward":"backward",scrollOffset:v,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},m.scrollToItem=function(v,_){_===void 0&&(_="auto");var y=this.props,w=y.itemCount,E=y.layout,S=this.state.scrollOffset;v=Math.max(0,Math.min(v,w-1));var I=0;if(this._outerRef){var x=this._outerRef;E==="vertical"?I=x.scrollWidth>x.clientWidth?Wx():0:I=x.scrollHeight>x.clientHeight?Wx():0}this.scrollTo(i(this.props,v,_,S,this._instanceProps,I))},m.componentDidMount=function(){var v=this.props,_=v.direction,y=v.initialScrollOffset,w=v.layout;if(typeof y=="number"&&this._outerRef!=null){var E=this._outerRef;_==="horizontal"||w==="horizontal"?E.scrollLeft=y:E.scrollTop=y}this._callPropsCallbacks()},m.componentDidUpdate=function(){var v=this.props,_=v.direction,y=v.layout,w=this.state,E=w.scrollOffset,S=w.scrollUpdateWasRequested;if(S&&this._outerRef!=null){var I=this._outerRef;if(_==="horizontal"||y==="horizontal")if(_==="rtl")switch(Gx()){case"negative":I.scrollLeft=-E;break;case"positive-ascending":I.scrollLeft=E;break;default:var x=I.clientWidth,O=I.scrollWidth;I.scrollLeft=O-x-E;break}else I.scrollLeft=E;else I.scrollTop=E}this._callPropsCallbacks()},m.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Kx(this._resetIsScrollingTimeoutId)},m.render=function(){var v=this.props,_=v.children,y=v.className,w=v.direction,E=v.height,S=v.innerRef,I=v.innerElementType,x=v.innerTagName,O=v.itemCount,T=v.itemData,P=v.itemKey,A=P===void 0?Kle:P,k=v.layout,M=v.outerElementType,N=v.outerTagName,K=v.style,G=v.useIsScrolling,z=v.width,ee=this.state.isScrolling,j=w==="horizontal"||k==="horizontal",H=j?this._onScrollHorizontal:this._onScrollVertical,U=this._getRangeToRender(),oe=U[0],ne=U[1],re=[];if(O>0)for(var de=oe;de<=ne;de++)re.push(D.createElement(_,{data:T,key:A(de,T),index:de,isScrolling:G?ee:void 0,style:this._getItemStyle(de)}));var be=r(this.props,this._instanceProps);return D.createElement(M||N||"div",{className:y,onScroll:H,ref:this._outerRefSetter,style:zw({position:"relative",height:E,width:z,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:w},K)},D.createElement(I||x||"div",{children:re,ref:S,style:{height:j?"100%":be,pointerEvents:ee?"none":void 0,width:j?be:"100%"}}))},m._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var v=this.props.itemCount;if(v>0){var _=this._getRangeToRender(),y=_[0],w=_[1],E=_[2],S=_[3];this._callOnItemsRendered(y,w,E,S)}}if(typeof this.props.onScroll=="function"){var I=this.state,x=I.scrollDirection,O=I.scrollOffset,T=I.scrollUpdateWasRequested;this._callOnScroll(x,O,T)}},m._getRangeToRender=function(){var v=this.props,_=v.itemCount,y=v.overscanCount,w=this.state,E=w.isScrolling,S=w.scrollDirection,I=w.scrollOffset;if(_===0)return[0,0,0,0];var x=o(this.props,I,this._instanceProps),O=a(this.props,x,I,this._instanceProps),T=!E||S==="backward"?Math.max(1,y):1,P=!E||S==="forward"?Math.max(1,y):1;return[Math.max(0,x-T),Math.max(0,Math.min(_-1,O+P)),x,O]},f}(D.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Gle=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},ET=Wle({getItemOffset:function(e,t){var r=e.itemSize;return t*r},getItemSize:function(e,t){var r=e.itemSize;return r},getEstimatedTotalSize:function(e){var t=e.itemCount,r=e.itemSize;return r*t},getOffsetForIndexAndAlignment:function(e,t,r,s,i,o){var a=e.direction,l=e.height,u=e.itemCount,d=e.itemSize,h=e.layout,f=e.width,m=a==="horizontal"||h==="horizontal",b=m?f:l,v=Math.max(0,u*d-b),_=Math.min(v,t*d),y=Math.max(0,t*d-b+d+o);switch(r==="smart"&&(s>=y-b&&s<=_+b?r="auto":r="center"),r){case"start":return _;case"end":return y;case"center":{var w=Math.round(y+(_-y)/2);return w<Math.ceil(b/2)?0:w>v+Math.floor(b/2)?v:w}case"auto":default:return s>=y&&s<=_?s:s<y?y:_}},getStartIndexForOffset:function(e,t){var r=e.itemCount,s=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/s)))},getStopIndexForStartIndex:function(e,t,r){var s=e.direction,i=e.height,o=e.itemCount,a=e.itemSize,l=e.layout,u=e.width,d=s==="horizontal"||l==="horizontal",h=t*a,f=d?u:i,m=Math.ceil((f+r-h)/a);return Math.max(0,Math.min(o-1,t+m-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const Yle=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,o=s[e];return i(o,e,r)},vt=TF.PREFIX_OPTION;let Mv=class extends D.PureComponent{constructor(){var e;super(...arguments),e=this,this.onClick=(t,r)=>{const{onItemClick:s}=this.props;r.data.disabled||"disabled"in r&&r.disabled||s(t,r)},this.handleItemEnterPress=(t,r)=>{Ys(t)&&this.onClick(t,r)},this.onHover=(t,r)=>{const{showNext:s,onItemHover:i}=this.props;r.data.disabled||s===qt.SHOW_NEXT_BY_HOVER&&i(t,r)},this.onCheckboxChange=(t,r)=>{const{onItemCheckboxClick:s}=this.props;t.stopPropagation(),t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation(),s(r)},this.getItemStatus=t=>{const{activeKeys:r,selectedKeys:s,loadedKeys:i,loadingKeys:o}=this.props,a={active:!1,selected:!1,loading:!1};return r.has(t)&&(a.active=!0),s.has(t)&&(a.selected=!0),o.has(t)&&!i.has(t)&&(a.loading=!0),a},this.renderIcon=function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=i=>i+(r?` ${vt}-icon-left`:"");switch(t){case"child":const{expandIcon:i}=e.props;return i||g.createElement(H$,{className:s(`${vt}-icon ${vt}-icon-expand`)});case"tick":return g.createElement(Pv,{className:s(`${vt}-icon ${vt}-icon-active`)});case"loading":return g.createElement(Zi,{wrapperClassName:s(`${vt}-spin-icon`)});case"empty":return g.createElement("span",{"aria-hidden":!0,className:s(`${vt}-icon ${vt}-icon-empty`)});default:return null}},this.highlight=t=>{const r=[],{keyword:s,separator:i}=this.props;return t.forEach((o,a)=>{typeof o=="string"&&nc(o,s)?o.split(s).forEach((l,u)=>{u>0&&r.push(g.createElement("span",{className:`${vt}-label-highlight`,key:`${u}-${a}`},s)),r.push(l)}):r.push(o),a!==t.length-1&&r.push(i)}),r},this.renderFlattenOptionItem=(t,r,s)=>{var i;const{multiple:o,selectedKeys:a,checkedKeys:l,halfCheckedKeys:u,keyword:d,filterRender:h,virtualize:f}=this.props,{searchText:m,key:b,disabled:v,pathData:_}=t,y=a.has(b),w=$(vt,{[`${vt}-flatten`]:!h,[`${vt}-disabled`]:v,[`${vt}-select`]:y&&!o}),E=x=>{this.onClick(x,t)},S=x=>this.handleItemEnterPress(x,t),I=x=>this.onCheckboxChange(x,t);if(h){const x={className:w,inputValue:d,disabled:v,data:_,checkStatus:{checked:l.has(t.key),halfChecked:u.has(t.key)},selected:y,onClick:E,onCheck:I},O=h(x),T=f?{key:b,style:Object.assign(Object.assign({},(i=O.props.style)!==null&&i!==void 0?i:{}),s)}:{key:b};return g.cloneElement(O,T)}return g.createElement("li",{role:"menuitem",className:w,style:s,key:b,onClick:E,onKeyPress:S},g.createElement("span",{className:`${vt}-label`},!o&&this.renderIcon("empty"),o&&g.createElement(Hw,{onChange:I,disabled:v,indeterminate:u.has(t.key),checked:l.has(t.key),className:`${vt}-label-checkbox`}),this.highlight(m)))},this.renderFlattenOption=t=>{const{virtualize:r}=this.props;return g.createElement("ul",{className:`${vt}-list`,key:"flatten-list"},r?this.renderVirtualizeList(t):t.map(i=>this.renderFlattenOptionItem(i)))},this.renderVirtualizeList=t=>{var r;const{direction:s}=this.context,{virtualize:i}=this.props;return g.createElement(ET,{height:i.height,itemCount:t.length,itemSize:i.itemSize,itemData:{visibleOptions:t,renderOption:this.renderFlattenOptionItem},width:(r=i.width)!==null&&r!==void 0?r:"100%",style:{direction:s}},Yle)}}renderItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const{multiple:r,checkedKeys:s,halfCheckedKeys:i}=this.props;let o;const a=t.length;return t.push(g.createElement("ul",{role:"menu",className:`${vt}-list`,key:e[0].key,onScroll:l=>this.props.onListScroll(l,a)},e.map(l=>{const{data:u,key:d,parentKey:h}=l,{children:f,label:m,disabled:b,isLeaf:v}=u,{active:_,selected:y,loading:w}=this.getItemStatus(d),E=!!f&&f.length,S=E||this.props.loadData&&!v;_&&E&&(o=l);const I=$(vt,{[`${vt}-active`]:_&&!y,[`${vt}-select`]:y&&!r,[`${vt}-disabled`]:b}),x=h?{"aria-owns":`cascaderItem-${h}`}:{};return g.createElement("li",Object.assign({role:"menuitem",id:`cascaderItem-${d}`,"aria-expanded":_,"aria-haspopup":!!S,"aria-disabled":b},x,{className:I,key:d,onClick:O=>{this.onClick(O,l)},onKeyPress:O=>this.handleItemEnterPress(O,l),onMouseEnter:O=>{this.onHover(O,l)}}),g.createElement("span",{className:`${vt}-label`},y&&!r&&this.renderIcon("tick"),!y&&!r&&this.renderIcon("empty"),r&&g.createElement(Hw,{onChange:O=>this.onCheckboxChange(O,l),disabled:b,indeterminate:i.has(l.key),checked:s.has(l.key),className:`${vt}-label-checkbox`}),g.createElement("span",null,m)),S?this.renderIcon(w?"loading":"child",!0):null)}))),o&&t.concat(this.renderItem(o.children,t)),t}renderEmpty(){const{emptyContent:e}=this.props;return e===null?null:g.createElement(On,{componentName:"Cascader"},t=>g.createElement("ul",{className:`${vt} ${vt}-empty`,key:"empty-list"},g.createElement("span",{className:`${vt}-label`,"x-semi-prop":"emptyContent"},e||t.emptyText)))}render(){const{data:e,searchable:t}=this.props,{direction:r}=this.context,s=!e||!e.length;let i;const o=$({[`${vt}-lists`]:!0,[`${vt}-lists-rtl`]:r==="rtl",[`${vt}-lists-empty`]:s});return s?i=this.renderEmpty():i=t?this.renderFlattenOption(e):this.renderItem(e),g.createElement("div",{className:o},i)}};Mv.contextType=Lr;Mv.propTypes={data:c.array,emptyContent:c.node,searchable:c.bool,onItemClick:c.func,onItemHover:c.func,multiple:c.bool,showNext:c.oneOf([qt.SHOW_NEXT_BY_CLICK,qt.SHOW_NEXT_BY_HOVER]),checkedKeys:c.object,halfCheckedKeys:c.object,onItemCheckboxClick:c.func,separator:c.string,keyword:c.string,virtualize:c.object,expandIcon:c.node};Mv.defaultProps={empty:!1};const xF={PREFIX:`${W}-tag`},fd={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]};var qle=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const fr=xF.PREFIX,RF=fd.TAG_COLOR,AF=fd.TAG_SIZE,DF=fd.TAG_TYPE,Xle=fd.AVATAR_SHAPE;class Xr extends D.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,r){const{onClose:s}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),s&&s(t,e,r),!e.defaultPrevented&&this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:r,onKeyDown:s}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),ri(e);break;case"Enter":r(e),ri(e);break;case"Escape":e.target.blur();break}s&&s(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return g.createElement(Lc,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:r,size:s,color:i,closable:o,visible:a,onClose:l,onClick:u,className:d,type:h,shape:f,avatarSrc:m,avatarShape:b,tabIndex:v,prefixIcon:_,suffixIcon:y}=e,w=qle(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:E}=this.state,S=u!==Xr.defaultProps.onClick||o,I={role:"button",tabIndex:v||0,onKeyDown:this.handleKeyDown},x=Object.assign(Object.assign({},w),{onClick:u,tabIndex:v,className:$(fr,{[`${fr}-default`]:s==="default",[`${fr}-small`]:s==="small",[`${fr}-large`]:s==="large",[`${fr}-square`]:f==="square",[`${fr}-circle`]:f==="circle",[`${fr}-${h}`]:h,[`${fr}-${i}-${h}`]:i&&h,[`${fr}-closable`]:o,[`${fr}-invisible`]:!E,[`${fr}-avatar-${b}`]:m},d)}),O=S?Object.assign(Object.assign({},x),I):x,T=o?g.createElement("div",{className:`${fr}-close`,onClick:k=>this.close(k,r,t)},g.createElement(Iv,{size:"small"})):null,P=Re(r),A=$(`${fr}-content`,`${fr}-content-${P?"ellipsis":"center"}`);return g.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${o?"Closable ":""}Tag: ${r}`:""},O),_?g.createElement("div",{className:`${fr}-prefix-icon`},_):null,m?this.renderAvatar():null,g.createElement("div",{className:A},r),y?g.createElement("div",{className:`${fr}-suffix-icon`},y):null,T)}}Xr.defaultProps={size:AF[0],color:RF[0],closable:!1,type:DF[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null};Xr.propTypes={children:c.node,tagKey:c.oneOfType([c.string,c.number]),size:c.oneOf(AF),color:c.oneOf(RF),type:c.oneOf(DF),closable:c.bool,visible:c.bool,onClose:c.func,onClick:c.func,prefixIcon:c.node,suffixIcon:c.node,style:c.object,className:c.string,avatarSrc:c.string,avatarShape:c.oneOf(Xle),"aria-label":c.string};const Qle={PREFIX:`${W}-tagInput`},Yx={SIZE_SET:["large","default","small"],STATUS:["success","default","error","warning"]},vg=(n,e)=>{let t=[];if(Re(e)||Zt(e))t=n.split(e);else if(DC(e)){const r=e[0];t=n;for(let s=1;s<e.length;s++)t=t.split(e[s]).join(r);t=t.split(r)}else t.push(n);return t};function Zle(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}class Jle extends ke{constructor(e){super(Object.assign({},e)),this.handleInputChange=t=>{const{value:r}=t.target,{entering:s}=this.getStates();s?this._onInputChange(r,t):this._checkInputChangeValid(r)&&this._onInputChange(r,t)},this.handleInputCompositionStart=t=>{const{maxLength:r}=this.getProps();Zt(r)&&this._adapter.setEntering(!0)},this.handleInputCompositionEnd=t=>{const{value:r}=t.target,{maxLength:s,onInputExceed:i,separator:o}=this.getProps();if(!Zt(s))return;this._adapter.setEntering(!1);let a=!0;const l=vg(r,o);let u=0;for(;u<l.length;u++)if(l[u].length>s){a=!1,De(i)&&i(r);break}if(a)this._adapter.setInputValue(r);else{const d=l.slice(0,u);u<l.length&&d.push(l[u].slice(0,s)),this._adapter.setInputValue(d.join(o))}},this._checkInputChangeValid=t=>{const{maxLength:r,onInputExceed:s,separator:i}=this._adapter.getProps(),{inputValue:o}=this._adapter.getStates();let a=!0;if(Zt(r)){const l=vg(t,i),u=vg(o,i),d=Math.max(l.length,u.length);for(let h=0;h<d;h++)if(!wt(l[h])&&(wt(u[h])||l[h].length>u[h].length)&&l[h].length>r){a=!1,De(s)&&s(t);break}}return a},this.handleKeyDown=t=>{const{inputValue:r,tagsArray:s}=this._adapter.getStates(),i=t.keyCode;i===Hn.ENTER&&(t.preventDefault(),r!==""&&this._handleAddTags(t));const{length:o}=s;if(i===Hn.BACKSPACE&&r===""&&o>0){const a=s.slice(0,o-1),l=s[o-1];this._onRemove(a,l,o-1)}this._adapter.notifyKeyDown(t)}}_handleAddTags(e){const{separator:t,max:r,onExceed:s,allowDuplicates:i}=this._adapter.getProps(),{inputValue:o,tagsArray:a}=this._adapter.getStates();let l=vg(o,t);l=l.filter((d,h)=>!i&&(a.includes(d)||l.indexOf(d)!==h)?!1:Re(d)&&d.trim()!=="");let u=a.concat(l);Zt(r)&&u.length>r&&(De(s)&&s(u),u=u.slice(0,r),l=l.slice(0,r-a.length)),l.length>0&&this._onAdd(u,l),this._onInputChange("",e)}handleInputBlur(e){const{addOnBlur:t}=this._adapter.getProps();t===!0&&this._handleAddTags(e),this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputFocus(e){this._adapter.setFocusing(!0),this._adapter.notifyFocus(e)}handleClearEnterPress(e){Ys(e)&&this.handleClearBtn(e)}handleClearBtn(e){const{inputValue:t,tagsArray:r}=this._adapter.getStates();r.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),t.length>0&&this._onInputChange("",e),e.stopPropagation()}handleTagClose(e){const{tagsArray:t}=this._adapter.getStates(),r=[...t];r.splice(e,1);const s=t[e];this._onRemove(r,s,e)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(e){const{disabled:t}=this.getProps();if(t)return;this._adapter.getClickOutsideHandler()||(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(s=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!t&&!r&&this._adapter.toggleFocusing(!0)}handlePreventMouseDown(e){e&&De(e.preventDefault)&&e.preventDefault()}_onRemove(e,t,r){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagRemove(t,r)}_onAdd(e,t){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagAdd(t)}_onInputChange(e,t){this._adapter.setInputValue(e),this._adapter.notifyInputChange(e,t)}handleSortEnd(e){const{oldIndex:t,newIndex:r}=e,{tagsArray:s}=this.getStates(),i=Zle(s,t,r);this._isControlledComponent()||this._adapter.setTagsArray(i),this._adapter.notifyTagChange(i)}}function eue(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return D.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const $v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pd(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function ST(n){return"nodeType"in n}function Mr(n){var e,t;return n?pd(n)?n:ST(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function CT(n){const{Document:e}=Mr(n);return n instanceof e}function op(n){return pd(n)?!1:n instanceof Mr(n).HTMLElement}function kF(n){return n instanceof Mr(n).SVGElement}function gd(n){return n?pd(n)?n.document:ST(n)?CT(n)?n:op(n)||kF(n)?n.ownerDocument:document:document:document}const gi=$v?D.useLayoutEffect:D.useEffect;function Fv(n){const e=D.useRef(n);return gi(()=>{e.current=n}),D.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function tue(){const n=D.useRef(null),e=D.useCallback((r,s)=>{n.current=setInterval(r,s)},[]),t=D.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function cf(n,e){e===void 0&&(e=[n]);const t=D.useRef(n);return gi(()=>{t.current!==n&&(t.current=n)},e),t}function ap(n,e){const t=D.useRef();return D.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function hy(n){const e=Fv(n),t=D.useRef(null),r=D.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,r]}function fy(n){const e=D.useRef();return D.useEffect(()=>{e.current=n},[n]),e.current}let Nb={};function lp(n,e){return D.useMemo(()=>{if(e)return e;const t=Nb[n]==null?0:Nb[n]+1;return Nb[n]=t,n+"-"+t},[n,e])}function NF(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,u]of a){const d=i[l];d!=null&&(i[l]=d+n*u)}return i},{...e})}}const mc=NF(1),df=NF(-1);function nue(n){return"clientX"in n&&"clientY"in n}function jv(n){if(!n)return!1;const{KeyboardEvent:e}=Mr(n.target);return e&&n instanceof e}function rue(n){if(!n)return!1;const{TouchEvent:e}=Mr(n.target);return e&&n instanceof e}function py(n){if(rue(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return nue(n)?{x:n.clientX,y:n.clientY}:null}const Ua=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Ua.Translate.toString(n),Ua.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),qx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function sue(n){return n.matches(qx)?n:n.querySelector(qx)}const iue={display:"none"};function oue(n){let{id:e,value:t}=n;return g.createElement("div",{id:e,style:iue},t)}function aue(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return g.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},t)}function lue(){const[n,e]=D.useState("");return{announce:D.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const LF=D.createContext(null);function uue(n){const e=D.useContext(LF);D.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function cue(){const[n]=D.useState(()=>new Set),e=D.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[D.useCallback(r=>{let{type:s,event:i}=r;n.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[n]),e]}const due={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},hue={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function fue(n){let{announcements:e=hue,container:t,hiddenTextDescribedById:r,screenReaderInstructions:s=due}=n;const{announce:i,announcement:o}=lue(),a=lp("DndLiveRegion"),[l,u]=D.useState(!1);if(D.useEffect(()=>{u(!0)},[]),uue(D.useMemo(()=>({onDragStart(h){let{active:f}=h;i(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:m}=h;e.onDragMove&&i(e.onDragMove({active:f,over:m}))},onDragOver(h){let{active:f,over:m}=h;i(e.onDragOver({active:f,over:m}))},onDragEnd(h){let{active:f,over:m}=h;i(e.onDragEnd({active:f,over:m}))},onDragCancel(h){let{active:f,over:m}=h;i(e.onDragCancel({active:f,over:m}))}}),[i,e])),!l)return null;const d=g.createElement(g.Fragment,null,g.createElement(oue,{id:r,value:s.draggable}),g.createElement(aue,{id:a,announcement:o}));return t?Fs.createPortal(d,t):d}var Dn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Dn||(Dn={}));function gy(){}function Lb(n,e){return D.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function pue(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return D.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const mi=Object.freeze({x:0,y:0});function MF(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function gue(n,e){const t=py(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function $F(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function mue(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function Xx(n){let{left:e,top:t,height:r,width:s}=n;return[{x:e,y:t},{x:e+s,y:t},{x:e,y:t+r},{x:e+s,y:t+r}]}function FF(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Qx(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const yue=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=Qx(e,e.left,e.top),i=[];for(const o of r){const{id:a}=o,l=t.get(a);if(l){const u=MF(Qx(l),s);i.push({id:a,data:{droppableContainer:o,value:u}})}}return i.sort($F)},vue=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=Xx(e),i=[];for(const o of r){const{id:a}=o,l=t.get(a);if(l){const u=Xx(l),d=s.reduce((f,m,b)=>f+MF(u[b],m),0),h=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:o,value:h}})}}return i.sort($F)};function _ue(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),s=Math.min(e.left+e.width,n.left+n.width),i=Math.min(e.top+e.height,n.top+n.height),o=s-r,a=i-t;if(r<s&&t<i){const l=e.width*e.height,u=n.width*n.height,d=o*a,h=d/(l+u-d);return Number(h.toFixed(4))}return 0}const bue=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const s=[];for(const i of r){const{id:o}=i,a=t.get(o);if(a){const l=_ue(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(mue)};function wue(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function jF(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:mi}function Eue(n){return function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+n*a.y,bottom:o.bottom+n*a.y,left:o.left+n*a.x,right:o.right+n*a.x}),{...t})}}const Sue=Eue(1);function VF(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Cue(n,e,t){const r=VF(e);if(!r)return n;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=n.left-o-(1-s)*parseFloat(t),u=n.top-a-(1-i)*parseFloat(t.slice(t.indexOf(" ")+1)),d=s?n.width/s:n.width,h=i?n.height/i:n.height;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l}}const Tue={ignoreTransform:!1};function md(n,e){e===void 0&&(e=Tue);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=Mr(n).getComputedStyle(n);u&&(t=Cue(t,u,d))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=t;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function Zx(n){return md(n,{ignoreTransform:!0})}function Oue(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Iue(n,e){return e===void 0&&(e=Mr(n).getComputedStyle(n)),e.position==="fixed"}function Pue(n,e){e===void 0&&(e=Mr(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?t.test(i):!1})}function Vv(n,e){const t=[];function r(s){if(e!=null&&t.length>=e||!s)return t;if(CT(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!op(s)||kF(s)||t.includes(s))return t;const i=Mr(n).getComputedStyle(s);return s!==n&&Pue(s,i)&&t.push(s),Iue(s,i)?t:r(s.parentNode)}return n?r(n):t}function UF(n){const[e]=Vv(n,1);return e??null}function Mb(n){return!$v||!n?null:pd(n)?n:ST(n)?CT(n)||n===gd(n).scrollingElement?window:op(n)?n:null:null}function BF(n){return pd(n)?n.scrollX:n.scrollLeft}function HF(n){return pd(n)?n.scrollY:n.scrollTop}function Kw(n){return{x:BF(n),y:HF(n)}}var Bn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Bn||(Bn={}));function zF(n){return!$v||!n?!1:n===document.scrollingElement}function KF(n){const e={x:0,y:0},t=zF(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},s=n.scrollTop<=e.y,i=n.scrollLeft<=e.x,o=n.scrollTop>=r.y,a=n.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const xue={x:.2,y:.2};function Rue(n,e,t,r,s){let{top:i,left:o,right:a,bottom:l}=t;r===void 0&&(r=10),s===void 0&&(s=xue);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=KF(n),m={x:0,y:0},b={x:0,y:0},v={height:e.height*s.y,width:e.width*s.x};return!u&&i<=e.top+v.height?(m.y=Bn.Backward,b.y=r*Math.abs((e.top+v.height-i)/v.height)):!d&&l>=e.bottom-v.height&&(m.y=Bn.Forward,b.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!f&&a>=e.right-v.width?(m.x=Bn.Forward,b.x=r*Math.abs((e.right-v.width-a)/v.width)):!h&&o<=e.left+v.width&&(m.x=Bn.Backward,b.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:m,speed:b}}function Aue(n){if(n===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:t,right:r,bottom:s}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:s,width:n.clientWidth,height:n.clientHeight}}function WF(n){return n.reduce((e,t)=>mc(e,Kw(t)),mi)}function Due(n){return n.reduce((e,t)=>e+BF(t),0)}function kue(n){return n.reduce((e,t)=>e+HF(t),0)}function GF(n,e){if(e===void 0&&(e=md),!n)return;const{top:t,left:r,bottom:s,right:i}=e(n);UF(n)&&(s<=0||i<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Nue=[["x",["left","right"],Due],["y",["top","bottom"],kue]];class TT{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Vv(t),s=WF(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of Nue)for(const l of o)Object.defineProperty(this,l,{get:()=>{const u=a(r),d=s[i]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Th{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var s;(s=this.target)==null||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Lue(n){const{EventTarget:e}=Mr(n);return n instanceof e?n:gd(n)}function $b(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Rs;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Rs||(Rs={}));function Jx(n){n.preventDefault()}function Mue(n){n.stopPropagation()}var Ge;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Ge||(Ge={}));const YF={start:[Ge.Space,Ge.Enter],cancel:[Ge.Esc],end:[Ge.Space,Ge.Enter,Ge.Tab]},$ue=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Ge.Right:return{...t,x:t.x+25};case Ge.Left:return{...t,x:t.x-25};case Ge.Down:return{...t,y:t.y+25};case Ge.Up:return{...t,y:t.y-25}}};class OT{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Th(gd(t)),this.windowListeners=new Th(Mr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rs.Resize,this.handleCancel),this.windowListeners.add(Rs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&GF(r),t(mi)}handleKeyDown(e){if(jv(e)){const{active:t,context:r,options:s}=this.props,{keyboardCodes:i=YF,coordinateGetter:o=$ue,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:mi;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(e,{active:t,context:r.current,currentCoordinates:d});if(h){const f=df(h,d),m={x:0,y:0},{scrollableAncestors:b}=r.current;for(const v of b){const _=e.code,{isTop:y,isRight:w,isLeft:E,isBottom:S,maxScroll:I,minScroll:x}=KF(v),O=Aue(v),T={x:Math.min(_===Ge.Right?O.right-O.width/2:O.right,Math.max(_===Ge.Right?O.left:O.left+O.width/2,h.x)),y:Math.min(_===Ge.Down?O.bottom-O.height/2:O.bottom,Math.max(_===Ge.Down?O.top:O.top+O.height/2,h.y))},P=_===Ge.Right&&!w||_===Ge.Left&&!E,A=_===Ge.Down&&!S||_===Ge.Up&&!y;if(P&&T.x!==h.x){const k=v.scrollLeft+f.x,M=_===Ge.Right&&k<=I.x||_===Ge.Left&&k>=x.x;if(M&&!f.y){v.scrollTo({left:k,behavior:a});return}M?m.x=v.scrollLeft-k:m.x=_===Ge.Right?v.scrollLeft-I.x:v.scrollLeft-x.x,m.x&&v.scrollBy({left:-m.x,behavior:a});break}else if(A&&T.y!==h.y){const k=v.scrollTop+f.y,M=_===Ge.Down&&k<=I.y||_===Ge.Up&&k>=x.y;if(M&&!f.x){v.scrollTo({top:k,behavior:a});return}M?m.y=v.scrollTop-k:m.y=_===Ge.Down?v.scrollTop-I.y:v.scrollTop-x.y,m.y&&v.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(e,mc(df(h,this.referenceCoordinates),m))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}OT.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=YF,onActivation:s}=e,{active:i}=t;const{code:o}=n.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&n.target!==a?!1:(n.preventDefault(),s==null||s({event:n.nativeEvent}),!0)}return!1}}];function eR(n){return!!(n&&"distance"in n)}function tR(n){return!!(n&&"delay"in n)}class IT{constructor(e,t,r){var s;r===void 0&&(r=Lue(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:o}=i;this.props=e,this.events=t,this.document=gd(o),this.documentListeners=new Th(this.document),this.listeners=new Th(r),this.windowListeners=new Th(Mr(o)),this.initialCoordinates=(s=py(i))!=null?s:mi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Rs.Resize,this.handleCancel),this.windowListeners.add(Rs.DragStart,Jx),this.windowListeners.add(Rs.VisibilityChange,this.handleCancel),this.windowListeners.add(Rs.ContextMenu,Jx),this.documentListeners.add(Rs.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(tR(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(eR(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Rs.Click,Mue,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rs.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(t=py(e))!=null?t:mi,u=df(s,l);if(!r&&a){if(eR(a)){if(a.tolerance!=null&&$b(u,a.tolerance))return this.handleCancel();if($b(u,a.distance))return this.handleStart()}if(tR(a)&&$b(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ge.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Fue={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qF extends IT{constructor(e){const{event:t}=e,r=gd(t.target);super(e,Fue,r)}}qF.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const jue={move:{name:"mousemove"},end:{name:"mouseup"}};var Ww;(function(n){n[n.RightClick=2]="RightClick"})(Ww||(Ww={}));class XF extends IT{constructor(e){super(e,jue,gd(e.event.target))}}XF.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===Ww.RightClick?!1:(r==null||r({event:t}),!0)}}];const Fb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class QF extends IT{constructor(e){super(e,Fb)}static setup(){return window.addEventListener(Fb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Fb.move.name,e)};function e(){}}}QF.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:s}=t;return s.length>1?!1:(r==null||r({event:t}),!0)}}];var Oh;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Oh||(Oh={}));var hf;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(hf||(hf={}));function Vue(n){let{acceleration:e,activator:t=Oh.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=hf.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=n;const m=Bue({delta:h,disabled:!i}),[b,v]=tue(),_=D.useRef({x:0,y:0}),y=D.useRef({x:0,y:0}),w=D.useMemo(()=>{switch(t){case Oh.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Oh.DraggableRect:return s}},[t,s,l]),E=D.useRef(null),S=D.useCallback(()=>{const x=E.current;if(!x)return;const O=_.current.x*y.current.x,T=_.current.y*y.current.y;x.scrollBy(O,T)},[]),I=D.useMemo(()=>a===hf.TreeOrder?[...u].reverse():u,[a,u]);D.useEffect(()=>{if(!i||!u.length||!w){v();return}for(const x of I){if((r==null?void 0:r(x))===!1)continue;const O=u.indexOf(x),T=d[O];if(!T)continue;const{direction:P,speed:A}=Rue(x,T,w,e,f);for(const k of["x","y"])m[k][P[k]]||(A[k]=0,P[k]=0);if(A.x>0||A.y>0){v(),E.current=x,b(S,o),_.current=A,y.current=P;return}}_.current={x:0,y:0},y.current={x:0,y:0},v()},[e,S,r,v,i,o,JSON.stringify(w),JSON.stringify(m),b,u,I,d,JSON.stringify(f)])}const Uue={x:{[Bn.Backward]:!1,[Bn.Forward]:!1},y:{[Bn.Backward]:!1,[Bn.Forward]:!1}};function Bue(n){let{delta:e,disabled:t}=n;const r=fy(e);return ap(s=>{if(t||!r||!s)return Uue;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Bn.Backward]:s.x[Bn.Backward]||i.x===-1,[Bn.Forward]:s.x[Bn.Forward]||i.x===1},y:{[Bn.Backward]:s.y[Bn.Backward]||i.y===-1,[Bn.Forward]:s.y[Bn.Forward]||i.y===1}}},[t,e,r])}function Hue(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return ap(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function zue(n,e){return D.useMemo(()=>n.reduce((t,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...t,...i]},[]),[n,e])}var ff;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(ff||(ff={}));var Gw;(function(n){n.Optimized="optimized"})(Gw||(Gw={}));const nR=new Map;function Kue(n,e){let{dragging:t,dependencies:r,config:s}=e;const[i,o]=D.useState(null),{frequency:a,measure:l,strategy:u}=s,d=D.useRef(n),h=_(),f=cf(h),m=D.useCallback(function(y){y===void 0&&(y=[]),!f.current&&o(w=>w===null?y:w.concat(y.filter(E=>!w.includes(E))))},[f]),b=D.useRef(null),v=ap(y=>{if(h&&!t)return nR;if(!y||y===nR||d.current!==n||i!=null){const w=new Map;for(let E of n){if(!E)continue;if(i&&i.length>0&&!i.includes(E.id)&&E.rect.current){w.set(E.id,E.rect.current);continue}const S=E.node.current,I=S?new TT(l(S),S):null;E.rect.current=I,I&&w.set(E.id,I)}return w}return y},[n,i,t,h,l]);return D.useEffect(()=>{d.current=n},[n]),D.useEffect(()=>{h||m()},[t,h]),D.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),D.useEffect(()=>{h||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{m(),b.current=null},a))},[a,h,m,...r]),{droppableRects:v,measureDroppableContainers:m,measuringScheduled:i!=null};function _(){switch(u){case ff.Always:return!1;case ff.BeforeDragging:return t;default:return!t}}}function PT(n,e){return ap(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function Wue(n,e){return PT(n,e)}function Gue(n){let{callback:e,disabled:t}=n;const r=Fv(e),s=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,t]);return D.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Uv(n){let{callback:e,disabled:t}=n;const r=Fv(e),s=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[t]);return D.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Yue(n){return new TT(md(n),n)}function rR(n,e,t){e===void 0&&(e=Yue);const[r,s]=D.useState(null);function i(){s(l=>{if(!n)return null;if(n.isConnected===!1){var u;return(u=l??t)!=null?u:null}const d=e(n);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const o=Gue({callback(l){if(n)for(const u of l){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(n)){i();break}}}}),a=Uv({callback:i});return gi(()=>{i(),n?(a==null||a.observe(n),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[n]),r}function que(n){const e=PT(n);return jF(n,e)}const sR=[];function Xue(n){const e=D.useRef(n),t=ap(r=>n?r&&r!==sR&&n&&e.current&&n.parentNode===e.current.parentNode?r:Vv(n):sR,[n]);return D.useEffect(()=>{e.current=n},[n]),t}function Que(n){const[e,t]=D.useState(null),r=D.useRef(n),s=D.useCallback(i=>{const o=Mb(i.target);o&&t(a=>a?(a.set(o,Kw(o)),new Map(a)):null)},[]);return D.useEffect(()=>{const i=r.current;if(n!==i){o(i);const a=n.map(l=>{const u=Mb(l);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Kw(u)]):null}).filter(l=>l!=null);t(a.length?new Map(a):null),r.current=n}return()=>{o(n),o(i)};function o(a){a.forEach(l=>{const u=Mb(l);u==null||u.removeEventListener("scroll",s)})}},[s,n]),D.useMemo(()=>n.length?e?Array.from(e.values()).reduce((i,o)=>mc(i,o),mi):WF(n):mi,[n,e])}function iR(n,e){e===void 0&&(e=[]);const t=D.useRef(null);return D.useEffect(()=>{t.current=null},e),D.useEffect(()=>{const r=n!==mi;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?df(n,t.current):mi}function Zue(n){D.useEffect(()=>{if(!$v)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function Jue(n,e){return D.useMemo(()=>n.reduce((t,r)=>{let{eventName:s,handler:i}=r;return t[s]=o=>{i(o,e)},t},{}),[n,e])}function ZF(n){return D.useMemo(()=>n?Oue(n):null,[n])}const oR=[];function ece(n,e){e===void 0&&(e=md);const[t]=n,r=ZF(t?Mr(t):null),[s,i]=D.useState(oR);function o(){i(()=>n.length?n.map(l=>zF(l)?r:new TT(e(l),l)):oR)}const a=Uv({callback:o});return gi(()=>{a==null||a.disconnect(),o(),n.forEach(l=>a==null?void 0:a.observe(l))},[n]),s}function JF(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return op(e)?e:n}function tce(n){let{measure:e}=n;const[t,r]=D.useState(null),s=D.useCallback(u=>{for(const{target:d}of u)if(op(d)){r(h=>{const f=e(d);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),i=Uv({callback:s}),o=D.useCallback(u=>{const d=JF(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?e(d):null)},[e,i]),[a,l]=hy(o);return D.useMemo(()=>({nodeRef:a,rect:t,setRef:l}),[t,a,l])}const nce=[{sensor:qF,options:{}},{sensor:OT,options:{}}],rce={current:{}},Zg={draggable:{measure:Zx},droppable:{measure:Zx,strategy:ff.WhileDragging,frequency:Gw.Optimized},dragOverlay:{measure:md}};class Ih extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const sce={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ih,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zg,measureDroppableContainers:gy,windowRect:null,measuringScheduled:!1},e2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gy,draggableNodes:new Map,over:null,measureDroppableContainers:gy},up=D.createContext(e2),t2=D.createContext(sce);function ice(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ih}}}function oce(n,e){switch(e.type){case Dn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Dn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Dn.DragEnd:case Dn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Dn.RegisterDroppable:{const{element:t}=e,{id:r}=t,s=new Ih(n.droppable.containers);return s.set(r,t),{...n,droppable:{...n.droppable,containers:s}}}case Dn.SetDroppableDisabled:{const{id:t,key:r,disabled:s}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const o=new Ih(n.droppable.containers);return o.set(t,{...i,disabled:s}),{...n,droppable:{...n.droppable,containers:o}}}case Dn.UnregisterDroppable:{const{id:t,key:r}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const i=new Ih(n.droppable.containers);return i.delete(t),{...n,droppable:{...n.droppable,containers:i}}}default:return n}}function ace(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:s}=D.useContext(up),i=fy(r),o=fy(t==null?void 0:t.id);return D.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!jv(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const h=sue(d);if(h){h.focus();break}}})}},[r,e,s,o,i]),null}function n2(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((s,i)=>i({transform:s,...r}),t):t}function lce(n){return D.useMemo(()=>({draggable:{...Zg.draggable,...n==null?void 0:n.draggable},droppable:{...Zg.droppable,...n==null?void 0:n.droppable},dragOverlay:{...Zg.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function uce(n){let{activeNode:e,measure:t,initialRect:r,config:s=!0}=n;const i=D.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;gi(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=t(u),h=jF(d,r);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=UF(u);f&&f.scrollBy({top:h.y,left:h.x})}},[e,o,a,r,t])}const Bv=D.createContext({...mi,scaleX:1,scaleY:1});var aa;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(aa||(aa={}));const cce=D.memo(function(e){var t,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:u,sensors:d=nce,collisionDetection:h=bue,measuring:f,modifiers:m,...b}=e;const v=D.useReducer(oce,void 0,ice),[_,y]=v,[w,E]=cue(),[S,I]=D.useState(aa.Uninitialized),x=S===aa.Initialized,{draggable:{active:O,nodes:T,translate:P},droppable:{containers:A}}=_,k=O!=null?T.get(O):null,M=D.useRef({initial:null,translated:null}),N=D.useMemo(()=>{var yt;return O!=null?{id:O,data:(yt=k==null?void 0:k.data)!=null?yt:rce,rect:M}:null},[O,k]),K=D.useRef(null),[G,z]=D.useState(null),[ee,j]=D.useState(null),H=cf(b,Object.values(b)),U=lp("DndDescribedBy",o),oe=D.useMemo(()=>A.getEnabled(),[A]),ne=lce(f),{droppableRects:re,measureDroppableContainers:de,measuringScheduled:be}=Kue(oe,{dragging:x,dependencies:[P.x,P.y],config:ne.droppable}),ye=Hue(T,O),ge=D.useMemo(()=>ee?py(ee):null,[ee]),pe=ts(),te=Wue(ye,ne.draggable.measure);uce({activeNode:O!=null?T.get(O):null,config:pe.layoutShiftCompensation,initialRect:te,measure:ne.draggable.measure});const le=rR(ye,ne.draggable.measure,te),ct=rR(ye?ye.parentElement:null),Ct=D.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),en=A.getNodeFor((t=Ct.current.over)==null?void 0:t.id),gt=tce({measure:ne.dragOverlay.measure}),yn=(r=gt.nodeRef.current)!=null?r:ye,mt=x?(s=gt.rect)!=null?s:le:null,Yn=!!(gt.nodeRef.current&&gt.rect),Fr=que(Yn?null:le),Ei=ZF(yn?Mr(yn):null),Ft=Xue(x?en??ye:null),$n=ece(Ft),ws=n2(m,{transform:{x:P.x-Fr.x,y:P.y-Fr.y,scaleX:1,scaleY:1},activatorEvent:ee,active:N,activeNodeRect:le,containerNodeRect:ct,draggingNodeRect:mt,over:Ct.current.over,overlayNodeRect:gt.rect,scrollableAncestors:Ft,scrollableAncestorRects:$n,windowRect:Ei}),jr=ge?mc(ge,P):null,Es=Que(Ft),so=iR(Es),tn=iR(Es,[le]),kt=mc(ws,so),vn=mt?Sue(mt,ws):null,In=N&&vn?h({active:N,collisionRect:vn,droppableRects:re,droppableContainers:oe,pointerCoordinates:jr}):null,ir=FF(In,"id"),[Fn,or]=D.useState(null),Vr=Yn?ws:mc(ws,tn),Ss=wue(Vr,(i=Fn==null?void 0:Fn.rect)!=null?i:null,le),_n=D.useRef(null),Jr=D.useCallback((yt,Wt)=>{let{sensor:ft,options:nn}=Wt;if(K.current==null)return;const jt=T.get(K.current);if(!jt)return;const Gt=yt.nativeEvent,bn=new ft({active:K.current,activeNode:jt,event:Gt,options:nn,context:Ct,onAbort(Ve){if(!T.get(Ve))return;const{onDragAbort:_e}=H.current,Le={id:Ve};_e==null||_e(Le),w({type:"onDragAbort",event:Le})},onPending(Ve,ns,_e,Le){if(!T.get(Ve))return;const{onDragPending:tt}=H.current,Tt={id:Ve,constraint:ns,initialCoordinates:_e,offset:Le};tt==null||tt(Tt),w({type:"onDragPending",event:Tt})},onStart(Ve){const ns=K.current;if(ns==null)return;const _e=T.get(ns);if(!_e)return;const{onDragStart:Le}=H.current,Vt={activatorEvent:Gt,active:{id:ns,data:_e.data,rect:M}};Fs.unstable_batchedUpdates(()=>{Le==null||Le(Vt),I(aa.Initializing),y({type:Dn.DragStart,initialCoordinates:Ve,active:ns}),w({type:"onDragStart",event:Vt}),z(_n.current),j(Gt)})},onMove(Ve){y({type:Dn.DragMove,coordinates:Ve})},onEnd:Ts(Dn.DragEnd),onCancel:Ts(Dn.DragCancel)});_n.current=bn;function Ts(Ve){return async function(){const{active:_e,collisions:Le,over:Vt,scrollAdjustedTranslate:tt}=Ct.current;let Tt=null;if(_e&&tt){const{cancelDrop:Ot}=H.current;Tt={activatorEvent:Gt,active:_e,collisions:Le,delta:tt,over:Vt},Ve===Dn.DragEnd&&typeof Ot=="function"&&await Promise.resolve(Ot(Tt))&&(Ve=Dn.DragCancel)}K.current=null,Fs.unstable_batchedUpdates(()=>{y({type:Ve}),I(aa.Uninitialized),or(null),z(null),j(null),_n.current=null;const Ot=Ve===Dn.DragEnd?"onDragEnd":"onDragCancel";if(Tt){const Rt=H.current[Ot];Rt==null||Rt(Tt),w({type:Ot,event:Tt})}})}}},[T]),Si=D.useCallback((yt,Wt)=>(ft,nn)=>{const jt=ft.nativeEvent,Gt=T.get(nn);if(K.current!==null||!Gt||jt.dndKit||jt.defaultPrevented)return;const bn={active:Gt};yt(ft,Wt.options,bn)===!0&&(jt.dndKit={capturedBy:Wt.sensor},K.current=nn,Jr(ft,Wt))},[T,Jr]),Cs=zue(d,Si);Zue(d),gi(()=>{le&&S===aa.Initializing&&I(aa.Initialized)},[le,S]),D.useEffect(()=>{const{onDragMove:yt}=H.current,{active:Wt,activatorEvent:ft,collisions:nn,over:jt}=Ct.current;if(!Wt||!ft)return;const Gt={active:Wt,activatorEvent:ft,collisions:nn,delta:{x:kt.x,y:kt.y},over:jt};Fs.unstable_batchedUpdates(()=>{yt==null||yt(Gt),w({type:"onDragMove",event:Gt})})},[kt.x,kt.y]),D.useEffect(()=>{const{active:yt,activatorEvent:Wt,collisions:ft,droppableContainers:nn,scrollAdjustedTranslate:jt}=Ct.current;if(!yt||K.current==null||!Wt||!jt)return;const{onDragOver:Gt}=H.current,bn=nn.get(ir),Ts=bn&&bn.rect.current?{id:bn.id,rect:bn.rect.current,data:bn.data,disabled:bn.disabled}:null,Ve={active:yt,activatorEvent:Wt,collisions:ft,delta:{x:jt.x,y:jt.y},over:Ts};Fs.unstable_batchedUpdates(()=>{or(Ts),Gt==null||Gt(Ve),w({type:"onDragOver",event:Ve})})},[ir]),gi(()=>{Ct.current={activatorEvent:ee,active:N,activeNode:ye,collisionRect:vn,collisions:In,droppableRects:re,draggableNodes:T,draggingNode:yn,draggingNodeRect:mt,droppableContainers:A,over:Fn,scrollableAncestors:Ft,scrollAdjustedTranslate:kt},M.current={initial:mt,translated:vn}},[N,ye,In,vn,T,yn,mt,re,A,Fn,Ft,kt]),Vue({...pe,delta:P,draggingRect:vn,pointerCoordinates:jr,scrollableAncestors:Ft,scrollableAncestorRects:$n});const Ci=D.useMemo(()=>({active:N,activeNode:ye,activeNodeRect:le,activatorEvent:ee,collisions:In,containerNodeRect:ct,dragOverlay:gt,draggableNodes:T,droppableContainers:A,droppableRects:re,over:Fn,measureDroppableContainers:de,scrollableAncestors:Ft,scrollableAncestorRects:$n,measuringConfiguration:ne,measuringScheduled:be,windowRect:Ei}),[N,ye,le,ee,In,ct,gt,T,A,re,Fn,de,Ft,$n,ne,be,Ei]),es=D.useMemo(()=>({activatorEvent:ee,activators:Cs,active:N,activeNodeRect:le,ariaDescribedById:{draggable:U},dispatch:y,draggableNodes:T,over:Fn,measureDroppableContainers:de}),[ee,Cs,N,le,y,U,T,Fn,de]);return g.createElement(LF.Provider,{value:E},g.createElement(up.Provider,{value:es},g.createElement(t2.Provider,{value:Ci},g.createElement(Bv.Provider,{value:Ss},u)),g.createElement(ace,{disabled:(a==null?void 0:a.restoreFocus)===!1})),g.createElement(fue,{...a,hiddenTextDescribedById:U}));function ts(){const yt=(G==null?void 0:G.autoScrollEnabled)===!1,Wt=typeof l=="object"?l.enabled===!1:l===!1,ft=x&&!yt&&!Wt;return typeof l=="object"?{...l,enabled:ft}:{enabled:ft}}}),dce=D.createContext(null),aR="button",hce="Draggable";function fce(n){let{id:e,data:t,disabled:r=!1,attributes:s}=n;const i=lp(hce),{activators:o,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=D.useContext(up),{role:m=aR,roleDescription:b="draggable",tabIndex:v=0}=s??{},_=(l==null?void 0:l.id)===e,y=D.useContext(_?Bv:dce),[w,E]=hy(),[S,I]=hy(),x=Jue(o,e),O=cf(t);gi(()=>(h.set(e,{id:e,key:i,node:w,activatorNode:S,data:O}),()=>{const P=h.get(e);P&&P.key===i&&h.delete(e)}),[h,e]);const T=D.useMemo(()=>({role:m,tabIndex:v,"aria-disabled":r,"aria-pressed":_&&m===aR?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[r,m,v,_,b,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:T,isDragging:_,listeners:r?void 0:x,node:w,over:f,setNodeRef:E,setActivatorNodeRef:I,transform:y}}function r2(){return D.useContext(t2)}const pce="Droppable",gce={timeout:25};function mce(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:s}=n;const i=lp(pce),{active:o,dispatch:a,over:l,measureDroppableContainers:u}=D.useContext(up),d=D.useRef({disabled:t}),h=D.useRef(!1),f=D.useRef(null),m=D.useRef(null),{disabled:b,updateMeasurementsFor:v,timeout:_}={...gce,...s},y=cf(v??r),w=D.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),m.current=null},_)},[_]),E=Uv({callback:w,disabled:b||!o}),S=D.useCallback((T,P)=>{E&&(P&&(E.unobserve(P),h.current=!1),T&&E.observe(T))},[E]),[I,x]=hy(S),O=cf(e);return D.useEffect(()=>{!E||!I.current||(E.disconnect(),h.current=!1,E.observe(I.current))},[I,E]),D.useEffect(()=>(a({type:Dn.RegisterDroppable,element:{id:r,key:i,disabled:t,node:I,rect:f,data:O}}),()=>a({type:Dn.UnregisterDroppable,key:i,id:r})),[r]),D.useEffect(()=>{t!==d.current.disabled&&(a({type:Dn.SetDroppableDisabled,id:r,key:i,disabled:t}),d.current.disabled=t)},[r,i,t,a]),{active:o,rect:f,isOver:(l==null?void 0:l.id)===r,node:I,over:l,setNodeRef:x}}function yce(n){let{animation:e,children:t}=n;const[r,s]=D.useState(null),[i,o]=D.useState(null),a=fy(t);return!t&&!r&&a&&s(a),gi(()=>{if(!i)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){s(null);return}Promise.resolve(e(u,i)).then(()=>{s(null)})},[e,r,i]),g.createElement(g.Fragment,null,t,r?D.cloneElement(r,{ref:o}):null)}const vce={x:0,y:0,scaleX:1,scaleY:1};function _ce(n){let{children:e}=n;return g.createElement(up.Provider,{value:e2},g.createElement(Bv.Provider,{value:vce},e))}const bce={position:"fixed",touchAction:"none"},wce=n=>jv(n)?"transform 250ms ease":void 0,Ece=D.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:l,transform:u,transition:d=wce}=n;if(!a)return null;const h=s?u:{...u,scaleX:1,scaleY:1},f={...bce,width:a.width,height:a.height,top:a.top,left:a.left,transform:Ua.Transform.toString(h),transformOrigin:s&&r?gue(r,a):void 0,transition:typeof d=="function"?d(r):d,...l};return g.createElement(t,{className:o,style:f,ref:e},i)}),Sce=n=>e=>{let{active:t,dragOverlay:r}=e;const s={},{styles:i,className:o}=n;if(i!=null&&i.active)for(const[a,l]of Object.entries(i.active))l!==void 0&&(s[a]=t.node.style.getPropertyValue(a),t.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(const[a,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&t.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,u]of Object.entries(s))t.node.style.setProperty(l,u);o!=null&&o.active&&t.node.classList.remove(o.active)}},Cce=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Ua.Transform.toString(e)},{transform:Ua.Transform.toString(t)}]},Tce={duration:250,easing:"ease",keyframes:Cce,sideEffects:Sce({styles:{active:{opacity:"0"}}})};function Oce(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:s}=n;return Fv((i,o)=>{if(e===null)return;const a=t.get(i);if(!a)return;const l=a.node.current;if(!l)return;const u=JF(o);if(!u)return;const{transform:d}=Mr(o).getComputedStyle(o),h=VF(d);if(!h)return;const f=typeof e=="function"?e:Ice(e);return GF(l,s.draggable.measure),f({active:{id:i,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:o,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function Ice(n){const{duration:e,easing:t,sideEffects:r,keyframes:s}={...Tce,...n};return i=>{let{active:o,dragOverlay:a,transform:l,...u}=i;if(!e)return;const d={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},h={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},f={x:l.x-d.x,y:l.y-d.y,...h},m=s({...u,active:o,dragOverlay:a,transform:{initial:l,final:f}}),[b]=m,v=m[m.length-1];if(JSON.stringify(b)===JSON.stringify(v))return;const _=r==null?void 0:r({active:o,dragOverlay:a,...u}),y=a.node.animate(m,{duration:e,easing:t,fill:"forwards"});return new Promise(w=>{y.onfinish=()=>{_==null||_(),w()}})}}let lR=0;function Pce(n){return D.useMemo(()=>{if(n!=null)return lR++,lR},[n])}const xce=g.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:l,zIndex:u=999}=n;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggableNodes:b,droppableContainers:v,dragOverlay:_,over:y,measuringConfiguration:w,scrollableAncestors:E,scrollableAncestorRects:S,windowRect:I}=r2(),x=D.useContext(Bv),O=Pce(h==null?void 0:h.id),T=n2(o,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggingNodeRect:_.rect,over:y,overlayNodeRect:_.rect,scrollableAncestors:E,scrollableAncestorRects:S,transform:x,windowRect:I}),P=PT(f),A=Oce({config:r,draggableNodes:b,droppableContainers:v,measuringConfiguration:w}),k=P?_.setRef:void 0;return g.createElement(_ce,null,g.createElement(yce,{animation:A},h&&O?g.createElement(Ece,{key:O,id:h.id,ref:k,as:a,activatorEvent:d,adjustScale:e,className:l,transition:i,rect:P,style:{zIndex:u,...s},transform:T},t):null))});function s2(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function Rce(n,e){return n.reduce((t,r,s)=>{const i=e.get(r);return i&&(t[s]=i),t},Array(n.length))}function _g(n){return n!==null&&n>=0}function Ace(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Dce(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const xT=n=>{let{rects:e,activeIndex:t,overIndex:r,index:s}=n;const i=s2(e,r,t),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},i2="Sortable",o2=g.createContext({activeIndex:-1,containerId:i2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xT,disabled:{draggable:!1,droppable:!1}});function kce(n){let{children:e,id:t,items:r,strategy:s=xT,disabled:i=!1}=n;const{active:o,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:d}=r2(),h=lp(i2,t),f=a.rect!==null,m=D.useMemo(()=>r.map(x=>typeof x=="object"&&"id"in x?x.id:x),[r]),b=o!=null,v=o?m.indexOf(o.id):-1,_=u?m.indexOf(u.id):-1,y=D.useRef(m),w=!Ace(m,y.current),E=_!==-1&&v===-1||w,S=Dce(i);gi(()=>{w&&b&&d(m)},[w,m,b,d]),D.useEffect(()=>{y.current=m},[m]);const I=D.useMemo(()=>({activeIndex:v,containerId:h,disabled:S,disableTransforms:E,items:m,overIndex:_,useDragOverlay:f,sortedRects:Rce(m,l),strategy:s}),[v,h,S.draggable,S.droppable,E,m,_,l,f,s]);return g.createElement(o2.Provider,{value:I},e)}const Nce=n=>{let{id:e,items:t,activeIndex:r,overIndex:s}=n;return s2(t,r,s).indexOf(e)},Lce=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:u}=n;return!u||!r||a!==i&&s===o?!1:t?!0:o!==s&&e===l},Mce={duration:200,easing:"ease"},a2="transform",$ce=Ua.Transition.toString({property:a2,duration:0,easing:"linear"}),Fce={roleDescription:"sortable"};function jce(n){let{disabled:e,index:t,node:r,rect:s}=n;const[i,o]=D.useState(null),a=D.useRef(t);return gi(()=>{if(!e&&t!==a.current&&r.current){const l=s.current;if(l){const u=md(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&o(d)}}t!==a.current&&(a.current=t)},[e,t,r,s]),D.useEffect(()=>{i&&o(null)},[i]),i}function Vce(n){let{animateLayoutChanges:e=Lce,attributes:t,disabled:r,data:s,getNewIndex:i=Nce,id:o,strategy:a,resizeObserverConfig:l,transition:u=Mce}=n;const{items:d,containerId:h,activeIndex:f,disabled:m,disableTransforms:b,sortedRects:v,overIndex:_,useDragOverlay:y,strategy:w}=D.useContext(o2),E=Uce(r,m),S=d.indexOf(o),I=D.useMemo(()=>({sortable:{containerId:h,index:S,items:d},...s}),[h,s,S,d]),x=D.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:O,node:T,isOver:P,setNodeRef:A}=mce({id:o,data:I,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...l}}),{active:k,activatorEvent:M,activeNodeRect:N,attributes:K,setNodeRef:G,listeners:z,isDragging:ee,over:j,setActivatorNodeRef:H,transform:U}=fce({id:o,data:I,attributes:{...Fce,...t},disabled:E.draggable}),oe=eue(A,G),ne=!!k,re=ne&&!b&&_g(f)&&_g(_),de=!y&&ee,be=de&&re?U:null,ge=re?be??(a??w)({rects:v,activeNodeRect:N,activeIndex:f,overIndex:_,index:S}):null,pe=_g(f)&&_g(_)?i({id:o,items:d,activeIndex:f,overIndex:_}):S,te=k==null?void 0:k.id,le=D.useRef({activeId:te,items:d,newIndex:pe,containerId:h}),ct=d!==le.current.items,Ct=e({active:k,containerId:h,isDragging:ee,isSorting:ne,id:o,index:S,items:d,newIndex:le.current.newIndex,previousItems:le.current.items,previousContainerId:le.current.containerId,transition:u,wasDragging:le.current.activeId!=null}),en=jce({disabled:!Ct,index:S,node:T,rect:O});return D.useEffect(()=>{ne&&le.current.newIndex!==pe&&(le.current.newIndex=pe),h!==le.current.containerId&&(le.current.containerId=h),d!==le.current.items&&(le.current.items=d)},[ne,pe,h,d]),D.useEffect(()=>{if(te===le.current.activeId)return;if(te&&!le.current.activeId){le.current.activeId=te;return}const yn=setTimeout(()=>{le.current.activeId=te},50);return()=>clearTimeout(yn)},[te]),{active:k,activeIndex:f,attributes:K,data:I,rect:O,index:S,newIndex:pe,items:d,isOver:P,isSorting:ne,isDragging:ee,listeners:z,node:T,overIndex:_,over:j,setNodeRef:oe,setActivatorNodeRef:H,setDroppableNodeRef:A,setDraggableNodeRef:G,transform:en??ge,transition:gt()};function gt(){if(en||ct&&le.current.newIndex===S)return $ce;if(!(de&&!jv(M)||!u)&&(ne||Ct))return Ua.Transition.toString({...u,property:a2})}}function Uce(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}function my(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Bce=[Ge.Down,Ge.Right,Ge.Up,Ge.Left],Hce=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:a}}=e;if(Bce.includes(n.code)){if(n.preventDefault(),!t||!r)return;const l=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const f=s.get(h.id);if(f)switch(n.code){case Ge.Down:r.top<f.top&&l.push(h);break;case Ge.Up:r.top>f.top&&l.push(h);break;case Ge.Left:r.left>f.left&&l.push(h);break;case Ge.Right:r.left<f.left&&l.push(h);break}});const u=vue({active:t,collisionRect:r,droppableRects:s,droppableContainers:l,pointerCoordinates:null});let d=FF(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const h=i.get(t.id),f=i.get(d),m=f?s.get(f.id):null,b=f==null?void 0:f.node.current;if(b&&m&&h&&f){const _=Vv(b).some((x,O)=>a[O]!==x),y=l2(h,f),w=zce(h,f),E=_||!y?{x:0,y:0}:{x:w?r.width-m.width:0,y:w?r.height-m.height:0},S={x:m.left,y:m.top};return E.x&&E.y?S:df(S,E)}}}};function l2(n,e){return!my(n)||!my(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function zce(n,e){return!my(n)||!my(e)||!l2(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const Kce="semi-sortable";function Wce(n){return g.createElement("div",Object.assign({style:{overflow:"auto"}},n))}const Gce={coordinateGetter:Hce};function Yce(n){let{items:e,onSortEnd:t,adjustScale:r,renderItem:s,transition:i,collisionDetection:o=yue,strategy:a=xT,useDragOverlay:l=!0,dragOverlayCls:u,container:d=Wce,prefix:h=Kce}=n;const[f,m]=D.useState(null),b=pue(Lb(XF),Lb(QF),Lb(OT,Gce)),v=D.useCallback(S=>e.indexOf(S),[e]),_=D.useMemo(()=>f?v(f):-1,[v,f]),y=D.useCallback(S=>{let{active:I}=S;I&&m(I.id)},[]),w=D.useCallback(S=>{let{over:I}=S;if(m(null),I){const x=v(I.id);_!==x&&t({oldIndex:_,newIndex:x})}},[_,v,t]),E=D.useCallback(()=>{m(null)},[]);return g.createElement(cce,{sensors:b,collisionDetection:o,onDragStart:y,onDragEnd:w,onDragCancel:E,autoScroll:{order:hf.ReversedTreeOrder}},g.createElement(kce,{items:e,strategy:a},g.createElement(d,null,e.map((S,I)=>g.createElement(qce,{key:S,id:S,index:I,renderItem:s,useDragOverlay:l,prefix:h,transition:i})))),l?Fs.createPortal(g.createElement(xce,{adjustScale:r,style:{zIndex:void 0},className:u},f?s({id:f,sortableHandle:S=>S}):null),document.body):null)}function qce(n){let{animateLayoutChanges:e,id:t,renderItem:r,prefix:s,transition:i}=n;const{listeners:o,setNodeRef:a,transform:l,transition:u,active:d,isOver:h,attributes:f}=Vce({id:t,animateLayoutChanges:e,transition:i}),m=D.useCallback(_=>()=>g.createElement("span",Object.assign({},o,{style:{lineHeight:0},onMouseDown:y=>{o.onMouseDown(y),y.preventDefault(),y.stopPropagation()}}),g.createElement(_,null)),[o]),b=$(`${s}-sortable-item`,{[`${s}-sortable-item-over`]:h,[`${s}-sortable-item-active`]:(d==null?void 0:d.id)===t}),v=D.useMemo(()=>Kl(i)?void 0:{transform:Ua.Transform.toString(Object.assign(Object.assign({},l),{scaleX:1,scaleY:1})),transition:u},[i,l,u]);return g.createElement("div",Object.assign({ref:a,style:v,className:b},f),r({id:t,sortableHandle:m}))}var Xce=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Ke=Qle.PREFIX;function Qce(n){return g.createElement("div",Object.assign({className:`${Ke}-sortable-list`},n))}class cp extends xe{constructor(e){super(e),this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleKeyDown=t=>{this.foundation.handleKeyDown(t)},this.handleInputFocus=t=>{this.foundation.handleInputFocus(t)},this.handleInputBlur=t=>{this.foundation.handleInputBlur(t)},this.handleClearBtn=t=>{this.foundation.handleClearBtn(t)},this.handleClearEnterPress=t=>{this.foundation.handleClearEnterPress(t)},this.handleTagClose=t=>{this.foundation.handleTagClose(t)},this.handleInputMouseLeave=t=>{this.foundation.handleInputMouseLeave()},this.handleClick=t=>{this.foundation.handleClick(t)},this.handleInputMouseEnter=t=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=t=>{this.foundation.handleClickPrefixOrSuffix(t)},this.handlePreventMouseDown=t=>{this.foundation.handlePreventMouseDown(t)},this.getAllTags=()=>{const{tagsArray:t}=this.state;return t.map((r,s)=>this.renderTag(r,s))},this.renderTag=(t,r,s)=>{const{size:i,disabled:o,renderTagItem:a,showContentTooltip:l,draggable:u}=this.props,{active:d}=this.state,h=d&&u,f=$(`${Ke}-wrapper-tag`,{[`${Ke}-wrapper-tag-size-${i}`]:i,[`${Ke}-wrapper-tag-icon`]:h}),m=$(`${Ke}-wrapper-typo`,{[`${Ke}-wrapper-typo-disabled`]:o}),b=$({[`${Ke}-drag-item`]:h,[`${Ke}-wrapper-tag-icon`]:h}),v=s&&s(()=>g.createElement(Pse,{className:`${Ke}-drag-handler`})),_=h?t:`${r}${t}`,y=()=>{!o&&this.handleTagClose(r)};return De(a)?g.createElement("div",{className:b,key:_},h&&s?g.createElement(v,null):null,a(t,r,y)):g.createElement(Xr,{className:f,color:"white",size:i==="small"?"small":"large",type:"light",onClose:y,closable:!o,key:_,visible:!0,"aria-label":`${o?"":"Closable "}Tag: ${t}`},h&&s?g.createElement(v,null):null,g.createElement(Rv,{className:m,ellipsis:{showTooltip:l,rows:1}},t))},this.renderSortTag=t=>{const{id:r,sortableHandle:s}=t,{tagsArray:i}=this.state,o=i.indexOf(r);return this.renderTag(r,o,s)},this.onSortEnd=t=>{this.foundation.handleSortEnd(t)},this.handleInputCompositionStart=t=>{this.foundation.handleInputCompositionStart(t)},this.handleInputCompositionEnd=t=>{this.foundation.handleInputCompositionEnd(t)},this.foundation=new Jle(this.adapter),this.state={tagsArray:e.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=g.createRef(),this.tagInputRef=g.createRef(),this.clickOutsideHandler=null}static getDerivedStateFromProps(e,t){const{value:r,inputValue:s}=e,{tagsArray:i}=t;let o;return DC(r)?o=r:"value"in e&&!r?o=[]:o=i,{tagsArray:o,inputValue:Re(s)?s:t.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:e=>{this.setState({inputValue:e})},setTagsArray:e=>{this.setState({tagsArray:e})},setFocusing:e=>{this.setState({focusing:e})},toggleFocusing:e=>{const{preventScroll:t}=this.props,r=this.inputRef&&this.inputRef.current;e?r&&r.focus({preventScroll:t}):r&&r.blur(),this.setState({focusing:e})},setHovering:e=>{this.setState({hovering:e})},setActive:e=>{this.setState({active:e})},setEntering:e=>{this.setState({entering:e})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:e=>{this.props.onBlur(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyInputChange:(e,t)=>{this.props.onInputChange(e,t)},notifyTagChange:e=>{this.props.onChange(e)},notifyTagAdd:e=>{this.props.onAdd(e)},notifyTagRemove:(e,t)=>{this.props.onRemove(e,t)},notifyKeyDown:e=>{this.props.onKeyDown(e)},registerClickOutsideHandler:e=>{const t=r=>{const s=this.tagInputRef&&this.tagInputRef.current,i=r.target,o=r.composedPath&&r.composedPath()||[i];s&&!s.contains(i)&&!o.includes(s)&&e(r)};this.clickOutsideHandler=t,document.addEventListener("click",t,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:r}=this.props;!e&&t&&(this.inputRef.current.focus({preventScroll:r}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){const{hovering:e,tagsArray:t,inputValue:r}=this.state,{showClear:s,disabled:i,clearIcon:o}=this.props,a=$(`${Ke}-clearBtn`,{[`${Ke}-clearBtn-invisible`]:!e||r===""&&t.length===0||i});return s?g.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:a,onClick:l=>this.handleClearBtn(l),onKeyPress:l=>this.handleClearEnterPress(l)},o||g.createElement(Za,null)):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t;if(Kl(s)||wt(s))return null;const i=$(`${Ke}-prefix`,{[`${Ke}-inset-label`]:t,[`${Ke}-prefix-text`]:s&&Re(s),[`${Ke}-prefix-icon`]:_r(s)});return g.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix"},s)}renderSuffix(){const{suffix:e}=this.props;if(Kl(e)||wt(e))return null;const t=$(`${Ke}-suffix`,{[`${Ke}-suffix-text`]:e&&Re(e),[`${Ke}-suffix-icon`]:_r(e)});return g.createElement("div",{className:t,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},e)}renderTags(){const{disabled:e,maxTagCount:t,showRestTagsPopover:r,restTagsPopoverProps:s={},draggable:i,expandRestTagsOnClick:o}=this.props,{tagsArray:a,active:l}=this.state,u=$(`${Ke}-wrapper-n`,{[`${Ke}-wrapper-n-disabled`]:e}),d=this.getAllTags();let h=[],f=[...d];(!l||!o)&&t&&t<d.length&&(f=d.slice(0,t),h=d.slice(t));const m=g.createElement("span",{className:u},"+",a.length-t),b=d.map((v,_)=>({item:v,key:a[_]}));return l&&i&&b.length>0?g.createElement(Yce,{items:a,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:Qce,prefix:Ke,transition:null,dragOverlayCls:`${Ke}-right-item-drag-item-move`}):g.createElement(g.Fragment,null,f,h.length>0&&(r?g.createElement(Sr,Object.assign({content:h,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},s),m):m))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){const{preventScroll:e,disabled:t}=this.props;this.inputRef.current.focus({preventScroll:e}),t||this.foundation.handleClick()}render(){const e=this.props,{size:t,style:r,className:s,disabled:i,placeholder:o,validateStatus:a,prefix:l,insetLabel:u,suffix:d}=e,h=Xce(e,["size","style","className","disabled","placeholder","validateStatus","prefix","insetLabel","suffix"]),{focusing:f,hovering:m,tagsArray:b,inputValue:v,active:_}=this.state,y=$(Ke,s,{[`${Ke}-focus`]:f||_,[`${Ke}-disabled`]:i,[`${Ke}-hover`]:m&&!i,[`${Ke}-error`]:a==="error",[`${Ke}-warning`]:a==="warning",[`${Ke}-small`]:t==="small",[`${Ke}-large`]:t==="large",[`${Ke}-with-prefix`]:!!l||!!u,[`${Ke}-with-suffix`]:!!d}),w=$(`${Ke}-wrapper-input`,`${Ke}-wrapper-input-${t}`),E=$(`${Ke}-wrapper`);return g.createElement("div",Object.assign({ref:this.tagInputRef,style:r,className:y,"aria-disabled":i,"aria-label":this.props["aria-label"],"aria-invalid":a==="error",onMouseEnter:S=>{this.handleInputMouseEnter(S)},onMouseLeave:S=>{this.handleInputMouseLeave(S)},onClick:S=>{this.handleClick(S)}},this.getDataAttr(h)),this.renderPrefix(),g.createElement("div",{className:E},this.renderTags(),g.createElement(Kn,{"aria-label":"input value",ref:this.inputRef,className:w,disabled:i,value:v,size:t,placeholder:b.length===0?o:"",onKeyDown:S=>{this.handleKeyDown(S)},onChange:(S,I)=>{this.handleInputChange(I)},onBlur:S=>{this.handleInputBlur(S)},onFocus:S=>{this.handleInputFocus(S)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}}cp.propTypes={children:c.node,clearIcon:c.node,style:c.object,className:c.string,disabled:c.bool,allowDuplicates:c.bool,max:c.number,maxTagCount:c.number,maxLength:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,showContentTooltip:c.oneOfType([c.shape({type:c.string,opts:c.object}),c.bool]),defaultValue:c.array,value:c.array,inputValue:c.string,placeholder:c.string,separator:c.oneOfType([c.string,c.array]),showClear:c.bool,addOnBlur:c.bool,draggable:c.bool,expandRestTagsOnClick:c.bool,autoFocus:c.bool,renderTagItem:c.func,onBlur:c.func,onFocus:c.func,onChange:c.func,onInputChange:c.func,onExceed:c.func,onInputExceed:c.func,onAdd:c.func,onRemove:c.func,onKeyDown:c.func,size:c.oneOf(Yx.SIZE_SET),validateStatus:c.oneOf(Yx.STATUS),prefix:c.oneOfType([c.string,c.node]),suffix:c.oneOfType([c.string,c.node]),"aria-label":c.string,preventScroll:c.bool};cp.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:F,onFocus:F,onChange:F,onInputChange:F,onExceed:F,onInputExceed:F,onAdd:F,onRemove:F,onKeyDown:F};const Me=TF.PREFIX,Zce=0;class Mc extends xe{constructor(e){super(e),this.search=t=>{this.handleInputChange(t)},this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleTagRemoveInTrigger=t=>{this.foundation.handleTagRemoveInTrigger(t)},this.handleTagClose=(t,r,s)=>{r.preventDefault(),this.foundation.handleTagRemoveByKey(s)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:o,disabled:a,displayProp:l,displayRender:u,disableStrictly:d}=this.props;if(s[t]){const h=a||s[t].data.disabled||d&&i.has(t),f=$(`${Me}-selection-tag`,{[`${Me}-selection-tag-disabled`]:h});return De(u)?u(s[t],r):g.createElement(Xr,{size:o==="default"?"large":o,key:`tag-${t}-${r}`,color:"white",tagKey:t,className:f,closable:!0,onClose:this.handleTagClose},s[t].data[l])}return null},this.onRemoveInTagInput=t=>{this.foundation.handleTagRemoveByKey(t)},this.handleItemClick=(t,r)=>{this.foundation.handleItemClick(t,r)},this.handleItemHover=(t,r)=>{this.foundation.handleItemHover(t,r)},this.onItemCheckboxClick=t=>{this.foundation.onItemCheckboxClick(t)},this.handleListScroll=(t,r)=>{this.foundation.handleListScroll(t,r)},this.renderContent=()=>{const{inputValue:t,isSearching:r,activeKeys:s,selectedKeys:i,checkedKeys:o,halfCheckedKeys:a,loadedKeys:l,loadingKeys:u}=this.state,{filterTreeNode:d,dropdownClassName:h,dropdownStyle:f,loadData:m,emptyContent:b,separator:v,topSlot:_,bottomSlot:y,showNext:w,multiple:E,filterRender:S,virtualizeInSearch:I,expandIcon:x}=this.props,O=!!d&&r,T=$(h,`${Me}-popover`),P=this.foundation.getRenderData();return g.createElement("div",{className:T,role:"listbox",style:f,onKeyDown:this.foundation.handleKeyDown},_,g.createElement(Mv,{activeKeys:s,selectedKeys:i,separator:v,loadedKeys:l,loadingKeys:u,onItemClick:this.handleItemClick,onItemHover:this.handleItemHover,showNext:w,onItemCheckboxClick:this.onItemCheckboxClick,onListScroll:this.handleListScroll,searchable:O,keyword:t,emptyContent:b,loadData:m,data:P,multiple:E,checkedKeys:o,halfCheckedKeys:a,filterRender:S,virtualize:I,expandIcon:x}),y)},this.renderPlusN=t=>{const{disabled:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props,o=$(`${Me}-selection-n`,{[`${Me}-selection-n-disabled`]:r}),a=g.createElement("span",{className:o},"+",t.length);return s?g.createElement(Sr,Object.assign({content:t,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},i),a):a},this.renderMultipleTags=()=>{const{autoMergeValue:t,maxTagCount:r,checkRelation:s}=this.props,{checkedKeys:i,resolvedCheckedKeys:o}=this.state,a=this.mergeType===qt.NONE_MERGE_TYPE||s===qt.UN_RELATED?i:o,l=[],u=[];return[...a].forEach((d,h)=>{const f=!Zt(r)||r>=h+1,m=this.renderTagItem(d,h);f?l.push(m):u.push(m)}),g.createElement(g.Fragment,null,l,!It(u)&&this.renderPlusN(u))},this.renderDisplayText=()=>{const{displayProp:t,separator:r,displayRender:s}=this.props,{selectedKeys:i}=this.state;let o="";if(i.size){const a=this.foundation.getItemPropPath([...i][0],t);s&&typeof s=="function"?o=s(a):o=a.map((l,u)=>g.createElement(D.Fragment,{key:`${l}-${u}`},u<a.length-1?g.createElement(g.Fragment,null,l,r):l))}return o},this.renderSelectContent=()=>{const{placeholder:t,filterTreeNode:r,multiple:s,searchPosition:i}=this.props,{checkedKeys:o}=this.state;if(!(!!r&&i===qt.SEARCH_POSITION_TRIGGER)){if(s)return o.size===0?g.createElement("span",{className:`${Me}-selection-placeholder`},t):this.renderMultipleTags();{const u=this.renderDisplayText(),d=$({[`${Me}-selection-placeholder`]:!u});return g.createElement("span",{className:d},u||t)}}return s?this.renderTagInput():this.renderInput()},this.renderSuffix=()=>{const{suffix:t}=this.props,r=$({[`${Me}-suffix`]:!0,[`${Me}-suffix-text`]:t&&Re(t),[`${Me}-suffix-icon`]:_r(t)});return g.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,o=$({[`${Me}-prefix`]:!0,[`${Me}-inset-label`]:r,[`${Me}-prefix-text`]:i&&Re(i),[`${Me}-prefix-icon`]:_r(i)});return g.createElement("div",{className:o,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderCustomTrigger=()=>{var t;const{disabled:r,triggerRender:s,multiple:i}=this.props,{selectedKeys:o,inputValue:a,inputPlaceHolder:l,resolvedCheckedKeys:u,checkedKeys:d,keyEntities:h}=this.state;let f;return i?this.mergeType===qt.NONE_MERGE_TYPE?(f=new Set,d.forEach(m=>{var b;f.add((b=h[m])===null||b===void 0?void 0:b.pos)})):(f=new Set,u.forEach(m=>{var b;f.add((b=h[m])===null||b===void 0?void 0:b.pos)})):f=(t=h[[...o][0]])===null||t===void 0?void 0:t.pos,g.createElement(pu,{value:f,inputValue:a,onChange:this.handleInputChange,onClear:this.handleClear,placeholder:l,disabled:r,triggerRender:s,componentName:"Cascader",componentProps:Object.assign({},this.props),onSearch:this.handleInputChange,onRemove:this.handleTagRemoveInTrigger})},this.handleMouseOver=()=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=()=>{this.foundation.toggleHoverState(!1)},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear()},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.showClearBtn=()=>{const{showClear:t,disabled:r,multiple:s}=this.props,{selectedKeys:i,isOpen:o,isHovering:a,checkedKeys:l,inputValue:u}=this.state,d=i.size,h=s&&l.size;return t&&(u||d||h)&&!r&&(o||a)},this.renderClearBtn=()=>{const t=$(`${Me}-clearbtn`),{clearIcon:r}=this.props;return this.showClearBtn()?g.createElement("div",{className:t,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress,role:"button",tabIndex:0},r||g.createElement(Za,null)):null},this.renderArrow=()=>{const{arrowIcon:t}=this.props;return this.showClearBtn()?null:t?g.createElement("div",{className:$(`${Me}-arrow`),"x-semi-prop":"arrowIcon"},t):null},this.renderSelection=()=>{const{disabled:t,multiple:r,filterTreeNode:s,style:i,size:o,className:a,validateStatus:l,prefix:u,suffix:d,insetLabel:h,triggerRender:f,showClear:m,id:b,borderless:v}=this.props,{isOpen:_,isFocus:y,isInput:w,checkedKeys:E}=this.state,S=!!s,I=typeof f=="function",x=I?$(a):$(Me,a,{[`${Me}-borderless`]:v,[`${Me}-focus`]:y||_&&!w,[`${Me}-disabled`]:t,[`${Me}-single`]:!0,[`${Me}-filterable`]:S,[`${Me}-error`]:l==="error",[`${Me}-warning`]:l==="warning",[`${Me}-small`]:o==="small",[`${Me}-large`]:o==="large",[`${Me}-with-prefix`]:u||h,[`${Me}-with-suffix`]:d}),O=m?{onMouseEnter:()=>this.handleMouseOver(),onMouseLeave:()=>this.handleMouseLeave()}:{},T=$(`${Me}-selection`,{[`${Me}-selection-multiple`]:r&&!It(E)}),P=I?this.renderCustomTrigger():[g.createElement(D.Fragment,{key:"prefix"},u||h?this.renderPrefix():null),g.createElement(D.Fragment,{key:"selection"},g.createElement("div",{className:T},this.renderSelectContent())),g.createElement(D.Fragment,{key:"suffix"},d?this.renderSuffix():null),g.createElement(D.Fragment,{key:"clearbtn"},this.renderClearBtn()),g.createElement(D.Fragment,{key:"arrow"},this.renderArrow())];return g.createElement("div",Object.assign({className:x,style:i,ref:this.triggerRef,onClick:A=>this.foundation.handleClick(A),onKeyPress:A=>this.foundation.handleSelectionEnterPress(A),"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],id:b,onKeyDown:this.foundation.handleKeyDown},O,{role:"combobox",tabIndex:0},this.getDataAttr(this.props)),P)},this.state={disabledKeys:new Set,isOpen:e.defaultOpen,rePosKey:Zce,keyEntities:{},selectedKeys:new Set([]),activeKeys:new Set([]),filteredKeys:new Set([]),inputValue:"",isSearching:!1,inputPlaceHolder:e.searchPlaceholder||e.placeholder,prevProps:{},isHovering:!1,checkedKeys:new Set([]),halfCheckedKeys:new Set([]),resolvedCheckedKeys:new Set([]),loadedKeys:new Set,loadingKeys:new Set,loading:!1,showInput:!1},this.options={},this.isEmpty=!1,this.mergeType=Bw(e.autoMergeValue,e.leafOnly),this.inputRef=g.createRef(),this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.clickOutsideHandler=null,this.foundation=new Ale(this.adapter),this.loadingKeysRef=g.createRef(),this.loadedKeysRef=g.createRef()}get adapter(){var e=this;const t={updateInputValue:s=>{this.setState({inputValue:s})},updateInputPlaceHolder:s=>{this.setState({inputPlaceHolder:s})},focusInput:()=>{const{preventScroll:s}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:s})},blurInput:()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.blur()}},r={registerClickOutsideHandler:s=>{const i=o=>{const a=this.optionsRef&&this.optionsRef.current,l=this.triggerRef&&this.triggerRef.current,u=Ar.findDOMNode(a),d=o.target,h=o.composedPath&&o.composedPath()||[d];u&&(!u.contains(d)||!u.contains(d.parentNode))&&l&&!l.contains(d)&&!(h.includes(l)||h.includes(u))&&s(o)};this.clickOutsideHandler=i,document.addEventListener("mousedown",i,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1)},rePositionDropdown:()=>{let{rePosKey:s}=this.state;s=s+1,this.setState({rePosKey:s})}};return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),{updateStates:s=>{this.setState(Object.assign({},s))},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:s=>{this.setState({isOpen:!1},()=>{s&&s()})},updateSelection:s=>this.setState({selectedKeys:s}),notifyChange:s=>{this.props.onChange&&this.props.onChange(s)},notifySelect:s=>{this.props.onSelect&&this.props.onSelect(s)},notifyOnSearch:s=>{this.props.onSearch&&this.props.onSearch(s)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},notifyDropdownVisibleChange:s=>{this.props.onDropdownVisibleChange(s)},toggleHovering:s=>{this.setState({isHovering:s})},notifyLoadData:(s,i)=>{const{loadData:o}=this.props;o&&new Promise(a=>{o(s).then(()=>{setTimeout(()=>{i(),this.setState({loading:!1}),a()})})})},notifyOnLoad:(s,i)=>{const{onLoad:o}=this.props;o&&o(s,i)},notifyListScroll:(s,i)=>{let{panelIndex:o,activeNode:a}=i;this.props.onListScroll(s,{panelIndex:o,activeNode:a})},notifyOnExceed:s=>this.props.onExceed(s),notifyClear:()=>this.props.onClear(),toggleInputShow:(s,i)=>{this.setState({showInput:s},()=>{i()})},updateFocusState:s=>{this.setState({isFocus:s})},updateLoadingKeyRefValue:s=>{this.loadingKeysRef.current=s},getLoadingKeyRefValue:()=>this.loadingKeysRef.current,updateLoadedKeyRefValue:s=>{this.loadedKeysRef.current=s},getLoadedKeyRefValue:()=>this.loadedKeysRef.current})}static getDerivedStateFromProps(e,t){const{multiple:r,value:s,defaultValue:i,onChangeWithObject:o,leafOnly:a,autoMergeValue:l,checkRelation:u}=e,{prevProps:d}=t;let h=t.keyEntities||{};const f={},m=_=>{const y=It(d)&&_ in e,w=d&&!Fe(d[_],e[_]);return y||w},b=()=>{const _=!d&&"treeData"in e,y=d&&d.treeData!==e.treeData;return _||y},v=(_,y)=>{let w=[];Array.isArray(_)?w=Array.isArray(_[0])?_:[_]:_!==void 0&&(w=[[_]]);const E=[];return w.forEach(I=>{const x=o&&ko(I[0])?I.map(O=>O==null?void 0:O.value):I;x.length>0&&E.push(x)}),E.reduce((I,x)=>{const O=dy(x);return y[O]&&I.push(O),I},[])};if(r){const _=m("treeData")||b(),y=m("value")||It(d)&&i;if(_||y){_&&(f.treeData=e.treeData,h=IF(e.treeData),f.keyEntities=h);let w=t.checkedKeys;if(y){const E=m("value")?s:i;w=v(E,h)}else _&&"value"in e&&(w=v(s,h));if(JM(w)&&(w=[...w]),u===qt.RELATED){const E=sp(w,h),S=new Set(E.checkedKeys),I=new Set(E.halfCheckedKeys);e.disableStrictly&&(f.disabledKeys=CF(h));const x=Bw(l,a)===qt.LEAF_ONLY_MERGE_TYPE;f.checkedKeys=S,f.halfCheckedKeys=I,f.resolvedCheckedKeys=new Set(ii(S,h,x))}else f.checkedKeys=new Set(w);f.prevProps=e}}return f}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e){if(this.props.multiple)return;let t=!1;Fe(e.treeData,this.props.treeData)||(t=!0,this.foundation.collectOptions()),e.value!==this.props.value&&!t&&this.foundation.handleValueChange(this.props.value)}renderTagInput(){const{size:e,disabled:t,placeholder:r,maxTagCount:s,showRestTagsPopover:i,restTagsPopoverProps:o,checkRelation:a}=this.props,{inputValue:l,checkedKeys:u,keyEntities:d,resolvedCheckedKeys:h}=this.state,f=$(`${Me}-tagInput-wrapper`),m=this.mergeType===qt.NONE_MERGE_TYPE||a===qt.UN_RELATED?u:h;return g.createElement(cp,{className:f,ref:this.inputRef,disabled:t,size:e,value:[...m],showRestTagsPopover:i,restTagsPopoverProps:o,maxTagCount:s,renderTagItem:this.renderTagItem,inputValue:l,onInputChange:this.handleInputChange,onRemove:this.onRemoveInTagInput,placeholder:r,expandRestTagsOnClick:!1})}renderInput(){const{size:e,disabled:t}=this.props,r=$(`${Me}-input`),{inputValue:s,inputPlaceHolder:i,showInput:o}=this.state,a={disabled:t,value:s,className:r,onChange:this.handleInputChange},l=$({[`${Me}-search-wrapper`]:!0,[`${Me}-search-wrapper-${e}`]:e!=="default"}),u=this.renderDisplayText(),d=$({[`${Me}-selection-placeholder`]:!u,[`${Me}-selection-text-hide`]:o&&s,[`${Me}-selection-text-inactive`]:o&&!s});return g.createElement("div",{className:l},g.createElement("span",{className:d},u||i),o&&g.createElement(Kn,Object.assign({ref:this.inputRef,size:e},a)))}close(){this.foundation.close()}open(){this.foundation.open()}focus(){this.foundation.focus()}blur(){this.foundation.blur()}render(){const{zIndex:e,getPopupContainer:t,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:o,position:a,motion:l,dropdownMargin:u}=this.props,{isOpen:d,rePosKey:h}=this.state,{direction:f}=this.context,m=this.renderContent(),b=this.renderSelection(),v=a??(f==="rtl"?"bottomRight":"bottomLeft");return g.createElement(Sr,{getPopupContainer:t,zIndex:e,motion:l,margin:u,ref:this.optionsRef,content:m,visible:d,trigger:"custom",rePosKey:h,position:v,autoAdjustOverflow:r,stopPropagation:s,mouseLeaveDelay:i,mouseEnterDelay:o,afterClose:()=>this.foundation.updateSearching(!1)},b)}}Mc.__SemiComponentName__="Cascader";Mc.contextType=Lr;Mc.propTypes={"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,"aria-label":c.string,arrowIcon:c.node,borderless:c.bool,clearIcon:c.node,changeOnSelect:c.bool,defaultValue:c.oneOfType([c.string,c.array]),disabled:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),emptyContent:c.node,motion:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),filterLeafOnly:c.bool,placeholder:c.string,searchPlaceholder:c.string,size:c.oneOf(qt.SIZE_SET),style:c.object,className:c.string,treeData:c.arrayOf(c.shape({value:c.oneOfType([c.string,c.number]),label:c.any})),treeNodeFilterProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,id:c.string,displayProp:c.string,displayRender:c.func,onChange:c.func,onSearch:c.func,onSelect:c.func,onBlur:c.func,onFocus:c.func,children:c.node,getPopupContainer:c.func,zIndex:c.number,value:c.oneOfType([c.string,c.number,c.array]),validateStatus:c.oneOf(qt.VALIDATE_STATUS),showNext:c.oneOf([qt.SHOW_NEXT_BY_CLICK,qt.SHOW_NEXT_BY_HOVER]),stopPropagation:c.oneOfType([c.bool,c.string]),showClear:c.bool,defaultOpen:c.bool,autoAdjustOverflow:c.bool,onDropdownVisibleChange:c.func,triggerRender:c.func,onListScroll:c.func,onChangeWithObject:c.bool,bottomSlot:c.node,topSlot:c.node,multiple:c.bool,autoMergeValue:c.bool,maxTagCount:c.number,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,max:c.number,separator:c.string,onExceed:c.func,onClear:c.func,loadData:c.func,onLoad:c.func,loadedKeys:c.array,disableStrictly:c.bool,leafOnly:c.bool,enableLeafClick:c.bool,preventScroll:c.bool,position:c.string,searchPosition:c.string};Mc.defaultProps=bs(Mc.__SemiComponentName__,{borderless:!1,leafOnly:!1,arrowIcon:g.createElement(Ov,null),stopPropagation:!0,motion:!0,defaultOpen:!1,zIndex:gs.DEFAULT_Z_INDEX,showClear:!1,autoClearSearchValue:!0,changeOnSelect:!1,disableStrictly:!1,autoMergeValue:!0,multiple:!1,filterTreeNode:!1,filterLeafOnly:!0,showRestTagsPopover:!1,restTagsPopoverProps:{},separator:" / ",size:"default",treeNodeFilterProp:"label",displayProp:"label",treeData:[],showNext:qt.SHOW_NEXT_BY_CLICK,onExceed:F,onClear:F,onDropdownVisibleChange:F,onListScroll:F,enableLeafClick:!1,"aria-label":"Cascader",searchPosition:qt.SEARCH_POSITION_TRIGGER,checkRelation:qt.RELATED});class Jce extends ke{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=t=>{this._adapter.setDOMInRenderTree(t)},this.updateDOMHeight=t=>{this._adapter.setDOMHeight(t)},this.updateVisible=t=>{this._adapter.setVisible(t)},this.updateIsTransitioning=t=>{this._adapter.setIsTransitioning(t)}}}const uR={PREFIX:`${W}-collapsible`};class Ba extends xe{constructor(e){super(e),this.domRef=g.createRef(),this.hasBeenRendered=!1,this.handleResize=t=>{const r=t[0];if(r){const s=Ba.getEntryInfo(r);this.foundation.updateDOMHeight(s.height),this.foundation.updateDOMInRenderTree(s.isShown)}},this.isChildrenInRenderTree=()=>this.domRef.current?this.domRef.current.offsetHeight>0:!1,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new Jce(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);const e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(e,t,r){const s=Object.keys(Wl(this.props,["reCalcKey","isOpen"])).filter(o=>!Fe(this.props[o],e[o])),i=Object.keys(Wl(this.state,["domInRenderTree"])).filter(o=>!Fe(this.state[o],t[o]));s.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),i.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),s.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&e.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){const e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||this.props.collapseHeight!==0?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),t=$(`${uR.PREFIX}-wrapper`,{[`${uR.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),r=this.props.keepDOM&&(this.props.lazyRender?this.hasBeenRendered:!0)||this.props.collapseHeight!==0||this.state.visible||this.props.isOpen;return r&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),g.createElement("div",Object.assign({className:t,style:e,onTransitionEnd:()=>{var s,i;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),(i=(s=this.props).onMotionEnd)===null||i===void 0||i.call(s)}},this.getDataAttr(this.props)),g.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},r&&this.props.children))}}Ba.__SemiComponentName__="Collapsible";Ba.defaultProps=bs(Ba.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1});Ba.getEntryInfo=n=>{let e;n.borderBoxSize?e=!(n.borderBoxSize[0].blockSize===0&&n.borderBoxSize[0].inlineSize===0):e=!(n.contentRect.height===0&&n.contentRect.width===0);let t=0;return n.borderBoxSize?t=Math.ceil(n.borderBoxSize[0].blockSize):t=n.target.clientHeight,{isShown:e,height:t}};Ba.propTypes={motion:c.bool,children:c.node,isOpen:c.bool,duration:c.number,keepDOM:c.bool,collapseHeight:c.number,style:c.object,className:c.string,reCalcKey:c.oneOfType([c.string,c.number])};var ede=s$;function tde(n,e){return n==null?!0:ede(n,e)}var nde=tde;const Yw=Ce(nde);var rde=sd,sde=VC,ide=sr,ode=ed,ade=hM,lde=du,ude=vv;function cde(n){return ide(n)?rde(n,lde):ode(n)?[n]:sde(ade(ude(n)))}var dde=cde;const pf=Ce(dde),cR=n=>{const e=pf(n);return Zt(n)&&e.length===1?!1:Number.isInteger(+e[e.length-1])};function hde(n){if(ko(n)){const e=pF(n);return e.length?e.every(t=>typeof t>"u"):!0}else return!1}function RT(n,e){if(e.length===0)return;const t=Q(n,e);(Array.isArray(t)&&t.every(r=>r==null)||hde(t))&&Yw(n,e),RT(n,e.slice(0,e.length-1))}function fde(n){return pF(n).length===0}function Ir(n,e){return Q(n,e)}function Jg(n,e){Yw(n,e);let t=pf(e);t=t.slice(0,t.length-1),RT(n,t)}function jb(n,e,t,r){if(r||t!==void 0)return pc(n,e,t);if(cR(e)&&Ir(n,e)!==void 0){pc(n,e,void 0);let s=pf(e);s=s.slice(0,s.length-1),RT(n,s)}else!cR(e)&&Ir(n,e)!==void 0&&Jg(n,e)}function u2(n,e){return n&&(typeof n=="function"||typeof n=="object")&&e&&(typeof e=="function"||typeof e=="object")&&Object.entries(e).forEach(t=>{let[r,s]=t;n[r]=s}),n}const pde={DAY_TODAY:`${W}-datepicker-day-today`,DAY_IN_RANGE:`${W}-datepicker-day-inrange`,DAY_HOVER:`${W}-datepicker-day-inhover`,DAY_SELECTED:`${W}-datepicker-day-selected`,DAY_SELECTED_START:`${W}-datepicker-day-selected-start`,DAY_SELECTED_END:`${W}-datepicker-day-selected-end`,DAY_DISABLED:`${W}-datepicker-day-disabled`,DAY_HOVER_DAY:`${W}-datepicker-day-hoverday`,DAY_HOVER_DAY_OFFSET:`${W}-datepicker-day-hoverday-offset`,DAY_IN_OFFSET_RANGE:`${W}-datepicker-day-inoffsetrange`,DAY_SELECTED_RANGE_HOVER:`${W}-datepicker-day-selectedrange-hover`,DAY_OFFSET_RANGE_START:`${W}-datepicker-day-offsetrange-start`,DAY_OFFSET_RANGE_END:`${W}-datepicker-day-offsetrange-end`,DAY_SELECTED_START_AFTER_HOVER:`${W}-datepicker-day-selected-start-afterhover`,DAY_SELECTED_END_BEFORE_HOVER:`${W}-datepicker-day-selected-end-beforehover`,DAY_HOVER_DAY_BEFORE_RANGE:`${W}-datepicker-day-hoverday-beforerange`,DAY_HOVER_DAY_AFTER_RANGE:`${W}-datepicker-day-hoverday-afterrange`,DAY_HOVER_DAY_IN_RANGE:`${W}-datepicker-day-hoverday-inrange`,DAY_HOVER_DAY_AROUND_SINGLE_SELECTED:`${W}-datepicker-day-hoverday-around-singleselected`},we=Object.assign({PREFIX:`${W}-datepicker`,NAVIGATION:`${W}-datepicker-navigation`,PANEL_YAM:`${W}-datepicker-panel-yam`,MONTH:`${W}-datepicker-month`,WEEKDAY:`${W}-datepicker-weekday`,WEEKS:`${W}-datepicker-weeks`,WEEK:`${W}-datepicker-week`,DAY:`${W}-datepicker-day`},pde),gde={FORMAT_FULL_DATE:"yyyy-MM-dd",FORMAT_TIME_PICKER:"HH:mm:ss",FORMAT_DATE_TIME:"yyyy-MM-dd HH:mm:ss",FORMAT_YEAR_MONTH:"yyyy-MM"},X=Object.assign({DEFAULT_SEPARATOR_MULTIPLE:",",DEFAULT_SEPARATOR_RANGE:" ~ ",SIZE_SET:["small","default","large"],TYPE_SET:["date","dateRange","year","month","monthRange","dateTime","dateTimeRange"],PRESET_POSITION_SET:["left","right","top","bottom"],DENSITY_SET:["default","compact"],PANEL_TYPE_LEFT:"left",PANEL_TYPE_RIGHT:"right",STATUS:od,POSITION_SET:Dl.POSITION_SET,POSITION_INLINE_INPUT:"leftTopOver"},gde),$c={WEEK_START_ON:0,WEEK_HEIGHT:36,SPACING:gs.SPACING,SPACING_INSET_INPUT:1};var mde=bi,yde=Qr,vde="[object Date]";function _de(n){return yde(n)&&mde(n)==vde}var bde=_de,wde=bde,Ede=ld,dR=qf,hR=dR&&dR.isDate,Sde=hR?Ede(hR):wde,Cde=Sde;const fR=Ce(Cde);function Co(n){return typeof n=="string"}function pR(n,e){const t=Co(n)?Hs(n):n,r=Co(e)?Hs(e):e;return tne(t,r)}function rc(n,e){const t=Co(n)?Hs(n):n,r=Co(e)?Hs(e):e;return R$(t,r)}function Ru(n,e){let{start:t,end:r}=e;const s=Co(n)?Hs(n):n,i=Co(t)?Hs(t):t,o=Co(r)?Hs(r):r;return R$(i,o)&&Jne(s,{start:i,end:o})&&!ry(s,i)&&!ry(s,o)}function ta(n,e){const t=Co(n)?Hs(n):n,r=Co(e)?Hs(e):e;return sT(t,r)}function zs(n){return n&&Object.prototype.toString.call(n)==="[object Date]"&&!isNaN(n)}function Tde(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function qw(n){return Tde(n)&&zs(new Date(n))}const c2={date:X.FORMAT_FULL_DATE,dateTime:X.FORMAT_DATE_TIME,dateRange:X.FORMAT_FULL_DATE,dateTimeRange:X.FORMAT_DATE_TIME,month:X.FORMAT_YEAR_MONTH,monthRange:X.FORMAT_YEAR_MONTH},Ode=n=>c2;function wa(n){return n&&c2[n]}const Ide=(n,e)=>{const t=new Date().getFullYear();let r=typeof n=="number"?n:t-100,s=typeof e=="number"?e:t+100;return s<r&&([r,s]=[s,r]),Array.from({length:s-r+1},(i,o)=>r+o)},bg=(n,e)=>{if(!e)return"";const t=new Date(e),r=De(n)?n(t):t;return at(new Date(r),X.FORMAT_FULL_DATE)};function gR(n,e){const t=new Date().getFullYear(),r=new Date().getMonth(),s=e.right||r+2,i=n.right||(s<=12?t:t+1);return{year:{left:n.left||t,right:i},month:{left:e.left||r+1,right:s<=12?s:1}}}var Xw={exports:{}},Qw={exports:{}},d2={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(d2);var dn=d2.exports,Zw={exports:{}},Jw={exports:{}},h2={exports:{}};(function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(h2);var f2=h2.exports,eE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(s.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+s.length+" present")}n.exports=e.default})(eE,eE.exports);var $r=eE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(f2),s=t($r);function i(o){return(0,s.default)(1,arguments),o instanceof Date||(0,r.default)(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"}n.exports=e.default})(Jw,Jw.exports);var Pde=Jw.exports,tE={exports:{}};(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(f2),s=t($r);function i(o){(0,s.default)(1,arguments);var a=Object.prototype.toString.call(o);return o instanceof Date||(0,r.default)(o)==="object"&&a==="[object Date]"?new Date(o.getTime()):typeof o=="number"||a==="[object Number]"?new Date(o):((typeof o=="string"||a==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}n.exports=e.default})(tE,tE.exports);var ro=tE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(Pde),s=t(ro),i=t($r);function o(a){if((0,i.default)(1,arguments),!(0,r.default)(a)&&typeof a!="number")return!1;var l=(0,s.default)(a);return!isNaN(Number(l))}n.exports=e.default})(Zw,Zw.exports);var xde=Zw.exports,nE={exports:{}},rE={exports:{}},sE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}n.exports=e.default})(sE,sE.exports);var gu=sE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(gu),s=t(ro),i=t($r);function o(a,l){(0,i.default)(2,arguments);var u=(0,s.default)(a).getTime(),d=(0,r.default)(l);return new Date(u+d)}n.exports=e.default})(rE,rE.exports);var Rde=rE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(Rde),s=t($r),i=t(gu);function o(a,l){(0,s.default)(2,arguments);var u=(0,i.default)(l);return(0,r.default)(a,-u)}n.exports=e.default})(nE,nE.exports);var Ade=nE.exports,iE={exports:{}},oE={exports:{}};(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(ro),s=t($r),i=864e5;function o(a){(0,s.default)(1,arguments);var l=(0,r.default)(a),u=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var d=l.getTime(),h=u-d;return Math.floor(h/i)+1}n.exports=e.default})(oE,oE.exports);var Dde=oE.exports,aE={exports:{}},lE={exports:{}};(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=t(ro),s=t($r);function i(o){(0,s.default)(1,arguments);var a=1,l=(0,r.default)(o),u=l.getUTCDay(),d=(u<a?7:0)+u-a;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}n.exports=e.default})(lE,lE.exports);var AT=lE.exports,uE={exports:{}},cE={exports:{}};(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(ro),s=t($r),i=t(AT);function o(a){(0,s.default)(1,arguments);var l=(0,r.default)(a),u=l.getUTCFullYear(),d=new Date(0);d.setUTCFullYear(u+1,0,4),d.setUTCHours(0,0,0,0);var h=(0,i.default)(d),f=new Date(0);f.setUTCFullYear(u,0,4),f.setUTCHours(0,0,0,0);var m=(0,i.default)(f);return l.getTime()>=h.getTime()?u+1:l.getTime()>=m.getTime()?u:u-1}n.exports=e.default})(cE,cE.exports);var p2=cE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(p2),s=t(AT),i=t($r);function o(a){(0,i.default)(1,arguments);var l=(0,r.default)(a),u=new Date(0);u.setUTCFullYear(l,0,4),u.setUTCHours(0,0,0,0);var d=(0,s.default)(u);return d}n.exports=e.default})(uE,uE.exports);var kde=uE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(ro),s=t(AT),i=t(kde),o=t($r),a=6048e5;function l(u){(0,o.default)(1,arguments);var d=(0,r.default)(u),h=(0,s.default)(d).getTime()-(0,i.default)(d).getTime();return Math.round(h/a)+1}n.exports=e.default})(aE,aE.exports);var Nde=aE.exports,dE={exports:{}},hE={exports:{}},mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.getDefaultOptions=Lde;mu.setDefaultOptions=Mde;var g2={};function Lde(){return g2}function Mde(n){g2=n}(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=t(ro),s=t($r),i=t(gu),o=mu;function a(l,u){var d,h,f,m,b,v,_,y;(0,s.default)(1,arguments);var w=(0,o.getDefaultOptions)(),E=(0,i.default)((d=(h=(f=(m=u==null?void 0:u.weekStartsOn)!==null&&m!==void 0?m:u==null||(b=u.locale)===null||b===void 0||(v=b.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:w.weekStartsOn)!==null&&h!==void 0?h:(_=w.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&d!==void 0?d:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=(0,r.default)(l),I=S.getUTCDay(),x=(I<E?7:0)+I-E;return S.setUTCDate(S.getUTCDate()-x),S.setUTCHours(0,0,0,0),S}n.exports=e.default})(hE,hE.exports);var DT=hE.exports,fE={exports:{}},pE={exports:{}};(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(ro),s=t($r),i=t(DT),o=t(gu),a=mu;function l(u,d){var h,f,m,b,v,_,y,w;(0,s.default)(1,arguments);var E=(0,r.default)(u),S=E.getUTCFullYear(),I=(0,a.getDefaultOptions)(),x=(0,o.default)((h=(f=(m=(b=d==null?void 0:d.firstWeekContainsDate)!==null&&b!==void 0?b:d==null||(v=d.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&m!==void 0?m:I.firstWeekContainsDate)!==null&&f!==void 0?f:(y=I.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=new Date(0);O.setUTCFullYear(S+1,0,x),O.setUTCHours(0,0,0,0);var T=(0,i.default)(O,d),P=new Date(0);P.setUTCFullYear(S,0,x),P.setUTCHours(0,0,0,0);var A=(0,i.default)(P,d);return E.getTime()>=T.getTime()?S+1:E.getTime()>=A.getTime()?S:S-1}n.exports=e.default})(pE,pE.exports);var m2=pE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(m2),s=t($r),i=t(DT),o=t(gu),a=mu;function l(u,d){var h,f,m,b,v,_,y,w;(0,s.default)(1,arguments);var E=(0,a.getDefaultOptions)(),S=(0,o.default)((h=(f=(m=(b=d==null?void 0:d.firstWeekContainsDate)!==null&&b!==void 0?b:d==null||(v=d.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&m!==void 0?m:E.firstWeekContainsDate)!==null&&f!==void 0?f:(y=E.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&h!==void 0?h:1),I=(0,r.default)(u,d),x=new Date(0);x.setUTCFullYear(I,0,S),x.setUTCHours(0,0,0,0);var O=(0,i.default)(x,d);return O}n.exports=e.default})(fE,fE.exports);var $de=fE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var r=t(ro),s=t(DT),i=t($de),o=t($r),a=6048e5;function l(u,d){(0,o.default)(1,arguments);var h=(0,r.default)(u),f=(0,s.default)(h,d).getTime()-(0,i.default)(h,d).getTime();return Math.round(f/a)+1}n.exports=e.default})(dE,dE.exports);var Fde=dE.exports,gE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){for(var i=r<0?"-":"",o=Math.abs(r).toString();o.length<s;)o="0"+o;return i+o}n.exports=e.default})(gE,gE.exports);var y2=gE.exports,mE={exports:{}};(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(y2),s={y:function(a,l){var u=a.getUTCFullYear(),d=u>0?u:1-u;return(0,r.default)(l==="yy"?d%100:d,l.length)},M:function(a,l){var u=a.getUTCMonth();return l==="M"?String(u+1):(0,r.default)(u+1,2)},d:function(a,l){return(0,r.default)(a.getUTCDate(),l.length)},a:function(a,l){var u=a.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(a,l){return(0,r.default)(a.getUTCHours()%12||12,l.length)},H:function(a,l){return(0,r.default)(a.getUTCHours(),l.length)},m:function(a,l){return(0,r.default)(a.getUTCMinutes(),l.length)},s:function(a,l){return(0,r.default)(a.getUTCSeconds(),l.length)},S:function(a,l){var u=l.length,d=a.getUTCMilliseconds(),h=Math.floor(d*Math.pow(10,u-3));return(0,r.default)(h,l.length)}},i=s;e.default=i,n.exports=e.default})(mE,mE.exports);var jde=mE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Dde),s=t(Nde),i=t(p2),o=t(Fde),a=t(m2),l=t(y2),u=t(jde),d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h={G:function(y,w,E){var S=y.getUTCFullYear()>0?1:0;switch(w){case"G":case"GG":case"GGG":return E.era(S,{width:"abbreviated"});case"GGGGG":return E.era(S,{width:"narrow"});case"GGGG":default:return E.era(S,{width:"wide"})}},y:function(y,w,E){if(w==="yo"){var S=y.getUTCFullYear(),I=S>0?S:1-S;return E.ordinalNumber(I,{unit:"year"})}return u.default.y(y,w)},Y:function(y,w,E,S){var I=(0,a.default)(y,S),x=I>0?I:1-I;if(w==="YY"){var O=x%100;return(0,l.default)(O,2)}return w==="Yo"?E.ordinalNumber(x,{unit:"year"}):(0,l.default)(x,w.length)},R:function(y,w){var E=(0,i.default)(y);return(0,l.default)(E,w.length)},u:function(y,w){var E=y.getUTCFullYear();return(0,l.default)(E,w.length)},Q:function(y,w,E){var S=Math.ceil((y.getUTCMonth()+1)/3);switch(w){case"Q":return String(S);case"QQ":return(0,l.default)(S,2);case"Qo":return E.ordinalNumber(S,{unit:"quarter"});case"QQQ":return E.quarter(S,{width:"abbreviated",context:"formatting"});case"QQQQQ":return E.quarter(S,{width:"narrow",context:"formatting"});case"QQQQ":default:return E.quarter(S,{width:"wide",context:"formatting"})}},q:function(y,w,E){var S=Math.ceil((y.getUTCMonth()+1)/3);switch(w){case"q":return String(S);case"qq":return(0,l.default)(S,2);case"qo":return E.ordinalNumber(S,{unit:"quarter"});case"qqq":return E.quarter(S,{width:"abbreviated",context:"standalone"});case"qqqqq":return E.quarter(S,{width:"narrow",context:"standalone"});case"qqqq":default:return E.quarter(S,{width:"wide",context:"standalone"})}},M:function(y,w,E){var S=y.getUTCMonth();switch(w){case"M":case"MM":return u.default.M(y,w);case"Mo":return E.ordinalNumber(S+1,{unit:"month"});case"MMM":return E.month(S,{width:"abbreviated",context:"formatting"});case"MMMMM":return E.month(S,{width:"narrow",context:"formatting"});case"MMMM":default:return E.month(S,{width:"wide",context:"formatting"})}},L:function(y,w,E){var S=y.getUTCMonth();switch(w){case"L":return String(S+1);case"LL":return(0,l.default)(S+1,2);case"Lo":return E.ordinalNumber(S+1,{unit:"month"});case"LLL":return E.month(S,{width:"abbreviated",context:"standalone"});case"LLLLL":return E.month(S,{width:"narrow",context:"standalone"});case"LLLL":default:return E.month(S,{width:"wide",context:"standalone"})}},w:function(y,w,E,S){var I=(0,o.default)(y,S);return w==="wo"?E.ordinalNumber(I,{unit:"week"}):(0,l.default)(I,w.length)},I:function(y,w,E){var S=(0,s.default)(y);return w==="Io"?E.ordinalNumber(S,{unit:"week"}):(0,l.default)(S,w.length)},d:function(y,w,E){return w==="do"?E.ordinalNumber(y.getUTCDate(),{unit:"date"}):u.default.d(y,w)},D:function(y,w,E){var S=(0,r.default)(y);return w==="Do"?E.ordinalNumber(S,{unit:"dayOfYear"}):(0,l.default)(S,w.length)},E:function(y,w,E){var S=y.getUTCDay();switch(w){case"E":case"EE":case"EEE":return E.day(S,{width:"abbreviated",context:"formatting"});case"EEEEE":return E.day(S,{width:"narrow",context:"formatting"});case"EEEEEE":return E.day(S,{width:"short",context:"formatting"});case"EEEE":default:return E.day(S,{width:"wide",context:"formatting"})}},e:function(y,w,E,S){var I=y.getUTCDay(),x=(I-S.weekStartsOn+8)%7||7;switch(w){case"e":return String(x);case"ee":return(0,l.default)(x,2);case"eo":return E.ordinalNumber(x,{unit:"day"});case"eee":return E.day(I,{width:"abbreviated",context:"formatting"});case"eeeee":return E.day(I,{width:"narrow",context:"formatting"});case"eeeeee":return E.day(I,{width:"short",context:"formatting"});case"eeee":default:return E.day(I,{width:"wide",context:"formatting"})}},c:function(y,w,E,S){var I=y.getUTCDay(),x=(I-S.weekStartsOn+8)%7||7;switch(w){case"c":return String(x);case"cc":return(0,l.default)(x,w.length);case"co":return E.ordinalNumber(x,{unit:"day"});case"ccc":return E.day(I,{width:"abbreviated",context:"standalone"});case"ccccc":return E.day(I,{width:"narrow",context:"standalone"});case"cccccc":return E.day(I,{width:"short",context:"standalone"});case"cccc":default:return E.day(I,{width:"wide",context:"standalone"})}},i:function(y,w,E){var S=y.getUTCDay(),I=S===0?7:S;switch(w){case"i":return String(I);case"ii":return(0,l.default)(I,w.length);case"io":return E.ordinalNumber(I,{unit:"day"});case"iii":return E.day(S,{width:"abbreviated",context:"formatting"});case"iiiii":return E.day(S,{width:"narrow",context:"formatting"});case"iiiiii":return E.day(S,{width:"short",context:"formatting"});case"iiii":default:return E.day(S,{width:"wide",context:"formatting"})}},a:function(y,w,E){var S=y.getUTCHours(),I=S/12>=1?"pm":"am";switch(w){case"a":case"aa":return E.dayPeriod(I,{width:"abbreviated",context:"formatting"});case"aaa":return E.dayPeriod(I,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return E.dayPeriod(I,{width:"narrow",context:"formatting"});case"aaaa":default:return E.dayPeriod(I,{width:"wide",context:"formatting"})}},b:function(y,w,E){var S=y.getUTCHours(),I;switch(S===12?I=d.noon:S===0?I=d.midnight:I=S/12>=1?"pm":"am",w){case"b":case"bb":return E.dayPeriod(I,{width:"abbreviated",context:"formatting"});case"bbb":return E.dayPeriod(I,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return E.dayPeriod(I,{width:"narrow",context:"formatting"});case"bbbb":default:return E.dayPeriod(I,{width:"wide",context:"formatting"})}},B:function(y,w,E){var S=y.getUTCHours(),I;switch(S>=17?I=d.evening:S>=12?I=d.afternoon:S>=4?I=d.morning:I=d.night,w){case"B":case"BB":case"BBB":return E.dayPeriod(I,{width:"abbreviated",context:"formatting"});case"BBBBB":return E.dayPeriod(I,{width:"narrow",context:"formatting"});case"BBBB":default:return E.dayPeriod(I,{width:"wide",context:"formatting"})}},h:function(y,w,E){if(w==="ho"){var S=y.getUTCHours()%12;return S===0&&(S=12),E.ordinalNumber(S,{unit:"hour"})}return u.default.h(y,w)},H:function(y,w,E){return w==="Ho"?E.ordinalNumber(y.getUTCHours(),{unit:"hour"}):u.default.H(y,w)},K:function(y,w,E){var S=y.getUTCHours()%12;return w==="Ko"?E.ordinalNumber(S,{unit:"hour"}):(0,l.default)(S,w.length)},k:function(y,w,E){var S=y.getUTCHours();return S===0&&(S=24),w==="ko"?E.ordinalNumber(S,{unit:"hour"}):(0,l.default)(S,w.length)},m:function(y,w,E){return w==="mo"?E.ordinalNumber(y.getUTCMinutes(),{unit:"minute"}):u.default.m(y,w)},s:function(y,w,E){return w==="so"?E.ordinalNumber(y.getUTCSeconds(),{unit:"second"}):u.default.s(y,w)},S:function(y,w){return u.default.S(y,w)},X:function(y,w,E,S){var I=S._originalDate||y,x=I.getTimezoneOffset();if(x===0)return"Z";switch(w){case"X":return m(x);case"XXXX":case"XX":return b(x);case"XXXXX":case"XXX":default:return b(x,":")}},x:function(y,w,E,S){var I=S._originalDate||y,x=I.getTimezoneOffset();switch(w){case"x":return m(x);case"xxxx":case"xx":return b(x);case"xxxxx":case"xxx":default:return b(x,":")}},O:function(y,w,E,S){var I=S._originalDate||y,x=I.getTimezoneOffset();switch(w){case"O":case"OO":case"OOO":return"GMT"+f(x,":");case"OOOO":default:return"GMT"+b(x,":")}},z:function(y,w,E,S){var I=S._originalDate||y,x=I.getTimezoneOffset();switch(w){case"z":case"zz":case"zzz":return"GMT"+f(x,":");case"zzzz":default:return"GMT"+b(x,":")}},t:function(y,w,E,S){var I=S._originalDate||y,x=Math.floor(I.getTime()/1e3);return(0,l.default)(x,w.length)},T:function(y,w,E,S){var I=S._originalDate||y,x=I.getTime();return(0,l.default)(x,w.length)}};function f(_,y){var w=_>0?"-":"+",E=Math.abs(_),S=Math.floor(E/60),I=E%60;if(I===0)return w+String(S);var x=y;return w+String(S)+x+(0,l.default)(I,2)}function m(_,y){if(_%60===0){var w=_>0?"-":"+";return w+(0,l.default)(Math.abs(_)/60,2)}return b(_,y)}function b(_,y){var w=y||"",E=_>0?"-":"+",S=Math.abs(_),I=(0,l.default)(Math.floor(S/60),2),x=(0,l.default)(S%60,2);return E+I+w+x}var v=h;e.default=v,n.exports=e.default})(iE,iE.exports);var Vde=iE.exports,yE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},r=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},s=function(l,u){var d=l.match(/(P+)(p+)?/)||[],h=d[1],f=d[2];if(!f)return t(l,u);var m;switch(h){case"P":m=u.dateTime({width:"short"});break;case"PP":m=u.dateTime({width:"medium"});break;case"PPP":m=u.dateTime({width:"long"});break;case"PPPP":default:m=u.dateTime({width:"full"});break}return m.replace("{{date}}",t(h,u)).replace("{{time}}",r(f,u))},i={p:r,P:s},o=i;e.default=o,n.exports=e.default})(yE,yE.exports);var Ude=yE.exports,vE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}n.exports=e.default})(vE,vE.exports);var v2=vE.exports,dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.isProtectedDayOfYearToken=zde;dp.isProtectedWeekYearToken=Kde;dp.throwProtectedError=Wde;var Bde=["D","DD"],Hde=["YY","YYYY"];function zde(n){return Bde.indexOf(n)!==-1}function Kde(n){return Hde.indexOf(n)!==-1}function Wde(n,e,t){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var _E={exports:{}},bE={exports:{}},wE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(o,a,l){var u,d=t[o];return typeof d=="string"?u=d:a===1?u=d.one:u=d.other.replace("{{count}}",a.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+u:u+" ago":u},s=r;e.default=s,n.exports=e.default})(wE,wE.exports);var Gde=wE.exports,EE={exports:{}},SE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.width?String(s.width):r.defaultWidth,o=r.formats[i]||r.formats[r.defaultWidth];return o}}n.exports=e.default})(SE,SE.exports);var Yde=SE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Yde),s={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a={date:(0,r.default)({formats:s,defaultWidth:"full"}),time:(0,r.default)({formats:i,defaultWidth:"full"}),dateTime:(0,r.default)({formats:o,defaultWidth:"full"})},l=a;e.default=l,n.exports=e.default})(EE,EE.exports);var qde=EE.exports,CE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(o,a,l,u){return t[o]},s=r;e.default=s,n.exports=e.default})(CE,CE.exports);var Xde=CE.exports,TE={exports:{}},OE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s,i){var o=i!=null&&i.context?String(i.context):"standalone",a;if(o==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,u=i!=null&&i.width?String(i.width):l;a=r.formattingValues[u]||r.formattingValues[l]}else{var d=r.defaultWidth,h=i!=null&&i.width?String(i.width):r.defaultWidth;a=r.values[h]||r.values[d]}var f=r.argumentCallback?r.argumentCallback(s):s;return a[f]}}n.exports=e.default})(OE,OE.exports);var Qde=OE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Qde),s={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},a={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d=function(b,v){var _=Number(b),y=_%100;if(y>20||y<10)switch(y%10){case 1:return _+"st";case 2:return _+"nd";case 3:return _+"rd"}return _+"th"},h={ordinalNumber:d,era:(0,r.default)({values:s,defaultWidth:"wide"}),quarter:(0,r.default)({values:i,defaultWidth:"wide",argumentCallback:function(b){return b-1}}),month:(0,r.default)({values:o,defaultWidth:"wide"}),day:(0,r.default)({values:a,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},f=h;e.default=f,n.exports=e.default})(TE,TE.exports);var Zde=TE.exports,IE={exports:{}},PE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(i){return function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=a.width,u=l&&i.matchPatterns[l]||i.matchPatterns[i.defaultMatchWidth],d=o.match(u);if(!d)return null;var h=d[0],f=l&&i.parsePatterns[l]||i.parsePatterns[i.defaultParseWidth],m=Array.isArray(f)?s(f,function(_){return _.test(h)}):r(f,function(_){return _.test(h)}),b;b=i.valueCallback?i.valueCallback(m):m,b=a.valueCallback?a.valueCallback(b):b;var v=o.slice(h.length);return{value:b,rest:v}}}function r(i,o){for(var a in i)if(i.hasOwnProperty(a)&&o(i[a]))return a}function s(i,o){for(var a=0;a<i.length;a++)if(o(i[a]))return a}n.exports=e.default})(PE,PE.exports);var Jde=PE.exports,xE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r){return function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.match(r.matchPattern);if(!o)return null;var a=o[0],l=s.match(r.parsePattern);if(!l)return null;var u=r.valueCallback?r.valueCallback(l[0]):l[0];u=i.valueCallback?i.valueCallback(u):u;var d=s.slice(a.length);return{value:u,rest:d}}}n.exports=e.default})(xE,xE.exports);var ehe=xE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Jde),s=t(ehe),i=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,a={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d={any:[/1/i,/2/i,/3/i,/4/i]},h={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},m={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y={ordinalNumber:(0,s.default)({matchPattern:i,parsePattern:o,valueCallback:function(S){return parseInt(S,10)}}),era:(0,r.default)({matchPatterns:a,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any",valueCallback:function(S){return S+1}}),month:(0,r.default)({matchPatterns:h,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:m,defaultMatchWidth:"wide",parsePatterns:b,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:v,defaultMatchWidth:"any",parsePatterns:_,defaultParseWidth:"any"})},w=y;e.default=w,n.exports=e.default})(IE,IE.exports);var the=IE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(Gde),s=t(qde),i=t(Xde),o=t(Zde),a=t(the),l={code:"en-US",formatDistance:r.default,formatLong:s.default,formatRelative:i.default,localize:o.default,match:a.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;e.default=u,n.exports=e.default})(bE,bE.exports);var nhe=bE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(nhe),s=r.default;e.default=s,n.exports=e.default})(_E,_E.exports);var rhe=_E.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=E;var r=t(xde),s=t(Ade),i=t(ro),o=t(Vde),a=t(Ude),l=t(v2),u=dp,d=t(gu),h=t($r),f=mu,m=t(rhe),b=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_=/^'([^]*?)'?$/,y=/''/g,w=/[a-zA-Z]/;function E(I,x,O){var T,P,A,k,M,N,K,G,z,ee,j,H,U,oe,ne,re,de,be;(0,h.default)(2,arguments);var ye=String(x),ge=(0,f.getDefaultOptions)(),pe=(T=(P=O==null?void 0:O.locale)!==null&&P!==void 0?P:ge.locale)!==null&&T!==void 0?T:m.default,te=(0,d.default)((A=(k=(M=(N=O==null?void 0:O.firstWeekContainsDate)!==null&&N!==void 0?N:O==null||(K=O.locale)===null||K===void 0||(G=K.options)===null||G===void 0?void 0:G.firstWeekContainsDate)!==null&&M!==void 0?M:ge.firstWeekContainsDate)!==null&&k!==void 0?k:(z=ge.locale)===null||z===void 0||(ee=z.options)===null||ee===void 0?void 0:ee.firstWeekContainsDate)!==null&&A!==void 0?A:1);if(!(te>=1&&te<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var le=(0,d.default)((j=(H=(U=(oe=O==null?void 0:O.weekStartsOn)!==null&&oe!==void 0?oe:O==null||(ne=O.locale)===null||ne===void 0||(re=ne.options)===null||re===void 0?void 0:re.weekStartsOn)!==null&&U!==void 0?U:ge.weekStartsOn)!==null&&H!==void 0?H:(de=ge.locale)===null||de===void 0||(be=de.options)===null||be===void 0?void 0:be.weekStartsOn)!==null&&j!==void 0?j:0);if(!(le>=0&&le<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!pe.localize)throw new RangeError("locale must contain localize property");if(!pe.formatLong)throw new RangeError("locale must contain formatLong property");var ct=(0,i.default)(I);if(!(0,r.default)(ct))throw new RangeError("Invalid time value");var Ct=(0,l.default)(ct),en=(0,s.default)(ct,Ct),gt={firstWeekContainsDate:te,weekStartsOn:le,locale:pe,_originalDate:ct},yn=ye.match(v).map(function(mt){var Yn=mt[0];if(Yn==="p"||Yn==="P"){var Fr=a.default[Yn];return Fr(mt,pe.formatLong)}return mt}).join("").match(b).map(function(mt){if(mt==="''")return"'";var Yn=mt[0];if(Yn==="'")return S(mt);var Fr=o.default[Yn];if(Fr)return!(O!=null&&O.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(mt)&&(0,u.throwProtectedError)(mt,x,String(I)),!(O!=null&&O.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(mt)&&(0,u.throwProtectedError)(mt,x,String(I)),Fr(en,mt,pe.localize,gt);if(Yn.match(w))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Yn+"`");return mt}).join("");return yn}function S(I){var x=I.match(_);return x?x[1].replace(y,"'"):I}n.exports=e.default})(Qw,Qw.exports);var she=Qw.exports,RE={exports:{}},AE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(o,a,l){var u=i(o,l.timeZone,l.locale);return u.formatToParts?r(u,a):s(u,a)}function r(o,a){for(var l=o.formatToParts(a),u=l.length-1;u>=0;--u)if(l[u].type==="timeZoneName")return l[u].value}function s(o,a){var l=o.format(a).replace(/\u200E/g,""),u=/ [\w-+ ]+$/.exec(l);return u?u[0].substr(1):""}function i(o,a,l){if(l&&!l.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(l?[l.code,"en-US"]:void 0,{timeZone:a,timeZoneName:o})}n.exports=e.default})(AE,AE.exports);var ihe=AE.exports,DE={exports:{}},kE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l,u){var d=a(u);return d.formatToParts?s(d,l):i(d,l)}var r={year:0,month:1,day:2,hour:3,minute:4,second:5};function s(l,u){try{for(var d=l.formatToParts(u),h=[],f=0;f<d.length;f++){var m=r[d[f].type];m>=0&&(h[m]=parseInt(d[f].value,10))}return h}catch(b){if(b instanceof RangeError)return[NaN];throw b}}function i(l,u){var d=l.format(u).replace(/\u200E/g,""),h=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(d);return[h[3],h[1],h[2],h[4],h[5],h[6]]}var o={};function a(l){if(!o[l]){var u=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),d=u==="06/25/2014, 00:00:00"||u==="06/25/2014 00:00:00";o[l]=d?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return o[l]}n.exports=e.default})(kE,kE.exports);var ohe=kE.exports,NE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s,i,o,a,l,u){var d=new Date(0);return d.setUTCFullYear(r,s,i),d.setUTCHours(o,a,l,u),d}n.exports=e.default})(NE,NE.exports);var _2=NE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=s(ohe),r=s(_2);function s(v){return v&&v.__esModule?v:{default:v}}var i=36e5,o=6e4,a={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function l(v,_,y){var w,E;if(!v||(w=a.timezoneZ.exec(v),w))return 0;var S;if(w=a.timezoneHH.exec(v),w)return S=parseInt(w[1],10),f(S)?-(S*i):NaN;if(w=a.timezoneHHMM.exec(v),w){S=parseInt(w[1],10);var I=parseInt(w[2],10);return f(S,I)?(E=Math.abs(S)*i+I*o,S>0?-E:E):NaN}if(b(v)){_=new Date(_||Date.now());var x=y?_:u(_),O=d(x,v),T=y?O:h(_,O,v);return-T}return NaN}function u(v){return(0,r.default)(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds())}function d(v,_){var y=(0,t.default)(v,_),w=(0,r.default)(y[0],y[1]-1,y[2],y[3]%24,y[4],y[5],0).getTime(),E=v.getTime(),S=E%1e3;return E-=S>=0?S:1e3+S,w-E}function h(v,_,y){var w=v.getTime(),E=w-_,S=d(new Date(E),y);if(_===S)return _;E-=S-_;var I=d(new Date(E),y);return S===I?S:Math.max(S,I)}function f(v,_){return-23<=v&&v<=23&&(_==null||0<=_&&_<=59)}var m={};function b(v){if(m[v])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:v}),m[v]=!0,!0}catch{return!1}}n.exports=e.default})(DE,DE.exports);var hp=DE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(ihe),r=s(hp);function s(m){return m&&m.__esModule?m:{default:m}}var i=60*1e3,o={X:function(m,b,v,_){var y=a(_.timeZone,_._originalDate||m);if(y===0)return"Z";switch(b){case"X":return d(y);case"XXXX":case"XX":return u(y);case"XXXXX":case"XXX":default:return u(y,":")}},x:function(m,b,v,_){var y=a(_.timeZone,_._originalDate||m);switch(b){case"x":return d(y);case"xxxx":case"xx":return u(y);case"xxxxx":case"xxx":default:return u(y,":")}},O:function(m,b,v,_){var y=a(_.timeZone,_._originalDate||m);switch(b){case"O":case"OO":case"OOO":return"GMT"+h(y,":");case"OOOO":default:return"GMT"+u(y,":")}},z:function(m,b,v,_){var y=_._originalDate||m;switch(b){case"z":case"zz":case"zzz":return(0,t.default)("short",y,_);case"zzzz":default:return(0,t.default)("long",y,_)}}};function a(m,b){var v=m?(0,r.default)(m,b,!0)/i:b.getTimezoneOffset();if(Number.isNaN(v))throw new RangeError("Invalid time zone specified: "+m);return v}function l(m,b){for(var v=m<0?"-":"",_=Math.abs(m).toString();_.length<b;)_="0"+_;return v+_}function u(m,b){var v=b||"",_=m>0?"-":"+",y=Math.abs(m),w=l(Math.floor(y/60),2),E=l(Math.floor(y%60),2);return _+w+v+E}function d(m,b){if(m%60===0){var v=m>0?"-":"+";return v+l(Math.abs(m)/60,2)}return u(m,b)}function h(m,b){var v=m>0?"-":"+",_=Math.abs(m),y=Math.floor(_/60),w=_%60;if(w===0)return v+String(y);var E=b;return v+String(y)+E+l(w,2)}var f=o;e.default=f,n.exports=e.default})(RE,RE.exports);var ahe=RE.exports,LE={exports:{}},ME={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,r=t;e.default=r,n.exports=e.default})(ME,ME.exports);var b2=ME.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=o(gu),r=o(v2),s=o(hp),i=o(b2);function o(T){return T&&T.__esModule?T:{default:T}}var a=36e5,l=6e4,u=2,d={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:i.default};function h(T,P){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(T===null)return new Date(NaN);var A=P||{},k=A.additionalDigits==null?u:(0,t.default)(A.additionalDigits);if(k!==2&&k!==1&&k!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(T instanceof Date||typeof T=="object"&&Object.prototype.toString.call(T)==="[object Date]")return new Date(T.getTime());if(typeof T=="number"||Object.prototype.toString.call(T)==="[object Number]")return new Date(T);if(!(typeof T=="string"||Object.prototype.toString.call(T)==="[object String]"))return new Date(NaN);var M=f(T),N=m(M.date,k),K=N.year,G=N.restDateString,z=b(G,K);if(isNaN(z))return new Date(NaN);if(z){var ee=z.getTime(),j=0,H;if(M.time&&(j=v(M.time),isNaN(j)))return new Date(NaN);if(M.timeZone||A.timeZone){if(H=(0,s.default)(M.timeZone||A.timeZone,new Date(ee+j)),isNaN(H))return new Date(NaN)}else H=(0,r.default)(new Date(ee+j)),H=(0,r.default)(new Date(ee+j+H));return new Date(ee+j+H)}else return new Date(NaN)}function f(T){var P={},A=d.dateTimePattern.exec(T),k;if(A?(P.date=A[1],k=A[3]):(A=d.datePattern.exec(T),A?(P.date=A[1],k=A[2]):(P.date=null,k=T)),k){var M=d.timeZone.exec(k);M?(P.time=k.replace(M[1],""),P.timeZone=M[1].trim()):P.time=k}return P}function m(T,P){var A=d.YYY[P],k=d.YYYYY[P],M;if(M=d.YYYY.exec(T)||k.exec(T),M){var N=M[1];return{year:parseInt(N,10),restDateString:T.slice(N.length)}}if(M=d.YY.exec(T)||A.exec(T),M){var K=M[1];return{year:parseInt(K,10)*100,restDateString:T.slice(K.length)}}return{year:null}}function b(T,P){if(P===null)return null;var A,k,M,N;if(T.length===0)return k=new Date(0),k.setUTCFullYear(P),k;if(A=d.MM.exec(T),A)return k=new Date(0),M=parseInt(A[1],10)-1,S(P,M)?(k.setUTCFullYear(P,M),k):new Date(NaN);if(A=d.DDD.exec(T),A){k=new Date(0);var K=parseInt(A[1],10);return I(P,K)?(k.setUTCFullYear(P,0,K),k):new Date(NaN)}if(A=d.MMDD.exec(T),A){k=new Date(0),M=parseInt(A[1],10)-1;var G=parseInt(A[2],10);return S(P,M,G)?(k.setUTCFullYear(P,M,G),k):new Date(NaN)}if(A=d.Www.exec(T),A)return N=parseInt(A[1],10)-1,x(P,N)?_(P,N):new Date(NaN);if(A=d.WwwD.exec(T),A){N=parseInt(A[1],10)-1;var z=parseInt(A[2],10)-1;return x(P,N,z)?_(P,N,z):new Date(NaN)}return null}function v(T){var P,A,k;if(P=d.HH.exec(T),P)return A=parseFloat(P[1].replace(",",".")),O(A)?A%24*a:NaN;if(P=d.HHMM.exec(T),P)return A=parseInt(P[1],10),k=parseFloat(P[2].replace(",",".")),O(A,k)?A%24*a+k*l:NaN;if(P=d.HHMMSS.exec(T),P){A=parseInt(P[1],10),k=parseInt(P[2],10);var M=parseFloat(P[3].replace(",","."));return O(A,k,M)?A%24*a+k*l+M*1e3:NaN}return null}function _(T,P,A){P=P||0,A=A||0;var k=new Date(0);k.setUTCFullYear(T,0,4);var M=k.getUTCDay()||7,N=P*7+A+1-M;return k.setUTCDate(k.getUTCDate()+N),k}var y=[31,28,31,30,31,30,31,31,30,31,30,31],w=[31,29,31,30,31,30,31,31,30,31,30,31];function E(T){return T%400===0||T%4===0&&T%100!==0}function S(T,P,A){if(P<0||P>11)return!1;if(A!=null){if(A<1)return!1;var k=E(T);if(k&&A>w[P]||!k&&A>y[P])return!1}return!0}function I(T,P){if(P<1)return!1;var A=E(T);return!(A&&P>366||!A&&P>365)}function x(T,P,A){return!(P<0||P>52||A!=null&&(A<0||A>6))}function O(T,P,A){return!(T!=null&&(T<0||T>=25)||P!=null&&(P<0||P>=60)||A!=null&&(A<0||A>=60))}n.exports=e.default})(LE,LE.exports);var Hv=LE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(she),r=i(ahe),s=i(Hv);function i(l){return l&&l.__esModule?l:{default:l}}var o=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function a(l,u,d){var h=String(u),f=d||{},m=h.match(o);if(m){var b=(0,s.default)(l,f);h=m.reduce(function(v,_){if(_[0]==="'")return v;var y=v.indexOf(_),w=v[y-1]==="'",E=v.replace(_,"'"+r.default[_[0]](b,_,null,f)+"'");return w?E.substring(0,y-1)+E.substring(y+1):E},h)}return(0,t.default)(l,h,f)}n.exports=e.default})(Xw,Xw.exports);var w2=Xw.exports,$E={exports:{}},FE={exports:{}},jE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,s){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r}n.exports=e.default})(jE,jE.exports);var lhe=jE.exports;(function(n,e){var t=dn.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=t(lhe);function s(i){return(0,r.default)({},i)}n.exports=e.default})(FE,FE.exports);var E2=FE.exports,VE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=s(hp),r=s(Hv);function s(o){return o&&o.__esModule?o:{default:o}}function i(o,a,l){var u=(0,r.default)(o,l),d=(0,t.default)(a,u,!0),h=new Date(u.getTime()-d),f=new Date(0);return f.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),f.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),f}n.exports=e.default})(VE,VE.exports);var S2=VE.exports;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(E2),r=i(w2),s=i(S2);function i(a){return a&&a.__esModule?a:{default:a}}function o(a,l,u,d){var h=(0,t.default)(d);return h.timeZone=l,(0,r.default)((0,s.default)(a,l),u,h)}n.exports=e.default})($E,$E.exports);var uhe=$E.exports,UE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(hp);function r(i){return i&&i.__esModule?i:{default:i}}function s(i,o){return-(0,t.default)(i,o)}n.exports=e.default})(UE,UE.exports);var che=UE.exports,BE={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=a(E2),r=a(Hv),s=a(b2),i=a(hp),o=a(_2);function a(u){return u&&u.__esModule?u:{default:u}}function l(u,d,h){if(typeof u=="string"&&!u.match(s.default)){var f=(0,t.default)(h);return f.timeZone=d,(0,r.default)(u,f)}var m=(0,r.default)(u,h),b=(0,o.default)(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()).getTime(),v=(0,i.default)(d,new Date(b));return new Date(b+v)}n.exports=e.default})(BE,BE.exports);var dhe=BE.exports,C2={format:w2,formatInTimeZone:uhe,getTimezoneOffset:che,toDate:Hv,utcToZonedTime:S2,zonedTimeToUtc:dhe};const hhe=[[-11,["Pacific/Midway"]],[-10,["Pacific/Honolulu"]],[-9.5,["Pacific/Marquesas"]],[-9,["Pacific/Gambier"]],[-8,["Pacific/Pitcairn"]],[-7,["America/Phoenix"]],[-6,["America/Tegucigalpa"]],[-5,["America/Bogota"]],[-4,["America/Puerto_Rico"]],[-3.5,["America/St_Johns"]],[-3,["America/Montevideo"]],[-2,["Atlantic/South_Georgia"]],[-1,["Atlantic/Cape_Verde"]],[0,["Africa/Accra"]],[1,["Africa/Bangui"]],[2,["Africa/Cairo"]],[3,["Asia/Bahrain","Indian/Antananarivo"]],[3.5,["Asia/Tehran"]],[4,["Asia/Dubai","Asia/Muscat"]],[4.5,["Asia/Kabul"]],[5,["Asia/Samarkand","Asia/Karachi"]],[5.5,["Asia/Kolkata"]],[5.75,["Asia/Kathmandu"]],[6,["Asia/Dhaka"]],[6.5,["Asia/Rangoon","Asia/Rangoon"]],[7,["Asia/Jakarta","Asia/Phnom_Penh","Asia/Bangkok"]],[8,["Asia/Shanghai","Asia/Singapore"]],[8.75,["Australia/Eucla"]],[9,["Asia/Tokyo","Asia/Seoul","Asia/Pyongyang"]],[9.5,["Australia/Darwin"]],[10,["Pacific/Guam"]],[10.5,["Australia/Adelaide"]],[11,["Pacific/Guadalcanal"]],[12,["Pacific/Funafuti"]],[13,["Pacific/Enderbury"]],[13.75,["Pacific/Chatham"]],[14,["Pacific/Kiritimati"]]],mR={0:"Etc/GMT",1:"Etc/GMT-1",2:"Etc/GMT-2",3:"Etc/GMT-3",4:"Etc/GMT-4",5:"Etc/GMT-5",6:"Etc/GMT-6",7:"Etc/GMT-7",8:"Etc/GMT-8",9:"Etc/GMT-9",10:"Etc/GMT-10",11:"Etc/GMT-11",12:"Etc/GMT-12",13:"Etc/GMT-13",14:"Etc/GMT-14","-1":"Etc/GMT+1","-2":"Etc/GMT+2","-3":"Etc/GMT+3","-4":"Etc/GMT+4","-5":"Etc/GMT+5","-6":"Etc/GMT+6","-7":"Etc/GMT+7","-8":"Etc/GMT+8","-9":"Etc/GMT+9","-10":"Etc/GMT+10","-11":"Etc/GMT+11","-12":"Etc/GMT+12"},fhe=/([\-\+]{1})(\d{2})\:(\d{2})/,T2=n=>{let e=null;if(typeof n=="string"){if(e=n.match(fhe),!e)return n;const t=parseInt(e[1]+1,10),r=parseInt(e[2],10),s=parseInt(e[3],10);n=t*(r+s/60)}if(typeof n=="number"){if(n in mR){const r=mR[n];if(phe(r))return r}const t=hhe.find(r=>r[0]===n);return t&&t[1][0]}},yR={};function phe(n){if(yR[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),yR[n]=!0,!0}catch{return!1}}const HE=(n,e,t)=>C2.utcToZonedTime(n,T2(e),t),yc=(n,e,t)=>C2.zonedTimeToUtc(n,T2(e),t);function sn(n,e,t,r){let s=null;if(n){e&&(t=t||new Date,s=$$(n,e,t,{locale:r})),Ms(s)||(s=Hs(n)),Ms(s)||(s=new Date(Date.parse(n)));const i=Ms(s)&&String(s.getFullYear()).length>4;(!Ms(s)||i)&&(s=null)}return s}function em(n){const{format:e,type:t}=n,r=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4})/i,s=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4}) (H{0,2}[^a-z\s]*m{0,2}[^a-z\s]*s{0,2})/i,i=wa(t);let o;switch(t){case"dateTime":case"dateTimeRange":const a=s.exec(e);o=a&&a[1]&&a[2]?`${a[1]} ${a[2]}`:i;break;case"date":case"month":case"monthRange":case"dateRange":default:const l=r.exec(e);o=l&&l[1]||i;break}return o}function zE(n){const e=" ",{inputValue:t="",rangeSeparator:r,type:s}=n;let i,o,a,l;const u={monthLeft:{dateInput:"",timeInput:""},monthRight:{dateInput:"",timeInput:""}};switch(s){case"date":case"month":case"monthRange":u.monthLeft.dateInput=t;break;case"dateRange":[i="",a=""]=t.split(r),u.monthLeft.dateInput=i,u.monthRight.dateInput=a;break;case"dateTime":[i="",o=""]=t.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=o;break;case"dateTimeRange":const[d="",h=""]=t.split(r);[i="",o=""]=d.split(e),[a="",l=""]=h.split(e),u.monthLeft.dateInput=i,u.monthLeft.timeInput=o,u.monthRight.dateInput=a,u.monthRight.timeInput=l;break}return u}function tm(n){return["string","number"].includes(typeof n)&&n!==""}class ghe extends ke{constructor(e){super(Object.assign({},e)),this.clearRangeInputFocus=()=>{const{type:t}=this._adapter.getProps(),{rangeInputFocus:r}=this._adapter.getStates();t==="dateTimeRange"&&r&&this._adapter.setRangeInputFocus(!1)},this._isRangeType=()=>{const t=this._adapter.getProp("type");return/range/i.test(t)},this._isRangeValueComplete=t=>{let r=!1;return Array.isArray(t)&&(r=!t.some(s=>bt(s))),r}}init(){const e=this.getProp("timeZone");this._isControlledComponent()?this.initFromProps({timeZone:e,value:this.getProp("value")}):this._isInProps("defaultValue")&&this.initFromProps({timeZone:e,value:this.getProp("defaultValue")}),this.initPanelOpenStatus(this.getProp("defaultOpen"))}initFromProps(e){let{value:t,timeZone:r,prevTimeZone:s}=e;const i=(Array.isArray(t)?[...t]:(t||t===0)&&[t])||[],o=this.parseWithTimezone(i,r,s);this._adapter.updatePrevTimezone(s),this.clearInputValue(),this._adapter.updateValue(o),this.resetCachedSelectedValue(o),this.initRangeInputFocus(o),this._adapter.needConfirm()&&this._adapter.updateCachedSelectedValue(o)}initRangeInputFocus(e){const{triggerRender:t}=this.getProps();this._isRangeType()&&De(t)&&e.length===0&&this._adapter.setRangeInputFocus("rangeStart")}parseWithTimezone(e,t,r){const s=[];if(Array.isArray(e)&&e.length)for(const i of e){let o=(i||i===0)&&this._parseValue(i);o?(tm(r)&&(o=yc(o,r)),s.push(tm(t)?HE(o,t):o)):Kt(!0,`[Semi DatePicker] value cannot be parsed, value: ${String(i)}`)}return s}_isMultiple(){return!!this.getProp("multiple")}_parseValue(e){const t=this._adapter.getProp("dateFnsLocale");let r;if(!e&&e!==0)return new Date;if(zs(e))r=e;else if(Re(e))r=sn(e,this.getProp("format"),void 0,t);else if(qw(e))r=new Date(e);else throw new TypeError("defaultValue should be valid Date object/timestamp or string");return r}destroy(){this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide()}initPanelOpenStatus(e){(this.getProp("open")||e)&&!this.getProp("disabled")?(this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()):(this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide())}openPanel(){this.getProp("disabled")||(this._isControlledComponent("open")||this.open(),this._adapter.notifyOpenChange(!0))}clearInsetInputValue(){const{insetInput:e}=this._adapter.getProps();e&&this._adapter.updateInsetInputValue(null)}resetCachedSelectedValue(e){const{value:t,cachedSelectedValue:r}=this._adapter.getStates(),s=Array.isArray(e)?e:t;Fe(s,r)||this._adapter.updateCachedSelectedValue(s)}closePanel(){this._isControlledComponent("open")?this.resetInnerSelectedStates():this.close(),this._adapter.notifyOpenChange(!1)}open(){this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()}close(){this._adapter.togglePanel(!1),this.resetInnerSelectedStates(),this._adapter.unregisterClickOutSide()}focus(e){if(this._isRangeType()){const t=e??"rangeStart";this._adapter.setRangeInputFocus(t)}else this._adapter.setInputFocus()}blur(){this._isRangeType()?this._adapter.setRangeInputBlur():this._adapter.setInputBlur()}resetInnerSelectedStates(){setTimeout(()=>{const{value:e,cachedSelectedValue:t}=this._adapter.getStates();Fe(e,t)||this.resetCachedSelectedValue(e)},0),this.resetFocus(),this.clearInputValue()}resetFocus(e){this._adapter.setRangeInputFocus(!1),this._adapter.notifyBlur(e)}isCachedSelectedValueValid(e){const t=e||this._adapter.getState("cachedSelectedValue"),{type:r}=this._adapter.getProps();let s=!0;switch(!0){case r==="dateRange":case r==="dateTimeRange":this._isRangeValueComplete(t)||(s=!1);break;default:const i=t==null?void 0:t.filter(o=>o);Array.isArray(i)&&i.length||(s=!1);break}return s}clearInputValue(){this._adapter.updateInputValue(null),this._adapter.updateInsetInputValue(null)}handleInputChange(e,t){const r=this._isMultiple()?this.parseMultipleInput(e):this.parseInput(e),{value:s}=this.getStates();if(this._updateCachedSelectedValueFromInput(e),r&&r.length||e===""){if(Q(t,Ja.CLEARBTN_CLICKED_EVENT_FLAG)&&this._isControlledComponent("value")){this._notifyChange(r);return}this._updateValueAndInput(r,e==="",e);const i=this._getChangedDates(r);this._someDateDisabled(i,r)||Fe(r,s)||this._notifyChange(r)}else this._adapter.updateInputValue(e)}handleInsetInputChange(e){const{insetInputStr:t,format:r,insetInputValue:s}=e,i=this._isMultiple(),o=i?this.parseMultipleInput(t,r):this.parseInput(t,r),{value:a}=this.getStates();if(this._updateCachedSelectedValueFromInput(t),o&&o.length){const l=this._getChangedDates(o);if(!this._someDateDisabled(l,o)){Fe(o,a)||(!this._isControlledComponent()&&!this._adapter.needConfirm()&&this._adapter.updateValue(o),this._notifyChange(o));const u=i?this.formatMultipleDates(o):this.formatDates(o);this._adapter.updateInputValue(u)}}this._adapter.updateInsetInputValue(s)}_updateCachedSelectedValueFromInput(e){const t=this.getLooseDateFromInput(e),r=this._getChangedDates(t);this._someDateDisabled(r,t)||this.resetCachedSelectedValue(t)}handleInputBlur(){}handleRangeEndTabPress(e){this._adapter.setRangeInputFocus(!1)}handleInputFocus(e,t){const r=this._adapter.getState("rangeInputFocus");t&&this._adapter.setRangeInputFocus(t),(!t||!["rangeStart","rangeEnd"].includes(r))&&this._adapter.notifyFocus(e,t)}handleSetRangeFocus(e){this._adapter.setRangeInputFocus(e)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){const t=[];this._isControlledComponent("value")||(this._updateValueAndInput(t,!0,""),this._adapter.updateInsetInputValue(null),this.resetCachedSelectedValue(t)),this._notifyChange(t),this._adapter.setRangeInputFocus(!1),this._adapter.notifyClear(e)}handleRangeInputBlur(e,t){}handleInputComplete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e?this._isMultiple()?this.parseMultipleInput(e,",",!0):this.parseInput(e):[];if(t=t&&t.length?t:this.getState("value"),!t||!t.length){const i=new Date;this._isRangeType()?t=[i,i]:t=[i]}this._updateValueAndInput(t);const{value:r}=this.getStates(),s=this._getChangedDates(t);!this._someDateDisabled(s,t)&&!Fe(t,r)&&this._notifyChange(t)}parseInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=[];const{dateFnsLocale:s,rangeSeparator:i}=this.getProps();if(e&&e.length){const o=this.getProp("type"),a=t||this.getProp("format")||wa(o);let l,u;const d=new Date;switch(o){case"date":case"dateTime":case"month":l=e?sn(e,a,d,s):"",u=l&&Ms(l)&&this.localeFormat(l,a),l&&u===e&&(r=[l]);break;case"dateRange":case"dateTimeRange":case"monthRange":const h=i,f=e.split(h);l=f&&f.reduce((m,b)=>{const v=b&&sn(b,a,d,s);return v&&m.push(v),m},[]),u=l&&l.map(m=>m&&Ms(m)&&this.localeFormat(m,a)).join(h),l&&u===e&&(l.sort((m,b)=>m.getTime()-b.getTime()),r=l);break}}return r}getLooseDateFromInput(e){return this._isMultiple()?this.parseMultipleInputLoose(e):this.parseInputLoose(e)}parseInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=[];const{dateFnsLocale:r,rangeSeparator:s,type:i,format:o}=this.getProps();if(e&&e.length){const a=o||wa(i);let l,u;const d=new Date;switch(i){case"date":case"dateTime":case"month":const h=sn(e,a,d,r);zs(h)?(u=this.localeFormat(h,a),u===e&&(l=h)):l=null,t=[l];break;case"dateRange":case"dateTimeRange":const f=s,m=e.split(f);l=m&&m.reduce((b,v)=>{let _=null;const y=sn(v,a,d,r);return zs(y)&&(u=this.localeFormat(y,a),u===v&&(_=y)),b.push(_),b},[]),Array.isArray(l)&&l.every(b=>Ms(b))&&l.sort((b,v)=>b.getTime()-v.getTime()),t=l;break}}return t}parseMultipleInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),o=[];for(const a of i){let l=a&&this.parseInputLoose(a);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!o.filter(u=>!!l.find(d=>Px(u,d)))&&o.push(...l):o.push(...l);else return[];if(s&&s>0&&o.length>s)return[]}return o}parseMultipleInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getProp("max"),i=e.split(t),o=[];for(const a of i){let l=a&&this.parseInput(a);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)r?!o.filter(u=>!!l.find(d=>Px(u,d)))&&o.push(...l):o.push(...l);else return[];if(s&&s>0&&o.length>s)return[]}return o}formatDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r="";const s=this.getProp("rangeSeparator");if(Array.isArray(e)&&e.length){const i=this.getProp("type"),o=t||this.getProp("format")||wa(i);switch(i){case"date":case"dateTime":case"month":r=this.localeFormat(e[0],o);break;case"dateRange":case"dateTimeRange":case"monthRange":const a=!bt(e[0]),l=!bt(e[1]);a&&l?r=`${this.localeFormat(e[0],o)}${s}${this.localeFormat(e[1],o)}`:a?r=`${this.localeFormat(e[0],o)}${s}`:l&&(r=`${s}${this.localeFormat(e[1],o)}`);break}}return r}formatMultipleDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X.DEFAULT_SEPARATOR_MULTIPLE,r=arguments.length>2?arguments[2]:void 0;const s=[];if(Array.isArray(e)&&e.length)switch(this.getProp("type")){case"date":case"dateTime":case"month":e.forEach(o=>s.push(this.formatDates([o],r)));break;case"dateRange":case"dateTimeRange":case"monthRange":for(let o=0;o<e.length;o+=2)s.push(this.formatDates(e.slice(o,o+2),r));break}return s.join(t)}_updateValueAndInput(e,t,r){let s;if(t||e){Array.isArray(e)?s=e:s=e?[e]:[];const i=this._getChangedDates(s);!this._isControlledComponent()&&!this._someDateDisabled(i,s)&&!this._adapter.needConfirm()&&this._adapter.updateValue(s)}this._adapter.updateInputValue(r)}handleSelectedChange(e,t){const{type:r,format:s,rangeSeparator:i,insetInput:o}=this._adapter.getProps(),{value:a}=this.getStates(),l=this._isControlledComponent(),u=ko(t)?t.fromPreset:t,d=Q(t,"closePanel",!0),h=Q(t,"needCheckFocusRecord",!0),f=Array.isArray(e)?[...e]:e?[e]:[],m=this._getChangedDates(f);let b,v;if(!this._someDateDisabled(m,f)){if(this.resetCachedSelectedValue(f),b=this._isMultiple()?this.formatMultipleDates(f):this.formatDates(f),o){const w=em({format:s,type:r}),E=this._isMultiple()?this.formatMultipleDates(f,void 0,w):this.formatDates(f,w);v=zE({inputValue:E,type:r,rangeSeparator:i})}if(this._isRangeType()&&!this._isRangeValueComplete(f)){this._adapter.updateInputValue(b),this._adapter.updateInsetInputValue(v);return}else(!l||u)&&(this._updateValueAndInput(f,!0,b),this._adapter.updateInsetInputValue(v));Fe(e,a)||this._notifyChange(e)}const _=!h||h&&this._adapter.couldPanelClosed();(r==="date"&&!this._isMultiple()&&d||r==="dateRange"&&this._isRangeValueComplete(f)&&d&&_)&&this.closePanel()}handleYMSelectedChange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{currentMonth:t,currentYear:r}=e,{type:s}=this.getProps();if(s==="month"){const i=new Date(r.left,t.left-1);this.handleSelectedChange([i])}else{const i=new Date(r.left,t.left-1),o=new Date(r.right,t.right-1);this.handleSelectedChange([i,o])}}handleConfirm(){const{cachedSelectedValue:e,value:t}=this._adapter.getStates(),r=this._isRangeValueComplete(e),s=r?e:t;if(this._adapter.needConfirm()&&!this._isControlledComponent()&&this._adapter.updateValue(s),this.closePanel(),r){const{notifyValue:i,notifyDate:o}=this.disposeCallbackArgs(e);this._adapter.notifyConfirm(o,i)}}handleCancel(){this.closePanel();const e=this.getState("value"),{notifyValue:t,notifyDate:r}=this.disposeCallbackArgs(e);this._adapter.notifyCancel(r,t)}handlePresetClick(e,t){const{type:r,timeZone:s}=this.getProps(),i=this.getState("prevTimezone"),o=typeof e.start=="function"?e.start():e.start,a=typeof e.end=="function"?e.end():e.end;let l;switch(r){case"month":case"dateTime":case"date":l=this.parseWithTimezone([o],s,i),this.handleSelectedChange(l);break;case"dateTimeRange":case"dateRange":l=this.parseWithTimezone([o,a],s,i),this.handleSelectedChange(l,{needCheckFocusRecord:!1});break}this._adapter.notifyPresetsClick(e,t)}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");tm(r)&&(t=t.map(l=>yc(l,r)));const s=this.getProp("type"),i=this.getProp("format")||wa(s);let o,a;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(o=t.map(l=>l&&this.localeFormat(l,i)),a=[...t]):(o=t[0]&&this.localeFormat(t[0],i),[a]=t);break;case"dateRange":case"dateTimeRange":case"monthRange":o=t.map(l=>l&&this.localeFormat(l,i)),a=[...t];break}return{notifyValue:o,notifyDate:a}}_notifyChange(e){if(this._isRangeType()&&!this._isRangeValueComplete(e))return;const{onChangeWithDateFirst:t}=this.getProps(),{notifyValue:r,notifyDate:s}=this.disposeCallbackArgs(e);t?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_getChangedDates(e){const t=this._adapter.getProp("type"),{cachedSelectedValue:r}=this._adapter.getStates(),s=[];switch(t){case"dateRange":case"dateTimeRange":const[i,o]=r,[a,l]=e;ry(a,i)||s.push(a),ry(l,o)||s.push(l);break;default:const u=new Set;r.forEach(d=>u.add($w(d)&&d.valueOf()));for(const d of e)u.has($w(d)&&d.valueOf())||s.push(d)}return s}_someDateDisabled(e,t){const{rangeInputFocus:r}=this.getStates(),s={rangeStart:"",rangeEnd:"",rangeInputFocus:r};if(this._isRangeType()&&Array.isArray(t)){if(Ms(t[0])){const o=at(t[0],"yyyy-MM-dd");s.rangeStart=o}if(Ms(t[1])){const o=at(t[1],"yyyy-MM-dd");s.rangeEnd=o}}let i=!1;for(const o of e)if(!bt(o)&&this.disabledDisposeDate(o,s)){i=!0;break}return i}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return at(e,t,{locale:r})}disposeDateFn(e,t){const{notifyDate:r}=this.disposeCallbackArgs(t),s=Array.isArray(t),i=Array.isArray(r);let o;s===i?o=r:o=s?[r]:r[0];for(var a=arguments.length,l=new Array(a>2?a-2:0),u=2;u<a;u++)l[u-2]=arguments[u];return e(o,...l)}disabledDisposeDate(e){const{disabledDate:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}disabledDisposeTime(e){const{disabledTime:t}=this.getProps();for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return this.disposeDateFn(t,e,...s)}handleTriggerWrapperClick(e){const{disabled:t,triggerRender:r}=this._adapter.getProps(),{rangeInputFocus:s}=this._adapter.getStates();t||(this._isRangeType()&&!s?(this._adapter.isEventTarget(e)?setTimeout(()=>{this.handleInputFocus(e,"rangeStart")},0):De(r)&&this._adapter.setRangeInputFocus("rangeStart"),this.openPanel()):this.openPanel())}handlePanelVisibleChange(e){e?(this._adapter.setInsetInputFocus(),setTimeout(()=>{this._adapter.setTriggerDisabled(!0)},0)):this._adapter.setTriggerDisabled(!1)}}function Au(n,e){let{groupInnerSeparator:t=X.DEFAULT_SEPARATOR_RANGE,groupSize:r=1,groupSeparator:s=X.DEFAULT_SEPARATOR_MULTIPLE}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,o="";if((r<=0||typeof r!="number")&&(r=1),Array.isArray(n)&&n.length){const a=[],{length:l}=n;for(let u=0;u<l;u++){u%r===0&&a.push([]);const d=Math.floor(u/r);a[d].push(n[u])}o=a.map(u=>u.map(d=>d?at(d,e,{locale:i}):"").join(t)).join(s)}return o}function O2(n){const{defaultPickerValue:e,format:t,dateFnsLocale:r}=n;let s=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:void 0;switch(!0){case zs(s):break;case qw(s):s=new Date(s);break;case typeof s=="string":s=sn(s,t,void 0,r);break;default:s=new Date;break}switch(!0){case zs(i):break;case qw(i):i=new Date(i);break;case typeof i=="string":i=sn(i,t,void 0,r);break;default:i=ba(s,1);break}return{nowDate:s,nextDate:i}}var mhe=Function.prototype.toString,Vb=Object.create,yhe=Object.prototype.toString,vhe=function(){function n(){this._keys=[],this._values=[]}return n.prototype.has=function(e){return!!~this._keys.indexOf(e)},n.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},n.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},n}();function _he(){return new vhe}function bhe(){return new WeakMap}var whe=typeof WeakMap<"u"?bhe:_he;function kT(n){if(!n)return Vb(null);var e=n.constructor;if(e===Object)return n===Object.prototype?{}:Vb(n);if(e&&~mhe.call(e).indexOf("[native code]"))try{return new e}catch{}return Vb(n)}function Ehe(n){var e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}function She(n){return n.flags}var Che=/test/g.flags==="g"?She:Ehe;function I2(n){var e=yhe.call(n);return e.substring(8,e.length-1)}function The(n){return n[Symbol.toStringTag]||I2(n)}var Ohe=typeof Symbol<"u"?The:I2,Ihe=Object.defineProperty,Phe=Object.getOwnPropertyDescriptor,P2=Object.getOwnPropertyNames,NT=Object.getOwnPropertySymbols,x2=Object.prototype,R2=x2.hasOwnProperty,xhe=x2.propertyIsEnumerable,A2=typeof NT=="function";function Rhe(n){return P2(n).concat(NT(n))}var Ahe=A2?Rhe:P2;function zv(n,e,t){for(var r=Ahe(n),s=0,i=r.length,o=void 0,a=void 0;s<i;++s)if(o=r[s],!(o==="callee"||o==="caller")){if(a=Phe(n,o),!a){e[o]=t.copier(n[o],t);continue}!a.get&&!a.set&&(a.value=t.copier(a.value,t));try{Ihe(e,o,a)}catch{e[o]=a.value}}return e}function Dhe(n,e){var t=new e.Constructor;e.cache.set(n,t);for(var r=0,s=n.length;r<s;++r)t[r]=e.copier(n[r],e);return t}function khe(n,e){var t=new e.Constructor;return e.cache.set(n,t),zv(n,t,e)}function D2(n,e){return n.slice(0)}function Nhe(n,e){return n.slice(0,n.size,n.type)}function Lhe(n,e){return new e.Constructor(D2(n.buffer))}function Mhe(n,e){return new e.Constructor(n.getTime())}function k2(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r,s){t.set(s,e.copier(r,e))}),t}function $he(n,e){return zv(n,k2(n,e),e)}function Fhe(n,e){var t=kT(e.prototype);e.cache.set(n,t);for(var r in n)R2.call(n,r)&&(t[r]=e.copier(n[r],e));return t}function jhe(n,e){var t=kT(e.prototype);e.cache.set(n,t);for(var r in n)R2.call(n,r)&&(t[r]=e.copier(n[r],e));for(var s=NT(n),i=0,o=s.length,a=void 0;i<o;++i)a=s[i],xhe.call(n,a)&&(t[a]=e.copier(n[a],e));return t}var Vhe=A2?jhe:Fhe;function Uhe(n,e){var t=kT(e.prototype);return e.cache.set(n,t),zv(n,t,e)}function Ub(n,e){return new e.Constructor(n.valueOf())}function Bhe(n,e){var t=new e.Constructor(n.source,Che(n));return t.lastIndex=n.lastIndex,t}function nm(n,e){return n}function N2(n,e){var t=new e.Constructor;return e.cache.set(n,t),n.forEach(function(r){t.add(e.copier(r,e))}),t}function Hhe(n,e){return zv(n,N2(n,e),e)}var zhe=Array.isArray,LT=Object.assign,Khe=Object.getPrototypeOf||function(n){return n.__proto__},L2={array:Dhe,arrayBuffer:D2,blob:Nhe,dataView:Lhe,date:Mhe,error:nm,map:k2,object:Vhe,regExp:Bhe,set:N2},Whe=LT({},L2,{array:khe,map:$he,object:Uhe,set:Hhe});function Ghe(n){return{Arguments:n.object,Array:n.array,ArrayBuffer:n.arrayBuffer,Blob:n.blob,Boolean:Ub,DataView:n.dataView,Date:n.date,Error:n.error,Float32Array:n.arrayBuffer,Float64Array:n.arrayBuffer,Int8Array:n.arrayBuffer,Int16Array:n.arrayBuffer,Int32Array:n.arrayBuffer,Map:n.map,Number:Ub,Object:n.object,Promise:nm,RegExp:n.regExp,Set:n.set,String:Ub,WeakMap:nm,WeakSet:nm,Uint8Array:n.arrayBuffer,Uint8ClampedArray:n.arrayBuffer,Uint16Array:n.arrayBuffer,Uint32Array:n.arrayBuffer,Uint64Array:n.arrayBuffer}}function M2(n){var e=LT({},L2,n),t=Ghe(e),r=t.Array,s=t.Object;function i(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=Khe(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return s(o,a);if(zhe(o))return r(o,a);var l=t[Ohe(o)];return l?l(o,a):typeof o.then=="function"?o:s(o,a)}return function(a){return i(a,{Constructor:void 0,cache:whe(),copier:i,prototype:void 0})}}function Yhe(n){return M2(LT({},Whe,n))}Yhe({});var $o=M2({});const vR="Enter",qhe="Tab";class Xhe extends ke{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleClick(e){this._adapter.notifyClick(e)}handleChange(e,t){this._adapter.notifyChange(e,t)}handleInputComplete(e){e.key===vR&&this._adapter.notifyEnter(e.target.value)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){this.stopPropagation(e),this._adapter.notifyRangeInputClear(e)}handleRangeInputEnterPress(e,t){e.key===vR&&this._adapter.notifyEnter(t)}handleRangeInputEndKeyPress(e){e.key===qhe&&this._adapter.notifyTabPress(e)}handleRangeInputFocus(e,t){this._adapter.notifyRangeInputFocus(e,t)}formatShowText(e,t){const{type:r,dateFnsLocale:s,format:i,rangeSeparator:o}=this._adapter.getProps(),a=t||i||wa(r);let l="";switch(r){case"date":l=Au(e,a,void 0,s);break;case"dateRange":l=Au(e,a,{groupSize:2,groupInnerSeparator:o},s);break;case"dateTime":l=Au(e,a,void 0,s);break;case"dateTimeRange":l=Au(e,a,{groupSize:2,groupInnerSeparator:o},s);break;case"month":l=Au(e,a,void 0,s);break;case"monthRange":l=Au(e,a,{groupSize:2,groupInnerSeparator:o},s);break}return l}handleInsetInputChange(e){const{value:t,valuePath:r,insetInputValue:s}=e,{format:i,type:o,rangeSeparator:a}=this._adapter.getProps(),l=em({type:o,format:i}),u=pc($o(s),r,t),d=this.concatInsetInputValue({insetInputValue:u}),h=zE({inputValue:d,type:o,rangeSeparator:a}),f=this._autoFillTimeToInsetInputValue({insetInputValue:h,valuePath:r,format:l}),m=this.concatInsetInputValue({insetInputValue:f});this._adapter.notifyInsetInputChange({insetInputValue:f,format:l,insetInputStr:m})}_autoFillTimeToInsetInputValue(e){const{valuePath:t,insetInputValue:r,format:s}=e,{type:i,defaultPickerValue:o,dateFnsLocale:a}=this._adapter.getProps(),l=$o(r),{nowDate:u,nextDate:d}=O2({defaultPickerValue:o,format:s,dateFnsLocale:a});if(i.includes("Time")){let h="";const f=Q(s.split(" "),"0",X.FORMAT_FULL_DATE),m=Q(s.split(" "),"1",X.FORMAT_TIME_PICKER);switch(t){case"monthLeft.dateInput":const b=l.monthLeft.dateInput;if(!l.monthLeft.timeInput&&b.length===f.length){const _=sn(l.monthLeft.dateInput,f);zs(_)&&(h=at(u,m),l.monthLeft.timeInput=h)}break;case"monthRight.dateInput":const v=l.monthRight.dateInput;if(!l.monthRight.timeInput&&v.length===f.length){const _=sn(v,f);zs(_)&&(h=at(d,m),l.monthRight.timeInput=h)}break}}return l}getInsetInputPlaceholder(){const{type:e,format:t,rangeSeparator:r}=this._adapter.getProps(),s=em({type:e,format:t});let i,o;switch(e){case"date":case"month":case"dateRange":i=s;break;case"dateTime":case"dateTimeRange":[i,o]=s.split(" ");break;case"monthRange":i=s+r+s;break}return{datePlaceholder:i,timePlaceholder:o}}getInsetInputValue(e){let{value:t,insetInputValue:r}=e;const{type:s,rangeSeparator:i,format:o}=this._adapter.getProps();let a="";if(ko(r))a=this.concatInsetInputValue({insetInputValue:r});else{const u=em({format:o,type:s});a=this.formatShowText(t,u)}return zE({inputValue:a,type:s,rangeSeparator:i})}concatInsetDateAndTime(e){let{date:t,time:r}=e;return`${t} ${r}`}concatInsetDateRange(e){let{rangeStart:t,rangeEnd:r}=e;const{rangeSeparator:s}=this._adapter.getProps();return`${t}${s}${r}`}concatInsetInputValue(e){let{insetInputValue:t}=e;const{type:r}=this._adapter.getProps();let s="";switch(r){case"date":case"month":case"monthRange":s=t.monthLeft.dateInput;break;case"dateRange":s=this.concatInsetDateRange({rangeStart:t.monthLeft.dateInput,rangeEnd:t.monthRight.dateInput});break;case"dateTime":s=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput});break;case"dateTimeRange":const i=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput}),o=this.concatInsetDateAndTime({date:t.monthRight.dateInput,time:t.monthRight.timeInput});s=this.concatInsetDateRange({rangeStart:i,rangeEnd:o});break}return s}}function _R(n){const{insetInputValue:e,valuePath:t,onFocus:r,onChange:s,placeholder:i,forwardRef:o}=n,a=Q(e,t);return g.createElement(Kn,{value:a,onChange:(l,u)=>{s({value:l,event:u,insetInputValue:e,valuePath:t})},onFocus:r,placeholder:i,ref:o})}function bR(n){const{insetInputValue:e,valuePath:t,type:r,onFocus:s,onChange:i,placeholder:o,disabled:a}=n;if(!r.includes("Time"))return null;const u=Q(e,t);return g.createElement(Kn,{value:u,onChange:(d,h)=>{i({value:d,event:h,insetInputValue:e,valuePath:t})},onFocus:s,placeholder:o,disabled:a})}var Qhe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class yy extends xe{constructor(e){super(e),this.handleChange=(t,r)=>this.foundation.handleChange(t,r),this.handleEnterPress=t=>this.foundation.handleInputComplete(t),this.handleInputClear=t=>this.foundation.handleInputClear(t),this.handleRangeInputChange=(t,r,s)=>{const i=this.getRangeInputValue(t,r);this.foundation.handleChange(i,s)},this.handleRangeInputClear=t=>{this.foundation.handleRangeInputClear(t)},this.handleRangeInputEnterPress=(t,r,s)=>{const i=this.getRangeInputValue(r,s);this.foundation.handleRangeInputEnterPress(t,i)},this.handleRangeInputEndKeyPress=t=>{this.foundation.handleRangeInputEndKeyPress(t)},this.handleRangeInputFocus=(t,r)=>{this.foundation.handleRangeInputFocus(t,r)},this.handleRangeStartFocus=t=>{this.handleRangeInputFocus(t,"rangeStart")},this.handleInsetInputChange=t=>{this.foundation.handleInsetInputChange(t)},this.getRangeInputValue=(t,r)=>{const{rangeSeparator:s}=this.props;return`${t}${s}${r}`},this.foundation=new Xhe(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateIsFocusing:t=>this.setState({isFocusing:t}),notifyClick:function(){return e.props.onClick(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyEnter:function(){return e.props.onEnterPress(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyRangeInputClear:function(){return e.props.onRangeClear(...arguments)},notifyRangeInputFocus:function(){return e.props.onFocus(...arguments)},notifyTabPress:function(){return e.props.onRangeEndTabPress(...arguments)},notifyInsetInputChange:t=>this.props.onInsetInputChange(t)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}formatText(e){return e&&e.length?this.foundation.formatShowText(e):""}renderRangePrefix(){const{prefix:e,insetLabel:t,prefixCls:r,disabled:s,rangeInputFocus:i}=this.props,o=e||t;return o?g.createElement("div",{className:`${r}-range-input-prefix`,onClick:a=>!s&&!i&&this.handleRangeStartFocus(a),"x-semi-prop":"prefix,insetLabel"},o):null}renderRangeSeparator(e,t){const{disabled:r,rangeSeparator:s}=this.props,i=$({[`${we.PREFIX}-range-input-separator`]:!0,[`${we.PREFIX}-range-input-separator-active`]:(e||t)&&!r});return g.createElement("span",{onClick:o=>!r&&this.handleRangeStartFocus(o),className:i},s)}renderRangeClearBtn(e,t){const{showClear:r,prefixCls:s,disabled:i,clearIcon:o,showClearIgnoreDisabled:a}=this.props;return(e||t)&&r&&!(i&&!a)?g.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear range input value",className:`${s}-range-input-clearbtn`,onMouseDown:d=>this.handleRangeInputClear(d)},o||g.createElement(Za,{"aria-hidden":!0})):null}renderRangeSuffix(e){const{prefixCls:t,disabled:r,rangeInputFocus:s}=this.props;return e?g.createElement("div",{className:`${t}-range-input-suffix`,onClick:o=>!r&&!s&&this.handleRangeStartFocus(o)},e):null}renderRangeInput(e){const{placeholder:t,inputStyle:r,disabled:s,inputReadOnly:i,autofocus:o,size:a,text:l,suffix:u,inputCls:d,rangeInputStartRef:h,rangeInputEndRef:f,rangeInputFocus:m,prefixCls:b,rangeSeparator:v,borderless:_}=e,[y,w=""]=l.split(v)||[],E=a==="large"?"default":"small",S=Array.isArray(t)?t:[t,t],[I,x]=S,O=$(`${b}-range-input-wrapper-start`,`${b}-range-input-wrapper`,{[`${b}-range-input-wrapper-active`]:m==="rangeStart"&&!s,[`${b}-range-input-wrapper-start-with-prefix`]:this.props.prefix||this.props.insetLabel,[`${b}-borderless`]:_}),T=$(`${b}-range-input-wrapper-end`,`${b}-range-input-wrapper`,{[`${b}-range-input-wrapper-active`]:m==="rangeEnd"&&!s,[`${b}-borderless`]:_});return g.createElement(g.Fragment,null,this.renderRangePrefix(),g.createElement("div",{onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeStart"),className:`${d} ${O}`},g.createElement(Kn,{borderless:_,size:E,style:r,disabled:s,readonly:i,placeholder:I,value:y,onChange:(P,A)=>this.handleRangeInputChange(P,w,A),onEnterPress:P=>this.handleRangeInputEnterPress(P,y,w),onFocus:P=>this.handleRangeInputFocus(P,"rangeStart"),autoFocus:o,ref:h})),this.renderRangeSeparator(y,w),g.createElement("div",{className:`${d} ${T}`,onClick:P=>!s&&this.handleRangeInputFocus(P,"rangeEnd")},g.createElement(Kn,{borderless:_,size:E,style:r,disabled:s,readonly:i,placeholder:x,value:w,onChange:(P,A)=>this.handleRangeInputChange(y,P,A),onEnterPress:P=>this.handleRangeInputEnterPress(P,y,w),onFocus:P=>this.handleRangeInputFocus(P,"rangeEnd"),onKeyDown:this.handleRangeInputEndKeyPress,ref:f})),this.renderRangeClearBtn(y,w),this.renderRangeSuffix(u))}isRenderMultipleInputs(){const{type:e}=this.props;return e.includes("Range")&&e!=="monthRange"}renderInputInset(){const{type:e,handleInsetDateFocus:t,handleInsetTimeFocus:r,value:s,insetInputValue:i,prefixCls:o,rangeInputStartRef:a,rangeInputEndRef:l,density:u,insetInput:d}=this.props,h=this.foundation.getInsetInputValue({value:s,insetInputValue:i}),{dateStart:f,dateEnd:m,timeStart:b,timeEnd:v}=Q(d,"placeholder",{}),{datePlaceholder:_,timePlaceholder:y}=this.foundation.getInsetInputPlaceholder(),w=`${o}-inset-input-wrapper`,E=`${o}-inset-input-separator`;return g.createElement("div",{className:w,"x-type":e},g.createElement(_R,{forwardRef:a,insetInputValue:h,placeholder:f??_,valuePath:"monthLeft.dateInput",onChange:this.handleInsetInputChange,onFocus:S=>t(S,"rangeStart")}),g.createElement(bR,{disabled:!h.monthLeft.dateInput,insetInputValue:h,placeholder:b??y,type:e,valuePath:"monthLeft.timeInput",onChange:this.handleInsetInputChange,onFocus:r}),this.isRenderMultipleInputs()&&g.createElement(g.Fragment,null,g.createElement("div",{className:E},u==="compact"?null:"-"),g.createElement(_R,{forwardRef:l,insetInputValue:h,placeholder:m??_,valuePath:"monthRight.dateInput",onChange:this.handleInsetInputChange,onFocus:S=>t(S,"rangeEnd")}),g.createElement(bR,{disabled:!h.monthRight.dateInput,insetInputValue:h,placeholder:v??y,type:e,valuePath:"monthRight.timeInput",onChange:this.handleInsetInputChange,onFocus:r})))}renderTriggerInput(){const e=this.props,{placeholder:t,type:r,value:s,inputValue:i,inputStyle:o,disabled:a,showClear:l,inputReadOnly:u,insetLabel:d,validateStatus:h,block:f,prefixCls:m,multiple:b,dateFnsLocale:v,onBlur:_,onClear:y,onFocus:w,prefix:E,autofocus:S,size:I,inputRef:x,rangeInputStartRef:O,rangeInputEndRef:T,onRangeClear:P,onRangeBlur:A,onRangeEndTabPress:k,rangeInputFocus:M,rangeSeparator:N,insetInput:K,insetInputValue:G,defaultPickerValue:z,showClearIgnoreDisabled:ee}=e,j=Qhe(e,["placeholder","type","value","inputValue","inputStyle","disabled","showClear","inputReadOnly","insetLabel","validateStatus","block","prefixCls","multiple","dateFnsLocale","onBlur","onClear","onFocus","prefix","autofocus","size","inputRef","rangeInputStartRef","rangeInputEndRef","onRangeClear","onRangeBlur","onRangeEndTabPress","rangeInputFocus","rangeSeparator","insetInput","insetInputValue","defaultPickerValue","showClearIgnoreDisabled"]),H=g.createElement(U$,{"aria-hidden":!0}),U=g.createElement(Jre,{"aria-hidden":!0}),oe=r.includes("Time")?U:H;let ne="";bt(i)?s&&(ne=this.formatText(s)):ne=i;const re=$({[`${m}-input-readonly`]:u,[`${m}-monthRange-input`]:r==="monthRange"}),de=Object.assign(Object.assign({},this.props),{text:ne,suffix:oe,inputCls:re});return this.isRenderMultipleInputs()?this.renderRangeInput(de):g.createElement(Kn,Object.assign({},j,{ref:x,insetLabel:d,disabled:a,showClearIgnoreDisabled:ee,readonly:u,className:re,style:o,hideSuffix:l,placeholder:r==="monthRange"&&Array.isArray(t)?t[0]+N+t[1]:t,onEnterPress:this.handleEnterPress,onChange:this.handleChange,onClear:this.handleInputClear,suffix:oe,showClear:l,value:ne,validateStatus:h,prefix:E,autoFocus:S,size:I,onBlur:_,onFocus:w}))}render(){const{insetInput:e}=this.props;return e?this.renderInputInset():this.renderTriggerInput()}}yy.propTypes={borderless:c.bool,onClick:c.func,onChange:c.func,onEnterPress:c.func,onBlur:c.func,onClear:c.func,onFocus:c.func,value:c.array,disabled:c.bool,type:c.oneOf(X.TYPE_SET),showClear:c.bool,format:c.string,inputStyle:c.object,inputReadOnly:c.bool,insetLabel:c.node,validateStatus:c.string,prefix:c.node,prefixCls:c.string,dateFnsLocale:c.object.isRequired,placeholder:c.oneOfType([c.string,c.array]),rangeInputFocus:c.oneOfType([c.string,c.bool]),rangeInputStartRef:c.object,rangeInputEndRef:c.object,rangeSeparator:c.string,insetInput:c.oneOfType([c.bool,c.object]),insetInputValue:c.object,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array])};yy.defaultProps={borderless:!1,showClear:!0,onClick:Pt,onChange:Pt,onEnterPress:Pt,onBlur:Pt,onClear:Pt,onFocus:Pt,type:"date",inputStyle:{},inputReadOnly:!1,prefixCls:we.PREFIX,rangeSeparator:X.DEFAULT_SEPARATOR_RANGE};function $2(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r="";const s=typeof e=="number"&&e<10?`0${e}`:e.toString(),i=typeof t=="number"&&t<10?`0${t}`:t.toString();return r=`${String(n)}-${s}-${i}`,r}function Zhe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const t={dayNumber:"",dateNumberFull:"",fullDate:""},r=x$(n),s=at(n,"yyyy"),i=at(n,"MM"),o=ene(n),a=ote(n),l=Number(at(a,"e",{weekStartsOn:e})),u=[];let d=[];for(let h=1;h<l;h++)d.push(t);for(let h=0;h<r;h++){const f=h+1,m=f<10?`0${f}`:f.toString(),b=$2(s,i,f);d.push({dayNumber:f,dayNumberFull:m,fullDate:b}),d.length===7?(u.push(d),d=[]):b===at(o,"yyyy-MM-dd")&&(u.push(d),d=[])}return u}const Jhe=(n,e)=>{const t=Zhe(n,e);return{monthText:at(n,"yyyy-MM"),weeks:t,month:n}},wR={month:fl,year:ite},efe={prevMonth:gre,nextMonth:ba,prevYear:mre,nextYear:ty};class tfe extends ke{constructor(e){super(Object.assign({},e)),this.newBiMonthPanelDate=[this.getState("monthLeft").pickerDate,this.getState("monthRight").pickerDate]}init(){const e=this.getProp("defaultValue");this.initDefaultPickerValue(),this.updateSelectedFromProps(e)}initDefaultPickerValue(){const e=sn(this.getProp("defaultPickerValue"));e&&zs(e)&&(this._updatePanelDetail(X.PANEL_TYPE_LEFT,{pickerDate:e}),this._updatePanelDetail(X.PANEL_TYPE_RIGHT,{pickerDate:ba(e,1)}))}updateSelectedFromProps(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.getProp("type"),{selected:s,rangeStart:i,rangeEnd:o}=this.getStates();if(e&&(e!=null&&e.length))switch(r){case"date":this._initDatePickerFromValue(e,t);break;case"dateRange":this._initDateRangePickerFromValue(e);break;case"dateTime":this._initDateTimePickerFromValue(e);break;case"dateTimeRange":this._initDateTimeRangePickerFormValue(e);break}else(Array.isArray(e)&&!e.length||!e)&&(JM(s)&&s.size&&this._adapter.updateDaySelected(new Set),i&&this._adapter.setRangeStart(""),o&&this._adapter.setRangeEnd(""))}calcDisabledTime(e){const{disabledTime:t,type:r}=this.getProps();if(typeof t=="function"&&e&&["dateTime","dateTimeRange"].includes(r)){const{rangeStart:s,rangeEnd:i,monthLeft:o}=this.getStates(),a=[];r==="dateTimeRange"?(s&&a.push(s),s&&i&&a.push(i)):o&&o.showDate&&a.push(o.showDate);const l=a.map(d=>d instanceof Date?d:Hs(d)),u=r==="dateTimeRange"?l:l[0];return t(u,e)}}_initDatePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{monthLeft:r}=this._adapter.getStates(),s=Object.assign({},r);this._adapter.updateMonthOnLeft(s);const i=new Set,o=this._isMultiple();o?e.forEach(a=>{a&&i.add(at(a,X.FORMAT_FULL_DATE))}):e[0]&&i.add(at(e[0],X.FORMAT_FULL_DATE)),t?o?!(e!=null&&e.some(l=>l&&fl(l,r.pickerDate)===0))&&this.handleShowDateAndTime(X.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(X.PANEL_TYPE_LEFT,e[0]||s.pickerDate):this.handleShowDateAndTime(X.PANEL_TYPE_LEFT,s.pickerDate),this._adapter.updateDaySelected(i)}_initDateRangePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.getState("monthLeft"),s=this.getState("monthRight"),i=this._autoAdjustMonth(Object.assign(Object.assign({},r),{pickerDate:e[0]||r.pickerDate}),Object.assign(Object.assign({},s),{pickerDate:e[1]||s.pickerDate}));if(Array.isArray(e)&&e.filter(d=>d).length>1)this.handleShowDateAndTime(X.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(X.PANEL_TYPE_RIGHT,i.monthRight.pickerDate);else{const d=e.find(h=>h);if(d){const h=Math.abs(fl(d,r.pickerDate))>0,f=Math.abs(fl(d,s.pickerDate))>0;h&&f&&(this.handleShowDateAndTime(X.PANEL_TYPE_LEFT,i.monthLeft.pickerDate),this.handleShowDateAndTime(X.PANEL_TYPE_RIGHT,i.monthRight.pickerDate))}}const a=t?X.FORMAT_DATE_TIME:X.FORMAT_FULL_DATE;let l=e[0]&&at(e[0],a),u=e[1]&&at(e[1],a);this._isNeedSwap(l,u)&&([l,u]=[u,l]),this._adapter.setRangeStart(l),this._adapter.setRangeEnd(u),this._adapter.setHoverDay(u)}_initDateTimePickerFromValue(e){this._initDatePickerFromValue(e)}_initDateTimeRangePickerFormValue(e){this._initDateRangePickerFromValue(e,!0)}destroy(){}handleSyncChangeMonths(e){const{panelType:t,target:r}=e,{type:s}=this._adapter.getProps(),{monthLeft:i,monthRight:o}=this._adapter.getStates();this.isRangeType(s)&&(t==="right"&&fl(r,i.pickerDate)===0?this.handleYearOrMonthChange("prevMonth","left",1,!0):t==="left"&&fl(o.pickerDate,r)===0&&this.handleYearOrMonthChange("nextMonth","right",1,!0))}getTargetChangeDate(e){const{panelType:t,switchType:r}=e,{monthRight:s,monthLeft:i}=this._adapter.getStates(),o=t==="left"?i.pickerDate:s.pickerDate;let a;switch(r){case"prevMonth":a=ba(o,-1);break;case"nextMonth":a=ba(o,1);break;case"prevYear":a=ty(o,-1);break;case"nextYear":a=ty(o,1);break}return a}toMonth(e,t){const{type:r}=this._adapter.getProps(),s=this._getDiff("month",t,e);this.handleYearOrMonthChange(s<0?"prevMonth":"nextMonth",e,Math.abs(s),!1),this.isRangeType(r)&&this.handleSyncChangeMonths({panelType:e,target:t})}toYear(e,t){const r=this._getDiff("year",t,e);this.handleYearOrMonthChange(r<0?"prevYear":"nextYear",e,Math.abs(r),!1)}toYearMonth(e,t){this.toYear(e,t),this.toMonth(e,t)}isRangeType(e){const{type:t}=this.getProps(),r=e||t;return typeof r=="string"&&/range/i.test(r)}handleSwitchMonthOrYear(e,t){const{type:r,syncSwitchMonth:s}=this.getProps(),i=this.isRangeType(r);if(i&&s)this.handleYearOrMonthChange(e,"left",1,!0),this.handleYearOrMonthChange(e,"right",1,!0);else if(this.handleYearOrMonthChange(e,t),i){const o=this.getTargetChangeDate({panelType:t,switchType:e});this.handleSyncChangeMonths({panelType:t,target:o})}}prevMonth(e){this.handleSwitchMonthOrYear("prevMonth",e)}nextMonth(e){this.handleSwitchMonthOrYear("nextMonth",e)}prevYear(e){this.handleSwitchMonthOrYear("prevYear",e)}nextYear(e){this.handleSwitchMonthOrYear("nextYear",e)}_getDiff(e,t,r){const s=this._getPanelDetail(r);return wR[e]&&wR[e](t,s.pickerDate)}_getPanelDetail(e){return e===X.PANEL_TYPE_RIGHT?this.getState("monthRight"):this.getState("monthLeft")}localeFormat(e,t){const r=this._adapter.getProp("dateFnsLocale");return at(e,t,{locale:r})}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const r=this.getProp("timeZone");tm(r)&&(t=t.map(l=>yc(l,r)));const s=this.getProp("type"),i=this.getProp("format")||wa(s);let o,a;switch(s){case"date":case"dateTime":case"month":this._isMultiple()?(o=t.map(l=>l&&this.localeFormat(l,i)),a=[...t]):(o=t[0]&&this.localeFormat(t[0],i),[a]=t);break;case"dateRange":case"dateTimeRange":o=t.map(l=>l&&this.localeFormat(l,i)),a=[...t];break}return{notifyValue:o,notifyDate:a}}handleYearOrMonthChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X.PANEL_TYPE_LEFT,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{autoSwitchDate:i,type:o}=this.getProps(),{monthLeft:a,monthRight:l}=this.getStates(),u=this.isRangeType(o),d=u&&t===X.PANEL_TYPE_LEFT,h=this._getPanelDetail(t),{pickerDate:f}=h,m=efe[e],b=m(f,r),v=t===X.PANEL_TYPE_LEFT&&!Fe(b,a.pickerDate)||t===X.PANEL_TYPE_RIGHT&&!Fe(b,l.pickerDate);if(this._updatePanelDetail(t,{pickerDate:b}),v)if(u){if(d?this.newBiMonthPanelDate[0]=b:this.newBiMonthPanelDate[1]=b,!(d&&s)){const{notifyValue:_,notifyDate:y}=this.disposeCallbackArgs(this.newBiMonthPanelDate);this._adapter.notifyPanelChange(y,_)}}else{const{notifyValue:_,notifyDate:y}=this.disposeCallbackArgs(b);this._adapter.notifyPanelChange(y,_)}i&&this.updateDateAfterChangeYM(e,b)}updateDateAfterChangeYM(e,t){const{multiple:r,disabledDate:s,type:i}=this.getProps(),{selected:o,rangeStart:a,rangeEnd:l,monthLeft:u}=this.getStates(),d=["dateRange","dateTimeRange"].includes(e),h={closePanel:!1};if(!r&&!d&&o.size){const f=Array.from(o)[0],m=new Date(f),b=t.getFullYear(),v=t.getMonth();let _=j$(m,{year:b,month:v});if(i==="dateTime"&&(_=this._mergeDateAndTime(_,u.pickerDate)),s(_,{rangeStart:a,rangeEnd:l}))return;this._adapter.notifySelectedChange([_],h)}}_isMultiple(){return!!this.getProp("multiple")&&this.getProp("type")==="date"}_isRange(){}handleDayClick(e,t){const r=this.getProp("type");switch(!0){case(r==="date"||r==="dateTime"):this.handleDateSelected(e,t);break;case(r==="dateRange"||r==="dateTimeRange"):this.handleRangeSelected(e);break}}handleDateSelected(e,t){const{max:r,type:s,isControlledComponent:i,dateFnsLocale:o}=this.getProps(),a=this._isMultiple(),{selected:l}=this.getStates(),u=this._getPanelDetail(t),d=new Set(a?[...l]:[]),{fullDate:h}=e,f=u.pickerDate,m=h;a?d.has(m)?d.delete(m):r&&d.size===r?this._adapter.notifyMaxLimit():d.add(m):d.add(m);const b=[...d].map(v=>s==="dateTime"?this._mergeDateAndTime(v,f):sn(v,X.FORMAT_FULL_DATE,void 0,o));this.handleShowDateAndTime(t,f),i||this._adapter.updateDaySelected(d),this._adapter.notifySelectedChange(b)}handleShowDateAndTime(e,t,r){const s=r||t;this._updatePanelDetail(e,{showDate:s,pickerDate:t})}_mergeDateAndTime(e,t){const r=this._adapter.getProp("dateFnsLocale"),s=at(zs(e)?e:sn(e,X.FORMAT_FULL_DATE,void 0,r),X.FORMAT_FULL_DATE),i=at(zs(t)?t:sn(t,X.FORMAT_TIME_PICKER,void 0,r),X.FORMAT_TIME_PICKER),o=this.getValidTimeFormat();return sn(`${s} ${i}`,o,void 0,r)}handleRangeSelected(e){let{rangeStart:t,rangeEnd:r}=this.getStates();const{startDateOffset:s,endDateOffset:i,type:o,dateFnsLocale:a,rangeInputFocus:l,triggerRender:u}=this._adapter.getProps(),{fullDate:d}=e;let h=!1,f=!1;const m=(s||i)&&o==="dateRange";m?(t=bg(s,d),r=bg(i,d)):l==="rangeEnd"?(r=d,t&&r&&rc(r,t.trim().split(/\s+/)[0])&&(t=null,h=!0)):(l==="rangeStart"||!l)&&(t=d,t&&r&&rc(r.trim().split(/\s+/)[0],t)&&(r=null,f=!0)),/range/i.test(o)&&(m?(this._adapter.setRangeStart(t),this._adapter.setRangeEnd(r)):l==="rangeEnd"?(this._adapter.setRangeEnd(r),h&&this._adapter.setRangeStart(t),(!this._adapter.isAnotherPanelHasOpened("rangeEnd")||!t)&&this._adapter.setRangeInputFocus("rangeStart")):(l==="rangeStart"||!l)&&(this._adapter.setRangeStart(t),f&&this._adapter.setRangeEnd(r),(!this._adapter.isAnotherPanelHasOpened("rangeStart")||!r)&&this._adapter.setRangeInputFocus("rangeEnd")));const v=this.getValidDateFormat();if(t||r){const[_,y]=[sn(t,v,void 0,a),sn(r,v,void 0,a)];let w=[_,y];if(o==="dateTimeRange"){const S=this.getState("monthLeft").pickerDate,I=this.getState("monthRight").pickerDate,x=t?this._mergeDateAndTime(t,S):null,O=r?this._mergeDateAndTime(r,I):null;sT(_,y)&&rc(O,x)?w=[x,x]:w=[x,O]}const E=!(o==="dateRange"&&m);this._adapter.notifySelectedChange(w,{needCheckFocusRecord:E})}}_isNeedSwap(e,t){return e&&t&&rc(t,e)}handleDayHover(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fullDate:""};const{fullDate:t}=e,{startDateOffset:r,endDateOffset:s,type:i}=this.getProps();if(this._adapter.setHoverDay(t),(r||s)&&i==="dateRange"){const o=bg(r,t),a=bg(s,t);this._adapter.setOffsetRangeStart(o),this._adapter.setOffsetRangeEnd(a)}}_autoAdjustMonth(e,t){let r=e,s=t;const i=fl(e.pickerDate,t.pickerDate);return i>0?(r=Object.assign({},t),s=Object.assign({},e)):i===0&&(r=e,s=Object.assign(Object.assign({},t),{pickerDate:ba(t.pickerDate,1)})),{monthLeft:r,monthRight:s}}getValidTimeFormat(){const e=this.getProp("format")||X.FORMAT_TIME_PICKER,t=[];return(nc(e,"h")||nc(e,"H"))&&t.push("HH"),nc(e,"m")&&t.push("mm"),nc(e,"s")&&t.push("ss"),t.join(":")}getValidDateFormat(){return this.getProp("format")||Ode(this.getProp("type"))}handleTimeChange(e,t){const{rangeEnd:r,rangeStart:s}=this.getStates(),i=this.getProp("dateFnsLocale"),o=e.timeStampValue,a=this.getProp("type"),l=this._getPanelDetail(t),{showDate:u}=l,d=new Date(o),h=this.getValidDateFormat(),f=t===X.PANEL_TYPE_RIGHT?r:s;let m,b,v;if(a==="dateTimeRange"&&f){const x=sn(f,h,void 0,i);m=x.getFullYear(),b=x.getMonth(),v=x.getDate()}else m=u.getFullYear(),b=u.getMonth(),v=u.getDate();const _=d.getHours(),y=d.getMinutes(),w=d.getSeconds(),E=d.getMilliseconds(),S=[m,b,v,_,y,w,E],I=new Date(...S);if(a==="dateTimeRange")this.handleShowDateAndTime(t,I,u),this._updateTimeInDateRange(t,I);else{const x=$2(m,b+1,v);this.handleDateSelected({fullDate:x,fullValidDate:I},t),this.handleShowDateAndTime(t,I),this._adapter.notifySelectedChange([I])}}_updateTimeInDateRange(e,t){const{isControlledComponent:r,dateFnsLocale:s}=this.getProps();let i=this.getState("rangeStart"),o=this.getState("rangeEnd");const a=this.getValidDateFormat();if(i&&o){let l=sn(i,a,void 0,s),u=sn(o,a,void 0,s);e===X.PANEL_TYPE_RIGHT?(u=this._mergeDateAndTime(t,t),o=at(u,X.FORMAT_DATE_TIME),this._isNeedSwap(i,o)&&([i,o]=[o,i],[l,u]=[u,l]),r||this._adapter.setRangeEnd(o)):(l=this._mergeDateAndTime(t,t),i=at(l,X.FORMAT_DATE_TIME),this._isNeedSwap(i,o)&&([i,o]=[o,i],[l,u]=[u,l]),r||this._adapter.setRangeStart(i)),this._adapter.notifySelectedChange([l,u])}}_updatePanelDetail(e,t){const{monthLeft:r,monthRight:s}=this.getStates();e===X.PANEL_TYPE_RIGHT?this._adapter.updateMonthOnRight(Object.assign(Object.assign({},s),t)):this._adapter.updateMonthOnLeft(Object.assign(Object.assign({},r),t))}showYearPicker(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!0})}showTimePicker(e,t){this.getProp("disabledTimePicker")||this._updatePanelDetail(e,{isTimePickerOpen:!0,isYearPickerOpen:!1})}showDatePanel(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!1})}getYAMOpenType(){const{monthLeft:e,monthRight:t}=this._adapter.getStates(),r=e.isYearPickerOpen,s=t.isYearPickerOpen;return r&&s?"both":r?"left":s?"right":"none"}}const ER=we.NAVIGATION;class MT extends D.PureComponent{constructor(e){super(e),this.navRef=g.createRef()}render(){const{forwardRef:e,monthText:t,onMonthClick:r,onNextMonth:s,onPrevMonth:i,onPrevYear:o,onNextYear:a,density:l,shouldBimonthSwitch:u,panelType:d}=this.props,h="borderless",f=l==="compact"?"default":"large",m=!0,b=l==="compact"?"small":"default",v=d===X.PANEL_TYPE_LEFT,_=d===X.PANEL_TYPE_RIGHT,y=u&&v,w=u&&_,E={},S={};w&&(E.visibility="hidden"),y&&(S.visibility="hidden");const I=e||this.navRef;return g.createElement("div",{className:ER,ref:I},g.createElement(Us,{key:"double-chevron-left","aria-label":"Previous year",icon:g.createElement(gse,{"aria-hidden":!0,size:f}),size:b,theme:h,noHorizontalPadding:m,onClick:o,style:E}),g.createElement(Us,{key:"chevron-left","aria-label":"Previous month",icon:g.createElement(B$,{"aria-hidden":!0,size:f}),size:b,onClick:i,theme:h,noHorizontalPadding:m,style:E}),g.createElement("div",{className:`${ER}-month`},g.createElement(Jt,{onClick:r,theme:h,size:b},g.createElement("span",null,t))),g.createElement(Us,{key:"chevron-right","aria-label":"Next month",icon:g.createElement(H$,{"aria-hidden":!0,size:f}),size:b,onClick:s,theme:h,noHorizontalPadding:m,style:S}),g.createElement(Us,{key:"double-chevron-right","aria-label":"Next year",icon:g.createElement(yse,{"aria-hidden":!0,size:f}),size:b,theme:h,noHorizontalPadding:m,onClick:a,style:S}))}}MT.propTypes={monthText:c.string,density:c.string,onMonthClick:c.func,onNextMonth:c.func,onPrevMonth:c.func,onNextYear:c.func,onPrevYear:c.func,navPrev:c.node,navNext:c.node,shouldBimonthSwitch:c.bool,panelType:c.oneOf([X.PANEL_TYPE_LEFT,X.PANEL_TYPE_RIGHT])};MT.defaultProps={monthText:"",onMonthClick:F,onNextMonth:F,onPrevMonth:F,onNextYear:F,onPrevYear:F};const nfe=n=>{let{weekStartsOn:e=0}=n;const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let r=0;r<e;r++)t.push(t.shift());return t};class rfe extends ke{constructor(e){super(Object.assign({},e))}init(){this._getToday(),this.getMonthTable()}_getToday(){const t=at(new Date,"yyyy-MM-dd");this._adapter.updateToday(t)}getMonthTable(){const e=this._adapter.getProp("month"),t=this.getState("weeksRowNum");if(e){this.updateWeekDays();const r=this._adapter.getProp("weekStartsOn"),s=Jhe(e,r),{weeks:i}=s;this._adapter.updateMonthTable(s),bt(t)?this._adapter.setWeeksRowNum(i.length):Array.isArray(i)&&i.length!==t&&this._adapter.setWeeksRowNum(i.length,()=>{this._adapter.notifyWeeksRowNumChange(i.length)})}}updateWeekDays(){const e=this._adapter.getProp("weekStartsOn"),t=nfe({weekStartsOn:e});this._adapter.setWeekDays(t)}destroy(){}handleClick(e){this._adapter.notifyDayClick(e)}handleHover(e){this._adapter.notifyDayHover(e)}}const sfe=we.PREFIX;class $T extends xe{constructor(e){super(e),this.state={weekdays:[],month:{weeks:[],monthText:""},todayText:"",weeksRowNum:e.weeksRowNum},this.monthRef=g.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToday:e=>this.setState({todayText:e}),setWeekDays:e=>this.setState({weekdays:e}),setWeeksRowNum:(e,t)=>this.setState({weeksRowNum:e},t),updateMonthTable:e=>this.setState({month:e}),notifyDayClick:e=>this.props.onDayClick(e),notifyDayHover:e=>this.props.onDayHover(e),notifyWeeksRowNumChange:e=>this.props.onWeeksRowNumChange(e)})}componentDidMount(){this.foundation=new rfe(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){e.month!==this.props.month&&this.foundation.getMonthTable()}getSingleDayStatus(e){const{rangeInputFocus:t}=this.props,{fullDate:r,todayText:s,selected:i,disabledDate:o,rangeStart:a,rangeEnd:l}=e,u={rangeStart:a,rangeEnd:l,rangeInputFocus:t},d=r===s,h=i.has(r);let f=o&&o(Hs(r),u);return!f&&this.props.rangeInputFocus==="rangeStart"&&l&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeEnd&&(f=pR(r,l.trim().split(/\s+/)[0])),!f&&this.props.rangeInputFocus==="rangeEnd"&&a&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeStart&&(f=rc(r,a.trim().split(/\s+/)[0])),{isToday:d,isSelected:h,isDisabled:f}}getDateRangeStatus(e){const{rangeStart:t,rangeEnd:r,fullDate:s,hoverDay:i,offsetRangeStart:o,offsetRangeEnd:a,rangeInputFocus:l}=e,u=!!(t||r),d=!!(t&&r),h=o||a;if(!u)return{};const f=ta(i,s);let m,b,v,_,y;t&&(v=ta(s,t),l==="rangeEnd"&&(m=Ru(s,{start:t,end:i}))),r&&(_=ta(s,r),l==="rangeStart"&&(b=Ru(s,{start:i,end:r}))),!d&&u&&(y=f);let w;h||(w=m||b||f);let E,S,I,x,O,T;return d&&(E=Ru(s,{start:t,end:r}),h||(S=v&&pR(t,i),I=_&&rc(r,i),x=f&&l==="rangeStart",O=f&&l==="rangeEnd",T=f&&Ru(i,{start:t,end:r}))),{isHoverDay:f,isSelectedStart:v,isSelectedEnd:_,isInRange:E,isHover:w,isSelectedStartAfterHover:S,isSelectedEndBeforeHover:I,isHoverDayInRange:T,isHoverDayInStartSelection:x,isHoverDayInEndSelection:O,isHoverDayAroundOneSelected:y}}getOffsetDateStatus(e){const{offsetRangeStart:t,offsetRangeEnd:r,rangeStart:s,rangeEnd:i,fullDate:o,hoverDay:a}=e;if(!(t||r))return{};const u=Ru(o,{start:s,end:i}),d=ta(a,o),h=s&&ta(o,s),f=i&&ta(o,i),m=!!(s&&i),b=ta(o,t),v=ta(o,r),_=d;let y,w;return m&&(y=u&&d),!!(t&&r)&&(w=h||Ru(o,{start:t,end:r})||f),{isOffsetRangeStart:b,isOffsetRangeEnd:v,isHoverInOffsetRange:y,isHoverDayOffset:_,isInOffsetRange:w}}getDayStatus(e,t){const{fullDate:r}=e,{hoverDay:s,rangeStart:i,rangeEnd:o,todayText:a,offsetRangeStart:l,offsetRangeEnd:u,disabledDate:d,selected:h,rangeInputFocus:f}=t,m=this.getSingleDayStatus({fullDate:r,todayText:a,hoverDay:s,selected:h,disabledDate:d,rangeStart:i,rangeEnd:o}),b=this.getDateRangeStatus(Object.assign({fullDate:r,rangeStart:i,rangeEnd:o,hoverDay:s,offsetRangeStart:l,offsetRangeEnd:u,rangeInputFocus:f},m)),v=this.getOffsetDateStatus(Object.assign(Object.assign({offsetRangeStart:l,offsetRangeEnd:u,rangeStart:i,rangeEnd:o,fullDate:r,hoverDay:s},m),b));return Object.assign(Object.assign(Object.assign({},m),b),v)}renderDayOfWeek(){const{locale:e}=this.props,t=$(we.WEEKDAY),r=$(`${sfe}-weekday-item`),{weekdays:s}=this.state,i=s.map(o=>e.weeks[o]);return g.createElement("div",{role:"row",className:t},i.map((o,a)=>g.createElement("div",{role:"columnheader",key:o+a,className:r},o)))}renderWeeks(){const{month:e}=this.state,{weeks:t}=e,{weeksRowNum:r}=this.props;let s={};r&&(s={height:r*$c.WEEK_HEIGHT});const i=$(we.WEEKS);return g.createElement("div",{className:i,style:s},t.map((o,a)=>this.renderWeek(o,a)))}renderWeek(e,t){const r=we.WEEK;return g.createElement("div",{role:"row",className:r,key:t},e.map((s,i)=>this.renderDay(s,i)))}renderDay(e,t){const{todayText:r}=this.state,{renderFullDate:s,renderDate:i}=this.props,{fullDate:o,dayNumber:a}=e;if(!o)return g.createElement("div",{role:"gridcell",tabIndex:-1,key:a+t,className:we.DAY},g.createElement("span",null));const l=this.getDayStatus(e,Object.assign({todayText:r},this.props)),u=$(we.DAY,{[we.DAY_TODAY]:l.isToday,[we.DAY_IN_RANGE]:l.isInRange,[we.DAY_HOVER]:l.isHover,[we.DAY_SELECTED]:l.isSelected,[we.DAY_SELECTED_START]:l.isSelectedStart,[we.DAY_SELECTED_END]:l.isSelectedEnd,[we.DAY_DISABLED]:l.isDisabled,[we.DAY_HOVER_DAY]:l.isHoverDayOffset,[we.DAY_IN_OFFSET_RANGE]:l.isInOffsetRange,[we.DAY_SELECTED_RANGE_HOVER]:l.isHoverInOffsetRange,[we.DAY_OFFSET_RANGE_START]:l.isOffsetRangeStart,[we.DAY_OFFSET_RANGE_END]:l.isOffsetRangeEnd,[we.DAY_SELECTED_START_AFTER_HOVER]:l.isSelectedStartAfterHover,[we.DAY_SELECTED_END_BEFORE_HOVER]:l.isSelectedEndBeforeHover,[we.DAY_HOVER_DAY_BEFORE_RANGE]:l.isHoverDayInStartSelection,[we.DAY_HOVER_DAY_AFTER_RANGE]:l.isHoverDayInEndSelection,[we.DAY_HOVER_DAY_AROUND_SINGLE_SELECTED]:l.isHoverDayAroundOneSelected}),d=$({[`${we.DAY}-main`]:!0}),h=[a,o,l],f=De(s);return g.createElement("div",{role:"gridcell",tabIndex:l.isDisabled?-1:0,"aria-disabled":l.isDisabled,"aria-selected":l.isSelected,"aria-label":o,className:f?we.DAY:u,title:o,key:a+t,onClick:m=>!l.isDisabled&&this.foundation.handleClick(e),onMouseEnter:()=>this.foundation.handleHover(e),onMouseLeave:()=>this.foundation.handleHover()},f?s(...h):g.createElement("div",{className:d},De(i)?i(a,o):g.createElement("span",null,a)))}render(){const{forwardRef:e,multiple:t}=this.props,r=this.renderDayOfWeek(),s=this.renderWeeks(),i=$(we.MONTH),o=e||this.monthRef;return g.createElement("div",{role:"grid","aria-multiselectable":t,ref:o,className:i},r,s)}}$T.propTypes={month:c.object,selected:c.object,rangeStart:c.string,rangeEnd:c.string,offsetRangeStart:c.string,offsetRangeEnd:c.string,onDayClick:c.func,onDayHover:c.func,weekStartsOn:c.number,disabledDate:c.func,weeksRowNum:c.number,onWeeksRowNumChange:c.func,renderDate:c.func,renderFullDate:c.func,hoverDay:c.string,startDateOffset:c.func,endDateOffset:c.func,rangeInputFocus:c.oneOfType([c.string,c.bool]),focusRecordsRef:c.object,multiple:c.bool};$T.defaultProps={month:new Date,selected:new Set,rangeStart:"",rangeEnd:"",onDayClick:F,onDayHover:F,onWeeksRowNumChange:F,weekStartsOn:$c.WEEK_START_ON,disabledDate:of,weeksRowNum:0};const wg="time",Bb="timeRange",ife=" ~ ",ofe=",",KE={PREFIX:`${W}-timepicker`,RANGE_PICKER:`${W}-timepicker-range-panel`,RANGE_PANEL_LISTS:`${W}-timepicker-lists`},gn={TYPES:[wg,Bb],TYPE_TIME_PICKER:wg,TYPE_TIME_RANGE_PICKER:Bb,DEFAULT_TYPE:wg,DEFAULT_RANGE_SEPARATOR:ife,DEFAULT_MULTIPLE_SEPARATOR:ofe,SIZE:Ja.SIZE,DEFAULT_FORMAT:"HH:mm:ss",DEFAULT_FORMAT_A:"a h:mm:ss",STATUS:od,DEFAULT_POSITION:{[wg]:"bottomLeft",[Bb]:"bottomLeft"}},Br={PREFIX:`${W}-scrolllist`,SELECTED:`${W}-scrolllist-item-selected`},afe={MODE:["normal","wheel"]},Eg={DEFAULT_ITEM_HEIGHT:36,DEFAULT_SCROLL_DURATION:120};var lfe=$M,ufe=d$,cfe=kv,dfe=9007199254740991,Hb=4294967295,hfe=Math.min;function ffe(n,e){if(n=cfe(n),n<1||n>dfe)return[];var t=Hb,r=hfe(n,Hb);e=ufe(e),n-=Hb;for(var s=lfe(r,e);++t<n;)e(t);return s}var pfe=ffe;const SR=Ce(pfe);var gfe=Ev,mfe=JC,yfe=1,vfe=2;function _fe(n,e,t,r){var s=t.length,i=s,o=!r;if(n==null)return!i;for(n=Object(n);s--;){var a=t[s];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++s<i;){a=t[s];var l=a[0],u=n[l],d=a[1];if(o&&a[2]){if(u===void 0&&!(l in n))return!1}else{var h=new gfe;if(r)var f=r(u,d,l,n,e,h);if(!(f===void 0?mfe(d,u,yfe|vfe,r,h):f))return!1}}return!0}var bfe=_fe,wfe=Zr;function Efe(n){return n===n&&!wfe(n)}var F2=Efe,Sfe=F2,Cfe=Qa;function Tfe(n){for(var e=Cfe(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,Sfe(s)]}return e}var Ofe=Tfe;function Ife(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var j2=Ife,Pfe=bfe,xfe=Ofe,Rfe=j2;function Afe(n){var e=xfe(n);return e.length==1&&e[0][2]?Rfe(e[0][0],e[0][1]):function(t){return t===n||Pfe(t,n,e)}}var Dfe=Afe,kfe=JC,Nfe=gM,Lfe=vF,Mfe=kC,$fe=F2,Ffe=j2,jfe=du,Vfe=1,Ufe=2;function Bfe(n,e){return Mfe(n)&&$fe(e)?Ffe(jfe(n),e):function(t){var r=Nfe(t,n);return r===void 0&&r===e?Lfe(t,n):kfe(e,r,Vfe|Ufe)}}var Hfe=Bfe;function zfe(n){return function(e){return e==null?void 0:e[n]}}var Kfe=zfe,Wfe=_v;function Gfe(n){return function(e){return Wfe(e,n)}}var Yfe=Gfe,qfe=Kfe,Xfe=Yfe,Qfe=kC,Zfe=du;function Jfe(n){return Qfe(n)?qfe(Zfe(n)):Xfe(n)}var epe=Jfe,tpe=Dfe,npe=Hfe,rpe=Qf,spe=sr,ipe=epe;function ope(n){return typeof n=="function"?n:n==null?rpe:typeof n=="object"?spe(n)?npe(n[0],n[1]):tpe(n):ipe(n)}var FT=ope,ape=dF,lpe=FT,upe=kv,cpe=Math.max;function dpe(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var s=t==null?0:upe(t);return s<0&&(s=cpe(r+s,0)),ape(n,lpe(e),s)}var V2=dpe;const sc=Ce(V2);var hpe=c$,fpe=no;function ppe(n,e){var t=-1,r=fpe(n)?Array(n.length):[];return hpe(n,function(s,i,o){r[++t]=e(s,i,o)}),r}var gpe=ppe,mpe=sd,ype=FT,vpe=gpe,_pe=sr;function bpe(n,e){var t=_pe(n)?mpe:vpe;return t(n,ype(e))}var wpe=bpe;const Epe=Ce(wpe);var Spe=FT,Cpe=no,Tpe=Qa;function Ope(n){return function(e,t,r){var s=Object(e);if(!Cpe(e)){var i=Spe(t);e=Tpe(e),t=function(a){return i(s[a],a,s)}}var o=n(e,t,r);return o>-1?s[i?e[o]:o]:void 0}}var Ipe=Ope,Ppe=Ipe,xpe=V2,Rpe=Ppe(xpe),Ape=Rpe;const WE=Ce(Ape);var Dpe=qC,kpe=WC,CR=kv;function Npe(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&kpe(n,e,t)?(e=0,t=r):(e=e==null?0:CR(e),t=t===void 0?r:CR(t)),Dpe(n,e,t)):[]}var Lpe=Npe;const zb=Ce(Lpe);class Mpe extends ke{constructor(){super(...arguments),this._cachedSelectedNode=null}selectIndex(e,t){const{type:r,list:s}=this.getProps();if(e>-1&&Array.isArray(s)&&s.length&&Xe(t)){const i=e%s.length,o=s[i],a=t.children[e];this._adapter.setSelectedNode(a),this._adapter.notifySelectItem(Object.assign(Object.assign({},o),{value:o.value,type:r,index:i}))}}selectNode(e,t){const{type:r,list:s}=this.getProps();if(Xe(e)&&Xe(t)){const o=sc(t.children,d=>d===e)%s.length,l=sc(t.children,d=>d===this._cachedSelectedNode)%s.length,u=s[o];this._adapter.setSelectedNode(e),this._adapter.scrollToCenter(e),this._cachedSelectedNode!==e&&(this._cachedSelectedNode=e,l!==o&&this._adapter.notifySelectItem(Object.assign(Object.assign({},u),{value:u.value,type:r,index:o})))}}shouldAppend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(Xe(e)&&Xe(t)){const i=e.querySelectorAll(s),o=i[i.length-1],{list:a}=this.getProps();if(o){const l=t.getBoundingClientRect(),u=o.getBoundingClientRect(),d=u.height*a.length;let h=u.top,f=0;for(;h<=l.top+l.height*r;)f+=1,h+=d;return f}}return!1}shouldPrepend(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const s="li";if(Xe(e)&&Xe(t)){const o=e.querySelectorAll(s)[0],{list:a}=this.getProps();if(o){const l=t.getBoundingClientRect(),u=o.getBoundingClientRect(),d=u.height*a.length;let h=u.top,f=0;for(;h+u.height>=l.top-l.height*r;)f+=1,h-=d;return f}}return 0}initWheelList(e,t,r){const{list:s}=this.getProps();if(Xe(t)&&Xe(e)&&s&&s.length){const i=e.children;zb(i,0,s.length);const o=this.shouldPrepend(e,t),a=this.shouldAppend(e,t);this._adapter.setState({prependCount:o,appendCount:a},r)}}adjustInfiniteList(e,t,r){const{list:s}=this.getProps(),i="li";if(Xe(t)&&Xe(e)&&s&&s.length){const o=e.querySelectorAll(i),a=o.length,l=1,u=this.shouldPrepend(e,t,l),d=this.shouldAppend(e,t,l);if(u)for(let h=0;h<u;h++){const f=zb(o,a-s.length*(h+1),a-s.length*h);bee(e,...f)}if(d)for(let h=0;h<d;h++){const f=zb(o,h*s.length,(h+1)*s.length);f$(e,...f)}}}getNearestNodeInfo(e,t){if(Xe(e)&&Xe(t)){const s=t.getBoundingClientRect().top,i=e.querySelectorAll("li");let o=null,a=-1,l=1/0;return Array.from(i).map((u,d)=>{const f=u.getBoundingClientRect().top,m=Math.abs(f-s);m<l&&!this._adapter.isDisabledIndex(d)&&(l=m,o=u,a=d)}),{nearestNode:o,nearestIndex:a}}}getTargetNode(e,t){if(e&&Xe(t)){const r="li",s=e.target,i=t.querySelectorAll(r),o=this.getProp("list"),a=Array.isArray(o)?o.length:0;let l=-1,u=-1,d=null;const h=WE(i,(f,m)=>{if(f===s||f.contains(s))return l=m,a>0&&(u=m%a),!0});return u>-1&&(d=o[u]),{targetNode:h,targetIndex:l,indexInList:u,infoInList:d}}return null}}const $pe=(n,e,t)=>{const r=new aF({from:{scrollTop:n.scrollTop},to:{scrollTop:e}},{duration:t});return r.on("frame",s=>{let{scrollTop:i}=s;n.scrollTop=i}),r},TR=1e3/60,OR=/^\s*$/,rm="wheel";class mo extends xe{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),e=this,this._cacheNode=(r,s)=>r&&s&&Object.prototype.hasOwnProperty.call(this,r)&&(this[r]=s),this._cacheSelectedNode=r=>this._cacheNode("selectedNode",r),this._cacheWillSelectNode=r=>this._cacheNode("willSelectNode",r),this._cacheListNode=r=>this._cacheNode("list",r),this._cacheSelectorNode=r=>this._cacheNode("selector",r),this._cacheWrapperNode=r=>this._cacheNode("wrapper",r),this._isFirst=r=>{const{list:s}=this;if(Xe(r)&&Xe(s)){const i=s.children;return sc(i,r)===0}return!1},this._isLast=r=>{const{list:s}=this;if(Xe(r)&&Xe(s)){const{children:i}=s;return sc(i,r)===i.length-1}return!1},this.indexIsSame=(r,s)=>{const{list:i}=this.props;if(i.length)return r%i.length===s%i.length},this.isDisabledIndex=r=>{const{list:s}=this.props;if(Array.isArray(s)&&s.length&&r>-1){const i=s.length,o=r%i;return this.isDisabledData(s[o])}return!1},this.isDisabledNode=r=>{const s=this.list;if(Xe(r)&&Xe(s)){const i=sc(s.children,o=>o===r);return this.isDisabledIndex(i)}return!1},this.isDisabledData=r=>r&&typeof r=="object"&&r.disabled,this.isWheelMode=()=>this.props.mode===rm,this.addClassToNode=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Br.SELECTED;const{list:i}=e;if(r=r||e.selectedNode,Xe(r)&&Xe(i)){const{children:o}=i,a=new RegExp(`\\s*${s}\\s*`,"g");Epe(o,l=>{l.className=l.className&&l.className.replace(a," "),OR.test(l.className)&&(l.className="")}),r.className&&!OR.test(r.className)?r.className+=` ${s}`:r.className=s}},this.getIndexByNode=r=>sc(this.list.children,r),this.getNodeByIndex=r=>r>-1?WE(this.list.children,(i,o)=>o===r):WE(this.list.children,i=>!this.isDisabledNode(i)),this.scrollToIndex=(r,s)=>{s=typeof s=="number"?s:Eg.DEFAULT_SCROLL_DURATION,r=r??this.props.selectedIndex,this.scrollToNode(this.selectedNode,s)},this.scrollToNode=(r,s)=>{const{wrapper:i}=this,o=i.offsetHeight,a=this.getItmHeight(r),l=(r.offsetTop||this.list.children.length*a/2)-(o-a)/2;this.scrollToPos(l,s)},this.scrollToPos=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Eg.DEFAULT_SCROLL_DURATION;const{wrapper:i}=e;if(s&&e.props.motion)if(e.scrollAnimation&&(e.scrollAnimation.destroy(),e.scrolling=!1),i.scrollTop===r){if(e.isWheelMode()){const o=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(o.nearestNode)}}else e.scrollAnimation=$pe(i,r,s),e.scrollAnimation.on("rest",()=>{if(e.isWheelMode()){const o=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(o.nearestNode)}}),e.scrollAnimation.start();else i.scrollTop=r},this.scrollToSelectItem=r=>{const{nearestNode:s}=this.foundation.getNearestNodeInfo(this.list,this.selector);this.props.cycled&&this.throttledAdjustList(r,s),this.debouncedSelect(r,s)},this.scrollToCenter=(r,s,i)=>{if(r=r||this.selectedNode,s=s||this.wrapper,Xe(r)&&Xe(s)){const o=s.getBoundingClientRect(),a=r.getBoundingClientRect(),l=s.scrollTop+(a.top-(o.top+o.height/2-a.height/2));this.scrollToPos(l,typeof i=="number"?i:Eg.DEFAULT_SCROLL_DURATION)}},this.clickToSelectItem=r=>{r&&r.nativeEvent&&r.nativeEvent.stopImmediatePropagation();const{targetNode:s,infoInList:i}=this.foundation.getTargetNode(r,this.list);s&&i&&!i.disabled&&this.debouncedSelect(null,s)},this.getItmHeight=r=>r&&r.offsetHeight||Eg.DEFAULT_ITEM_HEIGHT,this.renderItemList=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{selectedIndex:s,mode:i,transform:o,list:a}=e.props;return a.map((l,u)=>{const{transform:d}=l,h=typeof d=="function"?d:o,f=s===u,m=$({[`${Br.PREFIX}-item-sel`]:f&&i!==rm,[`${Br.PREFIX}-item-disabled`]:!!l.disabled});let b="";f&&typeof h=="function"?b=h(l.value,l.text):b=l.text==null?l.value:l.text;const v={};return!e.isWheelMode()&&!l.disabled&&(v.onClick=()=>e.foundation.selectIndex(u,e.list)),g.createElement("li",Object.assign({key:r+u},v,{className:m,role:"option","aria-selected":f,"aria-disabled":l.disabled}),b)})},this.renderNormalList=()=>{const{list:r,className:s,style:i}=this.props,o=this.renderItemList(),a=$(`${Br.PREFIX}-item`,s);return g.createElement("div",{style:i,className:a,ref:this._cacheWrapperNode},g.createElement("ul",{role:"listbox","aria-multiselectable":!1,"aria-label":this.props["aria-label"],ref:this._cacheListNode},o))},this.renderInfiniteList=()=>{const{list:r,cycled:s,className:i,style:o}=this.props,{prependCount:a,appendCount:l}=this.state,u=SR(a).reduce((y,w)=>{const E=this.renderItemList(`pre_${w}_`);return y.unshift(...E),y},[]),d=SR(l).reduce((y,w)=>{const E=this.renderItemList(`app_${w}_`);return y.push(...E),y},[]),h=this.renderItemList(),f=$(`${Br.PREFIX}-list-outer`,{[`${Br.PREFIX}-list-outer-nocycle`]:!s}),m=$(`${Br.PREFIX}-item-wheel`,i),b=$(`${Br.PREFIX}-selector`),v=$(`${Br.PREFIX}-shade`,`${Br.PREFIX}-shade-pre`),_=$(`${Br.PREFIX}-shade`,`${Br.PREFIX}-shade-post`);return g.createElement("div",{className:m,style:o},g.createElement("div",{className:v}),g.createElement("div",{className:b,ref:this._cacheSelectorNode}),g.createElement("div",{className:_}),g.createElement("div",{className:f,ref:this._cacheWrapperNode,onScroll:this.scrollToSelectItem},g.createElement("ul",{role:"listbox","aria-label":this.props["aria-label"],"aria-multiselectable":!1,ref:this._cacheListNode,onClick:this.clickToSelectItem},u,h,d)))},this.state={prependCount:0,appendCount:0},this.selectedNode=null,this.willSelectNode=null,this.list=null,this.wrapper=null,this.selector=null,this.scrollAnimation=null,this.foundation=new Mpe(this.adapter),this.throttledAdjustList=qm((r,s)=>{this.foundation.adjustInfiniteList(this.list,this.wrapper,s)},TR),this.debouncedSelect=vM((r,s)=>{this._cacheSelectedNode(s),this.foundation.selectNode(s,this.list)},TR*2)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setState:(t,r)=>this.setState(Object.assign({},t),r),setPrependCount:t=>this.setState({prependCount:t}),setAppendCount:t=>this.setState({appendCount:t}),isDisabledIndex:this.isDisabledIndex,setSelectedNode:t=>this._cacheWillSelectNode(t),notifySelectItem:function(){return e.props.onSelect(...arguments)},scrollToCenter:this.scrollToCenter})}componentWillUnmount(){this.props.cycled&&(this.throttledAdjustList.cancel(),this.debouncedSelect.cancel())}componentDidMount(){this.foundation.init();const{mode:e,cycled:t,selectedIndex:r,list:s}=this.props,i=this.getNodeByIndex(typeof r=="number"&&r>-1?r:0);this._cacheSelectedNode(i),this._cacheWillSelectNode(i),e===rm&&t?this.foundation.initWheelList(this.list,this.wrapper,()=>{this.scrollToNode(i,0)}):this.scrollToNode(i,0)}componentDidUpdate(e){const{selectedIndex:t}=this.props;if(e.selectedIndex!==t){const r=this.getIndexByNode(this.willSelectNode);if(!this.indexIsSame(r,t)){const s=this.getNodeByOffset(this.selectedNode,t-e.selectedIndex,this.list);this._cacheWillSelectNode(s)}this._cacheSelectedNode(this.willSelectNode),this.scrollToIndex(t)}}getNodeByOffset(e,t,r){const{list:s}=this.props;if(Xe(e)&&Xe(r)&&typeof t=="number"&&Array.isArray(s)&&s.length){t=t%s.length;let o=this.getIndexByNode(e)+t;for(;o<0;)o+=s.length;if(t)return this.getNodeByIndex(o)}return e}render(){return this.isWheelMode()?this.renderInfiniteList():this.renderNormalList()}}mo.propTypes={mode:c.oneOf(afe.MODE),cycled:c.bool,list:c.array,selectedIndex:c.number,onSelect:c.func,transform:c.func,className:c.string,style:c.object,motion:c.oneOfType([c.func,c.bool]),type:c.oneOfType([c.string,c.number])};mo.defaultProps={selectedIndex:0,motion:!0,list:[],onSelect:F,cycled:!1,mode:rm};class Fpe extends ke{}var jpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Kv extends xe{constructor(e){super(e),this.foundation=new Fpe(this.adapter)}render(){const e=this.props,{children:t,header:r,footer:s,prefixCls:i,bodyHeight:o,className:a,style:l}=e,u=jpe(e,["children","header","footer","prefixCls","bodyHeight","className","style"]),d=$(a,{[i||Br.PREFIX]:!0}),h=$({[`${i||Br.PREFIX}-header`]:!0});return g.createElement("div",Object.assign({className:d,style:l},this.getDataAttr(u)),r?g.createElement("div",{className:h},g.createElement("div",{className:`${h}-title`,"x-semi-prop":this.props["x-semi-header-alias"]||"header"},r),g.createElement("div",{className:`${d}-line`})):null,g.createElement("div",{className:`${d}-body`,style:{height:o||""},"x-semi-prop":"children"},t),s?g.createElement("div",{className:`${d}-footer`,"x-semi-prop":this.props["x-semi-footer-alias"]||"footer"},s):null)}}Kv.Item=mo;Kv.propTypes={className:c.string,header:c.node,footer:c.node,children:c.node,bodyHeight:c.oneOfType([c.number,c.string])};const U2=1e3*60*60,IR=24*U2,Kb=(n,e)=>{let t=`${n}`;n<10&&(t=`0${n}`);let r=!1;return e&&e.indexOf(n)>=0&&(r=!0),{value:t,disabled:r}};function Wb(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const s=[];for(let i=0;i<n;i+=r)(!e||e.indexOf(i)<0||!t)&&s.push(i);return s}class Vpe extends ke{constructor(e){super(Object.assign({},e))}isAM(){return this.getProp("isAM")}initData(){const{timeStampValue:e,hourStep:t,disabledMinutes:r,disabledSeconds:s,hideDisabledOptions:i,minuteStep:o,secondStep:a}=this.getProps(),l=this.getValidFormat(),u=this.getDisplayDateFromTimeStamp(e),d=this.disabledHours(),h=r(u?u.getHours():null),f=s(u?u.getHours():null,u?u.getMinutes():null),m=Wb(24,d,i,t),b=Wb(60,h,i,o),v=Wb(60,f,i,a);return{showHour:!!l.match(/HH|hh|H|h/g),showMinute:!!l.match(/mm/g),showSecond:!!l.match(/ss/g),hourOptions:m,minuteOptions:b,secondOptions:v}}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||gn.DEFAULT_TYPE;return e||gn.DEFAULT_POSITION[t]}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?gn.DEFAULT_FORMAT_A:gn.DEFAULT_FORMAT}disabledHours(){const{use12Hours:e,disabledHours:t}=this.getProps();let r=t&&t();return e&&Array.isArray(r)&&(this.isAM()?r=r.filter(s=>s<12).map(s=>s===0?12:s):r=r.map(s=>s===12?12:s-12)),r}getValidFormat(e){let t=bt(e)?this.getProp("format"):e;return t=this.getDefaultFormatIfNeed(),t=typeof t=="string"?t:gn.DEFAULT_FORMAT,t}getDisplayDateFromTimeStamp(e){let t;return e&&(t=new Date(e)),!e||!zs(t)?this.createDateDefault():t}createDateDefault(){return new Date(parseInt(String(Date.now()/IR),10)*IR-8*U2)}}class gf extends xe{constructor(e){super(e),this.cacheRefCurrent=(t,r)=>{t&&typeof t=="string"&&this.adapter.setCache(t,r)},this.reselect=()=>{["ampm","hour","minute","second"].forEach(r=>{const s=this.adapter.getCache(r);s&&s.scrollToIndex&&s.scrollToIndex()})},this.onItemChange=t=>{let{type:r,value:s,disabled:i}=t,{onChange:o,use12Hours:a,isAM:l,format:u,timeStampValue:d}=this.props;const h=this.foundation.getDisplayDateFromTimeStamp(d);if(r==="hour")a?l?h.setHours(Number(s)%12):h.setHours(Number(s)%12+12):h.setHours(Number(s));else if(r==="minute")h.setMinutes(Number(s));else if(r==="ampm"){const f=s.toUpperCase();a&&(f==="PM"&&(l=!1,h.getHours()<12&&h.setHours(h.getHours()%12+12)),f==="AM"&&(l=!0,h.getHours()>=12&&h.setHours(h.getHours()-12)))}else h.setSeconds(Number(s));o&&o({isAM:l,value:at(h,u&&u.replace(/(\s+)A/g,"$1a")),timeStampValue:Number(h)})},this.onEnterSelectPanel=t=>{const{onCurrentSelectPanelChange:r}=this.props;r(t)},this.getDisplayDateFromTimeStamp=t=>this.foundation.getDisplayDateFromTimeStamp(t),this.foundation=new Vpe(this.adapter),this.state=Object.assign({},this.foundation.initData())}componentDidUpdate(e,t){(e.timeStampValue!==this.props.timeStampValue||e.format!==this.props.format)&&this.setState(Object.assign({},this.foundation.initData()))}componentWillUnmount(){}componentDidMount(){}renderHourSelect(e,t){const{prefixCls:r,disabledHours:s,use12Hours:i,scrollItemProps:o}=this.props,{showHour:a,hourOptions:l}=this.state;if(!a)return null;const u=s();let d,h;i?(d=[12].concat(l.filter(b=>b<12&&b>0)),h=e%12||12):(d=l,h=e);const f=b=>b+t.hour,m=`${r}-list-hour`;return g.createElement(mo,Object.assign({ref:b=>this.cacheRefCurrent("hour",b),mode:"normal",transform:f,className:m,list:d.map(b=>Kb(b,u)),selectedIndex:d.indexOf(h),type:"hour",onSelect:this.onItemChange},o))}renderMinuteSelect(e,t){const{prefixCls:r,disabledMinutes:s,timeStampValue:i,scrollItemProps:o}=this.props,{showMinute:a,minuteOptions:l}=this.state;if(!a)return null;const u=new Date(i),d=s&&s(u.getHours()),h=`${r}-list-minute`,f=m=>m+t.minute;return g.createElement(mo,Object.assign({ref:m=>this.cacheRefCurrent("minute",m),mode:"normal",transform:f,list:l.map(m=>Kb(m,d)),selectedIndex:l.indexOf(e),type:"minute",onSelect:this.onItemChange,className:h},o))}renderSecondSelect(e,t){const{prefixCls:r,disabledSeconds:s,timeStampValue:i,scrollItemProps:o}=this.props,{showSecond:a,secondOptions:l}=this.state;if(!a)return null;const u=new Date(i),d=s&&s(u.getHours(),u.getMinutes()),h=`${r}-list-second`,f=m=>String(m)+t.second;return g.createElement(mo,Object.assign({ref:m=>this.cacheRefCurrent("second",m),mode:"normal",transform:f,list:l.map(m=>Kb(m,d)),selectedIndex:l.indexOf(e),className:h,type:"second",onSelect:this.onItemChange},o))}renderAMPMSelect(e,t){const{prefixCls:r,use12Hours:s,isAM:i,scrollItemProps:o}=this.props;if(!s)return null;const a=[{value:"AM",text:e.AM||""},{value:"PM",text:e.PM||""}],l=i?0:1,u=`${r}-list-ampm`;return g.createElement(mo,Object.assign({ref:d=>this.cacheRefCurrent("ampm",d),mode:"normal",className:u,list:a,selectedIndex:l,type:"ampm",onSelect:this.onItemChange},o))}render(){const{timeStampValue:e,panelHeader:t,panelFooter:r}=this.props,s=this.getDisplayDateFromTimeStamp(e);return g.createElement(On,{componentName:"TimePicker"},(i,o)=>g.createElement(Kv,{header:t,footer:r,"x-semi-header-alias":"panelHeader","x-semi-footer-alias":"panelFooter"},this.renderAMPMSelect(i,o),this.renderHourSelect(s.getHours(),i),this.renderMinuteSelect(s.getMinutes(),i),this.renderSecondSelect(s.getSeconds(),i)))}}gf.propTypes={format:c.string,defaultOpenValue:c.object,prefixCls:c.string,onChange:c.func,showHour:c.bool,showMinute:c.bool,showSecond:c.bool,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,hideDisabledOptions:c.bool,onCurrentSelectPanelChange:c.func,use12Hours:c.bool,isAM:c.bool,timeStampValue:c.any,scrollItemProps:c.object};gf.defaultProps={disabledHours:F,disabledMinutes:F,disabledSeconds:F,format:gn.DEFAULT_FORMAT};class Upe extends ke{constructor(e){super(Object.assign({},e))}init(){}destroy(){}selectYear(e,t){const{currentYear:r,currentMonth:s}=this.getStates(),{type:i}=this.getProps(),o=X.PANEL_TYPE_LEFT,a=X.PANEL_TYPE_RIGHT,l=$o(r);if(l[t]=e.value,i==="monthRange"){const u=l[o]===l[a]&&s[o]>s[a];t===o&&e.value>l[a]||t===o&&u?l[a]=e.value+1:t===a&&u&&(l[o]=e.value-1)}this._adapter.setCurrentYear(l,()=>this.autoSelectMonth(e,t,l)),this._adapter.notifySelectYear(l)}selectMonth(e,t){const{currentMonth:r,currentYear:s}=this.getStates(),{type:i}=this.getProps(),o=X.PANEL_TYPE_LEFT,a=X.PANEL_TYPE_RIGHT,l=$o(r);l[t]=e.month,i==="monthRange"&&t===o&&s[o]===s[a]&&e.value>l[a]&&(l[a]=e.month),this._adapter.setCurrentMonth(l),this._adapter.notifySelectMonth(l)}autoSelectMonth(e,t,r){const{disabledDate:s,locale:i}=this._adapter.getProps(),{months:o,currentMonth:a}=this._adapter.getStates(),l=t===X.PANEL_TYPE_LEFT?"right":"left",u=jw(Date.now(),e.year),d=s(wl(u,a[t]-1)),h=s(wl(jw(Date.now(),r[l]),a[l]-1));if(!d&&!h)return;let f=r,m=a;if(d){const b=o.findIndex(_=>{let{month:y}=_;return y===a[t]});let v;v=o.slice(b).find(_=>{let{month:y}=_;return!s(wl(u,y-1))}),v||(v=o.slice(0,b).find(_=>{let{month:y}=_;return!s(wl(u,y-1))})),v&&!h?m[t]=v.month:v&&h&&(f={left:e.year,right:e.year},m={left:v.month,right:v.month})}else!d&&h&&(f={left:e.year,right:e.year},m={left:a[t],right:a[t]});this._adapter.setCurrentYearAndMonth(f,m),this._adapter.notifySelectYearAndMonth(f,m)}backToMain(){this._adapter.notifyBackToMain()}}const PR=`${W}-datepicker`;class Wv extends xe{constructor(e){super(e),this.selectYear=(o,a)=>{this.foundation.selectYear(o,a)},this.selectMonth=(o,a)=>{this.foundation.selectMonth(o,a)},this.reselect=()=>{["yearRef","monthRef"].forEach(a=>{const l=this[a];l&&l.current&&l.current.scrollToIndex&&l.current.scrollToIndex()})},this.backToMain=o=>{o.nativeEvent.stopImmediatePropagation(),this.foundation.backToMain()};let{currentYear:t,currentMonth:r}=e;const{year:s,month:i}=gR(t,r);this.state={years:Ide(e.startYear,e.endYear).map(o=>({value:o,year:o})),months:Array(12).fill(0).map((o,a)=>({value:a+1,month:a+1})),currentYear:s,currentMonth:i},this.yearRef=g.createRef(),this.monthRef=g.createRef(),this.foundation=new Upe(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setCurrentYear:(e,t)=>this.setState({currentYear:e},t),setCurrentMonth:e=>this.setState({currentMonth:e}),setCurrentYearAndMonth:(e,t)=>this.setState({currentYear:e,currentMonth:t}),notifySelectYear:e=>this.props.onSelect({currentMonth:this.state.currentMonth,currentYear:e}),notifySelectMonth:e=>this.props.onSelect({currentYear:this.state.currentYear,currentMonth:e}),notifySelectYearAndMonth:(e,t)=>this.props.onSelect({currentYear:e,currentMonth:t}),notifyBackToMain:()=>this.props.onBackToMain()})}static getDerivedStateFromProps(e,t){const r={},{year:s,month:i}=gR(e.currentYear,e.currentMonth);return Fe(e.currentYear,t.currentYear)||(r.currentYear=s),Fe(e.currentMonth,t.currentMonth)||(r.currentMonth=i),r}renderColYear(e){const{years:t,currentYear:r,currentMonth:s,months:i}=this.state,{disabledDate:o,localeCode:a,yearCycled:l,yearAndMonthOpts:u}=this.props,d=wl(Date.now(),s[e]-1),h=X.PANEL_TYPE_LEFT,f=X.PANEL_TYPE_RIGHT,m=_=>e===f&&r[h]?r[h]>_:!1,b=t.map(_=>{let{value:y,year:w}=_;const E=i.every(I=>{let{month:x}=I;return o(j$(d,{year:w,month:x-1}))}),S=m(w);return{year:w,value:y,disabled:E||S}});let v=_=>_;return(a==="zh-CN"||a==="zh-TW")&&(v=_=>`${_}`),g.createElement(mo,Object.assign({ref:this.yearRef,cycled:l,list:b,transform:v,selectedIndex:t.findIndex(_=>_.value===r[e]),type:"year",onSelect:_=>this.selectYear(_,e),mode:"normal"},u))}renderColMonth(e){const{months:t,currentMonth:r,currentYear:s}=this.state,{locale:i,localeCode:o,monthCycled:a,disabledDate:l,yearAndMonthOpts:u}=this.props;let d=_=>_;const h=jw(Date.now(),s[e]),f=X.PANEL_TYPE_LEFT,m=X.PANEL_TYPE_RIGHT;(o==="zh-CN"||o==="zh-TW")&&(d=_=>`${_}`);const b=t.map(_=>{let{value:y,month:w}=_;const E=e===m&&r[f]&&s[f]===s[m]&&r[f]>w;return{month:w,disabled:l(wl(h,w-1))||E,value:i.fullMonths[y]}}),v=b.findIndex(_=>_.month===r[e]);return g.createElement(mo,Object.assign({ref:this.monthRef,cycled:a,list:b,transform:d,selectedIndex:v,type:"month",onSelect:_=>this.selectMonth(_,e),mode:"normal"},u))}renderPanel(e){return g.createElement(g.Fragment,null,g.createElement(Kv,null,this.renderColYear(e),this.renderColMonth(e)))}render(){const{locale:e,noBackBtn:t,density:r,presetPosition:s,renderQuickControls:i,renderDateInput:o,type:a}=this.props,l=`${PR}-yearmonth-header`,u=`${PR}-yearmonth-body`,d=e.selectDate,h=r==="compact"?"default":"large",f=r==="compact"?"small":"default",m=X.PANEL_TYPE_LEFT,b=X.PANEL_TYPE_RIGHT;let v=null;return a==="month"?v=this.renderPanel(m):v=g.createElement("div",{className:u},this.renderPanel(m),this.renderPanel(b)),g.createElement(g.Fragment,null,t?null:g.createElement("div",{className:l},g.createElement(Us,{noHorizontalPadding:!1,icon:g.createElement(B$,{"aria-hidden":!0,size:h}),size:f,onClick:this.backToMain},g.createElement("span",null,d))),s?g.createElement("div",{style:{display:"flex"}},s==="left"&&a!=="monthRange"&&i,g.createElement("div",null,o,v),s==="right"&&a!=="monthRange"&&i):g.createElement(g.Fragment,null,o,v))}}Wv.propTypes={currentYear:c.object,currentMonth:c.object,onSelect:c.func,locale:c.object,localeCode:c.string,monthCycled:c.bool,yearCycled:c.bool,noBackBtn:c.bool,disabledDate:c.func,density:c.string,presetPosition:c.oneOf(X.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node,type:c.oneOf(X.TYPE_SET),startYear:c.number,endYear:c.number};Wv.defaultProps={disabledDate:of,monthCycled:!1,yearCycled:!1,noBackBtn:!1,onSelect:F,type:"month"};const is=we.PREFIX;class jT extends xe{constructor(e){super(e),this.cacheRefCurrent=(a,l)=>{typeof a=="string"&&a.length&&this.adapter.setCache(a,l)},this.leftIsYearOrTime=a=>{const{monthLeft:l}=a||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.rightIsYearOrTime=a=>{const{monthRight:l}=a||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.calcScrollListHeight=()=>{const a=this.adapter.getCache(`wrap-${X.PANEL_TYPE_LEFT}`),l=this.adapter.getCache(`wrap-${X.PANEL_TYPE_RIGHT}`),u=this.adapter.getCache(`switch-${X.PANEL_TYPE_LEFT}`),d=this.adapter.getCache(`switch-${X.PANEL_TYPE_RIGHT}`),h=a&&a.getBoundingClientRect(),f=l&&l.getBoundingClientRect();let m=h&&h.height||0,b=f&&f.height||0;return u&&(m+=u.getBoundingClientRect().height),d&&(b+=d.getBoundingClientRect().height),Math.max(m,b)},this.handleWeeksRowNumChange=(a,l)=>{const u=l===X.PANEL_TYPE_RIGHT,d=l===X.PANEL_TYPE_RIGHT,h=this.leftIsYearOrTime()&&this.rightIsYearOrTime();if(this.foundation.isRangeType()&&!h){const f={weeksRowNum:a,currentPanelHeight:this.calcScrollListHeight()};this.setState(f,()=>{(this.leftIsYearOrTime()&&d||this.rightIsYearOrTime()&&u)&&this.reselect()})}},this.reselect=()=>{[`timepicker-${X.PANEL_TYPE_LEFT}`,`timepicker-${X.PANEL_TYPE_RIGHT}`,`yam-${X.PANEL_TYPE_LEFT}`,`yam-${X.PANEL_TYPE_RIGHT}`].forEach(l=>{const u=this.adapter.getCache(l);u&&typeof u.reselect=="function"&&u.reselect()})},this.getYAMOpenType=()=>this.foundation.getYAMOpenType();const t=e.format||wa(e.type),{nowDate:r,nextDate:s}=O2({defaultPickerValue:e.defaultPickerValue,format:t,dateFnsLocale:e.dateFnsLocale}),i={selected:new Set},o={monthLeft:{pickerDate:r,showDate:r,isTimePickerOpen:!1,isYearPickerOpen:!1},monthRight:{pickerDate:s,showDate:s,isTimePickerOpen:!1,isYearPickerOpen:!1},maxWeekNum:0,hoverDay:"",rangeStart:e.rangeStart,rangeEnd:"",currentPanelHeight:0,offsetRangeStart:"",offsetRangeEnd:""};this.state=Object.assign(Object.assign({},i),o),this.foundation=new tfe(this.adapter)}get dateAdapter(){return{updateDaySelected:e=>this.setState({selected:e})}}get rangeAdapter(){return{setRangeStart:e=>this.setState({rangeStart:e}),setRangeEnd:e=>this.setState({rangeEnd:e}),setHoverDay:e=>this.setState({hoverDay:e}),setWeeksHeight:e=>this.setState({maxWeekNum:e}),setOffsetRangeStart:e=>this.setState({offsetRangeStart:e}),setOffsetRangeEnd:e=>this.setState({offsetRangeEnd:e})}}get adapter(){return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),this.dateAdapter),this.rangeAdapter),{updateMonthOnLeft:e=>this.setState({monthLeft:e}),updateMonthOnRight:e=>this.setState({monthRight:e}),notifySelectedChange:(e,t)=>this.props.onChange(e,t),notifyMaxLimit:e=>this.props.onMaxSelect(e),notifyPanelChange:(e,t)=>this.props.onPanelChange(e,t),setRangeInputFocus:e=>this.props.setRangeInputFocus(e),isAnotherPanelHasOpened:e=>this.props.isAnotherPanelHasOpened(e)})}componentDidMount(){super.componentDidMount()}componentDidUpdate(e,t){const{defaultValue:r,defaultPickerValue:s}=this.props;if(e.defaultValue!==r&&this.foundation.updateSelectedFromProps(r),e.defaultPickerValue!==s&&this.foundation.initDefaultPickerValue(),this.foundation.isRangeType()){const o=this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),a=this.leftIsYearOrTime(t)&&!this.rightIsYearOrTime(t)||!this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),l=this.leftIsYearOrTime()&&this.rightIsYearOrTime(),u=this.leftIsYearOrTime()&&!this.rightIsYearOrTime()||!this.leftIsYearOrTime()&&this.rightIsYearOrTime();a&&l?this.setState({currentPanelHeight:this.calcScrollListHeight()},this.reselect):o&&u&&this.reselect()}}renderPanel(e,t){let r=$(`${is}-month-grid-${t}`);const{monthLeft:s,monthRight:i,currentPanelHeight:o}=this.state,{insetInput:a}=this.props,l=t===X.PANEL_TYPE_RIGHT?i:s,{isTimePickerOpen:u,isYearPickerOpen:d}=l,h=this.renderMonth(e,t),f=d?g.createElement("div",{className:`${is}-yam`},this.renderYearAndMonth(t,l)):null,m=u?g.createElement("div",{className:`${is}-tpk`},this.renderTimePicker(t,l)):null,b={},v=this.adapter.getCache(`wrap-${X.PANEL_TYPE_LEFT}`),_=this.adapter.getCache(`wrap-${X.PANEL_TYPE_RIGHT}`),y=t===X.PANEL_TYPE_RIGHT?_:v;this.foundation.isRangeType()?((d||u)&&(b.minWidth=y.getBoundingClientRect().width),this.leftIsYearOrTime()&&this.rightIsYearOrTime()&&!a&&(b.minHeight=o||this.calcScrollListHeight())):this.props.type!=="year"&&this.props.type!=="month"&&(u||d)&&(r=$(r,`${is}-yam-showing`));const E=!(d||u)?"date":d?"year":"time";return g.createElement("div",{className:r,key:t,style:b,"x-open-type":E},f,m,this.foundation.isRangeType()?h:d||u?null:h,this.renderSwitch(t))}showYearPicker(e,t){t.nativeEvent.stopImmediatePropagation(),this.foundation.showYearPicker(e)}renderMonth(e,t){const{selected:r,rangeStart:s,rangeEnd:i,hoverDay:o,maxWeekNum:a,offsetRangeStart:l,offsetRangeEnd:u}=this.state,{weekStartsOn:d,disabledDate:h,locale:f,localeCode:m,renderDate:b,renderFullDate:v,startDateOffset:_,endDateOffset:y,density:w,rangeInputFocus:E,syncSwitchMonth:S,multiple:I}=this.props;let x="";if(e){const k=e?at(e,"yyyy"):"",M=e?at(e,"L"):"",N=f.months[M];x=f.monthText.replace("${year}",k).replace("${month}",N)}let O={};const T=t===X.PANEL_TYPE_RIGHT?this.state.monthRight:this.state.monthLeft,P=this.foundation.isRangeType(),A=P&&S;return P&&T&&(T.isYearPickerOpen||T.isTimePickerOpen)&&(O={visibility:"hidden",position:"absolute",pointerEvents:"none"}),g.createElement("div",{ref:k=>this.cacheRefCurrent(`wrap-${t}`,k),style:O},g.createElement(MT,{forwardRef:k=>this.cacheRefCurrent(`nav-${t}`,k),monthText:x,density:w,onMonthClick:k=>this.showYearPicker(t,k),onPrevMonth:()=>this.foundation.prevMonth(t),onNextMonth:()=>this.foundation.nextMonth(t),onNextYear:()=>this.foundation.nextYear(t),onPrevYear:()=>this.foundation.prevYear(t),shouldBimonthSwitch:A,panelType:t}),g.createElement($T,{locale:f,localeCode:m,forwardRef:k=>this.cacheRefCurrent(`month-${t}`,k),disabledDate:h,weekStartsOn:d,month:e,selected:r,rangeStart:s,rangeEnd:i,rangeInputFocus:E,offsetRangeStart:l,offsetRangeEnd:u,hoverDay:o,weeksRowNum:a,renderDate:b,renderFullDate:v,onDayClick:k=>this.foundation.handleDayClick(k,t),onDayHover:k=>this.foundation.handleDayHover(k,t),onWeeksRowNumChange:k=>this.handleWeeksRowNumChange(k,t),startDateOffset:_,endDateOffset:y,focusRecordsRef:this.props.focusRecordsRef,multiple:I}))}renderTimePicker(e,t){const{type:r,locale:s,format:i,hideDisabledOptions:o,timePickerOpts:a,dateFnsLocale:l}=this.props,{pickerDate:u}=t,d=$(`${is}-time`),h=Object.assign(Object.assign({},a),{hideDisabledOptions:o}),f=this.foundation.calcDisabledTime(e);f&&["disabledHours","disabledMinutes","disabledSeconds"].forEach(E=>{f[E]&&(h[E]=f[E])});const{rangeStart:m,rangeEnd:b}=this.state,v=this.foundation.getValidDateFormat();let _,y;r==="dateTimeRange"&&m&&b&&sT(_=sn(m,v,void 0,l),y=sn(b,v,void 0,l))&&(e===X.PANEL_TYPE_RIGHT?m&&(h.startDate=_):b&&(h.endDate=y));const w=s.selectTime;return g.createElement("div",{className:d},g.createElement(gf,Object.assign({ref:E=>this.cacheRefCurrent(`timepicker-${e}`,E),panelHeader:w,format:i||X.FORMAT_TIME_PICKER,timeStampValue:u,onChange:E=>this.foundation.handleTimeChange(E,e)},h)))}renderYearAndMonth(e,t){const{pickerDate:r}=t,{locale:s,localeCode:i,density:o,yearAndMonthOpts:a,startYear:l,endYear:u}=this.props,d=r.getFullYear(),h=r.getMonth()+1;return g.createElement(Wv,{ref:f=>this.cacheRefCurrent(`yam-${e}`,f),locale:s,localeCode:i,currentYear:{left:d,right:0},currentMonth:{left:h,right:0},onSelect:f=>this.foundation.toYearMonth(e,new Date(f.currentYear.left,f.currentMonth.left-1)),onBackToMain:()=>{this.foundation.showDatePanel(e);const f=this.adapter.getCache(`wrap-${e}`);f&&(f.style.height="auto")},density:o,yearAndMonthOpts:a,startYear:l,endYear:u})}renderSwitch(e){const{rangeStart:t,rangeEnd:r,monthLeft:s,monthRight:i}=this.state,{type:o,locale:a,disabledTimePicker:l,density:u,dateFnsLocale:d,insetInput:h}=this.props;if(!o.includes("Time")||h)return null;let f,m;const{FORMAT_SWITCH_DATE:b}=a.localeFormatToken,v=this.foundation.getValidTimeFormat(),_=this.foundation.getValidDateFormat();e===X.PANEL_TYPE_LEFT?(f=s,m=t?at(sn(t,_,void 0,d),b):""):(f=i,m=r?at(sn(r,_,void 0,d),b):"");const{isTimePickerOpen:y,showDate:w}=f,E=w?at(w,b):"",S=w?at(w,v):"",I=["default"].includes(u),x=$(`${is}-switch`),O=$({[`${is}-switch-date`]:!0,[`${is}-switch-date-active`]:!y}),T=$({[`${is}-switch-time`]:!0,[`${is}-switch-time-disabled`]:l,[`${is}-switch-date-active`]:y}),P=$(`${is}-switch-text`);return g.createElement("div",{className:x,ref:A=>this.adapter.setCache(`switch-${e}`,A)},g.createElement("div",{role:"button","aria-label":"Switch to date panel",className:O,onClick:A=>this.foundation.showDatePanel(e)},I&&g.createElement(U$,{"aria-hidden":!0}),g.createElement("span",{className:P},m||E)),g.createElement("div",{role:"button","aria-label":"Switch to time panel",className:T,onClick:A=>this.foundation.showTimePicker(e,!0)},I&&g.createElement(z$,{"aria-hidden":!0}),g.createElement("span",{className:P},S)))}render(){const{monthLeft:e,monthRight:t}=this.state,{type:r,insetInput:s,presetPosition:i,renderQuickControls:o,renderDateInput:a}=this.props,l=$({[`${is}-month-grid`]:!0}),u=X.PANEL_TYPE_LEFT,d=X.PANEL_TYPE_RIGHT;let h=null;r==="date"||r==="dateTime"?h=this.renderPanel(e.pickerDate,u):r==="dateRange"||r==="dateTimeRange"?h=[this.renderPanel(e.pickerDate,u),this.renderPanel(t.pickerDate,d)]:(r==="year"||r==="month")&&(h="year month");const f=this.getYAMOpenType();return g.createElement("div",{style:{display:"flex"}},i==="left"&&o,g.createElement("div",null,a,g.createElement("div",{className:l,"x-type":r,"x-panel-yearandmonth-open-type":f,"x-insetinput":s?"true":"false","x-preset-position":o===null?"null":i,ref:m=>this.cacheRefCurrent("monthGrid",m)},h)),i==="right"&&o)}}jT.propTypes={type:c.oneOf(X.TYPE_SET),defaultValue:c.array,defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),multiple:c.bool,max:c.number,weekStartsOn:c.number,disabledDate:c.func,disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,navPrev:c.node,navNext:c.node,onMaxSelect:c.func,timePickerOpts:c.object,isControlledComponent:c.bool,rangeStart:c.oneOfType([c.string]),rangeInputFocus:c.oneOfType([c.bool,c.string]),locale:c.object,localeCode:c.string,format:c.string,renderDate:c.func,renderFullDate:c.func,startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,density:c.string,dateFnsLocale:c.object.isRequired,timeZone:c.oneOfType([c.string,c.number]),syncSwitchMonth:c.bool,onPanelChange:c.func,focusRecordsRef:c.object,triggerRender:c.func,presetPosition:c.oneOf(X.PRESET_POSITION_SET),renderQuickControls:c.node,renderDateInput:c.node};jT.defaultProps={type:"date",rangeStart:"",multiple:!1,weekStartsOn:$c.WEEK_START_ON,disabledDate:of,onMaxSelect:F,locale:{}};const Ur=we.PREFIX,{Text:Bpe}=wi;class VT extends D.PureComponent{render(){const{presets:e,onPresetClick:t,type:r,presetPosition:s,insetInput:i,locale:o}=this.props,a=r==="dateRange"||r==="dateTimeRange",l=s==="top"||s==="bottom",u=r==="month",d=l&&a,h=l&&u,f=$(`${Ur}-quick-control`,{[`${Ur}-quick-control-${r}`]:r,[`${Ur}-quick-control-${s}`]:!0}),m=$({[`${Ur}-quick-control-header`]:!0}),b=$({[`${Ur}-quick-control-${s}-content-wrapper`]:!0}),v=$({[`${Ur}-quick-control-${s}-content`]:!d&&!h,[`${Ur}-quick-control-${s}-range-content`]:d,[`${Ur}-quick-control-${s}-month-content`]:h}),_=$({[`${Ur}-quick-control-${s}-content-item`]:!d&&!h,[`${Ur}-quick-control-${s}-range-content-item`]:d,[`${Ur}-quick-control-${s}-month-content-item`]:h}),y=$({[`${Ur}-quick-control-${s}-content-item-ellipsis`]:!d&&!h,[`${Ur}-quick-control-${s}-range-content-item-ellipsis`]:d,[`${Ur}-quick-control-${s}-month-content-item-ellipsis`]:h});return e.length?g.createElement("div",{className:f,"x-insetinput":i?"true":"false"},!l&&g.createElement("div",{className:m},o.presets),g.createElement("div",{className:b},g.createElement("div",{className:v},e.map((w,E)=>{const S=typeof w=="function"?w():w;return g.createElement(Jt,{size:"small",type:"primary",onClick:I=>t(S,I),key:E},g.createElement("div",{className:_},g.createElement(Bpe,{ellipsis:{showTooltip:!0},className:y},S.text)))})))):null}}VT.propTypes={presets:c.array,presetPosition:c.oneOf(X.PRESET_POSITION_SET),onPresetClick:c.func,type:c.string,insetInput:c.oneOfType([c.bool,c.object]),locale:c.object};VT.defaultProps={presets:[],presetPosition:"bottom",onPresetClick:Pt};function Hpe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:e,locale:t,onCancelClick:r,onConfirmClick:s}=n,i=$(`${e}-footer`);return g.createElement("div",{className:i},g.createElement(Jt,{theme:"borderless",onClick:r},Q(t,"footer.cancel","")),g.createElement(Jt,{theme:"solid",onClick:s},Q(t,"footer.confirm","")))}var zpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let Gl=class extends xe{constructor(e){var t;super(e),t=this,this.setTriggerRef=r=>this.triggerElRef.current=r,this.handleSelectedChange=(r,s)=>this.foundation.handleSelectedChange(r,s),this.handleYMSelectedChange=r=>this.foundation.handleYMSelectedChange(r),this.disabledDisposeDate=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return t.foundation.disabledDisposeDate(r,...i)},this.disabledDisposeTime=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return t.foundation.disabledDisposeTime(r,...i)},this.handleOpenPanel=()=>this.foundation.openPanel(),this.handleInputChange=function(){return t.foundation.handleInputChange(...arguments)},this.handleInsetInputChange=r=>this.foundation.handleInsetInputChange(r),this.handleInputComplete=r=>this.foundation.handleInputComplete(r),this.handleInputBlur=r=>this.foundation.handleInputBlur(Q(r,"nativeEvent.target.value"),r),this.handleInputFocus=function(){return t.foundation.handleInputFocus(...arguments)},this.handleInputClear=r=>this.foundation.handleInputClear(r),this.handleTriggerWrapperClick=r=>this.foundation.handleTriggerWrapperClick(r),this.handleSetRangeFocus=r=>this.foundation.handleSetRangeFocus(r),this.handleRangeInputBlur=(r,s)=>this.foundation.handleRangeInputBlur(r,s),this.handleRangeInputClear=r=>this.foundation.handleRangeInputClear(r),this.handleRangeEndTabPress=r=>this.foundation.handleRangeEndTabPress(r),this.isAnotherPanelHasOpened=r=>r==="rangeStart"?this.focusRecordsRef.current.rangeEnd:this.focusRecordsRef.current.rangeStart,this.handleInsetDateFocus=(r,s)=>{const i=Q(this,"monthGrid.current.foundation");i&&(i.showDatePanel(X.PANEL_TYPE_LEFT),i.showDatePanel(X.PANEL_TYPE_RIGHT)),this.handleInputFocus(r,s)},this.handleInsetTimeFocus=()=>{const r=Q(this,"monthGrid.current.foundation");r&&(r.showTimePicker(X.PANEL_TYPE_LEFT),r.showTimePicker(X.PANEL_TYPE_RIGHT))},this.handlePanelVisibleChange=r=>{this.foundation.handlePanelVisibleChange(r)},this.handleConfirm=r=>this.foundation.handleConfirm(),this.handleCancel=r=>this.foundation.handleCancel(),this.renderFooter=(r,s)=>this.adapter.needConfirm()?g.createElement(Hpe,Object.assign({},this.props,{locale:r,localeCode:s,onConfirmClick:this.handleConfirm,onCancelClick:this.handleCancel})):null,this.renderPanel=(r,s,i)=>{const{dropdownClassName:o,dropdownStyle:a,density:l,topSlot:u,bottomSlot:d,presetPosition:h,type:f,leftSlot:m,rightSlot:b}=this.props,v=$(we.PREFIX,{[we.PANEL_YAM]:this.adapter.typeIsYearOrMonth(),[`${we.PREFIX}-compact`]:l==="compact"},o);return g.createElement("div",{ref:this.panelRef,className:v,style:a,"x-type":f},g.createElement("div",{className:`${we.PREFIX}-container`},m&&g.createElement("div",{className:`${we.PREFIX}-leftSlot`,"x-semi-prop":"leftSlot"},m),g.createElement("div",null,u&&g.createElement("div",{className:`${we.PREFIX}-topSlot`,"x-semi-prop":"topSlot"},u),h==="top"&&f!=="monthRange"&&this.renderQuickControls(),this.adapter.typeIsYearOrMonth()?this.renderYearMonthPanel(r,s):this.renderMonthGrid(r,s,i),h==="bottom"&&f!=="monthRange"&&this.renderQuickControls(),d&&g.createElement("div",{className:`${we.PREFIX}-bottomSlot`,"x-semi-prop":"bottomSlot"},d)),b&&g.createElement("div",{className:`${we.PREFIX}-rightSlot`,"x-semi-prop":"rightSlot"},b)),this.renderFooter(r,s))},this.renderYearMonthPanel=(r,s)=>{const{density:i,presetPosition:o,yearAndMonthOpts:a,type:l,startYear:u,endYear:d}=this.props,h=this.state.value[0],f={left:0,right:0},m={left:0,right:0};if(fR(h)&&(f.left=h.getFullYear(),m.left=h.getMonth()+1),l==="monthRange"){const b=this.state.value[1];fR(b)&&(f.right=b.getFullYear(),m.right=b.getMonth()+1)}return g.createElement(Wv,{locale:r,localeCode:s,disabledDate:this.disabledDisposeDate,noBackBtn:!0,monthCycled:!0,onSelect:this.handleYMSelectedChange,currentYear:f,currentMonth:m,density:i,presetPosition:o,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),type:l,yearAndMonthOpts:a,startYear:u,endYear:d})},this.wrapPopover=r=>{const{panelShow:s}=this.state,{direction:i}=this.context,o=i==="rtl"?"bottomRight":"bottomLeft",{motion:a,zIndex:l,position:u=o,getPopupContainer:d,locale:h,localeCode:f,dateFnsLocale:m,stopPropagation:b,autoAdjustOverflow:v,spacing:_,dropdownMargin:y}=this.props;return g.createElement(Sr,{getPopupContainer:d,autoAdjustOverflow:v,zIndex:l,motion:a,margin:y,content:this.renderPanel(h,f,m),trigger:"custom",position:u,visible:s,stopPropagation:b,spacing:_,onVisibleChange:this.handlePanelVisibleChange},r)},this.state={panelShow:e.open||e.defaultOpen,isRange:!1,inputValue:null,value:[],cachedSelectedValue:[],prevTimeZone:null,rangeInputFocus:void 0,autofocus:e.autoFocus||this.isRangeType(e.type,e.triggerRender)&&(e.open||e.defaultOpen),insetInputValue:null,triggerDisabled:void 0},this.triggerElRef=g.createRef(),this.panelRef=g.createRef(),this.monthGrid=g.createRef(),this.inputRef=g.createRef(),this.rangeInputStartRef=g.createRef(),this.rangeInputEndRef=g.createRef(),this.focusRecordsRef=g.createRef(),this.focusRecordsRef.current={rangeStart:!1,rangeEnd:!1},this.foundation=new ghe(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:(t,r)=>{this.setState({panelShow:t},r),t||(this.focusRecordsRef.current.rangeEnd=!1,this.focusRecordsRef.current.rangeStart=!1)},registerClickOutSide:()=>{this.clickOutSideHandler&&(this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=null),this.clickOutSideHandler=t=>{const r=this.triggerElRef&&this.triggerElRef.current,s=this.panelRef&&this.panelRef.current,i=t.target,o=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(o.includes(r)||o.includes(s))&&(this.props.onClickOutSide(t),this.adapter.needConfirm()||this.foundation.closePanel())},document.addEventListener("mousedown",this.clickOutSideHandler)},unregisterClickOutSide:()=>{document.removeEventListener("mousedown",this.clickOutSideHandler)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyCancel:function(){return e.props.onCancel(...arguments)},notifyConfirm:function(){return e.props.onConfirm(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyPresetsClick:function(){return e.props.onPresetClick(...arguments)},updateValue:t=>this.setState({value:t}),updatePrevTimezone:t=>this.setState({prevTimeZone:t}),updateCachedSelectedValue:t=>{let r=t;t&&!Array.isArray(t)&&(r=[...t]),this.setState({cachedSelectedValue:r})},updateInputValue:t=>{this.setState({inputValue:t})},updateInsetInputValue:t=>{const{insetInput:r}=this.props;r&&!Fe(t,this.state.insetInputValue)&&this.setState({insetInputValue:t})},needConfirm:()=>["dateTime","dateTimeRange"].includes(this.props.type)&&this.props.needConfirm===!0,typeIsYearOrMonth:()=>["month","year","monthRange"].includes(this.props.type),setRangeInputFocus:t=>{const{preventScroll:r}=this.props;switch(t!==this.state.rangeInputFocus&&this.setState({rangeInputFocus:t}),t){case"rangeStart":const s=Q(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeStart=!0},0);break;case"rangeEnd":const i=Q(this,"rangeInputEndRef.current");i&&i.focus({preventScroll:r}),setTimeout(()=>{this.focusRecordsRef.current.rangeEnd=!0},0);break;default:return}},couldPanelClosed:()=>this.focusRecordsRef.current.rangeStart&&this.focusRecordsRef.current.rangeEnd,isEventTarget:t=>t&&t.target===t.currentTarget,setInsetInputFocus:()=>{const{preventScroll:t}=this.props,{rangeInputFocus:r}=this.state;switch(r){case"rangeEnd":if(document.activeElement!==this.rangeInputEndRef.current){const s=Q(this,"rangeInputEndRef.current");s&&s.focus({preventScroll:t})}break;case"rangeStart":default:if(document.activeElement!==this.rangeInputStartRef.current){const s=Q(this,"rangeInputStartRef.current");s&&s.focus({preventScroll:t})}break}},setInputFocus:()=>{const{preventScroll:t}=this.props,r=Q(this,"inputRef.current");r&&r.focus({preventScroll:t})},setInputBlur:()=>{const t=Q(this,"inputRef.current");t&&t.blur()},setRangeInputBlur:()=>{const{rangeInputFocus:t}=this.state;if(t==="rangeStart"){const r=Q(this,"rangeInputStartRef.current");r&&r.blur()}else if(t==="rangeEnd"){const r=Q(this,"rangeInputEndRef.current");r&&r.blur()}this.adapter.setRangeInputFocus(!1)},setTriggerDisabled:t=>{this.setState({triggerDisabled:t})}})}isRangeType(e,t){return/range/i.test(e)&&!De(t)}componentDidUpdate(e){Fe(e.value,this.props.value)?this.props.timeZone!==e.timeZone&&this.foundation.initFromProps({value:this.state.value,timeZone:this.props.timeZone,prevTimeZone:e.timeZone}):this.foundation.initFromProps(Object.assign({},this.props)),e.open!==this.props.open&&(this.foundation.initPanelOpenStatus(),this.props.open||this.foundation.clearRangeInputFocus())}componentDidMount(){this._mounted=!0,super.componentDidMount()}componentWillUnmount(){this._mounted=!1,super.componentWillUnmount()}open(){this.foundation.open()}close(){this.foundation.close()}focus(e){this.foundation.focus(e)}blur(){this.foundation.blur()}renderMonthGrid(e,t,r){const{type:s,multiple:i,max:o,weekStartsOn:a,timePickerOpts:l,defaultPickerValue:u,format:d,hideDisabledOptions:h,disabledTimePicker:f,renderDate:m,renderFullDate:b,startDateOffset:v,endDateOffset:_,autoSwitchDate:y,density:w,syncSwitchMonth:E,onPanelChange:S,timeZone:I,triggerRender:x,insetInput:O,presetPosition:T,yearAndMonthOpts:P,startYear:A,endYear:k}=this.props,{cachedSelectedValue:M,rangeInputFocus:N}=this.state,K=M;return g.createElement(jT,{ref:this.monthGrid,locale:e,localeCode:t,dateFnsLocale:r,weekStartsOn:a,type:s,multiple:i,max:o,format:d,disabledDate:this.disabledDisposeDate,hideDisabledOptions:h,disabledTimePicker:f,disabledTime:this.disabledDisposeTime,defaultValue:K,defaultPickerValue:u,timePickerOpts:l,isControlledComponent:!this.adapter.needConfirm()&&this.isControlled("value"),onChange:this.handleSelectedChange,renderDate:m,renderFullDate:b,startDateOffset:v,endDateOffset:_,autoSwitchDate:y,density:w,rangeInputFocus:N,setRangeInputFocus:this.handleSetRangeFocus,isAnotherPanelHasOpened:this.isAnotherPanelHasOpened,syncSwitchMonth:E,onPanelChange:S,timeZone:I,focusRecordsRef:this.focusRecordsRef,triggerRender:x,insetInput:O,presetPosition:T,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),yearAndMonthOpts:P,startYear:A,endYear:k})}renderQuickControls(){const{presets:e,type:t,presetPosition:r,insetInput:s,locale:i}=this.props;return g.createElement(VT,{type:t,presets:e,insetInput:s,presetPosition:r,onPresetClick:(o,a)=>this.foundation.handlePresetClick(o,a),locale:i})}renderDateInput(){const{insetInput:e,dateFnsLocale:t,density:r,type:s,format:i,rangeSeparator:o,defaultPickerValue:a}=this.props,{insetInputValue:l,value:u}=this.state,d={dateFnsLocale:t,format:i,insetInputValue:l,rangeSeparator:o,type:s,value:u,handleInsetDateFocus:this.handleInsetDateFocus,handleInsetTimeFocus:this.handleInsetTimeFocus,onInsetInputChange:this.handleInsetInputChange,rangeInputStartRef:this.rangeInputStartRef,rangeInputEndRef:this.rangeInputEndRef,density:r,defaultPickerValue:a};return e?g.createElement(yy,Object.assign({},d,{insetInput:e})):null}renderInner(e){const{clearIcon:t,type:r,format:s,multiple:i,disabled:o,showClear:a,insetLabel:l,insetLabelId:u,placeholder:d,validateStatus:h,inputStyle:f,prefix:m,locale:b,dateFnsLocale:v,triggerRender:_,size:y,inputReadOnly:w,rangeSeparator:E,insetInput:S,defaultPickerValue:I,borderless:x}=this.props,{value:O,inputValue:T,rangeInputFocus:P,triggerDisabled:A}=this.state,k=this.isRangeType(r,_),M=o||S&&A,N=$(`${we.PREFIX}-input`,{[`${we.PREFIX}-range-input`]:k,[`${we.PREFIX}-range-input-${y}`]:k&&y,[`${we.PREFIX}-range-input-active`]:k&&P&&!M,[`${we.PREFIX}-range-input-disabled`]:k&&M,[`${we.PREFIX}-range-input-${h}`]:k&&h,[`${we.PREFIX}-borderless`]:x}),K=d||b.placeholder[r],G=Object.assign(Object.assign({},e),{showClearIgnoreDisabled:!!S,placeholder:K,clearIcon:t,disabled:M,inputValue:T,value:O,defaultPickerValue:I,onChange:this.handleInputChange,onEnterPress:this.handleInputComplete,block:!0,inputStyle:f,showClear:a,insetLabel:l,insetLabelId:u,type:r,format:s,multiple:i,validateStatus:h,inputReadOnly:w||!!S,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onClear:this.handleInputClear,prefix:m,size:y,autofocus:this.state.autofocus,dateFnsLocale:v,rangeInputFocus:P,rangeSeparator:E,onRangeBlur:this.handleRangeInputBlur,onRangeClear:this.handleRangeInputClear,onRangeEndTabPress:this.handleRangeEndTabPress,rangeInputStartRef:S?null:this.rangeInputStartRef,rangeInputEndRef:S?null:this.rangeInputEndRef,inputRef:this.inputRef});return g.createElement("div",{role:"combobox","aria-label":Array.isArray(O)&&O.length?"Change date":"Choose date","aria-disabled":o,onClick:this.handleTriggerWrapperClick,className:N},typeof _=="function"?g.createElement(pu,Object.assign({},G,{triggerRender:_,componentName:"DatePicker",componentProps:Object.assign({},this.props)})):g.createElement(yy,Object.assign({},G)))}render(){const e=this.props,{style:t,className:r,prefixCls:s,type:i}=e,o=zpe(e,["style","className","prefixCls","type"]),a=Object.assign({style:t,className:$(r,{[s]:!0}),ref:this.setTriggerRef,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(o)),l=[];i.toLowerCase().includes("range")||l.push("borderless");const u=this.renderInner(Wl(this.props,l)),d=this.wrapPopover(u);return g.createElement("div",Object.assign({},a),d)}};Gl.contextType=Lr;Gl.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,type:c.oneOf(X.TYPE_SET),size:c.oneOf(X.SIZE_SET),clearIcon:c.node,density:c.oneOf(X.DENSITY_SET),defaultValue:c.oneOfType([c.string,c.number,c.object,c.array]),value:c.oneOfType([c.string,c.number,c.object,c.array]),defaultPickerValue:c.oneOfType([c.string,c.number,c.object,c.array]),disabledTime:c.func,disabledTimePicker:c.bool,hideDisabledOptions:c.bool,format:c.string,disabled:c.bool,multiple:c.bool,max:c.number,placeholder:c.oneOfType([c.string,c.array]),presets:c.array,presetPosition:c.oneOf(X.PRESET_POSITION_SET),onChange:c.func,onChangeWithDateFirst:c.bool,weekStartsOn:c.number,disabledDate:c.func,timePickerOpts:c.object,showClear:c.bool,onOpenChange:c.func,open:c.bool,defaultOpen:c.bool,motion:c.oneOfType([c.bool,c.func,c.object]),className:c.string,prefixCls:c.string,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,position:c.oneOf(Dl.POSITION_SET),getPopupContainer:c.func,onCancel:c.func,onConfirm:c.func,needConfirm:c.bool,inputStyle:c.object,timeZone:c.oneOfType([c.string,c.number]),triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),autoAdjustOverflow:c.bool,onBlur:c.func,onFocus:c.func,onClear:c.func,style:c.object,autoFocus:c.bool,inputReadOnly:c.bool,validateStatus:c.oneOf(X.STATUS),renderDate:c.func,renderFullDate:c.func,spacing:c.oneOfType([c.number,c.object]),startDateOffset:c.func,endDateOffset:c.func,autoSwitchDate:c.bool,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),topSlot:c.node,bottomSlot:c.node,dateFnsLocale:c.object,syncSwitchMonth:c.bool,onPanelChange:c.func,rangeSeparator:c.string,preventScroll:c.bool,yearAndMonthOpts:c.object,onClickOutSide:c.func};Gl.__SemiComponentName__="DatePicker";Gl.defaultProps=bs(Gl.__SemiComponentName__,{onChangeWithDateFirst:!0,borderless:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,prefixCls:we.PREFIX,presetPosition:"bottom",zIndex:gs.DEFAULT_Z_INDEX,type:"date",size:"default",density:"default",multiple:!1,defaultOpen:!1,disabledHours:F,disabledMinutes:F,disabledSeconds:F,hideDisabledOptions:!1,onBlur:F,onFocus:F,onClear:F,onCancel:F,onConfirm:F,onChange:F,onOpenChange:F,onPanelChange:F,onPresetClick:F,weekStartsOn:$c.WEEK_START_ON,disabledDate:of,disabledTime:of,inputReadOnly:!1,spacing:$c.SPACING,autoSwitchDate:!0,syncSwitchMonth:!1,rangeSeparator:X.DEFAULT_SEPARATOR_RANGE,insetInput:!1,onClickOutSide:F});const Kpe=u2(g.forwardRef((n,e)=>{const t=Object.assign({},n),{type:r,format:s,rangeSeparator:i}=t;return typeof s=="string"&&s&&(/[Hhms]+/.test(s)||(r==="dateTime"?t.type="date":r==="dateTimeRange"&&(t.type="dateRange"))),i&&typeof i=="string"&&(t.rangeSeparator=` ${i.trim()} `),t.insetInput&&(t.position||(t.position=X.POSITION_INLINE_INPUT),t.position.includes("Over")&&!t.spacing&&(t.spacing=$c.SPACING_INSET_INPUT)),g.createElement(Lr.Consumer,null,o=>{let{timeZone:a}=o;return g.createElement(On,{componentName:"DatePicker"},(l,u,d)=>g.createElement(Gl,Object.assign({timeZone:a,localeCode:u,locale:l,dateFnsLocale:d},t,{ref:e})))})}),Gl),dt={DIALOG:`${W}-modal`},xR={cancelKey:"cancel",confirmKey:"confirm",SIZE:["small","medium","large","full-width"],directions:["ltr","rtl"]};function Wpe(n){return n!==null&&typeof n=="object"}function mf(n){return Wpe(n)&&typeof n.then=="function"}class Gpe extends ke{constructor(e){super(Object.assign({},e)),this.toggleDisplayNone=(t,r)=>{this._adapter.toggleDisplayNone(t,r)}}destroy(){this.afterHide()}handleCancel(e){var t;const r=this._adapter.notifyCancel(e);mf(r)&&(this._adapter.setState({onCancelReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onCancelReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(s=>{throw this._adapter.setState({onCancelReturnPromiseStatus:"rejected"}),s}))}handleOk(e){var t;const r=this._adapter.notifyOk(e);mf(r)&&(this._adapter.setState({onOKReturnPromiseStatus:"pending"}),(t=r==null?void 0:r.then(()=>{this._adapter.setState({onOKReturnPromiseStatus:"fulfilled"})}))===null||t===void 0||t.catch(s=>{throw this._adapter.setState({onOKReturnPromiseStatus:"rejected"}),s}))}beforeShow(){this._adapter.disabledBodyScroll()}afterHide(){this._adapter.enabledBodyScroll(),this._adapter.notifyClose()}enabledBodyScroll(){this._adapter.enabledBodyScroll()}}class UT extends ke{constructor(e){super(Object.assign(Object.assign({},UT.defaultAdapter),e)),this.handleKeyDown=t=>{const{closeOnEsc:r}=this.getProps();if(r&&t.keyCode===Hn.ESC){t.stopPropagation(),this.close(t);return}}}destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){const{dialogMouseDown:t}=this.getStates();e.target===e.currentTarget&&!t&&this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}}var Ype=yF,qpe=KC,Xpe=HC,Qpe=qpe(function(n,e){return Xpe(n)?Ype(n,e):[]}),Zpe=Qpe;const Jpe=Ce(Zpe);class Ea{constructor(e,t){var r;this.addFocusRedirectListener=s=>(this.focusRedirectListenerList.push(s),()=>this.removeFocusRedirectListener(s)),this.removeFocusRedirectListener=s=>{this.focusRedirectListenerList=Jpe(this.focusRedirectListenerList,s)},this.destroy=()=>{var s;(s=this.container)===null||s===void 0||s.removeEventListener("keydown",this.onKeyPress)},this.shouldFocusRedirect=s=>{if(!this.enable)return!1;for(const i of this.focusRedirectListenerList)if(!i(s))return!1;return!0},this.focusElement=(s,i)=>{const{preventScroll:o}=this.options;s==null||s.focus({preventScroll:o}),i.preventDefault()},this.onKeyPress=s=>{if(s&&s.key==="Tab"){const i=Ea.getFocusableElements(this.container);i.length&&(s.shiftKey?this.handleContainerShiftTabKeyDown(i,s):this.handleContainerTabKeyDown(i,s))}},this.handleContainerTabKeyDown=(s,i)=>{const o=Ea.getActiveElement(),a=s[s.length-1]===o,l=s[0];a&&this.shouldFocusRedirect(l)&&this.focusElement(l,i)},this.handleContainerShiftTabKeyDown=(s,i)=>{const o=Ea.getActiveElement(),a=s[0]===o,l=s[s.length-1];a&&this.shouldFocusRedirect(l)&&this.focusElement(l,i)},Object.freeze(t),this.container=e,this.options=t,this.enable=(r=t==null?void 0:t.enable)!==null&&r!==void 0?r:!0,this.focusRedirectListenerList=t!=null&&t.onFocusRedirectListener?Array.isArray(t.onFocusRedirectListener)?[...t.onFocusRedirectListener]:[t.onFocusRedirectListener]:[],this.container.addEventListener("keydown",this.onKeyPress)}get enable(){return this._enable}set enable(e){this._enable=e}static getFocusableElements(e){if(!Xe(e))return[];const r=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(r))}static getActiveElement(){return document?document.activeElement:null}}var Gb=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let ege=0;class Gv extends xe{constructor(e){super(e),this.onKeyDown=t=>{this.foundation.handleKeyDown(t)},this.onDialogMouseDown=()=>{this.foundation.handleDialogMouseDown()},this.onMaskMouseUp=()=>{this.foundation.handleMaskMouseUp()},this.onMaskClick=t=>{this.foundation.handleMaskClick(t)},this.close=t=>{this.foundation.close(t)},this.getMaskElement=()=>{const t=Gb(this.props,[]),{mask:r,maskClassName:s}=t;if(r){const i=$(`${dt.DIALOG}-mask`,{});return g.createElement("div",Object.assign({key:"mask"},this.props.maskExtraProps,{className:$(i,s),style:t.maskStyle}))}return null},this.renderCloseBtn=()=>{const{closable:t,closeIcon:r}=this.props;let s;if(t){const i=r||g.createElement(Iv,{"x-semi-prop":"closeIcon"});s=g.createElement(Us,{"aria-label":"close",className:`${dt.DIALOG}-close`,key:"close-btn",onClick:this.close,type:"tertiary",icon:i,theme:"borderless",size:"small"})}return s},this.renderIcon=()=>{const{icon:t}=this.props;return t?g.createElement("span",{className:`${dt.DIALOG}-icon-wrapper`,"x-semi-prop":"icon"},t):null},this.renderHeader=()=>{if("header"in this.props)return this.props.header;const{title:t}=this.props,r=this.renderCloseBtn(),s=this.renderIcon();return t==null?null:g.createElement("div",{className:`${dt.DIALOG}-header`},s,g.createElement(wi.Title,{heading:5,className:`${dt.DIALOG}-title`,id:`${dt.DIALOG}-title`,"x-semi-prop":"title"},t),r)},this.renderBody=()=>{const{bodyStyle:t,children:r,title:s}=this.props,i=$(`${dt.DIALOG}-body`,{[`${dt.DIALOG}-withIcon`]:this.props.icon}),o=this.renderCloseBtn(),a=this.renderIcon();return s!=null||"header"in this.props?g.createElement("div",{className:i,id:`${dt.DIALOG}-body`,style:t,"x-semi-prop":"children"},r):g.createElement("div",{className:`${dt.DIALOG}-body-wrapper`},a,g.createElement("div",{className:i,style:t,"x-semi-prop":"children"},r),o)},this.getDialogElement=()=>{const t=Gb(this.props,[]),r={},s=$(`${dt.DIALOG}`,{[`${dt.DIALOG}-centered`]:t.centered,[`${dt.DIALOG}-${t.size}`]:t.size});t.width&&(r.width=t.width),t.height&&(r.height=t.height),t.isFullScreen&&(r.width="100%",r.height="100%",r.margin="unset");const i=this.renderBody(),o=this.renderHeader(),a=t.footer?g.createElement("div",{className:`${dt.DIALOG}-footer`,"x-semi-prop":"footer"},t.footer):null;return g.createElement("div",{key:"dialog-element",className:s,onMouseDown:this.onDialogMouseDown,style:Object.assign(Object.assign({},t.style),r),id:this.dialogId},g.createElement("div",{role:"dialog",ref:this.modalDialogRef,"aria-modal":"true","aria-labelledby":`${dt.DIALOG}-title`,"aria-describedby":`${dt.DIALOG}-body`,onAnimationEnd:t.onAnimationEnd,className:$([`${dt.DIALOG}-content`,t.contentClassName,{[`${dt.DIALOG}-content-fullScreen`]:t.isFullScreen}])},o,i,a))},this.state={dialogMouseDown:!1,prevFocusElement:Ea.getActiveElement()},this.foundation=new UT(this.adapter),this.dialogId=`dialog-${ege++}`,this.modalDialogRef=g.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyClose:e=>{this.props.onClose(e)},notifyDialogMouseDown:()=>{this.setState({dialogMouseDown:!0})},notifyDialogMouseUp:()=>{this.state.dialogMouseDown&&(this.timeoutId=setTimeout(()=>{this.setState({dialogMouseDown:!1})},0))},addKeyDownEventListener:()=>{this.props.closeOnEsc&&document.addEventListener("keydown",this.foundation.handleKeyDown)},removeKeyDownEventListener:()=>{this.props.closeOnEsc&&document.removeEventListener("keydown",this.foundation.handleKeyDown)},getMouseState:()=>this.state.dialogMouseDown,modalDialogFocus:()=>{var e,t,r;const{preventScroll:s}=this.props;let i;if(this.modalDialogRef){const o=Ea.getActiveElement();i=this.modalDialogRef.current.contains(o),(e=this.focusTrapHandle)===null||e===void 0||e.destroy(),this.focusTrapHandle=new Ea(this.modalDialogRef.current,{preventScroll:s})}i||(r=(t=this.modalDialogRef)===null||t===void 0?void 0:t.current)===null||r===void 0||r.focus({preventScroll:s})},modalDialogBlur:()=>{var e,t;(e=this.modalDialogRef)===null||e===void 0||e.current.blur(),(t=this.focusTrapHandle)===null||t===void 0||t.destroy()},prevFocusElementReFocus:()=>{const{prevFocusElement:e}=this.state,{preventScroll:t}=this.props,r=Q(e,"focus");De(r)&&e.focus({preventScroll:t})}})}componentDidMount(){var e;this.foundation.handleKeyDownEventListenerMount(),this.foundation.modalDialogFocus();const t=Ea.getFocusableElements(this.modalDialogRef.current);this.modalDialogRef.current.contains(document.activeElement)||(e=t[0])===null||e===void 0||e.focus()}componentWillUnmount(){clearTimeout(this.timeoutId),this.foundation.destroy()}render(){var e;const t=this.props,{maskClosable:r,className:s,getPopupContainer:i,maskFixed:o,getContainerContext:a}=t,l=Gb(t,["maskClosable","className","getPopupContainer","maskFixed","getContainerContext"]),{direction:u}=this.context,d=$(s,{[`${dt.DIALOG}-popup`]:i&&i()!==((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body)&&!o,[`${dt.DIALOG}-fixed`]:o,[`${dt.DIALOG}-rtl`]:u==="rtl"}),h=a(),f=this.getDataAttr(l),m=g.createElement("div",Object.assign({className:d},f),this.getMaskElement(),g.createElement("div",Object.assign({role:"none",className:$({[`${dt.DIALOG}-wrap`]:!0,[`${dt.DIALOG}-wrap-center`]:this.props.centered}),onClick:r?this.onMaskClick:null,onMouseUp:r?this.onMaskMouseUp:null},this.props.contentExtraProps),this.getDialogElement()));return h&&h.Provider?g.createElement(h.Provider,{value:h.value},m):m}}Gv.contextType=Lr;Gv.propTypes={close:c.func,getContainerContext:c.func,contentClassName:c.string,maskClassName:c.string,onAnimationEnd:c.func,preventScroll:c.bool};Gv.defaultProps={close:F,getContainerContext:F,contentClassName:"",maskClassName:""};var tge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const B2=n=>{const[e,t]=D.useState(!0),[r,s]=D.useState(),[i,o]=D.useState(),{direction:a}=n,{title:l,content:u,icon:d,type:h,onCancel:f,onOk:m,className:b}=n,v=tge(n,["title","content","icon","type","onCancel","onOk","className"]),_=D.useCallback(T=>{const P=m&&m(T);P&&P.then?(s(!0),P.then(function(){t(!1),s(!1)},A=>{s(!1)})):t(!1)},[m]),y=D.useCallback(T=>{const P=f&&f(T);P&&P.then?(o(!0),P.then(function(){t(!1),o(!1)},A=>{o(!1)})):t(!1)},[f]),w=`${dt.DIALOG}-confirm`,E=$(b,w,{[`${w}-rtl`]:a==="rtl"}),S=$(`${dt.DIALOG}-${h}`),I=_r(d)?g.cloneElement(d,{className:`${w}-icon ${S}-icon`,size:"extra-large"}):d,x=l==null?null:g.createElement("span",{className:`${w}-title-text`},l),O=$(`${w}-content`,{[`${w}-content-withIcon`]:n.icon});return g.createElement(ms,Object.assign({className:E,title:x,confirmLoading:r,cancelLoading:i,onOk:_,onCancel:y,icon:I,visible:e},v),g.createElement("div",{className:O,"x-semi-prop":"content"},u))};function fp(n){const e=document.createElement("div");document.body.appendChild(e);let t=Object.assign({},n);const r=()=>{Ar.unmountComponentAtNode(e)&&e.parentNode&&e.parentNode.removeChild(e);for(let l=0;l<El.length;l++)if(El[l]===i){El.splice(l,1);break}};function s(a){const{afterClose:l}=a;Ar.render(g.createElement(B2,Object.assign({},a,{afterClose:function(){l==null||l(...arguments),r()},motion:n.motion})),e)}function i(){t=Object.assign(Object.assign({},t),{visible:!1}),s(t)}function o(a){t=Object.assign(Object.assign({},t),a),s(t)}return s(t),El.push(i),{destroy:i,update:o}}function H2(n){return Object.assign({type:"info",icon:g.createElement(K$,null)},n)}function z2(n){return Object.assign({type:"success",icon:g.createElement(G$,null)},n)}function K2(n){return Object.assign({type:"warning",icon:g.createElement(uT,null)},n)}function W2(n){return Object.assign({type:"error",icon:g.createElement(lf,null),okButtonProps:Object.assign({type:"danger"},n.okButtonProps)},Ho(n,["okButtonProps"]))}function G2(n){return Object.assign({type:"confirm",icon:g.createElement(Rse,null)},n)}var nge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const rge=(n,e)=>{var{afterClose:t,config:r}=n;nge(n,["afterClose","config"]);const[s,i]=g.useState(r);g.useImperativeHandle(e,()=>({destroy:()=>{i(a=>Object.assign(Object.assign({},a),{visible:!1}))},update:a=>{i(l=>Object.assign(Object.assign({},l),a))}}));const o=()=>{var a;(a=r==null?void 0:r.afterClose)===null||a===void 0||a.call(r),t()};return g.createElement(B2,Object.assign({},s,{afterClose:o}))},sge=g.forwardRef(rge);let RR=0;function ige(){const[n,e]=g.useState([]);function t(r){return e(s=>[...s,r]),()=>{e(s=>s.filter(i=>i!==r))}}return[n,t]}function oge(){const[n,e]=ige();function t(r){return function(i){RR+=1;const o=g.createRef();let a;const l=g.createElement(sge,{key:`semi-modal-${RR}`,config:r(i),ref:o,afterClose:()=>{a()}});return a=e(l),{destroy:()=>{o.current&&o.current.destroy()},update:u=>{o.current&&o.current.update(u)}}}}return[{info:t(H2),success:t(z2),error:t(W2),warning:t(K2),confirm:t(G2)},g.createElement(g.Fragment,null,n)]}var age=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};let El=[];class ms extends xe{constructor(e){super(e),this.bodyOverflow=null,this.handleCancel=t=>{this.foundation.handleCancel(t)},this.handleOk=t=>{this.foundation.handleOk(t)},this.updateState=()=>{const{visible:t}=this.props;this.foundation.toggleDisplayNone(!t)},this.renderFooter=()=>{const{okText:t,okType:r,cancelText:s,confirmLoading:i,cancelLoading:o,hasCancel:a,footerFill:l}=this.props,u=d=>{var h;return a?g.createElement(Jt,Object.assign({"aria-label":"cancel",onClick:this.handleCancel,loading:o===void 0?this.state.onCancelReturnPromiseStatus==="pending":o,type:"tertiary",block:l,autoFocus:!0},this.props.cancelButtonProps,{style:Object.assign(Object.assign({},l?{marginLeft:"unset"}:{}),(h=this.props.cancelButtonProps)===null||h===void 0?void 0:h.style),"x-semi-children-alias":"cancelText"}),s||d.cancel):null};return g.createElement(On,{componentName:"Modal"},(d,h)=>g.createElement("div",{className:$({[`${dt.DIALOG}-footerfill`]:l})},u(d),g.createElement(Jt,Object.assign({"aria-label":"confirm",type:r,theme:"solid",block:l,loading:i===void 0?this.state.onOKReturnPromiseStatus==="pending":i,onClick:this.handleOk},this.props.okButtonProps,{"x-semi-children-alias":"okText"}),t||d.confirm)))},this.renderDialog=()=>{var t;let r=this.props,{footer:s,className:i,motion:o,maskStyle:a,keepDOM:l,style:u,zIndex:d,getPopupContainer:h,visible:f,modalContentClass:m}=r,b=age(r,["footer","className","motion","maskStyle","keepDOM","style","zIndex","getPopupContainer","visible","modalContentClass"]),v=u;const _=a,y="footer"in this.props?s:this.renderFooter();let w={zIndex:d};h&&h()!==((t=globalThis==null?void 0:globalThis.document)===null||t===void 0?void 0:t.body)&&(w={zIndex:d,position:"static"});const E=$(i,{[`${dt.DIALOG}-displayNone`]:l&&this.state.displayNone}),S=this.props.visible||this.props.keepDOM&&(!this.props.lazyRender||this._haveRendered)||this.props.motion&&!this.state.displayNone;return S&&(this._haveRendered=!0),g.createElement(af,{motion:this.props.motion,animationState:f?"enter":"leave",startClassName:f?`${dt.DIALOG}-content-animate-show`:`${dt.DIALOG}-content-animate-hide`,onAnimationEnd:()=>{this.updateState()}},I=>{let{animationClassName:x,animationEventsNeedBind:O}=I;return g.createElement(af,{motion:this.props.motion,animationState:f?"enter":"leave",startClassName:f?`${dt.DIALOG}-mask-animate-show`:`${dt.DIALOG}-mask-animate-hide`,onAnimationEnd:()=>{this.updateState()}},T=>{let{animationClassName:P,animationEventsNeedBind:A}=T;return S?g.createElement(Jf,{style:w,getPopupContainer:h}," ",g.createElement(Gv,Object.assign({},b,{contentExtraProps:O,maskExtraProps:A,isFullScreen:this.state.isFullScreen,contentClassName:`${x} ${m}`,maskClassName:P,className:E,getPopupContainer:h,maskStyle:_,style:v,ref:this.modalRef,footer:y,onClose:this.handleCancel}))):g.createElement(g.Fragment,null)})})},this.state={displayNone:!e.visible,isFullScreen:e.fullScreen},this.foundation=new Gpe(this.adapter),this.modalRef=g.createRef(),this.scrollBarWidth=0,this.originBodyWidth="100%"}get adapter(){return Object.assign(Object.assign({},super.adapter),{getProps:()=>this.props,disabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;this.bodyOverflow=document.body.style.overflow||"",(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{var e;const{getPopupContainer:t}=this.props;(!t||t()===((e=globalThis==null?void 0:globalThis.document)===null||e===void 0?void 0:e.body))&&this.bodyOverflow!==null&&this.bodyOverflow!=="hidden"&&(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyCancel:e=>this.props.onCancel(e),notifyOk:e=>this.props.onOk(e),notifyClose:()=>{this.props.afterClose()},toggleDisplayNone:(e,t)=>{e!==this.state.displayNone&&this.setState({displayNone:e},t||F)},notifyFullScreen:e=>{e!==this.state.isFullScreen&&this.setState({isFullScreen:e})}})}static getDerivedStateFromProps(e,t){const r={};return e.fullScreen!==t.isFullScreen&&(r.isFullScreen=e.fullScreen),e.visible&&t.displayNone&&(r.displayNone=!1),r}componentDidMount(){this.scrollBarWidth=Vee(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,t,r){!e.visible&&this.props.visible&&this.foundation.beforeShow(),!t.displayNone&&this.state.displayNone&&this.foundation.afterHide()}componentWillUnmount(){this.props.visible?this.foundation.destroy():this.foundation.enabledBodyScroll()}render(){return this.props,this.renderDialog()}}ms.propTypes={mask:c.bool,closable:c.bool,centered:c.bool,visible:c.bool,width:c.oneOfType([c.string,c.number]),height:c.oneOfType([c.string,c.number]),confirmLoading:c.bool,cancelLoading:c.bool,okText:c.string,okType:c.string,cancelText:c.string,maskClosable:c.bool,onCancel:c.func,onOk:c.func,afterClose:c.func,okButtonProps:c.object,cancelButtonProps:c.object,style:c.object,className:c.string,maskStyle:c.object,bodyStyle:c.object,zIndex:c.number,title:c.node,icon:c.node,header:c.node,footer:c.node,hasCancel:c.bool,motion:c.bool,children:c.node,getPopupContainer:c.func,getContainerContext:c.func,maskFixed:c.bool,closeIcon:c.node,closeOnEsc:c.bool,size:c.oneOf(xR.SIZE),keepDOM:c.bool,lazyRender:c.bool,direction:c.oneOf(xR.directions),fullScreen:c.bool,footerFill:c.bool};ms.__SemiComponentName__="Modal";ms.defaultProps=bs(ms.__SemiComponentName__,{zIndex:1e3,motion:!0,mask:!0,centered:!1,closable:!0,visible:!1,okType:"primary",maskClosable:!0,hasCancel:!0,onCancel:F,onOk:F,afterClose:F,maskFixed:!1,closeOnEsc:!0,size:"small",keepDOM:!1,lazyRender:!0,fullScreen:!1});ms.useModal=oge;ms.info=function(n){return fp(H2(n))};ms.success=function(n){return fp(z2(n))};ms.error=function(n){return fp(W2(n))};ms.warning=function(n){return fp(K2(n))};ms.confirm=function(n){return fp(G2(n))};ms.destroyAll=function(){for(let e=0,t=El.length;e<t;e++){const r=El[e];r&&r()}El=[]};const Y2={PREFIX:`${W}`};var lge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const AR=["xxl","xl","lg","md","sm","xs"],q2=g.createContext(null),DR={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class Yv extends g.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(DR).map(e=>jee(DR[e],{match:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})}))},unmatch:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})}))}}))}componentWillUnmount(){this.unRegisters.forEach(e=>e())}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach((s,i)=>{if(typeof s=="object")for(let o=0;o<AR.length;o++){const a=AR[o];if(this.state.screens[a]&&s[a]!==void 0){t[i]=s[a];break}}else t[i]=s||0}),t}render(){const e=this.props,{prefixCls:t,type:r,justify:s,align:i,className:o,style:a,children:l}=e,u=lge(e,["prefixCls","type","justify","align","className","style","children"]),d=this.getGutter(),h=`${t}-row`,f=$({[h]:r!=="flex",[`${h}-${r}`]:r,[`${h}-${r}-${s}`]:r&&s,[`${h}-${r}-${i}`]:r&&i},o),m=Object.assign(Object.assign(Object.assign({},d[0]>0?{marginLeft:d[0]/-2,marginRight:d[0]/-2}:{}),d[1]>0?{marginTop:d[1]/-2,marginBottom:d[1]/-2}:{}),a),b=Object.assign({},u);return delete b.gutter,g.createElement(q2.Provider,{value:{gutters:d}},g.createElement("div",Object.assign({},b,{className:f,style:m,"x-semi-prop":"children"}),l))}}Yv.propTypes={type:c.oneOf(["flex"]),align:c.oneOf(["top","middle","bottom"]),justify:c.oneOf(["start","end","center","space-around","space-between"]),className:c.string,style:c.object,children:c.node,gutter:c.oneOfType([c.object,c.number,c.array]),prefixCls:c.string};Yv.defaultProps={prefixCls:Y2.PREFIX};Yv.RowContext={gutters:c.any};var uge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Du=c.oneOfType([c.object,c.number]);class Wr extends g.Component{render(){const{props:e}=this,{prefixCls:t,span:r,order:s,offset:i,push:o,pull:a,className:l,children:u}=e,d=uge(e,["prefixCls","span","order","offset","push","pull","className","children"]);let h={};const f=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach(_=>{let y={};typeof e[_]=="number"?y.span=e[_]:typeof e[_]=="object"&&(y=e[_]||{}),delete d[_],h=Object.assign(Object.assign({},h),{[`${f}-${_}-${y.span}`]:y.span!==void 0,[`${f}-${_}-order-${y.order}`]:y.order||y.order===0,[`${f}-${_}-offset-${y.offset}`]:y.offset||y.offset===0,[`${f}-${_}-push-${y.push}`]:y.push||y.push===0,[`${f}-${_}-pull-${y.pull}`]:y.pull||y.pull===0})});const m=$(f,{[`${f}-${r}`]:r!==void 0,[`${f}-order-${s}`]:s,[`${f}-offset-${i}`]:i,[`${f}-push-${o}`]:o,[`${f}-pull-${a}`]:a},l,h);let{style:b}=d,v;try{v=this.context.gutters}catch{throw new Error("please make sure <Col> inside <Row>")}return b=Object.assign(Object.assign(Object.assign({},v[0]>0?{paddingLeft:v[0]/2,paddingRight:v[0]/2}:{}),v[1]>0?{paddingTop:v[1]/2,paddingBottom:v[1]/2}:{}),b),g.createElement("div",Object.assign({},d,{style:b,className:m,"x-semi-prop":"children"}),u)}}Wr.contextType=q2;Wr.propTypes={span:c.number,order:c.number,offset:c.number,push:c.number,pull:c.number,className:c.string,children:c.node,xs:Du,sm:Du,md:Du,lg:Du,xl:Du,xxl:Du,prefixCls:c.string};Wr.defaultProps={prefixCls:Y2.PREFIX};const oi={PREFIX:`${W}-form`},ah={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"},lo=oi.PREFIX;class Wi extends D.PureComponent{render(){const{children:e,required:t,text:r,disabled:s,name:i,width:o,align:a,style:l,className:u,extra:d,id:h,optional:f}=this.props,m=$(u,{[`${lo}-field-label`]:!0,[`${lo}-field-label-left`]:a==="left",[`${lo}-field-label-right`]:a==="right",[`${lo}-field-label-required`]:t,[`${lo}-field-label-disabled`]:s,[`${lo}-field-label-with-extra`]:d}),b=l||{};o&&(b.width=o);const v=g.createElement(On,{componentName:"Form"},w=>g.createElement("span",{className:`${lo}-field-label-optional-text`},w.optional)),_=g.createElement("div",{className:`${lo}-field-label-text`,"x-semi-prop":"label"},typeof r<"u"?r:e,f?v:null),y=g.createElement(g.Fragment,null,_,g.createElement("div",{className:`${lo}-field-label-extra`},d));return g.createElement("label",{className:m,htmlFor:i,style:b,id:h},d?y:_)}}Wi.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1};Wi.propTypes={id:c.string,children:c.node,required:c.bool,text:c.node,disabled:c.bool,name:c.string,align:c.string,width:c.oneOfType([c.number,c.string]),style:c.object,className:c.string,extra:c.node,optional:c.bool};var kR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ol=Av.PREFIX,cge=Ja.SIZE;class BT extends xe{renderGroupWithLabel(e){const t=this.props,{size:r,className:s,label:i,labelPosition:o}=t;kR(t,["size","className","label","labelPosition"]);const a=$({[`${ol}-group-wrapper`]:!0,[`${ol}-group-wrapper-with-top-label`]:o==="top",[`${ol}-group-wrapper-with-left-label`]:o==="left"}),l=$(`${ol}-group`,s,{[`${ol}-${r}`]:r!=="default"}),u="input-group";return g.createElement("div",{className:a},i&&i.text?g.createElement(Wi,Object.assign({name:u},i)):null,g.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:i&&i.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:r,className:s,children:i,label:o,onBlur:a,onFocus:l,disabled:u}=e,d=kR(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),h=$(`${ol}-group`,{[`${ol}-${t}`]:t!=="default"},s);let f;return i&&(f=(Array.isArray(i)?i:[i]).map((m,b)=>{if(m){const{onBlur:v,onFocus:_,disabled:y}=m.props,w=De(v)&&Q(v,"name")!=="noop"?v:a,E=De(_)&&Q(_,"name")!=="noop"?_:l,S=typeof y=="boolean"?y:u;return g.cloneElement(m,Object.assign(Object.assign({key:b},d),{size:t,onBlur:w,onFocus:E,disabled:S}))}return null})),o&&o.text?this.renderGroupWithLabel(f):g.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:h,style:r,onFocus:this.props.onFocus,onBlur:this.props.onBlur},f)}}BT.propTypes={className:c.string,children:c.node,size:c.oneOf(cge),style:c.object,onBlur:c.func,onFocus:c.func,label:c.object,labelPosition:c.string};BT.defaultProps={size:"default",className:"",onBlur:Pt,onFocus:Pt};let os=null;const NR={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},LR=n=>{Object.keys(NR).forEach(e=>{n.style.setProperty(e,NR[e],"important")})},MR=(n,e)=>{const t=n.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function dge(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0;os||(os=document.createElement("textarea"),os.setAttribute("tab-index","-1"),os.setAttribute("aria-hidden","true"),LR(os)),os.parentNode===null&&document.body.appendChild(os);const{paddingSize:s,borderSize:i,sizingStyle:o}=n,{boxSizing:a}=o;Object.keys(o).forEach(f=>{os.style[f]=o[f]}),LR(os),os.value=e;let l=MR(os,n);os.value="x";const u=MR(os,n)-s-i;let d=u*t;a==="border-box"&&(d=d+s+i),l=Math.max(d,l);let h=u*r;return a==="border-box"&&(h=h+s+i),l=Math.min(h,l),l}const hge=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],fge=n=>{const e=window.getComputedStyle(n);if(e===null)return null;const t=Wl(e,hge),{boxSizing:r}=t;if(r==="")return null;const s=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),i=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:s,borderSize:i}};class HT extends ke{static get textAreaDefaultAdapter(){return{notifyChange:F,setValue:F,toggleFocusing:F,toggleHovering:F,notifyFocus:F,notifyBlur:F,notifyKeyDown:F,notifyEnterPress:F}}constructor(e){super(Object.assign(Object.assign({},HT.textAreaDefaultAdapter),e)),this.resizeTextarea=()=>{var t;const{height:r}=this.getStates(),{rows:s,autosize:i}=this.getProps(),o=this._adapter.getRef(),a=fge(o);if(!a)return;const[l,u]=i!==null&&typeof i=="object"?[(t=i==null?void 0:i.minRows)!==null&&t!==void 0?t:s,i==null?void 0:i.maxRows]:[s],d=dge(a,o.value||o.placeholder||"x",l,u);if(r!==d){this._adapter.notifyHeightUpdate(d),o.style.height=`${d}px`;return}}}destroy(){}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:s,getValueLength:i}=this._adapter.getProps();let o=e;r&&De(i)&&(o=this.handleVisibleMaxLength(e)),s&&De(i)&&this.handleVisibleMinLength(o),this._isControlledComponent()?this._adapter.notifyChange(o,t):(this._adapter.setValue(o),this._adapter.notifyChange(o,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if(Zt(t)&&t>=0&&De(r)&&Re(e)){const i=r(e);if(i<t){const o=e.length+(t-i);o!==s&&this._adapter.setMinLength(o)}else s!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();if(Zt(t)&&t>=0&&Re(e)){if(De(r)){if(r(e)>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)}else if(e.length>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),e.slice(0,t);return e}}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();return tF({value:e,maxLength:t,getValueLength:r})}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){const{value:t}=this.getStates(),{maxLength:r}=this.getProps();let s=t;r&&(s=this.handleVisibleMaxLength(t),s!==t&&(this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,e))),this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(s,e)}handleKeyDown(e){const{disabledEnterStartNewLine:t}=this.getProps();t&&e.key==="Enter"&&!e.shiftKey&&e.preventDefault(),this._adapter.notifyKeyDown(e),e.keyCode===13&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){const{value:e,isFocus:t,isHover:r}=this._adapter.getStates(),{showClear:s,disabled:i,readonly:o}=this._adapter.getProps();return e&&s&&!i&&(t||r)&&!o}handleClear(e){const{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var pge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Or=Av.PREFIX;class zT extends xe{constructor(e){super(e),this.handleClear=r=>{this.foundation.handleClear(r)},this.setRef=r=>{this.libRef.current=r;const{forwardRef:s}=this.props;typeof s=="function"?s(r):s&&typeof s=="object"&&(s.current=r)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,isFocus:!1,isHover:!1,height:0,minLength:e.minLength,cachedValue:e.value},this.focusing=!1,this.foundation=new HT(this.adapter),this.libRef=g.createRef(),this.throttledResizeTextarea=qm(this.foundation.resizeTextarea,10)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentWillUnmount(){var e,t;this.throttledResizeTextarea&&((t=(e=this.throttledResizeTextarea)===null||e===void 0?void 0:e.cancel)===null||t===void 0||t.call(e),this.throttledResizeTextarea=null)}componentDidUpdate(e,t){(this.props.value!==e.value||this.props.placeholder!==e.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){const{showClear:e}=this.props,t=this.foundation.isAllowClear(),r=$(`${Or}-clearbtn`,{[`${Or}-clearbtn-hidden`]:!t});return e?g.createElement("div",{className:r,onClick:this.handleClear},g.createElement(Za,null)):null}renderCounter(){let e,t,r,s;const{showCounter:i,maxCount:o,getValueLength:a}=this.props;if(i||o){const{value:l}=this.state;t=l?De(a)?a(l):l.length:0,r=o||null,s=$(`${Or}-textarea-counter`,{[`${Or}-textarea-counter-exceed`]:t>r}),e=g.createElement("div",{className:s},t,r?"/":null,r)}else e=null;return e}render(){const e=this.props,{autosize:t,placeholder:r,onEnterPress:s,onResize:i,disabled:o,readonly:a,className:l,showCounter:u,validateStatus:d,maxCount:h,defaultValue:f,style:m,forwardRef:b,getValueLength:v,maxLength:_,minLength:y,showClear:w,borderless:E,autoFocus:S}=e,I=pge(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:x,value:O,minLength:T}=this.state,P=$(l,`${Or}-textarea-wrapper`,{[`${Or}-textarea-borderless`]:E,[`${Or}-textarea-wrapper-disabled`]:o,[`${Or}-textarea-wrapper-readonly`]:a,[`${Or}-textarea-wrapper-${d}`]:!!d,[`${Or}-textarea-wrapper-focus`]:x}),A=$(`${Or}-textarea`,{[`${Or}-textarea-disabled`]:o,[`${Or}-textarea-readonly`]:a,[`${Or}-textarea-autosize`]:ko(t)?wt(t==null?void 0:t.maxRows):t,[`${Or}-textarea-showClear`]:w}),k=Object.assign(Object.assign({},Ho(I,"insetLabel","insetLabelId","getValueLength","onClear","showClear","disabledEnterStartNewLine")),{autoFocus:S||this.props.autofocus,className:A,disabled:o,readOnly:a,placeholder:r||null,onChange:M=>this.foundation.handleChange(M.target.value,M),onFocus:M=>this.foundation.handleFocus(M),onBlur:M=>this.foundation.handleBlur(M.nativeEvent),onKeyDown:M=>this.foundation.handleKeyDown(M),value:O??""});return De(v)||(k.maxLength=_),T&&(k.minLength=T),g.createElement("div",{className:P,style:m,onMouseEnter:M=>this.foundation.handleMouseEnter(M),onMouseLeave:M=>this.foundation.handleMouseLeave(M)},t?g.createElement(Da,{onResize:this.throttledResizeTextarea},g.createElement("textarea",Object.assign({},k,{ref:this.setRef}))):g.createElement("textarea",Object.assign({},k,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}zT.propTypes={autosize:c.oneOfType([c.bool,c.object]),borderless:c.bool,placeholder:c.string,value:c.string,rows:c.number,cols:c.number,maxCount:c.number,onEnterPress:c.func,validateStatus:c.string,className:c.string,style:c.object,showClear:c.bool,onClear:c.func,onResize:c.func,getValueLength:c.func,disabledEnterStartNewLine:c.bool};zT.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:F,onChange:F,onBlur:F,onFocus:F,onKeyDown:F,onResize:F,onClear:F};const gge=g.forwardRef((n,e)=>g.createElement(zT,Object.assign({},n,{forwardRef:e})));var mge=J$;function yge(n){return mge(n)&&n!=+n}var vge=yge;const _ge=Ce(vge),bge=(n,e)=>{const{isNaN:t}=Number;return t(n)&&t(e)},wge=Object.assign({},Av),Sl=Object.assign(Object.assign({},fie),{DEFAULT_STEP:1,DEFAULT_SHIFT_STEP:10,DEFAULT_PRESS_TIMEOUT:250,DEFAULT_PRESS_INTERVAL:0,MOUSE_BUTTON_LEFT:0}),Ege=Object.assign({},Ja);function Sge(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=Math.pow(10,Math.max(t,r));return(n*s+e*s)/s}function $R(n,e){return Sge(n,-e)}class Cge extends ke{init(){this._setInitValue()}destroy(){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}isControlled(){return this._isControlledComponent("value")}_doInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=e,i=e,o=!0;const a=this.isControlled();typeof e!="number"&&(i=this.doParse(e,!1),o=!isNaN(i)),o&&(s=i,a||this._adapter.setNumber(i)),a||this._adapter.setValue(e,r),this.getProp("keepFocus")&&this._adapter.setFocusing(!0,()=>{this._adapter.setClickUpOrDown(!0)}),this.notifyChange(s,t)}_registerInterval(e){const t=this.getProp("pressInterval")||Sl.DEFAULT_PRESS_INTERVAL;this._intervalHasRegistered=!0,this._interval=setInterval(()=>{typeof e=="function"&&this._intervalHasRegistered&&e()},t)}_unregisterInterval(){this._interval&&(this._intervalHasRegistered=!1,clearInterval(this._interval),this._interval=null)}_registerTimer(e){const t=this.getProp("pressTimeout")||Sl.DEFAULT_PRESS_TIMEOUT;this._timerHasRegistered=!0,this._timer=setTimeout(()=>{this._timerHasRegistered&&typeof e=="function"&&e()},t)}_unregisterTimer(){this._timer&&(this._timerHasRegistered=!1,clearTimeout(this._timer),this._timer=null)}handleInputFocus(e){this.getState("value"),this._adapter.recordCursorPosition(),this._adapter.setFocusing(!0,null),this._adapter.setClickUpOrDown(!1),this._adapter.notifyFocus(e)}handleInputChange(e,t){const r=this.doParse(e,!0,!0,!0),s=this.doParse(e,!1,!1,!1),i=this.afterParser(e);this._adapter.recordCursorPosition();let o,a=s,l=e;if(e==="")this.isControlled()||(a=null);else if(this.isValidNumber(s)&&this.isValidNumber(r))o=s,l=this.doFormat(s,!1);else{if(typeof s=="number"&&!isNaN(s)){l=this.doFormat(s,!1);const u=i.lastIndexOf("."),d=i.length-1-u,h=this._getPrecLen(s);if(h){if(h<d)for(let f=0;f<d-h;f++)l+="0"}else{const f=u>-1?i.slice(u):"";l+=f}a=s}else l=this.doFormat(i,!1);o=i}!this.isControlled()&&(a===null||typeof a=="number"&&!isNaN(a))&&this._adapter.setNumber(a),this._adapter.setValue(this.isControlled()?l:this.doFormat(i,!1),()=>{this._adapter.restoreCursor()}),this.notifyChange(o,t)}handleInputKeyDown(e){const t=e.keyCode;if(t===Hn.UP||t===Hn.DOWN){this._adapter.setClickUpOrDown(!0),this._adapter.recordCursorPosition();const r=t===Hn.UP?this.add(null,e):this.minus(null,e);this._doInput(r,e,()=>{this._adapter.restoreCursor()}),e.preventDefault()}this._adapter.notifyKeyDown(e)}handleInputBlur(e){const t=Tu(this.getState("value"));let r=this.getState("number");if(r!=null||t!=null&&t!==""){const s=this.doParse(t,!1,!0,!0);let i=!1,o=!1,a,l;this.isValidNumber(s)&&r!==s&&(a=s,this.isControlled()||(r=a),i=!0);const u=this.doFormat(r,!0);if(u!==t&&(l=u,o=!0),o||i){const d=l??a;l!=null&&this._adapter.setValue(l),a!=null&&(this._isControlledComponent("value")||this._adapter.setNumber(a)),this.notifyChange(d,e)}}this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputMouseEnter(e){this._adapter.setHovering(!0)}handleInputMouseLeave(e){this._adapter.setHovering(!1)}handleInputMouseMove(e){this._adapter.setHovering(!0)}handleMouseUp(e){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}handleUpClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.upClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.upClick(e)})}))}handleDownClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.downClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.downClick(e)})}))}_isMouseButtonLeft(e){return Q(e,"button")===Sl.MOUSE_BUTTON_LEFT}_preventDefault(e){const t=this._adapter.getProp("keepFocus"),r=this._adapter.getProp("innerButtons");(t||r)&&e.preventDefault()}handleMouseLeave(e){this._adapter.registerGlobalEvent("mouseup",()=>{this.handleMouseUp(e)})}upClick(e){const t=this.add(null,e);this._doInput(t,e),this._adapter.notifyUpClick(t,e)}downClick(e){const t=this.minus(null,e);this._doInput(t,e),this._adapter.notifyDownClick(t,e)}_setInitValue(){const{defaultValue:e,value:t}=this.getProps(),r=this._isControlledComponent("value")?t:e,s=this.doParse(Tu(r),!1,!0,!0);let i=null;typeof s=="number"&&!isNaN(s)&&(i=s);const o=typeof i=="number"?this.doFormat(i,!0):"";this._adapter.setNumber(i),this._adapter.setValue(o),Re(o)&&o!==String(r??"")&&this.notifyChange(o,null)}add(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");e=e==null?s:Number(e);const i=Math.abs(Ls(e)),o=this.getState("number");let a=this.toNumber(o)||0;const l=this.getProp("min"),u=this.getProp("max"),d=this._getPrecLen(l),h=this._getPrecLen(u),f=this._getPrecLen(a),m=this._getPrecLen(e),b=Math.pow(10,Math.max(d,h,f,m));return e<0?Math.abs($R(l,a))>=i&&(a=(a*b+e*b)/b):e>0&&Math.abs($R(u,a))>=i&&(a=(a*b+e*b)/b),typeof l=="number"&&l>a&&(a=l),typeof u=="number"&&u<a&&(a=u),this.doFormat(a,!0)}minus(e,t){const s=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");return e=e==null?s:Number(e),this.add(-e,t)}_getPrecLen(e){typeof e!="string"&&(e=String(Math.abs(Number(e||""))));const t=e.indexOf(".")+1;return t?e.length-t:0}_adjustPrec(e){const t=this.getProp("precision");return typeof t=="number"&&e!==""&&e!==null&&!Number.isNaN(Number(e))&&(e=Number(e).toFixed(t)),Tu(e)}doFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r;const s=this.getProp("formatter");return t?r=this._adjustPrec(e):r=Tu(e),typeof s=="function"&&(r=s(r)),r}fetchMinOrMax(e){const{min:t,max:r}=this.getProps();return e<t?t:e>r?r:e}doParse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof e=="number")return s&&(e=this.fetchMinOrMax(e)),r&&(e=this._adjustPrec(e)),Ls(e);const i=this.getProp("parser");if(typeof i=="function"&&(e=i(e)),t&&typeof e=="string"){const o=e.indexOf(".")===-1||e.indexOf(".")>-1&&(e==="0"||e.lastIndexOf("0")<e.length-1),a=e.lastIndexOf(".")<e.length-1&&e.split("").filter(l=>l===".").length<2;if(!o||!a)return NaN}return r&&(e=this._adjustPrec(e)),typeof e=="string"&&e.length?s?this.fetchMinOrMax(Ls(e)):Ls(e):NaN}afterParser(e){const t=this.getProp("parser");return Tu(typeof e=="string"&&typeof t=="function"?t(e):e)}toNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number")return e;if(typeof e=="string"){const r=this.getProp("parser");typeof r=="function"&&(e=r(e)),t&&(e=this._adjustPrec(e))}return Ls(e)}isValidNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number"&&!isNaN(e)){const{min:r,max:s,precision:i}=this.getProps(),o=this._getPrecLen(e),a=t?typeof i=="number"&&o<=i||typeof i!="number":!0;if(e>=r&&e<=s&&a)return!0}return!1}isValidString(e){if(typeof e=="string"&&e.length){const t=this.doParse(e);return this.isValidNumber(t)}return!1}notifyChange(e,t){if(e==null||e==="")this._adapter.notifyChange("",t);else{const r=this.toNumber(e,!0);typeof r=="number"&&!isNaN(r)?(this._adapter.notifyChange(r,t),this.notifyNumberChange(r,t)):this._adapter.notifyChange(this.afterParser(e),t)}}notifyNumberChange(e,t){const{number:r}=this.getStates();this.isValidNumber(e)&&e!==r&&this._adapter.notifyNumberChange(e,t)}updateStates(e,t){this._adapter.updateStates(e,t)}}var Tge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class vy extends xe{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setValue:(t,r)=>this.setState({value:t},r),setNumber:(t,r)=>this.setState({number:t},r),setFocusing:(t,r)=>this.setState({focusing:t},r),setHovering:t=>this.setState({hovering:t}),notifyChange:function(){return e.props.onChange(...arguments)},notifyNumberChange:function(){return e.props.onNumberChange(...arguments)},notifyBlur:t=>this.props.onBlur(t),notifyFocus:t=>this.props.onFocus(t),notifyUpClick:(t,r)=>this.props.onUpClick(t,r),notifyDownClick:(t,r)=>this.props.onDownClick(t,r),notifyKeyDown:t=>this.props.onKeyDown(t),registerGlobalEvent:(t,r)=>{t&&typeof r=="function"&&(this.adapter.unregisterGlobalEvent(t),this.adapter.setCache(t,r),document.addEventListener(t,r))},unregisterGlobalEvent:t=>{if(t){const r=this.adapter.getCache(t);document.removeEventListener(t,r),this.adapter.setCache(t,null)}},recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(t){console.warn(t)}},restoreByAfter:t=>{if(bt(t))return!1;const r=this.inputNode.value,s=r.lastIndexOf(t);return s===-1?!1:s+t.length===r.length?(this.adapter.fixCaret(s,s),!0):!1},restoreCursor:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.cursorAfter;return bt(t)?!1:Array.prototype.some.call(t,(r,s)=>{const i=t.substring(s);return e.adapter.restoreByAfter(i)})},fixCaret:(t,r)=>{if(!(t===void 0||r===void 0||!this.inputNode||!this.inputNode.value))try{const s=this.inputNode.selectionStart,i=this.inputNode.selectionEnd;(t!==s||r!==i)&&this.inputNode.setSelectionRange(t,r)}catch{}},setClickUpOrDown:t=>{this.clickUpOrDown=t},updateStates:(t,r)=>{this.setState(t,r)}})}constructor(e){super(e),this.setInputRef=t=>{const{forwardedRef:r}=this.props;this.inputNode=t,r&&typeof r=="object"?r.current=t:typeof r=="function"&&r(t)},this.handleInputFocus=t=>this.foundation.handleInputFocus(t),this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.handleInputBlur=t=>this.foundation.handleInputBlur(t),this.handleInputKeyDown=t=>this.foundation.handleInputKeyDown(t),this.handleInputMouseEnter=t=>this.foundation.handleInputMouseEnter(t),this.handleInputMouseLeave=t=>this.foundation.handleInputMouseLeave(t),this.handleInputMouseMove=t=>this.foundation.handleInputMouseMove(t),this.handleUpClick=t=>this.foundation.handleUpClick(t),this.handleDownClick=t=>this.foundation.handleDownClick(t),this.handleMouseUp=t=>this.foundation.handleMouseUp(t),this.handleMouseLeave=t=>this.foundation.handleMouseLeave(t),this.renderButtons=()=>{const{prefixCls:t,disabled:r,innerButtons:s,max:i,min:o}=this.props,{hovering:a,focusing:l,number:u}=this.state,d=r||u===i,h=r||u===o,f=$(`${t}-number-suffix-btns`,{[`${t}-number-suffix-btns-inner`]:s,[`${t}-number-suffix-btns-inner-hover`]:s&&a&&!l}),m=$(`${t}-number-button`,`${t}-number-button-up`,{[`${t}-number-button-up-disabled`]:r,[`${t}-number-button-up-not-allowed`]:d}),b=$(`${t}-number-button`,`${t}-number-button-down`,{[`${t}-number-button-down-disabled`]:r,[`${t}-number-button-down-not-allowed`]:h});return g.createElement("div",{className:f},g.createElement("span",{className:m,onMouseDown:d?F:this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},g.createElement(lse,{size:"extra-small"})),g.createElement("span",{className:b,onMouseDown:h?F:this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},g.createElement(Ov,{size:"extra-small"})))},this.renderSuffix=()=>{const{innerButtons:t,suffix:r}=this.props,{hovering:s,focusing:i}=this.state;return t&&(s||i)?this.renderButtons():r},this.state={value:"",number:null,focusing:!!e.autofocus||!1,hovering:!1},this.inputNode=null,this.foundation=new Cge(this.adapter),this.clickUpOrDown=!1}componentDidUpdate(e){const{value:t,preventScroll:r}=this.props,{focusing:s}=this.state;let i;if(t!==e.value&&!bge(t,e.value)){if(bt(t)||t==="")i="",this.foundation.updateStates({value:i,number:null});else{let o=t;typeof t=="number"&&(o=this.foundation.doFormat(t));const a=this.foundation.doParse(o,!1,!0,!0),l=typeof t=="number"?t:this.foundation.doParse(o,!1,!1,!1);if(s)if(this.foundation.isValidNumber(a)&&a!==this.state.number){const u={number:a};this.clickUpOrDown&&(u.value=this.foundation.doFormat(u.number,!0),i=u.value),this.foundation.updateStates(u,()=>this.adapter.restoreCursor())}else _ge(l)?this.foundation.updateStates({value:o}):(i=this.foundation.doFormat(l,!1),this.foundation.updateStates({value:i}));else this.foundation.isValidNumber(a)?(i=this.foundation.doFormat(a),this.foundation.updateStates({number:a,value:i})):(i="",this.foundation.updateStates({number:null,value:i}))}i&&Re(i)&&i!==String(this.props.value)&&this.foundation.notifyChange(i,null)}this.clickUpOrDown&&this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:r})}render(){const e=this.props,{disabled:t,className:r,prefixCls:s,min:i,max:o,step:a,shiftStep:l,precision:u,formatter:d,parser:h,forwardedRef:f,onUpClick:m,onDownClick:b,pressInterval:v,pressTimeout:_,suffix:y,size:w,hideButtons:E,innerButtons:S,style:I,onNumberChange:x,keepFocus:O,defaultValue:T}=e,P=Tge(e,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue"]),{value:A,number:k}=this.state,M=$(r,`${s}-number`,{[`${s}-number-size-${w}`]:w}),N=this.renderButtons(),K={"aria-disabled":t,step:a};return k&&(K["aria-valuenow"]=k),o!==1/0&&(K["aria-valuemax"]=o),i!==-1/0&&(K["aria-valuemin"]=i),g.createElement("div",{className:M,style:I,onMouseMove:z=>this.handleInputMouseMove(z),onMouseEnter:z=>this.handleInputMouseEnter(z),onMouseLeave:z=>this.handleInputMouseLeave(z)},g.createElement(Kn,Object.assign({role:"spinbutton"},K,P,{size:w,disabled:t,ref:this.setInputRef,value:A,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),E||S?null:N)}}vy.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,autofocus:c.bool,clearIcon:c.node,className:c.string,defaultValue:c.oneOfType([c.number,c.string]),disabled:c.bool,formatter:c.func,forwardedRef:c.any,hideButtons:c.bool,innerButtons:c.bool,insetLabel:c.node,insetLabelId:c.string,keepFocus:c.bool,max:c.number,min:c.number,parser:c.func,precision:c.number,prefixCls:c.string,pressInterval:c.number,pressTimeout:c.number,preventScroll:c.bool,shiftStep:c.number,step:c.number,style:c.object,suffix:c.any,value:c.oneOfType([c.number,c.string]),onBlur:c.func,onChange:c.func,onDownClick:c.func,onKeyDown:c.func,onNumberChange:c.func,onUpClick:c.func};vy.defaultProps={forwardedRef:F,innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:wge.PREFIX,pressInterval:Sl.DEFAULT_PRESS_TIMEOUT,pressTimeout:Sl.DEFAULT_PRESS_TIMEOUT,shiftStep:Sl.DEFAULT_SHIFT_STEP,size:Ege.DEFAULT_SIZE,step:Sl.DEFAULT_STEP,onBlur:F,onChange:F,onDownClick:F,onFocus:F,onKeyDown:F,onNumberChange:F,onUpClick:F};const Oge=u2(g.forwardRef(function(e,t){return g.createElement(vy,Object.assign({},e,{forwardedRef:t}))}),vy),Ige={PREFIX:W+"-overflow-list"},FR={COLLAPSE:"collapse",SCROLL:"scroll"},jR={START:"start",END:"end"},Pge={NONE:0,GROW:1,SHRINK:2},kl={BOUNDARY_SET:Object.values(jR),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(FR),MODE_MAP:FR,BOUNDARY_MAP:jR,OVERFLOW_DIR:Pge},VR={MINIMUM_HTML_ELEMENT_WIDTH:4};class KT extends g.PureComponent{componentDidMount(){const{items:e}=this.props;this.cachedKeys=Object.keys(e);const{root:t,threshold:r,rootMargin:s,option:i,onIntersect:o}=this.props;this.observer=new IntersectionObserver(o,Object.assign({root:t,threshold:r,rootMargin:s},i)),this.observeElement()}componentDidUpdate(){const{items:e}=this.props,t=Object.keys(e);Fe(this.cachedKeys,t)||(this.observeElement(!0),this.cachedKeys=t)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{items:t}=this.props;if(It(t)){this.observer.disconnect();return}e&&this.observer.disconnect(),Object.keys(t).forEach(r=>{const s=t[r];s&&Xe(s)&&this.observer.observe(s)})}render(){const{children:e}=this.props;return e}}KT.propTypes={onIntersect:c.func,option:c.object,root:c.any,threshold:c.number,rootMargin:c.string,items:c.object};KT.defaultProps={onIntersect:()=>{},threshold:.75,rootMargin:"0px",option:{},items:{}};const xge=kl.BOUNDARY_MAP;class Rge extends ke{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{const{renderMode:t}=this.getProps();return t==="scroll"},this.getReversedItems=()=>{const{items:t}=this.getProps();return $o(t).reverse()}}getOverflowItem(){const{items:e}=this.getProps(),{visibleState:t,overflow:r}=this.getStates();if(!this.isScrollMode())return r;const s=e.map(l=>{let{key:u}=l;return!!t.get(u)}),i=s.indexOf(!0),o=s.lastIndexOf(!0),a=[];return a[0]=i>=0?e.slice(0,i):[],a[1]=o>=0?e.slice(o+1,e.length):e.slice(),a}handleIntersect(e){const t=$o(this.getState("visibleState")),r={};e.forEach(l=>{const u=Q(l,"target.dataset.scrollkey"),d=l.isIntersecting;r[u]=l,t.set(u,d)});let s=!1;for(const l of t.values())if(l){s=!0;break}const i=s,[o]=e,a=o.boundingClientRect.y;if(!i&&this.previousY!==void 0&&a!==this.previousY){this.previousY=a;return}this.previousY=a,this._adapter.updateVisibleState(t),this._adapter.notifyIntersect(r)}handleCollapseOverflow(){const{minVisibleItems:e,collapseFrom:t}=this.getProps(),{overflowWidth:r,containerWidth:s,pivot:i,overflowStatus:o}=this.getStates(),{items:a,onOverflow:l}=this.getProps();let u=r,d=0,h=!1;for(const f of this._adapter.getItemSizeMap().values()){if(u+=f,u>s){h=!0;break}if(d===a.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:a.length-1,visible:a,overflow:[]});break}d++}if(h){const f=Math.max(e,d),m=t===xge.START,b=m?this.getReversedItems().slice(0,f).reverse():a.slice(0,f),v=m?this.getReversedItems().slice(f).reverse():a.slice(f);this._adapter.updateStates({overflowStatus:"overflowed",pivot:f,visible:b,overflow:v}),i!==f&&l(v);return}}}const Hd=Ige.PREFIX,Yb=kl.BOUNDARY_MAP,UR=kl.OVERFLOW_DIR,zd=kl.MODE_MAP;class yf extends xe{constructor(e){var t;super(e),t=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{const{renderMode:r}=this.props;return r===zd.SCROLL},this.resize=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var s;const i=(s=r[0])===null||s===void 0?void 0:s.target.clientWidth;t.setState({containerWidth:i,overflowStatus:"calculating"})},this.reintersect=r=>{this.foundation.handleIntersect(r)},this.mergeRef=(r,s,i)=>{this.itemRefs[i]=s,typeof r=="function"?r(s):typeof r=="object"&&r&&"current"in r&&(r.current=s)},this.renderOverflow=()=>{const r=this.foundation.getOverflowItem();return this.props.overflowRenderer(r)},this.getItemKey=(r,s)=>{const{itemKey:i}=this.props;return De(i)?i(r):Q(r,i||"key",s)},this.renderItemList=()=>{const{className:r,wrapperClassName:s,wrapperStyle:i,style:o,visibleItemRenderer:a,renderMode:l,collapseFrom:u}=this.props,{visible:d,overflowStatus:h}=this.state;let f=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(f)&&(f=g.createElement(g.Fragment,null,f)),g.isValidElement(f))){const v=g.cloneElement(f);f=g.createElement(Da,{onResize:_=>{let[y]=_;this.setState({overflowWidth:y.target.clientWidth,overflowStatus:"calculating"})}},g.createElement("div",{className:`${Hd}-overflow`},v))}const m=l===zd.SCROLL?(()=>{const v=[g.createElement("div",{className:$(s,`${Hd}-scroll-wrapper`),ref:_=>{this.scroller=_},style:Object.assign({},i),key:`${Hd}-scroll-wrapper`},d.map(a).map(_=>{const{forwardRef:y,key:w}=_;return g.cloneElement(_,{ref:E=>this.mergeRef(y,E,w),"data-scrollkey":`${w}`,key:w})}))];return this.props.overflowRenderDirection==="both"?(v.unshift(f[0]),v.push(f[1])):this.props.overflowRenderDirection==="start"?(v.unshift(f[1]),v.unshift(f[0])):(v.push(f[0]),v.push(f[1])),v})():[u===Yb.START?f:null,d.map((v,_)=>{const{key:y}=v,w=a(v,_),E=g.cloneElement(w);return g.createElement(Da,{key:y??_,onResize:S=>{let[I]=S;return this.onItemResize(I,v,_)}},g.createElement("div",{key:y??_,className:`${Hd}-item`},E))}),u===Yb.END?f:null];return g.createElement("div",{className:$(`${Hd}`,r),style:Object.assign(Object.assign({},o),l===zd.COLLAPSE?{maxWidth:"100%",visibility:h==="calculating"?"hidden":"visible"}:null)},...m)},this.onItemResize=(r,s,i)=>{const o=this.getItemKey(s,i),a=this.itemSizeMap.get(o);a?a!==r.target.clientWidth&&(this.itemSizeMap.set(o,r.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(o,r.target.clientWidth);const{maxCount:l}=this.state;this.itemSizeMap.size===l&&this.setState({overflowStatus:"calculating"})},this.state={direction:UR.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new Rge(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,t){const{prevProps:r}=t,s={};s.prevProps=e;const i=o=>!r&&o in e||r&&!Fe(r[o],e[o]);if(i("items")||i("style")){if(s.direction=UR.GROW,s.lastOverflowCount=0,s.maxCount=0,e.renderMode===zd.SCROLL)s.visible=e.items,s.overflow=[];else{let o=e.items.length;Math.floor(t.containerWidth/VR.MINIMUM_HTML_ELEMENT_WIDTH)!==0&&(o=Math.min(o,Math.floor(t.containerWidth/VR.MINIMUM_HTML_ELEMENT_WIDTH)));const a=e.collapseFrom===Yb.START,l=a?$o(e.items).reverse().slice(0,o):e.items.slice(0,o),u=a?$o(e.items).reverse().slice(o):e.items.slice(o);s.visible=l,s.overflow=u,s.maxCount=o}s.pivot=-1,s.overflowStatus="calculating"}return s}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e},()=>{var t,r;(r=(t=this.props).onVisibleStateChange)===null||r===void 0||r.call(t,e)})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,t){const r=e.items.map(u=>u.key),s=this.props.items.map(u=>u.key);Fe(r,s)||(this.itemRefs={},this.setState({visibleState:new Map}));const{overflow:i,containerWidth:o,visible:a,overflowStatus:l}=this.state;this.isScrollMode()||l!=="calculating"||this.foundation.handleCollapseOverflow()}render(){const e=this.renderItemList(),{renderMode:t}=this.props;return t===zd.SCROLL?g.createElement(KT,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):g.createElement(Da,{onResize:this.resize},e)}}yf.__SemiComponentName__="OverflowList";yf.defaultProps=bs(yf.__SemiComponentName__,{collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null,overflowRenderDirection:"both"});yf.propTypes={className:c.string,collapseFrom:c.oneOf(kl.BOUNDARY_SET),direction:c.oneOf(kl.POSITION_SET),items:c.array,minVisibleItems:c.number,onIntersect:c.func,onOverflow:c.func,overflowRenderer:c.func,renderMode:c.oneOf(kl.MODE_SET),style:c.object,threshold:c.number,visibleItemRenderer:c.func,wrapperClassName:c.string,wrapperStyle:c.object,collapseMask:c.object,overflowRenderDirection:c.string};const WT={PREFIX:`${W}-select`,PREFIX_OPTION:`${W}-select-option`,PREFIX_GROUP:`${W}-select-group`},To={SIZE_SET:["small","large","default"],POSITION_SET:Al.POSITION_SET,MODE_SELECT:"select",MODE_AUTOCOMPLETE:"autoComplete",STATUS:od,SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_DROPDOWN:"dropdown"},X2={LIST_HEIGHT:270};var BR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Age extends ke{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();const e=this.getProp("defaultOpen"),t=this.getProp("open"),r=this._collectOptions();this._setDefaultSelection(r),(e||t)&&this.open(void 0,r),this.getProp("autoFocus")&&this.focus()}focus(){const e=this._isFilterable(),t=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&t?this.focusInput():e&&!t?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&Zt(e.width)||e&&Re(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_collectOptions(){const e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:t}=this.getProps();const{defaultValue:r}=this.getProps();this._isControlledComponent()||(t=r),this._update(t,e)}handleOptionListChange(){const e=this._collectOptions(),{selections:t}=this.getStates();this.updateOptionsActiveStatus(t,e);const{defaultActiveFirstOption:r}=this.getProps();r&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){const e=this.getState("selections");let t;const{onChangeWithObject:r}=this.getProps(),s=this._isMultiple();switch(!0){case(s&&!!e.size):try{t=[...e].map(o=>r?o[1]:o[1].value)}catch{t=[]}break;case(s&&!e.size):t=[];break;case(!s&&!!e.size):try{t=r?[...e][0][1]:[...e][0][1].value}catch{}break;case(!s&&!e.size):break}const i=this._adapter.getOptionsFromChildren();this._update(t,i)}handleValueChange(e){const{allowCreate:t,autoClearSearchValue:r,remote:s}=this.getProps(),{inputValue:i}=this.getStates();let o;t&&this._isControlledComponent()?(o=this.getState("options"),o.forEach(a=>a._show=!0)):o=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!r&&i&&!s&&(o=this._filterOption(o,i)),this._update(e,o)}_update(e,t){let r;this._isMultiple()?(r=this._updateMultiple(e,t),this.updateOverflowItemCount(r.size)):r=this._updateSingle(e,t),this._adapter.updateSelection(r),this.updateOptionsActiveStatus(r,t)}_updateSingle(e,t){const r=new Map,{onChangeWithObject:s}=this.getProps(),i=s&&typeof e<"u"?e.value:e,o=t.filter(l=>l.value===i),a=!o.length&&typeof i<"u"&&i!==null;if(o.length){const l=o[0],u=Object.assign({},l);r.set(u.label,u)}else if(a){let l={value:e,label:e,_notExist:!0,_scrollIndex:-1};s&&(l=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),r.set(l.label,l)}return r}_updateMultiple(e,t){const r=this.getState("selections");let s=[];const i=Array.isArray(e);this.checkMultipleProps(),r.size&&(s=[...r].map(u=>u[1]));const o=new Map;let a=e;const{onChangeWithObject:l}=this.getProps();return l&&i&&(a=e.map(u=>u.value)),i&&a.length&&a.forEach((u,d)=>{const h=t.findIndex(f=>f.value===u);if(h!==-1)o.set(t[h].label,t[h]);else{const f=s.findIndex(m=>m.value===u);if(f!==-1){const m=s[f];if(l){const b=Object.assign({},e[d]);Fe(b,m)?o.set(m.label,m):o.set(b.label,b)}else o.set(m.label,m)}else{let m={value:u,label:u,_notExist:!0};l&&(m=Object.assign(Object.assign({},e[d]),{_notExist:!0})),o.set(m.label,Object.assign(Object.assign({},m),{_scrollIndex:-1}))}}}),o}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(e){const{clickToHide:t}=this.getProps(),{isOpen:r}=this.getStates();this._isDisabled()||(r?r&&t?this.close({event:e}):r&&!t&&this.focusInput():(this.open(),this._notifyFocus(e)))}open(e,t){const r=this._isFilterable(),s=t||this.getState("options");if(r){const o=this._filterOption(s,"").filter(a=>!a._inputCreateOnly);this._adapter.updateOptions(o),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(()=>{const{searchPosition:i,autoFocus:o}=this.getProps();o&&i===To.SEARCH_POSITION_DROPDOWN&&this._adapter.focusDropdownInput()}),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(i=>{this.close({event:i}),this._notifyBlur(i),this._adapter.updateFocusState(!1)})}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focusInput()):this._adapter.toggleInputShow(e,()=>{})}close(e){const{event:t,closeCb:r,notToggleInput:s}=e||{},{isFocus:i}=this.getStates();this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),i&&this._focusTrigger(),this._adapter.unregisterClickOutsideHandler();const o=this._isFilterable();o&&!s&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{o&&this.clearInput(t),r&&r()})}onSelect(e,t,r){if(this._isDisabled())return;e._inputCreateOnly&&this._adapter.notifyCreate(e),this._isMultiple()?this._handleMultipleSelect(e,r):this._handleSingleSelect(e,r),this._adapter.updateFocusIndex(t)}_handleSingleSelect(e,t){var{value:r,label:s}=e,i=BR(e,["value","label"]);const o=new Map().set(s,Object.assign({value:r,label:s},i));this._notifySelect(r,Object.assign({value:r,label:s},i));const a=this._isFilterable();this._isControlledComponent()?this.close({event:t,notToggleInput:!0,closeCb:()=>{this._notifyChange(o),a&&this.toggle2SearchInput(!1)}}):(this._adapter.updateSelection(o),this._notifyChange(o),this.close({event:t,closeCb:()=>{this.updateOptionsActiveStatus(o)}}))}_handleMultipleSelect(e,t){var{value:r,label:s}=e,i=BR(e,["value","label"]);const o=this._adapter.getMaxLimit(),a=this._adapter.getSelections(),{autoClearSearchValue:l}=this.getProps();if(a.has(s))this._notifyDeselect(r,Object.assign({value:r,label:s},i)),a.delete(s);else if(o&&a.size===o){this._adapter.notifyMaxLimit(Object.assign({value:r,label:s},Ho(i,"_scrollIndex")));return}else this._notifySelect(r,Object.assign({value:r,label:s},i)),a.set(s,Object.assign({value:r,label:s},i));if(this._isControlledComponent())this._notifyChange(a),this._isFilterable()&&(l&&this.clearInput(t),this.focusInput());else{this._adapter.updateSelection(a),this.updateOverflowItemCount(a.size),this._adapter.rePositionDropdown();let{options:u}=this.getStates();this._isFilterable()&&(l&&(this.clearInput(t),u=this._filterOption(u,"")),this.focusInput()),this.updateOptionsActiveStatus(a,u),this._notifyChange(a)}}clearSelected(){const e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());const{isOpen:t}=this.getStates();t&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getState("options");const{allowCreate:r}=this.getProps(),s=t.map(i=>(e.has(i.label)?(i._selected=!0,r&&delete i._inputCreateOnly):(i._inputCreateOnly&&(i._show=!1),i._selected=!1),i));this._adapter.updateOptions(s)}removeTag(e){const t=this._adapter.getSelections();t.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(t)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(t),this.updateOverflowItemCount(t.size),this.updateOptionsActiveStatus(t),this._adapter.rePositionDropdown(),this._notifyChange(t))}clearInput(e){const{inputValue:t}=this.getStates();if(t!==""){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);const{options:r}=this.getStates(),{remote:s}=this.getProps();let i=r;s||(i=this._filterOption(r,"")),this._adapter.updateOptions(i)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,t){this._adapter.updateInputValue(e);const{options:r,isOpen:s}=this.getStates(),{allowCreate:i,remote:o}=this.getProps();let a=r;o||(a=this._filterOption(r,e)),a=this._createOptionByInput(i,a,e),this._adapter.updateOptions(a),this._adapter.notifySearch(e,t),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,t){const r=this.getProp("filter");if(r){if(typeof r=="boolean"&&r){const s=t.toLowerCase();return e.map(i=>{const o=i.label.toString().toLowerCase(),a=i._parentGroup&&i._parentGroup.label,l=o.includes(s),u=Re(a)&&a.toLowerCase().includes(s);return l||u?i._show=!0:i._show=!1,i})}else if(typeof r=="function")return e.map(s=>(r(t,s)?s._show=!0:s._show=!1,s))}else return e}_createOptionByInput(e,t,r){if(e)if(r){const s={_show:!0,_selected:!1,value:r,label:r,_inputCreateOnly:!0};let i=-1,o=-1;t.forEach((a,l)=>{!a._show&&!a._inputCreateOnly||(a.label===r&&(o=l),a._inputCreateOnly&&(i=l,a.value=r,a.label=r,a._show=!0))}),i===-1&&o===-1&&t.push(s),o!==-1&&(t=t.filter(a=>!a._inputCreateOnly))}else t=t.filter(s=>!s._inputCreateOnly);return t}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){const t=e.keyCode,{loading:r,filter:s,multiple:i,disabled:o}=this.getProps(),{isOpen:a}=this.getStates();if(!(r||o))switch(t){case Hn.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case Hn.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case Hn.BACKSPACE:this._handleBackspaceKeyDown();break;case Hn.ENTER:ri(e),this._handleEnterKeyDown(e);break;case Hn.ESC:a&&this.close({event:e}),s&&!i&&this._focusTrigger();break;case Hn.TAB:this._handleTabKeyDown(e);break}}handleContainerKeyDown(e){const t=e.keyCode,{isOpen:r}=this.getStates();switch(t){case Hn.TAB:r&&this._handleTabKeyDown(e);break}}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),s=r.filter(a=>a._show),i=s.length;let o=t+e;if(o<0&&(o=i-1),o>=i&&(o=0),e>0){let a=-1;for(let l=0;l<s.length&&(!s[l].disabled&&(a=l),!(a>=o));l++);o=a}else{let a=s.length;for(let l=i-1;l>=0&&(!s[l].disabled&&(a=l),!(a<=o));l--);o=a}this._adapter.updateFocusIndex(o),this._adapter.updateScrollTop(o)}_handleArrowKeyDown(e){const{isOpen:t}=this.getStates();t?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){const{isOpen:t}=this.getStates();if(this._adapter.updateFocusState(!1),t){const r=this._adapter.getContainer(),s=this._adapter.getFocusableElements(r);s.length>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(s,e):this._handlePanelOpenTabKeyDown(s,e):(this.close({event:e}),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[e.length-1]&&(this._focusTrigger(),this.close({event:t}),ri(t)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),ri(t))}_handlePanelOpenShiftTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),ri(t)):(this.close({event:t}),this._notifyBlur(t))}_handleEnterKeyDown(e){const{isOpen:t,options:r,focusIndex:s}=this.getStates();if(!t)this.open();else if(s!==-1){const i=r.filter(a=>a._show),{length:o}=i;if(o<=s)return;if(i&&o){const a=i[s];if(a.disabled)return;this.onSelect(a,s,e)}}else this.close({event:e})}_handleBackspaceKeyDown(){if(this._isMultiple()){const e=this._adapter.getSelections(),{inputValue:t}=this.getStates(),r=e.size;if(r&&!t){const s=[...e.keys()];let i=r-1,o=s[i],a=e.get(o),l=!1;if(a.disabled&&i===0)return;for(;a.disabled&&i!==0;)i=i-1,o=s[i],a=e.get(o),i==0&&a.disabled&&(l=!0);l||this.removeTag(a)}}}_notifyChange(e){const{onChangeWithObject:t}=this.getProps(),r=this.getState("selections");let s;const i=[...e.values()],o=this._isMultiple();if(this._diffSelections(e,r,o))switch(!0){case t:this._notifyChangeWithObject(e);break;case(!t&&!o):s=i.length?i[0].value:void 0,this._adapter.notifyChange(s);break;case(!t&&o):s=i.length?i.map(l=>l.value):[],this._adapter.notifyChange(s);break}}_removeInternalKey(e){let t=Object.assign({},e);return delete t._parentGroup,delete t._show,delete t._selected,delete t._scrollIndex,delete t._keyInJsx,"_keyInOptionList"in t&&(t.key=t._keyInOptionList,delete t._keyInOptionList),t}_notifySelect(e,t){const r=this._removeInternalKey(t);this._adapter.notifySelect(e,r)}_notifyDeselect(e,t){const r=this._removeInternalKey(t);this._adapter.notifyDeselect(e,r)}_diffSelections(e,t,r){let s=!0,i=!0;if(!r){const o=[...e.values()],a=[...t.values()],l=o[0]?o[0].value:o[0],u=a[0]?a[0].value:a[0];i=!Fe(l,u);const d=o[0]?o[0].label:o[0],h=a[0]?a[0].label:a[0];s=!Fe(d,h)}return i||s}_notifyChangeWithObject(e){this.getState("selections");const t=[];for(const r of e.entries()){let s=Object.assign({label:r[0]},r[1]);s=this._removeInternalKey(s),t.push(s)}this._isMultiple()?this._adapter.notifyChange(t):this._adapter.notifyChange(t[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){const{filter:t,searchPosition:r}=this.getProps();t&&r===To.SEARCH_POSITION_TRIGGER&&this.clearInput(e),this.focus(),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===cT&&this.handleClick(e)}handleClearBtnEnterPress(e){Ys(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){this.getProps();const{isOpen:t,isFocus:r}=this.getStates();r&&!t&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){const{filter:t,autoFocus:r}=this.getProps(),{showInput:s}=this.getStates(),i=this._isMultiple();t&&!i&&(s||r)&&this.toggle2SearchInput(!1)}selectAll(){const{options:e}=this.getStates(),{onChangeWithObject:t}=this.getProps();let r=[];if(!this._isMultiple()){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}t?r=e:r=e.map(i=>i.value),this.handleValueChange(r),this._adapter.notifyChange(r)}checkMultipleProps(e){if(this._isMultiple()){const t=e||this.getProps(),{defaultValue:r,value:s}=t,i=s||r;!bt(i)&&!Array.isArray(i)&&Kt(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,t){const{maxTagCount:r,ellipsisTrigger:s}=this.getProps();s&&(t?this._adapter.updateOverflowItemCount(t):typeof r=="number"&&(e-r>0?this._adapter.updateOverflowItemCount(e-r):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){const{isFullTags:e}=this.getStates();e||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}const Kd=xF.PREFIX,Q2=fd.TAG_SIZE,Dge=fd.AVATAR_SHAPE;class vf extends D.PureComponent{renderNTag(e,t){const{size:r,showPopover:s,popoverProps:i,onPlusNMouseEnter:o}=this.props;let a=g.createElement(Xr,{closable:!1,size:r,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:o},"+",e);return s&&(a=g.createElement(Sr,Object.assign({showArrow:!0,content:t,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${Kd}-rest-group-popover`},i,{key:"_+n_Popover"}),a)),a}renderMergeTags(e){const{maxTagCount:t,tagList:r,restCount:s}=this.props,i=s||r.length-t;let o=e;const a=e.slice(0,t),l=e.slice(t);let u=null;return i>0&&(u=this.renderNTag(i,l),a.push(u),o=a),o}renderAllTags(){const{tagList:e,size:t,mode:r,avatarShape:s,onTagClose:i}=this.props;return e.map(a=>{if(r==="custom")return a;const l=Object.assign({},a);return l.size||(l.size=t),l.avatarShape||(l.avatarShape=s),l.tagKey||(typeof l.children=="string"||typeof l.children=="number"?l.tagKey=l.children:l.tagKey=Math.random()),g.createElement(Xr,Object.assign({},l,{key:l.tagKey,onClose:(u,d,h)=>{l.onClose&&l.onClose(u,d,h),i&&i(u,d,h)}}))})}render(){const{style:e,className:t,maxTagCount:r,size:s}=this.props,i=$({[`${Kd}-group`]:!0,[`${Kd}-group-max`]:r,[`${Kd}-group-small`]:s==="small",[`${Kd}-group-large`]:s==="large"},t),o=this.renderAllTags(),a=typeof r>"u"?o:this.renderMergeTags(o);return g.createElement("div",{style:e,className:i},a)}}vf.defaultProps={style:{},className:"",size:Q2[0],avatarShape:"square",onTagClose:()=>{},onPlusNMouseEnter:()=>{}};vf.propTypes={children:c.node,style:c.object,className:c.string,maxTagCount:c.number,restCount:c.number,tagList:c.array,size:c.oneOf(Q2),mode:c.string,onTagClose:c.func,showPopover:c.bool,popoverProps:c.object,avatarShape:c.oneOf(Dge)};var kge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const HR=(n,e,t,r)=>{const s=n.props;if(!n||!s)return null;const i=Object.assign(Object.assign({value:s.value,label:s.label||s.children||s.value,_show:!0,_selected:!1,_scrollIndex:t},s),{_parentGroup:e});return i._keyInJsx=r||n.key,i},Nge=n=>{let e=[],t=[];const r={label:"",children:[],_show:!1};let s=g.Children.toArray(n);s=s.filter(a=>a&&a.props);let i="",o=-1;return s.forEach(a=>{if(a.type.isSelectOption){i="option",o++;const l=HR(a,void 0,o);r.children.push(l),t.push(l)}else if(a.type.isSelectOptionGroup){i="group";let l=a.props,{children:u}=l,d=kge(l,["children"]),h=[];Array.isArray(u)?h=u.map(b=>b.key):h.push(u.key),u=g.Children.toArray(u);const f=u.map((b,v)=>{let _=b.key;return h[v]===null&&(_=a.key+""+b.key),o++,HR(b,d,o,_)}),m=Object.assign(Object.assign({},a.props),{children:f,key:a.key});e.push(m),t=t.concat(f)}else Kt(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),i==="option"&&(e=[r]),{optionGroups:e,options:t}},Z2=n=>{let{index:e,data:t,style:r}=n;const{visibleOptions:s,renderOption:i}=t,o=s[e];return i(o,e,r)};var zR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Nl extends D.PureComponent{onClick(e,t){var{value:r,label:s,children:i}=e,o=zR(e,["value","label","children"]);const{props:a}=this;a.disabled||a.onSelect(Object.assign(Object.assign({},o),{value:r,label:s||i}),t)}renderOptionContent(e){let{config:t,children:r,inputValue:s,prefixCls:i}=e;return Re(r)&&s?g.createElement(ep,{searchWords:t.searchWords,sourceString:t.sourceString,highlightClassName:t.highlightClassName}):r}render(){const e=this.props,{children:t,disabled:r,value:s,selected:i,label:o,empty:a,emptyContent:l,onSelect:u,focused:d,showTick:h,className:f,style:m,onMouseEnter:b,prefixCls:v,renderOptionItem:_,inputValue:y,semiOptionId:w}=e,E=zR(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),S=$(v,{[`${v}-disabled`]:r,[`${v}-selected`]:i,[`${v}-focused`]:d,[`${v}-empty`]:a,[f]:f}),I=$([`${v}-icon`]);if(a)return l===null?null:g.createElement(On,{componentName:"Select"},O=>g.createElement("div",{className:S,"x-semi-prop":"emptyContent"},l||O.emptyText));if(typeof _=="function"){const O=$(f,{[`${v}-custom`]:!0,[`${v}-custom-selected`]:i});return _(Object.assign({disabled:r,focused:d,selected:i,style:m,label:o,value:s,inputValue:y,onMouseEnter:T=>b(T),onClick:T=>this.onClick(Object.assign({value:s,label:o,children:t},E),T),className:O},E))}const x={searchWords:[y],sourceString:t,highlightClassName:`${v}-keyword`};return g.createElement("div",Object.assign({className:S,onClick:O=>{this.onClick(Object.assign({value:s,label:o,children:t},E),O)},onMouseEnter:O=>b&&b(O),role:"option",id:w,"aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:m},sf(E)),h?g.createElement("div",{className:I},g.createElement(Pv,null)):null,Re(t)?g.createElement("div",{className:`${v}-text`},this.renderOptionContent({children:t,config:x,inputValue:y,prefixCls:v})):t)}}Nl.isSelectOption=!0;Nl.propTypes={children:c.node,disabled:c.bool,value:c.oneOfType([c.string,c.number]),selected:c.bool,label:c.node,empty:c.bool,emptyContent:c.node,onSelect:c.func,focused:c.bool,showTick:c.bool,className:c.string,style:c.object,onMouseEnter:c.func,prefixCls:c.string,renderOptionItem:c.func,inputValue:c.string};Nl.defaultProps={prefixCls:WT.PREFIX_OPTION};var Lge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Mge=WT.PREFIX_GROUP;class qv extends xe{render(){const e=this.props,{label:t,className:r,style:s}=e,i=Lge(e,["label","className","style"]),o=$(r,{[Mge]:!0});return!t&&typeof t!="number"?null:g.createElement("div",Object.assign({className:o,style:s},this.getDataAttr(i)),t)}}qv.isSelectOptionGroup=!0;qv.propTypes={children:c.oneOfType([c.array,c.node]),label:c.node,className:c.string,style:c.object};var $ge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const he=WT.PREFIX,Fge=0;class Ji extends xe{constructor(e){super(e),this.setOptionContainerEl=t=>this.optionContainerEl={current:t},this.handleInputChange=(t,r)=>this.foundation.handleInputChange(t,r),this.getTagItem=(t,r,s)=>{const{size:i,disabled:o}=this.props,a=t[0],{value:l}=t[1],u=t[1].disabled||o,d=(b,v)=>{v&&typeof v.preventDefault=="function"&&v.preventDefault(),this.foundation.removeTag({label:a,value:l})},{content:h,isRenderInTag:f}=s(t[1],{index:r,disabled:u,onClose:d}),m={disabled:u,closable:!u,onClose:d};return f?g.createElement(Xr,Object.assign({},m,{color:"white",size:i||"large",key:l,tabIndex:-1}),h):g.createElement(D.Fragment,{key:l},h)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:Fge,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=g.createRef(),this.inputRef=g.createRef(),this.dropdownInputRef=g.createRef(),this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.optionContainerEl=g.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new h$,this.foundation=new Age(this.adapter)}get adapter(){var e=this;const t={registerKeyDown:i=>{const o={onKeyDown:i};this.setState({keyboardEventSet:o})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:i=>{this.setState({focusIndex:i})},scrollToFocusOption:()=>{}},r={updateInputValue:i=>{this.setState({inputValue:i})},toggleInputShow:(i,o)=>{this.setState({showInput:i},()=>{o()})},focusInput:()=>{const{preventScroll:i}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:i})},focusDropdownInput:()=>{const{preventScroll:i}=this.props;this.dropdownInputRef&&this.dropdownInputRef.current&&this.dropdownInputRef.current.focus({preventScroll:i})}},s={notifyMaxLimit:i=>this.props.onExceed(i),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:i=>{const o=a=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=Ar.findDOMNode(l),h=a.target,f=a.composedPath&&a.composedPath()||[h];!(d&&d.contains(h))&&!(u&&u.contains(h))&&!(f.includes(u)||f.includes(d))&&i(a)};this.clickOutsideHandler=o,document.addEventListener("mousedown",o,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:i}=this.state;i=i+1,this.setState({optionKey:i})},notifyDeselect:(i,o)=>{delete o._parentGroup,this.props.onDeselect(i,o)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{on:(i,o)=>this.eventManager.on(i,o),off:i=>this.eventManager.off(i),once:(i,o)=>this.eventManager.once(i,o),emit:i=>this.eventManager.emit(i),getOptionsFromChildren:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.props.children,o=[],a=[];const{optionList:l}=e.props;if(l&&l.length)a=l.map((u,d)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:d},u)),o[0]={children:a,label:""};else{const u=Nge(i);o=u.optionGroups,a=u.options}return e.setState({optionGroups:o}),a},updateOptions:i=>{this.setState({options:i})},openMenu:i=>{this.setState({isOpen:!0},()=>{i==null||i()})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},updateSelection:i=>{this.setState({selections:i})},getSelections:()=>new Map(this.state.selections),notifyChange:i=>{this.props.onChange(i)},notifySelect:(i,o)=>{delete o._parentGroup,this.props.onSelect(i,o)},notifyDropdownVisibleChange:i=>{this.props.onDropdownVisibleChange(i)},notifySearch:(i,o)=>{this.props.onSearch(i,o)},notifyCreate:i=>{this.props.onCreate(i)},notifyMouseEnter:i=>{this.props.onMouseEnter(i)},notifyMouseLeave:i=>{this.props.onMouseLeave(i)},notifyFocus:i=>{this.props.onFocus(i)},notifyBlur:i=>{this.props.onBlur(i)},notifyClear:()=>{this.props.onClear()},notifyListScroll:i=>{this.props.onListScroll(i)},updateHovering:i=>{this.setState({isHovering:i})},updateFocusState:i=>{this.setState({isFocus:i})},updateOverflowItemCount:i=>{this.setState({overflowItemCount:i})},focusTrigger:()=>{try{const{preventScroll:i}=this.props;this.triggerRef.current.focus({preventScroll:i})}catch{}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:i=>y$(i),getActiveElement:()=>m$(),setIsFocusInContainer:i=>{this.setState({isFocusInContainer:i})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:i=>{let o;"renderOptionItem"in this.props?(o=`.${he}-option-custom-selected`,i!==void 0&&(o=`.${he}-option-custom:nth-child(${i+1})`)):(o=`.${he}-option-selected`,i!==void 0&&(o=`.${he}-option:nth-child(${i+1})`));let a=document.querySelector(`#${he}-${this.selectOptionListID} ${o}`);if(Array.isArray(a)&&(a=a[0]),a){const l=a.parentNode;l.scrollTop=a.offsetTop-l.offsetTop-l.clientHeight/2+a.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=No(),this.selectID=this.props.id||No()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){const r=g.Children.toArray(e.children).map(o=>o.key),s=g.Children.toArray(this.props.children).map(o=>o.key);let i=!1;(!Fe(r,s)||!Fe(e.optionList,this.props.optionList))&&(i=!0,this.foundation.handleOptionListChange()),(!Fe(this.props.value,e.value)||i)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderTriggerInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i}=this.props,o=Q(s,"className"),a=$(`${he}-input`,{[`${he}-input-single`]:!t,[`${he}-input-multiple`]:t},o),{inputValue:l,focusIndex:u}=this.state,d=Object.assign({value:l,disabled:r,className:a,onChange:this.handleInputChange},s);let h={};return t&&(h={width:l?`${l.length*16}px`:"2px"},d.style=h),g.createElement(Kn,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:"",onFocus:f=>{t&&i&&this.setState({isFocus:!0}),f.stopPropagation()},onBlur:f=>this.foundation.handleInputBlur(f)},d))}renderDropdownInput(){const{size:e,multiple:t,disabled:r,inputProps:s,filter:i,searchPosition:o,searchPlaceholder:a}=this.props,{inputValue:l,focusIndex:u}=this.state,d=$(`${he}-dropdown-search-wrapper`,{}),h=Q(s,"className"),f=$(`${he}-dropdown-input`,{[`${he}-dropdown-input-single`]:!t,[`${he}-dropdown-input-multiple`]:t},h),m=Object.assign(Object.assign({value:l,disabled:r,className:f,onChange:this.handleInputChange,placeholder:a,showClear:!0},s),{onKeyDown:b=>this.foundation._handleKeyDown(b)});return g.createElement("div",{className:d},g.createElement(Kn,Object.assign({ref:this.dropdownInputRef,prefix:g.createElement(W$,null),"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:""},m)))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,t,r){this.foundation.onSelect(e,t,r)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,t){this.handleInputChange(e,t)}renderEmpty(){return g.createElement(Nl,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){const e=`${he}-loading-wrapper`;return g.createElement("div",{className:e},g.createElement(Zi,null))}renderOption(e,t,r){const{focusIndex:s,inputValue:i}=this.state,{renderOptionItem:o}=this.props;let a;const l=t===s;let u=r||{};return e.style&&(u=Object.assign(Object.assign({},u),e.style)),e._inputCreateOnly?a=this.renderCreateOption(e,l,t,r):("key"in e&&(e._keyInOptionList=e.key),a=g.createElement(Nl,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(d,h)=>this.onSelect(d,t,h),focused:l,onMouseEnter:()=>this.onOptionHover(t),style:u,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+t,renderOptionItem:o,inputValue:i,semiOptionId:`${this.selectID}-option-${t}`}),e.label)),a}renderCreateOption(e,t,r,s){const{renderCreateItem:i}=this.props;if(typeof i>"u")return g.createElement(Nl,Object.assign({key:e.key||e.label+e.value,onSelect:(l,u)=>this.onSelect(l,r,u),onMouseEnter:()=>this.onOptionHover(r),showTick:!0},e,{focused:t,style:s}),g.createElement(On,{componentName:"Select"},l=>g.createElement(g.Fragment,null,g.createElement("span",{className:`${he}-create-tips`},l.createText),e.value)));const o=i(e.value,t,s);return g.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:a=>this.onSelect(e,r,a),key:e.key||e.label},o)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){const t=[],r=new Map;return e.forEach((s,i)=>{const o=s._parentGroup,a=this.renderOption(s,i);if(o&&!r.has(o.label)){const l=g.createElement(qv,Object.assign({},o,{key:o.label}));r.set(o.label,!0),t.push(l)}t.push(a)}),t}renderVirtualizeList(e){const{virtualize:t}=this.props,{direction:r}=this.context,{height:s,width:i,itemSize:o}=t;return g.createElement(ET,{ref:this.virtualizeListRef,height:s||X2.LIST_HEIGHT,itemCount:e.length,itemSize:o,itemData:{visibleOptions:e,renderOption:this.renderOption},width:i||"100%",style:{direction:r}},Z2)}renderOptions(e){const{dropdownMinWidth:t,options:r,selections:s}=this.state,{maxHeight:i,dropdownClassName:o,dropdownStyle:a,outerTopSlot:l,innerTopSlot:u,outerBottomSlot:d,innerBottomSlot:h,loading:f,virtualize:m,multiple:b,emptyContent:v,searchPosition:_,filter:y}=this.props,w=r.filter(O=>O._show);let E=this.renderWithGroup(w);m&&(E=this.renderVirtualizeList(w));const S=Object.assign({minWidth:t},a),I=$({[`${he}-option-list`]:!0,[`${he}-option-list-chosen`]:s.size}),x=!r.length||!r.some(O=>O._show);return g.createElement("div",{id:`${he}-${this.selectOptionListID}`,className:$({[`${he}-option-list-wrapper`]:!(x&&v===null)},o),style:S,ref:this.setOptionContainerEl,onKeyDown:O=>this.foundation.handleContainerKeyDown(O)},l?g.createElement("div",{className:`${he}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},l):null,_===To.SEARCH_POSITION_DROPDOWN&&y?this.renderDropdownInput():null,g.createElement("div",{style:{maxHeight:`${i}px`},className:I,role:"listbox","aria-multiselectable":b,onScroll:O=>this.foundation.handleListScroll(O)},u?g.createElement("div",{className:`${he}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},u):null,f?this.renderLoading():x?this.renderEmpty():E,h?g.createElement("div",{className:`${he}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},h):null),d?g.createElement("div",{className:`${he}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},d):null)}renderSingleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i}=this.props,{showInput:o,inputValue:a}=this.state;let l="";const u=[...e];if(typeof r>"u"&&(r=m=>m.label),u.length){const m=u[0][1];l=r(m)}const d=s===To.SEARCH_POSITION_TRIGGER,h=$({[`${he}-selection-text`]:!0,[`${he}-selection-placeholder`]:!l&&l!==0,[`${he}-selection-text-hide`]:a&&o&&d,[`${he}-selection-text-inactive`]:!a&&o&&d}),f=`${he}-content-wrapper`;return g.createElement(g.Fragment,null,g.createElement("div",{className:f},g.createElement("span",{className:h,"x-semi-prop":"placeholder"},l||l===0?l:i),t&&o&&d?this.renderTriggerInput():null))}renderTag(e,t,r){const{size:s,disabled:i}=this.props;let{renderSelectedItem:o}=this.props;const a=e[0],{value:l}=e[1],u=e[1].disabled||i,d=(v,_)=>{_&&typeof _.preventDefault=="function"&&_.preventDefault(),this.foundation.removeTag({label:a,value:l})};typeof o>"u"&&(o=v=>({isRenderInTag:!0,content:v.label}));const{content:h,isRenderInTag:f}=o(e[1],{index:t,disabled:u,onClose:d}),m={disabled:u,closable:!u,onClose:d},b=r&&!De(this.props.renderSelectedItem)?g.createElement(xv,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},h):h;return f?g.createElement(Xr,Object.assign({},m,{color:"white",size:s||"large",key:l,style:{maxWidth:"100%"}}),b):g.createElement(D.Fragment,{key:l},b)}renderNTag(e,t){const{size:r,showRestTagsPopover:s,restTagsPopoverProps:i}=this.props;let o=g.createElement(Xr,{closable:!1,size:r||"large",color:"grey",className:`${he}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return s&&(o=g.createElement(Sr,Object.assign({showArrow:!0,content:g.createElement(si,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},t.map((a,l)=>this.renderTag(a,l))),trigger:"hover",position:"top",autoAdjustOverflow:!0},i,{key:`_+${e}_Popover`}),o)),o}renderOverflow(e,t){return e.length&&e[0]?this.renderTag(e[0],t,!0):null}handleOverflow(e){const{overflowItemCount:t,selections:r}=this.state,{maxTagCount:s}=this.props,i=r.size-s>0?r.size-s+e.length-1:e.length-1;t!==i&&this.foundation.updateOverflowItemCount(r.size,i)}renderCollapsedTags(e,t){const{overflowItemCount:r}=this.state,s=typeof t=="number"?e.slice(0,t):e;return g.createElement("div",{className:`${he}-content-wrapper-collapse`},g.createElement(yf,{items:s,key:String(e.length),overflowRenderer:i=>this.renderOverflow(i,t-1),onOverflow:i=>this.handleOverflow(i),visibleItemRenderer:(i,o)=>this.renderTag(i,o)}),r>0&&this.renderNTag(r,e.slice(e.length-r)))}renderOneLineTags(e,t){let{renderSelectedItem:r}=this.props;const{showRestTagsPopover:s,restTagsPopoverProps:i,maxTagCount:o}=this.props,{isFullTags:a}=this.state;let l;if(typeof r>"u"&&(r=u=>({isRenderInTag:!0,content:u.label})),s){const d=(a?e:e.slice(0,o)).map((h,f)=>this.getTagItem(h,f,r));l=g.createElement(vf,{tagList:d,maxTagCount:t,restCount:a?void 0:e.length-o,size:"large",mode:"custom",showPopover:s,popoverProps:i,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{const d=e.slice(0,o).map((h,f)=>this.getTagItem(h,f,r));l=g.createElement(vf,{tagList:d,maxTagCount:t,restCount:e.length-o,size:"large",mode:"custom"})}return l}renderMultipleSelection(e,t){let{renderSelectedItem:r,searchPosition:s}=this.props;const{placeholder:i,maxTagCount:o,expandRestTagsOnClick:a,ellipsisTrigger:l}=this.props,{inputValue:u,isOpen:d}=this.state,h=[...e];typeof r>"u"&&(r=S=>({isRenderInTag:!0,content:S.label}));const f=$({[`${he}-content-wrapper`]:!0,[`${he}-content-wrapper-one-line`]:o&&!d,[`${he}-content-wrapper-empty`]:!h.length}),m=$({[`${he}-selection-text`]:!0,[`${he}-selection-placeholder`]:!h.length,[`${he}-selection-text-hide`]:h.length}),b=i&&!u?g.createElement("span",{className:m},i):null,v=h.length>o?o:void 0,_=!o,y=l?this.renderCollapsedTags(h,v):this.renderOneLineTags(h,v),w=_||a&&d?h.map((S,I)=>this.renderTag(S,I)):y,E=t&&s===To.SEARCH_POSITION_TRIGGER;return g.createElement(g.Fragment,null,g.createElement("div",{className:f},h.length?w:b,E?this.renderTriggerInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){const{virtualize:t}=this.props,{selections:r}=this.state;if(e)if(t){let s=-1;if(r.forEach(i=>{const o=Q(i,"_scrollIndex");Zt(o)&&o>=0&&(s=s!==-1&&s<o?s:o)}),s!==-1)try{this.virtualizeListRef.current.scrollToItem(s,"center")}catch{}}else this.foundation.updateScrollTop()}renderSuffix(){const{suffix:e}=this.props,t=$({[`${he}-suffix`]:!0,[`${he}-suffix-text`]:e&&Re(e),[`${he}-suffix-icon`]:_r(e)});return g.createElement("div",{className:t,"x-semi-prop":"suffix"},e)}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,s=e||t,i=$({[`${he}-prefix`]:!0,[`${he}-inset-label`]:t,[`${he}-prefix-text`]:s&&Re(s),[`${he}-prefix-icon`]:_r(s)});return g.createElement("div",{className:i,id:r,"x-semi-prop":"prefix,insetLabel"},s)}renderSelection(){const e=this.props,{disabled:t,multiple:r,filter:s,style:i,id:o,size:a,className:l,validateStatus:u,showArrow:d,suffix:h,prefix:f,insetLabel:m,placeholder:b,triggerRender:v,arrowIcon:_,clearIcon:y,borderless:w}=e,E=$ge(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:S,isOpen:I,keyboardEventSet:x,inputValue:O,isHovering:T,isFocus:P,showInput:A,focusIndex:k}=this.state,M=typeof v=="function",N=!!s,K=M?$(l):$(he,l,{[`${he}-borderless`]:w,[`${he}-open`]:I,[`${he}-focus`]:P,[`${he}-disabled`]:t,[`${he}-single`]:!r,[`${he}-multiple`]:r,[`${he}-filterable`]:N,[`${he}-small`]:a==="small",[`${he}-large`]:a==="large",[`${he}-error`]:u==="error",[`${he}-warning`]:u==="warning",[`${he}-no-arrow`]:!d,[`${he}-with-prefix`]:f||m,[`${he}-with-suffix`]:h}),G=this.props.showClear&&(S.size||O)&&!t&&(T||I),z=d?g.createElement("div",{className:`${he}-arrow`,"x-semi-prop":"arrowIcon"},_):g.createElement("div",{className:`${he}-arrow-empty`}),ee=y||g.createElement(Za,null),j=M?g.createElement(pu,{value:Array.from(S.values()),inputValue:O,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:U=>this.foundation.removeTag(U),onClear:this.onClear,disabled:t,triggerRender:v,placeholder:b,componentName:"Select",componentProps:Object.assign({},this.props)}):[g.createElement(D.Fragment,{key:"prefix"},f||m?this.renderPrefix():null),g.createElement(D.Fragment,{key:"selection"},g.createElement("div",{className:$(`${he}-selection`)},r?this.renderMultipleSelection(S,N):this.renderSingleSelection(S,N))),g.createElement(D.Fragment,{key:"suffix"},h?this.renderSuffix():null),g.createElement(D.Fragment,{key:"clearicon"},G?g.createElement("div",{className:$(`${he}-clear`),onClick:this.onClear},ee):z)],H=t||N&&A||N&&r?-1:0;return g.createElement("div",Object.assign({role:"combobox","aria-disabled":t,"aria-expanded":I,"aria-controls":`${he}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":S.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:K,ref:U=>this.triggerRef.current=U,onClick:U=>this.foundation.handleClick(U),style:i,id:this.selectID,tabIndex:H,"aria-activedescendant":k!==-1?`${this.selectID}-option-${k}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:U=>this.foundation.handleTriggerFocus(U),onBlur:U=>this.foundation.handleTriggerBlur(U),onKeyPress:this.onKeyPress},x,this.getDataAttr(E)),j)}render(){const{direction:e}=this.context,t=e==="rtl"?"bottomRight":"bottomLeft",{children:r,position:s=t,zIndex:i,getPopupContainer:o,motion:a,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,spacing:h,stopPropagation:f,dropdownMargin:m}=this.props,{isOpen:b,optionKey:v}=this.state,_=this.renderSelection();return g.createElement(Sr,{getPopupContainer:o,motion:a,margin:m,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:d,zIndex:i,ref:this.optionsRef,content:()=>this.renderOptions(r),visible:b,trigger:"custom",rePosKey:v,position:s,spacing:h,stopPropagation:f,disableArrowKeyDown:!0,onVisibleChange:y=>this.handlePopoverVisibleChange(y),afterClose:()=>this.foundation.handlePopoverClose()},_)}}Ji.contextType=Lr;Ji.Option=Nl;Ji.OptGroup=qv;Ji.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,autoFocus:c.bool,autoClearSearchValue:c.bool,borderless:c.bool,children:c.node,clearIcon:c.node,defaultValue:c.oneOfType([c.string,c.number,c.array,c.object]),ellipsisTrigger:c.bool,value:c.oneOfType([c.string,c.number,c.array,c.object]),placeholder:c.node,onChange:c.func,multiple:c.bool,filter:c.oneOfType([c.func,c.bool]),max:c.number,maxTagCount:c.number,maxHeight:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,size:c.oneOf(To.SIZE_SET),disabled:c.bool,emptyContent:c.node,expandRestTagsOnClick:c.bool,onDropdownVisibleChange:c.func,zIndex:c.number,position:c.oneOf(To.POSITION_SET),onSearch:c.func,getPopupContainer:c.func,dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),outerTopSlot:c.node,innerTopSlot:c.node,inputProps:c.object,outerBottomSlot:c.node,innerBottomSlot:c.node,optionList:c.array,dropdownMatchSelectWidth:c.bool,loading:c.bool,defaultOpen:c.bool,validateStatus:c.oneOf(To.STATUS),defaultActiveFirstOption:c.bool,triggerRender:c.func,stopPropagation:c.bool,searchPosition:c.string,motion:c.bool,onChangeWithObject:c.bool,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,showClear:c.bool,showArrow:c.bool,renderSelectedItem:c.func,allowCreate:c.bool,renderCreateItem:c.func,onMouseEnter:c.func,onMouseLeave:c.func,clickToHide:c.bool,onExceed:c.func,onCreate:c.func,remote:c.bool,onDeselect:c.func,onSelect:c.func,autoAdjustOverflow:c.bool,mouseEnterDelay:c.number,mouseLeaveDelay:c.number,spacing:c.oneOfType([c.number,c.object]),onBlur:c.func,onFocus:c.func,onClear:c.func,virtualize:c.object,renderOptionItem:c.func,onListScroll:c.func,arrowIcon:c.node,preventScroll:c.bool};Ji.__SemiComponentName__="Select";Ji.defaultProps=bs(Ji.__SemiComponentName__,{stopPropagation:!0,motion:!0,borderless:!1,zIndex:gs.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:F,onChangeWithObject:!1,onChange:F,onSearch:F,onMouseEnter:F,onMouseLeave:F,onDeselect:F,onSelect:F,onCreate:F,onExceed:F,onFocus:F,onBlur:F,onClear:F,onListScroll:F,maxHeight:X2.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,searchPosition:To.SEARCH_POSITION_TRIGGER,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:g.createElement(Ov,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1});const jge={PREFIX:`${W}-progress`},Rr={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};function Vge(n,e,t){try{const r=Uge(n,e,t);if(r.length!==0)return r}catch{return}}function Uge(n,e,t){if(n.sort((s,i)=>s.percent-i.percent),n[0].percent>e)return Rr.STROKE_DEFAULT;const r=n[n.length-1];if(r.percent<e)return Wd(r.color);for(const[s,i]of n.entries()){if(i.percent===e)return Wd(i.color);if(e>i.percent)continue;const o=n[s-1];return t?Bge({startColor:Wd(o.color),endColor:Wd(i.color),size:i.percent-o.percent-1},e-o.percent-1):Wd(o.color)}}function Bge(n,e){const{startColor:t,endColor:r,size:s}=n,i=t.split(""),o=r.split(""),a=[parseInt(`${i[1]}${i[2]}`,16),parseInt(`${o[1]}${o[2]}`,16)],l=[parseInt(`${i[3]}${i[4]}`,16),parseInt(`${o[3]}${o[4]}`,16)],u=[parseInt(`${i[5]}${i[6]}`,16),parseInt(`${o[5]}${o[6]}`,16)],d=[parseInt(`${i[7]}${i[8]}`,16),parseInt(`${o[7]}${o[8]}`,16)],h=(a[0]-a[1])/(s+1),f=(l[0]-l[1])/(s+1),m=(u[0]-u[1])/(s+1),b=(d[0]-d[1])/(s+1);function v(y){const w=Math.round(a[0]-h*(y+1)).toString(16),E=Math.round(l[0]-f*(y+1)).toString(16),S=Math.round(u[0]-m*(y+1)).toString(16),I=`${_(w)}${_(E)}${_(S)}`,x=Math.floor(b*(y+1)+d[1]).toString(16);return xs.Hex(`#${I}`,x)}function _(y){return y.length===1?`0${y}`:y.length===0?"00":y}if(typeof e>"u"){const y=[t];for(let w=0;w<s;w+=1)y.push(v(w));return y}return v(e)}function Wd(n){if(n=n.trim().toLowerCase(),ic.hex.test(n))return xs.Hex(n,void 0);if(ic.hslA.test(n))return xs.Hex(xs.HslA(n),void 0);if(ic.rgbA.test(n))return xs.Hex(xs.RgbA(n),void 0);if(ic.semiDesignTokens.test(n))return KR.ALONG.indexOf(n)!==-1?xs.SemiDesignToken(n):KR.SEQUENCE.indexOf(n)!==-1?xs.SemiDesignToken(`${n}-5`):xs.SemiDesignToken(`${n}`)}const xs={Hex(n,e){return n=n.replace("#",""),n.length===8?`#${n}`:n.length===6?`#${n}${e||"ff"}`:(n.length===3&&(n=n.split("").map(t=>t+t).join("")),`#${n}${e||"ff"}`)},SemiDesignToken(n){if(typeof window>"u")return;const e=getComputedStyle(document.body).getPropertyValue(`--semi-${n}`);if(e==="")return;const t=`rgba(${e}, 1)`;return xs.RgbA(t)},HslA(n){const e=ic.hslA.exec(n),t=parseInt(e[2]),r=parseInt(e[3])/100,s=parseInt(e[4])/100,i=e[5],o=(1-Math.abs(2*s-1))*r,a=o*(1-Math.abs(t/60%2-1)),l=s-o/2;let u=0,d=0,h=0;return 0<=t&&t<60?(u=o,d=a,h=0):60<=t&&t<120?(u=a,d=o,h=0):120<=t&&t<180?(u=0,d=o,h=a):180<=t&&t<240?(u=0,d=a,h=o):240<=t&&t<300?(u=a,d=0,h=o):300<=t&&t<360&&(u=o,d=0,h=a),u=Math.round((u+l)*255).toString(16),d=Math.round((d+l)*255).toString(16),h=Math.round((h+l)*255).toString(16),xs.utils.pAL(u,d,h,i)},RgbA(n){const e=ic.rgbA.exec(n),t=parseInt(e[2],10).toString(16),r=parseInt(e[3],10).toString(16),s=parseInt(e[4],10).toString(16),i=e[5];return xs.utils.pAL(t,r,s,i)},utils:{pAL(n,e,t,r){return n.length==1&&(n="0"+n),e.length==1&&(e="0"+e),t.length==1&&(t="0"+t),typeof r<"u"?(r=Math.round(parseInt(r)*255).toString(16),r.length==1&&(r="0"+r),"#"+n+e+t+r):"#"+n+e+t}}},ic={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},KR={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var WR=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Zs=jge.PREFIX;class _f extends D.Component{constructor(e){super(e),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}componentDidUpdate(e){if(isNaN(this.props.percent)||isNaN(e.percent))throw new Error("[Semi Progress]:percent can not be NaN");if(e.percent!==this.props.percent){if(!this.props.motion){this.setState({percentNumber:this.props.percent});return}this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new aF({from:{value:e.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",t=>{if(this._mounted===!1)return;const r=parseInt(t.value);this.setState({percentNumber:r})}),this.animation.on("rest",()=>{this._mounted!==!1&&this.setState({percentNumber:this.props.percent})}),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){const e=this.props,{strokeLinecap:t,style:r,className:s,strokeWidth:i,format:o,size:a,stroke:l,strokeGradient:u,showInfo:d,percent:h,orbitStroke:f,id:m}=e,b=WR(e,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),v=this.props["aria-label"],_=this.props["aria-labelledby"],y=this.props["aria-valuetext"],{percentNumber:w}=this.state,E={wrapper:$(`${Zs}-circle`,s),svg:$(`${Zs}-circle-ring`),circle:$(`${Zs}-circle-ring-inner`)},S=this.calcPercent(h),I=this.calcPercent(w);let x;this.props.width?x=this.props.width:a===Rr.DEFAULT_SIZE?x=72:x=24;const O=this.selectStroke(l,h,u),T=x/2,P=x/2,A=(x-i)/2,k=A*2*Math.PI,M=(1-S/100)*k,N=`${k} ${k}`,K=o(I);return g.createElement("div",Object.assign({id:m,className:E.wrapper,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":I,"aria-labelledby":_,"aria-label":v,"aria-valuetext":y},sf(b)),g.createElement("svg",{key:a,className:E.svg,height:x,width:x,"aria-hidden":!0},g.createElement("circle",{strokeDashoffset:0,strokeWidth:i,strokeDasharray:N,strokeLinecap:t,fill:"transparent",stroke:f,r:A,cx:P,cy:T,"aria-hidden":!0}),g.createElement("circle",{className:E.circle,strokeDashoffset:M,strokeWidth:i,strokeDasharray:N,strokeLinecap:t,fill:"transparent",stroke:O,r:A,cx:P,cy:T,"aria-hidden":!0})),d&&a!=="small"?g.createElement("span",{className:`${Zs}-circle-text`},K):null)}calcPercent(e){let t;return e>100?t=100:e<0?t=0:t=e,t}selectStroke(e,t,r){if(typeof e=="string")return e;const s=Vge(e,t,r);return typeof s<"u"?s:Rr.STROKE_DEFAULT}renderLineProgress(){const e=this.props,{className:t,style:r,stroke:s,strokeGradient:i,direction:o,format:a,showInfo:l,size:u,percent:d,orbitStroke:h,id:f}=e,m=WR(e,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),b=this.props["aria-label"],v=this.props["aria-labelledby"],_=this.props["aria-valuetext"],{percentNumber:y}=this.state,w=$(Zs,t,{[`${Zs}-horizontal`]:o===Rr.DEFAULT_DIRECTION,[`${Zs}-vertical`]:o!==Rr.DEFAULT_DIRECTION,[`${Zs}-large`]:u==="large"}),E=$({[`${Zs}-track`]:!0}),S=$(`${Zs}-track-inner`),I=this.calcPercent(d),x=this.calcPercent(y),T={background:this.selectStroke(s,d,i)};o===Rr.DEFAULT_DIRECTION?T.width=`${I}%`:T.height=`${I}%`;const P=a(x);return g.createElement("div",Object.assign({id:f,className:w,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":I,"aria-labelledby":v,"aria-label":b,"aria-valuetext":_},sf(m)),g.createElement("div",{className:E,style:h?{backgroundColor:h}:{},"aria-hidden":!0},g.createElement("div",{className:S,style:T,"aria-hidden":!0})),l?g.createElement("div",{className:`${Zs}-line-text`},P):null)}render(){const{type:e}=this.props;return e==="line"?this.renderLineProgress():this.renderCircleProgress()}}_f.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-valuetext":c.string,className:c.string,direction:c.oneOf(Rr.directions),format:c.oneOfType([c.func,c.node]),id:c.string,motion:c.oneOfType([c.bool,c.func,c.object]),orbitStroke:c.string,percent:c.number,scale:c.number,showInfo:c.bool,size:c.oneOf(Rr.sizes),stroke:c.oneOfType([c.string,c.arrayOf(c.shape({percent:c.number,color:c.string}))]),strokeGradient:c.bool,strokeLinecap:c.oneOf(Rr.strokeLineCap),strokeWidth:c.number,style:c.object,type:c.oneOf(Rr.types),width:c.number};_f.defaultProps={className:"",direction:Rr.DEFAULT_DIRECTION,format:n=>`${n}%`,motion:!0,orbitStroke:"var(--semi-color-fill-0)",percent:0,showInfo:!1,size:Rr.DEFAULT_SIZE,stroke:Rr.STROKE_DEFAULT,strokeGradient:!1,strokeLinecap:Rr.DEFAULT_LINECAP,strokeWidth:4,style:{},type:Rr.DEFAULT_TYPE};const J2={PREFIX:`${W}-radio`,INNER:`${W}-radio-inner`,TEXT:`${W}-radio-text`,INPUT:`${W}-radio-input`,CHECKED:`${W}-radio-checked`,DISABLED:`${W}-radio-disabled`,BUTTON:`${W}-radio-button`},Hge={PREFIX:`${W}-radioGroup`,INNER:`${W}-radioGroup-inner`,TEXT:`${W}-radioGroup-text`,INPUT:`${W}-radioGroup-input`,CHECKED:`${W}-radioGroup-checked`,DISABLED:`${W}-radioGroup-disabled`},En={DIRECTION_SET:["horizontal","vertical"],DEFAULT_DIRECTION:"horizontal",MODE:["advanced",""],TYPE_DEFAULT:"default",TYPE_BUTTON:"button",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",BUTTON_SIZE:["middle","small","large"]};class zge extends ke{constructor(e){super(Object.assign({},e))}init(){const e=this._getDisplayValue();this._setValue(e)}_getDisplayValue(){const{value:e,defaultValue:t}=this.getProps();let r;return"value"in this.getProps()?r=e:"defaultValue"in this.getProps()&&(r=t),r}handleChange(e){const t=this.getProp("mode"),r=this.getState("value"),{checked:s,value:i}=e.target,o=this._adapter.isInProps("value"),a=Object.assign(Object.assign({},e),{target:Object.assign(Object.assign({},e.target),{value:i})});t==="advanced"&&!s&&(a.target.value=void 0),o||(t==="advanced"&&!s?this._setValue(void 0):this._setValue(i)),(t==="advanced"||r!==i)&&this._adapter.notifyChange(a)}handlePropValueChange(e){this._setValue(e)}_setValue(e){this._adapter.setValue(e)}destroy(){}}class Kge extends ke{constructor(){super(...arguments),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{Kt(!0,"Warning: [Semi Radio] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:s}=this._adapter.getProps();e&&!s&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}setHover(e){this._adapter.setHover(e)}setChecked(e){this._adapter.setChecked(e)}}class Wge extends ke{constructor(e){super(Object.assign({},e))}init(){const e=this._adapter.getProp("checked"),t=this._adapter.getProp("defaultChecked");this.setChecked(e||t)}setChecked(e){this._adapter.setNativeControlChecked(e)}getChecked(){return this._adapter.getProp("checked")}handleChange(e){const t="checked"in this.getProps(),{checked:r}=e.target,s=()=>{e.stopPropagation()},i=()=>{e.preventDefault()},o={target:Object.assign(Object.assign({},this.getProps()),{checked:r}),stopPropagation:s,preventDefault:i};t?this._adapter.notifyChange(o):(this.setChecked(r),this._adapter.notifyChange(o))}destroy(){}}const GT=g.createContext(null);class Xv extends xe{constructor(e){super(e),this.state={checked:!1},this.foundation=new Wge(this.adapter),this.onChange=this.onChange.bind(this)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{this.props.onChange(e)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e){e.checked!==this.props.checked&&this.foundation.setChecked(this.props.checked)}componentWillUnmount(){this.foundation.destroy()}blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}onChange(e){this.foundation.handleChange(e)}render(){const{disabled:e,mode:t,autoFocus:r,name:s,isButtonRadio:i,isPureCardRadioGroup:o,addonId:a,extraId:l,"aria-label":u,focusInner:d,onInputFocus:h,onInputBlur:f}=this.props,{checked:m}=this.state,b=this.props.prefixCls||J2.PREFIX,v=$({[`${b}-inner`]:!0,[`${b}-inner-checked`]:!!m,[`${b}-inner-buttonRadio`]:i,[`${b}-inner-pureCardRadio`]:o}),_=$({[`${b}-focus`]:d,[`${b}-focus-border`]:d&&!m,[`${b}-inner-display`]:!i});return g.createElement("span",{className:v},g.createElement("input",{ref:y=>{this.inputEntity=y},autoFocus:r,type:t==="advanced"?"checkbox":"radio",checked:!!m,disabled:e,onChange:this.onChange,name:s,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,onFocus:h,onBlur:f}),g.createElement("span",{className:_},m?g.createElement(kse,null):null))}}Xv.contextType=GT;Xv.propTypes={checked:c.bool,disabled:c.bool,isButtonRadio:c.bool,onChange:c.func,mode:c.oneOf(["advanced",""]),"aria-label":c.string,focusInner:c.bool,onInputFocus:c.func,onInputBlur:c.func,preventScroll:c.bool};Xv.defaultProps={onChange:F,isButtonRadio:!1};var Gge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Yl extends xe{constructor(e){super(e),this.onChange=t=>{const{onChange:r}=this.props;if(this.isInGroup()){const{radioGroup:s}=this.context;s.onChange&&s.onChange(t)}!("checked"in this.props)&&this.foundation.setChecked(t.target.checked),r&&r(t)},this.handleMouseEnter=t=>{this.props.onMouseEnter(t),this.foundation.setHover(!0)},this.handleMouseLeave=t=>{this.props.onMouseLeave(t),this.foundation.setHover(!1)},this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:e.addonId,extraId:e.extraId,checked:e.checked||e.defaultChecked||!1},this.foundation=new Kge(this.adapter),this.radioEntity=null}componentDidUpdate(e){this.props.checked!==e.checked&&(wt(this.props.checked)?this.foundation.setChecked(!1):PF(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:e=>{this.setState({hover:e})},setAddonId:()=>{this.setState({addonId:No({prefix:"addon"})})},setChecked:e=>{this.setState({checked:e})},setExtraId:()=>{this.setState({extraId:No({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){const e=this.props,{addonClassName:t,addonStyle:r,disabled:s,style:i,className:o,prefixCls:a,displayMode:l,children:u,extra:d,mode:h,type:f,value:m,name:b}=e,v=Gge(e,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]);let _,y,w,E,S,I,x,O,T;const{hover:P,addonId:A,extraId:k,focusVisible:M,checked:N}=this.state,K={checked:N,disabled:s};this.isInGroup()?(_=this.context.radioGroup.value===m,y=s||this.context.radioGroup.disabled,w=this.context.mode,E=this.context.radioGroup.isButtonRadio,S=this.context.radioGroup.isCardRadio,I=this.context.radioGroup.isPureCardRadio,O=this.context.radioGroup.buttonSize,T=a||this.context.radioGroup.prefixCls,K.checked=_,K.disabled=y):(_=N,y=s,w=h,x=f==="button",T=a,E=f===En.TYPE_BUTTON,I=f===En.TYPE_PURECARD,S=f===En.TYPE_CARD||I);const G=typeof E>"u"?x:E,z=T||J2.PREFIX,ee=S||I||G,j=$(z,{[`${z}-disabled`]:y,[`${z}-checked`]:_,[`${z}-${l}`]:!!l,[`${z}-buttonRadioComponent`]:x,[`${z}-buttonRadioGroup`]:E,[`${z}-buttonRadioGroup-${O}`]:E&&O,[`${z}-cardRadioGroup`]:S,[`${z}-cardRadioGroup_disabled`]:y&&S,[`${z}-cardRadioGroup_checked`]:S&&_&&!y,[`${z}-cardRadioGroup_checked_disabled`]:S&&_&&y,[`${z}-cardRadioGroup_hover`]:S&&!_&&P&&!y,[o]:!!o,[`${z}-focus`]:M&&(S||I)}),H=this.isInGroup()&&this.context.radioGroup.name,U=$({[`${z}-addon`]:!G,[`${z}-addon-buttonRadio`]:G,[`${z}-addon-buttonRadio-checked`]:G&&_,[`${z}-addon-buttonRadio-disabled`]:G&&y,[`${z}-addon-buttonRadio-hover`]:G&&!_&&!y&&P,[`${z}-addon-buttonRadio-${O}`]:G&&O,[`${z}-focus`]:M&&G},t),oe=()=>!u&&!d?null:g.createElement("div",{className:$([`${z}-content`,{[`${z}-isCardRadioGroup_content`]:S}])},u?g.createElement("span",{className:U,style:r,id:A,"x-semi-prop":"children"},u):null,d&&!G?g.createElement("div",{className:`${z}-extra`,id:k,"x-semi-prop":"extra"},d):null);return g.createElement("label",Object.assign({style:i,className:j,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(v)),g.createElement(Xv,Object.assign({},this.props,K,{mode:w,name:b??H,isButtonRadio:G,isPureCardRadioGroup:I,onChange:this.onChange,ref:ne=>{this.radioEntity=ne},addonId:u&&A,extraId:d&&k,focusInner:M&&!ee,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),oe())}}Yl.contextType=GT;Yl.propTypes={autoFocus:c.bool,checked:c.bool,defaultChecked:c.bool,value:c.any,style:c.object,className:c.string,disabled:c.bool,prefixCls:c.string,displayMode:c.oneOf(["vertical",""]),onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,mode:c.oneOf(En.MODE),extra:c.node,addonStyle:c.object,addonClassName:c.string,type:c.oneOf([En.TYPE_DEFAULT,En.TYPE_BUTTON,En.TYPE_CARD,En.TYPE_PURECARD]),"aria-label":c.string,preventScroll:c.bool};Yl.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:F,onMouseLeave:F,mode:"",type:"default"};Yl.elementType="Radio";var Yge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class YT extends xe{constructor(e){super(e),this.onChange=t=>{this.foundation.handleChange(t)},this.getFormatName=()=>this.props.name||"default",this.state={value:e.value||e.defaultValue},this.foundation=new zge(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){typeof e.value=="number"&&isNaN(e.value)&&typeof this.props.value=="number"&&isNaN(this.props.value)||e.value!==this.props.value&&this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>{this.setState({value:e})},getProps:()=>this.props,isInProps:e=>e in this.props,notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}render(){const e=this.props,{children:t,options:r,mode:s,prefixCls:i,className:o,style:a,direction:l,type:u,buttonSize:d,id:h}=e,f=Yge(e,["children","options","mode","prefixCls","className","style","direction","type","buttonSize","id"]),m=u===En.TYPE_BUTTON,b=u===En.TYPE_PURECARD,v=u===En.TYPE_CARD||b,_=u===En.TYPE_DEFAULT,y=i||Hge.PREFIX,w=$(o,{[y]:!0,[`${y}-wrapper`]:!0,[`${y}-${l}`]:l&&!m,[`${y}-${l}-default`]:l&&_,[`${y}-${l}-card`]:l&&v,[`${y}-buttonRadio`]:m}),E=this.state.value;let S;return r?S=(r||[]).map((I,x)=>typeof I=="string"?g.createElement(Yl,{key:x,disabled:this.props.disabled,value:I},I):g.createElement(Yl,{key:x,disabled:I.disabled||this.props.disabled,value:I.value,extra:I.extra,className:I.className,style:I.style},I.label)):t&&(S=g.Children.map(t,(I,x)=>g.isValidElement(I)?g.cloneElement(I,{key:x}):null)),g.createElement("div",Object.assign({className:w,style:a,id:h,"aria-label":this.props["aria-label"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(f)),g.createElement(GT.Provider,{value:{radioGroup:{onChange:this.onChange,value:E,disabled:this.props.disabled,name:this.getFormatName(),isButtonRadio:m,isCardRadio:v,isPureCardRadio:b,buttonSize:d,prefixCls:i},mode:s}},S))}}YT.propTypes={defaultValue:c.any,disabled:c.bool,name:c.string,options:c.array,buttonSize:c.oneOf(En.BUTTON_SIZE),type:c.oneOf([En.TYPE_DEFAULT,En.TYPE_BUTTON,En.TYPE_CARD,En.TYPE_PURECARD]),value:c.any,onChange:c.func,children:c.node,prefixCls:c.string,className:c.string,style:c.object,direction:c.oneOf(En.DIRECTION_SET),mode:c.oneOf(En.MODE),"aria-label":c.string,"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,id:c.string};YT.defaultProps={disabled:!1,onChange:F,direction:En.DEFAULT_DIRECTION,mode:"",type:En.TYPE_DEFAULT,buttonSize:"middle"};const sm={PREFIX:`${W}-rating`},ej={SIZE_SET:["default","small"]};class qT extends ke{constructor(e){super(Object.assign(Object.assign({},qT.defaultAdapter),e)),this.handleStarFocusVisible=t=>{const{target:r}=t;this.getProps();try{r.matches(":focus-visible")&&this._adapter.setEmptyStarFocusVisible(!0)}catch{Kt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleStarBlur=t=>{const{emptyStarFocusVisible:r}=this.getStates();r&&this._adapter.setEmptyStarFocusVisible(!1)}}init(){const{autoFocus:e,disabled:t}=this.getProps();e&&!t&&this._adapter.focus()}_getScroll(e,t){let r=t?e.pageYOffset:e.pageXOffset;const s=t?"scrollTop":"scrollLeft";if(typeof r!="number"){const i=e.document;r=i.documentElement[s],typeof r!="number"&&(r=i.body[s])}return r}_getClientPosition(e){let t,r;const s=e.ownerDocument,{body:i}=s,o=s&&s.documentElement,a=e.getBoundingClientRect();return t=a.left,r=a.top,t-=o.clientLeft||i.clientLeft||0,r-=o.clientTop||i.clientTop||0,{left:t,top:r}}_getOffsetLeft(e){const t=this._getClientPosition(e),r=e.ownerDocument,s=r.defaultView||r.parentWindow;return t.left+=this._getScroll(s),t.left}getStarValue(e,t){const{allowHalf:r}=this.getProps(),i=this._adapter.getContext("direction")==="rtl";let o=e+1;if(r){const a=this._adapter.getStarDOM(e),l=this._getOffsetLeft(a),u=a.clientWidth;(i&&t-l>u/2||!i&&t-l<u/2)&&(o-=.5)}return o}handleHover(e,t){const r=this.getStarValue(t,e.pageX),{clearedValue:s,hoverValue:i}=this.getStates();r!==i&&r!==s&&this._adapter.notifyHoverChange(r,null)}handleMouseLeave(){this._adapter.notifyHoverChange(void 0,null)}handleClick(e,t){const{allowClear:r}=this.getProps(),{value:s}=this.getStates(),i=this.getStarValue(t,e.pageX),o=r?i===s:!1;this._adapter.updateValue(o?0:i),o?this._adapter.notifyHoverChange(void 0,i):this._adapter.clearValue(null)}handleFocus(e){this._adapter.notifyFocus(e)}handleBlur(e){this._adapter.notifyBlur(e)}handleKeyDown(e,t){const{key:r}=e,{count:s,allowHalf:i}=this.getProps(),a=this._adapter.getContext("direction")==="rtl",l=i?.5:1;let u,d;r==="ArrowRight"||r==="ArrowUp"?u=t+(a?-l:l):(r==="ArrowLeft"||r==="ArrowDown")&&(u=t+(a?l:-l)),u>s?d=0:u<0?d=s:d=u,["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(r)&&(this._adapter.notifyKeyDown(e),this._adapter.updateValue(d),this.changeFocusStar(d,e),e.preventDefault(),this._adapter.notifyHoverChange(void 0,null))}changeFocusStar(e,t){const{count:r,allowHalf:s,preventScroll:i}=this.getProps(),o=Math.ceil(e)-1,a=[...t.currentTarget.childNodes].map(l=>l.childNodes[0].childNodes);o<0?a[r][0].focus({preventScroll:i}):a[o][s?e*10%10===5?0:1:0].focus({preventScroll:i})}}class XT extends ke{constructor(e){super(Object.assign(Object.assign({},XT.defaultAdapter),e)),this.handleFocusVisible=(t,r)=>{const{target:s}=t;try{s.matches(":focus-visible")&&(r==="first"?this._adapter.setFirstStarFocus(!0):this._adapter.setSecondStarFocus(!0))}catch{Kt(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleBlur=(t,r)=>{const{firstStarFocus:s,secondStarFocus:i}=this.getStates();r==="first"?s&&this._adapter.setFirstStarFocus(!1):i&&this._adapter.setSecondStarFocus(!1)}}}class tj extends xe{constructor(e){super(e),this.firstStar=null,this.secondStar=null,this.onHover=t=>{const{onHover:r,index:s}=this.props;r(t,s)},this.onClick=t=>{const{onClick:r,index:s}=this.props;r(t,s)},this.onFocus=(t,r)=>{const{onFocus:s}=this.props;s&&s(t),this.foundation.handleFocusVisible(t,r)},this.onBlur=(t,r)=>{const{onBlur:s}=this.props;s&&s(t),this.foundation.handleBlur(t,r)},this.onKeyDown=t=>{const{onClick:r,index:s}=this.props;t.keyCode===13&&r(t,s)},this.starFocus=()=>{const{value:t,index:r,preventScroll:s}=this.props;t-r===.5?this.firstStar.focus({preventScroll:s}):this.secondStar.focus({preventScroll:s})},this.saveFirstStar=t=>{this.firstStar=t},this.saveSecondStar=t=>{this.secondStar=t},this.state={firstStarFocus:!1,secondStarFocus:!1},this.foundation=new XT(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setFirstStarFocus:e=>{this.setState({firstStarFocus:e})},setSecondStarFocus:e=>{this.setState({secondStarFocus:e})}})}render(){const{index:e,prefixCls:t,character:r,count:s,value:i,disabled:o,allowHalf:a,focused:l,size:u,ariaLabelPrefix:d}=this.props,{firstStarFocus:h,secondStarFocus:f}=this.state,m=e+1,b=m-i,v=a&&b<1&&b>0,_=1-b,y=m<=i,w=typeof u=="number",E=$(t,{[`${t}-half`]:v,[`${t}-full`]:y,[`${t}-${u}`]:!w}),S=w?{width:u,height:u,fontSize:u}:{},I=w?"inherit":u==="small"?"default":"extra-large",x=r||g.createElement(Fse,{size:I,style:{display:"block"}}),O=e===s,T=$(`${t}-wrapper`,{[`${t}-disabled`]:o,[`${sm.PREFIX}-focus`]:(h||f)&&i!==0}),P={onClick:o?null:this.onClick,onKeyDown:o?null:this.onKeyDown,onMouseMove:o?null:this.onHover,className:T},A=a?s*2+1:s+1,k={ref:this.saveFirstStar,role:"radio","aria-checked":i===e+.5,"aria-posinset":2*e+1,"aria-setsize":A,"aria-disabled":o,"aria-label":`${e+.5} ${d}s`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:$(`${t}-first`,`${sm.PREFIX}-no-focus`),tabIndex:!o&&i===e+.5?0:-1,onFocus:K=>{this.onFocus(K,"first")},onBlur:K=>{this.onBlur(K,"first")}},M=!o&&(i===e+1||O&&i===0)?0:-1,N={ref:this.saveSecondStar,role:"radio","aria-checked":O?i===0:i===e+1,"aria-posinset":a?2*(e+1):e+1,"aria-setsize":A,"aria-disabled":o,"aria-label":`${O?0:e+1} ${d}${e===0?"":"s"}`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:$(`${t}-second`,`${sm.PREFIX}-no-focus`),tabIndex:M,onFocus:K=>{this.onFocus(K,"second")},onBlur:K=>{this.onBlur(K,"second")}};return g.createElement("li",{className:E,style:Object.assign({},S),key:e},g.createElement("div",Object.assign({},P),a&&!O&&g.createElement("div",Object.assign({},k,{style:{width:`${_*100}%`}}),x),g.createElement("div",Object.assign({},N,{"x-semi-prop":"character"}),x)))}}tj.propTypes={value:c.number,index:c.number,prefixCls:c.string,allowHalf:c.bool,onHover:c.func,onClick:c.func,character:c.node,focused:c.bool,disabled:c.bool,count:c.number,ariaLabelPrefix:c.string,size:c.oneOfType([c.oneOf(ej.SIZE_SET),c.number]),"aria-describedby":c.string,onFocus:c.func,onBlur:c.func,preventScroll:c.bool};var qge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Qv extends xe{constructor(e){super(e),this.rate=null,this.onHover=(r,s)=>{this.foundation.handleHover(r,s)},this.onMouseLeave=()=>{this.foundation.handleMouseLeave()},this.onClick=(r,s)=>{this.foundation.handleClick(r,s)},this.onFocus=r=>{this.foundation.handleFocus(r)},this.onBlur=r=>{this.foundation.handleBlur(r)},this.onKeyDown=r=>{const{value:s}=this.state;this.foundation.handleKeyDown(r,s)},this.focus=()=>{const{disabled:r,preventScroll:s}=this.props;r||this.rate.focus({preventScroll:s})},this.blur=()=>{const{disabled:r}=this.props;r||this.rate.blur()},this.saveRef=r=>s=>{this.stars[r]=s},this.saveRate=r=>{this.rate=r},this.handleStarFocusVisible=r=>{this.foundation.handleStarFocusVisible(r)},this.handleStarBlur=r=>{this.foundation.handleStarBlur(r)},this.getAriaLabelPrefix=()=>{if(this.props["aria-label"])return this.props["aria-label"];let r="star";const{character:s}=this.props;return typeof s=="string"&&(r=s),r},this.getItemList=r=>{const{count:s,allowHalf:i,prefixCls:o,disabled:a,character:l,size:u,tooltips:d}=this.props,{value:h,hoverValue:f,focused:m}=this.state;return[...Array(s+1).keys()].map(v=>{const _=g.createElement(tj,{ref:this.saveRef(v),index:v,count:s,prefixCls:`${o}-star`,allowHalf:i,value:f===void 0?h:f,onClick:a?Pt:this.onClick,onHover:a?Pt:this.onHover,key:v,disabled:a,character:l,focused:m,size:v===s?0:u,ariaLabelPrefix:r,onFocus:a||s!==v?Pt:this.handleStarFocusVisible,onBlur:a||s!==v?Pt:this.handleStarBlur});if(d){const y=d[v]?d[v]:"",w=f-1===v;return g.createElement(wr,{visible:w,trigger:"custom",content:y,key:`${v}-${w}`},_)}return _})};const t=e.value===void 0?e.defaultValue:e.value;this.stars={},this.state={value:t,focused:!1,hoverValue:void 0,clearedValue:null,emptyStarFocusVisible:!1},this.foundation=new qT(this.adapter)}static getDerivedStateFromProps(e,t){return"value"in e&&e.value!==void 0?Object.assign(Object.assign({},t),{value:e.value}):t}get adapter(){return Object.assign(Object.assign({},super.adapter),{focus:()=>{const{disabled:e,count:t}=this.props,{value:r}=this.state;if(!e){const s=Math.ceil(r)-1;this.stars[s<0?t:s].starFocus()}},getStarDOM:e=>{const t=this.stars&&this.stars[e];return Ar.findDOMNode(t)},notifyHoverChange:(e,t)=>{const{onHoverChange:r}=this.props;this.setState({hoverValue:e,clearedValue:t}),r(e)},updateValue:e=>{const{onChange:t}=this.props;"value"in this.props||this.setState({value:e}),t(e)},clearValue:e=>{this.setState({clearedValue:e})},notifyFocus:e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)},notifyBlur:e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),t&&t(e)},notifyKeyDown:e=>{const{onKeyDown:t}=this.props;this.setState({focused:!1}),t&&t(e)},setEmptyStarFocusVisible:e=>{this.setState({emptyStarFocusVisible:e})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,prefixCls:r,disabled:s,className:i,id:o,count:a,tabIndex:l}=e,u=qge(e,["style","prefixCls","disabled","className","id","count","tabIndex"]),{value:d,emptyStarFocusVisible:h}=this.state,f=this.getAriaLabelPrefix(),m=`Rating: ${d} of ${a} ${f}${d===1?"":"s"},`,b=this.getItemList(f),v=$(r,{[`${r}-disabled`]:s,[`${r}-focus`]:h},i);return g.createElement("ul",Object.assign({"aria-label":m,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],className:v,style:t,onMouseLeave:s?Pt:this.onMouseLeave,tabIndex:s?-1:l,onFocus:s?Pt:this.onFocus,onBlur:s?Pt:this.onBlur,onKeyDown:s?Pt:this.onKeyDown,ref:this.saveRate,id:o},this.getDataAttr(u)),b)}}Qv.contextType=Lr;Qv.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-label":c.string,"aria-labelledby":c.string,"aria-required":c.bool,disabled:c.bool,value:c.number,defaultValue:c.number,count:c.number,allowHalf:c.bool,allowClear:c.bool,style:c.object,prefixCls:c.string,onChange:c.func,onHoverChange:c.func,className:c.string,character:c.node,tabIndex:c.number,onFocus:c.func,onBlur:c.func,onKeyDown:c.func,autoFocus:c.bool,size:c.oneOfType([c.oneOf(ej.SIZE_SET),c.number]),tooltips:c.arrayOf(c.string),id:c.string,preventScroll:c.bool};Qv.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:sm.PREFIX,onChange:Pt,onHoverChange:Pt,tabIndex:-1,size:"default"};const gr={PREFIX:`${W}-slider`,DISABLED:`${W}-slider-disabled`,VERTICAL:`${W}-slider-vertical`,TRACK:`${W}-slider-track`,DOTS:`${W}-slider-dots`,MARKS:`${W}-slider-marks`,HANDLE:`${W}-slider-handle`,HANDLE_DOT:`${W}-slider-handle-dot`},GR=(n,e)=>(!globalThis.Touch||!(n instanceof Touch)||["stopPropagation","preventDefault"].forEach(r=>{let s=e[r];s&&(typeof s=="function"&&(s=function(){return e[r](...arguments)}),n[r]?Kt(!0,`"The key ${r}" exist in Touch.`):n[r]=s)}),n);class QT extends ke{constructor(e){var t;super(Object.assign(Object.assign({},QT.defaultAdapter),e)),t=this,this.getMinAndMaxPercent=r=>{const{range:s,min:i,max:o}=this._adapter.getProps(),a=s?(r[0]-i)/(o-i):(r-i)/(o-i),l=s?(r[1]-i)/(o-i):1;return{min:this._checkValidity(a),max:this._checkValidity(l)}},this._checkValidity=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r>i?i:r<s?s:r},this.computeHandleVisibleVal=(r,s,i)=>{const{focusPos:o,currentValue:a}=this._adapter.getStates(),l={min:!1,max:!1};let u;return s?u={min:s(i?this.outPutValue(a[0]):this.outPutValue(a)),max:i?s(this.outPutValue(a[1])):null}:u={min:i?this.outPutValue(a[0]):this.outPutValue(a),max:i?this.outPutValue(a[1]):null},r?(l.min=!0,l.max=!0):typeof r>"u"&&s&&(o==="min"?l.min=!0:o==="max"&&(l.max=!0)),{tipVisible:l,tipChildren:u}},this.valueFormatIsCorrect=r=>Array.isArray(r)?typeof r[0]=="number"&&typeof r[0]=="number":typeof r=="number",this.handleMousePos=(r,s)=>{const i=this._adapter.getParentRect(),o=this._adapter.getScrollParentVal(),a=i?i.left:0,l=i?i.top:0;return{x:r-a+o.scrollLeft,y:s-l+o.scrollTop}},this.getScrollParent=r=>{const s=r,i=/(auto|scroll)/,o=(u,d)=>window.getComputedStyle(u,null).getPropertyValue(d),a=u=>i.test(o(u,"overflow")+o(u,"overflow-y")+o(u,"overflow-x")),l=u=>!u||u===document.body||!(u instanceof Element)?document.body:a(u)?u:l(u.parentNode);return l(s)},this.checkMeetMinMax=r=>{const{vertical:s,verticalReverse:i,range:o}=this._adapter.getProps(),a=this._adapter.getState("currentValue");this.transValueToPos(a);const{sliderX:l,sliderY:u,sliderWidth:d,sliderHeight:h}=this._adapter.getSliderLengths();this._adapter.getStates();const f=s?h:d;let m;s&&i?m=u+f:m=s?u:l;let b;return s&&i?b=u:b=s?u+h:l+d,s&&i?r>=m?r=m:r<=b&&(r=b):r<=m?r=m:r>=b&&(r=b),r},this.transPosToValue=(r,s)=>{const i=this.checkMeetMinMax(r),{min:o,max:a,currentValue:l}=this._adapter.getStates(),{range:u,vertical:d,step:h,verticalReverse:f}=this._adapter.getProps(),{sliderX:m,sliderY:b,sliderWidth:v,sliderHeight:_}=this._adapter.getSliderLengths(),y=d?b:m,w=d?_:v;let E;d&&f?E=(y+w-i)/w*(a-o)+o:E=(i-y)/w*(a-o)+o;let S;return u?S=s?l[0]:l[1]:S=l,h!==1&&(E=Math.round(E/h)*h),u&&E!==S?s?[E,l[1]]:[l[0],E]:!u&&E!==S?E:!1},this.transValueToPos=r=>{const{min:s,max:i}=this._adapter.getStates(),{vertical:o,range:a,verticalReverse:l}=this._adapter.getProps(),{sliderX:u,sliderY:d,sliderWidth:h,sliderHeight:f}=this._adapter.getSliderLengths(),m=o?d:u,b=o?f:h;return a?[(r[0]-s)*b/(i-s)+m,(r[1]-s)*b/(i-s)+m]:(r-s)*b/(i-s)+m},this.isMarkActive=r=>{const{min:s,max:i,range:o,included:a}=this._adapter.getProps(),l=this._adapter.getState("currentValue");return typeof(r/1)=="number"&&r>=s&&r<=i?o?(r>l[1]||r<l[0])&&a?"unActive":"active":r<=l&&a?"active":"unActive":!1},this.outPutValue=r=>{const s=a=>{var l,u;return/^\d+(\.\d+)?$/.test(String(a))&&(u=(l=a.toString().split(".")[1])===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0},i=this._adapter.getProp("step"),o=(()=>{const a=s(i),l=Math.pow(10,a);return u=>Math.round(u*l)/l})();if(Array.isArray(r)){const a=o(r[0]),l=o(r[1]);return a>l?this.getState("focusPos")==="min"?[l,l]:[a,a]:[a,l]}else return o(r)},this.handleDisabledChange=r=>{this._adapter.updateDisabled(r)},this.checkAndUpdateIsInRenderTreeState=()=>this._adapter.checkAndUpdateIsInRenderTreeState(),this.calculateOutputValue=(r,s)=>{const i=this.transPosToValue(r,s);if(i!==!1)return this.outPutValue(i)},this.handleValueChange=(r,s)=>{const{min:i,max:o}=this._adapter.getStates();let a=null;const l={};this.valueFormatIsCorrect(s)?(Array.isArray(r)&&Array.isArray(s)&&(s=[s[0]<i?i:s[0],s[1]>o?o:s[1]],a=Object.assign(l,{currentValue:s})),typeof r=="number"&&typeof s=="number"&&(s>o?s=o:s=s<i?i:s,a=Object.assign(l,{currentValue:s}))):a=l,a&&this._adapter.transNewPropsToState(a)},this.onHandleDown=(r,s)=>{this._adapter.onHandleDown(r);const i=this._adapter.getState("disabled"),{vertical:o}=this._adapter.getProps(),{dragging:a}=this._adapter.getOverallVars();if(i)return!1;this._adapter.setStateVal("isDrag",!0),this._adapter.setStateVal("chooseMovePos",s),s==="min"?this._adapter.setDragging([!0,a[1]]):this._adapter.setDragging([a[0],!0]);const l=this.handleMousePos(r.clientX,r.clientY);let u=o?l.y:l.x;if(!this._adapter.isEventFromHandle(r))this._dragOffset=0;else{const d=this._getHandleCenterPosition(o,r.target);this._dragOffset=u-d,u=d}return!0},this.onHandleMove=r=>{this._adapter.setEventDefault(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{vertical:o}=this._adapter.getProps(),{dragging:a}=this._adapter.getOverallVars();if(s)return!1;this.onHandleEnter(i);const l=this.handleMousePos(r.clientX,r.clientY);let u=o?l.y:l.x;if(u=u-this._dragOffset,i==="min"&&a[0]||i==="max"&&a[1]){const d=this.calculateOutputValue(u,i==="min");if(d===void 0)return!1;this._adapter.notifyChange(d),this._adapter.onHandleMove(u,i==="min",void 0,!1,d)}return!0},this.onHandleTouchStart=(r,s)=>{const i=this._adapter.getMinHandleEl(),o=this._adapter.getMaxHandleEl();if(r.target===i||r.target===o){ri(r);const a=GR(r.touches[0],r);this.onHandleDown(a,s)}},this.onHandleTouchMove=r=>{const s=this._adapter.getMinHandleEl(),i=this._adapter.getMaxHandleEl();if(r.target===s||r.target===i){const o=GR(r.touches[0],r);this.onHandleMove(o)}},this.onHandleEnter=r=>{const{disabled:s,focusPos:i}=this._adapter.getStates();s||!i&&r!==i&&this._adapter.onHandleEnter(r)},this.onHandleLeave=()=>{const r=this._adapter.getState("disabled"),s=this._adapter.getState("isDrag");!r&&!s&&this._adapter.onHandleLeave()},this.onHandleUp=r=>{this._adapter.onHandleUpBefore(r);const{disabled:s,chooseMovePos:i}=this._adapter.getStates(),{dragging:o}=this._adapter.getOverallVars();return s?!1:(i==="min"?this._adapter.setDragging([!1,o[1]]):this._adapter.setDragging([o[0],!1]),this._adapter.setStateVal("isDrag",!1),this._adapter.onHandleLeave(),this._adapter.onHandleUpAfter(),!0)},this._handleValueDecreaseWithKeyBoard=(r,s)=>{const{min:i,currentValue:o}=this.getStates(),{range:a}=this.getProps();if(s==="min")if(a){let l=o[0]-r;return l=l<i?i:l,[l,o[1]]}else{let l=o-r;return l=l<i?i:l,l}else{let l=o[1]-r;return l=l<o[0]?o[0]:l,[o[0],l]}},this._handleValueIncreaseWithKeyBoard=(r,s)=>{const{max:i,currentValue:o}=this.getStates(),{range:a}=this.getProps();if(s==="min")if(a){let l=o[0]+r;return l=l>o[1]?o[1]:l,[l,o[1]]}else{let l=o+r;return l=l>i?i:l,l}else{let l=o[1]+r;return l=l>i?i:l,[o[0],l]}},this._handleHomeKey=r=>{const{min:s,currentValue:i}=this.getStates(),{range:o}=this.getProps();return r==="min"?o?[s,i[1]]:s:[i[0],i[0]]},this._handleEndKey=r=>{const{max:s,currentValue:i}=this.getStates(),{range:o}=this.getProps();return r==="min"?o?[i[1],i[1]]:s:[i[0],s]},this.handleKeyDown=(r,s)=>{const{min:i,max:o,currentValue:a}=this.getStates(),{step:l,range:u}=this.getProps();let d;switch(r.key){case"ArrowLeft":case"ArrowDown":d=this._handleValueDecreaseWithKeyBoard(l,s);break;case"ArrowRight":case"ArrowUp":d=this._handleValueIncreaseWithKeyBoard(l,s);break;case"PageUp":d=this._handleValueIncreaseWithKeyBoard(10*l,s);break;case"PageDown":d=this._handleValueDecreaseWithKeyBoard(10*l,s);break;case"Home":d=this._handleHomeKey(s);break;case"End":d=this._handleEndKey(s);break}if(["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(r.key)){let h=!0;Array.isArray(a)?h=!(a[0]===d[0]&&a[1]===d[1]):h=a!==d,h&&(this._adapter.updateCurrentValue(d),this._adapter.notifyChange(d)),ri(r)}},this._noTooltip=()=>{const{tipFormatter:r,tooltipVisible:s}=this.getProps();return r===null||s===!1},this.onFocus=(r,s)=>{if(this._noTooltip())return;ri(r);const{target:o}=r;try{o.matches(":focus-visible")&&(s==="min"?this._adapter.setStateVal("firstDotFocusVisible",!0):this._adapter.setStateVal("secondDotFocusVisible",!0))}catch{Kt(!0,"Warning: [Semi Slider] The current browser does not support the focus-visible")}},this.onBlur=(r,s)=>{if(this._noTooltip())return;const{firstDotFocusVisible:o,secondDotFocusVisible:a}=this.getStates();s==="min"?o&&this._adapter.setStateVal("firstDotFocusVisible",!1):a&&this._adapter.setStateVal("secondDotFocusVisible",!1)},this.handleWrapClick=r=>{const{disabled:s,isDrag:i}=this._adapter.getStates();if(i||s||this._adapter.isEventFromHandle(r))return;const{vertical:o}=this.getProps(),a=this.handleMousePos(r.clientX,r.clientY),l=o?a.y:a.x,u=this.checkWhichHandle(l),d=this.calculateOutputValue(l,u);d!==void 0&&(this._adapter.notifyChange(d),!this._isControlledComponent()&&this.setHandlePos(l,u,!0,d))},this.setHandlePos=function(r,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3?arguments[3]:void 0;t._adapter.onHandleMove(r,s,()=>t._adapter.onHandleUpAfter(),i,o)},this.checkWhichHandle=r=>{const{vertical:s,verticalReverse:i}=this.getProps(),{currentValue:o}=this._adapter.getStates(),a=this.transValueToPos(o);let l=!0;return Array.isArray(a)&&(r>a[1]||Math.abs(r-a[0])>Math.abs(r-a[1]))&&(l=!1),s&&i&&(l=!l),l},this.handleWrapperEnter=()=>{this._adapter.setStateVal("showBoundary",!0)},this.handleWrapperLeave=()=>{this._adapter.setStateVal("showBoundary",!1)}}init(){this._checkCurrentValue(),this._dragOffset=0}_checkCurrentValue(){const{currentValue:e,min:t,max:r}=this.getStates();let s;Array.isArray(e)?(s=[],s[0]=this._checkValidity(e[0],t,r),s[1]=this._checkValidity(e[1],t,r)):s=this._checkValidity(e,t,r),this._adapter.updateCurrentValue(s)}destroy(){this._adapter.unSubscribeEventListener()}_getHandleCenterPosition(e,t){const r=t.getBoundingClientRect(),{x:s,y:i}=this.handleMousePos(r.left+r.width*.5,r.top+r.height*.5);return e?i:s}}var Xge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Is=gr.PREFIX;function Qge(n){return n?!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length):!1}class ZT extends xe{constructor(e){super(e),this.renderHandle=()=>{var r,s,i,o,a;const{vertical:l,range:u,tooltipVisible:d,tipFormatter:h,"aria-label":f,"aria-labelledby":m,"aria-valuetext":b,getAriaValueText:v,disabled:_}=this.props,{chooseMovePos:y,isDrag:w,isInRenderTree:E,firstDotFocusVisible:S,secondDotFocusVisible:I}=this.state,x=l?"top":"left",O=this.foundation.getMinAndMaxPercent(this.state.currentValue),T=O.min,P=O.max,{tipVisible:A,tipChildren:k}=this.foundation.computeHandleVisibleVal(d&&E,h,u),M=$(gr.HANDLE,{[`${gr.HANDLE}-clicked`]:y==="min"&&w}),N=$(gr.HANDLE,{[`${gr.HANDLE}-clicked`]:y==="max"&&w}),{min:K,max:G,currentValue:z}=this.state,ee={"aria-label":f??(_?"Disabled Slider":void 0),"aria-labelledby":m,"aria-disabled":_};l&&Object.assign(ee,{"aria-orientation":"vertical"});const j=this.props.handleDot;return u?g.createElement(g.Fragment,null,g.createElement(wr,{content:k.min,position:"top",trigger:"custom",rePosKey:T,visible:E&&(A.min||S),className:`${gr.HANDLE}-tooltip`},g.createElement("span",Object.assign({ref:this.minHanleEl,className:M,style:{[x]:`${T*100}%`,zIndex:y==="min"?2:1},onMouseDown:U=>{this.foundation.onHandleDown(U,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:U=>{this.foundation.onHandleTouchStart(U,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:U=>{this.foundation.onHandleUp(U)},onTouchEnd:U=>{this.foundation.onHandleUp(U)},onKeyDown:U=>{this.foundation.handleKeyDown(U,"min")},onFocus:U=>{this.foundation.onFocus(U,"min")},onBlur:U=>{this.foundation.onBlur(U,"min")},role:"slider",tabIndex:_?-1:0},ee,{"aria-valuetext":v?v(z[0],0):b,"aria-valuenow":z[0],"aria-valuemax":z[1],"aria-valuemin":K}),(j==null?void 0:j[0])&&g.createElement("div",{className:gr.HANDLE_DOT,style:Object.assign(Object.assign({},!((r=j[0])===null||r===void 0)&&r.size?{width:j[0].size,height:j[0].size}:{}),!((s=j[0])===null||s===void 0)&&s.color?{backgroundColor:j[0].color}:{})}))),g.createElement(wr,{content:k.max,position:"top",trigger:"custom",rePosKey:P,visible:E&&(A.max||I),className:`${gr.HANDLE}-tooltip`},g.createElement("span",Object.assign({ref:this.maxHanleEl,className:N,style:{[x]:`${P*100}%`,zIndex:y==="max"?2:1},onMouseDown:U=>{this.foundation.onHandleDown(U,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:U=>{this.foundation.onHandleUp(U)},onTouchStart:U=>{this.foundation.onHandleTouchStart(U,"max")},onTouchEnd:U=>{this.foundation.onHandleUp(U)},onKeyDown:U=>{this.foundation.handleKeyDown(U,"max")},onFocus:U=>{this.foundation.onFocus(U,"max")},onBlur:U=>{this.foundation.onBlur(U,"max")},role:"slider",tabIndex:_?-1:0},ee,{"aria-valuetext":v?v(z[1],1):b,"aria-valuenow":z[1],"aria-valuemax":G,"aria-valuemin":z[0]}),((i=this.props.handleDot)===null||i===void 0?void 0:i[1])&&g.createElement("div",{className:gr.HANDLE_DOT,style:Object.assign(Object.assign({},!((o=this.props.handleDot[1])===null||o===void 0)&&o.size?{width:this.props.handleDot[1].size,height:this.props.handleDot[1].size}:{}),!((a=this.props.handleDot[1])===null||a===void 0)&&a.color?{backgroundColor:this.props.handleDot[1].color}:{})})))):g.createElement(wr,{content:k.min,showArrow:this.props.showArrow,position:"top",trigger:"custom",rePosKey:T,visible:E&&(A.min||S),className:`${gr.HANDLE}-tooltip`},g.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:M,style:{[x]:`${T*100}%`,zIndex:y==="min"&&w?2:1},onMouseDown:U=>{this.foundation.onHandleDown(U,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:U=>{this.foundation.onHandleTouchStart(U,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onKeyUp:U=>{this.foundation.onHandleUp(U)},onTouchEnd:U=>{this.foundation.onHandleUp(U)},onKeyDown:U=>{this.foundation.handleKeyDown(U,"min")},onFocus:U=>{this.foundation.onFocus(U,"min")},onBlur:U=>{this.foundation.onBlur(U,"min")},role:"slider","aria-valuetext":v?v(z,0):b,tabIndex:_?-1:0},ee,{"aria-valuenow":z,"aria-valuemax":G,"aria-valuemin":K}),j&&g.createElement("div",{className:gr.HANDLE_DOT,style:Object.assign(Object.assign({},j!=null&&j.size?{width:j.size,height:j.size}:{}),j!=null&&j.color?{backgroundColor:j.color}:{})})))},this.renderTrack=()=>{const{range:r,included:s,vertical:i}=this.props,o=this.foundation.getMinAndMaxPercent(this.state.currentValue),a=o.min,l=o.max;let u=i?{height:r?`${Math.abs(l-a)*100}%`:`${a*100}%`,top:r?`${Math.min(a,l)*100}%`:0}:{width:r?`${Math.abs(l-a)*100}%`:`${a*100}%`,left:r?`${Math.min(a,l)*100}%`:0};return u=s?u:{},g.createElement("div",{className:gr.TRACK,style:u,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{const{min:r,max:s,vertical:i,marks:o}=this.props,a=i?"top":"left";return o&&Object.keys(o).length>0?g.createElement("div",{className:gr.DOTS},Object.keys(o).map(u=>{const d=this.foundation.isMarkActive(Number(u)),h=$(`${Is}-dot`,{[`${Is}-dot-active`]:this.foundation.isMarkActive(Number(u))==="active"}),f=(Number(u)-r)/(s-r),m=g.createElement("span",{key:u,onClick:this.foundation.handleWrapClick,className:h,style:{[a]:`calc(${f*100}% - 2px)`}});return d?this.props.tooltipOnMark?g.createElement(wr,{content:o[u]},m):m:null})):null},this.renderLabel=()=>{if(!this.props.showMarkLabel)return null;const{min:r,max:s,vertical:i,marks:o,verticalReverse:a}=this.props,l=i?"top":"left";return o&&Object.keys(o).length>0?g.createElement("div",{className:gr.MARKS+(i&&a?"-reverse":"")},Object.keys(o).map(d=>{const h=this.foundation.isMarkActive(Number(d)),f=(Number(d)-r)/(s-r);return h?g.createElement("span",{key:d,className:$(`${Is}-mark${i&&a?"-reverse":""}`),style:{[l]:`${f*100}%`},onClick:this.foundation.handleWrapClick},o[d]):null})):null},this._getAriaValueText=(r,s)=>{const{getAriaValueText:i}=this.props;return i?i(r,s):r};let{value:t}=this.props;t||(t=this.props.defaultValue),this.state={currentValue:t||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=g.createRef(),this.minHanleEl=g.createRef(),this.maxHanleEl=g.createRef(),this.dragging=[!1,!1],this.foundation=new QT(this.adapter),this.eventListenerSet=new Set,this.handleDownEventListenerSet=new Set}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{var t;if(this.sliderEl&&this.sliderEl.current){const r=this.sliderEl.current.getBoundingClientRect(),s=(t=this.sliderEl.current.offsetParent)===null||t===void 0?void 0:t.getBoundingClientRect(),i={x:s?r.left-s.left:this.sliderEl.current.offsetLeft,y:s?r.top-s.top:this.sliderEl.current.offsetTop};return{sliderX:i.x,sliderY:i.y,sliderWidth:r.width,sliderHeight:r.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{const t=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(t)return t.getBoundingClientRect()},getScrollParentVal:()=>{const t=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}},isEventFromHandle:t=>{const r=[this.minHanleEl,this.maxHanleEl];let s=!1;return r.forEach(i=>{if(!i)return;const o=i&&i.current,a=Ar.findDOMNode(o);a&&a.contains(t.target)&&(s=!0)}),s},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:t=>{this.setState({disabled:t})},transNewPropsToState(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F;this.setState(t,r)},notifyChange:t=>{this.props.onChange(Array.isArray(t)?[...t].sort((r,s)=>r-s):t)},setDragging:t=>{this.dragging=t},updateCurrentValue:t=>{const{currentValue:r}=this.state;t!==r&&this.setState({currentValue:t})},setOverallVars:(t,r)=>{this[t]=r},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:t=>{this.handleDownEventListenerSet.add(this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1)),this.handleDownEventListenerSet.add(this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1)),this.handleDownEventListenerSet.add(this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1))},onHandleMove:function(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4?arguments[4]:void 0;if(!e.foundation.checkAndUpdateIsInRenderTreeState())return;const{value:l}=e.props;let u=o;if(u===void 0){const h=e.foundation.transPosToValue(t,r);if(h===!1)return;u=e.foundation.outPutValue(h)}const{currentValue:d}=e.state;if(!Fe(e.foundation.outPutValue(d),u)){if(!i&&e.foundation.valueFormatIsCorrect(l))return!1;e.setState({currentValue:u},s)}},setEventDefault:t=>{t.stopPropagation(),t.preventDefault()},setStateVal:(t,r)=>{this.setState({[t]:r})},checkAndUpdateIsInRenderTreeState:()=>{const t=Qge(this.sliderEl.current);return t!==this.state.isInRenderTree&&this.setState({isInRenderTree:t}),t},onHandleEnter:t=>{this.setState({focusPos:t})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:t=>{var r,s;(s=(r=this.props).onMouseUp)===null||s===void 0||s.call(r,t),t.stopPropagation(),t.preventDefault(),Array.from(this.handleDownEventListenerSet).forEach(i=>i()),this.handleDownEventListenerSet.clear()},onHandleUpAfter:()=>{const{currentValue:t}=this.state,r=this.foundation.outPutValue(t);this.props.onAfterChange(r)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(t=>t())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e,t){const r=!Fe(this.props.value,e.value);if(this.props.disabled!==e.disabled&&this.foundation.handleDisabledChange(this.props.disabled),r){const i=this.props.value,o=this.state.currentValue;this.foundation.handleValueChange(o,i),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){const{disabled:e,currentValue:t,min:r,max:s}=this.state,i=this.props,{vertical:o,verticalReverse:a,style:l,railStyle:u,range:d,className:h}=i,f=Xge(i,["vertical","verticalReverse","style","railStyle","range","className"]),m=$(`${Is}-wrapper`,{[`${Is}-disabled`]:e,[`${gr.VERTICAL}-wrapper`]:o,[`${Is}-reverse`]:o&&a},h),b=$(`${Is}-boundary`,{[`${Is}-boundary-show`]:this.props.showBoundary&&this.state.showBoundary}),v=$({[`${Is}`]:!o,[gr.VERTICAL]:o}),_=Array.isArray(t)?[...t].sort():t,y=d?`Range: ${this._getAriaValueText(_[0],0)} to ${this._getAriaValueText(_[1],1)}`:void 0,w=g.createElement("div",Object.assign({className:m,style:l,ref:this.sliderEl,"aria-label":y,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(f)),g.createElement("div",{className:`${Is}-rail`,onClick:this.foundation.handleWrapClick,style:u}),this.renderTrack(),this.renderStepDot(),g.createElement("div",null,this.renderHandle()),this.renderLabel(),g.createElement("div",{className:b},g.createElement("span",{className:`${Is}-boundary-min`},r),g.createElement("span",{className:`${Is}-boundary-max`},s)));return o?w:g.createElement("div",{className:v},w)}_addEventListener(e,t,r){if(e.addEventListener){for(var s=arguments.length,i=new Array(s>3?s-3:0),o=3;o<s;o++)i[o-3]=arguments[o];e.addEventListener(t,r,...i);const a=()=>{e==null||e.removeEventListener(t,r),Promise.resolve().then(()=>{this.eventListenerSet.delete(a)})};return this.eventListenerSet.add(a),a}else return F}}ZT.propTypes={defaultValue:c.oneOfType([c.number,c.array]),disabled:c.bool,showMarkLabel:c.bool,included:c.bool,marks:c.object,max:c.number,min:c.number,range:c.bool,step:c.number,tipFormatter:c.func,value:c.oneOfType([c.number,c.array]),vertical:c.bool,onAfterChange:c.func,onChange:c.func,onMouseUp:c.func,tooltipOnMark:c.bool,tooltipVisible:c.bool,showArrow:c.bool,style:c.object,className:c.string,showBoundary:c.bool,railStyle:c.object,verticalReverse:c.bool,getAriaValueText:c.func,handleDot:c.oneOfType([c.shape({size:c.string,color:c.string}),c.arrayOf(c.shape({size:c.string,color:c.string}))])};ZT.defaultProps={disabled:!1,showMarkLabel:!0,tooltipOnMark:!1,included:!0,max:100,min:0,range:!1,showArrow:!0,step:1,tipFormatter:n=>n,vertical:!1,showBoundary:!1,onAfterChange:n=>{},onChange:n=>{},verticalReverse:!1};class Zge extends ke{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:r}=t;try{r.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{Kt(!0,"Warning: [Semi Switch] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{disabled:e}=this.getProps();this.setDisabled(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}setDisabled(e){this._adapter.setNativeControlDisabled(e)}handleChange(e,t){typeof this.getProps().checked<"u"?this._adapter.notifyChange(e,t):(this._adapter.setNativeControlChecked(e),this._adapter.notifyChange(e,t))}destroy(){}}const Ps={PREFIX:`${W}-switch`,FOCUS:`${W}-switch-focus`,LARGE:`${W}-switch-large`,SMALL:`${W}-switch-small`,CHECKED:`${W}-switch-checked`,DISABLED:`${W}-switch-disabled`,ACTIVE:`${W}-switch-active`,KNOB:`${W}-switch-knob`,NATIVE_CONTROL:`${W}-switch-native-control`,CHECKED_TEXT:`${W}-switch-checked-text`,UNCHECKED_TEXT:`${W}-switch-unchecked-text`,LOADING_SPIN:`${W}-switch-loading-spin`,LOADING:`${W}-switch-loading`},Jge={SIZE_MAP:["default","small","large"]};var eme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class JT extends xe{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={nativeControlChecked:e.defaultChecked||e.checked,nativeControlDisabled:!1,focusVisible:!1},this.switchRef=g.createRef(),this.foundation=new Zge(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){this.props.checked!==e.checked&&this.foundation.setChecked(this.props.checked),this.props.disabled!==e.disabled&&this.foundation.setDisabled(this.props.disabled)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({nativeControlChecked:e})},setNativeControlDisabled:e=>{this.setState({nativeControlDisabled:e})},setFocusVisible:e=>{this.setState({focusVisible:e})},notifyChange:(e,t)=>{this.props.onChange(e,t)}})}render(){const{nativeControlChecked:e,nativeControlDisabled:t,focusVisible:r}=this.state,s=this.props,{className:i,style:o,onMouseEnter:a,onMouseLeave:l,size:u,checkedText:d,uncheckedText:h,loading:f,id:m}=s,b=eme(s,["className","style","onMouseEnter","onMouseLeave","size","checkedText","uncheckedText","loading","id"]),v=$(i,{[Ps.PREFIX]:!0,[Ps.CHECKED]:e,[Ps.DISABLED]:t,[Ps.LARGE]:u==="large",[Ps.SMALL]:u==="small",[Ps.LOADING]:f,[Ps.FOCUS]:r}),_={type:"checkbox",className:Ps.NATIVE_CONTROL,disabled:t||f,checked:e||!1},y=d&&e&&u!=="small",w=h&&!e&&u!=="small";return g.createElement("div",Object.assign({className:v,style:o,onMouseEnter:a,onMouseLeave:l},this.getDataAttr(b)),f?g.createElement(Zi,{wrapperClassName:Ps.LOADING_SPIN,size:u==="default"?"middle":u}):g.createElement("div",{className:Ps.KNOB,"aria-hidden":!0}),y?g.createElement("div",{className:Ps.CHECKED_TEXT,"x-semi-prop":"checkedText"},d):null,w?g.createElement("div",{className:Ps.UNCHECKED_TEXT,"x-semi-prop":"uncheckedText"},h):null,g.createElement("input",Object.assign({},_,{ref:this.switchRef,id:m,role:"switch","aria-checked":e,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-disabled":this.props.disabled,onChange:E=>this.foundation.handleChange(E.target.checked,E),onFocus:E=>this.handleFocusVisible(E),onBlur:E=>this.handleBlur(E)})))}}JT.propTypes={"aria-label":c.string,"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,className:c.string,checked:c.bool,checkedText:c.node,defaultChecked:c.bool,disabled:c.bool,loading:c.bool,onChange:c.func,onMouseEnter:c.func,onMouseLeave:c.func,style:c.object,size:c.oneOf(Jge.SIZE_MAP),uncheckedText:c.node,id:c.string};JT.defaultProps={disabled:!1,className:"",onChange:F,loading:!1,onMouseEnter:F,onMouseLeave:F,size:"default"};var tme="\\ud800-\\udfff",nme="\\u0300-\\u036f",rme="\\ufe20-\\ufe2f",sme="\\u20d0-\\u20ff",ime=nme+rme+sme,ome="\\ufe0e\\ufe0f",ame="\\u200d",lme=RegExp("["+ame+tme+ime+ome+"]");function ume(n){return lme.test(n)}var nj=ume,cme=qC;function dme(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:cme(n,e,t)}var hme=dme,fme=bi,pme=Qr,gme="[object RegExp]";function mme(n){return pme(n)&&fme(n)==gme}var yme=mme,vme=yme,_me=ld,YR=qf,qR=YR&&YR.isRegExp,bme=qR?_me(qR):vme,wme=bme;function Eme(n){return n.split("")}var Sme=Eme,rj="\\ud800-\\udfff",Cme="\\u0300-\\u036f",Tme="\\ufe20-\\ufe2f",Ome="\\u20d0-\\u20ff",Ime=Cme+Tme+Ome,Pme="\\ufe0e\\ufe0f",xme="["+rj+"]",GE="["+Ime+"]",YE="\\ud83c[\\udffb-\\udfff]",Rme="(?:"+GE+"|"+YE+")",sj="[^"+rj+"]",ij="(?:\\ud83c[\\udde6-\\uddff]){2}",oj="[\\ud800-\\udbff][\\udc00-\\udfff]",Ame="\\u200d",aj=Rme+"?",lj="["+Pme+"]?",Dme="(?:"+Ame+"(?:"+[sj,ij,oj].join("|")+")"+lj+aj+")*",kme=lj+aj+Dme,Nme="(?:"+[sj+GE+"?",GE,ij,oj,xme].join("|")+")",Lme=RegExp(YE+"(?="+YE+")|"+Nme+kme,"g");function Mme(n){return n.match(Lme)||[]}var $me=Mme,Fme=Sme,jme=nj,Vme=$me;function Ume(n){return jme(n)?Vme(n):Fme(n)}var Bme=Ume,Hme=pM,zme=hme,Kme=nj,Wme=WC,Gme=wme,Yme=Bme,qme=vv,Xme=4294967295;function Qme(n,e,t){return t&&typeof t!="number"&&Wme(n,e,t)&&(e=t=void 0),t=t===void 0?Xme:t>>>0,t?(n=qme(n),n&&(typeof e=="string"||e!=null&&!Gme(e))&&(e=Hme(e),!e&&Kme(n))?zme(Yme(n),0,t):n.split(e,t)):[]}var Zme=Qme;const qb=Ce(Zme),Sg=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gn.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lT;if(n instanceof Date)return n;if(typeof n=="number")return new Date(Ls(n));if(typeof n=="string"){if(n==="")return;let r=new Date;return r=$$(n,e,r,{locale:t}),r}else if(typeof n>"u")return;return new Date},Cg=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gn.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lT;return at(n,e,{locale:t})},Jme=(n,e)=>{if(typeof n=="function"){const t=n();if(Array.isArray(t)&&!bt(e)&&t.some(r=>Ls(r)===Ls(e)))return!0}return!1},eye=(n,e,t)=>{if(typeof n=="function"){const r=n(e);if(Array.isArray(r)&&!bt(e)&&!bt(t)&&r.some(s=>Ls(s)===Ls(t)))return!0}return!1},tye=(n,e,t,r)=>{if(typeof n=="function"){const s=n(e,t);if(Array.isArray(s)&&!bt(e)&&!bt(t)&&!bt(r)&&s.some(i=>Ls(i)===Ls(r)))return!0}return!1},Xb=n=>Array.isArray(n)?[...n]:[],nye=(n,e)=>{let t=!0;const r="BDEGHKLMOPQRSTXYabcehimopqstuwxyz",s=new RegExp(`[${r}]`,"g"),i=new RegExp(`[^${r}]`,"g"),o=/[H|m|s]{1,2}/,a=e.split(i),l=e.replace(s,""),u=new RegExp(`[${l}]`,"g"),d=n.split(u);if(a.length!==d.length)t=!1;else for(let h=0,f=d.length;h<f;h++){const m=a[h],b=d[h];if(o.test(m)&&b.length<m.length){t=!1;break}}return t};let rye=class extends ke{constructor(e){super(Object.assign({},e))}init(){this.initDataFromDefaultValue(),(this._isControlledComponent("open")?this.getProp("open"):this.getProp("defaultOpen"))&&!this._isControlledComponent("open")&&this._adapter.registerClickOutSide()}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||gn.DEFAULT_TYPE,s=this.getContext("direction")==="rtl"?"bottomRight":"";return e||s||gn.DEFAULT_POSITION[t]}isDisabledHMS(e){let{hours:t,minutes:r,seconds:s}=e;const{disabledHours:i,disabledMinutes:o,disabledSeconds:a}=this.getProps(),l=!bt(t)&&Jme(i,t),u=!bt(t)&&!bt(r)&&eye(o,t,r),d=!bt(t)&&!bt(r)&&!bt(s)&&tye(a,t,r,s);return l||u||d}isValidTimeZone(e){return["string","number"].includes(typeof e)&&e!==""}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?gn.DEFAULT_FORMAT_A:gn.DEFAULT_FORMAT}initDataFromDefaultValue(){const e=this.getProp("defaultValue");let t=this.getProp("value");const r=this.getProp("timeZone"),s=this.getValidFormat(),{rangeSeparator:i,dateFnsLocale:o}=this.getProps();t=t||e,Array.isArray(t)||(t=t?[t]:[]);const a=[];let l=!1;t.forEach(h=>{const f=Sg(h,s,o);isNaN(f.getTime())||a.push(this.isValidTimeZone(r)?HE(f,r):f)});const u=[!0,!1];a.map((h,f)=>{u[f]=Jte(h)<12}),a.length===t.length?t=a:(t=[],t.length&&(l=!0));let d="";l||(d=t.map(h=>Cg(h,s,o)).join(i)),this.setState({isAM:u,value:t,inputValue:d,invalid:l})}getValidFormat(e){let t=e;return bt(t)&&(t=this.getDefaultFormatIfNeed()),typeof t!="string"&&(t=gn.DEFAULT_FORMAT),t}handlePanelChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.getValidFormat(),s=this.getProp("dateFnsLocale"),i=this.getState("value");let o=this.getState("isAM");const a=Xb(i);if(o=Xb(o),e){const l=!!e.isAM,u=Sg(e.timeStampValue,r,s);a[t]=u,o[t]=l;const d=this.formatValue(a);if(this.getState("isAM")[t]!==e.isAM&&this.setState({isAM:o}),!this._isControlledComponent("value")){const h=this.validateDates(a);this.setState({isAM:o,value:a,inputValue:d,invalid:h})}this._hasChanged(a,i)&&this._notifyChange(a,d)}}refreshProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{value:t,timeZone:r,__prevTimeZone:s}=e;let i=this.parseValue(t),o=i.some(l=>isNaN(Number(l)));o||(this.isValidTimeZone(r)&&(i=i.map(l=>HE(this.isValidTimeZone(s)?yc(l,s):l,r))),o=i.some(l=>this.isDisabledHMS({hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds()})));const a=this.formatValue(i);this.setState({value:i,invalid:o,inputValue:a})}handleFocus(e){this.getState("open")||this.handlePanelOpen(),this._adapter.notifyFocus(e)}setPanel(e){this._adapter.togglePanel(e)}destroy(){this._adapter.unregisterClickOutSide()}handlePanelOpen(){this._isControlledComponent("open")||(this._adapter.registerClickOutSide(),this.setPanel(!0)),this._adapter.notifyOpenChange(!0)}handlePanelClose(e,t){this._isControlledComponent("open")||(this._adapter.unregisterClickOutSide(),this.setPanel(!1)),this._adapter.notifyOpenChange(!1),this._adapter.notifyBlur(t)}handleVisibleChange(e){this._isControlledComponent("open")||this._adapter.togglePanel(e),this._adapter.notifyOpenChange(e)}handleInputChange(e){this._adapter.setInputValue(e);const t=this.getProp("rangeSeparator"),r=qb(e,t),s=this.getValidFormat();if(e!==""&&r.some(d=>!nye(d,s)))return;const i=this.parseInput(e),o=this.validateDates(i),a={invalid:o},l=this.getState("value");let u=Xb(l);o||(a.value=i,u=[...i]),this._isControlledComponent("value")||this.setState(a),this._hasChanged(u,l)&&this._notifyChange(u,e)}doValidate(e){if(typeof e=="string")return this.validateStr(e);if(Array.isArray(e))return this.validateDates(e)}validateStr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=this.parseInput(e);return this.validateDates(t)}validateDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=e.some(r=>isNaN(Number(r)));return t||(t=e.some(r=>this.isDisabledHMS({hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds()}))),t}handleInputBlur(e){const t=this.getState("invalid"),r=this.getState("inputValue"),s=this.getState("value");r?t?this.setState({inputValue:this.formatValue(s),invalid:!1}):this.setState({inputValue:this.formatValue(s)}):this.setState({inputValue:"",value:[],invalid:!1})}formatValue(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");let i=e;if(i&&!Array.isArray(i)&&(i=i[i]),i&&Array.isArray(i))return i.map(a=>{let l;return wt(a)?l="":l=Cg(a,t,s),l}).join(r)}parseInput(e){const t=this.getValidFormat(),r=this.getProp("rangeSeparator"),s=this.getProp("dateFnsLocale");return e&&typeof e=="string"?qb(e,r).map(i=>Sg(i,t,s)):[]}parseValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getValidFormat(),r=this.getProp("dateFnsLocale");let s=e;return Array.isArray(s)||(s=s?[s]:[]),Array.isArray(s)?s.map(i=>Sg(i,t,r)):[]}_notifyChange(e,t){let r=t,s=e;const i=this.getProp("timeZone");if(this._adapter.isRangePicker()){const a=this.getProp("rangeSeparator");r=qb(t,a)}else s=Array.isArray(s)?s[0]:s;if(this.isValidTimeZone(i)&&s){const a=this.getValidFormat();Array.isArray(s)?(s=s.map(l=>yc(l,i)),r=s.map(l=>at(l,a))):(s=yc(s,i),r=at(s,a))}this.getProp("onChangeWithDateFirst")?this._adapter.notifyChange(s,r):this._adapter.notifyChange(r,s)}_hasChanged(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=this.getValidFormat(),s=this.getProp("dateFnsLocale");return e.length!==t.length||e.some((i,o)=>{const a=t[o];return!(Ms(i)&&Ms(a)&&Cg(i,r,s)===Cg(a,r,s))})}};class sye extends ke{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleFocus(e){this.storeCursor(),this._adapter.notifyFocus(e)}handleChange(e){this.storeCursor(),this._adapter.notifyChange(e)}handleBlur(e){this.clearCursor(),this._adapter.notifyBlur(e)}storeCursor(){const e=this.getCache("inputNode");if(e){const{selectionStart:t}=e;this.setCache("cursorIndex",t)}}restoreCursor(){const e=this.getCache("inputNode"),t=this.getCache("cursorIndex");e&&!bt(t)&&(e.selectionStart=t,e.selectionEnd=t)}clearCursor(){this.setCache("cursorIndex",null),this.setCache("beforeStr",null),this.setCache("afterStr",null)}}var iye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class e1 extends xe{constructor(e){super(e),this.setRef=t=>this.adapter.setCache("inputNode",t),this.handleClick=t=>this.props.onClick(t),this.handleFocus=t=>this.foundation.handleFocus(t),this.handleBlur=t=>this.foundation.handleBlur(t),this.handleChange=t=>this.foundation.handleChange(t),this.foundation=new sye(this.adapter),this.state={}}componentDidMount(){super.componentDidMount();const{focusOnOpen:e,preventScroll:t}=this.props;e&&(window.requestAnimationFrame||window.setTimeout)(()=>{const s=this.adapter.getCache("inputNode");s&&(s.focus({preventScroll:t}),s.select())})}componentDidUpdate(e){const{timeStampValue:t}=this.props;this.isControlled("timeStampValue")&&t!==this.state.timeStampValue&&this.foundation.restoreCursor(),this.props.value!==e.value&&this.foundation.restoreCursor()}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyChange:function(){return e.props.onChange(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)}})}getInput(){const e=this.props,{prefixCls:t,placeholder:r,inputReadOnly:s,onFocus:i,disabled:o,type:a,locale:l,localeCode:u,insetLabel:d,validateStatus:h,value:f,onChange:m,invalid:b,format:v,clearText:_,disabledHours:y,disabledMinutes:w,disabledSeconds:E,onEsc:S,defaultOpenValue:I,currentSelectPanel:x,focusOnOpen:O,timeStampValue:T,timeZone:P,defaultOpen:A,dateFnsLocale:k}=e,M=iye(e,["prefixCls","placeholder","inputReadOnly","onFocus","disabled","type","locale","localeCode","insetLabel","validateStatus","value","onChange","invalid","format","clearText","disabledHours","disabledMinutes","disabledSeconds","onEsc","defaultOpenValue","currentSelectPanel","focusOnOpen","timeStampValue","timeZone","defaultOpen","dateFnsLocale"]),N=$(`${t}-input`,{[`${t}-input-invalid`]:b,[`${t}-input-readonly`]:s}),K=b?"error":h;return g.createElement(Kn,Object.assign({},M,{hideSuffix:!0,className:N,ref:this.setRef,value:f,placeholder:r||l.placeholder[a],readonly:!!s,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,suffix:g.createElement(z$,{onClick:this.handleClick}),validateStatus:K,disabled:o,insetLabel:d}))}render(){const{prefixCls:e}=this.props;return g.createElement("div",{className:`${e}-input-wrap`},this.getInput())}}e1.propTypes={borderless:c.bool,format:c.string,prefixCls:c.string,placeholder:c.string,clearText:c.string,inputReadOnly:c.bool,hourOptions:c.array,minuteOptions:c.array,secondOptions:c.array,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,onChange:c.func,onFocus:c.func,onBlur:c.func,onEsc:c.func,onClick:c.func,defaultOpenValue:c.object,currentSelectPanel:c.string,focusOnOpen:c.bool,timeStampValue:c.any,locale:c.object,localeCode:c.string,insetLabel:c.node,validateStatus:c.string,preventScroll:c.bool};e1.defaultProps={borderless:!1,inputReadOnly:!1,onChange:F,onBlur:F,onFocus:F,onClick:F,disabledHours:F,disabledMinutes:F,disabledSeconds:F,format:gn.DEFAULT_FORMAT};const XR={panelHeader:c.oneOfType([c.node,c.string]),panelFooter:c.oneOfType([c.node,c.string])},oye={},aye=[c.string,c.number,c.instanceOf(Date)],QR=c.oneOfType([...aye,c.arrayOf(c.string),c.arrayOf(c.number),c.arrayOf(c.instanceOf(Date))]);var lye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class yd extends xe{constructor(e){var t;super(e),t=this,this.onCurrentSelectPanelChange=s=>{this.setState({currentSelectPanel:s})},this.handlePanelChange=(s,i)=>this.foundation.handlePanelChange(s,i),this.handleInput=s=>this.foundation.handleInputChange(s),this.createPanelProps=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const{panels:i,panelFooter:o,panelHeader:a,locale:l}=t.props,u={panelHeader:a,panelFooter:o};if(t.adapter.isRangePicker()){const d={0:l.begin,1:l.end};u.panelHeader=Q(i,s,bt(a)?Q(d,s,null):Array.isArray(a)?a[s]:a),u.panelFooter=Q(i,s,Array.isArray(o)?o[s]:o)}return u},this.handlePanelVisibleChange=s=>this.foundation.handleVisibleChange(s),this.openPanel=()=>{this.foundation.handlePanelOpen()},this.handleFocus=s=>{this.foundation.handleFocus(s)},this.handleBlur=s=>this.foundation.handleInputBlur(s),this.setTimePickerRef=s=>this.timePickerRef.current=s;const{format:r=gn.DEFAULT_FORMAT}=e;this.state={open:e.open||e.defaultOpen||!1,value:[],inputValue:"",currentSelectPanel:0,isAM:[!0,!1],showHour:!!r.match(/HH|hh|H|h/g),showMinute:!!r.match(/mm/g),showSecond:!!r.match(/ss/g),invalid:void 0},this.foundation=new rye(this.adapter),this.timePickerRef=g.createRef(),this.savePanelRef=g.createRef(),this.useCustomTrigger=typeof this.props.triggerRender=="function"}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:t=>{this.setState({open:t})},registerClickOutSide:()=>{this.clickOutSideHandler&&this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=t=>{const r=this.savePanelRef&&this.savePanelRef.current,s=this.timePickerRef&&this.timePickerRef.current,i=t.target,o=t.composedPath&&t.composedPath()||[i];!(r&&r.contains(i))&&!(s&&s.contains(i))&&!(o.includes(s)||o.includes(r))&&this.foundation.handlePanelClose(!0,t)},document.addEventListener("mousedown",this.clickOutSideHandler)},setInputValue:(t,r)=>this.setState({inputValue:t},r),unregisterClickOutSide:()=>{this.clickOutSideHandler&&(document.removeEventListener("mousedown",this.clickOutSideHandler),this.clickOutSideHandler=null)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyChange:(t,r)=>this.props.onChange&&this.props.onChange(t,r),notifyFocus:function(){return e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur&&e.props.onBlur(...arguments)},isRangePicker:()=>this.props.type===gn.TYPE_TIME_RANGE_PICKER})}static getDerivedStateFromProps(e,t){return"open"in e&&e.open!==t.open?{open:e.open}:null}componentDidUpdate(e){this.isControlled("value")&&this.props.value!==e.value?this.foundation.refreshProps(Object.assign({},this.props)):this.props.timeZone!==e.timeZone&&this.foundation.refreshProps({timeZone:this.props.timeZone,__prevTimeZone:e.timeZone,value:this.state.value})}getPanelElement(){const{prefixCls:e,type:t}=this.props,{isAM:r,value:s}=this.state,i=this.foundation.getDefaultFormatIfNeed(),o=[g.createElement(gf,Object.assign({},this.props,{key:0,format:i,isAM:r[0],timeStampValue:s[0],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,0),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(0)))];t===gn.TYPE_TIME_RANGE_PICKER&&o.push(g.createElement(gf,Object.assign({},this.props,{key:1,format:i,isAM:r[1],timeStampValue:s[1],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,1),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(1))));const a=$({[KE.RANGE_PANEL_LISTS]:this.adapter.isRangePicker()});return g.createElement("div",{ref:this.savePanelRef,className:a},o.map(l=>l))}getPopupClassName(){const{use12Hours:e,prefixCls:t,popupClassName:r}=this.props,{showHour:s,showMinute:i,showSecond:o}=this.state;let a=0;return s&&(a+=1),i&&(a+=1),o&&(a+=1),e&&(a+=1),$(`${t}-panel`,r,{[`${t}-panel-narrow`]:(!s||!i||!o)&&!e,[KE.RANGE_PICKER]:this.adapter.isRangePicker()},`${t}-panel-column-${a}`)}focus(){}blur(){}render(){const e=this.props,{prefixCls:t,placeholder:r,disabled:s,defaultValue:i,dropdownMargin:o,className:a,popupStyle:l,size:u,style:d,locale:h,localeCode:f,zIndex:m,getPopupContainer:b,insetLabel:v,insetLabelId:_,inputStyle:y,showClear:w,panelHeader:E,panelFooter:S,rangeSeparator:I,onOpenChange:x,onChangeWithDateFirst:O,popupClassName:T,hideDisabledOptions:P,use12Hours:A,minuteStep:k,hourStep:M,secondStep:N,scrollItemProps:K,triggerRender:G,motion:z,autoAdjustOverflow:ee,stopPropagation:j}=e,H=lye(e,["prefixCls","placeholder","disabled","defaultValue","dropdownMargin","className","popupStyle","size","style","locale","localeCode","zIndex","getPopupContainer","insetLabel","insetLabelId","inputStyle","showClear","panelHeader","panelFooter","rangeSeparator","onOpenChange","onChangeWithDateFirst","popupClassName","hideDisabledOptions","use12Hours","minuteStep","hourStep","secondStep","scrollItemProps","triggerRender","motion","autoAdjustOverflow","stopPropagation"]),U=this.foundation.getDefaultFormatIfNeed(),oe=this.foundation.getPosition(),{open:ne,inputValue:re,invalid:de,value:be}=this.state,ye=this.getPopupClassName(),ge=$({[`${t}-header`]:!0}),pe=$({[`${t}-panel`]:!0,[`${t}-panel-${u}`]:u}),te=Object.assign(Object.assign({},H),{disabled:s,prefixCls:t,size:u,showClear:s?!1:w,style:y,value:re,onFocus:this.handleFocus,insetLabel:v,insetLabelId:_,format:U,locale:h,localeCode:f,invalid:de,placeholder:r,onChange:this.handleInput,onBlur:this.handleBlur}),le={};return this.useCustomTrigger&&(le.onClick=this.openPanel),g.createElement("div",Object.assign({ref:this.setTimePickerRef,className:$({[t]:!0},a),style:d},le),g.createElement(Sr,{getPopupContainer:b,zIndex:m,prefixCls:pe,contentClassName:ye,style:l,content:this.getPanelElement(),trigger:"custom",position:oe,visible:s?!1:!!ne,motion:z,margin:o,autoAdjustOverflow:ee,stopPropagation:j},this.useCustomTrigger?g.createElement(pu,{triggerRender:G,disabled:s,value:be,inputValue:re,onChange:this.handleInput,placeholder:r,componentName:"TimePicker",componentProps:Object.assign({},this.props)}):g.createElement("span",{className:ge},g.createElement(e1,Object.assign({},te)))))}}yd.contextType=Lr;yd.propTypes=Object.assign(Object.assign({"aria-labelledby":c.string,"aria-invalid":c.bool,"aria-errormessage":c.string,"aria-describedby":c.string,"aria-required":c.bool,prefixCls:c.string,borderless:c.bool,clearText:c.string,clearIcon:c.node,value:QR,inputReadOnly:c.bool,disabled:c.bool,showClear:c.bool,defaultValue:QR,open:c.bool,defaultOpen:c.bool,onOpenChange:c.func,position:c.any,getPopupContainer:c.func,placeholder:c.string,format:c.string,style:c.object,className:c.string,popupClassName:c.string,popupStyle:c.object,disabledHours:c.func,disabledMinutes:c.func,disabledSeconds:c.func,dropdownMargin:c.oneOfType([c.number,c.object]),hideDisabledOptions:c.bool,onChange:c.func,use12Hours:c.bool,hourStep:c.number,minuteStep:c.number,secondStep:c.number,focusOnOpen:c.bool,autoFocus:c.bool,size:c.oneOf(gn.SIZE),stopPropagation:c.bool,panels:c.arrayOf(c.shape(XR)),onFocus:c.func,onBlur:c.func,locale:c.object,localeCode:c.string,dateFnsLocale:c.object,zIndex:c.oneOfType([c.number,c.string]),insetLabel:c.node,insetLabelId:c.string,validateStatus:c.oneOf(gn.STATUS),type:c.oneOf(gn.TYPES),rangeSeparator:c.string,triggerRender:c.func,timeZone:c.oneOfType([c.string,c.number]),scrollItemProps:c.object,motion:c.oneOfType([c.bool,c.func,c.object]),autoAdjustOverflow:c.bool},XR),{inputStyle:c.object,preventScroll:c.bool});yd.defaultProps=Object.assign({autoAdjustOverflow:!0,borderless:!1,getPopupContainer:()=>document.body,showClear:!0,zIndex:gs.DEFAULT_Z_INDEX,rangeSeparator:gn.DEFAULT_RANGE_SEPARATOR,onOpenChange:F,clearText:"clear",prefixCls:KE.PREFIX,inputReadOnly:!1,style:{},stopPropagation:!0,className:"",popupClassName:"",popupStyle:{left:"0px",top:"0px"},disabledHours:()=>[],disabledMinutes:()=>[],disabledSeconds:()=>[],hideDisabledOptions:!1,onFocus:F,onBlur:F,onChange:F,onChangeWithDateFirst:!0,use12Hours:!1,focusOnOpen:!1,onKeyDown:F,size:"default",type:gn.DEFAULT_TYPE,motion:!0},oye);class bf extends g.PureComponent{render(){const{type:e}=this.props;return g.createElement(Lr.Consumer,null,t=>{let{timeZone:r}=t;return g.createElement(On,{componentName:"TimePicker"},(s,i,o)=>g.createElement(yd,Object.assign({timeZone:r,placeholder:Q(s,["placeholder",e])},this.props,{locale:s,localeCode:i,dateFnsLocale:o})))})}}bf.propTypes=yd.propTypes;bf.__SemiComponentName__="TimePicker";bf.defaultProps=bs(bf.__SemiComponentName__,yd.defaultProps);class t1 extends ke{constructor(e){super(Object.assign(Object.assign({},t1.defaultAdapter),e)),this.handleMouseInSideChange=t=>{this._adapter.handleMouseInSideChange(t)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map(r=>{let{id:s}=r;return s}).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let r=this._adapter.getState("list");r=r.map(i=>i.id===e?Object.assign(Object.assign({},i),t):i);const s=r.filter(i=>i.id===e);this._adapter.updateToast(r,[],s)}removeToast(e){let t=this._adapter.getState("list");const r=[];t=t.filter(s=>s.id===e?(r.push(s),!1):!0),this._adapter.updateToast(t,r,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const Qb=`${W}-toast`,$u={PREFIX:Qb,WRAPPER:`${Qb}-wrapper`,LIST:`${Qb}-list`},Ph={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]},uye={duration:3};class n1 extends ke{constructor(e){super(Object.assign(Object.assign({},n1.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&Zt(e)&&(this._timer=setTimeout(()=>{this.close()},e*1e3))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}const Js=$u.PREFIX;let ql=class extends xe{constructor(e){super(e),this.toastEle=g.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new n1(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:e,icon:t}=this.props,s={warning:g.createElement(uT,null),success:g.createElement(G$,null),info:g.createElement(K$,null),error:g.createElement(lf,null)}[e],i="large",o=$(`${Js}-icon`,`${Js}-icon-${e}`);return t?_r(t)?g.cloneElement(t,{size:i,className:`${Js}-icon`}):t:e&&s?g.cloneElement(s,{size:i,className:o}):null}render(){const{content:e,type:t,theme:r,showClose:s,textMaxWidth:i,className:o,style:a}=this.props,l=this.props.direction||this.context.direction,u=$(Js,o,{[`${Js}-${t}`]:!0,[`${Js}-${r}`]:r==="light",[`${Js}-rtl`]:l==="rtl"}),d={};d.maxWidth=i;const h="borderless",f="small",m=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,b=g.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:u,style:Object.assign(Object.assign({},a),{transform:`translate3d(0,0,${m*-10}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},g.createElement("div",{className:`${Js}-content`},this.renderIcon(),g.createElement("span",{className:`${Js}-content-text`,style:d,"x-semi-prop":"content"},e),s&&g.createElement("div",{className:`${Js}-close-button`},g.createElement(Us,{onClick:v=>this.close(v),type:"tertiary",icon:g.createElement(Iv,{"x-semi-prop":"icon"}),theme:h,size:f}))));if(this.props.stack){const v=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return g.createElement("div",{className:`${Js}-zero-height-wrapper`,style:{height:v}},b)}else return b}};ql.contextType=Lr;ql.propTypes={onClose:c.func,content:c.node,close:c.func,duration:c.number,theme:c.oneOf(Ph.themes),type:c.oneOf(Ph.types),textMaxWidth:c.oneOfType([c.string,c.number]),style:c.object,className:c.string,showClose:c.bool,stack:c.bool,stackExpanded:c.bool,icon:c.node,direction:c.oneOf(Ph.directions)};ql.__SemiComponentName__="Toast";ql.defaultProps=bs(ql.__SemiComponentName__,{onClose:F,content:"",close:F,duration:uye.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var cye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const dye=(n,e)=>{var{afterClose:t}=n,r=cye(n,["afterClose"]);const[s,i]=D.useState(!0),o=()=>{i(!1)};return g.useImperativeHandle(e,()=>({close:()=>{i(!1)}})),D.useEffect(()=>{s||t(r.id)},[s]),s?g.createElement(ql,Object.assign({},r,{close:o})):null},hye=g.forwardRef(dye),Gd={motion:!0,zIndex:1010,duration:3};function fye(){const[n,e]=g.useState([]);function t(r,s){return e(i=>[{element:r,config:s},...i]),i=>{e(o=>o.filter(a=>{let{config:l}=a;return l.id!==i}))}}return[n,t]}function pye(){const[n,e]=fye(),t=D.useRef(new Map),r=i=>{const o=ey("semi_toast_"),a=Object.assign(Object.assign({},i),{id:o});let l;const u=g.createElement(hye,Object.assign({},a,{key:o,afterClose:d=>l(d),ref:d=>{var h;t.current.set(o,{close:(h=d==null?void 0:d.close)!==null&&h!==void 0?h:F})}}));return l=e(u,Object.assign({},a)),o},s=i=>{var o;const{close:a}=(o=t.current.get(i))!==null&&o!==void 0?o:{};a==null||a()};return[{success:i=>r(Object.assign(Object.assign(Object.assign({},Gd),i),{type:"success"})),info:i=>r(Object.assign(Object.assign(Object.assign({},Gd),i),{type:"info"})),error:i=>r(Object.assign(Object.assign(Object.assign({},Gd),i),{type:"error"})),warning:i=>r(Object.assign(Object.assign(Object.assign({},Gd),i),{type:"warning"})),open:i=>r(Object.assign(Object.assign(Object.assign({},Gd),i),{type:"default"})),close:i=>s(i)},g.createElement(g.Fragment,null,Array.isArray(n)&&n.length?g.createElement(g.Fragment,null,n.map(i=>i.element)):null)]}const gye=()=>{var n;return n=class pt extends xe{constructor(t){super(t),this.stack=!1,this.innerWrapperRef=g.createRef(),this.handleMouseEnter=r=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=r=>{var s;this.stack&&(!((s=this.foundation.getInputWrapperRect())===null||s===void 0)&&s.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new t1(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(t,r,s)=>{this.setState({list:t,removedItems:r,updatedItems:s})},handleMouseInSideChange:t=>{this.setState({mouseInSide:t})},getInputWrapperRect:()=>{var t;return(t=this.innerWrapperRef.current)===null||t===void 0?void 0:t.getBoundingClientRect()}})}static create(t){var r;const s=(r=t.id)!==null&&r!==void 0?r:ey("toast");if(pt.ref){const i=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(o=>{o in t&&(i.style[o]=typeof t[o]=="number"?`${t[o]}px`:t[o])}),!!t.stack!==pt.ref.stack&&(pt.ref.stack=!!t.stack),pt.ref.has(s)?pt.ref.update(s,Object.assign(Object.assign({},t),{id:s})):pt.ref.add(Object.assign(Object.assign({},t),{id:s}))}else{const i=document.createElement("div");this.wrapperId||(this.wrapperId=ey("toast-wrapper").slice(0,26)),i.className=$u.WRAPPER,i.id=this.wrapperId,i.style.zIndex=String(typeof t.zIndex=="number"?t.zIndex:pt.defaultOpts.zIndex),["top","left","bottom","right"].map(o=>{if(o in pt.defaultOpts||o in t){const a=t[o]?t[o]:pt.defaultOpts[o];i.style[o]=typeof a=="number"?`${a}px`:a}}),pt.defaultOpts.getPopupContainer?pt.defaultOpts.getPopupContainer().appendChild(i):document.body.appendChild(i),Ar.render(g.createElement(pt,{ref:o=>pt.ref=o}),i,()=>{pt.ref.add(Object.assign(Object.assign({},t),{id:s})),pt.ref.stack=!!t.stack})}return s}static close(t){pt.ref&&pt.ref.remove(t)}static destroyAll(){if(pt.ref){pt.ref.destroyAll();const t=document.querySelector(`#${this.wrapperId}`);Ar.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),pt.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},pt.defaultOpts),t),{type:"info"}))}static warning(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},pt.defaultOpts),t),{type:"warning"}))}static error(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},pt.defaultOpts),t),{type:"error"}))}static success(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},pt.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach(r=>{r in t&&(pt.defaultOpts[r]=t[r])}),typeof t.theme=="string"&&Ph.themes.includes(t.theme)&&(pt.defaultOpts.theme=t.theme),typeof t.zIndex=="number"&&(pt.defaultOpts.zIndex=t.zIndex),typeof t.duration=="number"&&(pt.defaultOpts.duration=t.duration),typeof t.getPopupContainer=="function"&&(pt.defaultOpts.getPopupContainer=t.getPopupContainer)}has(t){return this.foundation.hasToast(t)}add(t){return this.foundation.addToast(t)}update(t,r){return this.foundation.updateToast(t,r)}remove(t){return this.foundation.removeToast(t)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:t}=this.state;const{removedItems:r,updatedItems:s}=this.state;t=Array.from(new Set([...t,...r]));const i=s.map(a=>{let{id:l}=a;return l}),o=a=>{var l;!((l=a==null?void 0:a.foundation)===null||l===void 0)&&l._id&&i.includes(a.foundation._id)&&a.foundation.restartCloseTimer()};return g.createElement(g.Fragment,null,g.createElement("div",{className:$({[`${$u.PREFIX}-innerWrapper`]:!0,[`${$u.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t.map((a,l)=>{const u=r.find(d=>d.id===a.id)!==void 0;return g.createElement(af,{key:a.id,motion:a.motion,animationState:u?"leave":"enter",startClassName:u?`${$u.PREFIX}-animation-hide`:`${$u.PREFIX}-animation-show`},d=>{let{animationClassName:h,animationEventsNeedBind:f,isAnimating:m}=d;return u&&!m?null:g.createElement(ql,Object.assign({},a,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:t.length,index:l},className:$({[a.className]:!!a.className,[h]:!0})},f,{style:Object.assign({},a.style),close:b=>this.remove(b),ref:o}))})})))}},n.defaultOpts={motion:!0,zIndex:1010,content:""},n.propTypes={content:c.node,duration:c.number,onClose:c.func,icon:c.node,direction:c.oneOf(Ph.directions),stack:c.bool},n.defaultProps={},n};class mye{static create(e){const t=gye();return t.useToast=pye,e&&t.config(e),t}}const da=mye.create();function Zb(n){return g$(n,e=>{if(cY(e)&&!e._innerDataTag||g.isValidElement(e))return e})}const yye=_F.PREFIX;class r1 extends D.PureComponent{constructor(e){super(e),this._onResize=t=>{const r=t&&t[1]&&t[1].target;if(r){const s=Q(r,"offsetHeight")||0,i=window.getComputedStyle(r)||{},o=parseInt(Q(i,"paddingTop"),10)||0,a=parseInt(Q(i,"paddingBottom"),10)||0,l=s-o-a;this.state.height!==l&&this.setState({height:s-o-a})}},this.state={height:this.props.defaultHeight||0}}componentDidMount(){const{height:e}=this.state}render(){const{children:e,defaultWidth:t,defaultHeight:r}=this.props,{height:s}=this.state;let i=!1;return(s===0||typeof s!="number")&&(i=!0),g.createElement(Da,{observeParent:!0,onResize:this._onResize},g.createElement("div",{style:{height:r,overflow:"visible"},className:`${yye}-auto-wrapper`},!i&&e({height:s,width:t})))}}r1.propTypes={defaultHeight:c.oneOfType([c.number,c.string]),defaultWidth:c.oneOfType([c.number,c.string])};r1.defaultProps={defaultHeight:"100%",defaultWidth:"100%"};const s1=g.createContext(null),vye=n=>{let{prefixcls:e,level:t,isEnd:r,showLine:s}=n;const i=`${e}-indent-unit`,o=[];for(let a=0;a<t;a+=1)o.push(D.createElement("span",{key:a,className:$(i,{[`${i}-end`]:r[a]})}));return D.createElement("span",{"aria-hidden":"true",className:$(`${e}-indent`,{[`${e}-indent-show-line`]:s})},o)},_ye=D.memo(vye);var bye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const it=_F.PREFIX_OPTION;class vc extends D.PureComponent{constructor(e){super(e),this.onSelect=t=>{const{onNodeSelect:r}=this.context;r(t,this.props)},this.onExpand=t=>{const{onNodeExpand:r}=this.context;t&&t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),r(t,this.props)},this.onCheck=t=>{var r,s;if(this.isDisabled())return;const{onNodeCheck:i}=this.context;t.stopPropagation(),(s=(r=t.nativeEvent)===null||r===void 0?void 0:r.stopImmediatePropagation)===null||s===void 0||s.call(r),i(t,this.props)},this.handleCheckEnterPress=t=>{Ys(t)&&this.onCheck(t)},this.onContextMenu=t=>{const{onNodeRightClick:r}=this.context;r(t,this.props)},this.onClick=t=>{const{expandAction:r}=this.context;if(r==="doubleClick"){this.debounceSelect(t);return}this.onSelect(t),r==="click"&&this.onExpand(t)},this.handleliEnterPress=t=>{Ys(t)&&this.onClick(t)},this.onDoubleClick=t=>{const{expandAction:r,onNodeDoubleClick:s}=this.context;t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),De(s)&&s(t,this.props),r==="doubleClick"&&this.onExpand(t)},this.onDragStart=t=>{const{onNodeDragStart:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}));try{t.dataTransfer.setData("text/plain","")}catch{}},this.onDragEnter=t=>{const{onNodeDragEnter:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragOver=t=>{const{onNodeDragOver:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragLeave=t=>{const{onNodeDragLeave:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragEnd=t=>{const{onNodeDragEnd:r}=this.context;t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDrop=t=>{const{onNodeDrop:r}=this.context;t.preventDefault(),t.stopPropagation(),r(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.getNodeChildren=()=>{const{children:t}=this.props;return t||[]},this.isLeaf=()=>{const{isLeaf:t,loaded:r}=this.props,{loadData:s}=this.context,i=this.getNodeChildren().length!==0;return t===!1?!1:t||!s&&!i||s&&r&&!i},this.isDisabled=()=>{const{disabled:t}=this.props,{treeDisabled:r}=this.context;return t===!1?!1:!!(r||t)},this.renderSwitcher=()=>this.isLeaf()?g.createElement("span",{className:$(`${it}-switcher`)},g.createElement("span",{className:`${it}-switcher-leaf-line`})):null,this.renderRealLabel=()=>{const{renderLabel:t}=this.context,{label:r,keyword:s,data:i,filtered:o,treeNodeFilterProp:a}=this.props;return De(t)?t(r,i,s):Re(r)&&o&&s?g.createElement(ep,{highlightClassName:`${it}-highlight`,component:"span",sourceString:r,searchWords:[s]}):r},this.setRef=t=>{this.refNode=t},this.state={},this.debounceSelect=vM(this.onSelect,500,{leading:!0,trailing:!1})}renderArrow(){const e=!this.isLeaf(),{loading:t,expanded:r,showLine:s}=this.props;return t?g.createElement(Zi,{wrapperClassName:`${it}-spin-icon`}):e?g.createElement(Bse,{role:"button","aria-label":`${r?"Expand":"Collapse"} the tree item`,className:`${it}-expand-icon`,size:"small",onClick:this.onExpand}):s?this.renderSwitcher():g.createElement("span",{className:`${it}-empty-icon`})}renderCheckbox(){const{checked:e,halfChecked:t,eventKey:r}=this.props,s=this.isDisabled();return g.createElement("div",{role:"none",onClick:this.onCheck,onKeyPress:this.handleCheckEnterPress},g.createElement(Mo,{"aria-label":"Toggle the checked state of checkbox",value:r,indeterminate:t,checked:e,disabled:!!s}))}renderIcon(){const{directory:e,treeIcon:t}=this.context,{expanded:r,icon:s,data:i}=this.props;return s||(t?typeof t=="function"?t(this.props):t:e?this.isLeaf()?g.createElement(Vw,{className:`${it}-item-icon`}):r?g.createElement(Ose,{className:`${it}-item-icon`}):g.createElement(Cse,{className:`${it}-item-icon`}):null)}renderEmptyNode(){const{emptyContent:e}=this.props,t=$(it,{[`${it}-empty`]:!0});return g.createElement("ul",{className:t},g.createElement("li",{className:`${it}-label ${it}-label-empty`,"x-semi-prop":"emptyContent"},e))}render(){const e=this.props,{eventKey:t,expanded:r,selected:s,checked:i,halfChecked:o,loading:a,active:l,level:u,empty:d,filtered:h,treeNodeFilterProp:f,display:m,style:b,isEnd:v,showLine:_}=e,y=bye(e,["eventKey","expanded","selected","checked","halfChecked","loading","active","level","empty","filtered","treeNodeFilterProp","display","style","isEnd","showLine"]);if(d)return this.renderEmptyNode();const{multiple:w,draggable:E,renderFullLabel:S,dragOverNodeKey:I,dropPosition:x,labelEllipsis:O}=this.context,T=v[v.length-1],P=this.isDisabled(),A=I===t&&x===0,k=I===t&&x===-1,M=I===t&&x===1,N=$(it,{[`${it}-level-${u+1}`]:!0,[`${it}-fullLabel-level-${u+1}`]:S,[`${it}-collapsed`]:!r,[`${it}-disabled`]:!!P,[`${it}-selected`]:s,[`${it}-active`]:!w&&l,[`${it}-ellipsis`]:O,[`${it}-drag-over`]:!P&&A,[`${it}-draggable`]:!P&&E&&!S,[`${it}-fullLabel-draggable`]:!P&&E&&S,[`${it}-fullLabel-drag-over-gap-top`]:!P&&k&&S,[`${it}-fullLabel-drag-over-gap-bottom`]:!P&&M&&S,[`${it}-tree-node-last-leaf`]:T}),K={onClick:this.onClick,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,className:N,onExpand:this.onExpand,data:y.data,level:u,onCheck:this.onCheck,style:b,expandIcon:this.renderArrow(),checkStatus:{checked:i,halfChecked:o},expandStatus:{expanded:r,loading:a},filtered:h,searchWord:y.keyword},G={onDoubleClick:this.onDoubleClick,onDragStart:E?this.onDragStart:void 0,onDragEnter:E?this.onDragEnter:void 0,onDragOver:E?this.onDragOver:void 0,onDragLeave:E?this.onDragLeave:void 0,onDrop:E?this.onDrop:void 0,onDragEnd:E?this.onDragEnd:void 0,draggable:!P&&E||void 0};if(S){const H=S(Object.assign({},K));return E?g.cloneElement(H,Object.assign({ref:this.setRef},G)):It(b)?H:g.cloneElement(H,{style:Object.assign(Object.assign({},Q(H,["props","style"])),b)})}const z=$(`${it}-label`,{[`${it}-drag-over-gap-top`]:!P&&k,[`${it}-drag-over-gap-bottom`]:!P&&M}),ee=Q(y,["data","children","length"]),j=Re(y.pos)?Number(y.pos.split("-")[u+1])+1:1;return g.createElement("li",Object.assign({className:N,role:"treeitem","aria-disabled":P,"aria-checked":i,"aria-selected":s,"aria-setsize":ee,"aria-posinset":j,"aria-expanded":r,"aria-level":u+1,"data-key":t,onClick:this.onClick,onKeyPress:this.handleliEnterPress,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,ref:this.setRef,style:b},G),g.createElement(_ye,{showLine:_,prefixcls:it,level:u,isEnd:v}),this.renderArrow(),g.createElement("span",{className:z},w?this.renderCheckbox():null,this.renderIcon(),g.createElement("span",{className:`${it}-label-text`},this.renderRealLabel())))}}vc.contextType=s1;vc.propTypes={expanded:c.bool,selected:c.bool,checked:c.bool,halfChecked:c.bool,active:c.bool,disabled:c.bool,loaded:c.bool,loading:c.bool,isLeaf:c.bool,pos:c.string,children:c.oneOfType([c.array,c.object]),icon:c.node,directory:c.bool,keyword:c.string,treeNodeFilterProp:c.string,selectedKey:c.string,motionKey:c.oneOfType([c.string,c.arrayOf(c.string)]),isEnd:c.arrayOf(c.bool),showLine:c.bool};vc.defaultProps={selectedKey:"",motionKey:""};var wye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function Eye(n){const{open:e,children:t}=n,r=wye(n,["open","children"]),[s,i]=D.useState(n.open);return D.useEffect(()=>{setTimeout(()=>{i(!n.open)},0)},[]),g.createElement(Ba,Object.assign({},r,{isOpen:s}),t)}const ZR=n=>n.key;class uj extends D.PureComponent{constructor(e){super(e),this.onMotionEnd=()=>{typeof this.props.onMotionEnd=="function"&&this.props.onMotionEnd(),this.setState({transitionNodes:[]})},this.state={transitionNodes:[]}}static getDerivedStateFromProps(e,t){const{flattenNodes:r=[],motionKeys:s,motionType:i,flattenList:o=[]}=e,a=!Fe(t.cachedMotionKeys,s)||!Fe(t.cachedData.map(b=>b.key),r.map(b=>b.key)),l=[...s];if(!a||!l.length)return null;const u=[],d=[];let h=0,f={};return(i==="hide"&&o?o:r).forEach((b,v)=>{const _=ZR(b);s.has(_)?(d.push(b),_===l[0]&&(h=v)):u.push(b)}),u.splice(h,0,d),f={transitionNodes:u,cachedData:r,cachedMotionKeys:s,cachedMotionType:i},f}render(){const{flattenNodes:e,motionType:t,searchTargetIsDeep:r,renderTreeNode:s}=this.props,{transitionNodes:i}=this.state;return(i.length&&!r?i:e).map(l=>{const u=Array.isArray(l);if(u&&!l.length)return null;if(u&&l.length){const d=ZR(l[0]);return g.createElement(Eye,{open:t==="hide",duration:200,motion:!!t,key:`motion-${d}`,onMotionEnd:this.onMotionEnd},l.map(h=>s(h)))}return s(l)})}}uj.contextType=s1;const cj={PREFIX:`${W}-tree-select`,PREFIX_TREE:`${W}-tree`,PREFIX_OPTION:`${W}-tree-select-option`},xr={SIZE_SET:["small","large","default"],SEARCH_POSITION_DROPDOWN:"dropdown",SEARCH_POSITION_TRIGGER:"trigger",STATUS:od};class Sye extends ke{constructor(e){super(Object.assign({},e)),this.handleKeyDown=t=>{t.key===Y$&&this.getState("isOpen")&&this.close(t)},this._registerClickOutsideHandler=()=>{this._adapter.registerClickOutsideHandler(t=>{this.handlerTriggerBlur(t),this.close(t)})},this.clearInputValue=()=>{const{inputValue:t}=this.getStates();t&&this._adapter.updateInputValue("")},this.onClickSingleTriggerSearchItem=t=>{this.focusInput(!0)}}init(){const{searchAutoFocus:e,searchPosition:t,filterTreeNode:r}=this.getProps(),s=t===xr.SEARCH_POSITION_TRIGGER&&r,i=e&&s;this._setDropdownWidth();const o=!this._isDisabled();(this.getProp("defaultOpen")||i)&&o&&(this.open(),this._registerClickOutsideHandler()),i&&o&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(e&&Zt(e.width)||e&&Re(e.width)&&!e.width.includes("%")?r=e.width:r=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getProp("disabled")||e.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){const{inputValue:e}=this.getStates(),{showFilteredOnly:t}=this.getProps();return!!e&&t}findDataForValue(e){const{value:t,defaultValue:r,keyMaps:s}=this.getProps(),i=Q(s,"value","value"),o=Q(s,"key","key");let a=[];return t?a=Array.isArray(t)?t:[t]:r&&(a=Array.isArray(r)?r:[r]),a.find(l=>l[i]===e||l[o]===e)}constructDataForValue(e){const{treeNodeLabelProp:t,keyMaps:r}=this.getProps(),s=Q(r,"key","key"),i=Q(r,"label",t);return{[s]:e,[i]:e}}getDataForKeyNotInKeyEntities(e){const{onChangeWithObject:t}=this.getProps();return t?this.findDataForValue(e):this.constructDataForValue(e)}getTreeNodeProps(e){const{expandedKeys:t=new Set([]),selectedKeys:r=[],checkedKeys:s=new Set([]),halfCheckedKeys:i=new Set([]),realCheckedKeys:o=new Set([]),keyEntities:a={},filteredKeys:l=new Set([]),inputValue:u="",loadedKeys:d,loadingKeys:h,filteredExpandedKeys:f=new Set([]),disabledKeys:m=new Set([])}=this.getStates(),{treeNodeFilterProp:b,checkRelation:v}=this.getProps(),_=a[e];if(!_)return null;let w=!1,E=!1;v==="related"?(w=s.has(e),E=i.has(e)):v==="unRelated"&&(w=o.has(e),E=!1);const I={eventKey:e,expanded:!!u?f.has(e):t.has(e),selected:r.includes(e),checked:w,halfChecked:E,pos:String(_?_.pos:""),level:_.level,filtered:l.has(e),keyword:u,treeNodeFilterProp:b,loading:h.has(e)&&!d.has(e),loaded:d.has(e)};return this.getProp("disableStrictly")&&m.has(e)&&(I.disabled=!0),I}handleNodeLoad(e,t,r,s){const{loadData:i}=this.getProps(),{key:o}=r;return!i||e.has(o)||t.has(o)?{}:(i(r).then(()=>{const a=new Set(this.getState("loadedKeys")),l=new Set(this.getState("loadingKeys")),u=a.add(o),d=new Set([...l]);d.delete(o),this._adapter.notifyLoad(u,r),this._isLoadControlled()||this._adapter.updateState({loadedKeys:u}),this._adapter.setState({loadingKeys:d}),s()}),{loadingKeys:t.add(o)})}focusInput(e){this._adapter.updateInputFocus(e)}_notifyMultipleChange(e,t){const{keyEntities:r}=this.getStates(),{leafOnly:s,checkRelation:i,keyMaps:o,autoMergeValue:a}=this.getProps();let l=[];i==="related"?l=a?ii(e,r,s,!0):e:i==="unRelated"&&(l=e);const u=l.map(d=>r[d]&&r[d].key===d?r[d].data:this.getDataForKeyNotInKeyEntities(d));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(u,t);else{const d=cy(u,o);this._adapter.notifyChange(d,u,t)}}_notifyChange(e,t){const{keyEntities:r}=this.getStates(),{keyMaps:s}=this.getProps();if(this._isMultiple()&&Array.isArray(e))this._notifyMultipleChange(e,t);else{const i=wt(e)?e:r[e].data,o=wt(e)?e:cy(i,s);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(i,t):this._adapter.notifyChange(o,i,t)}}_notifyFocus(e){this._adapter.notifyFocus(e)}handleTriggerFocus(e){this._adapter.updateIsFocus(!0),this._notifyFocus(e),this._registerClickOutsideHandler()}_notifyBlur(e){this._adapter.notifyBlur(e)}handlerTriggerBlur(e){this.getState("isFocus")&&(this._adapter.updateIsFocus(!1),this._notifyBlur(e),this._adapter.unregisterClickOutsideHandler())}toggleHoverState(e){this._adapter.toggleHovering(e)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(e){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(e){const t=this._isDisabled(),{isOpen:r,inputValue:s,isFocus:i}=this.getStates(),{searchPosition:o,clickTriggerToHide:a}=this.getProps();if(!t)if(i||this.handleTriggerFocus(e),r){if(o==="trigger"&&s)return;a&&this.close(e)}else this.open()}handleSelectionEnterPress(e){Ys(e)&&this.handleClick(e)}handleClear(e){const{searchPosition:t,filterTreeNode:r}=this.getProps(),{inputValue:s,selectedKeys:i}=this.getStates(),o=this._isMultiple(),a=this._isControlledComponent(),l=o?[]:void 0;this._notifyChange(l,e),a||(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),r&&t===xr.SEARCH_POSITION_TRIGGER&&s!==""&&(It(i)?this.handleInputChange(""):this.clearInput()),this._adapter.notifyClear(e)}handleClearEnterPress(e){Ys(e)&&this.handleClear(e)}removeTag(e){const{disableStrictly:t,checkRelation:r,keyMaps:s}=this.getProps(),{keyEntities:i,disabledKeys:o,realCheckedKeys:a}=this.getStates(),l=i[e]&&i[e].key===e?i[e].data:this.getDataForKeyNotInKeyEntities(e),u=Q(s,"disabled","disabled");if(!(l[u]||t&&o.has(e))){if(r==="unRelated"){const d=new Set(a);d.delete(e),this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:d}),this._adapter.rePositionDropdown())}else if(r==="related"){const{checkedKeys:d,halfCheckedKeys:h}=this.calcCheckedKeys(e,!1);this._notifyChange([...d],null),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:d,halfCheckedKeys:h}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(e,!1,l),this._adapter.rePositionDropdown()}}clearInput(){const{flattenNodes:e,expandedKeys:t,selectedKeys:r,keyEntities:s,treeData:i}=this.getStates(),{keyMaps:o}=this.getProps(),a=new Set(t);this._isExpandControlled();const l=Ki(r,s,!1);l.forEach(d=>a.add(d));const u=ca(i,a,o);this._adapter.updateState({expandedKeys:a,flattenNodes:u,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(l),filteredShownKeys:new Set([])}),this._adapter.rePositionDropdown()}handleInputChange(e){this._adapter.updateInputValue(e);const{flattenNodes:t,expandedKeys:r,selectedKeys:s,keyEntities:i,treeData:o}=this.getStates(),{showFilteredOnly:a,filterTreeNode:l,treeNodeFilterProp:u,keyMaps:d}=this.getProps(),h=u!=="label"?u:Q(d,"label","label"),f=new Set(r);let m=[],b=[],v=[],_=[],y=new Set([]);if(!e)v=Ki(s,i,!1),v.forEach(E=>f.add(E)),_=ca(o,f,d);else{const E=Object.values(i).filter(I=>{const{data:x}=I;return wF(e,x,l,h)});m=E.map(I=>I.data),b=E.map(I=>I.key),v=Ki(b,i,!1);const S=zi(b,i,!0);y=new Set([...S,...v]),_=ca(o,new Set(v),d,a&&y)}const w=new Set(v);this._adapter.notifySearch(e,Array.from(w),m),this._adapter.updateState({expandedKeys:f,flattenNodes:_,motionKeys:new Set([]),filteredKeys:new Set(b),filteredExpandedKeys:w,filteredShownKeys:y}),this._adapter.rePositionDropdown()}handleNodeSelect(e,t){this._isDisabled(t)||(this._isMultiple()?this.handleMultipleSelect(e,t):this.handleSingleSelect(e,t))}handleSingleSelect(e,t){let r=[...this.getState("selectedKeys")];const{clickToHide:s}=this.getProps(),{selected:i,eventKey:o,data:a}=t;this._adapter.notifySelect(o,!0,a),!r.includes(o)&&!i&&(r=[o],this._notifyChange(o,e),this._isControlledComponent()||this._adapter.updateState({selectedKeys:r})),s&&(this._isSelectToClose()||!a.children)&&(this.close(e),this.handlerTriggerBlur(e))}calcCheckedKeys(e,t){const{keyEntities:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),i=new Set(this.getState("halfCheckedKeys"));return t?EF(e,r,s,i):SF(e,r,s,i)}handleMultipleSelect(e,t){const{searchPosition:r,disableStrictly:s,checkRelation:i}=this.getProps(),{inputValue:o,realCheckedKeys:a}=this.getStates(),{checked:l,eventKey:u,data:d}=t;if(i==="related"){const h=s?this.calcCheckedStatus(!l,u):!l,{checkedKeys:f,halfCheckedKeys:m}=s?this.calcNonDisabledCheckedKeys(u,h):this.calcCheckedKeys(u,h);this._adapter.notifySelect(u,h,d),this._notifyChange([...f],e),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:f,halfCheckedKeys:m}),this._adapter.rePositionDropdown())}else if(i==="unRelated"){const h=new Set(a);let f;a.has(u)?(h.delete(u),f=!1):(h.add(u),f=!0),this._adapter.notifySelect(u,f,d),this._notifyChange([...h],e),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:h}),this._adapter.rePositionDropdown())}r===xr.SEARCH_POSITION_TRIGGER&&o!==""&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(e,t){const{keyEntities:r,disabledKeys:s}=this.getStates(),i=new Set(this.getState("checkedKeys")),o=ii(zi([e],r,!1),r,!0);if(!o.some(d=>s.has(d)))return this.calcCheckedKeys(e,t);const l=o.filter(d=>!s.has(d)),u=t?[...l,...i]:uy(ii([...i],r,!0,!0),l);return sp(u,r)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:r,keyEntities:s,disabledKeys:i}=this.getStates(),o=ii(zi([t],s,!1),s,!0);return o.some(d=>i.has(d))?!o.filter(d=>!i.has(d)).every(d=>r.has(d)):e}handleNodeExpandInSearch(e,t){const{treeData:r,filteredShownKeys:s,keyEntities:i}=this.getStates(),{keyMaps:o}=this.getProps(),a=this._showFilteredOnly(),l=new Set(this.getState("filteredExpandedKeys"));let u="show";const{eventKey:d,expanded:h,data:f}=t;if(h?l.has(d)&&(l.delete(d),u="hide"):l.add(d),this._adapter.cacheFlattenNodes(u==="hide"&&this._isAnimated()),!this._isExpandControlled()){const m=ca(r,l,o,a&&s),b=this._isAnimated()?Ux(d,l,i):[],v={filteredExpandedKeys:l,flattenNodes:m,motionKeys:new Set(b),motionType:u};this._adapter.updateState(v)}this._adapter.notifyExpand(l,{expanded:!h,node:f})}handleNodeExpand(e,t){const{loadData:r,keyMaps:s}=this.getProps(),{inputValue:i,keyEntities:o}=this.getStates(),a=!!i;if(!r&&(!t.children||!t.children.length))return;const l=this._isExpandControlled();if(a){this.handleNodeExpandInSearch(e,t);return}const{treeData:u}=this.getStates(),d=new Set(this.getState("expandedKeys"));let h="show";const{eventKey:f,expanded:m,data:b}=t;if(m?d.has(f)&&(d.delete(f),h="hide"):d.add(f),this._adapter.cacheFlattenNodes(h==="hide"&&this._isAnimated()),!l){const v=ca(u,d,s),_=this._isAnimated()?Ux(f,d,o):[],y={expandedKeys:d,flattenNodes:v,motionKeys:new Set(_),motionType:h};this._adapter.updateState(y)}this._adapter.notifyExpand(d,{expanded:!m,node:b})}getRenderTextInSingle(){const{renderSelectedItem:e,treeNodeLabelProp:t,keyMaps:r}=this.getProps(),{selectedKeys:s,keyEntities:i}=this.getStates(),o=Q(r,"label",t),a=De(e)?e:d=>Q(d,o,null);let l;if(s.length){const d=s[0];l=i[d]&&i[d].key===d?i[d].data:this.getDataForKeyNotInKeyEntities(d)}return l?a(l):null}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(e,t){this._adapter.updateLoadKeys(e,t)}handlePopoverVisibleChange(e){const{filterTreeNode:t,searchAutoFocus:r,searchPosition:s}=this.getProps();e===!1&&t&&this.clearInputValue(),t&&s===xr.SEARCH_POSITION_DROPDOWN&&e&&r&&this.focusInput(!0)}handleAfterClose(){const{filterTreeNode:e}=this.getProps();e&&this.clearInput()}}var Cye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const $e=cj.PREFIX,al=cj.PREFIX_TREE,Tye=0;class Zv extends xe{constructor(e){super(e),this.renderSuffix=()=>{const{suffix:t}=this.props,r=$({[`${$e}-suffix`]:!0,[`${$e}-suffix-text`]:t&&Re(t),[`${$e}-suffix-icon`]:_r(t)});return g.createElement("div",{className:r,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:r,insetLabelId:s}=this.props,i=t||r,o=$({[`${$e}-prefix`]:!0,[`${$e}-inset-label`]:r,[`${$e}-prefix-text`]:i&&Re(i),[`${$e}-prefix-icon`]:_r(i)});return g.createElement("div",{className:o,id:s,"x-semi-prop":"prefix,insetLabel"},i)},this.renderContent=()=>{const{dropdownMinWidth:t}=this.state,{dropdownStyle:r,dropdownClassName:s}=this.props,i=Object.assign({minWidth:t},r),o=$(s,`${$e}-popover`);return g.createElement("div",{className:o,style:i,onKeyDown:this.foundation.handleKeyDown},this.renderTree())},this.removeTag=t=>{this.foundation.removeTag(t)},this.handleClick=t=>{this.foundation.handleClick(t)},this.getDataForKeyNotInKeyEntities=t=>this.foundation.getDataForKeyNotInKeyEntities(t),this.handleSelectionEnterPress=t=>{this.foundation.handleSelectionEnterPress(t)},this.hasValue=()=>{const{multiple:t,checkRelation:r}=this.props,{realCheckedKeys:s,checkedKeys:i,selectedKeys:o}=this.state;let a=!1;return t?r==="related"?a=!!i.size:r==="unRelated"&&(a=!!s.size):a=!!o.length,a},this.showClearBtn=()=>{const{showClear:t,disabled:r,searchPosition:s}=this.props,{inputValue:i,isOpen:o,isHovering:a}=this.state,l=s===xr.SEARCH_POSITION_TRIGGER&&i;return t&&(this.hasValue()||l)&&!r&&(o||a)},this.renderTagList=t=>{const{keyEntities:r,disabledKeys:s}=this.state,{treeNodeLabelProp:i,leafOnly:o,disabled:a,disableStrictly:l,size:u,renderSelectedItem:d,keyMaps:h}=this.props,f=Q(h,"label",i),m=De(d)?d:v=>({isRenderInTag:!0,content:Q(v,f,null)}),b=[];return t.forEach((v,_)=>{const y=r[v]&&r[v].key===v?r[v].data:this.getDataForKeyNotInKeyEntities(v),w=(O,T)=>{T&&typeof T.preventDefault=="function"&&T.preventDefault(),this.removeTag(v)},{content:E,isRenderInTag:S}=y?m(y,{index:_,onClose:w}):{};if(Kl(E)||wt(E))return;const x={closable:!(a||y.disabled||l&&s.has(y.key)),color:"white",visible:!0,onClose:w,key:`tag-${v}-${_}`,size:u==="small"?"small":"large"};S?b.push(g.createElement(Xr,Object.assign({},x),E)):b.push(E)}),b},this.renderSingleTriggerSearchItem=()=>{const{placeholder:t,disabled:r}=this.props,{inputTriggerFocus:s}=this.state,i=this.foundation.getRenderTextInSingle(),o=$(`${$e}-selection-TriggerSearchItem`,{[`${$e}-selection-TriggerSearchItem-placeholder`]:(s||!i)&&!r,[`${$e}-selection-TriggerSearchItem-disabled`]:r});return g.createElement("span",{className:o,onClick:this.foundation.onClickSingleTriggerSearchItem},i||t)},this.renderSingleTriggerSearch=()=>{const{inputValue:t}=this.state;return g.createElement(g.Fragment,null,this.renderInput(),!t&&this.renderSingleTriggerSearchItem())},this.renderSelectContent=t=>{const{multiple:r,placeholder:s,maxTagCount:i,searchPosition:o,filterTreeNode:a,showRestTagsPopover:l,restTagsPopoverProps:u}=this.props;if(a&&o===xr.SEARCH_POSITION_TRIGGER)return r?this.renderTagInput(t):this.renderSingleTriggerSearch();if(!r||!this.hasValue()){const f=this.foundation.getRenderTextInSingle(),m=$(`${$e}-selection-content`,{[`${$e}-selection-placeholder`]:!f});return g.createElement("span",{className:m},f||s)}const h=this.renderTagList(t);return g.createElement(vf,{maxTagCount:i,tagList:h,size:"large",mode:"custom",showPopover:l,popoverProps:u})},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear(t)},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.handleMouseOver=t=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=t=>{this.foundation.toggleHoverState(!1)},this.search=t=>{const{isOpen:r}=this.state;r||this.foundation.open(),this.foundation.handleInputChange(t)},this.close=()=>{this.foundation.close(null)},this.renderArrow=()=>{const t=this.showClearBtn(),{arrowIcon:r}=this.props;return t?null:r?g.createElement("div",{className:$(`${$e}-arrow`),"x-semi-prop":"arrowIcon"},r):null},this.renderClearBtn=()=>{const t=this.showClearBtn(),{clearIcon:r}=this.props,s=$(`${$e}-clearbtn`);return t?g.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TreeSelect value",className:s,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress},r||g.createElement(Za,null)):null},this.renderSelection=()=>{const t=this.props,{disabled:r,multiple:s,filterTreeNode:i,validateStatus:o,prefix:a,suffix:l,style:u,size:d,insetLabel:h,className:f,placeholder:m,showClear:b,leafOnly:v,searchPosition:_,triggerRender:y,borderless:w,autoMergeValue:E,checkRelation:S}=t,I=Cye(t,["disabled","multiple","filterTreeNode","validateStatus","prefix","suffix","style","size","insetLabel","className","placeholder","showClear","leafOnly","searchPosition","triggerRender","borderless","autoMergeValue","checkRelation"]),{inputValue:x,selectedKeys:O,checkedKeys:T,keyEntities:P,isFocus:A,realCheckedKeys:k}=this.state,M=!!i,N=typeof y=="function",K=b?{onMouseEnter:ne=>this.handleMouseOver(ne),onMouseLeave:ne=>this.handleMouseLeave(ne)}:{},G=_===xr.SEARCH_POSITION_TRIGGER&&M,z=G&&It(T),ee=G&&!It(T),j=N?$(f):$($e,{[`${$e}-borderless`]:w,[`${$e}-focus`]:A,[`${$e}-disabled`]:r,[`${$e}-single`]:!s,[`${$e}-multiple`]:s,[`${$e}-multiple-tagInput-empty`]:s&&z,[`${$e}-multiple-tagInput-notEmpty`]:s&&ee,[`${$e}-filterable`]:M,[`${$e}-error`]:o==="error",[`${$e}-warning`]:o==="warning",[`${$e}-small`]:d==="small",[`${$e}-large`]:d==="large",[`${$e}-with-prefix`]:a||h,[`${$e}-with-suffix`]:l,[`${$e}-with-suffix`]:l},f);let H,U=[];s?E?S==="related"?U=ii([...T],P,v,!0):S==="unRelated"&&(U=[...k]):U=[...T]:U=O,N?H=g.createElement(pu,{inputValue:x,value:U.map(ne=>Q(P,[ne,"data"])),disabled:r,placeholder:m,onClear:this.handleClear,componentName:"TreeSelect",triggerRender:y,componentProps:Object.assign({},this.props),onSearch:this.search,onRemove:this.removeTag}):H=[g.createElement(D.Fragment,{key:"prefix"},a||h?this.renderPrefix():null),g.createElement(D.Fragment,{key:"selection"},g.createElement("div",{className:`${$e}-selection`},this.renderSelectContent(U))),g.createElement(D.Fragment,{key:"suffix"},l?this.renderSuffix():null),g.createElement(D.Fragment,{key:"clearBtn"},b||G&&x?this.renderClearBtn():null),g.createElement(D.Fragment,{key:"arrow"},this.renderArrow())];const oe=r?null:0;return g.createElement("div",Object.assign({role:"combobox","aria-disabled":r,"aria-haspopup":"tree",tabIndex:oe,className:j,style:u,ref:this.triggerRef,onClick:this.handleClick,onKeyPress:this.handleSelectionEnterPress,onKeyDown:this.foundation.handleKeyDown,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},K,this.getDataAttr(I)),H)},this.renderTagItem=(t,r)=>{const{keyEntities:s,disabledKeys:i}=this.state,{size:o,leafOnly:a,disabled:l,disableStrictly:u,renderSelectedItem:d,treeNodeLabelProp:h,keyMaps:f}=this.props,m=Q(f,"label",h),v=ii([t],s,a,!0).map(P=>s[t]&&s[t].key===t?s[t].data:this.getDataForKeyNotInKeyEntities(t)),_=cy(v,f),y=$(`${$e}-selection-tag`,{[`${$e}-selection-tag-disabled`]:l}),w=!It(v)&&!It(v[0]),E=u&&w&&i.has(v[0].key),S=w&&!v[0].disabled&&!l&&!E,I=(P,A)=>{A.preventDefault(),this.removeTag(t)},x={size:o==="small"?"small":"large",key:`tag-${_}-${r}`,color:"white",className:y,closable:S,onClose:I},O=v[0],T=De(d)?d:P=>({isRenderInTag:!0,content:Q(P,m,null)});if(De(T)){const{content:P,isRenderInTag:A}=O?T(O,{index:r,onClose:I}):{};return A?g.createElement(Xr,Object.assign({},x),P):P}return g.createElement(Xr,Object.assign({},x),_)},this.renderTagInput=t=>{const{disabled:r,size:s,searchAutoFocus:i,placeholder:o,maxTagCount:a,showRestTagsPopover:l,restTagsPopoverProps:u,searchPosition:d,filterTreeNode:h,preventScroll:f}=this.props,{inputValue:m}=this.state,b=h&&d===xr.SEARCH_POSITION_TRIGGER?i:void 0;return g.createElement(cp,{maxTagCount:a,disabled:r,onInputChange:v=>this.search(v),ref:this.tagInputRef,placeholder:o,value:t,inputValue:m,size:s,showRestTagsPopover:l,restTagsPopoverProps:u,autoFocus:b,renderTagItem:(v,_)=>this.renderTagItem(v,_),onRemove:v=>this.removeTag(v),expandRestTagsOnClick:!1,preventScroll:f})},this.renderInput=()=>{const{searchPlaceholder:t,searchRender:r,showSearchClear:s,searchPosition:i,searchAutoFocus:o,multiple:a,disabled:l,preventScroll:u}=this.props,{inputValue:d,inputTriggerFocus:h}=this.state,f=i===xr.SEARCH_POSITION_DROPDOWN,m=$({[`${al}-input`]:f,[`${$e}-inputTrigger`]:!f}),b={value:d,className:m,preventScroll:u,onChange:S=>this.search(S)},y=f?{showClear:s,prefix:g.createElement(W$,null)}:{autofocus:o,onFocus:S=>this.foundation.handleInputTriggerFocus(),onBlur:S=>this.foundation.handleInputTriggerBlur(),disabled:l},w=$({[`${al}-search-wrapper`]:f,[`${$e}-triggerSingleSearch-wrapper`]:!f&&!a,[`${$e}-triggerSingleSearch-upper`]:!f&&h}),E=typeof r=="function"||typeof r=="boolean";return E&&!r?null:g.createElement("div",{className:w},g.createElement(On,{componentName:"TreeSelect"},S=>{const I=f?t||S.searchPlaceholder:"";return E?r(Object.assign(Object.assign(Object.assign({},y),b),{placeholder:I})):g.createElement(Kn,Object.assign({"aria-label":"Filter TreeSelect item",ref:this.inputRef,placeholder:I},b,y))}))},this.renderEmpty=()=>{const{emptyContent:t}=this.props;return t===null?null:t?g.createElement(vc,{empty:!0,emptyContent:this.props.emptyContent}):g.createElement(On,{componentName:"Tree"},r=>g.createElement(vc,{empty:!0,emptyContent:r.emptyText}))},this.onNodeLoad=t=>new Promise(r=>this.foundation.setLoadKeys(t,r)),this.onNodeSelect=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeCheck=(t,r)=>{this.foundation.handleNodeSelect(t,r)},this.onNodeExpand=(t,r)=>{this.foundation.handleNodeExpand(t,r)},this.getTreeNodeRequiredProps=()=>{const{expandedKeys:t,selectedKeys:r,checkedKeys:s,halfCheckedKeys:i,keyEntities:o,filteredKeys:a}=this.state;return{expandedKeys:t||new Set,selectedKeys:r||[],checkedKeys:s||new Set,halfCheckedKeys:i||new Set,filteredKeys:a||new Set,keyEntities:o}},this.getTreeNodeKey=t=>{const{data:r}=t,{key:s}=r;return s},this.handlePopoverVisibleChange=t=>{this.foundation.handlePopoverVisibleChange(t)},this.afterClose=()=>{this.foundation.handleAfterClose()},this.renderTreeNode=(t,r,s)=>{const{data:i,key:o}=t,a=this.foundation.getTreeNodeProps(o),{showLine:l}=this.props;if(!a)return null;const u=Wl(t,["key","label","disabled","isLeaf","icon","isEnd"]),{keyMaps:d}=this.props,h=i[Q(d,"children","children")];return!wt(h)&&(u.children=h),g.createElement(vc,Object.assign({},a,i,u,{data:i,style:s,showLine:l}))},this.itemKey=(t,r)=>{const{visibleOptions:s}=r;return s[t].key},this.renderNodeList=()=>{const{flattenNodes:t,cachedFlattenNodes:r,motionKeys:s,motionType:i,filteredKeys:o}=this.state,{direction:a}=this.context,{virtualize:l,motionExpand:u}=this.props,d="expandedKeys"in this.props;if(!l||It(l))return g.createElement(uj,{flattenNodes:t,flattenList:r,motionKeys:u?s:new Set([]),motionType:i,searchTargetIsDeep:d&&u&&It(s)&&!It(o),onMotionEnd:this.onMotionEnd,renderTreeNode:this.renderTreeNode});const h={visibleOptions:t,renderOption:this.renderTreeNode};return g.createElement(r1,{defaultHeight:l.height,defaultWidth:l.width},f=>{let{height:m,width:b}=f;return g.createElement(ET,{itemCount:t.length,itemSize:l.itemSize,height:m,width:b,itemKey:this.itemKey,itemData:h,className:`${al}-virtual-list`,style:{direction:a}},Z2)})},this.renderTree=()=>{const{keyEntities:t,motionKeys:r,motionType:s,inputValue:i,filteredKeys:o,flattenNodes:a,checkedKeys:l,realCheckedKeys:u}=this.state,{loadData:d,filterTreeNode:h,disabled:f,multiple:m,showFilteredOnly:b,motionExpand:v,outerBottomSlot:_,outerTopSlot:y,expandAction:w,labelEllipsis:E,virtualize:S,optionListStyle:I,searchPosition:x,renderLabel:O,renderFullLabel:T,checkRelation:P,emptyContent:A}=this.props,k=$(`${al}-wrapper`),M=!!i&&!o.size,N=It(a)||b&&M,K=x===xr.SEARCH_POSITION_DROPDOWN,G=$(`${al}-option-list ${al}-option-list-block`,{[`${al}-option-list-hidden`]:A===null&&N});return g.createElement(s1.Provider,{value:{loadData:d,treeDisabled:f,motion:v,motionKeys:r,motionType:s,expandAction:w,filterTreeNode:h,keyEntities:t,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeRightClick:F,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,renderTreeNode:this.renderTreeNode,multiple:m,showFilteredOnly:b,isSearching:!!i,renderLabel:O,renderFullLabel:T,labelEllipsis:typeof E>"u"?S:E}},g.createElement("div",{className:k},y,!y&&h&&K&&this.renderInput(),g.createElement("div",{className:G,role:"tree","aria-multiselectable":!!m,style:I},N?this.renderEmpty():m?g.createElement(ip,{value:Array.from(P==="related"?l:u)},this.renderNodeList()):this.renderNodeList()),_))},this.state={inputTriggerFocus:!1,isOpen:!1,isFocus:!1,rePosKey:Tye,dropdownMinWidth:null,inputValue:"",keyEntities:{},treeData:[],flattenNodes:[],cachedFlattenNodes:void 0,selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([]),disabledKeys:new Set,motionKeys:new Set([]),motionType:"hide",expandedKeys:new Set(e.expandedKeys),filteredKeys:new Set,filteredExpandedKeys:new Set,filteredShownKeys:new Set,prevProps:null,isHovering:!1,cachedKeyValuePairs:{},loadedKeys:new Set,loadingKeys:new Set},this.inputRef=g.createRef(),this.tagInputRef=g.createRef(),this.triggerRef=g.createRef(),this.optionsRef=g.createRef(),this.clickOutsideHandler=null,this.foundation=new Sye(this.adapter),this.treeSelectID=Math.random().toString(36).slice(2),this.onMotionEnd=()=>{this.adapter.rePositionDropdown()}}static getDerivedStateFromProps(e,t){const{prevProps:r,rePosKey:s}=t,{keyMaps:i}=e,o=y=>!r&&y in e||r&&!Fe(r[y],e[y]);let a;const l=e.onChangeWithObject;let u=t.keyEntities||{},d=t.cachedKeyValuePairs||{};const h={prevProps:e},f=o("treeData"),m=o("expandedKeys"),b=!!(e.filterTreeNode&&t.inputValue&&t.inputValue.length);if(f){a=e.treeData,h.treeData=a;const y=ble(a,i);h.keyEntities=Object.assign({},y.keyEntities),u=h.keyEntities,h.cachedKeyValuePairs=Object.assign({},y.valueEntities),d=h.cachedKeyValuePairs}a&&e.motion&&!Fe(Object.keys(h.keyEntities),Object.keys(t.keyEntities))&&r&&e.motion&&(h.motionKeys=new Set([]),h.motionType=null);const v=f&&e.expandAll;if(b){let y;if(a&&(y=Sle({treeData:a,inputValue:t.inputValue,filterTreeNode:e.filterTreeNode,filterProps:e.treeNodeFilterProp,showFilteredOnly:e.showFilteredOnly,keyEntities:h.keyEntities,prevExpandedKeys:[...t.filteredExpandedKeys],keyMaps:i}),h.flattenNodes=y.flattenNodes,h.motionKeys=new Set([]),h.filteredKeys=y.filteredKeys,h.filteredShownKeys=y.filteredShownKeys,h.filteredExpandedKeys=y.filteredExpandedKeys),e.expandedKeys){if(h.filteredExpandedKeys=Ab(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion){const w=t?t.filteredExpandedKeys:new Set([]);if(!a){const E=Vx(w,h.filteredExpandedKeys,u);let{motionKeys:S}=E;const{motionType:I}=E;e.showFilteredOnly&&(S=S.filter(x=>t.filteredShownKeys.has(x))),I==="hide"&&(h.cachedFlattenNodes=Zb(t.flattenNodes)),h.motionKeys=new Set(S),h.motionType=I}}h.flattenNodes=ca(a||t.treeData,h.filteredExpandedKeys||t.filteredExpandedKeys,i,e.showFilteredOnly&&t.filteredShownKeys)}}else{if(m||r&&o("autoExpandParent")){if(h.expandedKeys=Ab(e.expandedKeys,u,e.autoExpandParent||!r),r&&e.motion&&!a){const{motionKeys:y,motionType:w}=Vx(t.expandedKeys,h.expandedKeys,u);h.motionKeys=new Set(y),h.motionType=w,w==="hide"&&(h.cachedFlattenNodes=Zb(t.flattenNodes))}}else!r&&(e.defaultExpandAll||e.expandAll)||v?h.expandedKeys=new Set(Object.keys(u)):!r&&e.defaultExpandedKeys?h.expandedKeys=Ab(e.defaultExpandedKeys,u):!r&&e.defaultValue?h.expandedKeys=jx(ea(e.defaultValue,l,i),u,e.multiple,d):!r&&e.value&&(h.expandedKeys=jx(ea(e.value,l,i),u,e.multiple,d));if(h.expandedKeys||delete h.expandedKeys,a||h.expandedKeys){const y=ca(a||t.treeData,h.expandedKeys||t.expandedKeys,i);h.flattenNodes=y}}const _=e.multiple;if(!_)o("value")?h.selectedKeys=ml(ea(e.value,l,i),d,_):!r&&e.defaultValue?h.selectedKeys=ml(ea(e.defaultValue,l,i),d,_):a&&(e.value?h.selectedKeys=ml(ea(e.value,l,i)||"",d,_):h.selectedKeys=Bx(t.selectedKeys,u));else{let y;if(o("value")?y=ml(ea(e.value,l,i),d,_):!r&&e.defaultValue?y=ml(ea(e.defaultValue,l,i),d,_):a&&(e.value?y=ml(ea(e.value,l,i)||[],d,_):y=Bx(e.checkRelation==="related"?t.checkedKeys:t.realCheckedKeys,u)),y){if(e.checkRelation==="unRelated")h.realCheckedKeys=new Set(y);else if(e.checkRelation==="related"){const{checkedKeys:w,halfCheckedKeys:E}=sp(y,u);h.checkedKeys=w,h.halfCheckedKeys=E}}}return o("loadedKeys")&&(h.loadedKeys=new Set(e.loadedKeys)),(f||o("value"))&&(h.rePosKey=s+1),a&&e.disableStrictly&&e.checkRelation==="related"&&(h.disabledKeys=CF(u,i)),h}get adapter(){var e=this;const t={updateInputValue:i=>{this.setState({inputValue:i})}},r={registerClickOutsideHandler:i=>{this.adapter.unregisterClickOutsideHandler();const o=a=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,d=Ar.findDOMNode(l),h=a.target,f=a.composedPath&&a.composedPath()||[h];d&&(!d.contains(h)||!d.contains(h.parentNode))&&u&&!u.contains(h)&&!(f.includes(u)||f.includes(d))&&i(a)};this.clickOutsideHandler=o,document.addEventListener("mousedown",o,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{rePosKey:i}=this.state;i=i+1,this.setState({rePosKey:i})}},s={updateState:i=>{this.setState(Object.assign({},i))},notifySelect:(i,o,a)=>{this.props.onSelect&&this.props.onSelect(i,o,a)},notifySearch:(i,o,a)=>{this.props.onSearch&&this.props.onSearch(i,o,a)},cacheFlattenNodes:i=>{this.setState({cachedFlattenNodes:i?Zb(this.state.flattenNodes):void 0})},notifyLoad:(i,o)=>{const{onLoad:a}=this.props;De(a)&&a(i,o)},notifyClear:i=>{this.props.onClear&&this.props.onClear(i)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),s),{updateLoadKeys:(i,o)=>{this.setState(a=>{let{loadedKeys:l,loadingKeys:u}=a;return this.foundation.handleNodeLoad(l,u,i,o)})},updateState:i=>{this.setState(Object.assign({},i))},openMenu:()=>{this.setState({isOpen:!0},()=>{this.props.onVisibleChange(!0)})},closeMenu:i=>{this.setState({isOpen:!1},()=>{i&&i(),this.props.onVisibleChange(!1)})},getTriggerWidth:()=>{const i=this.triggerRef.current;return i&&i.getBoundingClientRect().width},setOptionWrapperWidth:i=>{this.setState({dropdownMinWidth:i})},notifyChange:(i,o,a)=>{this.props.onChange&&this.props.onChange(i,o,a)},notifyChangeWithObject:(i,o)=>{this.props.onChange&&this.props.onChange(i,o)},notifyExpand:(i,o)=>{let{expanded:a,node:l}=o;this.props.onExpand&&this.props.onExpand([...i],{expanded:a,node:l}),a&&this.props.loadData&&this.onNodeLoad(l)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},toggleHovering:i=>{this.setState({isHovering:i})},updateInputFocus:i=>{if(i){if(this.inputRef&&this.inputRef.current){const{preventScroll:o}=this.props;this.inputRef.current.focus({preventScroll:o})}this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.focus()}else this.inputRef&&this.inputRef.current&&this.inputRef.current.blur(),this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.blur()},updateIsFocus:i=>{this.setState({isFocus:i})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.renderContent(),{motion:t,zIndex:r,mouseLeaveDelay:s,mouseEnterDelay:i,autoAdjustOverflow:o,stopPropagation:a,getPopupContainer:l,dropdownMargin:u,position:d}=this.props,{isOpen:h,rePosKey:f}=this.state,m=this.renderSelection(),b=d||"bottomLeft";return g.createElement(Sr,{stopPropagation:a,getPopupContainer:l,zIndex:r,motion:t,margin:u,ref:this.optionsRef,content:e,visible:h,trigger:"custom",rePosKey:f,position:b,autoAdjustOverflow:o,mouseLeaveDelay:s,mouseEnterDelay:i,onVisibleChange:this.handlePopoverVisibleChange,afterClose:this.afterClose},m)}}Zv.contextType=Lr;Zv.propTypes={"aria-describedby":c.string,"aria-errormessage":c.string,"aria-invalid":c.bool,"aria-labelledby":c.string,"aria-required":c.bool,borderless:c.bool,loadedKeys:c.arrayOf(c.string),loadData:c.func,onLoad:c.func,arrowIcon:c.node,clearIcon:c.node,defaultOpen:c.bool,defaultValue:c.oneOfType([c.string,c.array,c.object]),defaultExpandAll:c.bool,defaultExpandedKeys:c.array,expandAll:c.bool,disabled:c.bool,disableStrictly:c.bool,filterTreeNode:c.oneOfType([c.func,c.bool]),multiple:c.bool,searchPlaceholder:c.string,searchAutoFocus:c.bool,virtualize:c.object,treeNodeFilterProp:c.string,onChange:c.func,onClear:c.func,onSearch:c.func,onSelect:c.func,onExpand:c.func,onChangeWithObject:c.bool,onBlur:c.func,onFocus:c.func,value:c.oneOfType([c.string,c.number,c.array,c.object]),expandedKeys:c.array,autoExpandParent:c.bool,showClear:c.bool,showSearchClear:c.bool,autoAdjustOverflow:c.bool,showFilteredOnly:c.bool,showLine:c.bool,motionExpand:c.bool,emptyContent:c.node,keyMaps:c.object,leafOnly:c.bool,treeData:c.arrayOf(c.shape({key:c.string,value:c.oneOfType([c.string,c.number]),label:c.any})),dropdownClassName:c.string,dropdownStyle:c.object,dropdownMargin:c.oneOfType([c.number,c.object]),motion:c.bool,placeholder:c.string,maxTagCount:c.number,size:c.oneOf(xr.SIZE_SET),className:c.string,style:c.object,treeNodeLabelProp:c.string,suffix:c.node,prefix:c.node,insetLabel:c.node,insetLabelId:c.string,zIndex:c.number,getPopupContainer:c.func,dropdownMatchSelectWidth:c.bool,validateStatus:c.oneOf(xr.STATUS),mouseEnterDelay:c.number,mouseLeaveDelay:c.number,triggerRender:c.func,stopPropagation:c.oneOfType([c.bool,c.string]),outerBottomSlot:c.node,outerTopSlot:c.node,onVisibleChange:c.func,expandAction:c.oneOf(["click","doubleClick",!1]),searchPosition:c.oneOf([xr.SEARCH_POSITION_DROPDOWN,xr.SEARCH_POSITION_TRIGGER]),clickToHide:c.bool,renderLabel:c.func,renderFullLabel:c.func,labelEllipsis:c.bool,optionListStyle:c.object,searchRender:c.oneOfType([c.func,c.bool]),renderSelectedItem:c.func,checkRelation:c.string,"aria-label":c.string,showRestTagsPopover:c.bool,restTagsPopoverProps:c.object,preventScroll:c.bool,clickTriggerToHide:c.bool,autoMergeValue:c.bool};Zv.defaultProps={borderless:!1,searchPosition:xr.SEARCH_POSITION_DROPDOWN,arrowIcon:g.createElement(Ov,null),autoExpandParent:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,motionExpand:!0,expandAll:!1,zIndex:gs.DEFAULT_Z_INDEX,disableStrictly:!1,multiple:!1,filterTreeNode:!1,size:"default",treeNodeFilterProp:"label",onChangeWithObject:!1,treeNodeLabelProp:"label",dropdownMatchSelectWidth:!0,defaultOpen:!1,showSearchClear:!0,showClear:!1,onVisibleChange:F,expandAction:!1,clickToHide:!0,searchAutoFocus:!1,checkRelation:"related","aria-label":"TreeSelect",showRestTagsPopover:!1,restTagsPopoverProps:{},clickTriggerToHide:!0,autoMergeValue:!0};const JR=`${W}-upload`,eA="picture",tA="list",Oye=.95,dj={PREFIX:JR,LIST:`${JR}-list`},nA="auto",rA="custom",We={FILE_STATUS_UPLOADING:"uploading",FILE_STATUS_SUCCESS:"success",FILE_STATUS_UPLOAD_FAIL:"uploadFail",FILE_STATUS_VALIDATING:"validating",FILE_STATUS_VALID_FAIL:"validateFail",FILE_STATUS_WAIT_UPLOAD:"wait",FILE_LIST_PIC:eA,FILE_LIST_DEFAULT:tA,LIST_TYPE:[eA,tA],imageTypes:["image","webp","png","svg","gif","jpg","jpeg","bmp","dpg"],DRAG_AREA_DEFAULT:"default",DRAG_AREA_LEGAL:"legal",DRAG_AREA_ILLEGAL:"illegal",TRIGGER_AUTO:nA,TRIGGER_CUSTOM:rA,UPLOAD_TRIGGER:[nA,rA],VALIDATE_STATUS:od,PROMPT_POSITION:["left","right","bottom"]},Iye={PROGRESS_COEFFICIENT:Oye};var qE=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const oc=1024,Jb=1048576;function XE(n){if(n<oc)return`${(n/oc).toFixed(2)}KB`;if(n>=oc&&n<Jb)return`${(n/oc).toFixed(1)}KB`;if(n>=Jb)return`${(n/Jb).toFixed(1)}MB`}function Pye(n,e){return n.indexOf(e,n.length-e.length)!==-1}function xye(n){return qE(this,void 0,void 0,function*(){return new Promise((e,t)=>{const r=n.createReader();let s=[];function i(){r.readEntries(o=>{const a=Array.prototype.slice.apply(o);s=s.concat(a),!a.length?e(s):i()},t)}i()})})}function Rye(n){return qE(this,void 0,void 0,function*(){const e=[],t=(r,s)=>qE(this,void 0,void 0,function*(){if(s=s||"",r.path=s,r.isFile)e.push(new Promise((i,o)=>{r.file(a=>{r.fullPath&&!a.webkitRelativePath&&(Object.defineProperties(a,{webkitRelativePath:{writable:!0}}),a.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(a,{webkitRelativePath:{writable:!1}})),i(a)},o)}));else if(r.isDirectory){const i=yield xye(r);for(let o=0;o<i.length;o++){const a=i[o];yield t(a,`${s}${r.name}/`)}}});try{const r=n.map(i=>t(i.webkitGetAsEntry()));return yield Promise.all(r),yield Promise.all(e)}catch(r){return console.warn("Captured error while loop directory."),console.error(r),[]}})}var Aye=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const{FILE_STATUS_UPLOADING:sA,FILE_STATUS_SUCCESS:Dye,FILE_STATUS_UPLOAD_FAIL:kye,FILE_STATUS_VALID_FAIL:e0,FILE_STATUS_WAIT_UPLOAD:iA,DRAG_AREA_DEFAULT:t0,DRAG_AREA_LEGAL:Nye,TRIGGER_AUTO:Tg}=We;class Lye extends ke{constructor(e){super(Object.assign({},e)),this.destroyState=!1}init(){this.destroyState=!1;const{disabled:e,addOnPasting:t}=this.getProps();t&&!e&&this.bindPastingHandler()}destroy(){const{disabled:e,addOnPasting:t}=this.getProps();this.releaseMemory(),e||this.unbindPastingHandler(),this.destroyState=!0}getError(e){let{action:t,xhr:r,message:s,fileName:i}=e;const o=r?r.status:0,a=s||`cannot post ${i} to ${t}, xhr status: ${o}'`,l=new Error(a);return l.status=o,l.method="post",l.url=t,l}getBody(e){if(!e)return;const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}checkFileSize(e){const{size:t}=e,{maxSize:r,minSize:s}=this.getProps();let i=!1;return(t>r*oc||t<s*oc)&&(i=!0),i}handleChange(e){const t=[],{limit:r,transformFile:s,accept:i}=this.getProps(),{fileList:o}=this.getStates();let a=Array.from(e);if(typeof i<"u"&&(a=a.filter(u=>{const d=this.checkFileFormat(i,u);return d||t.push(u),d}),t.length!==0&&this._adapter.notifyAcceptInvalid(t),a.length===0))return;a=a.map(u=>(s&&(u=s(u)),u.uid||(u.uid=qg()),this.checkFileSize(u)&&(u._sizeInvalid=!0,u.status=e0,this._adapter.notifySizeError(u,o)),u));const l=o.length+a.length;if(typeof r<"u"&&l>r){if(this._adapter.notifyExceed(a),r===1){a=a.slice(-1),this._adapter.notifyFileSelect(a),this._adapter.resetInput(),this.replaceFileList(a);return}const u=r-o.length;a=a.slice(0,u)}this._adapter.notifyFileSelect(a),this._adapter.resetInput(),this.addFilesToList(a)}handleReplaceChange(e){if(e.length===0)return;const{transformFile:t,uploadTrigger:r,accept:s}=this.getProps(),{replaceIdx:i,fileList:o}=this.getStates();let a=Array.from(e).pop();if(typeof s<"u"&&!this.checkFileFormat(s,a)){this._adapter.notifyAcceptInvalid([a]);return}t&&(a=t(a)),a.uid||(a.uid=qg()),this.checkFileSize(a)&&(a._sizeInvalid=!0,a.status=e0,this._adapter.notifySizeError(a,o)),this._adapter.notifyFileSelect([a]);const l=this.buildFileItem(a,r),u=[...o];u.splice(i,1,l),this._adapter.notifyChange({currentFile:l,fileList:u}),this._adapter.updateFileList(u,()=>{this._adapter.resetReplaceInput(),l._sizeInvalid||this.upload(l)})}buildFileItem(e,t){const{_sizeInvalid:r,status:s}=e;try{delete e._sizeInvalid,delete e.status}catch{}const i={status:s||(t===Tg?sA:iA),name:e.name,size:XE(e.size),uid:e.uid,percent:0,fileInstance:e,url:this._createURL(e)};return r&&(i._sizeInvalid=!0),this.isImage(e)&&(i.preview=!0),i}replaceFileList(e){const{uploadTrigger:t}=this.getProps(),r=e.map(s=>this.buildFileItem(s,t));this._adapter.notifyChange({fileList:r,currentFile:r[0]}),this._adapter.updateFileList(r,()=>{t===Tg&&this.startUpload(r)})}addFilesToList(e){const t=this.getState("fileList").slice(),{uploadTrigger:r}=this.getProps(),s=e.map(i=>this.buildFileItem(i,r));s.forEach(i=>{const o=t.findIndex(a=>a.uid===i.uid);o!==-1?t[o]=i:(t.push(i),this._adapter.notifyChange({fileList:t,currentFile:i}))}),this._adapter.updateFileList(t,()=>{r===Tg&&this.startUpload(s)})}insertFileToList(e,t){const{limit:r,transformFile:s,accept:i,uploadTrigger:o}=this.getProps(),{fileList:a}=this.getStates(),l=[];let u=Array.from(e);if(typeof i<"u"&&(u=u.filter(m=>{const b=this.checkFileFormat(i,m);return b||l.push(m),b}),l.length!==0&&this._adapter.notifyAcceptInvalid(l),u.length===0))return;u=u.map(m=>(m.uid||(m.uid=qg()),this.checkFileSize(m)&&(m._sizeInvalid=!0,m.status=e0,this._adapter.notifySizeError(m,a)),s&&(m=s(m)),m));const d=a.length+u.length;if(typeof r<"u"&&d>r){if(r===1){u=u.slice(-1),this._adapter.notifyFileSelect(u),this._adapter.resetInput(),this.replaceFileList(u);return}const m=r-a.length;u=u.slice(0,m),this._adapter.notifyExceed(u)}const h=u.map(m=>this.buildFileItem(m,o)),f=a.slice();typeof t<"u"?f.splice(t,0,...h):f.push(...h),this._adapter.notifyFileSelect(u),this._adapter.notifyChange({fileList:f,currentFile:null}),this._adapter.updateFileList(f,()=>{o===Tg&&this.startUpload(h)})}manualUpload(){const e=this.getState("fileList").filter(t=>t.status===iA);this.startUpload(e)}startUpload(e){e.forEach(t=>{t._sizeInvalid||this.upload(t)})}upload(e){const{beforeUpload:t}=this.getProps();if(typeof t>"u"){this.post(e);return}if(typeof t=="function"){const{fileList:r}=this.getStates(),s=this._adapter.notifyBeforeUpload({file:e,fileList:r});switch(!0){case s===!0:{this.post(e);break}case s===!1:{const i={shouldUpload:!1,status:We.FILE_STATUS_VALID_FAIL};this.handleBeforeUploadResultInObject(i,e);break}case(s&&mf(s)):{Promise.resolve(s).then(i=>{let o={shouldUpload:!0};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(o=Object.assign(Object.assign({},o),i)),this.handleBeforeUploadResultInObject(o,e)},i=>{let o={shouldUpload:!1,status:We.FILE_STATUS_VALID_FAIL};Object.prototype.toString.call(i).slice(8,-1)==="Object"&&(o=Object.assign(Object.assign({},o),i)),this.handleBeforeUploadResultInObject(o,e)});break}case typeof s=="object":this.handleBeforeUploadResultInObject(s,e);break}}}handleBeforeUploadResultInObject(e,t){const{shouldUpload:r,status:s,autoRemove:i,validateMessage:o,fileInstance:a}=e;let l=this.getState("fileList").slice();if(i)l=l.filter(u=>u.uid!==t.uid);else{const u=this._getFileIndex(t,l);if(u<0)return;s&&(l[u].status=s),o&&(l[u].validateMessage=o),a&&(a.uid=t.uid,l[u].fileInstance=a,l[u].size=XE(a.size),l[u].name=a.name,l[u].url=this._createURL(a)),l[u].shouldUpload=r}this._adapter.updateFileList(l),this._adapter.notifyChange({fileList:l,currentFile:t}),r&&this.post(t)}post(e){const{fileInstance:t}=e,r=this.getProps();if(typeof XMLHttpRequest>"u")return;const s=new XMLHttpRequest,i=new FormData,{action:o}=r;let{data:a}=r;a&&(typeof a=="function"&&(a=a(t)),Object.keys(a).forEach(d=>{i.append(d,a[d])}));const l=r.name||r.fileName||t.name;if(r.customRequest)return r.customRequest({fileName:l,data:a,file:e,fileInstance:t,onProgress:d=>this.handleProgress({e:d,fileInstance:t}),onError:(d,h)=>this.handleError({e:h,xhr:d,fileInstance:t}),onSuccess:(d,h)=>this.handleSuccess({response:d,fileInstance:t,e:h,isCustomRequest:!0}),withCredentials:r.withCredentials,action:r.action});i.append(l,t),s.open("post",o,!0),r.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0),s.upload&&(s.upload.onprogress=d=>{this.destroyState?s.abort():this.handleProgress({e:d,fileInstance:t})}),s.onload=d=>{this.destroyState||this.handleOnLoad({e:d,xhr:s,fileInstance:t})},s.onerror=d=>{this.destroyState||this.handleError({e:d,xhr:s,fileInstance:t})};let u=r.headers||{};typeof u=="function"&&(u=u(t));for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&u[d]!==null&&s.setRequestHeader(d,u[d]);s.send(i)}handleProgress(e){let{e:t,fileInstance:r}=e;const{fileList:s}=this.getStates(),i=s.slice();let o=0;t.total>0&&(o=Number((t.loaded/t.total*100*Iye.PROGRESS_COEFFICIENT).toFixed(0))||0);const a=this._getFileIndex(r,i);a<0||(i[a].percent=o,i[a].status=sA,this._adapter.notifyProgress(o,r,i),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:i[a]}))}handleOnLoad(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),o=this._getFileIndex(s,i);o<0||(r.status<200||r.status>=300?this.handleError({e:t,xhr:r,fileInstance:s}):this.handleSuccess({e:t,xhr:r,fileInstance:s,index:o}))}handleSuccess(e){let{e:t,fileInstance:r,isCustomRequest:s=!1,xhr:i,response:o}=e;const{fileList:a}=this.getStates();let l=null;const u=this._getFileIndex(r,a);if(u<0)return;s?l=o:l=this.getBody(i);const d=a.slice(),{afterUpload:h}=this.getProps();if(d[u].status=Dye,d[u].percent=100,this._adapter.notifyProgress(100,r,d),d[u].response=l,t&&(d[u].event=t),h&&typeof h=="function"){const{autoRemove:f,status:m,validateMessage:b,name:v,url:_}=this._adapter.notifyAfterUpload({response:l,file:d[u],fileList:d})||{};m&&(d[u].status=m),b&&(d[u].validateMessage=b),v&&(d[u].name=v),_&&(d[u].url=_),f&&d.splice(u,1)}this._adapter.notifySuccess(l,r,d),this._adapter.notifyChange({fileList:d,currentFile:d[u]}),this._adapter.updateFileList(d)}_getFileIndex(e,t){return t.findIndex(r=>r.uid===e.uid)}handleRemove(e){const{disabled:t}=this.getProps();if(t)return;const{fileList:r}=this.getStates();Promise.resolve(this._adapter.notifyBeforeRemove(e,r)).then(s=>{if(s===!1)return;const i=r.slice(),o=this._getFileIndex(e,r);o<0||(i.splice(o,1),this._adapter.notifyRemove(e.fileInstance,i,e),this._adapter.updateFileList(i),this._adapter.notifyChange({fileList:i,currentFile:e}))})}handleError(e){let{e:t,xhr:r,fileInstance:s}=e;const{fileList:i}=this.getStates(),o=this._getFileIndex(s,i);if(o<0)return;const{action:a}=this.getProps(),l=i.slice(),u=this.getError({action:a,xhr:r,fileName:s.name});l[o].status=kye,l[o].response=u,l[o].event=t,this._adapter.notifyError(u,s,l,r),this._adapter.updateFileList(l),this._adapter.notifyChange({currentFile:l[o],fileList:l})}handleClear(){const{disabled:e}=this.getProps(),{fileList:t}=this.getStates();e||Promise.resolve(this._adapter.notifyBeforeClear(t)).then(r=>{r!==!1&&(this._adapter.updateFileList([]),this._adapter.notifyClear(),this._adapter.notifyChange({fileList:[]}))}).catch(r=>{})}_createURL(e){const t=URL.createObjectURL(e),{localUrls:r}=this.getStates(),s=r.slice();return s.push(t),this._adapter.updateLocalUrls(s),t}releaseMemory(){const{localUrls:e}=this.getStates();e.forEach(t=>{this._releaseBlob(t)})}_releaseBlob(e){try{URL.revokeObjectURL(e)}catch(t){console.log(t)}}isImage(e){return/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(e.type)}isMultiple(){return!!this.getProp("multiple")}handleDragEnter(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget=e.currentTarget;const{disabled:t}=this.getProps();t||this._adapter.updateDragAreaStatus(Nye)}handleDirectoryDrop(e){return Aye(this,void 0,void 0,function*(){const t=this.getState("fileList").slice(),r=[].slice.call(e.dataTransfer.items),s=yield Rye(r);this.handleChange(s),this._adapter.updateDragAreaStatus(t0),this._adapter.notifyDrop(e,s,t)})}handleDrop(e){e.preventDefault(),e.stopPropagation();const{disabled:t,directory:r}=this.getProps(),s=this.getState("fileList").slice();if(!t){if(r){this.handleDirectoryDrop(e);return}const i=Array.from(e.dataTransfer.files);this.handleChange(i),this._adapter.updateDragAreaStatus(t0),this._adapter.notifyDrop(e,i,s)}}handleDragOver(e){e.preventDefault(),e.stopPropagation()}handleDragLeave(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget===e.target&&this._adapter.updateDragAreaStatus(t0)}checkFileFormat(e,t){const r=e.split(",").map(o=>o.trim()).filter(o=>o),s=t.type||"",i=s.replace(/\/.*$/,"");return r.some(o=>{if(o.charAt(0)==="."){const a=t.name||"",l=o.split(".").pop().toLowerCase();return Pye(a.toLowerCase(),l)}if(/\/\*$/.test(o)){const a=o.replace(/\/.*$/,"");return i===a}return/^[^\/]+\/[^\/]+$/.test(o)?s===o:!1})}retry(e){const{onRetry:t}=this.getProps();t&&typeof t=="function"&&t(e),this.post(e)}handlePreviewClick(e){this._adapter.notifyPreviewClick(e)}readFileFromClipboard(e){for(const t of e)for(const r of t.types)r.startsWith("image")&&t.getType(r).then(s=>s.arrayBuffer()).then(s=>{const i=r.split("/")[1],o=new File([s],`upload.${i}`,{type:r});this.handleChange([o])})}handlePasting(e){const r=this._adapter.isMac()?e.metaKey:e.ctrlKey,{addOnPasting:s}=this.getProps();s&&r&&e.code==="KeyV"&&navigator.permissions.query({name:"clipboard-read"}).then(o=>{o.state==="granted"||o.state==="prompt"?navigator.clipboard.read().then(a=>{this.readFileFromClipboard(a)}):this._adapter.notifyPastingError(o)}).catch(o=>{this._adapter.notifyPastingError(o)})}bindPastingHandler(){this._adapter.registerPastingHandler(e=>this.handlePasting(e))}unbindPastingHandler(){this._adapter.unRegisterPastingHandler()}}class Mye extends ke{constructor(e){super(Object.assign({},e))}handleImageError(e){this._adapter.updateFallbackPreview(!0)}}const Dt=dj.PREFIX,$ye=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("circle",{cx:"7.99992",cy:"7.99992",r:"6.66667",fill:"white"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.00008C15.3332 12.0502 12.0499 15.3334 7.99984 15.3334C3.94975 15.3334 0.666504 12.0502 0.666504 8.00008C0.666504 3.94999 3.94975 0.666748 7.99984 0.666748C12.0499 0.666748 15.3332 3.94999 15.3332 8.00008ZM8.99984 11.6667C8.99984 11.1145 8.55212 10.6667 7.99984 10.6667C7.44755 10.6667 6.99984 11.1145 6.99984 11.6667C6.99984 12.219 7.44755 12.6667 7.99984 12.6667C8.55212 12.6667 8.99984 12.219 8.99984 11.6667ZM7.99984 3.33341C7.27573 3.33341 6.7003 3.94171 6.74046 4.66469L6.94437 8.33495C6.97549 8.89513 7.4388 9.33341 7.99984 9.33341C8.56087 9.33341 9.02419 8.89513 9.05531 8.33495L9.25921 4.66469C9.29938 3.94171 8.72394 3.33341 7.99984 3.33341Z",fill:"#F93920"}))},Fye=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#16161A",fillOpacity:"0.6"}),g.createElement("path",{d:"M9 10.25V18.25L10.25 13.25H17.875V11.75C17.875 11.4739 17.6511 11.25 17.375 11.25H14L12.75 9.75H9.5C9.22386 9.75 9 9.97386 9 10.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 18.25L19 13.25H10.2031L9 18.25H18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},jye=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("path",{d:"M6 17V7.58824C6 7.26336 6.26863 7 6.6 7H10.5L12 8.76471H16.05C16.3814 8.76471 16.65 9.02806 16.65 9.35294V11.1176H7.5L6 17ZM6 17L7.44375 11.1176H18L16.8 17L6 17Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};class Jv extends xe{constructor(e){super(e),this.state={fallbackPreview:!1},this.foundation=new Mye(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateFallbackPreview:e=>this.setState({fallbackPreview:e})})}transSize(e){return typeof e=="number"?XE(e):e}renderValidateMessage(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(typeof t=="string"&&e===We.FILE_STATUS_VALIDATING):r=g.createElement(g.Fragment,null,g.createElement(Zi,{size:"small",wrapperClassName:`${Dt}-file-card-icon-loading`}),t);break;case typeof t=="string":r=g.createElement(g.Fragment,null,g.createElement(lf,{className:`${Dt}-file-card-icon-error`}),t);break;case Mw(t):r=t;break}return r}renderPicValidateMsg(){const{status:e,validateMessage:t}=this.props;let r=null;switch(!0){case(t&&e===We.FILE_STATUS_VALIDATING):r=g.createElement(Zi,{size:"small",wrapperClassName:`${Dt}-picture-file-card-icon-loading`});break;case(t&&(e===We.FILE_STATUS_VALID_FAIL||e===We.FILE_STATUS_UPLOAD_FAIL)):r=g.createElement("div",{className:`${Dt}-picture-file-card-icon-error`},g.createElement($ye,null));break}return r?g.createElement(wr,{content:t,trigger:"hover",position:"bottom"},r):null}renderPic(e){const{fallbackPreview:t}=this.state,{url:r,percent:s,status:i,disabled:o,style:a,onPreviewClick:l,showPicInfo:u,renderPicInfo:d,renderPicPreviewIcon:h,renderThumbnail:f,name:m,index:b,picHeight:v,picWidth:_}=this.props,y=i===We.FILE_STATUS_UPLOADING&&s!==100,w=i===We.FILE_STATUS_UPLOAD_FAIL&&this.props.showRetry,E=i===We.FILE_STATUS_SUCCESS&&this.props.showReplace,S=i===We.FILE_STATUS_SUCCESS&&!this.props.showReplace,I=typeof f=="function",x=$({[`${Dt}-picture-file-card`]:!0,[`${Dt}-picture-file-card-preview-fallback`]:t,[`${Dt}-picture-file-card-disabled`]:o,[`${Dt}-picture-file-card-show-pointer`]:typeof l<"u",[`${Dt}-picture-file-card-error`]:i===We.FILE_STATUS_UPLOAD_FAIL,[`${Dt}-picture-file-card-uploading`]:y,[`${Dt}-picture-file-card-custom-thumbnail`]:I&&v&&_}),O=g.createElement("div",{role:"button",tabIndex:0,className:`${Dt}-picture-file-card-retry`,onClick:z=>this.onRetry(z)},g.createElement(Lse,{className:`${Dt}-picture-file-card-icon-retry`})),T=g.createElement(wr,{trigger:"hover",position:"top",content:e.replace,showArrow:!1,spacing:4},g.createElement("div",{role:"button",tabIndex:0,className:`${Dt}-picture-file-card-replace`,onClick:z=>this.onReplace(z)},g.createElement(Fye,{className:`${Dt}-picture-file-card-icon-replace`}))),P=g.createElement("div",{className:`${Dt}-picture-file-card-preview`},typeof h=="function"?h(this.props):null),A=g.createElement("div",{role:"button",tabIndex:0,className:`${Dt}-picture-file-card-close`,onClick:z=>this.onRemove(z)},g.createElement(Za,{className:`${Dt}-picture-file-card-icon-close`})),k=typeof d=="function"?d(this.props):g.createElement("div",{className:`${Dt}-picture-file-card-pic-info`},b+1);let M={},N=a?Object.assign({},a):{};v&&(N.height=v,M.height=v),_&&(N.width=_,M.width=_);const G=I?f(this.props):t?g.createElement(Vw,{size:"large"}):g.createElement("img",{src:r,alt:m,onError:z=>this.foundation.handleImageError(z),style:M});return g.createElement("div",{role:"listitem",className:x,style:N,onClick:l},G,y?g.createElement(_f,{percent:s,type:"circle",size:"small",orbitStroke:"#FFF","aria-label":"uploading file progress"}):null,w?O:null,E&&T,S&&P,u&&k,!o&&A,this.renderPicValidateMsg())}renderFile(e){const{name:t,size:r,percent:s,url:i,showRetry:o,showReplace:a,preview:l,previewFile:u,status:d,style:h,onPreviewClick:f,renderFileOperation:m}=this.props,{fallbackPreview:b}=this.state,v=$({[`${Dt}-file-card`]:!0,[`${Dt}-file-card-fail`]:d===We.FILE_STATUS_VALID_FAIL||d===We.FILE_STATUS_UPLOAD_FAIL,[`${Dt}-file-card-show-pointer`]:typeof f<"u"}),_=$({[`${Dt}-file-card-preview`]:!0,[`${Dt}-file-card-preview-placeholder`]:!l||u||b}),y=`${Dt}-file-card-info`,w=`${Dt}-file-card-close`,E=`${Dt}-file-card-replace`,S=!(s===100||typeof s>"u")&&d===We.FILE_STATUS_UPLOADING,I=d===We.FILE_STATUS_UPLOAD_FAIL&&o,x=d===We.FILE_STATUS_SUCCESS&&a,O=this.transSize(r);let T=l&&!b?g.createElement("img",{src:i,alt:t,onError:A=>this.foundation.handleImageError(A)}):g.createElement(Vw,{size:"large"});u&&(T=u(this.props));const P=typeof m=="function"?m(this.props):g.createElement(Jt,{onClick:A=>this.onRemove(A),type:"tertiary",icon:g.createElement(Iv,null),theme:"borderless",size:"small",className:w});return g.createElement("div",{role:"listitem",className:v,style:h,onClick:f},g.createElement("div",{className:_},T),g.createElement("div",{className:`${y}-main`},g.createElement("div",{className:`${y}-main-text`},g.createElement("span",{className:`${y}-name`},t),g.createElement("span",null,g.createElement("span",{className:`${y}-size`},O),x&&g.createElement(wr,{trigger:"hover",position:"top",showArrow:!1,content:e.replace},g.createElement(Jt,{onClick:A=>this.onReplace(A),type:"tertiary",theme:"borderless",size:"small",icon:g.createElement(jye,null),className:E})))),S?g.createElement(_f,{percent:s,style:{width:"100%"},"aria-label":"uploading file progress"}):null,g.createElement("div",{className:`${y}-main-control`},g.createElement("span",{className:`${y}-validate-message`},this.renderValidateMessage()),I?g.createElement("span",{role:"button",tabIndex:0,className:`${y}-retry`,onClick:A=>this.onRetry(A)},e.retry):null)),P)}onRemove(e){e.stopPropagation(),this.props.onRemove()}onReplace(e){e.stopPropagation(),this.props.onReplace()}onRetry(e){e.stopPropagation(),this.props.onRetry()}render(){const{listType:e}=this.props;return e===We.FILE_LIST_PIC?g.createElement(On,{componentName:"Upload"},t=>this.renderPic(t)):e===We.FILE_LIST_DEFAULT?g.createElement(On,{componentName:"Upload"},t=>this.renderFile(t)):null}}Jv.propTypes={className:c.string,disabled:c.bool,listType:c.string,name:c.string,onPreviewClick:c.func,onRemove:c.func,onReplace:c.func,onRetry:c.func,percent:c.number,preview:c.bool,previewFile:c.func,picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),showReplace:c.bool,showRetry:c.bool,size:c.oneOfType([c.number,c.string]),status:c.string,style:c.object,url:c.string,validateMessage:c.node,index:c.number};Jv.defaultProps={listType:We.FILE_LIST_DEFAULT,name:"",onRemove:()=>{},onRetry:()=>{},preview:!1,size:""};var Vye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const rn=dj.PREFIX;class e_ extends xe{constructor(e){super(e),this.inputRef=null,this.replaceInputRef=null,this.onClick=()=>{const{inputRef:t,props:r}=this,{onOpenFileDialog:s}=r;this.props.disabled||!t||!t.current||(t.current.click(),s&&s())},this.onChange=t=>{const{files:r}=t.target;this.foundation.handleChange(r)},this.replace=t=>{this.setState({replaceIdx:t},()=>{this.replaceInputRef.current.click()})},this.onReplaceChange=t=>{const{files:r}=t.target;this.foundation.handleReplaceChange(r)},this.clear=()=>{this.foundation.handleClear()},this.remove=t=>{this.foundation.handleRemove(t)},this.insert=(t,r)=>this.foundation.insertFileToList(t,r),this.upload=()=>{this.foundation.manualUpload()},this.openFileDialog=()=>{this.onClick()},this.renderFile=(t,r,s)=>{const{name:i,status:o,validateMessage:a,_sizeInvalid:l,uid:u}=t,{previewFile:d,listType:h,itemStyle:f,showPicInfo:m,renderPicInfo:b,renderPicPreviewIcon:v,renderFileOperation:_,renderFileItem:y,renderThumbnail:w,disabled:E,onPreviewClick:S,picWidth:I,picHeight:x}=this.props,O=()=>this.remove(t),T=()=>{this.foundation.retry(t)},P=()=>{this.replace(r)},A=Object.assign(Object.assign(Object.assign({},Wl(this.props,["showRetry","showReplace",""])),t),{previewFile:d,listType:h,onRemove:O,onRetry:T,index:r,key:u||`${i}${r}`,style:f,disabled:E,showPicInfo:m,renderPicInfo:b,renderPicPreviewIcon:v,renderFileOperation:_,renderThumbnail:w,onReplace:P,onPreviewClick:typeof S<"u"?()=>this.foundation.handlePreviewClick(t):void 0,picWidth:I,picHeight:x});return o===We.FILE_STATUS_UPLOAD_FAIL&&!a&&(A.validateMessage=s.fail),l&&!a&&(A.validateMessage=s.illegalSize),typeof y>"u"?g.createElement(Jv,Object.assign({},A)):y(A)},this.renderFileList=()=>{const{listType:t}=this.props;return t===We.FILE_LIST_PIC?this.renderFileListPic():t===We.FILE_LIST_DEFAULT?this.renderFileListDefault():null},this.renderFileListPic=()=>{const{showUploadList:t,limit:r,disabled:s,children:i,draggable:o,hotSpotLocation:a,picHeight:l,picWidth:u}=this.props,{fileList:d,dragAreaStatus:h}=this.state,f=this.props.fileList||d,m=r?r>f.length:!0,b=`${rn}-drag-area`,v=$(`${rn}-add`,{[`${rn}-picture-add`]:!0,[`${rn}-picture-add-disabled`]:s}),_=$(`${rn}-file-list`,{[`${rn}-picture-file-list`]:!0}),y=$({[`${b}-legal`]:h===We.DRAG_AREA_LEGAL,[`${b}-illegal`]:h===We.DRAG_AREA_ILLEGAL}),w=`${rn}-file-list-main`,E={role:"button",className:v,onClick:this.onClick,style:{height:l,width:u}},S={className:_},I={onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter};o&&Object.assign(E,I,{className:$(v,y)});const x=g.createElement("div",Object.assign({},E,{"x-semi-prop":"children"}),i);return!t||!f.length?m?x:null:g.createElement(On,{componentName:"Upload"},O=>g.createElement("div",Object.assign({},S),g.createElement("div",{className:w,role:"list","aria-label":"picture list"},m&&a==="start"?x:null,f.map((T,P)=>this.renderFile(T,P,O)),m&&a==="end"?x:null)))},this.renderFileListDefault=()=>{const{showUploadList:t,limit:r,disabled:s}=this.props,{fileList:i}=this.state,o=this.props.fileList||i,a=$(`${rn}-file-list`),l=`${rn}-file-list-title`,u=`${rn}-file-list-main`,d=r!==1&&o.length,h=this.props.showClear&&!s,f={className:a};return!t||!o.length?null:g.createElement(On,{componentName:"Upload"},m=>g.createElement("div",Object.assign({},f),d?g.createElement("div",{className:l},g.createElement("span",{className:`${l}-choosen`},m.selectedFiles),h?g.createElement("span",{role:"button",tabIndex:0,onClick:this.clear,className:`${l}-clear`},m.clear):null):null,g.createElement("div",{className:u,role:"list","aria-label":"file list"},o.map((b,v)=>this.renderFile(b,v,m)))))},this.onDrop=t=>{this.foundation.handleDrop(t)},this.onDragOver=t=>{this.foundation.handleDragOver(t)},this.onDragLeave=t=>{this.foundation.handleDragLeave(t)},this.onDragEnter=t=>{this.foundation.handleDragEnter(t)},this.renderAddContent=()=>{const{draggable:t,children:r,listType:s,disabled:i}=this.props,o=$(`${rn}-add`);return s===We.FILE_LIST_PIC?null:t?this.renderDragArea():g.createElement("div",{role:"button",tabIndex:0,"aria-disabled":i,className:o,onClick:this.onClick},r)},this.renderDragArea=()=>{const{dragAreaStatus:t}=this.state,{children:r,dragIcon:s,dragMainText:i,dragSubText:o,disabled:a}=this.props,l=`${rn}-drag-area`,u=$(l,{[`${l}-legal`]:t===We.DRAG_AREA_LEGAL,[`${l}-illegal`]:t===We.DRAG_AREA_ILLEGAL,[`${l}-custom`]:r});return g.createElement(On,{componentName:"Upload"},d=>g.createElement("div",{role:"button",tabIndex:0,"aria-disabled":a,className:u,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onClick:this.onClick},r||g.createElement(g.Fragment,null,g.createElement("div",{className:`${l}-icon`,"x-semi-prop":"dragIcon"},s||g.createElement(zse,{size:"extra-large"})),g.createElement("div",{className:`${l}-text`},g.createElement("div",{className:`${l}-main-text`,"x-semi-prop":"dragMainText"},i||d.mainText),g.createElement("div",{className:`${l}-sub-text`,"x-semi-prop":"dragSubText"},o),g.createElement("div",{className:`${l}-tips`},t===We.DRAG_AREA_LEGAL&&g.createElement("span",{className:`${l}-tips-legal`},d.legalTips),t===We.DRAG_AREA_ILLEGAL&&g.createElement("span",{className:`${l}-tips-illegal`},d.illegalTips))))))},this.state={fileList:e.defaultFileList||[],replaceIdx:-1,inputKey:Math.random(),replaceInputKey:Math.random(),dragAreaStatus:"default",localUrls:[]},this.foundation=new Lye(this.adapter),this.inputRef=g.createRef(),this.replaceInputRef=g.createRef()}static getDerivedStateFromProps(e){const{fileList:t}=e;return"fileList"in e?{fileList:t||[]}:null}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyFileSelect:e=>this.props.onFileChange(e),notifyError:(e,t,r,s)=>this.props.onError(e,t,r,s),notifySuccess:(e,t,r)=>this.props.onSuccess(e,t,r),notifyProgress:(e,t,r)=>this.props.onProgress(e,t,r),notifyRemove:(e,t,r)=>this.props.onRemove(e,t,r),notifySizeError:(e,t)=>this.props.onSizeError(e,t),notifyExceed:e=>this.props.onExceed(e),updateFileList:(e,t)=>{typeof t=="function"?this.setState({fileList:e},t):this.setState({fileList:e})},notifyBeforeUpload:e=>{let{file:t,fileList:r}=e;return this.props.beforeUpload({file:t,fileList:r})},notifyAfterUpload:e=>{let{response:t,file:r,fileList:s}=e;return this.props.afterUpload({response:t,file:r,fileList:s})},resetInput:()=>{this.setState(e=>({inputKey:Math.random()}))},resetReplaceInput:()=>{this.setState(e=>({replaceInputKey:Math.random()}))},isMac:()=>navigator.platform.toUpperCase().indexOf("MAC")>=0,registerPastingHandler:e=>{document.body.addEventListener("keydown",e),this.pastingCb=e},unRegisterPastingHandler:()=>{this.pastingCb&&document.body.removeEventListener("keydown",this.pastingCb)},notifyPastingError:e=>this.props.onPastingError(e),updateDragAreaStatus:e=>this.setState({dragAreaStatus:e}),notifyChange:e=>{let{currentFile:t,fileList:r}=e;return this.props.onChange({currentFile:t,fileList:r})},updateLocalUrls:e=>this.setState({localUrls:e}),notifyClear:()=>this.props.onClear(),notifyPreviewClick:e=>this.props.onPreviewClick(e),notifyDrop:(e,t,r)=>this.props.onDrop(e,t,r),notifyAcceptInvalid:e=>this.props.onAcceptInvalid(e),notifyBeforeRemove:(e,t)=>this.props.beforeRemove(e,t),notifyBeforeClear:e=>this.props.beforeClear(e)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,className:r,multiple:s,accept:i,disabled:o,children:a,capture:l,listType:u,prompt:d,promptPosition:h,draggable:f,validateMessage:m,validateStatus:b,directory:v}=e,_=Vye(e,["style","className","multiple","accept","disabled","children","capture","listType","prompt","promptPosition","draggable","validateMessage","validateStatus","directory"]),y=$(rn,{[`${rn}-picture`]:u===We.FILE_LIST_PIC,[`${rn}-disabled`]:o,[`${rn}-default`]:b==="default",[`${rn}-error`]:b==="error",[`${rn}-warning`]:b==="warning",[`${rn}-success`]:b==="success"},r),w=$(`${rn}-hidden-input`),E=$(`${rn}-hidden-input-replace`),S=$(`${rn}-prompt`),I=$(`${rn}-validate-message`),x=v?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return g.createElement("div",Object.assign({className:y,style:t,"x-prompt-pos":h},this.getDataAttr(_)),g.createElement("input",Object.assign({key:this.state.inputKey,capture:l,multiple:s,accept:i,onChange:this.onChange,type:"file",autoComplete:"off",tabIndex:-1,className:w,ref:this.inputRef},x)),g.createElement("input",{key:this.state.replaceInputKey,multiple:!1,accept:i,onChange:this.onReplaceChange,type:"file",autoComplete:"off",tabIndex:-1,className:E,ref:this.replaceInputRef}),this.renderAddContent(),d?g.createElement("div",{className:S,"x-semi-prop":"prompt"},d):null,m?g.createElement("div",{className:I,"x-semi-prop":"validateMessage"},m):null,this.renderFileList())}}e_.propTypes={accept:c.string,action:c.string.isRequired,addOnPasting:c.bool,afterUpload:c.func,beforeClear:c.func,beforeRemove:c.func,beforeUpload:c.func,children:c.node,className:c.string,customRequest:c.func,data:c.oneOfType([c.object,c.func]),defaultFileList:c.array,directory:c.bool,disabled:c.bool,dragIcon:c.node,dragMainText:c.node,dragSubText:c.node,draggable:c.bool,fileList:c.array,fileName:c.string,headers:c.oneOfType([c.object,c.func]),hotSpotLocation:c.oneOf(["start","end"]),itemStyle:c.object,limit:c.number,listType:c.oneOf(We.LIST_TYPE),maxSize:c.number,minSize:c.number,multiple:c.bool,name:c.string,onAcceptInvalid:c.func,onChange:c.func,onClear:c.func,onDrop:c.func,onError:c.func,onExceed:c.func,onFileChange:c.func,onOpenFileDialog:c.func,onPreviewClick:c.func,onProgress:c.func,onRemove:c.func,onRetry:c.func,onSizeError:c.func,onSuccess:c.func,onPastingError:c.func,previewFile:c.func,prompt:c.node,promptPosition:c.oneOf(We.PROMPT_POSITION),picWidth:c.oneOfType([c.number,c.string]),picHeight:c.oneOfType([c.number,c.string]),renderFileItem:c.func,renderPicPreviewIcon:c.func,renderFileOperation:c.func,renderPicInfo:c.func,renderThumbnail:c.func,showClear:c.bool,showPicInfo:c.bool,showReplace:c.bool,showRetry:c.bool,showUploadList:c.bool,style:c.object,timeout:c.number,transformFile:c.func,uploadTrigger:c.oneOf(We.UPLOAD_TRIGGER),validateMessage:c.node,validateStatus:c.oneOf(We.VALIDATE_STATUS),withCredentials:c.bool};e_.defaultProps={defaultFileList:[],disabled:!1,listType:"list",hotSpotLocation:"end",multiple:!1,onAcceptInvalid:F,onChange:F,beforeRemove:()=>!0,beforeClear:()=>!0,onClear:F,onDrop:F,onError:F,onExceed:F,onFileChange:F,onOpenFileDialog:F,onProgress:F,onRemove:F,onRetry:F,onSizeError:F,onSuccess:F,onPastingError:F,promptPosition:"right",showClear:!0,showPicInfo:!1,showReplace:!1,showRetry:!0,showUploadList:!0,uploadTrigger:"auto",withCredentials:!1};e_.FileCard=Jv;function Cl(){return Cl=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cl.apply(this,arguments)}function Uye(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,wf(n,e)}function QE(n){return QE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},QE(n)}function wf(n,e){return wf=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},wf(n,e)}function Bye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function im(n,e,t){return Bye()?im=Reflect.construct:im=function(s,i,o){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(s,a),u=new l;return o&&wf(u,o.prototype),u},im.apply(null,arguments)}function Hye(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function ZE(n){var e=typeof Map=="function"?new Map:void 0;return ZE=function(r){if(r===null||!Hye(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return im(r,arguments,QE(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),wf(s,r)},ZE(n)}var zye=/%[sdj%]/g,Kye=function(){};function JE(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function ds(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=1,s=e[0],i=e.length;if(typeof s=="function")return s.apply(null,e.slice(1));if(typeof s=="string"){var o=String(s).replace(zye,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch{return"[Circular]"}break;default:return a}});return o}return s}function Wye(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Mn(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Wye(e)&&typeof n=="string"&&!n)}function Gye(n,e,t){var r=[],s=0,i=n.length;function o(a){r.push.apply(r,a),s++,s===i&&t(r)}n.forEach(function(a){e(a,o)})}function oA(n,e,t){var r=0,s=n.length;function i(o){if(o&&o.length){t(o);return}var a=r;r=r+1,a<s?e(n[a],i):t([])}i([])}function Yye(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t])}),e}var aA=function(n){Uye(e,n);function e(t,r){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=t,s.fields=r,s}return e}(ZE(Error));function qye(n,e,t,r){if(e.first){var s=new Promise(function(h,f){var m=function(_){return r(_),_.length?f(new aA(_,JE(_))):h()},b=Yye(n);oA(b,t,m)});return s.catch(function(h){return h}),s}var i=e.firstFields||[];i===!0&&(i=Object.keys(n));var o=Object.keys(n),a=o.length,l=0,u=[],d=new Promise(function(h,f){var m=function(v){if(u.push.apply(u,v),l++,l===a)return r(u),u.length?f(new aA(u,JE(u))):h()};o.length||(r(u),h()),o.forEach(function(b){var v=n[b];i.indexOf(b)!==-1?oA(v,t,m):Gye(v,t,m)})});return d.catch(function(h){return h}),d}function lA(n){return function(e){return e&&e.message?(e.field=e.field||n.fullField,e):{message:typeof e=="function"?e():e,field:e.field||n.fullField}}}function uA(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=Cl({},n[t],r):n[t]=r}}return n}function hj(n,e,t,r,s,i){n.required&&(!t.hasOwnProperty(n.field)||Mn(e,i||n.type))&&r.push(ds(s.messages.required,n.fullField))}function Xye(n,e,t,r,s){(/^\s+$/.test(e)||e==="")&&r.push(ds(s.messages.whitespace,n.fullField))}var n0={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},lh={integer:function(e){return lh.number(e)&&parseInt(e,10)===e},float:function(e){return lh.number(e)&&!lh.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!lh.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&!!e.match(n0.email)&&e.length<255},url:function(e){return typeof e=="string"&&!!e.match(n0.url)},hex:function(e){return typeof e=="string"&&!!e.match(n0.hex)}};function Qye(n,e,t,r,s){if(n.required&&e===void 0){hj(n,e,t,r,s);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=n.type;i.indexOf(o)>-1?lh[o](e)||r.push(ds(s.messages.types[o],n.fullField,n.type)):o&&typeof e!==n.type&&r.push(ds(s.messages.types[o],n.fullField,n.type))}function Zye(n,e,t,r,s){var i=typeof n.len=="number",o=typeof n.min=="number",a=typeof n.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,d=null,h=typeof e=="number",f=typeof e=="string",m=Array.isArray(e);if(h?d="number":f?d="string":m&&(d="array"),!d)return!1;m&&(u=e.length),f&&(u=e.replace(l,"_").length),i?u!==n.len&&r.push(ds(s.messages[d].len,n.fullField,n.len)):o&&!a&&u<n.min?r.push(ds(s.messages[d].min,n.fullField,n.min)):a&&!o&&u>n.max?r.push(ds(s.messages[d].max,n.fullField,n.max)):o&&a&&(u<n.min||u>n.max)&&r.push(ds(s.messages[d].range,n.fullField,n.min,n.max))}var ku="enum";function Jye(n,e,t,r,s){n[ku]=Array.isArray(n[ku])?n[ku]:[],n[ku].indexOf(e)===-1&&r.push(ds(s.messages[ku],n.fullField,n[ku].join(", ")))}function eve(n,e,t,r,s){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(e)||r.push(ds(s.messages.pattern.mismatch,n.fullField,e,n.pattern));else if(typeof n.pattern=="string"){var i=new RegExp(n.pattern);i.test(e)||r.push(ds(s.messages.pattern.mismatch,n.fullField,e,n.pattern))}}}var Be={required:hj,whitespace:Xye,type:Qye,range:Zye,enum:Jye,pattern:eve};function tve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e,"string")&&!n.required)return t();Be.required(n,e,r,i,s,"string"),Mn(e,"string")||(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s),Be.pattern(n,e,r,i,s),n.whitespace===!0&&Be.whitespace(n,e,r,i,s))}t(i)}function nve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&Be.type(n,e,r,i,s)}t(i)}function rve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(e===""&&(e=void 0),Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s))}t(i)}function sve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&Be.type(n,e,r,i,s)}t(i)}function ive(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),Mn(e)||Be.type(n,e,r,i,s)}t(i)}function ove(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s))}t(i)}function ave(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s))}t(i)}function lve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(e==null&&!n.required)return t();Be.required(n,e,r,i,s,"array"),e!=null&&(Be.type(n,e,r,i,s),Be.range(n,e,r,i,s))}t(i)}function uve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&Be.type(n,e,r,i,s)}t(i)}var cve="enum";function dve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s),e!==void 0&&Be[cve](n,e,r,i,s)}t(i)}function hve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e,"string")&&!n.required)return t();Be.required(n,e,r,i,s),Mn(e,"string")||Be.pattern(n,e,r,i,s)}t(i)}function fve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e,"date")&&!n.required)return t();if(Be.required(n,e,r,i,s),!Mn(e,"date")){var a;e instanceof Date?a=e:a=new Date(e),Be.type(n,a,r,i,s),a&&Be.range(n,a.getTime(),r,i,s)}}t(i)}function pve(n,e,t,r,s){var i=[],o=Array.isArray(e)?"array":typeof e;Be.required(n,e,r,i,s,o),t(i)}function r0(n,e,t,r,s){var i=n.type,o=[],a=n.required||!n.required&&r.hasOwnProperty(n.field);if(a){if(Mn(e,i)&&!n.required)return t();Be.required(n,e,r,o,s,i),Mn(e,i)||Be.type(n,e,r,o,s)}t(o)}function gve(n,e,t,r,s){var i=[],o=n.required||!n.required&&r.hasOwnProperty(n.field);if(o){if(Mn(e)&&!n.required)return t();Be.required(n,e,r,i,s)}t(i)}var xh={string:tve,method:nve,number:rve,boolean:sve,regexp:ive,integer:ove,float:ave,array:lve,object:uve,enum:dve,pattern:hve,date:fve,url:r0,hex:r0,email:r0,required:pve,any:gve};function eS(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var i1=eS();function ka(n){this.rules=null,this._messages=i1,this.define(n)}ka.prototype={messages:function(e){return e&&(this._messages=uA(eS(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if(typeof e!="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t,r;for(t in e)e.hasOwnProperty(t)&&(r=e[t],this.rules[t]=Array.isArray(r)?r:[r])},validate:function(e,t,r){var s=this;t===void 0&&(t={}),r===void 0&&(r=function(){});var i=e,o=t,a=r;if(typeof o=="function"&&(a=o,o={}),!this.rules||Object.keys(this.rules).length===0)return a&&a(),Promise.resolve();function l(v){var _,y=[],w={};function E(S){if(Array.isArray(S)){var I;y=(I=y).concat.apply(I,S)}else y.push(S)}for(_=0;_<v.length;_++)E(v[_]);y.length?w=JE(y):(y=null,w=null),a(y,w)}if(o.messages){var u=this.messages();u===i1&&(u=eS()),uA(u,o.messages),o.messages=u}else o.messages=this.messages();var d,h,f={},m=o.keys||Object.keys(this.rules);m.forEach(function(v){d=s.rules[v],h=i[v],d.forEach(function(_){var y=_;typeof y.transform=="function"&&(i===e&&(i=Cl({},i)),h=i[v]=y.transform(h)),typeof y=="function"?y={validator:y}:y=Cl({},y),y.validator=s.getValidationMethod(y),y.field=v,y.fullField=y.fullField||v,y.type=s.getType(y),y.validator&&(f[v]=f[v]||[],f[v].push({rule:y,value:h,source:i,field:v}))})});var b={};return qye(f,o,function(v,_){var y=v.rule,w=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");w=w&&(y.required||!y.required&&v.value),y.field=v.field;function E(x,O){return Cl({},O,{fullField:y.fullField+"."+x})}function S(x){x===void 0&&(x=[]);var O=x;if(Array.isArray(O)||(O=[O]),!o.suppressWarning&&O.length&&ka.warning("async-validator:",O),O.length&&y.message!==void 0&&(O=[].concat(y.message)),O=O.map(lA(y)),o.first&&O.length)return b[y.field]=1,_(O);if(!w)_(O);else{if(y.required&&!v.value)return y.message!==void 0?O=[].concat(y.message).map(lA(y)):o.error&&(O=[o.error(y,ds(o.messages.required,y.field))]),_(O);var T={};if(y.defaultField)for(var P in v.value)v.value.hasOwnProperty(P)&&(T[P]=y.defaultField);T=Cl({},T,v.rule.fields);for(var A in T)if(T.hasOwnProperty(A)){var k=Array.isArray(T[A])?T[A]:[T[A]];T[A]=k.map(E.bind(null,A))}var M=new ka(T);M.messages(o.messages),v.rule.options&&(v.rule.options.messages=o.messages,v.rule.options.error=o.error),M.validate(v.value,v.rule.options||o,function(N){var K=[];O&&O.length&&K.push.apply(K,O),N&&N.length&&K.push.apply(K,N),_(K.length?K:null)})}}var I;y.asyncValidator?I=y.asyncValidator(y,v.value,S,v.source,o):y.validator&&(I=y.validator(y,v.value,S,v.source,o),I===!0?S():I===!1?S(y.message||y.field+" fails"):I instanceof Array?S(I):I instanceof Error&&S(I.message)),I&&I.then&&I.then(function(){return S()},function(x){return S(x)})},function(v){l(v)})},getType:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!xh.hasOwnProperty(e.type))throw new Error(ds("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if(typeof e.validator=="function")return e.validator;var t=Object.keys(e),r=t.indexOf("message");return r!==-1&&t.splice(r,1),t.length===1&&t[0]==="required"?xh.required:xh[this.getType(e)]||!1}};ka.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");xh[e]=t};ka.warning=Kye;ka.messages=i1;ka.validators=xh;var mve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};function yve(n){const e=n.displayName||n.name;return e?`SemiField${e}`:"SemiField"}function vve(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t={};return t[n]=e,new ka(t)}function _ve(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=!1;return typeof n=="object"&&"required"in n?e=n.required:Array.isArray(n)&&n.length&&n.forEach(t=>{t.required&&(e=!0)}),e}function Tl(n){let e=!0;return typeof n=="string"&&n.length?e=!1:Array.isArray(n)&&n.length?e=n.every(t=>Tl(t)):typeof n=="boolean"?e=n:n&&typeof n.$$typeof=="symbol"&&n.$$typeof.toString()==="Symbol(react.element)"&&(e=!1),e}function bve(n,e){let t=[],r=[];return wt(n)?wt(e)?t=ah.DEFAULT_TRIGGER:t=e:t=n,Array.isArray(t)&&(r=t),typeof t=="string"&&(r[0]=t),r}function wve(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return wt(n)?wt(e)?t:e:n}function Eve(n,e){const r=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),n),s="field"in e?!0:r.shouldInject;return{options:r,shouldInject:s}}function Sve(n){let t=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),n),{field:r,label:s,labelPosition:i,labelWidth:o,labelAlign:a,labelCol:l,wrapperCol:u,initValue:d,validate:h,validateStatus:f,trigger:m,allowEmptyString:b,allowEmpty:v,emptyValue:_,rules:y,onChange:w,keepState:E,transform:S,name:I,fieldClassName:x,fieldStyle:O,noLabel:T,noErrorMessage:P,isInInputGroup:A,stopValidateWithError:k,convert:M,showValidateIcon:N,helpText:K,extraText:G,extraTextPosition:z,pure:ee,id:j}=t,H=mve(t,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete H.defaultChecked,delete H.defaultValue,delete H.checked,typeof d<"u"&&(d=$o(d));const U=_ve(y);return _=typeof _<"u"?_:"",{field:r,label:s,labelPosition:i,labelWidth:o,labelAlign:a,labelCol:l,wrapperCol:u,noLabel:T,noErrorMessage:P,isInInputGroup:A,initValue:d,validate:h,validateStatus:f,trigger:m,allowEmptyString:b,allowEmpty:v,emptyValue:_,rules:y,required:U,keepState:E,transform:S,name:I,fieldClassName:x,fieldStyle:O,convert:M,stopValidateWithError:k,showValidateIcon:N,helpText:K,extraText:G,extraTextPosition:z,pure:ee,rest:H,id:j}}class Cve extends ke{constructor(e){super(Object.assign({},e));let{initValues:t}=this._adapter.getProps();t=this._adapter.cloneDeep(t),this.data={values:t||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this),this.scrollToError=this.scrollToError.bind(this)}init(){this._adapter.initFormId()}getField(e){return this.fields.get(e)}register(e,t,r){if(this.registered[e],this.registered[e]=!0,this.fields.set(e,r),!r.keepState){const s=r.allowEmpty||!1,i={notNotify:!0,notUpdate:!1,allowEmpty:s};let o=t.value;!s&&o===""&&(o=void 0),this.updateStateValue(e,o,i),t.error&&this.updateStateError(e,t.error,i)}}unRegister(e){const t=this.fields.get(e);try{t.keepState||(Jg(this.data.values,e),Jg(this.data.errors,e),Jg(this.data.touched,e))}catch{console.error(`some thing wrong when unregister field:${e}`)}this.fields.delete(e),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(e,t){this.updateArrayField(e,{updateKey:new Date().valueOf(),initValue:t})}unRegisterArrayField(e){this.registeredArrayField.delete(e)}getArrayField(e){return this.registeredArrayField.get(e)}updateArrayField(e,t){const r=Object.assign(Object.assign({},this.registeredArrayField.get(e)),t);this.registeredArrayField.set(e,r)}validate(e){const{validateFields:t}=this.getProps();return t&&De(t)?this._formValidate():this._fieldsValidate(e)}_formValidate(){const{values:e}=this.data,{validateFields:t}=this.getProps();return new Promise((r,s)=>{let i;try{i=t(e)}catch(o){i=o}if(i)mf(i)?i.then(o=>{if(o)this.data.errors=o,this._adapter.notifyChange(this.data),this.injectErrorToField(o),this._adapter.forceUpdate(),this._autoScroll(100),s(o);else{const a=this._adapter.cloneDeep(e);r(a),this.injectErrorToField({})}},o=>{this._autoScroll(100),s(o)}):(this.data.errors=i,this.injectErrorToField(i),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),s(i));else{const o=this._adapter.cloneDeep(e);r(o),this.injectErrorToField({})}})}_fieldsValidate(e){const{values:t}=this.data;return new Promise((r,s)=>{let i=[];const o=this._getOperateFieldMap(e);o.forEach((a,l)=>{const u=this.getValue(l),d={notNotify:!0,notUpdate:!0},h=a.fieldApi.validate(u,d);i.push(h),a.fieldApi.setTouched(!0,d)}),Promise.all(i).then(()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();const a=this.getError();if(this._isValid(o)){const l=this._adapter.cloneDeep(t);r(l)}else this._autoScroll(),s(a)})})}submit(e){const{values:t}=this.data;this.validate().then(r=>{const s=this._adapter.cloneDeep(r);this._adapter.notifySubmit(s,e)}).catch(r=>{const s=this._adapter.cloneDeep(r),i=this._adapter.cloneDeep(t);this._adapter.notifySubmitFail(s,i,e)})}_getNestedField(e){const t=this.fields,r=[...t].map(i=>i[0]);let s=new Map;return r.forEach(i=>{let o=pf(i),a=pf(e);if(a.every((l,u)=>a[u]===o[u])){const l=t.get(i);s.set(i,l)}}),s}_getOperateFieldMap(e){let t=new Map;return wt(e)?t=this.fields:e.forEach(r=>{const s=this.fields.get(r);if(wt(s)){const i=this._getNestedField(r);t=new Map([...t,...i])}else t.set(r,s)}),t}reset(e){this._getOperateFieldMap(e).forEach(r=>{r.fieldApi.reset()}),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){[...this.registeredArrayField.keys()].forEach(t=>{const s=this.registeredArrayField.get(t).initValue;this.updateStateValue(t,s,{notNotify:!0,notUpdate:!0}),this.updateArrayField(t,{updateKey:new Date().valueOf()})})}injectErrorToField(e){this.fields.forEach(t=>{const r=Ir(e,t.field),s={notNotify:!0,notUpdate:!0};t.fieldApi.setError(r,s)})}getValue(e,t){const r=typeof e>"u",s=t&&t.needClone;let i,o;switch(!0){case(!r&&!s):i=Ir(this.data.values,e);break;case(!r&&s):o=Ir(this.data.values,e),i=this._adapter.cloneDeep(o);break;case(r&&!s):i=Object.assign({},this.data.values);break;case(r&&s):i=this._adapter.cloneDeep(this.data.values);break}return i}setValues(e,t){let{isOverride:r=!1}=t;const s=this._adapter.cloneDeep(e);this.fields.forEach(i=>{const o=Ir(s,i.field),a={notNotify:!0,notUpdate:!0};i.fieldApi.setValue(o,a)}),this.registeredArrayField.size&&[...this.registeredArrayField.keys()].forEach(o=>{this.updateArrayField(o,{updateKey:new Date().valueOf()})}),r&&(this.data.values=s),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},e)),this._adapter.forceUpdate()}updateStateValue(e,t,r,s){const i=r&&r.notNotify,o=r&&r.notUpdate,a=r&&r.fieldAllowEmpty,l=this.getProp("allowEmpty"),u=a||l;jb(this.data.values,e,t,u),i||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[e]:t})),o||this._adapter.forceUpdate(s)}getTouched(e){return typeof e>"u"?this.data.touched:Ir(this.data.touched,e)}updateStateTouched(e,t,r,s){const i=r&&r.notNotify,o=r&&r.notUpdate;jb(this.data.touched,e,t),i||this._adapter.notifyChange(this.data),o||this._adapter.forceUpdate(s)}getError(e){return typeof e>"u"?this.data.errors:Ir(this.data.errors,e)}updateStateError(e,t,r,s){const i=r&&r.notNotify,o=r&&r.notUpdate;jb(this.data.errors,e,t),i||this._adapter.notifyChange(this.data),this._adapter.notifyErrorChange(this.data.errors,{[e]:t}),o||this._adapter.forceUpdate(s)}getFieldSetterApi(){return{setValue:(s,i,o)=>{const a=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);a?a.setValue(l,o):(this.updateStateValue(s,l,o,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Ir(this.data.values,h),m={notNotify:!0,notUpdate:!0};d.fieldApi.setValue(f,m)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setError:(s,i,o)=>{const a=this.fields.get(s)?this.fields.get(s).fieldApi:void 0,l=this._adapter.cloneDeep(i);a?a.setError(l,o):(this.updateStateError(s,l,o,()=>{let u=this._getNestedField(s);u.size&&u.forEach(d=>{let h=d.field,f=Ir(this.data.errors,h),m={notNotify:!0,notUpdate:!0};d.fieldApi.setError(f,m)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))},setTouched:(s,i,o)=>{const a=this.fields.get(s)?this.fields.get(s).fieldApi:void 0;a?a.setTouched(i,o):(this.updateStateTouched(s,i,o,()=>{let l=this._getNestedField(s);l.size&&l.forEach(u=>{let d=u.field,h=Ir(this.data.touched,d),f={notNotify:!0,notUpdate:!0};u.fieldApi.setTouched(h,f)})}),this.getArrayField(s)&&this.updateArrayField(s,{updateKey:new Date().valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){const e=this.getFieldSetterApi();return Object.assign(Object.assign({},e),{reset:t=>this.reset(t),validate:t=>this.validate(t),getValue:t=>this.getValue(t,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getFormProps:t=>this.getFormProps(t),getInitValue:t=>this.getInitValue(t),getInitValues:()=>this.getInitValues(),getTouched:t=>this.getTouched(t),getError:t=>this.getError(t),setValues:(t,r)=>this.setValues(t,r||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:t=>this.getFieldExist(t),scrollToField:(t,r)=>this.scrollToField(t,r),scrollToError:t=>this.scrollToError(t)})}getFormState(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(e){let t=!0;return e?[...e.keys()].forEach(s=>{const i=Ir(this.data.errors,s);Tl(i)||(t=!1)}):t=!!fde(this.data.errors),t}getInitValues(){return this._adapter.getInitValues()}getInitValue(e){return typeof e>"u"?this._adapter.getInitValues():Ir(this._adapter.getInitValues(),e)}getFormProps(e){return this._adapter.getFormProps(e)}getFieldExist(e){return!!this.fields.has(e)}_autoScroll(e){const{autoScrollToError:t}=this.getFormProps();if(!t)return;let r={behavior:"smooth",block:"start"};typeof t=="object"&&(r=t),e?setTimeout(()=>this._getErrorFieldAndScroll(r),100):this._getErrorFieldAndScroll(r)}_getErrorFieldAndScroll(e){const t=this._adapter.getAllErrorDOM();if(t&&t.length)try{const r=t[0].parentNode.parentNode;vb(r,e)}catch{}}scrollToField(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(e)){const r=this._adapter.getFieldDOM(e);vb(r,t)}}scrollToError(e){let t=e&&e.scrollOpts?e.scrollOpts:{behavior:"smooth",block:"start"},r=e&&e.field,s=e&&e.index,i,o;if(typeof s=="number"){let l=this._adapter.getAllErrorDOM()[s];l&&(i=l.parentNode.parentNode)}else if(r)o=this._adapter.getFieldErrorDOM(r),o&&(i=o.parentNode.parentNode);else if(typeof r>"u"){let a=this._adapter.getAllErrorDOM();a&&a.length&&(i=a[0].parentNode.parentNode)}i&&vb(i,t)}}const o1=g.createContext({});o1.displayName="FormState";const fj=g.createContext({});fj.displayName="FormApi";const pp=g.createContext({});pp.displayName="FormUpdater";const Tve=g.createContext({shouldUseInitValue:!0}),s0=oi.PREFIX;class gp extends D.PureComponent{generatorText(e){const{helpTextId:t,errorMessageId:r}=this.props,s=this.props.error;let i=r;if(s||(i=t),typeof e=="string")return g.createElement("span",{id:i},e);if(Array.isArray(e)){const o=e.filter(a=>a);return o.length?g.createElement("span",{id:i},o.join(", ")):null}else if(g.isValidElement(e))return e;return null}render(){const{error:e,className:t,style:r,validateStatus:s,helpText:i,showValidateIcon:o,isInInputGroup:a}=this.props,l=$({[s0+"-field-error-message"]:!!e,[s0+"-field-help-text"]:!!i},t);if(!e&&!i)return null;const u={warning:g.createElement(uT,null),error:g.createElement(lf,null)},d=e?this.generatorText(e):this.generatorText(i),h=`${s0}-field-validate-status-icon`;let f=null;return a?f=g.createElement(lf,{className:h}):u[s]&&(f=g.cloneElement(u[s],{className:h})),g.createElement("div",{className:l,style:r},o&&d?f:null,d)}}gp.propTypes={error:c.oneOfType([c.bool,c.string,c.array,c.node]),className:c.string,style:c.object,validateStatus:c.string,showValidateIcon:c.bool,helpText:c.node,isInInputGroup:c.bool,errorMessageId:c.string,helpTextId:c.string};var Ove=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Yd=oi.PREFIX,Ive=n=>{let e,t,r,s,i,o="top";try{const S=D.useContext(pp).getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);e=S.labelCol,t=S.wrapperCol,r=S.labelWidth,s=S.labelAlign,o=S.labelPosition?S.labelPosition:o}catch{}n.labelPosition&&(o=n.labelPosition);let{children:a,label:l,className:u,style:d,error:h,noLabel:f}=n;Ove(n,["children","label","className","style","error","noLabel"]);const m=e&&t,b=$({[`${Yd}-field`]:!0,[`${Yd}-slot`]:!0},u),v=$({[`${Yd}-col-${s}`]:!0});switch(!0){case(ko(l)&&!g.isValidElement(l)):break;case(Re(l)||Zt(l)):l={text:l};break;case g.isValidElement(l):l={text:l};break}let _=null;if(typeof h!==void 0){let E={};switch(!0){case(ko(h)&&!g.isValidElement(h)):E=h;break;case(Re(h)||Zt(h)):E={error:h};break;case g.isValidElement(h):E={error:h};break}_=g.createElement(gp,Object.assign({},E))}let y=Object.assign({align:s,width:r},l),w=$({[`${Yd}-field-main`]:!0,[`${Yd}-slot-main`]:!0});switch(!0){case(!m&&!f):i=g.createElement(g.Fragment,null,g.createElement(Wi,Object.assign({},y)),g.createElement("div",{className:w},a,_));break;case(!m&&f):i=g.createElement(g.Fragment,null,g.createElement("div",{className:w},a,_));break;case(m&&o==="top"):i=g.createElement(g.Fragment,null,g.createElement("div",{style:{overflow:"hidden"}},g.createElement(Wr,Object.assign({},e,{className:v}),g.createElement(Wi,Object.assign({},y)))),g.createElement(Wr,null,a,_));break;case(m&&o!=="top"):i=g.createElement(g.Fragment,null,g.createElement(Wr,Object.assign({},e,{className:v}),g.createElement(Wi,Object.assign({},y))),g.createElement(Wr,null,a,_));break}return g.createElement("div",{className:b,"x-label-pos":o,style:d},i)},cA=oi.PREFIX;class pj extends D.PureComponent{render(){const{text:e,className:t,style:r,children:s}=this.props,i=$({[cA+"-section"]:!0},t),o=cA+"-section-text";return g.createElement("section",{className:i,style:r},g.createElement("h5",{className:o},e),s)}}pj.propTypes={text:c.node,className:c.string,style:c.object,children:c.node};function gj(){return D.useContext(o1)}function Pve(){return D.useContext(pp)}function i0(n){const e=D.useRef(),[t,r]=D.useState(n);return e.current=t,[t,o=>{e.current=o,r(o)},()=>e.current]}function xve(){return D.useContext(Tve)}var Rve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Nu=oi.PREFIX,Ave=n=>{const{fieldSet:e}=n,t=gj(),r=e.map(s=>Ir(t.errors,s));return Tl(r)?null:g.createElement(gp,{error:r,showValidateIcon:n.showValidateIcon,isInInputGroup:n.isInInputGroup})};class mj extends D.Component{renderLabel(e,t){return e?Re(e)?g.createElement(Wi,{width:t.labelWidth,text:e}):g.createElement(Wi,Object.assign({width:t.labelWidth},e)):null}render(){const e=this.props,{children:t,label:r,extraText:s,extraTextPosition:i}=e,o=Rve(e,["children","label","extraText","extraTextPosition"]),l=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),u=this.props.labelPosition||l.labelPosition,d=[],h=g.Children.map(t,T=>T&&T.props&&T.props.field?(d.push(T.props.field),g.cloneElement(T,{isInInputGroup:!0})):null),f=$({[`${Nu}-field-group`]:!0}),m=l.labelCol,b=l.wrapperCol,v=l.labelAlign,_=m&&b,y=m?`${Nu}-col-${v}`:"",w=this.renderLabel(r,l),E=g.createElement(BT,Object.assign({disabled:l.disabled},o),h),S=g.createElement(Ave,{fieldSet:d,showValidateIcon:l.showValidateIcon,isInInputGroup:!0}),I=$(`${Nu}-field-extra`,{[`${Nu}-field-extra-string`]:typeof s=="string",[`${Nu}-field-extra-middle`]:i==="middle",[`${Nu}-field-extra-bottom`]:i==="bottom"}),x=s?g.createElement("div",{className:I,"x-semi-prop":"extraText"},s):null;let O;switch(!0){case!_:O=g.createElement(g.Fragment,null,w,g.createElement("div",null,i==="middle"?x:null,E,i==="bottom"?x:null,S));break;case(_&&u==="top"):O=g.createElement(g.Fragment,null,g.createElement("div",{style:{overflow:"hidden"}},g.createElement(Wr,Object.assign({},m,{className:y}),w)),g.createElement(Wr,Object.assign({},b),i==="middle"?x:null,E,i==="bottom"?x:null,S));break;case(_&&u!=="top"):O=g.createElement(g.Fragment,null,g.createElement(Wr,Object.assign({},m,{className:y}),w),g.createElement(Wr,Object.assign({},b),i==="middle"?x:null,E,i==="bottom"?x:null,S));break}return g.createElement("div",{"x-label-pos":u,className:f},O)}}mj.contextType=pp;const Oi=oi.PREFIX,o0=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Gn(n,e){let t=(r,s)=>{let{field:i,label:o,labelPosition:a,labelWidth:l,labelAlign:u,labelCol:d,wrapperCol:h,noLabel:f,noErrorMessage:m,isInInputGroup:b,initValue:v,validate:_,validateStatus:y,trigger:w,allowEmptyString:E,allowEmpty:S,emptyValue:I,rules:x,required:O,keepState:T,transform:P,name:A,fieldClassName:k,fieldStyle:M,convert:N,stopValidateWithError:K,helpText:G,extraText:z,extraTextPosition:ee,pure:j,id:H,rest:U}=Sve(r),{options:oe,shouldInject:ne}=Eve(e,r);if(Kt(typeof i>"u"&&oe.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!ne)return g.createElement(n,Object.assign({},U,{ref:s}));gj();const re=Pve();if(!re.getFormProps)return Kt(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let de=re.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),be=a||de.labelPosition,ye=l||de.labelWidth,ge=u||de.labelAlign,pe=d||de.labelCol,te=h||de.wrapperCol,le=ee||de.extraTextPosition||"bottom",ct=wve(K,de.stopValidateWithError,!1),Ct=bve(w,de.trigger),en=typeof i<"u"?re.getValue(i):void 0,gt=typeof v<"u"?v:en,yn;try{yn=xve(),yn&&(gt=yn.shouldUseInitValue&&typeof v<"u"?v:en)}catch{}const[mt,Yn,Fr]=i0(typeof gt!==void 0?gt:null),Ei=Ct.includes("mount");S=S||re.getFormProps().allowEmpty;const[Ft,$n,ws]=i0(),[jr,Es]=D.useState(),[so,tn,kt]=i0(0),[vn,In]=D.useState(y),ir=D.useRef(!1),Fn=D.useRef(x),or=D.useRef(_),Vr=D.useRef(null),Ss=(_e,Le)=>{Es(_e),re.updateStateTouched(i,_e,Le)},_n=(_e,Le)=>{ir.current||_e!==ws()&&($n(_e),re.updateStateError(i,_e,Le),Tl(_e)?In("success"):In("error"))},Jr=(_e,Le)=>{Yn(_e);let Vt=Object.assign(Object.assign({},Le),{allowEmpty:S});re.updateStateValue(i,_e,Vt)},Si=()=>{let _e={notNotify:!0,notUpdate:!0};Jr(gt!==null?gt:void 0,_e),_n(void 0,_e),Ss(void 0,_e),In("default")},Cs=(_e,Le)=>{let Vt=Fn.current||[];const tt=vve(i,Vt),Tt={[i]:_e},Ot=new Promise((Rt,Wo)=>{tt.validate(Tt,{first:ct},(Os,rs)=>{}).then(Os=>{ir.current||Vr.current!==Ot||(In("success"),_n(void 0,Le),Rt({}))}).catch(Os=>{if(ir.current||Vr.current!==Ot)return;let{errors:rs,fields:io}=Os;if(rs&&io){let ar=rs.map(Go=>Go.message);ar.length===1&&(ar=ar[0]),_n(ar,Le),Tl(ar)||(In("error"),Rt(rs))}else throw In("error"),_n(Os.message,Le),Rt(Os.message),Os})});return Vr.current=Ot,Ot},Ci=(_e,Le,Vt)=>{const tt=new Promise(Tt=>{let Ot;try{Ot=or.current(_e,Le)}catch(Rt){Ot=Rt}Ot===void 0?(Tt({}),_n(void 0,Vt)):mf(Ot)?Ot.then(Rt=>{ir.current||Vr.current!==tt||(Tl(Rt)?(_n(void 0,Vt),Tt(null)):(_n(Rt,Vt),Tt(Rt)))}):Tl(Ot)?(_n(void 0,Vt),Tt(null)):(_n(Ot,Vt),Tt(Ot))});return Vr.current=tt,tt},es=(_e,Le)=>{let Vt=_e,tt=Fn.current;return P&&(Vt=P(_e)),or.current?Ci(Vt,re.getValue(),Le):tt?Cs(Vt,Le):null},ts=function(_e,Le){if(oe.onKeyChangeFnName in r&&typeof r[oe.onKeyChangeFnName]=="function"){for(var tt=arguments.length,Tt=new Array(tt>2?tt-2:0),Ot=2;Ot<tt;Ot++)Tt[Ot-2]=arguments[Ot];r[oe.onKeyChangeFnName](_e,Le,...Tt)}let Rt;oe.valuePath?Rt=Ir(_e,oe.valuePath):Rt=_e,typeof N=="function"&&(Rt=N(Rt)),E||S||Rt===I&&(Rt=void 0);try{Le&&Le.target&&Le.target.selectionStart&&tn(Le.target.selectionStart)}catch{}Ss(!0,{notNotify:!0,notUpdate:!0}),Jr(Rt),Ct.includes("change")&&es(Rt)},yt=function(){if(r.onBlur&&r.onBlur(...arguments),jr||Ss(!0),Ct.includes("blur")){let _e=Fr();es(_e)}},Wt={setValue:Jr,setTouched:Ss,setError:_n,reset:Si,validate:es},ft={value:mt,error:Ft,touched:jr,status:vn};o0(()=>{Fn.current=x,or.current=_},[x,_]),o0(()=>(ir.current=!1,Ei&&es(mt),()=>{ir.current=!0}),[]),o0(()=>{if(typeof i>"u")return()=>{};const _e=Fr();return re.register(i,{value:_e,error:Ft,touched:jr,status:vn},{field:i,fieldApi:Wt,keepState:T,allowEmpty:S||E}),()=>{re.unRegister(i)}},[i]);const nn=H||i,jt=`${nn}-label`,Gt=`${nn}-helpText`,bn=`${nn}-extraText`,Ts=`${nn}-errormessage`,Ve=()=>{let _e=y||vn;const Le=$(`${Oi}-field-extra`,{[`${Oi}-field-extra-string`]:typeof z=="string",[`${Oi}-field-extra-middle`]:le==="middle",[`${Oi}-field-extra-bottom`]:le==="bottom"}),Vt=z?g.createElement("div",{className:Le,id:bn,"x-semi-prop":"extraText"},z):null;let tt=Object.assign(Object.assign({id:nn,disabled:de.disabled},U),{ref:s,onBlur:yt,[oe.onKeyChangeFnName]:ts,[oe.valueKey]:mt,validateStatus:_e,"aria-required":O,"aria-labelledby":jt});A&&(tt.name=A),G&&(tt["aria-describedby"]=z?`${Gt} ${bn}`:Gt),z&&(tt["aria-describedby"]=G?`${Gt} ${bn}`:bn),vn==="error"&&(tt["aria-errormessage"]=Ts,tt["aria-invalid"]=!0);const Tt=$({[`${Oi}-field`]:!0,[`${Oi}-field-${A}`]:!!A,[k]:!!k}),Ot=$({[`${Oi}-field-main`]:!0});be==="inset"&&!f&&(tt.insetLabel=o||i,tt.insetLabelId=jt,typeof o=="object"&&!Mw(o)&&(tt.insetLabel=o.text,tt.insetLabelId=jt));const Rt=g.createElement(n,Object.assign({},tt));if(b)return Rt;if(j){let Go=$(U.className,{[`${Oi}-field-pure`]:!0,[`${Oi}-field-${A}`]:!!A,[k]:!!k});return tt.className=Go,g.createElement(n,Object.assign({},tt))}let Wo=pe&&te;const Os=ge?`${Oi}-col-${ge}`:"";let rs=null;if(!f&&be!=="inset"){let Go=typeof o=="object"&&!Mw(o)?o:{};rs=g.createElement(Wi,Object.assign({text:o||i,id:jt,required:O,name:nn||A||i,width:ye,align:ge},Go))}const io=g.createElement("div",{className:Ot},le==="middle"?Vt:null,Rt,m?null:g.createElement(gp,{error:Ft,validateStatus:_e,helpText:G,helpTextId:Gt,errorMessageId:Ts,showValidateIcon:de.showValidateIcon}),le==="bottom"?Vt:null),ar=g.createElement(g.Fragment,null,be==="top"?g.createElement("div",{style:{overflow:"hidden"}},g.createElement(Wr,Object.assign({},pe,{className:Os}),rs)):g.createElement(Wr,Object.assign({},pe,{className:Os}),rs),g.createElement(Wr,Object.assign({},te),io));return g.createElement("div",{className:Tt,style:M,"x-label-pos":be,"x-field-id":i,"x-extra-pos":le},Wo?ar:g.createElement(g.Fragment,null,rs,io))},ns=[...Object.values(ft),...Object.values(r),i,be,ge,de.disabled];return oe.shouldMemo?D.useMemo(Ve,[...ns]):Ve()};return t=D.forwardRef(t),t.displayName=yve(n),t}const Dve=Gn(Kn,{maintainCursor:!0}),kve=Gn(Oge,{maintainCursor:!0}),Nve=Gn(gge,{maintainCursor:!0}),a1=Gn(Ji);a1.Option=Ji.Option;a1.OptGroup=Ji.OptGroup;const Lve=Gn(ip),Mve=Gn(Mo,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),$ve=Gn(YT,{valuePath:"target.value"}),Fve=Gn(Yl,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),jve=Gn(Kpe),Vve=Gn(JT,{valueKey:"checked"}),Uve=Gn(ZT),Bve=Gn(bf),Hve=Gn(Zv),zve=Gn(Mc),Kve=Gn(Qv),Wve=Gn(Nc,{valueKey:"value",onKeyChangeFnName:"onChange"}),Gve=Gn(e_,{valueKey:"fileList",valuePath:"fileList",onKeyChangeFnName:"onChange"}),Yve=Gn(cp);var qve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const a0=oi.PREFIX;class xt extends xe{constructor(e){super(e),this.state={formId:""},Kt(!!(e.component&&e.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),Kt(e.component&&e.children&&!yx(e.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),Kt(e.render&&e.children&&!yx(e.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new Cve(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:Fee,notifySubmit:(e,t)=>{this.props.onSubmit(e,t)},notifySubmitFail:(e,t,r)=>{this.props.onSubmitFail(e,t,r)},forceUpdate:e=>{this.forceUpdate(e)},notifyChange:e=>{this.props.onChange(e)},notifyValueChange:(e,t)=>{this.props.onValueChange(e,t)},notifyErrorChange:(e,t)=>{this.props.onErrorChange(e,t)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:qg()})},getInitValues:()=>this.props.initValues,getFormProps:e=>{if(typeof e>"u")return this.props;if(typeof e=="string")return this.props[e];{const t={};return e.forEach(r=>{t[r]=this.props[r]}),t}},getAllErrorDOM:()=>{const{formId:e}=this.state,{id:t}=this.props,r=t||e;return document.querySelectorAll(`form[x-form-id="${r}"] .${oi.PREFIX}-field-error-message`)},getFieldDOM:e=>document.querySelector(`.${oi.PREFIX}-field[x-field-id="${e}"]`),getFieldErrorDOM:e=>{const{formId:t}=this.state,{id:r}=this.props;let i=`form[x-form-id="${r||t}"] .${oi.PREFIX}-field[x-field-id="${e}"] .${oi.PREFIX}-field-error-message`;return document.querySelector(i)}})}get content(){const{children:e,component:t,render:r}=this.props,s=this.foundation.getFormState(),i={formState:s,formApi:this.foundation.getFormApi(),values:s.values};return t?g.createElement(t,i):r?r(i):typeof e=="function"?e(i):e}submit(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.submit&&e.stopPropagation(),this.foundation.submit(e)}reset(e){e.preventDefault(),this.props.stopPropagation&&this.props.stopPropagation.reset&&e.stopPropagation(),this.foundation.reset()}render(){const t=this.foundation.getFormState(!1),r=this.foundation.getModifyFormStateApi(),{formId:s}=this.state,i=this.props,{children:o,getFormApi:a,onChange:l,onSubmit:u,onSubmitFail:d,onErrorChange:h,onValueChange:f,component:m,render:b,validateFields:v,initValues:_,layout:y,style:w,className:E,labelPosition:S,labelWidth:I,labelAlign:x,labelCol:O,wrapperCol:T,allowEmpty:P,autoScrollToError:A,showValidateIcon:k,stopValidateWithError:M,extraTextPosition:N,id:K,trigger:G}=i,z=qve(i,["children","getFormApi","onChange","onSubmit","onSubmitFail","onErrorChange","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),ee=$(a0,E,{[a0+"-vertical"]:y==="vertical",[a0+"-horizontal"]:y==="horizontal"}),j=T&&O,H=g.createElement("form",Object.assign({style:w},z,{onReset:this.reset,onSubmit:this.submit,className:ee,id:K||s,"x-form-id":K||s}),this.content),U=g.createElement(Yv,null,H);return g.createElement(pp.Provider,{value:r},g.createElement(fj.Provider,{value:this.formApi},g.createElement(o1.Provider,{value:t},j?U:H)))}}xt.propTypes={"aria-label":c.string,onSubmit:c.func,onSubmitFail:c.func,onChange:c.func,onReset:c.func,onValueChange:c.func,autoScrollToError:c.oneOfType([c.bool,c.object]),allowEmpty:c.bool,className:c.string,component:c.oneOfType([c.node,c.func]),disabled:c.bool,extraTextPosition:c.oneOf(ah.EXTRA_POS),getFormApi:c.func,initValues:c.object,validateFields:c.func,layout:c.oneOf(ah.LAYOUT),labelPosition:c.oneOf(ah.LABEL_POS),labelWidth:c.oneOfType([c.number,c.string]),labelAlign:c.oneOf(ah.LABEL_ALIGN),labelCol:c.object,render:c.func,style:c.object,showValidateIcon:c.bool,stopValidateWithError:c.bool,stopPropagation:c.shape({submit:c.bool,reset:c.bool}),id:c.string,wrapperCol:c.object,trigger:c.oneOfType([c.oneOf(["blur","change","custom","mount"]),c.arrayOf(c.oneOf(["blur","change","custom","mount"]))])};xt.defaultProps={onChange:F,onSubmitFail:F,onSubmit:F,onReset:F,onValueChange:F,onErrorChange:F,layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0};xt.Input=Dve;xt.TextArea=Nve;xt.InputNumber=kve;xt.Select=a1;xt.Checkbox=Mve;xt.CheckboxGroup=Lve;xt.Radio=Fve;xt.RadioGroup=$ve;xt.DatePicker=jve;xt.TimePicker=Bve;xt.Switch=Vve;xt.Slider=Uve;xt.TreeSelect=Hve;xt.Cascader=zve;xt.Rating=Kve;xt.AutoComplete=Wve;xt.Upload=Gve;xt.TagInput=Yve;xt.Slot=Ive;xt.ErrorMessage=gp;xt.InputGroup=mj;xt.Label=Wi;xt.Section=pj;var dA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Xve=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},vj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(t[d],t[h],t[f],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Xve(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new Qve;const f=i<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Qve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zve=function(n){const e=yj(n);return vj.encodeByteArray(e,!0)},_y=function(n){return Zve(n).replace(/\./g,"")},_j=function(n){try{return vj.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_e=()=>Jve().__FIREBASE_DEFAULTS__,t_e=()=>{if(typeof process>"u"||typeof dA>"u")return;const n=dA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n_e=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_j(n[1]);return e&&JSON.parse(e)},t_=()=>{try{return e_e()||t_e()||n_e()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bj=n=>{var e,t;return(t=(e=t_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},r_e=n=>{const e=bj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wj=()=>{var n;return(n=t_())===null||n===void 0?void 0:n.config},Ej=n=>{var e;return(e=t_())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_e(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_y(JSON.stringify(t)),_y(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o_e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function a_e(){var n;const e=(n=t_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l_e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u_e(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function c_e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d_e(){const n=Cr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function h_e(){return!a_e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f_e(){try{return typeof indexedDB=="object"}catch{return!1}}function p_e(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_e="FirebaseError";class zo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=g_e,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mp.prototype.create)}}class mp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?m_e(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new zo(s,a,r)}}function m_e(n,e){return n.replace(y_e,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const y_e=/\{\$([^}]+)}/g;function v_e(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function by(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(hA(i)&&hA(o)){if(!by(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function hA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ch(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function __e(n,e){const t=new b_e(n,e);return t.subscribe.bind(t)}class b_e{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");w_e(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=l0),s.error===void 0&&(s.error=l0),s.complete===void 0&&(s.complete=l0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w_e(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function l0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(n){return n&&n._delegate?n._delegate:n}class Xl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new s_e;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C_e(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S_e(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S_e(n){return n===yl?void 0:n}function C_e(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new E_e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const O_e={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},I_e=Ye.INFO,P_e={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},x_e=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=P_e[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let l1=class{constructor(e){this.name=e,this._logLevel=I_e,this._logHandler=x_e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O_e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};const R_e=(n,e)=>e.some(t=>n instanceof t);let fA,pA;function A_e(){return fA||(fA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D_e(){return pA||(pA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sj=new WeakMap,tS=new WeakMap,Cj=new WeakMap,u0=new WeakMap,u1=new WeakMap;function k_e(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(Na(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Sj.set(t,n)}).catch(()=>{}),u1.set(e,n),e}function N_e(n){if(tS.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});tS.set(n,e)}let nS={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tS.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Cj.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Na(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L_e(n){nS=n(nS)}function M_e(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(c0(this),e,...t);return Cj.set(r,e.sort?e.sort():[e]),Na(r)}:D_e().includes(n)?function(...e){return n.apply(c0(this),e),Na(Sj.get(this))}:function(...e){return Na(n.apply(c0(this),e))}}function $_e(n){return typeof n=="function"?M_e(n):(n instanceof IDBTransaction&&N_e(n),R_e(n,A_e())?new Proxy(n,nS):n)}function Na(n){if(n instanceof IDBRequest)return k_e(n);if(u0.has(n))return u0.get(n);const e=$_e(n);return e!==n&&(u0.set(n,e),u1.set(e,n)),e}const c0=n=>u1.get(n);function F_e(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),a=Na(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Na(o.result),l.oldVersion,l.newVersion,Na(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const j_e=["get","getKey","getAll","getAllKeys","count"],V_e=["put","add","delete","clear"],d0=new Map;function gA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(d0.get(e))return d0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=V_e.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||j_e.includes(t)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),s&&l.done]))[0]};return d0.set(e,i),i}L_e(n=>({...n,get:(e,t,r)=>gA(e,t)||n.get(e,t,r),has:(e,t)=>!!gA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B_e(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function B_e(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rS="@firebase/app",mA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new l1("@firebase/app"),H_e="@firebase/app-compat",z_e="@firebase/analytics-compat",K_e="@firebase/analytics",W_e="@firebase/app-check-compat",G_e="@firebase/app-check",Y_e="@firebase/auth",q_e="@firebase/auth-compat",X_e="@firebase/database",Q_e="@firebase/data-connect",Z_e="@firebase/database-compat",J_e="@firebase/functions",ebe="@firebase/functions-compat",tbe="@firebase/installations",nbe="@firebase/installations-compat",rbe="@firebase/messaging",sbe="@firebase/messaging-compat",ibe="@firebase/performance",obe="@firebase/performance-compat",abe="@firebase/remote-config",lbe="@firebase/remote-config-compat",ube="@firebase/storage",cbe="@firebase/storage-compat",dbe="@firebase/firestore",hbe="@firebase/vertexai-preview",fbe="@firebase/firestore-compat",pbe="firebase",gbe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="[DEFAULT]",mbe={[rS]:"fire-core",[H_e]:"fire-core-compat",[K_e]:"fire-analytics",[z_e]:"fire-analytics-compat",[G_e]:"fire-app-check",[W_e]:"fire-app-check-compat",[Y_e]:"fire-auth",[q_e]:"fire-auth-compat",[X_e]:"fire-rtdb",[Q_e]:"fire-data-connect",[Z_e]:"fire-rtdb-compat",[J_e]:"fire-fn",[ebe]:"fire-fn-compat",[tbe]:"fire-iid",[nbe]:"fire-iid-compat",[rbe]:"fire-fcm",[sbe]:"fire-fcm-compat",[ibe]:"fire-perf",[obe]:"fire-perf-compat",[abe]:"fire-rc",[lbe]:"fire-rc-compat",[ube]:"fire-gcs",[cbe]:"fire-gcs-compat",[dbe]:"fire-fst",[fbe]:"fire-fst-compat",[hbe]:"fire-vertex","fire-js":"fire-js",[pbe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new Map,ybe=new Map,iS=new Map;function yA(n,e){try{n.container.addComponent(e)}catch(t){Fo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fc(n){const e=n.name;if(iS.has(e))return Fo.debug(`There were multiple attempts to register component ${e}.`),!1;iS.set(e,n);for(const t of wy.values())yA(t,n);for(const t of ybe.values())yA(t,n);return!0}function c1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vbe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},La=new mp("app","Firebase",vbe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _be{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw La.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=gbe;function Tj(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sS,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw La.create("bad-app-name",{appName:String(s)});if(t||(t=wj()),!t)throw La.create("no-options");const i=wy.get(s);if(i){if(by(t,i.options)&&by(r,i.config))return i;throw La.create("duplicate-app",{appName:s})}const o=new T_e(s);for(const l of iS.values())o.addComponent(l);const a=new _be(t,r,o);return wy.set(s,a),a}function Oj(n=sS){const e=wy.get(n);if(!e&&n===sS&&wj())return Tj();if(!e)throw La.create("no-app",{appName:n});return e}function Ma(n,e,t){var r;let s=(r=mbe[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fo.warn(a.join(" "));return}Fc(new Xl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bbe="firebase-heartbeat-database",wbe=1,Ef="firebase-heartbeat-store";let h0=null;function Ij(){return h0||(h0=F_e(bbe,wbe,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ef)}catch(t){console.warn(t)}}}}).catch(n=>{throw La.create("idb-open",{originalErrorMessage:n.message})})),h0}async function Ebe(n){try{const t=(await Ij()).transaction(Ef),r=await t.objectStore(Ef).get(Pj(n));return await t.done,r}catch(e){if(e instanceof zo)Fo.warn(e.message);else{const t=La.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fo.warn(t.message)}}}async function vA(n,e){try{const r=(await Ij()).transaction(Ef,"readwrite");await r.objectStore(Ef).put(e,Pj(n)),await r.done}catch(t){if(t instanceof zo)Fo.warn(t.message);else{const r=La.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fo.warn(r.message)}}}function Pj(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sbe=1024,Cbe=30*24*60*60*1e3;class Tbe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ibe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_A();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Cbe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_A(),{heartbeatsToSend:r,unsentEntries:s}=Obe(this._heartbeatsCache.heartbeats),i=_y(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Fo.warn(t),""}}}function _A(){return new Date().toISOString().substring(0,10)}function Obe(n,e=Sbe){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),bA(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),bA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Ibe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f_e()?p_e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ebe(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return vA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return vA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bA(n){return _y(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pbe(n){Fc(new Xl("platform-logger",e=>new U_e(e),"PRIVATE")),Fc(new Xl("heartbeat",e=>new Tbe(e),"PRIVATE")),Ma(rS,mA,n),Ma(rS,mA,"esm2017"),Ma("fire-js","")}Pbe("");function d1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function xj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xbe=xj,Rj=new mp("auth","Firebase",xj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=new l1("@firebase/auth");function Rbe(n,...e){Ey.logLevel<=Ye.WARN&&Ey.warn(`Auth (${vd}): ${n}`,...e)}function om(n,...e){Ey.logLevel<=Ye.ERROR&&Ey.error(`Auth (${vd}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n,...e){throw h1(n,...e)}function Gi(n,...e){return h1(n,...e)}function Aj(n,e,t){const r=Object.assign(Object.assign({},xbe()),{[e]:t});return new mp("auth","Firebase",r).create(e,{appName:n.name})}function Oo(n){return Aj(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Rj.create(n,...e)}function Ee(n,e,...t){if(!n)throw h1(e,...t)}function yo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw om(e),new Error(e)}function jo(n,e){n||yo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Abe(){return wA()==="http:"||wA()==="https:"}function wA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dbe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Abe()||u_e()||"connection"in navigator)?navigator.onLine:!0}function kbe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.shortDelay=e,this.longDelay=t,jo(t>e,"Short delay should be less than long delay!"),this.isMobile=o_e()||c_e()}get(){return Dbe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n,e){jo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nbe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lbe=new vp(3e4,6e4);function el(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ko(n,e,t,r,s={}){return kj(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=yp(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},i);return l_e()||(u.referrerPolicy="no-referrer"),Dj.fetch()(Nj(n,n.config.apiHost,t,a),u)})}async function kj(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Nbe),e);try{const s=new $be(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Og(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Og(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Og(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Og(n,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Aj(n,d,u);yi(n,d)}}catch(s){if(s instanceof zo)throw s;yi(n,"network-request-failed",{message:String(s)})}}async function _p(n,e,t,r,s={}){const i=await Ko(n,e,t,r,s);return"mfaPendingCredential"in i&&yi(n,"multi-factor-auth-required",{_serverResponse:i}),i}function Nj(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?f1(n.config,s):`${n.config.apiScheme}://${s}`}function Mbe(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $be{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),Lbe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Og(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Gi(n,e,r);return s.customData._tokenResponse=t,s}function EA(n){return n!==void 0&&n.enterprise!==void 0}class Fbe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Mbe(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function jbe(n,e){return Ko(n,"GET","/v2/recaptchaConfig",el(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vbe(n,e){return Ko(n,"POST","/v1/accounts:delete",e)}async function Lj(n,e){return Ko(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ube(n,e=!1){const t=Wn(n),r=await t.getIdToken(e),s=p1(r);Ee(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Rh(f0(s.auth_time)),issuedAtTime:Rh(f0(s.iat)),expirationTime:Rh(f0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function f0(n){return Number(n)*1e3}function p1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return om("JWT malformed, contained fewer than 3 sections"),null;try{const s=_j(t);return s?JSON.parse(s):(om("Failed to decode base64 JWT payload"),null)}catch(s){return om("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function SA(n){const e=p1(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zo&&Bbe(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Bbe({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hbe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(n){var e;const t=n.auth,r=await n.getIdToken(),s=await jc(n,Lj(t,{idToken:r}));Ee(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Mj(i.providerUserInfo):[],a=Kbe(n.providerData,o),l=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new aS(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function zbe(n){const e=Wn(n);await Sy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kbe(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Mj(n){return n.map(e=>{var{providerId:t}=e,r=d1(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wbe(n,e){const t=await kj(n,{},async()=>{const r=yp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=Nj(n,s,"/v1/token",`key=${i}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Dj.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Gbe(n,e){return Ko(n,"POST","/v2/accounts:revokeToken",el(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=SA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await Wbe(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new _c;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ee(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _c,this.toJSON())}_performRefresh(){return yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vo{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=d1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hbe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new aS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await jc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ube(this,e)}reload(){return zbe(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Sy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(Oo(this.auth));const e=await this.getIdToken();return await jc(this,Vbe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,a,l,u,d;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(s=t.email)!==null&&s!==void 0?s:void 0,m=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=t.createdAt)!==null&&u!==void 0?u:void 0,w=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:S,isAnonymous:I,providerData:x,stsTokenManager:O}=t;Ee(E&&O,e,"internal-error");const T=_c.fromJSON(this.name,O);Ee(typeof E=="string",e,"internal-error"),na(h,e.name),na(f,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof I=="boolean",e,"internal-error"),na(m,e.name),na(b,e.name),na(v,e.name),na(_,e.name),na(y,e.name),na(w,e.name);const P=new vo({uid:E,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:I,photoURL:b,phoneNumber:m,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:w});return x&&Array.isArray(x)&&(P.providerData=x.map(A=>Object.assign({},A))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new _c;s.updateFromServerResponse(t);const i=new vo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sy(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ee(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Mj(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new _c;a.updateFromIdToken(r);const l=new vo({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new aS(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new Map;function _o(n){jo(n instanceof Function,"Expected a class definition");let e=CA.get(n);return e?(jo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$j.type="NONE";const TA=$j;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(n,e,t){return`firebase:${n}:${e}:${t}`}class bc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=am(this.userKey,s.apiKey,i),this.fullPersistenceKey=am("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new bc(_o(TA),e,r);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||_o(TA);const o=am(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const d=await u._get(o);if(d){const h=vo._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new bc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new bc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hj(e))return"Blackberry";if(zj(e))return"Webos";if(jj(e))return"Safari";if((e.includes("chrome/")||Vj(e))&&!e.includes("edge/"))return"Chrome";if(Bj(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fj(n=Cr()){return/firefox\//i.test(n)}function jj(n=Cr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vj(n=Cr()){return/crios\//i.test(n)}function Uj(n=Cr()){return/iemobile/i.test(n)}function Bj(n=Cr()){return/android/i.test(n)}function Hj(n=Cr()){return/blackberry/i.test(n)}function zj(n=Cr()){return/webos/i.test(n)}function g1(n=Cr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ybe(n=Cr()){var e;return g1(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qbe(){return d_e()&&document.documentMode===10}function Kj(n=Cr()){return g1(n)||Bj(n)||zj(n)||Hj(n)||/windows phone/i.test(n)||Uj(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(n,e=[]){let t;switch(n){case"Browser":t=OA(Cr());break;case"Worker":t=`${OA(Cr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xbe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qbe(n,e={}){return Ko(n,"GET","/v2/passwordPolicy",el(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zbe=6;class Jbe{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Zbe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0e{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IA(this),this.idTokenSubscription=new IA(this),this.beforeStateQueue=new Xbe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_o(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await bc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lj(this,{idToken:e}),r=await vo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sy(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kbe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(Oo(this));const t=e?Wn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(Oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(Oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_o(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qbe(this),t=new Jbe(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Gbe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_o(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await bc.create(this,[_o(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Rbe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function yu(n){return Wn(n)}class IA{constructor(e){this.auth=e,this.observer=null,this.addObserver=__e(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t0e(n){n_=n}function Gj(n){return n_.loadJS(n)}function n0e(){return n_.recaptchaEnterpriseScript}function r0e(){return n_.gapiScript}function s0e(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const i0e="recaptcha-enterprise",o0e="NO_RECAPTCHA";class a0e{constructor(e){this.type=i0e,this.auth=yu(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{jbe(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Fbe(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;EA(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(o0e)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!t&&EA(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n0e();l.length!==0&&(l+=a),Gj(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function PA(n,e,t,r=!1){const s=new a0e(n);let i;try{i=await s.verify(t)}catch{i=await s.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function lS(n,e,t,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await PA(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await PA(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0e(n,e){const t=c1(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(by(i,e??{}))return s;yi(s,"already-initialized")}return t.initialize({options:e})}function u0e(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(_o);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c0e(n,e,t){const r=yu(n);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Yj(e),{host:o,port:a}=d0e(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),h0e()}function Yj(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function d0e(n){const e=Yj(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:xA(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:xA(o)}}}function xA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function h0e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yo("not implemented")}_getIdTokenResponse(e){return yo("not implemented")}_linkToIdToken(e,t){return yo("not implemented")}_getReauthenticationResolver(e){return yo("not implemented")}}async function f0e(n,e){return Ko(n,"POST","/v1/accounts:update",e)}async function p0e(n,e){return Ko(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g0e(n,e){return _p(n,"POST","/v1/accounts:signInWithPassword",el(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0e(n,e){return _p(n,"POST","/v1/accounts:signInWithEmailLink",el(n,e))}async function y0e(n,e){return _p(n,"POST","/v1/accounts:signInWithEmailLink",el(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends m1{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Sf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Sf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lS(e,t,"signInWithPassword",g0e);case"emailLink":return m0e(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lS(e,r,"signUpPassword",p0e);case"emailLink":return y0e(e,{idToken:t,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n,e){return _p(n,"POST","/v1/accounts:signInWithIdp",el(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0e="http://localhost";class Ql extends m1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ql(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=d1(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ql(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return wc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,wc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wc(e,t)}buildRequest(){const e={requestUri:v0e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0e(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b0e(n){const e=uh(ch(n)).link,t=e?uh(ch(e)).deep_link_id:null,r=uh(ch(n)).deep_link_id;return(r?uh(ch(r)).link:null)||r||t||e||n}class y1{constructor(e){var t,r,s,i,o,a;const l=uh(ch(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_0e((s=l.mode)!==null&&s!==void 0?s:null);Ee(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=b0e(e);try{return new y1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.providerId=_d.PROVIDER_ID}static credential(e,t){return Sf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=y1.parseLink(t);return Ee(r,"argument-error"),Sf._fromEmailAndCode(e,r.code,r.tenantId)}}_d.PROVIDER_ID="password";_d.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_d.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends qj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends bp{constructor(){super("facebook.com")}static credential(e){return Ql._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends bp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ql._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return fa.credential(t,r)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends bp{constructor(){super("github.com")}static credential(e){return Ql._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}}pa.GITHUB_SIGN_IN_METHOD="github.com";pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends bp{constructor(){super("twitter.com")}static credential(e,t){return Ql._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ga.credential(t,r)}catch{return null}}}ga.TWITTER_SIGN_IN_METHOD="twitter.com";ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0e(n,e){return _p(n,"POST","/v1/accounts:signUp",el(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await vo._fromIdTokenResponse(e,r,s),o=RA(r);return new Zl({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=RA(r);return new Zl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function RA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends zo{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Cy.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Cy(e,t,r,s)}}function Xj(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Cy._fromErrorAndOperation(n,i,e,r):i})}async function E0e(n,e,t=!1){const r=await jc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0e(n,e,t=!1){const{auth:r}=n;if(Mi(r.app))return Promise.reject(Oo(r));const s="reauthenticate";try{const i=await jc(n,Xj(r,s,e,n),t);Ee(i.idToken,r,"internal-error");const o=p1(i.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(n.uid===a,r,"user-mismatch"),Zl._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(n,e,t=!1){if(Mi(n.app))return Promise.reject(Oo(n));const r="signIn",s=await Xj(n,r,e),i=await Zl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function C0e(n,e){return Qj(yu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(n){const e=yu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function T0e(n,e,t){if(Mi(n.app))return Promise.reject(Oo(n));const r=yu(n),o=await lS(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w0e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Zj(n),l}),a=await Zl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function O0e(n,e,t){return Mi(n.app)?Promise.reject(Oo(n)):C0e(Wn(n),_d.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Zj(n),r})}function I0e(n,e){return P0e(Wn(n),null,e)}async function P0e(n,e,t){const{auth:r}=n,i={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(i.password=t);const o=await jc(n,f0e(r,i));await n._updateTokensIfNecessary(o,!0)}function x0e(n,e,t,r){return Wn(n).onIdTokenChanged(e,t,r)}function R0e(n,e,t){return Wn(n).beforeAuthStateChanged(e,t)}function A0e(n,e,t,r){return Wn(n).onAuthStateChanged(e,t,r)}function D0e(n){return Wn(n).signOut()}const Ty="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ty,"1"),this.storage.removeItem(Ty),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0e=1e3,N0e=10;class eV extends Jj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);qbe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,N0e):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},k0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eV.type="LOCAL";const L0e=eV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV extends Jj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tV.type="SESSION";const nV=tV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0e(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new r_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(t.origin,i)),l=await M0e(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}r_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=v1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function F0e(n){Yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function j0e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V0e(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function U0e(){return rV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="firebaseLocalStorageDb",B0e=1,Oy="firebaseLocalStorage",iV="fbase_key";class wp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function s_(n,e){return n.transaction([Oy],e?"readwrite":"readonly").objectStore(Oy)}function H0e(){const n=indexedDB.deleteDatabase(sV);return new wp(n).toPromise()}function uS(){const n=indexedDB.open(sV,B0e);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Oy,{keyPath:iV})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Oy)?e(r):(r.close(),await H0e(),e(await uS()))})})}async function AA(n,e,t){const r=s_(n,!0).put({[iV]:e,value:t});return new wp(r).toPromise()}async function z0e(n,e){const t=s_(n,!1).get(e),r=await new wp(t).toPromise();return r===void 0?null:r.value}function DA(n,e){const t=s_(n,!0).delete(e);return new wp(t).toPromise()}const K0e=800,W0e=3;class oV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uS(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>W0e)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=r_._getInstance(U0e()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await j0e(),!this.activeServiceWorker)return;this.sender=new $0e(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V0e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uS();return await AA(e,Ty,"1"),await DA(e,Ty),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>AA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>z0e(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>DA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=s_(s,!1).getAll();return new wp(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oV.type="LOCAL";const G0e=oV;new vp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0e(n,e){return e?_o(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends m1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function q0e(n){return Qj(n.auth,new _1(n),n.bypassAuthState)}function X0e(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),S0e(t,new _1(n),n.bypassAuthState)}async function Q0e(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),E0e(t,new _1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q0e;case"linkViaPopup":case"linkViaRedirect":return Q0e;case"reauthViaPopup":case"reauthViaRedirect":return X0e;default:yi(this.auth,"internal-error")}}resolve(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0e=new vp(2e3,1e4);class ac extends aV{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ac.currentPopupAction&&ac.currentPopupAction.cancel(),ac.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){jo(this.filter.length===1,"Popup operations only handle one event");const e=v1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ac.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z0e.get())};e()}}ac.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0e="pendingRedirect",lm=new Map;class ewe extends aV{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=lm.get(this.auth._key());if(!e){try{const r=await twe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}lm.set(this.auth._key(),e)}return this.bypassAuthState||lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function twe(n,e){const t=swe(e),r=rwe(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function nwe(n,e){lm.set(n._key(),e)}function rwe(n){return _o(n._redirectPersistence)}function swe(n){return am(J0e,n.config.apiKey,n.name)}async function iwe(n,e,t=!1){if(Mi(n.app))return Promise.reject(Oo(n));const r=yu(n),s=Y0e(r,e),o=await new ewe(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const owe=10*60*1e3;class awe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lwe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!lV(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Gi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=owe&&this.cachedEventUids.clear(),this.cachedEventUids.has(kA(e))}saveEventToCache(e){this.cachedEventUids.add(kA(e)),this.lastProcessedEventTime=Date.now()}}function kA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lV({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lwe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lV(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uwe(n,e={}){return Ko(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cwe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dwe=/^https?/;async function hwe(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uwe(n);for(const t of e)try{if(fwe(t))return}catch{}yi(n,"unauthorized-domain")}function fwe(n){const e=oS(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!dwe.test(t))return!1;if(cwe.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pwe=new vp(3e4,6e4);function NA(){const n=Yi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gwe(n){return new Promise((e,t)=>{var r,s,i;function o(){NA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NA(),t(Gi(n,"network-request-failed"))},timeout:pwe.get()})}if(!((s=(r=Yi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Yi().gapi)===null||i===void 0)&&i.load)o();else{const a=s0e("iframefcb");return Yi()[a]=()=>{gapi.load?o():t(Gi(n,"network-request-failed"))},Gj(`${r0e()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw um=null,e})}let um=null;function mwe(n){return um=um||gwe(n),um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ywe=new vp(5e3,15e3),vwe="__/auth/iframe",_we="emulator/auth/iframe",bwe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wwe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ewe(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?f1(e,_we):`https://${n.config.authDomain}/${vwe}`,r={apiKey:e.apiKey,appName:n.name,v:vd},s=wwe.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${yp(r).slice(1)}`}async function Swe(n){const e=await mwe(n),t=Yi().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:Ewe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bwe,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Gi(n,"network-request-failed"),a=Yi().setTimeout(()=>{i(o)},ywe.get());function l(){Yi().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cwe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Twe=500,Owe=600,Iwe="_blank",Pwe="http://localhost";class LA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xwe(n,e,t,r=Twe,s=Owe){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Cwe),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Cr().toLowerCase();t&&(a=Vj(u)?Iwe:t),Fj(u)&&(e=e||Pwe,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,b])=>`${f}${m}=${b},`,"");if(Ybe(u)&&a!=="_self")return Rwe(e||"",a),new LA(null);const h=window.open(e||"",a,d);Ee(h,n,"popup-blocked");try{h.focus()}catch{}return new LA(h)}function Rwe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Awe="__/auth/handler",Dwe="emulator/auth/handler",kwe=encodeURIComponent("fac");async function MA(n,e,t,r,s,i){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vd,eventId:s};if(e instanceof qj){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",v_e(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof bp){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await n._getAppCheckToken(),u=l?`#${kwe}=${encodeURIComponent(l)}`:"";return`${Nwe(n)}?${yp(a).slice(1)}${u}`}function Nwe({config:n}){return n.emulator?f1(n,Dwe):`https://${n.authDomain}/${Awe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="webStorageSupport";class Lwe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nV,this._completeRedirectFn=iwe,this._overrideRedirectResult=nwe}async _openPopup(e,t,r,s){var i;jo((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await MA(e,t,r,oS(),s);return xwe(e,o,v1())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await MA(e,t,r,oS(),s);return F0e(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(jo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Swe(e),r=new awe(e);return t.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(p0,{type:p0},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[p0];o!==void 0&&t(!!o),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hwe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kj()||jj()||g1()}}const Mwe=Lwe;var $A="@firebase/auth",FA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $we{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fwe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jwe(n){Fc(new Xl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wj(n)},u=new e0e(r,s,i,l);return u0e(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fc(new Xl("auth-internal",e=>{const t=yu(e.getProvider("auth").getImmediate());return(r=>new $we(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma($A,FA,Fwe(n)),Ma($A,FA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vwe=5*60,Uwe=Ej("authIdTokenMaxAge")||Vwe;let jA=null;const Bwe=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Uwe)return;const s=t==null?void 0:t.token;jA!==s&&(jA=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Hwe(n=Oj()){const e=c1(n,"auth");if(e.isInitialized())return e.getImmediate();const t=l0e(n,{popupRedirectResolver:Mwe,persistence:[G0e,L0e,nV]}),r=Ej("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Bwe(i.toString());R0e(t,o,()=>o(t.currentUser)),x0e(t,a=>o(a))}}const s=bj("auth");return s&&c0e(t,`http://${s}`),t}function zwe(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}t0e({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Gi("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",zwe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jwe("Browser");var Kwe="firebase",Wwe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(Kwe,Wwe,"app");var VA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ll,uV;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,T){function P(){}P.prototype=T.prototype,O.D=T.prototype,O.prototype=new P,O.prototype.constructor=O,O.C=function(A,k,M){for(var N=Array(arguments.length-2),K=2;K<arguments.length;K++)N[K-2]=arguments[K];return T.prototype[k].apply(A,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,T,P){P||(P=0);var A=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)A[k]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(k=0;16>k;++k)A[k]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=O.g[0],P=O.g[1],k=O.g[2];var M=O.g[3],N=T+(M^P&(k^M))+A[0]+3614090360&4294967295;T=P+(N<<7&4294967295|N>>>25),N=M+(k^T&(P^k))+A[1]+3905402710&4294967295,M=T+(N<<12&4294967295|N>>>20),N=k+(P^M&(T^P))+A[2]+606105819&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(T^k&(M^T))+A[3]+3250441966&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(M^P&(k^M))+A[4]+4118548399&4294967295,T=P+(N<<7&4294967295|N>>>25),N=M+(k^T&(P^k))+A[5]+1200080426&4294967295,M=T+(N<<12&4294967295|N>>>20),N=k+(P^M&(T^P))+A[6]+2821735955&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(T^k&(M^T))+A[7]+4249261313&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(M^P&(k^M))+A[8]+1770035416&4294967295,T=P+(N<<7&4294967295|N>>>25),N=M+(k^T&(P^k))+A[9]+2336552879&4294967295,M=T+(N<<12&4294967295|N>>>20),N=k+(P^M&(T^P))+A[10]+4294925233&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(T^k&(M^T))+A[11]+2304563134&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(M^P&(k^M))+A[12]+1804603682&4294967295,T=P+(N<<7&4294967295|N>>>25),N=M+(k^T&(P^k))+A[13]+4254626195&4294967295,M=T+(N<<12&4294967295|N>>>20),N=k+(P^M&(T^P))+A[14]+2792965006&4294967295,k=M+(N<<17&4294967295|N>>>15),N=P+(T^k&(M^T))+A[15]+1236535329&4294967295,P=k+(N<<22&4294967295|N>>>10),N=T+(k^M&(P^k))+A[1]+4129170786&4294967295,T=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(T^P))+A[6]+3225465664&4294967295,M=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(M^T))+A[11]+643717713&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^T&(k^M))+A[0]+3921069994&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(k^M&(P^k))+A[5]+3593408605&4294967295,T=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(T^P))+A[10]+38016083&4294967295,M=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(M^T))+A[15]+3634488961&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^T&(k^M))+A[4]+3889429448&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(k^M&(P^k))+A[9]+568446438&4294967295,T=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(T^P))+A[14]+3275163606&4294967295,M=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(M^T))+A[3]+4107603335&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^T&(k^M))+A[8]+1163531501&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(k^M&(P^k))+A[13]+2850285829&4294967295,T=P+(N<<5&4294967295|N>>>27),N=M+(P^k&(T^P))+A[2]+4243563512&4294967295,M=T+(N<<9&4294967295|N>>>23),N=k+(T^P&(M^T))+A[7]+1735328473&4294967295,k=M+(N<<14&4294967295|N>>>18),N=P+(M^T&(k^M))+A[12]+2368359562&4294967295,P=k+(N<<20&4294967295|N>>>12),N=T+(P^k^M)+A[5]+4294588738&4294967295,T=P+(N<<4&4294967295|N>>>28),N=M+(T^P^k)+A[8]+2272392833&4294967295,M=T+(N<<11&4294967295|N>>>21),N=k+(M^T^P)+A[11]+1839030562&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^T)+A[14]+4259657740&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(P^k^M)+A[1]+2763975236&4294967295,T=P+(N<<4&4294967295|N>>>28),N=M+(T^P^k)+A[4]+1272893353&4294967295,M=T+(N<<11&4294967295|N>>>21),N=k+(M^T^P)+A[7]+4139469664&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^T)+A[10]+3200236656&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(P^k^M)+A[13]+681279174&4294967295,T=P+(N<<4&4294967295|N>>>28),N=M+(T^P^k)+A[0]+3936430074&4294967295,M=T+(N<<11&4294967295|N>>>21),N=k+(M^T^P)+A[3]+3572445317&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^T)+A[6]+76029189&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(P^k^M)+A[9]+3654602809&4294967295,T=P+(N<<4&4294967295|N>>>28),N=M+(T^P^k)+A[12]+3873151461&4294967295,M=T+(N<<11&4294967295|N>>>21),N=k+(M^T^P)+A[15]+530742520&4294967295,k=M+(N<<16&4294967295|N>>>16),N=P+(k^M^T)+A[2]+3299628645&4294967295,P=k+(N<<23&4294967295|N>>>9),N=T+(k^(P|~M))+A[0]+4096336452&4294967295,T=P+(N<<6&4294967295|N>>>26),N=M+(P^(T|~k))+A[7]+1126891415&4294967295,M=T+(N<<10&4294967295|N>>>22),N=k+(T^(M|~P))+A[14]+2878612391&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~T))+A[5]+4237533241&4294967295,P=k+(N<<21&4294967295|N>>>11),N=T+(k^(P|~M))+A[12]+1700485571&4294967295,T=P+(N<<6&4294967295|N>>>26),N=M+(P^(T|~k))+A[3]+2399980690&4294967295,M=T+(N<<10&4294967295|N>>>22),N=k+(T^(M|~P))+A[10]+4293915773&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~T))+A[1]+2240044497&4294967295,P=k+(N<<21&4294967295|N>>>11),N=T+(k^(P|~M))+A[8]+1873313359&4294967295,T=P+(N<<6&4294967295|N>>>26),N=M+(P^(T|~k))+A[15]+4264355552&4294967295,M=T+(N<<10&4294967295|N>>>22),N=k+(T^(M|~P))+A[6]+2734768916&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~T))+A[13]+1309151649&4294967295,P=k+(N<<21&4294967295|N>>>11),N=T+(k^(P|~M))+A[4]+4149444226&4294967295,T=P+(N<<6&4294967295|N>>>26),N=M+(P^(T|~k))+A[11]+3174756917&4294967295,M=T+(N<<10&4294967295|N>>>22),N=k+(T^(M|~P))+A[2]+718787259&4294967295,k=M+(N<<15&4294967295|N>>>17),N=P+(M^(k|~T))+A[9]+3951481745&4294967295,O.g[0]=O.g[0]+T&4294967295,O.g[1]=O.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+M&4294967295}r.prototype.u=function(O,T){T===void 0&&(T=O.length);for(var P=T-this.blockSize,A=this.B,k=this.h,M=0;M<T;){if(k==0)for(;M<=P;)s(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<T;)if(A[k++]=O.charCodeAt(M++),k==this.blockSize){s(this,A),k=0;break}}else for(;M<T;)if(A[k++]=O[M++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var T=1;T<O.length-8;++T)O[T]=0;var P=8*this.o;for(T=O.length-8;T<O.length;++T)O[T]=P&255,P/=256;for(this.u(O),O=Array(16),T=P=0;4>T;++T)for(var A=0;32>A;A+=8)O[P++]=this.g[T]>>>A&255;return O};function i(O,T){var P=a;return Object.prototype.hasOwnProperty.call(P,O)?P[O]:P[O]=T(O)}function o(O,T){this.h=T;for(var P=[],A=!0,k=O.length-1;0<=k;k--){var M=O[k]|0;A&&M==T||(P[k]=M,A=!1)}this.g=P}var a={};function l(O){return-128<=O&&128>O?i(O,function(T){return new o([T|0],0>T?-1:0)}):new o([O|0],0>O?-1:0)}function u(O){if(isNaN(O)||!isFinite(O))return h;if(0>O)return _(u(-O));for(var T=[],P=1,A=0;O>=P;A++)T[A]=O/P|0,P*=4294967296;return new o(T,0)}function d(O,T){if(O.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O.charAt(0)=="-")return _(d(O.substring(1),T));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),A=h,k=0;k<O.length;k+=8){var M=Math.min(8,O.length-k),N=parseInt(O.substring(k,k+M),T);8>M?(M=u(Math.pow(T,M)),A=A.j(M).add(u(N))):(A=A.j(P),A=A.add(u(N)))}return A}var h=l(0),f=l(1),m=l(16777216);n=o.prototype,n.m=function(){if(v(this))return-_(this).m();for(var O=0,T=1,P=0;P<this.g.length;P++){var A=this.i(P);O+=(0<=A?A:4294967296+A)*T,T*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(v(this))return"-"+_(this).toString(O);for(var T=u(Math.pow(O,6)),P=this,A="";;){var k=S(P,T).g;P=y(P,k.j(T));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(O);if(P=k,b(P))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(var T=0;T<O.g.length;T++)if(O.g[T]!=0)return!1;return!0}function v(O){return O.h==-1}n.l=function(O){return O=y(this,O),v(O)?-1:b(O)?0:1};function _(O){for(var T=O.g.length,P=[],A=0;A<T;A++)P[A]=~O.g[A];return new o(P,~O.h).add(f)}n.abs=function(){return v(this)?_(this):this},n.add=function(O){for(var T=Math.max(this.g.length,O.g.length),P=[],A=0,k=0;k<=T;k++){var M=A+(this.i(k)&65535)+(O.i(k)&65535),N=(M>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);A=N>>>16,M&=65535,N&=65535,P[k]=N<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function y(O,T){return O.add(_(T))}n.j=function(O){if(b(this)||b(O))return h;if(v(this))return v(O)?_(this).j(_(O)):_(_(this).j(O));if(v(O))return _(this.j(_(O)));if(0>this.l(m)&&0>O.l(m))return u(this.m()*O.m());for(var T=this.g.length+O.g.length,P=[],A=0;A<2*T;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<O.g.length;k++){var M=this.i(A)>>>16,N=this.i(A)&65535,K=O.i(k)>>>16,G=O.i(k)&65535;P[2*A+2*k]+=N*G,w(P,2*A+2*k),P[2*A+2*k+1]+=M*G,w(P,2*A+2*k+1),P[2*A+2*k+1]+=N*K,w(P,2*A+2*k+1),P[2*A+2*k+2]+=M*K,w(P,2*A+2*k+2)}for(A=0;A<T;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=T;A<2*T;A++)P[A]=0;return new o(P,0)};function w(O,T){for(;(O[T]&65535)!=O[T];)O[T+1]+=O[T]>>>16,O[T]&=65535,T++}function E(O,T){this.g=O,this.h=T}function S(O,T){if(b(T))throw Error("division by zero");if(b(O))return new E(h,h);if(v(O))return T=S(_(O),T),new E(_(T.g),_(T.h));if(v(T))return T=S(O,_(T)),new E(_(T.g),T.h);if(30<O.g.length){if(v(O)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var P=f,A=T;0>=A.l(O);)P=I(P),A=I(A);var k=x(P,1),M=x(A,1);for(A=x(A,2),P=x(P,2);!b(A);){var N=M.add(A);0>=N.l(O)&&(k=k.add(P),M=N),A=x(A,1),P=x(P,1)}return T=y(O,k.j(T)),new E(k,T)}for(k=h;0<=O.l(T);){for(P=Math.max(1,Math.floor(O.m()/T.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=u(P),N=M.j(T);v(N)||0<N.l(O);)P-=A,M=u(P),N=M.j(T);b(M)&&(M=f),k=k.add(M),O=y(O,N)}return new E(k,O)}n.A=function(O){return S(this,O).h},n.and=function(O){for(var T=Math.max(this.g.length,O.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)&O.i(A);return new o(P,this.h&O.h)},n.or=function(O){for(var T=Math.max(this.g.length,O.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)|O.i(A);return new o(P,this.h|O.h)},n.xor=function(O){for(var T=Math.max(this.g.length,O.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)^O.i(A);return new o(P,this.h^O.h)};function I(O){for(var T=O.g.length+1,P=[],A=0;A<T;A++)P[A]=O.i(A)<<1|O.i(A-1)>>>31;return new o(P,O.h)}function x(O,T){var P=T>>5;T%=32;for(var A=O.g.length-P,k=[],M=0;M<A;M++)k[M]=0<T?O.i(M+P)>>>T|O.i(M+P+1)<<32-T:O.i(M+P);return new o(k,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uV=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ll=o}).apply(typeof VA<"u"?VA:typeof self<"u"?self:typeof window<"u"?window:{});var Ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cV,dh,dV,cm,cS,hV,fV,pV;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,C,R){return p==Array.prototype||p==Object.prototype||(p[C]=R.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ig=="object"&&Ig];for(var C=0;C<p.length;++C){var R=p[C];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=t(this);function s(p,C){if(C)e:{var R=r;p=p.split(".");for(var L=0;L<p.length-1;L++){var V=p[L];if(!(V in R))break e;R=R[V]}p=p[p.length-1],L=R[p],C=C(L),C!=L&&C!=null&&e(R,p,{configurable:!0,writable:!0,value:C})}}function i(p,C){p instanceof String&&(p+="");var R=0,L=!1,V={next:function(){if(!L&&R<p.length){var B=R++;return{value:C(B,p[B]),done:!1}}return L=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(p){return p||function(){return i(this,function(C,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(p){var C=typeof p;return C=C!="object"?C:p?Array.isArray(p)?"array":C:"null",C=="array"||C=="object"&&typeof p.length=="number"}function u(p){var C=typeof p;return C=="object"&&p!=null||C=="function"}function d(p,C,R){return p.call.apply(p.bind,arguments)}function h(p,C,R){if(!p)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,L),p.apply(C,V)}}return function(){return p.apply(C,arguments)}}function f(p,C,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(p,C){var R=Array.prototype.slice.call(arguments,1);return function(){var L=R.slice();return L.push.apply(L,arguments),p.apply(this,L)}}function b(p,C){function R(){}R.prototype=C.prototype,p.aa=C.prototype,p.prototype=new R,p.prototype.constructor=p,p.Qb=function(L,V,B){for(var se=Array(arguments.length-2),At=2;At<arguments.length;At++)se[At-2]=arguments[At];return C.prototype[V].apply(L,se)}}function v(p){const C=p.length;if(0<C){const R=Array(C);for(let L=0;L<C;L++)R[L]=p[L];return R}return[]}function _(p,C){for(let R=1;R<arguments.length;R++){const L=arguments[R];if(l(L)){const V=p.length||0,B=L.length||0;p.length=V+B;for(let se=0;se<B;se++)p[V+se]=L[se]}else p.push(L)}}class y{constructor(C,R){this.i=C,this.j=R,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function w(p){return/^[\s\xa0]*$/.test(p)}function E(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function S(p){return S[" "](p),p}S[" "]=function(){};var I=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function x(p,C,R){for(const L in p)C.call(R,p[L],L,p)}function O(p,C){for(const R in p)C.call(void 0,p[R],R,p)}function T(p){const C={};for(const R in p)C[R]=p[R];return C}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(p,C){let R,L;for(let V=1;V<arguments.length;V++){L=arguments[V];for(R in L)p[R]=L[R];for(let B=0;B<P.length;B++)R=P[B],Object.prototype.hasOwnProperty.call(L,R)&&(p[R]=L[R])}}function k(p){var C=1;p=p.split(":");const R=[];for(;0<C&&p.length;)R.push(p.shift()),C--;return p.length&&R.push(p.join(":")),R}function M(p){a.setTimeout(()=>{throw p},0)}function N(){var p=H;let C=null;return p.g&&(C=p.g,p.g=p.g.next,p.g||(p.h=null),C.next=null),C}class K{constructor(){this.h=this.g=null}add(C,R){const L=G.get();L.set(C,R),this.h?this.h.next=L:this.g=L,this.h=L}}var G=new y(()=>new z,p=>p.reset());class z{constructor(){this.next=this.g=this.h=null}set(C,R){this.h=C,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,j=!1,H=new K,U=()=>{const p=a.Promise.resolve(void 0);ee=()=>{p.then(oe)}};var oe=()=>{for(var p;p=N();){try{p.h.call(p.g)}catch(R){M(R)}var C=G;C.j(p),100>C.h&&(C.h++,p.next=C.g,C.g=p)}j=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(p,C){this.type=p,this.g=this.target=C,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,C=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const R=()=>{};a.addEventListener("test",R,C),a.removeEventListener("test",R,C)}catch{}return p}();function be(p,C){if(re.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var R=this.type=p.type,L=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=C,C=p.relatedTarget){if(I){e:{try{S(C.nodeName);var V=!0;break e}catch{}V=!1}V||(C=null)}}else R=="mouseover"?C=p.fromElement:R=="mouseout"&&(C=p.toElement);this.relatedTarget=C,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ye[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&be.aa.h.call(this)}}b(be,re);var ye={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),pe=0;function te(p,C,R,L,V){this.listener=p,this.proxy=null,this.src=C,this.type=R,this.capture=!!L,this.ha=V,this.key=++pe,this.da=this.fa=!1}function le(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ct(p){this.src=p,this.g={},this.h=0}ct.prototype.add=function(p,C,R,L,V){var B=p.toString();p=this.g[B],p||(p=this.g[B]=[],this.h++);var se=en(p,C,L,V);return-1<se?(C=p[se],R||(C.fa=!1)):(C=new te(C,this.src,B,!!L,V),C.fa=R,p.push(C)),C};function Ct(p,C){var R=C.type;if(R in p.g){var L=p.g[R],V=Array.prototype.indexOf.call(L,C,void 0),B;(B=0<=V)&&Array.prototype.splice.call(L,V,1),B&&(le(C),p.g[R].length==0&&(delete p.g[R],p.h--))}}function en(p,C,R,L){for(var V=0;V<p.length;++V){var B=p[V];if(!B.da&&B.listener==C&&B.capture==!!R&&B.ha==L)return V}return-1}var gt="closure_lm_"+(1e6*Math.random()|0),yn={};function mt(p,C,R,L,V){if(Array.isArray(C)){for(var B=0;B<C.length;B++)mt(p,C[B],R,L,V);return null}return R=so(R),p&&p[ge]?p.K(C,R,u(L)?!!L.capture:!!L,V):Yn(p,C,R,!1,L,V)}function Yn(p,C,R,L,V,B){if(!C)throw Error("Invalid event type");var se=u(V)?!!V.capture:!!V,At=jr(p);if(At||(p[gt]=At=new ct(p)),R=At.add(C,R,L,se,B),R.proxy)return R;if(L=Fr(),R.proxy=L,L.src=p,L.listener=R,p.addEventListener)de||(V=se),V===void 0&&(V=!1),p.addEventListener(C.toString(),L,V);else if(p.attachEvent)p.attachEvent($n(C.toString()),L);else if(p.addListener&&p.removeListener)p.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Fr(){function p(R){return C.call(p.src,p.listener,R)}const C=ws;return p}function Ei(p,C,R,L,V){if(Array.isArray(C))for(var B=0;B<C.length;B++)Ei(p,C[B],R,L,V);else L=u(L)?!!L.capture:!!L,R=so(R),p&&p[ge]?(p=p.i,C=String(C).toString(),C in p.g&&(B=p.g[C],R=en(B,R,L,V),-1<R&&(le(B[R]),Array.prototype.splice.call(B,R,1),B.length==0&&(delete p.g[C],p.h--)))):p&&(p=jr(p))&&(C=p.g[C.toString()],p=-1,C&&(p=en(C,R,L,V)),(R=-1<p?C[p]:null)&&Ft(R))}function Ft(p){if(typeof p!="number"&&p&&!p.da){var C=p.src;if(C&&C[ge])Ct(C.i,p);else{var R=p.type,L=p.proxy;C.removeEventListener?C.removeEventListener(R,L,p.capture):C.detachEvent?C.detachEvent($n(R),L):C.addListener&&C.removeListener&&C.removeListener(L),(R=jr(C))?(Ct(R,p),R.h==0&&(R.src=null,C[gt]=null)):le(p)}}}function $n(p){return p in yn?yn[p]:yn[p]="on"+p}function ws(p,C){if(p.da)p=!0;else{C=new be(C,this);var R=p.listener,L=p.ha||p.src;p.fa&&Ft(p),p=R.call(L,C)}return p}function jr(p){return p=p[gt],p instanceof ct?p:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(p){return typeof p=="function"?p:(p[Es]||(p[Es]=function(C){return p.handleEvent(C)}),p[Es])}function tn(){ne.call(this),this.i=new ct(this),this.M=this,this.F=null}b(tn,ne),tn.prototype[ge]=!0,tn.prototype.removeEventListener=function(p,C,R,L){Ei(this,p,C,R,L)};function kt(p,C){var R,L=p.F;if(L)for(R=[];L;L=L.F)R.push(L);if(p=p.M,L=C.type||C,typeof C=="string")C=new re(C,p);else if(C instanceof re)C.target=C.target||p;else{var V=C;C=new re(L,p),A(C,V)}if(V=!0,R)for(var B=R.length-1;0<=B;B--){var se=C.g=R[B];V=vn(se,L,!0,C)&&V}if(se=C.g=p,V=vn(se,L,!0,C)&&V,V=vn(se,L,!1,C)&&V,R)for(B=0;B<R.length;B++)se=C.g=R[B],V=vn(se,L,!1,C)&&V}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var p=this.i,C;for(C in p.g){for(var R=p.g[C],L=0;L<R.length;L++)le(R[L]);delete p.g[C],p.h--}}this.F=null},tn.prototype.K=function(p,C,R,L){return this.i.add(String(p),C,!1,R,L)},tn.prototype.L=function(p,C,R,L){return this.i.add(String(p),C,!0,R,L)};function vn(p,C,R,L){if(C=p.i.g[String(C)],!C)return!0;C=C.concat();for(var V=!0,B=0;B<C.length;++B){var se=C[B];if(se&&!se.da&&se.capture==R){var At=se.listener,qn=se.ha||se.src;se.fa&&Ct(p.i,se),V=At.call(qn,L)!==!1&&V}}return V&&!L.defaultPrevented}function In(p,C,R){if(typeof p=="function")R&&(p=f(p,R));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:a.setTimeout(p,C||0)}function ir(p){p.g=In(()=>{p.g=null,p.i&&(p.i=!1,ir(p))},p.l);const C=p.h;p.h=null,p.m.apply(null,C)}class Fn extends ne{constructor(C,R){super(),this.m=C,this.l=R,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(p){ne.call(this),this.h=p,this.g={}}b(or,ne);var Vr=[];function Ss(p){x(p.g,function(C,R){this.g.hasOwnProperty(R)&&Ft(C)},p),p.g={}}or.prototype.N=function(){or.aa.N.call(this),Ss(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=a.JSON.stringify,Jr=a.JSON.parse,Si=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Cs(){}Cs.prototype.h=null;function Ci(p){return p.h||(p.h=p.i())}function es(){}var ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yt(){re.call(this,"d")}b(yt,re);function Wt(){re.call(this,"c")}b(Wt,re);var ft={},nn=null;function jt(){return nn=nn||new tn}ft.La="serverreachability";function Gt(p){re.call(this,ft.La,p)}b(Gt,re);function bn(p){const C=jt();kt(C,new Gt(C))}ft.STAT_EVENT="statevent";function Ts(p,C){re.call(this,ft.STAT_EVENT,p),this.stat=C}b(Ts,re);function Ve(p){const C=jt();kt(C,new Ts(C,p))}ft.Ma="timingevent";function ns(p,C){re.call(this,ft.Ma,p),this.size=C}b(ns,re);function _e(p,C){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},C)}function Le(){this.g=!0}Le.prototype.xa=function(){this.g=!1};function Vt(p,C,R,L,V,B){p.info(function(){if(p.g)if(B)for(var se="",At=B.split("&"),qn=0;qn<At.length;qn++){var nt=At[qn].split("=");if(1<nt.length){var lr=nt[0];nt=nt[1];var ur=lr.split("_");se=2<=ur.length&&ur[1]=="type"?se+(lr+"="+nt+"&"):se+(lr+"=redacted&")}}else se=null;else se=B;return"XMLHTTP REQ ("+L+") [attempt "+V+"]: "+C+`
`+R+`
`+se})}function tt(p,C,R,L,V,B,se){p.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+V+"]: "+C+`
`+R+`
`+B+" "+se})}function Tt(p,C,R,L){p.info(function(){return"XMLHTTP TEXT ("+C+"): "+Rt(p,R)+(L?" "+L:"")})}function Ot(p,C){p.info(function(){return"TIMEOUT: "+C})}Le.prototype.info=function(){};function Rt(p,C){if(!p.g)return C;if(!C)return null;try{var R=JSON.parse(C);if(R){for(p=0;p<R.length;p++)if(Array.isArray(R[p])){var L=R[p];if(!(2>L.length)){var V=L[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var se=1;se<V.length;se++)V[se]=""}}}}return _n(R)}catch{return C}}var Wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Os={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rs;function io(){}b(io,Cs),io.prototype.g=function(){return new XMLHttpRequest},io.prototype.i=function(){return{}},rs=new io;function ar(p,C,R,L){this.j=p,this.i=C,this.l=R,this.R=L||1,this.U=new or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Go}function Go(){this.i=null,this.g="",this.h=!1}var Z1={},C_={};function T_(p,C,R){p.L=1,p.v=kp(oo(C)),p.m=R,p.P=!0,J1(p,null)}function J1(p,C){p.F=Date.now(),Rp(p),p.A=oo(p.v);var R=p.A,L=p.R;Array.isArray(L)||(L=[String(L)]),fO(R.i,"t",L),p.C=0,R=p.j.J,p.h=new Go,p.g=AO(p.j,R?C:null,!p.m),0<p.O&&(p.M=new Fn(f(p.Y,p,p.g),p.O)),C=p.U,R=p.g,L=p.ca;var V="readystatechange";Array.isArray(V)||(V&&(Vr[0]=V.toString()),V=Vr);for(var B=0;B<V.length;B++){var se=mt(R,V[B],L||C.handleEvent,!1,C.h||C);if(!se)break;C.g[se.key]=se}C=p.H?T(p.H):{},p.m?(p.u||(p.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,C)):(p.u="GET",p.g.ea(p.A,p.u,null,C)),bn(),Vt(p.i,p.u,p.A,p.l,p.R,p.m)}ar.prototype.ca=function(p){p=p.target;const C=this.M;C&&ao(p)==3?C.j():this.Y(p)},ar.prototype.Y=function(p){try{if(p==this.g)e:{const ur=ao(this.g);var C=this.g.Ba();const Eu=this.g.Z();if(!(3>ur)&&(ur!=3||this.g&&(this.h.h||this.g.oa()||bO(this.g)))){this.J||ur!=4||C==7||(C==8||0>=Eu?bn(3):bn(2)),O_(this);var R=this.g.Z();this.X=R;t:if(eO(this)){var L=bO(this.g);p="";var V=L.length,B=ao(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nl(this),Sd(this);var se="";break t}this.h.i=new a.TextDecoder}for(C=0;C<V;C++)this.h.h=!0,p+=this.h.i.decode(L[C],{stream:!(B&&C==V-1)});L.length=0,this.h.g+=p,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=R==200,tt(this.i,this.u,this.A,this.l,this.R,ur,R),this.o){if(this.T&&!this.K){t:{if(this.g){var At,qn=this.g;if((At=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(At)){var nt=At;break t}}nt=null}if(R=nt)Tt(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,I_(this,R);else{this.o=!1,this.s=3,Ve(12),nl(this),Sd(this);break e}}if(this.P){R=!0;let qs;for(;!this.J&&this.C<se.length;)if(qs=MU(this,se),qs==C_){ur==4&&(this.s=4,Ve(14),R=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(qs==Z1){this.s=4,Ve(15),Tt(this.i,this.l,se,"[Invalid Chunk]"),R=!1;break}else Tt(this.i,this.l,qs,null),I_(this,qs);if(eO(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ur!=4||se.length!=0||this.h.h||(this.s=1,Ve(16),R=!1),this.o=this.o&&R,!R)Tt(this.i,this.l,se,"[Invalid Chunked Response]"),nl(this),Sd(this);else if(0<se.length&&!this.W){this.W=!0;var lr=this.j;lr.g==this&&lr.ba&&!lr.M&&(lr.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),k_(lr),lr.M=!0,Ve(11))}}else Tt(this.i,this.l,se,null),I_(this,se);ur==4&&nl(this),this.o&&!this.J&&(ur==4?IO(this.j,this):(this.o=!1,Rp(this)))}else JU(this.g),R==400&&0<se.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),nl(this),Sd(this)}}}catch{}finally{}};function eO(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function MU(p,C){var R=p.C,L=C.indexOf(`
`,R);return L==-1?C_:(R=Number(C.substring(R,L)),isNaN(R)?Z1:(L+=1,L+R>C.length?C_:(C=C.slice(L,L+R),p.C=L+R,C)))}ar.prototype.cancel=function(){this.J=!0,nl(this)};function Rp(p){p.S=Date.now()+p.I,tO(p,p.I)}function tO(p,C){if(p.B!=null)throw Error("WatchDog timer not null");p.B=_e(f(p.ba,p),C)}function O_(p){p.B&&(a.clearTimeout(p.B),p.B=null)}ar.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ot(this.i,this.A),this.L!=2&&(bn(),Ve(17)),nl(this),this.s=2,Sd(this)):tO(this,this.S-p)};function Sd(p){p.j.G==0||p.J||IO(p.j,p)}function nl(p){O_(p);var C=p.M;C&&typeof C.ma=="function"&&C.ma(),p.M=null,Ss(p.U),p.g&&(C=p.g,p.g=null,C.abort(),C.ma())}function I_(p,C){try{var R=p.j;if(R.G!=0&&(R.g==p||P_(R.h,p))){if(!p.K&&P_(R.h,p)&&R.G==3){try{var L=R.Da.g.parse(C)}catch{L=null}if(Array.isArray(L)&&L.length==3){var V=L;if(V[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<p.F)jp(R),$p(R);else break e;D_(R),Ve(18)}}else R.za=V[1],0<R.za-R.T&&37500>V[2]&&R.F&&R.v==0&&!R.C&&(R.C=_e(f(R.Za,R),6e3));if(1>=sO(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else sl(R,11)}else if((p.K||R.g==p)&&jp(R),!w(C))for(V=R.Da.g.parse(C),C=0;C<V.length;C++){let nt=V[C];if(R.T=nt[0],nt=nt[1],R.G==2)if(nt[0]=="c"){R.K=nt[1],R.ia=nt[2];const lr=nt[3];lr!=null&&(R.la=lr,R.j.info("VER="+R.la));const ur=nt[4];ur!=null&&(R.Aa=ur,R.j.info("SVER="+R.Aa));const Eu=nt[5];Eu!=null&&typeof Eu=="number"&&0<Eu&&(L=1.5*Eu,R.L=L,R.j.info("backChannelRequestTimeoutMs_="+L)),L=R;const qs=p.g;if(qs){const Up=qs.g?qs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Up){var B=L.h;B.g||Up.indexOf("spdy")==-1&&Up.indexOf("quic")==-1&&Up.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(x_(B,B.h),B.h=null))}if(L.D){const N_=qs.g?qs.g.getResponseHeader("X-HTTP-Session-Id"):null;N_&&(L.ya=N_,Ut(L.I,L.D,N_))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-p.F,R.j.info("Handshake RTT: "+R.R+"ms")),L=R;var se=p;if(L.qa=RO(L,L.J?L.ia:null,L.W),se.K){iO(L.h,se);var At=se,qn=L.L;qn&&(At.I=qn),At.B&&(O_(At),Rp(At)),L.g=se}else TO(L);0<R.i.length&&Fp(R)}else nt[0]!="stop"&&nt[0]!="close"||sl(R,7);else R.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?sl(R,7):A_(R):nt[0]!="noop"&&R.l&&R.l.ta(nt),R.v=0)}}bn(4)}catch{}}var $U=class{constructor(p,C){this.g=p,this.map=C}};function nO(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rO(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function sO(p){return p.h?1:p.g?p.g.size:0}function P_(p,C){return p.h?p.h==C:p.g?p.g.has(C):!1}function x_(p,C){p.g?p.g.add(C):p.h=C}function iO(p,C){p.h&&p.h==C?p.h=null:p.g&&p.g.has(C)&&p.g.delete(C)}nO.prototype.cancel=function(){if(this.i=oO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function oO(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let C=p.i;for(const R of p.g.values())C=C.concat(R.D);return C}return v(p.i)}function FU(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var C=[],R=p.length,L=0;L<R;L++)C.push(p[L]);return C}C=[],R=0;for(L in p)C[R++]=p[L];return C}function jU(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var C=[];p=p.length;for(var R=0;R<p;R++)C.push(R);return C}C=[],R=0;for(const L in p)C[R++]=L;return C}}}function aO(p,C){if(p.forEach&&typeof p.forEach=="function")p.forEach(C,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,C,void 0);else for(var R=jU(p),L=FU(p),V=L.length,B=0;B<V;B++)C.call(void 0,L[B],R&&R[B],p)}var lO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VU(p,C){if(p){p=p.split("&");for(var R=0;R<p.length;R++){var L=p[R].indexOf("="),V=null;if(0<=L){var B=p[R].substring(0,L);V=p[R].substring(L+1)}else B=p[R];C(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function rl(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof rl){this.h=p.h,Ap(this,p.j),this.o=p.o,this.g=p.g,Dp(this,p.s),this.l=p.l;var C=p.i,R=new Od;R.i=C.i,C.g&&(R.g=new Map(C.g),R.h=C.h),uO(this,R),this.m=p.m}else p&&(C=String(p).match(lO))?(this.h=!1,Ap(this,C[1]||"",!0),this.o=Cd(C[2]||""),this.g=Cd(C[3]||"",!0),Dp(this,C[4]),this.l=Cd(C[5]||"",!0),uO(this,C[6]||"",!0),this.m=Cd(C[7]||"")):(this.h=!1,this.i=new Od(null,this.h))}rl.prototype.toString=function(){var p=[],C=this.j;C&&p.push(Td(C,cO,!0),":");var R=this.g;return(R||C=="file")&&(p.push("//"),(C=this.o)&&p.push(Td(C,cO,!0),"@"),p.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&p.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&p.push("/"),p.push(Td(R,R.charAt(0)=="/"?HU:BU,!0))),(R=this.i.toString())&&p.push("?",R),(R=this.m)&&p.push("#",Td(R,KU)),p.join("")};function oo(p){return new rl(p)}function Ap(p,C,R){p.j=R?Cd(C,!0):C,p.j&&(p.j=p.j.replace(/:$/,""))}function Dp(p,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);p.s=C}else p.s=null}function uO(p,C,R){C instanceof Od?(p.i=C,WU(p.i,p.h)):(R||(C=Td(C,zU)),p.i=new Od(C,p.h))}function Ut(p,C,R){p.i.set(C,R)}function kp(p){return Ut(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Cd(p,C){return p?C?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Td(p,C,R){return typeof p=="string"?(p=encodeURI(p).replace(C,UU),R&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function UU(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var cO=/[#\/\?@]/g,BU=/[#\?:]/g,HU=/[#\?]/g,zU=/[#\?@]/g,KU=/#/g;function Od(p,C){this.h=this.g=null,this.i=p||null,this.j=!!C}function Yo(p){p.g||(p.g=new Map,p.h=0,p.i&&VU(p.i,function(C,R){p.add(decodeURIComponent(C.replace(/\+/g," ")),R)}))}n=Od.prototype,n.add=function(p,C){Yo(this),this.i=null,p=bu(this,p);var R=this.g.get(p);return R||this.g.set(p,R=[]),R.push(C),this.h+=1,this};function dO(p,C){Yo(p),C=bu(p,C),p.g.has(C)&&(p.i=null,p.h-=p.g.get(C).length,p.g.delete(C))}function hO(p,C){return Yo(p),C=bu(p,C),p.g.has(C)}n.forEach=function(p,C){Yo(this),this.g.forEach(function(R,L){R.forEach(function(V){p.call(C,V,L,this)},this)},this)},n.na=function(){Yo(this);const p=Array.from(this.g.values()),C=Array.from(this.g.keys()),R=[];for(let L=0;L<C.length;L++){const V=p[L];for(let B=0;B<V.length;B++)R.push(C[L])}return R},n.V=function(p){Yo(this);let C=[];if(typeof p=="string")hO(this,p)&&(C=C.concat(this.g.get(bu(this,p))));else{p=Array.from(this.g.values());for(let R=0;R<p.length;R++)C=C.concat(p[R])}return C},n.set=function(p,C){return Yo(this),this.i=null,p=bu(this,p),hO(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[C]),this.h+=1,this},n.get=function(p,C){return p?(p=this.V(p),0<p.length?String(p[0]):C):C};function fO(p,C,R){dO(p,C),0<R.length&&(p.i=null,p.g.set(bu(p,C),v(R)),p.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],C=Array.from(this.g.keys());for(var R=0;R<C.length;R++){var L=C[R];const B=encodeURIComponent(String(L)),se=this.V(L);for(L=0;L<se.length;L++){var V=B;se[L]!==""&&(V+="="+encodeURIComponent(String(se[L]))),p.push(V)}}return this.i=p.join("&")};function bu(p,C){return C=String(C),p.j&&(C=C.toLowerCase()),C}function WU(p,C){C&&!p.j&&(Yo(p),p.i=null,p.g.forEach(function(R,L){var V=L.toLowerCase();L!=V&&(dO(this,L),fO(this,V,R))},p)),p.j=C}function GU(p,C){const R=new Le;if(a.Image){const L=new Image;L.onload=m(qo,R,"TestLoadImage: loaded",!0,C,L),L.onerror=m(qo,R,"TestLoadImage: error",!1,C,L),L.onabort=m(qo,R,"TestLoadImage: abort",!1,C,L),L.ontimeout=m(qo,R,"TestLoadImage: timeout",!1,C,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=p}else C(!1)}function YU(p,C){const R=new Le,L=new AbortController,V=setTimeout(()=>{L.abort(),qo(R,"TestPingServer: timeout",!1,C)},1e4);fetch(p,{signal:L.signal}).then(B=>{clearTimeout(V),B.ok?qo(R,"TestPingServer: ok",!0,C):qo(R,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(V),qo(R,"TestPingServer: error",!1,C)})}function qo(p,C,R,L,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),L(R)}catch{}}function qU(){this.g=new Si}function XU(p,C,R){const L=R||"";try{aO(p,function(V,B){let se=V;u(V)&&(se=_n(V)),C.push(L+B+"="+encodeURIComponent(se))})}catch(V){throw C.push(L+"type="+encodeURIComponent("_badmap")),V}}function Np(p){this.l=p.Ub||null,this.j=p.eb||!1}b(Np,Cs),Np.prototype.g=function(){return new Lp(this.l,this.j)},Np.prototype.i=function(p){return function(){return p}}({});function Lp(p,C){tn.call(this),this.D=p,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Lp,tn),n=Lp.prototype,n.open=function(p,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=C,this.readyState=1,Pd(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(C.body=p),(this.D||a).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Id(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Pd(this)),this.g&&(this.readyState=3,Pd(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pO(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function pO(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var C=p.value?p.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!p.done}))&&(this.response=this.responseText+=C)}p.done?Id(this):Pd(this),this.readyState==3&&pO(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Id(this))},n.Qa=function(p){this.g&&(this.response=p,Id(this))},n.ga=function(){this.g&&Id(this)};function Id(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Pd(p)}n.setRequestHeader=function(p,C){this.u.append(p,C)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],C=this.h.entries();for(var R=C.next();!R.done;)R=R.value,p.push(R[0]+": "+R[1]),R=C.next();return p.join(`\r
`)};function Pd(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Lp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function gO(p){let C="";return x(p,function(R,L){C+=L,C+=":",C+=R,C+=`\r
`}),C}function R_(p,C,R){e:{for(L in R){var L=!1;break e}L=!0}L||(R=gO(R),typeof p=="string"?R!=null&&encodeURIComponent(String(R)):Ut(p,C,R))}function hn(p){tn.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(hn,tn);var QU=/^https?$/i,ZU=["POST","PUT"];n=hn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,C,R,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);C=C?C.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rs.g(),this.v=this.o?Ci(this.o):Ci(rs),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(C,String(p),!0),this.B=!1}catch(B){mO(this,B);return}if(p=R||"",R=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var V in L)R.set(V,L[V]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const B of L.keys())R.set(B,L.get(B));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(R.keys()).find(B=>B.toLowerCase()=="content-type"),V=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZU,C,void 0))||L||V||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of R)this.g.setRequestHeader(B,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_O(this),this.u=!0,this.g.send(p),this.u=!1}catch(B){mO(this,B)}};function mO(p,C){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=C,p.m=5,yO(p),Mp(p)}function yO(p){p.A||(p.A=!0,kt(p,"complete"),kt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,kt(this,"complete"),kt(this,"abort"),Mp(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mp(this,!0)),hn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vO(this):this.bb())},n.bb=function(){vO(this)};function vO(p){if(p.h&&typeof o<"u"&&(!p.v[1]||ao(p)!=4||p.Z()!=2)){if(p.u&&ao(p)==4)In(p.Ea,0,p);else if(kt(p,"readystatechange"),ao(p)==4){p.h=!1;try{const se=p.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var R;if(!(R=C)){var L;if(L=se===0){var V=String(p.D).match(lO)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),L=!QU.test(V?V.toLowerCase():"")}R=L}if(R)kt(p,"complete"),kt(p,"success");else{p.m=6;try{var B=2<ao(p)?p.g.statusText:""}catch{B=""}p.l=B+" ["+p.Z()+"]",yO(p)}}finally{Mp(p)}}}}function Mp(p,C){if(p.g){_O(p);const R=p.g,L=p.v[0]?()=>{}:null;p.g=null,p.v=null,C||kt(p,"ready");try{R.onreadystatechange=L}catch{}}}function _O(p){p.I&&(a.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function ao(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<ao(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var C=this.g.responseText;return p&&C.indexOf(p)==0&&(C=C.substring(p.length)),Jr(C)}};function bO(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function JU(p){const C={};p=(p.g&&2<=ao(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<p.length;L++){if(w(p[L]))continue;var R=k(p[L]);const V=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const B=C[V]||[];C[V]=B,B.push(R)}O(C,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xd(p,C,R){return R&&R.internalChannelParams&&R.internalChannelParams[p]||C}function wO(p){this.Aa=0,this.i=[],this.j=new Le,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xd("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xd("baseRetryDelayMs",5e3,p),this.cb=xd("retryDelaySeedMs",1e4,p),this.Wa=xd("forwardChannelMaxRetries",2,p),this.wa=xd("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new nO(p&&p.concurrentRequestLimit),this.Da=new qU,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wO.prototype,n.la=8,n.G=1,n.connect=function(p,C,R,L){Ve(0),this.W=p,this.H=C||{},R&&L!==void 0&&(this.H.OSID=R,this.H.OAID=L),this.F=this.X,this.I=RO(this,null,this.W),Fp(this)};function A_(p){if(EO(p),p.G==3){var C=p.U++,R=oo(p.I);if(Ut(R,"SID",p.K),Ut(R,"RID",C),Ut(R,"TYPE","terminate"),Rd(p,R),C=new ar(p,p.j,C),C.L=2,C.v=kp(oo(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(C.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=C.v,R=!0),R||(C.g=AO(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Rp(C)}xO(p)}function $p(p){p.g&&(k_(p),p.g.cancel(),p.g=null)}function EO(p){$p(p),p.u&&(a.clearTimeout(p.u),p.u=null),jp(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function Fp(p){if(!rO(p.h)&&!p.s){p.s=!0;var C=p.Ga;ee||U(),j||(ee(),j=!0),H.add(C,p),p.B=0}}function eB(p,C){return sO(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=C.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=_e(f(p.Ga,p,C),PO(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const V=new ar(this,this.j,p);let B=this.o;if(this.S&&(B?(B=T(B),A(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var C=0,R=0;R<this.i.length;R++){t:{var L=this.i[R];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(C+=L,4096<C){C=R;break e}if(C===4096||R===this.i.length-1){C=R+1;break e}}C=1e3}else C=1e3;C=CO(this,V,C),R=oo(this.I),Ut(R,"RID",p),Ut(R,"CVER",22),this.D&&Ut(R,"X-HTTP-Session-Id",this.D),Rd(this,R),B&&(this.O?C="headers="+encodeURIComponent(String(gO(B)))+"&"+C:this.m&&R_(R,this.m,B)),x_(this.h,V),this.Ua&&Ut(R,"TYPE","init"),this.P?(Ut(R,"$req",C),Ut(R,"SID","null"),V.T=!0,T_(V,R,null)):T_(V,R,C),this.G=2}}else this.G==3&&(p?SO(this,p):this.i.length==0||rO(this.h)||SO(this))};function SO(p,C){var R;C?R=C.l:R=p.U++;const L=oo(p.I);Ut(L,"SID",p.K),Ut(L,"RID",R),Ut(L,"AID",p.T),Rd(p,L),p.m&&p.o&&R_(L,p.m,p.o),R=new ar(p,p.j,R,p.B+1),p.m===null&&(R.H=p.o),C&&(p.i=C.D.concat(p.i)),C=CO(p,R,1e3),R.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),x_(p.h,R),T_(R,L,C)}function Rd(p,C){p.H&&x(p.H,function(R,L){Ut(C,L,R)}),p.l&&aO({},function(R,L){Ut(C,L,R)})}function CO(p,C,R){R=Math.min(p.i.length,R);var L=p.l?f(p.l.Na,p.l,p):null;e:{var V=p.i;let B=-1;for(;;){const se=["count="+R];B==-1?0<R?(B=V[0].g,se.push("ofs="+B)):B=0:se.push("ofs="+B);let At=!0;for(let qn=0;qn<R;qn++){let nt=V[qn].g;const lr=V[qn].map;if(nt-=B,0>nt)B=Math.max(0,V[qn].g-100),At=!1;else try{XU(lr,se,"req"+nt+"_")}catch{L&&L(lr)}}if(At){L=se.join("&");break e}}}return p=p.i.splice(0,R),C.D=p,L}function TO(p){if(!p.g&&!p.u){p.Y=1;var C=p.Fa;ee||U(),j||(ee(),j=!0),H.add(C,p),p.v=0}}function D_(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=_e(f(p.Fa,p),PO(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,OO(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=_e(f(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),$p(this),OO(this))};function k_(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function OO(p){p.g=new ar(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var C=oo(p.qa);Ut(C,"RID","rpc"),Ut(C,"SID",p.K),Ut(C,"AID",p.T),Ut(C,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ut(C,"TO",p.ja),Ut(C,"TYPE","xmlhttp"),Rd(p,C),p.m&&p.o&&R_(C,p.m,p.o),p.L&&(p.g.I=p.L);var R=p.g;p=p.ia,R.L=1,R.v=kp(oo(C)),R.m=null,R.P=!0,J1(R,p)}n.Za=function(){this.C!=null&&(this.C=null,$p(this),D_(this),Ve(19))};function jp(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function IO(p,C){var R=null;if(p.g==C){jp(p),k_(p),p.g=null;var L=2}else if(P_(p.h,C))R=C.D,iO(p.h,C),L=1;else return;if(p.G!=0){if(C.o)if(L==1){R=C.m?C.m.length:0,C=Date.now()-C.F;var V=p.B;L=jt(),kt(L,new ns(L,R)),Fp(p)}else TO(p);else if(V=C.s,V==3||V==0&&0<C.X||!(L==1&&eB(p,C)||L==2&&D_(p)))switch(R&&0<R.length&&(C=p.h,C.i=C.i.concat(R)),V){case 1:sl(p,5);break;case 4:sl(p,10);break;case 3:sl(p,6);break;default:sl(p,2)}}}function PO(p,C){let R=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(R*=2),R*C}function sl(p,C){if(p.j.info("Error code "+C),C==2){var R=f(p.fb,p),L=p.Xa;const V=!L;L=new rl(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ap(L,"https"),kp(L),V?GU(L.toString(),R):YU(L.toString(),R)}else Ve(2);p.G=0,p.l&&p.l.sa(C),xO(p),EO(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function xO(p){if(p.G=0,p.ka=[],p.l){const C=oO(p.h);(C.length!=0||p.i.length!=0)&&(_(p.ka,C),_(p.ka,p.i),p.h.i.length=0,v(p.i),p.i.length=0),p.l.ra()}}function RO(p,C,R){var L=R instanceof rl?oo(R):new rl(R);if(L.g!="")C&&(L.g=C+"."+L.g),Dp(L,L.s);else{var V=a.location;L=V.protocol,C=C?C+"."+V.hostname:V.hostname,V=+V.port;var B=new rl(null);L&&Ap(B,L),C&&(B.g=C),V&&Dp(B,V),R&&(B.l=R),L=B}return R=p.D,C=p.ya,R&&C&&Ut(L,R,C),Ut(L,"VER",p.la),Rd(p,L),L}function AO(p,C,R){if(C&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=p.Ca&&!p.pa?new hn(new Np({eb:R})):new hn(p.pa),C.Ha(p.J),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function DO(){}n=DO.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Vp(){}Vp.prototype.g=function(p,C){return new ss(p,C)};function ss(p,C){tn.call(this),this.g=new wO(C),this.l=p,this.h=C&&C.messageUrlParams||null,p=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(p?p["X-WebChannel-Content-Type"]=C.messageContentType:p={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(p?p["X-WebChannel-Client-Profile"]=C.va:p={"X-WebChannel-Client-Profile":C.va}),this.g.S=p,(p=C&&C.Sb)&&!w(p)&&(this.g.m=p),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!w(C)&&(this.g.D=C,p=this.h,p!==null&&C in p&&(p=this.h,C in p&&delete p[C])),this.j=new wu(this)}b(ss,tn),ss.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ss.prototype.close=function(){A_(this.g)},ss.prototype.o=function(p){var C=this.g;if(typeof p=="string"){var R={};R.__data__=p,p=R}else this.u&&(R={},R.__data__=_n(p),p=R);C.i.push(new $U(C.Ya++,p)),C.G==3&&Fp(C)},ss.prototype.N=function(){this.g.l=null,delete this.j,A_(this.g),delete this.g,ss.aa.N.call(this)};function kO(p){yt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var C=p.__sm__;if(C){e:{for(const R in C){p=R;break e}p=void 0}(this.i=p)&&(p=this.i,C=C!==null&&p in C?C[p]:void 0),this.data=C}else this.data=p}b(kO,yt);function NO(){Wt.call(this),this.status=1}b(NO,Wt);function wu(p){this.g=p}b(wu,DO),wu.prototype.ua=function(){kt(this.g,"a")},wu.prototype.ta=function(p){kt(this.g,new kO(p))},wu.prototype.sa=function(p){kt(this.g,new NO)},wu.prototype.ra=function(){kt(this.g,"b")},Vp.prototype.createWebChannel=Vp.prototype.g,ss.prototype.send=ss.prototype.o,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,pV=function(){return new Vp},fV=function(){return jt()},hV=ft,cS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wo.NO_ERROR=0,Wo.TIMEOUT=8,Wo.HTTP_ERROR=6,cm=Wo,Os.COMPLETE="complete",dV=Os,es.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",tn.prototype.listen=tn.prototype.K,dh=es,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,cV=hn}).apply(typeof Ig<"u"?Ig:typeof self<"u"?self:typeof window<"u"?window:{});const UA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new l1("@firebase/firestore");function qd(){return Jl.logLevel}function fe(n,...e){if(Jl.logLevel<=Ye.DEBUG){const t=e.map(b1);Jl.debug(`Firestore (${bd}): ${n}`,...t)}}function Vo(n,...e){if(Jl.logLevel<=Ye.ERROR){const t=e.map(b1);Jl.error(`Firestore (${bd}): ${n}`,...t)}}function Vc(n,...e){if(Jl.logLevel<=Ye.WARN){const t=e.map(b1);Jl.warn(`Firestore (${bd}): ${n}`,...t)}}function b1(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${bd}) INTERNAL ASSERTION FAILED: `+n;throw Vo(e),new Error(e)}function St(n,e){n||Te()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends zo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gwe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class Ywe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qwe{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new $a;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $a,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $a)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new gV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new mr(e)}}class Xwe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qwe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Xwe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zwe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jwe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){St(this.o===void 0);const r=i=>{i.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St(typeof t.token=="string"),this.R=t.token,new Zwe(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eEe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=eEe(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function ot(n,e){return n<e?-1:n>e?1:0}function Uc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ln(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ln(0,0))}static max(){return new Ie(new Ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(),r===void 0?r=e.length-t:r>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Cf.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),o=t.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends Cf{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const tEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Cf{construct(e,t,r){return new Jn(e,t,r)}static isValidIdentifier(e){return tEe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new me(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new me(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new me(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new me(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(t)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Qt.fromString(e))}static fromName(e){return new ve(Qt.fromString(e).popFirst(5))}static empty(){return new ve(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Qt(e.slice()))}}function nEe(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new Ln(t+1,0):new Ln(t,r));return new Ha(s,ve.empty(),e)}function rEe(n){return new Ha(n.readTime,n.key,-1)}class Ha{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ha(Ie.min(),ve.empty(),-1)}static max(){return new Ha(Ie.max(),ve.empty(),-1)}}function sEe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:ot(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iEe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oEe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(n){if(n.code!==q.FAILED_PRECONDITION||n.message!==iEe)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,r)=>{t(e)})}static reject(e){return new Y((t,r)=>{r(e)})}static waitFor(e){return new Y((t,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&t()},l=>r(l))}),o=!0,i===s&&t()})}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next(s=>s?Y.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new Y((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;t(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,t){return new Y((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function aEe(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sp(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}w1.oe=-1;function i_(n){return n==null}function Iy(n){return n===0&&1/n==-1/0}function lEe(n){return typeof n=="number"&&Number.isInteger(n)&&!Iy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t){this.comparator=e,this.root=t||Qn.EMPTY}insert(e,t){return new cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pg(this.root,e,this.comparator,!0)}}class Pg{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Qn.RED,this.left=s??Qn.EMPTY,this.right=i??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Qn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Qn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,r,s,i){return this}insert(e,t,r){return new Qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HA(this.data.getIterator())}getIteratorFrom(e){return new HA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class HA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new hs([])}unionWith(e){let t=new tr(Jn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vV("Invalid base64 string: "+i):i}}(e);return new rr(t)}static fromUint8Array(e){const t=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const uEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function za(n){if(St(!!n),typeof n=="string"){let e=0;const t=uEe.exec(n);if(St(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(n.seconds),nanos:wn(n.nanos)}}function wn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function eu(n){return typeof n=="string"?rr.fromBase64String(n):rr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function S1(n){const e=n.mapValue.fields.__previous_value__;return E1(e)?S1(e):e}function Tf(n){const e=za(n.mapValue.fields.__local_write_time__.timestampValue);return new Ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cEe{constructor(e,t,r,s,i,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Of{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Of("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function tu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?E1(n)?4:hEe(n)?9007199254740991:dEe(n)?10:11:Te()}function eo(n,e){if(n===e)return!0;const t=tu(n);if(t!==tu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tf(n).isEqual(Tf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=za(s.timestampValue),a=za(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return eu(s.bytesValue).isEqual(eu(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return wn(s.geoPointValue.latitude)===wn(i.geoPointValue.latitude)&&wn(s.geoPointValue.longitude)===wn(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return wn(s.integerValue)===wn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=wn(s.doubleValue),a=wn(i.doubleValue);return o===a?Iy(o)===Iy(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Uc(n.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(BA(o)!==BA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!eo(o[l],a[l])))return!1;return!0}(n,e);default:return Te()}}function If(n,e){return(n.values||[]).find(t=>eo(t,e))!==void 0}function Bc(n,e){if(n===e)return 0;const t=tu(n),r=tu(e);if(t!==r)return ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ot(n.booleanValue,e.booleanValue);case 2:return function(i,o){const a=wn(i.integerValue||i.doubleValue),l=wn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return zA(n.timestampValue,e.timestampValue);case 4:return zA(Tf(n),Tf(e));case 5:return ot(n.stringValue,e.stringValue);case 6:return function(i,o){const a=eu(i),l=eu(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ot(a[u],l[u]);if(d!==0)return d}return ot(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ot(wn(i.latitude),wn(o.latitude));return a!==0?a:ot(wn(i.longitude),wn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return KA(n.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const h=i.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,b=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=ot(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:KA(m,b)}(n.mapValue,e.mapValue);case 11:return function(i,o){if(i===xg.mapValue&&o===xg.mapValue)return 0;if(i===xg.mapValue)return 1;if(o===xg.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ot(l[h],d[h]);if(f!==0)return f;const m=Bc(a[l[h]],u[d[h]]);if(m!==0)return m}return ot(l.length,d.length)}(n.mapValue,e.mapValue);default:throw Te()}}function zA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ot(n,e);const t=za(n),r=za(e),s=ot(t.seconds,r.seconds);return s!==0?s:ot(t.nanos,r.nanos)}function KA(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Bc(t[s],r[s]);if(i)return i}return ot(t.length,r.length)}function Hc(n){return dS(n)}function dS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=za(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return eu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=dS(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${dS(t.fields[o])}`;return s+"}"}(n.mapValue):Te()}function hS(n){return!!n&&"integerValue"in n}function C1(n){return!!n&&"arrayValue"in n}function WA(n){return!!n&&"nullValue"in n}function GA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dm(n){return!!n&&"mapValue"in n}function dEe(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ah(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ah(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ah(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hEe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(t)}setAll(e){let t=Jn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=a.popLast()}o?r[a.lastSegment()]=Ah(o):s.push(a.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());dm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];dm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){vu(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zr(Ah(this.value))}}function _V(n){const e=[];return vu(n.fields,(t,r)=>{const s=new Jn([t]);if(dm(r)){const i=_V(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new hs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t,r,s,i,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vr(e,0,Ie.min(),Ie.min(),Ie.min(),zr.empty(),0)}static newFoundDocument(e,t,r,s){return new vr(e,1,t,Ie.min(),r,s,0)}static newNoDocument(e,t){return new vr(e,2,t,Ie.min(),Ie.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new vr(e,3,t,Ie.min(),Ie.min(),zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t){this.position=e,this.inclusive=t}}function YA(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),t.key):r=Bc(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!eo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t="asc"){this.field=e,this.dir=t}}function fEe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{}class kn extends bV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gEe(e,t,r):t==="array-contains"?new vEe(e,r):t==="in"?new _Ee(e,r):t==="not-in"?new bEe(e,r):t==="array-contains-any"?new wEe(e,r):new kn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new mEe(e,r):new yEe(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bc(t,this.value)):t!==null&&tu(this.value)===tu(t)&&this.matchesComparison(Bc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class to extends bV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new to(e,t)}matches(e){return wV(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wV(n){return n.op==="and"}function EV(n){return pEe(n)&&wV(n)}function pEe(n){for(const e of n.filters)if(e instanceof to)return!1;return!0}function fS(n){if(n instanceof kn)return n.field.canonicalString()+n.op.toString()+Hc(n.value);if(EV(n))return n.filters.map(e=>fS(e)).join(",");{const e=n.filters.map(t=>fS(t)).join(",");return`${n.op}(${e})`}}function SV(n,e){return n instanceof kn?function(r,s){return s instanceof kn&&r.op===s.op&&r.field.isEqual(s.field)&&eo(r.value,s.value)}(n,e):n instanceof to?function(r,s){return s instanceof to&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&SV(o,s.filters[a]),!0):!1}(n,e):void Te()}function CV(n){return n instanceof kn?function(t){return`${t.field.canonicalString()} ${t.op} ${Hc(t.value)}`}(n):n instanceof to?function(t){return t.op.toString()+" {"+t.getFilters().map(CV).join(" ,")+"}"}(n):"Filter"}class gEe extends kn{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class mEe extends kn{constructor(e,t){super(e,"in",t),this.keys=TV("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yEe extends kn{constructor(e,t){super(e,"not-in",t),this.keys=TV("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TV(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class vEe extends kn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return C1(t)&&If(t.arrayValue,this.value)}}class _Ee extends kn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&If(this.value.arrayValue,t)}}class bEe extends kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!If(this.value.arrayValue,t)}}class wEe extends kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!C1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>If(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EEe{constructor(e,t=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function XA(n,e=null,t=[],r=[],s=null,i=null,o=null){return new EEe(n,e,t,r,s,i,o)}function T1(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),i_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hc(r)).join(",")),e.ue=t}return e.ue}function O1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fEe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qA(n.startAt,e.startAt)&&qA(n.endAt,e.endAt)}function pS(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,t=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SEe(n,e,t,r,s,i,o,a){return new o_(n,e,t,r,s,i,o,a)}function OV(n){return new o_(n)}function QA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CEe(n){return n.collectionGroup!==null}function Dh(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tr(Jn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new xy(i,r))}),t.has(Jn.keyField().canonicalString())||e.ce.push(new xy(Jn.keyField(),r))}return e.ce}function qi(n){const e=Pe(n);return e.le||(e.le=TEe(e,Dh(n))),e.le}function TEe(n,e){if(n.limitType==="F")return XA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new xy(s.field,i)});const t=n.endAt?new Py(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Py(n.startAt.position,n.startAt.inclusive):null;return XA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function gS(n,e,t){return new o_(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function a_(n,e){return O1(qi(n),qi(e))&&n.limitType===e.limitType}function IV(n){return`${T1(qi(n))}|lt:${n.limitType}`}function Fu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>CV(s)).join(", ")}]`),i_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Hc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Hc(s)).join(",")),`Target(${r})`}(qi(n))}; limitType=${n.limitType})`}function l_(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ve.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of Dh(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=YA(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Dh(r),s)||r.endAt&&!function(o,a,l){const u=YA(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Dh(r),s))}(n,e)}function OEe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PV(n){return(e,t)=>{let r=!1;for(const s of Dh(n)){const i=IEe(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function IEe(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Bc(l,u):Te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){vu(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return yV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PEe=new cn(ve.comparator);function Uo(){return PEe}const xV=new cn(ve.comparator);function hh(...n){let e=xV;for(const t of n)e=e.insert(t.key,t);return e}function RV(n){let e=xV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ol(){return kh()}function AV(){return kh()}function kh(){return new wd(n=>n.toString(),(n,e)=>n.isEqual(e))}const xEe=new cn(ve.comparator),REe=new tr(ve.comparator);function Ue(...n){let e=REe;for(const t of n)e=e.add(t);return e}const AEe=new tr(ot);function DEe(){return AEe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iy(e)?"-0":e}}function DV(n){return{integerValue:""+n}}function kEe(n,e){return lEe(e)?DV(e):I1(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this._=void 0}}function NEe(n,e,t){return n instanceof Pf?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&E1(i)&&(i=S1(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof xf?NV(n,e):n instanceof Rf?LV(n,e):function(s,i){const o=kV(s,i),a=ZA(o)+ZA(s.Pe);return hS(o)&&hS(s.Pe)?DV(a):I1(s.serializer,a)}(n,e)}function LEe(n,e,t){return n instanceof xf?NV(n,e):n instanceof Rf?LV(n,e):t}function kV(n,e){return n instanceof Ry?function(r){return hS(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pf extends u_{}class xf extends u_{constructor(e){super(),this.elements=e}}function NV(n,e){const t=MV(e);for(const r of n.elements)t.some(s=>eo(s,r))||t.push(r);return{arrayValue:{values:t}}}class Rf extends u_{constructor(e){super(),this.elements=e}}function LV(n,e){let t=MV(e);for(const r of n.elements)t=t.filter(s=>!eo(s,r));return{arrayValue:{values:t}}}class Ry extends u_{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ZA(n){return wn(n.integerValue||n.doubleValue)}function MV(n){return C1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MEe{constructor(e,t){this.field=e,this.transform=t}}function $Ee(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof xf&&s instanceof xf||r instanceof Rf&&s instanceof Rf?Uc(r.elements,s.elements,eo):r instanceof Ry&&s instanceof Ry?eo(r.Pe,s.Pe):r instanceof Pf&&s instanceof Pf}(n.transform,e.transform)}class FEe{constructor(e,t){this.version=e,this.transformResults=t}}class di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class c_{}function $V(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new P1(n.key,di.none()):new Cp(n.key,n.data,di.none());{const t=n.data,r=zr.empty();let s=new tr(Jn.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new tl(n.key,r,new hs(s.toArray()),di.none())}}function jEe(n,e,t){n instanceof Cp?function(s,i,o){const a=s.value.clone(),l=eD(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof tl?function(s,i,o){if(!hm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=eD(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(FV(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Nh(n,e,t,r){return n instanceof Cp?function(i,o,a,l){if(!hm(i.precondition,o))return a;const u=i.value.clone(),d=tD(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof tl?function(i,o,a,l){if(!hm(i.precondition,o))return a;const u=tD(i.fieldTransforms,l,o),d=o.data;return d.setAll(FV(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(i,o,a){return hm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function VEe(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=kV(r.transform,s||null);i!=null&&(t===null&&(t=zr.empty()),t.set(r.field,i))}return t||null}function JA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Uc(r,s,(i,o)=>$Ee(i,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cp extends c_{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class tl extends c_{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function FV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function eD(n,e,t){const r=new Map;St(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,LEe(o,a,t[s]))}return r}function tD(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,NEe(i,o,e))}return r}class P1 extends c_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UEe extends c_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BEe{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&jEe(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=AV();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(s.key)?null:a;const l=$V(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,(t,r)=>JA(t,r))&&Uc(this.baseMutations,e.baseMutations,(t,r)=>JA(t,r))}}class x1{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){St(e.mutations.length===r.length);let s=function(){return xEe}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new x1(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HEe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zEe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,qe;function KEe(n){switch(n){default:return Te();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function jV(n){if(n===void 0)return Vo("GRPC error has no .code"),q.UNKNOWN;switch(n){case Pn.OK:return q.OK;case Pn.CANCELLED:return q.CANCELLED;case Pn.UNKNOWN:return q.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return q.INTERNAL;case Pn.UNAVAILABLE:return q.UNAVAILABLE;case Pn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Pn.NOT_FOUND:return q.NOT_FOUND;case Pn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Pn.ABORTED:return q.ABORTED;case Pn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Pn.DATA_LOSS:return q.DATA_LOSS;default:return Te()}}(qe=Pn||(Pn={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WEe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GEe=new Ll([4294967295,4294967295],0);function nD(n){const e=WEe().encode(n),t=new uV;return t.update(e),new Uint8Array(t.digest())}function rD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ll([t,r],0),new Ll([s,i],0)]}class R1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fh(`Invalid padding: ${t}`);if(r<0)throw new fh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fh(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ll.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(Ll.fromNumber(r)));return s.compare(GEe)===1&&(s=new Ll([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=nD(e),[r,s]=rD(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new R1(i,s,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=nD(e),[r,s]=rD(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Tp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new d_(Ie.min(),s,new cn(ot),Uo(),Ue())}}class Tp{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Tp(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class VV{constructor(e,t){this.targetId=e,this.me=t}}class UV{constructor(e,t,r=rr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class sD{constructor(){this.fe=0,this.ge=oD(),this.pe=rr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),t=Ue(),r=Ue();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te()}}),new Tp(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=oD()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YEe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Uo(),this.qe=iD(),this.Qe=new cn(ot)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const i=s.target;if(pS(i))if(r===0){const o=new ve(i.path);this.Ue(t,o,vr.newNoDocument(o,Ie.min()))}else St(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,a;try{o=eu(r).toUint8Array()}catch(l){if(l instanceof vV)return Vc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new R1(o,s,i)}catch(l){return Vc(l instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,i,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&pS(a.target)){const l=new ve(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,vr.newNoDocument(l,e))}i.be&&(t.set(o,i.ve()),i.Ce())}});let r=Ue();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new d_(e,t,this.Qe,this.ke,r);return this.ke=Uo(),this.qe=iD(),this.Qe=new cn(ot),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new sD,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new tr(ot),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new sD),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function iD(){return new cn(ve.comparator)}function oD(){return new cn(ve.comparator)}const qEe={asc:"ASCENDING",desc:"DESCENDING"},XEe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QEe={and:"AND",or:"OR"};class ZEe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mS(n,e){return n.useProto3Json||i_(e)?e:{value:e}}function Ay(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JEe(n,e){return Ay(n,e.toTimestamp())}function Xi(n){return St(!!n),Ie.fromTimestamp(function(t){const r=za(t);return new Ln(r.seconds,r.nanos)}(n))}function A1(n,e){return yS(n,e).canonicalString()}function yS(n,e){const t=function(s){return new Qt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function HV(n){const e=Qt.fromString(n);return St(YV(e)),e}function vS(n,e){return A1(n.databaseId,e.path)}function g0(n,e){const t=HV(e);if(t.get(1)!==n.databaseId.projectId)throw new me(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(KV(t))}function zV(n,e){return A1(n.databaseId,e)}function eSe(n){const e=HV(n);return e.length===4?Qt.emptyPath():KV(e)}function _S(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KV(n){return St(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function aD(n,e,t){return{name:vS(n,e),fields:t.value.mapValue.fields}}function tSe(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(St(d===void 0||typeof d=="string"),rr.fromBase64String(d||"")):(St(d===void 0||d instanceof Buffer||d instanceof Uint8Array),rr.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?q.UNKNOWN:jV(u.code);return new me(d,u.message||"")}(o);t=new UV(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=g0(n,r.document.name),i=Xi(r.document.updateTime),o=r.document.createTime?Xi(r.document.createTime):Ie.min(),a=new zr({mapValue:{fields:r.document.fields}}),l=vr.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new fm(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=g0(n,r.document),i=r.readTime?Xi(r.readTime):Ie.min(),o=vr.newNoDocument(s,i),a=r.removedTargetIds||[];t=new fm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=g0(n,r.document),i=r.removedTargetIds||[];t=new fm([],i,s,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new zEe(s,i),a=r.targetId;t=new VV(a,o)}}return t}function nSe(n,e){let t;if(e instanceof Cp)t={update:aD(n,e.key,e.value)};else if(e instanceof P1)t={delete:vS(n,e.key)};else if(e instanceof tl)t={update:aD(n,e.key,e.data),updateMask:dSe(e.fieldMask)};else{if(!(e instanceof UEe))return Te();t={verify:vS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Pf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ry)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:JEe(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Te()}(n,e.precondition)),t}function rSe(n,e){return n&&n.length>0?(St(e!==void 0),n.map(t=>function(s,i){let o=s.updateTime?Xi(s.updateTime):Xi(i);return o.isEqual(Ie.min())&&(o=Xi(i)),new FEe(o,s.transformResults||[])}(t,e))):[]}function sSe(n,e){return{documents:[zV(n,e.path)]}}function iSe(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zV(n,s);const i=function(u){if(u.length!==0)return GV(to.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:ju(f.field),direction:lSe(f.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=mS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:s}}function oSe(n){let e=eSe(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){St(r===1);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];t.where&&(i=function(h){const f=WV(h);return f instanceof to&&EV(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(b){return new xy(Vu(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,i_(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Py(m,f)}(t.startAt));let u=null;return t.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Py(m,f)}(t.endAt)),SEe(e,s,o,i,a,"F",l,u)}function aSe(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function WV(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Vu(t.unaryFilter.field);return kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vu(t.unaryFilter.field);return kn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vu(t.unaryFilter.field);return kn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vu(t.unaryFilter.field);return kn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return kn.create(Vu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return to.create(t.compositeFilter.filters.map(r=>WV(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function lSe(n){return qEe[n]}function uSe(n){return XEe[n]}function cSe(n){return QEe[n]}function ju(n){return{fieldPath:n.canonicalString()}}function Vu(n){return Jn.fromServerFormat(n.fieldPath)}function GV(n){return n instanceof kn?function(t){if(t.op==="=="){if(GA(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NAN"}};if(WA(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GA(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NOT_NAN"}};if(WA(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(t.field),op:uSe(t.op),value:t.value}}}(n):n instanceof to?function(t){const r=t.getFilters().map(s=>GV(s));return r.length===1?r[0]:{compositeFilter:{op:cSe(t.op),filters:r}}}(n):Te()}function dSe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,r,s,i=Ie.min(),o=Ie.min(),a=rr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hSe{constructor(e){this.ct=e}}function fSe(n){const e=oSe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pSe{constructor(){this.un=new gSe}addToCollectionParentIndex(e,t){return this.un.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Ha.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class gSe{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new tr(Qt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tr(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new zc(0)}static kn(){return new zc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mSe{constructor(){this.changes=new wd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ySe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vSe{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Nh(r.mutation,s,hs.empty(),Ln.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const s=Ol();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let o=hh();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ol();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,s){let i=Uo();const o=kh(),a=function(){return kh()}();return t.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof tl)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Nh(d.mutation,u,d.mutation.getFieldMask(),Ln.now())):o.set(u.key,hs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var h;return a.set(u,new ySe(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=kh();let s=new cn((o,a)=>o-a),i=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let d=r.get(l)||hs.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Ue()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=AV();d.forEach(f=>{if(!i.has(f)){const m=$V(t.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CEe(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):Y.resolve(Ol());let a=-1,l=i;return o.next(u=>Y.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?Y.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ue())).next(d=>({batchId:a,changes:RV(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let s=hh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=hh();return this.indexManager.getCollectionParents(e,i).next(a=>Y.forEach(a,l=>{const u=function(h,f){return new o_(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,vr.newInvalidDocument(d)))});let a=hh();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Nh(d.mutation,u,hs.empty(),Ln.now()),l_(t,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Se{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Y.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Xi(s.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:fSe(s.bundledQuery),readTime:Xi(s.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bSe{constructor(){this.overlays=new cn(ve.comparator),this.Ir=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ol();return Y.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.ht(e,t,i)}),Y.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const s=Ol(),i=t.length+1,o=new ve(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new cn((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ol(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ol(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return Y.resolve(a)}ht(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HEe(t,r));let i=this.Ir.get(t);i===void 0&&(i=Ue(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wSe{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.Tr=new tr(Vn.Er),this.dr=new tr(Vn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Vn(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Vn(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new ve(new Qt([])),r=new Vn(t,e),s=new Vn(t,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ve(new Qt([])),r=new Vn(t,e),s=new Vn(t,e+1);let i=Ue();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new Vn(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vn{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ve.comparator(e.key,t.key)||ot(e.wr,t.wr)}static Ar(e,t){return ot(e.wr,t.wr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ESe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new tr(Vn.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BEe(i,t,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Vn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,t){return Y.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.vr(r),i=s<0?0:s;return Y.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vn(t,0),s=new Vn(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Y.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tr(ot);return t.forEach(s=>{const i=new Vn(s,0),o=new Vn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;ve.isDocumentKey(i)||(i=i.child(""));const o=new Vn(new ve(i),0);let a=new tr(ot);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),Y.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){St(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Y.forEach(t.mutations,s=>{const i=new Vn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Vn(t,0),s=this.br.firstAfterOrEqual(r);return Y.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SSe{constructor(e){this.Mr=e,this.docs=function(){return new cn(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let r=Uo();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():vr.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Uo();const o=t.path,a=new ve(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||sEe(rEe(d),r)<=0||(s.has(d.key)||l_(t,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Y.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Te()}Or(e,t){return Y.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CSe(this)}getSize(e){return Y.resolve(this.size)}}class CSe extends mSe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Y.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TSe{constructor(e){this.persistence=e,this.Nr=new wd(t=>T1(t),O1),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new D1,this.targetCount=0,this.kr=zc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,s)=>t(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new zc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Kn(t),Y.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Y.waitFor(i).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Y.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OSe{constructor(e,t){this.qr={},this.overlays={},this.Qr=new w1(0),this.Kr=!1,this.Kr=!0,this.$r=new wSe,this.referenceDelegate=e(this),this.Ur=new TSe(this),this.indexManager=new pSe,this.remoteDocumentCache=function(s){return new SSe(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new hSe(t),this.Gr=new _Se(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bSe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new ESe(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const s=new ISe(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,t){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class ISe extends oEe{constructor(e){super(),this.currentSequenceNumber=e}}class k1{constructor(e){this.persistence=e,this.Jr=new D1,this.Yr=null}static Zr(e){return new k1(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const s=ve.fromPath(r);return this.ei(e,s).next(i=>{i||t.removeEntry(s,Ie.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Y.or([()=>Y.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=s}static Wi(e,t){let r=Ue(),s=Ue();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new N1(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PSe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xSe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return h_e()?8:aEe(Cr())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.Yi(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,t,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new PSe;return this.Xi(e,t,o).next(a=>{if(i.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>i.result)}es(e,t,r,s){return r.documentReadCount<this.ji?(qd()<=Ye.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Fu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(qd()<=Ye.DEBUG&&fe("QueryEngine","Query:",Fu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(qd()<=Ye.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Fu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(t))):Y.resolve())}Yi(e,t){if(QA(t))return Y.resolve(null);let r=qi(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=gS(t,null,"F"),r=qi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ue(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(t,a);return this.ns(t,u,o,l.readTime)?this.Yi(e,gS(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,r,s){return QA(t)||s.isEqual(Ie.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(t,i);return this.ns(t,o,r,s)?Y.resolve(null):(qd()<=Ye.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fu(t)),this.rs(e,o,t,nEe(s,-1)).next(a=>a))})}ts(e,t){let r=new tr(PV(e));return t.forEach((s,i)=>{l_(e,i)&&(r=r.add(i))}),r}ns(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,t,r){return qd()<=Ye.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Fu(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ha.min(),r)}rs(e,t,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RSe{constructor(e,t,r,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new cn(ot),this._s=new wd(i=>T1(i),O1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vSe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function ASe(n,e,t,r){return new RSe(n,e,t,r)}async function qV(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ue();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function DSe(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=Y.resolve();return f.forEach(b=>{m=m.next(()=>d.getEntry(l,b)).next(v=>{const _=u.docVersions.get(b);St(_!==null),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function XV(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function kSe(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(t.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(rr.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(v,_,y){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,m,d)&&a.push(t.Ur.updateTargetData(i,m))});let l=Uo(),u=Ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(NSe(i,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(Ie.min())){const d=t.Ur.getLastRemoteSnapshotVersion(i).next(h=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return Y.waitFor(a).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(t.os=s,i))}function NSe(n,e,t){let r=Ue(),s=Ue();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=Uo();return t.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function LSe(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MSe(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ur.getTargetData(r,e).next(i=>i?(s=i,Y.resolve(s)):t.Ur.allocateTargetId(r).next(o=>(s=new Sa(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function bS(n,e,t){const r=Pe(n),s=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Sp(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function lD(n,e,t){const r=Pe(n);let s=Ie.min(),i=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Pe(l),f=h._s.get(d);return f!==void 0?Y.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,qi(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?s:Ie.min(),t?i:Ue())).next(a=>($Se(r,OEe(e),a),{documents:a,Ts:i})))}function $Se(n,e,t){let r=n.us.get(e)||Ie.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}class uD{constructor(){this.activeTargetIds=DEe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FSe{constructor(){this.so=new uD,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jSe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg=null;function m0(){return Rg===null?Rg=function(){return 268435456+Math.round(2147483648*Math.random())}():Rg++,"0x"+Rg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class USe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="WebChannelConnection";class BSe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(t,r,s,i,o){const a=m0(),l=this.xo(t,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(t,l,u,s).then(d=>(fe("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Vc("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(t,r,s,i,o,a){return this.Mo(t,r,s,i,o)}Oo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bd}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),s&&s.headers.forEach((i,o)=>t[o]=i)}xo(t,r){const s=VSe[t];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,s){const i=m0();return new Promise((o,a)=>{const l=new cV;l.setWithCredentials(!0),l.listenOnce(dV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cm.NO_ERROR:const d=l.getResponseJson();fe(pr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case cm.TIMEOUT:fe(pr,`RPC '${e}' ${i} timed out`),a(new me(q.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const h=l.getStatus();if(fe(pr,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const b=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(y)>=0?y:q.UNKNOWN}(m.status);a(new me(b,m.message))}else a(new me(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new me(q.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{fe(pr,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);fe(pr,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",u,r,15)})}Bo(e,t,r){const s=m0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pV(),a=fV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=i.join("");fe(pr,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const b=new USe({Io:_=>{m?fe(pr,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(f||(fe(pr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),fe(pr,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},To:()=>h.close()}),v=(_,y,w)=>{_.listen(y,E=>{try{w(E)}catch(S){setTimeout(()=>{throw S},0)}})};return v(h,dh.EventType.OPEN,()=>{m||(fe(pr,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),v(h,dh.EventType.CLOSE,()=>{m||(m=!0,fe(pr,`RPC '${e}' stream ${s} transport closed`),b.So())}),v(h,dh.EventType.ERROR,_=>{m||(m=!0,Vc(pr,`RPC '${e}' stream ${s} transport errored:`,_),b.So(new me(q.UNAVAILABLE,"The operation could not be completed")))}),v(h,dh.EventType.MESSAGE,_=>{var y;if(!m){const w=_.data[0];St(!!w);const E=w,S=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(S){fe(pr,`RPC '${e}' stream ${s} received error:`,S);const I=S.status;let x=function(P){const A=Pn[P];if(A!==void 0)return jV(A)}(I),O=S.message;x===void 0&&(x=q.INTERNAL,O="Unknown error status: "+I+" with message "+S.message),m=!0,b.So(new me(x,O)),h.close()}else fe(pr,`RPC '${e}' stream ${s} received:`,w),b.bo(w)}}),v(a,hV.STAT_EVENT,_=>{_.stat===cS.PROXY?fe(pr,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===cS.NOPROXY&&fe(pr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function y0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n){return new ZEe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,t,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,t,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new QV(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(Vo(t.toString()),Vo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===t&&this.P_(r,s)},r=>{e(()=>{const s=new me(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HSe extends ZV{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=tSe(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?Xi(o.readTime):Ie.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=_S(this.serializer),t.addTarget=function(i,o){let a;const l=o.target;if(a=pS(l)?{documents:sSe(i,l)}:{query:iSe(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BV(i,o.resumeToken);const u=mS(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ie.min())>0){a.readTime=Ay(i,o.snapshotVersion.toTimestamp());const u=mS(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=aSe(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=_S(this.serializer),t.removeTarget=e,this.a_(t)}}class zSe extends ZV{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=rSe(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=_S(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nSe(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KSe extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new me(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,yS(t,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new me(q.UNKNOWN,i.toString())})}Lo(e,t,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,yS(t,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class WSe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vo(t),this.D_=!1):fe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GSe{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{_u(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Pe(l);u.L_.add(4),await Op(u),u.q_.set("Unknown"),u.L_.delete(4),await f_(u)}(this))})}),this.q_=new WSe(r,s)}}async function f_(n){if(_u(n))for(const e of n.B_)await e(!0)}async function Op(n){for(const e of n.B_)await e(!1)}function JV(n,e){const t=Pe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),F1(t)?$1(t):Ed(t).r_()&&M1(t,e))}function L1(n,e){const t=Pe(n),r=Ed(t);t.N_.delete(e),r.r_()&&eU(t,e),t.N_.size===0&&(r.r_()?r.o_():_u(t)&&t.q_.set("Unknown"))}function M1(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ed(n).A_(e)}function eU(n,e){n.Q_.xe(e),Ed(n).R_(e)}function $1(n){n.Q_=new YEe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ed(n).start(),n.q_.v_()}function F1(n){return _u(n)&&!Ed(n).n_()&&n.N_.size>0}function _u(n){return Pe(n).L_.size===0}function tU(n){n.Q_=void 0}async function YSe(n){n.q_.set("Online")}async function qSe(n){n.N_.forEach((e,t)=>{M1(n,e)})}async function XSe(n,e){tU(n),F1(n)?(n.q_.M_(e),$1(n)):n.q_.set("Unknown")}async function QSe(n,e,t){if(n.q_.set("Online"),e instanceof UV&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(n,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dy(n,r)}else if(e instanceof fm?n.Q_.Ke(e):e instanceof VV?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ie.min()))try{const r=await XV(n.localStore);t.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(rr.EMPTY_BYTE_STRING,d.snapshotVersion)),eU(i,l);const h=new Sa(d.target,l,u,d.sequenceNumber);M1(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Dy(n,r)}}async function Dy(n,e,t){if(!Sp(e))throw e;n.L_.add(1),await Op(n),n.q_.set("Offline"),t||(t=()=>XV(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await f_(n)})}function nU(n,e){return e().catch(t=>Dy(n,t,e))}async function p_(n){const e=Pe(n),t=Ka(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZSe(e);)try{const s=await LSe(e.localStore,r);if(s===null){e.O_.length===0&&t.o_();break}r=s.batchId,JSe(e,s)}catch(s){await Dy(e,s)}rU(e)&&sU(e)}function ZSe(n){return _u(n)&&n.O_.length<10}function JSe(n,e){n.O_.push(e);const t=Ka(n);t.r_()&&t.V_&&t.m_(e.mutations)}function rU(n){return _u(n)&&!Ka(n).n_()&&n.O_.length>0}function sU(n){Ka(n).start()}async function eCe(n){Ka(n).p_()}async function tCe(n){const e=Ka(n);for(const t of n.O_)e.m_(t.mutations)}async function nCe(n,e,t){const r=n.O_.shift(),s=x1.from(r,e,t);await nU(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await p_(n)}async function rCe(n,e){e&&Ka(n).V_&&await async function(r,s){if(function(o){return KEe(o)&&o!==q.ABORTED}(s.code)){const i=r.O_.shift();Ka(r).s_(),await nU(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await p_(r)}}(n,e),rU(n)&&sU(n)}async function dD(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=_u(t);t.L_.add(3),await Op(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await f_(t)}async function sCe(n,e){const t=Pe(n);e?(t.L_.delete(2),await f_(t)):e||(t.L_.add(2),await Op(t),t.q_.set("Unknown"))}function Ed(n){return n.K_||(n.K_=function(t,r,s){const i=Pe(t);return i.w_(),new HSe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:YSe.bind(null,n),Ro:qSe.bind(null,n),mo:XSe.bind(null,n),d_:QSe.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),F1(n)?$1(n):n.q_.set("Unknown")):(await n.K_.stop(),tU(n))})),n.K_}function Ka(n){return n.U_||(n.U_=function(t,r,s){const i=Pe(t);return i.w_(),new zSe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eCe.bind(null,n),mo:rCe.bind(null,n),f_:tCe.bind(null,n),g_:nCe.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await p_(n)):(await n.U_.stop(),n.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new $a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,a=new j1(e,t,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V1(n,e){if(Vo("AsyncQueue",`${e}: ${n}`),Sp(n))return new me(q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=hh(),this.sortedSet=new cn(this.comparator)}static emptySet(e){return new Ec(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ec)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.W_=new cn(ve.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Kc{constructor(e,t,r,s,i,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Kc(e,t,Ec.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&a_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iCe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class oCe{constructor(){this.queries=fD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const s=Pe(t),i=s.queries;s.queries=fD(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new me(q.ABORTED,"Firestore shutting down"))}}function fD(){return new wd(n=>IV(n),a_)}async function aCe(n,e){const t=Pe(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new iCe,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await t.onListen(s,!0);break;case 1:i.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const a=V1(o,`Initialization of query '${Fu(e.query)}' failed`);return void e.onError(a)}t.queries.set(s,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&U1(t)}async function lCe(n,e){const t=Pe(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function uCe(n,e){const t=Pe(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&U1(t)}function cCe(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(t);r.queries.delete(e)}function U1(n){n.Y_.forEach(e=>{e.next()})}var wS,pD;(pD=wS||(wS={})).ea="default",pD.Cache="cache";class dCe{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.key=e}}class oU{constructor(e){this.key=e}}class hCe{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=PV(e),this.Ra=new Ec(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new hD,s=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=l_(this.query,h)?h:null,b=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;f&&m?f.data.isEqual(m.data)?b!==v&&(r.track({type:3,doc:m}),_=!0):this.ga(f,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),_=!0):f&&!m&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(m?(o=o.add(m),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,b){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return v(m)-v(b)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=t&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Kc(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hD,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new oU(r))}),this.da.forEach(r=>{e.has(r)||t.push(new iU(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ue();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Kc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fCe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pCe{constructor(e){this.key=e,this.va=!1}}class gCe{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new wd(a=>IV(a),a_),this.Ma=new Map,this.xa=new Set,this.Oa=new cn(ve.comparator),this.Na=new Map,this.La=new D1,this.Ba={},this.ka=new Map,this.qa=zc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mCe(n,e,t=!0){const r=hU(n);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await aU(r,e,t,!0),s}async function yCe(n,e){const t=hU(n);await aU(t,e,!0,!1)}async function aU(n,e,t,r){const s=await MSe(n.localStore,qi(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let a;return r&&(a=await vCe(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&JV(n.remoteStore,s),a}async function vCe(n,e,t,r,s){n.Ka=(h,f,m)=>async function(v,_,y,w){let E=_.view.ma(y);E.ns&&(E=await lD(v.localStore,_.query,!1).then(({documents:O})=>_.view.ma(O,E)));const S=w&&w.targetChanges.get(_.targetId),I=w&&w.targetMismatches.get(_.targetId)!=null,x=_.view.applyChanges(E,v.isPrimaryClient,S,I);return mD(v,_.targetId,x.wa),x.snapshot}(n,h,f,m);const i=await lD(n.localStore,e,!0),o=new hCe(e,i.Ts),a=o.ma(i.documents),l=Tp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),u=o.applyChanges(a,n.isPrimaryClient,l);mD(n,t,u.wa);const d=new fCe(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot}async function _Ce(n,e,t){const r=Pe(n),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!a_(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bS(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&L1(r.remoteStore,s.targetId),ES(r,s.targetId)}).catch(Ep)):(ES(r,s.targetId),await bS(r.localStore,s.targetId,!0))}async function bCe(n,e){const t=Pe(n),r=t.Fa.get(e),s=t.Ma.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),L1(t.remoteStore,r.targetId))}async function wCe(n,e,t){const r=PCe(n);try{const s=await function(o,a){const l=Pe(o),u=Ln.now(),d=a.reduce((m,b)=>m.add(b.key),Ue());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=Uo(),v=Ue();return l.cs.getEntries(m,d).next(_=>{b=_,b.forEach((y,w)=>{w.isValidDocument()||(v=v.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,b)).next(_=>{h=_;const y=[];for(const w of a){const E=VEe(w,h.get(w.key).overlayedDocument);E!=null&&y.push(new tl(w.key,E,_V(E.value.mapValue),di.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,y,a)}).next(_=>{f=_;const y=_.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,_.batchId,y)})}).then(()=>({batchId:f.batchId,changes:RV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new cn(ot)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,t),await Ip(r,s.changes),await p_(r.remoteStore)}catch(s){const i=V1(s,"Failed to persist write");t.reject(i)}}async function lU(n,e){const t=Pe(n);try{const r=await kSe(t.localStore,e);e.targetChanges.forEach((s,i)=>{const o=t.Na.get(i);o&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?St(o.va):s.removedDocuments.size>0&&(St(o.va),o.va=!1))}),await Ip(t,r,e)}catch(r){await Ep(r)}}function gD(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Pe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&U1(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ECe(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new cn(ve.comparator);o=o.insert(i,vr.newNoDocument(i,Ie.min()));const a=Ue().add(i),l=new d_(Ie.min(),new Map,new cn(ot),o,a);await lU(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),B1(r)}else await bS(r.localStore,e,!1).then(()=>ES(r,e,t)).catch(Ep)}async function SCe(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await DSe(t.localStore,e);cU(t,r,null),uU(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ip(t,s)}catch(s){await Ep(s)}}async function CCe(n,e,t){const r=Pe(n);try{const s=await function(o,a){const l=Pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(St(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);cU(r,e,t),uU(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ip(r,s)}catch(s){await Ep(s)}}function uU(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function cU(n,e,t){const r=Pe(n);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function ES(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||dU(n,r)})}function dU(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(L1(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),B1(n))}function mD(n,e,t){for(const r of t)r instanceof iU?(n.La.addReference(r.key,e),TCe(n,r)):r instanceof oU?(fe("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||dU(n,r.key)):Te()}function TCe(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(fe("SyncEngine","New document in limbo: "+t),n.xa.add(r),B1(n))}function B1(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new ve(Qt.fromString(e)),r=n.qa.next();n.Na.set(r,new pCe(t)),n.Oa=n.Oa.insert(t,r),JV(n.remoteStore,new Sa(qi(OV(t.path)),r,"TargetPurposeLimboResolution",w1.oe))}}async function Ip(n,e,t){const r=Pe(n),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=t==null?void 0:t.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=N1.Wi(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const d=Pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Y.forEach(u,f=>Y.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>Y.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Sp(h))throw h;fe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),b=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(b);d.os=d.os.insert(f,v)}}}(r.localStore,i))}async function OCe(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await qV(t.localStore,e);t.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new me(q.CANCELLED,o))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ip(t,r.hs)}}function ICe(n,e){const t=Pe(n),r=t.Na.get(e);if(r&&r.va)return Ue().add(r.key);{let s=Ue();const i=t.Ma.get(e);if(!i)return s;for(const o of i){const a=t.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function hU(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ICe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ECe.bind(null,e),e.Ca.d_=uCe.bind(null,e.eventManager),e.Ca.$a=cCe.bind(null,e.eventManager),e}function PCe(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SCe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CCe.bind(null,e),e}class ky{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=h_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ASe(this.persistence,new xSe,e.initialUser,this.serializer)}Ga(e){return new OSe(k1.Zr,this.serializer)}Wa(e){return new FSe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ky.provider={build:()=>new ky};class SS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OCe.bind(null,this.syncEngine),await sCe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oCe}()}createDatastore(e){const t=h_(e.databaseInfo.databaseId),r=function(i){return new BSe(i)}(e.databaseInfo);return function(i,o,a,l){return new KSe(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,o,a){return new GSe(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>gD(this.syncEngine,t,0),function(){return cD.D()?new cD:new jSe}())}createSyncEngine(e,t){return function(s,i,o,a,l,u,d){const h=new gCe(s,i,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=Pe(s);fe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Op(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}SS.provider={build:()=>new SS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xCe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RCe{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=mr.UNAUTHENTICATED,this.clientId=mV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=V1(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function v0(n,e){n.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await qV(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function yD(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ACe(n);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>dD(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>dD(e.remoteStore,s)),n._onlineComponents=e}async function ACe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await v0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Vc("Error using user provided cache. Falling back to memory cache: "+t),await v0(n,new ky)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await v0(n,new ky);return n._offlineComponents}async function fU(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await yD(n,n._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await yD(n,new SS))),n._onlineComponents}function DCe(n){return fU(n).then(e=>e.syncEngine)}async function kCe(n){const e=await fU(n),t=e.eventManager;return t.onListen=mCe.bind(null,e.syncEngine),t.onUnlisten=_Ce.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yCe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bCe.bind(null,e.syncEngine),t}function NCe(n,e,t={}){const r=new $a;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new xCe({next:f=>{d.Za(),o.enqueueAndForget(()=>lCe(i,h)),f.fromCache&&l.source==="server"?u.reject(new me(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new dCe(a,d,{includeMetadataChanges:!0,_a:!0});return aCe(i,h)}(await kCe(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(n,e,t){if(!t)throw new me(q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LCe(n,e,t,r){if(e===!0&&r===!0)throw new me(q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _D(n){if(!ve.isDocumentKey(n))throw new me(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bD(n){if(ve.isDocumentKey(n))throw new me(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function H1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function nu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=H1(n);throw new me(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LCe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g_{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wD({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gwe;switch(r.type){case"firstParty":return new Qwe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=vD.get(t);r&&(fe("ComponentProvider","Removing Datastore"),vD.delete(t),r.terminate())}(this),Promise.resolve()}}function MCe(n,e,t,r={}){var s;const i=(n=nu(n,g_))._getSettings(),o=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mr.MOCK_USER;else{a=i_e(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new me(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mr(u)}n._authCredentials=new Ywe(new gV(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new m_(this.firestore,e,this._query)}}class Ks{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ks(this.firestore,e,this._key)}}class Fa extends m_{constructor(e,t,r){super(e,t,OV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ks(this.firestore,null,new ve(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function mU(n,e,...t){if(n=Wn(n),gU("collection","path",e),n instanceof g_){const r=Qt.fromString(e,...t);return bD(r),new Fa(n,null,r)}{if(!(n instanceof Ks||n instanceof Fa))throw new me(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return bD(r),new Fa(n.firestore,null,r)}}function z1(n,e,...t){if(n=Wn(n),arguments.length===1&&(e=mV.newId()),gU("doc","path",e),n instanceof g_){const r=Qt.fromString(e,...t);return _D(r),new Ks(n,null,new ve(r))}{if(!(n instanceof Ks||n instanceof Fa))throw new me(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return _D(r),new Ks(n.firestore,n instanceof Fa?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new QV(this,"async_queue_retry"),this.Vu=()=>{const r=y0();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=y0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=y0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new $a;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sp(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Vo("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=j1.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Pp extends g_{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ED,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ED(e),this._firestoreClient=void 0,await e}}}function $Ce(n,e){const t=typeof n=="object"?n:Oj(),r=typeof n=="string"?n:"(default)",s=c1(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=r_e("firestore");i&&MCe(s,...i)}return s}function yU(n){if(n._terminated)throw new me(q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FCe(n),n._firestoreClient}function FCe(n){var e,t,r;const s=n._freezeSettings(),i=function(a,l,u,d){return new cEe(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pU(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new RCe(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(rr.fromBase64String(e))}catch(t){throw new me(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wc(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jCe=/^__.*__$/;class VCe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new tl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cp(e,this.data,t,this.fieldTransforms)}}class vU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new tl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _U(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class G1{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new G1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ny(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(_U(this.Cu)&&jCe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class UCe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||h_(e)}Qu(e,t,r,s=!1){return new G1({Cu:e,methodName:t,qu:r,path:Jn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bU(n){const e=n._freezeSettings(),t=h_(n._databaseId);return new UCe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BCe(n,e,t,r,s,i={}){const o=n.Qu(i.merge||i.mergeFields?2:0,e,t,s);q1("Data must be an object, but it was:",o,r);const a=wU(r,o);let l,u;if(i.merge)l=new hs(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=CS(e,h,t);if(!o.contains(f))throw new me(q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);SU(d,f)||d.push(f)}l=new hs(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new VCe(new zr(a),l,u)}class __ extends v_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __}}class Y1 extends v_{_toFieldTransform(e){return new MEe(e.path,new Pf)}isEqual(e){return e instanceof Y1}}function HCe(n,e,t,r){const s=n.Qu(1,e,t);q1("Data must be an object, but it was:",s,r);const i=[],o=zr.empty();vu(r,(l,u)=>{const d=X1(e,l,t);u=Wn(u);const h=s.Nu(d);if(u instanceof __)i.push(d);else{const f=b_(u,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new hs(i);return new vU(o,a,s.fieldTransforms)}function zCe(n,e,t,r,s,i){const o=n.Qu(1,e,t),a=[CS(e,r,t)],l=[s];if(i.length%2!=0)throw new me(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(CS(e,i[f])),l.push(i[f+1]);const u=[],d=zr.empty();for(let f=a.length-1;f>=0;--f)if(!SU(u,a[f])){const m=a[f];let b=l[f];b=Wn(b);const v=o.Nu(m);if(b instanceof __)u.push(m);else{const _=b_(b,v);_!=null&&(u.push(m),d.set(m,_))}}const h=new hs(u);return new vU(d,h,o.fieldTransforms)}function b_(n,e){if(EU(n=Wn(n)))return q1("Unsupported field value:",e,n),wU(n,e);if(n instanceof v_)return function(r,s){if(!_U(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=b_(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=Wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kEe(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ln.fromDate(r);return{timestampValue:Ay(s.serializer,i)}}if(r instanceof Ln){const i=new Ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ay(s.serializer,i)}}if(r instanceof K1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wc)return{bytesValue:BV(s.serializer,r._byteString)};if(r instanceof Ks){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:A1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof W1)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return I1(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${H1(r)}`)}(n,e)}function wU(n,e){const t={};return yV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vu(n,(r,s)=>{const i=b_(s,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function EU(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ln||n instanceof K1||n instanceof Wc||n instanceof Ks||n instanceof v_||n instanceof W1)}function q1(n,e,t){if(!EU(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=H1(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function CS(n,e,t){if((e=Wn(e))instanceof y_)return e._internalPath;if(typeof e=="string")return X1(n,e);throw Ny("Field path arguments must be of type string or ",n,!1,void 0,t)}const KCe=new RegExp("[~\\*/\\[\\]]");function X1(n,e,t){if(e.search(KCe)>=0)throw Ny(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new y_(...e.split("."))._internalPath}catch{throw Ny(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ny(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new me(q.INVALID_ARGUMENT,a+n+l)}function SU(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ks(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TU("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WCe extends CU{data(){return super.data()}}function TU(n,e){return typeof e=="string"?X1(n,e):e instanceof y_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GCe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YCe{convertValue(e,t="none"){switch(tu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vu(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>wn(o.doubleValue));return new W1(i)}convertGeoPoint(e){return new K1(wn(e.latitude),wn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=S1(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tf(e));default:return null}}convertTimestamp(e){const t=za(e);return new Ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);St(YV(r));const s=new Of(r.get(1),r.get(3)),i=new ve(r.popFirst(5));return s.isEqual(t)||Vo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qCe(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XCe extends CU{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(TU("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class pm extends XCe{data(e={}){return super.data(e)}}class QCe{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ag(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new pm(this._firestore,this._userDataWriter,r.key,r,new Ag(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new pm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ag(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new pm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ag(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:ZCe(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZCe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class JCe extends YCe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ks(this.firestore,null,t)}}function eTe(n){n=nu(n,m_);const e=nu(n.firestore,Pp),t=yU(e),r=new JCe(e);return GCe(n._query),NCe(t,n._query).then(s=>new QCe(e,r,n,s))}function tTe(n,e,t,...r){n=nu(n,Ks);const s=nu(n.firestore,Pp),i=bU(s);let o;return o=typeof(e=Wn(e))=="string"||e instanceof y_?zCe(i,"updateDoc",n._key,e,t,r):HCe(i,"updateDoc",n._key,e),Q1(s,[o.toMutation(n._key,di.exists(!0))])}function nTe(n){return Q1(nu(n.firestore,Pp),[new P1(n._key,di.none())])}function rTe(n,e){const t=nu(n.firestore,Pp),r=z1(n),s=qCe(n.converter,e);return Q1(t,[BCe(bU(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then(()=>r)}function Q1(n,e){return function(r,s){const i=new $a;return r.asyncQueue.enqueueAndForget(async()=>wCe(await DCe(r),s,i)),i.promise}(yU(n),e)}function sTe(){return new Y1("serverTimestamp")}(function(e,t=!0){(function(s){bd=s})(vd),Fc(new Xl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Pp(new qwe(r.getProvider("auth-internal")),new Jwe(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new me(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ma(UA,"4.7.3",e),Ma(UA,"4.7.3","esm2017")})();const iTe={apiKey:"AIzaSyB662kBup4nhIZUwUbUpiOvHO2dgknO6rc",authDomain:"dango-c161e.firebaseapp.com",projectId:"dango-c161e",storageBucket:"dango-c161e.firebasestorage.app",messagingSenderId:"837192116631",appId:"1:837192116631:web:a014f6ea1d544603547cd2"},OU=Tj(iTe),w_=Hwe(OU),E_=$Ce(OU),oTe=async(n,e)=>{try{return await O0e(w_,n,e)}catch(t){const r=t;throw console.error("Sign in error:",{code:r.code,message:r.message,name:r.name}),t}},aTe=async(n,e)=>{try{return await T0e(w_,n,e)}catch(t){const r=t;throw console.error("Sign up error:",{code:r.code,message:r.message,name:r.name}),t}},lTe=async()=>{try{await D0e(w_)}catch(n){throw n}},uTe=n=>A0e(w_,n),cTe=async(n,e)=>{try{await I0e(n,e)}catch(t){throw t}};class dTe{constructor(){Bp(this,"user",null);Bp(this,"loading",!0);Bp(this,"error",null);tz(this),this.initAuth()}initAuth(){console.log("Initializing auth state..."),uTe(e=>{console.log("Auth state changed:",(e==null?void 0:e.email)??"No user"),this.setUser(e),this.setLoading(!1)})}setUser(e){this.user=e}setLoading(e){this.loading=e}setError(e){this.error=e}async login(e,t){try{return await oTe(e,t),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async register(e,t){try{return await aTe(e,t),this.setError(null),!0}catch(r){const s=r;return this.setError(s.message),!1}}async logout(){try{return await lTe(),this.setError(null),!0}catch(e){const t=e;return this.setError(t.message),!1}}async updatePassword(e){try{if(!this.user)throw new Error("No user logged in");return await cTe(this.user,e),this.setError(null),!0}catch(t){const r=t;return this.setError(r.message),!1}}}const fn=new dTe;function hTe(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const SD={};function TS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&SD[e[0]]||(typeof e[0]=="string"&&(SD[e[0]]=new Date),hTe(...e))}const IU=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function CD(n,e,t){n.loadNamespaces(e,IU(n,t))}function TD(n,e,t,r){typeof t=="string"&&(t=[t]),t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,IU(n,r))}function fTe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=e.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(r,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,n)&&(!s||o(i,n)))}function pTe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(TS("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,n))return!1}}):fTe(n,e,t)}const gTe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,mTe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},yTe=n=>mTe[n],vTe=n=>n.replace(gTe,yTe);let OS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vTe};function _Te(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};OS={...OS,...n}}function bTe(){return OS}let PU;function wTe(n){PU=n}function ETe(){return PU}const STe={type:"3rdParty",init(n){_Te(n.options.react),wTe(n)}},CTe=D.createContext();class TTe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const OTe=(n,e)=>{const t=D.useRef();return D.useEffect(()=>{t.current=n},[n,e]),t.current};function xp(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:r,defaultNS:s}=D.useContext(CTe)||{},i=t||r||ETe();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new TTe),!i){TS("You will need to pass in an i18next instance by using initReactI18next");const E=(I,x)=>typeof x=="string"?x:x&&typeof x=="object"&&typeof x.defaultValue=="string"?x.defaultValue:Array.isArray(I)?I[I.length-1]:I,S=[E,{},!1];return S.t=E,S.i18n={},S.ready=!1,S}i.options.react&&i.options.react.wait!==void 0&&TS("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...bTe(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=s||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const d=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>pTe(E,i,o));function h(){return i.getFixedT(e.lng||null,o.nsMode==="fallback"?u:u[0],l)}const[f,m]=D.useState(h);let b=u.join();e.lng&&(b=`${e.lng}${b}`);const v=OTe(b),_=D.useRef(!0);D.useEffect(()=>{const{bindI18n:E,bindI18nStore:S}=o;_.current=!0,!d&&!a&&(e.lng?TD(i,e.lng,u,()=>{_.current&&m(h)}):CD(i,u,()=>{_.current&&m(h)})),d&&v&&v!==b&&_.current&&m(h);function I(){_.current&&m(h)}return E&&i&&i.on(E,I),S&&i&&i.store.on(S,I),()=>{_.current=!1,E&&i&&E.split(" ").forEach(x=>i.off(x,I)),S&&i&&S.split(" ").forEach(x=>i.store.off(x,I))}},[i,b]);const y=D.useRef(!0);D.useEffect(()=>{_.current&&!y.current&&m(h),y.current=!1},[i,l]);const w=[f,i,d];if(w.t=f,w.i18n=i,w.ready=d,d||!d&&!a)return w;throw new Promise(E=>{e.lng?TD(i,e.lng,u,()=>E()):CD(i,u,()=>E())})}const ITe="_layout_1cdv6_1",PTe="_content_1cdv6_8",xTe="_nav_1cdv6_13",RTe="_navItem_1cdv6_26",ATe="_active_1cdv6_38",Xd={layout:ITe,content:PTe,nav:xTe,navItem:RTe,active:ATe},DTe=({children:n})=>{const e=hL(),t=nv(),{t:r}=xp(),s=[{key:"/",text:r("nav.task")},{key:"/word",text:r("nav.wordlist")},{key:"/profile",text:r("nav.profile")}];return Z.jsxs("div",{className:Xd.layout,children:[Z.jsx("main",{className:Xd.content,children:n}),Z.jsx("nav",{className:Xd.nav,children:s.map(i=>Z.jsx("div",{className:`${Xd.navItem} ${t.pathname===i.key?Xd.active:""}`,onClick:()=>e(i.key),children:i.text},i.key))})]})},xU=async n=>{try{const e=mU(E_,`users/${n}/words`);return(await eTe(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching words:",e),e}},kTe=async(n,e)=>{try{const t=mU(E_,`users/${n}/words`);return(await rTe(t,{...e,createdAt:sTe()})).id}catch(t){throw console.error("Error adding word:",t),t}},NTe=async(n,e)=>{try{const t=z1(E_,`users/${n}/words/${e}`);await nTe(t)}catch(t){throw console.error("Error deleting word:",t),t}},LTe=async(n,e,t)=>{try{const r=z1(E_,`users/${n}/words/${e}`);await tTe(r,t)}catch(r){throw console.error("Error updating word:",r),r}},{Text:_0,Title:OD}=wi,Qd=[1,2,4,7,15,30,60],MTe=()=>{const{t:n}=xp(),[e,t]=D.useState([]),[r,s]=D.useState(!1),[i,o]=D.useState(null),a=D.useCallback(async()=>{var f;if((f=fn.user)!=null&&f.uid)try{const m=await xU(fn.user.uid);t(m);const b=m.filter(v=>v.nextReviewDate<=Date.now());o(b[0]||null)}catch(m){console.error("Error loading words from Firestore:",m)}},[]);D.useEffect(()=>{a()},[a]);const l=D.useCallback(async f=>{var m,b;if(i){const v=e.map(y=>{if(y.id===i.id){const w=f?Math.min(y.stage+1,Qd.length-1):Math.max(0,y.stage-1);return{...y,reviewCount:y.reviewCount+1,correctCount:f?y.correctCount+1:y.correctCount,stage:w,nextReviewDate:Date.now()+Qd[w]*24*60*60*1e3}}return y});try{if(!((m=fn.user)!=null&&m.uid))return;await LTe((b=fn.user)==null?void 0:b.uid,i.id,{reviewCount:i.reviewCount+1,correctCount:f?i.correctCount+1:i.correctCount,stage:f?Math.min(i.stage+1,Qd.length-1):Math.max(0,i.stage-1),nextReviewDate:Date.now()+Qd[Math.min(i.stage+1,Qd.length-1)]*24*60*60*1e3})}catch(y){console.error("Error updating word progress in Firestore:",y)}const _=v.filter(y=>y.nextReviewDate<=Date.now());o(_[0]||null),s(!1)}},[i,e]),d=D.useCallback(()=>{const f=e.reduce((v,_)=>v+_.reviewCount,0),m=e.reduce((v,_)=>v+_.correctCount,0);return{correctRate:f>0?m/f*100:0,totalReviews:f}},[e])(),h=e.filter(f=>f.nextReviewDate<=Date.now()).length;return Z.jsx("div",{className:"container safe-area-inset-bottom",children:Z.jsx(So,{className:"mt-lg",children:Z.jsxs(si,{vertical:!0,align:"center",spacing:"medium",style:{width:"100%"},children:[Z.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:Z.jsx(_0,{children:n("review.todayReview",{count:h})})}),Z.jsxs("div",{style:{width:"100%",textAlign:"center"},children:[Z.jsx(_f,{percent:d.correctRate,showInfo:!0,format:f=>n("review.correctRate",{rate:f.toFixed(1)})}),Z.jsx(_0,{type:"secondary",children:n("review.totalReviews",{count:d.totalReviews})})]}),Z.jsx("div",{style:{width:"100%",textAlign:"center",minHeight:"200px"},children:i?Z.jsxs(si,{vertical:!0,align:"center",spacing:"medium",children:[Z.jsx(OD,{heading:2,children:i.japanese}),r?Z.jsxs(Z.Fragment,{children:[Z.jsx(OD,{heading:3,children:i.chinese}),Z.jsxs(si,{children:[Z.jsx(Jt,{type:"warning",onClick:()=>l(!1),children:n("review.forgotten")}),Z.jsx(Jt,{type:"primary",onClick:()=>l(!0),children:n("review.remembered")})]})]}):Z.jsx(Jt,{type:"primary",onClick:()=>s(!0),children:n("review.showAnswer")})]}):Z.jsx("div",{style:{marginTop:"40px"},children:Z.jsx(_0,{type:"secondary",size:"normal",children:n("review.completed")})})})]})})})},{Text:Zd,Title:ID}=wi,$Te=hv(()=>{var f,m,b;const{t:n}=xp(),[e,t]=D.useState([]),[r,s]=D.useState(""),[i,o]=D.useState(""),[a,l]=D.useState(!0),u=D.useCallback(async()=>{var v;if((v=fn.user)!=null&&v.uid)try{const _=await xU(fn.user.uid);t(_)}catch(_){console.error("Error loading words:",_)}finally{l(!1)}},[(f=fn.user)==null?void 0:f.uid]);D.useEffect(()=>{u()},[u]);const d=D.useCallback(async v=>{var _;if(v.preventDefault(),!(!((_=fn.user)!=null&&_.uid)||!r.trim()||!i.trim()))try{const y={japanese:r.trim(),chinese:i.trim(),createdAt:Date.now(),nextReviewDate:Date.now(),reviewCount:0,correctCount:0,stage:0};await kTe(fn.user.uid,y),await u(),s(""),o("")}catch(y){console.error("Error adding word:",y)}},[r,i,(m=fn.user)==null?void 0:m.uid,u]),h=D.useCallback(async v=>{var _;if((_=fn.user)!=null&&_.uid)try{await NTe(fn.user.uid,v),await u()}catch(y){console.error("Error deleting word:",y)}},[(b=fn.user)==null?void 0:b.uid,u]);return fn.user?Z.jsx("div",{className:"container safe-area-inset-bottom",children:Z.jsx(So,{className:"mt-lg",children:Z.jsxs(si,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:[Z.jsx("form",{onSubmit:d,style:{width:"100%"},children:Z.jsxs(si,{vertical:!0,align:"start",spacing:"medium",style:{width:"100%"},children:[Z.jsx(Kn,{value:r,onChange:v=>s(v),placeholder:n("common.japanese"),style:{width:"100%"},showClear:!0}),Z.jsx(Kn,{value:i,onChange:v=>o(v),placeholder:n("common.chinese"),style:{width:"100%"},showClear:!0}),Z.jsx(Jt,{type:"primary",htmlType:"submit",style:{width:"100%"},children:n("common.addButton")})]})}),Z.jsxs("div",{style:{width:"100%",marginTop:"32px"},children:[Z.jsx(ID,{heading:4,style:{marginBottom:"16px"},children:n("addWord.listTitle")}),Z.jsx(si,{vertical:!0,align:"start",style:{width:"100%"},children:a?Z.jsx(Zd,{type:"tertiary",children:n("common.loading")}):e.length===0?Z.jsx(Zd,{type:"tertiary",children:n("addWord.emptyList")}):[...e].sort((v,_)=>_.createdAt-v.createdAt).map(v=>Z.jsx(So,{style:{width:"100%"},bodyStyle:{padding:"12px"},children:Z.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[Z.jsxs(si,{vertical:!0,align:"start",children:[Z.jsx(ID,{heading:5,children:v.japanese}),Z.jsx(Zd,{children:v.chinese}),Z.jsx(Zd,{type:"tertiary",size:"small",children:n("addWord.nextReview",{date:new Date(v.nextReviewDate).toLocaleDateString()})})]}),Z.jsx(Jt,{type:"danger",theme:"borderless",onClick:()=>h(v.id),children:n("common.deleteButton")})]})},v.id))})]})]})})}):Z.jsx("div",{className:"container safe-area-inset-bottom",children:Z.jsx(So,{className:"mt-lg",children:Z.jsx(Zd,{children:n("common.pleaseLogin")})})})}),FTe="_container_nplm0_1",jTe="_userInfo_nplm0_5",VTe="_email_nplm0_12",UTe="_actionSection_nplm0_17",BTe="_actionButton_nplm0_24",HTe="_version_nplm0_28",zTe="_modalFooter_nplm0_35",ra={container:FTe,userInfo:jTe,email:VTe,actionSection:UTe,actionButton:BTe,version:HTe,modalFooter:zTe},{Text:PD,Title:KTe}=wi,WTe=hv(()=>{const{t:n}=xp(),{user:e}=fn,[t,r]=D.useState(!1),[s,i]=D.useState(!1),o=D.useCallback(async()=>{try{await fn.logout(),da.success(n("profile.logoutSuccess"))}catch{da.error(n("profile.logoutError"))}},[n]),a=D.useCallback(async l=>{if(l.newPassword!==l.confirmPassword){da.error(n("profile.passwordMismatch"));return}i(!0);try{await fn.updatePassword(l.newPassword),da.success(n("profile.passwordUpdateSuccess")),r(!1)}catch{da.error(n("profile.passwordUpdateError"))}finally{i(!1)}},[n]);return Z.jsxs("div",{className:ra.container,children:[Z.jsxs(So,{className:ra.userInfo,children:[Z.jsx(KTe,{heading:3,children:n("profile.title")}),Z.jsx(PD,{className:ra.email,children:e==null?void 0:e.email})]}),Z.jsxs("div",{className:ra.actionSection,children:[Z.jsx(Jt,{theme:"solid",type:"primary",className:ra.actionButton,onClick:()=>r(!0),children:n("profile.changePassword")}),Z.jsx(Jt,{theme:"solid",type:"danger",className:ra.actionButton,onClick:o,children:n("profile.logoutButton")})]}),Z.jsx(PD,{className:ra.version,children:"Version 1.0.0"}),Z.jsx(ms,{title:n("profile.changePassword"),visible:t,onCancel:()=>r(!1),footer:null,children:Z.jsxs(xt,{onSubmit:a,children:[Z.jsx(xt.Input,{field:"newPassword",label:n("profile.newPassword"),type:"password",rules:[{required:!0,message:n("profile.passwordRequired")},{min:6,message:n("profile.passwordMinLength")}]}),Z.jsx(xt.Input,{field:"confirmPassword",label:n("profile.confirmPassword"),type:"password",rules:[{required:!0,message:n("profile.confirmPasswordRequired")}]}),Z.jsxs("div",{className:ra.modalFooter,children:[Z.jsx(Jt,{type:"tertiary",onClick:()=>r(!1),children:n("common.cancel")}),Z.jsx(Jt,{htmlType:"submit",type:"primary",loading:s,children:n("common.confirm")})]})]})})]})}),GTe="_container_110qu_1",YTe="_card_110qu_10",qTe="_title_110qu_15",XTe="_form_110qu_20",QTe="_input_110qu_26",ZTe="_button_110qu_30",JTe="_switchButton_110qu_34",sa={container:GTe,card:YTe,title:qTe,form:XTe,input:QTe,button:ZTe,switchButton:JTe},{Title:e1e}=wi,t1e=hv(()=>{const{t:n}=xp(),[e,t]=D.useState(""),[r,s]=D.useState(""),[i,o]=D.useState(!0),a=D.useCallback(()=>{o(u=>!u)},[]),l=D.useCallback(async u=>{if(u.preventDefault(),!e||!r){da.error(n("login.errorMessages.emailRequired")+" "+n("login.errorMessages.passwordRequired"));return}(i?await fn.login(e,r):await fn.register(e,r))?da.success(n(i?"login.successMessages.loginSuccess":"login.successMessages.registerSuccess")):da.error(n(i?"login.errorMessages.loginFailed":"login.errorMessages.registerFailed"))},[e,r,i,n]);return Z.jsx("div",{className:sa.container,children:Z.jsxs(So,{className:sa.card,children:[Z.jsx(e1e,{heading:3,className:sa.title,children:n(i?"login.title.login":"login.title.register")}),Z.jsxs("form",{onSubmit:l,className:sa.form,children:[Z.jsx(Kn,{type:"email",placeholder:n("login.placeholder.email"),value:e,onChange:t,className:sa.input}),Z.jsx(Kn,{type:"password",placeholder:n("login.placeholder.password"),value:r,onChange:s,className:sa.input}),Z.jsx(Jt,{type:"primary",htmlType:"submit",block:!0,className:sa.button,children:n(i?"login.button.login":"login.button.register")}),Z.jsx(Jt,{type:"tertiary",block:!0,onClick:a,className:sa.switchButton,children:n(i?"login.button.switchToRegister":"login.button.switchToLogin")})]})]})})}),b0=({element:n})=>fn.user?n:Z.jsx(yw,{to:"/login",replace:!0}),n1e=hv(()=>fn.loading?Z.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Z.jsx(Zi,{size:"large"})}):fn.user?Z.jsx(DTe,{children:Z.jsxs(XI,{children:[Z.jsx(cl,{path:"/",element:Z.jsx(b0,{element:Z.jsx(MTe,{})})}),Z.jsx(cl,{path:"/word",element:Z.jsx(b0,{element:Z.jsx($Te,{})})}),Z.jsx(cl,{path:"/profile",element:Z.jsx(b0,{element:Z.jsx(WTe,{})})}),Z.jsx(cl,{path:"*",element:Z.jsx(yw,{to:"/",replace:!0})})]})}):Z.jsxs(XI,{children:[Z.jsx(cl,{path:"/login",element:Z.jsx(t1e,{})}),Z.jsx(cl,{path:"*",element:Z.jsx(yw,{to:"/login",replace:!0})})]})),Oe=n=>typeof n=="string",Jd=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},xD=n=>n==null?"":""+n,r1e=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},s1e=/###/g,RD=n=>n&&n.indexOf("###")>-1?n.replace(s1e,"."):n,AD=n=>!n||Oe(n),Lh=(n,e,t)=>{const r=Oe(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(AD(n))return{};const i=RD(r[s]);!n[i]&&t&&(n[i]=new t),Object.prototype.hasOwnProperty.call(n,i)?n=n[i]:n={},++s}return AD(n)?{}:{obj:n,k:RD(r[s])}},DD=(n,e,t)=>{const{obj:r,k:s}=Lh(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=Lh(n,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=Lh(n,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=t},i1e=(n,e,t,r)=>{const{obj:s,k:i}=Lh(n,e,Object);s[i]=s[i]||[],s[i].push(t)},Ly=(n,e)=>{const{obj:t,k:r}=Lh(n,e);if(t)return t[r]},o1e=(n,e,t)=>{const r=Ly(n,t);return r!==void 0?r:Ly(e,t)},RU=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Oe(n[r])||n[r]instanceof String||Oe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):RU(n[r],e[r],t):n[r]=e[r]);return n},Lu=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a1e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const l1e=n=>Oe(n)?n.replace(/[&<>"'\/]/g,e=>a1e[e]):n;class u1e{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const c1e=[" ",",","?","!",";"],d1e=new u1e(20),h1e=(n,e,t)=>{e=e||"",t=t||"";const r=c1e.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(r.length===0)return!0;const s=d1e.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(n);if(!i){const o=n.indexOf(t);o>0&&!s.test(n.substring(0,o))&&(i=!0)}return i},IS=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=t),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},My=n=>n&&n.replace("_","-"),f1e={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class $y{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||f1e,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(Oe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new $y(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new $y(this.logger,e)}}var $i=new $y;class S_{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a.apply(a,[e,...r])})}}class kD extends S_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):Oe(r)&&i?a.push(...r.split(i)):a.push(r)));const l=Ly(this.data,a);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),l||!o||!Oe(r)?l:IS(this.data&&this.data[e]&&this.data[e][t],r,i)}addResource(e,t,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=t,t=a[1]),this.addNamespaces(t),DD(this.data,a,s),i.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(Oe(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=t,t=a[1]),this.addNamespaces(t);let l=Ly(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?RU(l,r,i):l={...l,...r},DD(this.data,a,l),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var AU={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,t,r,s))}),e}};const ND={};class Fy extends S_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),r1e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=$i.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!h1e(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Oe(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:Oe(i)?[i]:i}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],u=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const S=t.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${S}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${S}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:o}const h=this.resolve(e,t);let f=h&&h.res;const m=h&&h.usedKey||o,b=h&&h.exactUsedKey||o,v=Object.prototype.toString.apply(f),_=["[object Number]","[object Function]","[object RegExp]"],y=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,E=!Oe(f)&&typeof f!="boolean"&&typeof f!="number";if(w&&f&&E&&_.indexOf(v)<0&&!(Oe(y)&&Array.isArray(f))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,f,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=S,h.usedParams=this.getUsedParamsDetails(t),h):S}if(i){const S=Array.isArray(f),I=S?[]:{},x=S?b:m;for(const O in f)if(Object.prototype.hasOwnProperty.call(f,O)){const T=`${x}${i}${O}`;I[O]=this.translate(T,{...t,joinArrays:!1,ns:a}),I[O]===T&&(I[O]=f[O])}f=I}}else if(w&&Oe(y)&&Array.isArray(f))f=f.join(y),f&&(f=this.extendTranslation(f,e,t,r));else{let S=!1,I=!1;const x=t.count!==void 0&&!Oe(t.count),O=Fy.hasDefaultValue(t),T=x?this.pluralResolver.getSuffix(u,t.count,t):"",P=t.ordinal&&x?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",A=x&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),k=A&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${T}`]||t[`defaultValue${P}`]||t.defaultValue;!this.isValidLookup(f)&&O&&(S=!0,f=k),this.isValidLookup(f)||(I=!0,f=o);const N=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:f,K=O&&k!==f&&this.options.updateMissing;if(I||S||K){if(this.logger.log(K?"updateKey":"missingKey",u,l,o,K?k:f),i){const j=this.resolve(o,{...t,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let j=0;j<z.length;j++)G.push(z[j]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(t.lng||this.language):G.push(t.lng||this.language);const ee=(j,H,U)=>{const oe=O&&U!==f?U:N;this.options.missingKeyHandler?this.options.missingKeyHandler(j,l,H,oe,K,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(j,l,H,oe,K,t),this.emit("missingKey",j,l,H,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?G.forEach(j=>{const H=this.pluralResolver.getSuffixes(j,t);A&&t[`defaultValue${this.options.pluralSeparator}zero`]&&H.indexOf(`${this.options.pluralSeparator}zero`)<0&&H.push(`${this.options.pluralSeparator}zero`),H.forEach(U=>{ee([j],o+U,t[`defaultValue${U}`]||k)})}):ee(G,o,k))}f=this.extendTranslation(f,e,t,h,r),I&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${o}`),(I||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,S?f:void 0):f=this.options.parseMissingKeyHandler(f))}return s?(h.res=f,h.usedParams=this.getUsedParamsDetails(t),h):f}extendTranslation(e,t,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Oe(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=r.replace&&!Oe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const f=e.match(this.interpolator.nestingRegexp),m=f&&f.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,m=new Array(f),b=0;b<f;b++)m[b]=arguments[b];return i&&i[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):o.translate(...m,t)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=Oe(a)?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=AU.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,a;return Oe(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,t),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=t.count!==void 0&&!Oe(t.count),m=f&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),b=t.context!==void 0&&(Oe(t.context)||typeof t.context=="number")&&t.context!=="",v=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(_=>{this.isValidLookup(r)||(a=_,!ND[`${v[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(ND[`${v[0]}-${_}`]=!0,this.logger.warn(`key "${s}" for languages "${v.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(y=>{if(this.isValidLookup(r))return;o=y;const w=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,y,_,t);else{let S;f&&(S=this.pluralResolver.getSuffix(y,t.count,t));const I=`${this.options.pluralSeparator}zero`,x=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(w.push(d+S),t.ordinal&&S.indexOf(x)===0&&w.push(d+S.replace(x,this.options.pluralSeparator)),m&&w.push(d+I)),b){const O=`${d}${this.options.contextSeparator}${t.context}`;w.push(O),f&&(w.push(O+S),t.ordinal&&S.indexOf(x)===0&&w.push(O+S.replace(x,this.options.pluralSeparator)),m&&w.push(O+I))}}let E;for(;E=w.pop();)this.isValidLookup(r)||(i=E,r=this.getResource(y,_,E,t))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Oe(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of t)delete s[i]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}const w0=n=>n.charAt(0).toUpperCase()+n.slice(1);class LD{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$i.create("languageUtils")}getScriptPartFromCode(e){if(e=My(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=My(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Oe(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=w0(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=w0(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=w0(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Oe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Oe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Oe(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let p1e=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],g1e={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const m1e=["v1","v2","v3"],y1e=["v4"],MD={zero:0,one:1,two:2,few:3,many:4,other:5},v1e=()=>{const n={};return p1e.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:g1e[e.fc]}})}),n};class _1e{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=$i.create("pluralResolver"),(!this.options.compatibilityJSON||y1e.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=v1e(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=My(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,t)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>MD[s]-MD[i]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!m1e.includes(this.options.compatibilityJSON)}}const $D=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=o1e(n,e,t);return!i&&s&&Oe(t)&&(i=IS(n,t,r),i===void 0&&(i=IS(e,t,r))),i},E0=n=>n.replace(/\$/g,"$$$$");class b1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=$i.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:m,nestingSuffix:b,nestingSuffixEscaped:v,nestingOptionsSeparator:_,maxReplaces:y,alwaysFormat:w}=e.interpolation;this.escape=t!==void 0?t:l1e,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Lu(i):o||"{{",this.suffix=a?Lu(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?Lu(f):m||Lu("$t("),this.nestingSuffix=b?Lu(b):v||Lu(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=y||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const y=$D(t,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...s,...t,interpolationkey:m}):y}const b=m.split(this.formatSeparator),v=b.shift().trim(),_=b.join(this.formatSeparator).trim();return this.format($D(t,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...s,...t,interpolationkey:v})};this.resetRegExp();const d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>E0(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?E0(this.escape(m)):E0(m)}].forEach(m=>{for(a=0;i=m.regex.exec(e);){const b=i[1].trim();if(o=u(b),o===void 0)if(typeof d=="function"){const _=d(e,i,s);o=Oe(_)?_:""}else if(s&&Object.prototype.hasOwnProperty.call(s,b))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),o="";else!Oe(o)&&!this.useRawValueToEscape&&(o=xD(o));const v=m.safeValue(o);if(e=e.replace(i[0],v),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;const a=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,o);const m=f.match(/'/g),b=f.match(/"/g);(m&&m.length%2===0&&!b||b.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${d}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!Oe(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=d.shift(),l=d,u=!0}if(i=t(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!Oe(i))return i;Oe(i)||(i=xD(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const w1e=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();t[d]||(t[d]=u),u==="false"&&(t[d]=!1),u==="true"&&(t[d]=!0),isNaN(u)||(t[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},Mu=n=>{const e={};return(t,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=n(My(r),s),e[o]=a),a(t)}};class E1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=$i.create("formatter"),this.options=e,this.formats={number:Mu((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return i=>s.format(i)}),currency:Mu((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return i=>s.format(i)}),datetime:Mu((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return i=>s.format(i)}),relativetime:Mu((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return i=>s.format(i,r.range||"day")}),list:Mu((t,r)=>{const s=new Intl.ListFormat(t,{...r});return i=>s.format(i)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Mu(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{const{formatName:u,formatOptions:d}=w1e(l);if(this.formats[u]){let h=a;try{const f=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},m=f.locale||f.lng||s.locale||s.lng||r;h=this.formats[u](a,m,{...d,...s,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const S1e=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class C1e extends S_{constructor(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=$i.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,t,r,s){const i={},o={},a={},l={};return e.forEach(u=>{let d=!0;t.forEach(h=>{const f=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,d=!1,o[f]===void 0&&(o[f]=!0),i[f]===void 0&&(i[f]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const s=e.split("|"),i=s[0],o=s[1];t&&this.emit("failedLoading",i,o,t),!t&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{i1e(l.loaded,[i],o),S1e(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const d=l.loaded[u];d.length&&d.forEach(h=>{a[u][h]===void 0&&(a[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,i*2,o)},i);return}o(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(d=>a(null,d)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,t,a)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Oe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Oe(t)&&(t=[t]);const i=this.queueLoad(e,t,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,t,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,t,r,s,l):d=u(e,t,r,s),d&&typeof d.then=="function"?d.then(h=>a(null,h)).catch(a):a(null,d)}catch(d){a(d)}else u(e,t,r,s,a,l)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const FD=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Oe(n[1])&&(e.defaultValue=n[1]),Oe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),jD=n=>(Oe(n.ns)&&(n.ns=[n.ns]),Oe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Oe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),Dg=()=>{},T1e=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Af extends S_{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=jD(e),this.services={},this.logger=$i,this.modules={external:[]},T1e(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(Oe(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=FD();this.options={...s,...this.options,...jD(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?$i.init(i(this.modules.logger),this.options):$i.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=E1e);const h=new LD(this.options);this.store=new kD(this.options.resources,this.options);const f=this.services;f.logger=$i,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new _1e(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=i(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new b1e(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new C1e(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(m){for(var b=arguments.length,v=new Array(b>1?b-1:0),_=1;_<b;_++)v[_-1]=arguments[_];e.emit(m,...v)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Fy(this.services,this.options),this.translator.on("*",function(m){for(var b=arguments.length,v=new Array(b>1?b-1:0),_=1;_<b;_++)v[_-1]=arguments[_];e.emit(m,...v)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Dg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=Jd(),u=()=>{const d=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dg;const s=Oe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,t,r){const s=Jd();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Dg),this.services.backendConnector.reload(e,t,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&AU.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=Jd();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=Oe(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{o(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),s}getFixedT(e,t,r){var s=this;const i=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([o,a].concat(d))}else l={...a};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const f=s.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(o)?m=o.map(b=>`${l.keyPrefix}${f}${b}`):m=l.keyPrefix?`${l.keyPrefix}${f}${o}`:o,s.t(m,l)};return Oe(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,t){const r=Jd();return this.options.ns?(Oe(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Jd();Oe(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new LD(FD());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Af(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dg;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Af(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new kD(this.store.data,s),i.services.resourceStore=i.store),i.translator=new Fy(i.services,s),i.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];i.emit(a,...u)}),i.init(s,t),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Tr=Af.createInstance();Tr.createInstance=Af.createInstance;Tr.createInstance;Tr.dir;Tr.init;Tr.loadResources;Tr.reloadResources;Tr.use;Tr.changeLanguage;Tr.getFixedT;Tr.t;Tr.exists;Tr.setDefaultNamespace;Tr.hasLoadedNamespace;Tr.loadNamespaces;Tr.loadLanguages;var DU=[],O1e=DU.forEach,I1e=DU.slice;function P1e(n){return O1e.call(I1e.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var VD=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,x1e=function(e,t,r){var s=r||{};s.path=s.path||"/";var i=encodeURIComponent(t),o="".concat(e,"=").concat(i);if(s.maxAge>0){var a=s.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(s.domain){if(!VD.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!VD.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var l=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},UD={create:function(e,t,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=x1e(e,encodeURIComponent(t),i)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var i=r[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},R1e={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=UD.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&UD.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},A1e={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),i=s.split("&"),o=0;o<i.length;o++){var a=i[o].indexOf("=");if(a>0){var l=i[o].substring(0,a);l===e.lookupQuerystring&&(t=i[o].substring(a+1))}}}return t}},eh=null,BD=function(){if(eh!==null)return eh;try{eh=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{eh=!1}return eh},D1e={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&BD()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&BD()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},th=null,HD=function(){if(th!==null)return th;try{th=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{th=!1}return th},k1e={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&HD()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&HD()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},N1e={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},L1e={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},M1e={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},$1e={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}},kU=!1;try{document.cookie,kU=!0}catch{}var NU=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];kU||NU.splice(1,1);function F1e(){return{order:NU,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var LU=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};He(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return ze(n,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=P1e(r,this.options||{},F1e()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(R1e),this.addDetector(A1e),this.addDetector(D1e),this.addDetector(k1e),this.addDetector(N1e),this.addDetector(L1e),this.addDetector(M1e),this.addDetector($1e)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var s=[];return t.forEach(function(i){if(r.detectors[i]){var o=r.detectors[i].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),s=s.map(function(i){return r.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(t,s.options)}))}}])}();LU.type="languageDetector";const j1e={common:{ok:"",cancel:"",confirm:"",backButton:"",japanese:"",chinese:"",addButton:"",deleteButton:"",loading:"..."},nav:{task:"",wordlist:"",profile:""},review:{addButton:"",todayReview:": {{count}}",correctRate:": {{rate}}%",totalReviews:": {{count}}",showAnswer:"",remembered:"",forgotten:"",completed:""},addWord:{listTitle:"",emptyList:"",nextReview:": {{date}}",deleteConfirm:{title:"",content:""}},profile:{title:"",logoutButton:"",logoutSuccess:"",logoutError:"",changePassword:"",newPassword:"",confirmPassword:"",passwordRequired:"",confirmPasswordRequired:"",passwordMinLength:"6",passwordMismatch:"",passwordUpdateSuccess:"",passwordUpdateError:""},login:{title:{login:"",register:""},placeholder:{email:"",password:""},button:{login:"",register:"",switchToRegister:"",switchToLogin:""},errorMessages:{emailRequired:"",passwordRequired:"",loginFailed:"",registerFailed:""},successMessages:{loginSuccess:"",registerSuccess:""}}};Tr.use(LU).use(STe).init({resources:{ja:{translation:j1e}},fallbackLng:"ja",interpolation:{escapeValue:!1}});S0.createRoot(document.getElementById("root")).render(Z.jsx(g.StrictMode,{children:Z.jsx(b5,{children:Z.jsx(n1e,{})})}));
